<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="é£ç¼å›Â·ä¸ªäººåšå®¢">
<meta name="description" content="é£ç¼å›ä¸ªäººåšå®¢ï¼Œè®°å½•æ—¥å¸¸å­¦ä¹ ç¬”è®°ã€é¡¹ç›®ç»éªŒç­‰">
<meta name="theme-color" content="#000">
<title>é£ç¼å›Â·WebOS</title>
<link rel="shortcut icon" href="/favicon.ico?v=1633705903665">
<link rel="stylesheet" href="/media/css/gemini.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/androidstudio.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>




<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?&lt;script&gt; var _hmt = _hmt || []; (function() {   var hm = document.createElement(&#34;script&#34;);   hm.src = &#34;https://hm.baidu.com/hm.js?5c912626dffb7cf525cd2e85591b7fbd&#34;;   var s = document.getElementsByTagName(&#34;script&#34;)[0];    s.parentNode.insertBefore(hm, s); })(); &lt;/script&gt;";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>


</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="gemini">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>é£ç¼å›Â·WebOS</span>
            </a>  
          
        </div>
        
          <p class="subtitle">=== ä¿¡ä¸ä¿¡ç”±ä½  ===</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
            <li class="nav-item nav-item-active">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/post/about/" target="_self">
                  <i class="fa fa-user"></i> å…³äº
                </a>
              
            </li>
          
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">æœç´¢</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout gemini ">
      <div class="section-layout-wrapper">
        <div id="sidebarMeta" class="sidebar">
    
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">é£ç¼å›</p>
    
    <div class="site-description right-motion">
      
      
      
        <p>æœªç»ä»–äººè‹¦ï¼Œè«åŠä»–äººå–„</p>
      
        <p>è½»è¯ºå¿…å¯¡ä¿¡ï¼Œå¤šæ˜“å¿…å¤šéš¾</p>
      
        <p>ä¸ç¾¡æ…•ã€ä¸å·´ç»“</p>
      
        <p>ä¸æƒ³æ”¹å˜è°ã€ä¹Ÿä¸åœ¨ä¹è¯„ä»·</p>
      
        <p>ä¸è®¨å¥½å­¤åƒ»æ¸…é«˜ä¹‹äºº</p>
      
        <p>ä¸ç»´æŒå¿ƒç´¯çš„å…³ç³»</p>
      
        <p>è°å¯¹æˆ‘å¥½æˆ‘å°±å¯¹è°å¥½</p>
      
        <p>å‡¡äº‹å…ˆå–å†³äºè‡ªèº«æ„Ÿå—</p>
      
        <p>è‡³äºå…¶ä»–çš„åˆ™çœ‹å¿ƒæƒ…ã€çœ‹äº¤æƒ…</p>
      
      
    </div>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">259</span>
        <span class="site-item-stat-name language" data-lan="article">æ–‡ç« </span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">21</span>
        <span class="site-item-stat-name language" data-lan="category">åˆ†ç±»</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">21</span>
        <span class="site-item-stat-name language" data-lan="tag">æ ‡ç­¾</span>
      </a>
    </div>
  </div>
  
    
  
  

  



  <div style="width: 100%; position: relative;">
    <canvas id="canvasDiyBlock" style="width:100%;">å½“å‰æµè§ˆå™¨ä¸æ”¯æŒcanvasï¼Œè¯·æ›´æ¢æµè§ˆå™¨åå†è¯•</canvas>
    <script src="/media/js/magic/clock.js"></script>
  </div>

</div>
</div>
<script>
  let sidebarMeta = document.querySelector('#sidebarMeta');
  let scheme = 'gemini';
  let sidebarWrapper = document.querySelector('.sidebar-wrapper');
  if (sidebarMeta && (scheme === 'pisces' || scheme === 'gemini')) {
    document.addEventListener('scroll', function(e) {
      if (document.scrollingElement.scrollTop > parseInt(sidebarMeta.style.marginTop) + 10) {
        sidebarWrapper.classList.add('home-sidebar-fixed')
      } else {
        sidebarWrapper.classList.remove('home-sidebar-fixed')
      }
    });
  }
  </script>
        <div class="section-box gemini">
          <section class="section  posts-expand slide-down-in">
            
  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/nfs-fu-wu-duan-he-ke-hu-duan-da-jian/">
      NFSæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ­å»º
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:53:50">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>8<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1708<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/nfs-fu-wu-duan-he-ke-hu-duan-da-jian/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/nextcloud-da-jian/">
      NextCloud+OnlyOfficeæ­å»º
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:51:45">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>17<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>2945<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/nextcloud-da-jian/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/gitlab-bu-shu-ji-han-hua/">
      Gitlabéƒ¨ç½²åŠæ±‰åŒ–
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:50:26">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/git/">
        <span>Git</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>4<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>678<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p>
            
            
            
          
            <p>gitlabéƒ¨ç½²</p>

            
            
            
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/gitlab-bu-shu-ji-han-hua/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/centos7-yuan-ma-an-zhuang-php7/">
      Centos7æºç å®‰è£…php7
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:49:11">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>3<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>508<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p>
            
            
            
          
            <p>php7</p>

            
            
            
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/centos7-yuan-ma-an-zhuang-php7/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/shu-mei-pai-cong-ling-kai-shi-da-jian-lnmp/">
      æ ‘è“æ´¾ä»é›¶å¼€å§‹æ­å»ºLNMPï¼ˆcentos7ï¼‰
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:44:20">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/-IpQv0S4C/">
        <span>æ ‘è“æ´¾</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>9<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1511<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p><h3 id="ç³»ç»Ÿå®‰è£…">ç³»ç»Ÿå®‰è£…</h3>
<ol>
<li>ä¸‹è½½é•œåƒå¹¶è§£å‹<br>
<a href="http://mirrors.huaweicloud.com/centos-altarch/7.7.1908/isos/armhfp/CentOS-Userland-7-armv7hl-RaspberryPI-Minimal-1908-sda.raw.xz">http://mirrors.huaweicloud.com/centos-altarch/7.7.1908/isos/armhfp/CentOS-Userland-7-armv7hl-RaspberryPI-Minimal-1908-sda.raw.xz</a><br>
ä¸‹è½½å®Œæˆåä½¿ç”¨7-zipè½¯ä»¶å°†é•œåƒè§£å‹æˆrawæ–‡ä»¶</li>
<li>ä½¿ç”¨DiskGeniuså°†SDå¡ï¼ˆorUç›˜ï¼‰æ ¼å¼åŒ–<br>
<code>é»˜è®¤ä¼šæ·»åŠ ç›˜ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ </code></li>
<li>ä½¿ç”¨Win32DiskImagerå°†rawæ–‡ä»¶åˆ·å…¥SDå¡<br>
<code>é€‰æ‹©æ–‡ä»¶æ—¶é»˜è®¤ä¸ºimgæ–‡ä»¶ï¼Œä¸‹æ‹‰é€‰æ‹©æ‰€æœ‰æ–‡ä»¶å³å¯é€‰æ‹©åˆšæ‰è§£å‹çš„rawæ–‡ä»¶</code></li>
<li>é•œåƒåˆ·å…¥æˆåŠŸåï¼Œæ‰“å¼€SDå¡ä¸­æ–‡ä»¶cmdline.txtï¼Œåœ¨å¤´éƒ¨æ’å…¥ip=&quot;ä½ è¦è®¾ç½®çš„IP&quot;ï¼Œåé¢åŠ ç©ºæ ¼<br>
<code>æ­¤æ­¥å¯ä»¥çœç•¥ã€‚æ ‘è“æ´¾IPå¯ä»¥ç™»å½•è·¯ç”±å™¨ä¸ŠæŸ¥æ‰¾ã€‚</code></li>
<li>é»˜è®¤ç”¨æˆ·åï¼ˆrootï¼‰å’Œå¯†ç ï¼ˆcentosï¼‰</li>
</ol>
<h3 id="æ‰©å±•å†…å­˜ç©ºé—´">æ‰©å±•å†…å­˜ç©ºé—´</h3>

            
            
            
          
            <p>ä½¿ç”¨ç»ˆç«¯ç™»å½•ä¹‹åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<pre><code class="language-shell">fdisk /dev/mmcblk0  # è¿›å…¥ç£ç›˜åˆ†åŒºshell
 # æŸ¥çœ‹ç›®å‰åˆ†åŒºæƒ…å†µï¼Œæœ‰ä¸‰ä¸ªmmcblk0p1~3
&gt; p 
# åˆ é™¤æœ€åä¸€ä¸ªåˆ†åŒºï¼Œä¹‹åç›´æ¥æŒ‰enterå³å¯
&gt; d  
# æŸ¥çœ‹æ˜¯å¦åˆ é™¤æˆåŠŸ
&gt; p 
# æ–°å»ºåˆ†åŒº 
&gt; n 
# é€‰æ‹©ä¸»åˆ†åŒºï¼Œå› ä¸ºåˆšæ‰åˆ é™¤çš„å°±æ˜¯ä¸»åˆ†åŒºï¼Œåˆ†åŒºå·ï¼ˆPartition numberï¼‰é»˜è®¤æ˜¯3 
&gt; p  
# .......... æ³¨æ„ .......
# ä¸‹é¢çœ‹æ¸…æ¥šï¼šé»˜è®¤çš„èµ·å§‹sectorå¦‚æœæ˜¯2048ï¼Œåˆ™éœ€è¦è¾“å…¥åˆ†åŒº2ï¼ˆmmcblk0p2ï¼‰ç»“æŸï¼ˆEndï¼‰å—åŒº+1ï¼Œç„¶åä¸€ç›´enderä¸‹å»å³å¯ï¼›å¦åˆ™ä¸€ç›´enterå³å¯
#é€€å‡ºå¹¶ä¿å­˜åˆ†åŒº
&gt; w 
# .......... æ³¨æ„ .......
# æ­¤æ—¶å·²ç»å›åˆ°centos7çš„shellï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¦åˆ™** æ— æ³•å¼€æœº **
touch /.rootfs-repartition  
# é‡å¯ç³»ç»Ÿ
 systemctl reboot
# å¼€æœºä¹‹åæ‰§è¡Œï¼Œé‡æ–°åŠ è½½åˆ†åŒºä¿¡æ¯
resize2fs /dev/mmcblk0p3
# æŸ¥çœ‹åˆ†åŒºä¿¡æ¯
df -h
lsblk
</code></pre>
<h3 id="æ›´æ¢yumæº">æ›´æ¢yumæº</h3>
<pre><code class="language-shell">mkdir -p /etc/yum.repos.d/bak
mv /etc/yum.repos.d/* /etc/yum.repos.d/bak
cat &gt;/etc/yum.repos.d/development.repo &lt;&lt;EOF
[base]
name=CentOS-\$releasever - Base
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/os/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32

[updates]
name=CentOS-\$releasever - Updates
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/updates/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
 
[extras]
name=CentOS-\$releasever - Extras
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/extras/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
 
[centosplus]
name=CentOS-\$releasever - Plus
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/centosplus/\$basearch/
gpgcheck=1
enabled=0
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
EOF
yum makecache
</code></pre>
<h3 id="æš‚æ—¶å…³é—­selinuxå’Œé˜²ç«å¢™">æš‚æ—¶å…³é—­selinuxå’Œé˜²ç«å¢™</h3>
<pre><code class="language-shell">sed -i 's/SELINUX=enforcing/SELINUX=disabled/g'  /etc/selinux/config
setenforce 0
systemctl disable firewalld
systemctl stop firewalld
</code></pre>
<h3 id="é¡ºåºéƒ¨ç½²php-nginx-mysql">é¡ºåºéƒ¨ç½²phpã€nginxã€mysql</h3>
<h4 id="php">php</h4>
<ol>
<li>ç¼–è¯‘å®‰è£…</li>
</ol>
<pre><code class="language-shell"></code></pre>

            
            
            
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/shu-mei-pai-cong-ling-kai-shi-da-jian-lnmp/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/wang-luo-xiang-guan/">
      ç½‘ç»œç›¸å…³
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:25:17">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>1<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>109<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/wang-luo-xiang-guan/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/shi-yong-wget-bei-fen-wang-zhan/">
      ä½¿ç”¨wgetå¤‡ä»½ç½‘ç«™
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:23:41">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>7<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1600<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p>
            
            
            
          
            <p>wgetå‘½ä»¤è¯¦è§£ä»¥åŠå¸¸ç”¨ç»„åˆ</p>

            
            
            
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/shi-yong-wget-bei-fen-wang-zhan/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/centos7-xi-tong-ru-he-qing-kong-ying-pan-shu-ju/">
      Centos7ç³»ç»Ÿå¦‚ä½•æ¸…ç©ºç¡¬ç›˜æ•°æ®
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2020-04-01 22:20:55">2020-04-01</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/nAh6_wabP/">
        <span>linuxè¿ç»´</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>1<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>257<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p>
            
            
            
          
            <p>Linuxç³»ç»Ÿç£ç›˜æ ¼å¼åŒ–</p>

            
            
            
          
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/centos7-xi-tong-ru-he-qing-kong-ying-pan-shu-ju/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>

  <article class="post-list-box  post box-shadow-wrapper">
    <div class="article-wrapper bg-color">
      <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://fqj-web.github.io/post/hello-gridea/">
      Hello Gridea
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2018-12-12 00:00:00">2018-12-12</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-folder-o"></i>
      <span class="pc-show language" data-lan="category-in">åˆ†ç±»äº</span>
      
      
      <a href="https://fqj-web.github.io/tag/gridea/">
        <span>Gridea</span>
      </a>
      
      
    </span>
    <span class="post-meta-divider">|</span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>2<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>298<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
      <div class="post-body">
        
        
          
          
            <p>
            
            
            
          
            <p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>

            
            
            
          
          
            <img src="/post-images/hello-gridea.png"/>
          
        
        
        <div class="post-button text-center">
          <a class="btn language" data-lan="read-more" href="https://fqj-web.github.io/post/hello-gridea/" rel="contents">
            é˜…è¯»å…¨æ–‡ Â»
          </a>
        </div>
        
      </div>
      
    </div>
  </article>
  
            
            
<div class="page bg-color">
  <ul class="pagination-ul">
    
      <li class="pagination-dir">
        <a href="https://fqj-web.github.io/page/5/">
          <i class="fa fa-angle-left"></i>
        </a>
      </li>
    
    
      <!-- 1 2 3 4 ... N -->
      
        <!-- 1 ... N-2 N-1 N-->
        <li class="pagination-li">
          <a href="/">1</a>
        </li>
        <li class="pagination-li">
          â€¦
        </li>
        
          <li class="pagination-li ">
            <a href="/page/4">
              4
            </a>
          </li>
        
          <li class="pagination-li ">
            <a href="/page/5">
              5
            </a>
          </li>
        
          <li class="pagination-li pagination-active">
            <a href="#">
              6
            </a>
          </li>
        
      
    
    
  </ul>
</div>
          </section>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      <b>å›½å†…è®¿é—®ï¼š</b><a href="https://fqj-web.gitee.io/" target="_blank">Gitee</a>&nbsp;&nbsp;<b>å›½å¤–è®¿é—®ï¼š</b><a href="https://fqj-web.github.io/" target="_blank">GitHub</a>
    </div>
  </footer>
  
  
  <div class="gemini back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'true'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();
  
  // ç¦»å¼€å½“å‰é¡µtitleå˜åŒ–
  var leaveTitle = "";
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px;border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="æœç´¢">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">æ¡ç›¸å…³æ¡ç›®ï¼Œä½¿ç”¨äº†</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">æ¯«ç§’</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/github-you-zhi-xiang-mu-ji-lu/"" data-c="
          &lt;p&gt;è®°å½•å·²ç»ç”¨è¿‡ä¸”æ¯”è¾ƒå¥½ç”¨çš„å¼€æºé¡¹ç›®ï¼Œå› ä¸ºæ˜¯åæœŸæ•´ç†ï¼Œå¯èƒ½è®°å½•ä¸å…¨ã€‚&lt;br&gt;
åŠ  â­ï¸ çš„ä¸ºå¸¸ç”¨ä¼˜è´¨é¡¹ç›®ï¼Œä¸åŠ çš„å¯èƒ½å¸¸ç”¨ï¼Œä½†å¹¶ä¸æ˜¯ä¸€ç›´åœ¨ç”¨ï¼Œå¯èƒ½æœ‰å…¶ä»–æ›¿ä»£è½¯ä»¶ã€‚&lt;br&gt;
å‰é¢ä»¥è¯­è¨€åå­—å‘½åçš„é¡¹ç›®å‡ä¸ºèƒ½å¤Ÿçœ‹æ‡‚æºç çš„é¡¹ç›®ï¼Œçœ‹ä¸æ‡‚çš„éƒ½æ”¾åœ¨å…¶ä»–é¡¹ç›®ä¸­ã€‚&lt;/p&gt;
&lt;h1 id=&#34;pythoné¡¹ç›®&#34;&gt;pythoné¡¹ç›®&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;phpé¡¹ç›®&#34;&gt;phpé¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;projectsend&#34;&gt;projectsend&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/projectsend/projectsend&#34;&gt;https://github.com/projectsend/projectsend&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šProjectSendæ˜¯ä¸€ä¸ªå…è´¹çš„ã€é¢å‘å®¢æˆ·çš„ã€ç§æœ‰çš„æ–‡ä»¶å…±äº« Web åº”ç”¨ç¨‹åºã€‚åˆ›å»ºå®¢æˆ·ç«¯å¹¶ä¸ºå…¶åˆ†é…ç”¨æˆ·åå’Œå¯†ç ã€‚ä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥åˆ†é…ç»™ç‰¹å®šçš„å®¢æˆ·ç«¯æˆ–å®¢æˆ·ç«¯ç»„ã€‚å…¶ä»–åŠŸèƒ½åŒ…æ‹¬ä¸Šä¼ è‡ªåŠ¨åˆ°æœŸã€é€šçŸ¥ã€ç”¨æˆ·å’Œå®¢æˆ·ç«¯æ“ä½œçš„å®Œæ•´è®°å½•ã€å…è®¸å®¢æˆ·ç«¯ä¹Ÿä¸Šä¼ æ–‡ä»¶ã€ä¸»é¢˜ã€å¤šç§è¯­è¨€çš„é€‰é¡¹......&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;webstack-laravelstar&#34;&gt;WebStack-Laravelâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/hui-ho/WebStack-Laravel&#34;&gt;https://github.com/hui-ho/WebStack-Laravel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šä¸€ä¸ªå¼€æºçš„ç½‘å€å¯¼èˆªç½‘ç«™é¡¹ç›®ï¼Œæ‚¨å¯ä»¥æ‹¿æ¥åˆ¶ä½œè‡ªå·±çš„ç½‘å€å¯¼èˆªã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;gitblog&#34;&gt;gitblog&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/jockchou/gitblog&#34;&gt;https://github.com/jockchou/gitblog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šGitBlogæ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„Markdownåšå®¢ç³»ç»Ÿï¼Œå®ƒä¸éœ€è¦æ•°æ®åº“ï¼Œæ²¡æœ‰ç®¡ç†åå°åŠŸèƒ½ï¼Œæ›´æ–°åšå®¢åªéœ€è¦æ·»åŠ ä½ å†™å¥½çš„Markdownæ–‡ä»¶å³å¯ã€‚å®ƒæ‘†è„±äº†åœ¨çº¿ç¼–è¾‘å™¨æ’ç‰ˆå›°éš¾ï¼Œæ— æ³•å®æ—¶é¢„è§ˆçš„ç¼ºç‚¹ï¼Œä¸€åˆ‡éƒ½äº¤ç»™Markdownæ¥å®Œæˆï¼Œä¸€ç¯‡åšå®¢å°±æ˜¯ä¸€ä¸ªMarkdownæ–‡ä»¶ã€‚åŒæ—¶ä¹Ÿæ”¯æŒè¯„è®ºï¼Œä»£ç é«˜äº®ï¼Œæ•°å­¦å…¬å¼ï¼Œé¡µé¢PVç»Ÿè®¡ç­‰å¸¸ç”¨åŠŸèƒ½ã€‚GitBlogæä¾›äº†ä¸åŒçš„ä¸»é¢˜æ ·å¼ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é…ç½®ï¼Œå¦‚æœä½ æƒ³è‡ªå·±åˆ¶ä½œåšå®¢ä¸»é¢˜ï¼Œä¹Ÿæ˜¯éå¸¸å®¹æ˜“çš„ã€‚GitBlogè¿˜æ”¯æŒæ•´ç«™é™æ€å¯¼å‡ºï¼Œä½ å®Œå…¨å¯ä»¥å¯¼å‡ºæ•´ç«™é™æ€ç½‘é¡µéƒ¨ç½²åˆ°Github Pages&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;typechostarstar&#34;&gt;typechoâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/typecho/typecho&#34;&gt;https://github.com/typecho/typecho&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šä¸€ä¸ª PHP åšå®¢å¹³å°ï¼Œç®€å•è€Œå¼ºå¤§
&lt;ul&gt;
&lt;li&gt;ä¸»é¢˜å’Œæ’ä»¶ï¼šå®˜æ–¹&lt;a href=&#34;https://typecho.me/&#34;&gt;https://typecho.me/&lt;/a&gt;ï¼Œç¬¬ä¸‰æ–¹&lt;a href=&#34;https://www.npc.ink/typecho?tags1=free-theme&#34;&gt;https://www.npc.ink/typecho?tags1=free-theme&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼š GPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;kodbox&#34;&gt;kodbox&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/kalcaddle/kodbox&#34;&gt;https://github.com/kalcaddle/kodbox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šé«˜æ•ˆæµç•…çš„äº‘ç«¯å­˜å‚¨å’ŒååŒåŠå…¬æ–°ä½“éªŒï¼Œå¦‚Windowsä½“éªŒçš„ç§æœ‰äº‘ç›˜/ä¼ä¸šç½‘ç›˜ï¼›å®Œå…¨æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ï¼Œå­˜å‚¨å®‰å…¨å¯æ§ï¼›æ•°ç™¾ç§æ–‡ä»¶æ ¼å¼åœ¨çº¿é¢„è§ˆã€ç¼–è¾‘å’Œæ’­æ”¾ï¼›è½»æ¾åˆ†äº«ï¼Œé«˜æ•ˆåä½œï¼Œç»†ç²’åº¦æƒé™ç®¡æ§ï¼›å…¨å¹³å°å®¢æˆ·ç«¯è¦†ç›–ï¼Œéšæ—¶éšåœ°è®¿é—®ï¼Œè½»æ¾åŒæ­¥æŒ‚è½½&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;nextcloudstarstar&#34;&gt;nextcloudâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/nextcloud/server&#34;&gt;https://github.com/nextcloud/server&lt;/a&gt;æˆ–è€…å®˜ç½‘&lt;a href=&#34;https://nextcloud.com/&#34;&gt;https://nextcloud.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šNextcloud æœåŠ¡å™¨ï¼Œæ‚¨æ‰€æœ‰æ•°æ®çš„å®‰å…¨ä¹‹å®¶&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 Licensedç­‰ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;goé¡¹ç›®&#34;&gt;goé¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;syncthing&#34;&gt;syncthing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/syncthing/syncthing&#34;&gt;https://github.com/syncthing/syncthing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šSyncthingæ˜¯ä¸€ä¸ªè¿ç»­çš„æ–‡ä»¶åŒæ­¥ç¨‹åºï¼Œå®ƒåœ¨ä¸¤å°æˆ–å¤šå°è®¡ç®—æœºä¹‹é—´åŒæ­¥æ–‡ä»¶ï¼Œå¹¶ä¸”æ˜¯è·¨å¹³å°åº”ç”¨&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;filebrowserstarstar&#34;&gt;filebrowserâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/filebrowser/filebrowser&#34;&gt;https://github.com/filebrowser/filebrowser&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šfilebrowser æä¾›æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶ç®¡ç†ç•Œé¢ï¼Œå¯ç”¨äºä¸Šä¼ ã€åˆ é™¤ã€é¢„è§ˆã€é‡å‘½åå’Œç¼–è¾‘æ‚¨çš„æ–‡ä»¶ã€‚å®ƒå…è®¸åˆ›å»ºå¤šä¸ªç”¨æˆ·ï¼Œæ¯ä¸ªç”¨æˆ·å¯ä»¥æœ‰è‡ªå·±çš„ç›®å½•ã€‚å®ƒå¯ä»¥ç”¨ä½œç‹¬ç«‹çš„åº”ç”¨ç¨‹åºæˆ–ä¸­é—´ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;rclonestarstar&#34;&gt;rcloneâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/rclone/rclone&#34;&gt;https://github.com/rclone/rclone&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šRcloneï¼ˆâ€œç”¨äºäº‘å­˜å‚¨çš„ rsyncâ€ï¼‰æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œç”¨äºåœ¨ä¸åŒçš„äº‘å­˜å‚¨æä¾›å•†ä¹‹é—´åŒæ­¥æ–‡ä»¶å’Œç›®å½•&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;linx-serverstar&#34;&gt;linx-serverâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/andreimarcu/linx-server&#34;&gt;https://github.com/andreimarcu/linx-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè‡ªæ‰˜ç®¡æ–‡ä»¶/åª’ä½“å…±äº«ç½‘ç«™ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;gocronstar&#34;&gt;gocronâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/ouqiang/gocron&#34;&gt;https://github.com/ouqiang/gocron&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè·¨å¹³å°è½»é‡çº§å®šæ—¶ä»»åŠ¡é›†ä¸­è°ƒåº¦å’Œç®¡ç†ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;frpstarstar&#34;&gt;frpâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/fatedier/frp&#34;&gt;https://github.com/fatedier/frp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šä¸€ç§å¿«é€Ÿåå‘ä»£ç†ï¼Œå¯å¸®åŠ©æ‚¨å°† NAT æˆ–é˜²ç«å¢™åé¢çš„æœ¬åœ°æœåŠ¡å™¨æš´éœ²ç»™ Internetã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;fft&#34;&gt;fft&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/fatedier/fft&#34;&gt;https://github.com/fatedier/fft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šfft æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥åŒæ—¶åˆ©ç”¨å¤šä¸ªä¸­è½¬èŠ‚ç‚¹æ¥å¹¶è¡Œä¼ è¾“æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;b0pass&#34;&gt;b0pass&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/bitepeng/b0pass&#34;&gt;https://github.com/bitepeng/b0pass&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šç™¾çµå¿«ä¼ ï¼šåŸºäºGoè¯­è¨€çš„é«˜æ€§èƒ½ &amp;quot;æ‰‹æœºç”µè„‘è¶…å¤§æ–‡ä»¶ä¼ è¾“ç¥å™¨&amp;quot;ã€&amp;quot;å±€åŸŸç½‘å…±äº«æ–‡ä»¶æœåŠ¡å™¨&amp;quot;ã€LAN large file transfer tool&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼š Apache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cloudreve&#34;&gt;Cloudreve&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/cloudreve/Cloudreve&#34;&gt;https://github.com/cloudreve/Cloudreve&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šæ”¯æŒå¤šå®¶äº‘å­˜å‚¨ï¼ˆæœ¬æœºã€ä»æœºã€ä¸ƒç‰›ã€é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€åˆæ‹äº‘ã€OneDriveï¼‰çš„äº‘ç›˜ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼š GPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;go-fastdfs&#34;&gt;go-fastdfs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/sjqzhang/go-fastdfs&#34;&gt;https://github.com/sjqzhang/go-fastdfs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šgo-fastdfs æ˜¯ä¸€ä¸ªç®€å•çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ(ç§æœ‰äº‘å­˜å‚¨)ï¼Œå…·æœ‰æ— ä¸­å¿ƒã€é«˜æ€§èƒ½ï¼Œé«˜å¯é ï¼Œå…ç»´æŠ¤ç­‰ä¼˜ç‚¹ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œåˆ†å—ä¸Šä¼ ï¼Œå°æ–‡ä»¶åˆå¹¶ï¼Œè‡ªåŠ¨åŒæ­¥ï¼Œè‡ªåŠ¨ä¿®å¤&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šUnlicense License&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;javascripté¡¹ç›®&#34;&gt;JavaScripté¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;motrixstarstar&#34;&gt;Motrixâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/agalwood/Motrix&#34;&gt;https://github.com/agalwood/Motrix&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šMotrixæ˜¯ä¸€æ¬¾å…¨èƒ½çš„ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒä¸‹è½½HTTPã€FTPã€BTã€ç£åŠ›é“¾ç­‰èµ„æºï¼Œå¹¶ä¸”è·¨å¹³å°ï¼Œæ”¯æŒLinuxã€MacOSã€Windowsç­‰&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;msys2&#34;&gt;msys2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/msys2/msys2.github.io&#34;&gt;https://github.com/msys2/msys2.github.io&lt;/a&gt;ï¼Œå®˜ç½‘&lt;a href=&#34;https://www.msys2.org/&#34;&gt;https://www.msys2.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šMSYS2 æ˜¯ä¸€ç»„å·¥å…·å’Œåº“ï¼Œä¸ºæ‚¨æä¾›ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ç¯å¢ƒï¼Œç”¨äºæ„å»ºã€å®‰è£…å’Œè¿è¡Œæœ¬åœ° Windows è½¯ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;cé¡¹ç›®&#34;&gt;Cé¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;winfsp&#34;&gt;winfsp&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/billziss-gh/winfsp&#34;&gt;https://github.com/billziss-gh/winfsp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šWinFsp æ˜¯ä¸€ç»„ç”¨äº Windows è®¡ç®—æœºçš„è½¯ä»¶ç»„ä»¶ï¼Œå…è®¸åˆ›å»ºç”¨æˆ·æ¨¡å¼æ–‡ä»¶ç³»ç»Ÿã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œå®ƒç±»ä¼¼äº FUSEï¼ˆç”¨æˆ·ç©ºé—´ä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œåè€…åœ¨ç±» UNIX è®¡ç®—æœºä¸Šæä¾›ç›¸åŒçš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;nfs-win&#34;&gt;nfs-win&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/billziss-gh/nfs-win&#34;&gt;https://github.com/billziss-gh/nfs-win&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šNFS-Win æ˜¯ Ronnie Sahlberg çš„ fuse-nfs é¡¹ç›®åˆ° Windows çš„ç«¯å£ã€‚åœ¨åº•å±‚ï¼Œå®ƒåœ¨ POSIX ç¯å¢ƒä¸­ä½¿ç”¨ Cygwinï¼Œåœ¨ FUSE åŠŸèƒ½ä¸­ä½¿ç”¨ WinFspã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;sshfs-win&#34;&gt;sshfs-win&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/billziss-gh/sshfs-win&#34;&gt;https://github.com/billziss-gh/sshfs-win&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šSSHFS-Win æ˜¯ SSHFS åˆ° Windows çš„æœ€å°ç«¯å£ã€‚åœ¨åº•å±‚ï¼Œå®ƒåœ¨ POSIX ç¯å¢ƒä¸­ä½¿ç”¨ Cygwinï¼Œåœ¨ FUSE åŠŸèƒ½ä¸­ä½¿ç”¨ WinFspã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 Licenseç­‰ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;vpn-gateå…¬å…±vpnä¸­ç»§æœåŠ¡å™¨star&#34;&gt;VPN Gateï¼ˆå…¬å…±vpnä¸­ç»§æœåŠ¡å™¨ï¼‰â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://www.vpngate.net/cn/&#34;&gt;https://www.vpngate.net/cn/&lt;/a&gt;ï¼Œå¼€æºåœ°å€&lt;a href=&#34;https://github.com/SoftEtherVPN/SoftEtherVPN/&#34;&gt;https://github.com/SoftEtherVPN/SoftEtherVPN/&lt;/a&gt;ï¼Œ&lt;a href=&#34;https://github.com/SoftEtherVPN/SoftEtherVPN_Stable&#34;&gt;https://github.com/SoftEtherVPN/SoftEtherVPN_Stable&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šVPN Gate å­¦æœ¯å®éªŒé¡¹ç›®æ˜¯ä¸€ä¸ªåœ¨çº¿æœåŠ¡ï¼Œç”±æ—¥æœ¬å›½ç«‹ç­‘æ³¢å¤§å­¦ç ”ç©¶ç”Ÿé™¢ä¸ºå­¦æœ¯ç ”ç©¶ç›®çš„è¿è¥ã€‚æœ¬ç ”ç©¶çš„ç›®çš„æ˜¯æ¨å¹¿ &amp;quot;å…¨çƒåˆ†å¸ƒå¼å…¬å…± VPN ä¸­ç»§æœåŠ¡å™¨&amp;quot; çš„çŸ¥è¯†ã€‚åœ¨ VPN Gate å­¦æœ¯é¡¹ç›®ç½‘ç«™ä¸Šæœ‰ä¸€ä¸ªå…¬å…± VPN ä¸­ç»§æœåŠ¡å™¨åˆ—è¡¨ã€‚äº’è”ç½‘ä¸Šçš„ä»»ä½•äººéƒ½å¯ä»¥å»ºç«‹ VPN è¿æ¥è‡³ä»»ä¸€åˆ—è¡¨ä¸Šçš„ VPN æœåŠ¡å™¨ã€‚æ— éœ€ç”¨æˆ·æ³¨å†Œã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 Licenseç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;tftpd64&#34;&gt;Tftpd64&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://pjo2.github.io/tftpd64/&#34;&gt;https://pjo2.github.io/tftpd64/&lt;/a&gt;ï¼Œå¼€æºåœ°å€&lt;a href=&#34;https://bitbucket.org/phjounin/tftpd64/src/master/&#34;&gt;https://bitbucket.org/phjounin/tftpd64/src/master/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šTftpd64 æ˜¯ä¸€ä¸ªå…è´¹ã€è½»é‡çº§ã€å¼€æºçš„ IPv6 å°±ç»ªåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­åŒ…æ‹¬ DHCPã€TFTPã€DNSã€SNTP å’Œ Syslog æœåŠ¡å™¨ä»¥åŠ TFTP å®¢æˆ·ç«¯ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;obs-studiostarstar&#34;&gt;obs-studioâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/obsproject/obs-studio&#34;&gt;https://github.com/obsproject/obs-studio&lt;/a&gt;ï¼Œå®˜ç½‘&lt;a href=&#34;https://obsproject.com/zh-cn/welcome&#34;&gt;https://obsproject.com/zh-cn/welcome&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šç”¨äºç›´æ’­å’Œå±å¹•å½•åˆ¶çš„å…è´¹å¼€æºè½¯ä»¶&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;n2n&#34;&gt;n2n&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/ntop/n2n&#34;&gt;https://github.com/ntop/n2n&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;å…¶ä»–ç¼–è¯‘åŒ…ï¼š&lt;a href=&#34;https://github.com/lucktu/n2n&#34;&gt;https://github.com/lucktu/n2n&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šn2n æ˜¯ä¸€æ¬¾è½»é‡çº§ VPN è½¯ä»¶ï¼Œå¯ä»¥è½»æ¾åˆ›å»ºç»•è¿‡ä¸­é—´é˜²ç«å¢™çš„è™šæ‹Ÿç½‘ç»œ&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼š GPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;openvpn&#34;&gt;OpenVPN&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://openvpn.net/community-downloads/&#34;&gt;https://openvpn.net/community-downloads/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šä¸ºäº‘è€Œæ„å»ºçš„ç°ä»£ä¸“ç”¨ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;pure-ftpd&#34;&gt;pure-ftpd&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/jedisct1/pure-ftpd&#34;&gt;https://github.com/jedisct1/pure-ftpd&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šPure-FTPd æ˜¯ä¸€ç§å¿«é€Ÿã€ç”Ÿäº§è´¨é‡ã€ç¬¦åˆæ ‡å‡†çš„ FTP æœåŠ¡å™¨ï¼ŒåŸºäº Troll-FTPdã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;cé¡¹ç›®-2&#34;&gt;C++é¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;landrop&#34;&gt;LANDrop&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/LANDrop/LANDrop&#34;&gt;https://github.com/LANDrop/LANDrop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šLANDropæ˜¯ä¸€ç§è·¨å¹³å°å·¥å…·ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ–¹ä¾¿åœ°å°†ç…§ç‰‡ã€è§†é¢‘å’Œå…¶ä»–ç±»å‹çš„æ–‡ä»¶ä¼ è¾“åˆ°åŒä¸€æœ¬åœ°ç½‘ç»œä¸Šçš„å…¶ä»–è®¾å¤‡ï¼Œç‰¹ç‚¹å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;è·¨å¹³å°ï¼š iOSã€Androidã€macOSã€Windowsã€Linuxç­‰&lt;/li&gt;
&lt;li&gt;è¶…å¿«ï¼šä½¿ç”¨æœ¬åœ°ç½‘ç»œè¿›è¡Œä¼ è¾“ï¼Œäº’è”ç½‘é€Ÿåº¦ä¸æ˜¯é™åˆ¶&lt;/li&gt;
&lt;li&gt;æ˜“äºä½¿ç”¨ï¼šç›´è§‚çš„ç”¨æˆ·ç•Œé¢&lt;/li&gt;
&lt;li&gt;å®‰å…¨ï¼šä½¿ç”¨æœ€å…ˆè¿›çš„åŠ å¯†ç®—æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šBSD 3-Clause License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;rclonebrowserstar&#34;&gt;RcloneBrowserâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/kapitainsky/RcloneBrowser&#34;&gt;https://github.com/kapitainsky/RcloneBrowser&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šç”¨äº rclone çš„ç®€å•è·¨å¹³å° GUIã€‚æ”¯æŒ macOSã€GNU/Linuxã€BSD ç³»åˆ—å’Œ Windowsã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;btop&#34;&gt;btop&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/aristocratos/btop&#34;&gt;https://github.com/aristocratos/btop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šLinuxä¸‹çš„èµ„æºç›‘è§†å™¨ï¼Œå¯æ›¿ä»£top&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;translucenttb&#34;&gt;TranslucentTB&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/TranslucentTB/TranslucentTB&#34;&gt;https://github.com/TranslucentTB/TranslucentTB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šä¸€ä¸ªè½»é‡çº§ï¼ˆä½¿ç”¨å‡  MB çš„ RAMï¼Œå‡ ä¹æ²¡æœ‰ CPUï¼‰å®ç”¨ç¨‹åºï¼Œä½¿ Windows ä»»åŠ¡æ åœ¨ Windows 10 ä¸ŠåŠé€æ˜/é€æ˜&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;notepad-plus-plus&#34;&gt;notepad-plus-plus&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/notepad-plus-plus/notepad-plus-plus&#34;&gt;https://github.com/notepad-plus-plus/notepad-plus-plus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šNotepad++ æ˜¯ä¸€ä¸ªå…è´¹çš„æºä»£ç ç¼–è¾‘å™¨å’Œè®°äº‹æœ¬æ›¿ä»£å“ï¼Œå®ƒæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’Œè‡ªç„¶è¯­è¨€&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGNU GENERAL PUBLIC LICENSE Version 3&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;cé¡¹ç›®-3&#34;&gt;C#é¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;ftpboxstar&#34;&gt;FTPboxâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/FTPbox/FTPbox&#34;&gt;https://github.com/FTPbox/FTPbox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šé€šè¿‡ FTP å°†æ–‡ä»¶ä¸æœåŠ¡å™¨åŒæ­¥ï¼Œä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ FTPã€SFTP æˆ– FTPS è¿æ¥&lt;/li&gt;
&lt;li&gt;é€šè¿‡ç›´æ¥é“¾æ¥å…±äº«æ‚¨çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Web ç•Œé¢åœ¨æµè§ˆå™¨ä¸­ç®¡ç†æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸Šä¸‹æ–‡èœå•ç®¡ç†ç‰¹å®šæ–‡ä»¶/æ–‡ä»¶å¤¹&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ€§åŒæ­¥&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨æˆ–è‡ªåŠ¨åŒæ­¥&lt;/li&gt;
&lt;li&gt;å¸¦å®½æ§åˆ¶&lt;/li&gt;
&lt;li&gt;å¤šä¸ªé…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ç¦»çº¿æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;simpleremote&#34;&gt;SimpleRemote&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/beckzhu/SimpleRemote&#34;&gt;https://github.com/beckzhu/SimpleRemote&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè½»é‡çº§ã€é€‰é¡¹å¡å¼ã€å…è´¹ã€å¼€æºçš„è¿œç¨‹è¿æ¥ç®¡ç†å·¥å…·ï¼Œæ”¯æŒRDPã€SSHã€Telnetåè®®&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mremoteng&#34;&gt;mRemoteNG&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/mRemoteNG/mRemoteNG&#34;&gt;https://github.com/mRemoteNG/mRemoteNG&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šmRemoteNG æ˜¯ä¸‹ä¸€ä»£ mRemoteã€å¼€æºã€æ ‡ç­¾å¼ã€å¤šåè®®ã€è¿œç¨‹è¿æ¥ç®¡ç†å™¨ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;synctrayzor&#34;&gt;SyncTrayzor&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/canton7/SyncTrayzor&#34;&gt;https://github.com/canton7/SyncTrayzor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šSyncTrayzor æ˜¯ Windows ä¸Š Syncthing çš„ä¸€ä¸ªå°æ‰˜ç›˜å®ç”¨ç¨‹åºã€‚å®ƒæ‰˜ç®¡å’ŒåŒ…è£… Syncthingï¼Œä½¿å…¶æ›´åƒä¸€ä¸ªæœ¬åœ° Windows åº”ç”¨ç¨‹åºï¼Œè€Œä¸åƒä¸€ä¸ªå¸¦æœ‰ Web æµè§ˆå™¨ç•Œé¢çš„å‘½ä»¤è¡Œå®ç”¨ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;captura&#34;&gt;Captura&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/MathewSachin/Captura&#34;&gt;https://github.com/MathewSachin/Captura&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šæ•è·å±å¹•ã€éŸ³é¢‘ã€å…‰æ ‡ã€é¼ æ ‡ç‚¹å‡»å’ŒæŒ‰é”®&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;fasttunnel&#34;&gt;FastTunnel&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/FastTunnel/FastTunnel&#34;&gt;https://github.com/FastTunnel/FastTunnel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šé«˜æ€§èƒ½è·¨å¹³å°å†…ç½‘ç©¿é€å·¥å…·ï¼Œä½¿ç”¨å®ƒå¯ä»¥å®ç°å°†å†…ç½‘æœåŠ¡æš´éœ²åˆ°å…¬ç½‘ä¾›è‡ªå·±æˆ–ä»»ä½•äººè®¿é—®ã€‚ä¸å…¶ä»–ç©¿é€å·¥å…·ä¸åŒçš„æ˜¯ï¼ŒFastTunnelé¡¹ç›®è‡´åŠ›äºæ‰“é€ ä¸€ä¸ªæ˜“äºæ‰©å±•ã€æ˜“äºç»´æŠ¤çš„å†…ç½‘ç©¿é€æ¡†æ¶ã€‚å¯ä»¥é€šè¿‡å¼•ç”¨FastTunnel.Coreçš„nugetåŒ…æ„å»ºå‡ºè‡ªå·±çš„ç©¿é€åº”ç”¨ï¼Œå¹¶é’ˆè‡ªå·±æ‰€éœ€çš„ä¸šåŠ¡æ‰©å±•åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šApache-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;rusté¡¹ç›®&#34;&gt;Rusté¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;simple-http-server&#34;&gt;simple-http-server&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/TheWaWaR/simple-http-server&#34;&gt;https://github.com/TheWaWaR/simple-http-server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šRust ä¸­çš„ç®€å• http æœåŠ¡å™¨ï¼ˆWindows/Mac/Linuxï¼‰&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;meilisearchstar&#34;&gt;MeiliSearchâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/meilisearch/MeiliSearch&#34;&gt;https://github.com/meilisearch/MeiliSearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šMeiliSearch æ˜¯ä¸€ä¸ªå¼ºå¤§ã€å¿«é€Ÿã€å¼€æºã€æ˜“äºä½¿ç”¨å’Œéƒ¨ç½²çš„æœç´¢å¼•æ“ã€‚æœç´¢å’Œç´¢å¼•éƒ½æ˜¯é«˜åº¦å¯å®šåˆ¶çš„ã€‚æä¾›å¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼Œå¦‚é”™å­—å®¹å¿ã€è¿‡æ»¤å™¨å’ŒåŒä¹‰è¯ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šMIT License&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;rustdesk&#34;&gt;rustdesk&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/rustdesk/rustdesk&#34;&gt;https://github.com/rustdesk/rustdesk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè¿œç¨‹æ¡Œé¢è½¯ä»¶ï¼Œå¼€ç®±å³ç”¨ï¼Œæ— éœ€ä»»ä½•é…ç½®ã€‚æ‚¨å®Œå…¨æŒæ§æ•°æ®ï¼Œä¸ç”¨æ‹…å¿ƒå®‰å…¨é—®é¢˜ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„æ³¨å†Œ/ä¸­ç»§æœåŠ¡å™¨ï¼Œ æˆ–è€…è‡ªå·±è®¾ç½®ï¼Œ äº¦æˆ–è€…å¼€å‘æ‚¨çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šGPL-3.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å…¶ä»–é¡¹ç›®&#34;&gt;å…¶ä»–é¡¹ç›®&lt;/h1&gt;
&lt;h2 id=&#34;rackshift&#34;&gt;rackshift&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/rackshift/rackshift&#34;&gt;https://github.com/rackshift/rackshift&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼š
&lt;ul&gt;
&lt;li&gt;RackShift æ˜¯å¼€æºçš„è£¸é‡‘å±æœåŠ¡å™¨ç®¡ç†å¹³å°ï¼ŒåŠŸèƒ½è¦†ç›–è£¸é‡‘å±æœåŠ¡å™¨çš„å‘ç°ã€å¸¦å¤–ç®¡ç†ã€RAID é…ç½®ã€å›ºä»¶æ›´æ–°ã€æ“ä½œç³»ç»Ÿå®‰è£…ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;RackShift éµå¾ª GPL v2 å¼€æºåè®®ï¼Œä½¿ç”¨ SpringBoot/Vue è¿›è¡Œå¼€å‘ï¼Œç•Œé¢ç¾è§‚ã€ç”¨æˆ·ä½“éªŒå¥½ï¼Œé›†æˆå¹¶æ‰©å±• RackHDï¼Œæ”¯æŒçš„X86 æœåŠ¡å™¨å“ç‰ŒåŒ…æ‹¬æµªæ½®ã€æˆ´å°”ã€åä¸ºã€è”æƒ³ã€æƒ æ™®ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;RackShift è¦è§£å†³çš„é—®é¢˜åŒ…æ‹¬ï¼š
&lt;ul&gt;
&lt;li&gt;å„ç§ç½‘ç»œç¯å¢ƒä¸‹è£¸é‡‘å±æœåŠ¡å™¨çš„è‡ªåŠ¨ã€æ‰‹åŠ¨å‘ç°ï¼›&lt;/li&gt;
&lt;li&gt;è£¸é‡‘å±æœåŠ¡å™¨çš„å¸¦å¤–æ§åˆ¶ç®¡ç†ï¼ŒåŒ…æ‹¬å¼€å…³æœºã€é‡å¯ã€é…ç½® PXE ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;è£¸é‡‘å±æœåŠ¡å™¨æ‰¹é‡ RAID é…ç½®ã€å›ºä»¶æ›´æ–°ã€è£…æœºç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RackShift çš„æŠ€æœ¯ä¼˜åŠ¿åŒ…æ‹¬ï¼š
&lt;ul&gt;
&lt;li&gt;å…¨ç”Ÿå‘½å‘¨æœŸ: èƒ½å¤Ÿè¦†ç›–è£¸é‡‘å±æœåŠ¡å™¨ä»å‘ç°ã€é…ç½®ã€è£…æœºã€é‡ç½®çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼›&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–ï¼šåŸºäº PXE æˆ–è€…å¸¦å¤–åè®®å®ç°è¿œç¨‹è‡ªåŠ¨åŒ–ï¼Œè§£æ”¾æœºæˆ¿è¿ç»´äººå‘˜ï¼›&lt;/li&gt;
&lt;li&gt;æ˜“æ“ä½œ: æµè§ˆå™¨å¯è§†åŒ–æ“ä½œç•Œé¢ï¼Œæ˜“äºæ“ä½œå’Œç®¡ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼š GPL-2.0 License&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;resilio_syncstar&#34;&gt;resilio_syncâ­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://github.com/Dash2KoF/resilio_sync&#34;&gt;https://github.com/Dash2KoF/resilio_sync&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šæä¾›ä¸‹è½½resilio_syncçš„é¡¹ç›®&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæ— &lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;goby&#34;&gt;GOBY&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://gobies.org/index.html&#34;&gt;https://gobies.org/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè·¨å¹³å°ç—…æ¯’å’Œæ¼æ´æ‰«æå·¥å…·&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœ‰ç¤¾åŒºç‰ˆï¼Œä½†ä¸å¼€æº&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hfsstarstat&#34;&gt;HFSâ­ï¸:stat:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://rejetto.com/hfs/&#34;&gt;https://rejetto.com/hfs/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šç”¨ HFS æ¥å‘é€å’Œæ¥æ”¶æ–‡ä»¶ï¼›å®ƒä¸ç»å…¸çš„æ–‡ä»¶å…±äº«ä¸åŒï¼Œå› ä¸ºå®ƒä½¿ç”¨ç½‘ç»œæŠ€æœ¯æ›´èƒ½å…¼å®¹å½“ä»Šçš„äº’è”ç½‘ï¼›å®ƒä¹Ÿä¸åŒäºç»å…¸çš„ Web æœåŠ¡å™¨ï¼Œå› ä¸ºéå¸¸æ˜“äºä½¿ç”¨å¹¶ä¸”â€œå¼€ç®±å³ç”¨â€ï¼›é€šè¿‡ç½‘ç»œè®¿é—®æ‚¨çš„è¿œç¨‹æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šå…è´¹éå¼€æº&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;chfsstarstar&#34;&gt;chfsâ­ï¸â­ï¸&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;http://iscute.cn/chfs&#34;&gt;http://iscute.cn/chfs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šCuteHttpFileServer/chfsæ˜¯ä¸€ä¸ªå…è´¹çš„ã€HTTPåè®®çš„æ–‡ä»¶å…±äº«æœåŠ¡å™¨ï¼Œä½¿ç”¨æµè§ˆå™¨å¯ä»¥å¿«é€Ÿè®¿é—®&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cloudquery&#34;&gt;CloudQuery&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://www.cloudquery.club/&#34;&gt;https://www.cloudquery.club/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šé›†æˆå¼€å‘è€…å’Œ DBA æ—¥å¸¸æ‰€éœ€å„ç§æ•°æ®å·¥å…·ï¼Œæä¾›ä¸€ä½“åŒ–æƒé™ã€æ•°æ®å®¡è®¡ç­‰å¤šç§å®‰å…¨æªæ–½ï¼Œæœ€å¤§åŒ–å‡å°æ•°æ®é£é™©ã€‚&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;windowsè¶…çº§ç®¡ç†å™¨ç³»åˆ—&#34;&gt;Windowsè¶…çº§ç®¡ç†å™¨ç³»åˆ—&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é“¾æ¥ï¼š&lt;a href=&#34;https://www.collithel.com/windows_super_manager/&#34;&gt;https://www.collithel.com/windows_super_manager/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä»‹ç»ï¼šè¿™æˆ–è®¸æ˜¯è¿„ä»Šä¸ºæ­¢æœ€å…·å·¥åŒ ç²¾ç¥çš„å…¨èƒ½ç³»ç»Ÿå·¥å…·ç®±&lt;/li&gt;
&lt;li&gt;å¼€æºè®¸å¯ï¼šæ— &lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–°å¢æ¨¡æ¿ï¼š
## 
- é“¾æ¥ï¼š&amp;lt;&amp;gt;
- ä»‹ç»ï¼š
- å¼€æºè®¸å¯ï¼š
&lt;/code&gt;&lt;/pre&gt;
">GitHubä¼˜è´¨é¡¹ç›®è®°å½•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-cao-zuo-mysql-shu-ju-ku-pymysql/"" data-c="
          &lt;h1 id=&#34;ç¯å¢ƒä»‹ç»&#34;&gt;ç¯å¢ƒä»‹ç»&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºæ•°æ®åº“TESTDB&lt;/li&gt;
&lt;li&gt;åœ¨TESTDBæ•°æ®åº“ä¸­åˆ›å»ºè¡¨EMPLOYEE&lt;/li&gt;
&lt;li&gt;EMPLOYEEè¡¨å­—æ®µä¸ºFIRST_NAME, LAST_NAME, AGE, SEX å’Œ INCOME&lt;/li&gt;
&lt;li&gt;è¿æ¥æ•°æ®åº“TESTDBä½¿ç”¨çš„ç”¨æˆ·åä¸º &amp;quot;testuser&amp;quot; ï¼Œå¯†ç ä¸º &amp;quot;test123&amp;quot;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;pymysqlæ‰§è¡Œäº‹åŠ¡&#34;&gt;pymysqlæ‰§è¡Œäº‹åŠ¡&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;äº‹åŠ¡æœºåˆ¶å¯ä»¥ç¡®ä¿æ•°æ®ä¸€è‡´æ€§&lt;/strong&gt;&lt;br&gt;
äº‹åŠ¡åº”è¯¥å…·æœ‰4ä¸ªå±æ€§ï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ã€‚è¿™å››ä¸ªå±æ€§é€šå¸¸ç§°ä¸ºACIDç‰¹æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸå­æ€§ï¼ˆatomicityï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ï¼Œäº‹åŠ¡ä¸­åŒ…æ‹¬çš„è¯¸æ“ä½œè¦ä¹ˆéƒ½åšï¼Œè¦ä¹ˆéƒ½ä¸åš&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰ï¼šäº‹åŠ¡å¿…é¡»æ˜¯ä½¿æ•°æ®åº“ä»ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€å˜åˆ°å¦ä¸€ä¸ªä¸€è‡´æ€§çŠ¶æ€ã€‚ä¸€è‡´æ€§ä¸åŸå­æ€§æ˜¯å¯†åˆ‡ç›¸å…³çš„&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼ˆisolationï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ã€‚å³ä¸€ä¸ªäº‹åŠ¡å†…éƒ¨çš„æ“ä½œåŠä½¿ç”¨çš„æ•°æ®å¯¹å¹¶å‘çš„å…¶ä»–äº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼Œå¹¶å‘æ‰§è¡Œçš„å„ä¸ªäº‹åŠ¡ä¹‹é—´ä¸èƒ½äº’ç›¸å¹²æ‰°&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼ˆdurabilityï¼‰ï¼šæŒç»­æ€§ä¹Ÿç§°æ°¸ä¹…æ€§ï¼ˆpermanenceï¼‰ï¼ŒæŒ‡ä¸€ä¸ªäº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹å˜å°±åº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ã€‚æ¥ä¸‹æ¥çš„å…¶ä»–æ“ä½œæˆ–æ•…éšœä¸åº”è¯¥å¯¹å…¶æœ‰ä»»ä½•å½±å“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Python DB API 2.0 çš„äº‹åŠ¡æä¾›äº†ä¸¤ä¸ªæ–¹æ³• commit æˆ– rollback&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ•°æ®åº“æ“ä½œ&#34;&gt;æ•°æ®åº“æ“ä½œ&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pymysql
 
 # æ•°æ®åº“è¿æ¥
db = pymysql.connect(&amp;quot;localhost&amp;quot;,&amp;quot;testuser&amp;quot;,3306,&amp;quot;test123&amp;quot;,&amp;quot;TESTDB&amp;quot; )   #  æ‰“å¼€æ•°æ®åº“è¿æ¥
cursor = db.cursor() # ä½¿ç”¨ cursor() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ¸¸æ ‡å¯¹è±¡ cursor
cursor.execute(&amp;quot;SELECT VERSION()&amp;quot;) # ä½¿ç”¨ execute()  æ–¹æ³•æ‰§è¡Œ SQL æŸ¥è¯¢ 
data = cursor.fetchone() # ä½¿ç”¨ fetchone() æ–¹æ³•è·å–å•æ¡æ•°æ®
print (&amp;quot;Database version : %s &amp;quot; % data)
# Database version : 5.5.20-log
 
# åˆ›å»ºæ•°æ®åº“è¡¨
cursor.execute(&amp;quot;DROP TABLE IF EXISTS EMPLOYEE&amp;quot;) # ä½¿ç”¨ execute() æ–¹æ³•æ‰§è¡Œ SQLï¼Œå¦‚æœè¡¨å­˜åœ¨åˆ™åˆ é™¤
sql = &amp;quot;&amp;quot;&amp;quot;CREATE TABLE EMPLOYEE (
         FIRST_NAME  CHAR(20) NOT NULL,
         LAST_NAME  CHAR(20),
         AGE INT,  
         SEX CHAR(1),
         INCOME FLOAT )&amp;quot;&amp;quot;&amp;quot;  # ä½¿ç”¨é¢„å¤„ç†è¯­å¥åˆ›å»ºè¡¨
cursor.execute(sql)

# æ•°æ®åº“æ’å…¥æ“ä½œ
sql = &amp;quot;&amp;quot;&amp;quot;INSERT INTO EMPLOYEE(FIRST_NAME,
         LAST_NAME, AGE, SEX, INCOME)
         VALUES (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)&amp;quot;&amp;quot;&amp;quot;  # SQL æ’å…¥è¯­å¥  æˆ–è€…å¦‚ä¸‹
# sql = &amp;quot;INSERT INTO EMPLOYEE(FIRST_NAME,LAST_NAME, AGE, SEX, INCOME) VALUES (&#39;%s&#39;, &#39;%s&#39;,  %s,  &#39;%s&#39;,  %s)&amp;quot; % (&#39;Mac&#39;, &#39;Mohan&#39;, 20, &#39;M&#39;, 2000)
try:
   cursor.execute(sql)  # æ‰§è¡Œsqlè¯­å¥
   db.commit()  # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œã€pymysqlæ˜¯äº‹åŠ¡å‹ï¼Œå¿…é¡»commitä¹‹åæ‰èƒ½æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‘
except:
   db.rollback()    # å¦‚æœå‘ç”Ÿé”™è¯¯åˆ™å›æ»š

# æ•°æ®åº“æŸ¥è¯¢æ“ä½œ
# fetchone(): è·å–ä¸‹ä¸€ä¸ªæŸ¥è¯¢ç»“æœé›†ï¼Œç»“æœé›†æ˜¯ä¸€ä¸ªå¯¹è±¡
# fetchall(): æ¥æ”¶å…¨éƒ¨çš„è¿”å›ç»“æœè¡Œ
# rowcount: è¿™æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå¹¶è¿”å›æ‰§è¡Œexecute()æ–¹æ³•åå½±å“çš„è¡Œæ•°
sql = &amp;quot;SELECT * FROM EMPLOYEE \
       WHERE INCOME &amp;gt; %s&amp;quot; % (1000)  # SQL æŸ¥è¯¢è¯­å¥
try:
   cursor.execute(sql)
   results = cursor.fetchall()  # è·å–æ‰€æœ‰è®°å½•åˆ—è¡¨
   for row in results:
      fname = row[0]
      lname = row[1]
      age = row[2]
      sex = row[3]
      income = row[4]
      print (&amp;quot;fname=%s,lname=%s,age=%s,sex=%s,income=%s&amp;quot; % \
             (fname, lname, age, sex, income )) # æ‰“å°ç»“æœ
             # fname=Mac, lname=Mohan, age=20, sex=M, income=2000
except:
   print (&amp;quot;Error: unable to fetch data&amp;quot;)

# æ•°æ®åº“æ›´æ–°æ“ä½œ
sql = &amp;quot;UPDATE EMPLOYEE SET AGE = AGE + 1 WHERE SEX = &#39;%c&#39;&amp;quot; % (&#39;M&#39;)  # SQL æ›´æ–°è¯­å¥
try:
   cursor.execute(sql)
   db.commit()
except:
   db.rollback()

# åˆ é™¤æ“ä½œ
sql = &amp;quot;DELETE FROM EMPLOYEE WHERE AGE &amp;gt; %s&amp;quot; % (20)  # SQL åˆ é™¤è¯­å¥
try:
   cursor.execute(sql)
   db.commit()
except:
   db.rollback()

# å…³é—­æ•°æ®åº“è¿æ¥
db.close()
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é”™è¯¯å¤„ç†&#34;&gt;é”™è¯¯å¤„ç†&lt;/h1&gt;
&lt;p&gt;æ ‡å‡†é”™è¯¯åˆ†ä¸ºä¸¤ç§ï¼Œè­¦å‘Šå’Œé”™è¯¯ã€‚å…¶ä¸­é”™è¯¯åˆåˆ†ä¸ºæ¥å£é”™è¯¯å’Œæ•°æ®åº“é”™è¯¯ä¸¤å¤§ç±»ã€‚&lt;code&gt;ä»¥ä¸‹ä¸¤ä¸ªå‡æ˜¯StandardErrorçš„å­ç±»&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Warningï¼šå½“æœ‰ä¸¥é‡è­¦å‘Šæ—¶è§¦å‘ï¼Œä¾‹å¦‚æ’å…¥æ•°æ®æ˜¯è¢«æˆªæ–­ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;Errorï¼šè­¦å‘Šä»¥å¤–æ‰€æœ‰å…¶ä»–é”™è¯¯ç±»ï¼Œ&lt;code&gt;ä»¥ä¸‹ä¸¤ä¸ªå‡æ˜¯Errorçš„å­ç±»&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;InterfaceErrorï¼šå½“æœ‰æ•°æ®åº“æ¥å£æ¨¡å—æœ¬èº«çš„é”™è¯¯ï¼ˆè€Œä¸æ˜¯æ•°æ®åº“çš„é”™è¯¯ï¼‰å‘ç”Ÿæ—¶è§¦å‘&lt;/li&gt;
&lt;li&gt;DatabaseErrorï¼šå’Œæ•°æ®åº“æœ‰å…³çš„é”™è¯¯å‘ç”Ÿæ—¶è§¦å‘ã€‚&lt;code&gt;ä»¥ä¸‹6ä¸ªä¸ºDatabaseErrorçš„å­ç±»&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;DataErrorï¼šå½“æœ‰æ•°æ®å¤„ç†æ—¶çš„é”™è¯¯å‘ç”Ÿæ—¶è§¦å‘ï¼Œä¾‹å¦‚ï¼šé™¤é›¶é”™è¯¯ï¼Œæ•°æ®è¶…èŒƒå›´ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;OperationalError	æŒ‡éç”¨æˆ·æ§åˆ¶çš„ï¼Œè€Œæ˜¯æ“ä½œæ•°æ®åº“æ—¶å‘ç”Ÿçš„é”™è¯¯ã€‚ä¾‹å¦‚ï¼šè¿æ¥æ„å¤–æ–­å¼€ã€ æ•°æ®åº“åæœªæ‰¾åˆ°ã€äº‹åŠ¡å¤„ç†å¤±è´¥ã€å†…å­˜åˆ†é…é”™è¯¯ç­‰ç­‰æ“ä½œæ•°æ®åº“æ˜¯å‘ç”Ÿçš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;IntegrityErrorï¼šå®Œæ•´æ€§ç›¸å…³çš„é”™è¯¯ï¼Œä¾‹å¦‚å¤–é”®æ£€æŸ¥å¤±è´¥ç­‰&lt;/li&gt;
&lt;li&gt;InternalErrorï¼šæ•°æ®åº“çš„å†…éƒ¨é”™è¯¯ï¼Œä¾‹å¦‚æ¸¸æ ‡ï¼ˆcursorï¼‰å¤±æ•ˆäº†ã€äº‹åŠ¡åŒæ­¥å¤±è´¥ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;ProgrammingErrorï¼šç¨‹åºé”™è¯¯ï¼Œä¾‹å¦‚æ•°æ®è¡¨ï¼ˆtableï¼‰æ²¡æ‰¾åˆ°æˆ–å·²å­˜åœ¨ã€SQLè¯­å¥è¯­æ³•é”™è¯¯ã€ å‚æ•°æ•°é‡é”™è¯¯ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;NotSupportedErrorï¼šä¸æ”¯æŒé”™è¯¯ï¼ŒæŒ‡ä½¿ç”¨äº†æ•°æ®åº“ä¸æ”¯æŒçš„å‡½æ•°æˆ–APIç­‰ï¼Œä¾‹å¦‚åœ¨è¿æ¥å¯¹è±¡ä¸Šä½¿ç”¨.rollback()å‡½æ•°ï¼Œç„¶è€Œæ•°æ®åº“å¹¶ä¸æ”¯æŒäº‹åŠ¡æˆ–è€…äº‹åŠ¡å·²å…³é—­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ‰¹é‡æ’å…¥çš„2ç§æ–¹æ³•&#34;&gt;æ‰¹é‡æ’å…¥çš„2ç§æ–¹æ³•&lt;/h1&gt;
&lt;h2 id=&#34;è‡ªåŠ¨åŒ–å•æ¡insertexecute&#34;&gt;è‡ªåŠ¨åŒ–å•æ¡insertï¼ˆexecuteï¼‰&lt;/h2&gt;
&lt;p&gt;å•æ¡insertçš„è¯æ’å…¥5wæ¡æ•°æ®å¤§çº¦ç”¨æ—¶5ç§’å·¦å³ï¼Œ&lt;strong&gt;ç›¸å¯¹æ¥è¯´æ•ˆç‡ä¸é«˜&lt;/strong&gt;ï¼Œä½†æ˜¯èƒ½å¯¹æ¯æ¡æ’å…¥çš„æ•°æ®è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚æ ¡éªŒã€æŸ¥è¯¢æ•°æ®åº“å­˜ä¸å­˜åœ¨é‡å¤çš„æ•°æ®ç­‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import time
from pymysql import *

# è£…é¥°å™¨ï¼Œè®¡ç®—æ’å…¥50000æ¡æ•°æ®éœ€è¦çš„æ—¶é—´
def timer(func):
    def decor(*args):
        start_time = time.time()
        func(*args)
        end_time = time.time()
        d_time = end_time - start_time
        print(&amp;quot;the running time is : &amp;quot;, d_time)

    return decor

@timer
def add_test_users():
    conn = connect(host=&#39;ä¸»æœºå&#39;, port=&#39;ç«¯å£å·&#39;, user=&#39;ç”¨æˆ·å&#39;, password=&#39;å¯†ç &#39;, database=&#39;æ•°æ®åº“å&#39;, charset=&#39;utf8&#39;)
    cs = conn.cursor()
    for num in range(0, 58000):
        try:
            sql = &amp;quot;insert into &#39;è¡¨å&#39;(å­—æ®µå) values(å€¼)&amp;quot;
            cs.execute(sql)
        except Exception as e:
            return
    conn.commit()
    cs.close()
    conn.close()
    print(&#39;OK&#39;)

add_test_users()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‹¼æ¥sqlè¯­å¥executemany&#34;&gt;æ‹¼æ¥sqlè¯­å¥ï¼ˆexecutemanyï¼‰&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨è¿™ç§æ‰¹é‡æ’å…¥æ–¹å¼æ’å…¥5wæ¡æ•°æ®ç”¨æ—¶å¤§çº¦ä¸åˆ°1ç§’ï¼Œ&lt;strong&gt;æ•ˆç‡æœ‰æ‰€æé«˜&lt;/strong&gt;ï¼Œä½†æ˜¯å› ä¸ºpymysqlæ˜¯äº‹åŠ¡å‹çš„ï¼Œä¸€æ¡æ•°æ®æ’å…¥ä¸æˆåŠŸåˆ™æ‰€æœ‰çš„æ•°æ®å‡æ’å…¥å¤±è´¥ï¼Œ&lt;strong&gt;ä¸é€‚åˆæœ‰ä¸»é”®æˆ–è€…éé‡å¤è”åˆç´¢å¼•çš„æƒ…å†µ&lt;/strong&gt;ã€‚&lt;br&gt;
å¦å¤–ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;execute(sql)&lt;/code&gt;: æ¥å—ä¸€æ¡è¯­å¥ï¼Œç„¶åæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;executemany(templet,args)&lt;/code&gt;ï¼šèƒ½åŒæ—¶æ‰§è¡Œå¤šæ¡è¯­å¥ï¼Œæ‰§è¡ŒåŒæ ·å¤šçš„è¯­å¥å¯æ¯”execute()å¿«å¾ˆå¤šï¼Œå¼ºçƒˆå»ºè®®æ‰§è¡Œå¤šæ¡è¯­å¥æ—¶ä½¿ç”¨executemany
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;templet&lt;/code&gt; : sqlæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚&lt;code&gt;insert into table(id,name,age) values(%s,%s,%s)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;args&lt;/code&gt;: æ¨¡æ¿å­—ç¬¦ä¸²ä¸­çš„å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªlistï¼Œåœ¨listä¸­çš„&lt;strong&gt;æ¯ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯å…ƒç»„&lt;/strong&gt;ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;[(1,&#39;mike&#39;),(2,&#39;jordan&#39;),(3,&#39;james&#39;),(4,&#39;rose&#39;)]&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import time
from pymysql import *

# è£…é¥°å™¨ï¼Œè®¡ç®—æ’å…¥50000æ¡æ•°æ®éœ€è¦çš„æ—¶é—´
def timer(func):
    def decor(*args):
        start_time = time.time()
        func(*args)
        end_time = time.time()
        d_time = end_time - start_time
        print(&amp;quot;the running time is : &amp;quot;, d_time)

    return decor

@timer
def add_test_users():
    usersvalues = []
    for num in range(1, 50000):
        usersvalues.append((&#39;éœ€è¦æ’å…¥çš„å­—æ®µå¯¹åº”çš„value&#39;))
    conn = connect(host=&#39;ä¸»æœºå&#39;, port=&#39;ç«¯å£å·&#39;, user=&#39;ç”¨æˆ·å&#39;, password=&#39;å¯†ç &#39;, database=&#39;æ•°æ®åº“å&#39;, charset=&#39;utf8&#39;)
    cs = conn.cursor()
    # æ³¨æ„è¿™é‡Œä½¿ç”¨çš„æ˜¯executemanyè€Œä¸æ˜¯executeï¼Œä¸‹è¾¹æœ‰å¯¹executemanyçš„è¯¦ç»†è¯´æ˜
    cs.executemany(&#39;insert into &#39;è¡¨å&#39;(å­—æ®µå) values(%s,%s,%s,%s)&#39;, usersvalues)
    conn.commit()
    cs.close()
    conn.close()
    print(&#39;OK&#39;)

add_test_users()
&lt;/code&gt;&lt;/pre&gt;
">pythonä¹‹æ“ä½œmysqlæ•°æ®åº“ï¼ˆPyMySQLï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hua-wei-jiao-huan-ji-ntp-shi-jian-tong-bu-she-zhi-ke-hu-duan-he-fu-wu-duan/"" data-c="
          &lt;h1 id=&#34;ä½œä¸ºntpå®¢æˆ·ç«¯æ—¶é—´åŒæ­¥&#34;&gt;ä½œä¸ºNTPå®¢æˆ·ç«¯ï¼ˆæ—¶é—´åŒæ­¥ï¼‰&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è®¾ç½®æ—¶åŒº
clock timezone BeiJing add 08:00:00
# clock timezone BJ add 08:00:00

# è®¾ç½®NTPæœåŠ¡å™¨åœ°å€
ntp-service unicast-server 10.10.10.250 #å°†æ­¤å¤„IPæ›´æ”¹ä¸ºæ—¶é’ŸæœåŠ¡å™¨åœ°å€

# æŸ¥çœ‹å½“å‰æ—¶é—´
display clock
# 23:32:42  2019/09/10
# 2021-09-28 23:32:42
# Tuesday
# Time Zone : Beijing add 08:00:00

# æŸ¥çœ‹NTPæœåŠ¡ä¼šè¯
display ntp-service sessions

# æäº¤æ‰€æœ‰çš„ä¿®æ”¹å¹¶ä¿å­˜
commit
re
sa
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ä½œä¸ºntpæœåŠ¡ç«¯æä¾›æ—¶é—´åŒæ­¥æœåŠ¡å™¨&#34;&gt;ä½œä¸ºNTPæœåŠ¡ç«¯ï¼ˆæä¾›æ—¶é—´åŒæ­¥æœåŠ¡å™¨ï¼‰&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è®¾ç½®æ—¶é—´çš„å‘½ä»¤å¦‚ä¸‹ï¼š
# clock datetime 0:0:0 2012-12-01

# å¼€å¯äº¤æ¢æœºçš„NTPæœåŠ¡
undo ntp server disable  # é»˜è®¤å…³é—­
# é…ç½®NTPä¸»æ—¶é’Ÿï¼Œå±‚æ•°ä¸º2
ntp refclock-master 2

# ä¸‹é¢çš„æ˜¯NTPè®¾ç½®çš„æ›´å¤šåŠŸèƒ½ï¼Œå¯ä»¥ä¸é…ç½®
#  é…ç½®NTPè®¤è¯åŠŸèƒ½ï¼Œé…ç½®è®¤è¯å¯†é’¥å¹¶å£°æ˜è¯¥å¯†é’¥å¯ä¿¡
ntp authentication enable
ntp authentication-keyid 42 authentication-mode hmac-sha256 Hello@123456
ntp trusted authentication-keyid 42
# å¹¿æ’­æ¨¡å¼
# é…ç½®NTPå¹¿æ’­æœåŠ¡å™¨ï¼Œä»æ¥å£10GE1/0/1å‘é€NTPå¹¿æ’­æŠ¥æ–‡ï¼Œå¹¶æŒ‡å®šä½¿ç”¨å¯†é’¥ID 42åŠ å¯†ã€‚
interface 10ge 1/0/1
undo portswitch
ntp broadcast-server authentication-keyid 42
# ç»„æ’­æ¨¡å¼
interface 10ge 1/0/1
undo portswitch
ntp multicast-server authentication-keyid 42
# å¤šæ’­æ¨¡å¼
interface 10ge 1/0/1
undo portswitch
ntp manycast-server

# æäº¤æ‰€æœ‰çš„ä¿®æ”¹å¹¶ä¿å­˜
commit
re
sa
&lt;/code&gt;&lt;/pre&gt;
">åä¸ºäº¤æ¢æœºNTPæ—¶é—´åŒæ­¥è®¾ç½®ï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/zi-qian-ming-zheng-shu-zhi-zuo-openssl/"" data-c="
          &lt;h1 id=&#34;å¸¸ç”¨å‘½ä»¤å¿«é€Ÿåˆ¶ä½œè¯ä¹¦&#34;&gt;å¸¸ç”¨å‘½ä»¤ï¼ˆå¿«é€Ÿåˆ¶ä½œè¯ä¹¦ï¼‰&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…openssl
yum install openssl
# è¯ä¹¦åˆ¶ä½œ
openssl req -newkey rsa:4096 -x509 -sha256 -days 3650 -nodes -outform pem -out fqj.github.io.pem -keyout fqj.github.io.key
# -newkey rsa:4096  åˆ›å»ºæ–°çš„è¯ä¹¦è¯·æ±‚å’Œ4096ä½RSAå¯†é’¥ï¼Œé»˜è®¤å€¼ä¸º2048ä½
# -x509     åˆ›å»ºX.509è¯ä¹¦
# -sha256   ä½¿ç”¨265ä½SHAï¼ˆå®‰å…¨å“ˆå¸Œç®—æ³•ï¼‰
# -days 3650    è®¤è¯è¯ä¹¦çš„å¤©æ•°ï¼Œ 3650æ˜¯10å¹´ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•æ­£æ•´æ•°
# -nodes    åˆ›å»ºæ²¡æœ‰å¯†ç çš„å¯†é’¥
# -outform  è¾“å‡ºè¯ä¹¦æ ¼å¼ä¸ºpem
# -out fqj.github.io.pem    æŒ‡å®šå°†æ–°åˆ›å»ºçš„è¯ä¹¦å†™å…¥çš„æ–‡ä»¶åï¼Œå¯ä»¥æŒ‡å®šä»»ä½•æ–‡ä»¶å
# -keyout fqj.github.io.key     æŒ‡å®šè¦å†™å…¥æ–°åˆ›å»ºçš„ç§é’¥çš„æ–‡ä»¶åï¼Œå¯ä»¥æŒ‡å®šä»»ä½•æ–‡ä»¶å

# æ‰§è¡ŒæŒ‡ä»¤åï¼Œéœ€è¦è¾“å…¥è‡ªå®šä¹‰å‚æ•°
Country Name (2 letter code) [AU]:CN    # å›½å®¶/åœ°åŒºåç§°ï¼ˆäºŒä½å­—æ¯ä»£ç ï¼‰
State or Province Name (full name) [Some-State]:Guangxi # å·æˆ–çœåç§°ï¼ˆå…¨åï¼‰
Locality Name (eg, city) []:Nanning #æ‰€åœ¨åœ°åç§°ï¼ˆä¾‹å¦‚åŸå¸‚ï¼‰
Organization Name (eg, company) [Internet Widgits Pty Ltd]:FQJ   # ç»„ç»‡åç§°ï¼ˆä¾‹å¦‚å…¬å¸ï¼‰
Organizational Unit Name (eg, section) []:HR    # ç»„ç»‡å•å…ƒåç§°ï¼ˆä¾‹å¦‚éƒ¨é—¨ï¼‰
Common Name (e.g. server FQDN or YOUR name) []:fqj.github.io    # é€šç”¨åï¼ˆä¾‹å¦‚å§“åæˆ–æœåŠ¡å™¨ä¸»æœºåï¼‰
Email Address []:123@qq.com # ç”µå­é‚®ä»¶åœ°å€

# åœ¨å½“å‰ç›®å½•ä¸‹å°±å¯ä»¥çœ‹åˆ°fqj.github.io.pemå’Œfqj.github.io.keyä¸¤ä¸ªæ–‡ä»¶

# åˆ›å»ºæ— æç¤ºçš„è‡ªç­¾åSSLè¯ä¹¦
openssl req -newkey rsa:4096 -x509 -sha256 -days 3650 -nodes -outform pem -out fqj.github.io.pem -keyout fqj.github.io.key -subj &amp;quot;/C=CN/ST=Guangxi/L=Nanning/O=FQJ/OU=HR/CN=fqj.github.io/emailAddress=123@qq.com&amp;quot;
# åœ¨-subjè¡Œä¸­æŒ‡å®šçš„å­—æ®µå¦‚ä¸‹ï¼š
#   C= å›½å®¶/åœ°åŒºåç§°ï¼Œ ISOçš„ä¸¤ä¸ªå­—æ¯ç¼©å†™
#   ST= å·æˆ–çœå
#   L= åœ°åŒºåç§°ï¼Œæ‰€åœ¨çš„åŸå¸‚çš„åç§°
#   O= ç»„ç»‡çš„å…¨å
#   OU= ç»„ç»‡å†…å•ä½åç§°
#   CN= å®Œå…¨é™å®šçš„åŸŸå
#   emailAddress= é‚®ç®±åœ°å€
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;è‡ªç­¾åè¯ä¹¦&#34;&gt;è‡ªç­¾åè¯ä¹¦&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªç­¾åSSLè¯ä¹¦æ˜¯&lt;strong&gt;ç”±åˆ›å»ºå®ƒçš„äººè€Œä¸æ˜¯å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„&lt;/strong&gt;ç­¾åçš„è¯ä¹¦ã€‚è‡ªç­¾åè¯ä¹¦å¯ä»¥ä¸å—ä¿¡ä»»çš„CAç­¾åSSLè¯ä¹¦å…·æœ‰&lt;strong&gt;ç›¸åŒçš„åŠ å¯†çº§åˆ«&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¢«ä»»ä½•æµè§ˆå™¨è¯†åˆ«ä¸ºæœ‰æ•ˆçš„è‡ªç­¾åè¯ä¹¦ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯è‡ªç­¾åè¯ä¹¦ï¼Œåˆ™ç½‘ç»œ&lt;strong&gt;æµè§ˆå™¨å°†å‘è®¿é—®è€…æ˜¾ç¤ºè­¦å‘Š&lt;/strong&gt;ï¼Œæç¤ºè¯¥ç½‘ç«™è¯ä¹¦æ— æ³•éªŒè¯&lt;/li&gt;
&lt;li&gt;è‡ªç­¾åè¯ä¹¦ä¸»è¦ç”¨äº&lt;strong&gt;æµ‹è¯•ç›®çš„æˆ–å†…éƒ¨ä½¿ç”¨&lt;/strong&gt;ï¼Œä¸åº”è¯¥åœ¨æš´éœ²äºInternetçš„ç”Ÿäº§ç³»ç»Ÿä¸­ä½¿ç”¨è‡ªç­¾åè¯ä¹¦&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;opensslç®€ä»‹&#34;&gt;opensslç®€ä»‹&lt;/h1&gt;
&lt;p&gt;å®˜ç½‘&lt;a href=&#34;https://www.openssl.org/source/&#34;&gt;https://www.openssl.org/source/&lt;/a&gt;&lt;br&gt;
opensslæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å®‰å…¨å¥—æ¥å­—å±‚å¯†ç åº“ï¼Œå›Šæ‹¬ä¸»è¦çš„å¯†ç ç®—æ³•ã€å¸¸ç”¨çš„å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½åŠSSLåè®®ï¼Œå¹¶æä¾›ä¸°å¯Œçš„åº”ç”¨ç¨‹åºä¾›æµ‹è¯•æˆ–å…¶å®ƒç›®çš„ä½¿ç”¨ã€‚&lt;br&gt;
åœ¨opensslè¢«æ›å‡ºç°ä¸¥é‡å®‰å…¨æ¼æ´åï¼Œå‘ç°å¤šæ•°é€šè¿‡SSLåè®®åŠ å¯†çš„ç½‘ç«™ä½¿ç”¨åä¸ºopensslçš„å¼€æºè½¯ä»¶åŒ…ã€‚ç”±äºè¿™æ˜¯äº’è”ç½‘åº”ç”¨æœ€å¹¿æ³›çš„å®‰å…¨ä¼ è¾“æ–¹æ³•ï¼Œè¢«ç½‘é“¶ã€åœ¨çº¿æ”¯ä»˜ã€ç”µå•†ç½‘ç«™ã€é—¨æˆ·ç½‘ç«™ã€ç”µå­é‚®ä»¶ç­‰é‡è¦ç½‘ç«™å¹¿æ³›ä½¿ç”¨ï¼Œæ‰€ä»¥è¯¥æ¼æ´å½±å“èŒƒå›´å¹¿å¤§ã€‚&lt;br&gt;
opensslæœ‰&lt;strong&gt;ä¸¤ç§è¿è¡Œæ¨¡å¼&lt;/strong&gt;ï¼šäº¤äº’æ¨¡å¼å’Œæ‰¹å¤„ç†æ¨¡å¼ï¼Œç›´æ¥è¾“å…¥&lt;code&gt;openssl&lt;/code&gt;å›è½¦è¿›å…¥äº¤äº’æ¨¡å¼ï¼Œè¾“å…¥å¸¦å‘½ä»¤é€‰é¡¹çš„&lt;code&gt;openssl&lt;/code&gt;è¿›å…¥æ‰¹å¤„ç†æ¨¡å¼ã€‚&lt;br&gt;
opensslæ•´ä¸ªè½¯ä»¶åŒ…å¤§æ¦‚å¯ä»¥åˆ†æˆ&lt;strong&gt;ä¸‰ä¸ªä¸»è¦çš„åŠŸèƒ½éƒ¨åˆ†&lt;/strong&gt;ï¼šå¯†ç ç®—æ³•åº“ã€SSLåè®®åº“ä»¥åŠåº”ç”¨ç¨‹åºã€‚opensslçš„ç›®å½•ç»“æ„è‡ªç„¶ä¹Ÿæ˜¯å›´ç»•è¿™ä¸‰ä¸ªåŠŸèƒ½éƒ¨åˆ†è¿›è¡Œè§„åˆ’çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ç§°åŠ å¯†ç®—æ³•&lt;br&gt;
opensslä¸€å…±æä¾›äº†8ç§å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå…¶ä¸­7ç§æ˜¯åˆ†ç»„åŠ å¯†ç®—æ³•ï¼Œä»…æœ‰çš„ä¸€ç§æµåŠ å¯†ç®—æ³•æ˜¯RC4ã€‚è¿™7ç§åˆ†ç»„åŠ å¯†ç®—æ³•åˆ†åˆ«æ˜¯AESã€DESã€Blowfishã€CASTã€IDEAã€RC2ã€RC5ï¼Œéƒ½æ”¯æŒç”µå­å¯†ç æœ¬æ¨¡å¼ï¼ˆECBï¼‰ã€åŠ å¯†åˆ†ç»„é“¾æ¥æ¨¡å¼ï¼ˆCBCï¼‰ã€åŠ å¯†åé¦ˆæ¨¡å¼ï¼ˆCFBï¼‰å’Œè¾“å‡ºåé¦ˆæ¨¡å¼ï¼ˆOFBï¼‰å››ç§å¸¸ç”¨çš„åˆ†ç»„å¯†ç åŠ å¯†æ¨¡å¼ã€‚å…¶ä¸­ï¼ŒAESä½¿ç”¨çš„åŠ å¯†åé¦ˆæ¨¡å¼ï¼ˆCFBï¼‰å’Œè¾“å‡ºåé¦ˆæ¨¡å¼ï¼ˆOFBï¼‰åˆ†ç»„é•¿åº¦æ˜¯128ä½ï¼Œå…¶å®ƒç®—æ³•ä½¿ç”¨çš„åˆ™æ˜¯64ä½ã€‚äº‹å®ä¸Šï¼ŒDESç®—æ³•é‡Œé¢ä¸ä»…ä»…æ˜¯å¸¸ç”¨çš„DESç®—æ³•ï¼Œè¿˜æ”¯æŒä¸‰ä¸ªå¯†é’¥å’Œä¸¤ä¸ªå¯†é’¥3DESç®—æ³•ã€‚&lt;/li&gt;
&lt;li&gt;éå¯¹ç§°åŠ å¯†ç®—æ³•&lt;br&gt;
opensslä¸€å…±å®ç°äº†4ç§éå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ŒåŒ…æ‹¬DHç®—æ³•ã€RSAç®—æ³•ã€DSAç®—æ³•å’Œæ¤­åœ†æ›²çº¿ç®—æ³•ï¼ˆECï¼‰ã€‚DHç®—æ³•ä¸€èˆ¬ç”¨æˆ·å¯†é’¥äº¤æ¢ã€‚RSAç®—æ³•æ—¢å¯ä»¥ç”¨äºå¯†é’¥äº¤æ¢ï¼Œä¹Ÿå¯ä»¥ç”¨äºæ•°å­—ç­¾åï¼Œå½“ç„¶ï¼Œå¦‚æœä½ èƒ½å¤Ÿå¿å—å…¶ç¼“æ…¢çš„é€Ÿåº¦ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨äºæ•°æ®åŠ å¯†ã€‚DSAç®—æ³•åˆ™ä¸€èˆ¬åªç”¨äºæ•°å­—ç­¾åã€‚&lt;/li&gt;
&lt;li&gt;ä¿¡æ¯æ‘˜è¦ç®—æ³•&lt;br&gt;
opensslå®ç°äº†5ç§ä¿¡æ¯æ‘˜è¦ç®—æ³•ï¼Œåˆ†åˆ«æ˜¯MD2ã€MD5ã€MDC2ã€SHAï¼ˆSHA1ï¼‰å’ŒRIPEMDã€‚SHAç®—æ³•äº‹å®ä¸ŠåŒ…æ‹¬äº†SHAå’ŒSHA1ä¸¤ç§ä¿¡æ¯æ‘˜è¦ç®—æ³•ï¼Œæ­¤å¤–ï¼ŒOpenSSLè¿˜å®ç°äº†DSSæ ‡å‡†ä¸­è§„å®šçš„ä¸¤ç§ä¿¡æ¯æ‘˜è¦ç®—æ³•DSSå’ŒDSS1ã€‚&lt;/li&gt;
&lt;li&gt;å¯†é’¥å’Œè¯ä¹¦ç®¡ç†&lt;br&gt;
å¯†é’¥å’Œè¯ä¹¦ç®¡ç†æ˜¯PKIçš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ï¼ŒOpenSSLä¸ºä¹‹æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æ ‡å‡†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¦–å…ˆï¼Œopensslå®ç°äº†ASN.1çš„è¯ä¹¦å’Œå¯†é’¥ç›¸å…³æ ‡å‡†ï¼Œæä¾›äº†å¯¹è¯ä¹¦ã€å…¬é’¥ã€ç§é’¥ã€è¯ä¹¦è¯·æ±‚ä»¥åŠCRLç­‰æ•°æ®å¯¹è±¡çš„DERã€PEMå’ŒBASE64çš„ç¼–è§£ç åŠŸèƒ½ã€‚opensslæä¾›äº†äº§ç”Ÿå„ç§å…¬å¼€å¯†é’¥å¯¹å’Œå¯¹ç§°å¯†é’¥çš„æ–¹æ³•ã€å‡½æ•°å’Œåº”ç”¨ç¨‹åºï¼ŒåŒæ—¶æä¾›äº†å¯¹å…¬é’¥å’Œç§é’¥çš„DERç¼–è§£ç åŠŸèƒ½ã€‚å¹¶å®ç°äº†ç§é’¥çš„PKCS#12å’ŒPKCS#8çš„ç¼–è§£ç åŠŸèƒ½ã€‚opensslåœ¨æ ‡å‡†ä¸­æä¾›äº†å¯¹ç§é’¥çš„åŠ å¯†ä¿æŠ¤åŠŸèƒ½ï¼Œä½¿å¾—å¯†é’¥å¯ä»¥å®‰å…¨åœ°è¿›è¡Œå­˜å‚¨å’Œåˆ†å‘ã€‚&lt;br&gt;
åœ¨æ­¤åŸºç¡€ä¸Šï¼Œopensslå®ç°äº†å¯¹è¯ä¹¦çš„X.509æ ‡å‡†ç¼–è§£ç ã€PKCS#12æ ¼å¼çš„ç¼–è§£ç ä»¥åŠPKCS#7çš„ç¼–è§£ç åŠŸèƒ½ã€‚å¹¶æä¾›äº†ä¸€ç§æ–‡æœ¬æ•°æ®åº“ï¼Œæ”¯æŒè¯ä¹¦çš„ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬è¯ä¹¦å¯†é’¥äº§ç”Ÿã€è¯·æ±‚äº§ç”Ÿã€è¯ä¹¦ç­¾å‘ã€åŠé”€å’ŒéªŒè¯ç­‰åŠŸèƒ½ã€‚&lt;br&gt;
äº‹å®ä¸Šï¼Œopensslæä¾›çš„CAåº”ç”¨ç¨‹åºå°±æ˜¯ä¸€ä¸ªå°å‹çš„è¯ä¹¦ç®¡ç†ä¸­å¿ƒï¼ˆCAï¼‰ï¼Œå®ç°äº†è¯ä¹¦ç­¾å‘çš„æ•´ä¸ªæµç¨‹å’Œè¯ä¹¦ç®¡ç†çš„å¤§éƒ¨åˆ†æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ„æˆéƒ¨åˆ†&#34;&gt;æ„æˆéƒ¨åˆ†&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¯†ç ç®—æ³•åº“&lt;/li&gt;
&lt;li&gt;å¯†é’¥å’Œè¯ä¹¦å°è£…ç®¡ç†åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;SSLé€šä¿¡APIæ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç”¨é€”&#34;&gt;ç”¨é€”&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å»ºç«‹RSAã€DHã€DSA keyå‚æ•°&lt;/li&gt;
&lt;li&gt;å»ºç«‹X.509è¯ä¹¦ã€è¯ä¹¦ç­¾åè¯·æ±‚(CSR)å’ŒCRLs(è¯ä¹¦å›æ”¶åˆ—è¡¨)&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ¶ˆæ¯æ‘˜è¦&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å„ç§CipheråŠ å¯†/è§£å¯†&lt;/li&gt;
&lt;li&gt;SSL/TLSå®¢æˆ·ç«¯ä»¥åŠæœåŠ¡å™¨çš„æµ‹è¯•&lt;/li&gt;
&lt;li&gt;å¤„ç†S/MIMEæˆ–è€…åŠ å¯†é‚®ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å¸¸ç”¨æŒ‡ä»¤&#34;&gt;å¸¸ç”¨æŒ‡ä»¤&lt;/h1&gt;
&lt;h2 id=&#34;rsaå¯†é’¥æ“ä½œ&#34;&gt;RSAå¯†é’¥æ“ä½œ&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œopensslè¾“å‡ºæ ¼å¼ä¸ºPKCS#1-PEM&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”Ÿæˆä¸åŠ å¯†çš„å¯†é’¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç”ŸæˆRSAç§é’¥(æ— åŠ å¯†)
openssl genrsa -out rsa_private.key 2048

# ç”ŸæˆRSAå…¬é’¥
openssl rsa -in rsa_private.key -pubout -out rsa_public.key
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç”ŸæˆåŠ å¯†çš„å¯†é’¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç”ŸæˆRSAç§é’¥(ä½¿ç”¨aes256åŠ å¯†)
openssl genrsa -aes256 -passout pass:111111 -out rsa_aes_private.key 2048
# passoutä»£æ›¿shellè¿›è¡Œå¯†ç è¾“å…¥ï¼Œå¦åˆ™ä¼šæç¤ºè¾“å…¥å¯†ç 
# ç”ŸæˆåŠ å¯†åçš„å†…å®¹å¦‚ï¼š
# -----BEGIN RSA PRIVATE KEY-----
# Proc-Type: 4,ENCRYPTED
# DEK-Info: AES-256-CBC,5584D000DDDD53DD5B12AE935F05A007
# Base64 Encoded Data
# -----END RSA PRIVATE KEY-----

# æ­¤æ—¶è‹¥ç”Ÿæˆå…¬é’¥ï¼Œéœ€è¦æä¾›å¯†ç 
openssl rsa -in rsa_aes_private.key -passin pass:111111 -pubout -out rsa_public.key
# passinä»£æ›¿shell è¿›è¡Œå¯†ç è¾“å…¥ï¼Œå¦åˆ™ä¼šæç¤ºè¾“å…¥å¯†ç 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¯†é’¥è½¬æ¢&#34;&gt;å¯†é’¥è½¬æ¢&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç§é’¥è½¬éåŠ å¯†
openssl rsa -in rsa_aes_private.key -passin pass:111111 -out rsa_private.key

# ç§é’¥è½¬åŠ å¯†
openssl rsa -in rsa_private.key -aes256 -passout pass:111111 -out rsa_aes_private.key

# ç§é’¥PEMè½¬DER
openssl rsa -in rsa_private.key -outform der-out rsa_aes_private.der
# -informå’Œ-outform å‚æ•°åˆ¶å®šè¾“å…¥è¾“å‡ºæ ¼å¼ï¼Œç”±derè½¬pemæ ¼å¼åŒç†

# æŸ¥çœ‹ç§é’¥æ˜ç»†
openssl rsa -in rsa_private.key -noout -text
# ä½¿ç”¨-pubinå‚æ•°å¯æŸ¥çœ‹å…¬é’¥æ˜ç»†

# ç§é’¥PKCS#1è½¬PKCS#8
openssl pkcs8 -topk8 -in rsa_private.key -passout pass:111111 -out pkcs8_private.key
# -passoutæŒ‡å®šäº†å¯†ç ï¼Œè¾“å‡ºçš„pkcs8æ ¼å¼å¯†é’¥ä¸ºåŠ å¯†å½¢å¼ï¼Œpkcs8é»˜è®¤é‡‡ç”¨des3 åŠ å¯†ç®—æ³•ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
# -----BEGIN ENCRYPTED PRIVATE KEY-----
# Base64 Encoded Data
# -----END ENCRYPTED PRIVATE KEY-----
# ä½¿ç”¨-nocryptå‚æ•°å¯ä»¥è¾“å‡ºæ— åŠ å¯†çš„pkcs8å¯†é’¥ï¼Œå¦‚ä¸‹ï¼š
# -----BEGIN PRIVATE KEY-----
# Base64 Encoded Data
# -----END PRIVATE KEY-----
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ç”Ÿæˆè‡ªç­¾åè¯ä¹¦&#34;&gt;ç”Ÿæˆè‡ªç­¾åè¯ä¹¦&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç”Ÿæˆ RSA ç§é’¥å’Œè‡ªç­¾åè¯ä¹¦
openssl req -newkey rsa:2048 -nodes -keyout rsa_private.key -x509 -days 365 -out cert.crt
# reqæ˜¯è¯ä¹¦è¯·æ±‚çš„å­å‘½ä»¤
# -newkey rsa:2048 -keyout private_key.pem è¡¨ç¤ºç”Ÿæˆç§é’¥(PKCS8æ ¼å¼)
# -nodes è¡¨ç¤ºç§é’¥ä¸åŠ å¯†ï¼Œè‹¥ä¸å¸¦å‚æ•°å°†æç¤ºè¾“å…¥å¯†ç 
# -x509è¡¨ç¤ºè¾“å‡ºè¯ä¹¦
# -days365 ä¸ºæœ‰æ•ˆæœŸï¼Œæ­¤åæ ¹æ®æç¤ºè¾“å…¥è¯ä¹¦æ‹¥æœ‰è€…ä¿¡æ¯
# è‹¥æ‰§è¡Œè‡ªåŠ¨è¾“å…¥ï¼Œå¯ä½¿ç”¨-subjé€‰é¡¹ï¼š
openssl req -newkey rsa:2048 -nodes -keyout rsa_private.key -x509 -days 365 -out cert.crt -subj &amp;quot;/C=CN/ST=GD/L=SZ/O=vihoo/OU=dev/CN=vivo.com/emailAddress=yy@vivo.com&amp;quot;

# ä½¿ç”¨ å·²æœ‰RSA ç§é’¥ç”Ÿæˆè‡ªç­¾åè¯ä¹¦
openssl req -new -x509 -days 365 -key rsa_private.key -out cert.crt
# -new æŒ‡ç”Ÿæˆè¯ä¹¦è¯·æ±‚ï¼ŒåŠ ä¸Š-x509 è¡¨ç¤ºç›´æ¥è¾“å‡ºè¯ä¹¦
# -key æŒ‡å®šç§é’¥æ–‡ä»¶ï¼Œå…¶ä½™é€‰é¡¹ä¸ä¸Šè¿°å‘½ä»¤ç›¸åŒ
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ç”Ÿæˆç­¾åè¯·æ±‚åŠca-ç­¾å&#34;&gt;ç”Ÿæˆç­¾åè¯·æ±‚åŠCA ç­¾å&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä½¿ç”¨RSAç§é’¥ç”ŸæˆCSRç­¾åè¯·æ±‚
openssl genrsa -aes256 -passout pass:111111 -out server.key 2048
openssl req -new -key server.key -out server.csr

# æ­¤åè¾“å…¥å¯†ç ã€serverè¯ä¹¦ä¿¡æ¯å®Œæˆï¼Œä¹Ÿå¯ä»¥å‘½ä»¤è¡ŒæŒ‡å®šå„ç±»å‚æ•°
openssl req -new -key server.key -passin pass:111111 -out server.csr -subj &amp;quot;/C=CN/ST=GD/L=SZ/O=vihoo/OU=dev/CN=vivo.com/emailAddress=yy@vivo.com&amp;quot;
# æ­¤æ—¶ç”Ÿæˆçš„CSRç­¾åè¯·æ±‚æ–‡ä»¶å¯æäº¤è‡³CAè¿›è¡Œç­¾å‘

# æŸ¥çœ‹CSRçš„ç»†èŠ‚
cat server.csr
# -----BEGIN CERTIFICATE REQUEST-----
# Base64EncodedData
# -----END CERTIFICATE REQUEST-----
openssl req -noout -text -in server.csr

# ä½¿ç”¨CAè¯ä¹¦åŠCAå¯†é’¥ å¯¹è¯·æ±‚ç­¾å‘è¯ä¹¦è¿›è¡Œç­¾å‘ï¼Œç”Ÿæˆ x509è¯ä¹¦
openssl x509 -req -days 3650 -in server.csr -CA ca.crt -CAkey ca.key -passin pass:111111 -CAcreateserial -out server.crt
# CAxxxé€‰é¡¹ç”¨äºæŒ‡å®šCAå‚æ•°è¾“å…¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è¯ä¹¦æŸ¥çœ‹åŠè½¬æ¢&#34;&gt;è¯ä¹¦æŸ¥çœ‹åŠè½¬æ¢&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹è¯ä¹¦ç»†èŠ‚
openssl x509 -in cert.crt -noout -text

# è½¬æ¢è¯ä¹¦ç¼–ç æ ¼å¼
openssl x509 -in cert.cer -inform DER -outform PEM -out cert.pem

# åˆæˆ pkcs#12 è¯ä¹¦(å«ç§é’¥)
#   1. å°†pemè¯ä¹¦å’Œç§é’¥ åˆæˆ pkcs#12 è¯ä¹¦ 
openssl pkcs12 -export -in server.crt -inkey server.key -passin pass:111111 -password pass:111111 -out server.p12
# -exportåªå¯¼å‡ºpkcs#12è¯ä¹¦
# -inkey æŒ‡å®šäº†ç§é’¥æ–‡ä»¶
# -passin ä¸ºç§é’¥(æ–‡ä»¶)å¯†ç (nodesä¸ºæ— åŠ å¯†)
# -password æŒ‡å®š p12æ–‡ä»¶çš„å¯†ç (å¯¼å…¥å¯¼å‡º)

#   2. å°†pemè¯ä¹¦å’Œç§é’¥/CAè¯ä¹¦ åˆæˆ pkcs#12 è¯ä¹¦
openssl pkcs12 -export -in server.crt -inkey server.key -passin pass:111111 -chain -CAfile ca.crt -password pass:111111 -out server-all.p12
# -chainæŒ‡ç¤ºåŒæ—¶æ·»åŠ è¯ä¹¦é“¾
# -CAfile æŒ‡å®šäº†CAè¯ä¹¦ï¼Œå¯¼å‡ºçš„p12æ–‡ä»¶å°†åŒ…å«å¤šä¸ªè¯ä¹¦
# å…¶ä»–é€‰é¡¹ï¼š-nameå¯ç”¨äºæŒ‡å®šserverè¯ä¹¦åˆ«åï¼›-canameç”¨äºæŒ‡å®šcaè¯ä¹¦åˆ«å

#   3. pcks#12 æå–PEMæ–‡ä»¶(å«ç§é’¥) 
openssl pkcs12 -in server.p12 -password pass:111111 -passout pass:111111 -out out/server.pem
# -password æŒ‡å®š p12æ–‡ä»¶çš„å¯†ç (å¯¼å…¥å¯¼å‡º)
# -passoutæŒ‡è¾“å‡ºç§é’¥çš„åŠ å¯†å¯†ç (nodesä¸ºæ— åŠ å¯†)ï¼Œå¯¼å‡ºçš„æ–‡ä»¶ä¸ºpemæ ¼å¼ï¼ŒåŒæ—¶åŒ…å«è¯ä¹¦å’Œç§é’¥(pkcs#8)ï¼š
# Bag Attributes
#     localKeyID: 97 DD 46 3D 1E 91 EF 01 3B 2E 4A 75 81 4F 11 A6 E7 1F 79 40 
# subject=/C=CN/ST=GD/L=SZ/O=vihoo/OU=dev/CN=vihoo.com/emailAddress=yy@vihoo.com
# issuer=/C=CN/ST=GD/L=SZ/O=viroot/OU=dev/CN=viroot.com/emailAddress=yy@viroot.com
# -----BEGIN CERTIFICATE-----
# MIIDazCCAlMCCQCIOlA9/dcfEjANBgkqhkiG9w0BAQUFADB5MQswCQYDVQQGEwJD
# 1LpQCA+2B6dn4scZwaCD
# -----END CERTIFICATE-----
# Bag Attributes
#     localKeyID: 97 DD 46 3D 1E 91 EF 01 3B 2E 4A 75 81 4F 11 A6 E7 1F 79 40 
# Key Attributes: &amp;lt;No Attributes&amp;gt;
# -----BEGIN ENCRYPTED PRIVATE KEY-----
# MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDC/6rAc1YaPRNf
# K9ZLHbyBTKVaxehjxzJHHw==
# -----END ENCRYPTED PRIVATE KEY-----

# ä»…æå–ç§é’¥
 openssl pkcs12 -in server.p12 -password pass:111111 -passout pass:111111 -nocerts -out out/key.pem

# ä»…æå–è¯ä¹¦(æ‰€æœ‰è¯ä¹¦)
openssl pkcs12 -in server.p12 -password pass:111111 -nokeys -out out/key.pem

# ä»…æå–caè¯ä¹¦
openssl pkcs12 -in server-all.p12 -password pass:111111 -nokeys -cacerts -out out/cacert.pem 

# ä»…æå–serverè¯ä¹¦
openssl pkcs12 -in server-all.p12 -password pass:111111 -nokeys -clcerts -out out/cert.pem 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;opensslå‘½ä»¤å‚è€ƒ&#34;&gt;opensslå‘½ä»¤å‚è€ƒ&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. openssl list-standard-commands(æ ‡å‡†å‘½ä»¤)
    1) asn1parse: asn1parseç”¨äºè§£é‡Šç”¨ANS.1è¯­æ³•ä¹¦å†™çš„è¯­å¥(ASNä¸€èˆ¬ç”¨äºå®šä¹‰è¯­æ³•çš„æ„æˆ) 
    2) ca: caç”¨äºCAçš„ç®¡ç† 
    openssl ca [options]:
        2.1) -selfsign
        ä½¿ç”¨å¯¹è¯ä¹¦è¯·æ±‚è¿›è¡Œç­¾åçš„å¯†é’¥å¯¹æ¥ç­¾å‘è¯ä¹¦ã€‚å³&amp;quot;è‡ªç­¾å&amp;quot;ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿåœ¨ç”Ÿæˆè¯ä¹¦çš„å®¢æˆ·ç«¯ã€ç­¾å‘è¯ä¹¦çš„CAéƒ½æ˜¯åŒä¸€å°æœºå™¨(ä¹Ÿæ˜¯æˆ‘ä»¬å¤§å¤šæ•°å®éªŒä¸­çš„æƒ…å†µ)ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª
å¯†é’¥å¯¹æ¥è¿›è¡Œ&amp;quot;è‡ªç­¾å&amp;quot;
        2.2) -in file
        éœ€è¦è¿›è¡Œå¤„ç†çš„PEMæ ¼å¼çš„è¯ä¹¦
        2.3) -out file
        å¤„ç†ç»“æŸåè¾“å‡ºçš„è¯ä¹¦æ–‡ä»¶
        2.4) -cert file
        ç”¨äºç­¾å‘çš„æ ¹CAè¯ä¹¦
        2.5) -days arg 
        æŒ‡å®šç­¾å‘çš„è¯ä¹¦çš„æœ‰æ•ˆæ—¶é—´
        2.6) -keyfile arg   
        CAçš„ç§é’¥è¯ä¹¦æ–‡ä»¶
        2.7) -keyform arg
        CAçš„æ ¹ç§é’¥è¯ä¹¦æ–‡ä»¶æ ¼å¼:
            2.7.1) PEM
            2.7.2) ENGINE 
        2.8) -key arg   
        CAçš„æ ¹ç§é’¥è¯ä¹¦æ–‡ä»¶çš„è§£å¯†å¯†ç (å¦‚æœåŠ å¯†äº†çš„è¯)
        2.9) -config file    
        é…ç½®æ–‡ä»¶
    example1: åˆ©ç”¨CAè¯ä¹¦ç­¾ç½²è¯·æ±‚è¯ä¹¦
    openssl ca -in server.csr -out server.crt -cert ca.crt -keyfile ca.key  

    3) req: X.509è¯ä¹¦ç­¾å‘è¯·æ±‚(CSR)ç®¡ç†
    openssl req [options] &amp;lt;infile &amp;gt;outfile
        3.1) -inform arg
        è¾“å…¥æ–‡ä»¶æ ¼å¼
            3.1.1) DER
            3.1.2) PEM
        3.2) -outform arg   
        è¾“å‡ºæ–‡ä»¶æ ¼å¼
            3.2.1) DER
            3.2.2) PEM
        3.3) -in arg
        å¾…å¤„ç†æ–‡ä»¶
        3.4) -out arg
        å¾…è¾“å‡ºæ–‡ä»¶
        3.5) -passin        
        ç”¨äºç­¾åå¾…ç”Ÿæˆçš„è¯·æ±‚è¯ä¹¦çš„ç§é’¥æ–‡ä»¶çš„è§£å¯†å¯†ç 
        3.6) -key file
        ç”¨äºç­¾åå¾…ç”Ÿæˆçš„è¯·æ±‚è¯ä¹¦çš„ç§é’¥æ–‡ä»¶
        3.7) -keyform arg  
            3.7.1) DER
            3.7.2) NET
            3.7.3) PEM
        3.8) -new
        æ–°çš„è¯·æ±‚
        3.9) -x509          
        è¾“å‡ºä¸€ä¸ªX509æ ¼å¼çš„è¯ä¹¦ 
        3.10) -days
        X509è¯ä¹¦çš„æœ‰æ•ˆæ—¶é—´  
        3.11) -newkey rsa:bits 
        ç”Ÿæˆä¸€ä¸ªbitsé•¿åº¦çš„RSAç§é’¥æ–‡ä»¶ï¼Œç”¨äºç­¾å‘  
        3.12) -[digest]
        HASHç®—æ³•
            3.12.1) md5
            3.12.2) sha1
            3.12.3) md2
            3.12.4) mdc2
            3.12.5) md4
        3.13) -config file   
        æŒ‡å®šopensslé…ç½®æ–‡ä»¶
        3.14) -text: textæ˜¾ç¤ºæ ¼å¼
    example1: åˆ©ç”¨CAçš„RSAå¯†é’¥åˆ›å»ºä¸€ä¸ªè‡ªç­¾ç½²çš„CAè¯ä¹¦(X.509ç»“æ„) 
    openssl req -new -x509 -days 3650 -key server.key -out ca.crt 
    example2: ç”¨server.keyç”Ÿæˆè¯ä¹¦ç­¾ç½²è¯·æ±‚CSR(è¿™ä¸ªCSRç”¨äºä¹‹å¤–å‘é€å¾…CAä¸­å¿ƒç­‰å¾…ç­¾å‘)
    openssl req -new -key server.key -out server.csr
    example3: æŸ¥çœ‹CSRçš„ç»†èŠ‚
    openssl req -noout -text -in server.csr

    4) genrsa: ç”ŸæˆRSAå‚æ•°
    openssl genrsa [args] [numbits]
        [args]
        4.1) å¯¹ç”Ÿæˆçš„ç§é’¥æ–‡ä»¶æ˜¯å¦è¦ä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡Œå¯¹ç§°åŠ å¯†:
            4.1.1) -des: CBCæ¨¡å¼çš„DESåŠ å¯†
            4.1.2) -des3: CBCæ¨¡å¼çš„DESåŠ å¯†
            4.1.3) -aes128: CBCæ¨¡å¼çš„AES128åŠ å¯†
            4.1.4) -aes192: CBCæ¨¡å¼çš„AES192åŠ å¯†
            4.1.5) -aes256: CBCæ¨¡å¼çš„AES256åŠ å¯†
        4.2) -passout arg: argä¸ºå¯¹ç§°åŠ å¯†(desã€desã€aes)çš„å¯†ç (ä½¿ç”¨è¿™ä¸ªå‚æ•°å°±çœå»äº†consoleäº¤äº’æç¤ºè¾“å…¥å¯†ç çš„ç¯èŠ‚)
        4.3) -out file: è¾“å‡ºè¯ä¹¦ç§é’¥æ–‡ä»¶
        [numbits]: å¯†é’¥é•¿åº¦
    example: ç”Ÿæˆä¸€ä¸ª1024ä½çš„RSAç§é’¥ï¼Œå¹¶ç”¨DESåŠ å¯†(å¯†ç ä¸º1111)ï¼Œä¿å­˜ä¸ºserver.keyæ–‡ä»¶
    openssl genrsa -out server.key -passout pass:1111 -des3 1024 

    5) rsa: RSAæ•°æ®ç®¡ç†
    openssl rsa [options] &amp;lt;infile &amp;gt;outfile
        5.1) -inform arg
        è¾“å…¥å¯†é’¥æ–‡ä»¶æ ¼å¼:
            5.1.1) DER(ASN1)
            5.1.2) NET
            5.1.3) PEM(base64ç¼–ç æ ¼å¼)
         5.2) -outform arg
         è¾“å‡ºå¯†é’¥æ–‡ä»¶æ ¼å¼
            5.2.1) DER
            5.2.2) NET
            5.2.3) PEM
        5.3) -in arg
        å¾…å¤„ç†å¯†é’¥æ–‡ä»¶ 
        5.4) -passin arg
        è¾“å…¥è¿™ä¸ªåŠ å¯†å¯†é’¥æ–‡ä»¶çš„è§£å¯†å¯†é’¥(å¦‚æœåœ¨ç”Ÿæˆè¿™ä¸ªå¯†é’¥æ–‡ä»¶çš„æ—¶å€™ï¼Œé€‰æ‹©äº†åŠ å¯†ç®—æ³•äº†çš„è¯)
        5.5) -out arg
        å¾…è¾“å‡ºå¯†é’¥æ–‡ä»¶
        5.6) -passout arg  
        å¦‚æœå¸Œæœ›è¾“å‡ºçš„å¯†é’¥æ–‡ä»¶ç»§ç»­ä½¿ç”¨åŠ å¯†ç®—æ³•çš„è¯åˆ™æŒ‡å®šå¯†ç  
        5.7) -des: CBCæ¨¡å¼çš„DESåŠ å¯†
        5.8) -des3: CBCæ¨¡å¼çš„DESåŠ å¯†
        5.9) -aes128: CBCæ¨¡å¼çš„AES128åŠ å¯†
        5.10) -aes192: CBCæ¨¡å¼çš„AES192åŠ å¯†
        5.11) -aes256: CBCæ¨¡å¼çš„AES256åŠ å¯†
        5.12) -text: ä»¥textå½¢å¼æ‰“å°å¯†é’¥keyæ•°æ® 
        5.13) -noout: ä¸æ‰“å°å¯†é’¥keyæ•°æ® 
        5.14) -pubin: æ£€æŸ¥å¾…å¤„ç†æ–‡ä»¶æ˜¯å¦ä¸ºå…¬é’¥æ–‡ä»¶
        5.15) -pubout: è¾“å‡ºå…¬é’¥æ–‡ä»¶
    example1: å¯¹ç§é’¥æ–‡ä»¶è¿›è¡Œè§£å¯†
    openssl rsa -in server.key -passin pass:111 -out server_nopass.key
    example:2: åˆ©ç”¨ç§é’¥æ–‡ä»¶ç”Ÿæˆå¯¹åº”çš„å…¬é’¥æ–‡ä»¶
    openssl rsa -in server.key -passin pass:111 -pubout -out server_public.key

    6) x509:
    æœ¬æŒ‡ä»¤æ˜¯ä¸€ä¸ªåŠŸèƒ½å¾ˆä¸°å¯Œçš„è¯ä¹¦å¤„ç†å·¥å…·ã€‚å¯ä»¥ç”¨æ¥æ˜¾ç¤ºè¯ä¹¦çš„å†…å®¹ï¼Œè½¬æ¢å…¶æ ¼å¼ï¼Œç»™CSRç­¾åç­‰X.509è¯ä¹¦çš„ç®¡ç†å·¥ä½œ
    openssl x509 [args]    
        6.1) -inform arg
        å¾…å¤„ç†X509è¯ä¹¦æ–‡ä»¶æ ¼å¼
            6.1.1) DER
            6.1.2) NET
            6.1.3) PEM
        6.2) -outform arg   
        å¾…è¾“å‡ºX509è¯ä¹¦æ–‡ä»¶æ ¼å¼
            6.2.1) DER
            6.2.2) NET
            6.2.3) PEM
        6.3) -in arg 
        å¾…å¤„ç†X509è¯ä¹¦æ–‡ä»¶
        6.4) -out arg       
        å¾…è¾“å‡ºX509è¯ä¹¦æ–‡ä»¶
        6.5) -req            
        è¡¨æ˜è¾“å…¥æ–‡ä»¶æ˜¯ä¸€ä¸ª&amp;quot;è¯·æ±‚ç­¾å‘è¯ä¹¦æ–‡ä»¶(CSR)&amp;quot;ï¼Œç­‰å¾…è¿›è¡Œç­¾å‘ 
        6.6) -days arg       
        è¡¨æ˜å°†è¦ç­¾å‘çš„è¯ä¹¦çš„æœ‰æ•ˆæ—¶é—´ 
        6.7) -CA arg 
        æŒ‡å®šç”¨äºç­¾å‘è¯·æ±‚è¯ä¹¦çš„æ ¹CAè¯ä¹¦ 
        6.8) -CAform arg     
        æ ¹CAè¯ä¹¦æ ¼å¼(é»˜è®¤æ˜¯PEM) 
        6.9) -CAkey arg      
        æŒ‡å®šç”¨äºç­¾å‘è¯·æ±‚è¯ä¹¦çš„CAç§é’¥è¯ä¹¦æ–‡ä»¶ï¼Œå¦‚æœè¿™ä¸ªoptionæ²¡æœ‰å‚æ•°è¾“å…¥ï¼Œé‚£ä¹ˆç¼ºçœè®¤ä¸ºç§æœ‰å¯†é’¥åœ¨CAè¯ä¹¦æ–‡ä»¶é‡Œæœ‰
        6.10) -CAkeyform arg  
        æŒ‡å®šæ ¹CAç§é’¥è¯ä¹¦æ–‡ä»¶æ ¼å¼(é»˜è®¤ä¸ºPEMæ ¼å¼)
        6.11) -CAserial arg   
        æŒ‡å®šåºåˆ—å·æ–‡ä»¶(serial number file)
        6.12) -CAcreateserial 
        å¦‚æœåºåˆ—å·æ–‡ä»¶(serial number file)æ²¡æœ‰æŒ‡å®šï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºå®ƒ     
    example1: è½¬æ¢DERè¯ä¹¦ä¸ºPEMæ ¼å¼
    openssl x509 -in cert.cer -inform DER -outform PEM -out cert.pem
    example2: ä½¿ç”¨æ ¹CAè¯ä¹¦å¯¹&amp;quot;è¯·æ±‚ç­¾å‘è¯ä¹¦&amp;quot;è¿›è¡Œç­¾å‘ï¼Œç”Ÿæˆx509æ ¼å¼è¯ä¹¦
    openssl x509 -req -days 3650 -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial -out server.crt
    example3: æ‰“å°å‡ºè¯ä¹¦çš„å†…å®¹
    openssl x509 -in server.crt -noout -text 

    7) crl: crlæ˜¯ç”¨äºç®¡ç†CRLåˆ—è¡¨ 
    openssl crl [args]
        7.1) -inform arg
        è¾“å…¥æ–‡ä»¶çš„æ ¼å¼
            7.1.1) DER(DERç¼–ç çš„CRLå¯¹è±¡)
            7.1.2) PEM(é»˜è®¤çš„æ ¼å¼)(base64ç¼–ç çš„CRLå¯¹è±¡)
        7.2) -outform arg
        æŒ‡å®šæ–‡ä»¶çš„è¾“å‡ºæ ¼å¼ 
            7.2.1) DER(DERç¼–ç çš„CRLå¯¹è±¡)
            7.2.2) PEM(é»˜è®¤çš„æ ¼å¼)(base64ç¼–ç çš„CRLå¯¹è±¡)
        7.3) -text: 
        ä»¥æ–‡æœ¬æ ¼å¼æ¥æ‰“å°CRLä¿¡æ¯å€¼ã€‚
        7.4) -in filename
        æŒ‡å®šçš„è¾“å…¥æ–‡ä»¶åã€‚é»˜è®¤ä¸ºæ ‡å‡†è¾“å…¥ã€‚
        7.5) -out filename
        æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶åã€‚é»˜è®¤ä¸ºæ ‡å‡†è¾“å‡ºã€‚
        7.6) -hash
        è¾“å‡ºé¢å‘è€…ä¿¡æ¯å€¼çš„å“ˆå¸Œå€¼ã€‚è¿™ä¸€é¡¹å¯ç”¨äºåœ¨æ–‡ä»¶ä¸­æ ¹æ®é¢å‘è€…ä¿¡æ¯å€¼çš„å“ˆå¸Œå€¼æ¥æŸ¥è¯¢CRLå¯¹è±¡ã€‚
        7.7) -fingerprint
        æ‰“å°CRLå¯¹è±¡çš„æ ‡è¯†ã€‚
        7.8) -issuer
        è¾“å‡ºé¢å‘è€…çš„ä¿¡æ¯å€¼ã€‚
        7.9) -lastupdate
        è¾“å‡ºä¸Šä¸€æ¬¡æ›´æ–°çš„æ—¶é—´ã€‚
        7.10) -nextupdate
        æ‰“å°å‡ºä¸‹ä¸€æ¬¡æ›´æ–°çš„æ—¶é—´ã€‚ 
        7.11) -CAfile file
        æŒ‡å®šCAæ–‡ä»¶ï¼Œç”¨æ¥éªŒè¯è¯¥CRLå¯¹è±¡æ˜¯å¦åˆæ³•ã€‚ 
        7.12) -verify
        æ˜¯å¦éªŒè¯è¯ä¹¦ã€‚        
    example1: è¾“å‡ºCRLæ–‡ä»¶ï¼ŒåŒ…æ‹¬(é¢å‘è€…ä¿¡æ¯HASHå€¼ã€ä¸Šä¸€æ¬¡æ›´æ–°çš„æ—¶é—´ã€ä¸‹ä¸€æ¬¡æ›´æ–°çš„æ—¶é—´)
    openssl crl -in crl.crl -text -issuer -hash -lastupdate â€“nextupdate 
    example2: å°†PEMæ ¼å¼çš„CRLæ–‡ä»¶è½¬æ¢ä¸ºDERæ ¼å¼
    openssl crl -in crl.pem -outform DER -out crl.der  

    8) crl2pkcs7: ç”¨äºCRLå’ŒPKCS#7ä¹‹é—´çš„è½¬æ¢ 
    openssl crl2pkcs7 [options] &amp;lt;infile &amp;gt;outfile
    è½¬æ¢pemåˆ°spc
    openssl crl2pkcs7 -nocrl -certfile venus.pem -outform DER -out venus.spc
    https://www.openssl.org/docs/apps/crl2pkcs7.html

    9) pkcs12: PKCS#12æ•°æ®çš„ç®¡ç†
    pkcs12æ–‡ä»¶å·¥å…·ï¼Œèƒ½ç”Ÿæˆå’Œåˆ†æpkcs12æ–‡ä»¶ã€‚PKCS#12æ–‡ä»¶å¯ä»¥è¢«ç”¨äºå¤šä¸ªé¡¹ç›®ï¼Œä¾‹å¦‚åŒ…å«Netscapeã€ MSIE å’Œ MS Outlook
    openssl pkcs12 [options] 
    http://blog.csdn.net/as3luyuan123/article/details/16105475
    https://www.openssl.org/docs/apps/pkcs12.html

    10) pkcs7: PCKS#7æ•°æ®çš„ç®¡ç† 
    ç”¨äºå¤„ç†DERæˆ–è€…PEMæ ¼å¼çš„pkcs#7æ–‡ä»¶
    openssl pkcs7 [options] &amp;lt;infile &amp;gt;outfile
    http://blog.csdn.net/as3luyuan123/article/details/16105407
    https://www.openssl.org/docs/apps/pkcs7.html
 
2. openssl list-message-digest-commands(æ¶ˆæ¯æ‘˜è¦å‘½ä»¤)
    1) dgst: dgstç”¨äºè®¡ç®—æ¶ˆæ¯æ‘˜è¦ 
    openssl dgst [args]
        1.1) -hex           
        ä»¥16è¿›åˆ¶å½¢å¼è¾“å‡ºæ‘˜è¦
        1.2) -binary        
        ä»¥äºŒè¿›åˆ¶å½¢å¼è¾“å‡ºæ‘˜è¦
        1.3) -sign file    
        ä»¥ç§é’¥æ–‡ä»¶å¯¹ç”Ÿæˆçš„æ‘˜è¦è¿›è¡Œç­¾å
        1.4) -verify file    
        ä½¿ç”¨å…¬é’¥æ–‡ä»¶å¯¹ç§é’¥ç­¾åè¿‡çš„æ‘˜è¦æ–‡ä»¶è¿›è¡ŒéªŒè¯ 
        1.5) -prverify file  
        ä»¥ç§é’¥æ–‡ä»¶å¯¹å…¬é’¥ç­¾åè¿‡çš„æ‘˜è¦æ–‡ä»¶è¿›è¡ŒéªŒè¯
        verify a signature using private key in file
        1.6) åŠ å¯†å¤„ç†
            1.6.1) -md5: MD5 
            1.6.2) -md4: MD4         
            1.6.3) -sha1: SHA1 
            1.6.4) -ripemd160
    example1: ç”¨SHA1ç®—æ³•è®¡ç®—æ–‡ä»¶file.txtçš„å“ˆè¥¿å€¼ï¼Œè¾“å‡ºåˆ°stdout
    openssl dgst -sha1 file.txt
    example2: ç”¨dss1ç®—æ³•éªŒè¯file.txtçš„æ•°å­—ç­¾ådsasign.binï¼ŒéªŒè¯çš„private keyä¸ºDSAç®—æ³•äº§ç”Ÿçš„æ–‡ä»¶dsakey.pem
    openssl dgst -dss1 -prverify dsakey.pem -signature dsasign.bin file.txt

    2) sha1: ç”¨äºè¿›è¡ŒRSAå¤„ç†
    openssl sha1 [args] 
        2.1) -sign file
        ç”¨äºRSAç®—æ³•çš„ç§é’¥æ–‡ä»¶ 
        2.2) -out file
        è¾“å‡ºæ–‡ä»¶çˆ±ä½ 
        2.3) -hex   
        ä»¥16è¿›åˆ¶å½¢å¼è¾“å‡º
        2.4) -binary
        ä»¥äºŒè¿›åˆ¶å½¢å¼è¾“å‡º  
    example1: ç”¨SHA1ç®—æ³•è®¡ç®—æ–‡ä»¶file.txtçš„HASHå€¼,è¾“å‡ºåˆ°æ–‡ä»¶digest.txt
    openssl sha1 -out digest.txt file.txt
    example2: ç”¨sha1ç®—æ³•ä¸ºæ–‡ä»¶file.txtç­¾å,è¾“å‡ºåˆ°æ–‡ä»¶rsasign.binï¼Œç­¾åçš„private keyä¸ºRSAç®—æ³•äº§ç”Ÿçš„æ–‡ä»¶rsaprivate.pem
    openssl sha1 -sign rsaprivate.pem -out rsasign.bin file.txt

3. openssl list-cipher-commands (Cipherå‘½ä»¤çš„åˆ—è¡¨)
    1) aes-128-cbc
    2) aes-128-ecb
    3) aes-192-cbc
    4) aes-192-ecb
    5) aes-256-cbc
    6) aes-256-ecb
    7) base64
    8) bf
    9) bf-cbc
    10) bf-cfb
    11) bf-ecb
    12) bf-ofb
    13) cast
    14) cast-cbc
    15) cast5-cbc
    16) cast5-cfb
    17) cast5-ecb
    18) cast5-ofb
    19) des
    20) des-cbc
    21) des-cfb
    22) des-ecb
    23) des-ede
    24) des-ede-cbc
    25) des-ede-cfb
    26) des-ede-ofb
    27) des-ede3
    28) des-ede3-cbc
    29) des-ede3-cfb
    30) des-ede3-ofb
    31) des-ofb
    32) des3
    33) desx
    34) rc2
    35) rc2-40-cbc
    36) rc2-64-cbc
    37) rc2-cbc
    38) rc2-cfb
    39) rc2-ecb
    40) rc2-ofb
    41) rc4
    42) rc4-40
&lt;/code&gt;&lt;/pre&gt;
">è‡ªç­¾åè¯ä¹¦åˆ¶ä½œï¼ˆopensslï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/mysql-shu-ju-lei-xing-he-quan-xian/"" data-c="
          &lt;h1 id=&#34;æ•°æ®ç±»å‹&#34;&gt;æ•°æ®ç±»å‹&lt;/h1&gt;
&lt;p&gt;mysqlæ”¯æŒå¤šç§ç±»å‹ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸º3ç±»ï¼šæ•°å€¼ç±»å‹ã€æ—¥æœŸå’Œæ—¶é—´ç±»å‹ã€å­—ç¬¦ä¸²ç±»å‹&lt;/p&gt;
&lt;h2 id=&#34;æ•°å€¼ç±»å‹&#34;&gt;æ•°å€¼ç±»å‹&lt;/h2&gt;
&lt;p&gt;mysqlæ”¯æŒæ‰€æœ‰æ ‡å‡†SQLæ•°å€¼æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬ä¸¥æ ¼æ•°å€¼æ•°æ®ç±»å‹(INTEGERã€SMALLINTã€DECIMALå’ŒNUMERIC)ï¼Œä»¥åŠè¿‘ä¼¼æ•°å€¼æ•°æ®ç±»å‹(FLOATã€REALå’ŒDOUBLE PRECISION)&lt;sub&gt;å…³é”®å­—intæ˜¯integerçš„åŒä¹‰è¯ï¼Œå…³é”®å­—decæ˜¯decmialçš„åŒä¹‰è¯&lt;/sub&gt;&lt;br&gt;
BITæ•°æ®ç±»å‹ä¿å­˜ä½å­—æ®µå€¼ï¼Œå¹¶ä¸”æ”¯æŒMyISAMã€MEMORYã€InnoDBå’ŒBDBè¡¨&lt;br&gt;
ä½œä¸ºSQLæ ‡å‡†çš„æ‰©å±•ï¼ŒMySQLä¹Ÿæ”¯æŒæ•´æ•°ç±»å‹TINYINTã€MEDIUMINTå’ŒBIGINT&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1632486951597.png&#34; alt=&#34;æ•°å€¼ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ—¥æœŸå’Œæ—¶é—´ç±»å‹&#34;&gt;æ—¥æœŸå’Œæ—¶é—´ç±»å‹&lt;/h2&gt;
&lt;p&gt;è¡¨ç¤ºæ—¶é—´å€¼çš„æ—¥æœŸå’Œæ—¶é—´ç±»å‹ä¸ºDATETIMEã€DATEã€TIMESTAMPã€TIMEå’ŒYEARï¼Œæ¯ä¸ªæ—¶é—´ç±»å‹æœ‰ä¸€ä¸ªæœ‰æ•ˆå€¼èŒƒå›´å’Œä¸€ä¸ª&amp;quot;é›¶&amp;quot;å€¼ï¼Œå½“æŒ‡å®šä¸åˆæ³•çš„MySQLä¸èƒ½è¡¨ç¤ºçš„å€¼æ—¶ä½¿ç”¨&amp;quot;é›¶&amp;quot;å€¼ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1632487017050.png&#34; alt=&#34;æ—¥æœŸå’Œæ—¶é—´ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å­—ç¬¦ä¸²ç±»å‹&#34;&gt;å­—ç¬¦ä¸²ç±»å‹&lt;/h2&gt;
&lt;p&gt;å­—ç¬¦ä¸²ç±»å‹æŒ‡CHARã€VARCHARã€BINARYã€VARBINARYã€BLOBã€TEXTã€ENUMå’ŒSET&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1632487146696.png&#34; alt=&#34;å­—ç¬¦ä¸²ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ³¨æ„äº‹é¡¹&#34;&gt;æ³¨æ„äº‹é¡¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;char(n) å’Œ varchar(n) ä¸­æ‹¬å·ä¸­nä»£è¡¨å­—ç¬¦çš„ä¸ªæ•°ï¼Œå¹¶ä¸ä»£è¡¨å­—èŠ‚ä¸ªæ•°ï¼Œæ¯”å¦‚ CHAR(30) å°±å¯ä»¥å­˜å‚¨30 ä¸ªå­—ç¬¦&lt;/li&gt;
&lt;li&gt;CHARå’ŒVARCHARç±»å‹ç±»ä¼¼ï¼Œä½†å®ƒä»¬ä¿å­˜å’Œæ£€ç´¢çš„æ–¹å¼ä¸åŒï¼Œå®ƒä»¬çš„æœ€å¤§é•¿åº¦å’Œæ˜¯å¦å°¾éƒ¨ç©ºæ ¼è¢«ä¿ç•™ç­‰æ–¹é¢ä¹Ÿä¸åŒï¼Œåœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢&lt;/li&gt;
&lt;li&gt;BINARYå’ŒVARBINARYç±»ä¼¼äºCHARå’ŒVARCHARï¼Œä¸åŒçš„æ˜¯å®ƒä»¬åŒ…å«äºŒè¿›åˆ¶å­—ç¬¦ä¸²è€Œä¸è¦éäºŒè¿›åˆ¶å­—ç¬¦ä¸²ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬åŒ…å«å­—èŠ‚å­—ç¬¦ä¸²è€Œä¸æ˜¯å­—ç¬¦å­—ç¬¦ä¸²ã€‚è¿™è¯´æ˜å®ƒä»¬æ²¡æœ‰å­—ç¬¦é›†ï¼Œå¹¶ä¸”æ’åºå’Œæ¯”è¾ƒåŸºäºåˆ—å€¼å­—èŠ‚çš„æ•°å€¼å€¼&lt;/li&gt;
&lt;li&gt;BLOBæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œå¯ä»¥å®¹çº³å¯å˜æ•°é‡çš„æ•°æ®ã€‚æœ‰4ç§BLOBç±»å‹ï¼šTINYBLOBã€BLOBã€MEDIUMBLOBå’ŒLONGBLOBï¼ŒåŒºåˆ«åœ¨äºå¯å®¹çº³å­˜å‚¨èŒƒå›´ä¸åŒ&lt;/li&gt;
&lt;li&gt;æœ‰4ç§TEXTç±»å‹ï¼šTINYTEXTã€TEXTã€MEDIUMTEXTå’ŒLONGTEXTï¼Œå¯¹åº”çš„è¿™4ç§BLOBç±»å‹ï¼Œå¯å­˜å‚¨çš„æœ€å¤§é•¿åº¦ä¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æƒé™&#34;&gt;æƒé™&lt;/h1&gt;
&lt;h2 id=&#34;åŸåˆ™&#34;&gt;åŸåˆ™&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ•°æ®åº“çš„æƒé™æŒ‰æœ€å°æƒé™ä¸ºåŸåˆ™&lt;/code&gt;&lt;br&gt;
mysqlä¸­å­˜åœ¨4ä¸ªæ§åˆ¶æƒé™çš„è¡¨ï¼Œåˆ†åˆ«ä¸ºuserè¡¨ã€dbè¡¨ã€tables_privè¡¨ã€columns_privè¡¨&lt;br&gt;
mysqlæƒé™è¡¨çš„éªŒè¯è¿‡ç¨‹ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆä»userè¡¨ä¸­çš„Host,User,Passwordè¿™3ä¸ªå­—æ®µä¸­åˆ¤æ–­è¿æ¥çš„ipã€ç”¨æˆ·åã€å¯†ç æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åˆ™é€šè¿‡éªŒè¯&lt;/li&gt;
&lt;li&gt;é€šè¿‡èº«ä»½è®¤è¯åï¼Œè¿›è¡Œæƒé™åˆ†é…ï¼ŒæŒ‰ç…§userã€dbã€tables_privã€columns_privçš„é¡ºåºè¿›è¡ŒéªŒè¯ï¼š
&lt;ol&gt;
&lt;li&gt;å…ˆæ£€æŸ¥å…¨å±€æƒé™è¡¨userï¼Œå¦‚æœuserä¸­å¯¹åº”çš„æƒé™ä¸ºYï¼Œåˆ™æ­¤ç”¨æˆ·å¯¹æ‰€æœ‰æ•°æ®åº“çš„æƒé™éƒ½ä¸ºYï¼Œå°†ä¸å†æ£€æŸ¥dbã€tables_privã€columns_priv&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸ºNï¼Œåˆ™åˆ°dbè¡¨ä¸­æ£€æŸ¥æ­¤ç”¨æˆ·å¯¹åº”çš„å…·ä½“æ•°æ®åº“ï¼Œå¹¶å¾—åˆ°dbä¸­ä¸ºYçš„æƒé™&lt;/li&gt;
&lt;li&gt;å¦‚æœdbä¸­ä¸ºNï¼Œåˆ™æ£€æŸ¥tables_privä¸­æ­¤æ•°æ®åº“å¯¹åº”çš„å…·ä½“è¡¨ï¼Œå–å¾—è¡¨ä¸­çš„æƒé™Yï¼Œä»¥æ­¤ç±»æ¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ‰€æœ‰æƒé™&#34;&gt;æ‰€æœ‰æƒé™&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1632489754661.jpg&#34; alt=&#34;æ‰€æœ‰æƒé™&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;æ•°æ®åº“å±‚é¢dbè¡¨çš„æƒé™&#34;&gt;æ•°æ®åº“å±‚é¢(dbè¡¨)çš„æƒé™&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1632489858445.jpg&#34; alt=&#34;æ•°æ®åº“å±‚é¢çš„æƒé™&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;mysqlå®‰å…¨é…ç½®æ–¹æ¡ˆ&#34;&gt;mysqlå®‰å…¨é…ç½®æ–¹æ¡ˆ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é™åˆ¶è®¿é—®mysqlç«¯å£çš„ip&lt;/strong&gt;ï¼šwindowså¯ä»¥é€šè¿‡windowsé˜²ç«å¢™æˆ–è€…ipsecæ¥é™åˆ¶ï¼Œlinuxä¸‹å¯ä»¥é€šè¿‡firewalldæ¥é™åˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¿®æ”¹mysqlçš„ç«¯å£&lt;/strong&gt;ï¼šwindowsä¸‹å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶my.iniæ¥å®ç°ï¼Œlinuxå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶my.cnfæ¥å®ç°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¹æ‰€æœ‰ç”¨æˆ·è®¾ç½®å¼ºå¯†ç å¹¶ä¸¥æ ¼æŒ‡å®šå¯¹åº”è´¦å·çš„è®¿é—®ip&lt;/strong&gt;ï¼šmysqlä¸­å¯åœ¨userè¡¨ä¸­æŒ‡å®šç”¨æˆ·çš„è®¿é—®å¯è®¿é—®ip&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;rootç‰¹æƒè´¦å·çš„å¤„ç†&lt;/strong&gt;ï¼šå»ºè®®ç»™rootè´¦å·è®¾ç½®å¼ºå¯†ç ï¼Œå¹¶æŒ‡å®šåªå®¹è®¸æœ¬åœ°ç™»å½•&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ—¥å¿—çš„å¤„ç†&lt;/strong&gt;ï¼šå¦‚éœ€è¦å¯å¼€å¯æŸ¥è¯¢æ—¥å¿—ï¼ŒæŸ¥è¯¢æ—¥å¿—ä¼šè®°å½•ç™»å½•å’ŒæŸ¥è¯¢è¯­å¥&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mysqlè¿›ç¨‹è¿è¡Œè´¦å·&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨windowsä¸‹ç¦æ­¢ä½¿ç”¨local systemæ¥è¿è¡Œmysqlè´¦æˆ·ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨network serviceæˆ–è€…è‡ªå·±æ–°å»ºä¸€ä¸ªè´¦å·ï¼Œä½†æ˜¯å¿…é¡»ç»™ä¸mysqlç¨‹åºæ‰€åœ¨ç›®å½•çš„è¯»å–æƒé™å’Œdataç›®å½•çš„è¯»å–å’Œå†™å…¥æƒé™ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨linuxä¸‹ï¼Œæ–°å»ºä¸€ä¸ªmysqlè´¦å·ï¼Œå¹¶åœ¨å®‰è£…çš„æ—¶å€™å°±æŒ‡å®šmysqlä»¥mysqlè´¦æˆ·æ¥è¿è¡Œï¼Œç»™ä¸ç¨‹åºæ‰€åœ¨ç›®å½•çš„è¯»å–æƒé™ï¼Œdataæ‰€åœ¨ç›®å½•çš„è¯»å–å’Œå†™å…¥æƒé™&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mysqlè¿è¡Œè´¦å·çš„ç£ç›˜æƒé™&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;mysqlè¿è¡Œè´¦å·éœ€è¦ç»™äºˆç¨‹åºæ‰€åœ¨ç›®å½•çš„è¯»å–æƒé™ï¼Œä»¥åŠdataç›®å½•çš„è¯»å–å’Œå†™å…¥æƒé™&lt;/li&gt;
&lt;li&gt;ä¸å®¹è®¸ç»™äºˆå…¶ä»–ç›®å½•çš„å†™å…¥å’Œæ‰§è¡Œæƒé™ï¼Œç‰¹åˆ«æ˜¯æœ‰ç½‘ç«™çš„&lt;/li&gt;
&lt;li&gt;å–æ¶ˆmysqlè¿è¡Œè´¦æˆ·å¯¹äºcmdï¼Œshç­‰ä¸€äº›ç¨‹åºçš„æ‰§è¡Œæƒé™&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç«™ä½¿ç”¨çš„mysqlè´¦æˆ·çš„å¤„ç†&lt;/strong&gt;ï¼š æ–°å»ºä¸€ä¸ªè´¦æˆ·ï¼Œç»™äºˆè´¦æˆ·åœ¨æ‰€ä½¿ç”¨æ•°æ®åº“çš„æ‰€æœ‰æƒé™å³å¯ã€‚è¿™æ ·æ—¢èƒ½ä¿è¯ç½‘ç«™å¯¹æ‰€å¯¹åº”çš„æ•°æ®åº“çš„å…¨éƒ¨æ“ä½œï¼Œä¹Ÿèƒ½ä¿è¯è´¦æˆ·ä¸ä¼šå› ä¸ºæƒé™è¿‡é«˜è€Œå½±å“å®‰å…¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ é™¤æ— ç”¨æ•°æ®åº“&lt;/strong&gt;ï¼štestæ•°æ®åº“å¯¹æ–°å»ºçš„è´¦æˆ·é»˜è®¤æœ‰æƒé™&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®‰å…¨é…ç½®éœ€è¦çš„å¸¸ç”¨å‘½ä»¤&#34;&gt;å®‰å…¨é…ç½®éœ€è¦çš„å¸¸ç”¨å‘½ä»¤&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  1. æ–°å»ºä¸€ä¸ªç”¨æˆ·å¹¶ç»™äºˆç›¸åº”æ•°æ®åº“çš„æƒé™
#       æ‰€æœ‰æƒé™
grant all privileges on database.* to user@localhost identified by &#39;passwd&#39;; 
#       å¸¸ç”¨æƒé™
grant select,insert,update,delete,create,drop privileges on database.* to user@localhost identified by &#39;passwd&#39;; 
#       å†™å…¥æƒé™ï¼ˆé˜²æ­¢åˆ é™¤ï¼Œä»…èƒ½æ›´æ–°å’Œæ’å…¥ï¼‰
grant select,insert,update privileges on database.* to user@localhost identified by &#39;passwd&#39;; 

# 2. åˆ·æ–°æƒé™
flush privileges;

# 3. æ˜¾ç¤ºæˆæƒ
show grants;

# 4. ç§»é™¤æˆæƒ
revoke delete on *.* from &#39;jack&#39;@&#39;localhost&#39;;

# 5. åˆ é™¤ç”¨æˆ·
drop user &#39;jack&#39;@&#39;localhost&#39;;

# 6. ç»™ç”¨æˆ·æ”¹å
rename user &#39;jack&#39;@&#39;%&#39; to &#39;jim&#39;@&#39;%&#39;;

# 7. ç»™ç”¨æˆ·æ”¹å¯†ç 
SET PASSWORD FOR &#39;root&#39;@&#39;localhost&#39; = PASSWORD(&#39;123456&#39;);

# 8. åˆ é™¤æ•°æ®åº“
drop database test;

# 9. ä»æ•°æ®åº“å¯¼å‡ºæ–‡ä»¶
select * from a into outfile &amp;quot;~/abc.sql&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
">mysqlæ•°æ®ç±»å‹å’Œæƒé™</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/h5ai-da-jian-centos7andphpstudy/"" data-c="
          &lt;p&gt;h5aiæ˜¯ä¸€ä¸ªç°ä»£çš„æ–‡ä»¶ç´¢å¼•å™¨ï¼Œç”¨äºHTTP webæœåŠ¡å™¨ï¼Œé‡ç‚¹æ”¾åœ¨æ‚¨çš„æ–‡ä»¶ä¸Šã€‚ç›®å½•ä»¥ä¸€ç§å¸å¼•äººçš„æ–¹å¼æ˜¾ç¤ºï¼Œä¸åŒçš„è§†å›¾ã€å¯¼èˆªå’Œæ ‘æ¦‚è§ˆå¢å¼ºäº†æµè§ˆå®ƒä»¬çš„èƒ½åŠ›ã€‚æœ€åˆh5aiæ˜¯HTML5 Apacheç´¢å¼•çš„ç¼©å†™ï¼Œä½†ç°åœ¨å®ƒä¹Ÿæ”¯æŒå…¶ä»–webæœåŠ¡å™¨ã€‚&lt;br&gt;
æœ‰å¾ˆå¤šå¯é€‰çš„æ‰©å±•å’Œé…ç½®é€‰é¡¹å¯ä»¥è‡ªå®šä¹‰ç›®å½•åˆ—è¡¨çš„webå¤–è§‚ã€‚æ‰€æœ‰çš„æ ‡è®°éƒ½æ˜¯æœ‰æ•ˆçš„HTML5ï¼ŒåŠ ä¸ŠCSS3å’Œæœ€ä¼˜ç§€çš„JavaScriptï¼Œä»¥æ„å»ºä¸€ä¸ªæ–°é²œä½†æœ€å°çš„ç”¨æˆ·ç•Œé¢å’Œä¸€ä¸ªå…³æ³¨äºæ‚¨çš„æ–‡ä»¶çš„ç”¨æˆ·ä½“éªŒã€‚&lt;br&gt;
ä¸€äº›å¯é€‰åŠŸèƒ½åŒ…æ‹¬ï¼šæ–‡ä»¶æ’åºã€ä¸åŒè§†å›¾æ¨¡å¼ã€æœ¬åœ°åŒ–ã€é¢åŒ…å±‘ã€æ ‘çŠ¶è§†å›¾ã€è‡ªå®šä¹‰é¡µçœ‰å’Œé¡µè„šã€æ–‡ä»¶ç­›é€‰å’Œæœç´¢ã€æ–‡ä»¶å¤¹å¤§å°ã€è‡ªåŠ¨åˆ·æ–°ã€æ‰“åŒ…ä¸‹è½½ã€äºŒç»´ç ã€ç¼©ç•¥å›¾ã€æ–‡ä»¶é¢„è§ˆã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç¯å¢ƒ&#34;&gt;ç¯å¢ƒ&lt;/h1&gt;
&lt;h2 id=&#34;centos7&#34;&gt;centos7&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…è¿·ä½ ç‰ˆ&lt;/li&gt;
&lt;li&gt;å…³é—­selinuxã€firewalldã€NetworkManager&lt;/li&gt;
&lt;li&gt;å®‰è£…vimå’Œwget&lt;/li&gt;
&lt;li&gt;é•œåƒæºä¿®æ”¹ä¸ºå›½å†…çš„é•œåƒæºï¼Œä¸”å®‰è£…epelï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œé¢å¤–æ·»åŠ yumæºå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[ffmpeg]
name=ffmpeg
baseurl=http://mirror.bjtu.edu.cn/rpmfusion/free/el/updates/7/x86_64/
enable=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æ·»åŠ ç¬¬2å—ç¡¬ç›˜ï¼Œå¤§å°ä¸º200Gï¼Œç”¨æ¥å­˜æ”¾åˆ†äº«çš„å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;phpstudy&#34;&gt;phpstudy&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹ç”¨æˆ·åã€å¯†ç ã€åˆ«åã€ç™»é™†æˆæƒç ä¸ºP12345ï¼Œç«¯å£ä¸º12345ï¼Œå‹¾é€‰ç³»ç»Ÿæƒé™&lt;/li&gt;
&lt;li&gt;å®‰è£…
&lt;ol&gt;
&lt;li&gt;php7.4.0&lt;/li&gt;
&lt;li&gt;nginx_waf1.0ã€apache_waf1.0ã€æ–‡ä»¶å®‰å…¨1.0&lt;/li&gt;
&lt;li&gt;é»˜è®¤å·²å®‰è£…ï¼šapache2.4.39ã€nginx1.15ã€pureftpd1.0.47&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¸è½½php5.5.38&lt;sub&gt;å…ˆä¿®æ”¹ç½‘ç«™çš„phpç‰ˆæœ¬æ‰å¯ä»¥å¸è½½&lt;/sub&gt;&lt;code&gt;å¸è½½ååªå‰©7ä¸ªè½¯ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h1&gt;
&lt;h2 id=&#34;ä¾èµ–å®‰è£…&#34;&gt;ä¾èµ–å®‰è£…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. ç³»ç»Ÿè½¯ä»¶
yum install -y ffmpeg ffmpeg-devel zip unzip ImageMagick

# 2. phpæ‰©å±•
ç™»é™†å°çš®é¢æ¿ä¹‹åï¼Œè½¯ä»¶ç®¡ç† -- php7.4.0 -- è®¾ç½® -- æ‰©å±•ç®¡ç† -- å‹¾é€‰opcacheã€exifã€fileinfoã€gmpã€imagickã€memcachedã€zip
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸‹è½½h5aiå¹¶æ£€æŸ¥ç¯å¢ƒ&#34;&gt;ä¸‹è½½h5aiå¹¶æ£€æŸ¥ç¯å¢ƒ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /www/admin/localhost_80/wwwroot
wget https://release.larsjung.de/h5ai/h5ai-0.30.0.zip
unzip h5ai-0.30.0.zip
rm -rf h5ai-0.30.0.zip
chown www:www _h5ai/
chmod -R 777 _h5ai/

# ç¯å¢ƒæ£€æŸ¥
ç™»é™†å°çš®é¢æ¿ -- ç«™ç‚¹ç®¡ç† -- ç½‘ç«™ç›®å½• -- è®¾ç½®ä¸º/www/admin/localhost_80/wwwroot/_h5ai -- é»˜è®¤é¦–é¡µè®¾ç½®ä¸º/public/index.php

æµè§ˆå™¨è¾“å…¥http://192.168.3.110/ï¼Œæ— å¯†ç ï¼Œç›´æ¥login
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®¾ç½®å‚æ•°&#34;&gt;è®¾ç½®å‚æ•°&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹æ–‡ä»¶&lt;code&gt;_h5ai/private/conf/options.json&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾ç½®å¯†ç 
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆè®¿é—® http://md5hashing.net/hashing/sha512 ç”¨äºç”Ÿæˆsha512å¯†ç &lt;/li&gt;
&lt;li&gt;è¾“å…¥å¯†ç &amp;quot;P12345&amp;quot;åç‚¹å‡»&amp;quot;Calculate hash&amp;quot;ï¼Œè®¡ç®—å‡ºhashå€¼åç‚¹å‡»&amp;quot;Copy Hash&amp;quot;&lt;/li&gt;
&lt;li&gt;ç²˜è´´ä¸º&lt;code&gt;passhash&lt;/code&gt;çš„å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è®¾ç½®é»˜è®¤è¯­è¨€&lt;br&gt;
åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;l10n&lt;/code&gt;æ‰¾åˆ°è®¾ç½®ï¼Œå°†enæ”¹ä¸ºzh-cn&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;l10n&amp;quot;: {
     &amp;quot;enabled&amp;quot;: true,
     &amp;quot;lang&amp;quot;: &amp;quot;zh-cn&amp;quot;,
     &amp;quot;useBrowserLang&amp;quot;: true
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¼€å¯æ–‡ä»¶æœç´¢åŠŸèƒ½&lt;br&gt;
åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;search&lt;/code&gt;ï¼Œå°†falseæ”¹ä¸ºtrue&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;search&amp;quot;: {
     &amp;quot;enabled&amp;quot;: true,
     &amp;quot;advanced&amp;quot;: true,
     &amp;quot;debounceTime&amp;quot;: 300,
     &amp;quot;ignorecase&amp;quot;: true
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¤šæ–‡ä»¶ä¸‹è½½æ”¯æ´è®¾ç½®
&lt;ol&gt;
&lt;li&gt;åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;select&lt;/code&gt;ï¼Œå°†falseæ”¹ä¸ºtrue&lt;sub&gt;å¤šé€‰åŠŸèƒ½&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;download&lt;/code&gt;ï¼Œå°†falseæ”¹ä¸ºtrueï¼Œå¦‚æœéœ€è¦è®¾ç½®æ‰“åŒ…æ–‡ä»¶çš„æ ¼å¼ä¸ºzipï¼Œè€Œä¸æ˜¯é»˜è®¤çš„tarçš„è¯ï¼Œéœ€è¦å°†php-taræ”¹ä¸ºshell-zip&lt;sub&gt;ä¸‹è½½åŠŸèƒ½&lt;/sub&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;download&amp;quot;: {
     &amp;quot;enabled&amp;quot;: true,
     &amp;quot;type&amp;quot;: &amp;quot;shell-zip&amp;quot;,
     &amp;quot;packageName&amp;quot;: null,
     &amp;quot;alwaysVisible&amp;quot;: false
 }

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;äºŒç»´ç ä¸‹è½½&lt;br&gt;
å¯ä»¥é€šè¿‡æ‰«ç çš„æ–¹å¼ä¸‹è½½æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;info&lt;/code&gt;ï¼Œå°†falseæ”¹ä¸ºtrueï¼Œè¿™é‡Œæœ‰2ä¸ªåœ°æ–¹è¦æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;info&amp;quot;: {
     &amp;quot;enabled&amp;quot;: true,
     &amp;quot;show&amp;quot;: true,
     &amp;quot;qrcode&amp;quot;: true,
     &amp;quot;qrFill&amp;quot;: &amp;quot;#999&amp;quot;,
     &amp;quot;qrBack&amp;quot;: &amp;quot;#fff&amp;quot;
 }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;éšè—æ ¹ç›®å½•ä¸‹æ–‡ä»¶&lt;br&gt;
åœ¨viewçš„hiddenä¸­æ·»åŠ éœ€è¦éšè—çš„ç›®å½•ï¼Œä¾‹å¦‚errorç›®å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;view&amp;quot;: {
    ......
    &amp;quot;hidden&amp;quot;: [&amp;quot;^\\.&amp;quot;, &amp;quot;^_h5ai&amp;quot;,&amp;quot;error&amp;quot;],
    ......
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;å¼€å¯è¿‡æ»¤å™¨åŠŸèƒ½&lt;br&gt;
åœ¨é…ç½®æ–‡ä»¶ä¸­æœç´¢&lt;code&gt;filter&lt;/code&gt;ï¼Œå°†falseæ”¹ä¸ºtrue&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;&amp;quot;filter&amp;quot;: {
    &amp;quot;enabled&amp;quot;: true,
    &amp;quot;advanced&amp;quot;: true,
    &amp;quot;debounceTime&amp;quot;: 100,
    &amp;quot;ignorecase&amp;quot;: true
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é…ç½®å­˜å‚¨&#34;&gt;é…ç½®å­˜å‚¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. æ ¼å¼åŒ–æ–°åŠ ç£ç›˜
lsblk
parted /dev/sdb
mklabel gpt
mkpart data xfs 0 100%
Ignore
quit
lsblk
mkfs.xfs -f /dev/sdb1

# 2. æŒ‚è½½æ–°ç£ç›˜
mv /www/admin/localhost_80/wwwroot /www/admin/localhost_80/wwwrootbak
mkdir /www/admin/localhost_80/wwwroot
echo &amp;quot;/dev/sdb1 /www/admin/localhost_80/wwwroot xfs defaults 0 0&amp;quot; &amp;gt;&amp;gt;/etc/fstab
mount -a
mv /www/admin/localhost_80/wwwrootbak/* /www/admin/localhost_80/wwwroot 
rm -rf /www/admin/localhost_80/wwwrootbak
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®¿é—®æµ‹è¯•&#34;&gt;è®¿é—®æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;æµè§ˆå™¨è¾“å…¥&lt;a href=&#34;http://192.168.3.110/&#34;&gt;http://192.168.3.110/&lt;/a&gt;&lt;/p&gt;
">h5aiæ­å»ºï¼ˆcentos7&phpstudyï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/wang-zhi-dao-hang-hou-tai-da-jian-dycms/"" data-c="
          &lt;p&gt;è™½ç„¶æ­å»ºè¿‡ç¨‹ä¸­Laravelä¸€ç›´æŠ¥é”™ï¼Œéš¾é“è¿™èƒ½éš¾å€’ä¸€ä¸ªç¨‹åºçŒ¿ï¼Ÿæƒ³å¤šäº†å§&lt;/p&gt;
&lt;h1 id=&#34;å®‰è£…ç¯å¢ƒä»‹ç»&#34;&gt;å®‰è£…ç¯å¢ƒä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;centos7&#34;&gt;Centos7&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…è¿·ä½ ç‰ˆ&lt;/li&gt;
&lt;li&gt;é•œåƒæºä¿®æ”¹ä¸ºå›½å†…çš„é•œåƒæºï¼Œä¸”å®‰è£…epel&lt;/li&gt;
&lt;li&gt;å®‰è£…vimã€wget&lt;/li&gt;
&lt;li&gt;å…³é—­firewalldã€Seinuxã€NetworkManager&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å°çš®é¢æ¿&#34;&gt;å°çš®é¢æ¿&lt;/h2&gt;
&lt;p&gt;å®‰è£…ä¹‹åè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹ç”¨æˆ·åã€å¯†ç ã€åˆ«åã€ç™»é™†æˆæƒç ä¸ºP12345ï¼Œç«¯å£ä¸º12345ï¼Œå‹¾é€‰ç³»ç»Ÿæƒé™&lt;/li&gt;
&lt;li&gt;å®‰è£…
&lt;ol&gt;
&lt;li&gt;php7.4.0ã€mysql5.7.27ã€apache2.4.39&lt;sub&gt;é»˜è®¤å·²å®‰è£…&lt;/sub&gt;ã€nginx1.15&lt;sub&gt;é»˜è®¤å·²å®‰è£…&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;nginx_waf1.0ã€apache_waf1.0ã€æ–‡ä»¶å®‰å…¨1.0&lt;/li&gt;
&lt;li&gt;composer2.1ã€ç½‘é¡µshellç»ˆç«¯1.0ã€pureftpd1.0.47&lt;sub&gt;é»˜è®¤å·²å®‰è£…&lt;/sub&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¸è½½php5.5.38&lt;sub&gt;å…ˆä¿®æ”¹ç½‘ç«™çš„phpç‰ˆæœ¬æ‰å¯ä»¥å¸è½½&lt;/sub&gt;&lt;code&gt;å¸è½½ååªå‰©10ä¸ªè½¯ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯åŠ¨mysql5ï¼Œä¿®æ”¹rootå¯†ç ä¸ºP12345ï¼Œæ‰“å¼€mysqlè¿œç¨‹è¿æ¥ï¼Œæ·»åŠ æ•°æ®åº“webstack&lt;sub&gt;ç”¨æˆ·åå’Œå¯†ç å‡ä¸ºwebstackï¼Œè®¿é—®æƒé™ä¸ºæœ¬åœ°æœåŠ¡å™¨&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;webshellï¼Œé…ç½®å¥½rootç”¨æˆ·åå’Œå¯†ç ï¼Œç„¶åç™»é™†shell&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®‰è£…dycms&#34;&gt;å®‰è£…dycms&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥phpç‰ˆæœ¬ã€å‡çº§composerã€å®‰è£…gitå’Œunzip&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;php -v  # æŸ¥çœ‹æ˜¯å¦ä¸ºphp7.4ï¼Œå¦åˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
# ln -sf /usr/local/phpstudy/soft/composer/composer-2.1/composer.phar /usr/bin/composer
# ln -sf /usr/local/phpstudy/soft/php/php-7.4.0/bin/php /usr/bin/php
# export LD_LIBRARY_PATH=/usr/local/phpstudy/soft/php/php-7.4.0/sbin/depends

composer self-update
yum -y install git unzip
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /www/admin/localhost_80/wwwroot
git clone https://github.com/hui-ho/WebStack-Laravel.git
mv WebStack-Laravel webstack
cd webstack
cp .env.example .env  
vim .env
    APP_URL=http://192.168.3.110
    # ä¿®æ”¹æ•°æ®åº“ä¿¡æ¯
    DB_DATABASE=webstack
    DB_USERNAME=webstack
    DB_PASSWORD=webstack
rm -rf composer.lock
vim composer.json
    ä¿®æ”¹caouecs/laravel-langä¸ºovertrue/laravel-lang
composer install  # è¾“å…¥yesï¼Œå³å…è®¸rootè´¦æˆ·è¿è¡Œcomposer
php artisan key:generate  
php artisan migrate  
php artisan db:seed  
php artisan cache:clear
# php artisan serve
cd ..
chown -R www:www webstack
chmod -R 777 webstack/public webstack/storage
# ç™»å½•adminåå°ç®¡ç†ï¼Œå‡ºç°é‡å®šå‘æ¬¡æ•°è¿‡å¤š
vim config/admin.php
    # ä¿®æ”¹&#39;auth&#39;å‡½æ•°å¦‚ä¸‹
    &#39;auth&#39; =&amp;gt; [
        # ä¸‹é¢ä¸ºè¿½åŠ å†…å®¹ï¼š
        &#39;excepts&#39; =&amp;gt; [
          &#39;auth/login&#39;,
        ],
    ],
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ç½‘ç«™ï¼ˆé»˜è®¤ç«™ç‚¹ï¼‰
    -- é…ç½®
        -- ç½‘ç«™ç›®å½•
            -- ç½‘ç«™ç›®å½•æ”¹ä¸º/www/admin/localhost_80/wwwroot/webstack
            -- æ‰§è¡Œç›®å½•æ”¹ä¸º/public
        -- ä¼ªé™æ€
            -- Apacheï¼šæ‰§è¡Œå®Œä¸Šè¿°å†…å®¹ï¼ŒApacheçš„ä¼ªé™æ€åº”è¯¥å·²ç»è®¾ç½®äº†
                Options +FollowSymLinks -Indexes
                RewriteEngine On

                RewriteCond %{HTTP:Authorization} .
                RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

                RewriteCond %{REQUEST_FILENAME} !-d
                RewriteCond %{REQUEST_FILENAME} !-f
                RewriteRule ^ index.php [L]
            -- Nginx
                location / {
                    try_files $uri $uri/ /index.php$is_args$query_string;
                }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;è®¿é—®æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;é¦–é¡µï¼šhttp://192.168.3.110
åå°ï¼šhttp://192.168.3.110/adminï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç ä¸ºadmin/admin
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å…³é—­phpstudyã€å…³é—­centos7ç³»ç»Ÿï¼Œæ‹æ‘„å¿«ç…§&lt;/li&gt;
&lt;/ol&gt;
">ç½‘å€å¯¼èˆªåå°æ­å»ºï¼ˆWebStack-Laravelï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-defender-bing-du-ku-geng-xin/"" data-c="
          &lt;p&gt;Windows Defenderæ˜¯windowså¹³å°æœ€ä¼˜ç§€çš„æ€æ¯’å’Œé˜²å¾¡è½¯ä»¶ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚&lt;br&gt;
å…¶ç—…æ¯’åº“çš„æ›´æ–°æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;h1 id=&#34;æ–¹å¼1åœ¨çº¿&#34;&gt;æ–¹å¼1ï¼ˆåœ¨çº¿ï¼‰&lt;/h1&gt;
&lt;p&gt;å¦‚æœç”µè„‘æˆ–è€…æœåŠ¡å™¨èƒ½å¤Ÿè¿æ¥äº’è”ç½‘ï¼Œåªè¦å¼€å¯Windows Defenderï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨æ›´æ–°ç—…æ¯’åº“å’Œåé—´è°è½¯ä»¶åº“ç­‰ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ–¹å¼2ç¦»çº¿&#34;&gt;æ–¹å¼2ï¼ˆç¦»çº¿ï¼‰&lt;/h1&gt;
&lt;p&gt;å¦‚æœç”µè„‘æˆ–è€…æœåŠ¡å™¨æ— æ³•è¿æ¥äº’è”ç½‘ï¼Œå¯ä»¥é‡‡ç”¨æ›´æ–°ç—…æ¯’åº“æ–‡ä»¶çš„æ–¹å¼ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½ç—…æ¯’åº“æ–‡ä»¶ï¼š&lt;a href=&#34;https://www.microsoft.com/en-us/wdsi/defenderupdates&#34;&gt;https://www.microsoft.com/en-us/wdsi/defenderupdates&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631800225484.png&#34; alt=&#34;mpam-fe&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸‹è½½çš„æ–‡ä»¶åç§°ä¸º&lt;strong&gt;mpam-fe.exe&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631800262487.png&#34; alt=&#34;nis_full&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸‹è½½çš„æ–‡ä»¶åç§°ä¸º&lt;strong&gt;nis_full.exe&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å°†ä¸Šè¿°ä¸¤ä¸ªexeæ–‡ä»¶æ‹·è´åˆ°éœ€è¦æ›´æ–°çš„æœºå™¨ä¸ŠåŒå‡»æ‰§è¡Œå³å¯&lt;code&gt;åŸºæœ¬æ²¡æœ‰æ‰§è¡Œè¿‡ç¨‹ï¼Œä¸€é—ªè€Œè¿‡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
">Windows Defenderç—…æ¯’åº“æ›´æ–°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-yuan-ma-bian-yi-an-zhuang-wireshark348/"" data-c="
          &lt;h1 id=&#34;wiresharkç‰ˆæœ¬è¯´æ˜&#34;&gt;wiresharkç‰ˆæœ¬è¯´æ˜&lt;/h1&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://gitlab.com/wireshark/wireshark/-/wikis/Development/ReleaseNumbers&#34;&gt;https://gitlab.com/wireshark/wireshark/-/wikis/Development/ReleaseNumbers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://wiki.wireshark.org/Development/ReleaseNumbers&#34;&gt;https://wiki.wireshark.org/Development/ReleaseNumbers&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Wiresharkå‘å¸ƒç‰ˆæœ¬å·ç ä¸ºä¸‰ä¸ªæ•°å­—ï¼šMajorï¼ˆä¸»ç‰ˆæœ¬ï¼‰.Minorï¼ˆå°ç‰ˆæœ¬ï¼‰.Maintenanceï¼ˆç»´æŠ¤å‘¨æœŸï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Majorä¸»ç‰ˆæœ¬åªæœ‰å½“ç¨‹åºå‘ç”Ÿé‡å¤§å˜åŒ–æ—¶æ‰ä¼šå¢åŠ ï¼š
&lt;ol&gt;
&lt;li&gt;å°†Qtæ›´æ”¹ä¸ºä¸»è¦GUIå·¥å…·åŒ…å°±æ˜¯è¿™æ ·çš„å˜åŒ–ï¼Œå¯¼è‡´å°†æ•°å­—è®¾ç½®ä¸º2&lt;/li&gt;
&lt;li&gt;æ›´æ”¹ä¸º3æ˜¯åœ¨GTK+ GUIå·¥å…·åŒ…è¢«ä¸¢å¼ƒå’ŒNpcapä½œä¸ºWindowsæ•è·åº“æ¨å‡ºæ—¶å‘ç”Ÿçš„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Minorå°ç‰ˆæœ¬å·åŸºæœ¬ä¸Šéµå¾ªå¶æ•°/å¥‡æ•°æ–¹æ¡ˆï¼š
&lt;ol&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªå®˜æ–¹ç‰ˆæœ¬ï¼Œåˆ†é…ä¸€ä¸ªå¶æ•°ï¼Œå¹¶åˆ†æ‹†ä»£ç è¿›è¡Œç»´æŠ¤&lt;/li&gt;
&lt;li&gt;å¼€å‘ç»§ç»­åœ¨ä¸‹ä¸€ä¸ª&lt;strong&gt;æ›´é«˜çš„å¥‡æ•°ä¸Šè¿›è¡Œ&lt;/strong&gt;ã€‚è¯·æ³¨æ„ï¼Œæ­¤å¼€å‘åŒ…æ˜¯ä¸€ä¸ªç§»åŠ¨ç›®æ ‡ï¼Œæ²¡æœ‰å…¶æ‰¿è¯ºIDå°±æ¯«æ— æ„ä¹‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç»´æŠ¤å‘¨æœŸ
&lt;ol&gt;
&lt;li&gt;ç»´æŠ¤ç‰ˆæœ¬å·ä¸ºæ‚¨æä¾›è¯¥ç‰ˆæœ¬æ‰€å¤„çš„ç»´æŠ¤é˜¶æ®µ&lt;/li&gt;
&lt;li&gt;å®ƒä»0å¼€å§‹ï¼Œåœ¨æ¯æ¬¡ç»´æŠ¤å‘å¸ƒæ—¶é€’å¢&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®‰è£…æ­¥éª¤&#34;&gt;å®‰è£…æ­¥éª¤&lt;/h1&gt;
&lt;p&gt;å‚è€ƒ&lt;a href=&#34;https://www.jianshu.com/p/a3eca201fbc0&#34;&gt;https://www.jianshu.com/p/a3eca201fbc0&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-å®‰è£…ä¾èµ–åŒ…&#34;&gt;1. å®‰è£…ä¾èµ–åŒ…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install libgcrypt-devel glib2-devel qt-devel qt5-qtbase-devel qt5-linguist qt5-qtmultimedia-devel qt5-qtsvg-devel libcap-devel libcap-ng-devel gnutls-devel krb5-devel libxml2-devel lua-devel lz4-devel snappy-devel spandsp-devel libssh2-devel bcg729-devel libmaxminddb-devel sbc-devel libsmi-devel libnl3-devel libnghttp2-devel libssh-devel libpcap-devel c-ares-devel redhat-rpm-config rpm-build gtk+-devel gtk3-devel desktop-file-utils portaudio-devel rubygem-asciidoctor docbook5-style-xsl docbook-style-xsl systemd-devel python34 cmake3 git gcc gcc-c++ flex bison doxygen gettext-devel libxslt cmake
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-ä¸‹è½½æºç å¹¶è§£å‹&#34;&gt;2. ä¸‹è½½æºç å¹¶è§£å‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /usr/local/src
wget https://1.as.dl.wireshark.org/src/wireshark-3.4.8.tar.xz
tar -Jxvf wireshark-3.4.8.tar.xz
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-åˆ›å»ºä¸´æ—¶ç¼–è¯‘ç›®å½•å¹¶è¿›å…¥&#34;&gt;3. åˆ›å»ºä¸´æ—¶ç¼–è¯‘ç›®å½•å¹¶è¿›å…¥&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir /tmp/wireshark-3.0-build
cd /tmp/wireshark-3.0-build
# è¯´æ˜ï¼šç›®å½•åŠæ–‡ä»¶å¤¹åç§°å¯ä»¥è‡ªå®šä¹‰å‘½å
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-ç¼–è¯‘å¹¶å®‰è£…&#34;&gt;4. ç¼–è¯‘å¹¶å®‰è£…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cmake3 -LH /usr/local/src/wireshark-3.4.8
make -j4
make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ä¾èµ–çš„yumæº&#34;&gt;ä¾èµ–çš„yumæº&lt;/h1&gt;
&lt;h2 id=&#34;baserepo&#34;&gt;Base.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[base]
name=CentOS-$releasever - Base
baseurl=http://mirrors.ustc.edu.cn/centos/$releasever/os/$basearch/
enabled=1
gpgcheck=0
 
[updates]
name=CentOS-$releasever - Updates
baseurl=http://mirrors.ustc.edu.cn/centos/$releasever/updates/$basearch/
enabled=1
gpgcheck=0
 
[extras]
name=CentOS-$releasever - Extras
baseurl=http://mirrors.ustc.edu.cn/centos/$releasever/extras/$basearch/
enabled=1
gpgcheck=0
 
[centosplus]
name=CentOS-$releasever - Plus
baseurl=http://mirrors.ustc.edu.cn/centos/$releasever/centosplus/$basearch/
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;epelrepo&#34;&gt;Epel.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[epel]
name=Extra Packages for Enterprise Linux 7 - $basearch
baseurl=http://mirrors.ustc.edu.cn/epel/7/$basearch
enabled=1
gpgcheck=0
 
[epel-debuginfo]
name=Extra Packages for Enterprise Linux 7 - $basearch - Debug
baseurl=http://mirrors.ustc.edu.cn/epel/7/$basearch/debug
enabled=1
gpgcheck=0
 
[epel-source]
name=Extra Packages for Enterprise Linux 7 - $basearch - Source
baseurl=http://mirrors.ustc.edu.cn/epel/7/SRPMS
enabled=1
gpgcheck=0

[epel-testing]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch
baseurl=http://mirrors.ustc.edu.cn/epel/testing/7/$basearch
enabled=1
gpgcheck=0
 
[epel-testing-debuginfo]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Debug
baseurl=http://mirrors.ustc.edu.cn/epel/testing/7/$basearch/debug
enabled=1
gpgcheck=0
 
[epel-testing-source]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Source
baseurl=http://mirrors.ustc.edu.cn/epel/testing/7/SRPMS
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
">Centos7 æºç ç¼–è¯‘å®‰è£…wireshark3.4.8</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/linux-ji-qun-guan-li-cockpit/"" data-c="
          &lt;p&gt;ç¡¬ä»¶ç®¡ç†å¯ä»¥ä¾èµ–æœåŠ¡å™¨çš„IPMIç®¡ç†å£ï¼Œé€šè¿‡SSHè¿œç¨‹æ‰§è¡Œå‘½ä»¤ï¼Œæ¥è·å–ç›¸åº”çš„ç¡¬ä»¶ä¿¡æ¯ã€‚&lt;br&gt;
ä¸šåŠ¡æˆ–è€…ç³»ç»Ÿçš„ç›‘æ§å¯ä»¥ä½¿ç”¨Zabbixï¼Œä½†è¿™éœ€è¦é¢å¤–ä¸€å°æœºå™¨æ¥æ­å»ºzabbixï¼Œå¹¶ä¸”æ­å»ºè¿‡ç¨‹è¿˜ç®—æ¯”è¾ƒç¹çï¼Œé…ç½®ä¹Ÿæ¯”è¾ƒå¤æ‚ã€‚å¦‚æœåªæƒ³ç®€å•çš„ç›‘æ§ä¸€ä¸‹ç³»ç»Ÿçš„å†…å­˜ã€CPUã€ç£ç›˜çš„è´Ÿè½½æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨Centos8è‡ªå¸¦çš„Cockpitï¼Œå½“ç„¶Centos7ä¹Ÿå¯ä»¥å®‰è£…ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h1&gt;
&lt;p&gt;Cockpitæ˜¯ä¸€ä¸ªå…è´¹ä¸”å¼€æºçš„åŸºäºwebçš„ç®¡ç†å·¥å…·ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥æ‰§è¡Œè¯¸å¦‚å­˜å‚¨ç®¡ç†ã€ç½‘ç»œé…ç½®ã€æ£€æŸ¥æ—¥å¿—ã€ç®¡ç†å®¹å™¨ç­‰ä»»åŠ¡ã€‚é€šè¿‡Cockpitæä¾›çš„å‹å¥½çš„Webå‰ç«¯ç•Œé¢å¯ä»¥è½»æ¾åœ°ç®¡ç†LinuxæœåŠ¡å™¨ï¼Œéå¸¸è½»é‡çº§ï¼ŒWebç•Œé¢ä¹Ÿéå¸¸ç®€å•æ˜“ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯é€šè¿‡Cockpitå¯ä»¥å®ç°é›†ä¸­å¼ç®¡ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŠŸèƒ½å’Œç‰¹ç‚¹&#34;&gt;åŠŸèƒ½å’Œç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Cockpitä½¿ç”¨systemdå®Œæˆä»è¿è¡Œå®ˆæŠ¤è¿›ç¨‹åˆ°æœåŠ¡å‡ ä¹æ‰€æœ‰çš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;é›†ä¸­å¼ç®¡ç†ï¼Œé€šè¿‡ä¸€ä¸ªä¼šè¯çª—å£ç®¡ç†ç½‘ç»œä¸­çš„æ‰€æœ‰LinuxæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå’Œç®¡ç†Dockerå®¹å™¨&lt;/li&gt;
&lt;li&gt;åˆ›å»ºå’Œç®¡ç†KVMã€oVirtè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;åŒ…æ‹¬LVMåœ¨å†…çš„å­˜å‚¨é…ç½®&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„ç½‘ç»œé…ç½®ç®¡ç†&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·user accountç®¡ç†&lt;/li&gt;
&lt;li&gt;åŸºäºwebçš„ç»ˆç«¯&lt;/li&gt;
&lt;li&gt;å›¾å½¢åŒ–çš„ç³»ç»Ÿæ€§èƒ½å±•ç¤º&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨sosreportæ”¶é›†ç³»ç»Ÿé…ç½®å’Œè¯Šæ–­ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒDebian, Redhat, CentOS, Fedora, Atomic, Arch Linux, and Ubuntu.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ¨¡å—&#34;&gt;æ¨¡å—&lt;/h2&gt;
&lt;p&gt;Cockpitçš„ä¸€äº›è½¯ä»¶æ¨¡å—ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©æ€§çš„å®‰è£…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cockpit-dockerï¼šç®¡ç†Dockerå®¹å™¨&lt;/li&gt;
&lt;li&gt;cockpit-kubernetesï¼šå¯è§†åŒ–å’Œé…ç½®Kubernetesç¾¤é›†&lt;/li&gt;
&lt;li&gt;cockpit-machinesï¼šç®¡ç†KVMè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;cockpit-machines-ovirtï¼šç®¡ç†oVirtè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;cockpit-sosreportï¼šä½¿ç”¨sosreportå·¥å…·åˆ›å»ºè¯Šæ–­æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;cockpit-selinuxï¼šè§£å†³SELinuxé—®é¢˜&lt;/li&gt;
&lt;li&gt;cockpit-kdumpï¼šé…ç½®å†…æ ¸å´©æºƒè½¬å‚¨&lt;/li&gt;
&lt;li&gt;cockpit-subscriptionsï¼šç®¡ç†ç³»ç»Ÿè®¢é˜…&lt;/li&gt;
&lt;li&gt;cockpit-pcpï¼šè¯»å–PCPæŒ‡æ ‡å¹¶åŠ è½½PCPå½’æ¡£&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ç³»ç»Ÿç¯å¢ƒä»‹ç»&#34;&gt;ç³»ç»Ÿç¯å¢ƒä»‹ç»&lt;/h1&gt;
&lt;p&gt;ç®¡ç†èŠ‚ç‚¹mgmt-192.168.1.10&lt;br&gt;
è¢«ç®¡ç†èŠ‚ç‚¹node1-192.168.1.11&lt;br&gt;
è¢«ç®¡ç†èŠ‚ç‚¹node2-192.168.1.12&lt;/p&gt;
&lt;h1 id=&#34;å®æ–½&#34;&gt;å®æ–½&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå®ç°æ— å¯†ç ssh&lt;code&gt;æ­¤æ­¥éå¿…é¡»ï¼Œå¦‚æœä¸æ‰§è¡Œæ­¤æ­¥ï¼Œåç»­æ·»åŠ è¢«ç®¡ç†èŠ‚ç‚¹æ—¶éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç &lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# mgmt
ssh-keygen -t rsa -N &#39;&#39; -f /root/.ssh/id_rsa -q
ssh-copy-id -i root@192.168.1.11
ssh-copy-id -i root@192.168.1.12
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…å¹¶å¯åŠ¨Cockpit&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ‰€æœ‰æœºå™¨
yum -y install cockpit cockpit-dashboard cockpit-storaged cockpit-packagekit
systemctl enable cockpit.socket
systemctl start cockpit.socket
# å¦‚æœå¼€å¯äº†é˜²ç«å¢™ï¼Œåˆ™éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
# firewall-cmd --permanent --add-service=cockpit
# firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç™»é™†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åªéœ€è¦ç™»é™†ç®¡ç†èŠ‚ç‚¹ï¼Œç„¶åç”¨æˆ·åå’Œå¯†ç ä¸ºrootç”¨æˆ·çš„
https://192.168.1.10:9090
ç”¨æˆ·årootï¼Œå¯†ç 123456
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ·»åŠ è¢«ç®¡ç†èŠ‚ç‚¹node&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631455071206.png&#34; alt=&#34;æ·»åŠ è¢«ç®¡ç†èŠ‚ç‚¹node&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç‚¹å‡»dashboardå·¦ä¾§çš„ä»ªè¡¨ç›˜ï¼Œç‚¹å‡»å³ä¸‹è§’çš„åŠ å·ï¼Œæ·»åŠ å…¶ä»–ä¸»æœºï¼Œå› ä¸ºå‰é¢å·²ç»å®ç°äº†æ— å¯†ç sshï¼Œæ‰€ä»¥å†æ¬¡åªéœ€è¦å¡«å†™IPå³å¯ï¼Œç»“æœå¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631455232026.png&#34; alt=&#34;ç»“æœ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åŠŸèƒ½ä»‹ç»&#34;&gt;åŠŸèƒ½ä»‹ç»&lt;/h1&gt;
&lt;p&gt;CockpitåŠŸèƒ½é€‰é¡¹ä¸­çš„å†…å®¹å–å†³äºéƒ½å½“è£…æœ‰å“ªäº›åŠŸèƒ½æ¨¡å—&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631455411572.png&#34; alt=&#34;åŠŸèƒ½ä»‹ç»&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿ&lt;br&gt;
ç³»ç»Ÿé¡µé¢æä¾›ä¸»æœºçš„ç¡¬ä»¶ä¿¡æ¯ã€å„ç±»è´Ÿè½½å’Œé‡å¯ç­‰åŠŸèƒ½ï¼Œç‚¹å‡»ç¡¬ä»¶åç§°å¯ä»¥æŸ¥çœ‹ç³»ç»Ÿç¡¬ä»¶ä¿¡æ¯ï¼Œä¸»è¦æ˜¯æŸ¥çœ‹ç³»ç»Ÿçš„PCIè®¾å¤‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631455647788.png&#34; alt=&#34;ç³»ç»Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ—¥å¿—&lt;br&gt;
æ—¥å¿—æŸ¥çœ‹å™¨Cockpitå°†æ—¥å¿—ä¿¡æ¯åˆ†ä¸ºé”™è¯¯ã€è­¦å‘Šã€æ³¨æ„ç­‰ä¸åŒçš„åˆ†ç±»ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯æŒ‰äº‹ä»¶çš„çº§åˆ«æ¥åˆ†ç±»çš„&lt;/li&gt;
&lt;li&gt;å­˜å‚¨&lt;br&gt;
Cockpitå¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦ï¼Œå¯ä»¥æŸ¥çœ‹å­˜å‚¨çš„Journalæ—¥å¿—ä»¥ä¾¿è¿›è¡Œæ•…éšœæ’é™¤å’Œä¿®å¤ã€‚&lt;br&gt;
åœ¨é¡µé¢ä¸­è¿˜æœ‰ä¸€ä¸ªå·²ç”¨ç©ºé—´çš„å¯è§†åŒ–å›¾ï¼Œåœ¨å­˜å‚¨é¡µé¢å¯ä»¥å¸è½½ã€æ ¼å¼åŒ–ã€åˆ é™¤ä¸€å—ç¡¬ç›˜çš„æŸä¸ªåˆ†åŒºã€‚&lt;br&gt;
è¿˜æœ‰ç±»ä¼¼åˆ›å»ºRAIDè®¾å¤‡ã€LVMå·ç»„ã€å¼€å¯NFSå’ŒVDOç­‰åŠŸèƒ½&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631456067459.png&#34; alt=&#34;å­˜å‚¨&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç½‘ç»œ&lt;code&gt;æ­¤åŠŸèƒ½éœ€è¦å¼€å¯NetworkManager&lt;/code&gt;&lt;br&gt;
åœ¨ç½‘ç»œé¡µé¢å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå¯è§†åŒ–å‘é€å’Œæ¥æ”¶é€Ÿåº¦çš„å›¾ï¼Œè¿˜å¯ä»¥çœ‹åˆ°å¯ç”¨ç½‘å¡çš„åˆ—è¡¨ï¼Œå¯ä»¥å¯¹ç½‘å¡è¿›è¡Œç»‘å®šã€æ¡¥æ¥ä»¥åŠé…ç½®VLANï¼Œç‚¹å‡»ç½‘å¡å°±å¯ä»¥è¿›è¡Œç¼–è¾‘æ“ä½œï¼Œæœ€ä¸‹é¢æ˜¯ç½‘ç»œçš„Journalæ—¥å¿—ä¿¡æ¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1631456955781.png&#34; alt=&#34;ç½‘ç»œ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;è´¦æˆ·&lt;br&gt;
åœ¨è´¦å·é¡µé¢ä¸­å¯ä»¥æ·»åŠ æˆ–åˆ é™¤ç³»ç»Ÿè´¦æˆ·ï¼Œä¹Ÿå¯ä»¥å¯¹è´¦å·è¿›è¡Œç¼–è¾‘&lt;/li&gt;
&lt;li&gt;æœåŠ¡&lt;br&gt;
æœåŠ¡è¢«åˆ†æˆäº†5ä¸ªç±»åˆ«ï¼šç›®æ ‡ã€ç³»ç»ŸæœåŠ¡ã€å¥—æ¥å­—ã€è®¡æ—¶å™¨å’Œè·¯å¾„ï¼Œå•å‡»æœåŠ¡åç§°å¯ä»¥å¯¹å…¶è¿›è¡Œæ›´å¤šçš„ç®¡ç†æ“ä½œï¼Œä¾‹å¦‚é‡å¯ã€å…³é—­ã€ç¦ç”¨ç­‰&lt;/li&gt;
&lt;li&gt;ç»ˆç«¯&lt;br&gt;
Cockpitç•Œé¢æä¾›å®æ—¶ç»ˆç«¯æ‰§è¡Œä»»åŠ¡ï¼Œè¿™ä½¿æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€æ±‚åœ¨Webç•Œé¢å’Œç»ˆç«¯ä¹‹é—´è‡ªç”±åˆ‡æ¢ï¼Œå¯ä»¥å¿«é€Ÿæ‰§è¡Œä»»åŠ¡ï¼Œæ“ä½œéå¸¸æ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;Diagnostic Report&lt;code&gt;éœ€è¦å®‰è£…å¹¶å¯ç”¨sosreport utility&lt;/code&gt;&lt;br&gt;
é€šè¿‡cockpitçš„è¯Šæ–­æŠ¥å‘ŠåŠŸèƒ½ï¼Œå¯ä»¥å¿«é€Ÿçš„ç”Ÿæˆç³»ç»Ÿçš„sosreportï¼Œå¹¶ä¸”å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°&lt;/li&gt;
&lt;li&gt;SELinux&lt;code&gt;éœ€è¦å¼€å¯SELinuxï¼Œä½†æ˜¯ä¸€èˆ¬æ­¤åŠŸèƒ½æˆ‘ä»¬åœ¨ä¸šåŠ¡æœºå™¨ä¸Šéƒ½ä¼šç¦ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœº&lt;br&gt;
å¦‚æœè¢«ç›‘æ§çš„ä¸»æœºä¸ºKVMä¸»æœºï¼Œé‚£ä¹ˆå…¶ä¸­è¿è¡Œçš„è™šæ‹Ÿæœºä¹Ÿå¯ä»¥åœ¨cockpitä¸­è¿›è¡Œç®¡ç†æ“ä½œï¼Œåœ¨è™šæ‹Ÿæœºé¡µé¢ä¸­ä¼šåˆ—å‡ºå½“å‰ä¸»æœºä¸­çš„æ‰€æœ‰KVMè™šæ‹Ÿæœºï¼Œä¸‹é¢æ˜¯ä½¿ç”¨cockpitåˆ›å»ºè™šæ‹Ÿæœºçš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼š
&lt;ol&gt;
&lt;li&gt;Cockpitä¸­åªèƒ½å¯¹è™šæ‹Ÿæœºåšç®€å•çš„é…ç½®ç¼–è¾‘&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºåˆ›å»ºå®Œæˆåï¼Œä¸èƒ½å¯¹å†…å­˜å®¹é‡è¿›è¡Œä¿®æ”¹&lt;/li&gt;
&lt;li&gt;æ–°å»ºè™šæ‹Ÿæœºæ—¶ï¼Œæ— æ³•å¯¹ç½‘å¡è¿›è¡Œé…ç½®ï¼Œå®ƒä¼šè‡ªåŠ¨ä½¿ç”¨KVMä¸­çš„é»˜è®¤è®¾ç½®ï¼›æ— æ³•é€‰æ‹©å®‰è£…åˆ°å“ªä¸ªå­˜å‚¨æ± ï¼Œå®ƒä¼šå°†VMè‡ªåŠ¨å®‰è£…åˆ°KVMä¸­é»˜è®¤çš„å­˜å‚¨æ± ä¸­&lt;/li&gt;
&lt;li&gt;å¯¹äºè™šæ‹Ÿæœºçš„ç®¡ç†ï¼Œä½¿ç”¨ä¸­å‘ç°å¦‚æœå®‰è£…äº† oVirt Virtual Machinesçš„æ¨¡å—ï¼ŒCockpitä¸­å°±æ— æ³•å¯¹KVMè™šæ‹Ÿæœºè¿›è¡Œç®¡ç†&lt;/li&gt;
&lt;li&gt;åœ¨Cockpitä¸­ï¼Œè¢«ç®¡ä¸»æœºå¯ä»¥æ˜¯ç‰©ç†ä¸»æœºï¼Œä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿä¸»æœºï¼Œæµ‹è¯•ä¸­å¯¹ç‰©ç†ä¸»æœºã€KVMè™šæ‹Ÿæœºå’ŒVMwareæœºéƒ½è¿›è¡Œäº†æµ‹è¯•ï¼Œéƒ½å¯ä»¥æ­£å¸¸ç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
">Linuxé›†ç¾¤ç®¡ç†Cockpit</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/wu-mi-ma-shi-xian-sshssh-keygen/"" data-c="
          &lt;p&gt;ç®¡ç†èŠ‚ç‚¹ï¼Œå³ç”¨äºsshè¿œç¨‹çš„æœºå™¨ï¼šmgmtï¼ˆ192.168.1.11ï¼‰&lt;br&gt;
è¢«ç®¡ç†èŠ‚ç‚¹ï¼Œå³è¢«sshçš„æœºå™¨ï¼šnode12ï¼ˆ192.168.1.12ï¼‰ï¼Œnode13ï¼ˆ192.168.1.13ï¼‰&lt;/p&gt;
&lt;h1 id=&#34;ssh-keygenç®¡ç†èŠ‚ç‚¹ä¸Šæ“ä½œé€‚ç”¨1è¿n&#34;&gt;ssh-keygenï¼ˆç®¡ç†èŠ‚ç‚¹ä¸Šæ“ä½œï¼Œé€‚ç”¨1è¿Nï¼‰&lt;/h1&gt;
&lt;p&gt;å®æ–½æ­¥éª¤ï¼š&lt;code&gt;å…¨ç¨‹åœ¨ç®¡ç†èŠ‚ç‚¹mgmtä¸Šæ“ä½œ&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ç®¡ç†èŠ‚ç‚¹mgmtä¸Šç”Ÿæˆå¯†é’¥ï¼Œå°†å…¬é’¥copyè‡³è¢«ç®¡ç†èŠ‚ç‚¹node&lt;/li&gt;
&lt;li&gt;è¾“å…¥è¢«ç®¡ç†èŠ‚ç‚¹nodeç”¨æˆ·å¯†ç &lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é™é»˜æ¨¡å¼ç”Ÿæˆå¯†é’¥
ssh-keygen -t rsa -N &#39;&#39; -f /root/.ssh/id_rsa -q
# -tç±»å‹ï¼Œ-Nå¯†ç ï¼Œ-fæ–‡ä»¶åï¼Œ-qé™é»˜æ¨¡å¼

# å‘é€å…¬é’¥åˆ°è¢«ç®¡ç†æœºå™¨
# æ–¹å¼1ï¼šç›´æ¥æŒ‡å®šå…¬é’¥æ–‡ä»¶
ssh-copy-id -i /root/.ssh/id_rsa.pub root@192.168.1.12  # ç„¶åè¾“å…¥yesï¼Œæ¥ç€è¾“å…¥node12çš„rootå¯†ç 
# æ–¹å¼2ï¼šä¸æŒ‡å®šå…¬é’¥æ–‡ä»¶ï¼Œä½¿ç”¨é»˜è®¤çš„ï¼Œé»˜è®¤ä½ç½®ä¸ºè´¦æˆ·ç›®å½•ä¸‹çš„.sshä¸‹
ssh-copy-id root@192.168.1.13 # ç„¶åè¾“å…¥yesï¼Œæ¥ç€è¾“å…¥node13çš„rootå¯†ç 

# æµ‹è¯•
ssh 192.168.1.12  # æˆ–è€…ssh root@192.168.1.12
ssh 192.168.1.13
&lt;/code&gt;&lt;/pre&gt;
">æ— å¯†ç å®ç°sshï¼ˆssh-keygenï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/pxe-de-kuai-su-da-jian/"" data-c="
          &lt;p&gt;åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸é‡è§éœ€è¦é›†ç¾¤éƒ¨ç½²çš„åœºæ™¯ï¼Œéœ€è¦æ­å»ºPXEè¿›è¡Œå¿«é€Ÿçš„å®‰è£…Linuxç³»ç»Ÿã€‚å¦‚æœä½¿ç”¨Windowsè½¯ä»¶ï¼Œåœ¨äº’è”ç½‘è®¡ç®—æœºä¸Šæ¯”è¾ƒå¯è¡Œï¼Œä½†æ˜¯åœ¨å±€åŸŸç½‘å°¤å…¶æ˜¯åŠå…¬ç½‘åœºæ™¯ä¸‹ï¼Œåšäº†å¾ˆå¤šå®‰å…¨æªæ–½çš„è®¡ç®—æœºï¼Œåœ¨éƒ¨ç½²PXEæ—¶ä¼šå‡ºç°å„ç§å„æ ·çš„é—®é¢˜ã€‚é™¤äº†ç¯å¢ƒçš„é—®é¢˜ï¼ŒWindowsè½¯ä»¶ä¹Ÿå­˜åœ¨å…¼å®¹æ€§ç­‰é—®é¢˜ã€‚&lt;br&gt;
ä¹‹å‰æƒ³è¿‡ä½¿ç”¨dockerï¼Œä½†æ˜¯åœ¨å±€åŸŸç½‘ä¸­æ­å»ºdockerçš„é€Ÿåº¦è¿œè¿œä½äºè™šæ‹Ÿæœºï¼Œå› æ­¤ä¸‹é¢çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨VMwareåšå¥½è™šæ‹Ÿæœºï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä»…ä»…éœ€è¦ä¾æ®ç°å®æƒ…å†µè¿›è¡Œå‚æ•°çš„ä¿®æ”¹å³å¯ã€‚&lt;br&gt;
åŸºäºä»¥ä¸ŠåŸå› ï¼Œé¦–å…ˆè€ƒè™‘ä½¿ç”¨è™šæ‹Ÿæœºåšå¿«ç…§çš„æ–¹å¼ï¼Œæ–¹ä¾¿è¿ç§»ï¼Œå…¼å®¹æ€§é«˜ï¼Œç¯å¢ƒæ”¹å˜ä»…ä»…åªéœ€è¦ä¿®æ”¹å‚æ•°å³å¯ä½¿ç”¨ï¼›å…¶æ¬¡è€ƒè™‘Windowså¹³å°ä¸‹çš„&lt;code&gt;TFTPD64+EasyWebServer&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;linuxä½¿ç”¨vmwareåšå¿«ç…§çš„æ–¹å¼&#34;&gt;Linuxï¼ˆä½¿ç”¨VMwareåšå¿«ç…§çš„æ–¹å¼ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;ç¯å¢ƒä»‹ç»&#34;&gt;ç¯å¢ƒä»‹ç»&lt;/h2&gt;
&lt;p&gt;æ— äººå€¼å®ˆç³»ç»Ÿï¼ˆPXEï¼‰:Centos7ï¼Œ119.2.24.253&lt;br&gt;
å®¢æˆ·ç«¯ä¸»æœºæœªå®‰è£…ç³»ç»Ÿ&lt;/p&gt;
&lt;h2 id=&#34;pxeæ­å»º&#34;&gt;PXEæ­å»º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# DHCPï¼šåˆ†é…åœ°å€
yum -y install dhcp
systemctl enable dhcpd
vim /etc/dhcp/dhcpd.conf
    allow booting;
    # å…è®¸äº†BOOTPå¼•å¯¼ç¨‹åºåè®®
    allow bootp;
    ddns-update-style interim;
    ignore client-updates;
    # å­ç½‘ç½‘æ®µå£°æ˜
    subnet 119.2.24.0 netmask 255.255.255.0 {
        # å®¢æˆ·ç«¯çš„å­ç½‘æ©ç 
        option subnet-mask 255.255.255.0;
        # å®šä¹‰DNSæœåŠ¡å™¨åœ°å€
        option domain-name-servers 119.2.24.253;
        range dynamic-bootp 119.2.24.1 119.2.24.100;
        next-server 119.2.24.253;
        # é»˜è®¤è¶…æ—¶æ—¶é—´
        default-lease-time 21600;
        # æœ€å¤§è¶…æ—¶æ—¶é—´
        max-lease-time 43200;
        # å¼•å¯¼é©±åŠ¨æ–‡ä»¶ pxelinux.0
        filename &amp;quot;pxelinux.0&amp;quot;;
    }
systemctl start dhcpd

# TFTPï¼šä¼ è¾“ç³»ç»Ÿå¼•å¯¼æ–‡ä»¶
yum -y install xinetd tftp-server
systemctl enable xinetd
vim /etc/xinetd.d/tftp
    service tftp
    {
        socket_type = dgram
        protocol = udp
        wait = yes
        user = root
        server = /usr/sbin/in.tftpd
        server_args = -s /var/lib/tftpboot
        disable = no   # é»˜è®¤é…ç½®ä¸­åªéœ€è¦ä¿®æ”¹æ­¤å¤„çš„yesä¸ºno
        per_source = 11
        cps = 100 2
        flags = IPv4
    ï½
systemctl start xinetd

# SYSLinuxï¼šæä¾›ç³»ç»Ÿå¼•å¯¼æ–‡ä»¶
yum -y install syslinux
# æŠŠSYSLinuxæä¾›çš„å¼•å¯¼æ–‡ä»¶pxelinux.0 å’Œ ç³»ç»Ÿé•œåƒä¸­ç›¸å…³æ–‡ä»¶ å¤åˆ¶åˆ°TFTPæœåŠ¡ç¨‹åºçš„é»˜è®¤ç›®å½•ä¸­
cd /var/lib/tftpboot
cp /usr/share/syslinux/pxelinux.0 .
cp /media/cdrom/images/pxeboot/{vmlinuz,initrd.img} .
cp /media/cdrom/isolinux/{vesamenu.c32,boot.msg} .
# å°†ç³»ç»Ÿå…‰ç›˜ä¸­çš„å¼€æœºé€‰é¡¹èœå•å¤åˆ¶åˆ°è¯¥ç›®å½•ä¸­ï¼Œå¹¶å‘½åä¸ºdefaultã€åœ¨ç›®å½•/var/lib/tftpbootä¸‹ã€‘
mkdir pxelinux.cfg
cp /media/cdrom/isolinux/isolinux.cfg pxelinux.cfg/default
# é»˜è®¤çš„å¼€æœºèœå•ä¸­æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼Œè¦ä¹ˆæ˜¯å®‰è£…ç³»ç»Ÿï¼Œè¦ä¹ˆæ˜¯å¯¹å®‰è£…ä»‹è´¨è¿›è¡Œæ£€éªŒã€‚
# ç¼–è¾‘è¿™ä¸ª default æ–‡ä»¶ï¼ŒæŠŠç¬¬ 1 è¡Œçš„ default å‚æ•°ä¿®æ”¹ä¸º linuxï¼Œå³å¼€æœºæ—¶å°±ä¼šé»˜è®¤æ‰§è¡Œé‚£ä¸ªåç§°ä¸º linux çš„é€‰é¡¹äº†
# å°†é»˜è®¤çš„å…‰ç›˜é•œåƒå®‰è£…æ–¹å¼ä¿®æ”¹æˆFTPæ–‡ä»¶ä¼ è¾“æ–¹å¼ï¼Œå¹¶æŒ‡å®šå¥½å…‰ç›˜é•œåƒçš„è·å–ç½‘å€ä»¥åŠKickstartåº”ç­”æ–‡ä»¶çš„è·å–è·¯å¾„ï¼š
vim pxelinux.cfg/default
    default linux  # ç¬¬ä¸€è¡Œ
    append initrd=initrd.img inst.stage2=ftp://119.2.24.253/cdrom ks=ftp://119.2.24.253/ks/ks.cfg quiet  # æœ€åä¸€è¡Œï¼Œksä¸ºè‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

# FTPï¼šä¼ è¾“ç³»ç»Ÿå®‰è£…é•œåƒå’Œåº”ç­”æ–‡ä»¶
yum -y install vsftpd
systemctl enable vsftpd
vim /etc/vsftpd/vsftpd.conf
    # è¿½åŠ 
    anon_root=/media  # å³åŒ¿åè®¿é—®ç›®å½•
systemctl start vsftpd

# Kickstartï¼šäº§ç”Ÿåº”ç­”æ–‡ä»¶ï¼ˆå®é™…ä½¿ç”¨åº”ç­”æ–‡ä»¶è§äºŒçº§æ ‡é¢˜ï¼š kickstartè‡ªåŠ¨åŒ–æ‰§è¡Œè„šæœ¬ï¼‰
mkdir /media/ks
cp ~/anaconda-ks.cfg /media/ks/ks.cfg  # æ­¤å¤„ç›´æ¥ä½¿ç”¨çš„æ˜¯æœ¬ç³»ç»Ÿå®‰è£…è¿‡ç¨‹ä¸­äº§ç”Ÿçš„åº”ç­”æ–‡ä»¶
chmod 777 /media/ks/ks.cfg
vim /media/ks/ks.cfg
    url --url=ftp://119.2.24.253/cdrom
    timezone Asia/Shanghai --isUtc
    clearpart --all --initlabel
# è‡ªå®šä¹‰åº”ç­”æ–‡ä»¶ï¼Œéœ€è¦å®‰è£…Kickstart
yum -y install system-config-kickstart
system-config-kickstart  # è¾“å…¥ç›¸åº”çš„å‚æ•°å³å¯
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é…ç½®å¥½ä¹‹å&lt;strong&gt;è¿›è¡ŒPXEæµ‹è¯•&lt;/strong&gt;ï¼Œæµ‹è¯•é€šè¿‡ä¹‹åéœ€è¦&lt;strong&gt;å¯¹æ­¤è™šæ‹Ÿæœºæ‹æ‘„å¿«ç…§&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;kickstartè‡ªåŠ¨åŒ–æ‰§è¡Œè„šæœ¬kscfg&#34;&gt;kickstartè‡ªåŠ¨åŒ–æ‰§è¡Œè„šæœ¬ï¼ˆks.cfgï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#platform=86, AMD64, æˆ– Intel EM64T

#version=DEVEL
# System authorization information
auth --passalgo=sha512
# Install OS instead of upgrade
install
# Use graphical install
graphical
# Firewall configuration
firewall --disabled
firstboot --disable
ignoredisk --only-use=sda
# Keyboard layouts
# old format: keyboard us
# new format:
keyboard --vckeymap=us --xlayouts=&#39;cn&#39;
# System language
lang zh_CN.UTF-8

# Network information
network  --bootproto=static --device=ens33 --gateway=119.2.24.254 --ip=119.2.24.3 --netmask=255.255.255.0 --noipv6 --activate
network  --hostname=localhost.localdomain
# Reboot after installation
reboot
# Use network installation
url --url=&amp;quot;ftp://119.2.24.253/cdrom&amp;quot;
# Root password
rootpw --iscrypted $1$pFqd7Qyu$tkYI.hhD2pXjM3YvuUt9s1
# SELinux configuration
selinux --disabled
# System services
services --enabled=&amp;quot;chronyd&amp;quot;
# Do not configure the X Window System
skipx
# System timezone
timezone Asia/Shanghai --isUtc
# System bootloader configuration
bootloader --location=mbr --boot-drive=sda
# Clear the Master Boot Record
zerombr
# Partition clearing information
clearpart --none --initlabel
# Disk partitioning information
part pv.478 --fstype=&amp;quot;lvmpv&amp;quot; --ondisk=sda --size=19453
part /boot --fstype=&amp;quot;xfs&amp;quot; --ondisk=sda --size=1024
part biosboot --fstype=&amp;quot;biosboot&amp;quot; --ondisk=sda --size=2
volgroup centos --pesize=4096 pv.478
logvol /  --fstype=&amp;quot;xfs&amp;quot; --grow --size=1 --name=root --vgname=centos

%packages
@^minimal
@core
chrony
%end

%post
rm -rf /etc/yum.repos.d/*
cat &amp;lt;&amp;lt; EOF &amp;gt;/etc/yum.repos.d/development.repo
[development]
name=CentOS-7-x86_64-Everything-1908.iso
baseurl=ftp://119.2.24.253/cdrom
gpgcheck=0
EOF
yum makecache
%end

%addon com_redhat_kdump --disable --reserve-mb=&#39;auto&#39;

%end

# è¯´æ˜
# IPåœ°å€ï¼š119.2.24.253/24
# ç½‘å…³ï¼š119.2.24.254
# ksè‡ªåŠ¨åŒ–è„šæœ¬ï¼š
# 1. å…³é—­selinuxå’Œé˜²ç«å¢™
# 2. æœ€å°åŒ–å®‰è£…
# 3. å¯†ç ä¸ºå…¨é”®ç›˜
# 4. ç£ç›˜åˆ†åŒºbiosbootã€bootï¼ˆ1Gï¼‰ã€æ ¹ï¼ˆå‰©ä½™ï¼‰
# 5. è®¾ç½®yumæºä¸ºPXEçš„ftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å‚æ•°ä¿®æ”¹&#34;&gt;å‚æ•°ä¿®æ”¹&lt;/h2&gt;
&lt;p&gt;æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå‚æ•°ä¿®æ”¹ä¹‹åå³å¯ä½¿ç”¨ï¼Œä¾‹å¦‚PXEæœåŠ¡å™¨åœ°å€å˜ä¸º192.168.10.10ï¼Œåˆ™ä¿®æ”¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿®æ”¹DHCPå‚æ•°ï¼šç”¨äºåˆ†é…ç½‘å€
# ä¸»è¦ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š
vim /etc/dhcp/dhcpd.conf
    subnet 192.168.10.0 netmask 255.255.255.0 {
        option subnet-mask 255.255.255.0;
        option domain-name-servers 192.168.10.10;
        range dynamic-bootp 192.168.10.100 192.168.10.200;
        next-server 192.168.10.10;
    }
systemctl restart dhcpd

# ä¿®æ”¹å¼•å¯¼æ–‡ä»¶ä¸­åœ°å€
vim /var/lib/tftpboot/pxelinux.cfg/default
    default linux  # ç¬¬ä¸€è¡Œ
    append initrd=initrd.img inst.stage2=ftp://192.168.10.10/cdrom ks=ftp://192.168.10.10/ks/ks.cfg quiet  # æœ€åä¸€è¡Œï¼Œksä¸ºè‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬
# æˆ–è€…
# sed -i &amp;quot;s/119.2.24.253/192.168.10.10/g&amp;quot; /var/lib/tftpboot/pxelinux.cfg/default

# ä¿®æ”¹Kickstartåº”ç­”æ–‡ä»¶æ‰€æœ‰çš„IPåœ°å€
sed -i &amp;quot;s/119.2.24.253/192.168.10.10/g&amp;quot; /media/ks/ks.cfg  # ä¿®æ”¹æ‰€æœ‰çš„é“¾æ¥
sed -i &amp;quot;s/119.2.24.254/192.168.10.1/g&amp;quot; /media/ks/ks.cfg # ä¿®æ”¹è‡ªåŠ¨åˆ†é…åœ°å€çš„ç½‘å…³
sed -i &amp;quot;s/119.2.24.3/192.168.10.2/g&amp;quot; /media/ks/ks.cfg # ä¿®æ”¹è‡ªåŠ¨åˆ†é…çš„IPåœ°å€
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;windowstftpd64easywebserver&#34;&gt;Windowsï¼ˆTFTPD64+EasyWebServerï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;ç¯å¢ƒä»‹ç»-2&#34;&gt;ç¯å¢ƒä»‹ç»&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨è½¯ä»¶å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;a href=&#34;https://bitbucket.org/phjounin/tftpd64/downloads/&#34;&gt;tftpd64&lt;/a&gt;ï¼šè‡ªå¸¦PXEã€DHCPæœåŠ¡ç«¯&lt;br&gt;
&lt;a href=&#34;https://dyiyang.jb51.net/201708/tools/EasyWebSvr_jb51.rar&#34;&gt;EasyWebServer&lt;/a&gt;ï¼šå°å‹WEBæœåŠ¡å·¥å…·&lt;br&gt;
&lt;a href=&#34;https://mirrors.edge.kernel.org/pub/linux/utils/boot/syslinux/&#34;&gt;syslinux&lt;/a&gt;ï¼šå¼•å¯¼å·¥å…·ï¼Œæœ€æ–°ç‰ˆæ˜¯syslinux-6.03.zipï¼Œæ­¤å¤„ä¸‹è½½çš„æ˜¯syslinux-4.05.zip&lt;br&gt;
&lt;a href=&#34;https://vault.centos.org/7.7.1908/isos/x86_64/CentOS-7-x86_64-DVD-1908.iso&#34;&gt;CentOS7.7 1908 å®‰è£…é•œåƒ&lt;/a&gt;ï¼šç³»ç»Ÿå®‰è£…é•œåƒ&lt;br&gt;
&lt;a href=&#34;https://cn.ultraiso.net/uiso9_cn.exe&#34;&gt;UltraISO&lt;/a&gt;ï¼šé•œåƒæŸ¥çœ‹å’Œè§£å‹å·¥å…·&lt;br&gt;
Windowsç”µè„‘çš„IPä¸º119.2.24.1&lt;/p&gt;
&lt;h2 id=&#34;æ“ä½œæ­¥éª¤&#34;&gt;æ“ä½œæ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä»»æ„å­˜å‚¨ç©ºé—´å……è¶³&lt;sub&gt;ä¾‹å¦‚Dç›˜çš„pxestartç›®å½•ä¸‹&lt;/sub&gt;çš„åˆ†åŒºçš„æ ¹ç›®å½•ä¸‹å»ºç«‹å¦‚ä¸‹ç›®å½•ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;./PXE
# ç”¨äºå­˜æ”¾PXEå¼•å¯¼æ‰€éœ€è¦çš„å†…å®¹
./PXE/centos-inst
# ç”¨äºå­˜æ”¾PXEå¼•å¯¼é…ç½®æ–‡ä»¶
./PXE/centos-inst/pxelinux.cfg       
# ç”¨äºå­˜æ”¾centoså®‰è£…é•œåƒæå–çš„å…¨éƒ¨å†…å®¹
./PXE/centos-iso
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½¿ç”¨UltraISOå°†è·å–çš„CentOS7.7çš„isoæ–‡ä»¶å†…çš„å†…å®¹å…¨éƒ¨æå–åˆ°ç›®å½•&lt;code&gt;./PXE/centos-iso&lt;/code&gt;ä¸‹é¢ã€‚&lt;strong&gt;ä¸å¯ä»¥ç”¨è§£å‹å·¥å…·ï¼Œå¦åˆ™ç›®å½•repodataä¸­çš„æ–‡ä»¶ä¼šå‡ºç°é—®é¢˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å°†æå–çš„isoæ–‡ä»¶å†…&lt;code&gt;isolinux&lt;/code&gt;ç›®å½•ä¸‹çš„&lt;code&gt;vmlinuz&lt;/code&gt;ã€&lt;code&gt;vesamenu.c32&lt;/code&gt;ã€&lt;code&gt;initrd.img&lt;/code&gt;å’Œ&lt;code&gt;boot.msg&lt;/code&gt;å¤åˆ¶ä¸€ä»½åˆ°ç›®å½•&lt;code&gt;./PXE/centos-inst&lt;/code&gt;ä¸‹é¢ï¼Œå¹¶å°†&lt;code&gt;syslinux-4.05.zip&lt;/code&gt;å†…&lt;code&gt;core&lt;/code&gt;ç›®å½•é‡Œçš„&lt;code&gt;pxelinux.0&lt;/code&gt;æ–‡ä»¶ä¹Ÿæ”¾åˆ°ç›®å½•&lt;code&gt;./PXE/centos-inst&lt;/code&gt;ä¸‹é¢&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;./PXE/centos-inst/pxelinux.cfg&lt;/code&gt;ç›®å½•ä¸‹å»ºä¸€ä¸ª&lt;code&gt;default&lt;/code&gt;æ–‡ä»¶&lt;sub&gt;å’ŒLinuxç‰ˆæœ¬ä¸­/var/lib/tftpboot/pxelinux.cfg/defaultå†…å®¹åŸºæœ¬ç›¸åŒ&lt;/sub&gt;ï¼Œå°†ä¸€ä¸‹å†…å®¹å¤åˆ¶è¿›å»ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;default vesamenu.c32
prompt 1
timeout 600
display boot.msg

label linux
menu label ^Install system
menu default
kernel vmlinuz
append initrd=initrd.img ip=dhcp inst.repo=http://119.2.24.1/

label vesa
menu label Install system with ^basic video driver
kernel vmlinuz
append initrd=initrd.img ip=dhcp inst.xdriver=vesa nomodeset inst.repo=http://119.2.24.1/

label rescue
menu label ^Rescue installed system
kernel vmlinuz
append initrd=initrd.img rescue

label local
menu label Boot from ^local drive
localboot 0xffff
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;TFTP64è®¾ç½®
&lt;ol&gt;
&lt;li&gt;æä¾›å¼•å¯¼æ–‡ä»¶ï¼š&lt;img src=&#34;https://fqj-web.github.io/post-images/1630075873477.png&#34; alt=&#34;æä¾›å¼•å¯¼æ–‡ä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®PXEå’ŒDHCPæœåŠ¡ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630076504237.png&#34; alt=&#34;å…¨å±€è®¾ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630076524357.png&#34; alt=&#34;TFTPè®¾ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630076538319.png&#34; alt=&#34;DHCPè®¾ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;EasyWebServerè®¾ç½®&lt;br&gt;
åŒå‡»å¯åŠ¨åï¼Œä»»åŠ¡æ å³é”®é€‰æ‹©è®¾ç½®ï¼ŒæŒ‰ç…§ä¸‹å›¾è®¾ç½®ä¸¤å¤„ä¹‹åï¼Œå†æ¬¡ä»»åŠ¡æ é€‰æ‹©å¯åŠ¨æœåŠ¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630076826352.png&#34; alt=&#34;è®¾ç½®ç›®å½•&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630076837258.png&#34; alt=&#34;è®¾ç½®å¯æµè§ˆç›®å½•&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å…¨éƒ¨è®¾ç½®å®Œæ¯•ï¼Œå¯ä»¥è¿›è¡ŒPXEç³»ç»Ÿå®‰è£…æµ‹è¯•äº†&lt;br&gt;
ä½†æ˜¯åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºç³»ç»Ÿç²¾ç®€çš„ç¼˜æ•…ï¼Œä¾ç„¶é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1630077585513.png&#34; alt=&#34;ç¿»è½¦&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å› æ­¤ä¸å»ºè®®ä½¿ç”¨Windowsç›´æ¥æ­å»ºPXE&lt;/li&gt;
&lt;/ol&gt;
">PXEçš„å¿«é€Ÿæ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/golang-di-liu-zhang-han-shu-bao-he-cuo-wu-chu-li/"" data-c="
          &lt;h1 id=&#34;å‡½æ•°&#34;&gt;å‡½æ•°&lt;/h1&gt;
&lt;h1 id=&#34;åŒ…&#34;&gt;åŒ…&lt;/h1&gt;
&lt;h1 id=&#34;é”™è¯¯å¤„ç†&#34;&gt;é”™è¯¯å¤„ç†&lt;/h1&gt;
">golang ç¬¬å…­ç«  å‡½æ•°ã€åŒ…å’Œé”™è¯¯å¤„ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/cun-chu-gao-ke-yong-xing-iscsiraidlvm/"" data-c="
          &lt;h1 id=&#34;iscsi&#34;&gt;iSCSI&lt;/h1&gt;
&lt;h2 id=&#34;iscsiä¸nfsçš„åŒºåˆ«&#34;&gt;iSCSIä¸NFSçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;åœ¨äº§å“å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé™¤äº†å¯¹è¿ç»´ã€æ•°æ®åº“ç­‰çš„è®¨è®ºï¼Œæ›´å¤šçš„æ˜¯åœ¨è®¨è®ºå­˜å‚¨çš„é—®é¢˜ï¼Œè¿™ä¸ä»…ä»…æ¶‰åŠåˆ°æ—¥å¿—ã€ç”¨æˆ·æ•°æ®ç­‰å‚¨å­˜å’Œå†åˆ©ç”¨ï¼Œè¿˜è®¾è®¡åˆ°ç³»ç»Ÿçš„ç¨³å®šæ€§ä»¥åŠäº§å“ä¸Šçº¿ä¹‹åçš„è¿ç»´ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚ç›®å‰ï¼Œä¸»è¦å°†å­˜å‚¨åˆ†ä¸ºä¸¤å¤§ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›´è¿å­˜å‚¨ï¼ˆDASï¼‰ï¼Œå³é€šè¿‡ä¸»æ¿è·Ÿç¡¬ç›˜ç›´æ¥ç›¸è¿çš„å­˜å‚¨ï¼Œè¯»å†™é€Ÿç‡é«˜ï¼Œä½†æ˜¯æ‰©å±•æ€§ä¾èµ–ä¸ä¸»æ¿å­˜å‚¨æ¥å£çš„æ•°é‡ï¼ŒåæœŸå­˜å‚¨æ‰©å±•çš„è´¹ç”¨é«˜ã€å·¥ç¨‹é‡å¤§&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå­˜å‚¨ï¼Œå³é€šè¿‡ç½‘ç»œæä¾›çš„å­˜å‚¨ï¼Œå¯æ‰©å±•æ€§æ¯”è¾ƒå¥½ï¼Œä½†ç½‘ç»œæ˜¯ç“¶é¢ˆï¼Œä½†ç›®å‰é€šè¿‡4å£ä¸‡å…†å…‰ç½‘å¡&lt;sub&gt;ä¸»æ¿å¸¦å®½ä¸º40Gæ—¶&lt;/sub&gt;èšåˆä¸€èˆ¬å¯ä»¥è§£å†³é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸Šçš„å¯¹æ¯”ï¼Œç›®å‰åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸»è¦é‡‡ç”¨çš„æ˜¯ç½‘ç»œå­˜å‚¨ï¼Œåœ¨ç½‘ç»œå­˜å‚¨ä¸­ï¼Œåˆåˆ†ä¸ºä¸¤å¤§æ´¾ç³»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;NASï¼Œç½‘ç»œé™„åŠ å­˜å‚¨ï¼Œé€šè¿‡ç½‘ç»œæä¾›é¢å¤–çš„å­˜å‚¨ç»™å‰ç«¯æœåŠ¡å™¨ä½¿ç”¨ï¼Œå³æ–‡ä»¶ç³»ç»Ÿåœ¨å­˜å‚¨ï¼Œä¸»è¦ä»£è¡¨ä¸ºNFSï¼ˆæ¯”è¾ƒæµè¡Œï¼‰å’ŒCIFSï¼ˆSambaï¼Œå®‰å…¨æ€§é—®é¢˜æ¯”è¾ƒå¤šï¼‰&lt;/li&gt;
&lt;li&gt;SANï¼Œå­˜å‚¨åŒºåŸŸç½‘ç»œï¼Œæ˜¯ä¸€ä¸ªæä¾›äº†å­˜å‚¨çš„ç½‘ç»œåŒºåŸŸï¼Œå³æ–‡ä»¶ç³»ç»Ÿåœ¨å‰ç«¯ï¼Œä¸»è¦ä»£è¡¨ä¸ºiSCSIï¼ˆIP SANï¼Œæˆæœ¬ä½ï¼Œå…¼å®¹æ€§å¼ºï¼‰å’ŒFC SANï¼ˆç¡¬ä»¶åŒ…æ‹¬FCå¡ã€FC HUBã€FCäº¤æ¢æœºã€å­˜å‚¨ç³»ç»Ÿç­‰ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»æˆæœ¬å’ŒåæœŸç»´æŠ¤ç­‰è§’åº¦è€ƒè™‘ï¼Œç›®å‰å¸¸ç”¨çš„ä¸ºiSCSIå’ŒNFSï¼Œä¸‹é¢çœ‹ä¸€ä¸‹åº”ç”¨åœ¨å„ç§æƒ…å†µä¸‹æ˜¯å¦‚ä½•å­˜å‚¨æ•°æ®çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Linuxå­˜å‚¨æ¨¡å‹å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1629468544313.png&#34; alt=&#34;Linuxå­˜å‚¨æ¨¡å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;NASå­˜å‚¨æ¨¡å‹å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1629468595172.jpg&#34; alt=&#34;NASå­˜å‚¨æ¨¡å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;iSCSIå­˜å‚¨æ¨¡å‹å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1629468624398.jpg&#34; alt=&#34;iSCSIå­˜å‚¨æ¨¡å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡ä»¥ä¸Šå¯¹æ¯”ï¼ŒiSCSIæ¯”NFSä¸»è¦æ˜¯å‡å°‘äº†VFSå±‚çš„å¼€é”€ä»¥åŠæ–‡ä»¶ç³»ç»Ÿçš„å¼€é”€ï¼Œå‰ç«¯æœåŠ¡å™¨å¯ä»¥ç›´æ¥å°†iSCSIä½œä¸ºæœ¬åœ°ç£ç›˜è¿›è¡Œä»»ä½•æ“ä½œï¼Œè¿æ¥ä¸ŠiSCSIå­˜å‚¨ä¹‹åï¼Œæœ¬åœ°ä¼šå¤šå‡ºè·Ÿç›´è¿è®¾å¤‡ä¸€æ ·çš„å­˜å‚¨è®¾å¤‡ï¼Œä¾›å‰ç«¯è®¾å¤‡è¿›è¡Œåˆ†åŒºå’Œæ ¼å¼åŒ–æ“ä½œï¼Œæ‰€ä»¥å…¶æ•ˆç‡æ¯”NFSè¦é«˜ã€‚&lt;br&gt;
åŒæ—¶ï¼ŒISCSIå‰ç«¯æœåŠ¡å™¨å¯ä»¥æ ¹æ®éœ€è¦è¿æ¥æ›´å¤šæˆ–è€…æ›´å°‘çš„iSCSIå­˜å‚¨ï¼Œå¦‚åŒåœ¨æœ¬åœ°ç›´è¿æ›´å¤šå­˜å‚¨ä¸€æ ·ï¼Œç„¶åè¿›è¡Œåˆ†åŒºã€æ ¼å¼åŒ–ç­‰æ“ä½œï¼Œä¹‹ååŠ å…¥LVMæ¥æ‰©å±•åŸæœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸”æ²¡æœ‰ä¸»æ¿æ¥å£çš„é™åˆ¶ï¼Œæ‰©å±•æ€§æå¼ºã€‚&lt;br&gt;
NFSä½œä¸ºä¸€ç§é™„åŠ å­˜å‚¨ï¼Œåªèƒ½åœ¨æœåŠ¡ç«¯è¿›è¡Œå­˜å‚¨çš„æ‰©å±•æ‰èƒ½åšåˆ°å‰ç«¯å­˜å‚¨çš„å¢åŠ ï¼Œå¹¶ä¸”å‰ç«¯æŒ‚è½½ä¹‹åï¼Œæ— æ³•åœ¨å…¶ä¸Šå»ºç«‹LVMï¼Œå› æ­¤æ— æ³•ç›´æ¥æ‰©å±•å‰ç«¯åŸæœ‰çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰©å±•æ€§ç›¸å¯¹è¾ƒä½ã€‚&lt;br&gt;
ä½†æ˜¯NFSå¹¶éä¸€æ— æ˜¯å¤„ï¼Œå…¶åœ¨å­˜å‚¨å…±äº«ï¼Œå°¤å…¶æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„å…±äº«ï¼Œä»¥åŠå­˜å‚¨è®¾å¤‡æ•…éšœä¹‹åï¼Œè¿›è¡Œæ•°æ®æ¢å¤ï¼Œè¿™ä¸¤æ–¹é¢å­˜åœ¨å·¨å¤§çš„ä¼˜åŠ¿ã€‚&lt;br&gt;
è¿™ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«æ˜¯NFSä½¿ç”¨æ–‡ä»¶çº§åˆ«çš„å®æ–½ï¼ŒæœåŠ¡å™¨æˆ–å­˜å‚¨é˜µåˆ—æ‰˜ç®¡æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå®¢æˆ·åˆ°æ–‡ä»¶ç³»ç»Ÿä¸Šè¯»å†™æ–‡ä»¶ï¼Œè€ŒiSCSIåˆ™ä½¿ç”¨æ•°æ®å—ï¼Œå­˜å‚¨é˜µåˆ—å‘å®¢æˆ·æä¾›æ•°æ®å—é›†åˆï¼Œèµ‹äºˆåŸå§‹å­˜å‚¨æ•°æ®ä¸€å®šçš„æ ¼å¼åŒ–ï¼Œè€Œä¸å»ç®¡æ–‡ä»¶ç³»ç»Ÿç©¶ç«Ÿå¦‚ä½•ä½¿ç”¨ã€‚å› æ­¤ï¼Œåœ¨æ•°æ®å¤‡ä»½æ—¶ï¼ŒNFSå¤‡ä»½çš„æ˜¯æ–‡ä»¶ç³»ç»Ÿï¼Œè€ŒiSCSIå¤‡ä»½çš„æ•°æ®å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;iscsiæ­å»º&#34;&gt;iSCSIæ­å»º&lt;/h2&gt;
&lt;p&gt;iSCSIåˆ†ä¸ºæœåŠ¡ç«¯ï¼ˆtargetï¼‰ä¸å®¢æˆ·ç«¯ï¼ˆinitiatorï¼‰ã€‚iSCSIæœåŠ¡ç«¯ï¼Œç”¨äºå­˜æ”¾ç¡¬ç›˜å­˜å‚¨èµ„æºçš„æœåŠ¡å™¨ï¼Œæä¾›å¯ç”¨çš„å­˜å‚¨èµ„æºã€‚iSCSIå®¢æˆ·ç«¯ï¼Œå³ç”¨äºè®¿é—®è¿œç¨‹æœåŠ¡ç«¯çš„å­˜å‚¨èµ„æºå·¥å…·&lt;/p&gt;
&lt;h3 id=&#34;ç¯å¢ƒä»‹ç»&#34;&gt;ç¯å¢ƒä»‹ç»&lt;/h3&gt;
&lt;p&gt;iSCSIæœåŠ¡ç«¯ï¼ŒCentos7ï¼Œ192.168.10.10&lt;br&gt;
iSCSIå®¢æˆ·ç«¯ï¼ŒCentos7ï¼Œ192.168.10.20&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. å…³é—­selinux
2. å…³é—­firewalld
å¦‚æœä¸å…³é—­é˜²ç«å¢™firewalldï¼Œåˆ™éœ€è¦æ”¾è¡Œç›¸åº”çš„ç«¯å£ï¼š
firewall-cmd --permanent --add-port=3260/tcp
firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æœåŠ¡ç«¯target&#34;&gt;æœåŠ¡ç«¯ï¼ˆtargetï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…æœåŠ¡ç«¯å’Œé…ç½®å·¥å…·
yum -y install targetd targetcli
systemctl enable targetd

# é…ç½®
targetcli
ls  # æŸ¥çœ‹ç›®å½•ç»“æ„
cd /backstores/block  # è¿›å…¥æ·»åŠ å­˜å‚¨èµ„æºçš„ç›®å½•ä¸‹
create diska /dev/sdb # æ·»åŠ ç£ç›˜/dev/sdbä¸ºå­˜å‚¨èµ„æºï¼Œå³å°†/dev/sdbå…±äº«å‡ºå»ï¼Œdiskaå¯è‡ªå®šä¹‰ï¼Œä¸‹é¢åˆ›å»ºtargetåç§°ä¹‹åè¿˜è¦ç”¨åˆ°
# æˆ–è€…create dev=/dev/sdb name=sdb

# åˆ›å»ºtargetåç§°
# iSCSI target åç§°ä¸€ä¸²ç”¨äºæè¿°å…±äº«èµ„æºçš„å”¯ä¸€å­—ç¬¦ä¸²
cd /iscsi
create # ç”±ç³»ç»Ÿé»˜è®¤ç”Ÿæˆï¼Œä¾‹å¦‚æ­¤æ¬¡ç”Ÿæˆçš„ç»“æœå¦‚ä¸‹ï¼šiqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987ï¼Œæ³¨æ„æœ€åä¸€ä¸ªè‹±æ–‡å¥å·ä¸æ˜¯åç§°éƒ¨åˆ†
# æˆ–è€…è‡ªå®šä¹‰ï¼šcreate iqn.2021-08.node1.iscsi:server
cd iqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987/tpg1/luns
create /backstores/block/diska  # åœ¨æ·»åŠ å­˜å‚¨èµ„æºæ—¶ï¼Œdiskaæ˜¯è‡ªå®šä¹‰çš„ï¼Œéœ€è¦ä¿æŒä¸€è‡´

# è®¾ç½®è®¿é—®æ§åˆ¶åˆ—è¡¨
# iSCSI åè®®æ˜¯é€šè¿‡å®¢æˆ·ç«¯åç§°è¿›è¡ŒéªŒè¯çš„ï¼Œç”¨æˆ·åœ¨è®¿é—®å­˜å‚¨å…±äº«èµ„æºæ—¶ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œåªè¦ iSCSI å®¢æˆ·ç«¯çš„åç§°ä¸æœåŠ¡ç«¯ä¸­è®¾ç½®çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­æŸä¸€åç§°æ¡ç›®ä¸€è‡´å³å¯
# è®¤è¯å­—ç¬¦ä¸²ä¸€èˆ¬è®¾ç½®çš„æ—¶å€™éµå¾ªçš„è§„åˆ™æ˜¯ï¼šåœ¨åç§°åé¢åŠ :client
cd ../acls
create iqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987:client
# è¿™ä¸ªå­—ç¬¦ä¸²éœ€è¦è®°å½•ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨

# è®¾ç½® iSCSI æœåŠ¡ç«¯çš„ç›‘å¬ IP åœ°å€å’Œç«¯å£å·
# é»˜è®¤ç›‘å¬çš„æ˜¯0.0.0.0:3260
cd ../portals
create 192.168.10.10

# æ£€æŸ¥é…ç½®ä¿¡æ¯
cd /
ls

# é€€å‡ºå¹¶é‡å¯æœåŠ¡
exit
systemctl start targetd &amp;amp;&amp;amp; systemctl status targetd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯initiator&#34;&gt;å®¢æˆ·ç«¯ï¼ˆinitiatorï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…å®¢æˆ·ç«¯
yum -y install iscsi-initiator-utils
systemctl enable iscsid

# ç¼–è¾‘å®¢æˆ·ç«¯éªŒè¯æ–‡ä»¶
# iSCSIåè®®æ˜¯é€šè¿‡å®¢æˆ·ç«¯çš„åç§°æ¥è¿›è¡ŒéªŒè¯ï¼Œè€Œè¯¥åç§°ä¹Ÿæ˜¯iSCSIå®¢æˆ·ç«¯çš„å”¯ä¸€æ ‡è¯†
# è€Œä¸”å¿…é¡»ä¸æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ä¸­è®¿é—®æ§åˆ¶åˆ—è¡¨ä¸­çš„ä¿¡æ¯ä¸€è‡´
# å¦åˆ™å®¢æˆ·ç«¯åœ¨å°è¯•è®¿é—®å­˜å‚¨å…±äº«è®¾å¤‡æ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºéªŒè¯å¤±è´¥ä¿¡æ¯
vim /etc/iscsi/initiatorname.iscsi
    InitiatorName=iqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987:client
systemctl start iscsid &amp;amp;&amp;amp; systemctl status iscsid

# iSCSIå®¢æˆ·ç«¯è®¿é—®å¹¶ä½¿ç”¨å…±äº«å­˜å‚¨èµ„æºçš„æ­¥éª¤
# å…ˆå‘ç°ï¼Œå†ç™»å½•ï¼Œæœ€åæŒ‚è½½å¹¶ä½¿ç”¨
iscsiadm -m discovery -t st -p 192.168.10.10
iscsiadm -m node -T iqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987 --login
# ç™»å½•ä¹‹åå°±å¯ä»¥å‘ç°æœ¬åœ°å·²ç»å¤šäº†ä¸€ä¸ªå­˜å‚¨ï¼Œä¾‹å¦‚æ–°å¢çš„æ˜¯/dev/sdb
lsblk 
file /dev/sdb
mkfs.xfs /dev/sdb
blkid | grep /dev/sdb  # æŸ¥çœ‹è¯¥å­˜å‚¨èµ„æºUUIDï¼Œç”¨äºæŒ‚è½½ç½‘ç»œå­˜å‚¨
mkdir /iscsi  # æŒ‚è½½è·¯å¾„
echo &amp;quot;UUID=xxxxxxxx /iscsi xfs defaults,_netdev 0 0&amp;quot; /etc/fstab # æ·»åŠ ä¸Š_netdevå‚æ•°ï¼Œè¡¨ç¤ºå½“ç³»ç»Ÿè”ç½‘åå†è¿›è¡ŒæŒ‚è½½æ“ä½œ
mount -a

# ä¸å†ä½¿ç”¨iSCSIå…±äº«è®¾å¤‡èµ„æºæ—¶ï¼Œä½¿ç”¨-u å‚æ•°å°†å…¶è®¾å¤‡å¸è½½
iscsiadm -m node -T iqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987 -u
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;iscsiè®¤è¯&#34;&gt;iSCSIè®¤è¯&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢åªæ˜¯é€šè¿‡å­—ç¬¦ä¸²è¿›è¡Œè®¤è¯ï¼Œè¿™ç§æ–¹å¼ç®€ä¾¿ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨å®‰å…¨é—®é¢˜ï¼ŒiSCSIæä¾›ä¸åŒçš„è®¤è¯æ–¹å¼æ¥è§£å†³å…¶å®‰å…¨é—®é¢˜&lt;br&gt;
iSCSIè®¤è¯åˆ†ä¸ºå‘ç°è®¤è¯å’Œç™»å½•è®¤è¯ï¼Œå…¶ä¸­æ¯ç§è®¤è¯åˆåˆ†ä¸ºå•å‘è®¤è¯å’ŒåŒå‘è®¤è¯ã€‚å‘ç°è®¤è¯å’Œç™»å½•è®¤è¯çš„æ„æ€å°±å’Œåå­—ä¸€æ ·ã€‚&lt;br&gt;
å•å‘è®¤è¯æ˜¯æŒ‡initiatorç«¯åœ¨å‘ç°targetç«¯çš„æ—¶å€™ï¼Œè¦æä¾›æ­£ç¡®çš„è®¤è¯æ‰èƒ½å‘ç°åœ¨targetç«¯çš„iSCSIæœåŠ¡ï¼›åŒå‘è®¤è¯æ˜¯æŒ‡åœ¨å•å‘è®¤è¯çš„åŸºç¡€ä¸Šï¼Œtargetç«¯éœ€è¦æ­£ç¡®è®¾ç½®initiatorç«¯è®¾ç½®çš„è®¤è¯æ‰èƒ½è¢«initiatorç«¯å‘ç°&lt;/p&gt;
&lt;h4 id=&#34;å‘ç°è®¤è¯&#34;&gt;å‘ç°è®¤è¯&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;è®¾ç½®å•å‘è®¤è¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .......................æœåŠ¡ç«¯..................................
targetcli
cd /iscsi
# æŸ¥çœ‹å‘ç°è®¤è¯çš„é»˜è®¤å±æ€§ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¨å±€çš„è®¾ç½®
get discovery_auth enable userid password mutual_userid mutual_password
# è®¾ç½®å•å‘è®¤è¯
set discovery_auth enable=1 userid=target10 password=123456 
exit
systemctl restart targetd

# .........................å®¢æˆ·ç«¯......................................
# ä¿®æ”¹iscsié…ç½®æ–‡ä»¶
vim /etc/iscsi/iscsid.conf
    discovery.sendtargets.auth.authmethod = CHAP  # é»˜è®¤è®¤è¯æ–¹å¼ä¸ºæŒ‘æˆ˜æ¡æ‰‹åè®®
    discovery.sendtargets.auth.username = target10
    discovery.sendtargets.auth.password = 123456
systemctl restart iscsid
# é‡æ–°å‘ç°ï¼ˆç™»é™†æ­¥éª¤çœç•¥ï¼‰
iscsiadm -m discovery -t st -p 192.168.10.10
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è®¾ç½®åŒå‘è®¤è¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .........................å®¢æˆ·ç«¯......................................
# é¦–å…ˆåœ¨initiatorç«¯è®¾ç½®è®¤è¯
vim /etc/iscsi/iscsid.conf  # è¿½åŠ å¦‚ä¸‹å†…å®¹
    discovery.sendtargets.auth.username_in = initiator20
    discovery.sendtargets.auth.password_in = 654321
systemctl restart iscsid

# .......................æœåŠ¡ç«¯..................................
targetcli
cd /iscsi
set discovery_auth mutual_userid=initiator20 mutual_password=654321
exit
systemctl restart targetd
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç™»å½•è®¤è¯&#34;&gt;ç™»å½•è®¤è¯&lt;/h4&gt;
&lt;p&gt;ç™»å½•è®¤è¯å’Œå‘ç°è®¤è¯ç±»ä¼¼ï¼Œä¹Ÿæ˜¯åˆ†ä¸ºå•å‘è®¤è¯å’ŒåŒå‘è®¤è¯ï¼Œè®¾ç½®çš„æ–¹æ³•å’Œå‘ç°è®¤è¯å‡ ä¹ä¸€æ ·&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .......................æœåŠ¡ç«¯..................................
# generate_node_aclså±æ€§è¡¨ç¤ºæ˜¯å¦å¼€å¯ACLï¼Œå½“ä¸ºno-gen-aclsçš„æ˜¯å¦ï¼Œinitiatorç«¯çš„iqnå·ï¼ˆ/etc/iscsi/initiatorname.iscsiä¸‹ï¼‰å¿…é¡»åŠ å…¥aclæ‰èƒ½ç™»é™†
targetcli
cd iscsiiqn.2003-01.org.linux-iscsi.source.x8664:sn.cdfa333799987/tpg1
ls
# åœ¨tpg1ç›®å½•ä¸‹æ‰“å¼€è®¤è¯set attribute authentication=1ï¼Œä½œç”¨ç±»ä¼¼å‘ç°è®¤è¯çš„enable
# åœ¨aclsçš„iqn....ç›®å½•ä¸‹è®¾ç½®ç”¨æˆ·å’Œå¯†ç ï¼Œæ“ä½œç±»ä¼¼å‘ç°è®¤è¯
set auth # å‚æ•°åŒ…å«å•å‘è®¤è¯çš„useridå’Œpasswordï¼Œä»¥åŠåŒå‘è®¤è¯çš„mutual_useridå’Œmutual_passwordï¼Œæ­¤å¤„ä¸å†æ¼”ç¤º

# .........................å®¢æˆ·ç«¯......................................
vim /etc/iscsi/iscsid.conf  # è¿½åŠ å¦‚ä¸‹å†…å®¹
    # å³å°†å‘ç°ä¸­çš„discovery.sendtargetsæ”¹æˆnode.session
    # å•å‘
    node.session.auth.authmethod = CHAP  # é»˜è®¤è®¤è¯æ–¹å¼ä¸ºæŒ‘æˆ˜æ¡æ‰‹åè®®
    node.sessions.auth.username = target10
    node.session.auth.password = 123456
    # åŒå‘
    node.session.auth.username_in = initiator20
    node.session.auth.password_in = 654321
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;nfs&#34;&gt;NFS&lt;/h2&gt;
&lt;h3 id=&#34;ç¯å¢ƒ&#34;&gt;ç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;NFSæœåŠ¡å™¨ï¼ŒCentos7ï¼Œ192.168.10.10&lt;br&gt;
NFSå®¢æˆ·ç«¯ï¼ŒCentos7ï¼Œ192.168.10.20&lt;/p&gt;
&lt;h3 id=&#34;å®æ–½&#34;&gt;å®æ–½&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ..................æœåŠ¡ç«¯
# å®‰è£…
yum -y install nfs-utils
systemctl enable rpcbind &amp;amp;&amp;amp; systemctl enable nfs-server

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# æ ¼å¼ï¼šå…±äº«ç›®å½•çš„è·¯å¾„ å…è®¸è®¿é—®çš„NFSå®¢æˆ·ç«¯ï¼ˆå…±äº«æƒé™å‚æ•°ï¼‰
# å…±äº«æƒé™å‚æ•°ä»‹ç»ï¼š
# ro\rwï¼šåªè¯»\è¯»å†™
# root_squash\no_root_squashï¼šå½“NFSå®¢æˆ·ç«¯ä»¥rootç®¡ç†å‘˜è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„åŒ¿åç”¨æˆ·\rootç®¡ç†å‘˜
# sync\asyncï¼šåŒæ—¶å°†æ•°æ®å†™å…¥å†…å­˜å’Œç¡¬ç›˜ä¸­\ä¼˜å…ˆå°†æ•°æ®ä¿å­˜åœ¨å†…å­˜
vim /etc/exports
    /nfs10 192.168.10.*(rw,sync,root_squash) #  å…è®¸è®¿é—®çš„NFSå®¢æˆ·ç«¯ï¼ˆå…±äº«æƒé™å‚æ•°ï¼‰ï¼Œæ²¡æœ‰ç©ºæ ¼
systemctl start rpcbind &amp;amp;&amp;amp;  systemctl start nfs-server

# ................å®¢æˆ·ç«¯
showmount -e 192.168.10.10
mkdir /nfs20
echo &amp;quot;192.168.10.10:/nfs10 /nfs20 nfs defaults 0 0&amp;quot; &amp;gt;&amp;gt;/etc/fstab
mount -a 
# ä¸´æ—¶æŒ‚è½½ï¼šmount -t nfs 192.168.10.10:/nfs10 /nfs20
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è‡ªåŠ¨æŒ‚è½½æœåŠ¡autofs&#34;&gt;è‡ªåŠ¨æŒ‚è½½æœåŠ¡autofs&lt;/h3&gt;
&lt;p&gt;æ— è®ºæ˜¯Sambaè¿˜æ˜¯NFSï¼Œéƒ½è¦æŠŠæŒ‚è½½ä¿¡æ¯å†™å…¥åˆ°/etc/fstabä¸­ï¼Œè¿™æ ·è¿œç¨‹å…±äº«èµ„æºå°±ä¼šè‡ªåŠ¨éšæœåŠ¡å™¨å¼€æœºè€Œè¿›è¡ŒæŒ‚è½½ã€‚è™½ç„¶è¿™å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æœæŒ‚è½½çš„è¿œç¨‹èµ„æºå¤ªå¤šï¼Œåˆ™ä¼šç»™ç½‘ç»œå¸¦å®½å’ŒæœåŠ¡å™¨çš„ç¡¬ä»¶èµ„æºå¸¦æ¥å¾ˆå¤§è´Ÿè½½ã€‚&lt;br&gt;
å¦‚æœåœ¨èµ„æºæŒ‚è½½åé•¿æœŸä¸ä½¿ç”¨ï¼Œä¹Ÿä¼šé€ æˆæœåŠ¡å™¨ç¡¬ä»¶èµ„æºçš„æµªè´¹ã€‚&lt;br&gt;
autofsè‡ªåŠ¨æŒ‚è½½æœåŠ¡ä¸mountå‘½ä»¤ä¸åŒï¼Œå½“æ£€æµ‹åˆ°ç”¨æˆ·è¯•å›¾è®¿é—®ä¸€ä¸ªå°šæœªæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œå°†è‡ªåŠ¨æŒ‚è½½è¯¥&lt;br&gt;
æ–‡ä»¶ç³»ç»Ÿï¼Œå®ç°å­˜å‚¨èµ„æºçš„åŠ¨æ€æŒ‚è½½ï¼Œä»è€ŒèŠ‚çº¦äº†ç½‘ç»œèµ„æºå’ŒæœåŠ¡å™¨çš„ç¡¬ä»¶èµ„æºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…
yum -y install autofs
systemctl enable autofs &amp;amp;&amp;amp; systemctl start autofs

# ä¿®æ”¹é…ç½®æ–‡ä»¶
# æ ¼å¼ï¼šæŒ‚è½½ç›®å½• å­é…ç½®æ–‡ä»¶ã€‚æŒ‚è½½ç›®å½•æ˜¯è®¾å¤‡æŒ‚è½½ä½ç½®çš„ä¸Šä¸€çº§ç›®å½•ï¼Œä¾‹å¦‚å…‰ç›˜è®¾å¤‡ä¸€èˆ¬æŒ‚è½½åˆ°/media/cdromç›®å½•ä¸­ï¼Œé‚£ä¹ˆæŒ‚è½½ç›®å½•å†™æˆ/mediaå³å¯
# å¯¹åº”çš„å­é…ç½®æ–‡ä»¶åˆ™æ˜¯å¯¹è¿™ä¸ªæŒ‚è½½ç›®å½•å†…çš„æŒ‚è½½è®¾å¤‡ä¿¡æ¯ä½œè¿›ä¸€æ­¥çš„è¯´æ˜
# å­é…ç½®æ–‡ä»¶éœ€è¦ç”¨æˆ·è‡ªè¡Œå®šä¹‰ï¼Œæ–‡ä»¶åå­—æ²¡æœ‰ä¸¥æ ¼è¦æ±‚ï¼Œä½†åç¼€å»ºè®®ä»¥.miscç»“æŸ
vim /etc/auto.master
    /media /etc/autofs/iso.misc
    /nfs20 /etc/autofs/nfs.misc  # å°†192.168.10.10çš„nfsæŒ‚è½½åˆ°/nfs20/test10ç›®å½•ä¸‹
vim /etc/autofs/iso.misc
    iso -fstype=iso9660,ro,nosuid,nodev :/dev/cdrom  # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€åä¸€çº§ç›®å½•ï¼Œåƒä¸‡ä¸èƒ½åŠ /
    test10 -fstype=nfs 192.168.10.10:/nfs10
systemctl restart autofs
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;raid&#34;&gt;RAID&lt;/h1&gt;
&lt;p&gt;ç¡¬RAIDéœ€è¦ä½¿ç”¨ä¸“ç”¨çš„RAIDå¡æ¥å®ç°ï¼Œæœ‰çš„æ—¶å€™åœ¨èµ„é‡‘ä¸å……è¶³çš„æƒ…å†µä¸‹ï¼Œåˆæƒ³ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œå¯ä»¥ä½¿ç”¨è½¯RAIDæ¥å®ç°ï¼Œä½†æ˜¯è¿™ä¸ªéœ€è¦CPUèµ„æºæ¥æ”¯æŒ&lt;br&gt;
&lt;strong&gt;ä¸ºäº†å®ç°åˆ†å¸ƒå¼å­˜å‚¨ï¼Œæé«˜å­˜å‚¨çš„å¯ç”¨æ€§ï¼Œä»¥åŠæ•°æ®çš„å®‰å…¨æ€§ï¼Œå¯ä»¥ä½¿ç”¨iSCSI+è½¯RAIDçš„æ–¹æ¡ˆï¼Œå³iscsiçš„å®¢æˆ·ç«¯initiatorä½œä¸ºå­˜å‚¨èµ„æºçš„ç®¡ç†ç«¯ï¼Œå°†å¤šå—iscsiå­˜å‚¨èµ„æºé…ç½®ä¸ºraid&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;è½¯raidå’Œç¡¬raidçš„åŒºåˆ«&#34;&gt;è½¯RAIDå’Œç¡¬RAIDçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;å¦‚æœç”±CPUæ‰§è¡Œç¡¬ç›˜æ§åˆ¶å™¨çš„é©±åŠ¨ç¨‹åºä»£ç å®Œæˆï¼Œå°±æ˜¯è½¯RAIDï¼›å¦‚æœç”±RAIDå¡ä¸Šçš„ä¸»æ§èŠ¯ç‰‡å®Œæˆï¼Œå°±æ˜¯ç¡¬RAIDã€‚&lt;br&gt;
æœ‰çš„æœåŠ¡å™¨è™½ç„¶æ²¡æœ‰RAIDå¡ï¼Œä½†æ˜¯ä¸»æ¿æ¿è½½RAIDæ§åˆ¶èŠ¯ç‰‡å®Œæˆä¸Šè¿°è½¬æ¢ï¼Œè¿™ä¹Ÿæ˜¯ç¡¬RAIDã€‚ä½†æ˜¯åœ¨å®¶ç”¨çº§ä¸»æ¿ï¼ŒæŸäº›ä½ç«¯çš„æ‰©å±•å¡æ‰€æä¾›çš„RAIDåŠŸèƒ½ï¼Œæ˜¯ç”±CPUæ‰§è¡Œé©±åŠ¨ç¨‹åºçš„ç›¸å…³ä»£ç å®ç°ä¸Šè¿°è½¬æ¢ï¼Œéƒ½æ˜¯è½¯RAIDã€‚&lt;br&gt;
æŸäº›æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿ/å—è®¾å¤‡é©±åŠ¨æœ¬èº«ä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œä¾‹å¦‚WindowsåŠ¨æ€ç£ç›˜å®ç°çš„é•œåƒå·/å¸¦åŒºå·/RAID5å·ä»¥åŠå­˜å‚¨ç©ºé—´ã€Linuxçš„DMã€BtrFSã€BSD/Solarisçš„ZFSï¼Œä¸ç¡¬ä»¶æ— å…³ï¼Œè‡ªç„¶éƒ½æ˜¯è½¯RAIDã€‚å¯¹äºè½¯RAIDæ¥è¯´ï¼Œè¿™äº›æ“ä½œéœ€è¦å ç”¨ä¸€å®šçš„CPUèµ„æºï¼Œå°¤å…¶æ˜¯RAID5å’ŒRAID6&lt;code&gt;è¿™ä¸¤ç§æ¨¡å¼çš„å†™å…¥æ“ä½œå¾ˆå¤æ‚ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œæ•°æ®ä¿®å¤å‡ ä¹ä¸å¯èƒ½&lt;/code&gt;&lt;br&gt;
è‡³äºå®‰å…¨æ€§å’Œä¾¿åˆ©æ€§æ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰å…¨æ€§æ–¹é¢ï¼Œåªè¦RAIDçº§åˆ«ç›¸åŒï¼Œå¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œä¸»è¦çœ‹RAIDç®¡ç†å™¨æ˜¯å¦æä¾›æ ¡éªŒ/ä¿®å¤åŠŸèƒ½ï¼Œæ˜¯å¦æ”¯æŒè‡ªåŠ¨å®šæœŸæ ¡éªŒ/ä¿®å¤&lt;/li&gt;
&lt;li&gt;ä¾¿åˆ©æ€§æ–¹é¢ï¼Œä¸»è¦çœ‹RAIDç®¡ç†å™¨æä¾›çš„åŠŸèƒ½ã€‚ä¾‹å¦‚æ˜¯å¦å¯ä»¥åŠ¨æ€æ‰©å±•é€»è¾‘é©±åŠ¨å™¨ï¼ŒåŠ¨æ€å‡çº§RAIDçº§åˆ«ï¼Œæˆ–è€…å¢åŠ SSDç¼“å­˜åŠ é€Ÿè¯»å†™æ€§èƒ½ç­‰ã€‚å¦‚æœè½¯RAIDæ˜¯IntelèŠ¯ç‰‡ç»„æä¾›çš„è¯ï¼ŒIntelçš„RSTæ˜¯æ”¯æŒè¿™å‡ ä¸ªåŠŸèƒ½çš„ï¼Œè‡³äºå…¶å®ƒç¡¬RAIDæˆ–è€…è½¯RAIDæ–¹æ¡ˆï¼Œéœ€è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†æ&lt;code&gt;å½“éœ€è¦è¿ç§»ç³»ç»Ÿæ—¶ï¼Œç¡¬RAIDå¯ä»¥ç›´æ¥ Ghost ï¼›ä½†æ˜¯è½¯RAIDæ²¡æ³•Ghostå¤‡ä»½&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœä¸å¼€å¯å†™å…¥ç¼“å­˜ï¼ˆä¾‹å¦‚RAIDå¡è®¾ç½®ä¸ºWriteThroughæ¨¡å¼ï¼‰ï¼ŒRAID5å’ŒRAID6çš„å†™å…¥æ€§èƒ½ä¼šéå¸¸ä½ä¸‹ã€‚å¦‚æœå¼€å¯å›å†™ç¼“å­˜ï¼ˆRAIDå¡è®¾ç½®WriteBackæ¨¡å¼ï¼‰ï¼Œåˆ™ä¸€æ—¦å‘ç”Ÿç³»ç»Ÿå´©æºƒã€ç”µæºæ•…éšœç­‰æƒ…å†µï¼Œå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œç¡¬ä»¶RAIDå¡ä¸€èˆ¬ä¼šæœ‰ç”µæ± å•å…ƒç»™ç¼“å­˜ä¾›ç”µï¼Œç³»ç»Ÿé‡å¯/ç”µæºæ¢å¤çš„æ—¶å€™å¯ä»¥æŠŠç¼“å­˜ä¸­æœªå†™å…¥ç¡¬ç›˜çš„æ•°æ®å†™å…¥ç¡¬ç›˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®æ–½-2&#34;&gt;å®æ–½&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…è½¯ä»¶
yum -y install mdadm

# åˆ›å»ºraidé˜µåˆ—
mdadm -Cv /dev/md0 -n 3 -l 5 -x 1 /dev/sdb /dev/sdc /dev/sdd /dev/sde
# -Cvï¼šä¸ºåˆ›å»ºé˜µåˆ—å¹¶æ˜¾ç¤ºè¿‡ç¨‹
# /dev/md0ï¼šä¸ºç”Ÿæˆçš„é˜µåˆ—ç»„åç§°
# -n 3ï¼šåˆ›å»ºRAID 5ç£ç›˜é˜µåˆ—æ‰€éœ€çš„ç¡¬ç›˜ä¸ªæ•°
# -l 5ï¼šRAIDç£ç›˜é˜µåˆ—çš„çº§åˆ«
# -x 1ï¼šç£ç›˜é˜µåˆ—çš„å¤‡ä»½ç›˜ä¸ªæ•°
# /dev/sdb /dev/sdc /dev/sdd /dev/sdeï¼šéœ€è¦ä½¿ç”¨çš„ç¡¬ç›˜åç§°ï¼Œå¯ä»¥ä½¿ç”¨é…ç¬¦æ¥æŒ‡å®šç¡¬ç›˜è®¾å¤‡çš„åç§°

# æŸ¥çœ‹è®¾å¤‡çš„è¯¦ç»†ä¿¡æ¯
mdadm -D /dev/md0
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;lvm&#34;&gt;LVM&lt;/h1&gt;
&lt;p&gt;å¦‚æœå­˜å‚¨æœåŠ¡å™¨å·²ç»é…ç½®äº†ç¡¬RAID1æˆ–è€…RAID10æˆ–è€…RAID01æ¥ä¿éšœæ•°æ®çš„å®‰å…¨æ€§ï¼Œä¸ºäº†&lt;strong&gt;æé«˜å­˜å‚¨çš„å¯ç”¨æ€§å’Œæ‰©å±•æ€§&lt;/strong&gt;ï¼Œé€šå¸¸éœ€è¦&lt;strong&gt;ä½¿ç”¨iSCSIæ­é…LVMæ¥å®ç°&lt;/strong&gt;ï¼Œå³&lt;strong&gt;åœ¨iscsiçš„å®¢æˆ·ç«¯initiatorä¸Šé…ç½®LVM&lt;/strong&gt;æ¥&lt;strong&gt;å®ç°å­˜å‚¨çš„ä¼¸ç¼©&lt;/strong&gt;ï¼Œå³éšç€å®é™…éœ€æ±‚çš„å˜åŒ–è°ƒæ•´ç¡¬ç›˜åˆ†åŒºçš„å¤§å°æ—¶ï¼Œæé«˜å­˜å‚¨çµæ´»æ€§ï¼ŒLVMå¯ä»¥å…è®¸ç”¨æˆ·å¯¹ç¡¬ç›˜èµ„æºè¿›è¡ŒåŠ¨æ€è°ƒæ•´ã€‚LVMæ˜¯åœ¨ç¡¬ç›˜åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿä¹‹é—´æ·»åŠ äº†ä¸€ä¸ªé€»è¾‘å±‚ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæŠ½è±¡çš„å·ç»„ï¼Œå¯ä»¥æŠŠå¤šå—ç¡¬ç›˜è¿›è¡Œå·ç»„åˆå¹¶ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1629645002616.png&#34; alt=&#34;é€»è¾‘å·ç®¡ç†å™¨çš„æŠ€æœ¯ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‰©ç†å·PVå¤„äºLVMä¸­çš„æœ€åº•å±‚ï¼Œå¯ä»¥å°†å…¶ç†è§£ä¸ºç‰©ç†ç¡¬ç›˜ã€ç¡¬ç›˜åˆ†åŒºæˆ–è€…RAIDç£ç›˜é˜µåˆ—&lt;/li&gt;
&lt;li&gt;å·ç»„VGå»ºç«‹åœ¨ç‰©ç†å·PVä¹‹ä¸Šï¼Œä¸€ä¸ªå·ç»„VGå¯ä»¥åŒ…å«å¤šä¸ªç‰©ç†å·PVï¼Œè€Œä¸”åœ¨å·ç»„VGåˆ›å»ºä¹‹åä¹Ÿå¯ä»¥ç»§ç»­å‘å…¶ä¸­æ·»åŠ æ–°çš„ç‰©ç†å·PV&lt;/li&gt;
&lt;li&gt;é€»è¾‘å·LVæ˜¯ç”¨å·ç»„ä¸­ç©ºé—²çš„èµ„æºå»ºç«‹çš„ï¼Œå¹¶ä¸”é€»è¾‘å·åœ¨å»ºç«‹åå¯ä»¥åŠ¨æ€åœ°æ‰©å±•æˆ–ç¼©å°ç©ºé—´&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å‘½ä»¤ä»‹ç»&#34;&gt;å‘½ä»¤ä»‹ç»&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1629645197932.png&#34; alt=&#34;å¸¸ç”¨çš„ LVM éƒ¨ç½²å‘½ä»¤&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;å®æ–½-3&#34;&gt;å®æ–½&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»º&#34;&gt;åˆ›å»º&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ......................ç‰©ç†å·...................
# æ·»åŠ éœ€è¦ä½¿ç”¨çš„ç£ç›˜
pvcreate /dev/sdb /dev/sdc
# æŸ¥çœ‹çŠ¶æ€
pvdisplay


# ......................å·ç»„...................
# æŠŠä¸¤å—ç¡¬ç›˜è®¾å¤‡åŠ å…¥åˆ°storageï¼ˆè‡ªå®šä¹‰ï¼‰å·ç»„
vgcreate storage /dev/sdb /dev/sdc
# æŸ¥çœ‹å·ç»„çš„çŠ¶æ€
vgdisplay


# ......................é€»è¾‘å·...................
# åˆ‡å‰²å‡ºä¸€ä¸ªçº¦ä¸º150MBçš„é€»è¾‘å·è®¾å¤‡
# å¯¹é€»è¾‘å·è¿›è¡Œåˆ‡å‰²æ—¶æœ‰ä¸¤ç§è®¡é‡å•ä½ï¼š
# 1. ä»¥å®¹é‡ä¸ºå•ä½ï¼Œæ‰€ä½¿ç”¨çš„å‚æ•°ä¸º-Lï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨-L 150Mç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º150MBçš„é€»è¾‘å·
# 2. ä»¥åŸºæœ¬å•å…ƒï¼ˆé»˜è®¤ä¸º4MBï¼‰çš„ä¸ªæ•°ä¸ºå•ä½ï¼Œæ‰€ä½¿ç”¨çš„å‚æ•°ä¸º-lï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨-l 37å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¤§å°ä¸º37Ã—4MB=148MBçš„é€»è¾‘å·
lvcreate -n vo -l 37 storage  # voæ˜¯è‡ªå®šä¹‰çš„ï¼Œåé¢æŒ‚è½½æ—¶ä½¿ç”¨ï¼›storageæ˜¯åœ¨åˆ›å»ºå·ç»„æ—¶è‡ªå®šä¹‰çš„
# æŸ¥çœ‹é€»è¾‘å·çŠ¶æ€
lvdisplay


# æŠŠç”Ÿæˆå¥½çš„é€»è¾‘å·è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åæŒ‚è½½ä½¿ç”¨
mkfs.xfs -f /dev/storage/vo
mkdir /lvmtest
echo &amp;quot;/dev/storage/vo /lvmtest xfs defaults 0 0&amp;quot; &amp;gt;&amp;gt; /etc/fstab
mount -a
df -h
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ‰©å±•&#34;&gt;æ‰©å±•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åªè¦å·ç»„ä¸­æœ‰è¶³å¤Ÿçš„èµ„æºï¼Œå°±å¯ä»¥ä¸€ç›´ä¸ºé€»è¾‘å·æ‰©å®¹&lt;/li&gt;
&lt;li&gt;å·ç»„ä¸­æ²¡æœ‰èµ„æºäº†ï¼Œå¯ä»¥åœ¨PVä¸­æ·»åŠ ï¼Œç„¶åå†æ·»åŠ åˆ°å·ç»„ä¸­&lt;/li&gt;
&lt;li&gt;æ‰©å±•å‰éœ€è¦å¸è½½è®¾å¤‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…ˆå¸è½½
umount /lvmtest

# æ‰©å±•é€»è¾‘å·ï¼ˆç”±150Måˆ°300Mï¼‰
lvextend -L 300M /dev/storage/vo

# æ£€æŸ¥ç¡¬ç›˜å®Œæ•´æ€§ï¼Œå¹¶é‡ç½®ç¡¬ç›˜å®¹é‡ï¼ˆè‡³å…³é‡è¦ï¼‰
e2fsck -f /dev/storage/vo
resize2fs /dev/storage/vo

# é‡æ–°æŒ‚è½½ç¡¬ç›˜è®¾å¤‡å¹¶æŸ¥çœ‹æŒ‚è½½çŠ¶æ€
mount -a
df -h
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼©å°&#34;&gt;ç¼©å°&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å¯¹é€»è¾‘å·è¿›è¡Œç¼©å®¹æ“ä½œæ—¶ï¼Œå…¶ä¸¢å¤±æ•°æ®çš„é£é™©æ›´å¤§ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ‰§è¡Œç›¸åº”æ“ä½œæ—¶ï¼Œä¸€å®šè¦&lt;strong&gt;æå‰å¤‡ä»½å¥½æ•°æ®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨å¯¹LVMé€»è¾‘å·è¿›è¡Œç¼©å®¹æ“ä½œä¹‹å‰ï¼Œè¦&lt;strong&gt;å…ˆæ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§&lt;/strong&gt;ï¼Œè¿™æ˜¯ä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨&lt;/li&gt;
&lt;li&gt;åœ¨æ‰§è¡Œç¼©å®¹æ“ä½œå‰ï¼Œå’Œæ‰©å±•ä¸€æ ·ï¼Œéœ€è¦å…ˆæŠŠæ–‡ä»¶ç³»ç»Ÿå¸è½½æ‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…ˆå¸è½½
umount /lvmtest

# æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿçš„å®Œæ•´æ€§
e2fsck -f /dev/storage/vo

# æŠŠé€»è¾‘å·voçš„å®¹é‡å‡å°åˆ°200MB
resize2fs /dev/storage/vo 200M
lvreduce -L 200M /dev/storage/vo

# é‡æ–°æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿå¹¶æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
mount -a
df -h
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é€»è¾‘å·å¿«ç…§&#34;&gt;é€»è¾‘å·å¿«ç…§&lt;/h3&gt;
&lt;p&gt;LVMå…·æœ‰å¿«ç…§å·åŠŸèƒ½ï¼Œç±»ä¼¼äºè™šæ‹Ÿæœºè½¯ä»¶çš„è¿˜åŸæ—¶é—´ç‚¹åŠŸèƒ½ï¼Œæœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¿«ç…§å·çš„å®¹é‡å¿…é¡»ç­‰åŒäºé€»è¾‘å·çš„å®¹é‡&lt;/li&gt;
&lt;li&gt;å¿«ç…§å·ä»…ä¸€æ¬¡æœ‰æ•ˆï¼Œä¸€æ—¦æ‰§è¡Œè¿˜åŸæ“ä½œååˆ™ä¼šè¢«ç«‹å³è‡ªåŠ¨åˆ é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹å·ç»„çš„ä¿¡æ¯
vgdisplay

# ç”Ÿæˆå¿«ç…§å·
# -sç”Ÿæˆå¿«ç…§å·ï¼Œ-LæŒ‡å®šåˆ‡å‰²çš„å¤§å°
lvcreate -L 200M -s -n SNAP /dev/storage/vo
lvdisplay

# å¿«ç…§è¿˜åŸ
umount /lvmtest
lvconvert --merge /dev/storage/SNAP   # å¿«ç…§å·ä¼šè¢«è‡ªåŠ¨åˆ é™¤æ‰
mount -a
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ é™¤é€»è¾‘å·&#34;&gt;åˆ é™¤é€»è¾‘å·&lt;/h3&gt;
&lt;p&gt;é‡æ–°éƒ¨ç½²LVMæˆ–è€…ä¸å†éœ€è¦ä½¿ç”¨LVMæ—¶ï¼Œåˆ™éœ€è¦æ‰§è¡ŒLVMçš„åˆ é™¤æ“ä½œã€‚&lt;br&gt;
éœ€è¦æå‰å¤‡ä»½å¥½é‡è¦çš„æ•°æ®ä¿¡æ¯ï¼Œç„¶åä¾æ¬¡åˆ é™¤é€»è¾‘å·ã€å·ç»„ã€ç‰©ç†å·è®¾å¤‡ï¼Œè¿™ä¸ªé¡ºåºä¸å¯é¢ å€’&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…ˆå¸è½½ï¼Œå¹¶åˆ é™¤é…ç½®
umount /lvmtest
vim /etc/fstab
    # åˆ é™¤/dev/storage/vo /lvmtest xfs defaults 0 0

# åˆ é™¤é€»è¾‘å·è®¾å¤‡
lvremove /dev/storage/vo
y

# åˆ é™¤å·ç»„ï¼Œæ­¤å¤„åªå†™å·ç»„åç§°å³å¯ï¼Œä¸éœ€è¦è®¾å¤‡çš„ç»å¯¹è·¯å¾„
vgremove storage

# åˆ é™¤ç‰©ç†å·è®¾å¤‡
pvremove /dev/sdb /dev/sdc
&lt;/code&gt;&lt;/pre&gt;
">å­˜å‚¨é«˜å¯ç”¨æ€§ï¼šiSCSIã€NFSã€RAIDã€LVM</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/golang-di-wu-zhang-cheng-xu-liu-cheng-kong-zhi/"" data-c="
          &lt;p&gt;æµç¨‹æ§åˆ¶ä¸»è¦åˆ†ä¸ºä¸‰å¤§ç±»ï¼šé¡ºåºæ§åˆ¶ã€åˆ†æ”¯æ§åˆ¶ã€å¾ªç¯æ§åˆ¶&lt;/p&gt;
&lt;h1 id=&#34;é¡ºåºæ§åˆ¶&#34;&gt;é¡ºåºæ§åˆ¶&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ç¨‹åºä»ä¸Šåˆ°ä¸‹é€è¡Œçš„æ‰§è¡Œï¼Œä¸­é—´æ²¡æœ‰ä»»ä½•åˆ¤æ–­å’Œè·³è½¬&lt;/li&gt;
&lt;li&gt;golangä¸­å®šä¹‰å˜é‡æ—¶é‡‡ç”¨åˆæ³•çš„å‰å‘å¼•ç”¨ï¼Œå³éœ€è¦å…ˆå£°æ˜åå¼•ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åˆ†æ”¯æ§åˆ¶&#34;&gt;åˆ†æ”¯æ§åˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;ifåˆ†æ”¯æ§åˆ¶&#34;&gt;ifåˆ†æ”¯æ§åˆ¶&lt;/h2&gt;
&lt;p&gt;å•åˆ†æ”¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;if æ¡ä»¶è¡¨è¾¾å¼ {
    æ‰§è¡Œä»£ç å—
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åŒåˆ†æ”¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;if æ¡ä»¶è¡¨è¾¾å¼ {
    æ‰§è¡Œä»£ç å—1
} else {
    æ‰§è¡Œä»£ç å—2
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤šåˆ†æ”¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;if æ¡ä»¶è¡¨è¾¾å¼1 {
    æ‰§è¡Œä»£ç 1
} else if æ¡ä»¶è¡¨è¾¾å¼2 {
    æ‰§è¡Œä»£ç 2
} ... {

} else {
    æ‰§è¡Œä»£ç n
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åµŒå¥—åˆ†æ”¯&lt;code&gt;å»ºè®®æ§åˆ¶åœ¨3å±‚ä»¥å†…&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;if æ¡ä»¶è¡¨è¾¾å¼x {
    if æ¡ä»¶è¡¨è¾¾å¼y {
        æ‰§è¡Œä»£ç 1
    } else {
        æ‰§è¡Œä»£ç 2
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;switchåˆ†æ”¯æ§åˆ¶&#34;&gt;switchåˆ†æ”¯æ§åˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;switchè¯­å¥ç”¨äºåŸºäºä¸åŒçš„æ¡ä»¶æ‰§è¡Œä¸åŒçš„åŠ¨ä½œï¼Œæ¯ä¸€ä¸ªcaseåˆ†æ”¯éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä»ä¸Šåˆ°ä¸‹é€ä¸€æµ‹è¯•ï¼Œç›´åˆ°åŒ¹é…ä¸ºæ­¢&lt;/li&gt;
&lt;li&gt;å…ˆæ‰§è¡Œè¡¨è¾¾å¼å¾—åˆ°å€¼ï¼Œç„¶åå’Œcaseçš„è¡¨è¾¾å¼è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœç›¸ç­‰åˆ™åŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œå¯¹åº”çš„è¯­å¥å—ï¼Œç„¶åé€€å‡ºswitchæ§åˆ¶ï¼›å¦‚æœæ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œåˆ™æ‰§è¡Œdefaultä¸‹çš„è¯­å¥å—ï¼Œç„¶åé€€å‡ºswitchæ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;caseåè¡¨è¾¾å¼å¯ä»¥æœ‰å¤šä¸ªï¼Œä½¿ç”¨é€—å·é—´éš”&lt;/li&gt;
&lt;li&gt;caseè¯­å¥å—åä¸éœ€è¦breakï¼Œé»˜è®¤ä¼šæœ‰&lt;/li&gt;
&lt;li&gt;åŸºæœ¬è¯­æ³•ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;switch è¡¨è¾¾å¼ {
    case è¡¨è¾¾å¼1,è¡¨è¾¾å¼2,...:
        è¯­å¥å—1
    case è¡¨è¾¾å¼3,è¡¨è¾¾å¼4,...:
        è¯­å¥å—2
    // å¯ä»¥å¤šä¸ªcaseè¯­å¥
    default:
        é»˜è®¤è¯­å¥å—
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ³¨æ„ç»†èŠ‚&#34;&gt;æ³¨æ„ç»†èŠ‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;switch/caseåæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆå³&lt;strong&gt;å¸¸é‡å€¼&lt;/strong&gt;ã€&lt;strong&gt;å˜é‡&lt;/strong&gt;ã€ä¸€ä¸ªæœ‰&lt;strong&gt;è¿”å›å€¼çš„å‡½æ•°&lt;/strong&gt;éƒ½å¯ä»¥ï¼‰&lt;/li&gt;
&lt;li&gt;caseï¼š
&lt;ol&gt;
&lt;li&gt;caseåçš„å„ä¸ªè¡¨è¾¾å¼çš„å€¼çš„æ•°æ®ç±»å‹ï¼Œå¿…é¡»å’Œswitchçš„è¡¨è¾¾å¼æ•°æ®ç±»å‹ä¸€è‡´&lt;/li&gt;
&lt;li&gt;caseåé¢å¯ä»¥å¸¦å¤šä¸ªè¡¨è¾¾å¼ï¼Œä½¿ç”¨é€—å·é—´éš”ï¼Œæ¯”å¦‚&lt;code&gt;case è¡¨è¾¾å¼1,è¡¨è¾¾å¼2,...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;caseåé¢çš„è¡¨è¾¾å¼ä¸ºå¸¸é‡å€¼æ—¶ï¼Œä¸èƒ½å‡ºç°é‡å¤&lt;/li&gt;
&lt;li&gt;caseåé¢ä¸éœ€è¦å¸¦breakï¼Œç¨‹åºåŒ¹é…åˆ°ä¸€ä¸ªcaseåå°±ä¼šæ‰§è¡Œå¯¹åº”çš„ä»£ç å—ï¼Œç„¶åé€€å‡ºswitchï¼Œå¦‚æœä¸€ä¸ªä¹ŸåŒ¹é…ä¸åˆ°åˆ™æ‰§è¡Œdefaultï¼Œå› æ­¤&lt;strong&gt;defaultè¯­å¥æ—¶å¿…é¡»çš„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç©¿é€fallthroughï¼Œå³åœ¨caseè¯­å¥å—åé¢å¢åŠ fallthroughï¼Œåˆ™ä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcaseï¼Œè¿™ç§åšæ³•ä¹Ÿå«switchç©¿é€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;switch
&lt;ol&gt;
&lt;li&gt;switchåå¯ä»¥ä¸å¸¦è¡¨è¾¾å¼ï¼Œç±»ä¼¼&lt;code&gt;if else&lt;/code&gt;åˆ†æ”¯æ¥ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;switchåå¯ä»¥ç›´æ¥å£°æ˜æˆ–è€…å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåˆ†å·ç»“æŸï¼Œä¾‹å¦‚&lt;code&gt;switch grade :=90; {}&lt;/code&gt;ï¼Œä½†æ­¤ç§æ–¹æ³•ä¸æ¨èä½¿ç”¨&lt;/li&gt;
&lt;li&gt;switchå¯ä»¥ç”¨äºtype-switchæ¥åˆ¤æ–­æŸä¸ªinterfaceå˜é‡ä¸­å®é™…æŒ‡å‘çš„å˜é‡ç±»å‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1629275014087.png&#34; alt=&#34;type-switch&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main
import (
	&amp;quot;fmt&amp;quot;
)

func main() {

	// 	æ¡ˆä¾‹ï¼š
	// è¯·ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºå¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚: a,b,c,d,e,f,g
	// aè¡¨ç¤ºæ˜ŸæœŸä¸€ï¼Œbè¡¨ç¤ºæ˜ŸæœŸäºŒï¼Œcè¡¨ç¤ºæ˜ŸæœŸä¸‰ï¼Œæ ¹æ®ç”¨æˆ·çš„è¾“å…¥æ˜¾ç¤ºç›¸åº”çš„ä¿¡æ¯
	// è¦æ±‚ä½¿ç”¨ switch è¯­å¥å®Œæˆ
	var key byte
	fmt.Println(&amp;quot;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ a,b,cï¼š&amp;quot;)
	fmt.Scanf(&amp;quot;%c&amp;quot;, &amp;amp;key)
	switch key { //å°†è¯­æ³•ç°è±¡
		case &#39;a&#39;:
			fmt.Println(&amp;quot;ä»Šå¤©æ˜¯å‘¨ä¸€&amp;quot;)
		case &#39;b&#39;:
			fmt.Println(&amp;quot;ä»Šå¤©æ˜¯å‘¨äºŒ&amp;quot;)
		case &#39;c&#39;:
			fmt.Println(&amp;quot;ä»Šå¤©æ˜¯å‘¨ä¸‰&amp;quot;)
		default:
			fmt.Println(&amp;quot;è¾“å…¥æœ‰è¯¯...&amp;quot;)
	}

	// caseåå¯ä»¥æœ‰å¤šä¸ªè¡¨è¾¾å¼
	var n1 int32 = 51
	var n2 int32 = 20
	switch n1 {
		case n2,10,5 :
			fmt.Println(&amp;quot;ok1&amp;quot;)
		case 90,100,51 :  // æ­¤å¤„ä¸èƒ½å†å†™10ã€5ï¼Œå¦åˆ™å’Œä¸Šé¢é‡å¤
			fmt.Println(&amp;quot;ok2~&amp;quot;)
	}


	//switch åä¹Ÿå¯ä»¥ä¸å¸¦è¡¨è¾¾å¼ï¼Œç±»ä¼¼ if --elseåˆ†æ”¯æ¥ä½¿ç”¨
	var age int = 10
	switch {
		case age == 10 :
			fmt.Println(&amp;quot;age ä¸º 10&amp;quot;)
		case age == 20 :
			fmt.Println(&amp;quot;age ä¸º 20&amp;quot;)
		default :
			fmt.Println(&amp;quot;æ²¡æœ‰åŒ¹é…åˆ°&amp;quot;)
	}

	//case ä¸­ä¹Ÿå¯ä»¥å¯¹ èŒƒå›´è¿›è¡Œåˆ¤æ–­
	var score int = 90
	switch {
		case score &amp;gt; 90 :
			fmt.Println(&amp;quot;æˆç»©ä¼˜ç§€..&amp;quot;)
		case score &amp;gt;=70 &amp;amp;&amp;amp; score &amp;lt;= 90 :
			fmt.Println(&amp;quot;æˆç»©ä¼˜è‰¯...&amp;quot;)
		case score &amp;gt;= 60 &amp;amp;&amp;amp; score &amp;lt; 70 :
			fmt.Println(&amp;quot;æˆç»©åŠæ ¼...&amp;quot;)
		default :
			fmt.Println(&amp;quot;ä¸åŠæ ¼&amp;quot;)
	}


	//switch åä¹Ÿå¯ä»¥ç›´æ¥å£°æ˜/å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåˆ†å·ç»“æŸï¼Œä¸æ¨è
	switch grade := 90; { // åœ¨golangä¸­ï¼Œå¯ä»¥è¿™æ ·å†™
		case grade &amp;gt; 90 :
			fmt.Println(&amp;quot;æˆç»©ä¼˜ç§€~..&amp;quot;)
		case grade &amp;gt;=70 &amp;amp;&amp;amp; grade &amp;lt;= 90 :
			fmt.Println(&amp;quot;æˆç»©ä¼˜è‰¯~...&amp;quot;)
		case grade &amp;gt;= 60 &amp;amp;&amp;amp; grade &amp;lt; 70 :
			fmt.Println(&amp;quot;æˆç»©åŠæ ¼~...&amp;quot;)
		default :
			fmt.Println(&amp;quot;ä¸åŠæ ¼~&amp;quot;)
	}

	//switch çš„ç©¿é€ fallthrought
	var num int = 10
	switch num {
		case 10:
			fmt.Println(&amp;quot;ok1&amp;quot;)
			fallthrough //é»˜è®¤åªèƒ½ç©¿é€ä¸€å±‚
		case 20:
			fmt.Println(&amp;quot;ok2&amp;quot;)
			fallthrough
		case 30:
			fmt.Println(&amp;quot;ok3&amp;quot;)
		default:
			fmt.Println(&amp;quot;æ²¡æœ‰åŒ¹é…åˆ°..&amp;quot;)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;switchå’Œifçš„æ¯”è¾ƒ&#34;&gt;switchå’Œifçš„æ¯”è¾ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ¤æ–­çš„å…·ä½“æ•°å€¼ä¸å¤šï¼Œè€Œä¸”ç¬¦åˆæ•´æ•°ã€æµ®ç‚¹æ•°ã€å­—ç¬¦ã€å­—ç¬¦ä¸²è¿™å‡ ç§ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨switch&lt;/li&gt;
&lt;li&gt;å¯¹åŒºé—´çš„åˆ¤æ–­æˆ–ç»“æœä¸ºboolå‹ï¼Œå»ºè®®ä½¿ç”¨if&lt;code&gt;ifä½¿ç”¨èŒƒå›´æ›´å¹¿&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å¾ªç¯æ§åˆ¶&#34;&gt;å¾ªç¯æ§åˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;forå¾ªç¯æ§åˆ¶&#34;&gt;forå¾ªç¯æ§åˆ¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// è¯­æ³•1ï¼š
for å¾ªç¯å˜é‡åˆå§‹åŒ–ï¼›å¾ªç¯æ¡ä»¶ï¼›å¾ªç¯å˜é‡è¿­ä»£ {
    å¾ªç¯æ“ä½œ
}
// å…¶ä¸­ å¾ªç¯å˜é‡åˆå§‹åŒ– å’Œ å¾ªç¯å˜é‡è¿­ä»£ å¯ä»¥ä¸åœ¨forä¹‹åï¼Œè¿™ä¸¤ä¸ªå¯ä»¥å†™åœ¨å…¶ä»–åœ°æ–¹ï¼Œä¾‹å¦‚è¯­æ³•2

// è¯­æ³•2ï¼š
å¾ªç¯å˜é‡åˆå§‹åŒ–
for å¾ªç¯æ¡ä»¶ {
    å¾ªç¯æ“ä½œ
    å¾ªç¯å˜é‡è¿­ä»£
}

// è¯­æ³•3ï¼šæ— é™å¾ªç¯ï¼Œå¿…é¡»é…åˆbreakè¯­å¥ä½¿ç”¨
for {
    å¾ªç¯æ“ä½œ
}
// ç­‰ä»·äº for ;; {}

// è¯­æ³•4ï¼šfor-rangeæ–¹å¼ï¼Œéå†å­—ç¬¦ä¸²å’Œæ•°ç»„
for index, val := range å˜é‡ {
    fmt.Printf(&amp;quot;ç´¢å¼•%dï¼Œå€¼%c&amp;quot;, index, val)
}


// ä¸¾ä¾‹ï¼š

// è¯­æ³•1ï¼š
for i := 1; i &amp;lt;= 10; i++{
    fmt.PrintIn(&amp;quot;è¿™æ˜¯å¾ªç¯ä½“for&amp;quot;)
}

// è¯­æ³•2ï¼š
i := 1
for i &amp;lt;= 10 {
    fmt.PrintIn(&amp;quot;è¿™æ˜¯å¾ªç¯ä½“for&amp;quot;)
     i++
}

//  è¯­æ³•3ï¼šæ— é™å¾ªç¯
i := 1
for {
    if i &amp;lt;= 10 {
        fmt.PrintIn(&amp;quot;è¿™æ˜¯å¾ªç¯ä½“for&amp;quot;,i)
    } else {
        break
    }
     i++
}

// è¯­æ³•4ï¼šéå†å­—ç¬¦ä¸²
//   ä¼ ç»Ÿæ–¹å¼éå†å­—ç¬¦ä¸²ï¼š
var str string = &amp;quot;hello,world!&amp;quot;
for i := 0; i &amp;lt; len(str); i++ {
    fmt.Printf(&amp;quot;%c \n&amp;quot;,str[i]) //éœ€è¦ä½¿ç”¨ä¸‹æ ‡
}
//   for-rangeæ–¹å¼éå†å­—ç¬¦ä¸²ï¼š
var str string = &amp;quot;hello,world!&amp;quot;
for index, value := range str {
    fmt.Printf(&amp;quot;ç´¢å¼•ä½ç½®%d\tå€¼ä¸º%c\n&amp;quot;,index,value)
}
//      å¦‚æœå­—ç¬¦ä¸²å«æœ‰ä¸­æ–‡ï¼Œå°±ä¼šå‡ºç°ä¹±ç ï¼ŒåŸå› æ˜¯å¯¹å­—ç¬¦ä¸²çš„éå†æ˜¯æŒ‰ç…§å­—èŠ‚æ¥éå†çš„ï¼Œè€Œä¸€ä¸ªæ±‰å­—å¯¹åº”çš„æ˜¯3ä¸ªå­—èŠ‚ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯å°†stringè½¬ä¸ºåˆ‡ç‰‡rune
var str string = &amp;quot;hello,world!æˆ‘æ˜¯è€åŒ—äº¬äººå„¿&amp;quot;
str2 := []rune(str)
for index, value := range str2 {
    fmt.Printf(&amp;quot;ç´¢å¼•ä½ç½® %d \t å€¼ä¸º %c\n&amp;quot;,index,value)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;forå¾ªç¯çš„4ä¸ªè¦ç´ &lt;/strong&gt;ï¼Œå…¶&lt;strong&gt;æ‰§è¡Œé¡ºåº&lt;/strong&gt;å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¾ªç¯å˜é‡åˆå§‹åŒ–&lt;code&gt;i := 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¾ªç¯æ¡ä»¶&lt;code&gt;i &amp;lt;= 10&lt;/code&gt;ï¼Œæ˜¯è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼çš„è¡¨è¾¾å¼&lt;/li&gt;
&lt;li&gt;å¾ªç¯æ“ä½œï¼ˆå³å¾ªç¯ä½“ï¼‰&lt;code&gt;fmt.PrintIn(&amp;quot;è¿™æ˜¯å¾ªç¯ä½“for&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¾ªç¯å˜é‡è¿­ä»£&lt;code&gt;i++&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;whileå’Œdowhileçš„å®ç°&#34;&gt;whileå’Œdo...whileçš„å®ç°&lt;/h2&gt;
&lt;p&gt;golangä¸­æ²¡æœ‰whileå¾ªç¯ï¼Œå…¶å®ç°æ–¹å¼ä¸ºforå¾ªç¯ä¸­çš„è¯­æ³•3--æ— é™å¾ªç¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// whileå®ç°
å¾ªç¯å˜é‡åˆå§‹åŒ–
for {
    if å¾ªç¯æ¡ä»¶ {
        break // è·³å‡ºforå¾ªç¯
    }
    å¾ªç¯æ“ä½œ
    å¾ªç¯å˜é‡è¿­ä»£
}

// do...whileå®ç°
å¾ªç¯å˜é‡åˆå§‹åŒ–
for {
    å¾ªç¯æ“ä½œ
    å¾ªç¯å˜é‡è¿­ä»£
    if å¾ªç¯æ¡ä»¶ {
        break // è·³å‡ºforå¾ªç¯
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;åµŒå¥—å¾ªç¯ä¸€èˆ¬ä½¿ç”¨ä¸¤å±‚ï¼Œæœ€å¤šä¸è¦è¶…è¿‡ä¸‰å±‚&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;è·³è½¬æ§åˆ¶è¯­å¥&#34;&gt;è·³è½¬æ§åˆ¶è¯­å¥&lt;/h1&gt;
&lt;h2 id=&#34;break&#34;&gt;break&lt;/h2&gt;
&lt;p&gt;breakè¯­å¥ç”¨äºç»ˆæ­¢æŸä¸ªè¯­å¥å—çš„æ‰§è¡Œï¼Œç”¨äºä¸­æ–­å½“å‰æˆ–è€…æŒ‡å®šæ ‡ç­¾çš„forå¾ªç¯æˆ–switchè¯­å¥ï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;{
    ......
    break
    ......
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;breakè¯­å¥å‡ºç°åœ¨å¤šå±‚åµŒå¥—çš„è¯­å¥ä¸­æ—¶ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æ¥æŒ‡æ˜è¦ç»ˆæ­¢å“ªä¸€å±‚è¯­å¥å—ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;lable2:  // è·³å‡ºæ ‡ç­¾2
for i:=0; i&amp;lt;4;i++ {
    // lable1:  // è·³å‡ºæ ‡ç­¾1
    for j:=0;j&amp;lt;10;j++ {
        if j==2 {
            // break  // é»˜è®¤ä¼šè·³å‡ºæœ€è¿‘çš„forå¾ªç¯ï¼Œå³lable1çš„ä½ç½®ï¼Œç­‰åŒäºä¸‹é¢è¯­å¥ï¼š
            // break lable1
            break lable2 // j=0 j=1ï¼Œè·³å‡ºæœ€å¤–å±‚çš„forå¾ªç¯
        }
        fmt.Println(&amp;quot;j=&amp;quot;,j)
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;continue&#34;&gt;continue&lt;/h2&gt;
&lt;p&gt;continueè¯­å¥ç”¨äºç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œå½“å‡ºç°åœ¨å¤šå±‚åµŒå¥—çš„å¾ªç¯è¯­å¥ä½“æ—¶ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾æŒ‡æ˜è¦è·³è¿‡çš„æ˜¯å“ªä¸€å±‚å¾ªç¯ï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;{
    ......
    continue
    ......
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;lable2:  // è·³å‡ºæ ‡ç­¾2
for i:=0; i&amp;lt;4;i++ {
    // lable1:  // è·³å‡ºæ ‡ç­¾1
    for j:=0;j&amp;lt;10;j++ {
        if j==2 {
            // continue  // é»˜è®¤ä¼šè·³è¿‡æœ€è¿‘çš„forå¾ªç¯ï¼Œå³lable1çš„ä½ç½®ï¼Œç­‰åŒäºä¸‹é¢è¯­å¥ï¼š
            // continue lable1
            continue lable2 // j=0 j=1 j=0 j1...ï¼Œæ²¡æœ‰j=2
        }
        fmt.Println(&amp;quot;j=&amp;quot;,j)
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;goto&#34;&gt;goto&lt;/h2&gt;
&lt;p&gt;gotoè¯­å¥å¯ä»¥æ— æ¡ä»¶çš„è½¬ç§»åˆ°ç¨‹åºä¸­æŒ‡å®šçš„è¡Œï¼Œé€šå¸¸ä¸æ¡ä»¶è¯­å¥é…åˆä½¿ç”¨ï¼Œç”¨æ¥å®ç°æ¡ä»¶è½¬ç§»ã€è·³å‡ºå¾ªç¯ä½“ç­‰åŠŸèƒ½ï¼Œä½†æ˜¯&lt;code&gt;ä¸€èˆ¬ä¸ä¸»å¼ ç”¨gotoè¯­å¥&lt;/code&gt;ï¼Œä»¥å…é€ æˆæµç¨‹çš„æ··ä¹±ï¼Œå…¶åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;goto lable
...
label:statement
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var n int = 30
fmt.Println(&amp;quot;ok1&amp;quot;)
if n &amp;gt; 20 {
    goto label1
}
fmt.Println(&amp;quot;ok2&amp;quot;)
fmt.Println(&amp;quot;ok3&amp;quot;)
fmt.Println(&amp;quot;ok4&amp;quot;)
label1:
fmt.Println(&amp;quot;ok5&amp;quot;)
fmt.Println(&amp;quot;ok6&amp;quot;)
fmt.Println(&amp;quot;ok7&amp;quot;)

//ok1
//ok5
//ok6
//ok7
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;return&#34;&gt;return&lt;/h2&gt;
&lt;p&gt;returnä½¿ç”¨åœ¨æ–¹æ³•æˆ–è€…å‡½æ•°ä¸­ï¼Œè¡¨å››è·³å‡ºæ‰€åœ¨çš„æ–¹æ³•æˆ–è€…å‡½æ•°ã€‚å¦‚æœæ˜¯åœ¨æ™®é€šå‡½æ•°ä¸­ï¼Œåˆ™è¡¨ç¤ºè·³å‡ºè¯¥å‡½æ•°ï¼Œå³ä¸å†æ‰§è¡Œreturnåé¢çš„ä»£ç ï¼ˆç»ˆæ­¢å‡½æ•°ï¼‰ï¼›å¦‚æœæ˜¯åœ¨mainå‡½æ•°ä¸­ï¼Œè¡¨ç¤ºç»ˆæ­¢mainå‡½æ•°ï¼Œå³ç»ˆæ­¢ç¨‹åºæ‰§è¡Œ&lt;br&gt;
ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var n int = 30
fmt.Println(&amp;quot;ok1&amp;quot;)
if n &amp;gt; 20 {
    return
}
fmt.Println(&amp;quot;ok2&amp;quot;)
fmt.Println(&amp;quot;ok3&amp;quot;)
fmt.Println(&amp;quot;ok4&amp;quot;)
fmt.Println(&amp;quot;ok5&amp;quot;)
fmt.Println(&amp;quot;ok6&amp;quot;)
fmt.Println(&amp;quot;ok7&amp;quot;)

//ok1
&lt;/code&gt;&lt;/pre&gt;
">golang ç¬¬äº”ç«  ç¨‹åºæµç¨‹æ§åˆ¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/golang-di-si-zhang-yun-suan-fu/"" data-c="
          &lt;h1 id=&#34;ç®—æœ¯è¿ç®—ç¬¦&#34;&gt;ç®—æœ¯è¿ç®—ç¬¦&lt;/h1&gt;
&lt;p&gt;æ­£å·&lt;code&gt;+&lt;/code&gt;ï¼Œè´Ÿå·&lt;code&gt;-&lt;/code&gt;ï¼ŒåŠ &lt;code&gt;+&lt;/code&gt;ï¼Œå‡&lt;code&gt;-&lt;/code&gt;ï¼Œä¹˜&lt;code&gt;-&lt;/code&gt;ï¼Œé™¤&lt;code&gt;/&lt;/code&gt;ï¼Œå–æ¨¡ï¼ˆå–ä½™ï¼‰&lt;code&gt;%&lt;/code&gt;ï¼Œè‡ªå¢&lt;code&gt;++&lt;/code&gt;ï¼Œè‡ªå‡&lt;code&gt;--&lt;/code&gt;ï¼Œå­—ç¬¦ä¸²ç›¸åŠ &lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	//æ¼”ç¤º / çš„ä½¿ç”¨
	//å¦‚æœè¿ç®—çš„æ•°éƒ½æ˜¯æ•´æ•°ï¼Œé‚£ä¹ˆé™¤åï¼Œå»æ‰å°æ•°éƒ¨åˆ†ï¼Œä¿ç•™æ•´æ•°éƒ¨åˆ†
	fmt.Println(11 / 4)	    // 2

	var n1 float32 = 11 / 4
	fmt.Println(n1)	    // 2

	//å¦‚æœæˆ‘ä»¬å¸Œæœ›ä¿ç•™å°æ•°éƒ¨åˆ†ï¼Œåˆ™éœ€è¦æœ‰æµ®ç‚¹æ•°å‚ä¸è¿ç®—
	var n2 float32 = 11.0 / 4
	fmt.Println(n2)	    // 2.75

	// æ¼”ç¤º  % çš„ä½¿ç”¨
	// çœ‹ä¸€ä¸ªå…¬å¼ a % b = a - a / b * b
	fmt.Println(&amp;quot;10%3=&amp;quot;, 10 % 3)    // 1
	fmt.Println(&amp;quot;-10%3=&amp;quot;, -10 % 3)  //  -10 - (-10) / 3 * 3 = -10 - (-9) = -1
	fmt.Println(&amp;quot;10%-3=&amp;quot;, 10 % -3)  // 1
	fmt.Println(&amp;quot;-10%-3=&amp;quot;, -10 % -3)    // -1

	// ++ å’Œ --çš„ä½¿ç”¨
	var i int = 10
	i++ // ç­‰ä»· i = i + 1
	fmt.Println(&amp;quot;i=&amp;quot;, i)    // 11
	i-- // ç­‰ä»· i = i - 1
	fmt.Println(&amp;quot;i=&amp;quot;, i)    // 10

	if i &amp;gt; 0 {
		fmt.Println(&amp;quot;ok&amp;quot;)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äºé™¤å·&lt;code&gt;\&lt;/code&gt;ï¼Œæ•´æ•°é™¤å’Œå°æ•°é™¤æ˜¯æœ‰åŒºåˆ«çš„ï¼šæ•´æ•°ä¹‹é—´åšé™¤æ³•æ—¶ï¼Œåªä¿ç•™æ•´æ•°éƒ¨åˆ†è€Œèˆå¼ƒå°æ•°éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;å¯¹äºå–æ¨¡&lt;code&gt;%&lt;/code&gt;ï¼Œå…¶æœ¬è´¨ä¸º&lt;code&gt;a % b = a - a / b * b&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è‡ªå¢&lt;code&gt;++&lt;/code&gt;å’Œè‡ªå‡&lt;code&gt;--&lt;/code&gt;åªèƒ½å½“ä½œä¸€ä¸ªç‹¬ç«‹çš„è¯­è¨€ä½¿ç”¨ï¼Œä¸”åªèƒ½å†™åœ¨å˜é‡çš„åé¢ï¼Œè¯¦ç»†çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	
	//åœ¨golangä¸­ï¼Œ++ å’Œ -- åªèƒ½ç‹¬ç«‹ä½¿ç”¨.
	var i int = 8
	var a int 
	a = i++ //é”™è¯¯ï¼Œi++åªèƒ½ç‹¬ç«‹ä½¿ç”¨ 
	a = i-- //é”™è¯¯, i--åªèƒ½ç‹¬ç«‹ä½¿ç”¨

	if i++ &amp;gt; 0 {
		fmt.Println(&amp;quot;ok&amp;quot;)
	}

	var i int = 1
	i++
	++i // é”™è¯¯ï¼Œåœ¨golangæ²¡æœ‰ å‰++
	i-- 
	--i // é”™è¯¯ï¼Œåœ¨golangæ²¡æœ‰ å‰--
	fmt.Println(&amp;quot;i=&amp;quot;, i)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å…³ç³»è¿ç®—ç¬¦æ¯”è¾ƒè¿ç®—ç¬¦-é€»è¾‘è¿ç®—ç¬¦&#34;&gt;å…³ç³»è¿ç®—ç¬¦ï¼ˆæ¯”è¾ƒè¿ç®—ç¬¦ï¼‰ã€é€»è¾‘è¿ç®—ç¬¦&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å…³ç³»è¿ç®—ç¬¦&lt;br&gt;
ç­‰äº&lt;code&gt;==&lt;/code&gt;ï¼Œä¸ç­‰äº&lt;code&gt;!=&lt;/code&gt;ï¼Œå°äº&lt;code&gt;&amp;lt;&lt;/code&gt;ï¼Œå¤§äº&lt;code&gt;&amp;gt;&lt;/code&gt;ï¼Œå°äºç­‰äº&lt;code&gt;&amp;lt;=&lt;/code&gt;ï¼Œå¤§äºç­‰äº&lt;code&gt;&amp;gt;=&lt;/code&gt;&lt;br&gt;
å…³ç³»è¡¨è¾¾å¼çš„ç»“æœéƒ½æ˜¯boolå‹ï¼Œå³trueæˆ–è€…false&lt;/li&gt;
&lt;li&gt;é€»è¾‘è¿ç®—ç¬¦&lt;br&gt;
é€»è¾‘ä¸ï¼ˆçŸ­è·¯ä¸ï¼‰&lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;ï¼Œé€»è¾‘æˆ–ï¼ˆçŸ­è·¯æˆ–ï¼‰&lt;code&gt;||&lt;/code&gt;ï¼Œé€»è¾‘é&lt;code&gt;!&lt;/code&gt;&lt;br&gt;
é€»è¾‘ä¸ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºfalseï¼Œåˆ™&lt;strong&gt;ç¬¬äºŒä¸ªæ¡ä»¶ä¸ä¼šåˆ¤æ–­&lt;/strong&gt;ï¼Œæœ€ç»ˆä¸ºfalse&lt;br&gt;
é€»è¾‘æˆ–ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ¡ä»¶ä¸ºtrueï¼Œåˆ™&lt;strong&gt;ç¬¬äºŒä¸ªæ¡ä»¶ä¸ä¼šåˆ¤æ–­&lt;/strong&gt;ï¼Œæœ€ç»ˆä¸ºtrue&lt;br&gt;
å› æ­¤ï¼Œåœ¨å†™é€»è¾‘åˆ¤æ–­å…³ç³»å¼çš„æ—¶å€™ï¼Œå°½é‡æŠŠè®¡ç®—ç®€å•çš„å†™åœ¨å‰é¢ï¼ŒèŠ‚çœè®¡ç®—é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;//å£°æ˜ä¸€ä¸ªå‡½æ•°(æµ‹è¯•)
func test() bool {
	fmt.Println(&amp;quot;test....&amp;quot;)
	return true
}

func main() {
	var i int = 10

	//çŸ­è·¯ä¸
	//è¯´æ˜ å› ä¸º  i &amp;lt; 9 ä¸º false ,å› æ­¤åé¢çš„ test() å°±ä¸æ‰§è¡Œ
	if i &amp;lt; 9 &amp;amp;&amp;amp; test() {
		fmt.Println(&amp;quot;ok...&amp;quot;)
	}	//æ²¡æœ‰è¾“å‡º
	if i &amp;gt; 9 || test() {
		fmt.Println(&amp;quot;hello...&amp;quot;)
	}	// hello...

	//æ¼”ç¤ºé€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨  &amp;amp;&amp;amp;
	var age int = 40
	if age &amp;gt; 30 &amp;amp;&amp;amp; age &amp;lt; 50 {
		fmt.Println(&amp;quot;ok1&amp;quot;)
	}
	if age &amp;gt; 30 &amp;amp;&amp;amp; age &amp;lt; 40 {
		fmt.Println(&amp;quot;ok2&amp;quot;)
	}

	//æ¼”ç¤ºé€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨  ||

	if age &amp;gt; 30 || age &amp;lt; 50 {
		fmt.Println(&amp;quot;ok3&amp;quot;)
	}
	if age &amp;gt; 30 || age &amp;lt; 40 {
		fmt.Println(&amp;quot;ok4&amp;quot;)
	}

	//æ¼”ç¤ºé€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨  !

	if age &amp;gt; 30 {
		fmt.Println(&amp;quot;ok5&amp;quot;)
	}
	if !(age &amp;gt; 30) {
		fmt.Println(&amp;quot;ok6&amp;quot;)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;èµ‹å€¼è¿ç®—ç¬¦-ä½è¿ç®—ç¬¦-å…¶ä»–è¿ç®—ç¬¦&#34;&gt;èµ‹å€¼è¿ç®—ç¬¦ã€ä½è¿ç®—ç¬¦ã€å…¶ä»–è¿ç®—ç¬¦&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;èµ‹å€¼è¿ç®—ç¬¦&lt;br&gt;
èµ‹å€¼&lt;code&gt;=&lt;/code&gt;ï¼Œç›¸åŠ åèµ‹å€¼&lt;code&gt;+=&lt;/code&gt;ï¼Œç›¸å‡åèµ‹å€¼&lt;code&gt;-=&lt;/code&gt;ï¼Œç›¸ä¹˜åèµ‹å€¼&lt;code&gt;*=&lt;/code&gt;ï¼Œç›¸é™¤åèµ‹å€¼&lt;code&gt;/=&lt;/code&gt;ï¼Œæ±‚ä½™åèµ‹å€¼&lt;code&gt;%=&lt;/code&gt;ï¼Œå·¦ç§»åèµ‹å€¼&lt;code&gt;&amp;lt;&amp;lt;=&lt;/code&gt;ï¼Œå³ç§»åèµ‹å€¼&lt;code&gt;&amp;gt;&amp;gt;=&lt;/code&gt;ï¼ŒæŒ‰ä½ä¸åèµ‹å€¼&lt;code&gt;&amp;amp;=&lt;/code&gt;ï¼ŒæŒ‰ä½å¼‚æˆ–åèµ‹å€¼&lt;code&gt;^=&lt;/code&gt;ï¼ŒæŒ‰ä½æˆ–åèµ‹å€¼&lt;code&gt;|=&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½è¿ç®—ç¬¦&lt;br&gt;
æŒ‰ä½ä¸&lt;code&gt;&amp;amp;&lt;/code&gt;ï¼ŒæŒ‰ä½æˆ–&lt;code&gt;|&lt;/code&gt;ï¼ŒæŒ‰ä½å¼‚æˆ–&lt;code&gt;^&lt;/code&gt;ï¼Œå·¦ç§»&lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt;ï¼Œå³ç§»&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–è¿ç®—ç¬¦&lt;br&gt;
è¿”å›å˜é‡å­˜å‚¨ä½ç½®&lt;code&gt;&amp;amp;&lt;/code&gt;ï¼ŒæŒ‡é’ˆå˜é‡&lt;code&gt;*&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;goä¸æ”¯æŒä¸‰å…ƒè¿ç®—ï¼Œå› ä¸ºgoçš„è®¾è®¡ç†å¿µæ˜¯â€œä¸€ç§äº‹æƒ…æœ‰ä¸”ä»…æœ‰ä¸€ç§æ–¹æ³•å®Œæˆâ€&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;è¿ç®—ç¬¦ä¼˜å…ˆçº§&#34;&gt;è¿ç®—ç¬¦ä¼˜å…ˆçº§&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1628734899757.png&#34; alt=&#34;è¿ç®—ç¬¦ä¼˜å…ˆçº§&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;è·å–é”®ç›˜è¾“å…¥&#34;&gt;è·å–é”®ç›˜è¾“å…¥&lt;/h1&gt;
&lt;p&gt;è°ƒç”¨fmtåŒ…çš„&lt;code&gt;fmt.Scanln()&lt;/code&gt;æˆ–è€…&lt;code&gt;fmt.Scanf()&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ScanIn&lt;/code&gt;ç±»ä¼¼Scanï¼Œä½†ä¼šåœ¨æ¢è¡Œæ—¶æ‰åœæ­¢æ‰«æï¼Œæœ€åä¸€ä¸ªæ¡ç›®å¿…é¡»æœ‰æ¢è¡Œæˆ–è€…åˆ°è¾¾ç»“æŸä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Scanf&lt;/code&gt;ä»æ ‡å‡†è¾“å…¥æ‰«ææ–‡æœ¬ï¼Œæ ¹æ®formatå‚æ•°æŒ‡å®šçš„æ ¼å¼  å°†æˆåŠŸè¯»å–çš„ç©ºç™½åˆ†éš”çš„å€¼  ä¿å­˜è¿›ä¼ é€’ç»™æœ¬å‡½æ•°çš„å‚æ•°ã€‚è¿”å›æˆåŠŸæ‰«æçš„æ¡ç›®ä¸ªæ•°å’Œé‡åˆ°çš„ä»»ä½•é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main() {
	//ä»æ§åˆ¶å°æ¥æ”¶ç”¨æˆ·ä¿¡æ¯ï¼Œã€å§“åã€å¹´é¾„ã€è–ªæ°´ã€æ˜¯å¦é€šè¿‡è€ƒè¯• ã€‘

	//å…ˆå£°æ˜éœ€è¦çš„å˜é‡
	var name string
	var age byte
	var sal float32
	var isPass bool

	//æ–¹å¼1 fmt.Scanln
	fmt.Println(&amp;quot;è¯·è¾“å…¥å§“åï¼š &amp;quot;)  //å½“ç¨‹åºæ‰§è¡Œåˆ° fmt.Scanln(&amp;amp;name),ç¨‹åºä¼šåœæ­¢åœ¨è¿™é‡Œï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œå¹¶å›è½¦
	fmt.Scanln(&amp;amp;name)
	fmt.Println(&amp;quot;è¯·è¾“å…¥å¹´é¾„ï¼š &amp;quot;)
	fmt.Scanln(&amp;amp;age)
	fmt.Println(&amp;quot;è¯·è¾“å…¥è–ªæ°´ï¼š &amp;quot;)
	fmt.Scanln(&amp;amp;sal)
	fmt.Println(&amp;quot;è¯·è¾“å…¥æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š &amp;quot;)
	fmt.Scanln(&amp;amp;isPass)
	fmt.Printf(&amp;quot;åå­—æ˜¯ï¼š %v \n å¹´é¾„æ˜¯ï¼š %v \n è–ªæ°´æ˜¯ï¼š %v \n æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š %v \n\n\n\n\n&amp;quot;, name, age, sal, isPass)

	//æ–¹å¼2:fmt.Scanf,å¯ä»¥æŒ‰æŒ‡å®šçš„æ ¼å¼è¾“å…¥
	fmt.Println(&amp;quot;è¯·ä¾æ¬¡è¾“å…¥ä½ çš„å§“åã€å¹´é¾„ã€è–ªæ°´ã€æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼Œ å¹¶ä½¿ç”¨ç©ºæ ¼éš”å¼€&amp;quot;)
	fmt.Scanf(&amp;quot;%s %d %f %t&amp;quot;, &amp;amp;name, &amp;amp;age, &amp;amp;sal, &amp;amp;isPass)
	fmt.Printf(&amp;quot;åå­—æ˜¯ï¼š %v \nå¹´é¾„æ˜¯ï¼š %v \n è–ªæ°´æ˜¯ï¼š %v \n æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š %v \n&amp;quot;, name, age, sal, isPass)
}

//è¯·è¾“å…¥å§“åï¼š
//å°å¼Ÿ
//è¯·è¾“å…¥å¹´é¾„ï¼š
//20
//è¯·è¾“å…¥è–ªæ°´ï¼š
//20000
//è¯·è¾“å…¥æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š
//true
//åå­—æ˜¯ï¼š å°å¼Ÿ
//å¹´é¾„æ˜¯ï¼š 20
//è–ªæ°´æ˜¯ï¼š 20000
//æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š true
//
//
//
//
//è¯·ä¾æ¬¡è¾“å…¥ä½ çš„å§“åã€å¹´é¾„ã€è–ªæ°´ã€æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼Œ å¹¶ä½¿ç”¨ç©ºæ ¼éš”å¼€
//å°å¼Ÿ 21 30000 true
//åå­—æ˜¯ï¼š å°å¼Ÿ
//å¹´é¾„æ˜¯ï¼š 21
//è–ªæ°´æ˜¯ï¼š 30000
//æ˜¯å¦é€šè¿‡è€ƒè¯•ï¼š true 
&lt;/code&gt;&lt;/pre&gt;
">golang ç¬¬å››ç«  è¿ç®—ç¬¦</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/nginx-pei-zhi-fang-wen-yong-hu-ming-he-mi-ma/"" data-c="
          &lt;p&gt;ä½¿ç”¨nginx&lt;sub&gt;ç›´æ¥ä½¿ç”¨çš„phpstudyçš„å°çš®é¢æ¿&lt;/sub&gt;æ­å»ºäº†ä¸€äº›ç«™ç‚¹ï¼Œä½†æ˜¯ç”±äºç«™ç‚¹å†…å®¹æˆ–è€…å®‰å…¨çš„å…³ç³»ï¼Œå¹¶ä¸æƒ³è®©æ‰€æœ‰äººéƒ½èƒ½æ­£å¸¸è®¿é—®ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®è®¿é—®è®¤è¯ï¼Œè®©æŒæ¡ç”¨æˆ·åå’Œå¯†ç æ‰èƒ½æ­£å¸¸è®¿é—®ã€‚&lt;br&gt;
åœ¨nginxä¸‹ï¼Œæä¾›äº†ngx_http_auth_basic_moduleæ¨¡å—å®ç°è®©ç”¨æˆ·åªæœ‰è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå¯†ç æ‰å…è®¸è®¿é—®webå†…å®¹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œnginxå·²ç»å®‰è£…äº†è¯¥æ¨¡å—ã€‚&lt;br&gt;
ç”Ÿæˆå¯†ç å¯ä»¥ä½¿ç”¨&lt;code&gt;htpasswd&lt;/code&gt;ï¼Œæˆ–è€…ä½¿ç”¨&lt;code&gt;openssl&lt;/code&gt; ï¼Œä¸‹é¢ä»¥htpasswdä¸ºä¾‹&lt;/p&gt;
&lt;h1 id=&#34;htpasswd&#34;&gt;htpasswd&lt;/h1&gt;
&lt;h2 id=&#34;å‚æ•°ä»‹ç»&#34;&gt;å‚æ•°ä»‹ç»&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¸¸ç”¨å‚æ•°
-cï¼šåˆ›å»ºä¸€ä¸ªåŠ å¯†æ–‡ä»¶
-nï¼šä¸æ›´æ–°åŠ å¯†æ–‡ä»¶ï¼Œåªå°†htpasswdå‘½ä»¤åŠ å¯†åçš„ç”¨æˆ·åå¯†ç æ˜¾ç¤ºåœ¨å±å¹•ä¸Š
-mï¼šé»˜è®¤htpassswdå‘½ä»¤é‡‡ç”¨MD5ç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†
-dï¼šhtpassswdå‘½ä»¤é‡‡ç”¨CRYPTç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†
-pï¼šhtpassswdå‘½ä»¤ä¸å¯¹å¯†ç è¿›è¡Œè¿›è¡ŒåŠ å¯†ï¼Œå³æ˜æ–‡å¯†ç 
-sï¼šhtpassswdå‘½ä»¤é‡‡ç”¨SHAç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†
-bï¼šhtpassswdå‘½ä»¤è¡Œä¸­ä¸€å¹¶è¾“å…¥ç”¨æˆ·åå’Œå¯†ç è€Œä¸æ˜¯æ ¹æ®æç¤ºè¾“å…¥å¯†ç 
-Dï¼šåˆ é™¤æŒ‡å®šçš„ç”¨æˆ·

# å¸¸ç”¨ç»„åˆ
#   æ·»åŠ ç”¨æˆ·å¹¶ä¸”åˆ›å»ºå¯†ç æ–‡ä»¶
htpasswd -bc [passwdfile] [username] [passwd] 
htpasswd -bc ./.passwd sandu pass   # åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª.passwdæ–‡ä»¶ï¼Œç”¨æˆ·åsanduï¼Œå¯†ç ï¼špassï¼Œé»˜è®¤é‡‡ç”¨MD5åŠ å¯†æ–¹å¼

#   åœ¨åŸæœ‰å¯†ç æ–‡ä»¶ä¸­å¢åŠ ä¸‹ä¸€ä¸ªç”¨æˆ·
htpasswd -b [passedfile] [username] [passwd]
htpasswd -b ./.passwd sandu1 pass   # å»æ‰cé€‰é¡¹ï¼Œå³å¯åœ¨ç¬¬ä¸€ä¸ªç”¨æˆ·ä¹‹åæ·»åŠ ç¬¬äºŒä¸ªç”¨æˆ·
#   åˆ é™¤ç”¨æˆ·
htpasswd -D [passwdfile] [username]
htpasswd -D .passwd sandu

# ä¿®æ”¹å¯†ç 
htpasswd -D .passwd sandu
htpasswd -b .passwd sandu pass

# ä¸æ›´æ–°å¯†ç æ–‡ä»¶ï¼Œåªæ˜¾ç¤ºåŠ å¯†åçš„ç”¨æˆ·åå’Œå¯†ç 
htpasswd -nb sandu pass


&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ­¥éª¤&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install httpd-tools
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç”Ÿæˆå¯†ç æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶æŠŠç”¨æˆ·åã€å¯†ç ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­
htpasswd -bc /www/admin/pwd/node80.pwd node80 123456
# å¯†ç æ–‡ä»¶/www/admin/pwd/node80.pwdï¼Œç”¨æˆ·ånode80ï¼Œå¯†ç 123456
# æŸ¥çœ‹å¯†ç æ–‡ä»¶å†…å®¹
cat /www/admin/pwd/node80.pwd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¿®æ”¹nginxé…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ­¤å¤„å¯åœ¨å°çš®é¢æ¿çš„ç®¡ç†ç•Œé¢ä¿®æ”¹æˆ–è€…åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹
# å°çš®é¢æ¿nginxæ¨¡å—çš„é»˜è®¤é…ç½®æ–‡ä»¶ä½ç½®ä¸º/usr/local/phpstudy/vhost/nginx/ï¼Œæ¨èåœ¨ç®¡ç†ç•Œé¢è¿›è¡Œä¿®æ”¹
# åœ¨ç›¸åº”ç«™ç‚¹ä¸‹é¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š
server {
   listen 80;
   server_name  localhost;
   .......
 
   #æ–°å¢ä¸‹é¢ä¸¤è¡Œ
   # éªŒè¯æ—¶çš„æç¤ºä¿¡æ¯ 
   auth_basic &amp;quot;è¯·è¾“å…¥xxxç«™ç‚¹çš„è®¿é—®å¯†ç &amp;quot;; 
   # éªŒè¯æ—¶éœ€è¦çš„å¯†ç æ–‡ä»¶
   auth_basic_user_file /www/admin/pwd/node80.pwd;
 
   location /{
   .......
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;éªŒè¯&lt;/li&gt;
&lt;/ol&gt;
">Nginxé…ç½®è®¿é—®ç”¨æˆ·åå’Œå¯†ç </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win10_lstb_2016-zui-hou-yi-ci-jing-jian/"" data-c="
          &lt;p&gt;åŸºäºwin10-lstb-2016é•œåƒåˆå§‹åŒ–ï¼ˆç²¾ç®€ï¼‰é•œåƒä»‹ç»ï¼Œæ­¤æ¬¡ç²¾ç®€3ä¸ªç‰ˆæœ¬ï¼Œä»¥åå†ä¸ç²¾ç®€ï¼Œ&lt;strong&gt;é™¤éç»™é’±å®šåˆ¶&lt;/strong&gt;ï¼Œè‡³äºç²¾ç®€å¥½çš„ç³»ç»Ÿå¦‚ä½•è·å–ï¼Œå¯ä»¥ç›´æ¥è”ç³»æœ¬äººç´¢å–åˆ†äº«æ–¹å¼&lt;/p&gt;
&lt;h1 id=&#34;å„ä¸ªç‰ˆæœ¬å…±åŒå¤„ç†&#34;&gt;å„ä¸ªç‰ˆæœ¬å…±åŒå¤„ç†&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;è™šæ‹Ÿé•œåƒå®‰è£…è½¯ä»¶ï¼š
&lt;ul&gt;
&lt;li&gt;7-Zip&lt;/li&gt;
&lt;li&gt;Edgeæµè§ˆå™¨&lt;/li&gt;
&lt;li&gt;NotePad++&lt;/li&gt;
&lt;li&gt;PotPlayer&lt;/li&gt;
&lt;li&gt;ç«ç»’&lt;/li&gt;
&lt;li&gt;æ‰‹å¿ƒè¾“å…¥æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨å…³é—­æœåŠ¡ï¼š
&lt;ul&gt;
&lt;li&gt;AppX Deployment Service (AppXSVC)&lt;/li&gt;
&lt;li&gt;Client License Service (ClipSVC)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å„ç‰ˆæœ¬ä»‹ç»&#34;&gt;å„ç‰ˆæœ¬ä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;ç‰ˆæœ¬1&#34;&gt;ç‰ˆæœ¬1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä»£å·ï¼špureï¼ˆlstb2016_pure.isoï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯ï¼šè€æ—§ä½é…ç½®æœºå™¨æˆ–è€…è™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;åˆ é™¤è¿œç¨‹æ¡Œé¢&lt;/li&gt;
&lt;li&gt;åˆ é™¤NFS&lt;/li&gt;
&lt;li&gt;åˆ é™¤è“ç‰™&lt;/li&gt;
&lt;li&gt;åˆ é™¤SMB&lt;/li&gt;
&lt;li&gt;åˆ é™¤æ— çº¿ç”µç®¡ç†å’Œé£è¡Œæ¨¡å¼æœåŠ¡&lt;code&gt;ä¸å½±å“wifi&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ é™¤Netlogonï¼ˆç½‘ç»œç™»é™†ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ é™¤webå®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;åˆ é™¤windowsç«‹å³è¿æ¥ï¼ˆWCNï¼‰&lt;/li&gt;
&lt;li&gt;åˆ é™¤è®¡åˆ’ä»»åŠ¡ï¼ˆç£ç›˜ç¢ç‰‡æ•´ç†ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ é™¤ç£ç›˜æŸåæ£€æµ‹&lt;/li&gt;
&lt;li&gt;åˆ é™¤å…¶ä»–æ— å¿…è¦çš„åŠŸèƒ½åŠæœåŠ¡ï¼Œè¯¦ç»†å‚è€ƒæœ¬äººåšå®¢å…³äºWindowsçš„ä¼˜åŒ–çš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç‰ˆæœ¬2&#34;&gt;ç‰ˆæœ¬2&lt;/h2&gt;
&lt;p&gt;æ­¤ç‰ˆæœ¬åœ¨&lt;strong&gt;ç‰ˆæœ¬1-pure&lt;/strong&gt;çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£å·ï¼šsimpleï¼ˆlstb2016_simple.isoï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯ï¼šé€‚åˆåŠå…¬å®¤äººç¾¤&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¿ç•™è¿œç¨‹æ¡Œé¢&lt;code&gt;æƒ³è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œéœ€è¦å°†ä¸¤ä¸ªæœåŠ¡è®¾ç½®ä¸ºæ‰‹åŠ¨ï¼šRemote Desktop Configurationå’ŒWorkstation&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿ç•™NFS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç‰ˆæœ¬3&#34;&gt;ç‰ˆæœ¬3&lt;/h2&gt;
&lt;p&gt;æ­¤ç‰ˆæœ¬åœ¨&lt;strong&gt;ç‰ˆæœ¬2-simple&lt;/strong&gt;çš„åŸºç¡€ä¸Šæ·»åŠ åŠŸèƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»£å·ï¼špersonalï¼ˆlstb2016_person.isoï¼‰&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯ï¼šé€‚åˆä¸ªäººç”µè„‘è£…æœº&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¿ç•™è“ç‰™&lt;/li&gt;
&lt;li&gt;ä¿ç•™SMBv2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;lstb2016_pureç²¾ç®€æ–‡ä»¶&#34;&gt;lstb2016_pureç²¾ç®€æ–‡ä»¶&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;
&amp;lt;Preset isAutoSaved=&amp;quot;true&amp;quot; xmlns=&amp;quot;urn:schemas-nliteos-com:pn.v1&amp;quot;&amp;gt;
	&amp;lt;RemoveComponents&amp;gt;
		&amp;lt;c&amp;gt;3daudio &#39;ç©ºé—´éŸ³æ•ˆ (3D Audio)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;accessibility &#39;è½»æ¾è®¿é—®å·¥å…· (è½»æ¾è®¿é—®)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;actioncenter &#39;æ“ä½œä¸­å¿ƒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;activedirectory &#39;æ´»åŠ¨ç›®å½•&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;adamclient &#39;Active Directory è½»å‹ç›®å½•æœåŠ¡ (AD LDS)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;alljoyn &#39;AllJoyn Router Service&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;appcompat &#39;åº”ç”¨ç¨‹åºå…¼å®¹æ€§&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;appid &#39;Application Identity Service(åº”ç”¨ç¨‹åºæ ‡è¯†æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;appv &#39;åº”ç”¨ç¨‹åºè™šæ‹ŸåŒ–(App-V)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;asimov &#39;Unified Telemetry Client (Asimov)(é¥æµ‹)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;assembly.net &#39;.NET assembly ç¼“å­˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;assignedaccess &#39;Assigned Access(æŒ‰éœ€è®¿é—®)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;autoplay &#39;è‡ªåŠ¨æ’­æ”¾&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;autoworkplacejoin &#39;å·¥ä½œåŒºåˆå¹¶(Workplace Join)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;axinstall &#39;ActiveX Installer Service&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;azuread &#39;Azure Active Directory&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;backgroundtransfer &#39;ç½‘ç»œåå°ä¼ è¾“&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;backup &#39;Windows å¤‡ä»½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;biometricservice &#39;Windows ç”Ÿç‰©è¯†åˆ«æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;branchcacheclient &#39;BranchCache Client(åˆ†æ”¯ç¼“å­˜å®¢æˆ·ç«¯)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;briefcase &#39;å…¬æ–‡åŒ…&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;browserbrokers &#39;Browser Brokers(æµè§ˆå™¨ä»£ç†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;cdpsvc &#39;å·²è¿æ¥è®¾å¤‡å¹³å°æœåŠ¡(CDPSvc)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;cdpusersvc &#39;è¿æ¥è®¾å¤‡å¹³å°ç”¨æˆ·æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ceip &#39;Windowså®¢æˆ·ä½“éªŒæ”¹å–„è®¡åˆ’ CEIP (SQM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;containers &#39;å®¹å™¨(Container)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;corruptionverifier &#39;Corruption Verifier(ç£ç›˜æŸåæ£€æµ‹)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;credentialmanager &#39;Credential Manager(å‡­æ®ç®¡ç†å™¨)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;dashost &#39;Device Association Service(è®¾å¤‡å…³è”æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;datacenterbridging &#39;Data Center Bridging (DCB)æ•°æ®ä¸­å¿ƒæ¡¥æ¥&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;defrag &#39;ç£ç›˜ç¢ç‰‡æ•´ç†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;deliveryoptimization &#39;å†…å®¹ä¼ é€’ä¼˜åŒ–æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;deviceguard &#39;Device Guard(è®¾å¤‡ä¿æŠ¤)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;devicesflow &#39;Devices Flow&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;devquerybroker &#39;DevQuery Background Discovery Broker&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;diagnostics &#39;Diagnostics and Troubleshooting(è¯Šæ–­å’Œæ•…éšœæ’é™¤)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;directaccess &#39;Direct Access Connection(ç›´æ¥è®¿é—®è¿æ¥)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;diskdiagnosis &#39;ç£ç›˜æ•…éšœè¯Šæ–­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;displayswitch &#39;æ˜¾ç¤ºåˆ‡æ¢&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;dmwappushsvc &#39;WAP æ¨é€æ¶ˆæ¯è·¯ç”±æœåŠ¡ (dmwappushsvc)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;domainclientssvc &#39;IPsec ç­–ç•¥ä»£ç†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_btampm.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bth.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthaudhid.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthhfenum.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthleenum.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthmtpenum.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthpan.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthprint.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_bthspp.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_barcodescanner.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_biometric.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_bluetooth.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_cashdrawer.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_cdrom.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_dot4.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_dot4print.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_fdc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_floppydisk.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_infrared.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_magneticstripereader.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_pnpprinters.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_receiptprinter.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_sensor.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_smartcard.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_smartcardfilter.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_smartcardreader.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_c_volsnap.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_cdrom.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_dc1-controller.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_eaphost.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_fdc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_flpydisk.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_fusionv2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_hidbth.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_hidbthle.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_hidir.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_hidirkbd.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_hidscanner.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_idtsec.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_kdnic.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_mbtr8897w81x64.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_mdmbtmdm.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_mgtdyn.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_miradisp.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_msclmd.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnbrcl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prncacl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prncacl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prncacla.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prndlcl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prndlclf.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prndlclv.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prndlclw.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnekcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnepcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnfxcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prngeclv.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnhpcl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnhpcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnhpcl3.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnhpcl4.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnhpcl5.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnkmcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnkmcl4.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnkycl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnlxclv.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnlxclw.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnms007.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnms008.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnnecl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnokcl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnokcl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnrccl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnsacl1.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prntscl2.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prntscl3.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnxxcl3.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_prnxxcl4.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_rdpbus.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_remoteposdrv.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_scrawpdo.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_scunknown.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_sensorsalsdriver.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_sensorshidclassdriver.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_sensorsservicedriver.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_sti.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_tdibth.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_tpmvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_ts_generic.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_tsgenericusbdriver.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_tsprint.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_tsusbhubfilter.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_usbcir.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_volsnap.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wdma_bt.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wdmvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wfcvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wgencounter.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_whyperkbd.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wnetvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_ws3cap.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wsdprint.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wstorflt.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wstorvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wsynth3dvsc.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wudfusbcciddriver.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvmbus.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvmbushid.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvmbusvideo.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvmgid.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvmic_ext.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_wvpci.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;driver_xusb22.inf&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;dssvc &#39;Data Sharing Service(æ•°æ®å…±äº«æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;dvdplay &#39;DVD æ’­æ”¾&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;eaphost &#39;å¯æ‰©å±•çš„èº«ä»½éªŒè¯åè®® (EAP-Extensible Authentication Protocol)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;easeofaccessthemes &#39;è½»æ¾è®¿é—®ä¸»é¢˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;edgehtml32 &#39;Edge HTML Viewer - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;efsfeature &#39;åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ(EFS) - åŠŸèƒ½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;efssvc &#39;åŠ å¯†æ–‡ä»¶ç³»ç»Ÿ(EFS) - æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;embeddedexperience &#39;è®¾å¤‡é”å®š (Embedded Experience-åµŒå…¥å¼ä½“éªŒ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;embeddedmode &#39;Embedded Mode(åµŒå…¥æ¨¡å¼)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;enterpriseclientsync &#39;å·¥ä½œæ–‡ä»¶å¤¹å®¢æˆ·ç«¯(Work Folders Client)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;enterprisedataprotection &#39;ä¼ä¸šæ•°æ®ä¿æŠ¤ (EDP/WIP)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;errorreporting &#39;Windows é”™è¯¯æŠ¥å‘Š&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;errorreportingcpl &#39;é—®é¢˜æŠ¥å‘Šä¸è§£å†³æ–¹æ¡ˆæ§åˆ¶é¢æ¿æ”¯æŒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;facerecognition &#39;é¢éƒ¨è¯†åˆ«&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;fdphost &#39;ç½‘ç»œå‘ç°(Network Discovery)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;filehistory &#39;æ–‡ä»¶å†å²&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;filerevocationmanager &#39;File Revocation Manager - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;firstlogonanim &#39;é¦–æ¬¡ç™»å½•åŠ¨ç”»&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;flashactivex &#39;Internet Explorer Adobe Flash æ’ä»¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;frameserver &#39;Camera Frame Server&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;gameexplorer &#39;æ¸¸æˆèµ„æºç®¡ç†å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;gamingperipherals &#39;æ¸¸æˆå‘¨è¾¹(Xbox GIP)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;gettingstarted &#39;æç¤º(Win10 1607ä¹‹å‰å«â€œå…¥é—¨â€)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;help &#39;Windows å¸®åŠ©å†…å®¹&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;helpsupport &#39;å¸®åŠ©æ–‡ä»¶æ”¯æŒ (CHM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;homegroup &#39;å®¶åº­ç»„&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_bluetooth &#39;è“ç‰™&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_fax &#39;ä¼ çœŸ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_floppy &#39;è½¯ç›˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_infrared &#39;çº¢å¤–è®¾å¤‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_internetprintingclient &#39;Internet æ‰“å°å®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_scanner &#39;æ‰«æä»ª&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_smartcard &#39;æ™ºèƒ½å¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_telephony &#39;Telephony(ç”µè¯)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_tv &#39;TV Tuner ç¼–ç ä¸æ”¯æŒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hwsupport_wia &#39;Windows å›¾åƒé‡‡é›† (WIA)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hyperv &#39;Hyper-V&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;hypervguest &#39;Hyper-V æ¥å®¾&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;iis &#39;Internet Information Server (IIS)(Internet ä¿¡æ¯æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ikeext &#39;IKE and AuthIP IPsec Keying Modules&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;indeo &#39;Intel Indeo ç¼–ç å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;internetexplorer &#39;Internet Explorer&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;internetexplorer32 &#39;Internet Explorer - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;iphelper &#39;Internet Protocol Helper (IP Helper)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;iscsi &#39;iSCSI å‘èµ·ç¨‹åº&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;isoburn &#39;Windows å…‰ç›˜æ˜ åƒåˆ»å½•å·¥å…·&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;isolatedusermode &#39;éš”ç¦»ç”¨æˆ·æ¨¡å¼(IUM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kerneldebug &#39;å†…æ ¸è°ƒè¯•&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;killbits &#39;ActiveX Compatibility Flags (Killbits)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000401 &#39;é˜¿æ‹‰ä¼¯è¯­(101)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000402 &#39;ä¿åŠ åˆ©äºšè¯­(æ‰“å­—æœº)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000404 &#39;ä¸­æ–‡(ç¹ä½“) - ç¾å¼é”®ç›˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000405 &#39;æ·å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000406 &#39;ä¸¹éº¦è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000407 &#39;å¾·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000408 &#39;å¸Œè…Šè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040a &#39;è¥¿ç­ç‰™è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040b &#39;èŠ¬å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040c &#39;æ³•è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040d &#39;å¸Œä¼¯æ¥è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040e &#39;åŒˆç‰™åˆ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000040f &#39;å†°å²›è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000410 &#39;æ„å¤§åˆ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000411 &#39;æ—¥è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000412 &#39;æœé²œè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000413 &#39;è·å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000414 &#39;æŒªå¨è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000415 &#39;æ³¢å…°è¯­(ç¨‹åºå‘˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000416 &#39;è‘¡è„ç‰™è¯­(å·´è¥¿ ABNT)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000418 &#39;ç½—é©¬å°¼äºšè¯­(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000419 &#39;ä¿„è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041a &#39;æ ‡å‡†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041b &#39;æ–¯æ´›ä¼å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041c &#39;é˜¿å°”å·´å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041d &#39;ç‘å…¸è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041e &#39;æ³°è¯­ Kedmanee&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000041f &#39;åœŸè€³å…¶è¯­ Q&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000420 &#39;ä¹Œå°”éƒ½è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000422 &#39;ä¹Œå…‹å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000423 &#39;ç™½ä¿„ç½—æ–¯è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000424 &#39;æ–¯æ´›æ–‡å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000425 &#39;çˆ±æ²™å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000426 &#39;æ‹‰è„±ç»´äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000427 &#39;ç«‹é™¶å®›è¯­ IBM&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000428 &#39;å¡”å‰å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000429 &#39;æ³¢æ–¯è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000042a &#39;è¶Šå—è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000042b &#39;ä¸œäºšç¾å°¼äºšè¯­(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000042c &#39;é˜¿å¡æ‹œç–†è¯­æ‹‰ä¸æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000042e &#39;æ ‡å‡†ç´¢å¸ƒè¯­(æ—§ç‰ˆ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000042f &#39;é©¬å…¶é¡¿è¯­(å‰å—æ–¯æ‹‰å¤«é©¬å…¶é¡¿å…±å’Œå›½)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000432 &#39;èŒ¨ç“¦çº³è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000437 &#39;æ ¼é²å‰äºšè¯­(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000438 &#39;æ³•ç½—è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000439 &#39;æ¢µæ–‡ - INSCRIPT&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000043a &#39;é©¬è€³ä»–è¯­ 47-é”®&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000043b &#39;æŒªå¨è¨ç±³è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000043f &#39;å“ˆè¨å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000440 &#39;å‰å°”å‰æ–¯è¯­è¥¿é‡Œå°”æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000442 &#39;åœŸåº“æ›¼è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000444 &#39;é‘é¼è¯­(æ—§ç‰ˆ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000445 &#39;å­ŸåŠ æ‹‰è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000446 &#39;æ—é®æ™®è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000447 &#39;å¤å‰æ‹‰ç‰¹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000448 &#39;å¥¥é‡Œäºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000449 &#39;æ³°ç±³å°”è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000044a &#39;æ³°å¢å›ºè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000044b &#39;åŸƒçº³å¾·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000044c &#39;é©¬æ‹‰äºšæ‹‰å§†è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000044d &#39;é˜¿è¨å§†è¯­ - INSCRIPT&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000044e &#39;é©¬æ‹‰åœ°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000450 &#39;è’™å¤è¯­è¥¿é‡Œå°”æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000451 &#39;è—è¯­(ä¸­å›½)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000452 &#39;è‹±å›½æ‰©å±•&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000453 &#39;é«˜æ£‰è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000454 &#39;è€æŒè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000045a &#39;å™åˆ©äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000045b &#39;åƒ§ä¼½ç½—è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000045c &#39;åˆ‡ç½—åŸºè¯­æ°‘æ—&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000461 &#39;å°¼æ³Šå°”è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000463 &#39;æ™®ä»€å›¾è¯­(é˜¿å¯Œæ±—)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000465 &#39;è¿ªç»´å¸Œè¯­æ‹¼éŸ³&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000468 &#39;è±ªæ’’è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000046a &#39;çº¦é²å·´è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000046c &#39;å·´ç´¢æ‰˜è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000046d &#39;å·´ä»€åŸºå°”è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000046e &#39;å¢æ£®å ¡è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000046f &#39;æ ¼é™µå…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000470 &#39;ä¼Šåšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000474 &#39;ç“œæ‹‰å°¼è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000475 &#39;å¤å¨å¤·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000480 &#39;ç»´å¾å°”è¯­(æ—§ç‰ˆ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000481 &#39;æ¯›åˆ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000485 &#39;è¨å“ˆè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000488 &#39;æ²ƒæ´›å¤«è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000492 &#39;ä¸­éƒ¨åº“å°”å¾·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000807 &#39;ç‘å£«å¾·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000809 &#39;è‹±å›½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000080a &#39;æ‹‰ä¸ç¾æ´²è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000080c &#39;æ¯”åˆ©æ—¶æ³•è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000813 &#39;æ¯”åˆ©æ—¶è¯­(å¥å·)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000816 &#39;è‘¡è„ç‰™è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000081a &#39;å¡å°”ç»´äºšè¯­(æ‹‰ä¸è¯­)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000082c &#39;é˜¿å¡æ‹œç–†è¯­è¥¿é‡Œå°”æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000083b &#39;ç‘å…¸è¨ç±³è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000843 &#39;ä¹Œå…¹åˆ«å…‹è¯­è¥¿é‡Œå°”æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000850 &#39;è’™å¤è¯­(è’™å¤æ–‡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000085d &#39;å› çº½ç‰¹è¯­ - æ‹‰ä¸è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000085f &#39;ä¸­é˜¿ç‰¹æ‹‰æ–¯å¡”é©¬å¡ç‰¹æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000c04 &#39;ä¸­æ–‡(ç¹ä½“ï¼Œé¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº) - ç¾å¼é”®ç›˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000c0c &#39;åŠ æ‹¿å¤§æ³•è¯­(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000c1a &#39;å¡å°”ç»´äºšè¯­(è¥¿é‡Œå°”æ–‡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00000c51 &#39;ä¸ä¸¹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00001004 &#39;ä¸­æ–‡(ç®€ä½“ï¼Œæ–°åŠ å¡) - ç¾å¼é”®ç›˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00001009 &#39;åŠ æ‹¿å¤§æ³•è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000100c &#39;ç‘å£«æ³•è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000105f &#39;æå¤«çº³è¯­(åŸºæœ¬)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00001404 &#39;ä¸­æ–‡(ç¹ä½“ï¼Œæ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº) - ç¾å¼é”®ç›˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00001809 &#39;çˆ±å°”å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0000201a &#39;æ³¢æ–¯å°¼äºšè¯­(è¥¿é‡Œå°”æ–‡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00004009 &#39;è‹±è¯­(å°åº¦)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010401 &#39;é˜¿æ‹‰ä¼¯è¯­(102)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010402 &#39;ä¿åŠ åˆ©äºš(æ‹‰ä¸è¯­)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010405 &#39;æ·å…‹è¯­(æ ‡å‡†é”®ç›˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010407 &#39;å¾·è¯­(IBM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010408 &#39;å¸Œè…Šè¯­(220)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010409 &#39;ç¾å›½è‹±è¯­-Dvorak&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001040a &#39;è¥¿ç­ç‰™è¯­å˜ä½“&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001040e &#39;åŒˆç‰™åˆ©è¯­ 101-é”®&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010410 &#39;æ„å¤§åˆ©è¯­(142)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010415 &#39;æ³¢å…°è¯­(214)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010416 &#39;è‘¡è„ç‰™è¯­(å·´è¥¿ ABNT2)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010418 &#39;ç½—é©¬å°¼äºšè¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010419 &#39;ä¿„è¯­(æ‰“å­—æœº)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001041b &#39;æ–¯æ´›ä¼å…‹è¯­(æ ‡å‡†é”®ç›˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001041e &#39;æ³°è¯­ Pattachote&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001041f &#39;åœŸè€³å…¶è¯­ F&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010426 &#39;æ‹‰è„±ç»´äºšè¯­(æ ‡å‡†é”®ç›˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010427 &#39;ç«‹é™¶å®›è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001042b &#39;è¥¿äºšç¾å°¼äºšè¯­(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001042c &#39;é˜¿å¡æ‹œç–†(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001042e &#39;æ‰©å±•ç´¢å¸ƒè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001042f &#39;é©¬å…¶é¡¿è¯­(å‰å—æ–¯æ‹‰å¤«é©¬å…¶é¡¿å…±å’Œå›½) - æ ‡å‡†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010437 &#39;æ ¼é²å‰äºšè¯­(QWERTY)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010439 &#39;ä¼ ç»Ÿå°åœ°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001043a &#39;é©¬è€³ä»–è¯­ 48-é”®&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001043b &#39;æŒªå¨è¨ç±³è¯­(æ‰©å±•)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010444 &#39;é‘é¼è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010445 &#39;å­ŸåŠ æ‹‰è¯­ - INSCRIPT é”®ç›˜(ä¼ ç»Ÿ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010451 &#39;è—è¯­(ä¸­å›½) - æ›´æ–°&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010453 &#39;é«˜æ£‰è¯­(NIDA)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001045a &#39;å™åˆ©äºšè¯­æ‹¼éŸ³&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001045b &#39;åƒ§ä¼½ç½—è¯­ - Wij 9&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001045c &#39;åˆ‡ç½—åŸºè¯­æ³¨éŸ³&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001045d &#39;å› çº½ç‰¹è¯­ - Naqittaut&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010465 &#39;è¿ªç»´å¸Œè¯­å°åˆ·æ–‡å­—&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010480 &#39;ç»´å¾å°”è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001080c &#39;æ¯”åˆ©æ—¶è¯­(Comma)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001083b &#39;èŠ¬å…°è¨ç±³è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010850 &#39;ä¼ ç»Ÿè’™å¤è¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00010c00 &#39;ç¼…ç”¸è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00011009 &#39;åŠ æ‹¿å¤§å¤šè¯­è¨€æ ‡å‡†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0001105f &#39;æå¤«çº³è¯­(æ‰©å±•)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00011809 &#39;è‹æ ¼å…°ç›–å°”è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020401 &#39;é˜¿æ‹‰ä¼¯è¯­(102) AZERTY&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020402 &#39;ä¿åŠ åˆ©äºšè¯­(æ‹¼éŸ³)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020405 &#39;æ·å…‹è¯­(ç¨‹åºå‘˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020408 &#39;å¸Œè…Šè¯­(319)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020409 &#39;ç¾å›½è‹±è¯­-å›½é™…&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0002040d &#39;å¸Œä¼¯æ¥è¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020418 &#39;ç½—é©¬å°¼äºšè¯­(ç¨‹åºå‘˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020419 &#39;ä¿„è¯­ - åŠ©è®°é”®&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0002041e &#39;æ³°è¯­ Kedmanee (é ShiftLock)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020422 &#39;ä¹Œå…‹å…°è¯­(å¢å¼º)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020426 &#39;æ‹‰è„±ç»´äºšè¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020427 &#39;æ ‡å‡†ç«‹é™¶å®›è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0002042b &#39;äºšç¾å°¼äºšè¯­æ³¨éŸ³&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0002042e &#39;æ ‡å‡†ç´¢å¸ƒè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020437 &#39;æ ¼é²å‰äºšè¯­(äººæœºå·¥ç¨‹å­¦)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020445 &#39;å­ŸåŠ æ‹‰è¯­ - INSCRIPT&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0002083b &#39;èŠ¬å…°ç‘å…¸è¨ç±³è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00020c00 &#39;è¥¿åŒç‰ˆçº³æ–°å‚£æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00030402 &#39;ä¿åŠ åˆ©äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00030408 &#39;å¸Œè…Šè¯­(220)æ‹‰ä¸æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0003041e &#39;æ³°è¯­ Pattachote (é ShiftLock)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-0003042b &#39;äºšç¾å°¼äºšè¯­æ‰“å­—æœº&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00030437 &#39;æ ¼é²å‰äºš(MES)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00030c00 &#39;å¾·å®å‚£æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00040402 &#39;ä¿åŠ åˆ©äºšè¯­(ä¼ ç»Ÿæ‹¼éŸ³)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00040408 &#39;å¸Œè…Šè¯­(319)æ‹‰ä¸æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00040437 &#39;æ ¼é²å‰äºšè¯­(æ—§å­—æ¯)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00040c00 &#39;æ¬§ç”˜æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00050408 &#39;å¸Œè…Šè¯­æ‹‰ä¸æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00050409 &#39;IBM é˜¿æ‹‰ä¼¯è¯­ 238_L ç¾å›½è‹±è¯­è¡¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00050429 &#39;æ³¢æ–¯è¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00060408 &#39;å¤šå…ƒåŒ–å¸Œè…Šè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00070c00 &#39;å‚ˆåƒ³è¯­(åŸºæœ¬)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00080c00 &#39;å‚ˆåƒ³è¯­(æ ‡å‡†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00090c00 &#39;è¥¿éä¹¦é¢æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000a0c00 &#39;å…«æ€å·´æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000b0c00 &#39;å¸ƒå‰æ–¯è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000c0c00 &#39;å“¥ç‰¹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000d0c00 &#39;æ¬§ç”˜è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000e0c00 &#39;ç´¢é©¬é‡Œæ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-000f0c00 &#39;å¤æ„å¤§åˆ©æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00100c00 &#39;ç´¢æ‹‰æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00110c00 &#39;çˆªå“‡è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;kl-00120c00 &#39;å¼—è¨å…‹æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langarabic &#39;é˜¿æ‹‰ä¼¯è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langbulgarian &#39;ä¿åŠ åˆ©äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langchineset &#39;ç¹ä½“ä¸­æ–‡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langcroatian &#39;å…‹ç½—åœ°äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langczech &#39;æ·å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langdanish &#39;ä¸¹éº¦è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langdutch &#39;è·å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langenglishus &#39;è‹±è¯­ (US)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langestonian &#39;çˆ±æ²™å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langfinnish &#39;èŠ¬å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langfrench &#39;æ³•è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langfrenchcanadian &#39;æ³•è¯­(åŠ æ‹¿å¤§)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langgerman &#39;å¾·è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langgreek &#39;å¸Œè…Šè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langhebrew &#39;å¸Œä¼¯æ¥è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langhungarian &#39;åŒˆç‰™åˆ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langime &#39;è¾“å…¥æ³•ç¼–è¾‘å™¨ (IME)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langimejp &#39;æ—¥è¯­ (IME)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langimeko &#39;éŸ©è¯­ (IME)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langimetc &#39;ç¹ä½“ä¸­æ–‡ (IME)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langitalian &#39;æ„å¤§åˆ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langjapanese &#39;æ—¥è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langkorean &#39;éŸ©è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langlatvian &#39;æ‹‰è„±ç»´äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langlithuanian &#39;ç«‹é™¶å®›è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langnorwegian &#39;æŒªå¨è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langpolish &#39;æ³¢å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langportuguesebr &#39;è‘¡è„ç‰™è¯­(å·´è¥¿)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langportuguesept &#39;è‘¡è„ç‰™è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langromanian &#39;ç½—é©¬å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langrussian &#39;ä¿„è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langserbian &#39;å¡å°”ç»´äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langslovak &#39;æ–¯æ´›ä¼å…‹è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langslovenian &#39;æ–¯æ´›æ–‡å°¼äºšè¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langspanish &#39;è¥¿ç­ç‰™è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langswedish &#39;ç‘å…¸è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langthai &#39;æ³°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langturkish &#39;åœŸè€³å…¶è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;langukrainian &#39;ä¹Œå…‹å…°è¯­&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;legacycomponents &#39;æ—§ç‰ˆç»„ä»¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;location &#39;Location Service(ä½ç½®æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;lockscreens &#39;é”å±èƒŒæ™¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;lxss &#39;é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mail &#39;Windows Mail(Windows é‚®ä»¶)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mailcommdll &#39;Windows Mail Communications DLL&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;manifestbackup &#39;Manifest å¤‡ä»½ (WinSxS\Backup)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mapcontrol &#39;åœ°å›¾æ§åˆ¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mediacodec32 &#39;Windows å¤šåª’ä½“ç¼–ç å™¨ - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mediaplayer &#39;Windows Media Player&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mediaplayer32 &#39;Windows Media Player - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mediaplayernetworksharing &#39;WMP Network Sharing Service(WMP ç½‘ç»œå…±äº«æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mediastreaming &#39;æµåª’ä½“&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;memorydiagnostic &#39;å†…å­˜è°ƒè¯•&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;messagingsvc &#39;Messaging Service(çŸ­ä¿¡æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.AAD.BrokerPlugin &#39;AAD.BrokerPlugin&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.AccountsControl &#39;AccountsControl&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.BioEnrollment &#39;BioEnrollment&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.LockApp &#39;LockApp&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.Apprep.ChxApp &#39;SmartScreen&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.AssignedAccessLockApp &#39;AssignedAccessLockApp&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.ContentDeliveryManager &#39;Content Delivery Manager&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.Cortana &#39;Cortana&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.ParentalControls &#39;ParentalControls&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.Windows.SecondaryTileExperience &#39;SecondaryTileExperience&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Microsoft.XboxGameCallableUI &#39;XboxGameCallableUI&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;midi &#39;Microsoft GS æ³¢è¡¨åˆæˆå™¨ (MIDI)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;migwiz &#39;è½»æ¾ä¼ é€&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mobiledevicemanagement &#39;ç§»åŠ¨è®¾å¤‡ç®¡ç†å™¨ (MDM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mobilepc &#39;Mobile PC(ç§»åŠ¨ PC)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mobilepc_location &#39;ä½ç½®é€šçŸ¥&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mobilepc_networkprojection &#39;ç½‘ç»œæŠ•å½±ä»ª&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;mobilepc_sensors &#39;ä¼ æ„Ÿå™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ncb &#39;Network Connection Broker (ç½‘ç»œè¿æ¥ä»£ç†)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ncdauto &#39;ç½‘ç»œè¿æ¥è®¾å¤‡è‡ªåŠ¨å®‰è£…æœåŠ¡(Network Connected Devices Auto-Setup)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ndisimplat &#39;ç½‘ç»œé€‚é…å™¨å¤šè·¯ä¼ é€å™¨åè®®&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ndu &#39;Network Data Usage Monitoring Driver(ç½‘ç»œæ•°æ®ä½¿ç”¨ç›‘æ§æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;netbios &#39;TCP/IP ä¸Šçš„ NetBIOS ä¼ è¾“&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;netlogon &#39;Netlogon(ç½‘ç»œç™»å½•)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;netqos &#39;Quality of Service Packet Scheduler (QoS)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;nettopology &#39;é“¾æ¥å±‚æ‹“æ‰‘ç»“æ„å‘ç°åè®® (LLTD)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;nfsclient &#39;NFS ç®¡ç†å·¥å…·&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;ntvdm &#39;NTVDM 16-ä½ å­ç³»ç»Ÿ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;offlinefiles &#39;è„±æœºæ–‡ä»¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;onedrive &#39;OneDrive(å¾®è½¯äº‘ç›˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;onesyncsvc &#39;åŒæ­¥ä¸»æœº&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;osk &#39;è§¦æ‘¸é”®ç›˜ (Tablet PC(å¹³æ¿ç”µè„‘))&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;osk_acc &#39;è§¦æ‘¸é”®ç›˜ (è½»æ¾è®¿é—®å·¥å…·)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;otherthemes &#39;å…¶ä»–ä¸»é¢˜&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;paint &#39;å›¾ç”»&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;passport &#39;Microsoft Passport(å¾®è½¯é€šè¡Œè¯)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;pdfreader &#39;Windows Reader (PDF)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;peertopeer &#39;Peer Networking(å¯¹ç­‰ç½‘ç»œ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;perftools &#39;è¿½è¸ªæ€§èƒ½ç›¸å…³çš„ CMD å·¥å…·&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;phonesvc &#39;Phone Service(ç”µè¯æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;photocodec32 &#39;å›¾ç‰‡ç¼–ç å™¨(Photo codec) - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;photoviewer32 &#39;å›¾ç‰‡æŸ¥çœ‹å™¨(Photo Viewer) - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;picturepassword &#39;å›¾ç‰‡å¯†ç &#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;pimindexmaintenancesvc &#39;Contact Data(è”ç³»äººæ•°æ®)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;pinsignin &#39;PIN ç™»å½•æ”¯æŒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;playready&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;pos &#39;Point of Service(æœåŠ¡ç‚¹ï¼ŒPOSæœºç›¸å…³)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;printtopdf &#39;æ‰“å°ä¸º PDF(Print to PDF)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;provisioning &#39;Windows Provisioning&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;proximity&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;pushnotifications &#39;Windows æ¨é€é€šçŸ¥æœåŠ¡ (WNS)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rasauto &#39;è¿œç¨‹è®¿é—®è‡ªåŠ¨æ‹¨å·ç®¡ç†å™¨(RasAutoæœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rdpclient &#39;è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rdpserver &#39;è¿œç¨‹æ¡Œé¢æœåŠ¡å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rdpserverlic &#39;è¿œç¨‹æ¡Œé¢æˆæƒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;recoveryagent &#39;Recovery Agent(æ¢å¤åŠ©æ‰‹)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;reliabilityanalysis &#39;Reliability Analysis Services&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;remoteactivex &#39;è¿œç¨‹æ¡Œé¢æœåŠ¡ ActiveX å®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;remoteassistance &#39;è¿œç¨‹ååŠ©&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;remotefx&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;remoteportredirector &#39;Remote Desktop Services Port Redirector(è¿œç¨‹æ¡Œé¢æœåŠ¡ç«¯å£é‡å®šå‘å™¨)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;remoteregistry &#39;è¿œç¨‹æ³¨å†Œè¡¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;retaildemo &#39;é›¶å”®æ¼”ç¤ºå†…å®¹&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rmsvc &#39;Radio Management and Airplane Mode Service(æ— çº¿ç”µç®¡ç†å’Œé£è¡Œæ¨¡å¼æœåŠ¡)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rotationmanager &#39;è‡ªåŠ¨æ—‹è½¬ç®¡ç†å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;rpclocator &#39;Remote Procedure Call (RPC) Locator&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;screensavers &#39;å±ä¿&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;search &#39;Windows æœç´¢&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;securestartup &#39;BitLocker ç£ç›˜åŠ å¯†&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;securitycenter &#39;å®‰å…¨ä¸­å¿ƒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;settingsync &#39;è®¾ç½®åŒæ­¥&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;sharedpc &#39;Shared PC æ¨¡å¼&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;sihclient &#39;Server-Initiated Healing Client(SIH å®¢æˆ·ç«¯)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;simpletcp &#39;ç®€å• TCP/IP æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;skypeortc &#39;Skype ORTC&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;smbdirect &#39;SMB Direct (RDMA)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;smbserver &#39;SMB Server Common&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;smbv2server &#39;SMB v2 - æœåŠ¡å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;smbwitnessclientapi &#39;SMB Witness Client API&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;snippingtool &#39;æˆªå›¾å·¥å…·&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;soundsdefault &#39;å£°éŸ³ (é»˜è®¤)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;soundthemes &#39;å£°éŸ³æ–¹æ¡ˆ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;speechcommon &#39;è¯­éŸ³è¯†åˆ«&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;speechtts &#39;è¯­éŸ³ TTS&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;sstackwow64 &#39;æœåŠ¡å †æ ˆ - 32-ä½&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;stepsrecorder &#39;æ­¥éª¤è®°å½•å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;stici &#39;Still Image Class Installer(é™æ­¢å›¾åƒç±»å®‰è£…å™¨)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;storageqos &#39;Storage Quality of Service (Storage QoS)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;symboliclinks &#39;æ—§çš„ç¬¦å·é“¾æ¥&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;synccenter &#39;åŒæ­¥ä¸­å¿ƒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;systemreset &#39;Recovery Reset æ”¯æŒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;systemrestore &#39;ç³»ç»Ÿæ¢å¤&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;tabletpc &#39;Tablet PC(å¹³æ¿ç”µè„‘)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;telnetclient &#39;Telnet å®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;tempcache &#39;ç¼“å­˜ä¸ä¸´æ—¶æ–‡ä»¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;tftpclient &#39;TFTP å®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;tpm &#39;å—ä¿¡ä»»çš„å¹³å°æ¨¡å— (TPM)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;tpmvsc &#39;è™šæ‹Ÿ Smart Card&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;uev &#39;ç”¨æˆ·ä½“éªŒè™šæ‹ŸåŒ–(UE-V)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;unistoresvc &#39;User Data Storage(ç”¨æˆ·æ•°æ®å­˜å‚¨)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;upnp &#39;UPnP Device Host(UPnP è®¾å¤‡ä¸»æœº)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;userdatasvc &#39;User Data Access(ç”¨æˆ·æ•°æ®è®¿é—®)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;userdeviceregistration &#39;ç”¨æˆ·è®¾å¤‡æ³¨å†Œ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;vcmcodecs &#39;è§†é¢‘å‹ç¼©ç®¡ç†å™¨(VCM)ç¼–ç å™¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;virtualpc &#39;è™šæ‹Ÿ PC æˆæƒä¸ USB é©±åŠ¨&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;vpn &#39;VPN(è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ) æ”¯æŒ&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;vss &#39;å·å½±å¤åˆ¶&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wallet &#39;é’±åŒ…æœåŠ¡&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wallpaperdefault &#39;å¢™çº¸ (é»˜è®¤)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wallpapers &#39;å¢™çº¸ (ä¸»é¢˜)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wcn &#39;Windows ç«‹å³è¿æ¥(WCN)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;webcamexperience &#39;Webcam Experience(ç½‘ç»œæ‘„åƒå¤´ä½“éªŒ)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;webclient &#39;Webå®¢æˆ·ç«¯&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wifinetworkmanager &#39;Wi-Fi Network Manager (WLAN æ„ŸçŸ¥)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;Windows.MiracastView &#39;MiracastView&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;windowsdefender &#39;Windows Defender&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;windowstogo &#39;Windows To Go&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;winocr &#39;Windows TIFF IFilter(å…‰å­¦å­—ç¬¦è¯†åˆ« OCR )&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;winre &#39;Windows Recovery(Windows æ¢å¤)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;winrm &#39;Windows è¿œç¨‹ç®¡ç† (WS-Management)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;winsat &#39;Windows ç³»ç»Ÿè¯„ä¼°å·¥å…· (WinSAT)&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;wordpad &#39;å†™å­—æ¿&#39;&amp;lt;/c&amp;gt;
		&amp;lt;c&amp;gt;xbox &#39;Xbox åº”ç”¨&#39;&amp;lt;/c&amp;gt;
	&amp;lt;/RemoveComponents&amp;gt;
	&amp;lt;Compatibility protectHidden=&amp;quot;true&amp;quot;&amp;gt;
		&amp;lt;ComponentFeatures&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;OOBE&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;CortanaSupport&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;Hyper-V&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;OfficeSupport&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;NvidiaSetup&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;SafeMode&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;SamsungSwitch&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;ShellSearchSupport&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;Spotify&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;USBModem&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;USB&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;VisualStudio&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;VPN&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;AppxSupport&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;WindowsUpdate&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;ActivationKMS&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;Activation&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;WLAN&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;ManualSetup&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;Printing&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;Recommended-All&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;ServicingStack&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;NetworkDiscovery&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;VideoPlayback&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;no&amp;quot;&amp;gt;Recommended-Tablet&amp;lt;/Feature&amp;gt;
			&amp;lt;Feature enabled=&amp;quot;yes&amp;quot;&amp;gt;DefaultFonts&amp;lt;/Feature&amp;gt;
		&amp;lt;/ComponentFeatures&amp;gt;
		&amp;lt;MachineDrivers&amp;gt;
			&amp;lt;Machine enabled=&amp;quot;no&amp;quot;&amp;gt;Hyper-V VM&amp;lt;/Machine&amp;gt;
			&amp;lt;Machine enabled=&amp;quot;no&amp;quot;&amp;gt;Parallels VM&amp;lt;/Machine&amp;gt;
			&amp;lt;Machine enabled=&amp;quot;no&amp;quot;&amp;gt;Virtual Box VM&amp;lt;/Machine&amp;gt;
			&amp;lt;Machine enabled=&amp;quot;no&amp;quot;&amp;gt;VMware VM&amp;lt;/Machine&amp;gt;
			&amp;lt;Machine enabled=&amp;quot;yes&amp;quot;&amp;gt;HostMachine&amp;lt;/Machine&amp;gt;
		&amp;lt;/MachineDrivers&amp;gt;
	&amp;lt;/Compatibility&amp;gt;
	&amp;lt;Features&amp;gt;
		&amp;lt;Feature name=&amp;quot;Printing-XPSServices-Features&amp;quot;&amp;gt;false&amp;lt;/Feature&amp;gt;
		&amp;lt;Feature name=&amp;quot;MSRDC-Infrastructure&amp;quot;&amp;gt;false&amp;lt;/Feature&amp;gt;
		&amp;lt;Feature name=&amp;quot;SMB1Protocol&amp;quot;&amp;gt;false&amp;lt;/Feature&amp;gt;
		&amp;lt;Feature name=&amp;quot;Xps-Foundation-Xps-Viewer&amp;quot;&amp;gt;false&amp;lt;/Feature&amp;gt;
	&amp;lt;/Features&amp;gt;
	&amp;lt;AddPackages&amp;gt;&amp;lt;/AddPackages&amp;gt;
	&amp;lt;Drivers showHidden=&amp;quot;true&amp;quot;&amp;gt;
		&amp;lt;AddDrivers&amp;gt;&amp;lt;/AddDrivers&amp;gt;
	&amp;lt;/Drivers&amp;gt;
	&amp;lt;Unattended mode=&amp;quot;1&amp;quot;&amp;gt;
		&amp;lt;OEMSetupComplete&amp;gt;false&amp;lt;/OEMSetupComplete&amp;gt;
		&amp;lt;AnswerFileLocationPanther&amp;gt;false&amp;lt;/AnswerFileLocationPanther&amp;gt;
		&amp;lt;AnswerFileLocationBoot&amp;gt;false&amp;lt;/AnswerFileLocationBoot&amp;gt;
		&amp;lt;SaveBothArch&amp;gt;false&amp;lt;/SaveBothArch&amp;gt;
		&amp;lt;settings pass=&amp;quot;oobeSystem&amp;quot;&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-International-Core&amp;quot;&amp;gt;
				&amp;lt;InputLocale&amp;gt;0804:00000804&amp;lt;/InputLocale&amp;gt;
				&amp;lt;SystemLocale&amp;gt;zh-CN&amp;lt;/SystemLocale&amp;gt;
				&amp;lt;UILanguage&amp;gt;zh-CN&amp;lt;/UILanguage&amp;gt;
				&amp;lt;UILanguageFallback&amp;gt;zh-CN&amp;lt;/UILanguageFallback&amp;gt;
				&amp;lt;UserLocale&amp;gt;zh-CN&amp;lt;/UserLocale&amp;gt;
			&amp;lt;/component&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-Shell-Setup&amp;quot;&amp;gt;
				&amp;lt;AutoLogon&amp;gt;
					&amp;lt;Enabled&amp;gt;true&amp;lt;/Enabled&amp;gt;
					&amp;lt;LogonCount&amp;gt;9999999&amp;lt;/LogonCount&amp;gt;
					&amp;lt;Username&amp;gt;Administrator&amp;lt;/Username&amp;gt;
					&amp;lt;Password&amp;gt;
						&amp;lt;PlainText&amp;gt;false&amp;lt;/PlainText&amp;gt;
						&amp;lt;Value&amp;gt;MQAyADMANAA1ADYAUABhAHMAcwB3AG8AcgBkAA==&amp;lt;/Value&amp;gt;
					&amp;lt;/Password&amp;gt;
				&amp;lt;/AutoLogon&amp;gt;
				&amp;lt;OOBE&amp;gt;
					&amp;lt;HideEULAPage&amp;gt;true&amp;lt;/HideEULAPage&amp;gt;
					&amp;lt;HideWirelessSetupInOOBE&amp;gt;true&amp;lt;/HideWirelessSetupInOOBE&amp;gt;
					&amp;lt;NetworkLocation&amp;gt;Work&amp;lt;/NetworkLocation&amp;gt;
					&amp;lt;ProtectYourPC&amp;gt;3&amp;lt;/ProtectYourPC&amp;gt;
					&amp;lt;SkipMachineOOBE&amp;gt;true&amp;lt;/SkipMachineOOBE&amp;gt;
					&amp;lt;SkipUserOOBE&amp;gt;true&amp;lt;/SkipUserOOBE&amp;gt;
				&amp;lt;/OOBE&amp;gt;
				&amp;lt;UserAccounts&amp;gt;
					&amp;lt;AdministratorPassword&amp;gt;
						&amp;lt;PlainText&amp;gt;false&amp;lt;/PlainText&amp;gt;
						&amp;lt;Value&amp;gt;MQAyADMANAA1ADYAQQBkAG0AaQBuAGkAcwB0AHIAYQB0AG8AcgBQAGEAcwBzAHcAbwByAGQA&amp;lt;/Value&amp;gt;
					&amp;lt;/AdministratorPassword&amp;gt;
					&amp;lt;LocalAccounts&amp;gt;
						&amp;lt;LocalAccount&amp;gt;
							&amp;lt;Description&amp;gt;Administrator&amp;lt;/Description&amp;gt;
							&amp;lt;DisplayName&amp;gt;Administrator&amp;lt;/DisplayName&amp;gt;
							&amp;lt;Group&amp;gt;Administrators&amp;lt;/Group&amp;gt;
							&amp;lt;Name&amp;gt;Administrator&amp;lt;/Name&amp;gt;
							&amp;lt;Password&amp;gt;
								&amp;lt;PlainText&amp;gt;false&amp;lt;/PlainText&amp;gt;
								&amp;lt;Value&amp;gt;MQAyADMANAA1ADYAUABhAHMAcwB3AG8AcgBkAA==&amp;lt;/Value&amp;gt;
							&amp;lt;/Password&amp;gt;
						&amp;lt;/LocalAccount&amp;gt;
					&amp;lt;/LocalAccounts&amp;gt;
				&amp;lt;/UserAccounts&amp;gt;
			&amp;lt;/component&amp;gt;
		&amp;lt;/settings&amp;gt;
		&amp;lt;settings pass=&amp;quot;specialize&amp;quot;&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-Deployment&amp;quot;&amp;gt;
				&amp;lt;RunSynchronous&amp;gt;
					&amp;lt;RunSynchronousCommand&amp;gt;
						&amp;lt;Order&amp;gt;1&amp;lt;/Order&amp;gt;
						&amp;lt;Path&amp;gt;net user Administrator /active:Yes&amp;lt;/Path&amp;gt;
						&amp;lt;WillReboot&amp;gt;Never&amp;lt;/WillReboot&amp;gt;
					&amp;lt;/RunSynchronousCommand&amp;gt;
					&amp;lt;RunSynchronousCommand&amp;gt;
						&amp;lt;Order&amp;gt;3&amp;lt;/Order&amp;gt;
						&amp;lt;Path&amp;gt;net user Administrator /fullname:&amp;quot;Administrator&amp;quot;&amp;lt;/Path&amp;gt;
						&amp;lt;WillReboot&amp;gt;Never&amp;lt;/WillReboot&amp;gt;
					&amp;lt;/RunSynchronousCommand&amp;gt;
					&amp;lt;RunSynchronousCommand&amp;gt;
						&amp;lt;Order&amp;gt;2&amp;lt;/Order&amp;gt;
						&amp;lt;Path&amp;gt;net user Administrator /comment:&amp;quot;Administrator&amp;quot;&amp;lt;/Path&amp;gt;
						&amp;lt;WillReboot&amp;gt;Never&amp;lt;/WillReboot&amp;gt;
					&amp;lt;/RunSynchronousCommand&amp;gt;
				&amp;lt;/RunSynchronous&amp;gt;
			&amp;lt;/component&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-Security-SPP-UX&amp;quot;&amp;gt;
				&amp;lt;SkipAutoActivation&amp;gt;true&amp;lt;/SkipAutoActivation&amp;gt;
			&amp;lt;/component&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-Shell-Setup&amp;quot;&amp;gt;
				&amp;lt;ComputerName&amp;gt;lstb2016_pure&amp;lt;/ComputerName&amp;gt;
				&amp;lt;RegisteredOrganization&amp;gt;lstb2016_pure&amp;lt;/RegisteredOrganization&amp;gt;
				&amp;lt;RegisteredOwner&amp;gt;lstb2016_pure&amp;lt;/RegisteredOwner&amp;gt;
			&amp;lt;/component&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-UnattendedJoin&amp;quot;&amp;gt;
				&amp;lt;Identification&amp;gt;
					&amp;lt;JoinWorkgroup&amp;gt;WORKGROUP&amp;lt;/JoinWorkgroup&amp;gt;
				&amp;lt;/Identification&amp;gt;
			&amp;lt;/component&amp;gt;
		&amp;lt;/settings&amp;gt;
		&amp;lt;settings pass=&amp;quot;windowsPE&amp;quot;&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-International-Core-WinPE&amp;quot;&amp;gt;
				&amp;lt;InputLocale&amp;gt;0804:00000804&amp;lt;/InputLocale&amp;gt;
				&amp;lt;SystemLocale&amp;gt;zh-CN&amp;lt;/SystemLocale&amp;gt;
				&amp;lt;UILanguage&amp;gt;zh-CN&amp;lt;/UILanguage&amp;gt;
				&amp;lt;UILanguageFallback&amp;gt;zh-CN&amp;lt;/UILanguageFallback&amp;gt;
				&amp;lt;UserLocale&amp;gt;zh-CN&amp;lt;/UserLocale&amp;gt;
				&amp;lt;SetupUILanguage&amp;gt;
					&amp;lt;UILanguage&amp;gt;zh-CN&amp;lt;/UILanguage&amp;gt;
				&amp;lt;/SetupUILanguage&amp;gt;
			&amp;lt;/component&amp;gt;
			&amp;lt;component name=&amp;quot;Microsoft-Windows-Setup&amp;quot;&amp;gt;
				&amp;lt;Diagnostics&amp;gt;
					&amp;lt;OptIn&amp;gt;false&amp;lt;/OptIn&amp;gt;
				&amp;lt;/Diagnostics&amp;gt;
				&amp;lt;DynamicUpdate&amp;gt;
					&amp;lt;Enable&amp;gt;false&amp;lt;/Enable&amp;gt;
					&amp;lt;WillShowUI&amp;gt;OnError&amp;lt;/WillShowUI&amp;gt;
				&amp;lt;/DynamicUpdate&amp;gt;
				&amp;lt;ImageInstall&amp;gt;
					&amp;lt;OSImage&amp;gt;
						&amp;lt;WillShowUI&amp;gt;OnError&amp;lt;/WillShowUI&amp;gt;
						&amp;lt;InstallFrom&amp;gt;
							&amp;lt;MetaData&amp;gt;
								&amp;lt;Key&amp;gt;/IMAGE/NAME&amp;lt;/Key&amp;gt;
								&amp;lt;Value&amp;gt;Windows 10 Enterprise 2016 LTSB&amp;lt;/Value&amp;gt;
							&amp;lt;/MetaData&amp;gt;
						&amp;lt;/InstallFrom&amp;gt;
					&amp;lt;/OSImage&amp;gt;
				&amp;lt;/ImageInstall&amp;gt;
				&amp;lt;UserData&amp;gt;
					&amp;lt;AcceptEula&amp;gt;true&amp;lt;/AcceptEula&amp;gt;
				&amp;lt;/UserData&amp;gt;
			&amp;lt;/component&amp;gt;
		&amp;lt;/settings&amp;gt;
	&amp;lt;/Unattended&amp;gt;
	&amp;lt;Tweaks&amp;gt;
		&amp;lt;Settings&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;InternetExplorer&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Main\Isolation&amp;quot;&amp;gt;PMIL&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Main\Isolation64Bit&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;OneDrive&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;OneDrive\DisableFileSyncNGSC&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;TCPIPSettings&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;parameters\EnableICMPRedirect&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;parameters\IGMPLevel&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;WindowsDefender&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Windows Defender\DisableAntiSpyware&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;WindowsUpdate&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WindowsUpdate\ExcludeWUDriversInQualityUpdate&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;MRT\DontOfferThroughWUAU&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;DriverSearching\SearchOrderConfig&amp;quot;&amp;gt;2&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Preferences\ModelDownloadAllowed&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Device Metadata\PreventDeviceMetadataFromNetwork&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;CrashControl&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;CrashControl\CrashDumpEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;CrashControl\LogEvent&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;CrashControl\AutoReboot&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;AppCompat&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;.NETFramework\OnlyUseLatestCLR&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AppCompat\DisablePCA&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AppCompat\DisableInventory&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;DesktopTweaks&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\SubscribedContent-310093Enabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Desktop\ScreenSaverIsSecure&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\DisableNotificationCenter&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;NewStartPanel\{5399E694-6CE5-4D6C-8FCE-1D8870FDCBA0}&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;NewStartPanel\{59031a47-3f72-44a7-89c5-5595fe6b30ee}&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;NewStartPanel\{F02C1A0D-BE21-4350-88B0-7367FC96EF3C}&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;NewStartPanel\{20D04FE0-3AEA-1069-A2D8-08002B30309D}&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\SoftLandingEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;UAC&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\EnableInstallerDetection&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\ConsentPromptBehaviorAdmin&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;System&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\EnableFirstLogonAnimation&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;Explorer&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\NoCDBurning&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\MMTaskbarEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\TaskbarSmallIcons&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\TaskbarGlomLevel&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\EnableAutoTray&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\NoRecentDocsHistory&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\ConfirmFileDelete&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;cmd\HideBasedOnVelocityId&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{031E4825-7B94-4dc3-B131-E946B44C8DD5}\System.IsPinnedToNameSpaceTree&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\NavPaneShowAllFolders&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\NavPaneExpandToCurrentFolder&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\LaunchTo&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ControlPanel\AllItemsIconView&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ControlPanel\StartupPage&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;OperationStatusManager\EnthusiastMode&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\ShowTaskViewButton&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\HideFileExt&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\StartButtonBalloonTip&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\FolderContentsInfoTip&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\ShowInfoTip&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\EnableBalloonTips&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\ClearRecentDocsOnExit&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;Privacy&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Windows Search\AllowCortana&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Search\DeviceHistoryEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Search\HistoryViewEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\RotatingLockScreenEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AnqpCache\OsuRegistrationStatus&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\SmartScreenEnabled&amp;quot;&amp;gt;Off&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Internet Explorer\PhishingFilter\Enabledv9&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;MicrosoftEdge\PhishingFilter\Enabledv9&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\LogonType&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;FlipAhead\FPEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\SystemPaneSuggestionsEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\Start_TrackProgs&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\AllowLocation&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\AllowExperimentation&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AdvertisingInfo\Enabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{9231CB4C-BF57-4AF3-8C55-FDA7BFCC04C5}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;LooselyCoupled\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{E390DF20-07DF-446D-B962-F5C953062741}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{E83AF229-8640-4D18-A213-E22675EBB2C3}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{A8804298-2D5F-42E3-9531-9C8C39EB29CE}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{D89823BA-7180-4B81-B50C-7E471E6121A3}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{21157C1F-2651-4CC1-90CA-1F28B02263F6}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{992AFA70-6F47-4148-B3E9-3003349C1548}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{C1D23ACC-752B-43E5-8448-8D0E519CD6D6}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{235B668D-B2AC-4864-B49C-ED1084F6C9D3}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{E5323777-F976-4f5b-9B55-B94699C46E44}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{7D7E8402-7C54-4821-A34E-AEEFD62DED93}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{B19F89AF-E3EB-444B-8DEA-202575A71599}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{2297E4E2-5DBE-466D-A12B-0F8286F0D9CA}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{9D9E0118-1807-4F2E-96E4-2CE57142E196}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{52079E78-A92B-413F-B213-E8FE35712E72}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{8BC668CF-7728-45BD-93F8-CF2B3B41D7AB}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;{2EEF81BE-33FA-4800-9670-1CD474972C3F}\Value&amp;quot;&amp;gt;Deny&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;SmartGlass\BluetoothPolicy&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;SmartGlass\UserAuthPolicy&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;User Profile\HttpAcceptLanguageOptOut&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;TIPC\Enabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\ShowFrequent&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Explorer\ShowRecent&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Advanced\Start_TrackDocs&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\SubscribedContent-338393Enabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;System\DontDisplayLastUserName&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\RotatingLockScreenOverlayEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AppHost\EnableWebContentEvaluation&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;InputPersonalization\RestrictImplicitInkCollection&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;TrainedDataStore\HarvestContacts&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;InputPersonalization\RestrictImplicitTextCollection&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\SilentInstalledAppsEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;CloudContent\DisableWindowsConsumerFeatures&amp;quot;&amp;gt;1&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;features\PaidWifi&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;features\WiFiSenseOpen&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;AppSettings\Skype-UserConsentAccepted&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Settings\AcceptedPrivacyPolicy&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\OemPreInstalledAppsEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;ContentDeliveryManager\PreInstalledAppsEnabled&amp;quot;&amp;gt;0&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
		&amp;lt;/Settings&amp;gt;
		&amp;lt;Services&amp;gt;
			&amp;lt;TweakGroup name=&amp;quot;services&amp;quot;&amp;gt;
				&amp;lt;Tweak name=&amp;quot;BITS\BITS&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;CDPUserSvc\CDPUserSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;PimIndexMaintenanceSvc\PimIndexMaintenanceSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;DsSvc\DsSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;TrkWks\TrkWks&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;MSDTC\MSDTC&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Dnscache\Dnscache&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;EntAppSvc\EntAppSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;iphlpsvc\iphlpsvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Spooler\Spooler&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;LanmanServer\LanmanServer&amp;quot;&amp;gt;3&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;SNMPTRAP\SNMPTRAP&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;SysMain\SysMain&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;lmhosts\lmhosts&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;Themes\Themes&amp;quot;&amp;gt;3&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;TrustedInstaller\TrustedInstaller&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;wuauserv\wuauserv&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WpnUserService\WpnUserService&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WpnService\WpnService&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;icssvc\icssvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;LicenseManager\LicenseManager&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;wisvc\wisvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WinHttpAutoProxySvc\WinHttpAutoProxySvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WlanSvc\WlanSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;LanmanWorkstation\LanmanWorkstation&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;WwanSvc\WwanSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;OneSyncSvc\OneSyncSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
				&amp;lt;Tweak name=&amp;quot;DmEnrollmentSvc\DmEnrollmentSvc&amp;quot;&amp;gt;4&amp;lt;/Tweak&amp;gt;
			&amp;lt;/TweakGroup&amp;gt;
		&amp;lt;/Services&amp;gt;
		&amp;lt;ExtraServices&amp;gt;&amp;lt;/ExtraServices&amp;gt;
	&amp;lt;/Tweaks&amp;gt;
	&amp;lt;ApplyOptions&amp;gt;
		&amp;lt;ImageTasks&amp;gt;
			&amp;lt;Task&amp;gt;imageSaveRebuild&amp;lt;/Task&amp;gt;
			&amp;lt;Task&amp;gt;imageFormatWim&amp;lt;/Task&amp;gt;
			&amp;lt;Task&amp;gt;imageOptionsCreateIso&amp;lt;/Task&amp;gt;
		&amp;lt;/ImageTasks&amp;gt;
	&amp;lt;/ApplyOptions&amp;gt;
	&amp;lt;Execution&amp;gt;
		&amp;lt;Remove&amp;gt;&amp;lt;/Remove&amp;gt;
		&amp;lt;Change&amp;gt;&amp;lt;/Change&amp;gt;
		&amp;lt;Add&amp;gt;
			&amp;lt;Item type=&amp;quot;Placeholder&amp;quot;&amp;gt;
				&amp;lt;Index&amp;gt;0&amp;lt;/Index&amp;gt;
			&amp;lt;/Item&amp;gt;
		&amp;lt;/Add&amp;gt;
	&amp;lt;/Execution&amp;gt;
	&amp;lt;Registry&amp;gt;&amp;lt;/Registry&amp;gt;
&amp;lt;/Preset&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
">win10_lstb_2016æœ€åä¸€æ¬¡ç²¾ç®€</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/shi-yong-resilio-sync-bu-shu-tong-bu-fu-wu-qi/"" data-c="
          &lt;p&gt;&lt;strong&gt;å®˜ç½‘åœ°å€&lt;/strong&gt;ï¼š&lt;a href=&#34;https://www.resilio.com/individuals/&#34;&gt;https://www.resilio.com/individuals/&lt;/a&gt;&lt;br&gt;
&lt;strong&gt;å®‰è£…è¯´æ˜&lt;/strong&gt;ï¼š&lt;a href=&#34;https://help.resilio.com/hc/en-us/articles/206178924-Installing-Sync-package-on-Linux&#34;&gt;https://help.resilio.com/hc/en-us/articles/206178924-Installing-Sync-package-on-Linux&lt;/a&gt;ï¼ŒLinuxå®‰è£…åŒ…é“¾æ¥å¯ä»æ­¤å¤„è·å–&lt;/p&gt;
&lt;h1 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h1&gt;
&lt;p&gt;Resilio Syncï¼ˆæ›¾ç»åä¸ºâ€œBitTorrent Syncâ€ï¼‰æ˜¯ç”± BitTorrent å…¬å¸å¼€å‘çš„ä¸“æœ‰çš„å¯¹ç­‰ç½‘ç»œæ•°æ®åŒæ­¥å·¥å…·ï¼Œå¯åœ¨ Windowsã€OS Xã€Linuxã€Androidã€iOS å’Œ FreeBSDä¸Šä½¿ç”¨ã€‚å…¶å¯åœ¨å±€åŸŸç½‘ã€äº’è”ç½‘ä¸Šé€šè¿‡å®‰å…¨çš„ã€åˆ†å¸ƒå¼çš„P2PæŠ€æœ¯åœ¨ä¸åŒè®¾å¤‡ä¹‹é—´åŒæ­¥æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h1&gt;
&lt;p&gt;Resilio Syncä½¿ç”¨P2Påè®®åŒæ­¥è½¯ä»¶ã€‚è¯¥åè®®ç”¨äºåœ¨å¤šä¸ªè®¾å¤‡é—´ä¼ é€’å¤§æ–‡ä»¶æ—¶éå¸¸æœ‰æ•ˆï¼Œä¸ÂµTorrentå’ŒBitTorrentä½¿ç”¨çš„åè®®ç±»ä¼¼ ã€‚Resilio Syncä¸­ï¼Œç”¨æˆ·æ•°æ®å¹¶ä¸åœ¨äº‘ç«¯ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æœ¬åœ°ç¡¬ç›˜ä¸­ï¼Œå› æ­¤åœ¨åŒæ­¥æ•°æ®æ—¶éœ€è¦è‡³å°‘ä¸€å°æŒæœ‰æ•°æ®çš„è®¡ç®—æœºå¤„äºå¼€æœºçŠ¶æ€ã€‚Resilio Syncä½¿ç”¨åœ¨è®¡æ•°æ¨¡å¼ä¸­AES-128å¯†é’¥ï¼Œè¯¥å¯†é’¥å¯éšæœºç”Ÿæˆï¼Œæˆ–ç”±ç”¨æˆ·è®¾ç½®ã€‚åœ¨Resilio Syncä¸­è¯¥å¯†é’¥ç§°ä¸ºsecretï¼Œå¯å‘ŠçŸ¥ç»™å…¶ä»–ç”¨æˆ·ä»¥ä¾¿å…±äº«æ•°æ®ã€‚æ•°æ®æ˜¯ç›´æ¥ä»ä¸€å°è®¾å¤‡ä¸Šå‘é€åˆ°å¦ä¸€å°è®¾å¤‡ä¸­ï¼Œå› æ­¤éœ€è¦æ•°æ®æ‰€åœ¨è®¾å¤‡åœ¨ç½‘ç»œä¸Šå¯è®¿é—®ã€‚å¦‚æœåŸè®¾å¤‡ä¸å¯è®¿é—®ï¼Œåˆ™æ•°æ®ç”±å…¶ä»–èŠ‚ç‚¹ä¼ æ’­ï¼Œè¿™äº›ä¼ æ’­èŠ‚ç‚¹æ— éœ€çŸ¥é“åŸå…ˆçš„secretï¼Œä½†åªæœ‰çŸ¥é“secretçš„èŠ‚ç‚¹æ‰èƒ½è§£ç å¹¶æŸ¥çœ‹æ•°æ®ã€‚&lt;br&gt;
å¯ä»¥å°†secretå‘ŠçŸ¥ç»™æŸä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·å°±å°†è¯¥èŠ‚ç‚¹åŠ å…¥åˆ°åŒæ­¥ç³»ç»Ÿä¸­ï¼Œä½¿å…¶å¯ä»¥è®¿é—®æ•°æ®ã€‚å½“åˆ›å»ºæ–°èŠ‚ç‚¹æ—¶ï¼Œç”¨æˆ·å¯ä»¥å°†åŸsecretå‘ŠçŸ¥ç»™æ–°èŠ‚ç‚¹ï¼›è‹¥å‡ºäºå®‰å…¨æ€§è€ƒè™‘ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä¸€æ¬¡æ€§ä½¿ç”¨çš„secretã€‚ç”¨æˆ·è¿˜å¯ä»¥é€šè¿‡Resilio Syncå®¢æˆ·ç«¯ç”Ÿæˆä¸€ä¸ªåªè¯»çš„secretï¼Œè¿™æ ·å½“æ–°èŠ‚ç‚¹æ¥æ”¶åˆ°è¿™ä¸ªsecretæ—¶ï¼Œåªèƒ½æŸ¥çœ‹æ–‡ä»¶è€Œæ— æ³•ä¿®æ”¹ã€‚&lt;br&gt;
Resilio Syncå¯¹éœ€è¦åŒæ­¥çš„æ–‡ä»¶å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œå”¯ä¸€çš„é™åˆ¶å°±æ˜¯ä¸åŒçš„åŒæ­¥è®¾å¤‡ä¸­éƒ½éœ€è¦æœ‰è¶³å¤Ÿçš„ç©ºé—´å®¹çº³æ‰€è¦åŒæ­¥çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¼˜ç¼ºç‚¹&#34;&gt;ä¼˜ç¼ºç‚¹&lt;/h1&gt;
&lt;p&gt;Resilio Syncæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå…¶ä¸éœ€è¦ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œå‡ ä¹ä¸å—å­˜å‚¨ç©ºé—´å’Œæµé‡é™åˆ¶ã€‚ç”±äºResilio Syncæ˜¯ä¸€æ¬¾é‡‡ç”¨BitTorrentåè®®çš„P2PåŒæ­¥å·¥å…·ï¼Œä¼ è¾“é€Ÿåº¦åŸºæœ¬ä¸Šåªå—ç”¨æˆ·ç½‘ç»œå¸¦å®½çš„åˆ¶çº¦ï¼Œå®ƒå¯ä»¥æ”¯æŒå¤šäººåŒæ—¶åŒæ­¥ï¼Œè€Œä¸”è¶Šå¤šäººå¯¹æ–‡ä»¶å¤¹è¿›è¡ŒåŒæ­¥ï¼Œåˆ™åŒæ­¥é€Ÿåº¦è¶Šå¿«ã€‚å®ƒæ”¯æŒå¤šå¹³å°ï¼Œå¯ä»¥é€šè¿‡å¯†é’¥è¿›è¡Œæ–‡ä»¶åˆ†äº«ã€‚&lt;br&gt;
ç”±äºResilio Syncçš„æ•°æ®ä¸åœ¨äº‘ç«¯ï¼Œè€Œæ˜¯å­˜å‚¨åœ¨æœ¬åœ°ï¼Œæ‰€ä»¥æ‹¥æœ‰æ–‡ä»¶çš„ç”µè„‘éœ€è¦ä¿æŒåœ¨çº¿ï¼Œæ‰èƒ½åŒæ­¥åˆ°å…¶ä»–ç”µè„‘å»ã€‚è€Œä¸”ç”±äºé‡‡ç”¨ç±»ä¼¼BTçš„åè®®ï¼Œå› æ­¤åœ¨æŸäº›ç¦ç”¨BTä¸‹è½½çš„åœºæ™¯ä¸­å¯èƒ½ä¼šå—åˆ°å½±å“ã€‚&lt;/p&gt;
&lt;h1 id=&#34;éƒ¨ç½²&#34;&gt;éƒ¨ç½²&lt;/h1&gt;
&lt;p&gt;å°†ä»¥åœ¨ Linux ä¸Šéƒ¨ç½²æœåŠ¡èŠ‚ç‚¹æä¾›å…±äº«æ–‡ä»¶å¤¹ï¼Œåœ¨ Windows ä¸Šä»¥åªè¯»æ–¹å¼è·å–æ–‡ä»¶ä¸ºä¾‹&lt;/p&gt;
&lt;h2 id=&#34;linuxä¸Šéƒ¨ç½²èŠ‚ç‚¹&#34;&gt;Linuxä¸Šéƒ¨ç½²èŠ‚ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½å¹¶å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;wget https://download-cdn.resilio.com/2.7.2.1375/RPM/resilio-sync-2.7.2.1375-1.x86_64.rpm
rpm -ivh resilio-sync-2.7.2.1375-1.x86_64.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®‰è£…å®Œæˆåé»˜è®¤æœåŠ¡åä¸º&lt;code&gt;resilio-sync&lt;/code&gt;ï¼Œé…ç½®æ–‡ä»¶è·¯å¾„&lt;code&gt;/etc/resilio-sync/config.json&lt;/code&gt;ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤&lt;code&gt;rslsync --dump-sample-config&lt;/code&gt;æŸ¥çœ‹é…ç½®æ–‡ä»¶æ¨¡æ¿è¿›è¡Œç›¸åº”è°ƒæ•´&lt;br&gt;
2. ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/resilio-sync/config.json
    {
        &amp;quot;storage_path&amp;quot;: &amp;quot;/resilio-sync&amp;quot;,
        &amp;quot;pid_file&amp;quot;: &amp;quot;/var/run/resilio-sync/sync.pid&amp;quot;,
        &amp;quot;listening_port&amp;quot; : 12345, 
        //&amp;quot;use_upnp&amp;quot;: true,
        //&amp;quot;download_limit&amp;quot;: 0,
        //&amp;quot;upload_limit&amp;quot;: 10240,
        //&amp;quot;directory_root&amp;quot;: &amp;quot;/data/sync/&amp;quot;,
        &amp;quot;webui&amp;quot;: {
            &amp;quot;listen&amp;quot;: &amp;quot;0.0.0.0:80&amp;quot;,
            // &amp;quot;login&amp;quot;: &amp;quot;admin&amp;quot;,
            // &amp;quot;password&amp;quot;: &amp;quot;admin123456&amp;quot;,
            // &amp;quot;allow_empty_password&amp;quot;: false
        }
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¯åŠ¨æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl start resilio-sync
systemctl enable resilio-sync
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é¡µé¢è®¾ç½®&#34;&gt;é¡µé¢è®¾ç½®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨&lt;code&gt;IP:8888&lt;/code&gt;ï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­&lt;code&gt;webui&lt;/code&gt;ä¸­å¡«å†™çš„ç”¨æˆ·åå¯†ç ç™»å½•åå¯çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶éœ€è¦å¡«å†™å½“å‰èŠ‚ç‚¹çš„åå­—ï¼Œå¡«å†™åä¸å¯æ›´æ”¹ã€‚æ­¤åå­—ä¸»è¦ç”¨ä½œä¸å…¶ä»–èŠ‚ç‚¹é€šä¿¡æ—¶æ˜¾ç¤ºä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡è¿›å…¥å¯ä»¥çœ‹åˆ°ç•Œé¢å¦‚ä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©å³ä¸Šè§’çš„è®¾ç½®æŒ‰é’®ã€‚é€‰æ‹©&lt;code&gt;General&lt;/code&gt;ä¿®æ”¹&lt;code&gt;Language&lt;/code&gt;ä¸º&lt;code&gt;ä¸­æ–‡&lt;/code&gt;ï¼Œç„¶ååˆ·æ–°é¡µé¢&lt;/li&gt;
&lt;li&gt;åœ¨æœåŠ¡å™¨ä¸Š&lt;code&gt;/data/sync/&lt;/code&gt;è·¯å¾„ä¸‹åˆ›å»ºæ–‡ä»¶&lt;code&gt;ResilioSyncPro.btskey&lt;/code&gt; å¹¶å¡«å†™å¦‚ä¸‹å†…å®¹ï¼š&lt;code&gt;ä»¥ä¸‹è®¸å¯è¯ä¸ºç½‘ç»œè·å–ï¼Œä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œå¦‚å•†ä¸šä½¿ç”¨è¯·å®˜ç½‘è´­ä¹°è®¸å¯è¯&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¿®æ”¹hostsï¼Œé˜²æ­¢è¯ä¹¦éªŒè¯å¯¼è‡´proä¸¢å¤±ï¼Œåœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ ï¼š127.0.0.1 license.resilio.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;tos1_eyJzIjogIm5xNjRmNGgrWDhxWHFiaWRodEtyTWdNcEVaMHdYaUJLbExwSWFwSDUxMzkyaHdqMFFpQWJOTTFGd2JGWGpJQ0FhV2w4V3ZidVpPenpITXZmNTRLWU1XVGVsVFZjS3JGQUpYMmVUMGttT2lCMm8zQ1BjVFd2VWlCLzRsTTlQN1FsalVSVzREMVFNUktWcEhwaG5IVzIvZmdqN05MaThmMnhNa1NDNERwRVVpQ0pXZHpPWXFIbW1OMFdOUEt6QWg4RkJoanNvUVNBa1hKN09WS0c5WElkVTczWnNlVWNxWW1WVUo0WDc0S05wYmlYZk0vemlsU2pIK0U5Y3ZMZ092YlplVjlCZXlveDNwT3pRYUJOeFNQT3FYWEpTRHE1bVRhRXMvWGppVGtJV21uVHJudVJnb01DZ0RBOHdBS3RIYjRvVkduWm1jeU8xNlhoQ3dvL2VkeHFxZz09IiwgImQiOiAiZXlKamF5STZJQ0ppZEc5ell6RmZaWGxLYW1ONVNUWkpRMHBJVlZoYVYxRldUakZsVldoWVZrWldNMUpXU2tWVVJURlZZVEZXZFZacVVsUmpNMUp5Wkcxd1FsUkVRVFZWUXpsMVZraGtUVk5wT0hsUFEzUjNUV3hrVjJOck1IaFVhelI1VXpOQ1QyUlhiR3RTYlVwb1ZtNUtURlJZVVRWVFJ6RXpWVVU1TVZwdVdtRlVWbVJ1VVd4Sk1sWXlXbkZsYm14b1ZWaHdlbEV3TVVKamJXaE5XVlYwZFZwVVJYZFRSbEpOVW5wU2JGbHBkRXBVVlRGSlYwUnNWMkV5ZEZSalZFRXdUbTVuTUdKck1WZE5SR2N3VmxWYVRsSnJNVzlqUlVwMFlVUlNlRTFJYkZaWmExRXhVbTFzTUUxSVpIZE5iR3hVWWxob1IyTkVSbE5sVlhkeVVsWm9OV0ZGUlROUmJWSnVWVEZDYUdKSVZrWkxNV3hZVmpGb2FtSjVPVWxSVlRsT1ltMTNNbE5zUlRCYWFsSlFWbXBCZUZRd1VrSlpha1Z5V20wMWRVNXVXblZSTTJnell6RldTazlGTVU1aFNHeFFUREE1TUZOc2JFWldTRkpXVlVaSk1sUkRkRkpXUjJoUlYwUlNjbGxyTlhGTlJHeFpXbmwwYjJGVk1VeFZWMVpVU3pCd2RFNTZVblpUYW14SVpEQnJlVkZ0TVVsalJGWXdWRlZTZEZreWVIcE9WbWhLV1Zkb1MxZEdSa1pqTUhSMVVsaFdlbE13VGpSaVJsSjVUVmR3ZFdOSGFFNWFlbFV3WW0xNGJFOVVhRzlUU0VWeVVWaE5NV1ZZVWxSTlIyTTVVRk5KYzBsRFNtcGFRMGsyU1VOS2JHVlZjSGRaYlRGaFpHdHNjV0l5Wkd4bFZYQTJXa2N4VDFKSFNYbFZiWGhLWVcwNWJsTlhOVTlPVjBwMFZHeEdhbUpVYUhCVVJVNUNZVlpyZVdSSVFtRlJNR3N5VTFWT1MyVkdWblJXVkVKVFltczFjbGt3V2s1TmJVVjNaVVYwYW1Wc1NsaFpla0pyVFVaRmVGRnRlRmRUUlRWNVUxZHNNMW93YkhSV2FsSnFVVEJyTWxOVlVrcGxSVFZGVmxSV1RsWkdhekJVVlZKQ1l6QnNSRk50Y0dwTk1VWndWREpzUW1GWFNqVk5WelZQVmtaYVVGbDZRbTloYkZwelZsZHNUVkV3Um5CYVJXaHpaREZ3VkZOVVdrcFJNSEF6VjJ4b1MyVnRTWGxPVjJocFVUQnNlbE5WVGt0a2JVNUpWVzV3U21GdE9XNWFXR3hMWWxkSmVXVkhkR0ZYUlhCVlYyeGtUMlZXY0ZsVlYyeFFZVlZHY0ZSdGMzaFVNVlpIVjJ4YVZGSkhVa05VV0hCVFYyeEdWbFZVUmxoU1ZGWkhWV3RXVTFWV1VrWk9WVnBYVFZWd1UxUlhjRk5VVmxsNFdqSnNUVkV3Um5CWmVrcFhZVWRTU1ZSWGJGQmhWVVkwV214bmQyTXdiRVJUYlhoc1UwVkdjRlF5YkVKbFZURlZWVlJHVUZaRlZYbFVNRkpDWkRKYVVsQlVNR2xtVVQwOUlpd2dJbWx1Wm04aU9pQjdJbTl5WkdWeVNXUWlPaUFpWVc1aGRXeG1ZVzUxYTJadWIydHViVzF6TURZNWNXbzNOQ0lzSUNKaGNpSTZJREFzSUNKbGVIQWlPaUF5TVRRMU9URTJPREF3TENBaVkzSmxJam9nTVRRNE1UUXlOek00Tnl3Z0luTjJZMGxrSWpvZ0luTjVibU5RY204eElpd2dJbU56ZENJNklDSnZMV2MxTlU1elNHTldWU0lzSUNKemRtTkRiMlJsSWpvZ0luTjVibU5RY204aUxDQWlZMmxrSWpvZ0ltZHFaV295YmlJc0lDSjBlWEJsSWpvZ0luQmxjbk52Ym1Gc0lpd2dJbTl3ZEhNaU9pQjdJbVp2YkdSbGNsTmxZM0psZENJNklDSkJWMFJOVHpSRlUxTkJUbGhCV2xKVE1rMHlORlpCTmtkQlIxSlhWVFJRTlZZaUxDQWljMlZoZEhNaU9pQXhmWDBzSUNKbGVIQWlPaUF5TVRRMU9URTJPREF3ZlE9PSJ9
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;åœ¨&lt;code&gt;è®¸å¯è¯&lt;/code&gt;ä¸­é€‰æ‹©&lt;code&gt;åº”ç”¨è®¸å¯è¯&lt;/code&gt;ï¼Œå¡«å†™è·¯å¾„ä¸º&lt;code&gt;/data/sync/ResilioSyncPro.btskey&lt;/code&gt;ï¼Œç‚¹å‡»&lt;code&gt;æ‰“å¼€&lt;/code&gt;åï¼Œå¯çœ‹åˆ°åº”ç”¨å·²ä½¿ç”¨è®¸å¯è¯æ¿€æ´»&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºéœ€è¦å…±äº«æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œå…±äº«çš„æ–‡ä»¶å¤¹éœ€è¦rslsyncç”¨æˆ·å¯è®¿é—®ï¼Œå¦åˆ™ä¼šæœ‰æƒé™é—®é¢˜ï¼Œæ·»åŠ å¤±è´¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir /data/sync/share
chown -R rslsync:rslsync /data/sync/
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ·»åŠ å…±äº«æ–‡ä»¶åˆ°æ­¤ç›®å½•ï¼Œé€‰æ‹©å·¦ä¸Šè§’çš„â€œâ•â€ç„¶åé€‰æ‹©&lt;code&gt;é«˜çº§æ–‡ä»¶å¤¹&lt;/code&gt;æˆ–è€…&lt;code&gt;æ ‡å‡†æ–‡ä»¶å¤¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;é«˜çº§æ–‡ä»¶å¤¹&lt;/code&gt;ä¸­æ·»åŠ å…±äº«æ–‡ä»¶æˆåŠŸåï¼Œä¼šæ˜¾ç¤ºå¦‚ä¸‹ç•Œé¢ã€‚å‹¾é€‰&lt;code&gt;æ–°ç”¨æˆ·ï¼ˆæˆ‘é‚€è¯·çš„ï¼‰å¿…é¡»ç”±æˆ‘æ‰¹å‡†&lt;/code&gt;åï¼Œæ‰€æœ‰é€šè¿‡åˆ†äº«é“¾æ¥åŠ å…¥çš„èŠ‚ç‚¹éƒ½éœ€è¦ç»è¿‡åŒæ„åæ‰èƒ½æ­£å¼åŠ å…¥ã€‚ç”±äºæˆ‘ä»¬éœ€è¦è®¿é—®èŠ‚ç‚¹å¯æ§ï¼Œæ‰€ä»¥é€‰æ‹©æ­¤ç±»å‹æ–‡ä»¶å¤¹å…±äº«ã€‚&lt;br&gt;
å®Œæˆåå…³é—­çª—å£å¯çœ‹åˆ°å½“å‰æœ‰å…±äº«æ–‡ä»¶å¤¹&lt;code&gt;share&lt;/code&gt;ï¼Œåœ¨çº¿ç”¨æˆ·&lt;code&gt;0/0&lt;/code&gt;ï¼Œè¿™æ˜¯ç”±äºæˆ‘ä»¬è¿˜æ²¡æœ‰ç”¨æˆ·èŠ‚ç‚¹åŠ å…¥ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥åœ¨Windowsä¸Šé¢éƒ¨ç½²èŠ‚ç‚¹åŠ å…¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;windowsä¸Šéƒ¨ç½²èŠ‚ç‚¹&#34;&gt;Windowsä¸Šéƒ¨ç½²èŠ‚ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½Windowsä¸Šå¯¹åº”ç‰ˆæœ¬å®‰è£…åŒ…ï¼Œå®˜ç½‘åœ°å€&lt;a href=&#34;https://www.resilio.com/individuals/&#34;&gt;https://www.resilio.com/individuals/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å®‰è£…Resilio-Syncï¼Œå¹¶å¡«å†™å½“å‰èŠ‚ç‚¹åå­—&lt;/li&gt;
&lt;li&gt;æ·»åŠ é“¾æ¥æˆ–ç§˜é’¥&lt;/li&gt;
&lt;li&gt;è¾“å…¥æˆ‘ä»¬ä¹‹å‰åœ¨Linuxä¸Šéƒ¨ç½²çš„syncä¸­æ·»åŠ çš„å…±äº«æ–‡ä»¶å¤¹çš„å…±äº«é“¾æ¥&lt;/li&gt;
&lt;li&gt;é€‰æ‹©ä¿æŒè·¯å¾„ï¼Œå¹¶å‹¾&lt;code&gt;é€‰é€‰æ‹©æ€§åŒæ­¥&lt;/code&gt;ï¼Œç­‰å¾…æœåŠ¡ç«¯åŒæ„&lt;/li&gt;
&lt;li&gt;ç™»å½•å…±äº«æ–‡ä»¶å¤¹çš„æœåŠ¡ç«¯ï¼ŒåŒæ„èŠ‚ç‚¹åŠ å…¥&lt;/li&gt;
&lt;li&gt;åŠ å…¥èŠ‚ç‚¹æˆåŠŸï¼Œå¼€å§‹åŒæ­¥&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»Syncä¸­å…±äº«æ–‡ä»¶å¤¹åç§°ï¼Œè¿›å…¥æ–‡ä»¶å¤¹å¯çœ‹åˆ°ä¸æºæœåŠ¡å™¨ä¸ŠåŒæ ·çš„æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œåªä¸è¿‡æœ¬åœ°æ–‡ä»¶ä¸­æ‰€æœ‰æ–‡ä»¶å‡æ·»åŠ æœ‰åç¼€ .rslsï¼Œä¸”æ–‡ä»¶å›¾æ ‡ä¸ºåŠé€æ˜çŠ¶ã€‚æ­¤æ—¶åŒå‡»æ–‡ä»¶æˆ–å³é”®é€‰ä¸­æ–‡ä»¶é€‰æ‹©åŒæ­¥åˆ°æ­¤è®¾å¤‡å³å¯ä¸‹è½½æ–‡ä»¶æŸ¥çœ‹ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ä½¿ç”¨æ³¨æ„äº‹é¡¹&#34;&gt;ä½¿ç”¨æ³¨æ„äº‹é¡¹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœåªæ˜¯åœ¨è‡ªå·±ä¸åŒè®¾å¤‡é—´å¤‡ä»½ä¸ªäººæ–‡ä»¶ï¼Œä¸»é”®å»ºç«‹åˆ†äº«çš„æ—¶å€™è®°å¾—æŠŠ**&amp;quot;éœ€è¦æ—¶ä½¿ç”¨ä¸­ç»§æœåŠ¡å™¨&amp;quot;**é€‰é¡¹å»æ‰ï¼Œä»¥ä¿ä¸ªäººä¿¡æ¯å®‰å…¨&lt;/li&gt;
&lt;/ol&gt;
">ä½¿ç”¨Resilio Syncéƒ¨ç½²åŒæ­¥æœåŠ¡å™¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-jian-hua-zui-jian-fu-wu/"" data-c="
          &lt;h1 id=&#34;ç¦ç”¨æœåŠ¡çš„æ–¹æ³•&#34;&gt;ç¦ç”¨æœåŠ¡çš„æ–¹æ³•&lt;/h1&gt;
&lt;h2 id=&#34;æ–¹æ³•ä¸€&#34;&gt;æ–¹æ³•ä¸€&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œservices.mscæ‰“å¼€æœåŠ¡ç®¡ç†é¢æ¿&lt;/li&gt;
&lt;li&gt;åŒå‡»éœ€è¦æ“ä½œçš„æœåŠ¡æˆ–è€…å³é”®é€‰æ‹©å±æ€§&lt;/li&gt;
&lt;li&gt;å¸¸è§„é€‰é¡¹å¡å¯åŠ¨ç±»å‹ä¸ºç¦ç”¨ï¼Œæ¢å¤é€‰é¡¹å¡ä¸­ç¬¬ä¸€æ¬¡å¤±è´¥ã€ç¬¬äºŒæ¬¡å¤±è´¥ã€åç»­å¤±è´¥å‡é€‰æ‹©æ— æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ–¹æ³•äºŒ&#34;&gt;æ–¹æ³•äºŒ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œregeditæ‰“å¼€æ³¨å†Œè¡¨ç®¡ç†å™¨&lt;/li&gt;
&lt;li&gt;HKEY_LOCAL_MACHINE--&amp;gt;SYSTEM--&amp;gt;CurrentControlSet--&amp;gt;Services&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°ç›¸åº”çš„æœåŠ¡åç§°ï¼ˆä¸æ˜¯æ˜¾ç¤ºåç§°ï¼‰ç‚¹å‡»&lt;/li&gt;
&lt;li&gt;Startçš„å€¼ä¿®æ”¹ä¸ºåå…­è¿›åˆ¶çš„4ï¼Œè¡¨ç¤ºç¦ç”¨&lt;/li&gt;
&lt;li&gt;FailureActionsä¸­çš„0010ã€0018ã€0020ä¸­ç¬¬5åˆ—çš„å€¼æ”¹ä¸º00ï¼Œè¡¨ç¤ºå¤±è´¥åæ— æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç²¾ç®€ä¹‹åå‰©ä½™æœåŠ¡&#34;&gt;ç²¾ç®€ä¹‹åå‰©ä½™æœåŠ¡&lt;/h1&gt;
&lt;h2 id=&#34;ç²¾ç®€ä¹‹åç³»ç»Ÿå‰©ä½™æœåŠ¡&#34;&gt;ç²¾ç®€ä¹‹åç³»ç»Ÿå‰©ä½™æœåŠ¡&lt;/h2&gt;
&lt;p&gt;ç²¾ç®€ä¹‹åä»¥ä¸‹æœåŠ¡æ— æ³•ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DNSç¼“å­˜&lt;code&gt;ä¸ä½¿ç”¨æ­¤æœåŠ¡æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢DNSæ±¡æŸ“&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SMBæœåŠ¡ï¼Œå³æ–‡ä»¶åˆ†äº«&lt;/li&gt;
&lt;li&gt;è¿œç¨‹æ¡Œé¢æœåŠ¡&lt;/li&gt;
&lt;li&gt;é˜²ç«å¢™&lt;/li&gt;
&lt;li&gt;NetBIOSï¼ˆé˜²æ­¢æ‰«æï¼‰ç­‰åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å®é™…åªå‰©ä¸‹35ä¸ªæœåŠ¡ï¼ˆ&lt;strong&gt;å®é™…ä»…éœ€è¦29ä¸ª&lt;/strong&gt;ï¼‰ï¼Œå¼€æœºä»…å ç”¨0.5Gï¼ˆ546MBï¼‰å†…å­˜ï¼Œé€‚åˆè€æœºå™¨æˆ–è€…è™šæ‹Ÿæœºï¼Œå…·ä½“æœåŠ¡åç§°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Background Tasks Infrastructure Service&lt;/li&gt;
&lt;li&gt;Base Filtering Engine&lt;code&gt;å¦‚æœç¦ç”¨é˜²ç«å¢™åï¼Œå¯ä»¥ç¦ç”¨æ­¤æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;COM+ Event System&lt;/li&gt;
&lt;li&gt;CoreMessaging&lt;/li&gt;
&lt;li&gt;Cryptographic Services&lt;/li&gt;
&lt;li&gt;DCOM Server Process Launcher&lt;code&gt;ã€é˜²æ­¢è¢«æ‰«æï¼Œæ­¤æœåŠ¡æ˜¯è¯¸å¤šmacåœ°å€æ‰«æå·¥å…·åˆ©ç”¨çš„å¼±ç‚¹ï¼Œä¾èµ–æœåŠ¡RPCï¼Œå³135ç«¯å£ã€‘&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Device Setup Manager&lt;code&gt;è®¾ç½®æ‰‹åŠ¨è§¦å‘ï¼Œä¸è¦è®¾ç½®ä¸ºè‡ªåŠ¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;DHCP Client&lt;code&gt;ã€ä¸å»ºè®®å…³é—­ï¼Œå…³é—­ä¹‹åæ— æ³•æ˜¾ç¤ºä»»åŠ¡æ ç½‘ç»œçŠ¶æ€ã€‘å¦‚æœæ˜¯æ‰‹åŠ¨è®¾ç½®IPï¼Œå³æ— æ³•è‡ªåŠ¨è·å–IPï¼Œç½‘ç»œå†…æ²¡æœ‰éƒ¨ç½²DHCPæœåŠ¡ï¼Œå¯ä»¥ç¦ç”¨æ­¤æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Group Policy Client&lt;/li&gt;
&lt;li&gt;Local Session Manager&lt;/li&gt;
&lt;li&gt;Network List Service&lt;code&gt;ã€ä¸å»ºè®®å…³é—­ï¼Œå…³é—­ä¹‹åæ— æ³•æ˜¾ç¤ºä»»åŠ¡æ ç½‘ç»œçŠ¶æ€ã€‘DHCP ClientæœåŠ¡ç¦ç”¨åï¼Œè¿™ä¸ªæœåŠ¡ä¹Ÿå¯ä»¥ç¦ç”¨äº†&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Network Location Awareness&lt;code&gt;ã€ä¸å»ºè®®å…³é—­ï¼Œå…³é—­ä¹‹åæ— æ³•æ˜¾ç¤ºä»»åŠ¡æ ç½‘ç»œçŠ¶æ€ã€‘DHCP ClientæœåŠ¡ç¦ç”¨åï¼Œè¿™ä¸ªæœåŠ¡ä¹Ÿå¯ä»¥ç¦ç”¨äº†&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Network Store Interface Service&lt;/li&gt;
&lt;li&gt;Plug and Play&lt;/li&gt;
&lt;li&gt;Power&lt;/li&gt;
&lt;li&gt;Remote Procedure Callï¼ˆRPCï¼‰&lt;code&gt;ã€é˜²æ­¢è¢«æ‰«æï¼Œæ­¤æœåŠ¡æ˜¯è¯¸å¤šmacåœ°å€æ‰«æå·¥å…·åˆ©ç”¨çš„å¼±ç‚¹ã€‘&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RPC Endpoint Mapper&lt;/li&gt;
&lt;li&gt;Security Accounts Manager&lt;/li&gt;
&lt;li&gt;Shell Hardware Detection&lt;/li&gt;
&lt;li&gt;State Repository Service&lt;/li&gt;
&lt;li&gt;System Event Notification Service&lt;/li&gt;
&lt;li&gt;System Events Broker&lt;/li&gt;
&lt;li&gt;Task Scheduler&lt;/li&gt;
&lt;li&gt;Themes&lt;code&gt;ä¸ç”¨ä¸»é¢˜ç®¡ç†ï¼Œç›´æ¥å¯ä»¥ç¦ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Tile Data model server&lt;/li&gt;
&lt;li&gt;Time Broker&lt;/li&gt;
&lt;li&gt;User Manager&lt;/li&gt;
&lt;li&gt;User Profile Service&lt;/li&gt;
&lt;li&gt;Windows Audio&lt;code&gt;ä¸éœ€è¦æä¾›éŸ³é¢‘æœåŠ¡ï¼Œå¯ä»¥ç²¾ç®€æ­¤æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows Audio Endpoint Builder&lt;code&gt;ä¸éœ€è¦æä¾›éŸ³é¢‘æœåŠ¡ï¼Œå¯ä»¥ç²¾ç®€æ­¤æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows Connection Manager&lt;/li&gt;
&lt;li&gt;Windows Event Log&lt;/li&gt;
&lt;li&gt;Windows Firewall&lt;code&gt;å¦‚æœä¸ç”¨é˜²ç«å¢™ï¼Œå¯ä»¥ç²¾ç®€æ­¤æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows Font Cache Service&lt;/li&gt;
&lt;li&gt;Windows Management Instrumentation&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;äºŒæ¬¡ç¦ç”¨æœåŠ¡&#34;&gt;äºŒæ¬¡ç¦ç”¨æœåŠ¡&lt;/h2&gt;
&lt;p&gt;ç²¾ç®€ç³»ç»Ÿå¼€æœºä¹‹åï¼Œè¿˜æœ‰ä»¥ä¸‹2ä¸ªåº”ç”¨éœ€è¦æ‰‹åŠ¨ç²¾ç®€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Portable Device Enumerator Service&lt;/li&gt;
&lt;li&gt;AppX Deployment Service(AppXSVC)&lt;/li&gt;
&lt;li&gt;WinHTTP Web Proxy Auto-Discovery Service&lt;/li&gt;
&lt;li&gt;åœ¨ç½‘å¡é…ç½®ä¸­å¯ä»¥å°†IPv6ä¹Ÿå‹¾é€‰æ‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å½»åº•å…³é—­135ç«¯å£&#34;&gt;å½»åº•å…³é—­135ç«¯å£&lt;/h2&gt;
&lt;p&gt;è¿è¡Œdcomcnfgæ‰“å¼€ç»„ä»¶æœåŠ¡--&amp;gt;è®¡ç®—æœº--&amp;gt;æˆ‘çš„ç”µè„‘--&amp;gt;å³é”®é€‰æ‹©å±æ€§--&amp;gt;é»˜è®¤å±æ€§é€‰é¡¹å¡ä¸­å–æ¶ˆâ€œåœ¨æ­¤è®¡ç®—æœºä¸Šå¯ç”¨åˆ†å¸ƒå¼COMâ€--&amp;gt;é»˜è®¤åè®®é€‰é¡¹å¡ä¸­åˆ é™¤â€œé¢å‘è¿æ¥çš„TCP/IPâ€&lt;/p&gt;
">windowsç®€åŒ–--æœ€ç®€æœåŠ¡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/zi-zhi-nai-cha-5-kuan/"" data-c="
          &lt;p&gt;ã€å£°æ˜ã€‘ï¼š&lt;br&gt;
æ‰€ç”¨èŒ¶å¶å¯ä»¥æ˜¯å¥½çš„èŒ¶å¶ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç¢èŒ¶ï¼ˆç¢èŒ¶ä¸æ˜¯ä¸å¥½ï¼‰ã€‚&lt;br&gt;
å¥½èŒ¶å¶éœ€è¦ç†¬åˆ¶çš„æ—¶é—´é•¿ï¼Œä½†æ˜¯å‘³é“æ›´ç«‹ä½“ï¼ˆé€šä¿—çš„ç†è§£ï¼Œåº”è¯¥å«å¯¡æ·¡ï¼‰ï¼›é«˜ç¢èŒ¶å¶æ²«ï¼Œç†¬åˆ¶çš„æ—¶é—´çŸ­ï¼Œå‘³é“æµ“ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆå¥½å¤šå¥¶èŒ¶åº—é€‰ç”¨é«˜ç¢èŒ¶å¶æ²«åˆ¶ä½œå¥¶èŒ¶çš„åŸå› ï¼Œä¸€æ˜¯èŠ‚çº¦æˆæœ¬ï¼ŒäºŒæ˜¯åˆ¶ä½œæ—¶é—´çŸ­ï¼Œä¸‰æ˜¯èŒ¶å‘³æµ“ã€‚&lt;br&gt;
ä¸‹é¢çš„æ•™ç¨‹æ‰€ç”¨çš„èŒ¶å¶ä¹Ÿæ˜¯é«˜ç¢èŒ¶å¶ï¼Œé‡‡ç”¨çš„æ˜¯&lt;code&gt;æ­£å±±å°ç§+è‹±çº¢ä¹å·&lt;/code&gt;çš„æ··åˆæˆ–è€…æ˜¯&lt;code&gt;å¤§çº¢è¢+è‹±çº¢ä¹å·&lt;/code&gt;çš„æ··åˆï¼Œå¦‚æœä¸ç”¨é«˜ç¢èŒ¶å¶ï¼Œé€‚å½“åŠ é•¿ç…®èŒ¶çš„æ—¶é—´å³å¯&lt;br&gt;
å¥¶èŒ¶å…¶å®åœ¨çƒ­çš„æ—¶å€™å–æ›´åŠ é¦™é†‡ï¼Œç„¶è€Œå¤å¤©æ›´å¤šæ—¶å€™å–œæ¬¢å–å†·é¥®ï¼Œè¿™æ—¶å€™æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥åŠ å†°å—ï¼Œè¿™æ ·ä¼šå¯¼è‡´å¥¶èŒ¶è¢«ç¨€é‡Š&lt;code&gt;å¦‚æœä¸æƒ³å–è¢«ç¨€é‡Šçš„å¥¶èŒ¶ï¼Œå¯ä»¥é‡‡å–ä¸‹é¢çš„æ–¹å¼&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†å¥¶èŒ¶è£…ç“¶ï¼Œæ”¾å…¥å†·è—ï¼Œä¸€æ™šä¸Šæˆ–è€…ä¸€ä¸Šåˆå°±å¯ä»¥å†·å´&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç„¦ç³–è‹±ä¹å¥¶èŒ¶&#34;&gt;ç„¦ç³–è‹±ä¹å¥¶èŒ¶&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æ–™&#34;&gt;ç”¨æ–™&lt;/h2&gt;
&lt;p&gt;è‹±çº¢ä¹å·çº¢èŒ¶å¤§çº¦20g&lt;br&gt;
ç‰›å¥¶500ml&lt;br&gt;
é»„å†°ç³–æˆ–è€…ç»µç™½ç³–50g&lt;/p&gt;
&lt;h2 id=&#34;åšæ³•&#34;&gt;åšæ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç†¬ç³–è‰²&lt;br&gt;
å°å¥¶é”…ä¸Šç‚‰å­ï¼Œå…ˆå¤§ç«çƒ§çƒ­ï¼Œç„¶åè½¬å°ç«ï¼Œå°†ç³–å€’å…¥é”…ä¸­ï¼Œæ…¢æ…¢æ…æ‹Œï¼Œç›´åˆ°åŒ–æˆç„¦ç³–çŠ¶ï¼ˆå†’é»„è‰²çš„å°æ³¡æ³¡ï¼‰ï¼Œæ…¢æ…¢å€’å…¥ç‰›å¥¶ã€‚&lt;br&gt;
åˆšå€’å…¥ç‰›å¥¶çš„æ—¶å€™ï¼Œç„¦ç³–ä¼šå‡ç»“ï¼Œä¸è¦ç´§å¼ ï¼Œè¿™æ˜¯å› ä¸ºå¥¶æ˜¯å‡‰çš„ï¼Œå¯¼è‡´ç„¦ç³–å˜å†·å˜ç¡¬ï¼Œåªéœ€è¦æ…¢æ…¢æ…æ‹Œï¼Œç„¦ç³–å°±ä¼šå†æ¬¡æ…¢æ…¢èåŒ–ã€‚&lt;br&gt;
&lt;code&gt;è¿™ä¸€æ­¥åƒä¸‡ä¸è¦ç›–é”…ç›–ï¼Œä¸ç„¶æº¢å‡ºæ¥ï¼Œç‰›å¥¶ä¼šæµªè´¹å¾ˆå¤š&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¥¶èŒ¶&lt;br&gt;
ç­‰ç„¦ç³–å…¨éƒ¨èåŒ–äº†ï¼Œå†å€’å…¥å‡†å¤‡å¥½çš„è‹±çº¢ä¹å·èŒ¶å¶ï¼Œå¤§æ¦‚å†ç†¬åˆ¶5åˆ†é’Ÿå·¦å³å°±å·®ä¸å¤šå¯ä»¥äº†ã€‚ç„¶åå°†åšå¥½çš„ç„¦ç³–å¥¶èŒ¶è¿‡ä¸€ä¸‹ç­›å­ï¼Œå°†èŒ¶å¶è¿‡æ»¤æ‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ¸¯å¼å¥¶èŒ¶&#34;&gt;æ¸¯å¼å¥¶èŒ¶&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æ–™-2&#34;&gt;ç”¨æ–™&lt;/h2&gt;
&lt;p&gt;è‹±çº¢ä¹å·çº¢èŒ¶å¤§çº¦50g&lt;br&gt;
ä¸‰èŠ±æ·¡å¥¶500mlï¼ˆç›¸æ¯”å…¶ä»–ç‰›å¥¶ï¼Œè„‚è‚ªæ›´å¤šï¼Œæ‰€ä»¥æ›´åŠ é¦™é†‡ï¼‰&lt;br&gt;
é»„å†°ç³–æˆ–è€…ç»µç™½ç³–50g&lt;/p&gt;
&lt;h2 id=&#34;åšæ³•-2&#34;&gt;åšæ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ‹‰èŒ¶&lt;br&gt;
&lt;code&gt;çœŸæ­£çš„æ‹‰èŒ¶æ˜¯ä¸æ–­çš„è¿‡æ»¤ï¼Œç”¨èŒ¶ä¸çƒ­ä¹¦ä¸æ–­çš„æ’å‡»ï¼Œæ¿€å‘èŒ¶å‘³ï¼Œä½†è¿™ç§æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼Œä¸é€‚åˆå®¶é‡Œåšï¼Œä¸‹é¢çš„æ–¹å¼æ˜¯ç®€åŒ–ç‰ˆ&lt;/code&gt;&lt;br&gt;
ç”¨é”…çƒ§å¼€æ°´ä¹‹ååŠ å…¥è‹±çº¢ä¹å·èŒ¶å¶ï¼Œç…®å¤§çº¦5åˆ†é’Ÿï¼ŒæœŸé—´ç”¨å‹ºå­å–å‡ºéƒ¨åˆ†èŒ¶æ°´å°ä¸€ä¸‹ï¼Œå–èµ·æ¥è¦æ¯”å¹³æ—¶å–çš„èŒ¶æ¶©å¾ˆå¤šï¼Œå¦‚æœä¸æ¶©åˆ™éœ€è¦ç»§ç»­åŠ èŒ¶å¶ï¼Œç„¶åä¸åœçš„æ…æ‹Œï¼Œç›´åˆ°å‘æ¶©ä¸ºæ­¢ï¼Œå› ä¸ºä¹‹åè¦å…‘æ·¡å¥¶ï¼Œå¦‚æœä¸æ¶©åˆ™å…‘å‡ºæ¥çš„å¥¶èŒ¶å‘³ä¸æµ“&lt;br&gt;
&lt;code&gt;ç”¨å¤§ç‚¹çš„é”…ä¼šå¥½ä¸€äº›ï¼Œå®¹æ˜“æº¢å‡ºï¼Œæœ€å¥½å®ˆç€ï¼Œä¸ç„¶æº¢å‡ºä¹‹åæ”¶æ‹¾èµ·æ¥å¯éº»çƒ¦&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¥¶èŒ¶&lt;br&gt;
ç…®å®ŒèŒ¶ä¹‹åç”¨èŒ¶æ¼è¿‡æ»¤ï¼Œè¿‡æ»¤å‡ºèŒ¶æ°´ä¹‹åè¶çƒ­åŠ å…¥å‡†å¤‡å¥½çš„ç³–ï¼Œæ…æ‹Œè‡³èåŒ–ã€‚æ¥ä¸‹æ¥æ˜¯å…‘å¥¶ï¼Œæˆ‘æ‰ç”¨çš„æ¯”ä¾‹æ˜¯&lt;code&gt;å¥¶:èŒ¶=1:2&lt;/code&gt;ã€‚å¦‚æœæƒ³èŒ¶å‘³æµ“ä¸€äº›ï¼Œé¢œè‰²æ·±ä¸€ç‚¹å¯ä»¥å¤šåŠ èŒ¶ï¼›å¦‚æœæƒ³è¦æ›´åŠ æµ“é¦™é†‡åšï¼Œå¯ä»¥å¤šåŠ æ·¡å¥¶ã€‚åŠ å¥¶ä¹‹åæ…æ‹Œå‡åŒ€å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä¸‹é¢å‡ æ¬¾å¥¶èŒ¶çƒ­é‡åé«˜ï¼Œå–œæ¬¢å¥èº«çš„ç¾å¥³æ³¨æ„ï¼Œå–å®Œå¤šåœ¨è·‘æ­¥æœºä¸Šçˆ¬ä¸€ä¼šå„¿&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å·§å…‹åŠ›å¥¶èŒ¶&#34;&gt;å·§å…‹åŠ›å¥¶èŒ¶&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æ–™-3&#34;&gt;ç”¨æ–™&lt;/h2&gt;
&lt;p&gt;è‹±çº¢ä¹å·çº¢èŒ¶å¤§çº¦20g&lt;br&gt;
æ·¡å¥¶æ²¹40ml&lt;br&gt;
å·§å…‹åŠ›é…±ï¼ˆå¤šå°‘è‡ªå·±å®šå¤ºï¼Œæˆ‘è‡ªå·±ç”¨çš„æ˜¯40gï¼Œå’Œæ·¡å¥¶æ²¹çš„é‡å·®ä¸å¤šï¼‰&lt;br&gt;
é»„å†°ç³–æˆ–è€…ç»µç™½ç³–20g&lt;/p&gt;
&lt;h2 id=&#34;åšæ³•-3&#34;&gt;åšæ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ¶èŒ¶&lt;br&gt;
ç…®å¥½çš„å¼€æ°´ä¸­æ”¾å…¥è‹±çº¢ä¹å·èŒ¶å¶ï¼Œå°ç«ç»§ç»­ç…®5åˆ†é’Ÿï¼Œç…®å®Œä¹‹åç”¨èŒ¶æ¼è¿‡æ»¤å‡ºèŒ¶æ°´&lt;/li&gt;
&lt;li&gt;å¥¶èŒ¶&lt;br&gt;
å°†å¥¶æ²¹å’Œå·§å…‹åŠ›é…±å€’å…¥æ¯å­ä¸­ï¼Œæ…æ‹Œå‡åŒ€ï¼Œæ…æ‹Œæˆå·§å…‹åŠ›å¥¶æ²¹ç³ŠçŠ¶ï¼Œç„¶åå°†èŒ¶æ°´å€’å…¥å·§å…‹åŠ›å¥¶æ²¹ç³Šä¸­ï¼Œæ…æ‹Œå‡åŒ€å³å¯&lt;br&gt;
&lt;code&gt;å¦‚æœå–œæ¬¢æ°´æœå‘³ï¼Œå¯ä»¥å°†å·§å…‹åŠ›é…±æ¢æˆæ°´æœé…±æˆ–è€…å„ç§é²œæœæ±&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é¦™æµ“ä¸æ»‘å¥¶èŒ¶&#34;&gt;é¦™æµ“ä¸æ»‘å¥¶èŒ¶&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æ–™-4&#34;&gt;ç”¨æ–™&lt;/h2&gt;
&lt;p&gt;è‹±çº¢ä¹å·çº¢èŒ¶å¤§çº¦5g&lt;br&gt;
å¼€æ°´500ml&lt;br&gt;
ç‰›å¥¶100ml&lt;br&gt;
æ·¡å¥¶æ²¹40mlï¼ˆä¸€å‹ºå­ï¼‰&lt;br&gt;
é»„å†°ç³–æˆ–è€…ç»µç™½ç³–25g&lt;/p&gt;
&lt;h2 id=&#34;åšæ³•-4&#34;&gt;åšæ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ¶èŒ¶&lt;br&gt;
å°†çº¢èŒ¶ç”¨æ²¸æ°´å†²æ³¡çº¦5åˆ†é’Ÿï¼Œè½»è½»æ‘‡æ™ƒä¸€ä¸‹ï¼Œè®©èŒ¶å¶å……åˆ†æµ¸æ³¡ï¼ˆå¦‚æœå–œæ¬¢èŒ¶å‘³æµ“çš„å¯ä»¥å¤šæ³¡ä¸€ä¼šæˆ–è€…å¤šåŠ ä¸€äº›èŒ¶å¶ï¼‰ï¼Œç„¶åè¿‡æ»¤æ‰èŒ¶å¶&lt;/li&gt;
&lt;li&gt;å¥¶èŒ¶&lt;br&gt;
å°†ç‰›å¥¶å€’å…¥èŒ¶æ°´ä¸­ï¼Œæ…æ‹Œå‡åŒ€ï¼›åŠ å…¥æ·¡å¥¶æ²¹ï¼Œæ…æ‹Œå‡åŒ€ï¼›åŠ å…¥ç™½ç³–ï¼Œæ…æ‹Œå‡åŒ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ³¢éœ¸é»‘ç³–å¥¶èŒ¶&#34;&gt;æ³¢éœ¸é»‘ç³–å¥¶èŒ¶&lt;/h1&gt;
&lt;h2 id=&#34;ç”¨æ–™-5&#34;&gt;ç”¨æ–™&lt;/h2&gt;
&lt;p&gt;è‹±çº¢ä¹å·çº¢èŒ¶å¤§çº¦10g&lt;br&gt;
é»‘ç³–çç &lt;br&gt;
ç‚¼ä¹³&lt;br&gt;
ç‰›å¥¶100ml&lt;/p&gt;
&lt;h2 id=&#34;åšæ³•-5&#34;&gt;åšæ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ³¡å‘é»‘ç³–çç &lt;br&gt;
æ°´çƒ§å¼€åæ”¾å…¥é»‘ç³–çç ï¼Œè½»è½»æ…æ‹Œä¸€ä¸‹åï¼Œç›–é”…ç›–ç»§ç»­å°ç«ç…®25åˆ†é’Ÿï¼Œç„¶åå†ä¿æ¸©ç„–25åˆ†é’Ÿï¼Œæå‡ºåå†·æ°´å†²æ´—ï¼Œç„¶åæ²¥å¹²å¤‡ç”¨&lt;/li&gt;
&lt;li&gt;åˆ¶èŒ¶&lt;br&gt;
æ°´ç…®æ²¸ä¹‹ååŠ å…¥çº¢èŒ¶ï¼Œç„¶åç»§ç»­å°ç«ç…®å¤§çº¦5åˆ†é’Ÿï¼ˆèŒ¶éœ€è¦æµ“ä¸€äº›ï¼‰ï¼Œç…®å¥½ä¹‹åè¿‡æ»¤å‡ºèŒ¶æ°´&lt;/li&gt;
&lt;li&gt;å¥¶èŒ¶&lt;br&gt;
è¿‡æ»¤å‡ºçš„èŒ¶æ°´ä¸­ç«‹å³å†²å…¥æ¸©çƒ­çš„ç‰›å¥¶æˆ–è€…æ·¡å¥¶ï¼Œå¥¶èŒ¶æ¯”ä¸º&lt;code&gt;å¥¶:èŒ¶=3:1&lt;/code&gt;ï¼Œç„¶åå†åŠ å…¥ä¸€å‹ºç‚¼ä¹³ï¼ˆä¹Ÿå¯ä»¥ç»§ç»­åŠ å…¥ä¸€å‹ºå·§å…‹åŠ›é…±ï¼‰ï¼Œæ…æ‹Œå‡åŒ€ã€‚æœ€ååŠ å…¥çç ï¼Œå†°ç®±å†·è—ä¸€å°æ—¶å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
">è‡ªåˆ¶å¥¶èŒ¶ï¼ˆ5æ¬¾ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/golang-di-san-zhang-bian-liang/"" data-c="
          &lt;h1 id=&#34;å˜é‡ä½¿ç”¨æ³¨æ„äº‹é¡¹&#34;&gt;å˜é‡ä½¿ç”¨æ³¨æ„äº‹é¡¹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å˜é‡è¡¨ç¤ºå†…å­˜ä¸­çš„ä¸€ä¸ªå­˜å‚¨åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;è¯¥åŒºåŸŸæœ‰è‡ªå·±çš„åç§°ï¼ˆå˜é‡åï¼‰å’Œç±»å‹ï¼ˆæ•°æ®ç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;golangä½¿ç”¨å˜é‡çš„3ç§æ–¹å¼ï¼š
&lt;ol&gt;
&lt;li&gt;æŒ‡å®šå˜é‡ç±»å‹ï¼Œå£°æ˜åè‹¥ä¸èµ‹å€¼ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main()  {
    // intçš„é»˜è®¤å€¼æ˜¯0ï¼Œå…¶ä»–æ•°æ®ç±»å‹çš„é»˜è®¤å€¼åœ¨åé¢ä»‹ç»
    var i int
    fmt.Println(&amp;quot;i=&amp;quot;,i)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ ¹æ®å€¼è‡ªè¡Œåˆ¤æ–­å˜é‡ç±»å‹ï¼ˆç±»å‹æ¨å¯¼ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main()  {
    var i = 10.12
    fmt.Println(&amp;quot;i=&amp;quot;,i)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;çœç•¥varï¼Œ&lt;code&gt;:=&lt;/code&gt;å·¦è¾¹çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»å£°æ˜è¿‡çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main()  {
    i := &amp;quot;tom&amp;quot;
    fmt.Println(&amp;quot;i=&amp;quot;,i)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;å¤šå˜é‡å£°æ˜
&lt;ol&gt;
&lt;li&gt;ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå±€éƒ¨å˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main()  {
    // æ–¹å¼1ï¼š
    // var x, y, z int
    // fmt.Println(&amp;quot;x=&amp;quot;,x, &amp;quot;y=&amp;quot;,y, &amp;quot;z=&amp;quot;,z)

    // æ–¹å¼2:
    // var x, y, z = 100, &amp;quot;tom&amp;quot;, 888
    // fmt.Println(&amp;quot;x=&amp;quot;,x, &amp;quot;y=&amp;quot;,y, &amp;quot;z=&amp;quot;,z)

    // æ–¹æ³•3ï¼š
    x, y, z := 100, &amp;quot;tom&amp;quot;, 888
    fmt.Println(&amp;quot;x=&amp;quot;,x, &amp;quot;y=&amp;quot;,y, &amp;quot;z=&amp;quot;,z)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¸€æ¬¡æ€§å£°æ˜å¤šä¸ªå…¨å±€å˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// æ–¹æ³•1ï¼š
//var x = 100
//var y = &amp;quot;tom&amp;quot;
//var z = 888

// æ–¹æ³•2ï¼š
var(
    x = 100
    y = &amp;quot;tom&amp;quot;
    z = 888
)

func main()  {
    fmt.Println(&amp;quot;x=&amp;quot;,x, &amp;quot;y=&amp;quot;,y, &amp;quot;z=&amp;quot;,z)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;è¯¥åŒºåŸŸçš„æ•°æ®å€¼å¯ä»¥&lt;strong&gt;åœ¨åŒä¸€ç±»å‹èŒƒå›´å†…ä¸æ–­å˜åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main
import &amp;quot;fmt&amp;quot;
func main () {
    var i int =10
    i = 20
    i = 30
    fmt.Printf(&amp;quot;i=&amp;quot;,i)
    i = 1.2  // içš„ç±»å‹å˜ä¸ºfloatï¼Œä¸èƒ½æ”¹å˜æ•°æ®ç±»å‹
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;å˜é‡åœ¨åŒä¸€ä½œç”¨åŸŸï¼ˆåœ¨ä¸€ä¸ªå‡½æ•°æˆ–è€…ä»£ç å—ï¼‰å†…ä¸èƒ½é‡å&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var i int = 10
	i := 30 // å˜é‡åç§°é‡å¤
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;&lt;strong&gt;å˜é‡&lt;/strong&gt;=&lt;strong&gt;å˜é‡å&lt;/strong&gt;+&lt;strong&gt;æ•°æ®ç±»å‹&lt;/strong&gt;+&lt;strong&gt;å€¼&lt;/strong&gt;ï¼ˆè‡ªå®šä¹‰å€¼æˆ–è€…é»˜è®¤å€¼ï¼‰&lt;/li&gt;
&lt;li&gt;golangçš„å˜é‡å¦‚æœæ²¡æœ‰èµ‹åˆå§‹å€¼ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œæ¯”å¦‚inté»˜è®¤å€¼ä¸º0ã€stringé»˜è®¤å€¼ä¸ºç©ºä¸²ã€floaté»˜è®¤å€¼ä¸º0&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å˜é‡çš„å£°æ˜-åˆå§‹åŒ–å’Œèµ‹å€¼&#34;&gt;å˜é‡çš„å£°æ˜ã€åˆå§‹åŒ–å’Œèµ‹å€¼&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å£°æ˜å˜é‡&lt;br&gt;
åŸºæœ¬è¯­æ³•&lt;code&gt;var å˜é‡å æ•°æ®ç±»å‹&lt;/code&gt;æˆ–è€…&lt;code&gt;var å˜é‡å := å˜é‡åˆå§‹å€¼ï¼ˆè‡ªåŠ¨æ¨å¯¼å‡ºå˜é‡ç±»å‹ï¼‰&lt;/code&gt;&lt;br&gt;
ä¾‹å¦‚&lt;code&gt;var a int&lt;/code&gt;å£°æ˜intç±»å‹çš„å˜é‡aï¼Œ&lt;code&gt;var num1 float32&lt;/code&gt;å£°æ˜ä¸€ä¸ªå•ç²¾åº¦ç±»å‹çš„å˜é‡num1&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–å˜é‡&lt;br&gt;
å³åœ¨å£°æ˜å˜é‡çš„æ—¶å€™å°±èµ‹å€¼&lt;br&gt;
ä¾‹å¦‚&lt;code&gt;var a int = 45&lt;/code&gt;ï¼Œå¦‚æœå£°æ˜æ—¶å°±èµ‹å€¼ï¼Œå¯ä»¥çœç•¥æ•°æ®ç±»å‹&lt;code&gt;var a = 45&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å˜é‡èµ‹å€¼&lt;br&gt;
å£°æ˜å˜é‡æ—¶ä¸åˆå§‹åŒ–&lt;code&gt;var a int&lt;/code&gt;ï¼Œç„¶åå†èµ‹å€¼&lt;code&gt;a = 45&lt;/code&gt;ï¼Œå³å˜é‡èµ‹å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç¨‹åºä¸­ä½¿ç”¨&#34;&gt;ç¨‹åºä¸­â€œ+â€ä½¿ç”¨&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å½“å·¦å³ä¸¤è¾¹éƒ½æ˜¯æ•°å€¼å‹æ—¶ï¼Œåˆ™åšåŠ æ³•è¿ç®—&lt;/li&gt;
&lt;li&gt;å½“å·¦å³ä¸¤è¾¹éƒ½æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œåˆ™åšå­—ç¬¦ä¸²æ‹¼æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ•°æ®ç±»å‹åŸºæœ¬ä»‹ç»&#34;&gt;æ•°æ®ç±»å‹åŸºæœ¬ä»‹ç»&lt;/h1&gt;
&lt;p&gt;æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤å¤§ç±»ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹å’Œæ´¾ç”Ÿ/å¤æ‚æ•°æ®ç±»å‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;1-åŸºæœ¬æ•°æ®ç±»å‹&#34;&gt;1. åŸºæœ¬æ•°æ®ç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ•°å€¼å‹
&lt;ol&gt;
&lt;li&gt;æ•´æ•°ç±»å‹
&lt;ol&gt;
&lt;li&gt;intï¼ˆæœ‰ç¬¦å·ï¼‰
&lt;ol&gt;
&lt;li&gt;int8ï¼Œæœ‰ç¬¦å·ï¼Œå 1å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^7~2^7-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;int16ï¼Œæœ‰ç¬¦å·ï¼Œå 2å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^15~2^15-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;int32ï¼Œæœ‰ç¬¦å·ï¼Œå 4å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^31~2^31-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;int64ï¼Œæœ‰ç¬¦å·ï¼Œå 8å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^63~2^63-1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;uintï¼ˆæ— ç¬¦å·ï¼‰
&lt;ol&gt;
&lt;li&gt;uint8ï¼Œæ— ç¬¦å·ï¼Œå 1å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^8-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;uint16ï¼Œæ— ç¬¦å·ï¼Œå 2å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^16-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;uint32ï¼Œæ— ç¬¦å·ï¼Œå 4å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^32-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;uint64ï¼Œæ— ç¬¦å·ï¼Œå 8å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^64-1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨ç±»å‹è¯´æ˜
&lt;ol&gt;
&lt;li&gt;intï¼Œæœ‰ç¬¦å·
&lt;ol&gt;
&lt;li&gt;32ä½ç³»ç»Ÿå 4å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^31~2^31-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;64ä½ç³»ç»Ÿå 8å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;-2^63~2^63-1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;uintï¼Œæ— ç¬¦å·
&lt;ol&gt;
&lt;li&gt;32ä½ç³»ç»Ÿå 4å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^32-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;64ä½ç³»ç»Ÿå 8å­—èŠ‚ï¼ŒèŒƒå›´&lt;code&gt;0~2^64-1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;runeï¼Œç­‰ä»·int32ï¼Œè¡¨ç¤ºä¸€ä¸ªUnicodeç &lt;/li&gt;
&lt;li&gt;byteï¼Œç­‰ä»·uint8ï¼Œä½†éœ€è¦å­˜å‚¨å­—ç¬¦æ—¶é€‰ç”¨byte&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹ç±»å‹
&lt;ol&gt;
&lt;li&gt;float32ï¼Œå•ç²¾åº¦ï¼Œå 4å­—èŠ‚&lt;/li&gt;
&lt;li&gt;float64ï¼ŒåŒç²¾åº¦ï¼Œå 8å­—èŠ‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å­—ç¬¦å‹ï¼ˆæ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦å‹ï¼Œä½¿ç”¨byteæ¥ä¿å­˜çš„é‚£ä¸ªå­—æ¯å­—ç¬¦ï¼‰&lt;/li&gt;
&lt;li&gt;å¸ƒå°”å‹boolï¼Œåªå…è®¸å–å€¼trueæˆ–è€…falseï¼Œå 1å­—èŠ‚ï¼Œé€‚ç”¨äºé€»è¾‘è¿ç®—ï¼Œä¸€èˆ¬ç”¨äºæµç¨‹æ§åˆ¶&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²string&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ•´å‹ä½¿ç”¨ç»†èŠ‚&#34;&gt;æ•´å‹ä½¿ç”¨ç»†èŠ‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ•´æ•°ç±»å‹åˆ†æœ‰ç¬¦å·å’Œæ— ç¬¦å·ï¼Œintå’Œuintçš„å¤§å°å’Œç³»ç»Ÿæœ‰å…³&lt;/li&gt;
&lt;li&gt;æ•´å‹é»˜è®¤å£°æ˜ä¸ºintå‹ï¼ˆå³æ¨å¯¼ç±»å‹æ—¶ï¼Œé»˜è®¤ä¸ºintï¼‰ï¼Œä¾‹å¦‚&lt;code&gt;var n1 = 100&lt;/code&gt;ï¼Œä¸­çš„å˜é‡n1çš„æ•°æ®ç±»å‹é»˜è®¤ä¸ºint&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æŸä¸ªå˜é‡çš„å­—èŠ‚å¤§å°å’Œæ•°æ®ç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var n2 int64 = 10
    // %TæŸ¥çœ‹å˜é‡çš„ç±»å‹ï¼›unsafe.Sizeof()æ˜¯unsafeåŒ…çš„ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›å˜é‡çš„å ç”¨å­—èŠ‚æ•°
	fmt.Printf(&amp;quot;n2 çš„ç±»å‹ %T , n2 å ç”¨çš„å­—èŠ‚æ•° %d&amp;quot;,n2,unsafe.Sizeof(n2))
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ•´å‹å˜é‡åœ¨ä½¿ç”¨æ—¶ï¼ŒåŸåˆ™æ˜¯ä¿å°ä¸ä¿å¤§ï¼Œå³åœ¨ä¿è¯ç¨‹åºæ­£ç¡®è¿è¡Œä¸‹ï¼Œå°½é‡ä½¿ç”¨å ç”¨ç©ºé—´å°çš„æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚å¹´é¾„å¯ä»¥ä½¿ç”¨byteç±»å‹&lt;/li&gt;
&lt;li&gt;bitè®¡ç®—æœºä¸­æœ€å°çš„å­˜å‚¨å•ä½ï¼Œbyteæ˜¯è®¡ç®—æœºä¸­å­˜å‚¨çš„åŸºæœ¬å•å…ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æµ®ç‚¹å‹ä½¿ç”¨ç»†èŠ‚&#34;&gt;æµ®ç‚¹å‹ä½¿ç”¨ç»†èŠ‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æµ®ç‚¹æ•°åœ¨æœºå™¨ä¸­å­˜æ”¾å½¢å¼ï¼šæµ®ç‚¹æ•°=ç¬¦å·ä½+æŒ‡æ•°ä½+å°¾æ•°ä½&lt;code&gt;æµ®ç‚¹æ•°éƒ½æ˜¯æœ‰ç¬¦å·çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°¾æ•°éƒ¨åˆ†å¯èƒ½ä¸¢å¤±ï¼Œé€ æˆç²¾åº¦æŸå¤±&lt;code&gt;float64çš„ç²¾åº¦æ¯”float32çš„è¦å‡†ç¡®ï¼Œå¦‚æœè¦ä¿å­˜ç²¾åº¦é«˜çš„æ•°æ®ï¼Œåˆ™é¦–é€‰float64ã€‚é€šå¸¸æƒ…å†µä¸‹ä¹Ÿå»ºè®®ä½¿ç”¨float64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹ç±»å‹æœ‰å›ºå®šçš„èŒƒå›´å’Œå­—æ®µé•¿åº¦ï¼Œä¸å—å…·ä½“OSçš„å½±å“&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹å‹é»˜è®¤å£°æ˜ä½float64ç±»å‹&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹å‹å¸¸é‡æœ‰ä¸¤ç§è¡¨ç¤ºå½¢å¼ï¼šåè¿›åˆ¶&lt;sub&gt;ä¾‹å¦‚5.12&lt;/sub&gt;å’Œç§‘å­¦è®¡æ•°æ³•&lt;sub&gt;ä¾‹å¦‚5.12e2&lt;/sub&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å­—ç¬¦å‹ä½¿ç”¨ç»†èŠ‚&#34;&gt;å­—ç¬¦å‹ä½¿ç”¨ç»†èŠ‚&lt;/h3&gt;
&lt;p&gt;golangä¸­æ²¡æœ‰ä¸“é—¨çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå¦‚æœè¦å­˜å‚¨å•ä¸ªå­—ç¬¦ï¼ˆå­—æ¯ï¼‰ï¼Œä¸€èˆ¬ä½¿ç”¨byteæ¥ä¿å­˜ã€‚&lt;br&gt;
å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚goçš„å­—ç¬¦äº§æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºä¼ ç»Ÿçš„å­—ç¬¦ä¸²æ˜¯ç”±å­—ç¬¦ç»„æˆçš„ï¼Œè€Œgoçš„å­—ç¬¦ä¸²ä¸åŒï¼Œ&lt;strong&gt;å®ƒæ˜¯ç”±å­—èŠ‚ç»„æˆçš„&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;byteç±»å‹çš„å€¼ä½¿ç”¨çš„æ˜¯å•å¼•å·ï¼Œè€Œä¸æ˜¯åŒå¼•å·ã€‚å•å¼•å·ä»£è¡¨byteï¼ŒåŒå¼•å·æ˜¯å­—ç¬¦ä¸²string&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var c1 byte = &#39;a&#39;
	var c2 byte = &#39;1&#39;

	// å½“ç›´æ¥è¾“å‡ºbyteå€¼ï¼Œè¾“å‡ºçš„æ˜¯å¯¹åº”å­—ç¬¦çš„ASCIIç å€¼
	fmt.Printf(&amp;quot;c1=&amp;quot;,c1,&amp;quot;c2=&amp;quot;,c2)

	// å¦‚æœå¸Œæœ›è¾“å‡ºå¯¹åº”çš„å­—ç¬¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ ¼å¼åŒ–è¾“å‡º
	fmt.Printf(&amp;quot;\nc1=%c c2=%c\n&amp;quot;,c1,c2)

	// var c3 byte = &#39;æˆ‘&#39; //overflowæº¢å‡ºï¼Œâ€œæˆ‘â€ç±»å‹ä¸ºrune(ç­‰ä»·int32)
	var c3 int = &#39;æˆ‘&#39;
	fmt.Printf(&amp;quot;c3=%c c3å¯¹åº”çš„ç å€¼%d&amp;quot;,c3,c3)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¿å­˜çš„å­—ç¬¦åœ¨ASCIIç è¡¨ä¸­ï¼Œæ¯”å¦‚0-9ã€a-zã€A-Zç›´æ¥å¯ä»¥ä¿å­˜ä¸ºbyteï¼›å¦‚æœå¯¹åº”çš„ç å€¼å¤§äº255ï¼Œåˆ™éœ€è¦ä½¿ç”¨intç±»å‹ä¿å­˜ï¼›å¦‚æœéœ€è¦è¾“å‡ºå­—ç¬¦è€Œä¸æ˜¯ç å€¼ï¼Œåˆ™éœ€è¦è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼Œå³&lt;code&gt;fmt.Printf(&amp;quot;%c&amp;quot;,c1...)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å­—ç¬¦å¸¸é‡æ˜¯ç”¨å•å¼•å·&lt;code&gt;&#39;&#39;&lt;/code&gt;æ‹¬èµ·æ¥çš„å•ä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚&lt;code&gt;var c1 byte = &#39;a&#39;&lt;/code&gt;ã€&lt;code&gt;var c2 int = &#39;ä¸­&#39;&lt;/code&gt;ã€&lt;code&gt;var c3 byte = &#39;9&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;golangä½¿ç”¨utf-8ç¼–ç ï¼ŒæŸ¥è¯¢å­—ç¬¦å¯¹åº”çš„utf-8ç¼–ç &lt;a href=&#34;http://www.mytju.com/classcode/tools/encode_utf8.asp&#34;&gt;http://www.mytju.com/classcode/tools/encode_utf8.asp&lt;/a&gt;&lt;code&gt;è‹±æ–‡å­—ç¬¦å 1å­—èŠ‚ï¼Œä¸­æ–‡å­—ç¬¦å 3å­—èŠ‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å­—ç¬¦çš„æœ¬è´¨æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œæ‰€ä»¥ç›´æ¥è¾“å‡ºæ—¶ï¼Œè¾“å‡ºçš„æ˜¯è¯¥å­—ç¬¦å¯¹åº”çš„utf-8ç¼–ç çš„ç å€¼&lt;/li&gt;
&lt;li&gt;å¯ä»¥ç›´æ¥ç»™æŸä¸ªå˜é‡èµ‹ä¸€ä¸ªæ•°å­—ï¼Œç„¶åæŒ‰æ ¼å¼åŒ–è¾“å‡º&lt;code&gt;%c&lt;/code&gt;ï¼Œä¼šè¾“å‡ºè¯¥æ•°å­—å¯¹åº”çš„unicodeå­—ç¬¦&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ç±»å‹æ˜¯å¯ä»¥è¿›è¡Œè¿ç®—çš„ï¼Œç›¸å½“äºä¸€ä¸ªæ•´æ•°ï¼Œå› ä¸ºå®ƒå¯¹åº”æœ‰Unicode&lt;/li&gt;
&lt;li&gt;å­—ç¬¦å‹æœ¬è´¨ï¼š
&lt;ol&gt;
&lt;li&gt;å­—ç¬¦å‹å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ï¼Œéœ€è¦å°†å­—ç¬¦å¯¹åº”çš„ç å€¼ï¼ˆæ•´æ•°ï¼‰æ‰¾å‡ºæ¥
&lt;ol&gt;
&lt;li&gt;å­˜å‚¨ï¼šå­—ç¬¦--å¯¹åº”ç å€¼--äºŒè¿›åˆ¶--å­˜å‚¨&lt;/li&gt;
&lt;li&gt;è¯»å–ï¼šäºŒè¿›åˆ¶--ç å€¼--å­—ç¬¦--è¯»å–&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å­—ç¬¦å’Œç å€¼çš„å¯¹åº”å…³ç³»æ˜¯é€šè¿‡å­—ç¬¦ç¼–ç è¡¨å†³å®šçš„&lt;/li&gt;
&lt;li&gt;goè¯­è¨€çš„ç¼–ç éƒ½ç»Ÿä¸€æˆutf8ï¼Œéå¸¸æ–¹ä¾¿&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å­—ç¬¦ä¸²ä½¿ç”¨ç»†èŠ‚&#34;&gt;å­—ç¬¦ä¸²ä½¿ç”¨ç»†èŠ‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;golangçš„å­—ç¬¦ä¸²çš„å­—èŠ‚ä½¿ç”¨utf-8ç¼–ç è¡¨ç¤ºUnicodeæ–‡æœ¬ï¼Œä¸ä¼šå†æœ‰ä¸­æ–‡ä¹±ç çš„é—®é¢˜&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²ä¸€æ—¦èµ‹å€¼ï¼Œå°±æ— æ³•ä¿®æ”¹äº†ï¼Œå³&lt;strong&gt;åœ¨golangä¸­å­—ç¬¦ä¸²æ—¶ä¸å¯å˜çš„&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var c1 string = &amp;quot;abcdef&amp;quot;
	c1[0] = &#39;x&#39;  //æ— æ³•ä¿®æ”¹å­—ç¬¦ä¸²å†…å®¹ï¼Œæç¤ºæŠ¥é”™
	fmt.Printf(&amp;quot;c1= %s&amp;quot;,c1)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å­—ç¬¦ä¸²çš„ä¸¤ç§è¡¨ç¤ºå½¢å¼
&lt;ol&gt;
&lt;li&gt;åŒå¼•å·ï¼Œä¼šè¯†åˆ«è½¬ä¹‰å­—ç¬¦ï¼Œä¾‹å¦‚&lt;code&gt;&amp;quot;abc\n123&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åå¼•å·ï¼Œä»¥å­—ç¬¦ä¸²çš„åŸç”Ÿå½¢å¼è¾“å‡ºï¼ŒåŒ…æ‹¬æ¢è¡Œå’Œç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥å®ç°é˜²æ­¢æ”»å‡»ã€è¾“å‡ºæºä»£ç ç­‰æ•ˆæœï¼Œç±»ä¼¼linuxçš„shellä¸­çš„å•å¼•å·&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;func main () {
	var c1 = &amp;quot;hello &amp;quot; + &amp;quot;world&amp;quot;
	c1 += &amp;quot; haha!&amp;quot;
	fmt.Printf(&amp;quot;c1= %s&amp;quot;,c1)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å½“ä¸€è¡Œå­—ç¬¦äº§å¤ªé•¿æ—¶ï¼Œéœ€è¦ä½¿ç”¨åˆ°å¤šè¡Œå­—ç¬¦ä¸²ï¼Œå¯ä»¥åˆ†è¡Œå†™ï¼Œä½†æ˜¯&lt;code&gt;+&lt;/code&gt;å·å¿…é¡»ä¿ç•™åœ¨ä¸Šä¸€è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var c1 = &amp;quot;hello &amp;quot; + &amp;quot;world&amp;quot; +
	&amp;quot; haha!&amp;quot;
	fmt.Printf(&amp;quot;c1= %s&amp;quot;,c1)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-æ´¾ç”Ÿå¤æ‚æ•°æ®ç±»å‹&#34;&gt;2. æ´¾ç”Ÿ/å¤æ‚æ•°æ®ç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;åˆ†ç±»-2&#34;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‡é’ˆpointer&lt;/li&gt;
&lt;li&gt;æ•°ç»„&lt;/li&gt;
&lt;li&gt;ç»“æ„ä½“struct&lt;/li&gt;
&lt;li&gt;ç®¡é“channel&lt;/li&gt;
&lt;li&gt;å‡½æ•°&lt;/li&gt;
&lt;li&gt;åˆ‡ç‰‡slice&lt;/li&gt;
&lt;li&gt;æ¥å£interface&lt;/li&gt;
&lt;li&gt;map&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼&#34;&gt;åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ•°æ®ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;é»˜è®¤å€¼&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•´å‹int&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æµ®ç‚¹å‹float&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å­—ç¬¦ä¸²string&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&amp;quot;&amp;quot;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸ƒå°”å‹bool&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var a int
	var b float32
	var c float64
	var d bool
	var e string
	// %v è¡¨ç¤ºæŒ‰ç…§å˜é‡çš„å€¼è¾“å‡º
	fmt.Printf(&amp;quot;é»˜è®¤å€¼ int=%d float32=%v float64=%v bool=%v string=%v&amp;quot;,a,b,c,d,e)
}

// é»˜è®¤å€¼ int=0 float32=0 float64=0 bool=false string=
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;åŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢&#34;&gt;åŸºæœ¬æ•°æ®ç±»å‹çš„ç›¸äº’è½¬æ¢&lt;/h1&gt;
&lt;p&gt;golangåœ¨ä¸åŒç±»å‹çš„å˜é‡ä¹‹é—´èµ‹å€¼æ—¶&lt;strong&gt;éœ€è¦æ˜¾å¼è½¬æ¢&lt;/strong&gt;ï¼Œå³golangä¸­æ•°æ®ç±»å‹&lt;strong&gt;ä¸èƒ½è‡ªåŠ¨è½¬æ¢&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;è½¬æ¢æ–¹å¼&lt;/strong&gt;ï¼šT(v)ï¼Œè¡¨ç¤ºå°†å€¼vè½¬æ¢æˆç±»å‹T&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var a int32 =100
	var b float32 = float32(a)
	var c int8 = int8(a)
	var d int64 = int64(a)
	var e string = string(a)
	// %v è¡¨ç¤ºæŒ‰ç…§å˜é‡çš„å€¼è¾“å‡º
	fmt.Printf(&amp;quot;æ•°æ®ç±»å‹è½¬æ¢ int32=%v float32=%v int8=%v int64=%v string=%v&amp;quot;,a,b,c,d,e)
}

//æ•°æ®ç±»å‹è½¬æ¢ int32=100 float32=100 int8=100 int64=100 string=d
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±ä¸Šå¯è§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®ç±»å‹è½¬æ¢ï¼Œå¯ä»¥ä»&lt;strong&gt;ç²¾åº¦é«˜&amp;lt;--&amp;gt;ç²¾åº¦ä½ æˆ–è€… èŒƒå›´å¤§&amp;lt;--&amp;gt;èŒƒå›´å°&lt;/strong&gt;è¿›è¡ŒåŒå‘è½¬æ¢ã€‚ä½†æ˜¯åœ¨è½¬æ¢æ—¶éœ€è¦è€ƒè™‘æ•°æ®ç±»å‹æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ï¼Œå¦åˆ™ç”±èŒƒå›´å¤§è½¬å‘èŒƒå›´å°çš„ç±»å‹&lt;sub&gt;ä¾‹å¦‚int64è½¬æ¢æˆint8&lt;/sub&gt;ï¼Œåœ¨ç¼–è¯‘æ—¶ä¸ä¼šæŠ¥é”™ï¼Œåªæ˜¯&lt;strong&gt;è½¬æ¢çš„ç»“æœæŒ‰ç…§æº¢å‡ºå¤„ç†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¢«è½¬æ¢çš„æ˜¯å˜é‡å­˜å‚¨çš„æ•°æ®ï¼Œå˜é‡æœ¬èº«çš„æ•°æ®ç±»å‹å¹¶æ²¡æœ‰å˜åŒ–&lt;code&gt;åŸå› æ˜¯åŒä¸€ä¸ªå˜é‡æ— æ³•è¿›è¡Œç¬¬2æ¬¡å£°æ˜ï¼Œå³ç¬¬ä¸€æ¬¡å£°æ˜ä¹‹åå…¶ç±»å‹å›ºå®š&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸åŒç±»å‹çš„æ•°æ®ä¸èƒ½ç›¸åŠ ï¼Œéœ€è¦å…ˆè½¬æˆåŒä¸€ç±»å‹ä¹‹åæ‰èƒ½è¿›è¡Œç›¸åŠ æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// æº¢å‡ºå¤„ç†ï¼š
func main () {
	var a int64 = 9999
	var b int8 = int8(a)

	// %v è¡¨ç¤ºæŒ‰ç…§å˜é‡çš„å€¼è¾“å‡º
	fmt.Printf(&amp;quot;b= %v&amp;quot;,b)
}

//b= 15

//--------------------------------------

// å…ˆè½¬æ¢ç±»å‹å†æ“ä½œï¼š
func main () {
	var a int32 = 10
	var b int64
	var c int8

	b = int64(a) + 1  // b=a+1ä¼šæŠ¥é”™ï¼Œå› ä¸ºbå’Œaæ•°æ®ä¸åŒæ•°æ®ç±»å‹
	c = int8(b) + 2

	// %v è¡¨ç¤ºæŒ‰ç…§å˜é‡çš„å€¼è¾“å‡º
	fmt.Printf(&amp;quot;b=%v c=%v&amp;quot;,b,c)
}

// b=11 c=13
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;åŸºæœ¬æ•°æ®ç±»å‹å’Œstringä¹‹é—´è½¬æ¢&#34;&gt;åŸºæœ¬æ•°æ®ç±»å‹å’Œstringä¹‹é—´è½¬æ¢&lt;/h1&gt;
&lt;h2 id=&#34;åŸºæœ¬æ•°æ®ç±»å‹-string&#34;&gt;åŸºæœ¬æ•°æ®ç±»å‹--&amp;gt;string&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ–¹æ³•1ï¼ˆæ›´é€šç”¨æ›´çµæ´»ï¼‰&lt;br&gt;
&lt;code&gt;fmt.Sprintf(&amp;quot;%å‚æ•°&amp;quot;,è¡¨è¾¾å¼)&lt;/code&gt;ï¼ŒSprintfæ ¹æ®formatå‚æ•°ç”Ÿæˆæ ¼å¼åŒ–çš„å­—ç¬¦ä¸²å¹¶è¿”å›è¯¥å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;æ–¹æ³•2&lt;br&gt;
ä½¿ç”¨&lt;code&gt;strconv&lt;/code&gt;åŒ…çš„å‡½æ•°ï¼Œå¤§è‡´çš„æ ¼å¼ä¸º&lt;code&gt;strconv.FormatXXX()&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
	&amp;quot;fmt&amp;quot;
	&amp;quot;strconv&amp;quot;
)

func main () {
	// ç¬¬ä¸€ç§æ–¹å¼
	var num1 int = 99
	var num2 float64 = 23.456
	var b bool = true
	var myChar byte = &#39;h&#39;
	var str string //ç©ºçš„str

	//ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼æ¥è½¬æ¢ fmt.Sprintfæ–¹æ³•

	str = fmt.Sprintf(&amp;quot;%d&amp;quot;, num1)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;99&amp;quot;

	str = fmt.Sprintf(&amp;quot;%f&amp;quot;, num2)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;23.456000&amp;quot;

	str = fmt.Sprintf(&amp;quot;%t&amp;quot;, b)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;true&amp;quot;

	str = fmt.Sprintf(&amp;quot;%c&amp;quot;, myChar)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;h&amp;quot;

	
	//ç¬¬äºŒç§æ–¹å¼ strconv å‡½æ•°
	var num3 int = 99
	var num4 float64 = 23.456
	var num5 int64 = 4567
	var b2 bool = true

	str = strconv.FormatInt(int64(num3), 10)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;99&amp;quot;

	// strconv.FormatFloat(num4, &#39;f&#39;, 10, 64)
	// è¯´æ˜ï¼š &#39;f&#39; æ ¼å¼ 10ï¼šè¡¨ç¤ºå°æ•°ä½ä¿ç•™10ä½ 64 :è¡¨ç¤ºè¿™ä¸ªå°æ•°æ˜¯float64
	str = strconv.FormatFloat(num4, &#39;f&#39;, 10, 64)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;23.4560000000&amp;quot;

	str = strconv.FormatBool(b2)
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;true&amp;quot;

	//strconvåŒ…ä¸­æœ‰ä¸€ä¸ªå‡½æ•°Itoa
	str = strconv.Itoa(int(num5))
	fmt.Printf(&amp;quot;str type %T \tstr=%q\n&amp;quot;, str, str)	// str type string 	str=&amp;quot;4567&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;string-åŸºæœ¬æ•°æ®ç±»å‹&#34;&gt;string--&amp;gt;åŸºæœ¬æ•°æ®ç±»å‹&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;strconv&lt;/code&gt;åŒ…çš„å‡½æ•°ï¼Œå¤§è‡´çš„æ ¼å¼ä¸º&lt;code&gt;strconv.ParseXXX()&lt;/code&gt;&lt;br&gt;
æ³¨æ„äº‹é¡¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤è¿”å›çš„æ•°æ®ç±»å‹ä¸ºint64æˆ–è€…float64ï¼Œæƒ³è½¬æˆå…¶ä»–æ•°æ®ç±»å‹åˆ™éœ€è¦è¿›ä¸€æ­¥è½¬æ¢&lt;/li&gt;
&lt;li&gt;å°†stringè½¬æ¢æˆåŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œ&lt;strong&gt;éœ€è¦ç¡®ä¿stringç±»å‹èƒ½å¤Ÿè½¬æ¢æˆæœ‰æ•ˆçš„æ•°æ®&lt;/strong&gt;ï¼Œæ¯”å¦‚å¯ä»¥æŠŠâ€œ123â€è½¬æ¢æˆæ•´æ•°ï¼Œä½†æ˜¯æ— æ³•å°†â€œhelloâ€è½¬æ¢æˆæ•´æ•°ï¼Œæ­¤æ—¶golangç›´æ¥å°†å…¶è½¬æ¢æˆ0ï¼Œå…¶ä»–ç±»å‹ç±»ä¼¼ï¼Œfloatä¸º0ã€boolä¸ºfalse&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
	&amp;quot;fmt&amp;quot;
	&amp;quot;strconv&amp;quot;
)

func main () {

	var str string = &amp;quot;true&amp;quot;
	var b bool
	// b, _ = strconv.ParseBool(str)
	// è¯´æ˜
	// 1. strconv.ParseBool(str) å‡½æ•°ä¼šè¿”å›ä¸¤ä¸ªå€¼ (value bool, err error)
	// 2. åªæƒ³è·å–åˆ° value bool ,ä¸æƒ³è·å– err ,æ‰€ä»¥ä½¿ç”¨_å¿½ç•¥
	b , _ = strconv.ParseBool(str)
	fmt.Printf(&amp;quot;b type %T  b=%v\n&amp;quot;, b, b)	// b type bool  b=true


	var str2 string = &amp;quot;1234590&amp;quot;
	var n1 int64
	var n2 int
	n1, _ = strconv.ParseInt(str2, 10, 64)
	n2 = int(n1)
	fmt.Printf(&amp;quot;n1 type %T  n1=%v\n&amp;quot;, n1, n1)	// n1 type int64  n1=1234590
	fmt.Printf(&amp;quot;n2 type %T n2=%v\n&amp;quot;, n2, n2)	// n2 type int n2=1234590


	var str3 string = &amp;quot;123.456&amp;quot;
	var f1 float64
	f1, _ = strconv.ParseFloat(str3, 64)
	fmt.Printf(&amp;quot;f1 type %T f1=%v\n&amp;quot;, f1, f1)  // f1 type float64 f1=123.456

    // å› ä¸ºè¿”å›çš„åªèƒ½æ˜¯int64æˆ–è€…float64ï¼Œå¦‚æœå¸Œæœ›å¾—åˆ°int16ã€int32ã€float32ç­‰åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°æ®ï¼Œåˆ™éœ€è¦è¿›ä¸€æ­¥è½¬æ¢å¤„ç†ï¼š
    // var f2 float32
    // f2 = float32(f1)


	//æ³¨æ„ï¼š
	var str4 string = &amp;quot;hello&amp;quot;
	var n3 int64 = 11
	n3, _ = strconv.ParseInt(str4, 10, 64)
	fmt.Printf(&amp;quot;n3 type %T n3=%v\n&amp;quot;, n3, n3)  // n3 type int64 n3=0

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æŒ‡é’ˆ&#34;&gt;æŒ‡é’ˆ&lt;/h1&gt;
&lt;h2 id=&#34;åŸºæœ¬ä»‹ç»&#34;&gt;åŸºæœ¬ä»‹ç»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå˜é‡å­˜çš„å°±æ˜¯å€¼ï¼Œä¹Ÿå«&lt;strong&gt;å€¼ç±»å‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å€¼ç±»å‹éƒ½æœ‰å¯¹åº”çš„æŒ‡é’ˆç±»å‹ï¼Œå½¢å¼ä¸º&lt;code&gt;*æ•°æ®ç±»å‹&lt;/code&gt;ï¼Œæ¯”å¦‚intå¯¹åº”çš„æŒ‡é’ˆç±»å‹å°±æ˜¯&lt;code&gt;*int&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;&amp;amp;&lt;/code&gt;è·å–å˜é‡çš„åœ°å€ï¼Œæ¯”å¦‚&lt;code&gt;var num int&lt;/code&gt;ï¼Œè·å–å˜é‡numçš„åœ°å€æ–¹å¼ä¸º&lt;code&gt;&amp;amp;num&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	var str int = 100
	fmt.Printf(&amp;quot;stråœ°å€=&amp;quot;,&amp;amp;str)	// stråœ°å€=%!(EXTRA *int=0xc000012078)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;æŒ‡é’ˆç±»å‹&lt;/strong&gt;ï¼ŒæŒ‡é’ˆå˜é‡å­˜çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘çš„ç©ºé—´å­˜çš„æ‰æ˜¯å€¼ï¼Œä¾‹å¦‚&lt;code&gt;var ptr *int = &amp;amp;num&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è·å–æŒ‡é’ˆç±»å‹å˜é‡æ‰€æŒ‡å‘çš„å€¼ï¼Œä½¿ç”¨&lt;code&gt;*&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;code&gt;*ptr&lt;/code&gt;è·å–ptræŒ‡å‘çš„å€¼ã€‚ä¸‹é¢çš„ä»£ç è¯¦ç»†è¯´æ˜äº†&lt;strong&gt;æŒ‡é’ˆåœ¨å†…å­˜ä¸­çš„å¸ƒå±€&lt;/strong&gt;æƒ…å†µ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func main () {
	//åŸºæœ¬æ•°æ®ç±»å‹åœ¨å†…å­˜å¸ƒå±€
	var i int = 10
	// i çš„åœ°å€æ˜¯ä»€ä¹ˆ,&amp;amp;i
	fmt.Println(&amp;quot;içš„åœ°å€=&amp;quot;, &amp;amp;i)	//içš„åœ°å€= 0xc0000ac058

	//ä¸‹é¢çš„ var ptr *int = &amp;amp;i
	//1. ptr æ˜¯ä¸€ä¸ªæŒ‡é’ˆå˜é‡
	//2. ptr çš„ç±»å‹ *int
	//3. ptr æœ¬èº«çš„å€¼&amp;amp;i
	var ptr *int = &amp;amp;i
	fmt.Printf(&amp;quot;ptr=%v\n&amp;quot;, ptr)	//ptr=0xc0000ac058
	fmt.Printf(&amp;quot;ptr çš„åœ°å€=%v\n&amp;quot;, &amp;amp;ptr)	//ptr çš„åœ°å€=0xc0000d8020
	fmt.Printf(&amp;quot;ptr æŒ‡å‘çš„å€¼=%v\n&amp;quot;, *ptr)	//ptr æŒ‡å‘çš„å€¼=10

	// ä¿®æ”¹iåœ¨å†…å­˜ä¸­çš„å€¼
	*ptr = 99
	fmt.Printf(&amp;quot;i ä¿®æ”¹ä¹‹åå†…å­˜ä¸­çš„å€¼=%v&amp;quot;, *ptr)	//i ä¿®æ”¹ä¹‹åå†…å­˜ä¸­çš„å€¼=99
}
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1628649539191.png&#34; alt=&#34;æŒ‡é’ˆç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆè¦å­˜åœ¨æŒ‡é’ˆï¼Ÿ&lt;br&gt;
å› ä¸ºå˜é‡çš„å€¼åœ¨å£°æ˜è¿‡ç¨‹ä¸­æˆ–è€…èµ‹å€¼è¿‡ç¨‹ä¸­å·²ç»ç¡®å®šï¼Œä¹‹åæ— æ³•è¿›è¡Œä¿®æ”¹ã€‚å¦‚æœæƒ³è¦ä¿®æ”¹è¯¥å˜é‡çš„å€¼ï¼Œåˆ™éœ€è¦ç›´æ¥è¿›è¡Œå†…å­˜çº§åˆ«çš„æ“ä½œï¼Œä¿®æ”¹å†…å­˜ä¸­çš„å€¼ï¼Œé¦–å…ˆéœ€è¦è·å–è¿™ä¸ªå˜é‡å­˜å‚¨çš„å€¼åœ¨&lt;strong&gt;å†…å­˜ä¸­çš„åœ°å€&lt;/strong&gt;ï¼Œç„¶åæ‰èƒ½è¿›è¡Œå†…å­˜æ“ä½œï¼Œè¿™ä¸ª&lt;strong&gt;å†…å­˜ä¸­çš„åœ°å€&lt;/strong&gt;å°±æ˜¯æŒ‡é’ˆã€‚&lt;br&gt;
ç®€è€Œè¨€ä¹‹ï¼ŒæŒ‡é’ˆå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†å¯¹å€¼ç±»å‹å˜é‡è¿›è¡Œæ“ä½œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹&#34;&gt;å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹&lt;/h1&gt;
&lt;h2 id=&#34;å€¼ç±»å‹&#34;&gt;å€¼ç±»å‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åŒ…å«åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆintç³»åˆ—ã€floatç³»åˆ—ã€boolã€stringï¼‰ã€æ•°ç»„ã€ç»“æ„ä½“struct&lt;/li&gt;
&lt;li&gt;å˜é‡ç›´æ¥å­˜å‚¨å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨&lt;code&gt;æ ˆ&lt;/code&gt;ä¸­åˆ†é…&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1628653681273.png&#34; alt=&#34;å€¼ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¼•ç”¨ç±»å‹&#34;&gt;å¼•ç”¨ç±»å‹&lt;/h2&gt;
&lt;p&gt;åŒ…å«æŒ‡é’ˆã€åˆ‡ç‰‡sliceã€mapã€ç®¡é“chanã€interfaceç­‰&lt;br&gt;
å˜é‡å­˜å‚¨çš„æ˜¯ä¸€ä¸ªåœ°å€ï¼Œè¿™ä¸ªåœ°å€å¯¹åº”çš„ç©ºé—´æ‰çœŸæ­£å­˜å‚¨æ•°æ®å€¼ï¼Œå†…å­˜é€šå¸¸åœ¨å †ä¸Šåˆ†é…ï¼Œå½“æ²¡æœ‰ä»»ä½•å˜é‡å¼•ç”¨è¿™ä¸ªåœ°å€æ—¶ï¼Œè¯¥åœ°å€å¯¹åº”çš„æ•°æ®ç©ºé—´å°±æˆä¸ºä¸€ä¸ªåƒåœ¾ï¼Œç”±GCæ¥å›æ”¶&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1628653692781.png&#34; alt=&#34;å¼•ç”¨ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1628653718716.png&#34; alt=&#34;å†…å­˜ä¸­æ ˆåŒºå’Œå †åŒºç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ ‡è¯†ç¬¦&#34;&gt;æ ‡è¯†ç¬¦&lt;/h1&gt;
&lt;h2 id=&#34;æ ‡è¯†ç¬¦å‘½åè§„åˆ™&#34;&gt;æ ‡è¯†ç¬¦å‘½åè§„åˆ™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç”±0-9ã€a-zã€A-Zã€_ç»„æˆï¼Œä¸”å¼€å¤´ä¸å¯ä»¥æ˜¯æ•°å­—&lt;/li&gt;
&lt;li&gt;golangä¸­ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œä¸”æ ‡è¯†ç¬¦ä¸­ä¸èƒ½åŒ…å«ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;ä¸‹åˆ’çº¿&lt;code&gt;_&lt;/code&gt;æœ¬èº«åœ¨goä¸­æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ ‡è¯†ç¬¦ï¼Œç§°ä¸º&lt;strong&gt;ç©ºæ ‡è¯†ç¬¦&lt;/strong&gt;ï¼Œå¯ä»¥ä»£è¡¨ä»»ä½•å…¶ä»–æ ‡è¯†ç¬¦ï¼Œä½†æ˜¯å®ƒå¯¹åº”çš„å€¼ä¼šè¢«å¿½ç•¥ï¼ˆä¾‹å¦‚ï¼Œå¿½ç•¥æŸä¸ªè¿”å›å€¼æ—¶å¯ä»¥ä½¿ç”¨_ï¼‰ï¼Œå› æ­¤ï¼Œ&lt;strong&gt;ä»…èƒ½ä½œä¸ºå ä½ç¬¦ä½¿ç”¨ï¼Œæ— æ³•ä½œä¸ºæ ‡è¯†ç¬¦ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸èƒ½ä»¥ç³»ç»Ÿä¿ç•™å…³é”®å­—ï¼ˆ25ä¸ªï¼‰å’Œé¢„å®šä¹‰æ ‡è¯†ç¬¦ï¼ˆ36ä¸ªï¼‰ä½œä¸ºè‡ªå®šä¹‰æ ‡è¯†ç¬¦ï¼Œç³»ç»Ÿä¿ç•™å…³é”®å­—å’Œé¢„å®šä¹‰æ ‡è¯†ç¬¦å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿä¿ç•™å…³é”®å­—&lt;code&gt;ç®€åŒ–ä»£ç ç¼–è¯‘è¿‡ç¨‹ä¸­å¯¹ä»£ç çš„è§£æ&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;breakï¼šå¼ºåˆ¶é€€å‡ºå¾ªç¯æˆ–switchè¯­å¥å—ã€‚è·³å‡ºå½“å‰å¾ªç¯ã€switchã€selectï¼Œswitch&lt;sub&gt;selecté»˜è®¤breakï¼Œå¦‚æœä¸å¸Œæœ›breakï¼Œä½¿ç”¨fallthrough&lt;/sub&gt;ï¼Œä»¥ä¸Šè¿™äº›ç»“æ„å¯ä»¥ç”¨æ ‡ç­¾å‘½åï¼Œbreak+æ ‡ç­¾åï¼Œå¯ä»¥è·³å‡ºå¤šå±‚ç»“æ„&lt;/li&gt;
&lt;li&gt;caseï¼šç”¨äºswitchå’Œselectè¯­å¥å—ä¸­ï¼Œåè·Ÿä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¡¨ç¤ºä¸€ä¸ªå¾…åŒ¹é…é¡¹&lt;/li&gt;
&lt;li&gt;chanï¼šç”¨äºå®šä¹‰channelçš„å…³é”®å­—ï¼Œï¼Œè¦ç”¨äºä¸åŒåç¨‹ç›´æ¥é€šä¿¡ï¼Œç±»ä¼¼linuxç®¡é“&lt;/li&gt;
&lt;li&gt;constï¼šå¸¸é‡å…³é”®å­—&lt;/li&gt;
&lt;li&gt;continueï¼šè·³è¿‡æœ¬è½®å¾ªç¯ï¼Œè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯è¿­ä»£ã€‚continueä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡ç­¾ï¼Œå¿½ç•¥å½“å‰å¾ªç¯ç»“æ„ï¼Œç›´æ¥ç»§ç»­æ‰§è¡Œæ ‡ç­¾æŒ‡å®šçš„å¾ªç¯&lt;/li&gt;
&lt;li&gt;defaultï¼šswitchå’Œswitchè¯­å¥å—ä¸­å®šä¹‰çš„é»˜è®¤é¡¹&lt;/li&gt;
&lt;li&gt;deferï¼šå»¶è¿Ÿè°ƒç”¨å…³é”®å­—ã€‚åœ¨æ–¹æ³•ç»“æŸï¼ˆåŒ…æ‹¬å¼‚å¸¸ï¼‰æ—¶è°ƒç”¨ï¼ŒåŒä¸€ä¸ªæ–¹æ³•å†…å¯ä»¥å®šä¹‰å¤šä¸ªdeferï¼Œè°ƒç”¨é¡ºåºå’Œå®šä¹‰ç›¸åã€‚æ³¨æ„ï¼Œdeferåè·Ÿçš„è¡¨è¾¾å¼æ˜¯å®šä¹‰æ—¶è®¡ç®—çš„ï¼Œä¸æ˜¯è°ƒç”¨æ—¶è®¡ç®—çš„ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Defer() {
    i := 1
    defer println(&amp;quot;first&amp;quot;, i+1)
    i += 1
    defer println(&amp;quot;second&amp;quot;, i)
}
//è¾“å‡º
//second 2 
//first 2
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;elseï¼šé€‰æ‹©åˆ¤æ–­è¯­å¥å…³é”®å­—&lt;/li&gt;
&lt;li&gt;fallthroughï¼šswitchè¯­å¥å—ä¸­ä½¿ä¸€ä¸ªcaseå­å—æ‰§è¡Œå®Œæ¯•åï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªcaseå­å—çš„ä»£ç &lt;/li&gt;
&lt;li&gt;forï¼šå¾ªç¯ä½“è¯­å¥å—å…³é”®å­—&lt;/li&gt;
&lt;li&gt;funcï¼š	å®šä¹‰å‡½æ•°å’Œæ–¹æ³•çš„å…³é”®å­—&lt;/li&gt;
&lt;li&gt;goï¼šå¼€å¯goroutineåç¨‹ï¼Œåé¢ç›´æ¥è·Ÿæ–¹æ³•è°ƒç”¨&lt;/li&gt;
&lt;li&gt;gotoï¼šæµç¨‹æ§åˆ¶å…³é”®å­—ï¼Œå¯ä»¥è®²ç¨‹åºæ‰§è¡Œæµç¨‹è·³è½¬åˆ°ä¸€ä¸ªç²¾ç¡®çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;ifï¼šé€‰æ‹©åˆ¤æ–­è¯­å¥å…³é”®å­—&lt;/li&gt;
&lt;li&gt;importï¼šå¯¼å…¥åŒ…ï¼Œgolangç›®å‰æ˜¯ä¸æ”¯æŒå¾ªç¯å¼•ç”¨çš„ï¼Œä¾‹å¦‚A import Bã€B ä¸èƒ½å†å¼•ç”¨Aï¼ŒA import Bã€B import Cã€C import A ä¹Ÿæ˜¯ä¸å¯ä»¥çš„&lt;/li&gt;
&lt;li&gt;interfaceï¼šæ¥å£ç±»å‹&lt;/li&gt;
&lt;li&gt;mapï¼šå†…ç½®mapç±»å‹ï¼Œå“ˆå¸Œå­—å…¸&lt;/li&gt;
&lt;li&gt;packageï¼šå®šä¹‰åŒ…å&lt;/li&gt;
&lt;li&gt;rangeï¼šå®šä¹‰è¿­ä»£èŒƒå›´ï¼Œå¸¸ç”¨åœ¨å¾ªç¯è¯­å¥å—ä¸­&lt;/li&gt;
&lt;li&gt;returnï¼šç»“æŸå‡½æ•°æŒ‡å®šï¼Œä½¿å‡½æ•°è¿”å›&lt;/li&gt;
&lt;li&gt;selectï¼š	ç”¨äºå®šä¹‰é€šä¿¡æ§åˆ¶ç»“æ„çš„å…³é”®å­—&lt;/li&gt;
&lt;li&gt;structï¼š	ç»“æ„ä½“ç»“æ„å…³é”®å­—&lt;/li&gt;
&lt;li&gt;switchï¼šå¤šé‡é€‰æ‹©åˆ¤æ–­ç»“æ„è¯­å¥å—å…³é”®å­—&lt;/li&gt;
&lt;li&gt;typeï¼šè‡ªå®šä¹‰ç±»å‹å…³é”®å­—ï¼Œå³å£°æ˜ç»“æ„ä½“ã€æ¥å£ã€ç±»å‹å’Œç±»å‹åˆ«åã€‚å£°æ˜ä¸€ä¸ªç±»å‹ï¼Œæ˜¯ä½œä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ä½¿ç”¨ï¼Œè™½ç„¶æœ¬è´¨ä¸Šå’ŒåŸç±»å‹æ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯æ— æ³•ç›´æ¥å½“ä½œåŸç±»å‹ä½¿ç”¨ï¼Œè€Œåˆ«åå’ŒåŸç±»å‹ä½¿ç”¨èµ·æ¥å®Œå…¨ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type A = int //intçš„åˆ«å
type B int	//æ–°ç±»å‹b

var a A = 1
var b B = 1

func GetSize(i int) {
    println(unsafe.Sizeof(i))
}
//64ä½æœº
GetSize(a)	//è¾“å‡º8
GetSize(b)	//æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œä¸èƒ½ç›´æ¥æŠŠBç±»å‹å½“ä½œintä½¿ç”¨
GetSize(int(b))	//è¾“å‡º8ï¼Œå¯ä»¥å¼ºåˆ¶è½¬æ¢
GetSize(*(*int)(unsafe.Pointer(&amp;amp;b)))//è¾“å‡º8ï¼ŒPointerå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;25&#34;&gt;
&lt;li&gt;varï¼šå˜é‡å®šä¹‰å…³é”®å­—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é¢„å®šä¹‰æ ‡è¯†ç¬¦&lt;code&gt;åŒ…æ‹¬åŸºç¡€æ•°æ®ç±»å‹å’Œç³»ç»Ÿå†…åµŒå‡½æ•°&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å†…å»ºå¸¸é‡: true false iota nil&lt;/li&gt;
&lt;li&gt;å†…å»ºç±»å‹: int int8 int16 int32 int64 uint uint8 uint16 uint32 uint64 uintptr float32 float64 complex64 complex128 bool byte rune string error&lt;/li&gt;
&lt;li&gt;å†…å»ºå‡½æ•°: make len cap new append copy close delete complex real imag panic recover&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;fmtæ ¼å¼åŒ–io&#34;&gt;fmtï¼ˆæ ¼å¼åŒ–IOï¼‰&lt;/h1&gt;
&lt;p&gt;fmtåŒ…å®ç°äº†ç±»ä¼¼Cè¯­è¨€printfå’Œscanfçš„æ ¼å¼åŒ–I/Oï¼Œæ ¼å¼åŒ–åŠ¨ä½œï¼ˆ&#39;verb&#39;ï¼‰æºè‡ªCè¯­è¨€ä½†æ›´ç®€å•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type user struct {
    name string
}

func main() {
    u := user{&amp;quot;tang&amp;quot;}
    //Printf æ ¼å¼åŒ–è¾“å‡º
    fmt.Printf(&amp;quot;% + v\n&amp;quot;, u)     //æ ¼å¼åŒ–è¾“å‡ºç»“æ„
    fmt.Printf(&amp;quot;%#v\n&amp;quot;, u)       //è¾“å‡ºå€¼çš„ Go è¯­è¨€è¡¨ç¤ºæ–¹æ³•
    fmt.Printf(&amp;quot;%T\n&amp;quot;, u)        //è¾“å‡ºå€¼çš„ç±»å‹çš„ Go è¯­è¨€è¡¨ç¤º
    fmt.Printf(&amp;quot;%t\n&amp;quot;, true)     //è¾“å‡ºå€¼çš„ true æˆ– false
    fmt.Printf(&amp;quot;%b\n&amp;quot;, 1024)     //äºŒè¿›åˆ¶è¡¨ç¤º
    fmt.Printf(&amp;quot;%c\n&amp;quot;, 11111111) //æ•°å€¼å¯¹åº”çš„ Unicode ç¼–ç å­—ç¬¦
    fmt.Printf(&amp;quot;%d\n&amp;quot;, 10)       //åè¿›åˆ¶è¡¨ç¤º
    fmt.Printf(&amp;quot;%o\n&amp;quot;, 8)        //å…«è¿›åˆ¶è¡¨ç¤º
    fmt.Printf(&amp;quot;%q\n&amp;quot;, 22)       //è½¬åŒ–ä¸ºåå…­è¿›åˆ¶å¹¶é™„ä¸Šå•å¼•å·
    fmt.Printf(&amp;quot;%x\n&amp;quot;, 1223)     //åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç”¨a-fè¡¨ç¤º
    fmt.Printf(&amp;quot;%X\n&amp;quot;, 1223)     //åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œç”¨A-Fè¡¨ç¤º
    fmt.Printf(&amp;quot;%U\n&amp;quot;, 1233)     //Unicodeè¡¨ç¤º
    fmt.Printf(&amp;quot;%b\n&amp;quot;, 12.34)    //æ— å°æ•°éƒ¨åˆ†ï¼Œä¸¤ä½æŒ‡æ•°çš„ç§‘å­¦è®¡æ•°æ³•6946802425218990p-49
    fmt.Printf(&amp;quot;%e\n&amp;quot;, 12.345)   //ç§‘å­¦è®¡æ•°æ³•ï¼Œeè¡¨ç¤º
    fmt.Printf(&amp;quot;%E\n&amp;quot;, 12.34455) //ç§‘å­¦è®¡æ•°æ³•ï¼ŒEè¡¨ç¤º
    fmt.Printf(&amp;quot;%f\n&amp;quot;, 12.3456)  //æœ‰å°æ•°éƒ¨åˆ†ï¼Œæ— æŒ‡æ•°éƒ¨åˆ†
    fmt.Printf(&amp;quot;%g\n&amp;quot;, 12.3456)  //æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%eæˆ–%fè¾“å‡º
    fmt.Printf(&amp;quot;%G\n&amp;quot;, 12.3456)  //æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%Eæˆ–%fè¾“å‡º
    fmt.Printf(&amp;quot;%s\n&amp;quot;, &amp;quot;wqdew&amp;quot;)  //ç›´æ¥è¾“å‡ºå­—ç¬¦ä¸²æˆ–è€…[]byte
    fmt.Printf(&amp;quot;%q\n&amp;quot;, &amp;quot;dedede&amp;quot;) //åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²
    fmt.Printf(&amp;quot;%x\n&amp;quot;, &amp;quot;abczxc&amp;quot;) //æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—èŠ‚åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œa-fè¡¨ç¤º
    fmt.Printf(&amp;quot;%X\n&amp;quot;, &amp;quot;asdzxc&amp;quot;) //æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—èŠ‚åå…­è¿›åˆ¶è¡¨ç¤ºï¼ŒA-Fè¡¨ç¤º
    fmt.Printf(&amp;quot;%p\n&amp;quot;, 0x123)    //0xå¼€å¤´çš„åå…­è¿›åˆ¶æ•°è¡¨ç¤º
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æ ¼å¼åŒ–åŠ¨ä½œåˆ†ç±»&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%v	å€¼çš„é»˜è®¤æ ¼å¼è¡¨ç¤º
%+v	ç±»ä¼¼%vï¼Œä½†è¾“å‡ºç»“æ„ä½“æ—¶ä¼šæ·»åŠ å­—æ®µå
%#v	å€¼çš„Goè¯­æ³•è¡¨ç¤º
%T	å€¼çš„ç±»å‹çš„Goè¯­æ³•è¡¨ç¤º
%%	ç™¾åˆ†å·
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å¸ƒå°”å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%t	å•è¯trueæˆ–false
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ•´æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%b	è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶
%c	è¯¥å€¼å¯¹åº”çš„unicodeç å€¼
%d	è¡¨ç¤ºä¸ºåè¿›åˆ¶
%o	è¡¨ç¤ºä¸ºå…«è¿›åˆ¶
%q	è¯¥å€¼å¯¹åº”çš„å•å¼•å·æ‹¬èµ·æ¥çš„goè¯­æ³•å­—ç¬¦å­—é¢å€¼ï¼Œå¿…è¦æ—¶ä¼šé‡‡ç”¨å®‰å…¨çš„è½¬ä¹‰è¡¨ç¤º
%x	è¡¨ç¤ºä¸ºåå…­è¿›åˆ¶ï¼Œä½¿ç”¨a-f
%X	è¡¨ç¤ºä¸ºåå…­è¿›åˆ¶ï¼Œä½¿ç”¨A-F
%U	è¡¨ç¤ºä¸ºUnicodeæ ¼å¼ï¼šU+1234ï¼Œç­‰ä»·äº&amp;quot;U+%04X&amp;quot;

æ²¡æœ‰%uã€‚æ•´æ•°å¦‚æœæ˜¯æ— ç¬¦å·ç±»å‹è‡ªç„¶è¾“å‡ºä¹Ÿæ˜¯æ— ç¬¦å·çš„
ç±»ä¼¼çš„ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦æŒ‡å®šæ“ä½œæ•°çš„å°ºå¯¸ï¼ˆint8ï¼Œint64ï¼‰

å®½åº¦é€šè¿‡ä¸€ä¸ªç´§è·Ÿåœ¨ç™¾åˆ†å·åé¢çš„åè¿›åˆ¶æ•°æŒ‡å®šï¼Œå¦‚æœæœªæŒ‡å®šå®½åº¦ï¼Œåˆ™è¡¨ç¤ºå€¼æ—¶é™¤å¿…éœ€ä¹‹å¤–ä¸ä½œå¡«å……ã€‚
ç²¾åº¦é€šè¿‡ï¼ˆå¯é€‰çš„ï¼‰å®½åº¦åè·Ÿç‚¹å·åè·Ÿçš„åè¿›åˆ¶æ•°æŒ‡å®šã€‚
å¦‚æœæœªæŒ‡å®šç²¾åº¦ï¼Œä¼šä½¿ç”¨é»˜è®¤ç²¾åº¦ï¼›å¦‚æœç‚¹å·åæ²¡æœ‰è·Ÿæ•°å­—ï¼Œè¡¨ç¤ºç²¾åº¦ä¸º0ã€‚ä¾‹å¦‚ï¼š
%f:    é»˜è®¤å®½åº¦ï¼Œé»˜è®¤ç²¾åº¦
%9f    å®½åº¦9ï¼Œé»˜è®¤ç²¾åº¦
%.2f   é»˜è®¤å®½åº¦ï¼Œç²¾åº¦2
%9.2f  å®½åº¦9ï¼Œç²¾åº¦2
%9.f   å®½åº¦9ï¼Œç²¾åº¦0    

å®½åº¦å’Œç²¾åº¦æ ¼å¼åŒ–æ§åˆ¶çš„æ˜¯Unicodeç å€¼çš„æ•°é‡ï¼ˆä¸åŒäºCçš„printfï¼Œå®ƒçš„è¿™ä¸¤ä¸ªå› æ•°æŒ‡çš„æ˜¯å­—èŠ‚çš„æ•°é‡ï¼‰ã€‚
ä¸¤è€…ä»»ä¸€ä¸ªæˆ–ä¸¤ä¸ªéƒ½å¯ä»¥ä½¿ç”¨&#39;*&#39;å·å–ä»£ï¼Œæ­¤æ—¶å®ƒä»¬çš„å€¼å°†è¢«å¯¹åº”çš„å‚æ•°ï¼ˆæŒ‰&#39;*&#39;å·å’Œverbå‡ºç°çš„é¡ºåºï¼Œå³æ§åˆ¶å…¶å€¼çš„å‚æ•°ä¼šå‡ºç°åœ¨è¦è¡¨ç¤ºçš„å€¼å‰é¢ï¼‰æ§åˆ¶ï¼Œè¿™ä¸ªæ“ä½œæ•°å¿…é¡»æ˜¯intç±»å‹ã€‚

å¯¹äºå¤§å¤šæ•°ç±»å‹çš„å€¼ï¼Œå®½åº¦æ˜¯è¾“å‡ºå­—ç¬¦æ•°ç›®çš„æœ€å°æ•°é‡ï¼Œå¦‚æœå¿…è¦ä¼šç”¨ç©ºæ ¼å¡«å……ã€‚
å¯¹äºå­—ç¬¦ä¸²ï¼Œç²¾åº¦æ˜¯è¾“å‡ºå­—ç¬¦æ•°ç›®çš„æœ€å¤§æ•°é‡ï¼Œå¦‚æœå¿…è¦ä¼šæˆªæ–­å­—ç¬¦ä¸²ã€‚
å¯¹äºæ•´æ•°ï¼Œå®½åº¦å’Œç²¾åº¦éƒ½è®¾ç½®è¾“å‡ºæ€»é•¿åº¦ã€‚é‡‡ç”¨ç²¾åº¦æ—¶è¡¨ç¤ºå³å¯¹é½å¹¶ç”¨0å¡«å……ï¼Œè€Œå®½åº¦é»˜è®¤è¡¨ç¤ºç”¨ç©ºæ ¼å¡«å……ã€‚
å¯¹äºæµ®ç‚¹æ•°ï¼Œå®½åº¦è®¾ç½®è¾“å‡ºæ€»é•¿åº¦ï¼›ç²¾åº¦è®¾ç½®å°æ•°éƒ¨åˆ†é•¿åº¦ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œé™¤äº†%gå’Œ%Gï¼Œæ­¤æ—¶ç²¾åº¦è®¾ç½®æ€»çš„æ•°å­—ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼Œå¯¹æ•°å­—123.45ï¼Œæ ¼å¼%6.2f è¾“å‡º123.45ï¼›æ ¼å¼%.4gè¾“å‡º123.5ã€‚%eå’Œ%fçš„é»˜è®¤ç²¾åº¦æ˜¯6ï¼Œ%gçš„é»˜è®¤ç²¾åº¦æ˜¯å¯ä»¥å°†è¯¥å€¼åŒºåˆ†å‡ºæ¥éœ€è¦çš„æœ€å°æ•°å­—ä¸ªæ•°ã€‚
å¯¹å¤æ•°ï¼Œå®½åº¦å’Œç²¾åº¦ä¼šåˆ†åˆ«ç”¨äºå®éƒ¨å’Œè™šéƒ¨ï¼Œç»“æœç”¨å°æ‹¬å·åŒ…è£¹ã€‚å› æ­¤%fç”¨äº1.2+3.4iè¾“å‡º(1.200000+3.400000i)ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æµ®ç‚¹æ•°ä¸å¤æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%b	æ— å°æ•°éƒ¨åˆ†ã€äºŒè¿›åˆ¶æŒ‡æ•°çš„ç§‘å­¦è®¡æ•°æ³•ï¼Œå¦‚-123456p-78ï¼›å‚è§strconv.FormatFloat
%e	ç§‘å­¦è®¡æ•°æ³•ï¼Œå¦‚-1234.456e+78
%E	ç§‘å­¦è®¡æ•°æ³•ï¼Œå¦‚-1234.456E+78
%f	æœ‰å°æ•°éƒ¨åˆ†ä½†æ— æŒ‡æ•°éƒ¨åˆ†ï¼Œå¦‚123.456
%F	ç­‰ä»·äº%f
%g	æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%eæˆ–%fæ ¼å¼ï¼ˆä»¥è·å¾—æ›´ç®€æ´ã€å‡†ç¡®çš„è¾“å‡ºï¼‰
%G	æ ¹æ®å®é™…æƒ…å†µé‡‡ç”¨%Eæˆ–%Fæ ¼å¼ï¼ˆä»¥è·å¾—æ›´ç®€æ´ã€å‡†ç¡®çš„è¾“å‡ºï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å­—ç¬¦ä¸²å’Œå­—ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%s	ç›´æ¥è¾“å‡ºå­—ç¬¦ä¸²æˆ–è€…[]byte
%q	è¯¥å€¼å¯¹åº”çš„åŒå¼•å·æ‹¬èµ·æ¥çš„goè¯­æ³•å­—ç¬¦ä¸²å­—é¢å€¼ï¼Œå¿…è¦æ—¶ä¼šé‡‡ç”¨å®‰å…¨çš„è½¬ä¹‰è¡¨ç¤º
%x	æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—ç¬¦åå…­è¿›åˆ¶æ•°è¡¨ç¤ºï¼ˆä½¿ç”¨a-fï¼‰
%X	æ¯ä¸ªå­—èŠ‚ç”¨ä¸¤å­—ç¬¦åå…­è¿›åˆ¶æ•°è¡¨ç¤ºï¼ˆä½¿ç”¨A-Fï¼‰ 
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;æŒ‡é’ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;%p	è¡¨ç¤ºä¸ºåå…­è¿›åˆ¶ï¼Œå¹¶åŠ ä¸Šå‰å¯¼çš„0x    
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;å…¶ä»–flag&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&#39;+&#39;	æ€»æ˜¯è¾“å‡ºæ•°å€¼çš„æ­£è´Ÿå·ï¼›å¯¹%qï¼ˆ%+qï¼‰ä¼šç”Ÿæˆå…¨éƒ¨æ˜¯ASCIIå­—ç¬¦çš„è¾“å‡ºï¼ˆé€šè¿‡è½¬ä¹‰ï¼‰ï¼›
&#39; &#39;	å¯¹æ•°å€¼ï¼Œæ­£æ•°å‰åŠ ç©ºæ ¼è€Œè´Ÿæ•°å‰åŠ è´Ÿå·ï¼›
&#39;-&#39;	åœ¨è¾“å‡ºå³è¾¹å¡«å……ç©ºç™½è€Œä¸æ˜¯é»˜è®¤çš„å·¦è¾¹ï¼ˆå³ä»é»˜è®¤çš„å³å¯¹é½åˆ‡æ¢ä¸ºå·¦å¯¹é½ï¼‰ï¼›
&#39;#&#39;	åˆ‡æ¢æ ¼å¼ï¼š
  	å…«è¿›åˆ¶æ•°å‰åŠ 0ï¼ˆ%#oï¼‰ï¼Œåå…­è¿›åˆ¶æ•°å‰åŠ 0xï¼ˆ%#xï¼‰æˆ–0Xï¼ˆ%#Xï¼‰ï¼ŒæŒ‡é’ˆå»æ‰å‰é¢çš„0xï¼ˆ%#pï¼‰ï¼›
 	å¯¹%qï¼ˆ%#qï¼‰ï¼Œå¦‚æœstrconv.CanBackquoteè¿”å›çœŸä¼šè¾“å‡ºåå¼•å·æ‹¬èµ·æ¥çš„æœªè½¬ä¹‰å­—ç¬¦ä¸²ï¼›
 	å¯¹%Uï¼ˆ%#Uï¼‰ï¼Œè¾“å‡ºUnicodeæ ¼å¼åï¼Œå¦‚å­—ç¬¦å¯æ‰“å°ï¼Œè¿˜ä¼šè¾“å‡ºç©ºæ ¼å’Œå•å¼•å·æ‹¬èµ·æ¥çš„goå­—é¢å€¼ï¼›
  	å¯¹å­—ç¬¦ä¸²é‡‡ç”¨%xæˆ–%Xæ—¶ï¼ˆ% xæˆ–% Xï¼‰ä¼šç»™å„æ‰“å°çš„å­—èŠ‚ä¹‹é—´åŠ ç©ºæ ¼ï¼›
&#39;0&#39;	ä½¿ç”¨0è€Œä¸æ˜¯ç©ºæ ¼å¡«å……ï¼Œå¯¹äºæ•°å€¼ç±»å‹ä¼šæŠŠå¡«å……çš„0æ”¾åœ¨æ­£è´Ÿå·åé¢ï¼›
&lt;/code&gt;&lt;/pre&gt;
">golang ç¬¬ä¸‰ç«  å˜é‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/golang-di-yi-zhang-kai-shan-pian/"" data-c="
          &lt;h1 id=&#34;å­¦ä¹ å‚è€ƒ&#34;&gt;å­¦ä¹ å‚è€ƒ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://books.studygolang.com/The-Golang-Standard-Library-by-Example/&#34;&gt;https://books.studygolang.com/The-Golang-Standard-Library-by-Example/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://studygolang.com/&#34;&gt;https://studygolang.com/&lt;/a&gt;ï¼Œä¸­æ–‡&lt;a href=&#34;https://studygolang.com/pkgdoc&#34;&gt;https://studygolang.com/pkgdoc&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å­¦ä¹ æ–¹å‘&#34;&gt;å­¦ä¹ æ–¹å‘&lt;/h1&gt;
&lt;p&gt;åŒºå—é“¾ï¼ˆBTï¼Œåˆ†å¸ƒå¼è´¦æœ¬æŠ€æœ¯ï¼‰ç ”å‘å·¥ç¨‹å¸ˆ&lt;br&gt;
GoæœåŠ¡å™¨ç«¯\æ¸¸æˆè½¯ä»¶å·¥ç¨‹å¸ˆï¼šä¾‹å¦‚å¤„ç†æ—¥å¿—ã€æ•°æ®æ‰“åŒ…ã€è™šæ‹Ÿæœºå¤„ç†ã€æ–‡ä»¶ç³»ç»Ÿç­‰ï¼Œé€‚åˆæ•°æ®å¤„ç†ï¼Œå¤„ç†å¤§å¹¶å‘&lt;br&gt;
Golangåˆ†å¸ƒå¼\äº‘è®¡ç®—è½¯ä»¶å·¥ç¨‹å¸ˆ&lt;/p&gt;
&lt;h1 id=&#34;golangç®€ä»‹&#34;&gt;golangç®€ä»‹&lt;/h1&gt;
&lt;p&gt;2007å¹´è¯ç”ŸGoè¯­è¨€ï¼Œ2009å¹´å‘å…¨çƒå¼€æ”¾æºä»£ç ï¼Œ2015å¹´åœ¨1.5ç‰ˆæœ¬ä¸­ç§»é™¤äº†æœ€åæ®‹ä½™çš„Cä»£ç &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘æ˜è€…ï¼š
&lt;ol&gt;
&lt;li&gt;Ken Thomponï¼ˆè‚¯Â·æ±¤æ™®æ£®ï¼‰ï¼šUnixçš„åŸåˆ›è€…ã€Cè¯­è¨€ã€å›¾çµå¥–ã€ç¾å›½å›½å®¶æŠ€æœ¯å¥–ç­‰&lt;/li&gt;
&lt;li&gt;Rob Pikeï¼ˆç½—å¸ƒÂ·æ´¾å…‹ï¼‰ï¼šUnixå›¢é˜Ÿæˆå‘˜ã€Plan9æ“ä½œç³»ç»Ÿè®¡åˆ’æˆå‘˜ã€UTF-8ã€å¥¥è¿ä¼šå°„ç®­é“¶ç‰Œã€å¤©æ–‡å­¦å®¶&lt;/li&gt;
&lt;li&gt;Robert Griesemerï¼ˆç½—ä¼¯ç‰¹Â·æ ¼ç‘å²è«ï¼‰ï¼šJavaçš„HotSpotç¼–è¯‘å™¨ã€Chromeæµè§ˆå™¨çš„JavaScriptå¼•æ“V8&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å‘æ˜è¯¥è¯­è¨€çš„åˆè¡·ï¼š
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æœºç¡¬ä»¶æ›´æ–°é¢‘ç¹ï¼Œæ€§èƒ½æé«˜å¾ˆå¿«ï¼Œç›®å‰ä¸»æµçš„ç¼–ç¨‹è¯­è¨€å‘å±•æ˜æ˜¾è½åäºç¡¬ä»¶ï¼Œ&lt;strong&gt;ä¸èƒ½åˆç†åˆ©ç”¨å¤šæ ¸CPUçš„ä¼˜åŠ¿æé«˜è½¯ä»¶ç³»ç»Ÿæ€§èƒ½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è½¯ä»¶ç³»ç»Ÿå¤æ‚åº¦è¶Šæ¥è¶Šé«˜ï¼Œç»´æŠ¤æˆæœ¬è¶Šæ¥è¶Šé«˜ï¼Œ&lt;strong&gt;ç›®å‰ç¼ºä¹ä¸€ä¸ªè¶³å¤Ÿç®€æ´é«˜æ•ˆçš„ç¼–ç¨‹è¯­è¨€&lt;/strong&gt;ã€‚ç›®å‰è¯­è¨€å­˜åœ¨3ä¸ªé€šç—…ï¼Œä¸€æ˜¯é£æ ¼ä¸ç»Ÿä¸€ï¼ŒäºŒæ˜¯è®¡ç®—èƒ½åŠ›ä¸å¤Ÿï¼Œä¸‰æ˜¯å¤„ç†å¤§å¹¶å‘ä¸å¤Ÿå¥½&lt;/li&gt;
&lt;li&gt;ä¼ä¸šè¿è¡Œç»´æŠ¤å¾ˆå¤šC/C++é¡¹ç›®ï¼ŒC/C++ç¨‹åºè¿è¡Œé€Ÿåº¦è™½ç„¶å¾ˆå¿«ï¼Œä½†æ˜¯ç¼–è¯‘é€Ÿåº¦å¾ˆæ…¢ï¼ŒåŒæ—¶è¿˜å­˜åœ¨&lt;strong&gt;å†…å­˜æ³„æ¼&lt;/strong&gt;çš„ä¸€ç³»åˆ—çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;golangç‰¹ç‚¹&lt;br&gt;
Goè¯­è¨€ä¿è¯äº†æ—¢èƒ½è¾¾åˆ°é™æ€ç¼–è¯‘è¯­è¨€çš„å®‰å…¨å’Œæ€§èƒ½ï¼Œåˆè¾¾åˆ°åŠ¨æ€è¯­è¨€å¼€å‘ç»´æŠ¤çš„é«˜æ•ˆç‡ï¼Œä½¿ç”¨ä¸€ä¸ªè¡¨è¾¾å¼æ¥å½¢å®¹Goè¯­è¨€ï¼š&lt;strong&gt;GO=C+Python&lt;/strong&gt;ï¼Œæ—¢æœ‰&lt;strong&gt;Cé™æ€è¯­è¨€ç¨‹åºè¿è¡Œé€Ÿåº¦&lt;/strong&gt;ï¼Œåˆæœ‰&lt;strong&gt;PythonåŠ¨æ€è¯­è¨€çš„å¿«é€Ÿå¼€å‘&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ä»Cè¯­è¨€ä¸­ç»§æ‰¿å¾ˆå¤šç†å¿µï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼è¯­æ³•ã€æ§åˆ¶ç»“æ„ã€åŸºç¡€æ•°æ®ç±»å‹ã€è°ƒç”¨å‚æ•°ä¼ å€¼ã€æŒ‡é’ˆç­‰ï¼Œä¹Ÿä¿ç•™äº†&lt;strong&gt;å’ŒCä¸€æ ·çš„ç¼–è¯‘æ‰§è¡Œæ–¹å¼ä»¥åŠå¼±åŒ–çš„æŒ‡é’ˆ&lt;/strong&gt;&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// goè¯­è¨€çš„æŒ‡é’ˆ
func testZZ(num *int){
    *num = 20
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;å¼•å…¥åŒ…çš„æ¦‚å¿µï¼Œç”¨äºç»„ç»‡ç¨‹åºç»“æ„ï¼Œ&lt;strong&gt;golangçš„ä¸€ä¸ªæ–‡ä»¶éƒ½è¦å½’å±äºä¸€ä¸ªåŒ…&lt;/strong&gt;ï¼Œè€Œä¸èƒ½å•ç‹¬å­˜åœ¨&lt;/li&gt;
&lt;li&gt;åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œè‡ªåŠ¨å†…å­˜å›æ”¶ï¼Œä¸éœ€è¦å¼€å‘äººå‘˜ç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤©ç„¶å¹¶å‘&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ä»è¯­è¨€å±‚é¢æ”¯æŒå¹¶å‘ï¼Œå®ç°ç®€å•&lt;/li&gt;
&lt;li&gt;goroutineï¼Œè½»é‡çº§çº¿ç¨‹ï¼Œå¯å®ç°å¤§å¹¶å‘å¤„ç†ï¼Œæç¬‘åˆ©ç”¨å¤šæ ¸&lt;/li&gt;
&lt;li&gt;åŸºäºCPSï¼ˆcommunicating sequential processesï¼‰å¹¶å‘æ¨¡å‹å®ç°&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¸æ”¶ç®¡é“é€šä¿¡æœºåˆ¶ï¼Œå½¢æˆGoè¯­è¨€ç‰¹æœ‰çš„ç®¡é“channelï¼Œé€šè¿‡channelå¯ä»¥å®ç°ä¸åŒçš„gorouteä¹‹é—´çš„ç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// goå‡½æ•°æ”¯æŒè¿”å›å¤šä¸ªå€¼ï¼ˆå†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°åŒæ—¶è¿”å›å’Œä¸å·®ï¼‰
func GetSumAndSub(n1 int,n2 int)(int,int){
    sum := n1+n2 //goè¯­å¥åé¢ä¸éœ€è¦å¸¦åˆ†å·
    sub := n1-n2
    return sum,sub
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;æ–°çš„åˆ›æ–°ï¼Œä¾‹å¦‚åˆ‡ç‰‡sliceã€å»¶æ—¶æ‰§è¡Œdeferç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å¼€å‘å·¥å…·&#34;&gt;å¼€å‘å·¥å…·&lt;/h1&gt;
&lt;h2 id=&#34;ç¯å¢ƒ&#34;&gt;ç¯å¢ƒ&lt;/h2&gt;
&lt;p&gt;è¯­è¨€ç¯å¢ƒ&lt;a href=&#34;https://golang.google.cn/dl/&#34;&gt;https://golang.google.cn/dl/&lt;/a&gt;ï¼Œé‡‡ç”¨é»˜è®¤å®‰è£…æ–¹å¼ï¼Œå…¨éƒ¨ç‚¹å‡»â€œä¸‹ä¸€æ­¥â€å³å¯ï¼ŒæŸ¥çœ‹å®‰è£…çš„golangçš„ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;C:\Users\Administrator\Desktop&amp;gt;go version
go version go1.16.6 windows/amd64
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;GOROOTï¼šæŒ‡å®šSDKçš„å®‰è£…è·¯å¾„ï¼Œé»˜è®¤æ˜¯C:\Program Files\Go
Pathï¼šæ·»åŠ SDKçš„binç›®å½•ï¼Œé»˜è®¤æ˜¯C:\Program Files\Go\bin
GOPATHï¼šå·¥ä½œç›®å½•ï¼Œgoé¡¹ç›®çš„å·¥ä½œè·¯å¾„
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Linuxé…ç½®goçš„ç¯å¢ƒå˜é‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/profile
    export GOROOT=/opt/go
    export PATH=$PATH:$GOROOT/bin
    export GOPATH=$HOME/goproject
source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ide&#34;&gt;IDE&lt;/h2&gt;
&lt;p&gt;å¼€å‘IDEæ¨èVScodeæˆ–è€…GoLandï¼ˆæ”¶è´¹ï¼‰ï¼Œæœ¬äººä½¿ç”¨çš„æ˜¯GoLandï¼Œå› ä¸ºå·²ç»è´­ä¹°è¿‡JetBrainså…¨å®¶æ¡¶ï¼Œå¹¶ä¸”è¿™ä¸ªå·¥å…·åœ¨è‡ªåŠ¨å®Œæˆå’Œæç¤ºæ–¹é¢åšçš„æ¯”å…¶ä»–è½¯ä»¶æ›´å¥½ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å¼€å‘å…¥é—¨&#34;&gt;å¼€å‘å…¥é—¨&lt;/h1&gt;
&lt;h2 id=&#34;hello-world&#34;&gt;hello world&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1626959380727.png&#34; alt=&#34;hello world&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// hello.go
// å­¦ä¹ æ‰“å°hello world
package main
import &amp;quot;fmt&amp;quot;
func main()  {
	fmt.Println(&amp;quot;hello,world!&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;goæ–‡ä»¶çš„åç¼€&lt;code&gt;.go&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;package main&lt;/code&gt;è¡¨ç¤ºè¯¥hello.goæ–‡ä»¶æ‰€åœ¨çš„åŒ…æ˜¯mainï¼Œåœ¨goä¸­ï¼Œæ¯ä¸ªæ–‡ä»¶å¿…é¡»å½’å±äºä¸€ä¸ªåŒ…&lt;/li&gt;
&lt;li&gt;&lt;code&gt;import &amp;quot;fmt&amp;quot;&lt;/code&gt;è¡¨ç¤ºå¼•å…¥ä¸€ä¸ªåŒ…ï¼ŒåŒ…åfmtï¼Œå¼•å…¥è¯¥åŒ…åï¼Œå°±å¯ä»¥ä½¿ç”¨fmtçš„åŒ…å‡½æ•°ï¼Œä¾‹å¦‚&lt;code&gt;fmt.Println&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;func main() {}&lt;/code&gt;ï¼Œfuncæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œè¡¨ç¤ºä¸€ä¸ªå‡½æ•°ï¼›mainæ˜¯å‡½æ•°åï¼Œæ˜¯ä¸€ä¸ªä¸»å‡½æ•°ï¼Œå³ç¨‹åºçš„å…¥å£&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fmt.Println(&amp;quot;hello,world!&amp;quot;)&lt;/code&gt;è¡¨ç¤ºè°ƒç”¨fmtåŒ…å‡½æ•°Printlnè¾“å‡º&lt;code&gt;&amp;quot;hello,world!&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;è¿è¡Œ&lt;/strong&gt;ï¼š&lt;br&gt;
é€šè¿‡&lt;code&gt;go run goç¨‹åºæ–‡ä»¶&lt;/code&gt;è¿è¡Œgoç¨‹åºï¼Œä¾‹å¦‚&lt;code&gt;go run hello.go&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;D:\goproject\src\go_code&amp;gt;go run hello.go
hello,world!
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç¼–è¯‘&lt;/strong&gt;ï¼š&lt;br&gt;
é€šè¿‡&lt;code&gt;go build goç¨‹åºæ–‡ä»¶&lt;/code&gt;å¯¹goç¨‹åºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œä¾‹å¦‚&lt;code&gt;go build hello.go&lt;/code&gt;ï¼Œç”Ÿæˆhello.exe&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; D:\goproject\src\go_code çš„ç›®å½•

2021/07/22  21:08    &amp;lt;DIR&amp;gt;          .
2021/07/22  21:08    &amp;lt;DIR&amp;gt;          ..
2021/07/22  21:08               103 hello.go
               1 ä¸ªæ–‡ä»¶            103 å­—èŠ‚
               2 ä¸ªç›®å½• 175,634,698,240 å¯ç”¨å­—èŠ‚

D:\goproject\src\go_code&amp;gt;go build hello.go

D:\goproject\src\go_code&amp;gt;hello.exe
hello,world!

D:\goproject\src\go_code&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰§è¡Œæµç¨‹åˆ†æ&#34;&gt;æ‰§è¡Œæµç¨‹åˆ†æ&lt;/h2&gt;
&lt;p&gt;æ‰§è¡Œæ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹æºç ç¼–è¯‘åå†æ‰§è¡Œ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1626962427535.png&#34; alt=&#34;å¯¹æºç ç¼–è¯‘åå†æ‰§è¡Œ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç›´æ¥ä½¿ç”¨go runæ‰§è¡Œæºä»£ç &lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1626962431376.png&#34; alt=&#34;ç›´æ¥ä½¿ç”¨go runæ‰§è¡Œæºä»£ç &#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸¤ç§æ‰§è¡Œæµç¨‹çš„æ–¹å¼åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå…ˆç¼–è¯‘ç”Ÿæˆäº†å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ™å¯ä»¥å°†è¯¥æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°æ²¡æœ‰goå¼€å‘ç¯å¢ƒçš„æœºå™¨ä¸Šï¼Œä»ç„¶å¯ä»¥è¿è¡Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨go runæ‰§è¡Œgoä»£ç ï¼Œåˆ™ç§»æ¤åˆ°å…¶ä»–çš„ç³»ç»Ÿä¸Šæ—¶éœ€è¦goå¼€å‘ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå°†ç¨‹åºçš„ä¾èµ–åº“æ–‡ä»¶ä¸€èµ·ç¼–è¯‘åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå› æ­¤å¯æ‰§è¡Œæ–‡ä»¶è¦æ¯”æºä»£ç å¤§å¾ˆå¤š&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¼€å‘æ³¨æ„äº‹é¡¹&#34;&gt;å¼€å‘æ³¨æ„äº‹é¡¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;goæºæ–‡ä»¶ä»¥.goä¸ºæ‰©å±•å&lt;/li&gt;
&lt;li&gt;goåº”ç”¨ç¨‹åºçš„æ‰§è¡Œå…¥å£æ˜¯main()å‡½æ•°&lt;/li&gt;
&lt;li&gt;goè¯­è¨€ä¸¥æ ¼åŒºåˆ†å¤§å°å†™&lt;/li&gt;
&lt;li&gt;goæ–¹æ³•ç”±ä¸€æ¡æ¡è¯­å¥æ„æˆï¼Œ&lt;strong&gt;æ¯ä¸ªè¯­å¥åä¸éœ€è¦åˆ†å·&lt;/strong&gt;ï¼ˆgoè¯­è¨€ä¼šåœ¨æ¯è¡Œè¯­å¥åè‡ªåŠ¨åŠ åˆ†å·ï¼‰&lt;/li&gt;
&lt;li&gt;goç¼–è¯‘å™¨æ˜¯ä¸€è¡Œä¸€è¡Œè¿›è¡Œç¼–è¯‘çš„ï¼Œå› æ­¤ä¸€è¡Œåªèƒ½å†™ä¸€æ¡è¯­å¥ï¼Œä¸èƒ½æŠŠå¤šæ¡è¯­å¥å†™åœ¨åŒä¸€è¡Œ&lt;/li&gt;
&lt;li&gt;goè¯­è¨€å®šä¹‰çš„å˜é‡æˆ–è€…importçš„åŒ…å¦‚æœ&lt;strong&gt;æ²¡æœ‰ç”¨åˆ°ï¼Œåˆ™ä»£ç ç¼–è¯‘ä¸é€šè¿‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¤§æ‹¬å·éƒ½æ˜¯æˆå¯¹å‡ºç°çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;goè¯­è¨€çš„è½¬ä¹‰å­—ç¬¦&#34;&gt;goè¯­è¨€çš„è½¬ä¹‰å­—ç¬¦&lt;/h2&gt;
&lt;p&gt;å¸¸ç”¨è½¬ä¹‰å­—ç¬¦å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;\tï¼šè¡¨ç¤ºä¸€ä¸ªåˆ¶è¡¨ç¬¦ï¼Œé€šå¸¸ä½¿ç”¨å®ƒè¿›è¡Œæ’ç‰ˆ
\nï¼šæ¢è¡Œç¬¦
\\ï¼šä¸€ä¸ª\
\&amp;quot;ï¼šä¸€ä¸ª&amp;quot;
\rï¼šä¸€ä¸ªå›è½¦
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ³¨é‡Š&#34;&gt;æ³¨é‡Š&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;1. è¡Œæ³¨é‡Š
// æ³¨é‡Šå†…å®¹
2. å—æ³¨é‡Šï¼ˆå¤šè¡Œæ³¨é‡Šï¼‰ï¼šå—æ³¨é‡Šä¸å…è®¸åµŒå¥—
/*
æ³¨é‡Šå†…å®¹
*/
&lt;/code&gt;&lt;/pre&gt;
">golang ç¬¬ä¸€ç« +ç¬¬äºŒç«  æ¦‚è¿°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/suan-mei-tang/"" data-c="
          &lt;h1 id=&#34;é…æ–¹&#34;&gt;é…æ–¹&lt;/h1&gt;
&lt;p&gt;è¿™æ˜¯ä¸ªäººä»å¥¶å¥¶é‚£é‡Œå¾—åˆ°çš„é…æ–¹ï¼Œå…¶å®å¥¶å¥¶åœ¨ç»™æˆ‘è¯´çš„æ—¶å€™ï¼Œæ²¡æœ‰ç²¾ç¡®åˆ°å“ªç§ææ–™å¤šå°‘å…‹ï¼Œå¥¹æ˜¯ä¸€ä¸ªåœ°é“æœ´å®çš„å†œæ‘è€å¦ªï¼Œåœ¨å‘Šè¯‰æˆ‘é…æ–¹çš„æ—¶å€™æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œâ€œä¹Œæ¢…ä¸€æ§ã€å¹²æ©˜å­çš®ä¸€å°æã€å†°ç³–ä¸¤å¤§æŠŠã€ä¸¤ç“¢æ°´......â€ï¼Œåæ¥ç»è¿‡å»é™„è¿‘çš„è¯æˆ¿ä¸æ–­çš„æŠ“è¯è¯•ç…®ï¼Œå¾—åˆ°ä»¥ä¸‹ä¸€ä¸ªé…æ–¹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;é…æ–¹-2&#34;&gt;é…æ–¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ°´2å‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æ–™&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ä¹Œæ¢…25g&lt;/li&gt;
&lt;li&gt;ä¹Œæ£25gï¼ˆåŸå…ˆæ˜¯æ²¡æœ‰ä¹Œæ£çš„ï¼Œæ˜¯50gçš„ä¹Œæ¢…ï¼Œåæ¥è°ƒæ•´ä¸ºä¹Œæ£ä¹Œæ¢…å„åŠï¼Œå¦åˆ™å¤ªé…¸äº†ã€‚ä¹Œæ£å’Œä¹Œæ¢…å¤§æ¦‚50gï¼Œå¯ä»¥æ ¹æ®ä¸ªäººå£å‘³è°ƒæ•´æ¯”ä¾‹ï¼‰&lt;/li&gt;
&lt;li&gt;å±±æ¥‚30gï¼ˆè¿™ä¸ªå¯ä»¥10gåˆ°30gï¼Œå¯ä»¥æ ¹æ®ä¸ªäººå£å‘³è°ƒæ•´ï¼Œå­•å¦‡å–åˆ™å»æ‰æ­¤ï¼‰&lt;/li&gt;
&lt;li&gt;ç”˜è‰2gï¼ˆ2~6gï¼Œæ ¹æ®ä¸ªäººå£å‘³è°ƒæ•´ï¼‰&lt;/li&gt;
&lt;li&gt;é™ˆçš®4gï¼ˆ4~10gï¼Œæ ¹æ®ä¸ªäººå£å‘³è°ƒæ•´ï¼‰&lt;/li&gt;
&lt;li&gt;çº¢è±†è”»1gï¼ˆå¯ä»¥ç”¨8gå·¦å³çš„ç«ç‘°èŒ„æˆ–è€…æ´›ç¥èŠ±ä»£æ›¿ï¼‰&lt;/li&gt;
&lt;li&gt;å¯é€‰ææ–™ï¼š
&lt;ol&gt;
&lt;li&gt;è–„è·å¶2gï¼ˆå¯ä»¥ä¸åŠ ï¼‰&lt;/li&gt;
&lt;li&gt;æ¡‘è‘š5gï¼ˆå¯ä»¥ä¸åŠ ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…æ–™&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;é»„å†°ç³–100gï¼ˆå› ä¸ºä¹Œæ¢…çš„é‡å‡å°‘äº†ï¼Œæ‰€ä»¥è¿™é‡Œç³–å°±æ²¡é‚£ä¹ˆå¤šï¼‰&lt;/li&gt;
&lt;li&gt;å¹²æ¡‚èŠ±3g&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åˆ¶ä½œ&#34;&gt;åˆ¶ä½œ&lt;/h1&gt;
&lt;p&gt;æ–¹æ³•ä¸€åˆ¶ä½œæ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯å‘³é“æœ€æ­£ï¼›æ–¹æ³•äºŒæ¯”è¾ƒçœäº‹ï¼Œä½†æ˜¯èƒ½å–ï¼Œæ¯”å¤–è¾¹ç”¨å†²å‰‚è°ƒçš„å¥½å–ã€‚&lt;br&gt;
&lt;strong&gt;ç…®é…¸æ¢…æ±¤çš„é”…å…·é€‰æ‹©&lt;/strong&gt;ï¼šç¦ç”¨é“é”…ï¼›å¯ä»¥ç”¨ä¸é”ˆé’¢é”…ï¼Œä¾‹å¦‚å…»ç”Ÿå£¶ã€ç”µé¥­ç…²ï¼›ä¼˜é€‰é™¶ç“·é”…ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–¹æ³•ä¸€&#34;&gt;æ–¹æ³•ä¸€&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€æ¬¡ç…®
&lt;ol&gt;
&lt;li&gt;å°†ä¸»æ–™æ°´æ´—ï¼Œç„¶åè£…å…¥æ–™åŒ…ï¼ˆæ²¡æœ‰æ–™åŒ…çš„ï¼Œå¯ä»¥ä¸ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;é”…ä¸­å€’å…¥1.5Læ°´ï¼Œç„¶ååŠ å…¥æ´—å¥½çš„ä¸»æ–™&lt;/li&gt;
&lt;li&gt;å¤§ç«ç…®æ²¸ï¼Œè½¬å°ç«ç»§ç»­ç…®40~50åˆ†é’Ÿ&lt;/li&gt;
&lt;li&gt;å°†ç¬¬ä¸€æ¬¡ç…®å¥½çš„é…¸æ¢…æ±¤è¿‡æ»¤å‡ºæ¥ï¼ˆç¦æ­¢ç”¨é“ç›†ï¼Œå¯ä»¥ä½¿ç”¨ç»ç’ƒç›†æˆ–è€…ä¸é”ˆé’¢ç›†ç››æ”¾ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¬¡ç…®
&lt;ol&gt;
&lt;li&gt;å°†è¿‡æ»¤å‡ºçš„ä¸»æ–™ç»§ç»­åŠ å…¥é”…ä¸­ï¼Œå€’å…¥0.5Læ°´ï¼Œç»§ç»­ç…®20~30åˆ†é’Ÿ&lt;/li&gt;
&lt;li&gt;å°†ç¬¬äºŒæ¬¡ç…®å¥½çš„é…¸æ¢…æ±¤è¿‡æ»¤å‡ºæ¥ï¼Œä¸ç¬¬ä¸€æ¬¡ç…®å¥½çš„é…¸æ¢…æ±¤æ··åˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ·»åŠ é…æ–™
&lt;ol&gt;
&lt;li&gt;åŠ å…¥é»„å†°ç³–æ…æ‹Œï¼Œç›´è‡³å…¨éƒ¨èåŒ–&lt;/li&gt;
&lt;li&gt;åŠ å…¥æ¡‚èŠ±å¢é¦™ï¼Œæ”¾å‡‰è‡³å®¤æ¸©ï¼Œç„¶åè£…ç“¶æˆ–è€…ç›´æ¥æ”¾å…¥å†°ç®±å†·è—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ–¹æ³•äºŒ&#34;&gt;æ–¹æ³•äºŒ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥å°†æ´—å¥½çš„ä¸»æ–™æ”¾å…¥é”…ä¸­ï¼ŒåŠ å…¥2Læ°´&lt;/li&gt;
&lt;li&gt;ç…®å¼€ä¹‹åï¼Œè½¬å°ç«ç»§ç»­ç…®20åˆ†é’Ÿå·¦å³ï¼Œç„¶åä¿æ¸©1å°æ—¶ä»¥ä¸Š&lt;/li&gt;
&lt;li&gt;æ·»åŠ é…æ–™çš„æ–¹å¼å’Œæ–¹æ³•ä¸€ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
">é…¸æ¢…æ±¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/gitandgithub/"" data-c="
          &lt;h1 id=&#34;ç‰ˆæœ¬æ§åˆ¶&#34;&gt;ç‰ˆæœ¬æ§åˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;1-ç‰ˆæœ¬æ§åˆ¶å·¥å…·åº”è¯¥å…·å¤‡çš„åŠŸèƒ½&#34;&gt;1. ç‰ˆæœ¬æ§åˆ¶å·¥å…·åº”è¯¥å…·å¤‡çš„åŠŸèƒ½&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ååŒä¿®æ”¹&lt;br&gt;
å¤šäººå¹¶è¡Œä¸æ‚–çš„ä¿®æ”¹æœåŠ¡å™¨ç«¯çš„åŒä¸€ä¸ªæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ•°æ®å¤‡ä»½&lt;br&gt;
ä¸ä»…ä¿å­˜ç›®å½•å’Œæ–‡ä»¶çš„å½“å‰çŠ¶æ€ï¼Œè¿˜èƒ½å¤Ÿä¿å­˜æ¯ä¸€ä¸ªæäº¤è¿‡çš„å†å²çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ç‰ˆæœ¬ç®¡ç†&lt;br&gt;
åœ¨ä¿å­˜æ¯ä¸€ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ä¿¡æ¯çš„æ—¶å€™è¦åšåˆ°ä¸ä¿å­˜é‡å¤æ•°æ®ï¼Œä»¥èŠ‚çº¦å­˜å‚¨ç©ºé—´ï¼Œæé«˜è¿è¡Œæ•ˆç‡&lt;br&gt;
&lt;strong&gt;è¿™æ–¹é¢SVNé‡‡ç”¨çš„æ˜¯å¢é‡å¼ç®¡ç†çš„æ–¹å¼ï¼Œè€ŒGité‡‡å–äº†æ–‡ä»¶ç³»ç»Ÿå¿«ç…§çš„æ–¹å¼&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æƒé™æ§åˆ¶&lt;br&gt;
å¯¹å›¢é˜Ÿä¸­å‚ä¸å¼€å‘çš„äººå‘˜è¿›è¡Œæƒé™æ§åˆ¶&lt;br&gt;
å¯¹å›¢é˜Ÿå¤–å¼€å‘è€…è´¡çŒ®çš„ä»£ç è¿›è¡Œå®¡æ ¸&lt;code&gt;Gitç‹¬æœ‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å†å²è®°å½•&lt;br&gt;
æŸ¥çœ‹ä¿®æ”¹äººã€ä¿®æ”¹æ—¶é—´ã€ä¿®æ”¹å†…å®¹ã€æ—¥å¿—ä¿¡æ¯&lt;br&gt;
å°†æœ¬åœ°æ–‡ä»¶æ¢å¤åˆ°æŸä¸€ä¸ªå†å²çŠ¶æ€&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯ç®¡ç†&lt;br&gt;
å…è®¸å¼€å‘å›¢é˜Ÿåœ¨å·¥ä½œè¿‡ç¨‹ä¸­å¤šæ¡ç”Ÿäº§çº¿åŒæ—¶æ¨è¿›ä»»åŠ¡ï¼Œè¿›ä¸€æ­¥æé«˜æ•ˆç‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-ç‰ˆæœ¬æ§åˆ¶ä»‹ç»&#34;&gt;2. ç‰ˆæœ¬æ§åˆ¶ä»‹ç»&lt;/h2&gt;
&lt;p&gt;é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·&lt;code&gt;å­˜åœ¨å•ç‚¹æ•…éšœ&lt;/code&gt;ï¼šCVSã€SVNã€VSS&lt;br&gt;
åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼šGitã€Mercurialã€Bazaarã€Darcs&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;gitç®€ä»‹&#34;&gt;Gitç®€ä»‹&lt;/h1&gt;
&lt;h2 id=&#34;1-ç®€å²&#34;&gt;1. ç®€å²&lt;/h2&gt;
&lt;p&gt;Linuxç³»ç»Ÿå¼€å‘çš„ç‰ˆæœ¬æ§åˆ¶å†å²ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1991å¹´ï¼ŒLinusæœ¬äººæ‰‹åŠ¨åˆå¹¶ä»£ç &lt;/li&gt;
&lt;li&gt;2002å¹´ï¼ŒBitKeeperæˆæƒLinuxç¤¾åŒºå…è´¹ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½†è¦æ±‚ä¸èƒ½è¿›è¡Œç ´è§£&lt;/li&gt;
&lt;li&gt;2005å¹´ï¼Œå¼€å‘Sambaçš„Andrewè¯†å›¾ç ´è§£BitKeeperçš„åè®®ï¼Œè¢«BitMoverå…¬å¸å‘ç°ï¼Œè¦æ”¶å›Linuxç¤¾åŒºçš„å…è´¹ä½¿ç”¨æƒã€‚ç„¶åï¼ŒLinusè‡ªå·±ç”¨Cè¯­è¨€å¼€å‘ä¸€ä¸ªåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸGitï¼Œä¸»ä½“ç¨‹åºå¼€å‘å®Œæˆåªç”¨äº†ä¸¤å‘¨ï¼Œä¸€ä¸ªæœˆåLinuxç³»ç»Ÿä»£ç ç”±Gitç®¡ç†ï¼ŒGitå®˜ç½‘&lt;a href=&#34;https://git-scm.com&#34;&gt;https://git-scm.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;2008å¹´ï¼ŒGitHubä¸Šçº¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-ä¼˜åŠ¿&#34;&gt;2. ä¼˜åŠ¿&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¤§éƒ¨åˆ†æ“ä½œåœ¨æœ¬åœ°å®Œæˆï¼Œä¸éœ€è¦è”ç½‘&lt;/li&gt;
&lt;li&gt;å®Œæ•´æ€§ä¿è¯&lt;/li&gt;
&lt;li&gt;å°½å¯èƒ½æ·»åŠ æ•°æ®è€Œä¸æ˜¯åˆ é™¤æˆ–è€…ä¿®æ”¹æ•°æ®&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯æ“ä½œéå¸¸å¿«æ·æµç•…&lt;/li&gt;
&lt;li&gt;ä¸Linuxå‘½ä»¤å…¨é¢å…¼å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-gitå®‰è£…&#34;&gt;3. Gitå®‰è£…&lt;/h2&gt;
&lt;p&gt;Gitä¸‹è½½é“¾æ¥&lt;a href=&#34;https://git-scm.com/download/win&#34;&gt;https://git-scm.com/download/win&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…ç›®å½•ä¸ºéä¸­æ–‡æ— ç©ºæ ¼ç›®å½•&lt;/li&gt;
&lt;li&gt;&amp;quot;Use Vim as Gits default editor&amp;quot;ï¼Œå»ºè®®ä½¿ç”¨Vimç¼–è¾‘å™¨&lt;/li&gt;
&lt;li&gt;&amp;quot;Use Git from Git Bash only&amp;quot;ï¼Œå®Œå…¨ä¸ä¿®æ”¹PATHç¯å¢ƒå˜é‡ï¼Œä»…åœ¨Git bashä¸­ä½¿ç”¨Git&lt;code&gt;è¿™æ˜¯æœ€å®‰å…¨çš„é€‰æ‹©ï¼Œå»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–é€‰é¡¹é»˜è®¤å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-gitç»“æ„&#34;&gt;4. Gitç»“æ„&lt;/h2&gt;
&lt;p&gt;åˆ†3ä¸ªåŒºï¼Œç”¨äºå†™ä»£ç çš„å·¥ä½œåŒºï¼Œä¸´æ—¶å­˜å‚¨çš„æš‚å­˜åŒºï¼Œç”¨äºå­˜æ”¾å†å²ç‰ˆæœ¬çš„æœ¬åœ°åº“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1621391659099.png&#34; alt=&#34;Gitç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-gitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ&#34;&gt;5. Gitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ&lt;/h2&gt;
&lt;p&gt;ä»£ç æ‰˜ç®¡ä¸­å¿ƒçš„èŒè´£ï¼š&lt;strong&gt;ç»´æŠ¤è¿œç¨‹åº“&lt;/strong&gt;ï¼Œæ›´åŠ æ–¹ä¾¿å›¢é˜Ÿæˆ–è€…è·¨å›¢é˜Ÿåä½œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å±€åŸŸç½‘ç¯å¢ƒä¸‹ï¼šGitLabæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;å¤–ç½‘ç¯å¢ƒä¸‹ï¼šGitHubæˆ–è€…ç äº‘ç­‰ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-æœ¬åœ°åº“å’Œè¿œç¨‹åº“&#34;&gt;6. æœ¬åœ°åº“å’Œè¿œç¨‹åº“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å›¢é˜Ÿå†…éƒ¨åä½œ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1621394267812.png&#34; alt=&#34;å›¢é˜Ÿå†…éƒ¨åä½œ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;è·¨å›¢é˜Ÿåä½œ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1621414924221.png&#34; alt=&#34;è·¨å›¢é˜Ÿåä½œ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;gitæ“ä½œ&#34;&gt;Gitæ“ä½œ&lt;/h1&gt;
&lt;h2 id=&#34;1-æœ¬åœ°åº“åˆå§‹åŒ–&#34;&gt;1. æœ¬åœ°åº“åˆå§‹åŒ–&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆå§‹åŒ–ï¼Œç”Ÿæˆ.gitæ–‡ä»¶å¤¹
git init 
# .gitç›®å½•ä¸­å­˜æ”¾çš„æ˜¯æœ¬åœ°åº“ç›¸å…³çš„å­ç›®å½•å’Œæ–‡ä»¶ï¼Œä¸éœ€è¦åˆ é™¤ä¸”è°¨æ…ä¿®æ”¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-è®¾ç½®ç­¾å&#34;&gt;2. è®¾ç½®ç­¾å&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥åŒºåˆ†ä¸åŒå¼€å‘äººå‘˜çš„èº«ä»½ï¼Œä½†è¿™é‡Œçš„ç­¾åå’Œç™»é™†è¿œç¨‹åº“ï¼ˆä»£ç æ‰˜ç®¡ä¸­å¿ƒï¼‰çš„è´¦å·å’Œå¯†ç æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œéœ€è¦è®¾ç½®ç”¨æˆ·åã€é‚®ç®±ç­‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é¡¹ç›®çº§åˆ«/ä»“åº“çº§åˆ«&lt;/strong&gt;ï¼šä»…åœ¨å½“å‰æœ¬åœ°åº“èŒƒå›´å†…æœ‰æ•ˆ&lt;br&gt;
ä¿®æ”¹çš„æ˜¯é¡¹ç›®ç›®å½•ä¸‹æ–‡ä»¶&lt;code&gt;.git/config&lt;/code&gt;ï¼Œæ‰§è¡Œå‘½ä»¤å‰åå¯ä»¥ä½¿ç”¨&lt;code&gt;cat .git/config&lt;/code&gt;æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œæ·»åŠ äº†é…ç½®&lt;code&gt;[user]&lt;/code&gt;ã€‚ä¾‹å¦‚ç”¨æˆ·åä¸ºfqjã€é‚®ç®±ä¸ºfqj@163.com&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config user.name fqj
git config user.email fqj@163.com  # é‚®ä»¶å¯ä»¥ä¸è®¾ç½®ï¼Œä½†æ˜¯ç”¨æˆ·åå¿…é¡»è®¾ç½®
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿç”¨æˆ·çº§åˆ«&lt;/strong&gt;ï¼šç™»å½•å½“å‰æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·èŒƒå›´&lt;br&gt;
ä¿®æ”¹çš„æ˜¯æ–‡ä»¶&lt;code&gt;~/.gitconfig&lt;/code&gt;ï¼ˆå¯èƒ½ä¸å­˜åœ¨ï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤å‰åå¯ä»¥ä½¿ç”¨&lt;code&gt;cat ~/.gitconfig&lt;/code&gt;æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å†…å®¹ï¼Œæ·»åŠ äº†é…ç½®&lt;code&gt;[user]&lt;/code&gt;ã€‚ä¾‹å¦‚ç”¨æˆ·åä¸ºxufeiqiongã€é‚®ç®±ä¸ºxufeiqiong@163.com&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git config --global user.name xufeiqiong
git config --global user.email xufeiqiong@163.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;çº§åˆ«ä¼˜å…ˆçº§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å°±è¿‘åŸåˆ™&lt;/strong&gt;ï¼šé¡¹ç›®çº§åˆ«ä¼˜å…ˆäºç³»ç»Ÿç”¨æˆ·çº§åˆ«ï¼ŒäºŒè€…éƒ½æœ‰æ—¶é‡‡ç”¨é¡¹ç›®çº§åˆ«çš„ç­¾å&lt;/li&gt;
&lt;li&gt;å¦‚æœåªæœ‰ç³»ç»Ÿç”¨æˆ·çº§åˆ«çš„ç­¾åï¼Œå°±ä»¥ç³»ç»Ÿç”¨æˆ·çº§åˆ«çš„ç­¾åä¸ºå‡†&lt;/li&gt;
&lt;li&gt;å¦‚æœäºŒè€…éƒ½æ²¡æœ‰ï¼Œåˆ™ä¸åˆæ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-åŸºæœ¬æ“ä½œ&#34;&gt;3. åŸºæœ¬æ“ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;1-çŠ¶æ€-æ·»åŠ -æäº¤&#34;&gt;1. çŠ¶æ€ã€æ·»åŠ ã€æäº¤&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. çŠ¶æ€æŸ¥çœ‹
git status # æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„çŠ¶æ€
# 2. æ·»åŠ 
git add æ–‡ä»¶å # å°†å·¥ä½œåŒºçš„æ–°å»ºæˆ–è€…ä¿®æ”¹æ·»åŠ åˆ°æš‚å­˜åŒº
# 3. æäº¤
git commit -m æœ¬æ¬¡æäº¤çš„æè¿°  æ–‡ä»¶å  # å°†æš‚å­˜åŒºçš„å†…å®¹æäº¤åˆ°æœ¬åœ°åº“
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2-æ—¥å¿—ä¸å›æ»š&#34;&gt;2. æ—¥å¿—ä¸å›æ»š&lt;/h3&gt;
&lt;h4 id=&#34;1-æŸ¥çœ‹æ—¥å¿—&#34;&gt;1. æŸ¥çœ‹æ—¥å¿—&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. æäº¤æ—¥å¿—ä¿¡æ¯
git log
git log --pretty=oneline
git log --oneline
git reflog
# 2. æ•´ä¸ªæäº¤å†å²è®°å½•ï¼Œä½†è·³è¿‡åˆå¹¶
git log --no-merges
# 3. æäº¤æ›´æ”¹include/scsiæˆ–drivers/scsiå­ç›®å½•ä¸­çš„ä»»ä½•æ–‡ä»¶çš„æ‰€æœ‰æäº¤
git log master include/scsi drivers/scsi 
# 4. æœ€è¿‘ä¸¤å‘¨çš„æ›´æ”¹æ–‡ä»¶gitkï¼Œæ³¨æ„ï¼š --æ˜¯å¿…è¦çš„ï¼Œä»¥é¿å…ä¸åä¸ºgitkçš„åˆ†æ”¯æ··æ·†
git log --since=&amp;quot;2 weeks ago&amp;quot; -- gitk
# 5. æ˜¾ç¤ºâ€œtestâ€åˆ†æ”¯ä¸­å°šæœªåœ¨â€œreleaseâ€åˆ†æ”¯ä¸­çš„æäº¤ï¼Œä»¥åŠæ¯ä¸ªæäº¤ä¿®æ”¹çš„è·¯å¾„åˆ—è¡¨
git log --name-status release..test
# 6. æ˜¾ç¤ºæ›´æ”¹builtin/rev-list.cçš„æäº¤ï¼ŒåŒ…æ‹¬åœ¨æ–‡ä»¶è¢«èµ‹äºˆå…¶ç°æœ‰åç§°ä¹‹å‰å‘ç”Ÿçš„æäº¤
git log --follow builtin/rev-list.c
# 7. æ˜¾ç¤ºåœ¨ä»»ä½•æœ¬åœ°åˆ†æ”¯ä¸­çš„æ‰€æœ‰æäº¤ï¼Œä½†ä¸åŒ…æ‹¬ä»»ä½•è¿œç¨‹è·Ÿè¸ªåˆ†æ”¯æœºæ„çš„èµ·å§‹ç‚¹(originä¸å…·æœ‰)
git log --branches --not --remotes=origin
# 8. æ˜¾ç¤ºæœ¬åœ°ä¸»æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰æäº¤ï¼Œä½†ä¸æ˜¾ç¤ºä»»ä½•è¿œç¨‹å­˜å‚¨åº“ä¸»åˆ†æ”¯
git log master --not --remotes=*/master
# 9. æ˜¾ç¤ºå†å²ï¼ŒåŒ…æ‹¬å˜åŒ–å·®å¼‚
git log -p -m --first-parent
# 10. æ˜¾ç¤ºæ–‡ä»¶main.cä¸­çš„å‡½æ•°main()éšç€æ—¶é—´çš„æ¨ç§»è€Œæ¼”å˜
git log -L &#39;/int main/&#39;,/^}/:main.c
# 11. æ˜¾ç¤ºæœ€è¿‘ä¸‰æ¬¡çš„æäº¤
git log -3
# 12. æ ¹æ®æäº¤IDæŸ¥è¯¢æ—¥å¿—ï¼ˆcommit_idå¯ä»¥æ˜¯æäº¤å“ˆå¸Œå€¼çš„ç®€å†™æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨HEADä»£æ›¿ï¼‰
git log commit_id # æŸ¥è¯¢IDä¹‹å‰çš„è®°å½•
git log commit1_id commit2_id # æŸ¥è¯¢commit1ä¸commit2ä¹‹é—´çš„è®°å½•
git log commit1_id..commit2_id # åŒä¸Šï¼Œä½†æ˜¯ä¸åŒ…æ‹¬commit1
    # HEADä»£è¡¨æœ€åä¸€æ¬¡æäº¤ï¼ŒHEAD^ä¸ºæœ€åä¸€ä¸ªæäº¤çš„çˆ¶æäº¤ï¼Œç­‰åŒäºHEADï½1ï¼ŒHEADï½2ä»£è¡¨å€’æ•°ç¬¬äºŒæ¬¡æäº¤
    # --prettyæŒ‰æŒ‡å®šæ ¼å¼æ˜¾ç¤ºæ—¥å¿—ä¿¡æ¯ï¼Œå¯é€‰é¡¹æœ‰ï¼šoneline,short,medium,full,fuller,email,rawä»¥åŠformat:ï¼Œé»˜è®¤ä¸ºmediumï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥æŒ‡å®šé»˜è®¤çš„æ–¹å¼
    # git log (--pretty=)oneline
    # git log --pretty=format:&amp;quot;%an %ae %ad %cn %ce %cd %cr %s&amp;quot; --graph
    # å¸¸è§çš„formaté€‰é¡¹ï¼š
        # %H      æäº¤å¯¹è±¡(commit)çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
        # %h      æäº¤å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
        # %T      æ ‘å¯¹è±¡(tree)çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
        # %t      æ ‘å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
        # %P      çˆ¶å¯¹è±¡(parent)çš„å®Œæ•´å“ˆå¸Œå­—ä¸²
        # %p      çˆ¶å¯¹è±¡çš„ç®€çŸ­å“ˆå¸Œå­—ä¸²
        # %an     ä½œè€…(author)çš„åå­—
        # %ae     ä½œè€…çš„ç”µå­é‚®ä»¶åœ°å€
        # %ad     ä½œè€…ä¿®è®¢æ—¥æœŸ(å¯ä»¥ç”¨ -date= é€‰é¡¹å®šåˆ¶æ ¼å¼)
        # %ar     ä½œè€…ä¿®è®¢æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º
        # %cn     æäº¤è€…(committer)çš„åå­—
        # %ce     æäº¤è€…çš„ç”µå­é‚®ä»¶åœ°å€
        # %cd     æäº¤æ—¥æœŸ
        # %cr     æäº¤æ—¥æœŸï¼ŒæŒ‰å¤šä¹…ä»¥å‰çš„æ–¹å¼æ˜¾ç¤º
        # %s      æäº¤è¯´æ˜
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-å›æ»š&#34;&gt;2. å›æ»š&lt;/h4&gt;
&lt;p&gt;å›æ»šä¸å‰è¿›çš„æ–¹å¼æœ‰3ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºç´¢å¼•å€¼ï¼ˆ&lt;strong&gt;æ¨è&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;åŸºäºæŒ‡é’ˆHEADï¼ˆåªèƒ½åé€€ï¼‰
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨&amp;quot;^&amp;quot;ç¬¦å·&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&amp;quot;~&amp;quot;ç¬¦å·&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. åŸºäºç´¢å¼•å€¼æ“ä½œ[æ¨è]
git reset --hard [å±€éƒ¨ç´¢å¼•å€¼ï¼Œä¾‹å¦‚a6ace91] # å¦‚æœçœç•¥æŒ‡é’ˆï¼Œåˆ™é»˜è®¤æ˜¯æœ€æ–°çš„é‚£ä¸ªæŒ‡é’ˆ
# 2. ä½¿ç”¨^ç¬¦å·ï¼šåªèƒ½åé€€
git reset --hard HEAD^  # ä¸€ä¸ª^è¡¨ç¤ºåé€€ä¸€æ­¥ï¼Œnä¸ªè¡¨ç¤ºåé€€næ­¥
# 3. ä½¿ç”¨~ç¬¦å·ï¼šåªèƒ½åé€€
git reset --hard HEAD~n # è¡¨ç¤ºåé€€næ­¥

# resetå‘½ä»¤çš„ä¸‰ä¸ªå‚æ•°å¯¹æ¯”
--soft # ä»…ä»…åœ¨æœ¬åœ°åº“å›æ»š
--mixed # åœ¨æœ¬åœ°åº“å’Œæš‚å­˜åŒºå›æ»š
--hard # åœ¨æœ¬åœ°åº“ã€æš‚å­˜åŒºå’Œå·¥ä½œåŒºå›æ»š
# å¯ä»¥ä½¿ç”¨git help resetæŸ¥çœ‹æœ¬åœ°å¸®åŠ©æ–‡æ¡£
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-åˆ é™¤ä¸æ¯”è¾ƒ&#34;&gt;3. åˆ é™¤ä¸æ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;æ‰¾å›åˆ é™¤æ–‡ä»¶çš„å‰ææ˜¯&lt;strong&gt;æ•°æ®å·²ç»æäº¤åˆ°æœ¬åœ°åº“&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. åˆ é™¤æ–‡ä»¶å¹¶æ‰¾å›
#ã€åˆ é™¤å‰ï¼Œæ–‡ä»¶å­˜åœ¨æ—¶çš„çŠ¶æ€å·²ç»æäº¤åˆ°äº†æœ¬åœ°åº“ï¼Œå¦åˆ™æ— æ³•æ‰¾å›ã€‘
# åˆ é™¤æ“ä½œå·²ç»æäº¤åˆ°æœ¬åœ°åº“ï¼šæŒ‡é’ˆä½ç½®æŒ‡å‘å†å²è®°å½•
# åˆ é™¤æ“ä½œå°šæœªæäº¤åˆ°æœ¬åœ°åº“ï¼šæŒ‡é’ˆä½ç½®ä½¿ç”¨ HEAD
git reset --hard æŒ‡é’ˆä½ç½®

# 2. æ¯”è¾ƒæ–‡ä»¶å·®å¼‚
git diff æ–‡ä»¶å  # å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶å’Œæš‚å­˜åŒºè¿›è¡Œæ¯”è¾ƒï¼Œä¸å¸¦æ–‡ä»¶ååˆ™æ¯”è¾ƒæ‰€æœ‰æ–‡ä»¶
git diff [æœ¬åœ°åº“ä¸­å†å²ç‰ˆæœ¬] [æ–‡ä»¶å] # å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°åº“å†å²è®°å½•æ¯”è¾ƒï¼Œä¸å¸¦æ–‡ä»¶åæ¯”è¾ƒå¤šä¸ªæ–‡ä»¶
# åˆ é™¤è¡Œç”¨-è¡¨ç¤ºï¼›å¢åŠ è¡Œç”¨+è¡¨ç¤ºï¼›ä¿®æ”¹è¡Œåˆ™å…ˆ-åŸæ¥çš„è¡Œï¼Œå†+ä¿®æ”¹åçš„è¡Œï¼›æ²¡æœ‰åŒºåˆ«åˆ™ä¸æ˜¾ç¤º
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-åˆ†æ”¯ç®¡ç†&#34;&gt;4. åˆ†æ”¯ç®¡ç†&lt;/h2&gt;
&lt;p&gt;åœ¨ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨å¤šæ¡çº¿åŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1621782166761.png&#34; alt=&#34;åˆ†æ”¯ç®¡ç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ—¶å¹¶è¡Œæ¨è¿›å¤šä¸ªåŠŸèƒ½å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡&lt;/li&gt;
&lt;li&gt;å„ä¸ªåˆ†æ”¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸€ä¸ªåˆ†æ”¯å¼€å‘å¤±è´¥ï¼ˆå¤±è´¥çš„åˆ†æ”¯åˆ é™¤é‡æ–°å¼€å§‹å³å¯ï¼‰ï¼Œä¸ä¼šå¯¹å…¶ä»–åˆ†æ”¯æœ‰ä»»ä½•å½±å“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹åˆ†æ”¯çš„æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. åˆ›å»ºåˆ†æ”¯
git branch åˆ†æ”¯å
# 2. æŸ¥çœ‹åˆ†æ”¯
git branch -v
# 3. åˆ‡æ¢åˆ†æ”¯
git checkout åˆ†æ”¯å
# 4. åˆå¹¶åˆ†æ”¯ï¼šæ€»å…±åˆ†ä¸¤æ­¥
    # 4.1 åˆ‡æ¢åˆ°æ¥å—ä¿®æ”¹çš„åˆ†æ”¯ï¼ˆè¢«åˆå¹¶ï¼Œå¢åŠ æ–°å†…å®¹ï¼‰ä¸Š 
    git checkout è¢«åˆå¹¶åˆ†æ”¯å
    # 4.2 æ‰§è¡Œmergeå‘½ä»¤
    git merge æœ‰æ–°å†…å®¹åˆ†æ”¯å
# 5. è§£å†³å†²çª
    # 5.1 ç¼–è¾‘æ–‡ä»¶ï¼Œåˆ é™¤ç‰¹æ®Šç¬¦å·ï¼šâ€œ&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt; HEADâ€åˆ°â€œ&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; è¢«åˆå¹¶åˆ†æ”¯åâ€çš„éƒ¨åˆ†
    # 5.2 æŠŠæ–‡ä»¶ä¿®æ”¹åˆ°æ»¡æ„çš„ç¨‹åº¦ï¼Œä¿å­˜é€€å‡º
    # 5.3 git add æ–‡ä»¶å
    # 5.4 git commit -m &amp;quot;æ—¥å¿—ä¿¡æ¯&amp;quot;   ã€æ³¨æ„ï¼šcommitä¸€å®šä¸èƒ½å¸¦å…·ä½“æ–‡ä»¶åã€‘
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆå¹¶åˆ†æ”¯å­˜åœ¨å†²çªæ—¶çš„è¡¨ç°ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624447281763.png&#34; alt=&#34;åˆå¹¶åˆ†æ”¯å­˜åœ¨å†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-å®æ“è®°å½•&#34;&gt;5. å®æ“è®°å½•&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é¦–å…ˆéœ€è¦è¿›å…¥å·¥ä½œç›®å½•ï¼Œä¾‹å¦‚æˆ‘çš„å·¥ä½œç›®å½•ä¸º/c/gitserverï¼Œå³å·¥ä½œåŒº
mkdir -p /c/gitserver &amp;amp;&amp;amp; cd /c/gitserver
# å‡è®¾å¼€å‘çš„ç¨‹åºæˆ–è€…é¡¹ç›®åå­—ä¸ºWebEEï¼Œåˆ™éœ€è¦åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir WebEE &amp;amp;&amp;amp; cd WebEE 

# åˆå§‹åŒ–ï¼Œç”Ÿæˆ.gitæ–‡ä»¶å¤¹
git init
git config user.name fqj
git config user.email fqj@163.com  # é‚®ä»¶å¯ä»¥ä¸è®¾ç½®ï¼Œä½†æ˜¯ç”¨æˆ·åå¿…é¡»è®¾ç½® 
# .gitç›®å½•ä¸­å­˜æ”¾çš„æ˜¯æœ¬åœ°åº“ç›¸å…³çš„å­ç›®å½•å’Œæ–‡ä»¶ï¼Œä¸éœ€è¦åˆ é™¤ä¸”è°¨æ…ä¿®æ”¹
# -----------------------
# å‘½ä»¤æ‰§è¡Œç»“æœï¼š
$ git init
Initialized empty Git repository in C:/gitserver/WebEE/.git/
#------------------------

# æ·»åŠ æ–‡ä»¶åˆ°å·¥ä½œåŒºï¼Œä¾‹å¦‚æ·»åŠ è¯´æ˜æ–‡ä»¶
echo -e &amp;quot;è¿™æ˜¯ä¸ªè¯´æ˜æ–‡ä»¶ï¼\nå°±è¿™ä¹ˆå¤šå§&amp;quot; &amp;gt; Readme.md  # æ­¤æ—¶æ–‡ä»¶å¤„äºUntrackedçŠ¶æ€ï¼Œå³åªå­˜åœ¨å·¥ä½œåŒºï¼Œå¯é€šè¿‡git statusæŸ¥çœ‹çŠ¶æ€
# -----------------------
# å‘½ä»¤æ‰§è¡Œç»“æœï¼š
$ echo -e &amp;quot;è¿™æ˜¯ä¸ªè¯´æ˜æ–‡ä»¶ï¼\nå°±è¿™ä¹ˆå¤šå§&amp;quot; &amp;gt; Readme.md

$ cat Readme.md
è¿™æ˜¯ä¸ªè¯´æ˜æ–‡ä»¶ï¼
å°±è¿™ä¹ˆå¤šå§

$ git status
On branch master

No commits yet

Untracked files:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to include in what will be committed)
        Readme.md

nothing added to commit but untracked files present (use &amp;quot;git add&amp;quot; to track)
#------------------------

# å°†æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒº
git add Readme.md  # å°†æ–‡ä»¶å­˜åˆ°æš‚å­˜åŒºï¼Œæ­¤æ—¶git statusä¼šæ˜¾ç¤ºnew fileï¼šReadme.md
# å‘Šè­¦&amp;quot;warning: LF will be replaced by CRLF in Readme.md.&amp;quot;ï¼Œä¸éœ€è¦ç†ä¼šï¼Œè¿™æ˜¯Linuxå’Œwindowsæ ‡è¯†æ¢è¡Œçš„ç¬¦å·ä¸åŒå¯¼è‡´çš„
# git rm --cached Readme.md  # ä»æš‚å­˜åŒºåˆ é™¤
# -----------------------
# å‘½ä»¤æ‰§è¡Œç»“æœï¼š
$ git add Readme.md
warning: LF will be replaced by CRLF in Readme.md.
The file will have its original line endings in your working directory

$ git status
On branch master

No commits yet

Changes to be committed:
  (use &amp;quot;git rm --cached &amp;lt;file&amp;gt;...&amp;quot; to unstage)
        new file:   Readme.md
#------------------------



# å°†æ–‡ä»¶æäº¤åˆ°æœ¬åœ°åº“
git commit -m &amp;quot;This is first commit&amp;quot; Readme.md  # -måé¢æ·»åŠ æœ¬æ¬¡æäº¤çš„æ³¨é‡Šä¿¡æ¯
# å¦‚æœåœ¨å‘½ä»¤è¡Œä¸­ä¸æ·»åŠ -må‚æ•°ï¼Œåˆ™git commitä¼šç›´æ¥è°ƒç”¨vimç¼–è¾‘å™¨ï¼Œç„¶åè¾“å…¥æè¿°ä¿¡æ¯
# å¦‚æœæ³¨é‡Šä¿¡æ¯æ¯”è¾ƒå°‘ï¼Œå»ºè®®-mï¼›å¦‚æœæ³¨é‡Šä¿¡æ¯æ¯”è¾ƒå¤šï¼Œåˆ™å¯ä»¥ä¸åŠ -mï¼Œç›´æ¥è®©å…¶è°ƒç”¨vimç¼–è¾‘å™¨ä¹‹åè¿›è¡Œæ·»åŠ 
# -----------------------
# å‘½ä»¤æ‰§è¡Œç»“æœï¼š
$ git commit -m &amp;quot;This is first commit&amp;quot; Readme.md
warning: LF will be replaced by CRLF in Readme.md.
The file will have its original line endings in your working directory
[master (root-commit) 66c9779] This is first commit
 1 file changed, 2 insertions(+)
 create mode 100644 Readme.md

$ git status
On branch master
nothing to commit, working tree clean

#------------------------

# ä¿®æ”¹Readme.mdä¹‹åå†æ·»åŠ 
echo -e &amp;quot;\n\tç¬¬äºŒæ¬¡ä¿®æ”¹çš„å†…å®¹ï¼&amp;quot; &amp;gt;&amp;gt; Readme.md
# ---------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git status
On branch master
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git restore &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)
        modified:   Readme.md

no changes added to commit (use &amp;quot;git add&amp;quot; and/or &amp;quot;git commit -a&amp;quot;)
# -----------------------------------

# ä¿®æ”¹æ–‡ä»¶ä¹‹åå†æ¬¡æäº¤
git add Readme.md
git commit -m &amp;quot;this is second commit&amp;quot; Readme.md
# ---------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git add Readme.md
warning: LF will be replaced by CRLF in Readme.md.
The file will have its original line endings in your working directory

$ git commit -m &amp;quot;this is second commit&amp;quot; Readme.md
warning: LF will be replaced by CRLF in Readme.md.
The file will have its original line endings in your working directory
[master 6ae89cc] this is second commit
 1 file changed, 2 insertions(+)
#--------------------

# ç¬¬3æ¬¡ä¿®æ”¹åç›´æ¥æäº¤
#ã€é€‚åˆå·²ç»æäº¤è¿‡çš„æ–‡ä»¶ï¼Œæ–°å»ºçš„æ–‡ä»¶æ— æ³•ä½¿ç”¨æ­¤ç§è·³è¿‡git addçš„æ–¹æ³•ã€‘
echo -e &amp;quot;\n\tç¬¬3æ¬¡ä¿®æ”¹çš„å†…å®¹ï¼&amp;quot; &amp;gt;&amp;gt; Readme.md
git commit -a -m &amp;quot;3&amp;quot; 
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ echo -e &amp;quot;\n\tç¬¬3æ¬¡ä¿®æ”¹çš„å†…å®¹ï¼&amp;quot; &amp;gt;&amp;gt; Readme.md
$ git status
On branch master
Changes not staged for commit:
  (use &amp;quot;git add &amp;lt;file&amp;gt;...&amp;quot; to update what will be committed)
  (use &amp;quot;git restore &amp;lt;file&amp;gt;...&amp;quot; to discard changes in working directory)
        modified:   Readme.md

no changes added to commit (use &amp;quot;git add&amp;quot; and/or &amp;quot;git commit -a&amp;quot;)

$ git commit -a -m &amp;quot;3&amp;quot;
warning: LF will be replaced by CRLF in Readme.md.
The file will have its original line endings in your working directory
[master 5650822] 3
 1 file changed, 2 insertions(+)
#------------------

# æŸ¥çœ‹æ—¥å¿—
git log
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git log
commit 5650822aba9ee9c38f1c059f8502a1ab25fcfd00 (HEAD -&amp;gt; master)
Author: fqj &amp;lt;fqj@163.com&amp;gt;
Date:   Tue May 25 22:46:44 2021 +0800

    3

commit 6ae89ccc296144bff06f50c302ee350a950b8318
Author: fqj &amp;lt;fqj@163.com&amp;gt;
Date:   Tue May 25 22:41:26 2021 +0800

    this is second commit

commit 66c9779f4156ed49841dc78766562e9a36171467
Author: fqj &amp;lt;fqj@163.com&amp;gt;
Date:   Tue May 25 22:30:58 2021 +0800

    This is first commit
#------------------

# å¦‚æœæ—¥å¿—è¿‡å¤šå¯¼è‡´éœ€è¦åˆ†é¡µæŸ¥çœ‹ï¼Œä¸æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨å‚æ•°è®©æ¯æ¡æ—¥å¿—æ˜¾ç¤ºåœ¨ä¸€è¡Œ
git log --pretty=oneline
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git log --pretty=oneline
5650822aba9ee9c38f1c059f8502a1ab25fcfd00 (HEAD -&amp;gt; master) 3
6ae89ccc296144bff06f50c302ee350a950b8318 this is second commit
66c9779f4156ed49841dc78766562e9a36171467 This is first commit
#------------------

git log --oneline  # åªæ˜¾ç¤ºå“ˆå¸Œå€¼çš„å‰8ä½
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git log --oneline
5650822 (HEAD -&amp;gt; master) 3
6ae89cc this is second commit
66c9779 This is first commit
#------------------

git reflog  # æ˜¾ç¤ºæŒ‡é’ˆï¼Œå³ç§»åŠ¨æ¬¡æ•°nï¼Œæ ¼å¼HEAD@{ç§»åŠ¨åˆ°æ­¤ç‰ˆæœ¬éœ€è¦å¤šå°‘æ­¥}
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git reflog
5650822 (HEAD -&amp;gt; master) HEAD@{0}: commit: 3
6ae89cc HEAD@{1}: commit: this is second commit
66c9779 HEAD@{2}: commit (initial): This is first commit
#------------------

# å›æ»š1æ­¥
git reset --hard 6ae89cc
# æˆ–è€…git reset --hard HEAD^
# æˆ–è€…git reset --hard HEAD~1
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git reset --hard 6ae89cc
HEAD is now at 6ae89cc this is second commit

$ cat Readme.md
è¿™æ˜¯ä¸ªè¯´æ˜æ–‡ä»¶ï¼
å°±è¿™ä¹ˆå¤šå§

        ç¬¬äºŒæ¬¡ä¿®æ”¹çš„å†…å®¹ï¼
#------------------

# å›åˆ°å½“å‰çŠ¶æ€
git reset --hard 5650822

# å¢åŠ è¡Œå¯¹æ¯”
git diff Readme.md
# --------------
# å‘½ä»¤æ‰§è¡Œç»“æœ
$ git diff Readme.md
diff --git a/Readme.md b/Readme.md
index efbac46..7963a01 100644
--- a/Readme.md
+++ b/Readme.md
@@ -4,3 +4,4 @@
        ç¬¬äºŒæ¬¡ä¿®æ”¹çš„å†…å®¹ï¼

        ç¬¬3æ¬¡ä¿®æ”¹çš„å†…å®¹ï¼
+       æµ‹è¯•diff
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;gitåŸºæœ¬åŸç†&#34;&gt;GitåŸºæœ¬åŸç†&lt;/h1&gt;
&lt;h2 id=&#34;1-å“ˆå¸Œ&#34;&gt;1. å“ˆå¸Œ&lt;/h2&gt;
&lt;p&gt;å“ˆå¸Œæ˜¯&lt;strong&gt;ä¸€ä¸ªç³»åˆ—çš„åŠ å¯†ç®—æ³•&lt;/strong&gt;ï¼Œå„ä¸ªä¸åŒçš„å“ˆå¸Œç®—æ³•è™½ç„¶åŠ å¯†å¼ºåº¦ä¸åŒï¼Œä½†æ˜¯æœ‰ä»¥ä¸‹å‡ ä¸ªå…±åŒç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ç®¡è¾“å…¥æ•°æ®çš„æ•°æ®é‡æœ‰å¤šå¤§ï¼Œè¾“å…¥åŒä¸€ä¸ªå“ˆå¸Œç®—æ³•ï¼Œå¾—åˆ°çš„åŠ å¯†ç»“æœé•¿åº¦å›ºå®š&lt;/li&gt;
&lt;li&gt;å“ˆå¸Œç®—æ³•ç¡®å®šï¼Œè¾“å…¥æ•°æ®ç¡®å®šï¼Œè¾“å‡ºæ•°æ®èƒ½å¤Ÿä¿è¯ä¸å˜ï¼›è¾“å…¥æ•°æ®æœ‰å˜åŒ–ï¼Œè¾“å‡ºæ•°æ®ä¸€å®šæœ‰å˜åŒ–&lt;/li&gt;
&lt;li&gt;å“ˆå¸Œç®—æ³•ä¸å¯é€†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Gitåº•å±‚é‡‡ç”¨çš„æ˜¯SHA-1ç®—æ³•ï¼Œå“ˆå¸Œç®—æ³•å¯ä»¥è¢«ç”¨æ¥éªŒè¯æ–‡ä»¶ï¼ˆGitå°±æ˜¯é è¿™ç§æœºåˆ¶æ¥ä»æ ¹æœ¬ä¸Šä¿è¯æ•°æ®å®Œæ•´æ€§çš„ï¼‰ï¼ŒåŸç†å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624454941679.png&#34; alt=&#34;å“ˆå¸Œ&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-gitä¿å­˜ç‰ˆæœ¬çš„æœºåˆ¶&#34;&gt;2. Gitä¿å­˜ç‰ˆæœ¬çš„æœºåˆ¶&lt;/h2&gt;
&lt;h3 id=&#34;gitçš„æ–‡ä»¶ç®¡ç†æœºåˆ¶&#34;&gt;Gitçš„æ–‡ä»¶ç®¡ç†æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;GitæŠŠæ•°æ®çœ‹ä½œæ˜¯å°å‹æ–‡ä»¶ç³»ç»Ÿçš„ä¸€ç»„å¿«ç…§ã€‚æ¯æ¬¡æäº¤æ›´æ–°æ—¶ï¼ŒGitéƒ½ä¼šå¯¹å½“å‰çš„å…¨éƒ¨æ–‡ä»¶åˆ¶ä½œä¸€ä¸ªå¿«ç…§å¹¶ä¿å­˜è¿™ä¸ªå¿«ç…§çš„ç´¢å¼•ã€‚ä¸ºäº†é«˜æ•ˆï¼Œå¦‚æœæ–‡ä»¶æ²¡æœ‰ä¿®æ”¹ï¼ŒGitä¸å†é‡æ–°å­˜å‚¨è¯¥æ–‡ä»¶ï¼Œè€Œæ˜¯åªä¿ç•™ä¸€ä¸ªé“¾æ¥æŒ‡å‘ä¹‹å‰å­˜å‚¨çš„æ–‡ä»¶ï¼Œæ‰€ä»¥Gitçš„å·¥ä½œæ–¹å¼å¯ä»¥ç§°ä¹‹ä¸º&lt;strong&gt;å¿«ç…§æµ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624455150405.png&#34; alt=&#34;Gitçš„æ–‡ä»¶ç®¡ç†æœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;gitæ–‡ä»¶ç®¡ç†æœºåˆ¶ç»†èŠ‚&#34;&gt;Gitæ–‡ä»¶ç®¡ç†æœºåˆ¶ç»†èŠ‚&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Gitçš„æäº¤å¯¹è±¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624455352371.png&#34; alt=&#34;Gitçš„æäº¤å¯¹è±¡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æäº¤å¯¹è±¡åŠå…¶çˆ¶å¯¹è±¡å½¢æˆçš„é“¾æ¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624455391037.png&#34; alt=&#34;æäº¤å¯¹è±¡åŠå…¶çˆ¶å¯¹è±¡å½¢æˆçš„é“¾æ¡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ä¾‹å¦‚svnçš„æ–‡ä»¶ç®¡ç†æœºåˆ¶&#34;&gt;é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼ˆä¾‹å¦‚SVNï¼‰çš„æ–‡ä»¶ç®¡ç†æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;ä»¥æ–‡ä»¶å˜æ›´åˆ—è¡¨çš„æ–¹å¼å­˜å‚¨ä¿¡æ¯ã€‚è¿™ç±»ç³»ç»Ÿå°†å®ƒä»¬ä¿å­˜çš„ä¿¡æ¯çœ‹ä½œæ˜¯ä¸€ç»„åŸºæœ¬æ–‡ä»¶å’Œæ¯ä¸ªæ–‡ä»¶éšæ—¶é—´é€æ­¥ç´¯ç§¯çš„å·®å¼‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624455466454.png&#34; alt=&#34;é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-gitåˆ†æ”¯ç®¡ç†æœºåˆ¶&#34;&gt;3. Gitåˆ†æ”¯ç®¡ç†æœºåˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†æ”¯çš„åˆ›å»º&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624458810637.png&#34; alt=&#34;åˆ†æ”¯çš„åˆ›å»º&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯çš„åˆ‡æ¢&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624458953170.png&#34; alt=&#34;åˆ†æ”¯çš„åˆ‡æ¢&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624459046714.png&#34; alt=&#34;testingcommit&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624459183192.png&#34; alt=&#34;mastercommit&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;github&#34;&gt;GitHub&lt;/h1&gt;
&lt;p&gt;githubåˆ›å»ºè´¦å·æ—¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨163çš„é‚®ç®±ï¼Œå› ä¸º163çš„é‚®ç®±æœ‰æ—¶å€™æ”¶ä¸åˆ°githubçš„é‚®ä»¶&lt;/p&gt;
&lt;h2 id=&#34;1-è´¦å·ä¿¡æ¯&#34;&gt;1. è´¦å·ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;å²³ä¸ç¾¤ï¼šyuebuqun@qq.com&lt;br&gt;
ä»¤ç‹å†²ï¼šlinghuchong@qq.com&lt;br&gt;
ä¸œæ–¹ä¸è´¥ï¼šeastsuccess@qq.com&lt;/p&gt;
&lt;h2 id=&#34;2-åˆ›å»ºè¿œç¨‹åº“å’Œæœ¬åœ°åº“&#34;&gt;2. åˆ›å»ºè¿œç¨‹åº“å’Œæœ¬åœ°åº“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºè¿œç¨‹åº“&lt;br&gt;
è¿œç¨‹åº“éœ€è¦åœ¨githubä¸Šåˆ›å»ºï¼Œç‚¹å‡»å³ä¸Šè§’çš„åŠ å·ï¼Œé€‰æ‹©New respositoryï¼Œå¡«å†™ç›¸åº”çš„Repository nameï¼ˆä¾‹å¦‚huashanï¼‰ï¼Œè®¾ç½®ç›¸åº”çš„å‚æ•°ï¼Œæœ€åç‚¹å‡»Creat repository&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæœ¬åœ°åº“&lt;br&gt;
åœ¨æœ¬åœ°æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git remote -v # æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿œç¨‹åœ°å€åˆ«å
git remote add åˆ«å è¿œç¨‹åœ°å€
# ä¾‹å¦‚
git remote add huashan_origin https://github.com/atguigu2021ybuq/huashan.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-æ¨é€&#34;&gt;3. æ¨é€&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git push åˆ«å åˆ†æ”¯  # ç„¶åéœ€è¦åœ¨å¼¹çª—ä¸Šè¾“å…¥githubçš„è´¦æˆ·å¯†ç è¿›è¡ŒéªŒè¯
# ä¾‹å¦‚
git push huashan_origin master  # ç„¶ååœ¨è¿œç¨‹åº“ä¸Šåˆ·æ–°åå°±å¯ä»¥çœ‹è§äº†
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-å…‹éš†&#34;&gt;4. å…‹éš†&lt;/h2&gt;
&lt;p&gt;å…‹éš†ä¸€ä¸ªå‘½ä»¤å¯ä»¥å®Œæˆä»¥ä¸‹åŠ¨ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®Œæ•´çš„æŠŠè¿œç¨‹åº“ä¸‹è½½åˆ°æœ¬åœ°&lt;/li&gt;
&lt;li&gt;åˆ›å»ºoriginè¿œç¨‹åœ°å€åˆ«å&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–æœ¬åœ°åº“&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git clone è¿œç¨‹åœ°å€
# ä¾‹å¦‚
git clone https://github.com/atguigu2021ybuq/huashan.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-å›¢é˜Ÿæˆå‘˜é‚€è¯·&#34;&gt;5. å›¢é˜Ÿæˆå‘˜é‚€è¯·&lt;/h2&gt;
&lt;p&gt;ç‚¹å‡»é¡¹ç›®--Settings--Collaborators--ç„¶åè¾“å…¥é‚€è¯·æˆå‘˜çš„githubè´¦å·--ç„¶åå¤åˆ¶é‚€è¯·é“¾æ¥å‘é€ç»™å—é‚€æˆå‘˜ï¼ˆæ­¤æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨å‘é€é‚®ä»¶ï¼‰--å—é‚€æˆå‘˜æ‰“å¼€é“¾æ¥--ç‚¹å‡»Accept invitation--æ­¤æ—¶ä¾¿å¯æ‰§è¡Œæ¨é€&lt;code&gt;git push huashan_origin master&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;6-æ‹‰å–&#34;&gt;6. æ‹‰å–&lt;/h2&gt;
&lt;p&gt;pull=fetch+merge&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;git fetch è¿œç¨‹åº“åœ°å€åˆ«å è¿œç¨‹åˆ†ä¹‹å  # ä»…ä»…æŠŠè¿œç¨‹åº“çš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶ä¸ä¿®æ”¹æœ¬åœ°åº“å†…å®¹
git merge è¿œç¨‹åº“åœ°å€åˆ«å è¿œç¨‹åˆ†ä¹‹å  # æŠŠfetchçš„æ–‡ä»¶ä¸æœ¬åœ°æ–‡ä»¶åˆå¹¶
git pull è¿œç¨‹åº“åœ°å€åˆ«å è¿œç¨‹åˆ†ä¹‹å
# ä¾‹å¦‚
git fetch huashan_origin master
git merge huashan_origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;7-è§£å†³å†²çª&#34;&gt;7. è§£å†³å†²çª&lt;/h2&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯åŸºäº GitHub è¿œç¨‹åº“çš„æœ€æ–°ç‰ˆæ‰€åšçš„ä¿®æ”¹ï¼Œä¸èƒ½æ¨é€ï¼Œå¿…é¡»å…ˆæ‹‰å–ã€‚æ‹‰å–ä¸‹æ¥åå¦‚æœè¿›å…¥å†²çªçŠ¶æ€ï¼Œåˆ™æŒ‰ç…§â€œåˆ†æ”¯å†²çªè§£å†³â€æ“ä½œè§£å†³å³å¯&lt;/p&gt;
&lt;h2 id=&#34;8-sshç™»é™†&#34;&gt;8. SSHç™»é™†&lt;/h2&gt;
&lt;p&gt;å› ä¸ºhttpsæ¯æ¬¡pushéƒ½éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œä½†æ˜¯sshå¯ä»¥å…å¯†ç™»é™†ï¼Œæ–¹ä¾¿push&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿›å…¥å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•
cd ~
# åˆ é™¤.sshç›®å½•
rm -rvf .ssh
# è¿è¡Œå‘½ä»¤ç”Ÿæˆ.sshå¯†é’¥ç›®å½•
ssh-keygen -t rsa -C atguigu2021ybuq@aliyun.com # è¿™é‡Œ-Cè¿™ä¸ªå‚æ•°æ˜¯å¤§å†™çš„
# è¿›å…¥.sshç›®å½•æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
cd .ssh
ls -lF
# æŸ¥çœ‹id_rsa.pubæ–‡ä»¶å†…
cat id_rsa.pub
å¤åˆ¶id_rsa.pubæ–‡ä»¶å†…å®¹ï¼Œç™»å½•GitHubï¼Œç‚¹å‡»ç”¨æˆ·å¤´åƒ--Settings--ç²˜è´´åˆ°SSH and GPG
keysçš„Keyä¸­--Titleè‡ªå·±å®šä¹‰--ç‚¹å‡»Add SSH Key
# å›åˆ° Git bash åˆ›å»ºè¿œç¨‹åœ°å€åˆ«å
git remote add huashan_ssh git@github.com:atguigu2021ybuq/huashan.git
# æ¨é€æ–‡ä»¶è¿›è¡Œæµ‹
git push huashan_ssh master 
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;gitå·¥ä½œæµ&#34;&gt;Gitå·¥ä½œæµ&lt;/h1&gt;
&lt;p&gt;åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ä½¿ç”¨Gitçš„æ–¹å¼ç®¡ç†&lt;/p&gt;
&lt;h2 id=&#34;1-åˆ†ç±»&#34;&gt;1. åˆ†ç±»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é›†ä¸­å¼å·¥ä½œæµ&lt;br&gt;
åƒSVNä¸€æ ·ï¼Œé›†ä¸­å¼å·¥ä½œæµä»¥ä¸­å¤®ä»“åº“ä½œä¸ºé¡¹ç›®æ‰€æœ‰ä¿®æ”¹çš„å•ç‚¹å®ä½“ã€‚æ‰€æœ‰ä¿®æ”¹éƒ½æäº¤åˆ°Masterè¿™ä¸ªåˆ†æ”¯ä¸Šã€‚è¿™ç§æ–¹å¼ä¸SVNçš„ä¸»è¦åŒºåˆ«å°±æ˜¯å¼€å‘äººå‘˜æœ‰æœ¬åœ°åº“ã€‚Gitå¾ˆå¤šç‰¹æ€§å¹¶æ²¡æœ‰ç”¨åˆ°ã€‚&lt;/li&gt;
&lt;li&gt;GitFlowå·¥ä½œæµ&lt;br&gt;
Gitflowå·¥ä½œæµé€šè¿‡ä¸ºåŠŸèƒ½å¼€å‘ã€å‘å¸ƒå‡†å¤‡å’Œç»´æŠ¤è®¾ç«‹äº†ç‹¬ç«‹çš„åˆ†æ”¯ï¼Œè®©å‘å¸ƒè¿­ä»£è¿‡ç¨‹æ›´æµç•…ã€‚ä¸¥æ ¼çš„åˆ†æ”¯æ¨¡å‹ä¹Ÿä¸ºå¤§å‹é¡¹ç›®æä¾›äº†ä¸€äº›éå¸¸å¿…è¦çš„ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;Forkingå·¥ä½œæµ&lt;br&gt;
Forkingå·¥ä½œæµæ˜¯åœ¨GitFlowåŸºç¡€ä¸Šï¼Œå……åˆ†åˆ©ç”¨äº†Gitçš„Forkå’Œpull requestçš„åŠŸèƒ½ä»¥è¾¾åˆ°ä»£ç å®¡æ ¸çš„ç›®çš„ã€‚æ›´é€‚åˆå®‰å…¨å¯é åœ°ç®¡ç†å¤§å›¢é˜Ÿçš„å¼€å‘è€…ï¼Œè€Œä¸”èƒ½æ¥å—ä¸ä¿¡ä»»è´¡çŒ®è€…çš„æäº¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-gitflowå·¥ä½œæµè¯¦è§£ä¸åŒåˆ†æ”¯ä»‹ç»&#34;&gt;2. GitFlowå·¥ä½œæµè¯¦è§£ï¼ˆä¸åŒåˆ†æ”¯ä»‹ç»ï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»å¹²åˆ†æ”¯master&lt;br&gt;
ä¸»è¦è´Ÿè´£ç®¡ç†æ­£åœ¨è¿è¡Œçš„ç”Ÿäº§ç¯å¢ƒä»£ç ï¼Œæ°¸è¿œä¿æŒä¸æ­£åœ¨è¿è¡Œçš„ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´&lt;/li&gt;
&lt;li&gt;å¼€å‘åˆ†æ”¯develop&lt;br&gt;
ä¸»è¦è´Ÿè´£ç®¡ç†æ­£åœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„ä»£ç ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ€æ–°çš„ä»£ç &lt;/li&gt;
&lt;li&gt;bugä¿®ç†åˆ†æ”¯hotfix&lt;br&gt;
ä¸»è¦è´Ÿè´£ç®¡ç†ç”Ÿäº§ç¯å¢ƒä¸‹å‡ºç°çš„ç´§æ€¥ä¿®å¤çš„ä»£ç ã€‚ ä»ä¸»å¹²åˆ†æ”¯åˆ†å‡ºï¼Œä¿®ç†å®Œæ¯•å¹¶æµ‹è¯•ä¸Šçº¿åï¼Œå¹¶å›ä¸»å¹²åˆ†æ”¯ã€‚å¹¶å›åï¼Œè§†æƒ…å†µå¯ä»¥åˆ é™¤è¯¥åˆ†æ”¯&lt;/li&gt;
&lt;li&gt;å‡†ç”Ÿäº§åˆ†æ”¯ï¼ˆé¢„å‘å¸ƒåˆ†æ”¯ï¼‰release&lt;br&gt;
è¾ƒå¤§çš„ç‰ˆæœ¬ä¸Šçº¿å‰ï¼Œä¼šä»å¼€å‘åˆ†æ”¯ä¸­åˆ†å‡ºå‡†ç”Ÿäº§åˆ†æ”¯ï¼Œè¿›è¡Œæœ€åé˜¶æ®µçš„é›†æˆæµ‹è¯•ã€‚è¯¥ç‰ˆæœ¬ä¸Šçº¿åï¼Œä¼šåˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯ã€‚ç”Ÿäº§ç¯å¢ƒè¿è¡Œä¸€æ®µé˜¶æ®µè¾ƒç¨³å®šåå¯ä»¥è§†æƒ…å†µåˆ é™¤&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½åˆ†æ”¯feature&lt;br&gt;
ä¸ºäº†ä¸å½±å“è¾ƒçŸ­å‘¨æœŸçš„å¼€å‘å·¥ä½œï¼Œä¸€èˆ¬æŠŠä¸­é•¿æœŸå¼€å‘æ¨¡å—ï¼Œä¼šä»å¼€å‘åˆ†æ”¯ä¸­ç‹¬ç«‹å‡ºæ¥ã€‚ å¼€å‘å®Œæˆåä¼šåˆå¹¶åˆ°å¼€å‘åˆ†æ”¯&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;gitlabæœåŠ¡å™¨æ­å»º&#34;&gt;GitLabæœåŠ¡å™¨æ­å»º&lt;/h1&gt;
&lt;p&gt;å‚è€ƒåšå®¢&amp;lt;Gitlabéƒ¨ç½²åŠæ±‰åŒ–&amp;gt;&lt;/p&gt;
">Gitå’ŒGithub</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-da-jian-xu-ni-ju-yu-wang-vpn/"" data-c="
          &lt;p&gt;åœ¨å±€åŸŸç½‘ä¸­ï¼Œä¸ºäº†å®‰å…¨éœ€è¦ï¼Œé€šå¸¸å°†ç½‘ç»œè¿›è¡Œç‰©ç†éš”ç¦»ï¼Œä½†æ˜¯æœ‰äº›å¤šç½‘å¡çš„ç‰©ç†æœºæ˜¯å¯ä»¥æ­£å¸¸è®¿é—®å¤šä¸ªéš”ç¦»çš„å­ç½‘çš„ï¼Œæ­¤æ—¶æƒ³è¦è‡ªå·±çš„PCä¹Ÿèƒ½è·¨ç½‘ç»œè®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨åœ¨å¤šç½‘å¡ç‰©ç†æœºä¸Šéƒ¨ç½²frpæœåŠ¡ï¼Œå®ç°å†…ç½‘ç©¿é€ï¼Œä½†è¿™ç§æ–¹æ³•æ¯æ¬¡éƒ½éœ€è¦é…ç½®ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚&lt;br&gt;
æ¯”è¾ƒç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯åœ¨å†…ç½‘ä¸­å†ç»„å»ºä¸€å¥—è™šæ‹Ÿå±€åŸŸç½‘ï¼ŒæŠŠè¢«è®¿é—®çš„æœºå™¨å’Œç”¨äºè®¿é—®çš„æœºå™¨éƒ½æ‹‰å…¥è¿™ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ä¸­ï¼Œè¿™æ ·åŒæ–¹æœºå™¨éƒ½åœ¨åŒä¸€å±€åŸŸç½‘ä¸­ï¼Œè®¿é—®æ›´åŠ æ–¹ä¾¿ï¼Œä¸”æ»¡è¶³å®‰å…¨çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å…¬ç½‘ä¸Šç»„ä»¶è™šæ‹Ÿå±€åŸŸç½‘æ¯”è¾ƒæ–¹ä¾¿ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è’²å…¬è‹±ï¼Œå…è´¹åªèƒ½æœ‰ä¸¤ä¸ªæœºå™¨ï¼Œå³æ‰“é€šä¸¤å¼ ç½‘æˆ–è€…ä¸¤ä¸ªæœºå™¨ï¼Œæœ€é«˜ç½‘é€Ÿ10Mï¼Œä¼˜åŠ¿æ˜¯æœ‰æ‰‹æœºå®¢æˆ·ç«¯ç­‰ï¼Œç®¡ç†æ–¹ä¾¿ï¼Œä»¥åæœ‰æ›´å¤šçš„éœ€æ±‚åªéœ€è¦èŠ±é’±å³å¯è§£å†³&lt;/li&gt;
&lt;li&gt;ZeroTierï¼Œå®Œå…¨å…è´¹ï¼Œä¼˜åŠ¿æ˜¯å¸¦å®½æ¯”è¾ƒå¤§ä¸”ä¸é™åˆ¶å®¢æˆ·ç«¯æ•°é‡ï¼Œè¿˜èƒ½è‡ªå®šä¹‰ç½‘ç»œï¼Œä½†æ˜¯æ²¡æœ‰æ‰‹æœºç®¡ç†å®¢æˆ·ç«¯ï¼Œåªèƒ½åœ¨webä¸Šè¿›è¡Œç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å±€åŸŸç½‘ä¸­ï¼Œç»„ä»¶è™šæ‹Ÿå±€åŸŸç½‘ç›¸å¯¹äºå…¬ç½‘ï¼Œéº»çƒ¦ä¹‹å¤„åœ¨äº&lt;strong&gt;æ­å»ºVPNæœåŠ¡å™¨&lt;/strong&gt;ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨å’Œå…¬ç½‘ç±»ä¼¼ã€‚VPNæœåŠ¡å™¨çš„æ­å»ºæœ‰3ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ–¹ä¾¿ä½¿ç”¨ï¼Œå³windowså¯ä»¥ä½¿ç”¨è‡ªå¸¦çš„vpnè¿æ¥ï¼Œæ–¹ä¾¿å®¢æˆ·ä¸Šæ‰‹ï¼Œå¯ä»¥æ­å»ºL2TP+IPSec&lt;code&gt;æ¯”è¾ƒç¹çï¼Œä½†ç”¨æˆ·æ¥å…¥æ¯”è¾ƒæ–¹ä¾¿&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ–¹ä¾¿ç®¡ç†ï¼Œå¯ä»¥æ­å»ºopenvpn&lt;code&gt;æ¨èä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœæœ‰æ–°ç”¨æˆ·éœ€è¦è¿æ¥ï¼Œåˆ™éœ€è¦åˆ¶ä½œè¯ä¹¦&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæƒ³è¦å¼€æºï¼Œå³å®Œå…¨å¯æ§ï¼Œå¯ä»¥ä½¿ç”¨N2N&lt;code&gt;å¤‡ç”¨æ–¹æ¡ˆï¼Œæ­å»ºæ–¹æ¡ˆå‚è€ƒopenvpn&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™3ç§æ–¹å¼å‡å¯ä»¥åœ¨windows serverå’Œcentos7ä¸Šæ­å»ºï¼Œåœ¨windows serverä¸Šæ­å»ºè¿‡äºç®€å•ï¼Œç½‘ä¸Šæ•™ç¨‹æ¯”è¾ƒå¤šï¼Œåœ¨æ­¤ä¸å¤šä»‹ç»ï¼Œä»…ä»‹ç»ä¸€ä¸‹åœ¨Centos7ä¸Šæ­å»ºçš„è¿‡ç¨‹ï¼Œæ¯•ç«Ÿéƒ¨ç½²é‡è¦æœåŠ¡çš„æ‰èƒ½è¿›è¡Œå¤šç½‘ç»œè®¿é—®ï¼Œè¿™äº›æœåŠ¡å™¨å¤§éƒ¨åˆ†æ˜¯Centos7ç³»ç»Ÿå˜›&lt;/p&gt;
&lt;h1 id=&#34;openvpn&#34;&gt;OpenVPN&lt;/h1&gt;
&lt;h2 id=&#34;ç½‘ç»œæ‹“æ‰‘å®éªŒç¯å¢ƒ&#34;&gt;ç½‘ç»œæ‹“æ‰‘ï¼ˆå®éªŒç¯å¢ƒï¼‰&lt;/h2&gt;
&lt;p&gt;ç½‘ç»œæ‹“æ‰‘ï¼ˆå³æ¨¡æ‹Ÿå®éªŒç¯å¢ƒï¼‰å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1624978060060.png&#34; alt=&#34;ç½‘ç»œæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œï¼š
&lt;ul&gt;
&lt;li&gt;vmnet1ï¼š192.168.0.0/24ï¼Œä¼ä¸šå†…ç½‘&lt;/li&gt;
&lt;li&gt;vmnet8ï¼š172.16.0.0/16ï¼ˆç½‘å…³172.16.1.1ï¼‰ï¼ŒInternetå¤–ç½‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è®¾å¤‡ï¼š
&lt;ul&gt;
&lt;li&gt;Centos7ã€VPNæœåŠ¡å™¨ã€‘ï¼š
&lt;ul&gt;
&lt;li&gt;å†…ç½‘ï¼švmnet1ï¼Œ192.168.0.1/24ï¼ˆåªè®¾ç½®IPADDRï¼‰&lt;/li&gt;
&lt;li&gt;å¤–ç½‘ï¼švmnet8ï¼Œ172.16.0.1/16ï¼ˆè®¾ç½®IPADDRã€GATEWAYå’ŒDNS1å‡ä¸º172.16.1.1ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Windows7ã€å‡ºå·®å‘˜å·¥ç”µè„‘ã€‘
&lt;ul&gt;
&lt;li&gt;å¤–ç½‘ï¼šï¼ˆè¿æ¥ï¼‰vmnet8ï¼Œ172.16.10.10/16ï¼ˆping 172.16.0.1ï¼Œé€šåˆ™è¯´æ˜æ­¤ç”µè„‘èƒ½æ­£å¸¸è¿æ¥åˆ°VPNæœåŠ¡å™¨çš„å…¬ç½‘æ¥å£ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Windows Server 2000ã€ä¼ä¸šå†…éƒ¨æœåŠ¡å™¨ã€‘ï¼š
&lt;ul&gt;
&lt;li&gt;å†…ç½‘ï¼šï¼ˆè¿æ¥ï¼‰vmnet1ï¼Œ192.168.0.100/24ï¼ˆping 192.168.0.1ï¼Œé€šåˆ™è¯´æ˜æ­¤æœåŠ¡å™¨èƒ½æ­£å¸¸è¿æ¥åˆ°VPNæœåŠ¡å™¨çš„å†…ç½‘æ¥å£ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯&lt;/h2&gt;
&lt;p&gt;å®‰è£…openvpnå’Œè¯ä¹¦åˆ¶ä½œå·¥å…·easy-rsa&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y epel-release
yum install -y openvpn easy-rsa openssl openssl-devel lzo lzo-devel pam pam-devel automake pkgconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;openvpnä¸æ˜¯é€šè¿‡ç”¨æˆ·åå’Œå¯†ç æ¥è¯†åˆ«ç”¨æˆ·çš„ï¼Œè€Œæ˜¯é€šè¿‡è¯ä¹¦æ¥è¯†åˆ«çš„ï¼Œæ‰€ä»¥å¿…é¡»åˆ¶ä½œè¯ä¹¦&lt;/p&gt;
&lt;h3 id=&#34;1-é…ç½®æ–‡ä»¶å¤åˆ¶&#34;&gt;1. é…ç½®æ–‡ä»¶å¤åˆ¶&lt;/h3&gt;
&lt;p&gt;å¤åˆ¶æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶åˆ°openvpné…ç½®æ–‡ä»¶ç›®å½•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cp /usr/share/doc/openvpn-2.4.11/sample/sample-config-files/server.conf /etc/openvpn/
# ç”¨äºæœåŠ¡ç«¯è¯ä¹¦åˆ¶ä½œ
mkdir -p /etc/openvpn/easy-rsa/
cp -r /usr/share/easy-rsa/3.0.8/* /etc/openvpn/easy-rsa/
cp /usr/share/doc/easy-rsa-3.0.8/vars.example /etc/openvpn/easy-rsa/vars
cd /etc/openvpn/easy-rsa/ &amp;amp;&amp;amp; ls
    # easyrsa  openssl-easyrsa.cnf  vars  x509-types

# ç”¨äºå®¢æˆ·ç«¯è¯ä¹¦åˆ¶ä½œ
mkdir -p /etc/openvpn/client
cp -r /usr/share/easy-rsa/3.0.8/* /etc/openvpn/client
cp /usr/share/doc/easy-rsa-3.0.8/vars.example /etc/openvpn/client/vars
cd /etc/openvpn/client/ &amp;amp;&amp;amp; ls
    easyrsa  openssl-easyrsa.cnf  vars  x509-types
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2-æœåŠ¡ç«¯è¯ä¹¦åˆ¶ä½œ&#34;&gt;2. æœåŠ¡ç«¯è¯ä¹¦åˆ¶ä½œ&lt;/h3&gt;
&lt;h4 id=&#34;1-vpnçš„ç›¸å…³é…ç½®&#34;&gt;1. vpnçš„ç›¸å…³é…ç½®&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ ¹æ®éœ€è¦è¿›è¡Œè‡ªå®šä¹‰ï¼Œä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¾ç½®
# ç¼–è¾‘varsæ–‡ä»¶
vim /etc/openvpn/easy-rsa/vars  # è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼ˆå»æ‰æ³¨é‡Šä¿®æ”¹ä¹Ÿå¯ä»¥ï¼‰
    # å‚æ•°æœ‰å¾ˆå¤šï¼Œä½†ä¸»è¦æ˜¯ä¿®æ”¹ä»¥ä¸‹é¡¹ç›®
    set_var EASYRSA_REQ_COUNTRY &amp;quot;cn&amp;quot; # å›½å®¶
    set_var EASYRSA_REQ_PROVINCE &amp;quot;guangxi&amp;quot; # çœä»½
    set_var EASYRSA_REQ_CITY &amp;quot;nanning&amp;quot; # åŸå¸‚
    set_var EASYRSA_REQ_ORG &amp;quot;fqj_web&amp;quot; # ç»„ç»‡
    set_var EASYRSA_REQ_EMAIL &amp;quot;12345@163.com&amp;quot; # é‚®ç®±
    set_var EASYRSA_REQ_OU  &amp;quot;fqj&amp;quot; # æ‹¥æœ‰è€…
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-åˆ›å»ºcaè¯ä¹¦cacrt&#34;&gt;2. åˆ›å»ºCAè¯ä¹¦ca.crt&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /etc/openvpn/easy-rsa/

# 1. ç›®å½•åˆå§‹åŒ–ï¼šåˆå§‹åŒ–pkiï¼Œç”Ÿæˆç›®å½•æ–‡ä»¶ç»“æ„
./easyrsa init-pki  
ls
    # easyrsa  openssl-easyrsa.cnf  pki  vars  x509-types

# 2. åˆ›å»ºæ ¹è¯ä¹¦ï¼ˆCAè¯ä¹¦ï¼‰ï¼š
./easyrsa build-ca 
    # Note: using Easy-RSA configuration from: /etc/openvpn/easy-rsa/vars   # é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„varsæ–‡ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰

    # Enter New CA Key Passphrase:  # ä¸‹é¢ä¸¤å¤„è¾“å…¥CAè¯ä¹¦å¯†ç ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯123456
    # Re-Enter New CA Key Passphrase:

    # Common Name (eg: your user, host, or server name) [Easy-RSA CA]:  #ç›´æ¥å›è½¦ï¼Œå°±æ˜¯é»˜è®¤çš„CAä½œä¸ºåå­—
    # /etc/openvpn/easy-rsa/pki/ca.crt  #caè¯ä¹¦å­˜æ”¾è·¯å¾„
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-åˆ›å»ºæœåŠ¡ç«¯è¯ä¹¦servercrt&#34;&gt;3. åˆ›å»ºæœåŠ¡ç«¯è¯ä¹¦server.crt&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. åˆ›å»ºæœåŠ¡ç«¯è¯ä¹¦
./easyrsa gen-req server nopass #  nopassè®¾ç½®å…è¯ä¹¦å¯†ç ï¼Œå¦‚æœè¦è®¾ç½®å¯†ç å¯ä»¥å–æ¶ˆæ­¤å‚æ•°é€‰é¡¹
    # Note: using Easy-RSA configuration from: /etc/openvpn/easy-rsa/vars # é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ä¸‹varsæ–‡ä»¶
    # Common Name (eg: your user, host, or server name) [server]:    # ç›´æ¥å›è½¦ï¼Œé»˜è®¤åå­—ä¸ºserver        
    # req: /etc/openvpn/easy-rsa/pki/reqs/server.req
    # key: /etc/openvpn/easy-rsa/pki/private/server.key # å¯†é’¥keyçš„è·¯å¾„

# 2. è¯ä¹¦ç­¾åï¼Œå³ç­¾çº¦æœåŠ¡ç«¯è¯ä¹¦
./easyrsa sign server server   # ç¬¬ä¸€ä¸ªserverè¡¨ç¤ºæœåŠ¡ç«¯ï¼›ç¬¬äºŒä¸ªserveræ˜¯æŒ‡ä¸Šé¢æœåŠ¡ç«¯è¯ä¹¦çš„CNåå­—ï¼Œæˆ‘ä»¬ç”¨çš„é»˜è®¤serverï¼Œè¿™ä¸ªå¯ä»¥è‡ªå®šä¹‰
    # Confirm request details:  # è¾“å…¥yes
    # Enter pass phrase for /etc/openvpn/easy-rsa/pki/private/ca.key:   # è¾“å…¥ä¸Šé¢caè¯ä¹¦ç”Ÿæˆæ—¶çš„å¯†ç ï¼ˆ123456ï¼‰
    # Certificate created at: /etc/openvpn/easy-rsa/pki/issued/server.crt   # æœåŠ¡ç«¯è¯ä¹¦è·¯å¾„
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;4-åˆ›å»ºdhè¯ä¹¦&#34;&gt;4. åˆ›å»ºdhè¯ä¹¦&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;./easyrsa gen-dh    # åˆ›å»ºDiffie-Hellmanï¼Œæ—¶é—´æœ‰ç‚¹é•¿
    # DH parameters of size 2048 created at /etc/openvpn/easy-rsa/pki/dh.pem   # dhè¯ä¹¦è·¯å¾„
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-å®¢æˆ·ç«¯taå¯†é’¥è¯ä¹¦åˆ¶ä½œ&#34;&gt;3. å®¢æˆ·ç«¯ï¼ˆtaå¯†é’¥ï¼‰è¯ä¹¦åˆ¶ä½œ&lt;/h3&gt;
&lt;h4 id=&#34;1-åˆå§‹åŒ–&#34;&gt;1. åˆå§‹åŒ–&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®¢æˆ·ç«¯è¯ä¹¦ã€æµç¨‹å’ŒæœåŠ¡ç«¯ä¸€æ ·ã€‘
# ä¸ºäº†ä¾¿äºåŒºåˆ«ï¼ŒæŠŠå®¢æˆ·ç«¯ä½¿ç”¨çš„è¯ä¹¦å­˜æ”¾åœ¨ï¼š/etc/openvpn/client
cd /etc/openvpn
openvpn --genkey --secret ta.key
cd /etc/openvpn/client

# åˆå§‹åŒ–
./easyrsa init-pki
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-äº§ç”Ÿå®¢æˆ·ç«¯è¯ä¹¦&#34;&gt;2. äº§ç”Ÿå®¢æˆ·ç«¯è¯ä¹¦&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;./easyrsa gen-req client nopass #clientä¸ºè¯ä¹¦åï¼Œå¯è‡ªå®šä¹‰ï¼ŒnopassåŒæ ·è®¾ç½®å…å¯†
    # req: /etc/openvpn/client/pki/reqs/client.req
    # key: /etc/openvpn/client/pki/private/client.key   # keyè·¯å¾„             
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-å®¢æˆ·ç«¯è¯ä¹¦ç­¾å&#34;&gt;3. å®¢æˆ·ç«¯è¯ä¹¦ç­¾å&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ‡æ¢åˆ°æœåŠ¡ç«¯easy-rsaç›®å½•ä¸‹
cd /etc/openvpn/easy-rsa

# å¯¼å…¥req
./easyrsa import-req /etc/openvpn/client/pki/reqs/client.req client

# ç­¾å
./easyrsa sign client client    # ç¬¬ä¸€ä¸ªclientæ˜¯å›ºå®šçš„å‚æ•°è¡¨ç¤ºå®¢æˆ·ç«¯ï¼›ç¬¬äºŒä¸ªclientæŒ‡ä¸Šé¢å¯¼å…¥çš„å®¢æˆ·ç«¯è¯ä¹¦åï¼Œå¯ä»¥è‡ªå®šä¹‰
    # Confirm request details:  # è¾“å…¥&#39;yes&#39;
    # Enter pass phrase for /etc/openvpn/easy-rsa/pki/private/ca.key:   #è¾“å…¥caå¯†ç ï¼ˆ123456ï¼‰
    # Certificate created at: /etc/openvpn/easy-rsa/pki/issued/client.crt   # æœ€ç»ˆå®¢æˆ·ç«¯è¯ä¹¦è·¯å¾„
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-ä¿®æ”¹openvpné…ç½®æ–‡ä»¶å¹¶å¯åŠ¨&#34;&gt;4. ä¿®æ”¹openvpné…ç½®æ–‡ä»¶å¹¶å¯åŠ¨&lt;/h3&gt;
&lt;h4 id=&#34;1-ä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;1. ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æœåŠ¡å™¨ç«¯è¯ä¹¦å’Œå¯†é’¥ç»Ÿä¸€æ”¾åˆ°å’Œserver.confä¸€ä¸ªç›®å½•ä¸‹ï¼Œä¾¿äºé…ç½®
cp /etc/openvpn/easy-rsa/pki/ca.crt /etc/openvpn/
cp /etc/openvpn/easy-rsa/pki/private/server.key /etc/openvpn/
cp /etc/openvpn/easy-rsa/pki/issued/server.crt /etc/openvpn/
cp /etc/openvpn/easy-rsa/pki/dh.pem /etc/openvpn/

# ä¿®æ”¹openvpnæœåŠ¡ç«¯é…ç½®æ–‡ä»¶server.conf
vim /etc/openvpn/server.conf
	local 0.0.0.0	# ç›‘æ§æ‰€æœ‰åœ°å€
	port 1194	# æŒ‡å®šç«¯å£
	proto udp	# æŒ‡å®šåè®®(å¯ä»¥æŒ‡å®šudpï¼Œudpæ¯”tcpå¿«)
	dev tun	# é‡‡ç”¨è·¯ç”±éš§é“æ¨¡å¼
	ca ca.crt	# caè¯ä¹¦ä½ç½®ï¼Œç›¸å¯¹è·¯å¾„ï¼Œè¡¨ç¤ºca.crtå’Œserver.confè¦åœ¨åŒä¸€ç›®å½•
	cert server.crt	# æœåŠ¡ç«¯è¯ä¹¦
	key server.key # æœåŠ¡ç«¯key
	dh dh.pem # dhå¯†é’¥
	server 172.16.0.0 255.255.0.0	# ç»™å®¢æˆ·ç«¯åˆ†é…çš„åœ°å€æ± 
	ifconfig-pool-persist ipp.txt
	push &amp;quot;redirect-gateway def1 bypass-dhcp&amp;quot;	# å®¢æˆ·ç«¯ç½‘å…³ä½¿ç”¨openvpnæœåŠ¡å™¨ç½‘å…³
	push &amp;quot;dhcp-option DNS 8.8.8.8&amp;quot; # æŒ‡å®šdns
	push &amp;quot;dhcp-option DNS 114.114.114.114&amp;quot;
	keepalive 10 120 # å¿ƒè·³æ£€æµ‹ï¼Œ10ç§’æ£€æµ‹ä¸€æ¬¡ï¼Œ2åˆ†é’Ÿå†…æ²¡æœ‰å›åº”åˆ™è§†ä¸ºæ–­çº¿
	tls-auth ta.key 0 # æœåŠ¡ç«¯å€¼ä¸º0ï¼Œå®¢æˆ·ç«¯ä¸º1
	cipher AES-256-CBC
	comp-lzo	#ä¼ è¾“æ•°æ®å‹ç¼©
	persist-key
	persist-tun
	status openvpn-status.log
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-å¯åŠ¨openvpn&#34;&gt;2. å¯åŠ¨openvpn&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; #è®¾ç½®å¯åŠ¨æ–‡ä»¶
systemctl -f enable openvpn@server.service
# å¯åŠ¨        
systemctl start openvpn@server.service  
# æŸ¥çœ‹çŠ¶æ€
systemctl status openvpn@server
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h2&gt;
&lt;h3 id=&#34;1-å®‰è£…å®¢æˆ·ç«¯&#34;&gt;1. å®‰è£…å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;p&gt;å®‰è£…å®¢æˆ·ç«¯&lt;code&gt;OpenVPN-2.5.3-I601-x86.msi&lt;/code&gt;ï¼Œå…¨éƒ¨é»˜è®¤å³å¯&lt;/p&gt;
&lt;h3 id=&#34;2-ä»vpnæœåŠ¡å™¨centos7ä¸Šä¸‹è½½è¯ä¹¦ç­‰æ–‡ä»¶&#34;&gt;2. ä»vpnæœåŠ¡å™¨ï¼ˆCentos7ï¼‰ä¸Šä¸‹è½½è¯ä¹¦ç­‰æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·ç«¯æ‰€éœ€è¯ä¹¦ï¼Œä¸‹è½½ä¿å­˜åˆ°å®¢æˆ·ç«¯å’Œå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶åŒä¸€ç›®å½•ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…ä¸‹è½½è½¯ä»¶ã€æ­¤æ­¥éª¤å¯ä»¥çœç•¥ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨sftpä¸‹è½½ã€‘
yum -y install lrzsz

# ä¸‹è½½è¯ä¹¦ï¼Œå­˜åœ¨åœ¨openvpnå®¢æˆ·ç«¯ç›®å½•ä¸‹
sz /etc/openvpn/easy-rsa/pki/ca.crt	#caè¯ä¹¦
sz /etc/openvpn/easy-rsa/pki/issued/client.crt	#åœ¨æœåŠ¡ç«¯è¯ä¹¦ç”Ÿæˆç›®å½•ä¸‹
sz /etc/openvpn/client/pki/private/client.key	# åœ¨å®¢æˆ·ç«¯ç”Ÿæˆç›®å½•ä¸‹
sz /etc/openvpn/ta.key
# ä¸‹è½½åˆ°æœ¬åœ°ï¼Œwindowå®‰è£…openvpnï¼Œç„¶åè®¾ç½®client.ovpnï¼Œåœ¨confç›®å½•ä¸‹é¢ã€‚é»˜è®¤å®‰è£…ï¼Œåˆ™ä½ç½®ä¸ºC:\Program Files\OpenVPN\config
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-ç¼–è¾‘å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&#34;&gt;3. ç¼–è¾‘å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¤åˆ¶â€œC:\Program Files\OpenVPN\sample-config\client.ovpnâ€åˆ°â€œC:\Program Files\OpenVPN\configç›®å½•ä¸‹â€ï¼Œç„¶åä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š
    client
    dev tun   
    proto udp # å’Œserverç«¯ä¸€è‡´(å¯ä»¥ä½¿ç”¨udpæ¯”tcpå¿«)
    remote 172.16.0.1 1194 # æŒ‡å®šæœåŠ¡ç«¯IPå’Œç«¯å£
    resolv-retry infinite
    nobind
    persist-key
    persist-tun
    ca ca.crt #caè¯ä¹¦
    cert client.crt #å®¢æˆ·ç«¯è¯ä¹¦
    key client.key #å®¢æˆ·ç«¯å¯†é’¥
    remote-cert-tls server
    tls-auth ta.key 1 #taå¯†é’¥
    cipher AES-256-CBC
    comp-lzo #ä¼ è¾“å†…å®¹å‹ç¼©
    verb 3
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-åŒå‡»å¯åŠ¨openvpn-gui&#34;&gt;4. åŒå‡»å¯åŠ¨OpenVPN GUI&lt;/h3&gt;
&lt;p&gt;åŒå‡»æ¡Œé¢å›¾æ ‡OpenVPN GUIï¼Œä»»åŠ¡æ å›¾æ ‡å³é”®é€‰æ‹©â€œè¿æ¥â€ï¼Œç„¶åè¿›è¡Œè¿œç¨‹è¿æ¥windows server 2000æµ‹è¯•&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;l2tpipsec&#34;&gt;L2TP+IPSec&lt;/h1&gt;
&lt;p&gt;10.0.0.1ï¼ˆæ¨¡æ‹Ÿå†…ç½‘ï¼Œç‰©ç†æœºAï¼‰&amp;lt;--&amp;gt;192.168.56.11ï¼ˆæ¨¡æ‹Ÿå†…ç½‘ï¼ŒæœåŠ¡å™¨Bï¼ŒL2TP+IPSecï¼‰&amp;lt;--&amp;gt;10.0.0.0ç½‘æ®µåœ°å€ï¼ˆPCç”µè„‘Cï¼Œè¿ä¸ŠVPNè·å–çš„åœ°å€ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;æœåŠ¡å™¨b&#34;&gt;æœåŠ¡å™¨B&lt;/h2&gt;
&lt;p&gt;åŸºæœ¬ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;eth0ï¼š192.168.56.11/24
eth1ï¼š10.0.0.1/8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…è½¯ä»¶å’Œä¿®æ”¹å†…æ ¸å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. å®‰è£…æœåŠ¡
# åœ¨centos7ç‰ˆæœ¬åï¼Œ æä¾›ipsecæœåŠ¡åŒ…ç”±libreswanæ›¿ä»£äº†openswan
yum install -y xl2tpd libreswan


# 2. ä¿®æ”¹å†…æ ¸æ”¯æŒï¼Œå¯ä»¥å¯¹ç…§ä»¥ä¸‹é…ç½®ä¿®æ”¹ï¼Œæˆ–è€…ç›´æ¥å¤åˆ¶ï¼Œä¿®æ”¹å®Œåè¿è¡Œsysctl -p ä½¿é…ç½®ç”Ÿæ•ˆ
vim  /etc/sysctl.conf
    vm.swappiness = 0
    net.ipv4.neigh.default.gc_stale_time=120
    net.ipv4.conf.all.rp_filter=0
    net.ipv4.conf.default.rp_filter=0
    net.ipv4.conf.default.arp_announce = 2
    net.ipv4.conf.all.arp_announce=2
    net.ipv4.tcp_max_tw_buckets = 5000
    net.ipv4.tcp_syncookies = 1
    net.ipv4.tcp_max_syn_backlog = 1024
    net.ipv4.tcp_synack_retries = 2
    net.ipv4.conf.lo.arp_announce=2
    net.ipv4.ip_forward = 1
    net.ipv4.conf.default.accept_redirects = 0
    net.ipv4.conf.default.send_redirects = 0
    net.ipv4.conf.default.accept_source_route = 0
# ä½¿é…ç½®ç”Ÿæ•ˆ
sysctl -p
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é…ç½®å’Œå¯åŠ¨ipsec&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. ä¿®æ”¹ipsecé…ç½®æ–‡ä»¶
# åœ¨é…ç½®æ–‡ä»¶é‡ŒåŠ å…¥è¿™ä¸€è¡Œï¼Œå³å…è®¸å“ªäº›ç½‘ç»œå¯ä»¥ç©¿é€natå»ºç«‹l2tpè¿æ¥ï¼Œæ ¼å¼ï¼š[%v4 | %v6:å­ç½‘/æ©ç ï¼Œv4å’Œv6åˆ†åˆ«ä»£è¡¨ipv4å’Œipv6ç½‘ç»œ
vim /etc/ipsec.conf
    nat_traversal=yes   #æ–°åŠ çš„
        virtual_private=%v4:10.0.0.0/8,%v4:192.168.0.0/16,%v4:172.16.0.0/12,%v4:25.0.0.0/8,%v4:100.64.0.0/10,%v6:fd00::/8,%v6:fe80::/10  # éœ€è¦ç©¿é€çš„æ‰€æœ‰ç½‘ç»œå‡éœ€è¦æ·»åŠ 
        # protostack=netkey
        # keep_alive=1800

# 2. å»ºç«‹ipsecä¸l2tpæœåŠ¡å…³è”çš„é…ç½®æ–‡ä»¶ï¼ˆè¿™éƒ¨åˆ†é…ç½®æ–‡ä»¶å¯ä»¥ç›´æ¥å†™å…¥/etc/ipsec.confï¼‰
vim /etc/ipsec.d/l2tp_psk.conf  # å¦‚æœæ­¤æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨åˆ›å»º
	conn L2TP-PSK-NAT
		rightsubnet=vhost:%priv
		also=L2TP-PSK-noNAT
	conn L2TP-PSK-noNAT
		authby=secret
		pfs=no
		auto=add
		keyingtries=3
		dpddelay=30
		dpdtimeout=120
		dpdaction=clear
		rekey=no
		ikelifetime=8h
		keylife=1h
		type=transport
        # forceencaps=yes
        sha2-truncbug=yes
		left=192.168.56.11  # å·¦è¾¹çš„ç½‘ç»œï¼Œå¤–ç½‘ipï¼Œå³PCç”µè„‘Cè¿æ¥çš„ç½‘ç»œ
        leftid=192.168.56.11 # idéšä¾¿å¡«
        leftnexthop=%defaultroute
		leftprotoport=17/1701   # 17ä»£è¡¨udpï¼Œtcpç”¨6è¡¨ç¤ºï¼Œ1701ä»£è¡¨ç«¯å£
		right=%any  # å³è¾¹çš„ç½‘ç»œï¼Œå³æ¨¡æ‹Ÿå†…ç½‘å®¢æˆ·ç«¯è¿æ¥çš„ç½‘ç»œ
		rightprotoport=17/%any  # ä»ç„¶ä½¿ç”¨udpåè®®ï¼Œç«¯å£ä»»æ„
        rightnexthop=%defaultroute
        # ike=3des-sha1,aes-sha1,aes256-sha1,aes256-sha2_256
        # phase2alg=3des-sha1,aes-sha1,aes256-sha1,aes256-sha2_256

# 3. å½“å»ºç«‹l2tpè¿æ¥æ—¶ï¼Œéœ€è¦è¾“å…¥é¢„å…±äº«å¯†åŒ™ï¼Œä»¥ä¸‹ä¸ºé¢„å…±äº«å¯†åŒ™çš„é…ç½®æ–‡ä»¶
vim  /etc/ipsec.secrets 
    include /etc/ipsec.d/*.secrets
cd  /etc/ipsec.d/ &amp;amp;&amp;amp; ll
    # éœ€è¦æœ‰ä»¥ä¸‹7ä¸ªæ–‡ä»¶
    cert9.db key4.db l2tp_psk.conf linuxcc_l2tp.secrets pkcs11.txt policies v6neighbor-hole.conf
vim /etc/ipsec.d/linuxcc_l2tp.secrets   #å¦‚æœæ²¡æœ‰ï¼Œåˆ™éœ€è¦è‡ªå·±åˆ›å»º
    192.168.56.11 %any: PSK &amp;quot;123456&amp;quot;


# 4. æ£€éªŒipsecæœåŠ¡é…ç½®
ipsec setup start
ipsec verify
# æ­¤å¤„å‡ºé”™ä»¥åŠè§£å†³åŠæ³•ï¼Œé”™è¯¯å¦‚ä¸‹
# Checking rp_filter                                	[ENABLED]
#    /proc/sys/net/ipv4/conf/eth0/rp_filter           	[ENABLED]
#   rp_filter is not fully aware of IPsec and should be disabled
echo  0 &amp;gt;/proc/sys/net/ipv4/conf/eth0/rp_filter  #è§£å†³åŠæ³•
# æ¥ç€æ£€æŸ¥
ipsec verify
# åªæœ‰æœ€åä¸€è¡ŒOpportunistic Encryptionä¸º[DISABLED]ã€Hardware random device ä¸º[N/A]ï¼Œå…¶ä»–é¡¹ç›®å‡ä¸º[OK]

# 7. å¯åŠ¨ipsec
systemctl start ipsec
systemctl enable ipsec  # è®¾ç½®å¼€æœºå¯åŠ¨
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é…ç½®å’Œå¯åŠ¨xl2tpd&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. ä¿®æ”¹l2tpçš„é…ç½®æ–‡ä»¶
vi /etc/xl2tpd/xl2tpd.conf
    [global]
    ipsec saref = yes  #æ­¤å¤„æ·»åŠ ä¸Šå»
    listen-addr = 192.168.56.11 #å¤–ç½‘
    # auth file = /etc/ppp/chap-secrets   # ç”¨æˆ·åå¯†ç æ–‡ä»¶
    # port = 1701

    [lns default]
    ip range = 10.0.0.100-10.0.0.200  #è¦å’Œè‡ªå·±çš„å†…ç½‘ä¸€ç›´ï¼Œåˆ†é…ç»™å®¢æˆ·ç«¯çš„IPåœ°å€ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„å†…ç½‘ç½‘æ®µå’Œéœ€è¦çš„ipæ•°é…ç½®
    local ip = 192.168.56.11  # åˆ†é…ç»™è‡ªå·±çš„ipï¼Œä¹Ÿå¯ä»¥å†™å¤–ç½‘åœ°å€
    # local ip = 10.0.0.99
    require chap = yes
    refuse pap = yes
    require authentication = yes
    name = L2TPVPN  # åå­—éšä¾¿èµ·
    ppp debug = yes
    pppoptfile = /etc/ppp/options.xl2tpd  # è¿™é‡Œæœ‰xl2tpdçš„ä¸€äº›é…ç½®
    length bit = yes

# 2. ä¿®æ”¹xl2tpdå±æ€§é…ç½®æ–‡ä»¶
vim /etc/ppp/options.xl2tpd
	ipcp-accept-local
	ipcp-accept-remote
	ms-dns 192.168.56.254 #åªä¿®æ”¹DNSï¼Œå»ºè®®æ”¹æˆç½‘å…³çš„IPï¼Œä¹Ÿå¯ä»¥çœç•¥
	# ms-dns  8.8.8.8  
	# ms-dns  192.168.1.1
    # name l2tpd
	noccp
	auth
	# crtscts  #è¿™å‡ ä¸ªæ³¨é‡Šçš„æ˜¯æ–°çš„é…ç½®é‡Œé¢æ²¡æœ‰ï¼ŒåŸæ¥æœ‰çš„ï¼Œæ³¨é‡Šæ‰å°±æ­£å¸¸äº†
    # lock
	idle 1800
	mtu 1410
	mru 1410
	nodefaultroute
	debug
	proxyarp
	connect-delay 5000
	require-mschap-v2
    # lcp-echo-interval 30
    # lcp-echo-failure 4
    # mtu 1400
    # asyncmap 0
    # hide-password

# 3. æ·»åŠ xl2tpdç”¨æˆ·åå¯†ç ï¼Œç”¨äºå®¢æˆ·ç«¯è¿æ¥
vim  /etc/ppp/chap-secrets
	# Secrets for authentication using CHAP
	# client	server	secret			IP addresses
	vpn12345	*	123456	*

# 4. å¯åŠ¨xl2tpd
systemctl start xl2tpd
systemctl enable xl2tpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;PCè¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. ç¼–è¾‘æ³¨å†Œè¡¨
win+R--&amp;gt;regedit--&amp;gt;HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\Rasman\--&amp;gt;å³é”®é€‰æ‹©æ–°å»ºDWORD(32-ä½)å€¼--&amp;gt;æ•°å€¼åç§°ProhibitIPSecï¼Œæ•°å€¼æ•°æ®1--&amp;gt;é‡å¯ç”µè„‘

# 2. å¼€å¯è¿æ¥
æ§åˆ¶é¢æ¿--&amp;gt;ç½‘ç»œå’Œå…±äº«ä¸­å¿ƒ--&amp;gt;è®¾ç½®æ–°çš„è¿æ¥å’Œç½‘ç»œ--&amp;gt;è¿æ¥åˆ°å·¥ä½œåŒº--&amp;gt;ä½¿ç”¨æˆ‘çš„Internetè¿æ¥ï¼ˆVPNï¼‰--&amp;gt;Internetåœ°å€ä¸º192.168.56.11ï¼Œç›®æ ‡åç§°ä¸º192.168.56.11ã€è¿™é‡Œéœ€è¦å’Œ/etc/ipsec.d/l2tp_psk.confä¸­çš„leftå’Œleftidä¸€è‡´ã€‘ï¼Œä»…å‹¾é€‰è®°ä½æˆ‘çš„å‡­æ®ï¼ˆwin7ä»…å‹¾é€‰ç°åœ¨ä¸è¿æ¥...ï¼‰
æ§åˆ¶é¢æ¿--&amp;gt;ç½‘ç»œé“¾æ¥--&amp;gt;æ‰¾åˆ°192.168.56.11åå³é”®é€‰æ‹©å±æ€§--&amp;gt;å®‰å…¨--&amp;gt;VPNç±»å‹é€‰æ‹©â€œä½¿ç”¨IPSecçš„ç¬¬2å±‚éš§é“åè®®â€ï¼Œæ•°æ®åŠ å¯†é€‰æ‹©â€œå¯é€‰åŠ å¯†â€ï¼Œèº«ä»½éªŒè¯é€‰æ‹©â€œMicrosoftï¼šå®‰å…¨å¯†ç â€

å³é”®â€œ192.168.56.11â€é€‰æ‹©è¿æ¥/æ–­å¼€è¿æ¥--&amp;gt;ç”¨æˆ·åvpn123456ï¼Œå¯†ç 123456ã€è¿™é‡Œéœ€è¦å’Œ/etc/ppp/chap-secretsé…ç½®çš„ç”¨æˆ·åå’Œå¯†ç ä¸€è‡´ã€‘
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;pptp&#34;&gt;PPTP&lt;/h1&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯-2&#34;&gt;æœåŠ¡ç«¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ”¯æŒPPTPåè®®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;modprobe ppp-compress-18 &amp;amp;&amp;amp; echo ok
    # è¿”å›okå³è¡¨ç¤ºæ”¯æŒ
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ£€æµ‹æ˜¯å¦å®‰è£…firewalldé˜²ç«å¢™ï¼ˆé»˜è®¤Centos7æ˜¯å®‰è£…çš„ï¼Œå¦‚æœæ²¡æœ‰åˆ™è‡ªè¡Œå®‰è£…ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;firewall-cmd --state
    # è¿”å›runningå³è¡¨ç¤ºå®‰è£…ä¸”è¿è¡Œé˜²ç«å¢™
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å®‰è£…PPTPç›¸å…³è½¯ä»¶åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¾èµ–ç¬¬ä¸‰æ–¹yumæºEPEL
# yum install epel-release -y
yum install ppp ppp-devel pptpd -y
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;åˆ†åˆ«ä¿®æ”¹PPTPçš„é…ç½®æ–‡ä»¶ï¼š&lt;code&gt;pptpd.conf&lt;/code&gt;å’Œ&lt;code&gt;option.pptpd&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/pptpd.conf
    # é…ç½®æœ¬åœ°éš§é“ç½‘å¡åœ°å€ï¼ŒåŠå®¢æˆ·ç«¯åœ°å€æ± ï¼Œéœ€è¦åŒä¸€ç½‘æ®µ
    localip 192.168.0.1 # å†…ç½‘ipåœ°å€ï¼ˆæœåŠ¡å™¨çš„eth0ç½‘å¡åœ°å€ï¼Œä¸æ˜¯æœåŠ¡å™¨å…¬ç½‘åœ°å€ï¼‰
    remoteip 192.168.0.234-238,192.168.0.245 # è‡ªå®šä¹‰åˆ†é…ç»™å®¢æˆ·ç«¯çš„ç½‘æ®µ

vim /etc/ppp/options.pptpd
	name pptpd
	refuse-pap
	refuse-chap
	refuse-mschap
	require-mschap-v2
	require-mppe-128
	ms-dns 8.8.8.8	# é…ç½®éš§é“dns
	ms-dns 114.114.114.114
	proxyarp
	lock
	nobsdcomp 
	novj
	novjccomp
	nologfd
	logfile /var/log/pptpd.log
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;åœ¨PPTPçš„ç”¨æˆ·è®¤è¯é…ç½®æ–‡ä»¶ï¼š&lt;code&gt;chap-secrets&lt;/code&gt;ä¸­æ·»åŠ ç™»å½•è´¦å·&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ·»åŠ pptp vpnè´¦å·ä¸å¯†ç ï¼Œæ ¼å¼ï¼šç”¨æˆ·å pptpdï¼ˆoptions.pptpdä¸­çš„nameå‚æ•°å€¼ï¼‰ å¯†ç  ipåœ°å€
vim /etc/ppp/chap-secrets
	# Secrets for authentication using CHAP
	# client    server    secret            IP addresses
	admin    pptpd     123456     *
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;ä¿®æ”¹ç³»ç»Ÿå‚æ•°æ–‡ä»¶ï¼š&lt;code&gt;sysctl.conf&lt;/code&gt;ï¼Œæ‰“å¼€ipv4è½¬å‘åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/sysctl.conf
    net.ipv4.ip_forward=1
    # net.ipv6.conf.all.forwarding=1  # å¦‚æœéœ€è¦ipv6ï¼Œåˆ™æ‰“å¼€
sysctl -p
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;é…ç½®é˜²ç«å¢™ï¼Œå¼€å¯æ•°æ®è·¯ç”±ï¼ˆå…³é”®çš„ä¸€æ­¥ï¼Œä¸é…ç½®é˜²ç«å¢™ï¼Œæ— æ³•å®ç°ç½‘ç»œè®¿é—®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;firewall-cmd --permanent --direct --add-rule ipv4 filter INPUT 0 -i ens32 -p tcp --dport 1723 -j ACCEPT
firewall-cmd --permanent --direct --add-rule ipv4 filter INPUT 0 -p gre -j ACCEPT
firewall-cmd --permanent --direct --add-rule ipv4 filter POSTROUTING 0 -t nat -o ens32 -j MASQUERADE
firewall-cmd --permanent --direct --add-rule ipv4 filter FORWARD 0 -i ppp+ -o ens32 -j ACCEPT
firewall-cmd --permanent --direct --add-rule ipv4 filter FORWARD 0 -i ens32 -o ppp+ -j ACCEPT
firewall-cmd --reload

# é…ç½®æœåŠ¡å™¨æä¾›å•†ä¸»æœºçš„å®‰å…¨ç­–ç•¥ï¼Œæ­¤å¤„ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„ECSï¼Œéœ€è¦é…ç½®ç›¸å…³çš„å®‰å…¨ç­–ç•¥ï¼Œå…¶ä»–æœåŠ¡å•†è¯·è‡ªè¡Œæ£€æŸ¥
    # 1. å¼€å¯TCPçš„1723ç«¯å£
    # 2. å¼€å¯GREåè®®
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;å¯åŠ¨pptpdï¼Œå¼€å¯VPNæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl enable pptpd
systemctl start pptpd
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯-2&#34;&gt;å®¢æˆ·ç«¯&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241160702.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241166436.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241174978.png&#34; alt=&#34;3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241179722.png&#34; alt=&#34;4&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241187843.png&#34; alt=&#34;5&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241194010.png&#34; alt=&#34;6&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1625241200378.png&#34; alt=&#34;7&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;é”™è¯¯è§£å†³&#34;&gt;é”™è¯¯è§£å†³&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¿ä¸ä¸ŠVPN&lt;/strong&gt;ï¼šæ£€æŸ¥æ˜¯å¦å¼€æ”¾åœ¨é˜²ç«å¢™å’ŒæœåŠ¡å•†å®‰å…¨ç­–ç•¥ä¸­å¼€å¯äº† TCPçš„1723ç«¯å£&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èƒ½è¿ä¸ŠVPNä¸Šä¸äº†ç½‘&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ç½‘å¡MTUçš„å€¼è®¾ç½®è¿‡å°ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç«¯ä½¿ç”¨ï¼š&lt;code&gt;ifconfig ppp0 mtu 1500&lt;/code&gt;è¿›è¡Œä¸´æ—¶è®¾ç½®ï¼Œæ°¸ä¹…ç”Ÿæ•ˆéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/ppp/ip-up
# åœ¨ exit 0 å‰å†™å…¥ : 
ifconfig $1 mtu 1500
# é‡å¯ä¸‹pptpdæœåŠ¡ï¼š
systemctl restart pptpd
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;2. æ‰§è¡Œå‘½ä»¤ï¼šé‡ç½®æ¸…ç©ºfirewallçš„æ‰€æœ‰è§„åˆ™ï¼Œç„¶åé‡æ–°æ·»åŠ ä¸Šé¢çš„firewallé˜²ç«å¢™è§„åˆ™&lt;/code&gt;&lt;/pre&gt;
">Centos7 æ­å»ºè™šæ‹Ÿå±€åŸŸç½‘VPN</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/rclone-can-shu-shuo-ming/"" data-c="
          &lt;p&gt;rcloneæ˜¯æœ€å¥½ç”¨çš„ç½‘ç»œå­˜å‚¨æŒ‚è½½å·¥å…·ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼Œå¹¶ä¸”å¼€æºã€‚&lt;br&gt;
å®˜ç½‘æ–‡æ¡£&lt;a href=&#34;https://rclone.org/docs/&#34;&gt;https://rclone.org/docs/&lt;/a&gt;ï¼Œä¸‹è½½&lt;a href=&#34;https://rclone.org/downloads/&#34;&gt;https://rclone.org/downloads/&lt;/a&gt;æˆ–&lt;a href=&#34;https://github.com/rclone/rclone&#34;&gt;https://github.com/rclone/rclone&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;rclone-è®¾ç½®&#34;&gt;Rclone è®¾ç½®&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿›å…¥äº¤äº’å¼é…ç½®é€‰é¡¹ï¼Œè¿›è¡Œæ·»åŠ ã€åˆ é™¤ã€ç®¡ç†ç½‘ç›˜ç­‰æ“ä½œ
rclone config
# æ˜¾ç¤ºé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œä¸€èˆ¬é…ç½®æ–‡ä»¶åœ¨ ~/.config/rclone/rclone.conf
rclone config file
# æ˜¾ç¤ºé…ç½®æ–‡ä»¶ä¿¡æ¯
rclone config show
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å‘½ä»¤è¯­æ³•&#34;&gt;å‘½ä»¤è¯­æ³•&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æœ¬åœ°åˆ°ç½‘ç›˜
rclone [åŠŸèƒ½é€‰é¡¹] &amp;lt;æœ¬åœ°è·¯å¾„&amp;gt; &amp;lt;ç½‘ç›˜åç§°:è·¯å¾„&amp;gt; [å‚æ•°] [å‚æ•°] ...
# ç½‘ç›˜åˆ°æœ¬åœ°
rclone [åŠŸèƒ½é€‰é¡¹] &amp;lt;ç½‘ç›˜åç§°:è·¯å¾„&amp;gt; &amp;lt;æœ¬åœ°è·¯å¾„&amp;gt; [å‚æ•°] [å‚æ•°] ...
# ç½‘ç›˜åˆ°ç½‘ç›˜
rclone [åŠŸèƒ½é€‰é¡¹] &amp;lt;ç½‘ç›˜åç§°:è·¯å¾„&amp;gt; &amp;lt;ç½‘ç›˜åç§°:è·¯å¾„&amp;gt; [å‚æ•°] [å‚æ•°] ...

# ä¾‹å¦‚ï¼š
rclone move -v /Download Onedrive:/Download --transfers=1
# å¤åˆ¶åˆ°ç½‘ç›˜ï¼Œå¹¶æ˜¾ç¤ºå®æ—¶ä¼ è¾“è¿›åº¦ï¼Œè®¾ç½®å¹¶è¡Œä¸Šä¼ æ•°ä¸º8
rclone copy -P /home/SunPma GD:/home/SunPma --transfers=8 
# å¦‚æœéœ€è¦æœåŠ¡ç«¯å¯¹æœåŠ¡ç«¯çš„ä¼ è¾“å¯åŠ ä»¥ä¸‹å‚æ•°ï¼ˆä¸æ¶ˆè€—æœ¬åœ°æµé‡ï¼‰
rclone copy é…ç½®åç§°:ç½‘ç›˜è·¯å¾„ é…ç½®åç§°:ç½‘ç›˜è·¯å¾„ --drive-server-side-across-configs
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å¸¸ç”¨åŠŸèƒ½é€‰é¡¹&#34;&gt;å¸¸ç”¨åŠŸèƒ½é€‰é¡¹&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¤åˆ¶
rclone copy
# ç§»åŠ¨ï¼Œå¦‚æœè¦åœ¨ç§»åŠ¨ååˆ é™¤ç©ºæºç›®å½•ï¼Œè¯·åŠ ä¸Š --delete-empty-src-dirs å‚æ•°
rclone move
# åŒæ­¥ï¼Œå°†æºç›®å½•åŒæ­¥åˆ°ç›®æ ‡ç›®å½•ï¼Œåªæ›´æ”¹ç›®æ ‡ç›®å½•
rclone sync
# æŸ¥çœ‹ç½‘ç›˜æ–‡ä»¶å ç”¨å¤§å°
rclone size
# åˆ é™¤è·¯å¾„ä¸‹çš„æ–‡ä»¶å†…å®¹
rclone delete
# åˆ é™¤è·¯å¾„åŠå…¶æ‰€æœ‰æ–‡ä»¶å†…å®¹
rclone purge
# åˆ›å»ºç›®å½•
rclone mkdir
# åˆ é™¤ç›®å½•
rclone rmdir
# åˆ é™¤æŒ‡å®šç¯å¢ƒä¸‹çš„ç©ºç›®å½•ï¼Œå¦‚æœåŠ ä¸Š--leave-rootå‚æ•°ï¼Œåˆ™ä¸ä¼šåˆ é™¤æ ¹ç›®å½•
rclone rmdirs
# æ£€æŸ¥æºå’Œç›®çš„åœ°å€æ•°æ®æ˜¯å¦åŒ¹é…
rclone check
# åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„æ‰€æœ‰çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤§å°å’Œè·¯å¾„
rclone ls
# æ¯”ä¸Šé¢å¤šä¸€ä¸ªæ˜¾ç¤ºä¸Šä¼ æ—¶é—´
rclone lsl
# åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„ç›®å½•
rclone lsd
# åˆ—å‡ºæŒ‡å®šè·¯å¾„ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ 
rclone lsf
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å¸¸ç”¨å‚æ•°&#34;&gt;å¸¸ç”¨å‚æ•°&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æµ‹è¯•è¿è¡Œï¼Œç”¨æ¥æŸ¥çœ‹ rclone åœ¨å®é™…è¿è¡Œä¸­ä¼šè¿›è¡Œå“ªäº›æ“ä½œ
-nï¼Œ--dry-run
# æ˜¾ç¤ºå®æ—¶ä¼ è¾“è¿›åº¦ï¼Œ500msåˆ·æ–°ä¸€æ¬¡ï¼Œå¦åˆ™é»˜è®¤1åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
-Pï¼Œ--progress
#  å—çš„å¤§å°ï¼Œé»˜è®¤5Mï¼Œç†è®ºä¸Šæ˜¯è¶Šå¤§ä¸Šä¼ é€Ÿåº¦è¶Šå¿«ï¼ŒåŒæ—¶å ç”¨å†…å­˜ä¹Ÿè¶Šå¤šã€‚å¦‚æœè®¾ç½®å¾—å¤ªå¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿›ç¨‹ä¸­æ–­
--cache-chunk-size SizeSuffi
# å—å¯ä»¥åœ¨æœ¬åœ°ç£ç›˜ä¸Šå ç”¨çš„æ€»å¤§å°ï¼Œé»˜è®¤10G
--cache-chunk-total-size SizeSuffix
# å¹¶è¡Œæ–‡ä»¶æ•°ï¼Œé»˜è®¤ä¸º4ã€‚åœ¨æ¯”è¾ƒå°çš„å†…å­˜çš„VPSä¸Šå»ºè®®è°ƒå°è¿™ä¸ªå‚æ•°ï¼Œæ¯”å¦‚128Mçš„å°é¸¡ä¸Šä½¿ç”¨å»ºè®®è®¾ç½®ä¸º1
--transfers=N
# æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„ï¼Œstringä¸ºé…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆä¾‹å¦‚rclone config --config=&amp;quot;rclone.conf&amp;quot;.ï¼‰
--config string
# è·³è¿‡é”™è¯¯ï¼Œé˜²æ­¢å‡ºç°é”™è¯¯åå¯¼è‡´åç»­çš„ä¼ è¾“ä»»åŠ¡è¢«ç»ˆæ­¢æ‰ï¼Œæ­¤æ—¶å°±å¯ä»¥åŠ ä¸Šè¿™ä¸ªå‚æ•°è·³è¿‡é”™è¯¯ã€‚ä½†éœ€è¦æ³¨æ„ RCLONE çš„é€€å‡ºçŠ¶æ€ç ä¸ä¼šä¸º0
--ignore-errors
# æ ¹æ®æ–‡ä»¶å¤§å°æ ¡éªŒï¼Œä¸æ ¡éªŒhash
--size-only
# æœåŠ¡ç«¯å¯¹æœåŠ¡ç«¯ä¼ è¾“
--drive-server-side-across-configs
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ—¥å¿—&#34;&gt;æ—¥å¿—&lt;/h1&gt;
&lt;p&gt;rcloneæœ‰4ä¸ªçº§åˆ«çš„æ—¥å¿—è®°å½•ï¼šERRORã€NOTICEã€INFOã€DEBUGã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œrcloneå°†ç”ŸæˆERRORå’ŒNOTICEçº§åˆ«æ—¥å¿—&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  rcloneå°†ä»…ç”ŸæˆERRORæ¶ˆæ¯
-q
# rcloneå°†ç”ŸæˆERRORï¼ŒNOTICEå’ŒINFOæ¶ˆæ¯ï¼Œæ¨èæ­¤é¡¹
-v
# rcloneå°†ç”ŸæˆERRORï¼ŒNOTICEï¼ŒINFOå’ŒDEBUGæ¶ˆæ¯
-vv
# æ ‡å¿—æ§åˆ¶æ—¥å¿—çº§åˆ«
--log-level LEVEL
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶&#34;&gt;è¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;--log-file=FILE&lt;/code&gt;é€‰é¡¹ï¼Œrcloneä¼šå°†Errorï¼ŒInfoå’ŒDebugæ¶ˆæ¯ä»¥åŠæ ‡å‡†é”™è¯¯é‡å®šå‘åˆ°FILEï¼Œè¿™é‡Œçš„FILEæ˜¯ä½ æŒ‡å®šçš„æ—¥å¿—æ–‡ä»¶è·¯å¾„ã€‚&lt;br&gt;
å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç³»ç»Ÿçš„æŒ‡å‘å‘½ä»¤ï¼Œæ¯”å¦‚ï¼š&lt;code&gt;rclone sync -v Onedrive:/DRIVEX Gdrive:/DRIVEX &amp;gt; &amp;quot;~/DRIVEX.log&amp;quot; 2&amp;gt;&amp;amp;1&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ–‡ä»¶å’Œç›®å½•è¿‡æ»¤&#34;&gt;æ–‡ä»¶å’Œç›®å½•è¿‡æ»¤&lt;/h1&gt;
&lt;p&gt;ç›®å½•è¿‡æ»¤éœ€è¦åœ¨ç›®å½•åç§°åé¢åŠ ä¸Š&lt;code&gt;/&lt;/code&gt;ï¼Œå¦åˆ™ä¼šè¢«å½“åšæ–‡ä»¶è¿›è¡ŒåŒ¹é…ï¼Œä»¥&lt;code&gt;/&lt;/code&gt;å¼€å¤´åªä¼šåŒ¹é…æ ¹ç›®å½•ï¼ˆæŒ‡å®šç›®å½•ä¸‹ï¼‰ï¼Œå¦åˆ™åŒ¹é…æ‰€ç›®å½•ã€‚è¿™åŒæ ·é€‚ç”¨äºæ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ’é™¤æ–‡ä»¶æˆ–ç›®å½•
--exclude
# åŒ…å«æ–‡ä»¶æˆ–ç›®å½•
--include
# æ–‡ä»¶è¿‡æ»¤è§„åˆ™ï¼Œç›¸å½“äºä¸Šé¢ä¸¤ä¸ªé€‰é¡¹çš„å…¶å®ƒä½¿ç”¨æ–¹å¼ï¼ŒåŒ…å«è§„åˆ™ä»¥+å¼€å¤´ï¼Œæ’é™¤è§„åˆ™ä»¥-å¼€å¤´
--filter


# ä¸¾ä¾‹ï¼š
# æ’é™¤æ‰€æœ‰bakæ–‡ä»¶ï¼ˆ2ç§å†™æ³•ï¼‰
--exclude &amp;quot;.bak&amp;quot;
--filter &amp;quot;- .bak&amp;quot;
# åŒ…å«æ‰€æœ‰pngå’Œjpgæ–‡ä»¶ï¼Œæ’é™¤å…¶ä»–æ–‡ä»¶
--include &amp;quot;.{png,jpg}&amp;quot;
--filter &amp;quot;+ .{png,jpg}&amp;quot;
# åˆ é™¤æ’é™¤çš„æ–‡ä»¶ï¼Œéœ€é…åˆè¿‡æ»¤å‚æ•°ä½¿ç”¨ï¼Œå¦åˆ™æ— æ•ˆ
--delete-excluded
# æ’é™¤æ‰€æœ‰ç›®å½•ä¸‹çš„.git ç›®å½•
--exclude &amp;quot;.git/&amp;quot;
# åªæ’é™¤æ ¹ç›®å½•ä¸‹çš„.git ç›®å½•
--exclude &amp;quot;/.git/&amp;quot;
# æ’é™¤æ‰€æœ‰ç›®å½•ä¸‹çš„Videoå’ŒSoftwareç›®å½•
--exclude &amp;quot;{Video,Software}/&amp;quot;
# åªæ’é™¤æ ¹ç›®å½•ä¸‹çš„Videoå’ŒSoftwareç›®å½•
--exclude &amp;quot;/{Video,Software}/&amp;quot;
# ä»…åŒ…å«æ ¹ç›®å½•ä¸‹çš„Videoå’ŒSoftwareç›®å½•çš„æ‰€æœ‰å†…å®¹
--include &amp;quot;/{Video,Software}/**&amp;quot; 

rclone copy -vv --disable copy --progress --checkers 10 --transfers 10 --tpslimit 10 --user-agent &amp;quot;ISV|rclone|rclone/v1.51.0&amp;quot; --stats 3m --bwlimit 1000M --buffer-size 64M --low-level-retries 20 --include &amp;quot;{æ–‡ä»¶å¤¹A,æ–‡ä»¶å¤¹B,æ–‡ä»¶å¤¹C}/**&amp;quot; &amp;quot;/home/piaoyun.cc/down/&amp;quot; &amp;quot;onedirve:/piaoyuncc/&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ–‡ä»¶å¤§å°è¿‡æ»¤&#34;&gt;æ–‡ä»¶å¤§å°è¿‡æ»¤&lt;/h1&gt;
&lt;p&gt;é»˜è®¤å¤§å°å•ä½ä¸ºkBytes ï¼Œä½†å¯ä»¥ä½¿ç”¨k ï¼ŒMæˆ–Gåç¼€ã€‚&lt;strong&gt;å¤§å°è¿‡æ»¤ä¸¤ä¸ªé€‰é¡¹ä¸èƒ½åŒæ—¶ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿‡æ»¤å°äºæŒ‡å®šå¤§å°çš„æ–‡ä»¶
--min-size
# è¿‡æ»¤å¤§äºæŒ‡å®šå¤§å°çš„æ–‡ä»¶
--max-size

# ä¸¾ä¾‹
# ä¼ è¾“ä¸å°äº50kçš„æ–‡ä»¶
--min-size 50
# ä¼ è¾“ä¸å¤§äº1Gçš„æ–‡ä»¶
--max-size 1G
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;è¿‡æ»¤è§„åˆ™æ–‡ä»¶&#34;&gt;è¿‡æ»¤è§„åˆ™æ–‡ä»¶&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä»æ–‡ä»¶æ·»åŠ åŒ…å«/æ’é™¤è§„åˆ™
--filter-from &amp;lt;è§„åˆ™æ–‡ä»¶&amp;gt; 

# ä¸¾ä¾‹ï¼š
--filter-from filter-file.txt
# filter-file.txtå†…å®¹å¦‚ä¸‹ï¼š
    - secret*.jpg
    + *.jpg
    + *.png
    + file2.avi
    - /dir/Trash/**
    + /dir/**
    - *
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ç¯å¢ƒå˜é‡&#34;&gt;ç¯å¢ƒå˜é‡&lt;/h1&gt;
&lt;p&gt;rcloneä¸­çš„æ¯ä¸ªé€‰é¡¹éƒ½å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ã€‚ç¯å¢ƒå˜é‡çš„åç§°å¯ä»¥é€šè¿‡é•¿é€‰é¡¹åç§°è¿›è¡Œè½¬æ¢ï¼Œåˆ é™¤&lt;code&gt;--&lt;/code&gt;å‰ç¼€ï¼Œæ›´æ”¹&lt;code&gt;-&lt;/code&gt;ä¸º&lt;code&gt;_&lt;/code&gt;ï¼Œå¤§å†™å¹¶æ·»åŠ å‰ç¼€&lt;code&gt;RCLONE_&lt;/code&gt;ã€‚ç¯å¢ƒå˜é‡çš„&lt;strong&gt;ä¼˜å…ˆçº§ä¼šä½äºå‘½ä»¤è¡Œé€‰é¡¹&lt;/strong&gt;ï¼Œå³é€šè¿‡å‘½ä»¤è¡Œè¿½åŠ ç›¸åº”çš„é€‰é¡¹æ—¶ä¼šè¦†ç›–ç¯å¢ƒå˜é‡è®¾å®šçš„å€¼ã€‚&lt;br&gt;
æ¯”å¦‚è®¾ç½®æœ€å°ä¸Šä¼ å¤§å°&lt;code&gt;--min-size 50&lt;/code&gt;ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡æ˜¯&lt;code&gt;RCLONE_MIN_SIZE=50&lt;/code&gt;ã€‚å½“ç¯å¢ƒå˜é‡è®¾ç½®åï¼Œåœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨&lt;code&gt;--min-size 100&lt;/code&gt;ï¼Œé‚£ä¹ˆæ­¤æ—¶ç¯å¢ƒå˜é‡çš„å€¼å°±ä¼šè¢«è¦†ç›–&lt;br&gt;
&lt;strong&gt;å¸¸ç”¨ç¯å¢ƒå˜é‡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„
RCLONE_CONFIG
# è‹¥rcloneè¿›è¡Œäº†åŠ å¯†è®¾ç½®ï¼ŒæŠŠæ­¤ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºå¯†ç ï¼Œå¯è‡ªåŠ¨è§£å¯†é…ç½®æ–‡ä»¶
RCLONE_CONFIG_PASS
# ä¸Šä¼ å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤3æ¬¡
RCLONE_RETRIES
# ä¸Šä¼ å¤±è´¥é‡è¯•ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤ç¦ç”¨ï¼Œå•ä½sã€mã€håˆ†åˆ«ä»£è¡¨ç§’ã€åˆ†é’Ÿã€å°æ—¶
RCLONE_RETRIES_SLEEP
# å¹¶è¡Œä¸Šä¼ æ–‡ä»¶æ•°
CLONE_TRANSFERS
# å—çš„å¤§å°ï¼Œé»˜è®¤5M
RCLONE_CACHE_CHUNK_SIZE
# å—å¯ä»¥åœ¨æœ¬åœ°ç£ç›˜ä¸Šå ç”¨çš„æ€»å¤§å°ï¼Œé»˜è®¤10G
RCLONE_CACHE_CHUNK_TOTAL_SIZE
#  è·³è¿‡é”™è¯¯
RCLONE_IGNORE_ERRORS=true
&lt;/code&gt;&lt;/pre&gt;
">rclone å‚æ•°è¯´æ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-sheng-ji-suo-you-mo-kuai/"" data-c="
          &lt;ol&gt;
&lt;li&gt;å®‰è£…æ¨¡å—&lt;code&gt;pip install pymysql&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹éœ€å‡çº§çš„åŒ…&lt;code&gt;pip list --outdated&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ›´æ–°å•ä¸ªåŒ…&lt;code&gt;pip install --upgrade pip&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸€é”®å‡çº§æ‰€æœ‰åŒ…&lt;code&gt;æ‰§è¡Œä»¥ä¸‹è„šæœ¬æˆ–è€…ç›´æ¥åœ¨pythonå‘½ä»¤è¡Œä¸­è¿è¡Œ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;import pip
from subprocess import call
from pip._internal.utils.misc import get_installed_distributions

if __name__==&#39;__main__&#39;:
	for dist in get_installed_distributions():
		call(&#39;pip install --upgrade &#39;+dist.project_name,shell=True)
&lt;/code&gt;&lt;/pre&gt;
">Python å‡çº§æ‰€æœ‰æ¨¡å—</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/ju-yu-wang-wang-luo-ce-su/"" data-c="
          &lt;p&gt;ä¸ºäº†æŸ¥çœ‹æ­å»ºçš„ç½‘ç»œçš„ååé‡èƒ½åŠ›ï¼Œéœ€è¦å¯¹ç½‘ç»œè¿›è¡Œæµ‹é€Ÿã€‚&lt;br&gt;
ç½‘ç»œæµ‹é€Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;h1 id=&#34;1-tamosoft-throughput-test&#34;&gt;1. TamoSoft Throughput Test&lt;/h1&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;ä»…æœ‰windowsç³»ç»Ÿçš„æ—¶å€™ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨è½¯ä»¶TamoSoft Throughput Testï¼Œè¿™ä¸ªè½¯ä»¶åœ¨ç½‘ç»œä¸Šæœ‰å®‰è£…ç‰ˆå’Œæ±‰åŒ–ç»¿è‰²ç‰ˆï¼Œå‡å¯ä½¿ç”¨ï¼Œæµ‹é€Ÿæ–¹å¼æ¯”è¾ƒç®€å•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ“ä½œæ­¥éª¤&#34;&gt;æ“ä½œæ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨æœåŠ¡å™¨ä¸Šæ‰“å¼€serverï¼Œè®¾ç½®å¥½ç«¯å£ï¼Œç„¶ååº”ç”¨å³å¯&lt;/li&gt;
&lt;li&gt;åœ¨éœ€è¦è®¿é—®æœåŠ¡å™¨çš„å®¢æˆ·ç«¯ä¸Šæ‰“å¼€Clientï¼Œè®¾ç½®å¥½æœåŠ¡å™¨çš„IPåœ°å€ã€è®¾ç½®ä¸serverç›¸åŒçš„ç«¯å£ï¼Œç„¶åè¿æ¥å³å¯å¼€å§‹æµ‹è¯•&lt;/li&gt;
&lt;li&gt;å¦‚æœè¦ç»“æŸæµ‹è¯•ï¼Œåœ¨Clientä¸Šç‚¹å‡»ç«¯å£ï¼Œç„¶åå…³é—­Serverç«¯å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;2-iperf3&#34;&gt;2. iperf3&lt;/h1&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯-2&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;p&gt;å¦‚æœæœåŠ¡æ˜¯éƒ¨ç½²åœ¨Linuxä¸Šï¼Œè€Œå®¢æˆ·ç«¯æœ‰windowså’ŒLinuxç³»ç»Ÿï¼Œæ­¤æ—¶éœ€è¦ä½¿ç”¨è½¯ä»¶iperfï¼Œæ­¤è½¯ä»¶å…è´¹ï¼Œç½‘å€æ˜¯&lt;a href=&#34;https://iperf.fr/&#34;&gt;https://iperf.fr/&lt;/a&gt;æˆ–è€…&lt;a href=&#34;http://software.es.net/iperf/&#34;&gt;http://software.es.net/iperf/&lt;/a&gt;æˆ–è€…&lt;a href=&#34;https://github.com/esnet/iperf&#34;&gt;https://github.com/esnet/iperf&lt;/a&gt;ï¼Œè¿™æ˜¯ä¸ª&lt;strong&gt;å‘½ä»¤è¡Œå·¥å…·&lt;/strong&gt;ï¼Œwindowsä¸‹çš„å›¾å½¢ç•Œé¢ä¸ºJperf&lt;a href=&#34;https://sourceforge.net/projects/iperf/files/jperf/&#34;&gt;https://sourceforge.net/projects/iperf/files/jperf/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç®€å•æ“ä½œæ­¥éª¤&#34;&gt;ç®€å•æ“ä½œæ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…
&lt;ol&gt;
&lt;li&gt;Centos7å®‰è£…æ‰©å±•yumæºä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;yum install iperf&lt;/code&gt;å®‰è£…æ­¤å·¥å…·ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å®˜ç½‘ä¸‹è½½rpmåŒ…è¿›è¡Œå®‰è£…æˆ–è€…ä¸‹è½½æºç åŒ…è¿›è¡Œç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;windowsç³»ç»Ÿåªéœ€è¦å»å®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹å³å¯ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æµ‹é€Ÿã€‚æµ‹é€Ÿæ¨¡å¼å’ŒTamoSoft Throughput Testç›¸åŒï¼Œåˆ†ä¸ºserverç«¯å’Œclientç«¯
&lt;ol&gt;
&lt;li&gt;TCPæµ‹é€Ÿ
&lt;ol&gt;
&lt;li&gt;æœåŠ¡ç«¯ï¼š&lt;code&gt;iperf3 -s -B æœåŠ¡å™¨IP&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼š&lt;code&gt;iperf3 -c æœåŠ¡å™¨IP&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;UDPæµ‹é€Ÿï¼š
&lt;ol&gt;
&lt;li&gt;æœåŠ¡ç«¯ï¼š&lt;code&gt;iperf3 -s -B æœåŠ¡å™¨IP&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼š&lt;code&gt;iperf3 -c -u æœåŠ¡å™¨IP&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è¯¦ç»†ä»‹ç»&#34;&gt;è¯¦ç»†ä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;åŠŸèƒ½&#34;&gt;åŠŸèƒ½&lt;/h3&gt;
&lt;h4 id=&#34;1-tcp&#34;&gt;1. TCP&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;æµ‹é‡ç½‘ç»œå¸¦å®½&lt;/li&gt;
&lt;li&gt;æŠ¥å‘ŠMSS/MTUå€¼çš„å¤§å°å’Œè§‚æµ‹å€¼&lt;/li&gt;
&lt;li&gt;æ”¯æŒTCPçª—å£å€¼é€šè¿‡å¥—æ¥å­—ç¼“å†²&lt;/li&gt;
&lt;li&gt;å½“Pçº¿ç¨‹æˆ–Win32çº¿ç¨‹å¯ç”¨æ—¶ï¼Œæ”¯æŒå¤šçº¿ç¨‹ã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ”¯æŒåŒæ—¶å¤šé‡è¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-udp&#34;&gt;2. UDP&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å¯ä»¥åˆ›å»ºæŒ‡å®šå¸¦å®½çš„UDPæµ&lt;/li&gt;
&lt;li&gt;æµ‹é‡ä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;æµ‹é‡å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šæ’­&lt;/li&gt;
&lt;li&gt;å½“Pçº¿ç¨‹å¯ç”¨æ—¶ï¼Œæ”¯æŒå¤šçº¿ç¨‹ã€‚å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ”¯æŒåŒæ—¶å¤šé‡è¿æ¥ï¼ˆä¸æ”¯æŒWindowsï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-å…¶ä»–&#34;&gt;3. å…¶ä»–&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨é€‚å½“çš„åœ°æ–¹ï¼Œé€‰é¡¹ä¸­å¯ä»¥ä½¿ç”¨Kï¼ˆkilo-ï¼‰å’ŒMï¼ˆmega-ï¼‰ï¼Œä¾‹å¦‚131072å­—èŠ‚å¯ä»¥ç”¨128Kä»£æ›¿&lt;/li&gt;
&lt;li&gt;å¯ä»¥æŒ‡å®šè¿è¡Œçš„æ€»æ—¶é—´ï¼Œç”šè‡³å¯ä»¥è®¾ç½®ä¼ è¾“çš„æ•°æ®æ€»é‡&lt;/li&gt;
&lt;li&gt;åœ¨æŠ¥å‘Šä¸­ï¼Œä¸ºæ•°æ®é€‰ç”¨æœ€åˆé€‚çš„å•ä½&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ”¯æŒå¤šé‡è¿æ¥ï¼Œè€Œä¸æ˜¯ç­‰å¾…ä¸€ä¸ªå•çº¿ç¨‹æµ‹è¯•&lt;/li&gt;
&lt;li&gt;åœ¨æŒ‡å®šæ—¶é—´é—´éš”é‡å¤æ˜¾ç¤ºç½‘ç»œå¸¦å®½ï¼Œæ³¢åŠ¨å’Œä¸¢åŒ…æƒ…å†µ&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯å¯ä½œä¸ºåå°ç¨‹åºè¿è¡Œ&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯å¯ä½œä¸ºWindows æœåŠ¡è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…¸å‹æ•°æ®æµæ¥æµ‹è¯•é“¾æ¥å±‚å‹ç¼©å¯¹äºå¯ç”¨å¸¦å®½çš„å½±å“&lt;/li&gt;
&lt;li&gt;æ”¯æŒä¼ é€æŒ‡å®šæ–‡ä»¶ï¼Œå¯ä»¥å®šæ€§å’Œå®šé‡æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å‘½ä»¤è¡Œè¯¦è§£&#34;&gt;å‘½ä»¤è¡Œè¯¦è§£&lt;/h3&gt;
&lt;h4 id=&#34;1-å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å…±ç”¨é€‰é¡¹&#34;&gt;1. å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å…±ç”¨é€‰é¡¹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;-p, --port #&lt;/code&gt;ï¼šè¦ä¾¦å¬/è¿æ¥åˆ°çš„æœåŠ¡å™¨ç«¯å£ã€‚é»˜è®¤æ˜¯5201ç«¯å£&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-f, --format [kmgKMG]&lt;/code&gt;ï¼šæ ¼å¼åŒ–å¸¦å®½æ•°è¾“å‡ºï¼Œé»˜è®¤ä¸ºM&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-i, --interval #&lt;/code&gt;ï¼šè®¾ç½®æ¯æ¬¡æŠ¥å‘Šä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ã€‚å¦‚æœè®¾ç½®ä¸ºéé›¶å€¼ï¼Œå°±ä¼šæŒ‰ç…§æ­¤æ—¶é—´é—´éš”è¾“å‡ºæµ‹è¯•æŠ¥å‘Šã€‚é»˜è®¤å€¼ä¸º0&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-F, --file name&lt;/code&gt;ï¼šä½¿ç”¨ç‰¹å®šçš„æ•°æ®æµæµ‹é‡å¸¦å®½ï¼Œä¾‹å¦‚æŒ‡å®šçš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-B, --bind &amp;lt;host&amp;gt;&lt;/code&gt;ï¼šç»‘å®šåˆ°ä¸»æœºçš„å¤šä¸ªåœ°å€ä¸­çš„ä¸€ä¸ªã€‚å¯¹äº&lt;strong&gt;å®¢æˆ·ç«¯&lt;/strong&gt;æ¥è¯´ï¼Œè¿™ä¸ªå‚æ•°è®¾ç½®äº†&lt;strong&gt;å‡ºæ ˆæ¥å£&lt;/strong&gt;ï¼›å¯¹äº&lt;strong&gt;æœåŠ¡å™¨ç«¯&lt;/strong&gt;æ¥è¯´ï¼Œè¿™ä¸ªå‚æ•°è®¾ç½®&lt;strong&gt;å…¥æ ˆæ¥å£&lt;/strong&gt;ã€‚è¿™ä¸ªå‚æ•°åªç”¨äºå…·æœ‰å¤šç½‘ç»œæ¥å£çš„ä¸»æœºã€‚åœ¨&lt;strong&gt;UDPæ¨¡å¼&lt;/strong&gt;ä¸‹ï¼Œæ­¤å‚æ•°ç”¨äº&lt;strong&gt;ç»‘å®šå’ŒåŠ å…¥ä¸€ä¸ªå¤šæ’­ç»„&lt;/strong&gt;ã€‚ä½¿ç”¨èŒƒå›´åœ¨224.0.0.0è‡³239.255.255.255çš„å¤šæ’­åœ°å€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-V, --verbose&lt;/code&gt;ï¼šè¾“å‡ºæ›´å¤šçš„ç»†èŠ‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-J, --json&lt;/code&gt;ï¼šè¾“å‡ºJsonæ ¼å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--logfile f&lt;/code&gt;ï¼šè¾“å‡ºç»“æœåˆ°æ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-d, --debug&lt;/code&gt;ï¼šè¿›å…¥è°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºæ›´å¤šå†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v, --version&lt;/code&gt;ï¼šæ˜¾ç¤ºç‰ˆæœ¬å·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-h, --help&lt;/code&gt;ï¼šå¸®åŠ©å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æœåŠ¡å™¨ç«¯ä¸“ç”¨é€‰é¡¹&#34;&gt;2. æœåŠ¡å™¨ç«¯ä¸“ç”¨é€‰é¡¹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;-s, --server&lt;/code&gt;ï¼šæœåŠ¡å™¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-D, --daemon&lt;/code&gt;ï¼šå°†æœåŠ¡å™¨ä½œä¸ºå®ˆæŠ¤ç¨‹åºè¿è¡Œã€‚Unixå¹³å°ä¸‹ï¼ŒIperfä½œä¸ºåå°å®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼›åœ¨Win32å¹³å°ä¸‹ï¼ŒIperfå°†ä½œä¸ºæœåŠ¡è¿è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-I, --pidfile file&lt;/code&gt;ï¼šå°†è¿›ç¨‹å·å†™å…¥pidæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-1, --one-off&lt;/code&gt;ï¼šå¤„ç†ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥ï¼Œç„¶åé€€å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-å®¢æˆ·ç«¯ä¸“ç”¨é€‰é¡¹&#34;&gt;3. å®¢æˆ·ç«¯ä¸“ç”¨é€‰é¡¹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;-c, --client &amp;lt;host&amp;gt;&lt;/code&gt;ï¼šè¿è¡ŒIperfçš„å®¢æˆ·ç«¯æ¨¡å¼ï¼Œè¿æ¥åˆ°æŒ‡å®šçš„IperfæœåŠ¡å™¨ç«¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-u, --udp&lt;/code&gt;ï¼šä½¿ç”¨UDPæ–¹å¼è€Œä¸æ˜¯TCPæ–¹å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-b, --bandwidth #[KMG][/#]&lt;/code&gt;ï¼šç›®æ ‡å¸¦å®½ï¼ˆbits/secï¼‰ï¼ˆ0è¡¨ç¤ºæ— é™ï¼‰ã€‚UDPé»˜è®¤1Mbit/secï¼ŒTCPä¸å—é™åˆ¶ã€‚å¯¹äºçªå‘æ¨¡å¼ï¼Œå¯é€‰æ–œæ å’Œæ•°æ®åŒ…è®¡æ•°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-t, --time #&lt;/code&gt;ï¼šä¼ è¾“æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤10ç§’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-n, --bytes #[KMG]&lt;/code&gt;ï¼šè¦ä¼ è¾“çš„å­—èŠ‚æ•°ï¼ˆæ›¿ä»£-tï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-k, --blockcount #[KMG]&lt;/code&gt;ï¼šè¦ä¼ è¾“çš„å—ï¼ˆæ•°æ®åŒ…ï¼‰æ•°ï¼ˆç”¨æ¥æ›¿ä»£-tæˆ–-nï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-l, --len #[KMG]&lt;/code&gt;ï¼šè¯»å–æˆ–å†™å…¥çš„ç¼“å†²åŒºé•¿åº¦ï¼ˆTCPé»˜è®¤128KBï¼ŒUDPé»˜è®¤8KBï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--cport &amp;lt;port&amp;gt;&lt;/code&gt;ï¼šç»‘å®šåˆ°ç‰¹å®šçš„å®¢æˆ·ç«¯ç«¯å£ï¼ˆTCPå’ŒUDPï¼Œé»˜è®¤å€¼ï¼šä¸´æ—¶ç«¯å£ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-P, --parallel #&lt;/code&gt;ï¼šæœåŠ¡å™¨å…³é—­ä¹‹å‰ä¿æŒçš„è¿æ¥æ•°ã€‚é»˜è®¤æ˜¯0ï¼Œè¿™æ„å‘³ç€æ°¸è¿œæ¥å—è¿æ¥&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-R, --reverse&lt;/code&gt;ï¼šä»¥åå‘æ¨¡å¼è¿è¡Œï¼ˆæœåŠ¡å™¨å‘é€ï¼Œå®¢æˆ·ç«¯æ¥æ”¶ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-w, --window #[KMG]&lt;/code&gt;ï¼šè®¾ç½®çª—å£å¤§å°/å¥—æ¥å­—ç¼“å†²åŒºå¤§å°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-M, --set-mss #&lt;/code&gt;ï¼šè®¾ç½®TCP/SCTPæœ€å¤§æ®µå¤§å°ï¼ˆMTU-40å­—èŠ‚ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-N, --no-delay&lt;/code&gt;ï¼šè®¾ç½®TCP/SCTPæ— å»¶è¿Ÿï¼Œå³ç¦ç”¨Nagleç®—æ³•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-4, --version4&lt;/code&gt;ï¼šä»…ç”¨ipv4&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-6, --version6&lt;/code&gt;ï¼šä»…ç”¨ipv6&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-S, --tos N&lt;/code&gt;ï¼šè®¾ç½®æœåŠ¡ç±»å‹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-Z, --zerocopy&lt;/code&gt;ï¼šä½¿ç”¨â€œé›¶æ‹·è´â€æ–¹æ³•å‘é€æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-O, --omit N&lt;/code&gt;ï¼šçœç•¥å‰nç§’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-T, --title str&lt;/code&gt;ï¼šåœ¨æ¯ä¸ªè¾“å‡ºè¡Œå‰é¢åŠ ä¸Šç‰¹å®šå­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--get-server-output&lt;/code&gt;ï¼šä»æœåŠ¡å™¨è·å–ç»“æœ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--udp-counters-64bit&lt;/code&gt;ï¼šåœ¨UDPæµ‹è¯•æ•°æ®åŒ…ä¸­ä½¿ç”¨64ä½è®¡æ•°å™¨&lt;/li&gt;
&lt;/ol&gt;
">å±€åŸŸç½‘ç½‘ç»œæµ‹é€Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-ha-xi/"" data-c="
          &lt;p&gt;pythonä¸­è®¡ç®—å“ˆå¸Œå€¼ä¸»è¦åŒ…å«ä¸¤ä¸ªæ¨¡å—ï¼Œcryptï¼ˆä¸å¸¸ç”¨ï¼‰å’Œhashlibï¼ˆå¸¸ç”¨ï¼‰ï¼Œåœ¨å·¥ä½œè¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä½¿ç”¨è®¡ç®—å“ˆå¸Œå€¼çš„æ–¹å¼æ ¡éªŒæ–‡ä»¶çš„å®Œæ•´æ€§æˆ–è€…å¯¹æ–‡ä»¶çš„åŠ è§£å¯†ç­‰&lt;/p&gt;
&lt;h1 id=&#34;æ¨¡å—ä»‹ç»&#34;&gt;æ¨¡å—ä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;cryptæ¨¡å—&#34;&gt;cryptæ¨¡å—&lt;/h2&gt;
&lt;h3 id=&#34;ä¸»è¦æ–¹æ³•å’Œå¸¸é‡&#34;&gt;ä¸»è¦æ–¹æ³•å’Œå¸¸é‡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ–¹æ³•
&lt;ol&gt;
&lt;li&gt;crypt(â€¦)ï¼šå¯¹æŒ‡å®šå†…å®¹è¿›è¡ŒhashåŠ å¯†&lt;/li&gt;
&lt;li&gt;methods(â€¦)ï¼šè¿”å›å¯ç”¨åŠ å¯†ç®—æ³•çš„åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;mksalt(â€¦)ï¼šæ ¹æ®åŠ å¯†ç®—æ³•ç”Ÿæˆsalt&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¸¸é‡
&lt;ol&gt;
&lt;li&gt;METHOD_MD5ï¼šmd5åŠ å¯†ç®—æ³•&lt;/li&gt;
&lt;li&gt;METHOD_CRYPT&lt;/li&gt;
&lt;li&gt;METHOD_BLOWFISHï¼ˆpython3.7å¢åŠ ï¼‰&lt;/li&gt;
&lt;li&gt;METHOD_SHA256ï¼šsha256åŠ å¯†ç®—æ³•&lt;/li&gt;
&lt;li&gt;METHOD_SHA512ï¼ˆæœ€å¼ºï¼‰ï¼šsha512åŠ å¯†ç®—æ³•&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ–¹æ³•&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨crypt.crypt(â€¦)è¿›è¡ŒhashåŠ å¯†çš„æ—¶å€™ï¼Œéœ€è¦æä¾›äºŒä¸ªå‚æ•°ï¼š åŠ å¯†å†…å®¹å’Œsaltï¼Œå¦‚æœä¸ç‰¹åˆ«æŒ‡å®šsaltï¼Œç³»ç»Ÿå°±ä¼šè°ƒç”¨crypt.mksalt(â€¦)ç”Ÿæˆä¸€ä¸ªsaltï¼Œå¦‚æœæƒ³è¦ä»¥ç‰¹å®šçš„åŠ å¯†ç®—æ³•ç”Ÿæˆsaltï¼Œåˆ™ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import crypt

salt=crypt.mksalt(crypt.METHOD_MD5)
hashstr=crypt.crypt(&amp;quot;need hash value&amp;quot;,salt)
print(hashstr)

# $1$P2dUkaFr$NVqTeHPko6M7gMSlpaeKv.
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;hashlib&#34;&gt;hashlib&lt;/h2&gt;
&lt;h3 id=&#34;ä¸»è¦æ–¹æ³•&#34;&gt;ä¸»è¦æ–¹æ³•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;md5(â€¦)ï¼šåˆ©ç”¨md5ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;sha1(â€¦)ï¼šåˆ©ç”¨sha1ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;sha224(â€¦)ï¼šåˆ©ç”¨sha224ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;sha256(â€¦)ï¼šåˆ©ç”¨sha256ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;sha384(â€¦)ï¼šåˆ©ç”¨sha384ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;sha512(â€¦)ï¼šåˆ©ç”¨sha512ç®—æ³•åŠ å¯†&lt;/li&gt;
&lt;li&gt;update(arg)ï¼šå¯ä»¥é‡å¤åˆ©ç”¨æŒ‡å®šäº†ç‰¹æ®ŠåŠ å¯†ç®—æ³•çš„Hashå¯¹è±¡ï¼Œå¯¹argè¿›è¡ŒåŠ å¯†&lt;code&gt;ç”¨äºé€æ®µè¯»å–å¤§æ–‡ä»¶æ—¶ï¼Œå®ç°å¯¹æ•´ä¸ªå¤§æ–‡ä»¶çš„å“ˆå¸Œè®¡ç®—&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;digest(â€¦)ï¼šä»¥å­—ç¬¦å½¢å¼è¿”å›åŠ å¯†å†…å®¹&lt;/li&gt;
&lt;li&gt;hexdigest(â€¦)ï¼šä»¥16è¿›åˆ¶å½¢å¼è¿”å›åŠ å¯†å†…å®¹&lt;/li&gt;
&lt;li&gt;copy(â€¦)ï¼šä¸ºäº†è¾¾åˆ°é‡å¤åˆ©ç”¨Hashå¯¹è±¡çš„ç›®çš„ï¼Œè€Œå…‹éš†Hashå¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ–¹æ³•-2&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import hashlib

m = hashlib.md5()
m.update(&amp;quot;need hash value&amp;quot;.encode(&#39;utf-8&#39;))
mdig=m.digest()
mhex=m.hexdigest()
print(mdig)
print(mhex)

# b&#39;\x05\xb4D\x84\xe6\xcde\xdd\xc1|\xa0T\x80*\xd6\x0b&#39;
# 05b44484e6cd65ddc17ca054802ad60b
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;è®¡ç®—æ–‡ä»¶çš„å“ˆå¸Œ&#34;&gt;è®¡ç®—æ–‡ä»¶çš„å“ˆå¸Œ&lt;/h1&gt;
&lt;p&gt;MD5æ˜¯ä¸€ç§æ¶ˆæ¯æ‘˜è¦ç®—æ³•ï¼Œç”¨äºä»å¯å˜è¾“å…¥æ•°æ®ä¸­åˆ›å»ºå”¯ä¸€çš„å›ºå®šå¤§å°å€¼ã€‚MD5é€šå¸¸ç”¨äºæ£€æŸ¥æ–‡ä»¶åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦æŸåï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå“ˆå¸Œå€¼ç§°ä¸ºæ ¡éªŒå’Œï¼‰ï¼Œæ–‡ä»¶ä¸­çš„ä»»ä½•æ›´æ”¹éƒ½å°†å¯¼è‡´ä¸åŒçš„MD5å“ˆå¸Œå€¼&lt;/p&gt;
&lt;h2 id=&#34;å°æ–‡ä»¶çš„md5å“ˆå¸Œå€¼&#34;&gt;å°æ–‡ä»¶çš„MD5å“ˆå¸Œå€¼&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import hashlib
 
filename=input(&amp;quot;è¾“å…¥æ–‡ä»¶: &amp;quot;)
with open(filename,&amp;quot;rb&amp;quot;) as f:
    bytes=f.read() # å°†æ–‡ä»¶ä¸€æ¬¡æ€§è¯»å…¥å†…å­˜
    readable_hash=hashlib.md5(bytes).hexdigest()
    print(readable_hash)
    readable_hash=hashlib.sha1(bytes).hexdigest()
    print(readable_hash)


# è¾“å…¥æ–‡ä»¶: D:\VM\cn_windows_server_2016_x64_dvd_9718765.iso
# 4f1e348b1333a19169f16145635c36c1
# 6ae9ce84c9a97cfa55372b2892903a214062d5e5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºåœ¨è®¡ç®—MD5å“ˆå¸Œå€¼ä¹‹å‰å°†æ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­ï¼Œä¸Šè¿°ä»£ç å¯¹äºå¤§å‹è¾“å…¥æ–‡ä»¶å¯èƒ½ä¼šå¤±è´¥&lt;/p&gt;
&lt;h2 id=&#34;å¤§æ–‡ä»¶çš„md5å“ˆå¸Œå€¼&#34;&gt;å¤§æ–‡ä»¶çš„MD5å“ˆå¸Œå€¼&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import hashlib
 
filename=input(&amp;quot;è¾“å…¥æ–‡ä»¶: &amp;quot;)
md5_hash=hashlib.md5()
with open(filename,&amp;quot;rb&amp;quot;) as f:
    for byte_block in iter(lambda: f.read(4096),b&amp;quot;&amp;quot;):  # æ¯æ¬¡è¯»å…¥4K
        md5_hash.update(byte_block)
    print(md5_hash.hexdigest())

# è¾“å…¥æ–‡ä»¶: D:\VM\cn_windows_server_2016_x64_dvd_9718765.iso
# 4f1e348b1333a19169f16145635c36c1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è°ƒç”¨7zipæ¥è®¡ç®—å“ˆå¸Œå€¼&#34;&gt;è°ƒç”¨7zipæ¥è®¡ç®—å“ˆå¸Œå€¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨è¯¥æ–¹æ³•ä¹‹å‰éœ€è¦å…ˆå°†7zipå®‰è£…ç›®å½•æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ä¸­&lt;/code&gt;&lt;br&gt;
å¦‚æœä¸ºäº†å¤§æ–‡ä»¶ä¼ è¾“å‰åçš„å“ˆå¸Œå€¼ï¼Œéœ€è¦è¾ƒå¿«çš„è®¡ç®—å‡ºå“ˆå¸Œå€¼ï¼Œæ­¤æ—¶pythonè‡ªå¸¦çš„æ¨¡å—å¯èƒ½åœ¨é€Ÿåº¦ä¸Šæ¥ä¸åŠï¼Œå¯ä»¥ä½¿ç”¨7zipçš„å‘½ä»¤è¡Œå·¥å…·&lt;br&gt;
è¯­æ³•æ ¼å¼ï¼š&lt;code&gt;7z h [-scrc{Method}] [files]&lt;/code&gt;ï¼Œ&lt;code&gt;-scrc&lt;/code&gt;å‚æ•°æŒ‡å®šè®¡ç®—çš„æ–¹æ³•ï¼Œæ”¯æŒçš„æ–¹æ³•æœ‰CRC32ã€CRC64ã€SHA1ã€SHA256ï¼Œé»˜è®¤æ˜¯CRC32&lt;code&gt;7zipä¸æ”¯æŒMD5ï¼Œå¯ä»¥ä½¿ç”¨SHA1&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import os,re

filename=input(&amp;quot;è¾“å…¥æ–‡ä»¶: &amp;quot;)
readable_hash=os.popen(f&amp;quot;7z h -scrcSHA1 \&amp;quot;{filename}\&amp;quot;&amp;quot;).read()
# ç”¨æ­£åˆ™åŒ¹é…æå–SHA1å“ˆå¸Œå€¼ï¼Œå…¶ä»–ç®—æ³•ä¸èƒ½ä½¿ç”¨æ­¤æ–¹æ³•æå–ï¼Œå¯æ ¹æ®è¿”å›å€¼è¿›è¡Œé€‚å½“è°ƒæ•´
res=re.findall(&amp;quot;[0123456789ABCDEF]{40}&amp;quot;,readable_hash)[0]
print(res)

# è¾“å…¥æ–‡ä»¶: D:\VM\cn_windows_server_2016_x64_dvd_9718765.iso
# 6AE9CE84C9A97CFA55372B2892903A214062D5E5
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è°ƒç”¨hashmyfilesæ¥è®¡ç®—å“ˆå¸Œå€¼&#34;&gt;è°ƒç”¨HashMyFilesæ¥è®¡ç®—å“ˆå¸Œå€¼&lt;/h2&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è°ƒç”¨HashMyFilesæ¥å®ç°è®¡ç®—hashå€¼ï¼Œæ­¤å·¥å…·ä¹Ÿæœ‰å‘½ä»¤è¡Œæ¨¡å¼ï¼Œä¸”æ”¯æŒçš„å“ˆå¸Œç®—æ³•æ›´å…¨é¢&lt;br&gt;
ä¸‹è½½ç½‘ç«™å’Œå‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•å‚è€ƒï¼š&lt;a href=&#34;http://www.nirsoft.net/utils/hash_my_files.html&#34;&gt;http://www.nirsoft.net/utils/hash_my_files.html&lt;/a&gt;&lt;/p&gt;
">python å“ˆå¸Œ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/qun-hui-duo-she-bei-zhi-jian-tong-bu-andhuo-qu-root-quan-xian-andxi-tong-ban-ben-jiang-ji/"" data-c="
          &lt;p&gt;æœ€è¿‘å°†ç¾¤æ™–DSMç³»ç»Ÿç”±6.2.4å‡çº§ä¸º7.0ä¹‹åï¼Œå‘ç°ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯é€Ÿåº¦å˜æ…¢ï¼ŒåŒ…æ‹¬è®¿é—®é€Ÿåº¦ã€åŒæ­¥é€Ÿåº¦ç­‰ç­‰ï¼ŒäºŒæ˜¯å­˜åœ¨bugï¼Œä¾‹å¦‚æœ‰æ—¶æ— æ³•ä½¿ç”¨qcã€ç¡¬ç›˜æ— æ³•ä¼‘çœ ç­‰ã€‚&lt;br&gt;
å°†ç³»ç»Ÿç”±7.0é™ä¸º6.2.4ï¼Œå®˜æ–¹æ˜¯ä¸æ”¯æŒçš„ï¼Œé‚£ä¹ˆéœ€è¦è‡ªå·±è®¾ç½®ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å¤šè®¾å¤‡ä¹‹é—´åŒæ­¥&#34;&gt;å¤šè®¾å¤‡ä¹‹é—´åŒæ­¥&lt;/h1&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢åœ¨ç³»ç»Ÿé™çº§è¿‡ç¨‹ä¸­å‘ç”Ÿæ— å¯æŒ½å›çš„æ•°æ®æŸå¤±ç­‰ç°è±¡ï¼Œéœ€è¦åœ¨é™çº§ä¹‹å‰å…ˆå°†æ•°æ®è¿›è¡Œå¤‡ä»½ã€‚&lt;br&gt;
å¤‡ä»½çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨USBï¼Œå°†ç¾¤æ™–çš„æ•°æ®å¤‡ä»½åˆ°ç§»åŠ¨ç¡¬ç›˜ä¸­&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨rsyncï¼Œå°†ç¾¤æ™–çš„æ•°æ®å¤‡ä»½åˆ°äº‘ç¯å¢ƒä¸­&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨è‡ªå¸¦çš„å¥—ä»¶Hyper Backupï¼Œå°†ç¾¤æ™–çš„æ•°æ®å¤‡ä»½åˆ°å¦å¤–ä¸€å°ç¾¤æ™–è®¾å¤‡ä¸­ï¼ˆè¿™ä¸ªå¥—ä»¶å¯ä»¥ä½¿ç”¨å¤šç§å¤‡ä»½æ–¹å¼ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å› ä¸ºè‡ªå®¶è¿˜æœ‰ä¸€å°æ›´é«˜ç«¯ä¸”ç©ºé—´è¶³å¤Ÿå¤§çš„ç¾¤æ™–ï¼Œæ‰€ä»¥é€‰æ‹©æ–¹æ¡ˆ3ï¼Œå°†æ­¤ç¾¤æ™–çš„æ‰€æœ‰æ•°æ®å¤‡ä»½åˆ°å¦å¤–ä¸€å°ç¾¤æ™–ä¸­ï¼Œå…¶ä¸­è®¾ç½®å¯ä»¥æŒ‰ç…§å¥—ä»¶çš„æŒ‡ç¤ºä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œã€‚&lt;/p&gt;
&lt;h1 id=&#34;è·å–rootæƒé™&#34;&gt;è·å–rootæƒé™&lt;/h1&gt;
&lt;p&gt;è¿™é‡Œåªæ˜¯ä»‹ç»å¦‚ä½•ä¸´æ—¶è·å–rootæƒé™ï¼Œä¸å»ºè®®æ°¸ä¹…è·å–rootæƒé™ï¼Œé£é™©è¿‡é«˜ã€‚è·å–æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ§åˆ¶é¢æ¿--ç»ˆç«¯æœºå’ŒSNMP--ç»ˆç«¯æœº--å¯ç”¨TelnetåŠŸèƒ½æˆ–è€…å¯ç”¨SSHåŠŸèƒ½&lt;code&gt;å¦‚æœæƒ³ä½¿ç”¨rsyncåŠŸèƒ½ï¼Œå¿…é¡»å¼€å¯ssh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ ¹æ®ä¸Šä¸€æ­¥å¯ç”¨çš„åŠŸèƒ½ï¼Œä½¿ç”¨sshæˆ–è€…telnetè¿æ¥ç¾¤æ™–ï¼Œä½¿ç”¨adminè´¦æˆ·&lt;/li&gt;
&lt;li&gt;è¿æ¥æˆåŠŸä¹‹åï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥&lt;code&gt;sudo -i&lt;/code&gt;ï¼Œç„¶åè¾“å…¥adminçš„å¯†ç ï¼Œè·å–rootæƒé™&lt;code&gt;è¿™æ˜¯ä¸´æ—¶è·å–ï¼Œæƒ³è¦æ°¸ä¹…è·å–ï¼Œå¯åœ¨ä¸´æ—¶è·å–rootæƒé™ä¹‹åä¿®æ”¹rootå¯†ç &lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç‰ˆæœ¬é™çº§&#34;&gt;ç‰ˆæœ¬é™çº§&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»è¦æ˜¯ä¿®æ”¹ç³»ç»Ÿç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶&lt;code&gt;/etc.defaults/VERSION&lt;/code&gt;ï¼Œä¿®æ”¹ä¹‹åçš„å†…å®¹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; vi /etc.defaults/VERSION
 	majorversion=&amp;quot;6&amp;quot;
	minorversion=&amp;quot;2&amp;quot;
	major=&amp;quot;6&amp;quot;
	minor=&amp;quot;2&amp;quot;
	micro=&amp;quot;4&amp;quot;
	productversion=&amp;quot;6.2.4&amp;quot;
	buildphase=&amp;quot;GM&amp;quot;
	buildnumber=&amp;quot;25556&amp;quot;
	smallfixnumber=&amp;quot;0&amp;quot;
	nano=&amp;quot;0&amp;quot;
	base=&amp;quot;25556&amp;quot;
	builddate=&amp;quot;2021/03/04&amp;quot;
	buildtime=&amp;quot;19:34:48&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å»ç¾¤æ™–å®˜ç½‘ä¸‹è½½ç›¸åº”ç¾¤æ™–å‹å·çš„DSM6.2.4ç‰ˆæœ¬å®‰è£…åŒ…åˆ°ç”µè„‘ä¸Š&lt;/li&gt;
&lt;li&gt;é‡å¯ç¾¤æ™–ï¼Œåœ¨ç”µè„‘ä¸Šç”¨Synology Assistant æœç´¢ï¼Œæ­¤æ—¶ä¼šæç¤ºå®‰è£…ç³»ç»Ÿï¼Œæ‰‹åŠ¨ä¸Šä¼ DSM6.2.4å®‰è£…åŒ…è¿›è¡Œå®‰è£…ï¼Œ&lt;strong&gt;ä½†å®‰è£…è¿‡ç¨‹ä¼šæŠ¥é”™&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åˆ«æ‹…å¿ƒï¼Œå†æ¬¡é‡å¤ç¬¬1ç‚¹ï¼ˆä¿®æ”¹é…ç½®æ–‡ä»¶ï¼‰ï¼Œä½†è¦ç”¨telnetç™»å½•ï¼Œç”¨æˆ·åï¼šrootï¼Œå¯†ç ï¼š101-0101ï¼Œæ”¹å¥½æ–‡ä»¶ä»¥åç”¨ç¾¤æ™–åŠ©æ‰‹æœç´¢&lt;code&gt;é‡å¤ç¬¬1æ­¥æ˜¯ç”¨rootè´¦æˆ·å’Œå¯†ç ç™»å½•telnetï¼Œç„¶åç”¨ vi /etc.defaults/VERSIONå‘½ä»¤ä¿®æ”¹ä¸Šé¢çš„é…ç½®æ–‡ä»¶ç„¶åä¿å­˜ï¼Œåƒä¸‡åˆ«é‡å¯ï¼Œé‡å¯åˆä¼šæŠ¥é”™&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
">ç¾¤æ™– å¤šè®¾å¤‡ä¹‹é—´åŒæ­¥&è·å–rootæƒé™&ç³»ç»Ÿç‰ˆæœ¬é™çº§</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/guan-yu-xiang-mu-shi-shi-de-yi-xie-xin-de/"" data-c="
          &lt;p&gt;æœ€è¿‘åœ¨åšä¸€ä¸ªå°é¡¹ç›®ï¼Œé¡¹ç›®çš„å†…å®¹å°±æ˜¯æŠŠè¿™ä¸ªå…¬å¸æ•£è½å„å¤„çš„æ•°æ®æ”¶é›†èµ·æ¥ï¼Œæ–¹ä¾¿å‘˜å·¥æŸ¥çœ‹ä¸æ£€ç´¢ã€‚è¿™é‡Œä¸ä»…æœ‰å…³ç³»å‹æ•°æ®ã€éå…³ç³»å‹æ•°æ®ï¼Œè¿˜æœ‰æ–‡æ¡£ã€æ•°æ®ã€è§†é¢‘ç­‰ç­‰å†…å®¹ï¼Œéœ€è¦è§„æ•´çš„å†…å®¹æ¯”è¾ƒå¤šä¸”æ¯”è¾ƒå¤æ‚ã€‚&lt;br&gt;
åœ¨é¡¹ç›®å®æ–½ä¹‹å‰ï¼Œå¤§è‡´çš„æ•´ç†ä¸€ä¸‹æ€è·¯ï¼ŒæŒ‰ç…§&lt;strong&gt;å°½é‡é™ä½æˆæœ¬çš„è¦æ±‚&lt;/strong&gt;ï¼Œå®Œæˆè¿™ä¸ªé¡¹ç›®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°å…¬å¸ç»™çš„é’±å°‘ï¼Œæœ€å¤šç»™ä¸¤ä¸‡ï¼Œä½†æ˜¯è¦æ±‚é¢‡å¤šã€‚æ—¢è¦æ±‚æ•°æ®çš„ç¨³å®šã€åˆè¦æ±‚æ•°æ®çš„å®‰å…¨ã€è¿˜éœ€è¦èƒ½å¤Ÿåœ¨å†…ç½‘å’Œå…¬ç½‘éƒ½è¦è®¿é—®åˆ°ï¼Œæœ€å¥½è¿˜èƒ½å®ç°åŠå…¬æ–‡æ¡£åä½œç¼–è¾‘å’ŒOAç³»ç»Ÿã€‚è¿™ä¸ªå…¶å®å¥½åŠï¼Œä¸€å¥—ç¾¤æ™–DS1821+ï¼Œå†åŠ ä¸Š8å—8Tçš„ç¡¬ç›˜ï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œæˆ–è€…ç¾¤æ™–ä¹°å‰ä¸€ä»£çš„äº§å“ï¼Œç„¶åæŠŠç¡¬ç›˜å®¹é‡åŠ å¤§ï¼Œè·å¾—æ›´å¤§çš„å­˜å‚¨ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;å…³äºæ•°æ®ï¼Œå¤§è‡´åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç§æ˜¯å‘˜å·¥ç¤¾ä¿ä¿¡æ¯ç­‰å…³ç³»å‹æ•°æ®ã€å®¢æˆ·ä¿¡æ¯ç­‰éå…³ç³»å‹æ•°æ®ï¼Œå¦ä¸€ç±»æ˜¯æ–‡æ¡£ã€æ•°æ®ã€è§†é¢‘ç­‰ã€‚ç¬¬äºŒç±»æ•°æ®ç›´æ¥æ”¾åœ¨ç¾¤æ™–å­˜å‚¨ä¸Šå³å¯ï¼Œå…³äºç¬¬ä¸€ç±»æ•°æ®ï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬æ¥æ€è€ƒç€ç”¨mongodbè¿™ç§éå…³ç³»å‹æ•°æ®åº“æ¥æ•´ç†è¿™äº›æ•°æ®ï¼Œæ—¢å¯ä»¥ç…§é¡¾åˆ°å…³ç³»å‹æ•°æ®ã€äº¦å¯ä»¥æ»¡è¶³éå…³ç³»å‹æ•°æ®çš„è¦æ±‚ï¼ŒåŒæ—¶è¿˜å…·æœ‰å¾ˆå¼ºçš„æ‰©å±•æ€§ã€‚ä½†æ˜¯åæ¥å¦äº†è¿™ä¸ªæ–¹æ¡ˆï¼ŒåŸå› æœ‰ä»¥ä¸‹ä¸¤æ¡ï¼Œä¸€æ˜¯å‘˜å·¥å¯¹äºéå…³ç³»å‹æ•°æ®åº“çš„æ“ä½œä¸ä¹ æƒ¯ï¼›äºŒæ˜¯ç›®å‰æ²¡æœ‰æ¯”è¾ƒæˆç†Ÿç¨³å®šçš„éå…³ç³»å‹æ•°æ®åº“çš„å±•ç¤ºä¸æ“ä½œå·¥å…·ï¼Œä¸‹é¢è¯¦ç»†è¯´è¯´è¿™ä¸¤ç‚¹åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;å¤§éƒ¨åˆ†å‘˜å·¥å¹³æ—¶åšåšçŸ­è§†é¢‘ï¼Œæ¥è§¦åˆ°çš„åŠå…¬è½¯ä»¶å°±æ˜¯officeä¸­çš„wordå’Œexcelï¼Œå¯¹äºæ•°æ®åº“åŸºæœ¬æ²¡å•¥æ¦‚å¿µï¼Œæ‰€ä»¥ä¸ºäº†èƒ½è®©ä»–ä»¬å¿«é€Ÿä¸Šæ‰‹ï¼Œä¸å½±å“å·¥ä½œï¼Œåˆ°å¤„æ‰¾è§£å†³æ–¹æ¡ˆï¼ˆè‡ªè¡Œå¼€å‘è‚¯å®šæ˜¯æ¥ä¸åŠçš„ï¼‰ã€‚å…³äºæ•°æ®åº“çš„ç®¡ç†ä¸æ“ä½œ
&lt;ol&gt;
&lt;li&gt;Navicatæ˜¯æ”¶è´¹è½¯ä»¶ä¸”è´¹ç”¨é¢‡é«˜ï¼Œç‰¹åˆ«å ç”¨æœºå™¨æ€§èƒ½ï¼Œæ‰€ä»¥ä¸åˆé€‚ï¼Œå¦‚æœç”¨ç ´è§£è½¯ä»¶åˆ™å¯èƒ½ç»™å…¬å¸å¸¦æ¥é£é™©&lt;/li&gt;
&lt;li&gt;å¼€æºçš„ä¾‹å¦‚DBeaverã€phpadminå€’æ˜¯å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ“ä½œä¸Šå¯èƒ½å¾ˆéš¾ä¸Šæ‰‹ï¼Œå‘˜å·¥ä¸€æ—¶éš¾ä»¥é€‚åº”ï¼Œæœ€å¥½æ˜¯å’ŒåŸæ¥çš„excelæ“ä½œé€»è¾‘ç±»ä¼¼&lt;code&gt;è¿™æ˜¯ä¸€å‘˜å·¥æå‡ºçš„å°è¦æ±‚ï¼Œæˆ‘ä¹Ÿæ˜¯æœ‰ç‚¹ä¸ºéš¾ï¼Œä¸ºå•¥ä¸ç›´æ¥ç”¨excelå•Šï¼Œä¸åˆ°30ä¸ªäººï¼Œç”¨å•¥æ•°æ®åº“å•Š&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ°å¤„æ‰¾æ–¹æ¡ˆï¼Œæœ€åæ‰¾åˆ°ä¸¤ä¸ªï¼Œä¸€æ˜¯TreeDMSï¼ŒäºŒæ˜¯Cloudqueryï¼Œä¸»è¦æ˜¯è¿™ä¸¤ä¸ªéƒ½æ˜¯åŸºäºäº‘ç«¯ï¼Œä¸”æ”¯æŒç§æœ‰åŒ–éƒ¨ç½²ï¼Œå¹¶ä¸”èƒ½å¤Ÿé™ä½å‘˜å·¥çš„è´Ÿæ‹…ï¼Œä¸éœ€è¦å®‰è£…è½¯ä»¶ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œç¾¤æ™–ä¹Ÿæ˜¯é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œç»Ÿä¸€æ€§æ›´é«˜ã€‚æœ€åé€‰æ‹©çš„æ˜¯Cloudqueryï¼ŒåŸå› æœ‰äºŒï¼Œä¸€æ˜¯ç§æœ‰åŒ–éƒ¨ç½²ç®€å•ï¼ŒäºŒæ˜¯åœ¨ç­›é€‰å’Œç¼–è¾‘æ“ä½œä¸Šæ›´åŠ è´´è¿‘excelçš„æ“ä½œé€»è¾‘ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å…³äºè§£å†³å…³ç³»å‹å’Œéå…³ç³»æ•°æ®åº“çš„å†²çªã€‚å…³ç³»å‹æ•°æ®åº“çš„åˆ—åŸºæœ¬å®šæ­»ï¼Œä¾‹å¦‚å‘˜å·¥çš„å·¥èµ„çš„å‘æ”¾ã€å‘˜å·¥çš„ç¤¾ä¿ç­‰ç­‰ä¿¡æ¯ï¼ŒåŸºæœ¬çš„æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œé‚£å¦‚ä½•å…¼å®¹éå…³ç³»æ•°æ®ï¼Œè¿™é‡Œä¸»è¦è®°å½•çš„å®¢æˆ·çš„å§“åã€ä½å€ã€å…¬å¸ã€è”ç³»æ–¹å¼ã€çˆ±å¥½ç­‰ç­‰ï¼Œé¦–å…ˆè§„æ•´äº†åŸºæœ¬éƒ½ä¼šæœ‰çš„å†…å®¹ï¼Œè¿™äº›æœ€ä¸ºéç©ºå€¼ï¼Œè¿˜æœ‰ä¸€äº›å†…å®¹åªæœ‰æŸäº›å®¢æˆ·æœ‰ï¼Œè¿™äº›å¯ä»¥è®¾ä¸ºå…è®¸ç©ºå€¼ï¼Œè€ƒè™‘åˆ°åé¢è¿˜ä¼šè®°å½•ä¸€äº›å…¶ä»–çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨Cloudqueryæ“ä½œæ•°æ®åº“ç›´æ¥æ·»åŠ åˆ—æˆ–è€…å†™åœ¨æœ€åçš„å¤‡æ³¨å†…å®¹ä¸­&lt;/li&gt;
&lt;li&gt;æœ€åçš„éƒ¨ç½²å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;ç¾¤æ™–è´Ÿè´£å®ç°å­˜å‚¨æ–‡æ¡£ã€æ•°æ®ã€è§†é¢‘ç­‰ï¼ŒåŒæ—¶è§£å†³å‘˜å·¥å¯¹äºåä½œç¼–è¾‘å’ŒOAçš„ç»“åˆï¼ŒåŒæ—¶æŠŠå†…å¤–ç½‘å‡å¯ä»¥è®¿é—®çš„éœ€æ±‚é€šè¿‡ç¾¤æ™–çš„qcæ¥å®ç°&lt;/li&gt;
&lt;li&gt;å…³äºæ•°æ®åº“ï¼Œä½¿ç”¨å…¬å¸çš„ä¸€å°è€çš„2Uçš„dellæœåŠ¡å™¨æ¥éƒ¨ç½²&lt;code&gt;å’¸é±¼äºŒæ‰‹ä»·ä¸åˆ°ä¸€åƒ&lt;/code&gt;ï¼Œä¸ºäº†æ•°æ®çš„å®‰å…¨ä¸ç¨³å®šï¼Œæ¯å¤©å®šæ—¶å‘ç¾¤æ™–å­˜å‚¨ä¸Šå¤‡ä»½ä¸€æ¬¡å…¨é‡çš„æ•°æ®åº“ï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ©ç”¨ç¾¤æ™–æä¾›çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œæœ€å¤šå¯ä»¥è¿½æº¯32ä¸ªç‰ˆæœ¬&lt;code&gt;å› ä¸ºç¾¤æ™–æ˜¯8ç›˜ä½ï¼Œå…¶ä¸­6ç›˜åšçš„raid1ï¼Œ2ç›˜ä½åšçš„raid0ï¼Œåšraid0çš„ä¸»è¦ç”¨æ¥æ–¹ä¾¿å‘˜å·¥å‰ªç‰‡å­&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…³äºCloudqueryæ­å»ºï¼Œç”¨çš„æ˜¯å…¬å¸çš„ä¸€å°1Uçš„æˆ´å°”çš„æœåŠ¡å™¨ï¼ˆå…¶å®è¿˜æœ‰ä¸¤å°2Uçš„åä¸ºçš„æœåŠ¡å™¨ï¼Œä½†æ˜¯ä¸è®©ç”¨ï¼‰ï¼Œå’¸é±¼ä»·æ ¼ä¸è¶³300ã€‚æ¯å¤©å°†Cloudqueryçš„é…ç½®åŒæ­¥åˆ°ç¾¤æ™–ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ¥å¯ä»¥å°†MySQLéƒ¨ç½²åœ¨ç¾¤æ™–ä¸Šçš„ï¼Œä½†æ˜¯è€ƒè™‘åˆ°é£é™©åˆ†æ‹…ï¼Œä¸”å‡è½»åœ¨å‰ªè¾‘è§†é¢‘è¿‡ç¨‹ä¸­è¦è®¿é—®æ•°æ®åº“æ—¶å¯¼è‡´çš„å¸¦å®½ä¸å¤Ÿçš„é—®é¢˜ï¼Œå› æ­¤å°†æ•°æ®åº“ä½¿ç”¨é¢å¤–çš„æœåŠ¡å™¨æ¥éƒ¨ç½²ï¼Œå¹¶ä¸”è¿™äº›è€æœåŠ¡å™¨éƒ½æ˜¯ç»å†è¿‡å²æœˆçš„æ´—ç¤¼ï¼ŒæœåŠ¡å™¨å°±é‚£æ ·ï¼Œå¦‚æœåï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ä¸ä¹…ä¹‹åå°±ä¼šåï¼Œå¦‚æœä¸åï¼Œä½¿ç”¨åå‡ äºŒåå¹´ä¹Ÿä¸ä¼šå‡ºé—®é¢˜ã€‚&lt;br&gt;
ã€æ³¨æ„ã€‘ï¼šåœ¨ä½¿ç”¨CloudQueryçš„è¿‡ç¨‹ä¸­ï¼ŒMySQLæ•°æ®åº“çš„åº“åå’Œè¡¨åä¸­ä¸èƒ½å‡ºç°â€œ.â€ã€‚å¦‚æœè¦ä½¿ç”¨åˆ†éš”ç¬¦ï¼Œå»ºè®®ä½¿ç”¨â€œ_â€&lt;/p&gt;
&lt;/blockquote&gt;
">å…³äºé¡¹ç›®å®æ–½çš„ä¸€äº›å¿ƒå¾—</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows10-gong-neng-she-zhi-he-she-zhi-pei-he-ntlite-jing-jian-xi-tong/"" data-c="
          &lt;h1 id=&#34;åŠŸèƒ½è®¾ç½®&#34;&gt;åŠŸèƒ½è®¾ç½®&lt;/h1&gt;
&lt;p&gt;åªä¿ç•™ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Net Framework 4.6é«˜çº§æœåŠ¡
&lt;ol&gt;
&lt;li&gt;WCF æœåŠ¡
&lt;ol&gt;
&lt;li&gt;TCP Port Sharing&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Windows PowerShell 2.0&lt;/li&gt;
&lt;li&gt;Windows Search&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è®¾ç½®&#34;&gt;è®¾ç½®&lt;/h1&gt;
&lt;h2 id=&#34;internet-exporer&#34;&gt;Internet Exporer&lt;/h2&gt;
&lt;p&gt;å·²ç»åˆ é™¤ï¼Œæ— éœ€è®¾ç½®&lt;/p&gt;
&lt;h2 id=&#34;onedrive&#34;&gt;OneDrive&lt;/h2&gt;
&lt;p&gt;å·²ç»åˆ é™¤ï¼Œæ— éœ€è®¾ç½®&lt;/p&gt;
&lt;h2 id=&#34;tcpip&#34;&gt;TCP/IP&lt;/h2&gt;
&lt;p&gt;ç»„æ’­IGMPçº§åˆ«ï¼šä¸æ”¯æŒç»„æ’­&lt;/p&gt;
&lt;h2 id=&#34;windows&#34;&gt;Windows&lt;/h2&gt;
&lt;p&gt;ä¿æŒé»˜è®¤&lt;/p&gt;
&lt;h2 id=&#34;windows-defenfer&#34;&gt;Windows Defenfer&lt;/h2&gt;
&lt;p&gt;Windows Defenferï¼šå·²ç¦ç”¨&lt;/p&gt;
&lt;h2 id=&#34;windows-æ›´æ–°&#34;&gt;Windows æ›´æ–°&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Windowsè‡ªåŠ¨æ›´æ–°æ—¶ä¹Ÿæ›´æ–°é©±åŠ¨ç¨‹åºï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;åŒ…å«æ¶æ„è½¯ä»¶åˆ é™¤å·¥å…·æ›´æ–°ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ›´æ–°è®¾å¤‡å»é¡¶ç¨‹åºï¼šä»ä¸&lt;/li&gt;
&lt;li&gt;è¯­éŸ³è®¾åˆ«æ¨¡å—çš„è‡ªåŠ¨æ›´æ–°ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;é€šè¿‡ç½‘ç»œè‡ªåŠ¨æ›´æ–°è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œå›¾æ ‡ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å´©æºƒæ§åˆ¶&#34;&gt;å´©æºƒæ§åˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å†™å…¥è°ƒè¯•ä¿¡æ¯ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å°†äº‹ä»¶å†™å…¥ç³»ç»Ÿæ—¥å¿—ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;è“å±åè‡ªåŠ¨é‡å¯ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åº”ç”¨ç¨‹åºå…¼å®¹æ€§&#34;&gt;åº”ç”¨ç¨‹åºå…¼å®¹æ€§&lt;/h2&gt;
&lt;p&gt;ä¿æŒé»˜è®¤&lt;/p&gt;
&lt;h2 id=&#34;æ¡Œé¢&#34;&gt;æ¡Œé¢&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å‡çº§å®Œæˆåæ˜¾ç¤ºWindowsæ¬¢è¿ä½“éªŒï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;åœ¨æ¢å¤æ—¶æ˜¾ç¤ºç™»é™†å±å¹•ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;æ“ä½œä¸­å¿ƒï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;æ¡Œé¢å›¾æ ‡-æ§åˆ¶é¢æ¿ã€ç”¨æˆ·æ–‡ä»¶å¤¹ã€ç½‘ç»œã€è®¡ç®—æœºï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ä½¿ç”¨Windowsç³»ç»Ÿæ—¶è·å–æç¤ºï¼ŒæŠ€å·§ä»¥åŠå»ºè®®ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç”¨æˆ·è´¦æˆ·æ§åˆ¶&#34;&gt;ç”¨æˆ·è´¦æˆ·æ§åˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;UACç®¡ç†å‘˜æç¤ºï¼šä¸æç¤ºï¼Œç›´æ¥æå‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç³»ç»Ÿ&#34;&gt;ç³»ç»Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é¦–æ¬¡ç™»é™†åŠ¨ç”»ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç½‘ç»œ&#34;&gt;ç½‘ç»œ&lt;/h2&gt;
&lt;p&gt;ä¿æŒé»˜è®¤&lt;/p&gt;
&lt;h2 id=&#34;èµ„æºç®¡ç†å™¨&#34;&gt;èµ„æºç®¡ç†å™¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CDçƒ§å½•åŠŸèƒ½ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡æ -å°å›¾æ ‡ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡æ -æŒ‰é’®åˆ†ç»„ï¼šä»»åŠ¡æ å æ»¡æ—¶åˆå¹¶&lt;/li&gt;
&lt;li&gt;ä»»åŠ¡æ å§‹ç»ˆæ˜¾ç¤ºæ‰€æœ‰å›¾æ ‡å’Œé€šçŸ¥ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;ä¿ç•™æœ€è¿‘æ‰“å¼€çš„æ–‡æ¡£å’Œå†å²è®°å½•ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å›æ”¶ç«™-æ˜¾ç¤ºåˆ é™¤ä¿¡æ¯å¯¹è¯æ¡†ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶å¤¹å³é”®èœå•æ·»åŠ â€œåœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£â€ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;å¯¼èˆªçª—æ ¼-æ˜¾ç¤ºåº“ã€æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶å¤¹ã€è‡ªåŠ¨å±•å¼€åˆ°æ‰“å¼€çš„æ–‡ä»¶å¤¹ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿè®¿é—®ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;æ‰“å¼€æ–‡ä»¶èµ„æºç®¡ç†å™¨æ—¶æ‰“å¼€ï¼šæ­¤ç”µè„‘&lt;/li&gt;
&lt;li&gt;æ§åˆ¶é¢æ¿-å°å›¾æ ‡ã€ç»å…¸è§†å›¾ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶æ‹·è´å¯¹è¯æ¡†æ€»æ˜¯æ˜¾ç¤ºæ›´å¤šè¯¦æƒ…ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºä»»åŠ¡è§†å›¾æŒ‰é’®ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹-æ˜¾ç¤ºå·²çŸ¥æ–‡ä»¶ç±»å‹çš„åç¼€åï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;æ°”æ³¡æç¤º-*ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;ç¼“å­˜ç¼©ç•¥å›¾ï¼šå·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;é€€å‡ºç³»ç»Ÿæ—¶æ¸…é™¤æœ€è¿‘æ‰“å¼€çš„æ–‡æ¡£å’Œå†å²è®°å½•ï¼šå·²å¯ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;éšç§é€‰é¡¹&#34;&gt;éšç§é€‰é¡¹&lt;/h2&gt;
&lt;p&gt;èƒ½ç¦ç”¨çš„å…¨éƒ¨ç¦ç”¨&lt;/p&gt;
">windows10 åŠŸèƒ½è®¾ç½®å’Œè®¾ç½®ï¼ˆé…åˆNTLiteç²¾ç®€ç³»ç»Ÿï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows10-zu-jian-yi-chu-pei-he-ntlite-jing-jian-xi-tong/"" data-c="
          &lt;p&gt;ç§»é™¤win10æ²¡å¿…è¦çš„ç»„ä»¶ï¼Œç»“åˆwin10æœåŠ¡ä¼˜åŒ–ï¼Œä¸ä»…å¯ä»¥ç²¾ç®€ç³»ç»Ÿçš„å¤§å°ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½å¤Ÿæé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œé˜²æ­¢åº”ç”¨æ•°æ®è¢«å…±äº«é™¤å»ï¼ŒåŒæ—¶ä¹Ÿèƒ½é¿å…åå°å‘é€è‡ªå·±çš„æ“ä½œä¹ æƒ¯ã€‚&lt;br&gt;
ä¸‹é¢è®°å½•&lt;strong&gt;ç§»é™¤çš„ç»„ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;h1 id=&#34;isoé•œåƒ&#34;&gt;ISOé•œåƒ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Supportç›®å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;windows-apps&#34;&gt;Windows Apps&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Skype ORTC&lt;/li&gt;
&lt;li&gt;Webcam Experience&lt;/li&gt;
&lt;li&gt;Windoes Reader&lt;/li&gt;
&lt;li&gt;Xbox åº”ç”¨&lt;/li&gt;
&lt;li&gt;åœ°å›¾æ§åˆ¶&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿåº”ç”¨ï¼ˆåªä¿ç•™ä»¥ä¸‹3é¡¹ï¼Œå…¶ä½™çš„åˆ é™¤ï¼‰
&lt;ol&gt;
&lt;li&gt;Content Delivery Manager&lt;/li&gt;
&lt;li&gt;ParentalControls&lt;/li&gt;
&lt;li&gt;SecondaryTileExperience&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è®¾ç½®åŒæ­¥&lt;/li&gt;
&lt;li&gt;é›¶å”®æ¼”ç¤ºå†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å¤šåª’ä½“&#34;&gt;å¤šåª’ä½“&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;DVDæ’­æ”¾&lt;/li&gt;
&lt;li&gt;Inter Indeoç¼–ç å™¨&lt;/li&gt;
&lt;li&gt;MPEG-2åˆ†ç¦»å™¨
&lt;ol&gt;
&lt;li&gt;TV Tunerç¼–ç ä¸æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PlayReady&lt;/li&gt;
&lt;li&gt;Windows TIFF IFilter&lt;/li&gt;
&lt;li&gt;Windows å…‰ç›˜æ˜ åƒåˆ»å½•å·¥å…·&lt;/li&gt;
&lt;li&gt;å…¶ä»–ä¸»é¢˜&lt;/li&gt;
&lt;li&gt;å¢™çº¸&lt;/li&gt;
&lt;li&gt;å£°éŸ³&lt;/li&gt;
&lt;li&gt;å±ä¿&lt;/li&gt;
&lt;li&gt;æˆªå›¾å·¥å…·&lt;/li&gt;
&lt;li&gt;æç¤º&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºåˆ‡æ¢&lt;/li&gt;
&lt;li&gt;æ¸¸æˆèµ„æºç®¡ç†å™¨&lt;/li&gt;
&lt;li&gt;ç©ºé—´éŸ³æ•ˆ&lt;/li&gt;
&lt;li&gt;è§†é¢‘å‹ç¼©ç®¡ç†å™¨&lt;/li&gt;
&lt;li&gt;é”å±èƒŒæ™¯&lt;/li&gt;
&lt;li&gt;é¦–æ¬¡ç™»å½•åŠ¨ç”»&lt;/li&gt;
&lt;li&gt;é¼ æ ‡æŒ‡é’ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æœ¬åœ°åŒ–&#34;&gt;æœ¬åœ°åŒ–&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è¯­è¨€ï¼ˆåªä¿ç•™ç®€ä½“ä¸­æ–‡ï¼‰&lt;/li&gt;
&lt;li&gt;é”®ç›˜ï¼ˆåªä¿ç•™ä¸­æ–‡ï¼ˆç®€ä½“ï¼‰-ç¾å¼é”®ç›˜ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç¡¬ä»¶æ”¯æŒ&#34;&gt;ç¡¬ä»¶æ”¯æŒ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;iSCSIå‘èµ·ç¨‹åº&lt;/li&gt;
&lt;li&gt;Microsoft GS æ³¢è¡¨åˆæˆå™¨&lt;/li&gt;
&lt;li&gt;Point of Service&lt;/li&gt;
&lt;li&gt;Still Image Class Installer&lt;/li&gt;
&lt;li&gt;Telephony&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å¡&lt;/li&gt;
&lt;li&gt;æ¸¸æˆå‘¨è¾¹&lt;/li&gt;
&lt;li&gt;çº¢å¤–è®¾å¤‡&lt;/li&gt;
&lt;li&gt;è½¯ç›˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç³»ç»Ÿ&#34;&gt;ç³»ç»Ÿ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;COM+&lt;/li&gt;
&lt;li&gt;Corruption Verifier&lt;/li&gt;
&lt;li&gt;Embedded Mode&lt;/li&gt;
&lt;li&gt;File Revocation Manager&lt;/li&gt;
&lt;li&gt;Mobile PC&lt;/li&gt;
&lt;li&gt;NFSç®¡ç†å·¥å…·&lt;/li&gt;
&lt;li&gt;PINç™»é™†æ”¯æŒ&lt;/li&gt;
&lt;li&gt;Recovery Agent&lt;/li&gt;
&lt;li&gt;å†…å­˜è°ƒè¯•&lt;/li&gt;
&lt;li&gt;åæ¶æ„è½¯ä»¶æ‰«ææ¥å£&lt;/li&gt;
&lt;li&gt;å—ä¿¡ä»»çš„å¹³å°æ¨¡å—&lt;/li&gt;
&lt;li&gt;å›¾ç‰‡å¯†ç &lt;/li&gt;
&lt;li&gt;å¸®åŠ©æ–‡ä»¶æ”¯æŒ&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºå…¼å®¹æ€§&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºè™šæ‹ŸåŒ–&lt;/li&gt;
&lt;li&gt;æ—§ç‰ˆç»„ä»¶&lt;/li&gt;
&lt;li&gt;æ—§çš„ç¬¦å·é“¾æ¥&lt;/li&gt;
&lt;li&gt;æ­¥éª¤è®°å½•å™¨&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ä½“éªŒè™šæ‹ŸåŒ–&lt;/li&gt;
&lt;li&gt;ç£ç›˜é…é¢&lt;/li&gt;
&lt;li&gt;ç¼“å­˜ä¸ä¸´æ—¶æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è®¾å¤‡é”å®š&lt;/li&gt;
&lt;li&gt;è½»æ¾ä¼ é€&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç½‘ç»œ&#34;&gt;ç½‘ç»œ&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Netlogon&lt;/li&gt;
&lt;li&gt;Quality of Service Packet Scheduler&lt;/li&gt;
&lt;li&gt;Radio Management and Airplane Mode Service&lt;/li&gt;
&lt;li&gt;Telnet å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;TFTP å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;å·¥ä½œæ–‡ä»¶å¤¹å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;ç®€å•TCP/IPæœåŠ¡&lt;/li&gt;
&lt;li&gt;ç½‘ç»œé€‚é…å™¨å¤šè·¯ä¼ é€åè®®&lt;/li&gt;
&lt;li&gt;è„±æœºæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;é’±åŒ…æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¿œç¨‹æ§åˆ¶ä¸éšç§&#34;&gt;è¿œç¨‹æ§åˆ¶ä¸éšç§&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;AllJoyn Router Service&lt;/li&gt;
&lt;li&gt;Diagnostice and Troubleshootig&lt;/li&gt;
&lt;li&gt;Location Service&lt;/li&gt;
&lt;li&gt;NDISæ•°æ®åŒ…æ•è·&lt;/li&gt;
&lt;li&gt;OneDrive&lt;/li&gt;
&lt;li&gt;Peer Networking&lt;/li&gt;
&lt;li&gt;Server-Initiated Healing Client&lt;/li&gt;
&lt;li&gt;Shared PC æ¨¡å¼&lt;/li&gt;
&lt;li&gt;UPnP Device Host&lt;/li&gt;
&lt;li&gt;Wi-Fi Network Manager&lt;/li&gt;
&lt;li&gt;Windows Insider HUb&lt;/li&gt;
&lt;li&gt;Windows ç”Ÿç‰©è¯†åˆ«æœåŠ¡&lt;/li&gt;
&lt;li&gt;Windows è¿œç¨‹ç®¡ç†&lt;/li&gt;
&lt;li&gt;Windows é”™è¯¯æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;Windows å®¢æˆ·ä½“éªŒæ”¹å–„è®¡åˆ’ CEIP&lt;/li&gt;
&lt;li&gt;å·¥ä½œåŒºåˆå¹¶&lt;/li&gt;
&lt;li&gt;æµåª’ä½“&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ååŠ©&lt;/li&gt;
&lt;li&gt;è¿œç¨‹æ³¨å†Œè¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é©±åŠ¨ç¨‹åº&#34;&gt;é©±åŠ¨ç¨‹åº&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;pos barcode scanner&lt;/li&gt;
&lt;li&gt;pos hid magnetic stripe reader&lt;/li&gt;
&lt;li&gt;å®‰å…¨è®¾å¤‡&lt;/li&gt;
&lt;li&gt;æ‰“å°æœº&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å¡&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å¡ç­›é€‰å™¨&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å¡è¯»å¡å™¨&lt;/li&gt;
&lt;li&gt;è½¯ç›˜é©±åŠ¨å™¨&lt;/li&gt;
&lt;li&gt;è½¯ç›˜é©±åŠ¨å™¨æ§åˆ¶å™¨&lt;/li&gt;
&lt;/ol&gt;
">windows10 ç»„ä»¶ç§»é™¤ï¼ˆé…åˆNTLiteç²¾ç®€ç³»ç»Ÿï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win10-fu-wu-you-hua-pei-he-ntlite-jing-jian-xi-tong/"" data-c="
          &lt;p&gt;ä¸ºäº†å ç”¨æ›´å°çš„å†…å­˜å’Œé™ä½cpuä½¿ç”¨ç‡ï¼Œéœ€è¦å…³é—­ä¸éœ€è¦çš„æœåŠ¡ã€‚&lt;br&gt;
æœ‰äº›æœåŠ¡åœ¨æ­£å¸¸å¼€æœºçš„æƒ…å†µä¸‹æ— æ³•å…³é—­ï¼Œéœ€è¦è¿›å…¥å®‰å…¨æ¨¡å¼å…³é—­ï¼Œæˆ–è€…åœ¨ä½¿ç”¨NTliteç²¾ç®€çš„æ—¶å€™ç¦ç”¨ã€‚&lt;br&gt;
&lt;strong&gt;æœ‰äº›æœåŠ¡åœ¨æŸäº›ç³»ç»Ÿä¸Šæ²¡æœ‰ï¼Œå¯ä»¥å¿½ç•¥ï¼Œè®¾ç½®ä¸ºç¦ç”¨ã€‚å¦‚æœéœ€è¦æŸé¡¹æœåŠ¡ï¼Œå¯è‡ªè¡Œæ‰“å¼€&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;å®‰å…¨æ¨¡å¼&#34;&gt;å®‰å…¨æ¨¡å¼&lt;/h1&gt;
&lt;p&gt;åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œä»…ä»…åªéœ€è¦å¼€å¯ä»¥ä¸‹æœåŠ¡å°±èƒ½ç»´æŒç³»ç»Ÿçš„è¿è¡Œï¼Œä½†æ­¤æ—¶ç½‘ç»œå’Œç¨‹åºæ— æ³•è¿è¡Œï¼Œå…·ä½“æœåŠ¡åç§°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;State Repository Service&lt;/li&gt;
&lt;li&gt;Cryptographic Services&lt;/li&gt;
&lt;li&gt;Tile Data model server&lt;/li&gt;
&lt;li&gt;Remote Procedure Call (RPC)&lt;/li&gt;
&lt;li&gt;RPC Endpoint Mapper&lt;/li&gt;
&lt;li&gt;User Profile Service&lt;/li&gt;
&lt;li&gt;Local Session Manager&lt;/li&gt;
&lt;li&gt;DCOM Server Process Launcher&lt;/li&gt;
&lt;li&gt;CoreMessaging&lt;/li&gt;
&lt;li&gt;Background Tasks Infrastructure Service&lt;/li&gt;
&lt;li&gt;User Manager&lt;/li&gt;
&lt;li&gt;System Events Broker&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ­£å¸¸æ¨¡å¼&#34;&gt;æ­£å¸¸æ¨¡å¼&lt;/h1&gt;
&lt;p&gt;æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œæƒ³è¦æ­£ç¡®è®¿é—®ç½‘ç»œã€è¿è¡Œç¨‹åºã€è¯†åˆ«ç¡¬ä»¶ï¼Œé‚£ä¹ˆéœ€è¦å¼€å¯å¦‚ä¸‹æœåŠ¡ï¼Œå…·ä½“æœåŠ¡åç§°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨ç±»å‹ï¼š&lt;strong&gt;æ‰‹åŠ¨&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Cryptographic Services&lt;/li&gt;
&lt;li&gt;State Repository Service&lt;/li&gt;
&lt;li&gt;Windows Management Instrumentation&lt;/li&gt;
&lt;li&gt;Windows Process Activation Serviceï¼ˆ&lt;strong&gt;å¯èƒ½ä¸å­˜åœ¨&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Remote Desktop Servicesï¼ˆ&lt;strong&gt;éœ€è¦è¿œç¨‹ï¼Œåˆ™å¼€å¯&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Remote Procedure Call (RPC)&lt;/li&gt;
&lt;li&gt;Wired AutoConfig&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ç±»å‹ï¼š&lt;strong&gt;æ‰‹åŠ¨ï¼ˆè§¦å‘å™¨å¯åŠ¨ï¼‰&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Application Information&lt;/li&gt;
&lt;li&gt;Device Association Service&lt;/li&gt;
&lt;li&gt;Time Broker&lt;/li&gt;
&lt;li&gt;Windows Connection Manager&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ç±»å‹ï¼š&lt;strong&gt;è‡ªåŠ¨&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Background Tasks Infrastructure Service&lt;/li&gt;
&lt;li&gt;CoreMessaging&lt;/li&gt;
&lt;li&gt;DCOM Server Process Launcher&lt;/li&gt;
&lt;li&gt;DHCP Client&lt;/li&gt;
&lt;li&gt;Local Session Manager&lt;/li&gt;
&lt;li&gt;Network Location Awareness&lt;/li&gt;
&lt;li&gt;Network Store Interface Service&lt;/li&gt;
&lt;li&gt;RPC Endpoint Mapper&lt;/li&gt;
&lt;li&gt;Security Accounts Manager&lt;/li&gt;
&lt;li&gt;System Event Notification Service&lt;/li&gt;
&lt;li&gt;Task Scheduler&lt;/li&gt;
&lt;li&gt;Tile Data model server&lt;/li&gt;
&lt;li&gt;User Profile Service&lt;/li&gt;
&lt;li&gt;Windows Audio&lt;/li&gt;
&lt;li&gt;Windows Audio Endpoint Builder&lt;/li&gt;
&lt;li&gt;Windows Event Log&lt;/li&gt;
&lt;li&gt;Windows Font Cache Service&lt;/li&gt;
&lt;li&gt;WLAN AutoConfig&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ç±»å‹ï¼š&lt;strong&gt;è‡ªåŠ¨ï¼ˆè§¦å‘å™¨å¯åŠ¨ï¼‰&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Group Policy Client&lt;/li&gt;
&lt;li&gt;System Events Broker&lt;/li&gt;
&lt;li&gt;User Manager&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ç±»å‹ï¼š&lt;strong&gt;è‡ªåŠ¨ï¼ˆå»¶è¿Ÿå¯åŠ¨ï¼‰&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Network List Service&lt;/li&gt;
&lt;li&gt;Windows Searchï¼ˆ&lt;strong&gt;ä¸ä½¿ç”¨windowsè‡ªå¸¦çš„æœç´¢ï¼Œå¯ä»¥ç¦ç”¨&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;windows10ç³»ç»ŸæœåŠ¡ä¼˜åŒ–å‰åå¯¹ç…§è¡¨&#34;&gt;windows10ç³»ç»ŸæœåŠ¡ä¼˜åŒ–å‰åå¯¹ç…§è¡¨&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1624081015649.png&#34; alt=&#34;windows10ç³»ç»ŸæœåŠ¡ä¼˜åŒ–å‰åå¯¹ç…§è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">windows10 æœåŠ¡ä¼˜åŒ–ï¼ˆé…åˆNTLiteç²¾ç®€ç³»ç»Ÿï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-chong-ming-ming-wang-qia/"" data-c="
          &lt;h1 id=&#34;é…ç½®æ–¹æ³•&#34;&gt;é…ç½®æ–¹æ³•&lt;/h1&gt;
&lt;p&gt;ä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„è¯†åˆ«å’Œæ“ä½œç½‘å¡ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹éœ€è¦è‡ªå®šä¹‰ç½‘å¡çš„åç§°ï¼Œå½“ç„¶ç½‘å¡çš„åç§°å¹¶ä¸æ˜¯éšæ„ä¿®æ”¹çš„ï¼Œéœ€è¦éµå¾ªä¸€å®šçš„è§„åˆ™ã€‚ä¾‹å¦‚éœ€è¦å°†ç½‘å¡åç§°ens33ä¿®æ”¹ä¸ºeth0ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­æ¶‰åŠåˆ°ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘å¡é…ç½®æ–‡ä»¶ï¼š/etc/sysconfig/network-scripts/ifcfg-ens33&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå¼•å¯¼æ–‡ä»¶ï¼š/etc/default/grub&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ“ä½œæµç¨‹å¦‚ä¸‹ï¼ˆå…±è®¡4æ­¥ï¼‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ›´æ”¹ç½‘å¡é…ç½®æ–‡ä»¶ååŠé…ç½®æ–‡ä»¶&lt;br&gt;
&lt;code&gt;ä¸‰ç åˆä¸€ï¼šé…ç½®æ–‡ä»¶åifcfg-ä¹‹åçš„åç§°ã€é…ç½®æ–‡ä»¶å†…DEVICEå’ŒNAMEçš„å€¼&lt;/code&gt;&lt;br&gt;
åŸç½‘å¡é…ç½®æ–‡ä»¶/etc/sysconfig/network-scripts/ifcfg-ens33ä¿®æ”¹ä¸ºifcfg-eth0ï¼Œé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;TYPE=&amp;quot;Ethernet&amp;quot;
BOOTPROTO=&amp;quot;dhcp&amp;quot;
DEFROUTE=&amp;quot;yes&amp;quot;
IPV4_FAILURE_FATAL=&amp;quot;no&amp;quot;
IPV6INIT=&amp;quot;no&amp;quot;
NAME=&amp;quot;eth0&amp;quot;         #å°†ens33ä¿®æ”¹ä¸ºeth0
UUID=&amp;quot;47f11128-5846-4db4-b4c9-ecf48af85d13&amp;quot;
DEVICE=&amp;quot;eth0&amp;quot;       #å°†ens33ä¿®æ”¹ä¸ºeth0
ONBOOT=&amp;quot;yes&amp;quot;        
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å…³é—­&amp;quot;ä¸€è‡´æ€§ç½‘ç»œè®¾å¤‡å‘½åæ³•&amp;quot;&lt;br&gt;
å› CentOS7é‡‡ç”¨grub2å¼•å¯¼ï¼Œéœ€è¦å¯¹grub2è¿›è¡Œä¿®æ”¹&lt;br&gt;
ç¼–è¾‘/etc/default/grubé…ç½®æ–‡ä»¶ï¼šåœ¨GRUB_CMDLINE_LINUXè¿™ä¸ªå‚æ•°åé¢åŠ å…¥&lt;code&gt;net.ifnames=0 biosdevname=0&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿®æ”¹å‰ 
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR=&amp;quot;$(sed &#39;s, release .*$,,g&#39; /etc/system-release)&amp;quot;
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT=&amp;quot;console&amp;quot;
GRUB_CMDLINE_LINUX=&amp;quot;crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet&amp;quot;
GRUB_DISABLE_RECOVERY=&amp;quot;true&amp;quot;

# ä¿®æ”¹å
GRUB_TIMEOUT=5
GRUB_DISTRIBUTOR=&amp;quot;$(sed &#39;s, release .*$,,g&#39; /etc/system-release)&amp;quot;
GRUB_DEFAULT=saved
GRUB_DISABLE_SUBMENU=true
GRUB_TERMINAL_OUTPUT=&amp;quot;console&amp;quot;
GRUB_CMDLINE_LINUX=&amp;quot;crashkernel=auto rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet net.ifnames=0 biosdevname=0&amp;quot;
GRUB_DISABLE_RECOVERY=&amp;quot;true&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç”¨grub2-mkconfigå‘½ä»¤é‡æ–°ç”ŸæˆGRUBé…ç½®å¹¶æ›´æ–°å†…æ ¸&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;grub2-mkconfig -o /boot/grub2/grub.cfg]
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;rebooté‡å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;åŸç†ä»‹ç»&#34;&gt;åŸç†ä»‹ç»&lt;/h1&gt;
&lt;p&gt;Centos7é‡‡ç”¨çš„ç½‘ç»œè®¾å¤‡å‘½åæ–¹å¼ä¸ºä¸€è‡´æ€§ç½‘ç»œè®¾å¤‡å‘½å(Consistent Network Device Naming)ï¼Œä¸»è¦å‚è€ƒä»¥ä¸‹é“¾æ¥è¿›è¡Œæ•´ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Consistent_Network_Device_Naming.html&#34;&gt;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Networking_Guide/ch-Consistent_Network_Device_Naming.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bugzilla.redhat.com/show_bug.cgi?id=965718&#34;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=965718&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h2&gt;
&lt;p&gt;centos5ä½¿ç”¨eth0çš„æ–¹å¼æ¥å‘½åç½‘ç»œè®¾å¤‡ï¼Œcentos6å´ä½¿ç”¨em1çš„æ–¹å¼æ¥å‘½ä»¤ç½‘ç»œè®¾å¤‡ï¼Œåœ¨centos6å®‰è£…çš„æ—¶å€™ï¼Œç»™å¯åŠ¨å‚æ•°åŠ &lt;code&gt;ä¸Šbiosdevname=0&lt;/code&gt;ï¼Œå°±å¯ä»¥ç»§ç»­ä½¿ç”¨eth0è¿™æ ·çš„å‘½åã€‚&lt;br&gt;
å‡çº§åˆ°centos7åï¼Œå‘ç°åŸæœ‰çš„å‚æ•°&lt;code&gt;biosdevname=0&lt;/code&gt;ä¸èµ·ä½œç”¨äº†ï¼Œç½‘ç»œè®¾å¤‡å˜æˆäº†eno1è¿™æ ·çš„åç§°ï¼Œcentos7è¿™ç§å˜åŒ–çš„åŸå› æ˜¯ç”±äºsystemdå’Œudevå¼•å…¥äº†ä¸€ç§æ–°çš„ç½‘ç»œè®¾å¤‡å‘½åæ–¹å¼ï¼šä¸€è‡´ç½‘ç»œè®¾å¤‡å‘½åï¼ˆCONSISTENT NETWORK DEVICE NAMINGï¼‰&lt;br&gt;
æœåŠ¡å™¨é€šå¸¸æœ‰å¤šå—ç½‘å¡ï¼Œæœ‰æ¿è½½é›†æˆçš„ï¼ŒåŒæ—¶ä¹Ÿæœ‰æ’åœ¨PCIeæ’æ§½çš„ï¼ŒLinuxç³»ç»Ÿçš„å‘½ååŸæ¥æ˜¯eth0ã€eth1è¿™æ ·çš„å½¢å¼ï¼Œä½†æ˜¯è¿™ä¸ªç¼–å·å¾€å¾€ä¸ä¸€å®šå‡†ç¡®å¯¹åº”ç½‘å¡æ¥å£çš„ç‰©ç†é¡ºåºï¼Œä¸ºè§£å†³è¿™ç±»é—®é¢˜ï¼Œdellå¼€å‘äº†biosdevnameæ–¹æ¡ˆ(systemd v197ç‰ˆæœ¬ä¸­å°†dellçš„æ–¹æ¡ˆä½œäº†è¿›ä¸€æ­¥çš„ä¸€èˆ¬åŒ–æ‹“å±•)ï¼Œç›®å‰çš„Centosæ—¢æ”¯æŒdellçš„biosdevnameï¼Œä¹Ÿæ”¯æŒsystemdçš„æ–¹æ¡ˆ&lt;/p&gt;
&lt;h2 id=&#34;å‘½åè§„åˆ™&#34;&gt;å‘½åè§„åˆ™&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œsystemdå°†&lt;strong&gt;ä¾æ¬¡&lt;/strong&gt;æ ¹æ®ä¸‹é¢çš„ç­–ç•¥æ¥å‘½åç½‘å¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä»BIOSä¸­èƒ½å¤Ÿå–åˆ°å¯ç”¨çš„ï¼Œæ¿è½½ç½‘å¡çš„ç´¢å¼•å·ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªç´¢å¼•å·å‘½åï¼Œä¾‹å¦‚ï¼šeno1&lt;/li&gt;
&lt;li&gt;å¦‚æœä»BIOSä¸­èƒ½å¤Ÿå–åˆ°å¯ä»¥ç”¨çš„ï¼Œç½‘å¡æ‰€åœ¨çš„PCI-Eçƒ­æ’æ‹”æ’æ§½çš„ç´¢å¼•å·ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªç´¢å¼•å·å‘½åï¼Œä¾‹å¦‚ï¼šens1&lt;/li&gt;
&lt;li&gt;å¦‚æœèƒ½å–åˆ°è®¾å¤‡æ‰€è¿æ¥çš„ç‰©ç†ä½ç½®ä¿¡æ¯ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªä¿¡æ¯å‘½åï¼Œä¾‹å¦‚ï¼šenp2s0&lt;/li&gt;
&lt;li&gt;ï¼ˆé»˜è®¤è·³è¿‡æ­¤æ–¹æ¡ˆï¼‰ä½¿ç”¨ç½‘å¡çš„MACåœ°å€æ¥å‘½åï¼Œè¿™ä¸ªæ–¹æ³•ä¸€èˆ¬ä¸ä½¿ç”¨ï¼Œé™¤éç”¨æˆ·é€‰æ‹©ä½¿ç”¨æ­¤æ–¹æ¡ˆï¼Œä¾‹å¦‚ï¼šenx78e7d1ea46da&lt;/li&gt;
&lt;li&gt;ä¼ ç»Ÿçš„kernelå‘½åæ–¹æ³•ï¼ˆå³ä»¥ä¸Šæ‰€æœ‰çš„æ–¹æ¡ˆéƒ½å¤±æ•ˆåï¼‰ï¼Œä¾‹å¦‚: eth0ï¼Œè¿™ç§å‘½åæ–¹æ³•çš„ç»“æœä¸å¯é¢„çŸ¥çš„ï¼Œå³å¯èƒ½ç¬¬äºŒå—ç½‘å¡å¯¹åº”eth0ï¼Œç¬¬ä¸€å—ç½‘å¡å¯¹åº”eth1&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;biosdevnameå’Œnetifnamesä¸¤ç§å‘½åè§„èŒƒ&#34;&gt;biosdevnameå’Œnet.ifnamesä¸¤ç§å‘½åè§„èŒƒ&lt;/h2&gt;
&lt;h3 id=&#34;netifnames&#34;&gt;net.ifnames&lt;/h3&gt;
&lt;p&gt;net.ifnameså‘½åè§„èŒƒä¸ºï¼š&lt;code&gt;è®¾å¤‡ç±»å‹(å‰ä¸¤ä¸ªå­—ç¬¦æ˜¯ç½‘ç»œç±»å‹ï¼Œç¬¬ä¸‰ä¸ªå­—ç¬¦æ˜¯è®¾å¤‡ç±»å‹)+è®¾å¤‡ä½ç½®+æ•°å­—&lt;/code&gt;&lt;br&gt;
å‰ä¸¤ä¸ªå­—ç¬¦çš„å«ä¹‰ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1623382830421.png&#34; alt=&#34;å‰ä¸¤ä¸ªå­—ç¬¦çš„å«ä¹‰&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–å­—ç¬¦çš„å«ä¹‰ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1623383399445.png&#34; alt=&#34;å…¶ä»–å­—ç¬¦çš„å«ä¹‰&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®é™…çš„ä¾‹å­:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¿è½½ç½‘å¡ï¼šeno1&lt;/li&gt;
&lt;li&gt;pciç½‘å¡ï¼šenp0s2æˆ–ens33æˆ–è€…enx78e7d1ea46da&lt;/li&gt;
&lt;li&gt;pciæ— çº¿ç½‘å¡ï¼šwlp3s0&lt;/li&gt;
&lt;li&gt;4Gæ¨¡å—ï¼šwwp0s29f7u2i2&lt;/li&gt;
&lt;li&gt;USBæ— çº¿ç½‘å¡ï¼šwlp0s2f1u4u1&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;biosdevname&#34;&gt;biosdevname&lt;/h3&gt;
&lt;p&gt;biosdevnameå‘½åè§„èŒƒæ˜¯æ ¹æ®ä¸åŒçš„ç½‘ç»œè®¾å¤‡æ¥çš„ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1623383924126.png&#34; alt=&#34;biosdevname&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®é™…çš„ä¾‹å­:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¿è½½ç½‘å¡ï¼šem1&lt;/li&gt;
&lt;li&gt;pciç½‘å¡ï¼šp3p4&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿç½‘å¡ï¼šp3p4_1&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;systemdä¸­çš„å®é™…æ‰§è¡Œé¡ºåº&#34;&gt;systemdä¸­çš„å®é™…æ‰§è¡Œé¡ºåº&lt;/h2&gt;
&lt;p&gt;æŒ‰ç…§å¦‚ä¸‹é¡ºåºæ‰§è¡Œudevçš„rule&lt;code&gt;ç½‘å¡å‘½åå— biosdevnameå’Œnet.ifnamesè¿™ä¸¤ä¸ªå†…æ ¸å‚æ•°å½±å“&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;/usr/lib/udev/rules.d/60-net.rules
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨/lib/udev/rename_deviceè¿™ä¸ªç¨‹åºï¼Œå»æŸ¥è¯¢/etc/sysconfig/network-scripts/ä¸‹æ‰€æœ‰ä»¥ifcfg-å¼€å¤´çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ifcfg-xxä¸­åŒ¹é…åˆ°HWADDR=xx:xx:xx:xx:xx:xxå‚æ•°çš„ç½‘å¡æ¥å£ï¼Œåˆ™é€‰å–DEVICE=yyyyä¸­è®¾ç½®çš„åå­—ä½œä¸ºç½‘å¡åç§°&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;/usr/lib/udev/rules.d/71-biosdevname.rules&lt;code&gt;å®é™…æ‰§è¡Œbiosdevnameçš„policy&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç³»ç»Ÿä¸­å®‰è£…äº†biosdevnameï¼Œä¸”å†…æ ¸å‚æ•°æœªæŒ‡å®šbiosdevname=0ï¼Œä¸”ä¸Šä¸€æ­¥æ²¡æœ‰é‡å‘½åç½‘å¡ï¼Œåˆ™æŒ‰ç…§biosdevnameçš„å‘½åè§„èŒƒï¼Œä»BIOSä¸­å–ç›¸å…³ä¿¡æ¯æ¥å‘½åç½‘å¡&lt;/li&gt;
&lt;li&gt;ä¸»è¦æ˜¯å–SMBIOSä¸­çš„type 9 (System Slot) å’Œtype 41 (Onboard Devices Extended Information)ï¼Œä¸è¿‡è¦æ±‚SMBIOSçš„ç‰ˆæœ¬è¦é«˜äº2.6ï¼Œä¸”ç³»ç»Ÿä¸­è¦å®‰è£…biosdevnameç¨‹åº&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;/lib/udev/rules.d/75-net-description.rules&lt;code&gt;å®é™…æ‰§è¡Œå‘½åè§„åˆ™çš„1ã€2ã€3æ¡&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;udevé€šè¿‡æ£€æŸ¥ç½‘å¡ä¿¡æ¯ï¼Œå¡«å†™å¦‚ä¸‹è¿™äº›udevçš„å±æ€§å€¼ï¼šID_NET_NAME_ONBOARDã€ID_NET_NAME_SLOTã€ID_NET_NAME_PATHã€ID_NET_NAME_MAC&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;/usr/lib/udev/rules.d/80-net-name-slot.rules&lt;code&gt;å®é™…æ‰§è¡Œå‘½åè§„åˆ™çš„1ã€2ã€3æ¡&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœåœ¨60-net.rules ï¼Œ71-biosdevname.rulesè¿™ä¸¤æ¡è§„åˆ™ä¸­æ²¡æœ‰é‡å‘½åç½‘å¡ï¼Œä¸”å†…æ ¸æœªæŒ‡å®šnet.ifnames=0å‚æ•°ï¼Œåˆ™udevä¾æ¬¡å°è¯•ä½¿ç”¨ä»¥ä¸‹å±æ€§å€¼æ¥å‘½åç½‘å¡ï¼šID_NET_NAME_ONBOARDã€ID_NET_NAME_SLOTã€ID_NET_NAME_PATH&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™äº›å±æ€§å€¼éƒ½æ²¡æœ‰ï¼Œåˆ™ç½‘å¡ä¸ä¼šè¢«é‡å‘½å&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;biosdevnameå’Œnetifnamesåº”ç”¨&#34;&gt;biosdevnameå’Œnet.ifnamesåº”ç”¨&lt;/h2&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå‚æ•°éƒ½å¯ä»¥åœ¨grubé…ç½®ä¸­æä¾›ï¼Œbiosdevname=0æ˜¯ç³»ç»Ÿé»˜è®¤å€¼ï¼ˆdellæœåŠ¡å™¨é»˜è®¤æ˜¯1ï¼‰ï¼Œnet.ifnames=1æ˜¯ç³»ç»Ÿé»˜è®¤å€¼ã€‚&lt;br&gt;
ä¸Šé¢æ‰€è¯´çš„å‘½åè§„åˆ™çš„é¡ºåºæ˜¯ç³»ç»Ÿé»˜è®¤çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚ç³»ç»ŸBIOSç¬¦åˆè¦æ±‚ï¼Œä¸”ç³»ç»Ÿä¸­å®‰è£…äº†biosdevnameï¼Œä¸”biosdevname=1å¯ç”¨ï¼Œåˆ™biosdevnameä¼˜å…ˆï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœBIOSä¸ç¬¦åˆbiosdevnameè¦æ±‚æˆ–biosdevname=0ï¼Œåˆ™ä»ç„¶æ˜¯systemdçš„è§„åˆ™ä¼˜å…ˆï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç”¨æˆ·è‡ªå·±å®šä¹‰äº†udev ruleæ¥ä¿®æ”¹å†…æ ¸è®¾å¤‡åå­—ï¼Œåˆ™ç”¨æˆ·è§„åˆ™ä¼˜å…ˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å†…æ ¸å‚æ•°ç»„åˆä½¿ç”¨çš„æ—¶å€™ï¼Œå…¶ç»“æœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤å†…æ ¸å‚æ•°(biosdevname=0ï¼Œnet.ifnames=1):  ç½‘å¡å &amp;quot;enp5s2&amp;quot;&lt;/li&gt;
&lt;li&gt;biosdevname=1ï¼Œnet.ifnames=0ï¼šç½‘å¡å &amp;quot;em1&amp;quot;&lt;/li&gt;
&lt;li&gt;biosdevname=0ï¼Œnet.ifnames=0ï¼šç½‘å¡å &amp;quot;eth0&amp;quot; (æœ€ä¼ ç»Ÿçš„æ–¹å¼)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;centos7ç½‘å¡é‡å‘½åä¸ºethxæ ¼å¼&#34;&gt;centos7ç½‘å¡é‡å‘½åä¸ºethxæ ¼å¼&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ å¸Œæœ›ç»§ç»­ä½¿ç”¨eth0è¿™æ ·çš„ä¼ ç»Ÿåç§°ï¼Œé‚£ä¹ˆåœ¨å®‰è£…å¯åŠ¨ï¼ˆpxeï¼‰æ—¶åŠ ä¸Šå‚æ•°ï¼š&lt;code&gt;net.ifnames=0 biosdevname=0&lt;/code&gt;&lt;br&gt;
cobbler profile ä¿®æ”¹æ–¹æ³•ï¼š&lt;code&gt;cobbler profile edit --name=Centos-7.3-x86_64 --kopts=&#39;net.ifnames=0 biosdevname=0&#39;&lt;/code&gt;&lt;br&gt;
å¦‚æœä½ å·²ç»å®‰è£…å®Œäº†ï¼Œå¸Œæœ›æ”¹æˆeth0è¿™æ ·çš„åç§°ï¼Œé‚£ä¹ˆæ‰§è¡Œå¦‚ä¸‹æ“ä½œéœ€è¦ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹grub2å¯åŠ¨å‚æ•°ï¼ˆé…ç½®æ–‡ä»¶&lt;code&gt;/etc/sysconfig/grub&lt;/code&gt;ï¼‰ï¼Œåœ¨GRUB_CMDLINE_LINUXçš„ä¸­åŠ ä¸Š&lt;code&gt;net.ifnames=0 biosdevname=0&lt;/code&gt;çš„å‚æ•°&lt;/li&gt;
&lt;li&gt;é‡æ–°åŠ è½½åˆ°å¯åŠ¨ä¸­&lt;code&gt;grub2-mkconfig -o /boot/grub2/grub.cfg&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é‡æ–°å¯¹ç½‘å¡é…ç½®æ–‡ä»¶è¿›è¡Œå‘½åï¼ˆç½‘å¡æ–‡ä»¶å…¨éƒ¨é‡å‘½åï¼Œé¡ºä¾¿ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­NAMEã€DEVICEçš„åç§°&lt;/li&gt;
&lt;li&gt;rebooté‡å¯ç”Ÿæ•ˆ&lt;/li&gt;
&lt;/ol&gt;
">Centos7é‡å‘½åç½‘å¡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-kai-ji-qi-dong-fu-wu-huo-zhi-xing-jiao-ben/"" data-c="
          &lt;h1 id=&#34;æ–¹æ³•ä¸€rclocal&#34;&gt;æ–¹æ³•ä¸€ï¼šrc.local&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ç”±äºåœ¨centos7ä¸­&lt;code&gt;/etc/rc.d/rc.local&lt;/code&gt;çš„æƒé™è¢«é™ä½äº†ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ å…¶å¯æ‰§è¡Œæƒ&lt;code&gt;chmod +x /etc/rc.d/rc.local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€è¦ç»™éœ€è¦æ‰§è¡Œçš„è„šæœ¬æ·»åŠ å¯æ‰§è¡Œæƒé™&lt;code&gt;chmod +x /opt/script/test.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨&lt;code&gt;/etc/rc.d/rc.local&lt;/code&gt;æœ«å°¾è¿½åŠ &lt;code&gt;/opt/script/test.sh&lt;/code&gt;å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•äºŒchkconfig&#34;&gt;æ–¹æ³•äºŒï¼šchkconfig&lt;/h1&gt;
&lt;p&gt;/etc/init.dæ˜¯/etc/rc.d/init.dçš„è½¯é“¾æ¥ï¼Œå¯ä»¥é€šè¿‡llå‘½ä»¤æŸ¥çœ‹ï¼Œå½“Linuxå¯åŠ¨æ—¶ï¼Œä¼šå¯»æ‰¾è¿™äº›ç›®å½•ä¸­çš„æœåŠ¡è„šæœ¬ï¼Œå¹¶æ ¹æ®è„šæœ¬çš„è¿è¡Œçº§åˆ«ç¡®å®šä¸åŒçš„å¯åŠ¨çº§åˆ«ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®æ–¹æ³•&#34;&gt;é…ç½®æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å°†è„šæœ¬ç§»åŠ¨åˆ°/etc/rc.d/init.dç›®å½•ä¸‹&lt;code&gt;mv /opt/script/test.sh /etc/rc.d/init.d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¢åŠ è„šæœ¬çš„å¯æ‰§è¡Œæƒé™&lt;code&gt;chmod +x /etc/rc.d/init.d/test.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ·»åŠ è„šæœ¬åˆ°å¼€æœºè‡ªåŠ¨å¯åŠ¨é¡¹ç›®ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /etc/rc.d/init.d
chkconfig --add test.sh
chkconfig test.sh on
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŸç†è¡¥å……&#34;&gt;åŸç†è¡¥å……&lt;/h2&gt;
&lt;h3 id=&#34;chkconfigåŠliunxè¿è¡Œçº§åˆ«&#34;&gt;chkconfigåŠliunxè¿è¡Œçº§åˆ«&lt;/h3&gt;
&lt;p&gt;chkconfigå¯åŠ¨è„šæœ¬è§„èŒƒï¼Œ&lt;strong&gt;åœ¨è„šæœ¬å¼€å¤´åŠ å…¥ä¸‹é¢å†…å®¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#!/bin/bash
# chkconfig:   2345 90 10
# description:  testservice
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;chkonfigåé¢æ˜¯å¯åŠ¨çº§åˆ«å’Œä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;descriptionåé¢æ˜¯æœåŠ¡æè¿°å¦‚ä¸Šé¢è„šæœ¬æ„æ€æ˜¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸Šè¿°é…ç½®çš„å«ä¹‰ï¼šæœåŠ¡å¿…é¡»åœ¨è¿è¡Œçº§2ã€3ã€4ã€5ä¸‹è¢«å¯åŠ¨æˆ–å…³é—­ï¼Œå¯åŠ¨çš„ä¼˜å…ˆçº§æ˜¯90ï¼ˆä¼˜å…ˆçº§èŒƒå›´æ˜¯0ï¼100ï¼Œæ•°å­—è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šä½ï¼‰ï¼Œåœæ­¢çš„ä¼˜å…ˆçº§æ˜¯10&lt;br&gt;
&lt;code&gt;ã€æ³¨ã€‘ï¼šå¦‚æœæ‰§è¡Œè„šæœ¬å¼€å¤´ä¸æ·»åŠ ä»¥ä¸Šå†…å®¹ï¼Œåˆ™ä¼šå¯¼è‡´æç¤ºservice myservice does not support chkconfig&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;linuxå¯åŠ¨ä¼˜å…ˆçº§&#34;&gt;Linuxå¯åŠ¨ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;è¿è¡Œçº§åˆ«å°±æ˜¯æ“ä½œç³»ç»Ÿå½“å‰æ­£åœ¨è¿è¡Œçš„åŠŸèƒ½çº§åˆ«ï¼Œè¿™ä¸ªçº§åˆ«ä»0åˆ°6ä»£è¡¨ç€å…·æœ‰ä¸åŒçš„åŠŸèƒ½ã€‚è¿™äº›çº§åˆ«åœ¨&lt;code&gt;/etc/inittab&lt;/code&gt;æ–‡ä»¶é‡ŒæŒ‡å®šï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯initç¨‹åºå¯»æ‰¾çš„ä¸»è¦æ–‡ä»¶ï¼Œæœ€å…ˆè¿è¡Œçš„æœåŠ¡æ˜¯é‚£äº›æ”¾åœ¨&lt;code&gt;/etc/rc.d&lt;/code&gt;ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¸åŒçš„è¿è¡Œçº§å®šä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;0ï¼šå…³æœºã€‚ä¸ºåœæœºï¼Œæœºå™¨å…³é—­
1ï¼šå•ç”¨æˆ·æ¨¡å¼ã€‚å°±åƒWin9xä¸‹çš„å®‰å…¨æ¨¡å¼ç±»ä¼¼
2ï¼šæ— ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ã€‚æ²¡æœ‰NFSæ”¯æŒ
3ï¼šæœ‰ç½‘ç»œæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ã€‚å®Œæ•´çš„å¤šç”¨æˆ·æ¨¡å¼ï¼Œæ˜¯æ ‡å‡†çš„è¿è¡Œçº§
4ï¼šä¿ç•™ï¼Œä¸€èˆ¬ä¸ç”¨ã€‚åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥ç”¨å®ƒæ¥åšä¸€äº›äº‹æƒ…ï¼Œä¾‹å¦‚åœ¨ç¬”è®°æœ¬ç”µè„‘çš„ç”µæ± ç”¨å°½æ—¶ï¼Œå¯ä»¥åˆ‡æ¢åˆ°è¿™ä¸ªæ¨¡å¼æ¥åšä¸€äº›è®¾ç½®
5ï¼šæœ‰ç½‘ç»œæ”¯æŒæœ‰X-Windowæ”¯æŒçš„å¤šç”¨æˆ·æ¨¡å¼ã€‚å°±æ˜¯X11ï¼Œè¿›åˆ°X Windowç³»ç»Ÿäº†
6ï¼šé‡æ–°å¼•å¯¼ç³»ç»Ÿï¼Œå³é‡å¯ã€‚è¿è¡Œinit 6æœºå™¨å°±ä¼šé‡å¯
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸‰systemd&#34;&gt;æ–¹æ³•ä¸‰ï¼šsystemd&lt;/h1&gt;
&lt;p&gt;è¯¥æ–¹æ³•å› ä¸ºåœ¨ä»‹ç»systemctlæ—¶å·²ç»è¯¦ç»†è®²è§£è¿‡ï¼Œä¸å†èµ˜è¿°&lt;/p&gt;
">Centos7å¼€æœºå¯åŠ¨æœåŠ¡æˆ–æ‰§è¡Œè„šæœ¬</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-systemctl-tian-jia-zi-ding-yi-fu-wu/"" data-c="
          &lt;p&gt;è¯¦ç»†çš„å†…å®¹ä¸åŸç†è¯·åœ¨æœ¬ç«™ç‚¹æœç´¢&lt;code&gt;Centos7 systemdæ•´ç†&lt;/code&gt;ï¼Œæœ¬æ–‡ç« åªä»‹ç»å¸¸è§çš„ä½¿ç”¨æ–¹æ³•&lt;/p&gt;
&lt;h1 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h1&gt;
&lt;p&gt;centos7å¼€æœºç¬¬ä¸€ä¸ªç¨‹åºä»initå®Œå…¨æ¢æˆäº†systemdè¿™ç§å¯åŠ¨æ–¹å¼ï¼ŒåŒcentos5å’Œcentos6å·²ç»å­˜åœ¨å®è´¨å·®åˆ«ã€‚&lt;br&gt;
systemdæ˜¯é ç®¡ç†unitçš„æ–¹å¼æ¥æ§åˆ¶å¼€æœºæœåŠ¡ï¼Œå¼€æœºçº§åˆ«ç­‰åŠŸèƒ½ã€‚ åœ¨/usr/lib/systemd/systemç›®å½•ä¸‹åŒ…å«äº†å„ç§unitæ–‡ä»¶ï¼Œæœ‰&lt;code&gt;.service&lt;/code&gt;çš„æœåŠ¡unitï¼Œæœ‰&lt;code&gt;.target&lt;/code&gt;çš„å¼€æœºçº§åˆ«unitç­‰ï¼Œè¿™é‡Œä»…ä»…ä»‹ç»å…³äº&lt;code&gt;.service&lt;/code&gt;åç¼€çš„æ–‡ä»¶ã€‚&lt;br&gt;
å› ä¸ºsystemdåœ¨å¼€æœºè¦æƒ³æ‰§è¡Œè‡ªå¯åŠ¨ï¼Œéƒ½æ˜¯é€šè¿‡è¿™äº›&lt;code&gt;*.service&lt;/code&gt;çš„unitæ§åˆ¶çš„ï¼ŒæœåŠ¡åˆåˆ†ä¸º&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»ŸæœåŠ¡ï¼šsystemï¼Œå¼€æœºä¸ç™»é™†å°±èƒ½è¿è¡Œçš„ç¨‹åºï¼Œå¸¸ç”¨äºå¼€æœºè‡ªå¯&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æœåŠ¡ï¼šuserï¼Œéœ€è¦ç™»é™†ä»¥åæ‰èƒ½è¿è¡Œçš„ç¨‹åº&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é…ç½®æ–‡ä»¶è¯´æ˜&#34;&gt;é…ç½®æ–‡ä»¶è¯´æ˜&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;.service&lt;/code&gt;çš„unitçš„é…ç½®æ–‡ä»¶ä¸­ä¸»è¦åˆ†ä¸º3å¤§åŒºå—ï¼Œæ¯ä¸ªåŒºå—éƒ½æœ‰è‡ªå·±çš„å‚æ•°ï¼Œä¸‹é¢æ˜¯è¿™äº›åŒºå—å¸¸ç”¨å‚æ•°çš„è¯´æ˜ï¼š&lt;/p&gt;
&lt;h2 id=&#34;unit-åŒºå—å¯åŠ¨é¡ºåºä¸ä¾èµ–å…³ç³»&#34;&gt;[Unit] åŒºå—ï¼ˆå¯åŠ¨é¡ºåºä¸ä¾èµ–å…³ç³»ï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Description&lt;/strong&gt;ï¼šå½“å‰æœåŠ¡çš„ç®€å•æè¿°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Documentation&lt;/strong&gt;ï¼šè¯´æ˜æ–‡æ¡£ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;After&lt;/strong&gt;ï¼šæ­¤æœåŠ¡éœ€è¦åœ¨å“ªäº›æœåŠ¡å¯åŠ¨ä¹‹åå†å¯åŠ¨ï¼Œä¾‹å¦‚&lt;code&gt;sshd.service&lt;/code&gt;å¯åŠ¨ä¹‹å‰éœ€è¦å…ˆå¯åŠ¨&lt;code&gt;network.target&lt;/code&gt;éœ€è¦å¯åŠ¨ï¼Œé‚£ä¹ˆæ­¤å¤„å¡«å†™ä¸º&lt;code&gt;network.target&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Before&lt;/strong&gt;ï¼šæ­¤æœåŠ¡éœ€è¦åœ¨å“ªäº›æœåŠ¡å¯åŠ¨ä¹‹å‰å¯åŠ¨ï¼Œä¾‹å¦‚&lt;code&gt;sshd.service&lt;/code&gt;å¯åŠ¨ä¹‹åéœ€è¦å¯åŠ¨&lt;code&gt;sshd-keygen.service&lt;/code&gt;ï¼Œé‚£ä¹ˆæ­¤å¤„å¡«å†™&lt;code&gt;sshd-keygen.service&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Wants&lt;/strong&gt;ï¼šè¡¨ç¤º&lt;strong&gt;å¼±ä¾èµ–&lt;/strong&gt;å…³ç³»ï¼Œå³&lt;code&gt;sshd-keygen.service&lt;/code&gt;å¯åŠ¨å¤±è´¥æˆ–åœæ­¢è¿è¡Œï¼Œä¹Ÿä¸å½±å“&lt;code&gt;sshd.service&lt;/code&gt;ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Requires&lt;/strong&gt;ï¼šè¡¨ç¤º&lt;strong&gt;å¼ºä¾èµ–&lt;/strong&gt;å…³ç³»ï¼Œå³å¦‚æœè¯¥æœåŠ¡å¯åŠ¨å¤±è´¥æˆ–å¼‚å¸¸é€€å‡ºï¼Œé‚£ä¹ˆ&lt;code&gt;sshd.service&lt;/code&gt;ä¹Ÿå¿…é¡»é€€å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ã€æ³¨ã€‘ï¼šAfterå’ŒBeforeå­—æ®µåªæ¶‰åŠå¯åŠ¨é¡ºåºï¼Œä¸æ¶‰åŠä¾èµ–å…³ç³»ï¼›è€ŒWantsä¸Requireså­—æ®µåªæ¶‰åŠä¾èµ–å…³ç³»ï¼Œä¸å¯åŠ¨é¡ºåºæ— å…³ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åŒæ—¶å¯åŠ¨çš„&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;service-åŒºå—å¯åŠ¨è¡Œä¸º&#34;&gt;[Service] åŒºå—ï¼ˆå¯åŠ¨è¡Œä¸ºï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;å¯åŠ¨ç±»å‹&#34;&gt;å¯åŠ¨ç±»å‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Typeå­—æ®µå®šä¹‰å¯åŠ¨ç±»å‹&lt;/strong&gt;ã€‚å®ƒå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;simple&lt;/strong&gt;ï¼šï¼ˆé»˜è®¤å€¼ï¼‰ExecStartå­—æ®µå¯åŠ¨çš„è¿›ç¨‹ä¸ºä¸»è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;forkingï¼šExecStartå­—æ®µå°†ä»¥fork()æ–¹å¼å¯åŠ¨ï¼Œæ­¤æ—¶çˆ¶è¿›ç¨‹å°†ä¼šé€€å‡ºï¼Œå­è¿›ç¨‹å°†æˆä¸ºä¸»è¿›ç¨‹ï¼ˆåå°è¿è¡Œï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;oneshot&lt;/strong&gt;ï¼šç±»ä¼¼äºsimpleï¼Œä½†åªæ‰§è¡Œä¸€æ¬¡ï¼Œå·¥ä½œå®Œæ¯•ä¹‹åå°±å…³é—­ï¼Œä¸ä¼šå¸¸é©»äºå†…å­˜&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dbus&lt;/strong&gt;ï¼šç±»ä¼¼äºsimpleï¼Œä½†ä¼šç­‰å¾…D-Busä¿¡å·åå¯åŠ¨&lt;code&gt;è®¾ç½®æ­¤é¡¹ç›®æ˜¯éœ€è¦è®¾ç½®BusNameè¿™ä¸ªå‚æ•°çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;notify&lt;/strong&gt;ï¼šç±»ä¼¼äºsimpleï¼Œå¯åŠ¨ç»“æŸåä¼šå‘å‡ºé€šçŸ¥ä¿¡å·ï¼Œç„¶åsystemdå†å¯åŠ¨å…¶ä»–æœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;idle&lt;/strong&gt;ï¼šç±»ä¼¼äºsimpleï¼Œä½†æ˜¯è¦ç­‰åˆ°å…¶ä»–ä»»åŠ¡éƒ½æ‰§è¡Œå®Œï¼Œæ‰ä¼šå¯åŠ¨è¯¥æœåŠ¡&lt;code&gt;ä½¿ç”¨åœºåˆï¼šä¸ºè®©è¯¥æœåŠ¡çš„è¾“å‡ºï¼Œä¸ä¸å…¶ä»–æœåŠ¡çš„è¾“å‡ºç›¸æ··åˆ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¯åŠ¨å‘½ä»¤&#34;&gt;å¯åŠ¨å‘½ä»¤&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ExecStart&lt;/strong&gt;ï¼šå¯åŠ¨æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤&lt;code&gt;å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ExecReload&lt;/strong&gt;ï¼šé‡å¯æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤&lt;code&gt;å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ExecStop&lt;/strong&gt;ï¼šåœæ­¢æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤&lt;code&gt;å¿…é¡»ä½¿ç”¨ç»å¯¹è·¯å¾„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ExecStartPre&lt;/strong&gt;ï¼šå¯åŠ¨æœåŠ¡ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ExecStartPost&lt;/strong&gt;ï¼šå¯åŠ¨æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ExecStopPost&lt;/strong&gt;ï¼šåœæ­¢æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ã€æ³¨ã€‘ï¼šæ‰€æœ‰çš„å¯åŠ¨è®¾ç½®ä¹‹å‰ï¼Œéƒ½å¯ä»¥åŠ ä¸Šä¸€ä¸ªè¿è¯å·ï¼ˆ-ï¼‰ï¼Œè¡¨ç¤ºæŠ‘åˆ¶é”™è¯¯ï¼Œå³å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œä¸å½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œã€‚æ¯”å¦‚EnvironmentFile=-/etc/sysconfig/sshdï¼ˆæ³¨æ„ç­‰å·åé¢çš„é‚£ä¸ªè¿è¯å·ï¼‰ï¼Œå°±è¡¨ç¤ºå³ä½¿/etc/sysconfig/sshdæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºé”™è¯¯&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;é‡å¯è¡Œä¸º&#34;&gt;é‡å¯è¡Œä¸º&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;KillMode&lt;/strong&gt;ï¼šå®šä¹‰systemdå¦‚ä½•åœæ­¢æœåŠ¡
&lt;ol&gt;
&lt;li&gt;control-groupï¼šï¼ˆé»˜è®¤å€¼ï¼‰å½“å‰æ§åˆ¶ç»„é‡Œé¢çš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œéƒ½ä¼šè¢«æ€æ‰&lt;/li&gt;
&lt;li&gt;processï¼šåªæ€ä¸»è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;mixedï¼šä¸»è¿›ç¨‹å°†æ”¶åˆ°SIGTERMä¿¡å·ï¼Œå­è¿›ç¨‹æ”¶åˆ°SIGKILLä¿¡å·&lt;/li&gt;
&lt;li&gt;noneï¼šæ²¡æœ‰è¿›ç¨‹ä¼šè¢«æ€æ‰ï¼Œåªæ˜¯æ‰§è¡ŒæœåŠ¡çš„stopå‘½ä»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Restart&lt;/strong&gt;ï¼šå®šä¹‰äº†æœåŠ¡é€€å‡ºåï¼Œsystemdçš„é‡å¯æ–¹å¼
&lt;ol&gt;
&lt;li&gt;noï¼ˆé»˜è®¤å€¼ï¼‰ï¼šé€€å‡ºåä¸ä¼šé‡å¯&lt;/li&gt;
&lt;li&gt;on-successï¼šåªæœ‰æ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç ä¸º0ï¼‰ï¼Œæ‰ä¼šé‡å¯&lt;/li&gt;
&lt;li&gt;on-failureï¼šéæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç é0ï¼‰ï¼ŒåŒ…æ‹¬è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯&lt;code&gt;å¸¸ç”¨äºå®ˆæŠ¤è¿›ç¨‹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;on-abnormalï¼šåªæœ‰è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯&lt;code&gt;å¸¸ç”¨äºé‚£äº›å…è®¸å‘ç”Ÿé”™è¯¯è€Œé€€å‡ºçš„æœåŠ¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;on-abortï¼šåªæœ‰åœ¨æ”¶åˆ°æ²¡æœ‰æ•æ‰åˆ°çš„ä¿¡å·ç»ˆæ­¢æ—¶ï¼Œæ‰ä¼šé‡å¯&lt;/li&gt;
&lt;li&gt;on-watchdogï¼šè¶…æ—¶é€€å‡ºï¼Œæ‰ä¼šé‡å¯&lt;/li&gt;
&lt;li&gt;alwaysï¼šä¸ç®¡æ˜¯ä»€ä¹ˆé€€å‡ºåŸå› ï¼Œæ€»æ˜¯é‡å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RestartSec&lt;/strong&gt;ï¼šé‡å¯æœåŠ¡ä¹‹å‰éœ€è¦ç­‰å¾…çš„ç§’æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;install-åŒºå—å®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶å³æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨&#34;&gt;[Install] åŒºå—ï¼ˆå®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå³æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;WantedBy&lt;/strong&gt;ï¼šè¡¨ç¤ºè¯¥æœåŠ¡æ‰€åœ¨çš„Targetï¼ŒTargetçš„å«ä¹‰æ˜¯æœåŠ¡ç»„ï¼Œè¡¨ç¤ºä¸€ç»„æœåŠ¡ã€‚&lt;br&gt;
ä¾‹å¦‚&lt;code&gt;WantedBy=multi-user.target&lt;/code&gt;æŒ‡çš„æ˜¯è¯¥æœåŠ¡æ‰€åœ¨çš„Targetæ˜¯&lt;code&gt;multi-user.target&lt;/code&gt;ï¼Œå³å¤šç”¨æˆ·ç»„ã€‚&lt;br&gt;
è¿™ä¸ªè®¾ç½®éå¸¸é‡è¦ï¼Œå› ä¸ºæ‰§è¡Œ&lt;code&gt;systemctl enable sshd.service&lt;/code&gt;å‘½ä»¤æ—¶ï¼Œ&lt;code&gt;sshd.service&lt;/code&gt;çš„ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œå°±ä¼šæ”¾åœ¨/etc/systemd/systemç›®å½•ä¸‹é¢çš„multi-user.target.wantså­ç›®å½•ä¹‹ä¸­&lt;br&gt;
systemdæœ‰é»˜è®¤çš„å¯åŠ¨Targetï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;systemctl get-default&lt;/code&gt;æŸ¥çœ‹ï¼Œä¸€èˆ¬é»˜è®¤ä¸º&lt;code&gt;multi-user.target&lt;/code&gt;ï¼Œåœ¨è¿™ä¸ªç»„é‡Œçš„æ‰€æœ‰æœåŠ¡ï¼Œéƒ½å°†å¼€æœºå¯åŠ¨ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ&lt;code&gt;systemctl enable&lt;/code&gt;å‘½ä»¤èƒ½è®¾ç½®å¼€æœºå¯åŠ¨çš„åŸå› ã€‚&lt;br&gt;
ä½¿ç”¨Targetçš„æ—¶å€™ï¼Œæœ‰2ä¸ªå¾ˆæœ‰å¸®åŠ©çš„å‘½ä»¤&lt;br&gt;
&lt;code&gt;systemctl list-dependencies&lt;/code&gt;å‘½ä»¤å’Œ&lt;code&gt;systemctl isolate&lt;/code&gt;å‘½ä»¤ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹multi-user.targetåŒ…å«çš„æ‰€æœ‰æœåŠ¡ï¼š&lt;code&gt;systemctl list-dependencies multi-user.target&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åˆ°å¦ä¸€ä¸ª targetï¼š&lt;code&gt;systemctl isolate shutdown.target&lt;/code&gt;ï¼Œ&lt;code&gt;shutdown.target&lt;/code&gt;å°±æ˜¯å…³æœºçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸ç”¨çš„Targetæœ‰ä¸¤ä¸ªï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;multi-user.targetï¼šè¡¨ç¤ºå¤šç”¨æˆ·å‘½ä»¤è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;li&gt;graphical.targetï¼šè¡¨ç¤ºå›¾å½¢ç”¨æˆ·çŠ¶æ€ï¼Œå®ƒä¾èµ–äºmulti-user.target&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ä¸¾ä¾‹è¯´æ˜&#34;&gt;ä¸¾ä¾‹è¯´æ˜&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶ç›®å½•ï¼š
&lt;ol&gt;
&lt;li&gt;systemctlè„šæœ¬ç›®å½•ï¼š/usr/lib/systemd/&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸæœåŠ¡ç›®å½•ï¼š/usr/lib/systemd/system/&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æœåŠ¡ç›®å½•ï¼š/usr/lib/systemd/user/&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨/usr/lib/systemd/systemç›®å½•ä¸‹æ–°å»ºtest.serviceæ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[UNIT]
#æœåŠ¡æè¿°
Description=Test Service
#æŒ‡å®šäº†åœ¨systemdåœ¨æ‰§è¡Œå®Œé‚£äº›targetä¹‹åå†å¯åŠ¨è¯¥æœåŠ¡
After=network.target

[Service]
#å®šä¹‰Serviceçš„è¿è¡Œç±»å‹
Type=simple
#å®šä¹‰systemctl start|stop|reload *.service çš„æ‰§è¡Œæ–¹æ³•ï¼ˆå…·ä½“å‘½ä»¤éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼‰
#æ³¨ï¼šExecStartPreä¸ºå¯åŠ¨å‰æ‰§è¡Œçš„å‘½ä»¤
ExecStartPre=/usr/bin/test.sh
ExecStart=/home/mobileoa/apps/shMediaManager.sh -start
ExecReload=
ExecStop=

#åˆ›å»ºç§æœ‰çš„å†…å­˜ä¸´æ—¶ç©ºé—´
PrivateTmp=True

[Install]
#å¤šç”¨æˆ·
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ“ä½œæœåŠ¡
&lt;ol&gt;
&lt;li&gt;é‡è½½ç³»ç»ŸæœåŠ¡ï¼šsystemctl daemon-reload&lt;code&gt;ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶è¦é‡è½½é…ç½®æ–‡ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¾ç½®å¼€æœºå¯åŠ¨ï¼šsystemctl enable test.service&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æœåŠ¡ï¼šsystemctl start test.service&lt;/li&gt;
&lt;li&gt;åœæ­¢æœåŠ¡ï¼šsystemctl stop test.service&lt;/li&gt;
&lt;li&gt;é‡å¯æœåŠ¡ï¼šsystemctl restart test.service&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
">centos7 systemctlæ·»åŠ è‡ªå®šä¹‰æœåŠ¡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-an-zhuang-msys2makegccgitssh/"" data-c="
          &lt;p&gt;ä¸ºäº†æé«˜å¼€å‘å’Œå·¥ä½œæ•ˆç‡ï¼Œéœ€è¦åœ¨windowsç³»ç»Ÿä¸Šé›†æˆbashå¸¸ç”¨å·¥å…·ï¼Œå…¶ä¸­msys2å·²ç»åŒ…å«å¤§éƒ¨åˆ†æ–‡ä»¶æ“ä½œå·¥å…·ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç¼–è¯‘æºç éœ€è¦ä½¿ç”¨gccå’Œmakeï¼Œæäº¤ä»£ç éœ€è¦ä½¿ç”¨gitå’Œsshã€‚ä»¥ä¸Šéƒ½æ˜¯å¸¸ç”¨åŠŸèƒ½ï¼Œå…·ä½“å®‰è£…æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h1 id=&#34;1-å®‰è£…msys2&#34;&gt;1. å®‰è£…msys2&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½ï¼šå®˜ç½‘ä¸‹è½½è¿æ¥ä¸º&lt;a href=&#34;https://www.msys2.org/&#34;&gt;https://www.msys2.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å®‰è£…ï¼šæ‰€æœ‰é€‰é¡¹é»˜è®¤å³å¯ï¼Œé»˜è®¤å®‰è£…ç›®å½•ä¸º&lt;code&gt;C:\msys64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ·»åŠ é¼ æ ‡å·¦å³é”®ï¼šæ‰§è¡Œä»¥ä¸‹è„šæœ¬ï¼Œæ–¹ä¾¿åœ¨ä»»ä½•ç›®å½•ä»¥é¼ æ ‡çš„å·¦é”®æˆ–å³é”®åœ¨å½“å‰ç›®å½•æ‰“å¼€ï¼š&lt;br&gt;
&lt;code&gt;å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°æ–‡æœ¬æ–‡æ¡£ä¸­ï¼Œå¹¶å¦å­˜ä¸º.regæ–‡ä»¶ï¼Œä»¥ç®¡ç†å‘˜è¿è¡Œ&lt;/code&gt;&lt;br&gt;
&lt;code&gt;è¯¥è„šæœ¬çš„å†…å®¹ä¸ºä¿®æ”¹æ³¨å†Œè¡¨ï¼Œå¦‚æœå®‰è£…ç›®å½•ä¸ºéé»˜è®¤ï¼Œåˆ™éœ€è¦å°†è„šæœ¬ä¸­çš„ç›®å½•æ›¿æ¢ä¸ºå®‰è£…ç›®å½•&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\background\shell\msys2]
@=&amp;quot;åœ¨æ­¤å¤„æ‰“å¼€Msys2&amp;quot;
&amp;quot;icon&amp;quot;=&amp;quot;C:\\msys64\\msys2.ico&amp;quot;
[HKEY_CLASSES_ROOT\Directory\background\shell\msys2\command]
@=&amp;quot;C:\\msys64\\msys2_shell.cmd -msys -here&amp;quot;

[HKEY_CLASSES_ROOT\Directory\shell\msys2]
@=&amp;quot;åœ¨æ­¤å¤„æ‰“å¼€Msys2&amp;quot;
&amp;quot;icon&amp;quot;=&amp;quot;C:\\msys64\\msys2.ico&amp;quot;
[HKEY_CLASSES_ROOT\Directory\shell\msys2\command]
@=&amp;quot;C:\\msys64\\msys2_shell.cmd -msys -here&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ·»åŠ ç¯å¢ƒå˜é‡&lt;br&gt;
æ·»åŠ ç¯å¢ƒå˜é‡Pathä¸º&lt;code&gt;C:\msys64\usr\bin&lt;/code&gt;ï¼Œè¿™ä¸ªPathå˜é‡éå¸¸æœ‰ç”¨ï¼Œè¿™æ ·ä¹‹åå°±å¯ä»¥åœ¨CMDä¸­ä½¿ç”¨msys2çš„å‘½ä»¤ï¼Œæˆ–è€…åœ¨å…¨å±€è°ƒç”¨msys2çš„å‘½ä»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;2-å®‰è£…gccå’Œmake&#34;&gt;2. å®‰è£…gccå’Œmake&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;pacman -S gcc
pacman -S make
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤ï¼ŒMSYS2ç¼–è¯‘å’Œè¿è¡Œç¯å¢ƒéƒ½æ­å»ºå¥½äº†&lt;/p&gt;
&lt;h1 id=&#34;3-å®‰è£…gitå’Œssh&#34;&gt;3. å®‰è£…gitå’Œssh&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;pacman -S git
pacman -S openssh
&lt;/code&gt;&lt;/pre&gt;
">windowså®‰è£…msys2+make+gcc+git+ssh</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/tong-guo-ruan-lu-you-shang-wang-de-fang-shi-zong-jie-yu-pei-zhi/"" data-c="
          &lt;h1 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h1&gt;
&lt;p&gt;åœ¨æŸäº›åœºæ™¯ä¸‹éœ€è¦å¯¹ç½‘ç»œæµé‡è¿›è¡Œé™åˆ¶æˆ–è€…å¯¹ç½‘é€Ÿè¿›è¡Œåˆ†é…ï¼Œäº¦æˆ–è€…éœ€è¦çœ‹çœ‹å¤–é¢çš„ä¸–ç•Œç­‰ç­‰ï¼Œä¸ºäº†å®ç°è¿™äº›éœ€æ±‚ï¼Œå¯é‡‡ç”¨è½¯è·¯ç”±çš„æ–¹å¼ã€‚&lt;br&gt;
è½¯è·¯ç”±ç¡¬ä»¶çš„é€‰æ‹©å¯æ ¹æ®èµ„é‡‘æƒ…å†µä¸å®é™…éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹©æ ‘è“æ´¾ã€é¦™æ©™æ´¾ã€é¦™è•‰æ´¾ç­‰å¼€å‘æ¿ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æè·¯ç”±ã€ç«æ–—äº‘ç­‰çŸ¿æ¸£äº§ç‰©ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©x86æ¶æ„çš„è¿·ä½ ä¸»æœºï¼Œä¾‹å¦‚å ç¾ã€å€æ§ã€åº·è€ä¿¡ã€ç ”åŸŸå·¥æ§ç­‰ç­‰ã€‚&lt;br&gt;
å¯¹äºè½¯è·¯ç”±ç³»ç»Ÿçš„é€‰æ‹©ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯å¥½ç”¨çš„ä¸å¤šï¼Œä¸‹é¢æ¨èä¸€ä¸‹æœ€å¸¸ç”¨çš„å‡ ä¸ªç³»ç»Ÿã€‚æœ€å®¹ä¸Šæ‰‹çš„çš„ä¸Šçˆ±å¿«iKuaiç³»ç»Ÿï¼ŒiKuaiä¹Ÿæœ‰ç›¸åº”çš„ç¡¬ä»¶ï¼Œå¯ä»¥ç›´æ¥ä¹°æ•´æœºã€‚æ‰©å±•æœ€ä¸°å¯Œï¼Œä¹Ÿèƒ½å®ç°ä¸€äº›ç‰¹æ®Šéœ€æ±‚çš„æ˜¯openwrtï¼Œæ’ä»¶æå…¶ä¸°å¯Œï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„çœ‹åˆ°å¤–é¢çš„èŠ±èŠ±å¤§ä¸–ç•Œã€‚é™¤äº†ä¸Šé¢ä¸¤ä¸ªï¼Œè¿˜æœ‰pfsenceï¼ˆé˜²ç«å¢™èƒ½åŠ›å¾ˆå¼ºï¼‰å’ŒROSï¼Œè¿™ä¸¤ä¸ªå‰è€…æ±‰åŒ–ä¸æ˜¯å¾ˆå¥½ï¼Œåè€…ä¸Šæ‰‹æœ‰äº›éš¾åº¦ã€‚å½“ç„¶è¿˜æœ‰å…¶ä»–çš„è½¯è·¯ç”±ç³»ç»Ÿï¼Œå»ºè®®é€‰æ‹©è¿™çˆ±å¿«æˆ–è€…openwrtï¼Œå› ä¸ºè¿™ä¸¤ä¸ªç³»ç»Ÿæœ‰å¾ˆå¥½çš„ç¤¾åŒºæ”¯æŒï¼Œå¹¶ä¸”å…è´¹ï¼Œæ›´æ–°æ¯”è¾ƒåŠæ—¶ã€‚&lt;br&gt;
è½¯è·¯ç”±ç³»ç»Ÿå®‰è£…åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨uç›˜å®‰è£…isoé•œåƒæ–‡ä»¶ï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥å†™ç›˜çš„imgæ–‡ä»¶ï¼Œå…¶ä¸­openwrtç›®å‰å¤§éƒ¨åˆ†æ˜¯imgæ–‡ä»¶ï¼Œå½“ç„¶å¯ä»¥è‡ªè¡Œç¼–è¯‘ï¼Œè€Œçˆ±å¿«ç³»ç»Ÿå®˜ç½‘æ—¢æœ‰isoæ–‡ä»¶ï¼Œä¹Ÿæœ‰imgæ–‡ä»¶ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ghostæ–‡ä»¶ï¼Œå¯æ ¹æ®æ–‡ä»¶ç±»å‹é€‰æ‹©å®‰è£…æ–¹å¼ã€‚&lt;br&gt;
å®‰è£…å®Œç³»ç»Ÿä¹‹åå°±æ˜¯é…ç½®è½¯è·¯ç”±ï¼Œå®ç°ç”¨æˆ·ä¸Šç½‘è¡Œä¸ºçš„æ§åˆ¶ç­‰ç­‰ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹PCé€šè¿‡è½¯è·¯ç”±ä¸Šç½‘çš„å‡ ç§æ–¹å¼ä¸é…ç½®æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h1 id=&#34;ä¸Šç½‘ä¸é…ç½®&#34;&gt;ä¸Šç½‘ä¸é…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;1-ç‰©ç†æœºè½¯è·¯ç”±&#34;&gt;1. ç‰©ç†æœºè½¯è·¯ç”±&lt;/h2&gt;
&lt;p&gt;ç›´é€šè·¯ç”±å’Œæ—è·¯ç”±çš„æœ¬è´¨åŒºåˆ«æ˜¯è½¯è·¯ç”±æ¥ä¸æ¥ç®¡ç½‘å…³çš„åŠŸèƒ½ï¼Œå³è½¯è·¯ç”±å¼€ä¸å¼€å¯DHCPæœåŠ¡&lt;/p&gt;
&lt;h3 id=&#34;1-ç›´é€šè·¯ç”±&#34;&gt;1. ç›´é€šè·¯ç”±&lt;/h3&gt;
&lt;p&gt;æ­¤ç§åœºæ™¯ä¸‹æ‰€æœ‰çš„æµé‡éƒ½èµ°è½¯è·¯ç”±ï¼Œæ–¹ä¾¿å¯¹æ‰€æœ‰çš„æµé‡è¿›è¡Œæ§åˆ¶ï¼Œå½“ç„¶è¿™ä¹Ÿä¼šå¯¹è½¯è·¯ç”±è®¾å¤‡çš„å¤„ç†èƒ½åŠ›æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œæ­¤ç§æƒ…å†µéœ€è¦ä¸€å®šçš„èµ„é‡‘è´­ä¹°ç›¸åº”çš„è®¾å¤‡ï¼Œé€‚åˆé•¿ä¹…ä½¿ç”¨ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1620741680331.png&#34; alt=&#34;WANå’ŒLANå£ç‰©ç†éš”ç¦»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ­¤ç§æƒ…å†µä¸‹ä¸»è¦æ˜¯é…ç½®WANå£ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹ï¼š&lt;br&gt;
å¦‚æœä½¿ç”¨çš„æ˜¯å…‰çŒ«ï¼Œå»ºè®®åœ¨è½¯è·¯ç”±çš„WANå£ä¸Šè¿›è¡ŒPPPoEæ‹¨å·ï¼ŒåŒæ—¶åœ¨WANå£ä¸Šå¼€å¯DHCPåŠŸèƒ½ï¼Œè´Ÿè´£ç»™æ¥å…¥LANå£çš„PCè‡ªåŠ¨åˆ†é…IPï¼Œå®ç°PCè®¿é—®äº’è”ç½‘ï¼›&lt;br&gt;
å¦‚æœä½¿ç”¨çš„æ˜¯è·¯ç”±å™¨ï¼Œå»ºè®®åœ¨è·¯ç”±å™¨ä¸Šæ‹¨å·ï¼Œç„¶åå…³é—­è·¯ç”±å™¨çš„DHCPåŠŸèƒ½ï¼Œåœ¨è½¯è·¯ç”±çš„WANå£ä¸Šé…ç½®å¯¹åº”çš„é™æ€IPå®ç°è®¿é—®äº’è”ç½‘ï¼ŒåŒæ˜¯å¼€å¯DHCPåŠŸèƒ½ï¼Œè´Ÿè´£ç»™æ¥å…¥LANå£çš„PCåˆ†é…IPã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-æ—è·¯ç”±&#34;&gt;2. æ—è·¯ç”±&lt;/h3&gt;
&lt;p&gt;æ­¤åœºæ™¯ä¸‹å¦‚æœå…¨éƒ¨æµé‡éƒ½èµ°è½¯è·¯ç”±ä¼šé€ æˆç½‘é€Ÿè¿‡æ…¢ï¼Œæˆ–è€…è·¯ç”±å™¨è½¬å‘å‹åŠ›è¿‡å¤§ç­‰é—®é¢˜ï¼Œé‡‡ç”¨æ­¤ç§ç»„ç½‘æ–¹å¼ä¹Ÿæœ‰ä¸€å®šçš„å¥½å¤„ï¼Œå¯ä»¥åˆ©ç”¨æ—§è®¾å¤‡ï¼Œä¾‹å¦‚ä¸ç”¨çš„PCæˆ–è€…æ ‘è“æ´¾ç­‰ï¼Œåªæœ‰ä¸€ä¸ªç½‘å£ï¼Œå¯ä»¥åªå¤„ç†éƒ¨åˆ†æµé‡ï¼Œä¾‹å¦‚è®¿é—®ç™¾åº¦ç­‰å¯ä»¥ç›´æ¥èµ°è·¯ç”±å™¨ï¼Œè€Œè®¿é—®è°·æ­Œç­‰åˆ™ç»è¿‡è½¯è·¯ç”±ï¼Œå³åªå¤„ç†éƒ¨åˆ†æµé‡ã€‚&lt;br&gt;
æ­¤ç§æ–¹æ³•æ›´åŠ &lt;strong&gt;éšè”½&lt;/strong&gt;ï¼Œå¦‚æœä¸è¿›è¡Œé…ç½®ï¼Œæµé‡é»˜è®¤ç›´æ¥èµ°è·¯ç”±å™¨ï¼Œåªæœ‰é€šè¿‡ç‰¹æ®Šé…ç½®&lt;sub&gt;éœ€è¦çŸ¥é“è½¯è·¯ç”±çš„IP&lt;/sub&gt;æ‰èƒ½é€šè¿‡è½¯è·¯ç”±æ¥ä¸Šç½‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1620742439752.png&#34; alt=&#34;æ—è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ—è·¯ç”±ä¸éœ€è¦WANå£ï¼Œå¦‚æœè½¯è·¯ç”±ä¸­æœ‰WANå£ï¼Œåˆ™éœ€è¦åˆ é™¤ï¼ŒåŒæ—¶é…ç½®å®ŒLANå£çš„é™æ€IPä¹‹åï¼Œæ— éœ€å¼€å¯DHCPåŠŸèƒ½ã€‚&lt;br&gt;
PCçš„æµé‡å¦‚æœéœ€è¦èµ°æ—è·¯ç”±è¿›è¡Œä¸Šç½‘æ—¶ï¼Œåˆ™PCéœ€è¦è®¾ç½®é™æ€IPï¼Œå…¶ä¸­ç½‘å…³å’ŒDNSå¿…é¡»è®¾ç½®ä¸ºè½¯è·¯ç”±çš„IPã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-è™šæ‹Ÿæœºè½¯è·¯ç”±&#34;&gt;2. è™šæ‹Ÿæœºè½¯è·¯ç”±&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1620742897528.png&#34; alt=&#34;è™šæ‹Ÿæœºè½¯è·¯ç”±æ¥ç®¡ç½‘å¡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;1-ç›´é€šè·¯ç”±è™šæ‹Ÿæœºè½¯è·¯ç”±æ¥ç®¡ç½‘å¡&#34;&gt;1. ï¼ˆç›´é€šè·¯ç”±ï¼‰è™šæ‹Ÿæœºè½¯è·¯ç”±æ¥ç®¡ç½‘å¡&lt;/h2&gt;
&lt;p&gt;æ­¤ç§æƒ…å†µä¸‹å’Œç‰©ç†æœºè½¯è·¯ç”±ä¸­çš„&lt;strong&gt;WANå’ŒLANå£ç‰©ç†éš”ç¦»&lt;/strong&gt;çš„åœºæ™¯åŸç†ç±»ä¼¼ï¼Œåªæ˜¯å®ç°æ–¹å¼æœ‰æ‰€åŒºåˆ«ã€‚æ­¤æ—¶ç‰©ç†æœºæ— æ³•é€šè¿‡ç‰©ç†ç½‘å¡ä¸Šç½‘ï¼Œè€Œæ˜¯é€šè¿‡VMä¸­çš„è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿçš„è™šæ‹Ÿç½‘å¡æ¥ä¸Šç½‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è™šæ‹Ÿæœºè½¯ä»¶VMwareé…ç½®æœ‰ä¸¤å¤„&lt;/strong&gt;ï¼Œå‡æ˜¯åœ¨&lt;code&gt;è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨VMnet0çš„&lt;code&gt;æ¡¥æ¥æ¨¡å¼&lt;/code&gt;ä¸­ï¼Œé€‰æ‹©ç‰©ç†æœºä¸Šåˆšæ‰å–æ¶ˆæ‰IPv4å’ŒIPv6çš„ç‰©ç†ç½‘å¡ï¼Œä»è€Œå®ç°è®©è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿå®Œå…¨æ¥ç®¡ç‰©ç†ç½‘å¡çš„ç›®çš„&lt;code&gt;è¿™ä¸ªè™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿçš„WANå£ä½¿ç”¨çš„ç½‘å¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨VMnet8çš„&lt;code&gt;NATæ¨¡å¼&lt;/code&gt;ä¸­ï¼Œé¦–å…ˆéœ€è¦å–æ¶ˆå‹¾é€‰&lt;code&gt;ä½¿ç”¨æœ¬åœ°DHCPæœåŠ¡å°†IPåœ°å€åˆ†é…ç»™è™šæ‹Ÿå™¨&lt;/code&gt;ï¼Œå¦‚æœä½¿ç”¨è™šæ‹Ÿæœºä¸Šç½‘ï¼Œè¿™é¡¹å¯ä¿ç•™ã€‚ç„¶åè®¾ç½®å­ç½‘IPï¼Œæœ€åæ ¹æ®å­ç½‘IPçš„è®¾ç½®è¿›è¡ŒNATè®¾ç½®&lt;code&gt;è¿™æ˜¯è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»ŸLANå£ä½¿ç”¨çš„ç½‘å¡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç‰©ç†æœºé…ç½®ä¹Ÿæœ‰ä¸¤å¤„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‰©ç†ç½‘å¡çš„å±æ€§ä¸­è¦å–æ¶ˆå‹¾é€‰&lt;code&gt;Internetåè®®ç‰ˆæœ¬ 4ï¼ˆTCP/IPv4ï¼‰&lt;/code&gt;å’Œ&lt;code&gt;Internetåè®®ç‰ˆæœ¬ 6ï¼ˆTCP/IPv6ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿç½‘å¡ï¼Œå³VMnet8å¯¹åº”çš„ç½‘å¡&lt;code&gt;VMware Network Adapter VMnet8&lt;/code&gt;ä¸­éœ€è¦æ ¹æ®VMnet8çš„&lt;code&gt;NATæ¨¡å¼&lt;/code&gt;çš„é…ç½®çš„ç½‘æ®µè¿›è¡ŒIPåœ°å€ç­‰å‚æ•°çš„è®¾ç½®ï¼Œè®¾ç½®å®Œä¹‹åpingä¸€ä¸‹ç½‘å…³æ˜¯å¦å¯ä»¥é€šä¿¡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ–°å»ºè™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿä¹‹åä¹Ÿæœ‰ä¸¤å¤„é…ç½®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°å»ºè™šæ‹Ÿæœºè¿‡ç¨‹ä¸­éœ€è¦æ·»åŠ ä¸¤å—ç½‘å¡ï¼Œä¸€å—æ˜¯è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿçš„WANå£å¯¹åº”çš„ç½‘å¡ï¼Œå³é€‰æ‹©æ¡¥æ¥æ¨¡å¼ï¼›å¦ä¸€å—æ˜¯è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿçš„LANå£å¯¹åº”çš„ç½‘å¡ï¼Œå³é€‰æ‹©NATæ¨¡å¼&lt;/li&gt;
&lt;li&gt;è¿›å»è™šæ‹Ÿè½¯è·¯ç”±ç³»ç»Ÿä¹‹åï¼ŒWANå£çš„é…ç½®å’Œ&lt;strong&gt;WANå’ŒLANå£ç‰©ç†éš”ç¦»&lt;/strong&gt;ä¸­çš„é…ç½®ç±»ä¼¼ï¼Œå¯ä»¥ç›´æ¥PPPoEæ‹¨å·ä¸Šç½‘ï¼Œä¹Ÿå¯ä»¥ä¸Šçº§è·¯ç”±å™¨æ‹¨å·ä¹‹åä½¿ç”¨é™æ€IPä¸Šç½‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ­¤æ—¶ç‰©ç†æœºåªèƒ½é€šè¿‡è™šæ‹Ÿç½‘å¡&lt;code&gt;VMware Network Adapter VMnet8&lt;/code&gt;è®¿é—®äº’è”ç½‘&lt;/p&gt;
&lt;h2 id=&#34;2-æ—è·¯ç”±ç‰©ç†æœºå¯ä»¥é€šè¿‡ç½‘å¡ç›´æ¥ä¸Šç½‘&#34;&gt;2. ï¼ˆæ—è·¯ç”±ï¼‰ç‰©ç†æœºå¯ä»¥é€šè¿‡ç½‘å¡ç›´æ¥ä¸Šç½‘&lt;/h2&gt;
&lt;p&gt;ä¸è™šæ‹Ÿæœºè½¯è·¯ç”±æ¥ç®¡ç½‘å¡æ–¹å¼ä¸åŒï¼Œæ­¤ç§æ–¹å¼å’Œæ—è·¯ç”±æœ‰äº›ç±»ä¼¼ï¼ŒPCçš„ç‰©ç†ç½‘å¡ä¸éœ€è¦å–æ¶ˆå‹¾é€‰IPV4/IPv6ï¼Œå³PCå¯é€šè¿‡ç‰©ç†ç½‘å¡ç›´æ¥ä¸Šç½‘ã€‚åŒæ—¶ï¼ŒPCåªæœ‰é€šè¿‡é…ç½®ç½‘å…³å’ŒDNSä¹‹åæ‰èƒ½é€šè¿‡è½¯è·¯ç”±ä¸Šç½‘ã€‚&lt;/p&gt;
">é€šè¿‡è½¯è·¯ç”±ä¸Šç½‘çš„æ–¹å¼æ€»ç»“ä¸é…ç½®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win10-shi-jian-tong-bu/"" data-c="
          &lt;h1 id=&#34;è®¾ç½®æ—¶é—´åŒæ­¥æœåŠ¡å™¨&#34;&gt;è®¾ç½®æ—¶é—´åŒæ­¥æœåŠ¡å™¨&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;control&lt;/code&gt;æ‰“å¼€æ§åˆ¶é¢æ¿--&amp;gt;æ—¥æœŸå’Œæ—¶é—´--&amp;gt;Internetæ—¶é—´--&amp;gt;æ›´æ”¹è®¾ç½®&lt;/li&gt;
&lt;li&gt;å‹¾é€‰ä¸Internetæ—¶é—´æœåŠ¡å™¨åŒæ­¥--&amp;gt;ä¿®æ”¹æœåŠ¡å™¨ä¸ºè‡ªå®šä¹‰çš„IPæˆ–è€…åŸŸå--&amp;gt;ç«‹å³æ›´æ–°ï¼Œæµ‹è¯•NTPæœåŠ¡å™¨æ˜¯å¦å¯ç”¨--&amp;gt;æ— é—®é¢˜ä¹‹åç‚¹å‡»ç¡®è®¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è®¾ç½®æ—¶é—´åŒæ­¥é—´éš”é¢‘ç‡&#34;&gt;è®¾ç½®æ—¶é—´åŒæ­¥é—´éš”ï¼ˆé¢‘ç‡ï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;regedit&lt;/code&gt;æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨&lt;/li&gt;
&lt;li&gt;HKEY_LOCAL_MACHINE--&amp;gt;SYSTEM--&amp;gt;ControlSet001ï¼ˆæˆ–è€…CurrentControlSetï¼Œé€‰æ‹©å…¶ä¸­ä¸€å¤„ä¿®æ”¹å³å¯ï¼Œä¿®æ”¹å®Œä¸€å¤„ï¼Œå¦ä¸€å¤„ä¹Ÿä¼šåŒæ­¥è¿›è¡Œä¿®æ”¹ï¼‰ --&amp;gt;services--&amp;gt;W32Time--&amp;gt;TimeProviders--&amp;gt;NtpClient--&amp;gt;SpecialPollIntervalçš„DWORD(32 ä½)å€¼--&amp;gt;å°†åŸºæ•°ä»&lt;code&gt;åå…­è¿›åˆ¶&lt;/code&gt;æ”¹æˆ&lt;code&gt;åè¿›åˆ¶&lt;/code&gt;å³å¯çœ‹åˆ°é»˜è®¤çš„åŒæ­¥æ—¶é—´ä¸º86400ç§’ï¼Œå³ä¸€å¤©ï¼Œå¦‚æœæƒ³æ”¹æˆ10ç§’åŒæ­¥ä¸€æ¬¡ï¼Œåˆ™å°†æ­¤å€¼æ”¹ä¸º10å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å¼€å¯ntpæœåŠ¡ä½œä¸ºntpæœåŠ¡ç«¯&#34;&gt;å¼€å¯NTPæœåŠ¡ï¼ˆä½œä¸ºNTPæœåŠ¡ç«¯ï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;servers.msc&lt;/code&gt;æ‰“å¼€æœåŠ¡ç®¡ç†--&amp;gt;Windows Time--&amp;gt;å¸¸è§„ï¼Œå¯åŠ¨ç±»å‹ä¸ºè‡ªåŠ¨ï¼ŒæœåŠ¡çŠ¶æ€å¯åŠ¨--&amp;gt;æ¢å¤ï¼Œç¬¬ä¸€æ¬¡å’Œç¬¬äºŒæ¬¡å¤±è´¥å‡é€‰æ‹©é‡æ–°å¯åŠ¨æœåŠ¡&lt;/li&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;regedit&lt;/code&gt;æ‰“å¼€æ³¨å†Œè¡¨ç¼–è¾‘å™¨--&amp;gt;HKEY_LOCAL_MACHINE--&amp;gt;SYSTEM--&amp;gt;CurrentControlSet--&amp;gt;services--&amp;gt;W32Time--&amp;gt;TimeProviders--&amp;gt;NtpServer--&amp;gt;Enableï¼Œå…¶å€¼è®¾å®šä¸º1ï¼Œç‚¹å‡»ç¡®å®š&lt;/li&gt;
&lt;li&gt;åœ¨æœåŠ¡ç®¡ç†ç•Œé¢é‡å¯Windows TimeæœåŠ¡&lt;br&gt;
æˆ–è€…åœ¨cmdä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤é‡å¯Windows TimeæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;net stop w32time
net start w32time
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æµ‹è¯•æ˜¯å¦è®¾ç½®æˆåŠŸ&lt;br&gt;
cmdè¿è¡Œ&lt;code&gt;w32tm /stripchart /computer:127.0.0.1&lt;/code&gt;ï¼Œæœ‰æ—¶é—´å›æ˜¾è¯´æ˜é…ç½®æˆåŠŸäº†&lt;/li&gt;
&lt;/ol&gt;
">win10æ—¶é—´åŒæ­¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win10-shen-zhou-wang-xin-zheng-fu-zhuan-yong-ban/"" data-c="
          &lt;h1 id=&#34;æ¿€æ´»&#34;&gt;æ¿€æ´»&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ------ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤æç¤ºç¬¦ï¼Œä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š-------
slmgr /upk
slmgr /ipk YYVX9-NTFWV-6MDM3-9PT4T-4M68B
slmgr /skms kms.03k.org
slmgr /ato
# --------------------------æˆ–è€…---------------------------
slmgr /skms kms.v0v.bid &amp;amp;&amp;amp; slmgr /ato
# --------------------------å¯ä»¥ç”¨400year------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ³¨æ„&#34;&gt;æ³¨æ„&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä¸èƒ½ä½¿ç”¨Administratorä½œä¸ºç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;ç‰¢è®°è®¾ç½®çš„å¯†ç ï¼Œå¦‚æœå¿˜è®°å¯†ç ï¼Œåˆ™æ— æ³•æ¢å¤ï¼Œåªèƒ½é‡è£…ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;ç™»å½•ç³»ç»Ÿæ—¶ï¼Œé»˜è®¤å¯†ç è¾“å…¥é”™è¯¯5æ¬¡åä¼šé”å®šåŠå°æ—¶ï¼ŒåŠå°æ—¶åå¯ç»§ç»­å°è¯•è¾“å…¥å¯†ç &lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è‡ªå®šä¹‰ä¿®æ”¹&#34;&gt;è‡ªå®šä¹‰ä¿®æ”¹&lt;/h1&gt;
&lt;p&gt;é¦–å…ˆè¿è¡Œ&lt;code&gt;gpedit.msc&lt;/code&gt;æ‰“å¼€æœ¬åœ°ç»„ç­–ç•¥ç¼–è¾‘å™¨&lt;/p&gt;
&lt;h2 id=&#34;1-å…³é—­ä»¥ç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼è¿è¡Œæ‰€æœ‰ç®¡ç†å‘˜&#34;&gt;1. å…³é—­ä»¥ç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼è¿è¡Œæ‰€æœ‰ç®¡ç†å‘˜&lt;/h2&gt;
&lt;p&gt;è®¡ç®—æœºé…ç½®--&amp;gt;windowsè®¾ç½®--&amp;gt;å®‰å…¨è®¾ç½®--&amp;gt;æœ¬åœ°ç­–ç•¥--&amp;gt;å®‰å…¨é€‰é¡¹--&amp;gt;ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼šä»¥ç®¡ç†å‘˜æ‰¹å‡†æ¨¡å¼è¿è¡Œæ‰€æœ‰ç®¡ç†å‘˜--&amp;gt;å·²ç¦ç”¨&lt;/p&gt;
&lt;h2 id=&#34;2-å¯†ç å¤æ‚åº¦è®¾ç½®&#34;&gt;2. å¯†ç å¤æ‚åº¦è®¾ç½®ï¼š&lt;/h2&gt;
&lt;p&gt;è®¡ç®—æœºé…ç½®--&amp;gt;Windowsè®¾ç½®--&amp;gt;å®‰å…¨è®¾ç½®--&amp;gt;è´¦æˆ·ç­–ç•¥--&amp;gt;å¯†ç ç­–ç•¥&lt;code&gt;æ ¹æ®éœ€è¦å°†é‡Œé¢çš„ä»¥ä¸‹é¡¹ç›®ä¿®æ”¹å°±å¯ä»¥ï¼Œå¯ä»¥éšä¾¿è®¾ç½®å¯†ç &lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯†ç å¿…é¡»ç¬¦åˆå¤æ‚æ€§è¦æ±‚--&amp;gt;å·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å¯†ç é•¿åº¦æœ€å°å€¼ã€å¯†ç æœ€çŸ­ä½¿ç”¨æœŸé™ã€å¯†ç æœ€é•¿ä½¿ç”¨æœŸé™--&amp;gt;0&lt;br&gt;
&lt;code&gt;é‡å¯å†æ¬¡è¾“å¯†ç ç™»é™†åˆ°æ¡Œé¢åï¼Œctrl+alt+delï¼Œæ›´æ”¹å¯†ç ï¼Œè¾“å…¥æ—§å¯†ç ï¼Œä¸¤æ¬¡æ–°å¯†ç ä¸ç”¨è¾“å…¥ï¼Œå³æ¸…ç©ºäº†å¯†ç &lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-å»æ‰å¼€æœºæ—¶éœ€è¦æŒ‰ctrlaltdelç»„åˆé”®ç™»å½•ç³»ç»Ÿ&#34;&gt;3. å»æ‰å¼€æœºæ—¶éœ€è¦æŒ‰Ctrl+Alt+Delç»„åˆé”®ç™»å½•ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;è®¡ç®—æœºé…ç½®--&amp;gt;Windowsè®¾ç½®--&amp;gt;å®‰å…¨è®¾ç½®--&amp;gt;æœ¬åœ°ç­–ç•¥--&amp;gt;å®‰å…¨é€‰é¡¹--&amp;gt;äº¤äº’å¼ç™»å½•ï¼šæ— é¡»æŒ‰ Ctrl+Alt+Del--&amp;gt;å·²å¯ç”¨&lt;/p&gt;
&lt;h2 id=&#34;4-è§£ç¦å¼€å¯éº¦å…‹é£å’Œæ‘„åƒå¤´&#34;&gt;4. è§£ç¦å¼€å¯éº¦å…‹é£å’Œæ‘„åƒå¤´&lt;/h2&gt;
&lt;p&gt;è®¡ç®—æœºé…ç½®--&amp;gt;ç®¡ç†æ¨¡æ¿--&amp;gt;windowsç»„ä»¶--&amp;gt;åº”ç”¨éšç§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…è®¸Windowsåº”ç”¨è®¿é—®ç›¸æœº--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;li&gt;å…è®¸Windowsåº”ç”¨è®¿é—®éº¦å…‹é£--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-å¯ç”¨è¿œç¨‹æ¡Œé¢è¿æ¥&#34;&gt;5. å¯ç”¨è¿œç¨‹æ¡Œé¢è¿æ¥&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æœºé…ç½®--&amp;gt;windowsè®¾ç½®--&amp;gt;å®‰å…¨è®¾ç½®--&amp;gt;æœ¬åœ°ç­–ç•¥
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·æƒé™åˆ†é…--&amp;gt;ä»ç½‘ç»œè®¿é—®æ­¤è®¡ç®—æœº--&amp;gt;æ·»åŠ Administratorsç»„&lt;/li&gt;
&lt;li&gt;å®‰å…¨é€‰é¡¹--&amp;gt;ç½‘ç»œè®¿é—®: æœ¬åœ°å¸æˆ·çš„å…±äº«å’Œå®‰å…¨æ¨¡å‹--&amp;gt;ç»å…¸:å¯¹æœ¬åœ°ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä¸æ”¹å˜å…¶æœ¬æ¥èº«ä»½&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è®¡ç®—æœºé…ç½®--&amp;gt;ç®¡ç†æ¨¡æ¿--&amp;gt;Windows ç»„ä»¶--&amp;gt;è¿œç¨‹æ¡Œé¢æœåŠ¡--&amp;gt;è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº--&amp;gt;è¿æ¥
&lt;ol&gt;
&lt;li&gt;å…è®¸ç”¨æˆ·é€šè¿‡ä½¿ç”¨è¿œç¨‹æ¡Œé¢æœåŠ¡è¿›è¡Œè¿œç¨‹è¿æ¥--&amp;gt;æœªé…ç½®æˆ–å·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;é™åˆ¶è¿æ¥çš„æ•°é‡--&amp;gt;æœªé…ç½®æˆ–å¯ç”¨åæ”¹ä¸º999999&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-å±å¹•ä¿æŠ¤ç¨‹åºæ— æ³•æ›´æ”¹è§£å†³æ–¹æ³•&#34;&gt;6. å±å¹•ä¿æŠ¤ç¨‹åºæ— æ³•æ›´æ”¹è§£å†³æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;ç”¨æˆ·é…ç½®--&amp;gt;ç®¡ç†æ¨¡æ¿--&amp;gt;æ§åˆ¶é¢æ¿--&amp;gt;ä¸ªæ€§åŒ–&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ç”¨å±å¹•ä¿æŠ¤ç¨‹åº--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;li&gt;å¸¦å¯†ç çš„å±å¹•ä¿æŠ¤ç¨‹åº--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;li&gt;å±å¹•ä¿æŠ¤ç¨‹åºè¶…æ—¶--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;li&gt;å¼ºåˆ¶ä½¿ç”¨ç‰¹å®šçš„å±å¹•ä¿æŠ¤ç¨‹åº--&amp;gt;æœªé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-å…³é—­å…³æœºæ¸…é™¤è™šæ‹Ÿé¡µé¢åŠ é€Ÿå¯åŠ¨é€Ÿåº¦&#34;&gt;7. å…³é—­å…³æœºæ¸…é™¤è™šæ‹Ÿé¡µé¢ï¼ŒåŠ é€Ÿå¯åŠ¨é€Ÿåº¦&lt;/h2&gt;
&lt;p&gt;è®¡ç®—æœºé…ç½®--&amp;gt;windowsè®¾ç½®--&amp;gt;å®‰å…¨è®¾ç½®--&amp;gt;æœ¬åœ°ç­–ç•¥--&amp;gt;å®‰å…¨é€‰é¡¹--&amp;gt;å…³æœºï¼šæ¸…é™¤è™šæ‹Ÿå†…å­˜é¡µé¢æ–‡ä»¶--&amp;gt;å·²ç¦ç”¨&lt;/p&gt;
&lt;h2 id=&#34;8-å¼€æœºä¸éœ€è¦è¾“å…¥å¯†ç è‡ªåŠ¨ç™»å½•ç³»ç»Ÿ&#34;&gt;8. å¼€æœºä¸éœ€è¦è¾“å…¥å¯†ç è‡ªåŠ¨ç™»å½•ç³»ç»Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;control userpasswords2&lt;/code&gt;æ‰“å¼€ç”¨æˆ·è´¦æˆ·&lt;/li&gt;
&lt;li&gt;å–æ¶ˆå‹¾é€‰&lt;strong&gt;è¦æ˜¯ç”¨æœ¬è®¡ç®—æœºï¼Œç”¨æˆ·å¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç &lt;/strong&gt;--&amp;gt;åº”ç”¨ä¹‹åè¾“å…¥è´¦æˆ·çš„å¯†ç å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h1&gt;
&lt;h2 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Windows 10 Gç‰ˆ ç¥å·ç½‘ä¿¡æ”¿åºœç‰ˆï¼ˆCMGEï¼‰ V2020-L ç‰ˆæœ¬å·v180ï¼Œæ˜¯åœ¨Windows 10åŸºç¡€ä¸Šï¼Œæ ¹æ®ä¸­å›½æœ‰å…³æ³•å¾‹ã€æ³•è§„ã€æ ‡å‡†çš„è§„å®šï¼Œé’ˆå¯¹ä¸­å›½ä¸“ä¸šé¢†åŸŸçš„éœ€æ±‚ï¼Œå®šåˆ¶å¼€å‘çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;æ¿€æ´»æœåŠ¡å™¨ä½äºä¸­å›½å¢ƒå†…çš„ç¥å·ç½‘ä¿¡æ•°æ®ä¸­å¿ƒï¼Œç³»ç»Ÿè¡¥ä¸å’Œå‡çº§æœåŠ¡å™¨ä½äºä¸­å›½å¢ƒå†…ä¸”ç”±ç¥å·ç½‘ä¿¡æŠ€æœ¯æœ‰é™å…¬å¸æä¾›ï¼Œå†…ç½®ä¸­å›½æ”¿åºœæŒ‡å®šæ•°å­—è¯ä¹¦æœºå…³çš„æ ¹è¯ä¹¦ï¼Œé»˜è®¤å®‰å…¨è®¾ç½®ç¬¦åˆGB/T 30278-2013ã€Šä¿¡æ¯å®‰å…¨æŠ€æœ¯æ”¿åŠ¡è®¡ç®—æœºç»ˆç«¯æ ¸å¿ƒé…ç½®è§„èŒƒã€‹çš„è¦æ±‚ï¼Œç§»é™¤/ç¦ç”¨äº†Windowsè‡ªå¸¦çš„åŠå…¬ç±»ã€ä¸ªäººåŠ©ç†ç±»ã€å¨±ä¹ç”Ÿæ´»ç±»åº”ç”¨åŠåŸºäºäº‘çš„æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç²¾ç®€å†…å®¹&#34;&gt;ç²¾ç®€å†…å®¹&lt;/h2&gt;
&lt;h3 id=&#34;ç§»é™¤çš„åº”ç”¨æˆ–æœåŠ¡&#34;&gt;ç§»é™¤çš„åº”ç”¨æˆ–æœåŠ¡&lt;/h3&gt;
&lt;p&gt;å¤©æ°”ã€è·å–å¸®åŠ©ã€Get Startedã€æ¶ˆæ¯ã€Office Hubã€Microsoft Solitaire Collectionã€æ··åˆç°å®æŸ¥çœ‹å™¨ã€OneNoteã€äººè„‰ã€Print 3Dã€Store Purchase Appã€é’±åŒ…ã€é—¹é’Ÿå’Œæ—¶é’Ÿã€è¿æ¥ã€åé¦ˆä¸­å¿ƒã€åœ°å›¾ã€åº”ç”¨å•†åº—ã€Xboxã€GrooveéŸ³ä¹ã€ç”µå½±å’Œç”µè§†ã€Edgeã€Quick Assistã€Windows To Goç­‰&lt;/p&gt;
&lt;h3 id=&#34;ç¦ç”¨çš„åº”ç”¨æˆ–æœåŠ¡&#34;&gt;ç¦ç”¨çš„åº”ç”¨æˆ–æœåŠ¡&lt;/h3&gt;
&lt;p&gt;Administrative Sharesã€Fax and Scanã€Windows Media Playerã€Windows Helloã€è¿œç¨‹æ¡Œé¢ã€ç®€å• TCPIP æœåŠ¡(å³echoã€daytimeç­‰)ã€ç®€å•ç½‘ç»œç®¡ç†åè®®(SNMP) ã€Internet Information Servicesã€Microsoft Message Queueã€ASP.NET | Open-source web framework for .NET 4.7ã€SMB 1.0/CIFS æ–‡ä»¶å…±äº«æ”¯æŒã€Telnet å®¢æˆ·ç«¯ã€TFTP å®¢æˆ·ç«¯ã€Hyper-Vã€Active Directory è½»å‹ç›®å½•æœåŠ¡ã€Windows Defender åº”ç”¨ç¨‹åºé˜²æŠ¤ã€NFSã€å®¹å™¨ã€Windows Defenderé˜²ç«å¢™ã€Connected User Experiences and Telemetryã€Diagnostic Policy Serviceã€Remote Registryã€Application Managementã€Problem Reports and Solutions Control Panel Supportã€Faxã€Performance Logs &amp;amp; Alertsã€Windows Error Reporting Serviceç­‰&lt;/p&gt;
">win10ç¥å·ç½‘ä¿¡æ”¿åºœä¸“ç”¨ç‰ˆ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-she-zhi-kai-ji-zi-dong-deng-lu-xi-tong/"" data-c="
          &lt;ol&gt;
&lt;li&gt;è¿è¡Œ&lt;code&gt;netplwiz&lt;/code&gt;æ‰“å¼€ç”¨æˆ·è´¦å·ç•Œé¢&lt;/li&gt;
&lt;li&gt;å–æ¶ˆå‹¾é€‰â€œè¦ä½¿ç”¨æ­¤è®¡ç®—æœºï¼Œå¿…é¡»è¾“å…¥ç”¨æˆ·å¯†ç â€&lt;/li&gt;
&lt;li&gt;ç‚¹å‡»åº”ç”¨ä¹‹åï¼Œåœ¨å¼¹çª—ç•Œé¢è¾“å…¥è¯¥ç”¨æˆ·åçš„å¯†ç å³å¯&lt;/li&gt;
&lt;/ol&gt;
">windowsè®¾ç½®å¼€æœºè‡ªåŠ¨ç™»é™†ç³»ç»Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-xiu-gai-yuan-cheng-zhuo-mian-rdp-duan-kou/"" data-c="
          &lt;ol&gt;
&lt;li&gt;ä¿®æ”¹ä¹‹å‰ç¡®è®¤å·²ç»æ‰“å¼€è¿œç¨‹æ¡Œé¢çš„åŠŸèƒ½ï¼š&lt;br&gt;
å¦‚æœæ²¡æœ‰å¼€å¯ï¼Œå¯æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼šwin+Eæ‰“å¼€èµ„æºç®¡ç†å™¨--&amp;gt;å³é”®ç‚¹å‡»â€œæ­¤ç”µè„‘â€å¹¶é€‰æ‹©â€œå±æ€§â€--&amp;gt;å·¦å‡»â€œè¿œç¨‹è®¾ç½®â€--&amp;gt;åœ¨è¿œç¨‹é€‰é¡¹å¡ä¸­é€‰æ‹©â€œå…è®¸è¿œç¨‹è¿æ¥åˆ°æ­¤è®¡ç®—æœºâ€ï¼Œé»˜è®¤æ˜¯æ‰€æœ‰ç”¨æˆ·ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©åªèƒ½é€šè¿‡æŸäº›ç”¨æˆ·è¿œç¨‹&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹è¿œç¨‹æ¡Œé¢é»˜è®¤ç«¯å£å·ï¼ˆä¸¾ä¾‹ä½¿ç”¨12345ç«¯å£ï¼‰ï¼š
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹æ³¨å†Œè¡¨ï¼š&lt;code&gt;è¿è¡Œregeditæ‰“å¼€æ³¨å†Œè¡¨&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å°†&lt;code&gt;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\Wds\\rdpwd\\Tds\\tcp&lt;/code&gt;ä¸­çš„&lt;code&gt;PortNamber&lt;/code&gt;çš„å€¼ï¼ˆä½¿ç”¨åè¿›åˆ¶æŸ¥çœ‹å’Œä¿®æ”¹ï¼Œé»˜è®¤3389ï¼‰ä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦è¿œç¨‹çš„ç«¯å£ï¼Œä¾‹å¦‚ä¿®æ”¹ä¸º12345&lt;/li&gt;
&lt;li&gt;åŒç†ï¼Œå°†&lt;code&gt;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server\\WinStations\\RDP-Tcp&lt;/code&gt;ä¸­çš„&lt;code&gt;PortNamber&lt;/code&gt;çš„å€¼ä¹Ÿä¿®æ”¹ä¸ºè‡ªå·±æƒ³è¦çš„è¿œç¨‹ç«¯å£å·ï¼Œä¾‹å¦‚ä¿®æ”¹ä¸º12345&lt;/li&gt;
&lt;li&gt;å¦‚æœå¼€å¯äº†é˜²ç«å¢™ï¼Œå¯é€šè¿‡æ³¨å†Œè¡¨ä¿®æ”¹é˜²ç«å¢™çš„å…¥ç«™è§„åˆ™ï¼Œä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ï¼šå°†&lt;code&gt;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\SharedAccess\\Defaults\\FirewallPolicy\\FirewallRules&lt;/code&gt;å’Œ&lt;code&gt;HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\services\\SharedAccess\\Parameters\\FirewallPolicy\\FirewallRules&lt;/code&gt;è¿™ä¸¤ä¸ªæ³¨å†Œè¡¨ä¸­çš„&lt;code&gt;RemoteDesktop-UserMode-In-TCP&lt;/code&gt;çš„å€¼ä¸­çš„3389å…¨éƒ¨ä¿®æ”¹ä¸º12345&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é‡å¯è¿œç¨‹æœåŠ¡ï¼š&lt;code&gt;è¿è¡Œservices.mscæ‰“å¼€æœåŠ¡ç®¡ç†&lt;/code&gt;&lt;br&gt;
æ‰¾åˆ°æœåŠ¡â€œRemote Desktop Servicesâ€--&amp;gt;å³é”®é€‰æ‹©â€œé‡æ–°å¯åŠ¨â€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¿œç¨‹æµ‹è¯•ï¼š&lt;br&gt;
è¿è¡Œmstscæ‰“å¼€è¿œç¨‹è¿æ¥--&amp;gt;è¾“å…¥&lt;code&gt;IPåœ°å€:ç«¯å£å·&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;code&gt;192.168.1.1:12345&lt;/code&gt;--&amp;gt;è¿œç¨‹è¿æ¥&lt;/li&gt;
&lt;/ol&gt;
">windowsä¿®æ”¹è¿œç¨‹æ¡Œé¢RDPç«¯å£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/github-fang-wen-jia-su-mian-fei-fang-shi/"" data-c="
          &lt;p&gt;githubè®¿é—®æ…¢çš„åŸå› æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚é…ç½®äº†ä¸æ°å½“çš„DNSæœåŠ¡å™¨æˆ–è€…githubçš„CDNåŸŸåé­åˆ°äº†DNSæ±¡æŸ“ç­‰ç­‰ï¼ŒåŸºæœ¬ä¸Šæ˜¯dnsè§£æçš„é—®é¢˜ï¼Œå³æ— æ³•è¿æ¥ä½¿ç”¨githubçš„åŠ é€Ÿåˆ†å‘æœåŠ¡å™¨ï¼Œæ‰ä½¿å¾—å›½å†…è®¿é—®é€Ÿå˜æ…¢ã€‚&lt;br&gt;
ä»¥ä¸‹æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼Œéƒ½æ˜¯é€šè¿‡ä¿®æ”¹hostsæ–‡ä»¶æ¥è§£å†³åŸŸåè§£æçš„é—®é¢˜ã€‚å…¶ä¸­ï¼Œæ–¹æ¡ˆä¸€ï¼Œå³ä½¿ç”¨ç«™é•¿ä¹‹å®¶dnsè§£æçš„åœ°å€æ˜¯å›½å†…åŠ é€Ÿå™¨çš„åœ°å€ï¼›æ–¹æ¡ˆäºŒï¼Œå³ä½¿ç”¨ipaddress.comè¿›è¡Œdnsè§£æçš„æ˜¯githubçš„ç¾å›½åœ°å€ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ–¹æ¡ˆä¸€æ¨èæ›´å¿«&#34;&gt;æ–¹æ¡ˆä¸€ï¼šï¼ˆæ¨èï¼Œæ›´å¿«ï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è®¿é—®ç«™é•¿ä¹‹å®¶&lt;a href=&#34;http://tool.chinaz.com/dns?type=1&amp;amp;host=github.com&amp;amp;ip=&#34;&gt;http://tool.chinaz.com/dns?type=1&amp;amp;host=github.com&amp;amp;ip=&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åœ¨DNSæŸ¥è¯¢å·¥å…·ä¸­æŸ¥è¯¢&lt;code&gt;github.com&lt;/code&gt;ç­‰åœ°å€&lt;/li&gt;
&lt;li&gt;è®°å½•ä¸‹TTLå€¼æœ€å°çš„å“åº”IPï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œè®°å½•çš„æ˜¯&lt;code&gt;192.30.255.112&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1619000262730.png&#34; alt=&#34;TTLmin&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘hostæ–‡ä»¶ï¼Œwindowsçš„hostsæ–‡ä»¶çš„ä½ç½®&lt;code&gt;C:\\Windows\\System32\\drivers\\etc\\hosts&lt;/code&gt;ï¼Œè€ŒLinuxå’ŒmacOSçš„hostsæ–‡ä»¶çš„ä½ç½®&lt;code&gt;/etc/hosts&lt;/code&gt;ï¼Œè¿½åŠ å¦‚ä¸‹å†…å®¹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;192.30.255.112 github.com
104.244.43.57 github.global.ssl.fastly.net
8.7.198.45 gist.github.com
192.30.255.120 codeload.github.com
185.199.108.153 desktop.github.com
185.199.111.153 guides.github.com
185.199.109.153 blog.github.com
140.82.114.18 status.github.com
185.199.111.153 developer.github.com
185.199.111.153 services.github.com
140.82.112.21 enterprise.github.com
140.82.113.21 education.github.com
185.199.111.153 pages.github.com
140.82.112.22 classroom.github.com
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ–¹æ¡ˆäºŒæ›´ç¨³å®š&#34;&gt;æ–¹æ¡ˆäºŒï¼šï¼ˆæ›´ç¨³å®šï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è®¿é—®&lt;a href=&#34;https://www.ipaddress.com&#34;&gt;https://www.ipaddress.com&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;è¾“å…¥&lt;code&gt;github.com&lt;/code&gt;ç­‰åŸŸåè¿›è¡ŒæŸ¥è¯¢ï¼Œä¾‹å¦‚æŸ¥åˆ°çš„åœ°å€æ˜¯&lt;code&gt;140.82.112.4&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1619000780917.png&#34; alt=&#34;ipaddress&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘hostsæ–‡ä»¶ï¼Œè¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;140.82.112.4 github.com
199.232.69.194 github.global.ssl.fastly.net
&lt;/code&gt;&lt;/pre&gt;
">Githubè®¿é—®åŠ é€Ÿå…è´¹æ–¹å¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/che-di-guan-bi-windowsupdate-geng-xin/"" data-c="
          &lt;p&gt;å¦‚æœéœ€è¦å½»åº•å…³é—­win10æˆ–è€…win7çš„ç³»ç»Ÿæ›´æ–°ï¼Œä»…ä»…å…³é—­æœåŠ¡æ˜¯æ— æ³•å½»åº•å…³é—­çš„ï¼Œå› ä¸ºè¿˜æœ‰ä»»åŠ¡è®¡åˆ’ã€æ³¨å†Œè¡¨ç­‰å†…å®¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…³é—­æœåŠ¡&lt;code&gt;cmdè¿è¡Œservices.mscæ‰“å¼€æœåŠ¡ç®¡ç†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;Windows Update
&lt;ol&gt;
&lt;li&gt;å¸¸è§„é€‰é¡¹å¡--å¯åŠ¨ç±»å‹é€‰æ‹©ç¦ç”¨--æœåŠ¡çŠ¶æ€ç‚¹å‡»åœæ­¢&lt;/li&gt;
&lt;li&gt;æ¢å¤é€‰é¡¹å¡--ç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡ã€åç»­å¤±è´¥å‡é€‰æ‹©æ— æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Windows Modules Installer
&lt;ol&gt;
&lt;li&gt;å¸¸è§„é€‰é¡¹å¡--å¯åŠ¨ç±»å‹é€‰æ‹©ç¦ç”¨--æœåŠ¡çŠ¶æ€ç‚¹å‡»åœæ­¢&lt;/li&gt;
&lt;li&gt;æ¢å¤é€‰é¡¹å¡--ç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡ã€åç»­å¤±è´¥å‡é€‰æ‹©æ— æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ç»„ç­–ç•¥&lt;code&gt;cmdè¿è¡Œgpedit.mscæ‰“å¼€ç»„ç­–ç•¥ç®¡ç†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æœºé…ç½®--ç®¡ç†æ¨¡æ¿--Windowsç»„ä»¶--Windowsæ›´æ–°
&lt;ol&gt;
&lt;li&gt;é…ç½®è‡ªåŠ¨æ›´æ–°--é€‰æ‹©å·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å§‹ç»ˆåœ¨è®¡åˆ’çš„æ—¶é—´é‡æ–°å¯åŠ¨--é€‰æ‹©å·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;åˆ é™¤ä½¿ç”¨æ‰€æœ‰Windowsæ›´æ–°åŠŸèƒ½çš„è®¿é—®æƒé™--é€‰æ‹©å·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ›´æ–°é¢‘ç‡æ£€æµ‹--é€‰æ‹©å·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;ä¸è¦è¿æ¥ä»»ä½•Windowsæ›´æ–°Internetä½ç½®--é€‰æ‹©å·²å¯ç”¨&lt;/li&gt;
&lt;li&gt;å…è®¸è‡ªåŠ¨æ›´æ–°ç«‹å³å®‰è£…--é€‰æ‹©å·²ç¦ç”¨&lt;/li&gt;
&lt;li&gt;å¯ç”¨é€šè¿‡è‡ªåŠ¨æ›´æ–°å»ºè®®çš„æ›´æ–°--é€‰æ‹©å·²ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åˆ é™¤ä»»åŠ¡è®¡åˆ’&lt;code&gt;cmdè¿è¡Œtaskschd.mscæ‰“å¼€ä»»åŠ¡è®¡åˆ’ç®¡ç†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ä»»åŠ¡è®¡åˆ’ç¨‹åºåº“--Microsoft--Windows--WindowsUpdate--æŠŠé‡Œé¢çš„é¡¹ç›®éƒ½å³é”®é€‰æ‹©ç¦ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹æ³¨å†Œè¡¨&lt;code&gt;cmdè¿è¡Œregeditæ‰“å¼€æ³¨å†Œè¡¨ç®¡ç†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;HKEY_LOCAL_MACHINE--SYSTEM--CurrentControlSet--Services--UsoSvc
&lt;ol&gt;
&lt;li&gt;Start--æŠŠå€¼æ”¹æˆ16è¿›åˆ¶çš„4&lt;/li&gt;
&lt;li&gt;FailureActionsï¼ˆæœ‰çš„æ²¡æœ‰ï¼‰--å°†0010ã€0018ã€0020è¡Œçš„å·¦èµ·ç¬¬5ä¸ªæ•°å€¼ç”±åŸæ¥çš„01æ”¹ä¸º00&lt;code&gt;æœ‰äº›æœåŠ¡æ— æ³•åœ¨æœåŠ¡ç®¡ç†é¢æ¿ä¸­ç¦ç”¨ï¼Œå¯ä»¥é‡‡ç”¨æ­¤æ–¹æ³•è¿›è¡Œæ°¸ä¹…ç¦ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
">å½»åº•å…³é—­WindowsUpdateæ›´æ–°ï¼ˆç¬¬äºŒæ¬¡æ•´ç†ï¼Œæ›´å…¨é¢ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie_20210414_-shen-zhen-mian-shi/"" data-c="
          &lt;h1 id=&#34;é¢è¯•é¢˜ç›®&#34;&gt;é¢è¯•é¢˜ç›®&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ç”»å›¾çš„æ–¹å¼ä»‹ç»IGMP Snoopingçš„å·¥ä½œåŸç†&lt;/li&gt;
&lt;li&gt;å›­åŒºç½‘éƒ¨ç½²&lt;sub&gt;ä¸ç¬”è®°ä¸­ä¸åŒçš„æ˜¯ï¼Œè€ƒè¯•çš„æ‹“æ‰‘ä¸­æ¯ä¸ªæ¥å…¥ä¸‹é¢éƒ½æœ‰ä¸€å°æ‰“å°æœº&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;ospfã€isisã€bgpå¦‚ä½•è¿›è¡Œè·¯ç”±æ’¤é”€&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç­”é¢˜é¡ºåº&#34;&gt;ç­”é¢˜é¡ºåº&lt;/h1&gt;
&lt;h2 id=&#34;è·¯ç”±æ’¤é”€20min&#34;&gt;è·¯ç”±æ’¤é”€ï¼ˆ20+minï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;ç­”é¢˜æ€è·¯&#34;&gt;ç­”é¢˜æ€è·¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfï¼Œå…ˆè¯´3ä¸­æ’¤é”€æ–¹å¼åˆ†åˆ«é’ˆå¯¹å“ªäº›LSAï¼Œç„¶åå±•å¼€å°†1ç±»å’Œ2ç±»çš„å„ç§åœºæ™¯ï¼Œ3ã€5ã€7ç±»LSAä¸€å¥è¯å¸¦è¿‡ï¼Œä¸»è¦è®²ä¸€ä¸‹4ç±»LSAçš„æ’¤é”€&lt;/li&gt;
&lt;li&gt;isisï¼Œå…ˆè¯´2ç§æ’¤é”€æ–¹å¼é’ˆå¯¹å“ªäº›LSPï¼Œç„¶åå±•å¼€å°†åŸŸå†…çš„2ä¸ªåœºæ™¯å’ŒåŸŸå¤–çš„1ä¸ªåœºæ™¯&lt;/li&gt;
&lt;li&gt;bgpï¼Œç›´æ¥è¯´ä½¿ç”¨updateæŠ¥æ–‡ï¼Œç„¶åå°†withdrawnç”±é•¿åº¦å’Œæ’¤é”€è·¯ç”±ç»„æˆï¼Œé•¿åº¦ä¸º0æ²¡æœ‰æ’¤é”€è·¯ç”±ï¼Œç„¶åè¯´ä¸€ä¸‹æ’¤é”€è·¯ç”±çš„äºŒå…ƒç»„æ˜¯ä»€ä¹ˆã€‚æœ€åè®²ä¸€ä¸‹å¤šåè®®ï¼Œå…ˆè¯´è·¯ç”±æ›´æ–°ä¸‰å…ƒç»„å’Œå‰ç¼€ä¿¡æ¯ä¸‰å…ƒç»„ï¼Œç„¶åè¯´ä¸€ä¸‹è·¯ç”±æ’¤é”€åªç”¨äºŒå…ƒç»„ï¼Œæ²¡æœ‰ä¸‹ä¸€è·³&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfv3çš„è·¯ç”±æ’¤é”€ï¼Œå…ˆè¯´1ç±»å’Œ2ç±»ä¸ä¼ é€’è·¯ç”±ï¼Œå†è¯´3ã€4ã€5ã€7å’Œv2ç›¸åŒï¼Œæœ€åè¯´8å’Œ9çš„ä½œç”¨ï¼Œè®²å®Œä½œç”¨å†è¯´æ’¤é”€&lt;/li&gt;
&lt;li&gt;BGPçš„refreshæŠ¥æ–‡ä½œç”¨ï¼Œè¿™ä¸ªå½“æ—¶æ²¡ç­”ä¸Šæ¥&lt;code&gt;è¯„ä»·çš„æ—¶å€™è®©æˆ‘å›å»çœ‹çœ‹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å›­åŒºç½‘20min&#34;&gt;å›­åŒºç½‘ï¼ˆ20+minï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;ç­”é¢˜æ€è·¯-2&#34;&gt;ç­”é¢˜æ€è·¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;vlan+eth-trunk&lt;/li&gt;
&lt;li&gt;rstp+ç½‘å…³&lt;/li&gt;
&lt;li&gt;dhcp+é˜²æŠ¤+802.1x&lt;code&gt;è¯´é“dhcpçš„æ—¶å€™è¢«æ‰“æ–­ï¼Œæ—¶é—´ä¸å¤Ÿï¼Œä¸ç”¨å±•å¼€è®²&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;NAT+PPPoEï¼ˆPPPoEéƒ½æ²¡æ¥å¾—åŠè¯´ï¼‰&lt;/li&gt;
&lt;li&gt;æ‰“å°æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿½é—®-2&#34;&gt;è¿½é—®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åä¸ºstpé»˜è®¤çš„æ–¹å¼ï¼Œæˆ‘è¯´æˆrstpäº†ï¼Œåº”è¯¥æ˜¯mstp&lt;/li&gt;
&lt;li&gt;æ ¹ä¿æŠ¤éœ€ä¸éœ€è¦å†æ¥å…¥äº¤æ¢æœºéƒ¨ç½²ï¼Œè¿™ä¸ªæˆ‘æ²¡æœ‰ç›´æ¥å›ç­”ï¼Œæˆ‘è¯´çš„æ˜¯æ¥å…¥äº¤æ¢æœºä¸€èˆ¬åœ¨å…¨å±€é…ç½®è¾¹ç¼˜ç«¯å£å¹¶ä¸”é…ç½®äº†BPDUä¿æŠ¤ï¼Œç„¶åæŠŠä¸Šè¡Œç«¯å£çš„è¾¹ç¼˜ç«¯å£disableäº†ï¼Œå“ªæ€•æ¥å…¥äº¤æ¢æœºä¸‹å†æ¥å…¥ä¸€ä¸ªäº¤æ¢æœºä¹Ÿä¸ä¼šæŠ¢æ ¹ï¼Œç„¶åè€ƒå®˜å°±è¯´è¿™ç§æƒ…å†µä¸‹éœ€ä¸éœ€è¦é…ï¼Œå› ä¸ºä¸ç¡®å®šï¼Œæˆ‘è¯´stpæ”¶åˆ°æ›´ä¼˜çš„bpduä¼šä¸¢å¼ƒæ‰ï¼Œä½†æ˜¯rstpä¸ä¼šï¼Œä¼šé‡æ–°é€‰ä¸¾&lt;code&gt;è€ƒå®˜è¯„ä»·çš„æ—¶å€™è¯´æ¥å…¥ä¹Ÿéœ€è¦é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æé—®åä¸ºç§æœ‰æŠ€æœ¯easy ipï¼Œæ—è¾¹æœ‰ä¸ªè€ƒå®˜è¯´easy natï¼Œæˆ‘å½“æ—¶æœ‰ç‚¹è’™ï¼Œè¯´ä¸çŸ¥é“ï¼Œåªè¯´äº†å¦‚æœå•çº¯ä¸Šç½‘ï¼Œé‚£ä¹ˆé…ç½®ç®€å•çš„ä¸€å¯¹ä¸€åœ°å€è½¬æ¢å³å¯ï¼Œå¦‚æœå¯¹å¤–æä¾›webæœåŠ¡éœ€è¦ä½¿ç”¨nat server&lt;/li&gt;
&lt;li&gt;æ¥ä¸Šä¸€ä¸ªè¿½é—®ï¼Œå¦‚æœæä¾›ftpæœåŠ¡æ€ä¹ˆåŠï¼Ÿæˆ‘ç»™è®²äº†ä¸€ä¸‹å¤–éƒ¨éœ€è¦ä½¿ç”¨ä¸»åŠ¨æ¨¡å¼ï¼Œä»¥åŠä¸èƒ½ä½¿ç”¨è¢«åŠ¨æ¨¡å¼çš„åŸå› ï¼Œç„¶åè¢«è¿½é—®è¿˜æœ‰å“ªäº›åè®®éœ€è¦å¼€å¯ALGï¼Œå½“æ—¶æ²¡æƒ³èµ·æ¥ï¼Œå°±è®©è€ƒå®˜ç»™æˆ‘æå‡ ä¸ªï¼Œæˆ‘é€‰æ‹©ï¼Œç»“æœè€ƒå®˜è¯´æˆ‘å¹³æ—¶éƒ½ç”¨å“ªäº›ï¼Œæˆ‘è¯´é™¤äº†ftpã€ftpsã€sshã€httpï¼Œå…¶ä»–çš„æ²¡ç”¨è¿‡&lt;/li&gt;
&lt;li&gt;åé¢çš„pppoeç­‰éƒ½æ²¡è®²ï¼Œè€ƒå®˜è®©è®²ä¸‹ä¸€ä¸ªé¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;igmp-snnoping20-min&#34;&gt;IGMP Snnopingï¼ˆ20-minï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;ç­”é¢˜æ€è·¯-3&#34;&gt;ç­”é¢˜æ€è·¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè¯´ä¸€ä¸‹åœºæ™¯ï¼Œä¸ºäº†çœé’±ï¼Œä¹°çš„äºŒå±‚äº¤æ¢æœºï¼Œåæ¥ç½‘ç»œå­¦ä¹ å…´èµ·ï¼Œéœ€è¦ç»„æ’­ï¼Œè¿˜è®¾å¤‡æˆæœ¬é«˜ï¼Œä¸ºäº†å®ç°ç»„æ’­ï¼Œå¯ä»¥å¼€å¯IGMP Snoopingï¼Œè¯´äº†ä¸€ä¸‹Snnopingæ˜¯ä¾¦å¬çš„æ„æ€ï¼Œå°±åƒä¼ è¯ç­’ï¼Œä¸åƒproxyå¯ä»¥ä»£å¤„ç†ä¸€äº›æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ™®éç»„æŸ¥è¯¢ã€æˆå‘˜å‘é€çš„æŠ¥æ–‡ï¼ˆæˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ã€å¯¹æ™®éç»„æŸ¥è¯¢çš„å“åº”ï¼‰ã€ç¦»ç»„ä»¥åŠè§¦å‘çš„ç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡ç­‰å¤„ç†æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿½é—®-3&#34;&gt;è¿½é—®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;igmp snoopingç”Ÿæˆçš„é‚£ä¸ªè¡¨å«ä»€ä¹ˆåå­—ï¼Œéƒ½æœ‰ä»€ä¹ˆå†…å®¹ï¼Œè¡¨çš„å†…å®¹æˆ‘è¯´å‡ºæ¥äº†ï¼Œä½†æ˜¯è¡¨çš„åå­—ï¼Œè¯´é—®çš„è¿™ä¹ˆçªç„¶ï¼Œä¸€æ—¶é—´æƒ³ä¸èµ·æ¥äº†&lt;/li&gt;
&lt;li&gt;ç»„æ’­åœ°å€éƒ½æœ‰å“ªäº›ï¼Ÿå½“æ—¶æˆ‘å…ˆå›åˆ°çš„æ˜¯SSMå’ŒASMç”¨çš„åœ°å€ï¼Œç„¶åé—®å¸¸ç”¨ç»„æ’­ç»„åœ°å€ï¼Œæˆ‘å°±è¯´äº†IGMPä¸­å¸¸ç”¨çš„1ã€2å’Œ22&lt;code&gt;è€ƒå®˜è¯„ä»·çš„æ—¶å€™è®©æˆ‘å›å»çœ‹çœ‹å¸¸ç”¨çš„ç»„æ’­åœ°å€ï¼Œæ¯”å¦‚ospfçš„ç­‰ç­‰æˆ‘è¿™æ‰ååº”è¿‡æ¥è¿™æ˜¯é—®çš„æ‰€æœ‰çš„ç»„æ’­åœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆè¿½é—®äº†ä¸€æ¬¡ç¦»ç»„ï¼Œç„¶åè¯´äº†ä¸€ä¸‹v3æ²¡æœ‰ç¦»ç»„æŠ¥æ–‡ï¼Œæ˜¯é€šè¿‡å‘é€æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ç¦»ç»„çš„ï¼ŒæŠ¥æ–‡ä¸­ç»„æ’­æºæ•°é‡ä¸º0ï¼Œè€ƒå®˜è¿½é—®åˆ°åº•æ˜¯å‘é€æˆå‘˜æŠ¥å‘Šè¿˜æ˜¯æŸ¥è¯¢æŠ¥æ–‡ï¼Œæˆ‘å¾ˆç¡®è®¤çš„å›ç­”äº†æ˜¯æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ï¼Œæ¥æ”¶è€…æ²¡æ³•å‘é€æŸ¥è¯¢æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç„¶åè¯´äº†ä¸€ä¸‹v3æ²¡æœ‰æˆå‘˜æŠ¥å‘ŠæŠ‘åˆ¶ï¼Œå› ä¸ºæŸ¥è¯¢è€…ç›‘æ§çš„æ˜¯22ï¼Œå…¶ä»–æ¥æ”¶è€…æ— æ³•æ”¶åˆ°æ­¤æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;è¿½é—®äº¤æ¢æœºå¦‚ä½•å¤„ç†ç»„æ’­æŠ¥æ–‡ï¼Œæ”¶åˆ°æ‰€æœ‰ç»„æ’­æŠ¥æ–‡ä¹‹åå…ˆå‘vlanå†…æ‰€æœ‰çš„æ¥å£è½¬å‘ï¼ŒåŒæ—¶ä¸Šäº¤ä¸‰å±‚å¤„ç†ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ç»„æ’­åˆ™ä¸å¤„ç†ï¼Œå¦‚æœå¼€å¯ç»„æ’­ï¼Œæ²¡æœ‰è¡¨é¡¹ä¹Ÿä¸å¤„ç†ï¼Œæœ‰è¡¨é¡¹åˆ™æŒ‰ç…§è¡¨é¡¹è½¬å‘ã€‚ç„¶åè€ƒå®˜é—®éœ€ä¸éœ€è¦ä¸Šäº¤CPUå¤„ç†ï¼Œæ˜¯ä¸æ˜¯ç›´æ¥è½¬å‘ï¼Œæˆ‘è¯´ä¸æ˜¯ï¼Œç¬¬ä¸€æ¬¡ä¸Šäº¤CPUï¼Œåé¢ä¼šå½¢æˆè¡¨é¡¹ï¼Œä¸‹å‘åˆ°FIBï¼Œåé¢å†æ”¶åˆ°æ­¤ç±»æŠ¥æ–‡ï¼Œåˆ™æŒ‰ç…§è¡¨é¡¹è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å¤‡è€ƒ&#34;&gt;å¤‡è€ƒ&lt;/h1&gt;
&lt;h2 id=&#34;ç¬”è¯•15days&#34;&gt;ç¬”è¯•ï¼ˆ&amp;lt;15Daysï¼‰&lt;/h2&gt;
&lt;p&gt;ç¬”è¯•éƒ½æ˜¯é€‰æ‹©é¢˜ï¼Œæ•™è‚²æœºæ„éƒ½ä¼šç»™å‡ºå“åº”çš„é¢˜åº“ï¼Œæˆ‘å‡†å¤‡çš„æ—¶å€™ï¼Œä¸¤ä»½æ–‡æ¡£ï¼Œå¤§æ¦‚æ˜¯700é“é¢˜ï¼Œä½†æ˜¯å»æ‰é‡å¤å’Œå ªé”™éƒ¨åˆ†ï¼Œå¤§æ¦‚ä¹Ÿå°±æ˜¯500é“é¢˜å·¦å³ã€‚&lt;br&gt;
å¤‡è€ƒç¬”è¯•é‚£æ®µæ—¶é—´ï¼Œå•ä½æ¯”è¾ƒå¿™ï¼Œå¤§æ¦‚å¤‡è€ƒäº†ä¸€ä¸ªæœˆï¼Œå¤§ä½“çš„æµç¨‹æ˜¯å…ˆçœ‹ä¸¤ä»½PDFï¼Œç¬¬ä¸€éå’Œç¬¬äºŒééœ€è¦ç»†çœ‹ï¼Œç¬¬ä¸‰éå’Œç¬¬å››éç²—ç•¥çš„æµè§ˆä¸€ä¸‹ï¼Œåé¢å°±ç”¨æ¨¡æ‹Ÿè½¯ä»¶å¼€å§‹æ¨¡æ‹Ÿè€ƒè¯•ï¼Œæ¯æ¬¡æŠŠæ‰€æœ‰çš„é¢˜éƒ½é€‰ä¸Šï¼Œç„¶ååœ¨1ä¸ªå°æ—¶å†…å®Œæˆï¼ŒæŠŠé”™é¢˜è®°å½•ä¸‹æ¥ï¼Œåé¢æ¯å¤©å…ˆåšé”™é¢˜ï¼Œç„¶åå†é‡æ–°åšä¸€éå…¨éƒ¨çš„é¢˜åº“ã€‚å¦‚æœæ™šä¸Šä¸åŠ ç­çš„è¯ï¼Œç¬”è¯•éƒ¨åˆ†å¤§æ¦‚éœ€è¦ä¸€ä¸¤ä¸ªæ˜ŸæœŸå°±å¯ä»¥å®Œæˆå¤‡è€ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®éªŒ40days&#34;&gt;å®éªŒï¼ˆ=40Daysï¼‰&lt;/h2&gt;
&lt;p&gt;ç¬”è¯•è¿‡åï¼Œæ‹¿åˆ°LABçš„æ’é”™TSçš„Bç‰ˆæœ¬ï¼Œå¤§æ¦‚éœ€è¦10å¤©åˆ°ä¸¤ä¸ªæ˜ŸæœŸçš„æ—¶é—´å°†è¿™å¥—ç‰ˆæœ¬ç†Ÿç»ƒï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ—¶é—´æ›´é•¿ï¼Œä¸ä»…éœ€è¦çŸ¥é“è¿™ä¸ªæ’é”™ä¸­å…·ä½“çš„æ’é”™é¡ºåºä¸æ–¹æ³•ï¼Œè¿˜éœ€è¦å¤§æ¦‚çš„äº†è§£æ¶‰åŠçš„åè®®çš„ç›¸å…³å†…å®¹ï¼Œæ¯”å¦‚è·¯ç”±ä¼˜é€‰ã€RPé€‰ä¸¾ç­‰ç­‰ã€‚&lt;br&gt;
æŠ¥åä¹‹åï¼Œæ‹¿åˆ°å‰©ä¸‹çš„é¢˜åº“ï¼ŒåŒ…æ‹¬æ’é”™TSçš„Aç‰ˆæœ¬å’Œé¡¹ç›®å®æ–½labçš„v1å’Œv2ç‰ˆæœ¬ï¼Œè¿™äº›å®éªŒçš„å‘½åæ˜¯æ ¹æ®æ‹“æ‰‘ä¸­BGP MPLS VPNçš„éƒ¨ç½²æ–¹å¼æ¥å‘½åçš„ã€‚TSAç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯labv1å’Œlabv2åŸºæœ¬æ˜¯ä»é›¶å¼€å§‹éƒ¨ç½²ï¼Œæ¯”è¾ƒç¹çï¼Œéœ€è¦æŒæ¡å¤§é‡çš„å‘½ä»¤ï¼Œå¦‚æœåœ¨ä¸Šè¯¾çš„æ—¶å€™è®¤è®¤çœŸçœŸåšå®éªŒï¼Œè¿™ä¸€å—å†…å®¹ç›¸å¯¹æ¥è¯´ä¼šç®€å•å¥½å¤šã€‚&lt;br&gt;
ç”±äºè‡ªèº«å¯¹é¡¹ç›®å®æ–½ä¸å¤ªç†Ÿè™šï¼Œåˆé”™è¿‡äº†è¾¾å”å°†MPLS VPNçš„è¯¾ç¨‹ï¼Œåæ¥å¹²è„†æŠŠ30å¤©çš„å¹´å‡å…¨éƒ¨ä¼‘äº†ï¼Œç”¨æ¥å…¨åŠ›å¤‡è€ƒï¼Œå‰å‰ååå¤§æ¦‚ç”¨äº†40å¤©å·¦å³çš„æ—¶é—´ã€‚&lt;br&gt;
é™¤äº†ä¸Šé¢ä¸¤å¤§å—å†…å®¹ä¹‹å¤–ï¼Œä¸Šåˆæ’é”™è€ƒè¯•è¿˜æœ‰ä¸€éƒ¨åˆ†æ˜¯å†™æ–‡æ¡£ï¼Œè¿™ä¸ªå…¶å®æ¯ä¸ªæœºæ„ï¼Œç”šè‡³æ¯ä¸ªæœºæ„çš„ä¸åŒè€å¸ˆç»™å‡ºçš„ç­”æ¡ˆæ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯ç†è§£ä¹‹åï¼Œå‘ç°è¿™å¥½å¤šç‰ˆæœ¬ã€å¥½å¤šæ’é”™ã€å¥½å¤šæ€è·¯éƒ½æ˜¯æ®Šé€”åŒå½’ã€å¤§é“è‡³ç®€ã€‚&lt;br&gt;
ä¸‹åˆçš„é¡¹ç›®å®æ–½ï¼Œæ²¡æœ‰å¤ªå¥½çš„æ–¹æ³•ï¼Œé™¤äº†è¦ç»†å¿ƒä¹‹å¤–ï¼Œè¿˜è¦å½¢æˆè‚Œè‚‰è®°å¿†ï¼Œå“ªæ€•å¤§è„‘ç½‘ç»œï¼Œæ‰‹æŒ‡ä¹Ÿèƒ½æ•²å‡ºæ¥è¿™ç§æ„Ÿè§‰ï¼Œå› ä¸ºè¿™éƒ¨åˆ†åˆ†å€¼å¾ˆé«˜ï¼Œå¹¶ä¸”ä¸€æ—¦è‡ªå·±æŒ–å‘ï¼Œå¾ˆéš¾æ’æŸ¥å‡ºé—®é¢˜æ¥ã€‚&lt;br&gt;
åœ¨å¤‡è€ƒå®éªŒçš„è¿‡ç¨‹ä¸­ï¼Œå¾—åˆ°äº†å¥½å¤šåŒå­¦çš„å¸®åŠ©ï¼Œæ¯”å¦‚è€¿åŒå­¦ã€å­ŸåŒå­¦ã€å¼ åŒå­¦ã€æ”¯åŒå­¦ç­‰ç­‰ï¼Œæœ‰çš„æ—¶å€™è¦æ’æŸ¥labä¸­å‡ºçš„é—®é¢˜ï¼Œç¡®å®æ¯”è¾ƒéš¾ï¼Œåˆä¸€æ¬¡å­ŸåŒå­¦å¸®å¿™æ’é”™æ’åˆ°å‡Œæ™¨ä¸€ç‚¹ï¼Œå†æ¬¡æ„Ÿè°¢è¿™äº›åŒå­¦ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢è¯•90days&#34;&gt;é¢è¯•ï¼ˆ=90Daysï¼‰&lt;/h2&gt;
&lt;p&gt;å®éªŒè¿‡åï¼Œè€å¸ˆç»™äº†ä¸€äº›è§†é¢‘å’Œæ–‡æ¡£ï¼Œå‡†å¤‡é¢è¯•ï¼ŒåŸºæœ¬æ²¡æœ‰å¤´ç»ªï¼Œå‘ç¾¤é‡Œçš„å¥½å¤šåŒå­¦è¯·æ•™ä¹‹åï¼Œå¤§æ¦‚åšäº†ä¸€ä¸‹è§„åˆ’ï¼Œå‰ä¸¤ä¸ªæœˆå…ˆæ•´ç†ç¬”è®°ï¼Œæ•´ç†çš„è¿‡ç¨‹ä¸­ç†è§£ä¸ºä»€ä¹ˆè¦è®¾è®¡è¿™äº›åè®®ã€ä¸ºä»€ä¹ˆè¦é‡‡å–è¿™ç§å·¥ä½œæ–¹å¼ã€é‡‡å–è¿™ç§å·¥ä½œæµç¨‹çš„ä¼˜åŠ¿ä¸å¼Šç«¯ç­‰ï¼Œæœ‰äº›åœ°æ–¹å®åœ¨ä¸ç†è§£ï¼Œå°±å»æŸ¥æ‰¾hedexæ–‡æ¡£æˆ–è€…ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³åè®®çš„å‘å±•å†å²ï¼Œè¿™ä¸¤ä¸ªæœˆå·¥ä½œæ˜¯æ¯”è¾ƒç»†è‡´å’Œç¹ççš„ï¼Œä¹Ÿå†³å®šäº†åé¢èƒ½ä¸èƒ½é¡ºåˆ©çš„è¿›è¡Œä¸‹å»ã€‚&lt;br&gt;
æœ€åä¸€ä¸ªæœˆï¼Œè®°å¿†åè®®ä¸­çš„ç»†èŠ‚ï¼Œä¾‹å¦‚å„ç§è®¡æ—¶å™¨çš„é»˜è®¤å€¼ã€å„ç§ç»„æ’­çš„åœ°å€ã€å„ç§æ—¶é—´å¦‚ä½•è®¡ç®—ç­‰ç­‰ï¼Œæœ€é‡è¦çš„æ˜¯å‚åŠ æ¨¡æ‹Ÿé¢è¯•ï¼Œä½†æ¨¡æ‹Ÿé¢è¯•ä¹Ÿä¸æ˜¯å‚åŠ çš„è¶Šå¤šè¶Šå¥½ï¼Œæˆ‘å½“æ—¶åŸºæœ¬æ˜¯æ¯å‘¨æœ€å¤šå‚åŠ 4åœºé¢è¯•ï¼Œæ¯æ¬¡é¢è¯•å®Œï¼Œé’ˆå¯¹è€å¸ˆå’ŒåŒå­¦æå‡ºçš„é—®é¢˜åšç›¸åº”çš„è¡¥å……ã€ä¿®æ”¹ã€è°ƒæ•´è®²è§£é¡ºåºã€å¦‚ä½•ç©¿æ’çŸ¥è¯†ç‚¹ç­‰&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é¢è¯•&#34;&gt;é¢è¯•&lt;/h1&gt;
&lt;p&gt;é¢è¯•çš„æ—¶å€™åˆšå¼€å§‹è¿˜æ˜¯è›®ç´§å¼ çš„ï¼Œå½“æ—¶è€ƒå®˜å–Šæˆ‘çš„æ—¶å€™ï¼Œè®©æˆ‘ç™»é™†ä¹‹åæŸ¥çœ‹é¢˜ç›®ï¼Œå‡†å¤‡ä¸€ä¸‹ã€‚&lt;br&gt;
å½“æ—¶çœ‹äº†é¢˜ç›®ä¹‹åï¼Œä¹Ÿæ²¡æ‰“è‰ç¨¿ï¼Œå°±æƒ³è¿›è¡Œè‡ªæˆ‘ä»‹ç»ï¼Œè€ƒå®˜ç›´æ¥æ‰“æ–­ï¼Œè¯´æ—¶é—´è¿˜æ²¡åˆ°ï¼Œä¸ç”¨ç€æ€¥ï¼Œç­‰å¦ä¸€ä¸ªè€ƒå®˜è¿‡æ¥ä¹‹åå†å¼€å§‹ï¼Œè®©æˆ‘å‡†å¤‡ä¸€ä¸‹ã€‚&lt;br&gt;
è¿™æ®µæ—¶é—´è¿˜æ˜¯è›®é•¿çš„ï¼Œä¸ä»…æŠŠé¢˜ç›®çš„æçº²åˆ—åœ¨äº†çº¸ä¸Šï¼ŒåŒæ—¶ä¹ŸæŠŠè‡ªå·±è¿›è¡Œè‡ªæˆ‘ä»‹ç»çš„å¤§æ¦‚æƒ…å†µä¹Ÿè®°åœ¨äº†è®°äº‹æœ¬ä¸Šï¼Œè¿™æ—¶å€™å…¶å®å·²ç»ä¸é‚£ä¹ˆç´§å¼ äº†ï¼Œå› ä¸ºå¿ƒé‡Œæœ‰åº•äº†ï¼ŒçŸ¥é“è®²ä»€ä¹ˆã€è¯¥æ€ä¹ˆè®²äº†ã€‚&lt;br&gt;
è®²é¢˜ç›®çš„æ—¶å€™ï¼Œç©¿æ’ä¸€äº›æŠ€æœ¯å†å²èƒŒæ™¯ã€åº”ç”¨åœºæ™¯ã€å‘å±•å‰æ™¯å’Œå…¶ä»–åè®®çš„å…³è”ä¸åŒºåˆ«ï¼Œåœ¨æˆ‘è®²è¿™äº›çš„æ—¶å€™ï¼Œè€ƒå®˜ä»æ¥æ²¡æœ‰æ‰“æ–­è¿‡ï¼Œå°±æ˜¯æˆ‘åœ¨è®²æŠ€æœ¯ç»†èŠ‚çš„æ—¶å€™ï¼Œè€ƒå®˜çªç„¶æ‰“æ–­æˆ‘ï¼Œè¯´æ—¶é—´ä¸å¤Ÿäº†ï¼Œè¿½é—®å‡ ä¸ªé—®é¢˜ã€‚&lt;br&gt;
åº”å¯¹è¿½é—®çš„æ—¶å€™ï¼ŒåŸºæœ¬é¿å…è¿ä¸ªä¸¤ä¸ªé—®é¢˜è¯´è‡ªå·±ä¸çŸ¥é“ï¼Œå“ªæ€•ç¬¬äºŒä¸ªé—®é¢˜ä¸çŸ¥é“ï¼Œå¯ä»¥ç»•è¿‡å»ï¼Œè¿™ä¸ªå°±çœ‹ä¸´æ—¶åº”å˜äº†ï¼Œæˆ–è€…æŠŠä½ è‡ªå·±çŸ¥é“çš„è¯´å‡ºæ¥ï¼Œæˆ–è€…åˆ†æä¸€ä¸‹ï¼Œä¸è¦ç›´æ¥è¯´ç»“æœã€‚&lt;br&gt;
æœ€åä¸€ä¸ªé¢˜ï¼Œå¹¶æ²¡æœ‰è®²å®Œï¼Œä¸»è¦æ˜¯å‰ä¸¤ä¸ªé¢˜è®²çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè€ƒå®˜è¯´æ—¶é—´å¿«ç»“æŸï¼Œå¼€å§‹ç‚¹è¯„ã€‚&lt;br&gt;
æˆ‘é¢å¯¹çš„åä¸ºçš„é¢è¯•è€ƒå®˜æŒºä¸é”™çš„ï¼Œæé—®çš„æ—¶å€™ï¼Œæˆ‘è¯´ä¸ä¼šï¼Œè€ƒå®˜ä¹Ÿä¸ä¼šè¿›è¡Œç©·è¿½çŒ›æ‰“ï¼Œæœ‰çš„æ—¶å€™è¿˜ä¼šè¿›è¡Œé€‚å½“çš„å¼•å¯¼ï¼Œå½“ç„¶æœ‰çš„æ—¶å€™ä¹Ÿä¼šè¯•æ¢ä¸€ä¸‹ä½ å¯¹çŸ¥è¯†çš„æŒæ¡æ˜¯å¦ç‰¢å›ºï¼Œè¿™æ—¶å€™åªéœ€è¦æ–©é’‰æˆªè·Œçš„å‘Šè¯‰è€ƒå®˜ï¼Œâ€œæˆ‘è®°å¾—æ˜¯è¿™æ ·çš„â€ï¼Œä¸è¦çŠ¹è±«ã€‚&lt;/p&gt;
">HCIE_2021.04.14_æ·±åœ³é¢è¯•ï¼ˆè¿½åŠ å¤‡è€ƒå’Œä¸ªäººé¢è¯•ç»éªŒï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/lab-he-zhui-wen-bu-chong/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8C%E7%82%B9%E5%8F%8C%E5%90%91%E5%BC%95%E5%85%A5&#34;&gt;åŒç‚¹åŒå‘å¼•å…¥&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E7%9A%84%E7%90%86%E8%A7%A3&#34;&gt;è·¯ç”±å¼•å…¥çš„ç†è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è·¯ç”±å¼•å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E7%9A%84%E6%9C%AC%E8%B4%A8&#34;&gt;è·¯ç”±å¼•å…¥çš„æœ¬è´¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E5%BC%80%E9%94%80%E5%80%BC%E7%9A%84%E5%8F%98%E5%8C%96&#34;&gt;è·¯ç”±å¼•å…¥éœ€è¦æ³¨æ„å¼€é”€å€¼çš„å˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%B2%E6%B3%951%E6%8E%A8%E8%8D%90%E5%8F%8C%E7%82%B9%E5%8F%8C%E5%90%91%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;è®²æ³•1ï¼ˆæ¨èï¼‰ï¼šåŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%9C%A8r1%E4%B8%8A%E5%AE%9E%E6%96%BD%E5%8F%8C%E5%90%91%E5%BC%95%E5%85%A5&#34;&gt;1. åœ¨R1ä¸Šå®æ–½åŒå‘å¼•å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%9C%A8r2%E4%B8%8A%E5%AE%9E%E6%96%BD%E5%8F%8C%E7%82%B9%E5%8F%8C%E5%90%91%E5%BC%95%E5%85%A5&#34;&gt;2. åœ¨R2ä¸Šå®æ–½åŒç‚¹åŒå‘å¼•å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E8%A7%A3%E5%86%B3%E7%8E%AF%E8%B7%AF%E9%97%AE%E9%A2%98&#34;&gt;3. è§£å†³ç¯è·¯é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%B2%E6%B3%952%E5%8F%8C%E7%82%B9%E5%8F%8C%E5%90%91%E5%AD%98%E5%9C%A8%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;è®²æ³•2ï¼šåŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%AC%A1%E4%BC%98%E8%B7%AF%E5%BE%84&#34;&gt;1. æ¬¡ä¼˜è·¯å¾„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%8E%AF%E8%B7%AF&#34;&gt;2. ç¯è·¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E5%9B%9E%E7%81%8C%E5%AF%BC%E8%87%B4%E7%9A%84%E7%8E%AF%E8%B7%AF&#34;&gt;1. è·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E8%99%9A%E5%81%87%E7%8E%AF%E8%B7%AF%E5%8A%A8%E8%8D%A1%E7%8E%AF%E8%B7%AF&#34;&gt;2. è™šå‡ç¯è·¯ï¼ˆåŠ¨è¡ç¯è·¯ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E5%A4%A7%E5%8D%8F%E8%AE%AE%E5%AF%B9ipv6%E7%9A%84%E6%94%AF%E6%8C%81&#34;&gt;ä¸‰å¤§åè®®å¯¹IPv6çš„æ”¯æŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ospf&#34;&gt;ospf&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80&#34;&gt;1. ç»„æ’­åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%93%BE%E8%B7%AF&#34;&gt;2. é“¾è·¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%A4%9A%E5%AE%9E%E4%BE%8B%E5%A4%8D%E7%94%A8&#34;&gt;3. å¤šå®ä¾‹å¤ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E9%80%9A%E8%BF%87routerid%E5%94%AF%E4%B8%80%E6%A0%87%E8%AF%86%E9%82%BB%E5%B1%85&#34;&gt;4. é€šè¿‡RouterIDå”¯ä¸€æ ‡è¯†é‚»å±…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E8%AE%A4%E8%AF%81%E5%8F%98%E5%8C%96&#34;&gt;5. è®¤è¯å˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-stub%E5%8C%BA%E5%9F%9F%E7%9A%84%E6%94%AF%E6%8C%81&#34;&gt;6. stubåŒºåŸŸçš„æ”¯æŒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-%E6%8A%A5%E6%96%87%E5%A4%B4%E9%83%A8%E7%9A%84%E5%8F%98%E5%8C%96&#34;&gt;7. æŠ¥æ–‡å¤´éƒ¨çš„å˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8-1%E7%B1%BB%E5%92%8C2%E7%B1%BB&#34;&gt;8. 1ç±»å’Œ2ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#9-%E5%A2%9E%E5%8A%A02%E7%A7%8Dlsa&#34;&gt;9. å¢åŠ 2ç§LSA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis&#34;&gt;isis&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%96%B0%E5%A2%9E2%E7%A7%8Dtlv%E5%92%8C1%E4%B8%AAnlpid&#34;&gt;1. æ–°å¢2ç§TLVå’Œ1ä¸ªNLPID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-isis%E5%A4%9A%E6%8B%93%E6%89%91&#34;&gt;2. isiså¤šæ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp&#34;&gt;bgp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf-isis-bgp%E8%B7%AF%E7%94%B1%E6%92%A4%E9%94%80%E4%BB%A5%E5%8F%8A%E6%8A%A5%E6%96%87&#34;&gt;ospfã€isisã€bgpè·¯ç”±æ’¤é”€ä»¥åŠæŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ospf%E8%B7%AF%E7%94%B1%E6%92%A4%E9%94%80&#34;&gt;1. ospfè·¯ç”±æ’¤é”€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%9F%E5%86%851%E7%B1%BB%E5%92%8C2%E7%B1%BB&#34;&gt;åŸŸå†…ï¼ˆ1ç±»å’Œ2ç±»ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1%E7%B1%BBlsa%E7%9A%84%E6%92%A4%E9%94%80&#34;&gt;1ç±»lsaçš„æ’¤é”€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2%E7%B1%BBlsa%E7%9A%84%E6%92%A4%E9%94%80&#34;&gt;2ç±»lsaçš„æ’¤é”€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%9F%E9%97%B4%E5%92%8C%E5%9F%9F%E5%A4%963%E7%B1%BB-4%E7%B1%BB-5%E7%B1%BB%E5%92%8C7%E7%B1%BB&#34;&gt;åŸŸé—´å’ŒåŸŸå¤–ï¼ˆ3ç±»ã€4ç±»ã€5ç±»å’Œ7ç±»ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospfv3&#34;&gt;OSPFv3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-isis%E8%B7%AF%E7%94%B1%E6%92%A4%E9%94%80&#34;&gt;2. isisè·¯ç”±æ’¤é”€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%92%A4%E9%94%80%E5%86%85%E9%83%A8%E8%B7%AF%E7%94%B1&#34;&gt;æ’¤é”€å†…éƒ¨è·¯ç”±&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%92%A4%E9%94%80%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1&#34;&gt;æ’¤é”€å¤–éƒ¨è·¯ç”±&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-bgp%E8%B7%AF%E7%94%B1%E6%92%A4%E9%94%80&#34;&gt;3. bgpè·¯ç”±æ’¤é”€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv4%E5%92%8Cipv6%E6%8A%A5%E6%96%87%E5%A4%B4%E9%83%A8%E7%9A%84%E4%B8%8D%E5%90%8C&#34;&gt;IPv4å’ŒIPv6æŠ¥æ–‡å¤´éƒ¨çš„ä¸åŒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%92%8C%E8%B7%AF%E7%94%B1%E5%99%A8%E6%94%B6%E5%88%B0%E6%9C%AA%E7%9F%A5%E8%A1%A8%E9%A1%B9%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86&#34;&gt;ä¸‰å±‚äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BD%AC%E5%8F%91%E5%8E%9F%E7%90%86%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;è½¬å‘åŸç†çš„åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;1. è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BA%A4%E6%8D%A2%E6%9C%BA&#34;&gt;2. äº¤æ¢æœº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B%E5%8C%BA%E5%88%AB&#34;&gt;å¤„ç†æµç¨‹åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E5%99%A8-2&#34;&gt;1. è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BA%A4%E6%8D%A2%E6%9C%BA-2&#34;&gt;2. äº¤æ¢æœº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E4%BD%95%E5%8C%BA%E5%88%AB%E5%8D%95%E6%92%AD%E8%BF%98%E6%98%AF%E7%BB%84%E6%92%AD&#34;&gt;å¦‚ä½•åŒºåˆ«å•æ’­è¿˜æ˜¯ç»„æ’­ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%AA%E7%9F%A5%E5%8D%95%E6%92%AD%E5%B8%A7%E5%92%8C%E5%B9%BF%E6%92%AD%E5%B8%A7%E6%B3%9B%E6%B4%AA%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;æœªçŸ¥å•æ’­å¸§å’Œå¹¿æ’­å¸§æ³›æ´ªçš„åŒºåˆ«ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%8C%E5%B1%82%E5%B9%BF%E6%92%AD%E5%92%8C%E4%B8%89%E5%B1%82%E5%B9%BF%E6%92%AD%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;äºŒå±‚å¹¿æ’­å’Œä¸‰å±‚å¹¿æ’­çš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E7%9A%84%E8%A1%8C%E4%B8%BA&#34;&gt;äº¤æ¢æœºå¤„ç†æ•°æ®çš„è¡Œä¸ºï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%92%8C%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%B5%81%E9%87%8F%E6%95%B4%E5%BD%A2%E5%87%BA%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„æµé‡æ•´å½¢å‡ºæ¥å£çš„åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E5%99%A8%E6%95%B4%E5%BD%A2&#34;&gt;1. è·¯ç”±å™¨æ•´å½¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BA%A4%E6%8D%A2%E6%9C%BA%E6%95%B4%E5%BD%A2&#34;&gt;2. äº¤æ¢æœºæ•´å½¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;åŒç‚¹åŒå‘å¼•å…¥&#34;&gt;åŒç‚¹åŒå‘å¼•å…¥&lt;/h1&gt;
&lt;h2 id=&#34;è·¯ç”±å¼•å…¥çš„ç†è§£&#34;&gt;è·¯ç”±å¼•å…¥çš„ç†è§£&lt;/h2&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è·¯ç”±å¼•å…¥&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è·¯ç”±å¼•å…¥&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä¸ºäº†è®©å…¶ä»–è®¾å¤‡é€šè¿‡æœ¬è®¾å¤‡è®¿é—®åˆ°å¼•å…¥çš„è·¯ç”±&lt;/code&gt;&lt;br&gt;
ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²ä¸åŒè·¯ç”±åè®®çš„æœºæ„åˆå¹¶ï¼Œä¸åŒçš„ç½‘ç»œä½¿ç”¨ä¸åŒçš„åè®®ï¼Œå¹¶ä¸”è¿™äº›ç½‘ç»œéœ€è¦å…±äº«è·¯ç”±ä¿¡æ¯ï¼Œæ­¤æ—¶éœ€è¦è¿›è¡Œè·¯ç”±å¼•å…¥&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨ä¸åŒå‚å•†çš„åè®®ã€åŒä¸€è®¾å¤‡åŒä¸€åè®®ä½†ä¸åŒè¿›ç¨‹çš„é…ç½®&lt;/li&gt;
&lt;li&gt;ç½‘ç»œåè®®çš„é™åˆ¶ï¼Œæ¯”å¦‚ä½¿ç”¨æ‹¨å·é“¾è·¯è¿æ¥ä¸¤ä¸ªISISç½‘ç»œï¼Œè€Œåœ¨æ‹¨å·é“¾è·¯ä¸Šæ˜¯ä¸é€‚åˆè¿è¡ŒISISåè®®çš„ï¼›éœ€è¦é…ç½®é™æ€è·¯ç”±ï¼Œç„¶åå°†é™æ€è·¯ç”±å¼•å…¥ISIS&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è·¯ç”±å¼•å…¥çš„æœ¬è´¨&#34;&gt;è·¯ç”±å¼•å…¥çš„æœ¬è´¨&lt;/h3&gt;
&lt;p&gt;æŠŠå…¶ä»–åè®®ï¼ˆæˆ–è€…åŒä¸€åè®®ä¸åŒè¿›ç¨‹ï¼‰å­¦ä¹ åˆ°çš„è·¯ç”±è¡¨ï¼Œä»¥åŠè¿è¡Œè¯¥åè®®çš„ç›´è¿å¼•è¿›åˆ°æœ¬åè®®çš„æ•°æ®åº“ã€‚&lt;br&gt;
ä¾‹å¦‚å°†OSPFçš„è·¯ç”±å¼•å…¥RIPï¼Œä¼šå°†ä¸‹é¢ä¸¤æ¡å‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰çš„OSPFçš„è·¯ç”±å…¨éƒ¨å¼•å…¥RIPï¼š&lt;code&gt;dis ip rou pro ospf(å¯¹åº”ç¬¬ä¸€å¥è¯)&lt;/code&gt;å’Œ&lt;code&gt;dis ospf int(å¯¹åº”ç¬¬äºŒå¥è¯)&lt;/code&gt;ï¼Œ&lt;code&gt;å³å°†ospfåè®®ä¼˜å…ˆçš„è·¯ç”±å’Œå®£å‘Šè¿›ospfçš„è·¯ç”±éƒ½å¼•å…¥åˆ°ripä¸­&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;è·¯ç”±å¼•å…¥éœ€è¦æ³¨æ„å¼€é”€å€¼çš„å˜åŒ–&#34;&gt;è·¯ç”±å¼•å…¥éœ€è¦æ³¨æ„å¼€é”€å€¼çš„å˜åŒ–&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¼•å…¥OSPFæˆ–è€…ISISè·¯ç”±åˆ°RIPæ—¶ï¼Œå¦‚æœä¸æŒ‡å®šCOSTï¼Œ&lt;strong&gt;å¼€é”€å€¼é»˜è®¤æ˜¯1&lt;/strong&gt;ã€‚åº”è¯¥æ‰‹å·¥é…ç½®å¼€é”€å€¼ä»¥åæ˜ ç½‘ç»œçš„çœŸå®æ‹“æ‰‘&lt;/li&gt;
&lt;li&gt;å¼•å…¥OSPFé»˜è®¤ä¸º1&lt;/li&gt;
&lt;li&gt;å¼•å…¥ISISï¼Œçª„åº¦é‡æ—¶é»˜è®¤ä¸º64ï¼Œå®½åº¦é‡ä¸º10ï¼Œå³å¼•å…¥ISISè·¯ç”±ä¹‹å‰ä¸€èˆ¬éœ€è¦å…ˆæ›´æ”¹ISISçš„costç±»å‹
&lt;ol&gt;
&lt;li&gt;L1ã€L2åŒºåŸŸéƒ½æ”¯æŒå¤–éƒ¨è·¯ç”±ï¼Œä½†å¤–éƒ¨è·¯ç”±é»˜è®¤æ˜¯ä»L2çš„æ–¹å¼å¼•å…¥è¿›æ¥çš„ï¼Œè·¯ç”±costå€¼=æŒ‡å®šå¼•å…¥è·¯ç”±çš„å¼€é”€å€¼(å‚æ•°costçš„å€¼ï¼Œç¼ºçœå€¼ä¸º0)+64&lt;/li&gt;
&lt;li&gt;å¦‚æœè¦åœ¨L1åŒºåŸŸå¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œç”±äºé»˜è®¤ä¸ºå¼•å…¥è·¯ç”±åˆ°Level-2è·¯ç”±è¡¨ä¸­ï¼Œæ‰€ä»¥å¿…é¡»è¦åŠ level-1å‚æ•°ï¼Œæ‰èƒ½å¼•å…¥æˆåŠŸ&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±å¼•å…¥ä¹‹åï¼Œæ¯è¿›è¿‡ä¸€è·³ï¼Œcostå€¼åŠ 10&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®²æ³•1æ¨èåŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&#34;&gt;è®²æ³•1ï¼ˆæ¨èï¼‰ï¼šåŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1618065087057.png&#34; alt=&#34;è®²æ³•2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1ã€R2ã€R3ã€R5è¿è¡ŒOSPFåè®®ï¼ŒåŒºåŸŸIDä¸º0&lt;br&gt;
R1ã€R2ã€R4ä¹‹é—´è¿è¡ŒIS-ISåè®®ï¼Œä½¿ç”¨Level-2åŒºåŸŸ&lt;br&gt;
AR5å°†è‡ªå·±çš„Loopback0æ¥å£åšä¸ºå¤–éƒ¨è·¯ç”±å¼•å…¥åˆ°OSPFåŒºåŸŸä¸­&lt;br&gt;
&lt;code&gt;åœ¨ç°ç½‘ä¸­ï¼Œåšå®æ–½çš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯åšå®Œä¸€å°è®¾å¤‡å†å»åšå¦å¤–ä¸€å°è®¾å¤‡çš„å®æ–½&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-åœ¨r1ä¸Šå®æ–½åŒå‘å¼•å…¥&#34;&gt;1. åœ¨R1ä¸Šå®æ–½åŒå‘å¼•å…¥&lt;/h3&gt;
&lt;p&gt;R1ä¸Šå®æ–½åŒç‚¹åŒå‘å¼•å…¥ä¹‹åï¼ŒR2ä¼šä»ospfåŒºåŸŸå’ŒisisåŒºåŸŸåŒæ—¶æ”¶åˆ°5.5.5.5çš„è·¯ç”±ï¼Œä¸åŒåè®®ä¹‹é—´ï¼Œé¦–å…ˆæ¯”è¾ƒçš„æ˜¯å¤–éƒ¨ä¼˜å…ˆçº§ï¼Œospfå¤–éƒ¨è·¯ç”±çš„å¤–éƒ¨ä¼˜å…ˆçº§ä¸º150ï¼Œisiså¤–éƒ¨è·¯ç”±çš„å¤–éƒ¨ä¼˜å…ˆçº§ä¸º10ï¼Œæ‰€ä»¥R2é€‰æ‹©isisåŒºåŸŸçš„è·¯ç”±æ”¾å…¥è·¯ç”±è¡¨ä¸­ï¼Œå³R2è®¿é—®5.5.5.5çš„è·¯ç”±ä¸ºR2--&amp;gt;R4--&amp;gt;R1--&amp;gt;R3--&amp;gt;R5ï¼Œå‡ºç°äº†æ¬¡ä¼˜è·¯å¾„çš„é—®é¢˜&lt;/p&gt;
&lt;h3 id=&#34;2-åœ¨r2ä¸Šå®æ–½åŒç‚¹åŒå‘å¼•å…¥&#34;&gt;2. åœ¨R2ä¸Šå®æ–½åŒç‚¹åŒå‘å¼•å…¥&lt;/h3&gt;
&lt;p&gt;åœ¨R2å®æ–½åŒç‚¹åŒå‘å¼•å…¥ï¼Œç”±äºR2ä¸Šå…³äº5.5.5.5çš„è·¯ç”±å·²ç»ä¼˜é€‰äº†isisåŒºåŸŸçš„è·¯ç”±ï¼Œæ‰€ä»¥ä»ospfåŒºåŸŸå¼•å…¥isisåŒºåŸŸçš„è·¯ç”±ä¸­å·²ç»ä¸å†åŒ…å«5.5.5.5çš„è·¯ç”±&lt;br&gt;
ä½†æ˜¯ä»isiså¼•å…¥ospfåŒºåŸŸçš„è·¯ç”±ä¸­è¿˜å­˜åœ¨5.5.5.5çš„è·¯ç”±ï¼Œå³æ­¤æ—¶é’ˆå¯¹5.5.5.5è¿™æ¡è·¯ç”±æ¥è¯´ï¼Œ&lt;strong&gt;åŒç‚¹åŒå‘ä¸­åªæœ‰isisåŒºåŸŸè·¯ç”±åˆ°ospfåŒºåŸŸç”Ÿæ•ˆäº†&lt;/strong&gt;&lt;br&gt;
åœ¨AR3ä¸Šï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœAR5ä¸AR3ä¹‹é—´æ˜¯ä»¥å¤ªé“¾è·¯ï¼Œæ­¤æ—¶AR3ä¸Šé’ˆå¯¹5.5.5.5çš„è·¯ç”±å‡ºç°äº†è´Ÿè½½ï¼Œä¸€æ¡æŒ‡å‘R5ï¼Œä¸€æ¡æŒ‡å‘R2&lt;/li&gt;
&lt;li&gt;å¦‚æœAR5ä¸AR3ä¹‹é—´æ˜¯P2Pé“¾è·¯ï¼Œé‚£ä¹ˆAR3çš„è·¯ç”±è¡¨ä¸­åªæœ‰ä¸€æ¡æŒ‡å‘R2çš„è·¯ç”±ï¼Œå› ä¸ºospfå¼•å…¥å¤–éƒ¨è·¯ç”±é»˜è®¤æ˜¯type2ï¼ŒOE2çš„è·¯ç”±å…ˆæ¯”è¾ƒå¤–éƒ¨costï¼Œå†æ¯”è¾ƒå†…éƒ¨costï¼Œå¤–éƒ¨costéƒ½ä¸º1ï¼Œå†…éƒ¨costè®¡ç®—æ–¹å¼æ˜¯&lt;code&gt;100M/æ¥å£å¸¦å®½&lt;/code&gt;ï¼ŒAR3å’ŒAR2ä¹‹é—´å¸¦å®½å¤§äº100Måˆ™costä¸º1ï¼ŒAR3ä¸AR5ä¹‹é—´æ˜¯ç”¨çš„1Mçš„ä¸²å£çº¿ï¼Œåˆ™costä¸º100ï¼Œé‚£ä¹ˆR3ä¼šä¼˜é€‰R2&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;AR3ä¸Šé’ˆå¯¹5.5.5.5è·¯ç”±ï¼Œä¸ç®¡æ˜¯è´Ÿè½½è¿˜æ˜¯ä¼˜é€‰R2ï¼Œåœ¨R2è®¿é—®R5æ—¶çš„è·¯ç”±ä¸ºR2--&amp;gt;R4--&amp;gt;R1--&amp;gt;R3--&amp;gt;R2ï¼Œå‡ºç°ç¯è·¯é—®é¢˜&lt;/p&gt;
&lt;h3 id=&#34;3-è§£å†³ç¯è·¯é—®é¢˜&#34;&gt;3. è§£å†³ç¯è·¯é—®é¢˜&lt;/h3&gt;
&lt;p&gt;åªåœ¨R1ä¸Šå®æ–½åŒç‚¹åŒå‘æ—¶å‡ºç°æ¬¡ä¼˜è·¯å¾„ï¼Œç„¶ååœ¨R2ä¸Šå†å®æ–½åŒç‚¹åŒå‘å¼•å…¥ï¼Œåˆ™ä¼šå‡ºç°ç¯è·¯é—®é¢˜ï¼Œç©¶å…¶åŸå› æ˜¯åœ¨isisåŒºåŸŸä¸­å·²ç»å­˜åœ¨5.5.5.5è¿™æ¡è·¯ç”±ï¼Œåœ¨AR2å®æ–½åŒç‚¹åŒå‘ä¹‹åè·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯ã€‚æ­¤æ—¶ä¸ä»…éœ€è¦è§£å†³æ¬¡ä¼˜è·¯å¾„çš„é—®é¢˜ï¼Œè¿˜éœ€è¦è§£å†³è·¯ç”±å›çŒçš„é—®é¢˜&lt;br&gt;
æ‰©å±•æ€§æ¯”è¾ƒå¥½çš„æ–¹å¼æ˜¯é€šè¿‡æ‰“tagæ¥è§£å†³è·¯ç”±å›çŒçš„é—®é¢˜ï¼Œé€šè¿‡ä¿®æ”¹ospfå¤–éƒ¨è·¯ç”±çš„å¤–éƒ¨ä¼˜å…ˆçº§çš„æ–¹å¼è§£å†³æ¬¡ä¼˜è·¯å¾„çš„é—®é¢˜ï¼Œä¿®æ”¹å¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§çš„æ–¹å¼æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰çš„å¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§éƒ½ä¿®æ”¹ä¸º10ï¼ˆå°äº15å³å¯ï¼‰ã€‚è¿™ç§æ–¹å¼ä¸‹ï¼Œå¦‚æœisisåŒºåŸŸå¼•å…¥å¤–éƒ¨è·¯ç”±ï¼ŒåŒæ ·ä¼šå‡ºç°æ¬¡ä¼˜è·¯å¾„çš„é—®é¢˜ï¼ŒåŸå› å’ŒospfåŒºåŸŸå‡ºç°æ¬¡ä¼˜çš„åŸå› ç›¸åŒ&lt;/li&gt;
&lt;li&gt;åªæ˜¯é’ˆå¯¹æ­¤æ¡å¤–éƒ¨è·¯ç”±5.5.5.5ä¿®æ”¹ä¼˜å…ˆçº§ï¼Œä½†å¦‚æœåœ¨å¼•å…¥å¤–éƒ¨è·¯ç”±6.6.6.6/32ï¼Œè¿˜ä¼šå‡ºç°åŒæ ·çš„é—®é¢˜ï¼Œæ‰©å±•æ€§å¾ˆå·®&lt;/li&gt;
&lt;li&gt;åœ¨å¼•å…¥å¤–éƒ¨è·¯ç”±5.5.5.5/32çš„æ—¶å€™æ‰“ä¸Štagï¼Œä¾‹å¦‚tag5ï¼Œé’ˆå¯¹è¿™ä¸ªtagä¿®æ”¹ospfçš„å¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§ï¼Œè¿™ç§æ–¹æ¡ˆæ‰©å±•æ€§æ¯”è¾ƒå¥½ï¼Œå¦‚æœå¼•å…¥å…¶ä»–å¤–éƒ¨è·¯ç”±æ—¶ï¼Œåªéœ€è¦æ‰“ä¸Štag5å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R1ä¸Šå®æ–½æ­¥éª¤å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;ospfå¼•å…¥isisçš„è·¯ç”±æ‰“ä¸Štag100ï¼ŒåŒæ—¶denyæ‰tag400&lt;/li&gt;
&lt;li&gt;isiså¼•å…¥ospfçš„è·¯ç”±æ‰“ä¸Štag200ï¼ŒåŒæ—¶denyæ‰tag300&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨router-policyé’ˆå¯¹tag5çš„è·¯ç”±ä¿®æ”¹ä¼˜å…ˆçº§ä¸º10&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;R2ä¸Šå®æ–½æ­¥éª¤å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;ospfå¼•å…¥isisçš„è·¯ç”±æ‰“ä¸Štag300ï¼ŒåŒæ—¶denyæ‰tag200&lt;/li&gt;
&lt;li&gt;isiså¼•å…¥ospfçš„è·¯ç”±æ‰“ä¸Štag400ï¼ŒåŒæ—¶denyæ‰tag100&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨router-policyé’ˆå¯¹tag5çš„è·¯ç”±ä¿®æ”¹ä¼˜å…ˆçº§ä¸º10&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®²æ³•2åŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&#34;&gt;è®²æ³•2ï¼šåŒç‚¹åŒå‘å­˜åœ¨çš„é—®é¢˜&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615476644699.png&#34; alt=&#34;è®²æ³•2&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1-æ¬¡ä¼˜è·¯å¾„&#34;&gt;1. æ¬¡ä¼˜è·¯å¾„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;R1å°†ç½‘æ®µ10.0.0.0/24å¼•å…¥åˆ°OSPF&lt;/li&gt;
&lt;li&gt;R2/R3åˆ†åˆ«å°†è¯¥è·¯ç”±å¼•å…¥ISISï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼ŒR2/R3 å°†è·¯ç”±å¼•å…¥ISISä¼šæœ‰å…ˆåï¼Œå‡è®¾R3å…ˆäºR2å°†è¯¥è·¯ç”±å¼•å…¥åˆ°ISIS&lt;/li&gt;
&lt;li&gt;é‚£ä¹ˆR2å°±ä¼šåŒæ—¶ä»OSPFå’ŒISISå­¦åˆ°10.0.0.0/24çš„è·¯ç”±ï¼Œäºæ˜¯R2ä¼šæ ¹æ®è·¯ç”±åè®®çš„ä¼˜å…ˆçº§ä¼˜é€‰é€šè¿‡ ISISå­¦åˆ°çš„è·¯ç”±ï¼ˆOSPFçš„å¤–éƒ¨è·¯ç”±ä¼˜å…ˆçº§ä¸º150ï¼ŒISISçš„è·¯ç”±ä¼˜å…ˆçº§ä¸º15ï¼‰&lt;/li&gt;
&lt;li&gt;äºæ˜¯ï¼Œå½“R2è®¿é—®10.0.0.0/24ç½‘æ®µæ—¶ï¼Œä¼šä½¿ç”¨R4-R3-R1è¿™æ¡æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é¿å…å‡ºç°è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨è·¯ç”±å™¨R2ä¸Šä½¿ç”¨route-policyä¿®æ”¹OSPF ASEè·¯ç”±çš„ä¼˜å…ˆçº§ï¼Œ&lt;code&gt;å³åœ¨OSPFè¿›ç¨‹ä¸‹ä¿®æ”¹å¤–éƒ¨è·¯ç”±ä¼˜å…ˆçº§å°äº15å³å¯&lt;/code&gt;ï¼Œä½¿å¾—10.0.0.0/24ä¼˜å…ˆä»ospfå­¦åˆ°ï¼Œä½¿å¾—R2é€‰æ‹©æ­£ç¡®çš„è·¯ç”±ã€‚ä½†æ˜¯å…·ä½“çš„ä¿®æ”¹æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰çš„å¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§éƒ½ä¿®æ”¹ä¸º14ï¼Œè¿™æ ·isisä¼šå‡ºç°æ¬¡ä¼˜ï¼ŒåŸå› å’ŒospfåŒºåŸŸå‡ºç°æ¬¡ä¼˜çš„åŸå› ç›¸åŒ&lt;/li&gt;
&lt;li&gt;åªæ˜¯é’ˆå¯¹æ­¤æ¡å¤–éƒ¨è·¯ç”±10.0.0.0/24ä¿®æ”¹ï¼Œä½†å¦‚æœåœ¨å¼•å…¥å¤–éƒ¨è·¯ç”±20.0.0.0/24ï¼Œè¿˜ä¼šå‡ºç°åŒæ ·çš„é—®é¢˜ï¼Œæ‰©å±•æ€§å¾ˆå·®&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯ï¼Œåœ¨å¼•å…¥å¤–éƒ¨è·¯ç”±10.0.0.0/24çš„æ—¶å€™æ‰“ä¸Štagï¼Œé’ˆå¯¹è¿™ä¸ªtagä¿®æ”¹ospfçš„å¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-ç¯è·¯&#34;&gt;2. ç¯è·¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ç¯è·¯æ˜¯ç”±æ¬¡ä¼˜è·¯å¾„å¯¼è‡´ï¼Œå³å…ˆå‡ºç°æ¬¡ä¼˜è·¯å¾„ï¼Œç„¶åå†å¯¼è‡´ç¯è·¯çš„å‡ºç°&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-è·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯&#34;&gt;1. è·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å› ä¸ºR2å’ŒR3è®¤ä¸ºisisçš„å¤–éƒ¨è·¯ç”±æ›´ä¼˜ï¼Œå¼•å…¥ospfåŒºåŸŸåï¼Œä¼šè§¦å‘R1çš„é€‰è·¯&lt;/li&gt;
&lt;li&gt;å¼•å…¥æ—¶é»˜è®¤çš„å¤–éƒ¨è·¯ç”±æ ¼å¼type2ï¼Œæ ¹æ®é€‰è·¯åŸåˆ™ï¼ŒO&amp;gt;OIA&amp;gt;OE1&amp;gt;OE2ï¼ŒOE2ä¼šå…ˆæ¯”è¾ƒå¤–éƒ¨costï¼Œå†æ¯”è¾ƒå†…éƒ¨costã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸ºå¤–éƒ¨costé»˜è®¤æ˜¯1ï¼Œæ‰€ä»¥å¼€å§‹æ¯”è¾ƒå†…éƒ¨costï¼ŒR1å¼•å…¥å¤–éƒ¨è·¯ç”±èµ°çš„æ˜¯p2pï¼Œcostä¸º48ï¼Œè€ŒR1åˆ°R2æ˜¯ä»¥å¤ªç½‘ï¼Œå…¶costä¸º1ï¼Œå› æ­¤R1é€‰æ‹©èµ°R2&lt;/li&gt;
&lt;li&gt;å½¢æˆç¯è·¯ï¼ŒR2è®¿é—®å¤–éƒ¨è·¯ç”±æ—¶çš„è·¯ç”±æ—¶R2--R4--R3--R1--R2&lt;/li&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼š&lt;br&gt;
åœ¨R2å’ŒR3ä¸Šé˜²æ­¢è·¯ç”±å›çŒï¼Œé€šè¿‡å…ˆdenyå†æ‰“tagçš„æ–¹å¼ï¼Œå³ä½¿ç”¨4ä¸ªtagå³å¯è§£å†³è·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯ï¼Œåœ¨labå®éªŒä¸­åšè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-è™šå‡ç¯è·¯åŠ¨è¡ç¯è·¯&#34;&gt;2. è™šå‡ç¯è·¯ï¼ˆåŠ¨è¡ç¯è·¯ï¼‰&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸æ˜¯é€šè¿‡æ‰“tagè§£å†³è·¯ç”±å›çŒå¯¼è‡´çš„ç¯è·¯ï¼Œè€Œæ˜¯é€šè¿‡ä¿®æ”¹ä¼˜å…ˆçº§çš„æ–¹å¼è§£å†³ï¼Œåˆ™ä¼šå‡ºç°è™šå‡ç¯è·¯çš„é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚R4çš„ç¯å›å£ä¸Šè·¯ç”±4.4.4.4/32é€šè¿‡import-routeæ–¹å¼å¼•å…¥åˆ°isisçš„ï¼Œæ­¤æ—¶å°†å…¶undoæ‰ï¼Œè¿™æ¡è·¯ç”±æ¶ˆå¤±ï¼Œé‚£ä¹ˆä»–ä¼šå‘é€ç”Ÿå­˜å‘¨æœŸä¸º0çš„LSPè¿›è¡Œæ’¤é”€ï¼Œå³æ¯’åŒ–LSP&lt;/li&gt;
&lt;li&gt;å‡è®¾R3å…ˆæ”¶åˆ°è¯¥LSPï¼Œå› ä¸ºR3ä¹Ÿèƒ½ä»ospfåŒºåŸŸå­¦åˆ°è¯¥è·¯ç”±ï¼Œä½†æ˜¯isisä¼˜å…ˆã€‚æ­¤æ—¶isisæ’¤é”€è¯¥ç½‘æ®µçš„è·¯ç”±ï¼Œé‚£ä¹ˆR3å†è®¿é—®4.4.4.4/32æ—¶ï¼Œä¼šé€‰æ‹©èµ°ospfåŒºåŸŸï¼Œå› ä¸ºæ²¡æœ‰é€šè¿‡æ‰“tagçš„æ–¹å¼æŠ‘åˆ¶è·¯ç”±å›çŒï¼Œå°±ä¼šå†æ¬¡å¼•å…¥isisï¼Œå¯¼è‡´R2ä¸Šä¼šå‡ºç°ä»¥ä¸‹è¡Œä¸ºï¼š
&lt;ol&gt;
&lt;li&gt;æ”¶åˆ°isisåŒºåŸŸçš„æ¯’åŒ–LSPï¼Œä¼šæ’¤é”€æ‰ä¹‹å‰å¼•å…¥ospfåŒºåŸŸçš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;ç„¶ååˆæ”¶åˆ°R3ç»™çš„æ–°çš„4.4.4.4/32çš„è·¯ç”±ï¼Œä»¥ä¸ºè¯¥è·¯ç”±åˆæ¢å¤äº†ï¼Œåˆå¼•å…¥ospf&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åŒç†ï¼ŒR3ä¸Šä¹Ÿæœ‰ç›¸åŒçš„é—®é¢˜ï¼šæœ‰æ—¶ä¼šæ”¶åˆ°R2çš„æ’¤é”€è¯¥è·¯ç”±çš„LSPï¼Œæœ‰æ—¶åˆä¼šæ”¶åˆ°R2èƒ½åˆ°è¾¾è¯¥è·¯ç”±çš„LSP&lt;/li&gt;
&lt;li&gt;å› æ­¤äº§ç”Ÿäº†åŠ¨è¡ç¯è·¯ï¼Œä¹Ÿå«è™šå‡ç¯è·¯&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸‰å¤§åè®®å¯¹ipv6çš„æ”¯æŒ&#34;&gt;ä¸‰å¤§åè®®å¯¹IPv6çš„æ”¯æŒ&lt;/h1&gt;
&lt;h2 id=&#34;ospf&#34;&gt;ospf&lt;/h2&gt;
&lt;p&gt;ospfv3åœ¨ospfv2åŸºç¡€ä¸Šè¿›è¡Œäº†ä¿®æ”¹ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è·¯ç”±åè®®ï¼Œä½†åè®®å·ä»ç„¶æ˜¯89ï¼Œåœ¨IPv6çš„Next Headerå­—æ®µè¿›è¡Œæ ‡è¯†&lt;/p&gt;
&lt;h3 id=&#34;1-ç»„æ’­åœ°å€&#34;&gt;1. ç»„æ’­åœ°å€&lt;/h3&gt;
&lt;p&gt;ospfv3ä»¥ç»„æ’­åœ°å€çš„æ–¹å¼å‘é€åè®®æŠ¥æ–‡ï¼Œå¹¶ä¸”ipv6 hop limitä¸º1ï¼›è™šè¿æ¥åˆ™é€šè¿‡å•æ’­å‘é€æ›´æ–°ã€‚&lt;br&gt;
åœ¨ospfv2ä¸­æ‰€æœ‰è·¯ç”±å™¨ç›‘å¬çš„åœ°å€ä¸º224.0.0.5ï¼Œé‚£ä¹ˆåœ¨IPv6ä¸­å¯¹åº”çš„é“¾è·¯æœ¬åœ°åœ°å€ä¸ºFF02::5ï¼›&lt;br&gt;
åœ¨ospfv2ä¸­DRç›‘å¬çš„åœ°å€ä¸º224.0.0.6ï¼Œé‚£ä¹ˆåœ¨IPv6ä¸­å¯¹åº”çš„é“¾è·¯æœ¬åœ°åœ°å€ä¸ºFF02::6ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-é“¾è·¯&#34;&gt;2. é“¾è·¯&lt;/h3&gt;
&lt;p&gt;IPv6ä¸­é‡ç‚¹å¼ºè°ƒé“¾è·¯çš„æ¦‚å¿µï¼Œåœ¨IPv6ä¸­ï¼Œä¸€ä¸ªé“¾è·¯ä¸Šå¯ä»¥åˆ†é…å¤šä¸ªIPå­ç½‘ï¼Œä¹Ÿå°±æ˜¯IPv6å‰ç¼€ï¼ŒåŒä¸€ä¸ªé“¾è·¯ä¸Šçš„ä¸¤ä¸ªèŠ‚ç‚¹å³ä½¿ä¸å…·æœ‰ç›¸åŒçš„IPv6å‰ç¼€ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡è¿™ä¸ªé“¾è·¯é€šä¿¡ï¼Œè¿™ç‚¹æå¤§çš„æ”¹å˜äº†ospfçš„è¡Œä¸ºã€‚&lt;br&gt;
opsfv3æ˜¯åŸºäºé“¾è·¯æ¥è¿è¡Œçš„ï¼Œospfv3çš„è·¯ç”±å™¨ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€ä½œä¸ºå‘é€æŠ¥æ–‡çš„æºåœ°å€ï¼Œä¸€ä¸ªè·¯ç”±å™¨å¯ä»¥å­¦ä¹ åˆ°è¿™ä¸ªé“¾è·¯ä¸Šç›¸è¿çš„æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨çš„é“¾è·¯æœ¬åœ°åœ°å€ï¼Œå¹¶ä½¿ç”¨è¿™äº›é“¾è·¯æœ¬åœ°åœ°å€ä½œä¸ºä¸‹ä¸€è·³æ¥è½¬å‘æŠ¥æ–‡ï¼Œè¿™æ ·åšæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿä¸€æ˜¯ä¸éœ€è¦é…ç½®IPv6å…¨å±€åœ°å€å°±å¯ä»¥å¾—åˆ°ospfv3æ‹“æ‰‘ï¼Œå®ç°æ‹“æ‰‘ä¸åœ°å€çš„åˆ†ç¦»ï¼›äºŒæ˜¯åœ¨æœ¬é“¾è·¯ä¸Šæ³›æ´ªçš„æŠ¥æ–‡ä¸ä¼šä¼ åˆ°å…¶ä»–é“¾è·¯ä¸Šï¼Œä»è€Œå‡å°‘æŠ¥æ–‡ä¸å¿…è¦çš„æ³›æ´ªï¼ŒèŠ‚çœå¸¦å®½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-å¤šå®ä¾‹å¤ç”¨&#34;&gt;3. å¤šå®ä¾‹å¤ç”¨&lt;/h3&gt;
&lt;p&gt;ospfv3æ”¯æŒåœ¨åŒä¸€é“¾è·¯ä¸Šè¿è¡Œå¤šä¸ªå®ä¾‹ï¼Œå®ç°é“¾è·¯å¤ç”¨ï¼ŒèŠ‚çº¦æˆæœ¬ã€‚&lt;br&gt;
ä¸€ä¸ªospfv3ç‰©ç†æ¥å£å’Œå¤šä¸ªå®ä¾‹ç»‘å®šï¼Œå¹¶ç”¨ä¸åŒçš„å®ä¾‹æ ‡è¯†ï¼ˆInstance IDï¼‰åŒºåˆ†ï¼Œå³ospfv3çš„å•ä¸ªé“¾è·¯æ”¯æŒè¿è¡Œå¤šä¸ªospfv3å®ä¾‹ã€‚&lt;br&gt;
è¿™äº›è¿è¡Œåœ¨åŒä¸€ç‰©ç†é“¾è·¯ä¸Šçš„å¤šä¸ªospfv3å®ä¾‹ï¼Œåˆ†åˆ«ä¸é“¾è·¯å¯¹ç«¯è®¾å¤‡å»ºç«‹é‚»å±…ä»¥åŠå‘é€æŠ¥æ–‡ï¼Œäº’ä¸å¹²æ‰°ï¼Œå……åˆ†å…±äº«åŒä¸€é“¾è·¯èµ„æºã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615623930020.png&#34; alt=&#34;å¤šå®ä¾‹å¤ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é€šè¿‡Instance IDå¯ä»¥å®ç°R2å’ŒR3å»ºç«‹ospfv3é‚»å±…å…³ç³»ï¼ŒR1å’ŒR4ä¹Ÿå»ºç«‹ospfv3é‚»å±…å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-é€šè¿‡routeridå”¯ä¸€æ ‡è¯†é‚»å±…&#34;&gt;4. é€šè¿‡RouterIDå”¯ä¸€æ ‡è¯†é‚»å±…&lt;/h3&gt;
&lt;p&gt;ospfv2ä¸­ï¼Œå½“ç½‘ç»œç±»å‹ä¸ºç‚¹åˆ°ç‚¹æˆ–è€…è™šè¿æ¥æ—¶ï¼Œé€šè¿‡RouterIDæ¥æ ‡è¯†é‚»å±…ï¼Œä½†æ˜¯å½“ç½‘ç»œç±»å‹ä¸ºå¹¿æ’­æˆ–è€…NBMAæ—¶ï¼Œé€šè¿‡é‚»å±…æ¥å£çš„IPåœ°å€æ¥æ ‡è¯†é‚»å±…ã€‚&lt;br&gt;
ospfv3ä¸­å–æ¶ˆäº†è¿™ç§å¤æ‚çš„æ ‡è¯†é‚»å±…çš„æ–¹æ³•ï¼Œä¸è®ºä½•ç§ç½‘ç»œï¼Œç»Ÿä¸€é‡‡ç”¨RouterIDæ¥æ ‡è¯†é‚»å±…&lt;/p&gt;
&lt;h3 id=&#34;5-è®¤è¯å˜åŒ–&#34;&gt;5. è®¤è¯å˜åŒ–&lt;/h3&gt;
&lt;p&gt;ospfv3æŠ¥æ–‡å¤´ä¸­ä¸å†åŒ…å«è®¤è¯å­—æ®µï¼Œè€Œæ˜¯ä¾èµ–ipv6çš„æ‰©å±•è®¤è¯å¤´ï¼Œé€šè¿‡ipv6æä¾›çš„å®‰å…¨æœºåˆ¶æ¥ä¿è¯è‡ªèº«æŠ¥æ–‡çš„åˆæ³•æ€§ã€‚&lt;br&gt;
IPSECæœ‰ä¸¤ç§å®‰å…¨è®¤è¯æ–¹æ³•ï¼šAHå’ŒESPï¼ŒAHæ”¯æŒè®¤è¯ã€å®Œæ•´æ€§æ ¡éªŒã€é˜²æŠ¥æ–‡é‡æ”¾åŠŸèƒ½ï¼ŒESPåˆ™æ›´åŠ å¼ºå¤§ï¼Œé™¤äº†AHçš„å‰é¢å‡ æ ·åŠŸèƒ½ï¼ŒESPè¿˜æ”¯æŒåŠ å¯†åŠŸèƒ½&lt;br&gt;
è®¤è¯é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. è¿›ç¨‹æˆ–åŒºåŸŸè®¤è¯é…ç½®
authentication-mode hmac-sha256 key-id &amp;quot;keyidå­—ç¬¦ä¸²&amp;quot; plain &amp;quot;å¯†ç &amp;quot;
#    æˆ–è€…
authentication-mode hmac-sha256 key-id &amp;quot;keyidå­—ç¬¦ä¸²&amp;quot; cipher &amp;quot;å¯†ç &amp;quot;
# ä½¿ç”¨åŒºåŸŸéªŒè¯æ—¶ï¼Œä¸€ä¸ªåŒºåŸŸä¸­æ‰€æœ‰çš„è®¾å¤‡åœ¨è¯¥åŒºåŸŸä¸‹çš„éªŒè¯æ¨¡å¼å’Œå£ä»¤å¿…é¡»ä¸€è‡´

# 2. æ¥å£ä¸‹è®¤è¯ã€éœ€è¦ç»‘å®šå®ä¾‹IDã€‘
undo portswitch # æ¥å£ä¸‹é…ç½®è®¤è¯ï¼Œéœ€è¦å…ˆåˆ‡æ¢åˆ°ä¸‰å±‚
ospfv3 authentication-mode hmac-sha256 key-id &amp;quot;keyidå­—ç¬¦ä¸²&amp;quot; plain &amp;quot;å¯†ç &amp;quot; instance &amp;quot;InstanceID&amp;quot;
#    æˆ–è€…
ospfv3 authentication-mode hmac-sha256 key-id &amp;quot;keyidå­—ç¬¦ä¸²&amp;quot; cipher &amp;quot;å¯†ç &amp;quot; instance &amp;quot;InstanceID&amp;quot;
# æ¥å£éªŒè¯ä¼˜äºåŒºåŸŸéªŒè¯ï¼ŒåŒä¸€ç½‘æ®µçš„æ¥å£çš„éªŒè¯æ¨¡å¼å’Œå£ä»¤å¿…é¡»ç›¸åŒï¼Œä¸åŒç½‘æ®µå¯ä»¥ä¸åŒ
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-stubåŒºåŸŸçš„æ”¯æŒ&#34;&gt;6. stubåŒºåŸŸçš„æ”¯æŒ&lt;/h3&gt;
&lt;p&gt;ospfv3æ”¯æŒå¯¹æœªçŸ¥ç±»å‹LSAçš„æ³›æ´ªï¼Œä¸ºé˜²æ­¢å¤§é‡æœªçŸ¥ç±»å‹LSAæ³›æ´ªè¿›å…¥stubåŒºåŸŸï¼Œå¯¹äºå‘stubåŒºåŸŸæ³›æ´ªçš„æœªçŸ¥ç±»å‹LSAè¿›è¡Œäº†æ˜ç¡®è§„å®šï¼š&lt;code&gt;åªæœ‰å½“æœªçŸ¥ç±»å‹LSAçš„æ³›æ´ªèŒƒå›´æ˜¯åŒºåŸŸæˆ–é“¾è·¯ï¼Œå¹¶ä¸”Uæ¯”ç‰¹æ²¡æœ‰ç½®ä½æ—¶ï¼ŒæœªçŸ¥ç±»å‹LSAæ‰å¯ä»¥å‘stubåŒºåŸŸæ³›æ´ª&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;7-æŠ¥æ–‡å¤´éƒ¨çš„å˜åŒ–&#34;&gt;7. æŠ¥æ–‡å¤´éƒ¨çš„å˜åŒ–&lt;/h3&gt;
&lt;p&gt;ospfv3æŠ¥æ–‡å¤´ã€Helloã€DDä»¥åŠLSRæŠ¥æ–‡ä¸­çš„å­—æ®µä¸ospfv2ç•¥æœ‰ä¸åŒï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‰ˆæœ¬å·ç”±2å˜ä¸º3&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡å¤´çš„ä¸åŒï¼š&lt;br&gt;
ospfv3çš„æŠ¥æ–‡å¤´åªæœ‰16å­—èŠ‚ï¼Œå»æ‰äº†è®¤è¯ç±»å‹å­—æ®µï¼Œä½†æ˜¯æ·»åŠ äº†InstanceIDå­—æ®µ&lt;sub&gt;è®¤è¯ç±»å‹å­—æ®µä¸º16bitï¼Œå®ä¾‹IDåªç”¨8bitï¼Œåé¢è¿˜æœ‰8bitçš„0&lt;/sub&gt;ï¼Œç”¨æ¥æ”¯æŒåŒä¸€æ¡é“¾è·¯è¿è¡Œå¤šä¸ªå®ä¾‹ï¼Œåªåœ¨é“¾è·¯æœ¬åœ°èŒƒå›´æœ‰æ•ˆï¼Œå¦‚æœè·¯ç”±å™¨æ”¶åˆ°çš„çš„HelloæŠ¥æ–‡ä¸­çš„InstanceIDä¸å½“å‰æ¥å£é…ç½®çš„InstanceIDä¸åŒï¼Œåˆ™æ— æ³•å»ºç«‹é‚»å±…&lt;/li&gt;
&lt;li&gt;HelloæŠ¥æ–‡ï¼šå»æ‰äº†ç½‘ç»œæ©ç å­—æ®µï¼Œå¢åŠ äº†InterfaceIDï¼Œç”¨æ¥æ ‡è¯†å‘é€è¯¥HelloæŠ¥æ–‡çš„æ¥å£ID&lt;br&gt;
optionsï¼šospfv3æ‰©å±•åˆ°24bitï¼Œå³3å­—èŠ‚ï¼›è€Œospfv2åªæœ‰8bitï¼Œå³1å­—èŠ‚&lt;br&gt;
åœ¨ospfv3ä¸­ï¼Œoptionå­—æ®µé™¤äº†åœ¨helloæŠ¥æ–‡å’ŒDDæŠ¥æ–‡å­˜åœ¨ï¼Œè¿˜åœ¨1ç±»ã€2ç±»ã€8ç±»ã€9ç±»LSAä¸­å‡ºç°ï¼ˆospfv2æ˜¯æ‰€æœ‰çš„LSAä¸­å‡ºç°ï¼‰ï¼Œä¸»è¦å¢åŠ äº†Rä½å’ŒV6ä½ï¼š
&lt;ol&gt;
&lt;li&gt;Rä½ï¼šç”¨æ¥æ ‡è¯†è®¾å¤‡æ˜¯å¦å…·å¤‡è½¬å‘èƒ½åŠ›ï¼Œå¦‚æœä¸º0ï¼Œåˆ™æ ‡è¯†è¯¥è®¾å¤‡ä¸å‚åŠ è·¯ç”±è®¡ç®—ï¼Œå³è¯¥è®¾å¤‡ä¸è½¬å‘éæœ¬åœ°åœ°å€çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;V6ä½ï¼šå¦‚æœä¸º0ï¼Œåˆ™æ ‡è¯†è¯¥è®¾å¤‡æˆ–è€…é“¾è·¯ä¸ä¼šå‚åŠ IPv6è·¯ç”±è®¡ç®—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;LSAæŠ¥æ–‡ä¸­çš„LS typeç”±1Bæ‰©å±•åˆ°2Bï¼ŒæŒ‡å®šLSAçš„ç±»å‹ï¼Œæ”¯æŒäº†å¯¹æœªçŸ¥LSAçš„å¤„ç†
&lt;ol&gt;
&lt;li&gt;Uä½ï¼š0ï¼ŒæœªçŸ¥ç±»å‹çš„LSAä»…åœ¨é“¾è·¯èŒƒå›´å†…æ³›æ´ªï¼›1ï¼ŒæœªçŸ¥ç±»å‹çš„LSAæŒ‰ç…§LS typeå­—æ®µæè¿°çš„æ³›æ´ªèŒƒå›´è¿›è¡Œæ³›æ´ª&lt;/li&gt;
&lt;li&gt;S2/S1ä½ï¼šå…±åŒæ ‡è¯†LSAçš„æ³›æ´ªèŒƒå›´ã€‚00è¡¨ç¤ºåœ¨äº§ç”Ÿè¯¥LSAçš„æœ¬åœ°é“¾è·¯ä¸Šæ³›æ´ªï¼›01æ ‡è¯†äº§ç”ŸLSAçš„è·¯ç”±å™¨æ‰€åœ¨åŒºåŸŸï¼›10è¡¨ç¤ºåœ¨æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿå†…ï¼›11ä¿ç•™&lt;/li&gt;
&lt;li&gt;LSA Function Codeï¼šLSAçš„ç±»å‹ç¼–ç ï¼Œæè¿°LSAçš„ç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-1ç±»å’Œ2ç±»&#34;&gt;8. 1ç±»å’Œ2ç±»&lt;/h3&gt;
&lt;p&gt;ospfv3ç§»é™¤äº†IPåœ°å€çš„æ„ä¹‰ï¼Œå®ç°äº†æ‹“æ‰‘å’Œåœ°å€çš„åˆ†ç¦»ï¼Œospfv3ä¸­çš„1ç±»å’Œ2ç±»LSAä¸å†åŒ…å«IPåœ°å€ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;RouteLSAä¸å†åŒ…å«åœ°å€ä¿¡æ¯&lt;/strong&gt;ï¼Œä½¿èƒ½ospfv3çš„è·¯ç”±å™¨ä½¿ç”¨8ç±»LSAï¼ˆLink LSAï¼‰ï¼Œå°†å½“å‰æ¥å£çš„é“¾è·¯æœ¬åœ°åœ°å€ä»¥åŠè·¯ç”±å™¨åœ¨è¿™æ¡è¿è·¯ä¸Šçš„ä¸€ç³»åˆ—ipv6åœ°å€ä¿¡æ¯å‘è¯¥é“¾è·¯ä¸Šçš„æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨é€šå‘Šã€‚&lt;br&gt;
è€Œ1ç±»LSAçš„Link IDæ”¹ä¸ºæœ¬åœ°æœ‰æ„ä¹‰çš„Interface IDï¼Œç”¨æ¥æ ‡è¯†æ‹“æ‰‘ï¼Œåˆ†ä¸ºä»¥ä¸‹3ç§ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615643651737.png&#34; alt=&#34;RouterLSAçš„3ç§ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NetworkLSAä¸å†åŒ…å«è·¯ç”±ä¿¡æ¯&lt;/strong&gt;ï¼Œè·¯ç”±ä¿¡æ¯ç”±9ç±»LSAï¼ˆIntra Area Prefix LSAï¼ŒåŒºåŸŸå†…å‰ç¼€LSAï¼‰è´Ÿè´£é€šå‘Šï¼Œ9ç±»LSAé€šå‘ŠIPV6åœ°å€å‰ç¼€ã€‚äºŒç±»LSAå°†å¤´éƒ¨ä¸­çš„LS IDå˜ä¸ºDRçš„Inteface IDï¼Œè€Œä¸”å–æ¶ˆäº†æ©ç å­—æ®µï¼Œä»…ä»…ç”¨æ¥æè¿°æ‹“æ‰‘è¿æ¥æƒ…å†µ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;9-å¢åŠ 2ç§lsa&#34;&gt;9. å¢åŠ 2ç§LSA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;8ç±»LSAï¼Œé“¾è·¯LSA&lt;br&gt;
æ¯ä¸ªè®¾å¤‡éƒ½ä¼šä¸ºæ¯ä¸ªé“¾è·¯äº§ç”Ÿä¸€ä¸ª8ç±»LSAï¼Œä»…åœ¨æ­¤é“¾è·¯å†…ä¼ æ’­ã€‚å‘é“¾è·¯ä¸Šçš„å…¶ä»–è·¯ç”±å™¨é€šå‘Šæœ¬åœ°é“¾è·¯åœ°å€ï¼Œä½œä¸ºä»–ä»¬çš„ä¸‹ä¸€è·³ï¼›å‘é“¾è·¯ä¸Šçš„å…¶ä»–è·¯ç”±å™¨é€šå‘Šæœ¬åœ°é“¾è·¯ä¸Šçš„æ‰€æœ‰IPv6å‰ç¼€ï¼›åœ¨å¹¿æ’­æˆ–è€…NBMAç½‘ç»œä¸Šä¸ºDRæä¾›Optionså–å€¼&lt;br&gt;
&lt;code&gt;8ç±»LSAæ³›æ´ªèŒƒå›´æ˜¯é“¾è·¯æœ¬åœ°ï¼Œå¹¶ä¸”æ”¶åˆ°8ç±»LSAçš„é‚»å±…å¹¶ä¸ä¼šå°†è¯¥LSAé€šå‘Šç»™ä»»ä½•äººã€‚åªåœ¨æœ¬åœ°é“¾è·¯ä¸Šä¼ é€’ä¿¡æ¯æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦åœ¨åŒºåŸŸå†…ä¼ æ’­ï¼Œå› æ­¤äº§ç”Ÿäº†9ç±»LSAï¼Œåœ¨åŒºåŸŸå†…é€šå‘Šè·¯ç”±å‰ç¼€&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ospfv2ä¸­ï¼ŒLSDBé€šè¿‡æè¿°ä¸€ä¸ªæœ‰å‘çº¿æ®µå›¾æ¥æè¿°ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œè¯¥æœ‰å‘å›¾çš„ç«¯ç‚¹æœ‰ä¸‰ç§ç±»å‹ï¼Œè·¯ç”±å™¨èŠ‚ç‚¹ã€Stubç½‘æ®µã€Transitç½‘æ®µï¼Œä¾é™„äºè·¯ç”±å™¨èŠ‚ç‚¹å’Œstubç½‘æ®µçš„subnetï¼ˆå­ç½‘ï¼‰å‡ºç°åœ¨1ç±»LSAä¸­ï¼Œä¾é™„äºTransitç½‘æ®µçš„subnetå‡ºç°åœ¨2ç±»LSAä¸­ï¼Œä½†æ˜¯ospfv3ä¸­çš„1ç±»å’Œ2ç±»LSAä¸å†åŒ…å«åœ°å€ä¿¡æ¯ï¼Œæ‰€ä»¥å¼•å…¥9ç±»LSAï¼ˆå³åŒºåŸŸå†…å‰ç¼€LSAï¼‰æ¥æè¿°è¿™äº›ä¿¡æ¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;9ç±»LSAï¼ŒåŒºåŸŸå†…å‰ç¼€LSA&lt;br&gt;
æ¯ä¸ªè®¾å¤‡åŠDRéƒ½ä¼šäº§ç”Ÿè‡³å°‘ä¸€ä¸ª9ç±»LSAï¼Œåœ¨æ‰€å±åŒºåŸŸå†…ä¼ æ’­ã€‚&lt;br&gt;
è®¾å¤‡ä¸Šäº§ç”Ÿçš„9ç±»LSAæè¿°ä¸1ç±»LSAç›¸å…³è”çš„IPv6å‰ç¼€åœ°å€ï¼›è€ŒDRäº§ç”Ÿçš„æè¿°çš„æ˜¯ä¸2ç±»LSAç›¸å…³è”çš„IPv6å‰ç¼€åœ°å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;isis&#34;&gt;isis&lt;/h2&gt;
&lt;h3 id=&#34;1-æ–°å¢2ç§tlvå’Œ1ä¸ªnlpid&#34;&gt;1. æ–°å¢2ç§TLVå’Œ1ä¸ªNLPID&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æ”¯æŒIPv6çš„è·¯ç”±è®¡ç®—ï¼Œisisæ–°å¢2ç§TLVå’Œ1ä¸ªç½‘ç»œå±‚åè®®æ ‡è¯†ç¬¦NLPID&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;232å·TLVï¼šç›¸å½“äºipv4ä¸­çš„132å·TLVï¼ˆæ¥å£IPåœ°å€tlvï¼‰ï¼Œåªä¸è¿‡æŠŠåŸæ¥32ä½çš„åœ°å€æ”¹ä¸º128ä½çš„åœ°å€ã€‚å¯¹äºHelloæŠ¥æ–‡ï¼Œæ¥å£åœ°å€åªèƒ½åŒ…å«å‘é€helloæŠ¥æ–‡æ¥å£çš„é“¾è·¯æœ¬åœ°åœ°å€ï¼›ä½†æ˜¯å¯¹äºLSPæŠ¥æ–‡ï¼Œæ¥å£åœ°å€åªèƒ½åŒ…å«åˆ†é…ç»™è®¾å¤‡æ¥å£çš„éé“¾è·¯æœ¬åœ°åœ°å€&lt;/li&gt;
&lt;li&gt;236å·TLVï¼šé€šè¿‡å®šä¹‰è·¯ç”±ä¿¡æ¯å‰ç¼€ã€åº¦é‡å€¼ç­‰ä¿¡æ¯æ¥è¯´æ˜ç½‘ç»œçš„å¯è¾¾æ€§ï¼Œç›¸å½“äºipv4ä¸­çš„128å·ï¼ˆIPå†…éƒ¨å¯è¾¾æ€§TLVï¼‰å’Œ130å·TLVï¼ˆIPå¤–éƒ¨å¯è¾¾æ€§TLVï¼‰ä¹‹å’Œï¼Œé€šè¿‡Xä½æ¥æ ‡è¯†IPv6å†…éƒ¨å’Œå¤–éƒ¨å¯è¾¾æ€§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;129å·TLVï¼ˆåè®®æ”¯æŒTLVï¼‰æ–°å¢ä¸€ä¸ªNLPIDï¼ŒNLPIDæ˜¯ç”¨æ¥æ ‡è¯†ç½‘ç»œå±‚åè®®æŠ¥æ–‡çš„8æ¯”ç‰¹å­—æ®µï¼ŒIPv6çš„NLPIDå€¼ä¸º142ï¼ˆ0x8Eï¼ŒIPv4æ˜¯204ï¼Œ0xCCï¼‰ï¼Œå¦‚æœisisæ”¯æŒIPv6ï¼Œé‚£ä¹ˆå‘å¤–å‘å¸ƒIPv6è·¯ç”±æ—¶å¿…é¡»æºå¸¦æ­¤NLPIDå€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-isiså¤šæ‹“æ‰‘&#34;&gt;2. isiså¤šæ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;isiså•æ‹“æ‰‘å­˜åœ¨çš„é—®é¢˜ï¼š&lt;br&gt;
æ··åˆæ‹“æ‰‘ä¸­ï¼Œä¸€äº›è®¾å¤‡æˆ–è€…é“¾è·¯å¦‚æœä¸æ”¯æŒipv6åè®®ï¼Œä½†æ˜¯æ”¯æŒipv6çš„è®¾å¤‡åˆæ— æ³•æ„ŸçŸ¥åˆ°ï¼Œä»ç„¶å°†ipv6æŠ¥æ–‡è½¬å‘ç»™ä»–ä»¬ï¼Œå¯¼è‡´ipv6æŠ¥æ–‡æ— æ³•ç»§ç»­è½¬å‘è€Œä¸¢å¼ƒ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615651052163.png&#34; alt=&#34;isiså¤šæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸ºäº†ç»´æŠ¤ç›¸åŒçš„æ‹“æ‰‘ï¼Œæ‰€æœ‰æ¥å£éƒ½å¿…é¡»åŒæ—¶è¿è¡Œisis ipv4å’Œisis ipv6ï¼Œéƒ¨ç½²ååˆ†ä¸çµæ´»ã€‚isiså¤šæ‹“æ‰‘å°±æ˜¯ä¸ºäº†è§£å†³æ­¤é—®é¢˜è€Œå‡ºç°çš„ã€‚&lt;br&gt;
ä¸€ä¸ªisisè‡ªæ²»åŸŸå†…è¿è¡Œå¤šä¸ªç‹¬ç«‹çš„ipæ‹“æ‰‘ï¼Œä¾‹å¦‚ipv4æ‹“æ‰‘å’Œipv6æ‹“æ‰‘ï¼Œè¿™æœ‰åˆ©äºisisåœ¨è·¯ç”±è®¡ç®—æ—¶æ ¹æ®å®é™…ç»„ç½‘æƒ…å†µæ¥å•ç‹¬è€ƒè™‘ipv4å’Œipv6ç½‘ç»œï¼Œæ ¹æ®é“¾è·¯æ‰€æ”¯æŒçš„IPåè®®ï¼Œä¸åŒçš„æ‹“æ‰‘åˆ†åˆ«è¿›è¡ŒSPFè®¡ç®—ã€‚&lt;br&gt;
åœ¨isiså¤šæ‹“æ‰‘ä¸­ï¼Œä¸ºäº†å®ç°å¤šæ‹“æ‰‘çš„ç›¸äº’éš”ç¦»ï¼Œå®šä¹‰äº†4ç§æ–°TLVï¼š222ï¼ˆå¤šæ‹“æ‰‘ä¸­é—´ç³»ç»Ÿï¼‰ã€229ï¼ˆå¤šæ‹“æ‰‘æ ‡è¯†ç¬¦ï¼‰ã€235ï¼ˆå¤šæ‹“æ‰‘å¯è¾¾ipv4å‰ç¼€ï¼‰ã€237ï¼ˆå¤šæ‹“æ‰‘å¯è¾¾ipv6å‰ç¼€ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;bgp&#34;&gt;bgp&lt;/h2&gt;
&lt;p&gt;bgp4+ä¸­å¼•å…¥çš„ä¸¤ä¸ªNLRIå±æ€§ï¼ˆå¯é€‰éä¼ é€’å±æ€§ï¼‰åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MP_Reach_NLRIï¼ˆ14ï¼‰ï¼šå¤šåè®®å¯è¾¾NLRIï¼Œç”¨äºå‘å¸ƒå¯è¾¾è·¯ç”±å’Œä¸‹ä¸€è·³ä¿¡æ¯ã€‚è¯¥å±æ€§ç”±è‡³å°‘ä¸€ä¸ªä¸‰å…ƒç»„&lt;code&gt;&amp;lt;åœ°å€æ—ä¿¡æ¯(3B)ã€ä¸‹ä¸€è·³ä¿¡æ¯(å¯å˜)ã€å‰ç¼€ä¿¡æ¯(å¯å˜)&amp;gt;&lt;/code&gt;ç»„æˆ
&lt;ol&gt;
&lt;li&gt;åœ°å€æ—ä¿¡æ¯ï¼šç”±2Bçš„AFIå’Œ1Bçš„SAFIç»„æˆï¼Œipv6çš„AFIç¼–ç ä¸º2ï¼Œå•æ’­æ—¶SAFIä¸º1ï¼Œç»„æ’­æ—¶SAFIä¸º2ï¼Œvpnè·¯ç”±çš„SAFIä¸º128&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€è·³ä¿¡æ¯ï¼š1Bçš„ä¸‹ä¸€è·³åœ°å€é•¿åº¦  å’Œ  å¯å˜é•¿åº¦çš„ä¸‹ä¸€è·³åœ°å€ç»„æˆ&lt;/li&gt;
&lt;li&gt;å‰ç¼€ä¿¡æ¯ï¼šæ”¾åœ¨è¯¥å±æ€§çš„NLRIå­—æ®µä¼ é€’ï¼Œä¸åŒçš„åœ°å€æ—æ ¼å¼ä¸åŒã€‚è‡³å°‘ä¸€ä¸ªä¸‰å…ƒç»„&lt;code&gt;&amp;lt;é•¿åº¦(1B)ã€æ ‡ç­¾(å¯å˜)ã€å‰ç¼€(å¯å˜)&amp;gt;&lt;/code&gt;ç»„æˆ
&lt;ol&gt;
&lt;li&gt;é•¿åº¦ï¼šæ ‡ç­¾åŸŸå’Œå‰ç¼€åŸŸçš„&lt;strong&gt;æ€»æ¯”ç‰¹æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾ï¼šè‡³å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œ&lt;strong&gt;æ¯ä¸ªæ ‡ç­¾é•¿åº¦ä¸º3å­—èŠ‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‰ç¼€ï¼šå‰ç¼€åŸŸç”±RDå’ŒIPåœ°å€å‰ç¼€ç»„æˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;MP_UnReach_NLRIï¼ˆ15ï¼‰ï¼šå¤šåè®®ä¸å¯è¾¾NLRIï¼Œç”¨äºæ’¤é”€è·¯ç”±ã€‚è¯¥å±æ€§ç”±è‡³å°‘ä¸€ä¸ªäºŒå…ƒç»„&lt;code&gt;&amp;lt;åœ°å€æ—ä¿¡æ¯(3B)ã€æ’¤é”€è·¯ç”±(å¯å˜)&amp;gt;&lt;/code&gt;ç»„æˆ
&lt;ol&gt;
&lt;li&gt;åœ°å€æ—ä¿¡æ¯å’ŒMP_Reach_NLRIç›¸åŒ&lt;/li&gt;
&lt;li&gt;æ’¤é”€è·¯ç”±ï¼ˆWithdrawn Routesï¼‰ï¼šå’ŒMP_Reach_NLRIå‰ç¼€ä¿¡æ¯ä¸­çš„NLRIå†…å®¹ç›¸åŒã€‚å½“æ’¤é”€è·¯ç”±æ—¶ï¼Œå¦‚æœæŒ‡å®šäº†æ ‡ç­¾ï¼Œåªæœ‰æŒ‡å®šäº†æ ‡ç­¾çš„è·¯ç”±è¢«æ’¤é”€ï¼›å¦‚æœæ²¡æœ‰æŒ‡å®šæ ‡ç­¾ï¼Œåªæœ‰ä¸å¸¦æ ‡ç­¾çš„è·¯ç”±è¢«æ’¤é”€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;bgp4+ä¸­çš„Next_Hopå±æ€§ç”¨IPv6åœ°å€æ¥è¡¨ç¤ºï¼Œå¯ä»¥æ˜¯IPv6çš„å…¨çƒå•æ’­åœ°å€æˆ–è€…é“¾è·¯æœ¬åœ°åœ°å€&lt;br&gt;
ä¸‹ä¸€è·³åœ°å€é•¿åº¦å­—æ®µå†³å®šäº†ä¸‹ä¸€è·³åœ°å€çš„ä¸ªæ•°ï¼Œé•¿åº¦ä¸º16æ—¶ï¼Œä¸‹ä¸€è·³åœ°å€ä¸ºä¸‹ä¸€è·³è·¯ç”±å™¨çš„å…¨çƒå•æ’­åœ°å€ï¼Œé•¿åº¦ä¸º32æ—¶ï¼Œå†åŠ ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ospf-isis-bgpè·¯ç”±æ’¤é”€ä»¥åŠæŠ¥æ–‡&#34;&gt;ospfã€isisã€bgpè·¯ç”±æ’¤é”€ä»¥åŠæŠ¥æ–‡&lt;/h1&gt;
&lt;h2 id=&#34;1-ospfè·¯ç”±æ’¤é”€&#34;&gt;1. ospfè·¯ç”±æ’¤é”€&lt;/h2&gt;
&lt;p&gt;åœ¨ospfä¸­ä»¥lsaå»æ‰¿è½½è·¯ç”±ä¿¡æ¯ï¼Œospfä¸­æ’¤é”€è·¯ç”±å°±æ˜¯æ’¤é”€lsaæˆ–æ›´æ–°è¿™æ¡lsaï¼Œå³æ’¤é”€æŠ¥æ–‡éƒ½æ˜¯LSUã€‚&lt;br&gt;
&lt;code&gt;æ’¤é”€æ–¹å¼æœ‰3ç§ï¼š1. æ›´æ–°ï¼Œå‘é€ä¸€æ¡åºåˆ—å·åŠ 1çš„LSAï¼Œè¯¥LSAä¸åŒ…å«åŸæ¥çš„è·¯ç”±ï¼Œé’ˆå¯¹è¿˜æœ‰å…¶ä»–è·¯ç”±çš„LSAï¼›2. è€åŒ–ï¼Œå°†åŸæ¥LSAçš„ageè®¾ç½®ä¸º3600ä¹‹åå‘å‡ºå»ï¼Œé’ˆå¯¹å·²ç»æ²¡æœ‰è·¯ç”±çš„LSAï¼ˆæ›´æ–°çš„LSAçš„ä¼˜å…ˆçº§è¦å¤§äºè€åŒ–LSAçš„ä¼˜å…ˆçº§ï¼‰ï¼›3. è®¾å¤‡æ•…éšœï¼Œä¸èƒ½ä¸»åŠ¨å‘é€LSAæ’¤é”€ï¼Œå…¶ä»–è®¾å¤‡æ‰§è¡ŒISPFï¼Œè¯¥lsaåœ¨3600åæ’¤é”€&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;åŸŸå†…1ç±»å’Œ2ç±»&#34;&gt;åŸŸå†…ï¼ˆ1ç±»å’Œ2ç±»ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;1ç±»lsaçš„æ’¤é”€&#34;&gt;1ç±»lsaçš„æ’¤é”€&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1617188030292.png&#34; alt=&#34;1ç±»-1&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æƒ…æ™¯1ï¼šR1çš„ç¯å›å£å»ä½¿èƒ½ä¹‹åï¼Œ&lt;strong&gt;R1ä¼šå‘é€ä¸€æ¡æ–°çš„çš„1ç±»LSAæ’¤é”€ç¯å›å£çš„è·¯ç”±&lt;/strong&gt;ï¼ŒR2æ”¶åˆ°ä¹‹åæ›´æ–°LSDB&lt;code&gt;æ›´æ–°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æƒ…æ™¯2ï¼šR1ä¸R2ä¹‹é—´çš„é“¾è·¯æ•…éšœä¹‹åï¼Œè§¦å‘ispfç®—æ³•ï¼Œæ­¤æ—¶R1å’ŒR2ä¸Šå‡æœ‰ä¸¤æ¡1ç±»LSAï¼Œä¸€æ¡æ˜¯è‡ªå·±äº§ç”Ÿçš„ã€ä¸€æ¡æ˜¯é‚»å±…äº§ç”Ÿçš„ï¼Œæ­¤æ—¶&lt;strong&gt;è‡ªåŠ¨æ’¤é”€è‡ªèº«äº§ç”Ÿçš„1ç±»LSA&lt;/strong&gt;ï¼Œä¸éœ€è¦å‘é€LSAï¼Œè‡³äº&lt;strong&gt;é‚»å±…äº§ç”Ÿçš„ï¼Œåªèƒ½ç­‰å¾…3600è¿›è¡Œè‡ªç„¶è€åŒ–&lt;/strong&gt;&lt;code&gt;ä¸èƒ½æ’¤é”€éè‡ªèº«äº§ç”Ÿçš„&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617188407457.png&#34; alt=&#34;1ç±»-2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åœºæ™¯3ï¼šR1ä¸R2ä¹‹é—´çš„é“¾è·¯æ•…éšœï¼Œæ­¤æ—¶R1ã€R2ã€R3ä¸Šå„æœ‰3æ¡1ç±»LSAï¼Œ&lt;strong&gt;R2å’ŒR3ä¸Šçš„R1çš„1ç±»LSAåªèƒ½ç­‰å¾…3600ç§’ä¹‹åè‡ªç„¶è€åŒ–&lt;/strong&gt;ï¼Œä½†æ˜¯R2å’ŒR3è‡ªèº«äº§ç”Ÿçš„1ç±»LSAä¸ä¼šæ’¤é”€ï¼Œå› ä¸ºå…¶è¿˜æœ‰å­˜åœ¨çš„å¿…è¦ã€‚æ­¤ç§æƒ…å†µä¸‹ä¼šè§¦å‘R2çš„ispfç®—æ³•ï¼Œå¦‚æœR2æ˜¯DRï¼Œè¿˜ä¼šè§¦å‘2ç±»LSAçš„æ›´æ–°&lt;code&gt;ä¸èƒ½æ’¤é”€éè‡ªèº«äº§ç”Ÿçš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2ç±»lsaçš„æ’¤é”€&#34;&gt;2ç±»lsaçš„æ’¤é”€&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;éDRæ•…éšœ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617189076935.png&#34; alt=&#34;2ç±»-1&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;åœºæ™¯1ï¼šR1ä¸R2ä¹‹é—´çš„é“¾è·¯æ•…éšœï¼Œå› ä¸ºæ­¤æ—¶æè¿°R1ä¸R2ä¹‹é—´è”ç³»çš„è¿™ä¸ª2ç±»LSAå·²ç»æ²¡æœ‰è·¯ç”±äº†ï¼Œæ‰€ä»¥å°†åŸæ¥çš„LSAçš„age=3600è¿›è¡Œè·¯ç”±æ’¤é”€&lt;code&gt;è€åŒ–&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617189371287.png&#34; alt=&#34;2ç±»-2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åœºæ™¯2ï¼šR1æ•…éšœä¹‹åï¼Œé™¤äº†è§¦å‘R2å’ŒR3çš„ispfç®—æ³•è¿›è¡Œè·¯ç”±æ”¶æ•›ä¹‹å¤–ï¼ŒR3ä½œä¸ºDRè¿˜è¦è¿›è¡Œ2ç±»LSAçš„æ›´æ–°ï¼Œå°†åºåˆ—å·åŠ 1ï¼Œæ­¤æ¡LSAä¸­ä¸å†åŒ…å«R1ä¸R3ä¹‹é—´çš„ç½‘æ®µçš„é“¾è·¯çŠ¶æ€ä¿¡æ¯&lt;code&gt;æ›´æ–°&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DRæ•…éšœ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617189371287.png&#34; alt=&#34;2ç±»-2&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;åœºæ™¯3ï¼šR3ä½œä¸ºDRæ•…éšœä¹‹åï¼Œè§¦å‘R1å’ŒR2çš„ispfç®—æ³•è¿›è¡Œè·¯ç”±æ”¶æ•›ï¼ŒR2ä½œä¸ºBDRä¼šå˜æˆDRï¼ŒåŒæ—¶é€‰ä¸¾R1ä½œä¸ºBDRï¼ŒR2ä¼šå‘é€ä¸€æ¡æ–°çš„LSAæ¥æè¿°R1ä¸R2ä¹‹é—´çš„ç½‘æ®µï¼Œå…³äºR3çš„äºŒç±»LSAåªèƒ½ç­‰å¾…3600ç§’è‡ªç„¶è€åŒ–&lt;code&gt;ä¸èƒ½æ’¤é”€éè‡ªèº«äº§ç”Ÿçš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœºæ™¯4ï¼šå¦‚æœåœ¨3600ç§’ä¹‹å†…ï¼ŒR3æ¢å¤äº†ï¼Œé‚£ä¹ˆR3åªèƒ½æˆä¸ºDR otherï¼Œæ­¤æ—¶ä»R2å¤„åŒæ­¥åˆ°lsdbåï¼Œå‘ç°ä¹‹å‰è‡ªèº«å‘é€çš„2ç±»LSAï¼Œæ­¤æ—¶ä¼šå°†æ­¤æ¡LSAçš„ageä¿®æ”¹ä¸º3600ç§’ä¹‹åè¿›è¡Œæ’¤é”€&lt;code&gt;è€åŒ–&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åŸŸé—´å’ŒåŸŸå¤–3ç±»-4ç±»-5ç±»å’Œ7ç±»&#34;&gt;åŸŸé—´å’ŒåŸŸå¤–ï¼ˆ3ç±»ã€4ç±»ã€5ç±»å’Œ7ç±»ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;è¯¥ä¸‰ç§LSAçš„æ’¤é”€æ–¹å¼ä¸€è‡´ï¼Œé€šè¿‡å‘é€3600ç§’çš„LSAï¼Œåªä¸è¿‡5ç±»å’Œ7ç±»çš„LSAåªæœ‰å½“OSPFå¼•å…¥äº†å¤–éƒ¨è·¯ç”±çš„æ—¶å€™æ‰äº§ç”Ÿï¼Œè€Œ3ç±»LSAåˆ™æ˜¯å½“æ·»åŠ æˆ–æ’¤é”€è·¯ç”±æ—¶å€™ABRå‘å…¶å®ƒåŒºåŸŸé€šå‘Šçš„&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;3ç±»lsaçš„æ’¤é”€&lt;/strong&gt;&lt;br&gt;
ABRä¼šäº§ç”Ÿä¸€æ¡3ç±»LSAï¼Œage=3600ç§’ï¼Œospfçš„LSAæœ€å¤§è€åŒ–æ—¶é—´ä¸º3600ç§’ï¼Œå½“è¾¾åˆ°æœ€å¤§è€åŒ–æ—¶é—´åè¯¥LSAå°†ä¸å¯ç”¨ï¼Œè·¯ç”±å™¨å°±ä¼šåˆ é™¤ä¸è¯¥LSAç›¸å…³çš„è·¯ç”±ï¼Œä»¥æ­¤æ¥æ’¤é”€è·¯ç”±&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4ç±»lsaçš„æ’¤é”€&lt;/strong&gt;&lt;br&gt;
4ç±»LSAç”±ABRè®¾å¤‡å‘é€ï¼Œåªæœ‰ä¸å­˜åœ¨ASBRçš„åŒºåŸŸæ‰ä¼šå­˜åœ¨æè¿°è¯¥ASBRçš„4ç±»LSAï¼Œå¦‚æœè¯¥ASBRä¸å†å¼•å…¥å¤–éƒ¨è·¯ç”±æˆ–è€…å·²ç»ä¸æ˜¯ASBRäº†ï¼Œå³ASBRæ‰€åœ¨åŒºåŸŸçš„1ç±»LSAçš„Eæ¯”ç‰¹ä¸ºä¸º0äº†ï¼Œåˆ™ç”±ABRæ’¤é”€è¯¥4ç±»LSAï¼Œæ–¹å¼æ˜¯age=3600&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;5ç±»lsaçš„æ’¤é”€ï¼šå¤–éƒ¨è·¯ç”±&lt;/strong&gt;&lt;br&gt;
5ç±»å’Œ7ç±»lsaäº§ç”Ÿçš„è·¯ç”±ï¼Œå½“äº§ç”Ÿè¯¥5ç±»æˆ–7ç±»çš„ASBRä¸å¼•å…¥æŸè·¯ç”±åï¼ŒASBRä¼šäº§ç”Ÿä¸€æ¡Age=3600ç§’çš„lsaå‘ç›¸åº”åŒºåŸŸè¿›è¡Œæ³›æ´ªï¼Œè·¯ç”±å™¨æ”¶åˆ°åå°±ä¼š5ã€7ç±»lsaå¯¹åº”çš„è·¯ç”±æ¡ç›®æ’¤é”€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ospfv3&#34;&gt;OSPFv3&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfv3ä¸­1ç±»å’Œ2ç±»LSAç”¨æ¥æè¿°æ‹“æ‰‘ä¿¡æ¯ï¼Œåªæœ‰3ç±»ã€4ç±»ã€5ç±»ã€7ç±»æè¿°è·¯ç”±ä¿¡æ¯ï¼Œæ’¤é”€æ–¹å¼ä¸v2ç›¸åŒï¼Œå‡ä½¿ç”¨age=3600çš„æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;å¢åŠ 2ç±»LSAï¼Œ8ç±»LSAï¼ˆé“¾è·¯LSAï¼‰å’Œ9ç±»LSAï¼ˆåŒºåŸŸå†…å‰ç¼€LSAï¼‰ï¼š
&lt;ol&gt;
&lt;li&gt;8ç±»LSAé€šå‘Šçš„æ˜¯é“¾è·¯æœ¬åœ°åœ°å€å’Œç½‘ç»œå‰ç¼€ï¼ˆåªæœ‰é…ç½®äº†å…¨å±€å•æ’­åœ°å€æˆ–è€…å”¯ä¸€æœ¬åœ°åœ°å€æ‰ä¼šæœ‰ç½‘ç»œå‰ç¼€ï¼‰ï¼Œ8ç±»LSAçš„æ’¤é”€æ˜¯é€šè¿‡åºåˆ—+1çš„æ–¹å¼è¿›è¡Œæ’¤é”€ï¼Œå‘ŠçŸ¥é‚»å±…æ’¤é”€è¯¥è·¯ç”±&lt;/li&gt;
&lt;li&gt;9ç±»LSAåˆ†ä¸ºRouterï¼ˆå®èŠ‚ç‚¹ï¼‰å’ŒNetworkï¼ˆä¼ªèŠ‚ç‚¹ï¼‰
&lt;ol&gt;
&lt;li&gt;Routerçš„æ’¤é”€æ–¹å¼ä¸ºåºåˆ—å·+1&lt;/li&gt;
&lt;li&gt;Networkçš„æ’¤é”€æ–¹å¼ï¼Œå¦‚æœè¯¥LSAä¸­ä¸å†åŒ…å«å¯ç”¨çš„è·¯ç”±åˆ™é‡‡ç”¨age=3600çš„æ–¹å¼ï¼Œå¦‚æœè¿˜åŒ…å«å¯ç”¨çš„è·¯ç”±åˆ™é‡‡ç”¨åºåˆ—å·+1çš„æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-isisè·¯ç”±æ’¤é”€&#34;&gt;2. isisè·¯ç”±æ’¤é”€&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ’¤é”€æ–¹å¼æœ‰ä¸¤ç§ï¼š1. è¿›ç¨‹ä¸‹ä½¿ç”¨import-routeå¼•å…¥çš„è·¯ç”±æ’¤é”€ï¼Œé€šè¿‡å‘é€ç”Ÿå­˜å‘¨æœŸä¸º0çš„æŠ¥æ–‡æ’¤é”€ï¼›2. æ¥å£ä¸‹ä½¿èƒ½isisçš„è·¯ç”±æ’¤é”€ï¼Œé€šè¿‡å‘é€æ–°çš„ä¸åŒ…å«è¯¥è·¯ç”±çš„lspï¼ˆåºåˆ—å·åŠ 1ï¼‰æ’¤é”€&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ’¤é”€å†…éƒ¨è·¯ç”±&#34;&gt;æ’¤é”€å†…éƒ¨è·¯ç”±&lt;/h3&gt;
&lt;p&gt;isis çš„è·¯ç”±ä¿¡æ¯æ˜¯å°è£…åœ¨lspçš„tlvä¸­çš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613195503931.png&#34; alt=&#34;isisè·¯ç”±æ’¤é”€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“R8åœ¨&lt;strong&gt;isisè¿›ç¨‹ä¸‹å°†lo0å»ä½¿èƒ½å&lt;/strong&gt;&lt;sub&gt;é€šè¿‡import-routeå¼•å…¥çš„ç›´è¿è·¯ç”±&lt;/sub&gt;ï¼ŒR8ä¼š&lt;strong&gt;å°†åŸæ¥çš„è¿™ä»½lspçš„remaining lifetimeæ—¶é—´å˜ä¸º0&lt;/strong&gt;å‘å‡ºï¼Œæ’¤é”€è¿™æ¡lspï¼Œä»è€Œæ’¤é”€è¿™æ¡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å½“R8åœ¨lo0&lt;strong&gt;æ¥å£ä¸‹å°†isiså»ä½¿èƒ½å&lt;/strong&gt;ï¼Œ R8ä¼šäº§ç”Ÿä¸€ä¸ªä¸æºå¸¦lo0æ¥å£ä¿¡æ¯çš„lspï¼Œåºåˆ—å·åŠ 1ï¼Œåœ¨L2åŒºåŸŸæ³›æ´ªï¼Œå…¶ä»–è·¯ç”±å™¨æ”¶åˆ°è¯¥lspåé‡æ–°æ”¶æ•›è®¡ç®—ï¼ŒæŠŠè·¯ç”±è¡¨ä¸­çš„å…³äºR8çš„lo0æ¥å£çš„è·¯ç”±æ’¤é”€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ’¤é”€å¤–éƒ¨è·¯ç”±&#34;&gt;æ’¤é”€å¤–éƒ¨è·¯ç”±&lt;/h3&gt;
&lt;p&gt;æ’¤é”€å¤–éƒ¨è·¯ç”±çš„æ—¶å€™ä¼š&lt;strong&gt;å°†åŸæ¥çš„lspçš„remaining lifetimeæ—¶é—´å˜ä¸º0&lt;/strong&gt;å‘å‡ºï¼Œæ’¤é”€è¿™æ¡lspï¼Œä»è€Œæ’¤é”€è¿™æ¡è·¯ç”±&lt;br&gt;
&lt;strong&gt;å½“ç”Ÿå­˜å‘¨æœŸå‡åˆ°0åè¯¥LSPä¸å¯ç”¨&lt;/strong&gt;ï¼Œå†ç­‰60sLSPä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œè·¯ç”±åˆ é™¤ï¼Œè¯¥60ç§’ç§°ä¸ºé›¶è€åŒ–æ—¶é—´ï¼Œåœ¨è¯¥æ—¶é—´å†…ï¼Œè·¯ç”±å™¨ä¼šå‘ç½‘ç»œé€šå‘Šæ’¤é”€çš„lspï¼Œè¯¥lspé‡Œçš„å‰©ä½™ç”Ÿå­˜æ—¶é—´ä¸º0ç§’ï¼Œç”¨äºåŠ é€Ÿç½‘ç»œæ”¶æ•›ï¼Œæ”¶åˆ°è¯¥lspçš„è·¯ç”±å™¨ä¼šå°†è·¯ç”±åˆ é™¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-bgpè·¯ç”±æ’¤é”€&#34;&gt;3. bgpè·¯ç”±æ’¤é”€&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;bgpä½¿ç”¨UpdateæŠ¥æ–‡æ¥æºå¸¦è¢«æ’¤é”€çš„è·¯ç”±&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613195991269.png&#34; alt=&#34;bgpè·¯ç”±æ’¤é”€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R3åœ¨bgpä¸­é€šå‘Š3.3.3.3/32ä½è·¯ç”±ï¼ŒR1å’ŒR2ä¸Šå‡æœ‰æ­¤è·¯ç”±ã€‚å½“R2çš„g0/0/1æ¥å£downä¹‹åï¼ŒR2ä¼šå‘R1å‘é€updateæŠ¥æ–‡ï¼Œæ’¤é”€æ‰å®ƒæ­¤å‰å‘R1é€šå‘Šçš„è¯¥è·¯ç”±&lt;br&gt;
è¯¥updateæŠ¥æ–‡ä¸­Withdrawn Routes Lengthè¡¨ç¤ºWithdrawn Routeså­—æ®µçš„æ•°æ®é•¿åº¦ï¼Œå¦‚æœWithdrawn Routes Lengthå­—æ®µæ•°å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºWithdrawn Routeså­—æ®µæ²¡æœ‰ä»»ä½•æ•°æ®ã€‚Withdrawn Routesæ˜¯æ’¤é”€è·¯ç”±ï¼Œè¯¥å­—æ®µåŒ…æ‹¬ä¸€ç³»åˆ—çš„IPåœ°å€å‰ç¼€ä¿¡æ¯ï¼Œä»¥&lt;code&gt;&amp;lt;length, prefix&amp;gt;&lt;/code&gt;çš„æ ¼å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚&lt;code&gt;&amp;lt;19,198.18.160.0&amp;gt;&lt;/code&gt;è¡¨ç¤ºä¸€ä¸ª&lt;code&gt;198.18.160.0 255.255.224.0&lt;/code&gt;çš„ç½‘ç»œ&lt;br&gt;
å¦‚æœæ’¤é”€ä¸€æ¡å¤šåè®®BGPï¼ˆMP-BGPï¼‰è·¯ç”±ï¼Œæ˜¯é€šè¿‡å¯é€‰éä¼ é€’å±æ€§MP_UnReach_NLRIæ¥æ’¤é”€çš„ï¼Œè¯¥å±æ€§ç”±è‡³å°‘ä¸€ä¸ªäºŒå…ƒç»„&lt;code&gt;&amp;lt;åœ°å€æ—ä¿¡æ¯(3B)ã€æ’¤é”€è·¯ç”±(å¯å˜)&amp;gt;&lt;/code&gt;ç»„æˆï¼Œå…¶ä¸­åœ°å€æ—ä¿¡æ¯åŒ…å«2Bçš„AFIå’Œ1Bçš„SAFIï¼Œæ’¤é”€è·¯ç”±æ˜¯ç”±è‡³å°‘ä¸€ä¸ª&lt;code&gt;&amp;lt;é•¿åº¦(1B)ã€æ ‡ç­¾(å¯å˜)ã€å‰ç¼€(å¯å˜)&amp;gt;&lt;/code&gt;ä¸‰å…ƒç»„ç»„æˆ&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ipv4å’Œipv6æŠ¥æ–‡å¤´éƒ¨çš„ä¸åŒ&#34;&gt;IPv4å’ŒIPv6æŠ¥æ–‡å¤´éƒ¨çš„ä¸åŒ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;IPv6ç›¸æ¯”IPv4æœ‰å“ªäº›ä¼˜åŠ¿?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ°å€ç©ºé—´æ›´å¤§&lt;/li&gt;
&lt;li&gt;æŠ¥å¤´æ ¼å¼æ›´ç®€å•&lt;/li&gt;
&lt;li&gt;IPv6æœ‰çŠ¶æ€/æ— çŠ¶æ€è‡ªåŠ¨é…ç½®å’Œé‡æ–°ç¼–å€&lt;/li&gt;
&lt;li&gt;IPv6ç«¯åˆ°ç«¯çš„è·¯ç”±ï¼Œæ²¡æœ‰NATè½¬æ¢&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå±‚æ”¯æŒIPSecçš„è®¤è¯å’ŒåŠ å¯†ï¼Œæ”¯æŒç«¯åˆ°ç«¯çš„å®‰å…¨&lt;/li&gt;
&lt;li&gt;IPv6æ–°å¢äº†æµæ ‡è®°åŸŸï¼Œæä¾›QoSä¿è¯&lt;/li&gt;
&lt;li&gt;IPv6æ”¯æŒç§»åŠ¨æ€§æ›´å¥½&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;IPv4æŠ¥æ–‡å¤´éƒ¨ï¼š&lt;code&gt;å¯å˜é•¿åº¦ï¼Œæœ€å°‘20B&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617198193966.png&#34; alt=&#34;IPv4æŠ¥æ–‡å¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IPv6æŠ¥æ–‡å¤´éƒ¨ï¼š&lt;code&gt;å›ºå®šé•¿åº¦40Bï¼Œå…¶ä¸­32å­—èŠ‚çš„åœ°å€ï¼Œå‰©ä¸‹çš„8å­—èŠ‚åªæœ‰ç‰ˆæœ¬ã€æµé‡ç±»å‹ã€æµæ ‡ç­¾ã€å‡€è½½è·é•¿åº¦ã€ä¸‹ä¸€ä¸ªå¤´éƒ¨å’Œè·³æ•°é™åˆ¶&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617198222668.png&#34; alt=&#34;IPv6æŠ¥æ–‡å¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ•´ä½“å¯¹æ¯”ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617199020251.png&#34; alt=&#34;æ•´ä½“å¯¹æ¯”&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IPv4ä¸­çš„&lt;strong&gt;ä¸»è¦å­—æ®µ&lt;/strong&gt;éƒ½å·²ç»è¢«IPv6ç»§æ‰¿äº†ï¼Œè€Œåˆ é™¤çš„ä¸€éƒ¨åˆ†ç¡®å®æ²¡å¿…è¦çš„å­—æ®µï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å­—æ®µå¯ä»¥ä½¿ç”¨æ‰©å±•å¤´éƒ¨çš„å½¢å¼å‡ºç°åœ¨IPv6æŠ¥æ–‡é‡Œã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åˆ é™¤çš„å†…å®¹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å¤´éƒ¨é•¿åº¦ï¼šå¤´éƒ¨æ²¡æœ‰é€‰é¡¹å­—æ®µï¼Œå¤´éƒ¨é•¿åº¦å›ºå®šä¸º40Bï¼Œæ‰€æœ‰ä¸å†éœ€è¦å¤´éƒ¨é•¿åº¦å­—æ®µ&lt;/li&gt;
&lt;li&gt;ç”¨äºåˆ†ç‰‡çš„ï¼ˆæ ‡è¯†ã€DFã€MFã€åˆ†æ®µåç§»ï¼‰ï¼šIPv6åˆ†æ®µä½¿ç”¨åˆ†æ®µæ‰©å±•å¤´ï¼Œå¹¶ä¸”IPv6åˆ†ç‰‡ä¸é‡ç»„åªèƒ½åœ¨æºä¸ç›®çš„åœ°ä¸Šæ‰§è¡Œï¼Œä¸å…è®¸åœ¨ä¸­é—´è·¯ç”±å™¨è¿›è¡Œ&lt;/li&gt;
&lt;li&gt;å¤´éƒ¨æ ¡éªŒï¼šä½¿ç”¨è®¤è¯æ‰©å±•å¤´AHï¼Œè¿›è¡ŒæŠ¥æ–‡éªŒè¯å’Œå®Œæ•´æ€§æ£€æŸ¥ï¼Œå¹¶ä¸”åœ¨TCPå’ŒUDPæŠ¥æ–‡ä¸­éƒ½å·²ç»æœ‰äº†16ä½çš„æ ¡éªŒå­—æ®µ&lt;/li&gt;
&lt;li&gt;é€‰é¡¹å­—æ®µï¼šä½¿ç”¨æ‰©å±•å¤´æ¥æ‰©å±•åŠŸèƒ½ï¼Œä¸å†éœ€è¦é€‰é¡¹å­—æ®µ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢åŠ çš„å†…å®¹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;æµæ ‡ç­¾ï¼šä½¿ç”¨æµæ ‡ç­¾æ ‡è¯†æµçš„å¥½å¤„å¦‚ä¸‹
&lt;ol&gt;
&lt;li&gt;æ›´åŠ æ–¹ä¾¿çš„æ ‡è¯†æµï¼šé€šè¿‡æµæ ‡ç­¾ã€æºåœ°å€ã€ç›®çš„åœ°å€ä¸‰å…ƒç»„æ–¹å¼å°±å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸€æ¡é€šä¿¡æµï¼Œè€ŒIPv4éœ€è¦ä½¿ç”¨äº”å…ƒç»„&lt;/li&gt;
&lt;li&gt;é™ä½è½¬å‘è·¯ç”±å™¨è´Ÿæ‹…ï¼šå› ä¸ºä¸éœ€è¦ç«¯å£å·æ¥ç¡®å®šæµï¼Œä¹Ÿå°±ä¸éœ€è¦è§£æä¼ è¾“å±‚åè®®&lt;/li&gt;
&lt;li&gt;ä¾¿äºå¯¹IPSecæŠ¥æ–‡åšQoSå¤„ç†ï¼šæµæ ‡ç­¾åœ¨IPv6åŸºæœ¬å¤´ä¸­ï¼Œä½¿ç”¨IPSecæ—¶å¯¹è½¬å‘è·¯ç”±å™¨å¯è§ï¼Œå› æ­¤è½¬å‘è·¯ç”±å™¨å¯ä»¥åœ¨ä½¿ç”¨IPv6æŠ¥æ–‡IPSecçš„æƒ…å†µä¸‹ä»ç„¶å¯ä»¥é€šè¿‡ä¸‰å…ƒç»„é’ˆå¯¹ç‰¹å®šçš„æµè¿›è¡ŒQoSå¤„ç†ï¼Œè€Œipv4ä¸­ä½¿ç”¨ipsecæ—¶ç”±äºå…¶ä¸Šå±‚æ•°æ®è¢«åŠ å¯†ï¼Œè½¬å‘è·¯ç”±å™¨æ— æ³•è§£æï¼Œä»è€Œæ— æ³•è¿›è¡ŒQoS&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»§æ‰¿çš„å†…å®¹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;æœåŠ¡ç±»å‹TOS=æµé‡ç±»åˆ«Traffic Classï¼šåŸºæœ¬ç›¸åŒï¼Œæ ‡è¯†å¯¹åº”çš„é€šä¿¡æµç±»åˆ«ï¼Œæˆ–è€…è¯´æ˜¯ä¼˜å…ˆçº§åˆ«&lt;/li&gt;
&lt;li&gt;æ€»é•¿åº¦--&amp;gt;å‡€è½½è·é•¿åº¦ï¼šipv4ä¸­çš„æ€»é•¿åº¦åŒ…å«å¤´éƒ¨&lt;code&gt;MTUå®šä¹‰ä¸åŒï¼šipv4çš„MTU=ipv4å¤´éƒ¨+å‡€è½½è·ï¼›ipv6çš„MTU=ipv6å¤´éƒ¨+æ‰©å±•å¤´+å‡€è½½è·&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åè®®=ä¸‹ä¸€ä¸ªå¤´éƒ¨ï¼šä¸¤è€…åŠŸèƒ½ç±»ä¼¼ï¼Œipv4åè®®å­—æ®µè§„å®šäº†å‡€è½½è·äº¤ç”±å“ªç§åè®®æ¥å¤„ç†ï¼Œipv6ä¸­çš„Next Headerå­—æ®µå¯é€‰æ‹©æ€§çš„æŒ‡å‘ä¸‹ä¸€ä¸ªæ‰©å±•å¤´éƒ¨æˆ–è€…åè®®&lt;/li&gt;
&lt;li&gt;TTL=Hop Limitï¼šæœ€åˆçš„IPv4çš„TTLåè®®è§„å®šçš„æ˜¯åˆ†æ®µä¼ è¾“çš„æœ€å¤§æ—¶é—´ï¼Œä½†å®é™…ä¸Šï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½ç”¨è·³æ•°æ¥å–ä»£äº†æ—¶é—´ï¼Œå› æ­¤ï¼ŒIPv6ç›´ç™½çš„ä½¿ç”¨Hop Limitæ¥é™å®šä¼ è¾“æ—¶é—´ã€‚å½“ç„¶ä¸¤è€…åŠŸèƒ½ç›¸åŒï¼Œéƒ½æœ‰æ•ˆçš„é˜»æ­¢äº†æ•°æ®åˆ†æ®µåœ¨ç½‘ç»œåœç•™å¤ªä¹…æ—¶é—´è€Œé™·å…¥æ— é™å¾ªç¯çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸‰å±‚äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&#34;&gt;ä¸‰å±‚äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&lt;/h1&gt;
&lt;h2 id=&#34;è½¬å‘åŸç†çš„åŒºåˆ«&#34;&gt;è½¬å‘åŸç†çš„åŒºåˆ«&lt;/h2&gt;
&lt;h3 id=&#34;1-è·¯ç”±å™¨&#34;&gt;1. è·¯ç”±å™¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è·¯ç”±å™¨ç”±&lt;strong&gt;åŸºäºè½¯ä»¶è·¯ç”±å¼•æ“æ‰§è¡Œæ•°æ®åŒ…äº¤æ¢&lt;/strong&gt;ï¼Œè€Œè·¯ç”±å™¨çš„è½¬å‘&lt;strong&gt;é‡‡ç”¨æœ€é•¿åŒ¹é…çš„æ–¹å¼ï¼Œè½¬å‘æ•ˆç‡è¾ƒä½&lt;/strong&gt;&lt;code&gt;å³åˆ©ç”¨IPåœ°å€æ¥ç¡®å®šè½¬å‘çš„åœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½“è·¯ç”±å™¨æ”¶åˆ°å•æ’­æŠ¥æ–‡ï¼Œä¼šæŸ¥æ‰¾FIB
&lt;ol&gt;
&lt;li&gt;å¦‚æœFIBä¸­æœ‰å¯¹åº”è¡¨é¡¹åˆ™æŒ‰ç…§å¯¹åº”è¡¨é¡¹è¿›è¡Œè½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰è¡¨é¡¹åˆ™ä¸¢å¼ƒæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“è·¯ç”±å™¨æ”¶åˆ°ç»„æ’­æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;è‹¥æœªå¼€å¯ç»„æ’­è·¯ç”±åŠŸèƒ½åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœå¼€å¯ç»„æ’­è·¯ç”±åŠŸèƒ½ï¼Œåˆ™æŒ‰ç…§ç»„æ’­è·¯ç”±è¡¨é¡¹è¿›è¡Œè½¬å‘ï¼›å¦‚æœæ²¡æœ‰è¡¨é¡¹ï¼Œåˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“è·¯ç”±å™¨æ”¶åˆ°å¹¿æ’­æŠ¥æ–‡ï¼ˆç›®çš„åœ°å€ä¸º255.255.255.255ï¼‰æ¥æ”¶å¤„ç†ï¼Œä¸å¾€å¤–è½¬å‘å’Œæ³›æ´ª&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-äº¤æ¢æœº&#34;&gt;2. äº¤æ¢æœº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‰å±‚äº¤æ¢æœºé€šè¿‡&lt;strong&gt;ç¡¬ä»¶æ‰§è¡Œäº¤æ¢&lt;/strong&gt;ï¼Œå…¶ä¸‰å±‚åŠŸèƒ½æ˜¯é€šè¿‡åˆ’åˆ†ä¸åŒçš„Vlanå®ç°çš„ï¼Œé…ç½®vlanä¹‹åä¼šåˆ†é…ç›¸åº”çš„IPï¼Œè‡ªåŠ¨ç”Ÿæˆmac&lt;code&gt;å³åˆ©ç”¨MACåœ°å€æ¥ç¡®å®šè½¬å‘æ•°æ®çš„ç›®çš„åœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½“ä¸‰å±‚äº¤æ¢æœºæ”¶åˆ°ä¸€å•æ’­ï¼Œåˆ¤æ–­æ­¤ä»¥å¤ªç½‘å¸§çš„ç›®çš„MACåœ°å€æ˜¯å¦ä¸ºè‡ªå·±
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸æ˜¯è‡ªå·±ï¼ŒæŸ¥çœ‹MACåœ°å€è¡¨
&lt;ol&gt;
&lt;li&gt;å¦‚æœMACåœ°å€è¡¨ä¸­æœ‰å¯¹åº”è¡¨é¡¹åˆ™æŒ‰ç…§å¯¹åº”è¡¨é¡¹è¿›è¡Œè½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰è¡¨é¡¹åˆ™åœ¨åŒä¸€å¹¿æ’­åŸŸä¸­æ³›æ´ª&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœç›®çš„MACä¸ºè‡ªå·±åˆ™ä¸‰å±‚è½¬å‘ï¼Œä¸‰å±‚äº¤æ¢æœºåœ¨å¯¹ç¬¬ä¸€ä¸ªæ•°æ®æµè¿›è¡Œè·¯ç”±åï¼Œå°†äº§ç”Ÿä¸€ä¸ªMACåœ°å€ä¸IPåœ°å€çš„æ˜ å°„è¡¨ï¼Œå½“åŒæ ·çš„æ•°æ®æµå†æ¬¡é€šè¿‡æ—¶ï¼Œå°†æ ¹æ®æ­¤è¡¨ç›´æ¥ä»äºŒå±‚é€šè¿‡ï¼Œä»è€Œæ¶ˆé™¤ç½‘ç»œå»¶è¿Ÿï¼Œæé«˜æ•°æ®åŒ…è½¬å‘çš„æ•ˆç‡ã€‚åŒæ—¶ï¼Œä¸‰å±‚äº¤æ¢æœºçš„è·¯ç”±æŸ¥æ‰¾æ˜¯é’ˆå¯¹æ•°æ®æµçš„ï¼Œå®ƒåˆ©ç”¨ç¼“å­˜æŠ€æœ¯ï¼Œå®ç°å¿«é€Ÿè½¬å‘ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“äº¤æ¢æœºæ”¶åˆ°ç»„æ’­æŠ¥æ–‡æˆ–å¹¿æ’­æŠ¥æ–‡å°±åœ¨åŒä¸€å¹¿æ’­åŸŸä¸­æ³›æ´ªå¤„ç†ï¼ŒåŒæ—¶æ³›æ´ªçš„æ¥å£åŒ…æ‹¬vlanifæ¥å£ï¼Œäº¤ç”±ä¸‰å±‚è½¬å‘å¼•æ“è¿›è¡ŒåŸºäºIPçš„å¤„ç†
&lt;ol&gt;
&lt;li&gt;è‹¥æœªå¼€å¯ç»„æ’­è·¯ç”±åŠŸèƒ½åˆ™ä¸¢å¼ƒï¼Œå¦‚æœå¼€å¯ç»„æ’­è·¯ç”±åŠŸèƒ½ï¼Œåˆ™æŒ‰ç…§ç»„æ’­è·¯ç”±è¡¨é¡¹è¿›è¡Œè½¬å‘ï¼Œå¦‚æœæ²¡æœ‰è¡¨é¡¹ï¼Œåˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;è‹¥æ”¶åˆ°å¹¿æ’­æŠ¥æ–‡ï¼Œä¼šæŠŠARPäºŒå±‚è§£å°è£…ï¼ŒæŸ¥çœ‹ARPé‡Œé¢çš„å†…å®¹ï¼Œçœ‹ä¸€ä¸‹è¯·æ±‚çš„ipåœ°å€æ˜¯ä¸æ˜¯ä¸‰å±‚äº¤æ¢æœºvlan interfaceçš„IPåœ°å€ï¼Œå¦‚æœæ˜¯å°±å›å¤ï¼Œå¦åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¤„ç†æµç¨‹åŒºåˆ«&#34;&gt;å¤„ç†æµç¨‹åŒºåˆ«&lt;/h2&gt;
&lt;h3 id=&#34;1-è·¯ç”±å™¨-2&#34;&gt;1. è·¯ç”±å™¨&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæŸ¥çœ‹macåœ°å€ç¬¬8æ¯”ç‰¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸º0ï¼Œè¯´æ˜æ˜¯&lt;strong&gt;å•æ’­æŠ¥æ–‡&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœmacåœ°å€ä¸æ˜¯è·¯ç”±å™¨æœ¬èº«æ¥å£çš„macï¼Œç›´æ¥ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœmacåœ°å€æ˜¯è·¯ç”±å™¨æœ¬èº«æ¥å£çš„macï¼Œåˆ™è§£å°è£…æŸ¥çœ‹ä¸‰å±‚ç›®çš„IPåœ°å€
&lt;ol&gt;
&lt;li&gt;å¦‚æœç›®çš„IPæ˜¯æ¥å£IPï¼Œåˆ™äº¤ç»™æ¥å£å¤„ç†&lt;/li&gt;
&lt;li&gt;å¦‚æœç›®çš„IPä¸æ˜¯æ¥å£IPï¼Œåˆ™å»æŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œå¦‚æœæœ‰ç›¸åº”è¡¨é¡¹åˆ™é‡æ–°å°è£…è½¬å‘å‡ºå»ï¼Œå¦åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸º1ï¼Œè¯´æ˜æ˜¯&lt;strong&gt;ç»„æ’­å’Œå¹¿æ’­æŠ¥æ–‡&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœmacåœ°å€ä¸æ˜¯å…¨1ï¼Œè¯´æ˜æ˜¯&lt;strong&gt;ç»„æ’­æŠ¥æ–‡&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;æœªå¼€å¯ç»„æ’­åŠŸèƒ½åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¼€å¯ç»„æ’­åŠŸèƒ½ï¼Œå¦‚æœæœ‰ç›¸åº”çš„ç»„æ’­è¡¨é¡¹ï¼Œåˆ™æŒ‰ç…§ç»„æ’­è¡¨é¡¹è½¬å‘ï¼›å¦åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœmacåœ°å€å…¨ä¸º1ï¼Œè¯´æ˜æ˜¯å¹¿æ’­æŠ¥æ–‡ï¼ˆARPè¯·æ±‚æŠ¥æ–‡ï¼‰ï¼Œç„¶åè¿›è¡Œè§£å°è£…ï¼ŒæŸ¥çœ‹ARPè¯·æ±‚çš„IPåœ°å€
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯è·¯ç”±å™¨çš„æ¥å£åœ°å€åˆ™è¿›è¡Œå›åº”&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸æ˜¯è·¯ç”±å™¨çš„æ¥å£åœ°å€ï¼Œåˆ™æŸ¥çœ‹æ˜¯å¦å¼€å¯ARPä»£ç†
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰å¼€å¯ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœå¼€å¯äº†ï¼Œåˆ™åˆ¤æ–­æœ‰æ²¡æœ‰å»å¾€ç›®çš„IPçš„è·¯ç”±ï¼Œæœ‰åˆ™å»åšä»£ç†ï¼Œå¦åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-äº¤æ¢æœº-2&#34;&gt;2. äº¤æ¢æœº&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæŸ¥çœ‹macåœ°å€ç¬¬8æ¯”ç‰¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸º0ï¼Œè¯´æ˜æ˜¯&lt;strong&gt;å•æ’­æŠ¥æ–‡&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç›®çš„macæ˜¯äº¤æ¢æœºçš„macï¼Œåˆ™è§£å°è£…ä¹‹åäº¤ç»™ä¸‰å±‚å¤„ç†&lt;br&gt;
åœ¨å¯¹ç¬¬ä¸€ä¸ªæ•°æ®æµè¿›è¡Œè·¯ç”±åï¼Œå°†äº§ç”Ÿä¸€ä¸ªMACåœ°å€ä¸IPåœ°å€çš„æ˜ å°„è¡¨ï¼Œå½“åŒæ ·çš„æ•°æ®æµå†æ¬¡é€šè¿‡æ—¶ï¼Œå°†æ ¹æ®æ­¤è¡¨ç›´æ¥ä»äºŒå±‚é€šè¿‡&lt;/li&gt;
&lt;li&gt;å¦‚æœç›®çš„macä¸æ˜¯äº¤æ¢æœºçš„macï¼ŒæŸ¥çœ‹macåœ°å€è¡¨é¡¹
&lt;ol&gt;
&lt;li&gt;å¦‚æœå­˜åœ¨åˆ™ç›´æ¥è¿›è¡ŒäºŒå±‚è½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿›è¡ŒæœªçŸ¥å•æ’­å¸§çš„æ³›æ´ª&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸º1ï¼Œè¯´æ˜æ˜¯ç»„æ’­å’Œå¹¿æ’­æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;å¦‚æœmacåœ°å€ä¸æ˜¯å…¨1ï¼Œåˆ™ä¸º&lt;strong&gt;ç»„æ’­æŠ¥æ–‡&lt;/strong&gt;ï¼Œ&lt;strong&gt;é¦–å…ˆ&lt;/strong&gt;åŒä¸€vlanå†…è¿›è¡Œæ³›æ´ªï¼Œ&lt;strong&gt;å…¶æ¬¡&lt;/strong&gt;äº¤ç»™ä¸‰å±‚å¤„ç†
&lt;ol&gt;
&lt;li&gt;å¦‚æœæœªå¼€å¯ç»„æ’­åŠŸèƒ½åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœå¼€å¯ç»„æ’­åŠŸèƒ½ï¼Œåˆ™æŒ‰ç…§ç»„æ’­è·¯ç”±è¡¨é¡¹è¿›è¡Œè½¬å‘ï¼Œå¦‚æœæ²¡æœ‰è¡¨é¡¹ï¼Œåˆ™ä¸¢å¼ƒ&lt;br&gt;
&lt;code&gt;åªæœ‰PIMå’ŒIGMPç»„æ’­æŠ¥æ–‡æ‰ä¼šäº¤ç»™CPUå¤„ç†ï¼Œå³MACæ˜¯01-00-5Eçš„æŠ¥æ–‡ä¸€å¾‹äº¤ç»™CPUå¤„ç†ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‡è½»CPUè´Ÿæ‹…&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœmacåœ°å€å…¨æ˜¯1ï¼Œåˆ™ä¸ºARPè¯·æ±‚æŠ¥æ–‡ï¼Œ&lt;strong&gt;é¦–å…ˆ&lt;/strong&gt;åœ¨åŒä¸€vlanå†…è¿›è¡Œæ³›æ´ªï¼Œ&lt;strong&gt;å…¶æ¬¡&lt;/strong&gt;äº¤ç»™ä¸‰å±‚è§£å°çŠ¶å¤„ç†
&lt;ol&gt;
&lt;li&gt;å¦‚æœè¯·æ±‚çš„IPä¸ºäº¤æ¢æœºvlançš„IPï¼Œåˆ™è¿›è¡Œå›åº”&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸æ˜¯åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h2&gt;
&lt;h3 id=&#34;å¦‚ä½•åŒºåˆ«å•æ’­è¿˜æ˜¯ç»„æ’­&#34;&gt;å¦‚ä½•åŒºåˆ«å•æ’­è¿˜æ˜¯ç»„æ’­ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®æ•°æ®å¸§ä¸­çš„ç›®çš„MACè¿›è¡Œè¯†åˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœMACåœ°å€çš„ç¬¬8bitä¸º1åˆ™ä¸ºå¹¿æ’­æˆ–è€…ç»„æ’­ï¼Œè¿›è¡Œæ³›æ´ªå¤„ç†ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸º0åˆ™ä¸ºå•æ’­ï¼Œæ ¹æ®macåœ°å€è¡¨ä¿¡æ¯è¿›è¡Œè½¬å‘ã€æ³›æ´ªæˆ–è€…ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æœªçŸ¥å•æ’­å¸§å’Œå¹¿æ’­å¸§æ³›æ´ªçš„åŒºåˆ«&#34;&gt;æœªçŸ¥å•æ’­å¸§å’Œå¹¿æ’­å¸§æ³›æ´ªçš„åŒºåˆ«ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æœªçŸ¥å•æ’­å¸§æ³›æ´ªï¼šæ•°æ®å¸§çš„ç›®çš„macä¸åœ¨æœ¬åœ°macåœ°å€è¡¨ä¸­ï¼Œåˆ™è¿›è¡Œæ³›æ´ªå¤„ç†&lt;br&gt;
å¹¿æ’­å¸§æ³›æ´ªï¼šæ•°æ®å¸§çš„ç›®çš„macå…¨ä¸º1ï¼Œåˆ™è¿›è¡Œæ³›æ´ªå¤„ç†&lt;/p&gt;
&lt;h3 id=&#34;äºŒå±‚å¹¿æ’­å’Œä¸‰å±‚å¹¿æ’­çš„åŒºåˆ«&#34;&gt;äºŒå±‚å¹¿æ’­å’Œä¸‰å±‚å¹¿æ’­çš„åŒºåˆ«&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;äº§ç”ŸåŸå› &lt;/strong&gt;ï¼šäºŒå±‚å¹¿æ’­æ˜¯ç”±äºä¸çŸ¥é“ç›®çš„macè€Œäº§ç”Ÿçš„ï¼Œè€Œä¸‰å±‚å¹¿æ’­æ˜¯ç”±äºåº”ç”¨å±‚åè®®çš„éœ€æ±‚äº§ç”Ÿçš„ï¼Œä¾‹å¦‚DHCPçš„å‘ç°æŠ¥æ–‡ã€RIPçš„è¯·æ±‚æŠ¥æ–‡ç­‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤„ç†æ–¹å¼&lt;/strong&gt;ï¼šäº¤æ¢æœºå¯¹äºäºŒå±‚æˆ–è€…ä¸‰å±‚å¹¿æ’­æŠ¥æ–‡éƒ½æ˜¯åœ¨å¹¿æ’­åŸŸå†…æ³›æ´ªï¼›è€Œè·¯ç”±å™¨å¯¹äºä¸‰å±‚å¹¿æ’­ç›®çš„åœ°å€255.255.255.255çš„æ•°æ®æ˜¯äº¤ç»™CPUå¤„ç†çš„ï¼Œå¯¹äºäºŒå±‚ARPå¹¿æ’­å¯ä»¥å¼€å¯ARPä»£ç†æ¥å¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¯´äºŒå±‚äº¤æ¢æœºéš”ç¦»äº†å†²çªåŸŸï¼Œä½†æ˜¯æ²¡æœ‰éš”ç¦»å¹¿æ’­åŸŸï¼Œè€Œä¸‰å±‚è·¯ç”±å™¨å¯ä»¥ç»ˆç»“å¹¿æ’­ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥å¤„ç†å¹¿æ’­&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äº¤æ¢æœºå¤„ç†æ•°æ®çš„è¡Œä¸º&#34;&gt;äº¤æ¢æœºå¤„ç†æ•°æ®çš„è¡Œä¸ºï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ³›æ´ªï¼šæ”¶åˆ°æœªçŸ¥å•æ’­å¸§ã€ç»„æ’­å¸§ã€å¹¿æ’­å¸§æ—¶ä¼šè¿›è¡Œæ³›æ´ªå¤„ç†&lt;/li&gt;
&lt;li&gt;è½¬å‘ï¼šæ”¶åˆ°å·²çŸ¥å•æ’­å¸§&lt;/li&gt;
&lt;li&gt;ä¸¢å¼ƒï¼šå•æ’­å¸§çš„å…¥æ¥å£å’Œå‡ºæ¥å£ç›¸åŒæ—¶åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„æµé‡æ•´å½¢å‡ºæ¥å£çš„åŒºåˆ«&#34;&gt;äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„æµé‡æ•´å½¢å‡ºæ¥å£çš„åŒºåˆ«&lt;/h1&gt;
&lt;h2 id=&#34;1-è·¯ç”±å™¨æ•´å½¢&#34;&gt;1. è·¯ç”±å™¨æ•´å½¢&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1617602693660.png&#34; alt=&#34;è·¯ç”±å™¨æ•´å½¢åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æ•´å½¢ä¸€èˆ¬åœ¨&lt;strong&gt;å‡ºæ–¹å‘&lt;/strong&gt;ä¸Šåšï¼ŒåŸå› å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;å…¥æ–¹å‘æ²¡æœ‰ç¼“å­˜é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;å‡å¦‚ä¸Šæ¸¸è®¾å¤‡å‡ºæ–¹å‘åšäº†æ•´å½¢ï¼Œå³æ•°æ®æ¥æºæ–¹å‘åšäº†æ•´å½¢ï¼Œé‚£ä¹ˆä¸‹æ¸¸è®¾å¤‡çš„å…¥æ–¹å‘å°±ä¸ä¼šå‡ºç°è¶…å‡ºæµé‡äº†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨è·¯ç”±å™¨ä¸Šæ•´å½¢å¦‚ä½•é…ç½®ï¼Ÿ
&lt;ol&gt;
&lt;li&gt;åŸºäºæ¥å£æ•´å½¢&lt;code&gt;qos gts cir cbs&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸºäºé˜Ÿåˆ—æ•´å½¢&lt;code&gt;qos queue-profile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŸºäºMQCå®ç°æµé‡æ•´å½¢&lt;code&gt;traffic behavior gts cir cbs&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»¤ç‰Œæ¡¶ä½¿ç”¨å•é€Ÿå•æ¡¶&lt;br&gt;
&lt;code&gt;gtsåªèƒ½ç”¨åœ¨è·¯ç”±å™¨æ¥å£ï¼Œäº¤æ¢æœºåšä¸äº†GTSï¼Œäº¤æ¢æœºçš„æ¥å£ä¸ºäºŒå±‚æ¥å£ï¼Œè€ŒäºŒå±‚æ¥å£æ— æ³•é…ç½®GTSï¼Œå› ä¸ºGTSæ˜¯é’ˆå¯¹ä¸‰å±‚æµé‡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-äº¤æ¢æœºæ•´å½¢&#34;&gt;2. äº¤æ¢æœºæ•´å½¢&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1617603003957.png&#34; alt=&#34;äº¤æ¢æœºæ•´å½¢&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ä¹Ÿæ˜¯åœ¨å‡ºæ–¹å‘ä¸Šæ•´å½¢&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºçš„æ•´å½¢é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;åŸºäºé˜Ÿåˆ—&lt;code&gt;qos queue cir cbs pir pbs&lt;/code&gt;ï¼ŒåŠ å…¥pir=cir&lt;sub&gt;å³Pæ¡¶=Cæ¡¶&lt;/sub&gt;é‚£ä¹ˆç›¸å½“äºæ•ˆæœæ˜¯å•é€Ÿå•é€šä¸€æ ·çš„&lt;/li&gt;
&lt;li&gt;åŸºäºæ¥å£ï¼Œä½¿ç”¨æ¥å£é™é€Ÿ&lt;code&gt;qos lr outbound&lt;/code&gt;ï¼Œä½†æ­¤ç§æƒ…å†µé™é€Ÿçš„cirå¿…é¡»å¤§äºç­‰äºé˜Ÿåˆ—æ•´å½¢çš„cirä¹‹å’Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»¤ç‰Œæ¡¶ä½¿ç”¨åŒé€ŸåŒæ¡¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è·¯ç”±å™¨ä½¿ç”¨çš„æ˜¯å•é€Ÿå•é€šï¼Œäº¤æ¢æœºä½¿ç”¨çš„æ˜¯åŒé€ŸåŒæ¡¶&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨å¯ä»¥åŸºäºé˜Ÿåˆ—ã€MQCå’Œæ¥å£ï¼›è€Œäº¤æ¢æœºåªèƒ½åŸºäºé˜Ÿåˆ—å’Œæ¥å£åšqos lré™é€Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯ä»¤ç‰Œæ¡¶æŠ€æœ¯&lt;br&gt;
å•é€Ÿå•æ¡¶ï¼Œcir cbsï¼Œæ‰¿è¯ºä¿¡æ¯é€Ÿç‡ã€‚è‹¥ä¸€ä¸ªæ•°æ®åŒ…å¤§äºCæ¡¶ä¸­ä»¤ç‰Œï¼Œåˆ™ä¸ºçº¢è‰²ä¸é€šè¿‡ï¼›å°äºCæ¡¶ä»¤ç‰Œï¼Œåˆ™é€šè¿‡æ ‡è®°ç»¿è‰²&lt;br&gt;
å•é€ŸåŒæ¡¶ï¼Œcir cbs ebsï¼Œæ‰¿è¯ºçªå‘ã€‚è‹¥ä¸€ä¸ªæ•°æ®åŒ…å°äºCæ¡¶ä¸­ä»¤ç‰Œæ ‡è®°ä¸ºç»¿è‰²ï¼Œå‡å°‘Cæ¡¶ä»¤ç‰Œæ•°é‡ï¼›è‹¥å¤§äºCæ¡¶ä»¤ç‰Œï¼Œå°äºEæ¡¶ä»¤ç‰Œï¼Œåˆ™ä¸ºé»„è‰²ï¼Œå‡å°‘Eæ¡¶ä»¤ç‰Œæ•°é‡ï¼›è‹¥å¤§äºCEä¸­ä»¤ç‰Œï¼Œåˆ™æ ‡è®°çº¢è‰²&lt;br&gt;
åŒé€ŸåŒæ¡¶ï¼Œcir pir cbs pbsï¼Œå³°å€¼çªå‘ã€‚è‹¥ä¸€ä¸ªæ•°æ®åŒ…å°äºCæ¡¶Pæ¡¶ï¼Œåˆ™ä¸ºç»¿è‰²ï¼ŒåŒæ—¶å‡å°‘CPä¸¤æ¡¶ä»¤ç‰Œï¼Œæ ‡è®°ä¸ºç»¿è‰²ï¼›è‹¥å¤§äºCå°äºPï¼Œåˆ™æ ‡è®°é»„è‰²ï¼Œåªå‡å°‘Pæ¡¶ä»¤ç‰Œï¼›è‹¥å¤§äºPåˆ™æŠ¥æ–‡æ ‡è®°ä¸ºçº¢è‰²&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;## ä¸‰å±‚äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«
`äº¤æ¢è°‹å¿«ï¼Œè·¯ç”±è°‹è½¬`
### 1. ç¡¬ä»¶
`ä¸‰å±‚äº¤æ¢æœºåœ¨ç½‘ç»œæ”¶æ•›ä¸Šæ…¢äºè·¯ç”±å™¨å¹¶ä¸”æŠµæŠ—ç½‘ç»œéœ‡è¡çš„èƒ½åŠ›ä¹Ÿå¼±`
ä¸‰å±‚äº¤æ¢æœºæ˜¯é€šè¿‡äº¤æ¢èŠ¯ç‰‡è½¬å‘æ•°æ®çš„ï¼Œè·¯ç”±å™¨åˆ™æ˜¯é€šè¿‡cpuè½¬å‘æ•°æ®çš„
### 2. æ•°æ®çš„å¤„ç†æ–¹å¼
`ä¸‰å±‚äº¤æ¢æœºåœ¨æ•°æ®è½¬å‘ä¸Šçš„é€Ÿåº¦è¦ä¼˜äºè·¯ç”±å™¨`
ä¸‰å±‚äº¤æ¢æœºçš„é¦–åŒ…é€šè¿‡cpuè½¬å‘ï¼ŒåŒæ—¶é€šè¿‡arpåè®®å»ºç«‹äº¤æ¢èŠ¯ç‰‡ç¡¬ä»¶è¡¨é¡¹ï¼ˆmacåœ°å€ä¸ipåœ°å€çš„æ˜ å°„è¡¨ï¼‰ï¼Œåç»­æŠ¥æ–‡é€šè¿‡äº¤æ¢èŠ¯ç‰‡ç›´æ¥ç¡¬ä»¶è½¬å‘ï¼Œå³`ä¸€æ¬¡è·¯ç”±ï¼Œå¤šæ¬¡äº¤æ¢`ï¼Œäº¤æ¢æœºçš„ç¡¬ä»¶ä¸‰å±‚è¡¨é¡¹ä¸­åªåŒ…å«äº†ç›®çš„åœ°å€ã€ç›®çš„ipå¯¹åº”çš„macåœ°å€ã€å‡ºå£vlanåŠç«¯å£ã€‚
è·¯ç”±å™¨é€šè¿‡è·¯ç”±è¡¨é€‰æ‹©è·¯ç”±åï¼Œå°†è¯¥è·¯ç”±ä¸‹å‘åˆ°FIBï¼ˆè½¬å‘ä¿¡æ¯è¡¨ï¼‰è¡¨ä¸­ï¼Œæ•°æ®åˆ°è¾¾è·¯ç”±å™¨æ—¶ï¼Œé€šè¿‡FIBè¡¨çš„æœ€é•¿åŒ¹é…åŸåˆ™æŸ¥è¡¨è½¬å‘ã€‚
## 3. åŠŸèƒ½
è·¯ç”±å™¨æä¾›åŒ…æ‹¬åˆ†ç»„è¿‡æ»¤ã€åˆ†ç»„è½¬å‘ã€ä¼˜å…ˆçº§ã€å¤ç”¨ã€åŠ å¯†ã€ å‹ç¼©å’Œé˜²ç«å¢™ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”æ¥å£ç±»å‹ä¸°å¯Œï¼Œæ”¯æŒçš„ä¸‰å±‚åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒè´Ÿè½½åˆ†æ‹…ã€é“¾è·¯å¤‡ä»½ã€natè½¬æ¢ç­‰ï¼Œè·¯ç”±å™¨åœ¨å¤§å‹ç½‘ç»œä¸­çš„åè®®è®¡ç®—ï¼Œè·¯ç”±è¡¨å¤§å°ï¼Œæ”¶æ•›æ—¶é—´ç­‰éƒ½ä¼˜äºä¸‰å±‚äº¤æ¢æœºã€‚
ä¸‰å±‚äº¤æ¢æœºçš„ä¼˜ç‚¹åœ¨äºå¯ä»¥åŠ å¿«å±€åŸŸç½‘å†…æ•°æ®çš„äº¤æ¢ï¼Œå¹¶ä¸”åŠ å…¥è·¯ç”±åŠŸèƒ½ä¹Ÿæ˜¯ä¸ºè¿™ä¸ªç›®çš„æœåŠ¡çš„ã€‚ä¸€èˆ¬å°†ä¸‰å±‚äº¤æ¢æœºè¿ç”¨äºç½‘ç»œçš„æ ¸å¿ƒå±‚å’Œæ±‡èšå±‚ã€‚
## å¤„ç†æŠ¥æ–‡çš„åŒºåˆ«
å¯¹äºè·¯ç”±å™¨æ¥è®²ï¼Œæ˜¯ä¸€ä¸ªä¸‰å±‚è®¾å¤‡ï¼Œå½“ç„¶å…¼å…·äºŒå±‚çš„åŠŸèƒ½ï¼›
ä¸‰å±‚äº¤æ¢æœº**é…ç½®vlan interfaceæ¥å£ï¼Œé…å®Œåå°±ä¼šæœ‰ä¸€ä¸ªIPåœ°å€ï¼ŒåŒæ—¶æœ‰ä¸€ä¸ªIPåœ°å€æ‰€å¯¹åº”çš„macåœ°å€**
### 1. å•æ’­
1. è·¯ç”±å™¨ï¼š
è‹¥æ”¶åˆ°ä¸€ä¸ªäºŒå±‚å•æ’­å¸§ï¼Œè¦åˆ¤æ–­è¿™ä¸ªå¸§çš„**ç›®çš„macåœ°å€æ˜¯ä¸æ˜¯æ¥å£çš„macåœ°å€**ï¼š
    1. å¦‚æœç›®çš„mac**ä¸æ˜¯æ¥å£çš„macåœ°å€**ï¼Œç›´æ¥ä¸¢æ‰
    2. å¦‚æœæ˜¯ï¼Œè§£å°è£…å»çœ‹**ä¸‰å±‚ç›®çš„ipåœ°å€**ï¼Œå†çœ‹ä¸‰å±‚**ç›®çš„ipåœ°å€æ˜¯ä¸æ˜¯æ¥å£çš„ipåœ°å€**ï¼š
        1. å¦‚æœæ˜¯ï¼Œäº¤ç»™æ¥å£å¤„ç†
        2. å¦‚æœä¸æ˜¯ï¼Œå»æŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œç„¶åé‡æ–°å»åšä¸€ä¸ªäºŒå±‚å¸§çš„å°è£…ï¼Œç»§ç»­å¾€ä¸‹æŸ¥æ‰¾
2. äº¤æ¢æœºï¼š
    1. å¦‚æœ**ä¸æ˜¯äº¤æ¢æœºçš„macåœ°å€**ï¼Œå»çœ‹macåœ°å€è½¬å‘è¡¨
        1. å¦‚æœæœ‰ï¼Œç›´æ¥äºŒå±‚è½¬å‘ï¼Œä¸éœ€è¦ä¸Šé€åˆ°ä¸‰å±‚
        2. å¦‚æœæ²¡æœ‰ï¼ŒæœªçŸ¥å•æ’­æ³›æ´ª
    2. å¦‚æœæ”¶åˆ°çš„**ç›®çš„macåœ°å€æ˜¯äº¤æ¢æœºçš„macåœ°å€**çš„è¯ï¼Œå…ˆæŠŠäºŒå±‚å¸§è§£å°è£…ï¼ŒæŠŠå®ƒé€ç»™ä¸‰å±‚å¤„ç†ï¼Œå»æŸ¥æ‰¾è·¯ç”±è¡¨
### 2. ç»„æ’­
1. è·¯ç”±å™¨ï¼š
è‹¥æ”¶åˆ°ä¸€ä¸ªäºŒå±‚ç»„æ’­å¸§ï¼Œè¦çœ‹è·¯ç”±å™¨çš„æ¥å£æœ‰æ²¡æœ‰åŠ å…¥è¿™ä¸ªç»„
    1. ç¼ºçœæƒ…å†µä¸‹ï¼Œè·¯ç”±å™¨æ¥å£åŠ å…¥äº†224.0.0.1ã€224.0.0.2ï¼ˆä½¿èƒ½äº†ç»„æ’­åŠŸèƒ½å°±åŠ å…¥äº†ï¼‰
    2. å¦‚æœè·¯ç”±å™¨æ¥å£æ²¡æœ‰åŠ å…¥åˆ°è¿™ä¸ªç»„æ’­ç»„ï¼Œé‚£ä¹ˆä¸¢å¼ƒ
2. äº¤æ¢æœºï¼š
    1. è‹¥æ”¶åˆ°ä¸€ä¸ªäºŒå±‚ç»„æ’­å¸§ï¼Œæœç€æ‰€æœ‰ç«¯å£æ³›æ´ª
    2. å¹¶ä¸”æŠŠç»„æ’­å¸§è§£å°è£…ï¼Œé€åˆ°vlan interfaceæ¥å£ï¼Œçœ‹ä¸€ä¸‹æ¥å£æœ‰æ²¡æœ‰åŠ å…¥åˆ°è¿™ä¸ªç»„ï¼Œå¦‚æœåŠ å…¥äº†è¦å»å“åº”æˆ–è€…å¤„ç†ï¼Œ å¦åˆ™ä¸ä¼šå“åº”ä¹Ÿä¸ä¼šå¤„ç†
### 3. å¹¿æ’­
1. è·¯ç”±å™¨
    1. å¦‚æœæ˜¯arpå¹¿æ’­ï¼Œå®ƒå°±ä¼šè§£å°è£…ï¼Œ**çœ‹arpä¿¡æ¯é‡Œè¯·æ±‚çš„ipåœ°å€æ˜¯è°**
        1. å¦‚æœè¯·æ±‚çš„**æ˜¯è·¯ç”±å™¨æ‰€åœ¨æ¥å£çš„IPåœ°å€**ï¼Œåˆ™è¿›è¡Œå“åº”
        2. å¦‚æœè¯´è¯·æ±‚çš„IPåœ°å€**ä¸æ˜¯è·¯ç”±å™¨æ¥å£çš„IPåœ°å€**
            1. è·¯ç”±å™¨**æ²¡æœ‰å¼€å¯ARPä»£ç†**ï¼Œåˆ™ä¸¢å¼ƒ
            2. å¼€å¯äº†ARPä»£ç†ï¼Œè·¯ç”±å™¨å»åˆ¤æ–­æœ‰æ²¡æœ‰å»å¾€ç›®æ ‡ç½‘æ®µçš„è·¯ç”±ï¼Œå¦‚æœæœ‰ï¼Œå°±å»åšä»£ç†
2. äº¤æ¢æœº
    1. è‹¥æ”¶åˆ°ä¸€ä¸ªäºŒå±‚å¹¿æ’­å¸§ï¼Œæ¯”å¦‚ARPå¹¿æ’­ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œä¼šæœç€æ‰€æœ‰æ¥å£å»æ³›æ´ª
    2. é™¤æ­¤ä¹‹å¤–ï¼Œå› ä¸ºæ˜¯ä¸‰å±‚äº¤æ¢æœºï¼Œä¼šæŠŠARPäºŒå±‚è§£å°è£…ï¼ŒæŸ¥çœ‹ARPé‡Œé¢çš„å†…å®¹ï¼Œçœ‹ä¸€ä¸‹**è¯·æ±‚çš„ipåœ°å€æ˜¯ä¸æ˜¯ä¸‰å±‚äº¤æ¢æœºvlan interfaceçš„IPåœ°å€**ï¼Œå¦‚æœæ˜¯å°±å›å¤ï¼Œå¦åˆ™ä¸¢å¼ƒ
&lt;/code&gt;&lt;/pre&gt;
">é¢è¯•é¢˜ç›®è¡¥å……</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/qos/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#3%E7%A7%8D%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B&#34;&gt;3ç§æœåŠ¡æ¨¡å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%B0%BD%E5%8A%9B%E8%80%8C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B&#34;&gt;1. å°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BB%BC%E5%90%88%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B&#34;&gt;2. ç»¼åˆæœåŠ¡æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%8C%BA%E5%88%86%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B%E5%BA%94%E7%94%A8%E6%9C%80%E5%B9%BF&#34;&gt;3. åŒºåˆ†æœåŠ¡æ¨¡å‹ï¼ˆåº”ç”¨æœ€å¹¿ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB%E4%B8%8E%E6%A0%87%E8%AE%B0&#34;&gt;åˆ†ç±»ä¸æ ‡è®°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#qos%E6%8A%A5%E6%96%87%E5%88%86%E7%B1%BB%E6%96%B9%E5%BC%8F&#34;&gt;QoSæŠ¥æ–‡åˆ†ç±»æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%A4%8D%E6%9D%82%E6%B5%81%E5%88%86%E7%B1%BBmqc%E6%B5%81%E5%88%86%E7%B1%BB&#34;&gt;1. å¤æ‚æµåˆ†ç±»ï¼ˆMQCæµåˆ†ç±»ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%AE%80%E5%8D%95%E6%B5%81%E5%88%86%E7%B1%BBqos%E4%BC%98%E5%85%88%E7%BA%A7%E5%88%86%E7%B1%BB&#34;&gt;2. ç®€å•æµåˆ†ç±»ï¼ˆQoSä¼˜å…ˆçº§åˆ†ç±»ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#phb&#34;&gt;PHB&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-be000-000%E5%B0%BD%E5%8A%9B%E8%80%8C%E4%B8%BAbest-effort&#34;&gt;1. BE(000 000)ï¼ˆå°½åŠ›è€Œä¸ºï¼ŒBest-effortï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-afxxx-xx-0%E7%A1%AE%E4%BF%9D%E8%BD%AC%E5%8F%91assured-forwarding&#34;&gt;2. AF(xxx xx 0)ï¼ˆç¡®ä¿è½¬å‘ï¼ŒAssured Forwardingï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-ef101-11-0%E5%BF%AB%E9%80%9F%E8%BD%AC%E5%8F%91expedited-forwarding&#34;&gt;3. EF(101 11 0)ï¼ˆå¿«é€Ÿè½¬å‘ï¼ŒExpedited Forwardingï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-cs&#34;&gt;4. CS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dscp%E5%B7%AE%E5%88%86%E6%9C%8D%E5%8A%A1%E4%BB%A3%E7%A0%81%E7%82%B9%E5%92%8Cippip%E4%BC%98%E5%85%88%E7%BA%A7%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;DSCPï¼ˆå·®åˆ†æœåŠ¡ä»£ç ç‚¹ï¼‰å’ŒIPPï¼ˆipä¼˜å…ˆçº§ï¼‰çš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95&#34;&gt;é…ç½®æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cos%E5%92%8Ctos%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;COSå’ŒTOSçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%85%88%E7%BA%A7%E6%98%A0%E5%B0%84%E6%96%B9%E5%BC%8F&#34;&gt;ä¼˜å…ˆçº§æ˜ å°„æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8B%A5%E5%A1%9E%E9%81%BF%E5%85%8D&#34;&gt;æ‹¥å¡é¿å…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%BC%A0%E7%BB%9F%E7%9A%84%E5%B0%BE%E9%83%A8%E4%B8%A2%E5%8C%85%E7%AD%96%E7%95%A5&#34;&gt;1. ä¼ ç»Ÿçš„å°¾éƒ¨ä¸¢åŒ…ç­–ç•¥&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#tcp%E5%85%A8%E5%B1%80%E5%90%8C%E6%AD%A5&#34;&gt;TCPå…¨å±€åŒæ­¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mss%E5%92%8Cmtu%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;MSSå’ŒMTUçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-wred&#34;&gt;2. WRED&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95-2&#34;&gt;é…ç½®æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8B%A5%E5%A1%9E%E7%AE%A1%E7%90%86&#34;&gt;æ‹¥å¡ç®¡ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%9F%BA%E4%BA%8E%E9%98%9F%E5%88%97%E7%9A%84%E6%8B%A5%E5%A1%9E%E7%AE%A1%E7%90%86&#34;&gt;1. åŸºäºé˜Ÿåˆ—çš„æ‹¥å¡ç®¡ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B0%83%E5%BA%A6%E6%96%B9%E6%B3%95%E5%88%86%E7%B1%BB&#34;&gt;è°ƒåº¦æ–¹æ³•åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-fifo%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E5%B0%BD%E5%8A%9B%E8%80%8C%E4%B8%BA%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9E%8B%E4%BD%BF%E7%94%A8&#34;&gt;1. FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼Œå°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹ä½¿ç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-pq%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97&#34;&gt;2. PQï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-rr%E8%BD%AE%E8%AF%A2&#34;&gt;3. RRï¼ˆè½®è¯¢ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-wrr%E5%8A%A0%E6%9D%83%E8%BD%AE%E8%AF%A2%E9%98%9F%E5%88%97&#34;&gt;4. WRRï¼ˆåŠ æƒè½®è¯¢é˜Ÿåˆ—ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-fq%E5%85%AC%E5%B9%B3%E9%98%9F%E5%88%97&#34;&gt;5. FQï¼ˆå…¬å¹³é˜Ÿåˆ—ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-drr%E5%B7%AE%E9%A2%9D%E8%BD%AE%E8%AF%A2%E8%B0%83%E5%BA%A6&#34;&gt;6. DRRï¼ˆå·®é¢è½®è¯¢è°ƒåº¦ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-wfq%E5%8A%A0%E6%9D%83%E5%85%AC%E5%B9%B3%E9%98%9F%E5%88%97&#34;&gt;7. WFQï¼ˆåŠ æƒå…¬å¹³é˜Ÿåˆ—ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-%E7%BB%84%E5%90%88%E9%98%9F%E5%88%97&#34;&gt;6. ç»„åˆé˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95-3&#34;&gt;é…ç½®æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%9F%BA%E4%BA%8E%E7%B1%BB%E7%9A%84%E6%8B%A5%E5%A1%9E%E7%AE%A1%E7%90%86&#34;&gt;2. åŸºäºç±»çš„æ‹¥å¡ç®¡ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%9F%E5%88%97%E5%88%86%E7%B1%BB&#34;&gt;é˜Ÿåˆ—åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ef%E9%98%9F%E5%88%97&#34;&gt;1. EFé˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-af%E9%98%9F%E5%88%97&#34;&gt;2. AFé˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-be%E9%98%9F%E5%88%97&#34;&gt;3. BEé˜Ÿåˆ—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95-4&#34;&gt;é…ç½®æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%81%E9%87%8F%E7%AE%A1%E7%90%86&#34;&gt;æµé‡ç®¡ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%B5%81%E9%87%8F%E7%9B%91%E7%AE%A1tp&#34;&gt;1. æµé‡ç›‘ç®¡TP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8&#34;&gt;åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%B5%81%E9%87%8F%E6%95%B4%E5%BD%A2ts&#34;&gt;2. æµé‡æ•´å½¢TS&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9-2&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86-2&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%81%E9%87%8F%E6%95%B4%E5%BD%A2%E7%9A%84%E6%96%B9%E6%B3%95&#34;&gt;æµé‡æ•´å½¢çš„æ–¹æ³•&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-lr%E6%8E%A5%E5%8F%A3%E9%99%90%E9%80%9F&#34;&gt;1. LRï¼ˆæ¥å£é™é€Ÿï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-gts%E9%80%9A%E7%94%A8%E6%B5%81%E9%87%8F%E6%95%B4%E5%BD%A2&#34;&gt;2. GTSï¼ˆé€šç”¨æµé‡æ•´å½¢ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-frts%E5%B8%A7%E4%B8%AD%E7%BB%A7%E6%B5%81%E9%87%8F%E6%95%B4%E5%BD%A2&#34;&gt;3. FRTSï¼ˆå¸§ä¸­ç»§æµé‡æ•´å½¢ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%BB%A4%E7%89%8C%E6%A1%B6%E6%8A%80%E6%9C%AF&#34;&gt;3. ä»¤ç‰Œæ¡¶æŠ€æœ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8-2&#34;&gt;åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%8D%95%E9%80%9F%E5%8D%95%E6%A1%B6&#34;&gt;1. å•é€Ÿå•æ¡¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%8D%95%E9%80%9F%E5%8F%8C%E6%A1%B6&#34;&gt;2. å•é€ŸåŒæ¡¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%8F%8C%E9%80%9F%E5%8F%8C%E6%A1%B6&#34;&gt;3. åŒé€ŸåŒæ¡¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615205982393.png&#34; alt=&#34;QoSä¸šåŠ¡çš„å¤„ç†æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;3ç§æœåŠ¡æ¨¡å‹&#34;&gt;3ç§æœåŠ¡æ¨¡å‹&lt;/h1&gt;
&lt;h2 id=&#34;1-å°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹&#34;&gt;1. å°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;ä¼ ç»Ÿçš„&lt;strong&gt;å…ˆè¿›å…ˆå‡º&lt;/strong&gt;è½¬å‘å³Best-Effortï¼ˆå°½åŠ›è€Œä¸ºï¼‰æœåŠ¡æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Best-Effortæ˜¯ä¸€ä¸ªå•ä¸€çš„æœåŠ¡æ¨¡å‹ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„æœåŠ¡æ¨¡å‹ã€‚åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä»»ä½•æ—¶å€™ï¼Œå‘å‡ºä»»æ„æ•°é‡çš„æŠ¥æ–‡ï¼Œè€Œä¸”ä¸éœ€è¦äº‹å…ˆè·å¾—æ‰¹å‡†ï¼Œä¹Ÿä¸éœ€è¦é€šçŸ¥ç½‘ç»œã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨Best-EffortæœåŠ¡æ¨¡å‹çš„ç½‘ç»œå°½æœ€å¤§çš„å¯èƒ½æ€§æ¥å‘é€æŠ¥æ–‡ï¼Œä½†å¯¹æ—¶å»¶ã€å¯é æ€§ç­‰æ€§èƒ½ä¸æä¾›ä»»ä½•ä¿è¯ï¼Œä½†å®ƒé€‚ç”¨äºç»å¤§å¤šæ•°ç½‘ç»œåº”ç”¨ï¼Œå¦‚FTPã€E-Mailç­‰ã€‚&lt;/li&gt;
&lt;li&gt;Best-EffortæœåŠ¡æ˜¯ç°åœ¨Internetçš„&lt;strong&gt;ç¼ºçœæœåŠ¡æ¨¡å‹&lt;/strong&gt;ï¼Œå®ƒæ˜¯é€šè¿‡&lt;strong&gt;å…ˆå…¥å…ˆå‡º&lt;/strong&gt;ï¼ˆFIFOï¼‰é˜Ÿåˆ—æ¥å®ç°çš„ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å°½åŠ›è€Œä¸ºçš„æœåŠ¡æ¨¡å‹ä¸‹ï¼Œå¯é€šè¿‡å¢å¤§ç½‘ç»œå¸¦å®½å’Œå‡çº§ç½‘ç»œè®¾å¤‡æ¥æé«˜ç«¯åˆ°ç«¯é€šä¿¡è´¨é‡&lt;/li&gt;
&lt;li&gt;ä¼˜ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå®ç°æœºåˆ¶ç®€å•ï¼Œä¸éœ€è¦é…ç½®&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šä¼˜å…ˆçº§é«˜çš„æµé‡å¾—ä¸åˆ°ä¼˜å…ˆè½¬å‘ï¼›å¦‚æœéœ€è¦å‡çº§ç½‘ç»œåˆ™æˆæœ¬å¤§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-ç»¼åˆæœåŠ¡æ¨¡å‹&#34;&gt;2. ç»¼åˆæœåŠ¡æ¨¡å‹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨åˆ°RSVPåè®®ï¼ˆèµ„æºé¢„ç•™åè®®ï¼‰ï¼Œè¯¥æœåŠ¡æ¨¡å‹åœ¨å‘é€æŠ¥æ–‡å‰ï¼Œéœ€è¦å‘ç½‘ç»œç”³è¯·ç‰¹å®šçš„æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªè¯·æ±‚æ˜¯é€šè¿‡ä¿¡ä»¤ï¼ˆsignalï¼‰æ¥å®Œæˆçš„ï¼Œåº”ç”¨ç¨‹åºé¦–å…ˆ&lt;strong&gt;é€šçŸ¥ç½‘ç»œå®ƒè‡ªå·±çš„æµé‡å‚æ•°å’Œæ‰€éœ€çš„ç‰¹å®šæœåŠ¡è´¨é‡çš„è¯·æ±‚&lt;/strong&gt;ï¼ŒåŒ…æ‹¬å¸¦å®½ã€æ—¶å»¶ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºä¸€èˆ¬åœ¨æ”¶åˆ°ç½‘ç»œçš„ç¡®è®¤ä¿¡æ¯åï¼Œå³è®¤ä¸ºç½‘ç»œå·²ç»ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºçš„æŠ¥æ–‡å‘é€é¢„ç•™äº†èµ„æºï¼Œç„¶åç«‹å³å‘é€æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨RSVPåœ¨æºå’Œç›®çš„ä¹‹é—´é¢„ç•™ä¸€æ¡æ•°æ®é€šé“ï¼Œå¯ä¿éšœé«˜ä¼˜å…ˆçº§çš„æµé‡æœ‰è¶³å¤Ÿçš„å¸¦å®½&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¯ä¿éšœé«˜ä¼˜å…ˆçº§æµé‡å¸¦å®½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå®ç°è¾ƒå¤æ‚ï¼›å½“æ— æµé‡å‘é€æ—¶ï¼Œä»ç„¶ç‹¬å å¸¦å®½ï¼Œä½¿ç”¨ç‡è¾ƒä½ï¼›è¯¥æ–¹æ¡ˆè¦æ±‚ç«¯åˆ°ç«¯æ‰€æœ‰èŠ‚ç‚¹è®¾å¤‡éƒ½æ”¯æŒå¹¶è¿è¡ŒRSVPåè®®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-åŒºåˆ†æœåŠ¡æ¨¡å‹åº”ç”¨æœ€å¹¿&#34;&gt;3. åŒºåˆ†æœåŠ¡æ¨¡å‹ï¼ˆåº”ç”¨æœ€å¹¿ï¼‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¸šåŠ¡æµåˆ†ç±»å’Œæ ‡è®°ç”±è¾¹ç¼˜è·¯ç”±å™¨æ¥å®Œæˆï¼ŒDiffServæ˜¯&lt;strong&gt;ä¸€ç§åŸºäºæŠ¥æ–‡æµçš„QoSæ¨¡å‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¾¹ç•Œè·¯ç”±å™¨å¯ä»¥é€šè¿‡å¤šç§æ¡ä»¶ï¼ˆæ¯”å¦‚æŠ¥æ–‡çš„æºåœ°å€å’Œç›®çš„åœ°å€ã€ToS åŸŸä¸­çš„ä¼˜å…ˆçº§ã€åè®®ç±»å‹ç­‰ï¼‰çµæ´»åœ°å¯¹æŠ¥æ–‡è¿›è¡Œåˆ†ç±»ï¼Œç„¶åå¯¹ä¸åŒç±»å‹çš„æŠ¥æ–‡è®¾ç½®ä¸åŒçš„æ ‡è®°å­—æ®µï¼Œè€Œå…¶ä»–è·¯ç”±å™¨åªéœ€è¦ç®€å•åœ°è¯†åˆ«æŠ¥æ–‡ä¸­çš„è¿™äº›æ ‡è®°ï¼Œç„¶åå¯¹å…¶è¿›è¡Œç›¸åº”çš„èµ„æºåˆ†é…å’Œæµé‡æ§åˆ¶&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šä¸åŒä¸šåŠ¡å¯ä»¥å¾—åˆ°ä¸åŒçš„æœåŠ¡è´¨é‡ï¼›å¯å¯¹æµé‡åŠ äºåŒºåˆ†å¯¹å¾…ï¼Œé«˜ä¼˜å…ˆçº§æµé‡å¯å¾—åˆ°é«˜çš„æœåŠ¡ï¼Œä¸”çº¿è·¯åˆ©ç”¨ç‡é«˜&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå¯¹äººå‘˜è¦æ±‚è¾ƒé«˜ï¼›æ•°æ®åŒ…è¿‡äº†è·¯ç”±å™¨ä»¥åï¼Œå…ˆå¯¹æ•°æ®åŒ…è¿›è¡Œåˆ†ç±»ï¼Œåˆ†ç±»åå¯ä»¥è¿›è¡Œç›¸åº”çš„æ ‡è®°ï¼Œæ ‡è®°å®Œå¯ä»¥è¿›è¡Œæµé‡ç®¡ç†ï¼Œç„¶åæ˜¯æµé‡çš„æ‹¥å¡ç®¡ç†ï¼Œè¿˜æœ‰ä¸ªæ‹¥å¡é¿å…ï¼ˆå¹³è¡Œå…³ç³»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åˆ†ç±»ä¸æ ‡è®°&#34;&gt;åˆ†ç±»ä¸æ ‡è®°&lt;/h1&gt;
&lt;p&gt;æŠŠæŠ¥æ–‡åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œç„¶åæ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼ŒåæœŸè½¬å‘åˆ™æ ¹æ®ä¸åŒçš„æ ‡è®°æ¥åˆ¤å®šæŠ¥æ–‡çš„ä¼˜å…ˆçº§ï¼Œä¸åŒä¼˜å…ˆçº§åˆ™æœ‰ä¸åŒçš„è½¬å‘è¡Œä¸º&lt;/p&gt;
&lt;h2 id=&#34;qosæŠ¥æ–‡åˆ†ç±»æ–¹å¼&#34;&gt;QoSæŠ¥æ–‡åˆ†ç±»æ–¹å¼&lt;/h2&gt;
&lt;h3 id=&#34;1-å¤æ‚æµåˆ†ç±»mqcæµåˆ†ç±»&#34;&gt;1. å¤æ‚æµåˆ†ç±»ï¼ˆMQCæµåˆ†ç±»ï¼‰&lt;/h3&gt;
&lt;p&gt;å¤æ‚æµåˆ†ç±»å³é‡‡ç”¨å¤æ‚çš„è§„åˆ™ï¼Œå¦‚ç”±äº”å…ƒç»„ï¼ˆæºåœ°å€ã€æºç«¯å£å·ã€åè®®å·ç ã€ç›®çš„åœ°å€ã€ç›®çš„ç«¯å£å·ï¼‰å¯¹æŠ¥æ–‡è¿›è¡Œç²¾ç»†çš„åˆ†ç±»ï¼Œé€šè¿‡å°†æŸäº›å…·æœ‰ç›¸åŒç‰¹å¾çš„æŠ¥æ–‡åˆ’åˆ†ä¸ºä¸€ç±»ï¼Œå¹¶ä¸ºè¿™ä¸€ç±»æŠ¥æ–‡æä¾›ç›¸åŒçš„QoSæœåŠ¡ã€‚&lt;br&gt;
å¤æ‚æµåˆ†ç±»å¯ä»¥é€šè¿‡æ¨¡å—åŒ–QoSå‘½ä»¤è¡ŒMQCä¸­çš„æµåˆ†ç±»å®ç°ã€‚&lt;br&gt;
MQCåŒ…å«ä¸‰ä¸ªè¦ç´ ï¼Œåˆ†åˆ«æ˜¯&lt;strong&gt;æµåˆ†ç±»ã€æµè¡Œä¸ºå’Œæµç­–ç•¥&lt;/strong&gt;ï¼Œä¸‰è¦ç´ é€šè¿‡ä¸‹é¢çš„æ–¹å¼é…åˆä½¿ç”¨å®Œæˆå¯¹æµé‡çš„å¤„ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æµåˆ†ç±»ï¼Œå®šä¹‰æŠ¥æ–‡åŒ¹é…è§„åˆ™&lt;/li&gt;
&lt;li&gt;é…ç½®æµè¡Œä¸ºï¼Œç¡®å®šæŠ¥æ–‡å¤„ç†åŠ¨ä½œï¼Œæ ¹æ®ä¸åŒçš„æµè¡Œä¸ºï¼Œå¯ä»¥å®ç°ä¸åŒçš„QoSåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;é…ç½®æµç­–ç•¥ï¼Œå°†é…ç½®å¥½çš„æµåˆ†ç±»å’Œæµè¡Œä¸ºç»‘å®šåˆ°ä¸€èµ·ååœ¨æŒ‡å®šè§†å›¾ä¸‹åº”ç”¨æµç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-ç®€å•æµåˆ†ç±»qosä¼˜å…ˆçº§åˆ†ç±»&#34;&gt;2. ç®€å•æµåˆ†ç±»ï¼ˆQoSä¼˜å…ˆçº§åˆ†ç±»ï¼‰&lt;/h3&gt;
&lt;p&gt;ç®€å•æµåˆ†ç±»å°±æ˜¯æŒ‡é‡‡ç”¨ç®€å•çš„è§„åˆ™ï¼Œæ ¹æ®æŠ¥æ–‡ä¸­çš„æŸä¸ªä¼˜å…ˆçº§å­—æ®µï¼Œå¯¹æŠ¥æ–‡è¿›è¡Œç²—ç•¥çš„åˆ†ç±»&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¤–éƒ¨ä¼˜å…ˆçº§&lt;/strong&gt;ï¼ˆæŠ¥æ–‡ä¼˜å…ˆçº§ã€QoSä¼˜å…ˆçº§ï¼‰&lt;br&gt;
ä½¿ç”¨æŠ¥æ–‡ä¸­&lt;code&gt;æŸäº›ç‰¹å®šå­—æ®µ&lt;/code&gt;ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ&lt;strong&gt;è®¾å¤‡åªå¯ä»¥æ ¹æ®è®¾å¤‡å†…éƒ¨ä¼˜å…ˆçº§å¤„ç†æ”¶åˆ°çš„æŠ¥æ–‡&lt;/strong&gt;ï¼Œä¸ºä¸åŒçš„ä¸šåŠ¡æä¾›ä¸åŒçš„QoSæœåŠ¡ï¼Œæ‰€ä»¥ä¸Šè¿°&lt;strong&gt;å¤–éƒ¨ä¼˜å…ˆçº§åœ¨è¿›å…¥è®¾å¤‡åä¼šæ˜ å°„ä¸ºè®¾å¤‡å†…éƒ¨çš„ä¼˜å…ˆçº§&lt;/strong&gt;ã€‚ç‰¹å®šå­—æ®µï¼ˆå³åˆ†ç±»ä¾æ®ï¼‰å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;802.1Q VLAN tagä¸­PRIï¼ˆpriorityï¼‰å­—æ®µï¼Œ3æ¯”ç‰¹ï¼Œå–å€¼0-7&lt;/li&gt;
&lt;li&gt;mplsæ ¼å¼ä¸­çš„EXPï¼ˆexperimentalï¼‰å­—æ®µï¼Œ3æ¯”ç‰¹ï¼Œå–å€¼0-7&lt;/li&gt;
&lt;li&gt;IPv4å¤´éƒ¨ä¸­TOSï¼ˆtype of serverï¼‰å­—æ®µï¼Œ8æ¯”ç‰¹
&lt;ol&gt;
&lt;li&gt;å‰3æ¯”ç‰¹ï¼Œå«IPPï¼ˆIP precedenceï¼ŒIPä¼˜å…ˆçº§ï¼‰ï¼Œå–å€¼0-7&lt;/li&gt;
&lt;li&gt;åæœŸå‘ç°ä¸å¤Ÿç”¨ï¼Œæ‰€æœ‰ç”¨äº†å‰6ä½ï¼Œå«DSCPï¼ˆåŒºåˆ†æœåŠ¡ä»£ç ç‚¹ï¼‰ï¼Œå–å€¼0-63&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…éƒ¨ä¼˜å…ˆçº§&lt;/strong&gt;ï¼ˆæœåŠ¡ç­‰çº§CoSã€&lt;strong&gt;PHBè¡Œä¸º(æ¯ä¸€è·³è¡Œä¸º)&lt;/strong&gt;ã€æœ¬åœ°ä¼˜å…ˆçº§ï¼‰&lt;br&gt;
æ”¯æŒ8ç§å–å€¼ï¼Œå³8ä¸ªé˜Ÿåˆ—ä¼˜å…ˆçº§ï¼Œ&lt;strong&gt;ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¾æ¬¡ä¸ºCS7ã€CS6ã€EFã€AF4ã€AF3ã€AF2ã€AF1ã€BE&lt;/strong&gt;ï¼Œä¸å‡ºç«¯å£çš„8ä¸ªé˜Ÿåˆ—ä»é«˜åˆ°ä½ä¾æ¬¡å¯¹åº”ï¼Œå› æ­¤&lt;strong&gt;å†…éƒ¨ä¼˜å…ˆçº§å†³å®šäº†æŠ¥æ–‡åœ¨è®¾å¤‡å†…éƒ¨æ‰€å±çš„é˜Ÿåˆ—&lt;/strong&gt;&lt;br&gt;
å½“é’ˆå¯¹æŸä¸€ä¸ªé˜Ÿåˆ—é…ç½®QoSä¸šåŠ¡æ—¶ï¼Œå³å¯¹æ‰€æœ‰é€šè¿‡è¯¥é˜Ÿåˆ—è½¬å‘çš„æŠ¥æ–‡éƒ½è®¾ç½®äº†ç›¸åŒçš„QoSæœåŠ¡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸¢å¼ƒä¼˜å…ˆçº§&lt;/strong&gt;ï¼ˆé¢œè‰²ï¼‰&lt;br&gt;
æŠ¥æ–‡åœ¨è®¾å¤‡å†…éƒ¨çš„&lt;strong&gt;ä¸¢å¼ƒä¼˜å…ˆçº§&lt;/strong&gt;ï¼Œç”¨äºå†³å®š&lt;strong&gt;å½“ä¸€ä¸ªé˜Ÿåˆ—å‘ç”Ÿæ‹¥å¡æ—¶æŠ¥æ–‡çš„ä¸¢å¼ƒé¡ºåº&lt;/strong&gt;ï¼Œä¸¢å¼ƒä¼˜å…ˆçº§æœ‰3ç§å–å€¼ï¼Œ&lt;strong&gt;ä»ä½åˆ°é«˜ä¾æ¬¡ä¸ºGreenã€Yellowã€Red&lt;/strong&gt;ã€‚&lt;strong&gt;ç¼ºçœæƒ…å†µä¸‹ï¼Œä¸¢å¼ƒä¼˜å…ˆçº§è¶Šé«˜&lt;/strong&gt;ï¼Œåˆ™é˜Ÿåˆ—å‘ç”Ÿæ‹¥å¡æ—¶ï¼Œå¯¹åº”ä¼˜å…ˆçº§çš„æŠ¥æ–‡ä¼šè¢«ä¼˜å…ˆä¸¢å¼ƒã€‚&lt;br&gt;
&lt;strong&gt;æŠ¥æ–‡æ˜¯å¦ä¼šè¢«ä¼˜å…ˆä¸¢å¼ƒå®é™…å–å†³äºå‚æ•°çš„é…ç½®&lt;/strong&gt;ï¼Œä¾‹å¦‚é…ç½®WREDä¸¢å¼ƒæ¨¡æ¿ä¸­Greenæœ€å¤§åªèƒ½ä½¿ç”¨50%ç¼“å­˜ï¼ŒRedæœ€å¤§å¯ä»¥ä½¿ç”¨100%ç¼“å­˜ï¼Œåˆ™é˜Ÿåˆ—å‘ç”Ÿæ‹¥å¡æ—¶ï¼Œæ ‡è®°ä¸ºGreençš„æŠ¥æ–‡å°†æ¯”æ ‡è®°ä¸ºRedçš„æŠ¥æ–‡ä¼˜å…ˆä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¤æ‚æµåˆ†ç±»ä¸ç®€å•æµåˆ†ç±»çš„å…³ç³»&lt;/strong&gt;ï¼š&lt;br&gt;
é€šè¿‡å¤æ‚æµåˆ†ç±»ä¹Ÿå¯ä»¥å¯¹ç‰¹å®šçš„QoSä¼˜å…ˆçº§æŠ¥æ–‡è¿›è¡Œè¯†åˆ«ï¼Œåªæ˜¯éœ€è¦ä»¥MQCæµåˆ†ç±»çš„æ–¹å¼å»å®ç°&lt;br&gt;
éœ€è¦é…ç½®MQCæµåˆ†ç±»å»å®ç°çš„æŠ¥æ–‡åˆ†ç±»éƒ½å±äºå¤æ‚æµåˆ†ç±»&lt;br&gt;
ä¸éœ€è¦é…ç½®MQCæµåˆ†ç±»ï¼Œç›´æ¥æ ¹æ®æŠ¥æ–‡ä¸­çš„å¤–éƒ¨ä¼˜å…ˆçº§æ˜ å°„çš„å†…éƒ¨ä¼˜å…ˆçº§å’Œä¸¢å¼ƒä¼˜å…ˆçº§å»è¿›è¡ŒæŠ¥æ–‡åˆ†ç±»çš„å°±æ˜¯ç®€å•æµåˆ†ç±»&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;phb&#34;&gt;PHB&lt;/h4&gt;
&lt;p&gt;æ¯ä¸€è·³è¡Œä¸ºï¼Œå³è®¾å¤‡å¯¹æŠ¥æ–‡çš„å¤„ç†ï¼Œåªå®šä¹‰äº†ä¸€äº›å¤–éƒ¨å¯è§çš„è½¬å‘è¡Œä¸ºï¼Œå¹¶æ²¡æœ‰æŒ‡å®šç‰¹å®šçš„å®ç°æ–¹å¼ã€‚&lt;br&gt;
&lt;strong&gt;PHBä½“ç°çš„æ˜¯ç­‰çº§çš„é«˜ä½ï¼Œè€Œä¸æ˜¯æœåŠ¡è´¨é‡QoSçš„å¥½å&lt;/strong&gt;ï¼Œå³CSçš„ç­‰çº§æœ€é«˜ä¸ä»£è¡¨æœåŠ¡è´¨é‡æœ€å¥½ã€BEçš„ç­‰çº§æœ€ä½ä¸ä»£è¡¨æœåŠ¡è´¨é‡æœ€å·®ã€‚PHBåªæ˜¯é€è·³è¡Œä¸ºï¼Œè€ŒæœåŠ¡è´¨é‡æ˜¯ç«¯åˆ°ç«¯çš„ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617775795416.png&#34; alt=&#34;PHB1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615214475383.png&#34; alt=&#34;PHB2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç®€è€Œè¨€ä¹‹ï¼ŒPHBæ ¹æ®å¯è§çš„æœåŠ¡ç‰¹å¾ï¼ˆä¾‹å¦‚æ—¶å»¶ã€æŠ–åŠ¨æˆ–ä¸¢åŒ…ç‡ï¼‰å°†å„ç§è¡Œä¸ºæ¦‚æ‹¬æˆ4ç±»ï¼Œæ¯ç±»PHBéƒ½å¯¹åº”ä¸€ç»„DSCPï¼š&lt;/p&gt;
&lt;h5 id=&#34;1-be000-000å°½åŠ›è€Œä¸ºbest-effort&#34;&gt;1. BE(000 000)ï¼ˆå°½åŠ›è€Œä¸ºï¼ŒBest-effortï¼‰&lt;/h5&gt;
&lt;p&gt;BEé»˜è®¤å…¨0å°±æ˜¯æ²¡æœ‰æ‰“æ ‡&lt;br&gt;
æ²¡æœ‰è´¨é‡ä¿è¯ï¼Œä¸€èˆ¬å¯¹åº”äºä¼ ç»Ÿçš„IPåˆ†ç»„æŠ•é€’æœåŠ¡ï¼Œåªå…³æ³¨å¯è¾¾æ€§ï¼Œå…¶ä»–æ–¹é¢ä¸åšè¦æ±‚ã€‚IPç½‘ç»œä¸­ï¼Œ&lt;strong&gt;ç¼ºçœçš„PHBå°±æ˜¯BEï¼Œä»»ä½•è·¯ç”±å™¨éƒ½å¿…é¡»æ”¯æŒBE PHB&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-afxxx-xx-0ç¡®ä¿è½¬å‘assured-forwarding&#34;&gt;2. AF(xxx xx 0)ï¼ˆç¡®ä¿è½¬å‘ï¼ŒAssured Forwardingï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;ä»£è¡¨å¸¦å®½æœ‰ä¿è¯ã€æ—¶å»¶å¯æ§çš„æœåŠ¡&lt;/strong&gt;ï¼Œé€‚åº”äºè§†é¢‘ã€è¯­éŸ³ã€ä¼ä¸šVPNç­‰ä¸šåŠ¡&lt;br&gt;
é€‚åº”ä¸šåŠ¡ç»†åˆ†å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AF1xï¼šé‡è¦æ•°æ®&lt;/li&gt;
&lt;li&gt;AF2xï¼šè§†é¢‘ç‚¹æ’­æµé‡&lt;/li&gt;
&lt;li&gt;AF3xï¼šç›´æ’­æµé‡&lt;/li&gt;
&lt;li&gt;AF4xï¼šè¯­éŸ³çš„ä¿¡ä»¤æµé‡&lt;/li&gt;
&lt;li&gt;EFï¼šè¯­éŸ³æµé‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;AFï¼ˆ4ç±» AF11 21 31 41 ï¼‰ï¼ŒAF11åˆåˆ†äº†AF 11 12 13ï¼Œ&lt;strong&gt;åé¢æ•°æ®å€¼è¡¨ç¤ºä¸¢å¼ƒçš„ä¼˜å…ˆçº§ï¼Œå€¼è¶Šå¤§ä¸¢å¼ƒçš„å¯èƒ½æ€§å°±è¶Šé«˜&lt;/strong&gt;&lt;code&gt;å³å‰é¢çš„å€¼è¶Šå¤§è¶Šä¼˜ï¼Œåé¢çš„å€¼è¶Šå°è¶Šä¼˜&lt;/code&gt;ä¾‹å¦‚AF11æ¯”AF13ä¸­é‡è¦ã€AF21æ¯”AF11é‡è¦&lt;/p&gt;
&lt;h5 id=&#34;3-ef101-11-0å¿«é€Ÿè½¬å‘expedited-forwarding&#34;&gt;3. EF(101 11 0)ï¼ˆå¿«é€Ÿè½¬å‘ï¼ŒExpedited Forwardingï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;ä½æ—¶å»¶ã€ä½æŠ–åŠ¨ã€ä½ä¸¢åŒ…ç‡&lt;/strong&gt;ï¼Œåº”ç”¨äºè¦æ±‚æ¯”è¾ƒé«˜çš„è¯­éŸ³ã€è§†é¢‘ã€ä¼šè®®ç”µè§†ç­‰&lt;br&gt;
EFä»£è¡¨&amp;quot;ç¡®ä¿è½¬å‘&amp;quot;ï¼Œdscpå€¼ä¸º46ï¼Œ&lt;strong&gt;å³æ¯”AFçš„æ•°å€¼æœ€å¤§å€¼AF43å†å¤§ä¸€ç‚¹ï¼Œå³AF53ï¼Œå³DSCP(5&lt;em&gt;8+3&lt;/em&gt;2)=DSCP46&lt;/strong&gt;&lt;br&gt;
ä¸¾ä¾‹DSCPæ•°è½¬æ¢åè¿›åˆ¶ï¼š&lt;code&gt;DSCP 32 = 3*8+2*2 = 28&lt;/code&gt;ï¼Œ&lt;code&gt;DSCP 56 = 5*8+3*2 = 46&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;4-cs&#34;&gt;4. CS&lt;/h5&gt;
&lt;p&gt;å› ä¸ºç°ç½‘æœ‰äº›å­˜é‡è®¾å¤‡ä¸æ”¯æŒå·®åˆ†æœåŠ¡ï¼Œåªè§£æDSCPçš„å‰3æ¯”ç‰¹ï¼Œä¸ºäº†å…¼å®¹è¿™éƒ¨åˆ†è®¾å¤‡ï¼Œæ ‡å‡†é¢„ç•™äº†æ‰€æœ‰æ ¼å¼ä¸ºxxx000çš„DSCPå€¼ï¼Œè¿™ç±»å€¼å°±å¯¹åº”CS PHB&lt;br&gt;
å› æ­¤CSçš„å€¼åŒ…å«å‰é¢BEã€AFå’ŒEFçš„æ‰€æœ‰å€¼ï¼Œä½†æ˜¯åªçœ‹å‰3ä½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;dscpå·®åˆ†æœåŠ¡ä»£ç ç‚¹å’Œippipä¼˜å…ˆçº§çš„åŒºåˆ«&#34;&gt;DSCPï¼ˆå·®åˆ†æœåŠ¡ä»£ç ç‚¹ï¼‰å’ŒIPPï¼ˆipä¼˜å…ˆçº§ï¼‰çš„åŒºåˆ«&lt;/h4&gt;
&lt;p&gt;éƒ½ä¸ºipæŠ¥æ–‡ä¸­çš„TOSçš„ä¸€éƒ¨åˆ†ï¼š&lt;br&gt;
IPPæ˜¯TOSå‰3bit&lt;br&gt;
DSCPæ˜¯TOSå‰6bitï¼šå‰3bitä»£è¡¨ä¼˜å…ˆçº§ï¼Œå3bitä»£è¡¨Då»¶è¿Ÿã€Tååã€Rå¯é æ€§&lt;/p&gt;
&lt;h4 id=&#34;é…ç½®æ–¹æ³•&#34;&gt;é…ç½®æ–¹æ³•&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨MQC(Modular QoS ï¼Œæ¨¡å—åŒ–QoSå‘½ä»¤è¡Œæ¥å£ï¼Œé…ç½® QOS çš„å·¥å…·ï¼‰é…ç½®
&lt;ol&gt;
&lt;li&gt;æµåˆ†ç±»ï¼Œå¯ç”¨ACLåŒ¹é…æºç›®IPã€ç«¯å£ã€ä¼˜å…ˆçº§ç­‰&lt;/li&gt;
&lt;li&gt;æµè¡Œä¸ºï¼Œä¾‹å¦‚&lt;code&gt;remark 8021p dscp mpls-exp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æµç­–ç•¥&lt;/li&gt;
&lt;li&gt;æ¥å£ä¸‹åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/meili333/p/14100821.html&#34;&gt;ç”¨&lt;code&gt;class-map&lt;/code&gt;å‘½ä»¤æ¥é…ç½®&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;å®šä¹‰åˆ†ç±»ï¼š &lt;code&gt;class-map åå­—&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŒ¹é…æµï¼š&lt;code&gt;match protocol åè®® æˆ–è€… match access-group è®¿é—®æ§åˆ¶åˆ—è¡¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡ŒåŠ¨ä½œï¼š&lt;code&gt;set ip dscpæˆ–è€…ip precedenceç­‰&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;coså’Œtosçš„åŒºåˆ«&#34;&gt;COSå’ŒTOSçš„åŒºåˆ«&lt;/h4&gt;
&lt;p&gt;COSæŒ‡çš„æ˜¯äºŒå±‚å’Œ2.5å±‚ä¸­çš„ä¼˜å…ˆçº§å­—æ®µï¼Œåˆ†åˆ«ä¸ºvlan-tagä¸­çš„PRIï¼ˆ802.1pï¼‰å’ŒmplsæŠ¥å¤´ä¸­EXP&lt;br&gt;
TOSæŒ‡çš„æ˜¯ä¸‰å±‚ipæŠ¥å¤´ä¸­çš„ä¼˜å…ˆçº§å­—æ®µï¼Œå‰3bitä¸ºIPPï¼Œå‰6bitä¸ºDSCP&lt;/p&gt;
&lt;h2 id=&#34;ä¼˜å…ˆçº§æ˜ å°„æ–¹å¼&#34;&gt;ä¼˜å…ˆçº§æ˜ å°„æ–¹å¼&lt;/h2&gt;
&lt;p&gt;åœ¨å¤„ç†QoSä¸šåŠ¡æ—¶ï¼Œåœ¨ç«¯å£&lt;strong&gt;å…¥æ–¹å‘&lt;/strong&gt;å°†æŠ¥æ–‡çš„&lt;strong&gt;å¤–éƒ¨ä¼˜å…ˆçº§æ˜ å°„åˆ°åˆé€‚çš„å†…éƒ¨ä¼˜å…ˆçº§å’Œä¸¢å¼ƒä¼˜å…ˆçº§&lt;/strong&gt;ï¼Œåœ¨ç«¯å£&lt;strong&gt;å‡ºæ–¹å‘&lt;/strong&gt;å°†&lt;strong&gt;å†…éƒ¨ä¼˜å…ˆçº§å’Œä¸¢å¼ƒä¼˜å…ˆçº§æ˜ å°„åˆ°å¤–éƒ¨ä¼˜å…ˆçº§&lt;/strong&gt;ã€‚&lt;br&gt;
å¤–éƒ¨ä¸å†…éƒ¨ä¼˜å…ˆçº§çš„æ˜ å°„å…³ç³»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æŠ¥æ–‡é‡æ ‡è®°é…ç½®&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;strong&gt;åŸºäºMQCæ–¹å¼&lt;/strong&gt;ï¼Œåœ¨æµè¡Œä¸ºä¸­ä½¿ç”¨é‡æ ‡è®°è¡Œä¸ºï¼Œå°†æŠ¥æ–‡çš„ä¼˜å…ˆçº§æˆ–è€…æ ‡å¿—ä½è¿›è¡Œè®¾ç½®ï¼Œé‡æ–°å®šä¹‰æŠ¥æ–‡çš„å¤–éƒ¨ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§æ˜ å°„é…ç½®&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨&lt;strong&gt;DiffServæ¨¡å‹&lt;/strong&gt;ä¸­ï¼Œè®¾å¤‡å®šä¹‰äº†DiffServåŸŸæ¥ç®¡ç†å’Œè®°å½•å¤–éƒ¨ä¼˜å…ˆçº§ä¸å†…éƒ¨ä¼˜å…ˆçº§ã€ä¸¢å¼ƒä¼˜å…ˆçº§ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œä¸åŒDiffServåŸŸå…è®¸æœ‰ä¸åŒçš„ä¼˜å…ˆçº§æ˜ å°„å…³ç³»ã€‚&lt;strong&gt;ä¼˜å…ˆçº§æ˜ å°„é€šè¿‡é…ç½®DiffServåŸŸæ¥è®¾å®šä¸åŒçš„ä¼˜å…ˆçº§æ˜ å°„å…³ç³»&lt;/strong&gt;ï¼Œä»è€Œå®ç°ä¸åŒçš„QoSæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ‹¥å¡é¿å…&#34;&gt;æ‹¥å¡é¿å…&lt;/h1&gt;
&lt;p&gt;æŒ‡é€šè¿‡ç›‘è§†ç½‘ç»œèµ„æºçš„ä½¿ç”¨æƒ…å†µï¼Œåœ¨æ‹¥å¡å‘ç”Ÿæˆ–æœ‰åŠ å‰§çš„&lt;strong&gt;è¶‹åŠ¿&lt;/strong&gt;æ—¶ä¸»åŠ¨ä¸¢å¼ƒæŠ¥æ–‡ï¼Œé€šè¿‡è°ƒæ•´ç½‘ç»œçš„æµé‡æ¥è§£é™¤ç½‘ç»œè¿‡è½½çš„ä¸€ç§æµæ§æœºåˆ¶ã€‚æ‹¥å¡é¿å…å¸¸ç”¨çš„ä¸¤ç§ä¸¢å¼ƒæŠ¥æ–‡æ–¹å¼ä¸ºï¼šå°¾éƒ¨ä¸¢åŒ…ç­–ç•¥å’ŒWREDã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-ä¼ ç»Ÿçš„å°¾éƒ¨ä¸¢åŒ…ç­–ç•¥&#34;&gt;1. ä¼ ç»Ÿçš„å°¾éƒ¨ä¸¢åŒ…ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;ä¼ ç»Ÿçš„ä¸¢åŒ…ç­–ç•¥é‡‡ç”¨å°¾éƒ¨ä¸¢å¼ƒçš„æ–¹æ³•ï¼Œå½“é˜Ÿåˆ—çš„é•¿åº¦è¾¾åˆ°æœ€å¤§å€¼åï¼Œæ‰€æœ‰æ–°å…¥é˜Ÿåˆ—çš„æŠ¥æ–‡éƒ½å°†è¢«ä¸¢å¼ƒ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615294351266.png&#34; alt=&#34;ä¼ ç»Ÿçš„å°¾éƒ¨ä¸¢åŒ…ç­–ç•¥&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿™ç§ä¸¢å¼ƒç­–ç•¥ä¼š&lt;strong&gt;å¼•å‘TCPå…¨å±€åŒæ­¥&lt;/strong&gt;ç°è±¡ï¼Œå¯¼è‡´TCPè¿æ¥å§‹ç»ˆæ— æ³•å»ºç«‹ã€‚æ‰€è°“TCPå…¨å±€åŒæ­¥ç°è±¡å¦‚å›¾ï¼Œä¸‰ç§é¢œè‰²è¡¨ç¤ºä¸‰æ¡TCPè¿æ¥ï¼Œå½“&lt;strong&gt;åŒæ—¶ä¸¢å¼ƒå¤šä¸ªTCPè¿æ¥çš„æŠ¥æ–‡&lt;/strong&gt;æ—¶ï¼Œå°†é€ æˆå¤šä¸ªTCPè¿æ¥åŒæ—¶&lt;strong&gt;è¿›å…¥æ‹¥å¡é¿å…å’Œæ…¢å¯åŠ¨çŠ¶æ€&lt;/strong&gt;è€Œå¯¼è‡´æµé‡é™ä½ï¼Œ&lt;strong&gt;ä¹‹ååˆä¼šåœ¨æŸä¸ªæ—¶é—´åŒæ—¶å‡ºç°æµé‡é«˜å³°&lt;/strong&gt;ï¼Œå¦‚æ­¤åå¤ï¼Œä½¿ç½‘ç»œæµé‡å¿½å¤§å¿½å°ã€‚&lt;br&gt;
&lt;strong&gt;å‡ºç°çš„é—®é¢˜&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TCPåŒæ­¥ï¼ˆæ²¡æœ‰å……åˆ†åˆ©ç”¨é“¾è·¯å¸¦å®½ï¼‰&lt;/li&gt;
&lt;li&gt;TCPé¥¿æ­»ï¼ˆUDPæ²¡æœ‰TCPé‚£ç§æ»‘åŠ¨çª—å£ï¼‰&lt;/li&gt;
&lt;li&gt;æ— å·®åˆ«çš„ä¸¢å¼ƒ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615294435734.png&#34; alt=&#34;å‡ºç°çš„é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;tcpå…¨å±€åŒæ­¥&#34;&gt;TCPå…¨å±€åŒæ­¥&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;TCPæ‹¥å¡æ§åˆ¶
&lt;ol&gt;
&lt;li&gt;æ…¢å¯åŠ¨ï¼šå»ºç«‹è¿æ¥æ—¶å°†æ‹¥å¡çª—å£è®¾ç½®ä¸ºä¸€ä¸ª MSSï¼ˆ536Bï¼‰å¤§å°ï¼Œå³å¼€å§‹ä¼ è¾“æ—¶é€Ÿç‡å¾ˆæ…¢ï¼Œä½†æŒ‰æŒ‡æ•°æ–¹å¼å¢é•¿ï¼Œè¾¾åˆ°æ…¢å¯åŠ¨é˜ˆå€¼ï¼ˆé»˜è®¤56636Bï¼‰æ—¶åœä¸‹ï¼Œè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ‹¥å¡é¿å…ï¼šæ‹¥å¡çª—å£æŒ‰åŠ æ³•è§„å¾‹å¢é•¿ï¼Œæ¯æ¬¡å‘é€çš„æ‰€æœ‰æŠ¥æ–‡éƒ½è¢«ç¡®è®¤ï¼Œæ‹¥å¡çª—å£å°±å¢å¤§ä¸€ä¸ªMSSï¼Œæ­¤é˜¶æ®µæŒç»­å¢é•¿ï¼Œç›´åˆ°æ‹¥å¡è¢«æ£€æµ‹åˆ°&lt;/li&gt;
&lt;li&gt;æ‹¥å¡æ£€æµ‹ï¼šå¦‚æœæ£€æµ‹åˆ°æ‹¥å¡ï¼Œçª—å£å¿…é¡»å‡å°ã€‚æ£€æµ‹åˆ°æ‹¥å¡çš„æ–¹æ³•ï¼Œå‘é€æ–¹å‘ç”Ÿé‡ä¼ äº‹ä»¶ï¼Œå³RTOè®¡æ—¶å™¨è¶…æ—¶æˆ–æ”¶åˆ°3ä¸ªé‡å¤çš„ACKæŠ¥æ–‡ï¼Œæ…¢å¯åŠ¨çš„é˜ˆå€¼ä¸‹é™ä¸€åŠ
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‘ç”Ÿè¶…æ—¶&lt;/strong&gt;ï¼Œå‡ºç°æ‹¥å¡&lt;strong&gt;å¯èƒ½æ€§è¾ƒå¤§&lt;/strong&gt;ï¼Œ&lt;strong&gt;é˜€å€¼å‡åŠ&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ‹¥å¡çª—å£è®¾ç½®ä¸ºä¸€ä¸ªMSSå¤§å°&lt;/strong&gt;ï¼Œå¼€å§‹ä¸€ä¸ªæ…¢å¯åŠ¨é˜¶æ®µ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°3ä¸ªACKæŠ¥æ–‡ï¼Œå‡ºç°æ‹¥å¡&lt;strong&gt;å¯èƒ½æ€§è¾ƒå°&lt;/strong&gt;ï¼Œé˜€å€¼å‡åŠï¼Œ&lt;strong&gt;æ‹¥å¡çª—å£è®¾ç½®ä¸ºé˜€å€¼&lt;/strong&gt;ï¼Œ&lt;strong&gt;å†å¼€å§‹ä¸€ä¸ªæ‹¥å¡é¿å…é˜¶æ®µ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;TCPé‡ä¼ æœºåˆ¶
&lt;ol&gt;
&lt;li&gt;è¶…æ—¶é‡ä¼ ï¼šTCPä¸ºæ¯ä¸€ä¸ªå‘é€çš„æŠ¥æ–‡æ®µè®¾ç½®ä¸€ä¸ªè¶…æ—¶é‡ä¼ è®¡æ—¶å™¨ï¼ˆRTOï¼‰ï¼Œè®¡æ—¶å™¨åˆ°æ—¶åˆ™é‡ä¼ &lt;/li&gt;
&lt;li&gt;å¿«é‡ä¼ ï¼šæ¥å—æ–¹å‘ç°ä¸€éƒ¨åˆ†æŠ¥æ–‡ä¸¢å¤±ï¼Œ&lt;strong&gt;ç«‹å³è¿ç»­å‘é€3ä¸ªACKï¼ˆé‡å¤ï¼‰æŠ¥æ–‡&lt;/strong&gt;ï¼Œå‘é€æ–¹ç«‹å³é‡å‘ä¸¢å¤±çš„æŠ¥æ–‡æ®µ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;msså’Œmtuçš„åŒºåˆ«&#34;&gt;MSSå’ŒMTUçš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;MTU = MSS + TCP Header + IP Header&lt;/code&gt;&lt;br&gt;
mtuæ˜¯ç½‘ç»œä¼ è¾“æœ€å¤§æŠ¥æ–‡åŒ…ã€‚æœ€å¤§ä¼ è¾“å•å…ƒï¼Œç”±ç¡¬ä»¶è§„å®šï¼Œå¦‚ä»¥å¤ªç½‘çš„MTUä¸º1500å­—èŠ‚ã€1518B=1500B+14BäºŒå±‚å¤´+4Bå°¾éƒ¨æ ¡éªŒã€‘&lt;br&gt;
mssæ˜¯ç½‘ç»œä¼ è¾“æ•°æ®æœ€å¤§å€¼ã€‚æœ€å¤§åˆ†èŠ‚å¤§å°ï¼Œä¸ºTCPæ•°æ®åŒ…æ¯æ¬¡ä¼ è¾“çš„æœ€å¤§æ•°æ®åˆ†æ®µå¤§å°ï¼Œä¸€èˆ¬ç”±å‘é€ç«¯å‘å¯¹ç«¯TCPé€šçŸ¥å¯¹ç«¯åœ¨æ¯ä¸ªåˆ†èŠ‚ä¸­èƒ½å‘é€çš„æœ€å¤§TCPæ•°æ®&lt;code&gt;UDPä¸ä¼šåˆ†æ®µï¼Œå°±ç”±IPæ¥åˆ†ã€‚TCPä¼šåˆ†æ®µï¼Œå½“ç„¶å°±ä¸ç”¨IPæ¥åˆ†äº†ã€‚å³TCPåˆ†æ®µçš„åŸå› æ˜¯MSSï¼ŒIPåˆ†ç‰‡çš„åŸå› æ˜¯MTU&lt;/code&gt;&lt;br&gt;
MSSå€¼å¤ªå°æˆ–å¤ªå¤§éƒ½æ˜¯ä¸åˆé€‚ã€‚å¤ªå°ï¼Œä¾‹å¦‚MSSå€¼åªæœ‰1byteï¼Œé‚£ä¹ˆä¸ºäº†ä¼ è¾“è¿™1byteæ•°æ®ï¼Œè‡³å°‘è¦æ¶ˆè€—20å­—èŠ‚IPå¤´éƒ¨+20å­—èŠ‚TCPå¤´éƒ¨=40byteï¼Œè¿™è¿˜ä¸åŒ…æ‹¬å…¶äºŒå±‚å¤´éƒ¨æ‰€éœ€è¦çš„å¼€é”€ï¼Œæ˜¾ç„¶è¿™ç§æ•°æ®ä¼ è¾“æ•ˆç‡æ˜¯å¾ˆä½çš„ã€‚MSSè¿‡å¤§ï¼Œå¯¼è‡´æ•°æ®åŒ…å¯ä»¥å°è£…å¾ˆå¤§ï¼Œé‚£ä¹ˆåœ¨IPä¼ è¾“ä¸­åˆ†ç‰‡çš„å¯èƒ½æ€§å°±ä¼šå¢å¤§ï¼Œæ¥å—æ–¹åœ¨å¤„ç†åˆ†ç‰‡åŒ…æ‰€æ¶ˆè€—çš„èµ„æºå’Œå¤„ç†æ—¶é—´éƒ½ä¼šå¢å¤§ï¼Œå¦‚æœåˆ†ç‰‡åœ¨ä¼ è¾“ä¸­è¿˜å‘ç”Ÿäº†é‡ä¼ ï¼Œé‚£ä¹ˆå…¶ç½‘ç»œå¼€é”€ä¹Ÿä¼šå¢å¤§ã€‚&lt;br&gt;
åˆç†çš„MSSæ˜¯è‡³å…³é‡è¦çš„ï¼ŒMSSçš„åˆç†å€¼åº”ä¸ºä¿è¯æ•°æ®åŒ…ä¸åˆ†ç‰‡çš„æœ€å¤§å€¼ï¼Œå¯¹äºä»¥å¤ªç½‘MSSå¯ä»¥è¾¾åˆ°1460Bï¼Œè€ŒInternetä¸Šæ ‡å‡†çš„MTUï¼ˆæœ€å°çš„MTUï¼Œé“¾è·¯å±‚ç½‘ç»œä¸ºx2.5æ—¶ï¼‰ä¸º576ï¼Œé‚£ä¹ˆå¦‚æœä¸è®¾ç½®ï¼Œåˆ™MSSçš„é»˜è®¤å€¼å°±ä¸º536Bã€‚å¾ˆå¤šæ—¶å€™ï¼ŒMSSçš„å€¼æœ€å¥½å–512çš„å€æ•°ï¼Œ&lt;strong&gt;å› ä¸ºTCPæŠ¥æ–‡æ®µçš„åˆ†æ®µä¸é‡ç»„æ˜¯åœ¨ä¼ è¾“å±‚å®Œæˆçš„&lt;/strong&gt;&lt;code&gt;IPå±‚çš„é‡ç»„æ˜¯å‘ç”Ÿåœ¨ç›®çš„åœ°çš„IPå±‚ï¼ŒTCPçš„é‡ç»„æ˜¯å‘ç”Ÿåœ¨ç›®çš„åœ°çš„ä¼ è¾“å±‚ä¸­&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-wred&#34;&gt;2. WRED&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;LANä¾§æ¥å£æ¿ä¸æ”¯æŒWRED&lt;/code&gt;&lt;br&gt;
åœ¨CBQä¸­ï¼Œ&lt;strong&gt;EFé˜Ÿåˆ—å’ŒLLQé˜Ÿåˆ—ä¸èƒ½ä½¿ç”¨ä¸¢å¼ƒç­–ç•¥&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªèƒ½å°¾ä¸¢å¼ƒ&lt;/strong&gt;ã€‚ä¸ºé¿å…TCPå…¨å±€åŒæ­¥ç°è±¡ï¼Œå‡ºç°äº†REDï¼ˆéšæœºæ—©æœŸæ£€æµ‹ï¼‰æŠ€æœ¯ã€‚&lt;strong&gt;REDé€šè¿‡éšæœºåœ°ä¸¢å¼ƒæ•°æ®æŠ¥æ–‡ï¼Œè®©å¤šä¸ªTCPè¿æ¥ä¸åŒæ—¶é™ä½å‘é€é€Ÿåº¦&lt;/strong&gt;ï¼Œä»è€Œé¿å…äº†TCPçš„å…¨å±€åŒæ­¥ç°è±¡ï¼Œä½¿TCPé€Ÿç‡åŠç½‘ç»œæµé‡éƒ½è¶‹äºç¨³å®š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615294517757.png&#34; alt=&#34;REDæŠ€æœ¯åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åŸºäºREDæŠ€æœ¯ï¼Œè®¾å¤‡å®ç°äº†WREDï¼ˆæƒé‡éšæœºæ—©æœŸæ£€æµ‹ï¼‰ï¼Œ&lt;strong&gt;æµé˜Ÿåˆ—æ”¯æŒåŸºäºDSCPæˆ–IPä¼˜å…ˆçº§è¿›è¡ŒWREDä¸¢å¼ƒ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615295244502.png&#34; alt=&#34;WREDæŠ€æœ¯åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;æ¯ä¸€ç§ä¼˜å…ˆçº§éƒ½å¯ä»¥ç‹¬ç«‹è®¾ç½®æŠ¥æ–‡ä¸¢åŒ…çš„ä¸Šä¸‹é—¨é™åŠä¸¢åŒ…ç‡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“é˜Ÿåˆ—çš„é•¿åº¦å°äºé˜ˆå€¼ä¸‹é™æ—¶ï¼Œä¸ä¸¢å¼ƒæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å½“é˜Ÿåˆ—çš„é•¿åº¦å¤§äºé˜ˆå€¼ä¸Šé™æ—¶ï¼Œä¸¢å¼ƒæ‰€æœ‰æ–°æ”¶åˆ°çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å½“é˜Ÿåˆ—çš„é•¿åº¦åœ¨é˜ˆå€¼ä¸‹é™å’Œé˜ˆå€¼ä¸Šé™ä¹‹é—´æ—¶ï¼Œå¼€å§‹éšæœºä¸¢å¼ƒæ–°æ”¶åˆ°çš„æŠ¥æ–‡ã€‚æ–¹æ³•æ˜¯ä¸ºæ¯ä¸ªæ–°æ”¶åˆ°çš„æŠ¥æ–‡èµ‹äºˆä¸€ä¸ªéšæœºæ•°ï¼Œå¹¶ç”¨è¯¥éšæœºæ•°ä¸å½“å‰é˜Ÿåˆ—çš„ä¸¢å¼ƒæ¦‚ç‡æ¯”è¾ƒï¼Œå¦‚æœå¤§äºä¸¢å¼ƒæ¦‚ç‡åˆ™æŠ¥æ–‡è¢«ä¸¢å¼ƒã€‚é˜Ÿåˆ—è¶Šé•¿ï¼ŒæŠ¥æ–‡è¢«ä¸¢å¼ƒçš„æ¦‚ç‡è¶Šé«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šå¯å°½é‡ç¼“è§£TCPå…¨å±€åŒæ­¥çš„åˆ°æ¥&lt;br&gt;
&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šä¸åŠ åŒºåˆ†ä¸¢åŒ…å’ŒTCPæµé‡é¥¿æ­»æ— æ³•ç¼“è§£&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–¹æ³•-2&#34;&gt;é…ç½®æ–¹æ³•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºé˜Ÿåˆ—çš„WREDï¼š
&lt;ol&gt;
&lt;li&gt;å…ˆå®šä¹‰ä¸¢å¼ƒæ¨¡æ¿&lt;/li&gt;
&lt;li&gt;ç”¨queue-profileç»‘å®šä¸¢å¼ƒæ¨¡æ¿&lt;/li&gt;
&lt;li&gt;åœ¨æ¥å£ä¸‹è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åŸºäºMQCå®ç°
&lt;ol&gt;
&lt;li&gt;å…ˆå®šä¹‰ä¸¢å¼ƒæ¨¡æ¿&lt;/li&gt;
&lt;li&gt;ç”¨MQCæ¨¡å‹ï¼Œæµè¡Œä¸ºä¸ä¸¢å¼ƒæ¨¡æ¿ç»‘å®š&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ‹¥å¡ç®¡ç†&#34;&gt;æ‹¥å¡ç®¡ç†&lt;/h1&gt;
&lt;p&gt;æ‹¥å¡ç®¡ç†å³æ”¶åˆ°æ•°æ®åŒ…&lt;strong&gt;åœ¨è½¬å‘å‡ºå»çš„æ—¶å€™è¿›è¡Œçš„åŠ¨ä½œ&lt;/strong&gt;ï¼Œæ€»çš„å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼ŒåŸºäºé˜Ÿåˆ—çš„æ‹¥å¡ç®¡ç†å’ŒåŸºäºç±»çš„æ‹¥å¡ç®¡ç†ï¼Œ&lt;strong&gt;åŸºäºé˜Ÿåˆ—çš„å³æŒ‰ç…§é˜Ÿåˆ—çš„æ–¹å¼è½¬å‘&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŸºäºç±»çš„å³æŒ‰ç…§åˆ†ç±»çš„æ–¹å¼è½¬å‘&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-åŸºäºé˜Ÿåˆ—çš„æ‹¥å¡ç®¡ç†&#34;&gt;1. åŸºäºé˜Ÿåˆ—çš„æ‹¥å¡ç®¡ç†&lt;/h2&gt;
&lt;p&gt;æ”¶åˆ°æŠ¥æ–‡ï¼Œä¼š&lt;strong&gt;æ ¹æ®æ ‡è®°å­—æ®µæŠŠæŠ¥æ–‡æ˜ å°„è¿›ä¸åŒçš„é˜Ÿåˆ—&lt;/strong&gt;ï¼Œåˆ†åˆ«æ˜¯0-7å·é˜Ÿåˆ—ï¼Œä¹‹åå†æŠŠæŠ¥æ–‡è½¬å‘å‡ºå»çš„è¿™ä¸ªè¿‡ç¨‹å«æ‹¥å¡ç®¡ç†&lt;/p&gt;
&lt;h3 id=&#34;è°ƒåº¦æ–¹æ³•åˆ†ç±»&#34;&gt;è°ƒåº¦æ–¹æ³•åˆ†ç±»&lt;/h3&gt;
&lt;h4 id=&#34;1-fifoå…ˆè¿›å…ˆå‡ºå°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹ä½¿ç”¨&#34;&gt;1. FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼Œå°½åŠ›è€Œä¸ºæœåŠ¡æ¨¡å‹ä½¿ç”¨ï¼‰&lt;/h4&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šé»˜è®¤ï¼Œé…ç½®ç®€å•&lt;br&gt;
ç¼ºç‚¹ï¼šå‘ç”Ÿæ‹¥å¡æƒ…å†µä¸‹ï¼Œé«˜ä¼˜å…ˆçº§å¾—ä¸åˆ°ä¼˜å…ˆè½¬å‘&lt;/p&gt;
&lt;h4 id=&#34;2-pqä¼˜å…ˆçº§é˜Ÿåˆ—&#34;&gt;2. PQï¼ˆä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰&lt;/h4&gt;
&lt;p&gt;é«˜ä¼˜å…ˆçº§å…ˆè½¬å‘ï¼Œä½ä¼˜å…ˆçº§åè½¬å‘&lt;br&gt;
ä¼˜ç‚¹ï¼šé«˜ä¼˜å…ˆçº§å¯å¾—åˆ°ä¼˜å…ˆè½¬å‘&lt;br&gt;
ç¼ºç‚¹ï¼šä½ä¼˜å…ˆçº§æµé‡é¥¿æ­»&lt;/p&gt;
&lt;h4 id=&#34;3-rrè½®è¯¢&#34;&gt;3. RRï¼ˆè½®è¯¢ï¼‰&lt;/h4&gt;
&lt;p&gt;æ¯ä¸ªå‘¨æœŸå†…ï¼Œæ¯ä¸ªé˜Ÿåˆ—éƒ½è°ƒåº¦ä¸€ä¸ªæ•°æ®åŒ…&lt;br&gt;
ä¼˜ç‚¹ï¼šä¸ä¼šå‡ºç°ä½ä¼˜å…ˆçº§æµé‡é¥¿æ­»&lt;br&gt;
ç¼ºç‚¹ï¼šé«˜ä¼˜å…ˆçº§å¾—ä¸åˆ°é«˜å¸¦å®½&lt;/p&gt;
&lt;h4 id=&#34;4-wrråŠ æƒè½®è¯¢é˜Ÿåˆ—&#34;&gt;4. WRRï¼ˆåŠ æƒè½®è¯¢é˜Ÿåˆ—ï¼‰&lt;/h4&gt;
&lt;p&gt;åŠ æƒå¾ªç¯è°ƒåº¦åœ¨RRè°ƒåº¦çš„åŸºç¡€ä¸Šæ¼”å˜è€Œæ¥ï¼Œæ ¹æ®æ¯ä¸ªé˜Ÿåˆ—çš„æƒé‡æ¥è½®æµè°ƒåº¦å„é˜Ÿåˆ—ä¸­çš„æŠ¥æ–‡æµ&lt;br&gt;
ä¼˜ç‚¹ï¼šé¿å…äº†PQè°ƒåº¦çš„â€œé¥¿æ­»â€ç°è±¡ã€‚&lt;br&gt;
ç¼ºç‚¹ï¼šåŸºäºæŠ¥æ–‡ä¸ªæ•°æ¥è°ƒåº¦ï¼Œå®¹æ˜“å‡ºç°åŒ…é•¿å°ºå¯¸ä¸åŒçš„æŠ¥æ–‡å‡ºç°ä¸å¹³ç­‰è°ƒåº¦&lt;sub&gt;ä»ç”¨æˆ·ä¾§æ¥çœ‹ï¼ŒåŠ å¤§æŠ¥æ–‡é•¿åº¦å°±åˆ°è¡¨è€…åŠ å¤§å¸¦å®½&lt;/sub&gt;ï¼›ä½æ—¶å»¶ä¸šåŠ¡å¾—ä¸åˆ°åŠæ—¶è°ƒåº¦&lt;/p&gt;
&lt;h4 id=&#34;5-fqå…¬å¹³é˜Ÿåˆ—&#34;&gt;5. FQï¼ˆå…¬å¹³é˜Ÿåˆ—ï¼‰&lt;/h4&gt;
&lt;p&gt;ç›®çš„æ˜¯å°½å¯èƒ½å…¬å¹³åœ°åˆ†äº«ç½‘ç»œèµ„æºï¼Œä½¿æ‰€æœ‰æµçš„å»¶è¿Ÿå’ŒæŠ–åŠ¨è¾¾åˆ°æœ€ä¼˜ã€‚&lt;br&gt;
ä¸åŒçš„é˜Ÿåˆ—è·å¾—å…¬å¹³çš„è°ƒåº¦æœºä¼šï¼Œä»æ€»ä½“ä¸Šå‡è¡¡å„ä¸ªæµçš„å»¶è¿Ÿã€‚&lt;br&gt;
çŸ­æŠ¥æ–‡å’Œé•¿æŠ¥æ–‡è·å¾—å…¬å¹³çš„è°ƒåº¦ï¼šå¦‚æœä¸åŒé˜Ÿåˆ—é—´åŒæ—¶å­˜åœ¨å¤šä¸ªé•¿æŠ¥æ–‡å’ŒçŸ­æŠ¥æ–‡ç­‰å¾…å‘é€ï¼Œ&lt;strong&gt;è®©çŸ­æŠ¥æ–‡ä¼˜å…ˆè·å¾—è°ƒåº¦&lt;/strong&gt;ï¼Œä»è€Œåœ¨æ€»ä½“ä¸Šå‡å°‘å„ä¸ªæµçš„æŠ¥æ–‡é—´çš„æŠ–åŠ¨&lt;br&gt;
ç¼ºç‚¹ï¼šé•¿æŠ¥æ–‡å®¹æ˜“å‡ºç°é¥¿æ­»ç°è±¡&lt;/p&gt;
&lt;h4 id=&#34;6-drrå·®é¢è½®è¯¢è°ƒåº¦&#34;&gt;6. DRRï¼ˆå·®é¢è½®è¯¢è°ƒåº¦ï¼‰&lt;/h4&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šè§£å†³äº†WRRåªå…³å¿ƒæŠ¥æ–‡ï¼Œ&lt;strong&gt;åŒç­‰è°ƒåº¦æœºä¼šä¸‹å¤§å°ºå¯¸æŠ¥æ–‡è·å¾—çš„å®é™…å¸¦å®½è¦å¤§äºå°å°ºå¯¸æŠ¥æ–‡è·å¾—çš„å¸¦å®½çš„é—®é¢˜&lt;/strong&gt;ï¼Œåœ¨è°ƒåº¦è¿‡ç¨‹ä¸­è€ƒè™‘åŒ…é•¿çš„å› ç´ ä»¥è¾¾åˆ°è°ƒåº¦çš„é€Ÿç‡å…¬å¹³æ€§&lt;br&gt;
ç¼ºç‚¹ï¼šæ²¡æœ‰è§£å†³WRRè°ƒåº¦ä¸­ä½å»¶æ—¶éœ€æ±‚ä¸šåŠ¡å¾—ä¸åˆ°åŠæ—¶è°ƒåº¦çš„é—®é¢˜&lt;/p&gt;
&lt;h4 id=&#34;7-wfqåŠ æƒå…¬å¹³é˜Ÿåˆ—&#34;&gt;7. WFQï¼ˆåŠ æƒå…¬å¹³é˜Ÿåˆ—ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;å‰é¢5ç§æ¨¡å¼æ€»æ˜¯åœ¨&amp;quot;ä½ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œé•¿æŠ¥æ–‡é¥¿æ­»&amp;quot; ä¸ &amp;quot;é«˜ä¼˜å…ˆçº§å’Œä½å»¶æ—¶å¾—ä¸åˆ°ç›¸åº”çš„å¾…é‡&amp;quot;ä¹‹é—´å¾˜å¾Šï¼Œå…¶æœ¬è´¨åŸå› æ˜¯é«˜ä½ä¼˜å…ˆçº§æ•°æ®é‡‡ç”¨åŒä¸€ä¸ªé˜Ÿåˆ—&lt;/code&gt;&lt;br&gt;
WFQè°ƒåº¦åœ¨&lt;strong&gt;æŠ¥æ–‡å…¥é˜Ÿåˆ—ä¹‹å‰ï¼Œå…ˆå¯¹æµé‡è¿›è¡Œåˆ†ç±»&lt;/strong&gt;ï¼Œæœ‰ä¸¤ç§åˆ†ç±»æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‰æµçš„ä¼šè¯ä¿¡æ¯åˆ†ç±»&lt;br&gt;
æ ¹æ®æŠ¥æ–‡çš„äº”å…ƒç»„ã€ToSåŸŸä¸­çš„ä¼˜å…ˆçº§ç­‰è‡ªåŠ¨è¿›è¡Œæµåˆ†ç±»ï¼Œå¹¶ä¸”å°½å¯èƒ½å¤šåœ°æä¾›é˜Ÿåˆ—ï¼Œä»¥å°†æ¯ä¸ªæµå‡åŒ€åœ°æ”¾å…¥ä¸åŒé˜Ÿåˆ—ä¸­&lt;br&gt;
åœ¨å‡ºé˜Ÿåˆ—çš„æ—¶å€™ï¼ŒWFQ&lt;strong&gt;æŒ‰æµçš„ä¼˜å…ˆçº§æ¥åˆ†é…æ¯ä¸ªæµåº”å æœ‰å¸¦å®½&lt;/strong&gt;ï¼Œä¼˜å…ˆçº§è¶Šå°å¸¦å®½è¶Šå°‘ï¼Œä¼˜å…ˆçº§è¶Šå¤§å¸¦å®½è¶Šå¤§ï¼Œè¿™ç§æ–¹å¼åªæœ‰CBQçš„default-classæ”¯æŒ&lt;/li&gt;
&lt;li&gt;æŒ‰ä¼˜å…ˆçº§åˆ†ç±»&lt;br&gt;
&lt;strong&gt;é€šè¿‡ä¼˜å…ˆçº§æ˜ å°„æŠŠæµé‡æ ‡è®°ä¸ºæœ¬åœ°ä¼˜å…ˆçº§ï¼Œæ¯ä¸ªæœ¬åœ°ä¼˜å…ˆçº§å¯¹åº”ä¸€ä¸ªé˜Ÿåˆ—å·&lt;/strong&gt;&lt;br&gt;
æ¯ä¸ªæ¥å£é¢„åˆ†é…8ä¸ªé˜Ÿåˆ—ï¼ŒæŠ¥æ–‡æ ¹æ®é˜Ÿåˆ—å·è¿›å…¥é˜Ÿåˆ—&lt;br&gt;
é»˜è®¤æƒ…å†µï¼Œé˜Ÿåˆ—çš„WFQæƒé‡ç›¸åŒï¼Œæµé‡å¹³å‡åˆ†é…æ¥å£å¸¦å®½&lt;br&gt;
ç”¨æˆ·å¯ä»¥é€šè¿‡é…ç½®ä¿®æ”¹æƒé‡ï¼Œé«˜ä¼˜å…ˆæƒå’Œä½ä¼˜å…ˆæƒæŒ‰æƒé‡æ¯”ä¾‹åˆ†é…å¸¦å®½&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼šå¯å®Œå…¨æŒ‰ç…§æƒé‡åˆ†é…å¸¦å®½ï¼Œè‡ªåŠ¨åˆ†ç±»ï¼Œé…ç½®ç®€å•&lt;br&gt;
ç¼ºç‚¹ï¼šä½æ—¶å»¶ä¸šåŠ¡ä»å¾—ä¸åˆ°åŠæ—¶è°ƒåº¦ï¼Œæ— æ³•å®ç°ç”¨æˆ·è‡ªå®šä¹‰åˆ†ç±»è§„åˆ™&lt;/p&gt;
&lt;h4 id=&#34;6-ç»„åˆé˜Ÿåˆ—&#34;&gt;6. ç»„åˆé˜Ÿåˆ—&lt;/h4&gt;
&lt;p&gt;PQ+WFQ/WRR/RR&lt;br&gt;
å¯ä¿è¯ä½å»¶æ—¶ä¸šåŠ¡å¾—åˆ°ä¼˜å…ˆè½¬å‘ï¼Œå…¶ä½™ä¸šåŠ¡å†ç”¨å…¶ä½™è°ƒåº¦æœºåˆ¶&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–¹æ³•-3&#34;&gt;é…ç½®æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;LANå£æ”¯æŒPQã€DRRã€WRRã€PQ+DRRã€PQ+WRR&lt;code&gt;ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œè½®è¯¢çš„ç»„åˆ&lt;/code&gt;&lt;br&gt;
WANå£æ”¯æŒPQã€WFQã€PQ+WFQ&lt;code&gt;ä¼˜å…ˆçº§é˜Ÿåˆ—å’ŒåŠ æƒå…¬å¹³é˜Ÿåˆ—çš„ç»„åˆ&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨queue-profileåˆ›å»ºé˜Ÿåˆ—æ¨¡æ¿&lt;/li&gt;
&lt;li&gt;å„ä¸ªé˜Ÿåˆ—æŒ‡å®šç”¨ä½•ç§è°ƒåº¦æœºåˆ¶&lt;/li&gt;
&lt;li&gt;åœ¨æ¥å£è°ƒç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-åŸºäºç±»çš„æ‹¥å¡ç®¡ç†&#34;&gt;2. åŸºäºç±»çš„æ‹¥å¡ç®¡ç†&lt;/h2&gt;
&lt;p&gt;CBQï¼ŒåŸºäºç±»çš„é˜Ÿåˆ—&lt;/p&gt;
&lt;h3 id=&#34;é˜Ÿåˆ—åˆ†ç±»&#34;&gt;é˜Ÿåˆ—åˆ†ç±»&lt;/h3&gt;
&lt;h4 id=&#34;1-efé˜Ÿåˆ—&#34;&gt;1. EFé˜Ÿåˆ—&lt;/h4&gt;
&lt;p&gt;æ»¡è¶³&lt;strong&gt;ä½æ—¶å»¶&lt;/strong&gt;ä¸šåŠ¡ã€‚&lt;br&gt;
EFé˜Ÿåˆ—æ‹¥æœ‰&lt;strong&gt;ç»å¯¹ä¼˜å…ˆçº§&lt;/strong&gt;ï¼Œ&lt;strong&gt;é‡‡ç”¨PQè°ƒåº¦æœºåˆ¶&lt;/strong&gt;ï¼Œä»…å½“EFé˜Ÿåˆ—ä¸­çš„æŠ¥æ–‡è°ƒåº¦å®Œæ¯•åï¼Œæ‰ä¼šè°ƒåº¦å…¶ä»–é˜Ÿåˆ—ä¸­çš„æŠ¥æ–‡ï¼Œæ‰€ä»¥é…ç½®å…¶å¸¦å®½ä¸ºæœ€å¤§å¸¦å®½&lt;br&gt;
è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„EFé˜Ÿåˆ—LLQé˜Ÿåˆ—ï¼Œå³ä½å»¶æ—¶é˜Ÿåˆ—ï¼ŒLLQé˜Ÿåˆ—è¾ƒEFé˜Ÿåˆ—è€Œè¨€ï¼Œæ—¶å»¶æ›´ä½ï¼Œä¸ºæ—¶å»¶æ•æ„Ÿçš„åº”ç”¨ï¼ˆå¦‚VoIPä¸šåŠ¡ï¼‰æä¾›äº†è‰¯å¥½çš„æœåŠ¡è´¨é‡ä¿è¯&lt;/p&gt;
&lt;h4 id=&#34;2-afé˜Ÿåˆ—&#34;&gt;2. AFé˜Ÿåˆ—&lt;/h4&gt;
&lt;p&gt;æ»¡è¶³éœ€è¦å¸¦å®½ä¿è¯çš„&lt;strong&gt;å…³é”®æ•°æ®&lt;/strong&gt;ä¸šåŠ¡ã€‚&lt;br&gt;
ä½¿ç”¨WRRçš„è°ƒåº¦æœºåˆ¶ï¼Œæ¯ä¸ªAFé˜Ÿåˆ—åˆ†åˆ«å¯¹åº”ä¸€ç±»æŠ¥æ–‡ï¼Œç”¨æˆ·å¯ä»¥è®¾å®šæ¯ç±»æŠ¥æ–‡å ç”¨çš„å¸¦å®½ã€‚å½“ç³»ç»Ÿè°ƒåº¦æŠ¥æ–‡å‡ºé˜Ÿçš„æ—¶å€™ï¼Œä¼šæŒ‰ç”¨æˆ·ä¸ºå„ç±»æŠ¥æ–‡è®¾å®šçš„å¸¦å®½å°†æŠ¥æ–‡è¿›è¡Œå‡ºé˜Ÿå‘é€ï¼Œå¯å®ç°å„ä¸ªç±»çš„é˜Ÿåˆ—çš„å…¬å¹³è°ƒåº¦ï¼Œæ‰€ä»¥éœ€è¦é…ç½®å…¶å¸¦å®½ä¸ºæœ€å°å¸¦å®½&lt;br&gt;
å¯¹äºAFé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—çš„é•¿åº¦è¾¾åˆ°é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦æ—¶ï¼Œç¼ºçœé‡‡ç”¨å°¾ä¸¢å¼ƒçš„ç­–ç•¥ï¼Œä½†ç”¨æˆ·è¿˜å¯ä»¥é€‰æ‹©ç”¨WREDä¸¢å¼ƒç­–ç•¥&lt;/p&gt;
&lt;h4 id=&#34;3-beé˜Ÿåˆ—&#34;&gt;3. BEé˜Ÿåˆ—&lt;/h4&gt;
&lt;p&gt;æ»¡è¶³ä¸éœ€è¦ä¸¥æ ¼QoSä¿è¯çš„å°½åŠ›å‘é€ä¸šåŠ¡ã€‚&lt;br&gt;
å½“æŠ¥æ–‡ä¸åŒ¹é…ç”¨æˆ·è®¾å®šçš„æ‰€æœ‰ç±»åˆ«æ—¶ï¼ŒæŠ¥æ–‡ä¼šè¢«é€å…¥ç³»ç»Ÿå®šä¹‰çš„ç¼ºçœBEï¼ˆå°½åŠ›ä¼ é€ï¼‰ç±»ï¼ŒBEé˜Ÿåˆ—ä½¿ç”¨æ¥å£å‰©ä½™å¸¦å®½å’ŒWFQè°ƒåº¦æ–¹å¼è¿›è¡Œå‘é€&lt;br&gt;
å¯¹äºBEé˜Ÿåˆ—ï¼Œå½“é˜Ÿåˆ—çš„é•¿åº¦è¾¾åˆ°é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦æ—¶ï¼Œç¼ºçœé‡‡ç”¨å°¾ä¸¢å¼ƒçš„ç­–ç•¥ï¼Œä½†ç”¨æˆ·è¿˜å¯ä»¥é€‰æ‹©ç”¨WREDä¸¢å¼ƒç­–ç•¥&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–¹æ³•-4&#34;&gt;é…ç½®æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨MQCæ¥é…ç½®&lt;/p&gt;
&lt;h1 id=&#34;æµé‡ç®¡ç†&#34;&gt;æµé‡ç®¡ç†&lt;/h1&gt;
&lt;p&gt;æµé‡ç›‘ç®¡å’Œæµé‡æ•´å½¢å°±æ˜¯ä¸€ç§é€šè¿‡å¯¹æµé‡è§„æ ¼çš„ç›‘ç£ï¼Œæ¥é™åˆ¶æµé‡åŠå…¶èµ„æºä½¿ç”¨çš„æµæ§ç­–ç•¥ã€‚&lt;br&gt;
&lt;strong&gt;æµé‡æ•´å½¢ä¸æµé‡ç›‘ç®¡çš„ä¸»è¦åŒºåˆ«&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æµé‡ç›‘ç®¡ç›´æ¥ä¸¢å¼ƒä¸ç¬¦åˆé€Ÿç‡è¦æ±‚çš„æŠ¥æ–‡ï¼›&lt;br&gt;
æµé‡æ•´å½¢å°†ä¸ç¬¦åˆé€Ÿç‡è¦æ±‚çš„æŠ¥æ–‡å…ˆè¡Œç¼“å­˜ï¼Œå½“ä»¤ç‰Œæ¡¶æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œæ—¶ï¼Œå†å‡åŒ€çš„å‘å¤–å‘é€è¿™äº›è¢«ç¼“å­˜çš„æŠ¥æ–‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615300770875.png&#34; alt=&#34;åŒºåˆ«1&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æµé‡ç›‘ç®¡æ”¯æŒå¯¹æµé‡é‡æ–°æ‰“æ ‡è®°ï¼Œä¸éœ€è¦é¢å¤–çš„ç¼“å†²ï¼Œä½†æ˜¯ä¼šä¸¢å¼ƒè¾ƒå¤šæŠ¥æ–‡è€Œå¯¼è‡´é‡ä¼ ï¼›&lt;br&gt;
æµé‡æ•´å½¢å¾ˆå°‘ä¸¢å¼ƒæŠ¥æ–‡ï¼Œä½†æ˜¯ä¼šå¼•å…¥æ—¶å»¶å’ŒæŠ–åŠ¨ï¼Œéœ€è¦ç¼“å­˜èµ„æºæ¥ç¼“å­˜æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;è¿è¥å•†ä¸€ä¾§ä½¿ç”¨æµé‡ç›‘ç®¡TPï¼Œç”¨æˆ·æˆ–è€…å…¬å¸ä¸€ä¾§ä½¿ç”¨æµé‡æ•´å½¢TS&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1-æµé‡ç›‘ç®¡tp&#34;&gt;1. æµé‡ç›‘ç®¡TP&lt;/h2&gt;
&lt;h3 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615298981790.png&#34; alt=&#34;æµé‡ç›‘ç®¡TP&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹&lt;strong&gt;å…¥å’Œå‡ºæ–¹å‘çš„æµé‡&lt;/strong&gt;è¿›è¡Œç›‘æ§ï¼Œå¯¹è¶…å‡ºè§„å®šé€Ÿç‡çš„æµé‡è¿›è¡Œæƒ©ç½šï¼ˆé™ä½ä¼˜å…ˆçº§è½¬å‘/é»˜è®¤ä¸¢å¼ƒï¼‰&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ç¼“å­˜æœºåˆ¶ï¼Œä¸ä¼šå¼•å…¥é¢å¤–å»¶æ—¶&lt;/li&gt;
&lt;li&gt;å±äº&lt;strong&gt;å‰Šå³°ä¸å¡«è°·&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¼šå¢åŠ ä¸¢åŒ…ç‡ï¼Œè€Œä¸”åœ¨é“¾è·¯ç©ºé—²æ—¶çš„é“¾è·¯åˆ©ç”¨ç‡ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615299719768.png&#34; alt=&#34;åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;æµé‡ç›‘ç®¡ç”±ä¸‰éƒ¨åˆ†ç»„æˆ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Meterï¼šé€šè¿‡ä»¤ç‰Œæ¡¶æœºåˆ¶å¯¹ç½‘ç»œæµé‡è¿›è¡Œåº¦é‡ï¼Œå‘Markerè¾“å‡ºåº¦é‡ç»“æœ&lt;/li&gt;
&lt;li&gt;Markerï¼šæ ¹æ®Meterçš„åº¦é‡ç»“æœ&lt;strong&gt;å¯¹æŠ¥æ–‡è¿›è¡ŒæŸ“è‰²&lt;/strong&gt;ï¼ŒæŠ¥æ–‡ä¼šè¢«æŸ“æˆgreenï¼ˆè½¬å‘ï¼‰ã€yellowï¼ˆé™ä½ä¼˜å…ˆçº§åè½¬å‘ï¼‰ã€redï¼ˆä¸¢å¼ƒï¼‰ä¸‰ç§é¢œè‰²&lt;/li&gt;
&lt;li&gt;Actionï¼šæ ¹æ®Markerå¯¹æŠ¥æ–‡çš„æŸ“è‰²ç»“æœï¼Œå¯¹æŠ¥æ–‡è¿›è¡Œå¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åº”ç”¨&#34;&gt;åº”ç”¨&lt;/h3&gt;
&lt;p&gt;CARï¼šåŒé€ŸåŒæ¡¶æˆ–å•é€ŸåŒæ¡¶å®ç°&lt;br&gt;
å¯ä»¥åœ¨è·¯ç”±å™¨å’Œäº¤æ¢æœºä¸Šé…ç½®ï¼Œ&lt;br&gt;
1. åœ¨è·¯ç”±å™¨ä¸Šå¯ä»¥åœ¨æ¥å£ä¸‹å’ŒMQCä¸­inboundå’Œoutboundä½¿ç”¨&lt;br&gt;
2. åœ¨äº¤æ¢æœºä¸Šåªèƒ½åœ¨MQCä¸‹çš„inboundå’Œoutboundé…ç½®&lt;/p&gt;
&lt;h2 id=&#34;2-æµé‡æ•´å½¢ts&#34;&gt;2. æµé‡æ•´å½¢TS&lt;/h2&gt;
&lt;h3 id=&#34;ç‰¹ç‚¹-2&#34;&gt;ç‰¹ç‚¹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615299362443.png&#34; alt=&#34;æµé‡æ•´å½¢TS&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹&lt;strong&gt;å‡ºæ–¹å‘æµé‡&lt;/strong&gt;è¿›è¡Œç›‘æ§ï¼Œè¾“å‡ºä¸€æ¡æ¯”è¾ƒå¹³æ•´çš„æµé‡ï¼Œå³ä»¥æ¯”è¾ƒå‡åŒ€çš„é€Ÿåº¦å‘å¤–å‘é€&lt;/li&gt;
&lt;li&gt;å¯¹è¶…å‡ºé€Ÿç‡çš„æµé‡è¿›è¡Œç¼“å­˜ï¼Œç­‰åˆ°é“¾è·¯ç©ºé—²æ—¶å‘é€&lt;/li&gt;
&lt;li&gt;ä¼šå¼•å…¥ç¼“å­˜æœºåˆ¶ï¼Œå±äº&lt;strong&gt;å‰Šå³°å¡«è°·&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç”±äºå¼•å…¥äº†ç¼“å­˜æœºåˆ¶æ‰€ä»¥ä¼šäº§ç”Ÿé¢å¤–çš„å»¶æ—¶ï¼Œä½†æ˜¯æå‡äº†é“¾è·¯åˆ©ç”¨ç‡&lt;br&gt;
&lt;code&gt;æµé‡æ•´å½¢ä¸ºä»€ä¹ˆä¸èƒ½åœ¨å…¥æ–¹å‘é…ç½®ï¼šå› ä¸ºå…¥æ–¹å‘æ²¡æœ‰é˜Ÿåˆ—ï¼ˆæ²¡æœ‰ç¼“å­˜æœºåˆ¶ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸç†-2&#34;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æŠ¥æ–‡å¤„ç†æµç¨‹&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615301275524.gif&#34; alt=&#34;åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“æŠ¥æ–‡åˆ°æ¥çš„æ—¶å€™ï¼Œé¦–å…ˆå¯¹æŠ¥æ–‡è¿›è¡Œåˆ†ç±»ï¼Œä½¿æŠ¥æ–‡è¿›å…¥ä¸åŒçš„é˜Ÿåˆ—ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‹¥æŠ¥æ–‡è¿›å…¥çš„é˜Ÿåˆ—&lt;strong&gt;æ²¡æœ‰é…ç½®é˜Ÿåˆ—æ•´å½¢&lt;/strong&gt;åŠŸèƒ½ï¼Œåˆ™&lt;strong&gt;ç›´æ¥å‘é€è¯¥é˜Ÿåˆ—çš„æŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‹¥æŠ¥æ–‡è¿›å…¥çš„é˜Ÿåˆ—&lt;strong&gt;é…ç½®é˜Ÿåˆ—æ•´å½¢&lt;/strong&gt;åŠŸèƒ½ï¼Œåˆ™&lt;strong&gt;æŒ‰ç”¨æˆ·è®¾å®šçš„é˜Ÿåˆ—æ•´å½¢é€Ÿç‡å‘ä»¤ç‰Œæ¡¶ä¸­æ”¾ç½®ä»¤ç‰Œ&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä»¤ç‰Œæ¡¶ä¸­æœ‰&lt;strong&gt;è¶³å¤Ÿçš„ä»¤ç‰Œ&lt;/strong&gt;å¯ä»¥ç”¨æ¥å‘é€æŠ¥æ–‡ï¼Œåˆ™&lt;strong&gt;æŠ¥æ–‡ç›´æ¥è¢«å‘é€&lt;/strong&gt;ï¼Œåœ¨æŠ¥æ–‡è¢«å‘é€çš„åŒæ—¶ï¼Œ&lt;strong&gt;ä»¤ç‰Œåšç›¸åº”çš„å‡å°‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœä»¤ç‰Œæ¡¶ä¸­&lt;strong&gt;æ²¡æœ‰è¶³å¤Ÿçš„ä»¤ç‰Œ&lt;/strong&gt;ï¼Œåˆ™å°†æŠ¥æ–‡&lt;strong&gt;æ”¾å…¥ç¼“å­˜é˜Ÿåˆ—&lt;/strong&gt;ï¼Œå¦‚æœæŠ¥æ–‡æ”¾å…¥ç¼“å­˜é˜Ÿåˆ—æ—¶ï¼Œç¼“å­˜é˜Ÿåˆ—&lt;strong&gt;å·²æ»¡ï¼Œåˆ™ä¸¢å¼ƒæŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜é˜Ÿåˆ—ä¸­æœ‰æŠ¥æ–‡æ—¶&lt;/strong&gt;ï¼Œç³»ç»ŸæŒ‰ä¸€å®šçš„å‘¨æœŸ&lt;strong&gt;ä»ç¼“å­˜é˜Ÿåˆ—ä¸­å–å‡ºæŠ¥æ–‡è¿›è¡Œå‘é€&lt;/strong&gt;ï¼Œç›´åˆ°ä»¤ç‰Œæ¡¶ä¸­æ²¡æœ‰ä»¤ç‰Œæˆ–ç¼“å­˜é˜Ÿåˆ—ä¸­æ²¡æœ‰æŠ¥æ–‡ä¸ºæ­¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æµé‡æ•´å½¢çš„æ–¹æ³•&#34;&gt;æµé‡æ•´å½¢çš„æ–¹æ³•&lt;/h3&gt;
&lt;h4 id=&#34;1-lræ¥å£é™é€Ÿ&#34;&gt;1. LRï¼ˆæ¥å£é™é€Ÿï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é’ˆå¯¹&lt;strong&gt;æ‰€æœ‰æµé‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åªèƒ½åŸºäº&lt;strong&gt;æ¥å£åšæ•´å½¢&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯&lt;strong&gt;å‡ºæ¥å£çš„æ‰€æœ‰æµé‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœç”¨åœ¨&lt;strong&gt;è·¯ç”±å™¨&lt;/strong&gt;æ¥å£ï¼Œ&lt;strong&gt;åªæ˜¯ç”¨äºé™é€Ÿ&lt;/strong&gt;ï¼Œé…ç½®æ¥å£é€Ÿç‡ç™¾åˆ†æ¯”ï¼Œå¿…é¡»&lt;strong&gt;ç»“åˆé˜Ÿåˆ—&lt;/strong&gt;ä½¿ç”¨æ‰èƒ½ç”Ÿæ•ˆ&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨&lt;strong&gt;äº¤æ¢æœº&lt;/strong&gt;æ¥å£ä½¿ç”¨ï¼Œæ¥å£&lt;strong&gt;å‡ºæ–¹å‘åšæ•´å½¢&lt;/strong&gt;ï¼Œåœ¨æ¥å£&lt;strong&gt;å…¥æ–¹å‘åšç›‘ç®¡&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-gtsé€šç”¨æµé‡æ•´å½¢&#34;&gt;2. GTSï¼ˆé€šç”¨æµé‡æ•´å½¢ï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é’ˆå¯¹IPæµé‡ ï¼Œ&lt;strong&gt;åªèƒ½ç”¨äºå‡ºæ–¹å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å®ç°æ–¹å¼æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š
&lt;ol&gt;
&lt;li&gt;åŸºäºæ¥å£ï¼šé’ˆå¯¹æ¥å£ä¸‹çš„æ‰€æœ‰&lt;strong&gt;ä¸‰å±‚æµé‡è¿›è¡Œæ•´å½¢&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸºäºé˜Ÿåˆ—ï¼šä½¿ç”¨é˜Ÿåˆ—æ¨¡æ¿å¯¹&lt;strong&gt;é’ˆå¯¹æ¥å£ä¸‹çš„æŸä¸€ä¸ªé˜Ÿåˆ—&lt;/strong&gt;ä¸­çš„&lt;strong&gt;ä¸‰å±‚æµé‡è¿›è¡Œæ•´å½¢&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸºäºç±»ï¼š&lt;strong&gt;ä½¿ç”¨MQC&lt;/strong&gt;çš„é…ç½®æ¨¡å¼ï¼Œé’ˆå¯¹ä¸åŒçš„ä¸šåŠ¡æµé‡è¿›è¡Œæ•´å½¢&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åªèƒ½ç”¨åœ¨è·¯ç”±å™¨æ¥å£&lt;/strong&gt; ï¼Œäº¤æ¢æœºåšä¸äº†GTSï¼Œ&lt;strong&gt;äº¤æ¢æœºçš„æ¥å£ä¸ºäºŒå±‚æ¥å£&lt;/strong&gt;ï¼Œè€ŒäºŒå±‚æ¥å£æ— æ³•é…ç½®GTSï¼Œå› ä¸ºGTSæ˜¯é’ˆå¯¹ä¸‰å±‚æµé‡&lt;/li&gt;
&lt;li&gt;ç¼“å­˜é˜Ÿåˆ—ä¼šå‘¨æœŸå’Œä»¤ç‰Œæ¡¶è¿›è¡Œæ¯”è¾ƒï¼Œå½“ä»¤ç‰Œæ¡¶ä¸­çš„ä»¤ç‰Œå­˜åœ¨ç©ºé—²æ—¶ï¼Œç¼“å­˜é˜Ÿåˆ—ä¸­çš„æ•°æ®å‘é€å‡ºå»&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;3-frtså¸§ä¸­ç»§æµé‡æ•´å½¢&#34;&gt;3. FRTSï¼ˆå¸§ä¸­ç»§æµé‡æ•´å½¢ï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é’ˆå¯¹&lt;strong&gt;FRçš„æ¥å£ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è·ŸGTSçš„ç®—æ³•æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ç”¨äºå¸§ä¸­ç»§æ¥å£&lt;/li&gt;
&lt;li&gt;å¯ä»¥é’ˆå¯¹æ¥å£æˆ–è€…é’ˆå¯¹pvcï¼ˆå¦‚æœä¸¤è€…åŒæ—¶å¯ç”¨ï¼Œcirå°çš„é…ç½®ç”Ÿæ•ˆï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-ä»¤ç‰Œæ¡¶æŠ€æœ¯&#34;&gt;3. ä»¤ç‰Œæ¡¶æŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;ä»¤ç‰Œæ¡¶å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªå­˜æ”¾ä¸€å®šæ•°é‡ä»¤ç‰Œçš„å®¹å™¨ï¼Œç³»ç»ŸæŒ‰è®¾å®šçš„é€Ÿåº¦å‘æ¡¶ä¸­æ”¾ç½®ä»¤ç‰Œï¼Œå½“æ¡¶ä¸­ä»¤ç‰Œæ»¡æ—¶ï¼Œå¤šå‡ºçš„ä»¤ç‰Œæº¢å‡ºï¼Œæ¡¶ä¸­ä»¤ç‰Œä¸å†å¢åŠ &lt;br&gt;
åä¸ºè®¾å¤‡&lt;strong&gt;é»˜è®¤æ”¯æŒå•é€ŸåŒæ¡¶(å•é€Ÿç‡ä¸‰è‰²æ ‡è®°)å’ŒåŒé€ŸåŒæ¡¶(åŒé€Ÿç‡ä¸‰è‰²æ ‡è®°)ï¼Œå•é€Ÿå•æ¡¶ï¼ˆåªæœ‰çº¢ç»¿ä¸¤è‰²ï¼‰ä½¿ç”¨åŒé€ŸåŒæ¡¶å®ç°&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;å‚æ•°è§£é‡Š&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cæ¡¶ï¼š
&lt;ul&gt;
&lt;li&gt;CIRï¼šæ‰¿è¯ºä¿¡æ¯é€Ÿç‡ï¼Œè¡¨ç¤ºå‘Cæ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œçš„é€Ÿç‡ï¼Œå³Cæ¡¶å…è®¸ä¼ è¾“æˆ–è½¬å‘æŠ¥æ–‡çš„å¹³å‡é€Ÿç‡&lt;/li&gt;
&lt;li&gt;CBSï¼šæ‰¿è¯ºçªå‘å°ºå¯¸ï¼Œè¡¨ç¤ºCæ¡¶çš„å®¹é‡ï¼Œå³Cæ¡¶ç¬é—´èƒ½å¤Ÿé€šè¿‡çš„æ‰¿è¯ºçªå‘æµé‡&lt;/li&gt;
&lt;li&gt;Tcï¼šCæ¡¶ä¸­ä»¤ç‰Œæ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Pæ¡¶ï¼š
&lt;ul&gt;
&lt;li&gt;PIRï¼šå³°å€¼ä¿¡æ¯é€Ÿç‡ï¼Œè¡¨ç¤ºå‘Pæ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œçš„é€Ÿç‡ï¼Œå³Pæ¡¶å…è®¸ä¼ è¾“æˆ–è½¬å‘æŠ¥æ–‡çš„å³°å€¼é€Ÿç‡ï¼ŒPIRå¤§äºCIR&lt;code&gt;å³Pæ¡¶&amp;gt;Cæ¡¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;PBSï¼šå³°å€¼çªå‘å°ºå¯¸ï¼Œè¡¨ç¤ºPæ¡¶çš„å®¹é‡ï¼Œå³Pæ¡¶ç¬é—´èƒ½å¤Ÿé€šè¿‡çš„å³°å€¼çªå‘æµé‡&lt;/li&gt;
&lt;li&gt;Tpï¼šPæ¡¶ä¸­ä»¤ç‰Œæ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Eæ¡¶ï¼š
&lt;ul&gt;
&lt;li&gt;EBSï¼šè¶…é¢çªå‘å°ºå¯¸ï¼Œè¡¨ç¤ºEæ¡¶çš„å®¹é‡ï¼Œå³Eæ¡¶ç¬é—´èƒ½å¤Ÿé€šè¿‡çš„è¶…å‡ºçªå‘æµé‡&lt;/li&gt;
&lt;li&gt;Teï¼šEæ¡¶ä¸­ä»¤ç‰Œæ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åº”ç”¨-2&#34;&gt;åº”ç”¨&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615304604371.png&#34; alt=&#34;åº”ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;p&gt;å•é€ŸåŒæ¡¶æ¨¡å¼ä¸­ï¼Œå¦‚æœEBSç­‰äº 0ï¼Œå…¶æ•ˆæœå’Œå•é€Ÿå•æ¡¶æ˜¯ä¸€æ ·çš„&lt;br&gt;
åŒé€ŸåŒæ¡¶æ¨¡å¼ä¸­ï¼Œå¦‚æœPIRç­‰äºCIRï¼Œå…¶æ•ˆæœå’Œå•é€Ÿå•æ¡¶æ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;h4 id=&#34;1-å•é€Ÿå•æ¡¶&#34;&gt;1. å•é€Ÿå•æ¡¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…³é”®å‚æ•°ï¼šCIRã€CBSï¼ˆåªæœ‰Cæ¡¶ï¼‰&lt;/li&gt;
&lt;li&gt;ä»¤ç‰ŒæŠ•æ”¾ï¼šä»¥CIRé€Ÿç‡å‘Cæ¡¶æŠ•æ”¾ä»¤ç‰Œï¼ŒCæ¡¶æ»¡æ—¶ä»¤ç‰Œæº¢å‡º&lt;/li&gt;
&lt;li&gt;æµé‡çªå‘ï¼š&lt;strong&gt;ä¸å…è®¸æµé‡çªå‘&lt;/strong&gt;ï¼ŒæŠ¥æ–‡çš„å¤„ç†ä»¥Cæ¡¶ä¸­æ˜¯å¦æœ‰è¶³å¤Ÿä»¤ç‰Œä¸ºä¾æ®&lt;/li&gt;
&lt;li&gt;é¢œè‰²æ ‡è®°ï¼šç»¿è‰²ã€çº¢è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. ç³»ç»ŸæŒ‰ç…§CIRé€Ÿç‡å‘æ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œï¼š
    1. å½“Tc&amp;lt;CBSï¼ŒTcå¢åŠ ï¼Œå¦åˆ™ä¸å¢åŠ 
2. å¯¹äºåˆ°è¾¾çš„æŠ¥æ–‡ï¼Œç”¨Bè¡¨ç¤ºæŠ¥æ–‡çš„å¤§å°ï¼š
    1. è‹¥Bâ‰¤Tcï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºç»¿è‰²ï¼Œä¸”Tcå‡å°‘B
    2. è‹¥B&amp;gt;Tcï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œä¸”Tcä¸å‡å°‘
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;2-å•é€ŸåŒæ¡¶&#34;&gt;2. å•é€ŸåŒæ¡¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…³é”®å‚æ•°ï¼šCIRã€CBSã€EBSï¼ˆCæ¡¶å’ŒEæ¡¶ï¼‰&lt;/li&gt;
&lt;li&gt;ä»¤ç‰ŒæŠ•æ”¾ï¼šCæ¡¶æ»¡æ—¶ä»¤ç‰ŒæŠ•æ”¾åˆ°Eæ¡¶ï¼ŒCæ¡¶å’ŒEæ¡¶éƒ½ä¸æ»¡æ—¶ï¼Œåªå‘Cæ¡¶æŠ•æ”¾ä»¤ç‰Œ&lt;/li&gt;
&lt;li&gt;æµé‡çªå‘ï¼šå…è®¸&lt;strong&gt;æŠ¥æ–‡å°ºå¯¸&lt;/strong&gt;çš„çªå‘ã€‚å…ˆä½¿ç”¨Cæ¡¶ä¸­çš„ä»¤ç‰Œï¼ŒCæ¡¶ä¸­ä»¤ç‰Œæ•°é‡ä¸å¤Ÿæ—¶ï¼Œä½¿ç”¨Eæ¡¶ä¸­çš„ä»¤ç‰Œ&lt;/li&gt;
&lt;li&gt;é¢œè‰²æ ‡è®°ï¼šç»¿è‰²ã€é»„è‰²æˆ–çº¢è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. ç³»ç»ŸæŒ‰ç…§CIRé€Ÿç‡å‘æ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œï¼š
    1. å½“Tc&amp;lt;CBSï¼ŒTcå¢åŠ ï¼Œå¦åˆ™ä¸å¢åŠ 
    2. å½“Te&amp;lt;EBSï¼ŒTeå¢åŠ ï¼Œå¦åˆ™ä¸å¢åŠ 
2. å¯¹äºåˆ°è¾¾çš„æŠ¥æ–‡ï¼Œç”¨Bè¡¨ç¤ºæŠ¥æ–‡çš„å¤§å°ï¼š
    1. è‹¥Bâ‰¤Tcï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºç»¿è‰²ï¼Œä¸”Tcå‡å°‘B
    2. è‹¥Tc&amp;lt;Bâ‰¤Teï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºé»„è‰²ï¼Œä¸”Teå‡å°‘B
    3. è‹¥Tc&amp;lt;Bå¹¶ä¸”Te&amp;lt;Bï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼Œä¸”Tcå’ŒTeéƒ½ä¸å‡å°‘
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;3-åŒé€ŸåŒæ¡¶&#34;&gt;3. åŒé€ŸåŒæ¡¶&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å…³é”®å‚æ•°ï¼šCIRã€CBSã€PIR ã€PBSï¼ˆCæ¡¶å’ŒPæ¡¶ï¼‰&lt;/li&gt;
&lt;li&gt;ä»¤ç‰ŒæŠ•æ”¾ï¼šä»¥CIRé€Ÿç‡å‘Cæ¡¶æŠ•æ”¾ä»¤ç‰Œï¼Œä»¥PIRé€Ÿç‡å‘Pæ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œï¼Œ&lt;code&gt;ä¸¤ä¸ªæ¡¶ç›¸å¯¹ç‹¬ç«‹&lt;/code&gt;ï¼Œæ¡¶ä¸­ä»¤ç‰Œæ»¡æ—¶ä»¤ç‰Œæº¢å‡º&lt;/li&gt;
&lt;li&gt;æµé‡çªå‘ï¼šå…è®¸&lt;strong&gt;æŠ¥æ–‡é€Ÿç‡&lt;/strong&gt;çš„çªå‘ã€‚Cæ¡¶å’ŒPæ¡¶ä¸­çš„ä»¤ç‰Œè¶³å¤Ÿæ—¶ï¼Œä¸¤ä¸ªæ¡¶ä¸­çš„ä»¤ç‰Œéƒ½ä½¿ç”¨ã€‚Cæ¡¶ä¸­ä»¤ç‰Œä¸å¤Ÿæ—¶ï¼Œåªä½¿ç”¨Pæ¡¶ä¸­çš„ä»¤ç‰Œ&lt;/li&gt;
&lt;li&gt;é¢œè‰²æ ‡è®°ï¼šç»¿è‰²ã€é»„è‰²æˆ–çº¢è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. ç³»ç»ŸæŒ‰ç…§PIRé€Ÿç‡å‘Pæ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œï¼ŒæŒ‰ç…§CIRé€Ÿç‡å‘Cæ¡¶ä¸­æŠ•æ”¾ä»¤ç‰Œï¼š
    1. å½“Tp&amp;lt;PBSæ—¶ï¼ŒPæ¡¶ä¸­ä»¤ç‰Œæ•°å¢åŠ ï¼Œå¦åˆ™ä¸å¢åŠ 
    2. å½“Tc&amp;lt;CBSæ—¶ï¼ŒCæ¡¶ä¸­ä»¤ç‰Œæ•°å¢åŠ ï¼Œå¦åˆ™ä¸å¢åŠ 
2. å¯¹äºåˆ°è¾¾çš„æŠ¥æ–‡ï¼Œç”¨Bè¡¨ç¤ºæŠ¥æ–‡çš„å¤§å°ï¼š
    1. è‹¥Bâ‰¤Tpå¹¶ä¸”Bâ‰¤Tcï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºç»¿è‰²ï¼Œä¸”Tpå’ŒTcéƒ½å‡å°‘B
    2. è‹¥Tc&amp;lt;Bâ‰¤Tpï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºé»„è‰²ï¼Œä¸”Tpå‡å°‘B
    3. è‹¥B&amp;gt;Tpï¼ŒæŠ¥æ–‡è¢«æ ‡è®°ä¸ºçº¢è‰²ï¼›
&lt;/code&gt;&lt;/pre&gt;
">QoS</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/xiang-mu/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3&#34;&gt;è¾¹ç¼˜ç«¯å£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%89%B9%E7%82%B9&#34;&gt;1. ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%B8%8D%E8%B6%B3&#34;&gt;2. ä¸è¶³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%85%8D%E5%90%88%E6%8A%80%E6%9C%AF&#34;&gt;3. é…åˆæŠ€æœ¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;4. ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ping%E4%B8%A2%E5%8C%85%E8%AF%A5%E5%A6%82%E4%BD%95%E6%8E%92%E6%9F%A5%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%87%BA%E7%8E%B0%E4%B8%A2%E5%8C%85%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5&#34;&gt;Pingä¸¢åŒ…è¯¥å¦‚ä½•æ’æŸ¥ï¼Ÿç½‘ç»œä¸­å‡ºç°ä¸¢åŒ…ï¼Œåº”è¯¥å¦‚ä½•è¿›è¡Œæ•…éšœæ’æŸ¥ï¼Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ping%E4%B8%A2%E5%8C%85%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D%E6%80%9D%E8%B7%AF%E6%95%85%E9%9A%9C%E5%88%86%E6%9E%90&#34;&gt;1. Pingä¸¢åŒ…æ•…éšœå®šä½æ€è·¯æ•…éšœåˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-ping%E4%B8%A2%E5%8C%85%E6%95%85%E9%9A%9C%E9%87%8D%E7%8E%B0&#34;&gt;2. Pingä¸¢åŒ…æ•…éšœé‡ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-ping%E4%B8%A2%E5%8C%85%E6%95%85%E9%9A%9C%E5%AE%9A%E4%BD%8D&#34;&gt;3.  Pingä¸¢åŒ…æ•…éšœå®šä½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E6%95%85%E9%9A%9C%E8%A7%A3%E5%86%B3&#34;&gt;4. æ•…éšœè§£å†³&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%89%A9%E7%90%86%E9%93%BE%E8%B7%AF%E6%95%85%E9%9A%9C%E5%BC%95%E8%B5%B7ping%E4%B8%A2%E5%8C%85%E5%88%86%E6%9E%90&#34;&gt;1. ç‰©ç†é“¾è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BD%91%E7%BB%9C%E7%8E%AF%E8%B7%AF%E6%95%85%E9%9A%9C%E5%BC%95%E8%B5%B7ping%E4%B8%A2%E5%8C%85%E5%88%86%E6%9E%90&#34;&gt;2. ç½‘ç»œç¯è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-arp%E9%97%AE%E9%A2%98%E6%95%85%E9%9A%9C%E5%BC%95%E8%B5%B7ping%E4%B8%A2%E5%8C%85%E5%88%86%E6%9E%90&#34;&gt;3. ARPé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-icmp%E9%97%AE%E9%A2%98%E6%95%85%E9%9A%9C%E5%BC%95%E8%B5%B7ping%E4%B8%A2%E5%8C%85%E5%88%86%E6%9E%90&#34;&gt;4. ICMPé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6%E5%8F%B0%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;6å°è·¯ç”±å™¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%A6%82%E6%9E%9C%E5%AE%A2%E6%88%B7%E6%98%AF%E4%BC%81%E4%B8%9A&#34;&gt;1. å¦‚æœå®¢æˆ·æ˜¯ä¼ä¸š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%A6%82%E6%9E%9C%E5%AE%A2%E6%88%B7%E6%98%AF%E6%94%BF%E5%BA%9C&#34;&gt;2. å¦‚æœå®¢æˆ·æ˜¯æ”¿åºœ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%A6%82%E6%9E%9C%E5%AE%A2%E6%88%B7%E6%98%AF%E4%BF%9D%E5%AF%86%E8%A6%81%E6%B1%82%E6%AF%94%E8%BE%83%E9%AB%98%E7%9A%84%E5%8D%95%E4%BD%8D&#34;&gt;3. å¦‚æœå®¢æˆ·æ˜¯ä¿å¯†è¦æ±‚æ¯”è¾ƒé«˜çš„å•ä½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%AD%E5%8C%BA%E7%BD%91%E6%89%93%E5%8D%B0%E6%9C%BA%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2&#34;&gt;å›­åŒºç½‘æ‰“å°æœºå¦‚ä½•éƒ¨ç½²&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-vlaneth-trunk&#34;&gt;1. VLAN+Eth-Trunk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BD%91%E5%85%B3rstp&#34;&gt;2. ç½‘å…³+RSTP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-dhcp%E4%BB%A5%E5%8F%8A%E9%98%B2%E6%8A%A48021x&#34;&gt;3. DHCPä»¥åŠé˜²æŠ¤+802.1x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-natpppoe&#34;&gt;4. NAT+PPPoE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%89%93%E5%8D%B0%E6%9C%BA%E9%85%8D%E7%BD%AE&#34;&gt;5. æ‰“å°æœºé…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8E%AF%E5%BD%A2%E7%BD%91%E5%92%8C%E6%98%9F%E5%BD%A2%E7%BD%91%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9%E5%85%B7%E4%BD%93%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;ç¯å½¢ç½‘å’Œæ˜Ÿå½¢ç½‘çš„ä¼˜ç¼ºç‚¹ï¼Ÿå…·ä½“åº”ç”¨åœºæ™¯ï¼Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E7%BC%BA%E7%82%B9&#34;&gt;ä¼˜ç¼ºç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%AD%E5%8C%BA%E7%BD%91&#34;&gt;å›­åŒºç½‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#100%E5%8F%B0%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;100å°è·¯ç”±å™¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%80%9A%E8%BF%87%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%E8%80%83%E8%99%91%E5%BA%94%E7%94%A8%E9%82%A3%E7%A7%8Digp%E5%8D%8F%E8%AE%AE&#34;&gt;1. é€šè¿‡å“ªäº›æ–¹é¢è€ƒè™‘åº”ç”¨é‚£ç§IGPåè®®ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%80%E5%AE%9A%E8%A6%81%E4%BD%BF%E7%94%A8isis&#34;&gt;2. ä»€ä¹ˆæƒ…å†µä¸‹ä¸€å®šè¦ä½¿ç”¨ISISï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%A7%E5%9E%8B%E5%89%B2%E6%8E%A5&#34;&gt;å¤§å‹å‰²æ¥&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%89%B2%E6%8E%A5%E6%B5%81%E7%A8%8B&#34;&gt;å‰²æ¥æµç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%89%8D%E6%9C%9F%E8%B0%83%E7%A0%94%E9%98%B6%E6%AE%B5&#34;&gt;1. å‰æœŸè°ƒç ”é˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%89%B2%E6%8E%A5%E5%89%8D%E5%87%86%E5%A4%87%E9%98%B6%E6%AE%B5&#34;&gt;2. å‰²æ¥å‰å‡†å¤‡é˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%89%B2%E6%8E%A5%E5%AE%9E%E6%96%BD%E9%98%B6%E6%AE%B5&#34;&gt;3. å‰²æ¥å®æ–½é˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%89%B2%E6%8E%A5%E5%90%8E%E4%BF%9D%E9%9A%9C%E9%98%B6%E6%AE%B5&#34;&gt;4. å‰²æ¥åä¿éšœé˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%89%B2%E6%8E%A5%E8%BF%87%E7%A8%8B%E4%B8%AD%E6%B6%89%E5%8F%8A%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9&#34;&gt;å‰²æ¥è¿‡ç¨‹ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BD%AF%E5%89%B2%E6%8E%A5%E4%B8%8E%E7%A1%AC%E5%89%B2%E6%8E%A5%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;è½¯å‰²æ¥ä¸ç¡¬å‰²æ¥çš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%97%B6%E9%97%B4%E7%AA%97%E5%8F%A3%E4%B8%8E%E5%89%B2%E6%8E%A5%E6%97%B6%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;æ—¶é—´çª—å£ä¸å‰²æ¥æ—¶é—´çš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%B2%E8%A1%8C%E5%89%B2%E6%8E%A5%E4%B8%8E%E5%B9%B6%E8%A1%8C%E5%89%B2%E6%8E%A5&#34;&gt;ä¸²è¡Œå‰²æ¥ä¸å¹¶è¡Œå‰²æ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%9E%E9%80%80%E6%96%B9%E6%A1%88%E4%B8%8E%E5%BA%94%E6%80%A5%E6%96%B9%E6%A1%88%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;å›é€€æ–¹æ¡ˆä¸åº”æ€¥æ–¹æ¡ˆçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%98%AF%E5%80%BC%E5%AE%88%E5%AE%88%E5%B1%80%E4%B8%80%E8%88%AC%E9%9C%80%E8%A6%81%E5%A4%9A%E9%95%BF%E6%97%B6%E9%97%B4&#34;&gt;ä»€ä¹ˆæ˜¯å€¼å®ˆï¼ˆå®ˆå±€ï¼‰ï¼Œä¸€èˆ¬éœ€è¦å¤šé•¿æ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BF%AB%E7%85%A7&#34;&gt;ä»€ä¹ˆæ˜¯å¿«ç…§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%89%B2%E6%8E%A5%E7%9A%84%E7%9B%AE%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%E4%BB%80%E4%B9%88%E6%98%AF%E5%89%B2%E6%8E%A5&#34;&gt;å‰²æ¥çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼ˆä»€ä¹ˆæ˜¯å‰²æ¥ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E9%9C%80%E8%A6%81%E5%9B%9E%E9%80%80%E5%9B%9E%E9%80%80%E6%97%B6%E5%BA%94%E8%AF%A5%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88&#34;&gt;å¦‚ä½•åˆ¤æ–­éœ€è¦å›é€€ï¼Œå›é€€æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BD%91%E7%BB%9C%E6%8B%93%E6%89%91%E7%BB%93%E6%9E%84&#34;&gt;ç½‘ç»œæ‹“æ‰‘ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%84%E7%A7%8D%E6%8B%93%E6%89%91%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9&#34;&gt;å„ç§æ‹“æ‰‘çš„ä¼˜ç¼ºç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%98%9F%E5%9E%8B%E6%8B%93%E6%89%91%E5%8D%95%E6%98%9F%E5%9E%8B&#34;&gt;1. æ˜Ÿå‹æ‹“æ‰‘ï¼ˆå•æ˜Ÿå‹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BD%91%E7%8A%B6%E6%8B%93%E6%89%91&#34;&gt;2. ç½‘çŠ¶æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%83%A8%E5%88%86%E7%BD%91%E7%8A%B6%E6%8B%93%E6%89%91&#34;&gt;3. éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%8F%8C%E6%98%9F%E5%9E%8B%E6%8B%93%E6%89%91&#34;&gt;4. åŒæ˜Ÿå‹æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%A0%91%E5%BD%A2%E6%8B%93%E6%89%91&#34;&gt;5. æ ‘å½¢æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-%E6%80%BB%E7%BA%BF%E5%9E%8B%E6%8B%93%E6%89%91&#34;&gt;6. æ€»çº¿å‹æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-%E7%8E%AF%E5%9E%8B%E6%8B%93%E6%89%91&#34;&gt;7. ç¯å‹æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;è¾¹ç¼˜ç«¯å£&#34;&gt;è¾¹ç¼˜ç«¯å£&lt;/h1&gt;
&lt;h2 id=&#34;1-ç‰¹ç‚¹&#34;&gt;1. ç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å…¥è®¾å¤‡åç›´æ¥è¿›å…¥forwardingçŠ¶æ€ï¼Œé¿å…ç­‰åœ°30ç§’è½¬å‘å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;è¾¹ç¼˜ç«¯å£å˜ä¸ºforwardingçŠ¶æ€çš„æ—¶å€™ä¸äº§ç”ŸTCæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¸è½¬å‘TCæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°TCä¸åˆ é™¤æœ¬æ¥å£çš„MACè¡¨&lt;/li&gt;
&lt;li&gt;P/Aæ”¶æ•›æ—¶ï¼Œä¸ä¼šè¿›å…¥é˜»å¡çŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œå˜æ™®é€šç«¯å£ï¼Œæ‰§è¡ŒSTPè®¡ç®—&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-ä¸è¶³&#34;&gt;2. ä¸è¶³&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸´æ—¶ç¯è·¯&lt;br&gt;
ï¼ˆ2ä¸ªç«¯å£ç›´æ¥è¿èµ·æ¥ï¼Œæˆ–è€…ä¸‹æ¸¸æ¥å…¥çš„äº¤æ¢æœºä¸æ”¯æŒç”Ÿæˆæ ‘ï¼‰&lt;br&gt;
ä¸´æ—¶ç¯è·¯æŒç»­0-2ç§’ï¼Œæ”¶åˆ°å¯¹æ–¹ç«¯å£å‘å‡ºçš„BPDUååŒæ—¶è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè¿›è¡Œç”Ÿæˆæ ‘çš„é€‰ä¸¾ï¼Œå†³å‡ºä¸€ä¸ªDPå’Œä¸€ä¸ªBPï¼ŒDPåœ¨30ç§’ä¹‹åè¿›å…¥è½¬å‘çŠ¶æ€ï¼ŒBPç»´æŒé˜»å¡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUåï¼Œä¼šä¸§å¤±è¾¹ç¼˜ç«¯å£çš„ç‰¹æ€§ï¼Œå˜æˆæ™®é€šç«¯å£å¹¶è¿›è¡Œç”Ÿæˆæ ‘è®¡ç®—ï¼Œå¼•èµ·ç½‘ç»œéœ‡è¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-é…åˆæŠ€æœ¯&#34;&gt;3. é…åˆæŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;BPDUä¿æŠ¤&lt;br&gt;
æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¾¹ç¼˜ç«¯å£æ¥ç”¨æˆ·ç»ˆç«¯ï¼Œä¸ä¼šæ”¶åˆ°BPDUæŠ¥æ–‡ã€‚å‡å¦‚æœ‰äººæ¶æ„æ”»å‡»ï¼Œä¼ªé€ BPDUæŠ¥æ–‡ï¼Œé‚£ä¹ˆè¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ä¹‹åå˜ä¸ºæ™®é€šç«¯å£ï¼Œå¼•èµ·ç”Ÿæˆæ ‘è®¡ç®—ï¼Œå¯¼è‡´ç½‘ç»œéœ‡è¡ã€‚&lt;br&gt;
æ­¤æ—¶éœ€è¦åœ¨è¾¹ç¼˜ç«¯å£ä¸Šé…ç½®BPDUä¿æŠ¤åŠŸèƒ½ï¼Œå¦‚æœè¾¹ç¼˜ç«¯å£å†æ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œæ­¤æ—¶è¾¹ç¼˜ç«¯å£å¹¶ä¸ä¼šå˜ä¸ºæ™®é€šç«¯å£ï¼Œè€Œæ˜¯error-downï¼Œç„¶åé€šçŸ¥ç½‘ç®¡ç³»ç»Ÿï¼Œå¦‚æœæƒ³è¦æ¢å¤è½¬å‘çŠ¶æ€ï¼Œå¯ä»¥æ‰‹åŠ¨&lt;code&gt;shutdown/undo shutdown&lt;/code&gt;ï¼Œæˆ–è€…é…ç½®è‡ªåŠ¨æ¢å¤&lt;code&gt;error-down auto-recovery cause bpdu-protection interval æ—¶é•¿&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-ä½¿ç”¨åœºæ™¯&#34;&gt;4. ä½¿ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¤§å‹å…¬å¸å†…ç½‘æœ‰å¾ˆå¤šç”µè„‘ï¼Œä¸Šä¸‹ç­æ—¶äº§ç”Ÿå¤§é‡çš„TCï¼Œé€ æˆæ‰€æœ‰äº¤æ¢æœºçš„MACåœ°å€è¡¨é¢‘ç¹åˆ é™¤ï¼Œä»¥è‡³äºæŒç»­æ³›æ´ªæ‰€æœ‰çš„æ•°æ®å¸§ï¼Œå¯ç”¨è¾¹ç¼˜ç«¯å£å¯ä»¥æ”¹å–„ç½‘ç»œå“è´¨&lt;/li&gt;
&lt;li&gt;æ¥DHCPå®¢æˆ·ç«¯çš„ç«¯å£ï¼Œå¦åˆ™DHCPè·å–åœ°å€æ¯”è¾ƒæ…¢&lt;/li&gt;
&lt;li&gt;æ¥é‡è¦æœåŠ¡å™¨å’ŒIPç”µè¯æ¥å£ï¼Œå¦åˆ™åœ¨ç”Ÿæˆæ ‘æ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†è¢«é˜»å¡æ‰ï¼Œ30ç§’åæ‰èƒ½å†æ¬¡æä¾›æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;pingä¸¢åŒ…è¯¥å¦‚ä½•æ’æŸ¥ç½‘ç»œä¸­å‡ºç°ä¸¢åŒ…åº”è¯¥å¦‚ä½•è¿›è¡Œæ•…éšœæ’æŸ¥&#34;&gt;Pingä¸¢åŒ…è¯¥å¦‚ä½•æ’æŸ¥ï¼Ÿç½‘ç»œä¸­å‡ºç°ä¸¢åŒ…ï¼Œåº”è¯¥å¦‚ä½•è¿›è¡Œæ•…éšœæ’æŸ¥ï¼Ÿ&lt;/h1&gt;
&lt;h2 id=&#34;1-pingä¸¢åŒ…æ•…éšœå®šä½æ€è·¯æ•…éšœåˆ†æ&#34;&gt;1. Pingä¸¢åŒ…æ•…éšœå®šä½æ€è·¯æ•…éšœåˆ†æ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Pingä¸¢åŒ…æ˜¯æŒ‡PingæŠ¥æ–‡åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œç”±äºå„ç§åŸå› ï¼ˆå¦‚çº¿è·¯è¿‡é•¿ã€ç½‘ç»œæ‹¥å¡ç­‰ï¼‰è€Œäº§ç”Ÿéƒ¨åˆ†PingæŠ¥æ–‡ä¸¢å¼ƒçš„ç°è±¡ã€‚åœ¨ä½¿ç”¨Pingå‘½ä»¤ï¼Œå‡ºç°Pingä¸¢åŒ…çš„ç°è±¡æ—¶ï¼Œç¬¬ä¸€æ­¥éœ€è¦&lt;strong&gt;ç¡®å®šPingä¸¢åŒ…çš„ç½‘ç»œä½ç½®&lt;/strong&gt;ï¼Œå…¶æ¬¡æ˜¯&lt;strong&gt;ç¡®å®šPingä¸¢åŒ…çš„æ•…éšœåŸå› å’Œè®¾å¤‡&lt;/strong&gt;ï¼Œç„¶åä¾æ®å®šä½çš„æ•…éšœåŸå› å†è¿›è¡Œè§£å†³ã€‚
&lt;ol&gt;
&lt;li&gt;ç¡®è®¤Pingä¸¢åŒ…çš„&lt;strong&gt;ç½‘ç»œä½ç½®æ—¶&lt;/strong&gt;ä¸€èˆ¬é‡‡ç”¨&lt;strong&gt;é€æ®µPingçš„æ–¹æ³•&lt;/strong&gt;ï¼Œå¯ä»¥å°†Pingä¸¢åŒ…æ•…éšœæœ€ç»ˆç¡®å®šåœ¨ç›´è¿ç½‘æ®µä¹‹é—´&lt;/li&gt;
&lt;li&gt;ç¡®è®¤Pingä¸¢åŒ…çš„&lt;strong&gt;æ•…éšœåŸå› &lt;/strong&gt;ä¸€èˆ¬é‡‡ç”¨&lt;strong&gt;æµé‡ç»Ÿè®¡çš„æ–¹æ³•&lt;/strong&gt;ï¼Œé€šè¿‡æµé‡ç»Ÿè®¡å¯ä»¥çŸ¥é“ä¸¢å¼ƒæŠ¥æ–‡çš„&lt;strong&gt;å…·ä½“ä½ç½®ã€åˆ¤æ–­æ•…éšœåŸå› &lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯¼è‡´Pingä¸¢åŒ…çš„åŸå› éå¸¸å¤šï¼Œä¹Ÿéå¸¸å¤æ‚ï¼Œæ¯”å¦‚ç‰©ç†ç¯å¢ƒæ•…éšœã€ç½‘ç»œç¯è·¯ã€ARPé—®é¢˜ã€ICMPé—®é¢˜ç­‰ï¼Œå½“ç„¶ï¼Œå¹¶ä¸æ˜¯Pingä¸¢åŒ…å°±ä¸€å®šè¡¨ç¤ºç½‘ç»œè´¨é‡å·®ï¼ŒæŸäº›æƒ…å†µä¸‹è™½ç„¶Pingä¸¢åŒ…ï¼Œä½†æ˜¯ä¸šåŠ¡æ˜¯æ­£å¸¸çš„ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†æPingä¸¢åŒ…æ—¶æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š
&lt;ol&gt;
&lt;li&gt;å½“è®¾å¤‡å¯¹æŠ¥æ–‡è¿›è¡Œç¡¬ä»¶è½¬å‘ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼Œå°±ä¸ä¼šä¸¢åŒ…ï¼Œä¾‹å¦‚Pingè®¾å¤‡ç«¯å£ä¸‹æŒ‚çš„ç”µè„‘ã€‚å½“æŠ¥æ–‡éœ€è¦CPUè¿›è¡Œå¤„ç†æ—¶ï¼ŒCPUç¹å¿™å°±ä¼šä¸¢åŒ…ï¼Œä¾‹å¦‚Pingè®¾å¤‡ä¸Šçš„IPåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢ç½‘ç»œæ”»å‡»å¯¹è®¾å¤‡é€ æˆå½±å“ï¼Œè®¾å¤‡å…·æœ‰CPUä¿æŠ¤åŠŸèƒ½ï¼Œå¯¹äºè¶…è¿‡CPCARå€¼çš„ARPã€ICMPç­‰æŠ¥æ–‡è¿›è¡Œä¸¢å¼ƒï¼Œé€ æˆPingä¸¢åŒ…ç°è±¡ï¼Œæ­¤ç§ç°è±¡ä¸å½±å“ä¸šåŠ¡çš„æ­£å¸¸è¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-pingä¸¢åŒ…æ•…éšœé‡ç°&#34;&gt;2. Pingä¸¢åŒ…æ•…éšœé‡ç°&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1616895461793.png&#34; alt=&#34;Pingæµ‹è¯•ç»„ç½‘å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨PCä¸Šæ‰§è¡Œ&lt;code&gt;ping -n 100 192.168.4.41&lt;/code&gt;ï¼Œå‘ç°æœ‰20%çš„æŠ¥æ–‡ä¸¢å¤±&lt;/p&gt;
&lt;h2 id=&#34;3-pingä¸¢åŒ…æ•…éšœå®šä½&#34;&gt;3.  Pingä¸¢åŒ…æ•…éšœå®šä½&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç¼©å°æ•…éšœèŒƒå›´&lt;br&gt;
å½“åœ¨PCä¸Šç›´æ¥Ping IPåœ°å€192.168.4.41ä¸¢åŒ…æ—¶ï¼Œç›´æ¥åˆ¤å®šæ•…éšœå‡ºç°çš„åŸå› å°†éå¸¸çš„å›°éš¾ã€‚æ­¤æ—¶å¯ä»¥å…ˆç¼©å°æ•…éšœèŒƒå›´ï¼Œåœ¨PCä¸Šåˆ†åˆ«Ping SwitchAã€SwitchBã€SwitchCå’ŒSwitchDï¼Œé€šè¿‡Pingç»“æœå¯ä»¥åˆ¤æ–­å‡ºå“ªä¸€æ®µç½‘ç»œå‡ºç°æ•…éšœã€‚å‡è®¾PCä¸ŠPing SwitchBæ—¶ä¹Ÿå‡ºç°ä¸¢åŒ…ï¼Œåˆ™å¯ä»¥åˆæ­¥åˆ¤æ–­ä¸¢åŒ…å‘ç”Ÿåœ¨SwitchAå’ŒSwitchBç›´è¿ç½‘æ®µä¹‹é—´&lt;/li&gt;
&lt;li&gt;é…ç½®Pingå¤šåŒ…&lt;br&gt;
ä¸ºäº†æŒç»­å¤ç°ä¸¢åŒ…ç°è±¡ï¼Œä»¥ä¾¿äºæ•…éšœå¤„ç†ï¼Œéœ€è¦æŒç»­å‘é€PingæŠ¥æ–‡ã€‚äº¤æ¢æœºå¯ä»¥é…ç½®Pingçš„-c countå‚æ•°ï¼Œå‘é€å¤šä¸ªPingæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®æµé‡ç»Ÿè®¡&lt;br&gt;
é€šè¿‡ç¼©å°æ•…éšœèŒƒå›´æœ€ç»ˆå°†æ•…éšœå®šä½åœ¨SwitchAå’ŒSwitchBä¹‹é—´ï¼Œä¸ºäº†è¿›ä¸€æ­¥ç¡®è®¤æ•…éšœç‚¹ï¼Œéœ€è¦åœ¨SwitchAå’ŒSwitchBä¸Šé…ç½®æµé‡ç»Ÿè®¡åŠŸèƒ½ï¼Œè§‚å¯Ÿä¸¢åŒ…æƒ…å†µï¼Œé…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;å…ˆé€šè¿‡é«˜çº§aclé…ç½®æµè§„åˆ™&lt;code&gt;acl 3000 ; rule 5 permit icmp source 192.168.1.5 0 destination 192.168.2.21 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åæ ¹æ®aclé…ç½®æµç­–ç•¥ï¼Œä¸»è¦æ˜¯é…ç½®
&lt;ol&gt;
&lt;li&gt;traffic classifierå‘½ä¸­æµ&lt;code&gt;if-match acl 3000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;traffic behavioræµè¡Œä¸º&lt;code&gt;statiatic enable&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨traffic policyå°†æµå’Œè¡Œä¸ºç»‘å®š&lt;code&gt;claffifier huawei behavior huawei&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨æ¥å£ä¸‹ä½¿èƒ½ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æµé‡ç»Ÿè®¡å‘½ä»¤ä¸º&lt;code&gt;display traffic policy statistics interface {æ¥å£} inboundæˆ–è€…outbound verbose rule-based class huawei&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ¸…ç©ºæµé‡ç»Ÿè®¡å‘½ä»¤ä¸º&lt;code&gt;reset traffic policy statistics interface {æ¥å£} inboundæˆ–è€…outbound&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åˆ†æç»Ÿè®¡ç»“æœ&lt;br&gt;
åœ¨SwitchAä¸ŠæŒç»­Ping SwitchB
&lt;ol&gt;
&lt;li&gt;å¦‚æœç¦»å¼€SwitchAçš„æŠ¥æ–‡æ•°ç›® &lt;code&gt;&amp;lt;&lt;/code&gt; Pingå‘é€çš„æŠ¥æ–‡æ•°ç›®ï¼Œè¯´æ˜SwitchAä¸Šä¸¢åŒ…ï¼Œå¼•èµ·SwitchAä¸¢åŒ…å¯èƒ½åŸå› åˆ†ä¸º&lt;strong&gt;ç½‘ç»œç¯è·¯å’ŒARPé—®é¢˜&lt;/strong&gt;ã€‚ç™»é™†è®¾å¤‡SwitchA
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹CPUå’Œæ¥å£åˆ©ç”¨ç‡çš„æƒ…å†µï¼ŒæŸ¥çœ‹æ˜¯å¦å‡ºç°MACåœ°å€æ¼‚ç§»&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ˜¯å¦æœ‰ARPæŠ¥æ–‡è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœç¦»å¼€SwitchAçš„æŠ¥æ–‡æ•°ç›® &lt;code&gt;&amp;gt;&lt;/code&gt; è¿›å…¥SwitchBçš„æŠ¥æ–‡æ•°ç›®ï¼Œè¯´æ˜ä¼ è¾“é“¾è·¯ä¸Šå­˜åœ¨ä¸¢åŒ…ï¼Œåé¢ä»‹ç»çš„ç‰©ç†é“¾è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…å¦‚ä½•å¤„ç†&lt;/li&gt;
&lt;li&gt;å¦‚æœç¦»å¼€SwitchAçš„æŠ¥æ–‡æ•°ç›® &lt;code&gt;=&lt;/code&gt; è¿›å…¥SwitchBçš„æŠ¥æ–‡æ•°ç›®ï¼Œä½†æ˜¯ç¦»å¼€SwitchBçš„æŠ¥æ–‡æ•°ç›® &lt;code&gt;&amp;lt;&lt;/code&gt; è¿›å…¥SwitchBæŠ¥æ–‡æ•°ç›®ï¼Œè¯´æ˜SwitchBä¸Šå­˜åœ¨ä¸¢åŒ…ï¼Œå¼•èµ·SwitchBè®¾å¤‡ä¸¢åŒ…å¯èƒ½åŸå› åˆ†ä¸º&lt;strong&gt;ç½‘ç»œç¯è·¯å’ŒICMPé—®é¢˜&lt;/strong&gt;ã€‚ç™»å½•è®¾å¤‡SwitchBï¼š
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹CPUå’Œæ¥å£åˆ©ç”¨ç‡æ˜¯å¦å¾ˆé«˜ã€æŸ¥çœ‹æ˜¯å¦å‡ºç°MACåœ°å€æ¼‚ç§»&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ˜¯å¦æœ‰ICMPæŠ¥æ–‡è¢«ä¸¢å¼ƒã€æŸ¥çœ‹ICMPæŠ¥æ–‡é™é€Ÿçš„é…ç½®æ˜¯å¦è¿‡å°&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-æ•…éšœè§£å†³&#34;&gt;4. æ•…éšœè§£å†³&lt;/h2&gt;
&lt;h3 id=&#34;1-ç‰©ç†é“¾è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&#34;&gt;1. ç‰©ç†é“¾è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç‰©ç†é“¾è·¯æ•…éšœå¸¸è§ä»¥ä¸‹åŸå› ï¼š
&lt;ol&gt;
&lt;li&gt;è®¡ç®—æœºç½‘å¡æœ‰é—®é¢˜&lt;/li&gt;
&lt;li&gt;çº¿ç¼†æ¥å¤´æ¥è§¦ä¸è‰¯æˆ–æ¾è„±&lt;/li&gt;
&lt;li&gt;ç½‘çº¿å‡ºç°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ç²¾æ˜é¼ æŸ¥çœ‹æ˜¯å¦æœ‰ç½‘çº¿ä¸­æ–­çº¿æƒ…å†µ&lt;/li&gt;
&lt;li&gt;å…‰çº¤å¼¯æ›²åº¦è¿‡å¤§æˆ–è€…æŸåå¯¼è‡´å…‰çº¤åŠŸç‡è¿‡ä½ï¼ŒPCå’ŒæœåŠ¡å™¨ä¸Šçš„å¯ä»¥ä½¿ç”¨å…‰åŠŸç‡è®¡æµ‹é‡ï¼Œäº¤æ¢æœºä¸Šå¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;display transceiver interface gigabitethernet 0/0/1 verbose&lt;/code&gt;æŸ¥çœ‹ï¼Œä¸€èˆ¬å…‰åŠŸç‡å¤§äº-15dbä¸ºæ­£å¸¸å¯ç”¨çš„ï¼Œå°äº-40dbæ— æ³•ä½¿ç”¨ï¼Œå½“ç„¶å…‰åŠŸç‡ä¹Ÿä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œè¿‡å¤§å®¹æ˜“å¯¼è‡´å…‰æ¨¡å—æŸåã€‚å¦‚æœæ˜¯å¯¹å…‰ä¿¡å·è¿›è¡Œæ”¾å¤§ï¼Œè¢«æ”¾å¤§çš„ä¿¡å·å¦‚æœä¿¡å™ªæ¯”æ¯”è¾ƒä½çš„æƒ…å†µï¼Œè¢«æ”¾å¤§ä¹‹åçš„ä¿¡å·çš„å¤±æ­¥æ›´åŠ ä¸¥é‡ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯å…‰çº¤é—®é¢˜ï¼Œæ¯”è¾ƒå®¹æ˜“æŸåçš„æ˜¯lcå¤´&lt;sub&gt;lcå°æ–¹å¤´ï¼ˆç›´æ¥è¿æ¥å…‰æ¨¡å—ï¼‰ã€fcå¤§åœ†å¤´ã€scå¤§æ–¹å¤´ã€stå°åœ†å¤´&lt;/sub&gt;ï¼Œå¦‚æœæ˜¯è¿œè·ç¦»ä¼ è¾“ï¼Œå¯ä»¥ä½¿ç”¨otdr&lt;sub&gt;å…‰æ—¶åŸŸåå°„ä»ª&lt;/sub&gt;å®šä½å¤§æ¦‚çš„å…‰çº¤æ•…éšœåœ°ç†ä½ç½®&lt;/li&gt;
&lt;li&gt;é™¤äº†ç½‘ç»œè®¾å¤‡ç›´æ¥ç›¸å…³çš„ç‰©ç†å› ç´ ï¼Œè¿˜æœ‰ä»¥ä¸‹å› ç´ ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨å®é™…ç¯å¢ƒä¸­è®¾å¤‡æœªæ¥åœ°å¯¼è‡´é™ç”µä¸èƒ½é‡Šæ”¾&lt;/li&gt;
&lt;li&gt;é£æ‰‡æŸåå¯¼è‡´è®¾å¤‡è¿‡çƒ­ç­‰ç‰©ç†ç¯å¢ƒé—®é¢˜ä¹Ÿä¼šå¼•èµ·Pingä¸¢åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç‰©ç†é“¾è·¯æ•…éšœå¯ä»¥é€šè¿‡è§‚å¯Ÿå‘ç°ï¼Œå¦‚å…‰çº¤å¼¯æ›²åº¦è¿‡å¤§ã€ç‰©ç†è¿æ¥çº¿è¿‡é•¿ã€è®¾å¤‡æˆ–è€…ç”µè„‘ç½‘å¡æŒ‡ç¤ºç¯æ˜¾ç¤ºä¸æ­£å¸¸ç­‰&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹ç‰©ç†é“¾è·¯æ•…éšœï¼Œæ•…éšœçš„è§£å†³çš„åŠæ³•ä¸€èˆ¬æ˜¯æ›´æ¢ç‰©ç†å™¨ä»¶ï¼Œå™¨ä»¶æ›´æ¢åæ•…éšœå³å¯æ¢å¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-ç½‘ç»œç¯è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&#34;&gt;2. ç½‘ç»œç¯è·¯æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/h3&gt;
&lt;p&gt;ä»¥å¤ªç½‘äº¤æ¢ç½‘ç»œä¸­ä¸ºäº†è¿›è¡Œé“¾è·¯å¤‡ä»½ï¼Œæé«˜ç½‘ç»œå¯é æ€§ï¼Œé€šå¸¸ä¼šä½¿ç”¨å†—ä½™é“¾è·¯ï¼Œä½†æ˜¯ä½¿ç”¨å†—ä½™é“¾è·¯ä¼šåœ¨äº¤æ¢ç½‘ç»œä¸Šäº§ç”Ÿç¯è·¯ï¼Œå¼•å‘å¹¿æ’­é£æš´ä»¥åŠMACåœ°å€è¡¨ä¸ç¨³å®šç­‰æ•…éšœç°è±¡ï¼Œä»è€Œå¯¼è‡´ç”¨æˆ·é€šä¿¡è´¨é‡è¾ƒå·®ï¼Œç”šè‡³é€šä¿¡ä¸­æ–­ã€‚&lt;br&gt;
ç½‘ç»œç¯è·¯ä¼šå¯¼è‡´è®¾å¤‡CPUå’Œç«¯å£åˆ©ç”¨ç‡é«˜ï¼ŒPingæŠ¥æ–‡è¢«ä¸¢å¼ƒã€‚&lt;br&gt;
å½“è®¾å¤‡å¤„äºå­˜åœ¨ç¯è·¯çš„ç½‘ç»œä¸­ï¼Œè®¾å¤‡çš„ååº”é€Ÿåº¦æ¯”è¾ƒç¼“æ…¢ï¼Œç¯è·¯é—®é¢˜åˆ¤æ–­æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;display interface brief | include up&lt;/code&gt;å‘½ä»¤ï¼ŒæŸ¥çœ‹æ‰€æœ‰UPæ¥å£ä¸‹çš„æµé‡ï¼Œå­˜åœ¨ç¯è·¯çš„æ¥å£ä¸Š&lt;code&gt;InUtiå’ŒOutUti&lt;/code&gt;ä¸¤ä¸ªè®¡æ•°ä¼šé€æ­¥å¢åŠ ï¼Œç”šè‡³åˆ°æ¥è¿‘100%ï¼Œè¿œè¿œè¶…è¿‡ä¸šåŠ¡æµé‡&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥CPUçš„åˆ©ç”¨ç‡&lt;br&gt;
é€šè¿‡å‘½ä»¤&lt;code&gt;display cpu-usage&lt;/code&gt;æŸ¥çœ‹CPUçš„åˆ©ç”¨ç‡&lt;br&gt;
ç½‘ç»œç¯è·¯ä¼šå¯¼è‡´CPUåˆ©ç”¨ç‡ä¸€ç›´å¾ˆé«˜ï¼ŒPingæŠ¥æ–‡æœªæ¥å¾—åŠå¤„ç†å°±è¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­äº¤æ¢æœºæ˜¯å¦å­˜åœ¨MACåœ°å€æ¼‚ç§»
&lt;ol&gt;
&lt;li&gt;å¯ä»¥æ‰§è¡Œ&lt;code&gt;display trapbuffer&lt;/code&gt;å‘½ä»¤ï¼ŒæŸ¥çœ‹MACåœ°å€æ¼‚ç§»çš„æ—¥å¿—æ¥åˆ¤æ–­&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¤šæ¬¡æ‰§è¡Œ&lt;code&gt;display mac-address&lt;/code&gt;æ¥è§‚å¯Ÿï¼Œè‹¥MACåœ°å€åœ¨äº¤æ¢æœºä¸åŒçš„æ¥å£å­¦ä¹ åˆ°ï¼Œåˆ™å­˜åœ¨macåœ°å€æ¼‚ç§»&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ‰§è¡Œ&lt;code&gt;mac-address flapping detection&lt;/code&gt;å‘½ä»¤é…ç½®MACåœ°å€æ¼‚ç§»æ£€æµ‹åŠŸèƒ½ï¼Œç„¶åé€šè¿‡&lt;code&gt;display mac-address flapping record&lt;/code&gt;å‘½ä»¤æ¥åˆ¤æ–­æ˜¯å¦å‡ºç°MACåœ°å€æ¼‚ç§»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è§£å†³æ­¤ç§Pingä¸¢åŒ…é—®é¢˜çš„æ–¹æ³•æ˜¯ç ´é™¤ç½‘ç»œç¯è·¯ï¼Œå¯ä»¥åœ¨è®¾å¤‡ä¸Šéƒ¨ç½²STP/RSTP/MSTP~æˆ–è€…Smart Link~ç­‰åè®®ï¼Œå¯¹ç¯è·¯è¿›è¡Œå¤„ç†&lt;/p&gt;
&lt;h3 id=&#34;3-arpé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&#34;&gt;3. ARPé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸è§ARPæ”»å‡»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ARPæ³›æ´ªæ”»å‡»ï¼ˆæ‹’ç»æœåŠ¡æ”»å‡»Dosï¼‰ï¼Œæ”»å‡»è€…å‘é€å¤§é‡çš„ARPæŠ¥æ–‡ï¼Œä¾µå è®¾å¤‡ARPè¡¨é¡¹èµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ã€‚å¯ä»¥é€šè¿‡é…ç½®ARPè¡¨é¡¹é™åˆ¶ã€ARP Missæ¶ˆæ¯é™é€Ÿã€ARPè¡¨é¡¹ä¸¥æ ¼å­¦ä¹ ã€ARPæŠ¥æ–‡é™é€Ÿæ¥&lt;/li&gt;
&lt;li&gt;ARPæ¬ºéª—æ”»å‡»ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰ï¼Œæ”»å‡»è€…é€šè¿‡å‘é€ä¼ªé€ çš„ARPæŠ¥æ–‡ï¼Œæ¶æ„ä¿®æ”¹è®¾å¤‡æˆ–ç½‘ç»œå†…å…¶ä»–ç”¨æˆ·ä¸»æœºçš„ARPè¡¨é¡¹ã€‚å¯ä»¥é€šè¿‡é…ç½®ARPè¡¨é¡¹å›ºåŒ–ã€ARPè¡¨é¡¹ä¸¥æ ¼å­¦ä¹ ã€å‘é€å…è´¹ARPæŠ¥æ–‡ã€DAIæ¥é˜²æ­¢ARPæ¬ºéª—æ”»å‡»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;ARPé—®é¢˜å¸¸è§æ•…éšœç°è±¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆšå¼€å§‹ç”±äºARPå­¦ä¹ å¤±è´¥å‡ºç°Pingä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;ç„¶åå­¦ä¹ åˆ°ARPåä¸€æ®µæ—¶é—´å†…ï¼ˆARPè¡¨é¡¹è€åŒ–æ—¶é—´ï¼Œé»˜è®¤20åˆ†é’Ÿï¼‰æ— ä¸¢åŒ…ç°è±¡&lt;/li&gt;
&lt;li&gt;ä¹‹åå†å‡ºç°ARPå­¦ä¹ å¤±è´¥ä¼šç»§ç»­å‡ºç°ä¸¢åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸¸è§ARPé—®é¢˜æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾å¤‡é…ç½®äº†ARPå®‰å…¨åŠŸèƒ½ï¼Œå¦‚ARP Missçš„æºæŠ‘åˆ¶ã€ARPé€Ÿç‡æŠ‘åˆ¶ç­‰ï¼Œä¼šå¯¼è‡´ARPå­¦ä¹ å¾ˆæ…¢ï¼ŒPingä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;è®¾å¤‡å—åˆ°ARPæŠ¥æ–‡æ”»å‡»ï¼Œä¸Šé€CPUçš„ARPæŠ¥æ–‡æ•°è¶…è¿‡CPCARå€¼ï¼Œå¯¼è‡´éƒ¨åˆ†ARPæŠ¥æ–‡è¢«ä¸¢å¼ƒï¼ŒPingä¸¢åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸¸è§é—®é¢˜åˆ¤æ–­åŠè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;display arp packet statistics&lt;/code&gt;å‘½ä»¤ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰ARPæŠ¥æ–‡è¢«ä¸¢å¼ƒï¼Œåˆ†æè®¾å¤‡ä¸ŠARPå®‰å…¨çš„é…ç½®æƒ…å†µï¼Œä»è€Œåˆ¤æ–­é—®é¢˜çš„åŸå› ã€‚å¯¹äºè¯¥é—®é¢˜éœ€è¦é‡æ–°é…ç½®ARPå®‰å…¨ï¼Œä½¿è®¾å¤‡èƒ½å¤Ÿæ­£å¸¸çš„å¤„ç†ARPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;display cpu-defend statistics&lt;/code&gt;å‘½ä»¤ï¼ŒæŸ¥çœ‹CPUå¯¹äºARPæŠ¥æ–‡å¤„ç†æƒ…å†µï¼Œæ˜¯å¦å­˜åœ¨æŠ¥æ–‡ä¸¢å¼ƒã€‚å¯¹äºè¯¥é—®é¢˜éœ€è¦æ£€æŸ¥è®¾å¤‡æ˜¯å¦å—åˆ°ARPæ”»å‡»ï¼Œæ­£ç¡®é…ç½®ARPå®‰å…¨æ¥é˜²èŒƒæ”»å‡»ï¼ŒåŒæ—¶å¢åŠ ARPæŠ¥æ–‡çš„CPCARå€¼ã€‚é…ç½®æ ·ä¾‹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cpu-defend policy arp
car packet-type arp-reply cir 32
car packet-type arp-request cir 32
quit
cpu-defend-policy arp global
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4-icmpé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&#34;&gt;4. ICMPé—®é¢˜æ•…éšœå¼•èµ·pingä¸¢åŒ…åˆ†æ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸è§ICMPæ”»å‡»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ICMPæ³›æ´ªæ”»å‡»ï¼Œå‘é€é€Ÿåº¦æå¿«çš„pingæŠ¥æ–‡ï¼Œå¯¼è‡´è¢«æ”»å‡»è€…ç–²äºåº”ä»˜ï¼ŒCPUä½¿ç”¨ç‡è¿‡é«˜ã€‚å¯ä»¥è®¾ç½®CPCARå€¼ï¼Œä¿è¯è®¾å¤‡CPUä¸è¢«æ”»å‡»&lt;/li&gt;
&lt;li&gt;å‘é€é•¿åº¦è¶…è¿‡65535Bçš„æŠ¥æ–‡ï¼Œå¯¼è‡´è¢«æ”»å‡»è€…ç»„æŠ¥ä¹‹åå†…å­˜æº¢å‡ºã€‚å¯ä»¥è®¾ç½®pingçš„æŠ¥æ–‡é•¿åº¦ï¼Œè¶…è¿‡é•¿åº¦çš„æŠ¥æ–‡ç›´æ¥ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å‘é€çš„æŠ¥æ–‡é•¿åº¦æ²¡æœ‰è¶…è¿‡65535Bï¼Œä½†æ˜¯ä¼šåˆ†ç‰‡ï¼Œå¯¼è‡´è¢«æ”»å‡»è€…é¢‘ç¹çš„ç»„æŠ¥ï¼ŒCPUä½¿ç”¨ç‡è¿‡é«˜ã€‚å¯ä»¥è®¾ç½®ä¸¢å¼ƒICMPåˆ†ç‰‡çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å‘é€icmpä¸å¯è¾¾æŠ¥æ–‡ï¼Œå¹²æ‰°è¢«æ”»å‡»è€…çš„è·¯ç”±ä¿¡æ¯ï¼Œå½±å“æ­£å¸¸æŠ¥æ–‡çš„è½¬å‘ã€‚å¯ä»¥å¼€å¯ICMPä¸å¯è¾¾æŠ¥æ–‡æ”»å‡»é˜²èŒƒåŠŸèƒ½ï¼Œæ”¶åˆ°ICMPä¸å¯è¾¾æŠ¥æ–‡å°†ç›´æ¥å¿½ç•¥&lt;/li&gt;
&lt;li&gt;è·¨è¶Šç½‘æ®µå‘è¢«æ”»å‡»è€…å‘é€è™šå‡çš„é‡å®šå‘æŠ¥æ–‡ï¼Œä»¥æ”¹å˜ç›®æ ‡ä¸»æœºçš„è·¯ç”±è¡¨ï¼Œå½±å“æ­£å¸¸æŠ¥æ–‡çš„è½¬å‘ã€‚å¯ä»¥å¯åŠ¨ICMPé‡å®šå‘æ”»å‡»é˜²èŒƒåï¼Œè®¾å¤‡å°†å¯¹ICMPé‡å®šå‘æŠ¥æ–‡è¿›è¡Œä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;ICMPé—®é¢˜å¸¸è§æ•…éšœç°è±¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pingè®¾å¤‡æ—¶ï¼Œä¸€æ—¦Pingé€Ÿåº¦æ¯”è¾ƒå¿«å°±ä¼šä¸¢åŒ…ï¼Œé€Ÿåº¦æ…¢ä¸‹æ¥å°±ä¸ä¼šä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;Pingå¤§åŒ…æ—¶å‡ºç°è§„å¾‹æ€§ä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;Pingè®¾å¤‡æ—¶ï¼Œä¼šå‡ºç°Pingé€šå‡ ä¸ªæŠ¥æ–‡åPingä¸é€šï¼Œå¤§çº¦ä¸¤åˆ†é’Ÿå·¦å³åˆå¯ä»¥Pingé€šï¼ŒPingé€šå‡ ä¸ªæŠ¥æ–‡ååˆPingä¸é€š&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸¸è§ICMPé—®é¢˜æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾å¤‡é…ç½®ICMPé™é€ŸåŠŸèƒ½ï¼Œè¶…è¿‡é€Ÿåº¦é™åˆ¶çš„ICMPæŠ¥æ–‡è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;è®¾å¤‡é…ç½®ICMPæ”»å‡»é˜²èŒƒï¼Œè¶…è¿‡é€Ÿåº¦é™åˆ¶çš„ICMPæŠ¥æ–‡è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;è®¾å¤‡å—åˆ°ICMPæŠ¥æ–‡æ”»å‡»ï¼Œä¸Šé€CPUçš„ICMPæŠ¥æ–‡æ•°è¶…è¿‡CPCARå€¼ï¼Œå¯¼è‡´éƒ¨åˆ†ICMPæŠ¥æ–‡è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸¸è§é—®é¢˜åˆ¤æ–­åŠè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥&lt;code&gt;icmp rate-limit total threshold threshold-value&lt;/code&gt;å‘½ä»¤çš„é…ç½®æƒ…å†µï¼Œäº†è§£ICMPæµé‡é™é€Ÿçš„é˜ˆå€¼ã€‚å¦‚æœé˜ˆå€¼è¿‡å°ï¼Œåˆ™å¯é€šè¿‡&lt;code&gt;icmp rate-limit total threshold threshold-value&lt;/code&gt;å‘½ä»¤è¿›è¡Œä¿®æ”¹ï¼Œä½¿å…¶å…è®¸æ›´å¤šçš„ICMPæŠ¥æ–‡é€šè¿‡ã€‚é…ç½®å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;icmp rate-limit enable
icmp rate-limit total threshold 500
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;display icmp statistics&lt;/code&gt;å’Œ&lt;code&gt;display anti-attack statistics icmp-flood&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æœ‰ICMPæŠ¥æ–‡è¢«ä¸¢å¼ƒã€‚å¯¹äºè¯¥é—®é¢˜éœ€è¦é‡æ–°é…ç½®ICMPå®‰å…¨ï¼Œä½¿è®¾å¤‡èƒ½å¤Ÿæ­£å¸¸çš„å¤„ç†ICMPæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;display cpu-defend statistics packet-type icmp all&lt;/code&gt;å‘½ä»¤ï¼ŒæŸ¥çœ‹CPUå¯¹äºICMPæŠ¥æ–‡å¤„ç†æƒ…å†µï¼Œæ˜¯å¦å­˜åœ¨æŠ¥æ–‡ä¸¢å¼ƒã€‚å¯¹äºè¯¥é—®é¢˜éœ€è¦æ£€æŸ¥è®¾å¤‡æ˜¯å¦å—åˆ°ICMPæ”»å‡»ï¼Œæ­£ç¡®é…ç½®ICMPå®‰å…¨æ¥é˜²èŒƒæ”»å‡»ï¼ŒåŒæ—¶å¢åŠ ICMPæŠ¥æ–‡çš„CPCARå€¼ã€‚ICMPæŠ¥æ–‡çš„CPCARå€¼é…ç½®æ ·ä¾‹å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cpu-defend policy icmp
car packet-type icmp cir 256
quit
cpu-defend-policy icmp global
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿˜å¯ä»¥é€šè¿‡&lt;code&gt;icmp-reply fast&lt;/code&gt;å‘½ä»¤ä½¿èƒ½Pingå¿«å›åŠŸèƒ½æ¥è§£å†³CPUä¸¢å¼ƒICMPæŠ¥æ–‡æ•…éšœ&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;6å°è·¯ç”±å™¨&#34;&gt;6å°è·¯ç”±å™¨&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;ç»™ä½ 6å°è·¯ç”±å™¨ï¼Œ2å°é«˜æ€§èƒ½ï¼Œ2å°ä¸­ç­‰æ€§èƒ½ï¼Œ2å°ä½æ€§èƒ½ï¼Œæ„æ€ä¸¤ç§æ‹“æ‰‘ï¼Œä½ æ€ä¹ˆè§„åˆ’ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614860816612.png&#34; alt=&#34;6å°è·¯ç”±å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‹“æ‰‘å¦‚ä½•è§„åˆ’éœ€è¦è€ƒè™‘åˆ°ç”¨æˆ·å…³å¿ƒçš„æ ¸å¿ƒé—®é¢˜ï¼š&lt;/p&gt;
&lt;h2 id=&#34;1-å¦‚æœå®¢æˆ·æ˜¯ä¼ä¸š&#34;&gt;1. å¦‚æœå®¢æˆ·æ˜¯ä¼ä¸š&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å¯èƒ½æœ€å…³å¿ƒçš„æ˜¯æˆæœ¬å¼€é”€é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»è®¾å¤‡è§’åº¦è€ƒè™‘ï¼š&lt;br&gt;
ä½¿ç”¨äº¤å‰å‹è¿æ¥ï¼Œä¼šéœ€è¦æ›´å¤šçš„ç«¯å£ã€å…‰çº¤&lt;sub&gt;å•æ¨¡å…‰çº¤æ¯”å¤šæ¨¡å…‰çº¤è´µï¼Œä½†æ˜¯ä¼ è¾“è·ç¦»è¿œ&lt;/sub&gt;ã€å…‰æ¨¡å—&lt;sub&gt;ä¸€ä¸ªä¸‡å…†å…‰æ¨¡å—ä¸€åƒå¤š&lt;/sub&gt;ã€æ¿å¡&lt;sub&gt;æ›´è´µ&lt;/sub&gt;ã€ï¼Œéœ€è¦å¢åŠ é‡‡è´­æˆæœ¬&lt;/li&gt;
&lt;li&gt;ä»çº¿è·¯è§’åº¦è€ƒè™‘ï¼š&lt;br&gt;
è‹¥èŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¹‹é—´è·ç¦»è¾ƒè¿œï¼Œåœ¨ä¸åŒçš„åŸå¸‚ä¸­ï¼Œç§Ÿç”¨è¿è¥å•†é•¿é€”ä¸“çº¿äº’è”ï¼Œæ—¥å­—å‹ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯ä»¥æ»¡è¶³äº’è”äº’é€šçš„éœ€æ±‚ï¼Œä¹Ÿæä¾›åŸºæœ¬çš„å†—ä½™èƒ½åŠ›ï¼Œä½†è¦è¿½æ±‚æ›´é«˜çš„å†—ä½™æ€§åˆ™å¯ä»¥ä½¿ç”¨äº¤å‰å‹ã€‚&lt;br&gt;
è¿è¥å•†ç§Ÿç”¨çº¿è·¯æ˜¯æŒ‰ç…§æ¯çº¤æ¯å…¬é‡Œæ¯æœˆæ¥è®¡è´¹çš„ï¼Œæ¯”å¦‚ç§»åŠ¨è£¸çº¤å¸‚åœºä»·æ˜¯æ¯çº¤æ¯å…¬é‡Œæ¯æœˆ400å…ƒã€‚&lt;br&gt;
ç§Ÿç”¨ä¸“çº¿ï¼Œæ¯”å¦‚åœ¨åŒä¸€ä¸ªåŸå¸‚ä¸åŒçš„åŒºï¼Œä¹‹å‰å•ä½åŠç†10Mçš„ä¸“çº¿ä¸€æœˆæ˜¯3500ï¼Œåæ¥ç§Ÿç”¨çš„200Mçš„ï¼Œä¸€å¹´å°±æ˜¯40ä¸‡ã€‚&lt;br&gt;
å› æ­¤ï¼Œç§Ÿç”¨çº¿è·¯æˆæœ¬æœ‰å¯èƒ½é«˜äºè®¾å¤‡é‡‡è´­æˆæœ¬&lt;/li&gt;
&lt;li&gt;å¯¹äºè¿è¥å•†ï¼š&lt;br&gt;
ç”±äºå…¶æ‹¥æœ‰ä¼ è¾“èµ„æºï¼Œæˆæœ¬ä¸ä¼šè¿‡å¤šé€ æˆå‹åŠ›ï¼Œè®¾è®¡ç½‘ç»œä¸»è¦ä»å†—ä½™ã€æ€§èƒ½ç­‰è§’åº¦å»è€ƒè™‘ï¼Œä¸€èˆ¬åœ¨&lt;strong&gt;æ ¸å¿ƒå±‚å’Œæ±‡èšå±‚ä¹‹é—´&lt;/strong&gt;å¤šé‡‡ç”¨äº¤å‰å‹ï¼Œ&lt;strong&gt;æ±‡èšå±‚å’Œæ¥å…¥å±‚ä¹‹é—´&lt;/strong&gt;å¤šé‡‡ç”¨æ—¥å­—å½¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-å¦‚æœå®¢æˆ·æ˜¯æ”¿åºœ&#34;&gt;2. å¦‚æœå®¢æˆ·æ˜¯æ”¿åºœ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;è¿™ç±»å®¢æˆ·ä¸å·®é’±ï¼Œå¯èƒ½æœ€å…³å¿ƒçš„æ˜¯å†—ä½™ã€ç½‘ç»œå“è´¨ä»¥åŠåæœŸç»´æŠ¤çš„é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†—ä½™ï¼š&lt;br&gt;
ç‰©ç†å±‚é¢åˆ†ä¸ºè®¾å¤‡å†—ä½™å’Œé“¾è·¯å†—ä½™ï¼Œæ—¥å­—å‹å’Œäº¤å‰å‹éƒ½æ»¡è¶³è®¾å¤‡å’Œé“¾è·¯å†—ä½™ï¼Œéƒ½ä¸å­˜åœ¨å•ç‚¹æ•…éšœï¼Œä½†æ˜¯äº¤å‰å‹è¾ƒæ—¥å­—å‹å†—ä½™æ€§æ›´é«˜&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå“è´¨è§’åº¦ï¼š&lt;br&gt;
æ—¥å­—å‹è®¾è®¡ç”±äºäº’è”çº¿è·¯è¾ƒå°‘ï¼Œæ‰€ä»¥åœ¨èŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¹‹é—´ï¼ˆç‰¹åˆ«æ˜¯æ–œå¯¹è§’ï¼‰è®¿é—®çš„æ—¶å€™ï¼Œç½‘ç»œå“è´¨ä¸æ˜¯æœ€ä¼˜ï¼Œä¸”å½“ä¸­ç»è¿‡çš„çº¿è·¯å’Œè®¾å¤‡è¾ƒå¤šï¼Œä»»æ„ä¸€ç‚¹å‡ºç°é—®é¢˜éƒ½ä¼šå¯¼è‡´ç½‘ç»œå“è´¨ä¸‹é™ï¼Œæ‰€ä»¥å¥å£®åº¦ä¸é«˜ã€‚ç‰¹åˆ«æ˜¯åœ¨ä¸Šè¡Œé“¾è·¯ä¸­æ–­çš„æƒ…å†µä¸‹ï¼Œæµé‡å°†èµ°ä¸­é—´å¹³è¡Œçš„äº’è”é“¾è·¯ï¼Œææ˜“å¯¹æ—è·¯é€ æˆå¹²æ‰°ã€‚&lt;br&gt;
äº¤å‰å‹è®¾è®¡ç”±äºäº’è”çº¿è·¯å¤šï¼Œä»»æ„èŠ‚ç‚¹ä¹‹é—´äº’è®¿éƒ½æ˜¯æœ€ä¼˜è·¯å¾„ï¼Œä¸”åœ¨ä¸€æ¡ä¸Šè¡Œçº¿è·¯æ•…éšœçš„æƒ…å†µä¸‹ï¼Œæ•´ä½“ç½‘ç»œå“è´¨å‡ ä¹ä¸å—å½±å“&lt;/li&gt;
&lt;li&gt;åæœŸç»´æŠ¤ï¼š&lt;br&gt;
&lt;code&gt;æ™®é€šçš„ä¸€ä¸ªæ”¿åºœéƒ¨é—¨ï¼Œæ¯”å¦‚ä¸€ä¸ªå¤„ï¼Œå¾ˆå°‘æ‹›æ”¶ä¸“é—¨çš„ç½‘ç»œè¿ç»´äººå‘˜ï¼ŒåŸºæœ¬éƒ½æ˜¯å…¼èŒ&lt;/code&gt;&lt;br&gt;
å¯¹äºIGPåè®®ï¼Œäº¤å‰å‹åœ¨è·¯ç”±è®¾è®¡ä¸Šæ¯”æ—¥å­—å‹é‚»å±…æ•°é‡æˆå€å¢åŠ ï¼Œæ•…éšœå®šä½å’Œæ’éšœéš¾åº¦å¢å¤§&lt;br&gt;
æ—¥å­—å½¢æ¯”äº¤å‰å‹æ‹“æ‰‘ç®€å•ï¼Œé‚»å±…è¾ƒå°‘ï¼Œæµé‡èµ°å‘æ¸…æ™°ï¼Œåœ¨æ—¥å¸¸ç®¡ç†è¿ç»´æ–¹é¢æ›´æœ‰ä¼˜åŠ¿ã€‚å¦‚æœå‡ºç°æ•…éšœï¼Œæ’éšœæ¯”è¾ƒå¿«ï¼›å¦‚æœæ—¥åå¢åŠ èŠ‚ç‚¹è¿›è¡Œæ‰©å®¹ï¼Œä¹Ÿæ›´å®¹æ˜“å®ç°&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-å¦‚æœå®¢æˆ·æ˜¯ä¿å¯†è¦æ±‚æ¯”è¾ƒé«˜çš„å•ä½&#34;&gt;3. å¦‚æœå®¢æˆ·æ˜¯ä¿å¯†è¦æ±‚æ¯”è¾ƒé«˜çš„å•ä½&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å¯èƒ½æ›´å…³ç³»çš„æ˜¯æµé‡å’Œè·¯ç”±çš„æ§åˆ¶é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œæµé‡&lt;br&gt;
åˆ†ä¸ºä¸»å¤‡æ–¹å¼å’Œè´Ÿè½½å‡è¡¡æ–¹å¼ï¼Œæ—¥å­—å‹æ¯”è¾ƒé€‚åˆè®¾è®¡ä¸ºä¸»å¤‡æ–¹å¼ï¼Œæµé‡èµ°å‘æ¯”è¾ƒæ¸…æ™°æ˜äº†ï¼›äº¤å‰å‹æ¯”è¾ƒé€‚åˆè®¾è®¡ä¸ºè´Ÿè½½å‡è¡¡æ–¹å¼ï¼Œä½†è®¾è®¡ä¸å¥½å®¹æ˜“å‡ºç°æ¥å›è·¯å¾„ä¸ä¸€è‡´ç°è±¡ï¼Œä¿å¯†å•ä½ä¸€èˆ¬éƒ¨ç½²åŠ å¯†æœºå’Œé˜²ç«å¢™ï¼Œå¦‚æœé‡‡ç”¨æ¥å›è·¯å¾„ä¸ä¸€è‡´&lt;sub&gt;URPFï¼Œå•æ’­åå‘è·¯å¾„è½¬å‘&lt;/sub&gt;çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½é€ æˆç½‘ç»œäº’è®¿æœ‰é—®é¢˜&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ§åˆ¶é—®é¢˜ï¼š&lt;br&gt;
äº¤å‰å‹ä¸‹æ¸¸è®¾å¤‡å‡æ˜¯åŒä¸Šè”ï¼Œè¿™ç§æƒ…å†µä¸‹å¯¹äºè·¯ç”±çš„æ§åˆ¶éœ€è¦é…ç½®æ›´å¤šçš„è§„åˆ™ï¼Œå¹¶ä¸”è·¯ç”±çš„èµ°å‘çš„è¿‡å¤šï¼Œä¸åˆ©äºä¸¥æ ¼æ§åˆ¶æµé‡çš„èµ°å‘&lt;br&gt;
æ—¥å­—å‹åªæœ‰ä¸€ä¸ªä¸Šè”çº¿è·¯ï¼Œä¸ºäº†å®ç°æ‰€æœ‰çš„æµé‡éƒ½ç»è¿‡æ ¸å¿ƒäº¤æ¢æœºï¼Œå®ç°æµé‡ç²¾ç¡®æ§åˆ¶ï¼Œåªéœ€è¦é…ç½®ç­–ç•¥çš„ç­–ç•¥é˜»æ–­æ¥å…¥å’Œæ±‡èšä¸¤å±‚çš„æ¨ªçº¿è¿æ¥çš„é“¾è·¯å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å›­åŒºç½‘æ‰“å°æœºå¦‚ä½•éƒ¨ç½²&#34;&gt;å›­åŒºç½‘æ‰“å°æœºå¦‚ä½•éƒ¨ç½²&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615043377401.png&#34; alt=&#34;å›­åŒºç½‘æ‰“å°æœºå¦‚ä½•éƒ¨ç½²&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;1-vlaneth-trunk&#34;&gt;1. VLAN+Eth-Trunk&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿™æ˜¯ä¸¤ä¸ªéƒ¨é—¨ï¼Œéœ€è¦åˆ’åˆ†vlanè¿›è¡Œéš”ç¦»&lt;/li&gt;
&lt;li&gt;SW1å’ŒSW2åˆ›å»ºç›¸åº”çš„vlanä¹‹åï¼Œå°†ä¸ç»ˆç«¯ç›¸è¿çš„æ¥å£æ·»åŠ è¿›å…¥vlanï¼Œä¸Šè¡Œæ¥å£æ”¾è¡Œæ‰€æœ‰çš„vlan&lt;/li&gt;
&lt;li&gt;åœ¨é…ç½®vlanæ—¶ï¼Œä¸æ‰“å°æœºå’Œç»ˆç«¯ç›¸è¿çš„ä¸‹è¡Œç«¯å£é…ç½®æˆaccessï¼Œäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´é…ç½®æˆtrunk&lt;/li&gt;
&lt;li&gt;åŒä¸Šè¡Œé“¾è·¯ï¼Œå¾ˆæ˜æ˜¾éœ€è¦é…ç½®æˆeth-trunkï¼Œç„¶åé…ç½®æˆtrunkå£&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¸‹è¡Œç«¯å£é…ç½®
# SW1
vlan 10 
port link-type access
port default vlan 10
port g0/0/1 to g0/0/10

# SW2
vlan 20
port link-type access
port default vlan 20
port g0/0/1 to g0/0/10

# ä¸Šè¡Œç«¯å£é…ç½®
int eth-trunk 1
trunkport g0/0/11 0/0/12
port link-type trunk
port trunk allow-pass vlan all   # æˆ–è€…10 20
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;ä¸ºä»€ä¹ˆæ¥å£æ¨¡å¼ä¸ä½¿ç”¨hybridï¼Ÿå› ä¸ºhybridé…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œä¸ä»…éœ€è¦é…ç½®PVIDï¼Œè¿˜éœ€è¦é…ç½®untag-listç­‰ï¼›å…¶æ¬¡hybridä¸€èˆ¬ç”¨åœ¨æ¥å…¥åƒåä¸ºFusionComputerã€VMwareçš„EXSiæˆ–è€…å¼€æºçš„PVEè¿™ç±»è™šæ‹ŸåŒ–å¹³å°è®¾å¤‡ï¼Œå› ä¸ºè¿™ç±»è®¾å¤‡ä¸­æœ‰è™šæ‹Ÿäº¤æ¢æœºï¼Œå¯ä»¥åˆ’åˆ†vlanï¼Œæ­¤æ¥å£ä¸‹å¯èƒ½æ¥æ”¶åˆ°å¸¦æœ‰vlançš„æ•°æ®&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-ç½‘å…³rstp&#34;&gt;2. ç½‘å…³+RSTP&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿™å±äºåŠå…¬ç½‘ç»œï¼Œåªæœ‰ä¸¤ä¸ªæ¥å…¥å’Œä¸€ä¸ªæ±‡èšï¼Œä¸ºäº†æ–¹ä¾¿æµé‡æ§åˆ¶ï¼ŒåŒæ—¶å‡å°‘åœ¨æ¥å…¥äº¤æ¢æœºä¸Šåˆ’åˆ†è¿‡å¤šçš„vlanï¼Œ&lt;strong&gt;å»ºè®®å°†ç½‘å…³éƒ¨ç½²åœ¨æ±‡èšäº¤æ¢æœºä¸Š&lt;/strong&gt;ï¼ŒåŒæ—¶éœ€è¦åœ¨æ±‡èšäº¤æ¢æœºä¸Šé…ç½®æ‰€æœ‰çš„vlan&lt;/li&gt;
&lt;li&gt;è¿˜éœ€è¦åœ¨äº¤æ¢æœºä¸Šé…ç½®RSTPï¼Œé€šè¿‡ä¿®æ”¹ä¼˜å…ˆçº§å°†æ±‡èšäº¤æ¢æœºé…ç½®ä¸ºæ ¹æ¡¥&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢ä¸Šä¸‹ç­é«˜å³°æœŸæ—¶é¢‘ç¹çš„å¼€å…³æœºå¯¼è‡´çš„æ‹“æ‰‘é¢‘ç¹å˜åŒ–ï¼Œæ­¤æ—¶å¯ä»¥å°†ä¸ç»ˆç«¯ç›¸è¿çš„ç«¯å£é…ç½®æˆè¾¹ç¼˜ç«¯å£&lt;/li&gt;
&lt;li&gt;æ­£å¸¸æƒ…å†µä¸‹è¾¹ç¼˜ç«¯å£ä¸ç»ˆç«¯ç›¸è¿å¹¶ä¸ä¼šæ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œä½†æ˜¯å¦‚æœæœ‰äººæ¶æ„æ”»å‡»ï¼Œä»¿é€ BPDUæŠ¥æ–‡ï¼Œå¯¼è‡´è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ä¹‹åå˜æˆæ™®é€šç«¯å£ï¼Œé‡æ–°è¿›è¡Œç”Ÿæˆæ ‘è®¡ç®—ï¼Œå¯¼è‡´ç½‘ç»œéœ‡è¡ï¼Œè¿™æ—¶å€™å¯ä»¥é…ç½®BPDUä¿æŠ¤ã€‚å¼€å¯BPDUä¿æŠ¤ä¹‹åï¼Œè¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ä¹‹åå¹¶ä¸ä¼šå˜ä¸ºæ™®é€šç«¯å£ï¼Œè€Œæ˜¯error-downï¼Œæ­¤æ—¶éœ€è¦è¿›è¡Œæ‰‹åŠ¨æ¢å¤ï¼Œå³&lt;code&gt;shutdown/undo shutdown&lt;/code&gt;ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é…ç½®è‡ªåŠ¨æ¢å¤&lt;code&gt;error-down auto-recovery cause bpdu-protection interval æ—¶é•¿&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å› ä¸ºæ¥å£äº¤æ¢æœºé…ç½®è¾¹ç¼˜ç«¯å£è¾ƒå¤šï¼Œä¸ºäº†æ–¹ä¾¿é…ç½®ï¼Œä¸€èˆ¬é‡‡ç”¨åœ¨å…¨å±€ä¸‹å¼€å¯è¾¹ç¼˜ç«¯å£&lt;code&gt;stp edged-port default&lt;/code&gt;ï¼Œæ­¤æ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦å°†ä¸ä¸Šæ¸¸æ±‡èšäº¤æ¢æœºç›¸è¿çš„eth-trunkæ¥å£ä»è¾¹ç¼˜ç«¯å£ä¸­è§£æ”¾å‡ºæ¥ï¼Œå³åœ¨æ­¤æ¥å£ä¸‹é…ç½®&lt;code&gt;stp edged-port disable&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®vlan
vlan batch 10 20
int vlan 10
ip addr 10.1.1.254 255.255.255.0
int vlan 20
ip addr 20.1.1.254 255.255.255.0

# å½“ç„¶ä¹Ÿéœ€è¦é…ç½®eth-trunkï¼Œé…ç½®æ–¹æ³•ä¸æ¥å…¥äº¤æ¢æœºç›¸åŒ

# é…ç½®rstp
stp mode rstp
stp root primary
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-dhcpä»¥åŠé˜²æŠ¤8021x&#34;&gt;3. DHCPä»¥åŠé˜²æŠ¤+802.1x&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†èƒ½å¤Ÿä½¿ç»ˆç«¯è‡ªåŠ¨è·å–åˆ°IPåœ°å€ï¼Œéœ€è¦åœ¨æ±‡èšä¸Šé…ç½®DHCPæœåŠ¡å™¨ã€‚&lt;br&gt;
ç”±äºæ‰“å°æœºè¦é…ç½®å›ºå®šçš„IPï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨DHCPä¸­ä½¿ç”¨Macä¸IPåœ°å€ç»‘å®šçš„æ–¹å¼å®ç°&lt;/li&gt;
&lt;li&gt;åœ¨æ‰“å°æœºä¸Šé…ç½®é™æ€IPä¹‹åï¼Œåœ¨DHCPåœ°å€æ± ä¸­å°†å…¶excludeæ‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;å…¨å±€åœ°å€æ± å’Œæ¥å£åœ°å€æ± çš„åŒºåˆ«ï¼šæ¥å£åœ°å€æ± åªèƒ½ä½¿ç”¨æ¥å£åœ°å€ä½œä¸ºç½‘å…³ï¼Œå…¨å±€åœ°å€æ± å¯ä»¥å•ç‹¬é…ç½®ç½‘å…³&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ip pool hcie
gateway-list 10.1.1.254
network 10.1.1.0 mask 255.255.255.0
exclude-ip-address 10.1.1.100   # æ’é™¤æ‰“å°æœºé™æ€é…ç½®çš„åœ°å€
static-bind ip-address 10.1.1.100 mac-address 0001-0002-0003
dns-list 114.114.114.114
quit
dhcp enable
int eth-trunk 1
dhcp select global
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é…ç½®äº†DHCPä¹‹åï¼Œè¿˜éœ€è¦é…ç½®å“åº”çš„é˜²æŠ¤åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢æœ‰äººå†’å……DHCPæœåŠ¡å™¨ä¸ºç»ˆç«¯åˆ†é…åœ°å€ï¼ˆDHCPä»¿å†’è€…æ”»å‡»ï¼‰ï¼Œéœ€è¦é…ç½®ä¿¡ä»»ç«¯å£ï¼Œå³å°†è¿æ¥DHCPæœåŠ¡å™¨çš„ç«¯å£é…ç½®æˆä¿¡ä»»ç«¯å£ï¼Œè¿™æ ·å°±ä¿è¯å®¢æˆ·ç«¯ä¸ä¼šæ”¶åˆ°ä»¿å†’è€…å‘é€çš„DHCP offeræŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼Œå³ARPæ¬ºéª—ï¼Œæ”»å‡»è€…å‘é€ä¸€ä¸ªARPæŠ¥æ–‡ç»™æ¥å…¥äº¤æ¢æœºï¼Œå°†ARPæŠ¥æ–‡ä¸­çš„sender IPæ”¹ä¸ºå®¢æˆ·ç«¯çš„IPï¼Œä½†æ˜¯sender macå´æ˜¯æ”»å‡»è€…çš„macï¼Œè¿™å°±å¯¼è‡´DHCPæœåŠ¡å™¨ä¸Šå’Œå®¢æˆ·ç«¯ä¸Šçš„ARPè¡¨é¡¹ä¸­çš„macåœ°å€ä¸æ˜¯å¯¹æ–¹çš„ï¼Œè€Œæ˜¯æ”»å‡»è€…çš„ï¼Œé€ æˆDHCPæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„æ•°æ®å…¨éƒ¨è½¬å‘ç»™æ”»å‡»è€…ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æ”»å‡»ï¼Œå¯ä»¥å¼€å¯ä¸€ä¸‹åŠŸèƒ½ï¼š
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²DHCP snoopingï¼Œé…ç½®ä¿¡ä»»ç«¯å£ï¼Œåˆ›å»ºç»‘å®šè¡¨ï¼Œç»‘å®šè¡¨ä¸­åŒ…å«MACåœ°å€ã€IPåœ°å€ã€ç§Ÿçº¦æ—¶é—´ã€VlanIDã€æ¥å£ä¿¡æ¯ï¼Œå¦‚æœæŠ¥æ–‡ä¸­è·Ÿç»‘å®šè¡¨ä¸­è®°å½•å†…å®¹çš„ä¸ä¸€è‡´åˆ™ä¼šä¸¢å¼ƒæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;DAIï¼ŒåŠ¨æ€ARPæ£€æµ‹ï¼Œå½“è®¾å¤‡æ”¶åˆ°ARPæŠ¥æ–‡æ—¶ï¼Œå°†æ­¤ARPæŠ¥æ–‡å¯¹åº”çš„æºIPã€æºMACã€VLANä»¥åŠæ¥å£ä¿¡æ¯å’Œç»‘å®šè¡¨çš„ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¿¡æ¯åŒ¹é…ï¼Œè¯´æ˜å‘é€è¯¥ARPæŠ¥æ–‡çš„ç”¨æˆ·æ˜¯åˆæ³•ç”¨æˆ·ï¼Œå¦åˆ™ä¸¢å¼ƒæŠ¥æ–‡ã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;dai enable&lt;/code&gt;å¼€å¯DAIåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;IPSGï¼ŒIPæºé˜²æ”»å‡»ï¼Œé˜²æ­¢IPç›—ç”¨çš„è¡Œä¸ºï¼ŒåŒæ ·æ˜¯åˆ©ç”¨ç»‘å®šè¡¨æ¥æ£€æŸ¥äºŒå±‚æ¥å£ä¸Šæ”¶åˆ°çš„IPæŠ¥æ–‡ï¼Œåªæœ‰ä¸ç»‘å®šè¡¨ä¸­ä¿¡æ¯ä¸€è‡´æ‰é€šè¿‡ï¼Œå¦åˆ™ä¸¢å¼ƒã€‚å¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;ip source check user-bind enable&lt;/code&gt;å¼€å¯IPSGå…±å‘¢ä¸ª&lt;br&gt;
&lt;code&gt;DAIå’ŒIPSGå¯ç”¨ä¹‹å‰å¿…é¡»é…ç½®DHCP Snoopingï¼Œå› ä¸ºè¿™ä¸¤ä¸ªåŠŸèƒ½éƒ½ä¾èµ–DHCP Snoopingçš„ç»‘å®šè¡¨&lt;/code&gt;&lt;br&gt;
&lt;code&gt;DAIå’ŒIPSGçš„åŒºåˆ«ï¼šDAIæ˜¯åˆ©ç”¨ç»‘å®šè¡¨å¯¹ARPæŠ¥æ–‡è¿›è¡Œè¿‡æ»¤ï¼Œé˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼›IPSGæ˜¯åˆ©ç”¨ç»‘å®šè¡¨å¯¹IPæŠ¥æ–‡è¿›è¡Œè¿‡æ»¤ï¼Œé˜²æ­¢IPåœ°å€æ¬ºéª—æ”»å‡»&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;option43é€‰é¡¹æ˜¯å‘Šè¯‰APï¼ŒACçš„IPåœ°å€ï¼Œè®©APå¯»æ‰¾ACè¿›è¡Œæ³¨å†Œ&lt;br&gt;
option82å®ç°dhcpå®¢æˆ·ç«¯å’Œdhcpä¸­ç»§è®¾å¤‡çš„åœ°å€ä¿¡æ¯è®°å½•åœ¨dhcpæœåŠ¡å™¨ä¸Šï¼Œå®ç°dhcpåˆ†é…çš„é™åˆ¶å’Œè®¡è´¹åŠŸèƒ½&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢æœ‰äººéšæ„ä¸Šç½‘ï¼Œå¯ä»¥ä½¿ç”¨802.1xå¯¹æ¥å…¥çš„ç»ˆç«¯è¿›è¡Œè®¤è¯ï¼Œé€šè¿‡æˆæƒæ¥æŒ‡å®šç”¨æˆ·æ‰€èƒ½è®¿é—®çš„èµ„æºã€‚802.1xæ˜¯ä¸€ç§åŸºäºç«¯å£çš„ç½‘ç»œæ¥å…¥æ§åˆ¶åè®®ï¼Œå› ä¸ºæ˜¯äºŒå±‚åè®®ï¼Œæ‰€ä»¥å¯¹æ¥å…¥è®¾å¤‡çš„æ€§èƒ½è¦æ±‚ä¸é«˜ï¼ŒåŒæ—¶è®¤è¯æŠ¥æ–‡å’Œæ•°æ®æŠ¥æ–‡é€šè¿‡é€»è¾‘æ¥å£åˆ†ç¦»ï¼Œå®‰å…¨æ€§æ¯”è¾ƒé«˜ã€‚&lt;br&gt;
802.1xç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œå®¢æˆ·ç«¯ã€æ¥å…¥è®¾å¤‡å’Œè®¤è¯æœåŠ¡å™¨ï¼ˆAAAï¼‰ï¼Œåœ¨æ­¤å›­åŒºç½‘ä¸­ï¼Œå®¢æˆ·ç«¯å³PCã€æ¥å…¥è®¾å¤‡å³æ¥å…¥å±‚äº¤æ¢æœºã€è®¤è¯æœåŠ¡å™¨å³æ±‡èšå±‚äº¤æ¢æœºã€‚å®¢æˆ·ç«¯éœ€è¦å®‰è£…802.1xè®¤è¯çš„ç»ˆç«¯ï¼Œå¹¶ä¸”æ”¯æŒEAPoLï¼ˆEAL over LANsï¼Œå¯æ‰©å±•è®¤è¯åè®®ï¼‰&lt;br&gt;
å®¢æˆ·ç«¯åˆ†ä¸ºä¸¤ä¸ªé€»è¾‘æ¥å£ï¼Œä¸€ä¸ªæ˜¯ç”¨æ¥ä¼ è¾“è®¤è¯æ•°æ®çš„éå—æ§ç«¯å£ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨æ¥ä¼ è¾“ä¼ è¾“ä¸šåŠ¡æ•°æ®çš„å—æ§ç«¯å£ï¼Œå—æ§ç«¯å£åªæœ‰åœ¨æˆæƒçŠ¶æ€ä¸‹æ‰ä¼šè¿›è¡Œä¸šåŠ¡æ•°æ®çš„ä¼ è¾“ã€‚&lt;br&gt;
è®¤è¯è§¦å‘æ–¹å¼ä¸»è¦åˆ†ä¸ºå®¢æˆ·ç«¯è§¦å‘å’Œè®¤è¯æœåŠ¡å™¨è§¦å‘ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å¯ä»¥å‘é€EAPoL-startæŠ¥æ–‡æ¥è¿›è¡Œè®¤è¯è§¦å‘ï¼Œè¯¥æŠ¥æ–‡çš„ç»„æ’­macä¸º01-80-C2-00-00-03ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å‘é€DHCP/ARP/DHCPv6/NDç­‰æŠ¥æ–‡è§¦å‘è®¤è¯ï¼›&lt;/li&gt;
&lt;li&gt;è€Œè®¤è¯æœåŠ¡å™¨ç«¯åˆ™æ˜¯å‘¨æœŸæ€§çš„å‘é€EAPoL-request/identityæ¥è§¦å‘è®¤è¯ï¼Œç”¨æ¥æ”¯æŒä¸èƒ½ä¸»åŠ¨å‘é€EAPoL-startæŠ¥æ–‡çš„ç»ˆç«¯è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;å‡å¦‚è®¾å¤‡æ— æ³•å®‰è£…802.1xç»ˆç«¯ï¼Œå¯ä»¥ä½¿ç”¨MACæ—è·¯è®¤è¯ï¼Œä¾‹å¦‚æ‰“å°æœºã€æ‘„åƒå¤´ç­‰è®¾å¤‡ï¼Œç»ˆç«¯ä½¿ç”¨macåœ°å€ä½œä¸ºç”¨æˆ·åå’Œå¯†ç è¿›è¡Œè®¤è¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-natpppoe&#34;&gt;4. NAT+PPPoE&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœè¯¥å…¬å¸æƒ³è¦è®¿é—®è¿è¥å•†ç½‘ç»œï¼Œå¯ä»¥é‡‡ç”¨NATçš„æ–¹å¼
&lt;ol&gt;
&lt;li&gt;NATåˆ†ä¸ºBasic NATå’ŒNAPTã€‚Basic NATä»…ä»…æ˜¯IPåœ°å€çš„ä¸€å¯¹ä¸€çš„è½¬æ¢ï¼Œä¸å¤„ç†ç«¯å£ï¼›è€ŒNAPTå¯ä»¥æŠŠå¤šä¸ªå†…ç½‘åœ°å€æ˜ å°„åˆ°ä¸€ä¸ªå…¬ç½‘åœ°å€çš„ä¸åŒç«¯å£ä¸Šï¼Œå®ç°å¤šä¸ªç§ç½‘ç”¨æˆ·å…±ç”¨ä¸€ä¸ªå…¬ç½‘IPè®¿é—®äº’è”ç½‘çš„ç›®çš„&lt;/li&gt;
&lt;li&gt;å› ä¸ºé…ç½®NATæ˜¯åœ¨è·¯ç”±å™¨ä¸Šé…ç½®ï¼Œç”¨æˆ·æµé‡æœ€ç»ˆæ±‡èšåˆ°æ±‡èšäº¤æ¢æœºä¸Šï¼Œä¸ºäº†å¼•å¯¼ç”¨æˆ·æµé‡è¿›å…¥è·¯ç”±å™¨ï¼Œç„¶åè¿›å…¥è¿è¥å•†ç½‘ç»œï¼Œåœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯é…ç½®é»˜è®¤è·¯ç”±ï¼Œä¸€æ¡æ˜¯åœ¨æ±‡èšäº¤æ¢æœºä¸Šé…ç½®çš„æŒ‡å‘è·¯ç”±å™¨çš„é»˜è®¤è·¯ç”±ï¼Œå¦å¤–ä¸€æ¡æ˜¯è·¯ç”±å™¨ä¸Šé…ç½®çš„æŒ‡å‘è¿è¡Œå•†çš„é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯å•çº¯çš„æ˜¯å…¬å¸è®¿é—®äº’è”ç½‘ï¼Œåˆ™å¯ä»¥é…ç½®Easy IPï¼ŒåŸç†è·ŸNAPTç›¸åŒï¼Œéƒ½æ˜¯ä½¿ç”¨&lt;code&gt;IPåœ°å€+ç«¯å£&lt;/code&gt;çš„æ–¹å¼è¿›è¡Œæ˜ å°„ï¼›å¦‚æœè¯¥å…¬å¸è¿˜å¯¹å¤–æä¾›ç½‘ç»œæœåŠ¡ï¼Œä¾‹å¦‚HTTPï¼Œè¿™æ—¶å€™éœ€è¦é…ç½®NAT Serverï¼Œåœ¨è·¯ç”±å™¨ä¸Šé…ç½®&lt;code&gt;å…¬ç½‘IPåœ°å€+ç«¯å£å·&lt;/code&gt;ä¸&lt;code&gt;ç§ç½‘IPåœ°å€+ç«¯å£å·&lt;/code&gt;ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œä»è€Œå®ç°å…¬ç½‘ç”¨æˆ·èƒ½å¤Ÿè®¿é—®å†…ç½‘æä¾›ç»™çš„httpæœåŠ¡ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é™¤äº†ä½¿ç”¨NATä¸Šç½‘ï¼Œè¿˜å¯ä»¥é‡‡ç”¨PPPoEçš„ä¸Šç½‘æ–¹å¼
&lt;ol&gt;
&lt;li&gt;é…ç½®PPPoEçš„å®¢æˆ·ç«¯ï¼Œåœ¨è·¯ç”±å™¨ä¸Šï¼Œé¦–å…ˆåˆ›å»ºdialeræ¥å£ï¼Œåœ¨è¯¥æ¥å£ä¸‹é…ç½®é“¾è·¯å°è£…åè®®ä¸ºpppã€IPåœ°å€ä¸ºpppè‡ªåŠ¨åå•†ï¼ŒåŒæ—¶æŒ‡å®šdialeræ¥å£æ‹¨å·æ‰€ä½¿ç”¨çš„è´¦å·å’Œè®¤è¯æ–¹å¼ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-æ‰“å°æœºé…ç½®&#34;&gt;5. æ‰“å°æœºé…ç½®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ‰“å°æœºæœ‰ç½‘å£ï¼Œå¯ä»¥é…ç½®æˆç½‘ç»œæ‰“å°æœºï¼Œå°†æ‰“å°æœºç›´æ¥æ¥å…¥äº¤æ¢æœºå³å¯
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ‰“å°æœºä¸æ”¯æŒDHCPï¼Œå¯ä»¥ç›´æ¥é…ç½®å›ºå®šçš„IPä¹‹åï¼Œåœ¨DHCPæœåŠ¡å™¨çš„åœ°å€æ± ä¸­å°†è¿™ä¸ªIPæ’é™¤æ‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰“å°æœºæ”¯æŒDHCPï¼Œå¯ä»¥åœ¨DHCPæœåŠ¡å™¨çš„åœ°å€æ± ä¸­ï¼Œé€šè¿‡æ‰“å°æœºçš„MACç»‘å®šä¸€ä¸ªå›ºå®šçš„IP&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœæ‰“å°æœºæ²¡æœ‰ç½‘å£ï¼Œåªèƒ½é…ç½®æˆå…±äº«æ‰“å°æœºçš„æ–¹å¼ï¼Œä½¿ç”¨ä¸€å°ä¸»æœºï¼ˆæ‰“å°æœåŠ¡å™¨ï¼‰çš„usbè¿æ¥æ‰“å°æœºï¼Œå½“éœ€è¦æ‰“å°ä¸œè¥¿çš„æ—¶å€™ï¼Œè®¿é—®æ‰“å°æœåŠ¡å™¨å³å¯ï¼Œæ‰“å°æœåŠ¡å™¨IPçš„é…ç½®æ–¹å¼å’Œç½‘ç»œæ‰“å°æœºçš„æ–¹å¼ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç¯å½¢ç½‘å’Œæ˜Ÿå½¢ç½‘çš„ä¼˜ç¼ºç‚¹å…·ä½“åº”ç”¨åœºæ™¯&#34;&gt;ç¯å½¢ç½‘å’Œæ˜Ÿå½¢ç½‘çš„ä¼˜ç¼ºç‚¹ï¼Ÿå…·ä½“åº”ç”¨åœºæ™¯ï¼Ÿ&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615019200988.png&#34; alt=&#34; ç¯å½¢ç½‘å’Œæ˜Ÿå½¢ç½‘çš„ä¼˜ç¼ºç‚¹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ä¼˜ç¼ºç‚¹&#34;&gt;ä¼˜ç¼ºç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å†—ä½™æ€§å’Œæˆæœ¬&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶ä»–èŠ‚ç‚¹éƒ½æœ‰ä¸¤æ¡è·¯å¾„ï¼ŒåŒæ˜Ÿå‹å’Œç¯å‹éƒ½å…·æœ‰å†—ä½™æ€§å’Œå¯é æ€§ã€‚ä½†æ˜¯åŒæ˜Ÿå‹æ¯”ç¯å‹å†—ä½™åº¦æ›´é«˜ï¼Œä¸¤ä¸ªæ¥å…¥å±‚ä¹‹é—´çš„äº’è®¿ï¼Œç¯å‹åªæœ‰2æ¡é“¾è·¯ï¼Œæ˜Ÿå‹æœ‰4æ¡ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ˜Ÿå‹å†—ä½™åº¦æ›´é«˜ï¼Œæˆæœ¬ä¹Ÿä¼šå¢åŠ å¾ˆå¤šï¼Œæ¯”å¦‚åœ¨æ±‡èšå±‚ï¼Œç¯å‹åªéœ€è¦2ä¸ªæ¥å£ï¼ŒåŒæ˜Ÿå‹å´éœ€è¦4ä¸ªæ¥å£ï¼Œæˆæœ¬ä¼šæ˜¾è‘—å¢åŠ ï¼Œæ¯”å¦‚ä¸‡å…†å…‰æ¨¡å—ä¸€ä¸ªåƒæŠŠå—é’±ã€40Gçš„å…‰æ¨¡å—æ›´è´µã€40Gçš„å…‰çº¤ä¹Ÿæ˜¯æŒ‰ç±³è®¡ä»·ã€‚è¿™ä»…ä»…åªæ˜¯è®¾å¤‡æˆæœ¬ï¼Œæ­å»ºç½‘ç»œç§Ÿç”¨è¿è¥å•†çš„çº¿è·¯æˆæœ¬å¯èƒ½è¦è¿œè¿œé«˜äºè®¾å¤‡æˆæœ¬ï¼Œç›®å‰ç§»åŠ¨å…‰çº¤å¸‚åœºä»·æ˜¯400å…ƒ/çº¤/åƒç±³/æœˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è´Ÿè½½åˆ†æ‹…å’Œç½‘ç»œå“è´¨&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ˜Ÿå‹å¯ä»¥å®ç°åŒé“¾è·¯è´Ÿè½½åˆ†æ‹…ï¼Œä»»æ„èŠ‚ç‚¹ä¹‹é—´äº’è®¿ï¼Œä»…ç»è¿‡æ±‡èšèŠ‚ç‚¹ï¼Œå‡ºç°æ•…éšœåï¼Œæ•…éšœå½±å“èŒƒå›´è¾ƒå°&lt;/li&gt;
&lt;li&gt;ç¯å‹è·¯å¾„èŠ‚ç‚¹æ•°é‡ä¸ä¸€è‡´ï¼Œå¾ˆéš¾å®ç°è´Ÿè½½åˆ†æ‹…ï¼Œæ— è®ºèµ°å“ªæ¡è·¯å¾„éƒ½è¿›è¿‡å¾ˆå¤šèŠ‚ç‚¹ï¼Œç½‘ç»œå“è´¨å¾ˆéš¾ä¿è¯ï¼Œå½“å‡ºç°å¤šä¸ªæ•…éšœç‚¹æ—¶ï¼Œä¼šå¯¼è‡´å¤§é¢ç§¯ä¸šåŠ¡ä¸­æ–­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±æ§åˆ¶å’Œç ´ç¯&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ˜Ÿå‹ï¼Œå› ä¸ºè®¿é—®å¿…ç»è¿‡2ä¸ªæ±‡èšï¼Œæ›´å¥½æ§åˆ¶ï¼Œæµé‡è·¯å¾„ç›¸å¯¹ç¯å½¢ç½‘ç»œæœ‰æ›´å¤šè·¯å¾„çš„å¯èƒ½ï¼Œæµé‡ç»Ÿä¸€é€šè¿‡æ±‡èšäº¤æ¢æœºè½¬å‘ï¼Œæ–¹ä¾¿å®ç°æµé‡ç®¡ç†ï¼Œæ–¹ä¾¿å®‰å…¨è®¾å¤‡éƒ¨ç½²å®æ–½ä»¥åŠæ— çº¿è®¾å¤‡çš„éƒ¨ç½²ä»¥åŠQOSç›¸å…³ä¼˜åŒ–ï¼Œç ´ç¯å¯ä»¥ä½¿ç”¨VRRP+MSTPã€smart-link+monitor-linkæˆ–è€…å †å &lt;/li&gt;
&lt;li&gt;ç¯å‹ï¼Œä»»æ„2ä¸ªèŠ‚ç‚¹ä¹‹é—´äº’è®¿å¯èƒ½æ€§å¾ˆå¤šï¼Œåªèƒ½åœ¨å„è‡ªèŠ‚ç‚¹åšè·¯å¾„æ§åˆ¶ï¼Œæ¥å…¥è®¾å¤‡ä¹‹é—´ç›´æ¥èµ°æµé‡ï¼Œæ±‡èšè®¾å¤‡æ€§èƒ½æ— æ³•å……åˆ†åˆ©ç”¨ï¼Œå¹¶å¢åŠ æ¥å…¥è®¾å¤‡çš„æµé‡è´Ÿæ‹…ï¼Œä¸åˆ©äºæµé‡é›†ä¸­ç®¡ç†å’Œéƒ¨ç½²ç½‘ç»œå®‰å…¨ç›¸å…³çš„ç­–ç•¥ï¼Œç½‘ç»œç®¡ç†éš¾åº¦å¤§ï¼Œç ´ç¯å¯ä»¥ä½¿ç”¨MSTPç ´äºŒå±‚ç¯è·¯ã€ospfç ´ä¸‰å±‚ç¯è·¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘å…³éƒ¨ç½²&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ˜Ÿå‹ä¸­ç½‘å…³éƒ¨ç½²åœ¨æ±‡èšå’Œæ¥å…¥å‡å¯ï¼Œä¸€èˆ¬ç®€å•å±€åŸŸç½‘ä¸­ï¼Œæ±‡èšæ€§èƒ½é«˜ï¼Œç½‘å…³éƒ¨ç½²åœ¨æ±‡èšæ›´åˆé€‚ï¼Œæ›´åŠ æ–¹ä¾¿è·¯ç”±æ§åˆ¶å’Œæµé‡ç®¡ç†ï¼Œå¹¶ä¸”èƒ½å……åˆ†å‘æŒ¥æ±‡èšå±‚è®¾å¤‡é«˜æ€§èƒ½çš„ä¼˜åŠ¿ï¼ŒåŒæ—¶ä¹Ÿèƒ½å‡å°‘åœ¨æ¥å…¥å±‚è®¾å¤‡ä¸Šåˆ’åˆ†è¿‡å¤šçš„vlan&lt;/li&gt;
&lt;li&gt;ç¯å‹ï¼Œå› ä¸ºå„èŠ‚ç‚¹éƒ½å­˜åœ¨ç”¨æˆ·ç»ˆç«¯ï¼Œä¸€èˆ¬æ˜¯ç‰©ç†è·ç¦»ç‰¹åˆ«è¿œæ—¶é€‰æ‹©ç¯å‹ç½‘ç»œï¼Œç½‘å…³å»ºè®®åˆ†å¸ƒå¼éƒ¨ç½²ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ¨ç½²è‡ªå·±çš„ç½‘å…³å³å¯ï¼Œå¦‚æœéœ€è¦åŒä¸€ä¸ªç½‘å…³ï¼Œå¯ä»¥ä½¿ç”¨super VLANï¼Œå³vlanèšåˆï¼›æ›´é«˜çº§ä¸€äº›çš„ï¼Œå¯ä»¥éƒ¨ç½²Vxlanï¼Œå³ä¸‰å±‚ç½‘å…³ï¼Œé‡‡ç”¨åˆ†å¸ƒå¼ç½‘å…³çš„éƒ¨ç½²æ–¹å¼ï¼Œå°†æ±‡èšå±‚è®¾å¤‡å †å ååšä¸ºspineèŠ‚ç‚¹ï¼Œå°†æ¥å…¥å±‚è®¾å¤‡ä½œä¸ºleafèŠ‚ç‚¹ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨VXLANæŠ€æœ¯ä¹Ÿä¼šå¸¦æ¥ä¸€äº›æ–°çš„é—®é¢˜ï¼Œæ¯”å¦‚æ•°æ®ä¼ è¾“å¼€é”€å¢åŠ çš„é—®é¢˜ï¼Œå› ä¸ºVxlané‡‡ç”¨Ethernet over UDPçš„æ–¹å¼ï¼Œä»…ä»…VxlanæŠ¥æ–‡çš„å¤´éƒ¨å°±50å­—èŠ‚ã€=2å±‚14B+IPå¤´20B+UDPå¤´8B+VXLANå¤´8Bã€‘ï¼Œå®¹æ˜“é€ æˆåˆ†ç‰‡ï¼Œå»ºè®®ä½¿ç”¨Vxlançš„æ—¶å€™ä¿®æ”¹MTU&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§å’Œè¿ç»´&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å‹æ‰©å®¹ä¼šå½±å“å½“å‰çš„æ‹“æ‰‘ï¼Œéœ€è¦å°†ç¯å‹ç½‘ç»œæ‹†å¼€ï¼Œè¿™ç§æƒ…å†µä¸‹ä¼šå¯¼è‡´å†—ä½™æ€§çš„æš‚æ—¶ä¸¢å¤±ï¼ŒåŒæ—¶ä¹Ÿä¼šé€ æˆæ‹“æ‰‘å˜åŒ–æ¯”è¾ƒå¤§ï¼ŒIGPåè®®éœ€è¦é‡æ–°é’ˆå¯¹ç¯å‹ç½‘è·¯åšè·¯ç”±æ”¶æ•›ï¼Œä»£ä»·æ¯”è¾ƒå¤§ï¼Œåœ¨å‰²æ¥è¿‡ç¨‹ä¸­éœ€è¦è°¨æ…&lt;/li&gt;
&lt;li&gt;åŒæ˜Ÿå‹æ‰©å®¹ï¼Œåªæ˜¯å¢åŠ è®¾å¤‡å’Œç›¸åº”é“¾è·¯ï¼Œä¸ç ´ååŸæœ‰çš„æ‹“æ‰‘ï¼Œæ‰©å±•æ€§æ¯”è¾ƒå¼ºï¼Œé€‚åˆè§„æ¨¡åŒ–ã€æ¨¡å—åŒ–éƒ¨ç½²ï¼Œæ–°åŠ å…¥çš„è®¾å¤‡å’ŒåŸæœ‰çš„æ¥å…¥å±‚è®¾å¤‡çš„å†—ä½™èƒ½åŠ›ç›¸åŒï¼Œå¹¶ä¸”å¯¹äºIGPåè®®æ¥è¯´ï¼ŒåŸæœ‰çš„æ‹“æ‰‘å¹¶ä¸ä¼šæ”¹å˜ï¼Œåªæ˜¯æ–°å¢ä¸€éƒ¨åˆ†è·¯ç”±ï¼Œåœ¨å‰²æ¥è¿‡ç¨‹ä¸­ï¼Œé£é™©å¯æ§ï¼Œæ“ä½œéš¾åº¦å¤§å¤§é™ä½&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€‚ç”¨åœºæ™¯&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å‹ï¼Œä¸€èˆ¬ç”¨äºå¹¿åŸŸç½‘ç»„ç½‘æˆ–è€…ä¼ è¾“ç½‘ç»„ç½‘æˆ–è€…éª¨å¹²ç½‘ï¼Œå¹¶ä¸”è®¾å¤‡æ€§èƒ½å·®åˆ«ä¸å¤ªå¤§çš„æƒ…å†µä¸‹ï¼Œå› ä¸ºæ‰€æœ‰æœºå™¨è¦æ‰¿è½½ç½‘ç»œä¸­çš„æ‰€æœ‰è·¯ç”±ï¼Œæ¯”å¦‚æœ‰4å¤ªS5700EIã€ä¸¤å°S5700HI&lt;/li&gt;
&lt;li&gt;åŒæ˜Ÿå‹ï¼Œå¸¸ç”¨äºä¸­å°å‹ä¼ä¸šæ€»éƒ¨å›­åŒºç½‘ç»œæˆ–å¤§å‹åˆ†æ”¯ç½‘ç»œæˆ–è€…æ•°æ®ä¸­å¿ƒç½‘ç»œä¸­ï¼Œæ€§èƒ½è¾ƒå¥½çš„è®¾å¤‡æ”¾åœ¨æ±‡èšå±‚ï¼Œæ€§èƒ½é€Šè‰²ä¸€äº›çš„è®¾å¤‡æ”¾åœ¨æ¥å…¥å±‚ï¼Œæ¯”å¦‚ä¸¤å°S9700HIï¼Œ4å°S5700EI&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å›­åŒºç½‘&#34;&gt;å›­åŒºç½‘&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;å›­åŒºç½‘çš„ç½‘å…³éƒ¨ç½²åœ¨æ¥å…¥å±‚è¿˜æ˜¯æ±‡èšå±‚ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¾åœ¨æ±‡èšå±‚æœ‰ä¼˜åŠ¿
&lt;ol&gt;
&lt;li&gt;ä»&lt;strong&gt;æˆæœ¬&lt;/strong&gt;è§’åº¦å»åˆ†æï¼šå¯¹æ¥å…¥è®¾å¤‡æ€§èƒ½è¦æ±‚æ¯”è¾ƒä½ï¼Œæˆæœ¬å‡å°‘ï¼ˆæ¥å…¥äº¤æ¢æœºå¯ä»¥åªè¦æ±‚2å±‚ï¼Œç‰ˆæœ¬å¯ä»¥æ˜¯ç®€åŒ–ç‰ˆLIï¼‰ï¼Œçœ‹æ¥å…¥äº¤æ¢æœºçš„æ•°é‡ï¼Œæ•°é‡è¶Šå¤§æˆæœ¬ä¼˜åŠ¿è¶Šæ˜æ˜¾&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;ç½‘å…³å†—ä½™&lt;/strong&gt;çš„è§’åº¦åˆ†æï¼šå¯ä»¥åœ¨2å°æ±‡èšä¹‹é—´è¿è¡ŒVRRPç­‰æŠ€æœ¯å®ç°ç½‘å…³å†—ä½™ï¼Œå¦‚æ”¾æ¥å…¥éœ€è¦é‡‡ç”¨å †å ç­‰æŠ€æœ¯å®ç°ï¼Œæ‰©å±•æ€§å·®&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;ä¸šåŠ¡éƒ¨ç½²å’Œç®¡ç†&lt;/strong&gt;è§’åº¦åˆ†æï¼šæ‰€æœ‰æ ¸å¿ƒç½‘å…³é…ç½®å¯ä»¥è¿œç¨‹é…ç½®ï¼Œç°åœºå·¥ç¨‹å¸ˆåªéœ€è¦æŠŠæ¥å£åˆ’å…¥æŒ‡å®šVLANï¼Œæµ‹è¯•ç”µè„‘é…ç½®æŒ‡å®šIPï¼ŒPINGé€šç½‘å…³å³å¯ï¼Œç°åœºä¸éœ€è¦è€ƒè™‘è·¯ç”±åè®®é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;ä¸šåŠ¡å±€éƒ¨è¿ç§»&lt;/strong&gt;è§’åº¦åˆ†æï¼šå› ä¸ºä¸åŒæ¥å…¥äº¤æ¢æœºä¸Šçš„ç›¸åŒVLANæ˜¯äº’ç›¸é€šçš„ï¼Œæ‰€ä»¥ç‰©ç†ä½ç½®çš„è¿ç§»ï¼ˆæ¯”å¦‚æœºæˆ¿çš„æ¬è¿ç­‰æƒ…å†µä¸‹ï¼‰ä¸éœ€è¦é‡æ–°éƒ¨ç½²æ–°çš„IPåœ°å€æ®µ&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;IPèµ„æº&lt;/strong&gt;è§’åº¦åˆ†æï¼šä¸åŒæ¥å…¥äº¤æ¢æœºä¸Šçš„VLANä½¿ç”¨ç›¸åŒçš„IPåœ°å€æ®µï¼Œé¿å…æµªè´¹ï¼Œå‡å°‘æ¥å…¥å’Œæ±‡èšä¹‹é—´çš„äº’è”åœ°å€æ®µï¼Œå‡å°‘è·¯ç”±åè®®çš„é‚»å±…æ•°ç›®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ”¾åœ¨æ¥å…¥å±‚æœ‰ä¼˜åŠ¿
&lt;ol&gt;
&lt;li&gt;ä»&lt;strong&gt;éš”ç¦»å¹¿æ’­åŸŸ&lt;/strong&gt;çš„è§’åº¦åˆ†æï¼šå¯ä»¥åˆ†å‰²å¹¿æ’­åŸŸï¼Œå½“å±€åŸŸç½‘å‡ºç°ç±»ä¼¼ARPç—…æ¯’ä¹‹ç±»çš„é—®é¢˜ï¼Œå—å½±å“çš„èŒƒå›´å¯æ§&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;æ•…éšœå®šä½&lt;/strong&gt;çš„è§’åº¦åˆ†æï¼šå“ªä¸ªç½‘æ®µå‡ºç°é—®é¢˜ï¼Œç›´æ¥èƒ½å¤Ÿæ ¹æ®æ‹“æ‰‘å›¾æ‰¾åˆ°ç‰©ç†ä½ç½®&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;é€‰è·¯æ§åˆ¶&lt;/strong&gt;è§’åº¦åˆ†æï¼šæ¥å…¥å’Œæ±‡èšé—´è·‘è·¯ç”±åè®®ï¼Œå¯ä»¥æœ‰å¤šç§æ–¹å¼æ“æ§æµé‡èµ°å‘ï¼ˆæ¯”å¦‚OSPFé€‰è·¯ä¸ºO&amp;gt;OIA&amp;gt;OE1&amp;gt;OE2ã€ç­–ç•¥è·¯ç”±ç­‰æŠ€æœ¯ï¼‰&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;è§„é¿ç¯è·¯&lt;/strong&gt;è§’åº¦åˆ†æï¼šä¸éœ€è¦è¿è¡Œç”Ÿæˆæ ‘æˆ–è€…SMART-LINKç­‰æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;çº¿è·¯æ•ˆç‡&lt;/strong&gt;è§’åº¦åˆ†æï¼šè·¯ç”±åè®®å¯ä»¥å®ç°è´Ÿè½½åˆ†æ‹…ï¼ˆé€æµæˆ–è€…é€åŒ…ï¼‰ï¼Œè€ŒäºŒå±‚åè®®åªèƒ½å®ç°ä¸»å¤‡æˆ–è€…å®ç°å¼‚ç»„è´Ÿè½½åˆ†æ‹…ï¼ŒåŒå±äºä¸€å°äº¤æ¢æœºçš„ä¸åŒç½‘æ®µä¹‹é—´çš„ä¸šåŠ¡äº’è®¿ï¼Œä¸éœ€è¦ç»è¿‡æ±‡èšäº¤æ¢æœºï¼Œæ‰€ä»¥æé«˜äº†è®¿é—®æ•ˆç‡&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;é£é™©&lt;/strong&gt;çš„è§’åº¦åˆ†æï¼šè¦å®ç°åŒç½‘æ®µå¿…é¡»è¿åŒä¸€å°æ¥å…¥äº¤æ¢æœºï¼Œç‰©ç†ä½ç½®éš”ç¦»ï¼Œé£é™©å°ï¼Œå¦‚éƒ¨ç½²åœ¨æ±‡èšï¼Œåˆ™ä¸åŒæ¥å…¥äº¤æ¢æœºä¸ŠåŒVLANå¯äº’é€šï¼Œé£é™©å¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»é¡¹ç›®çš„è§’åº¦åˆ†æ
&lt;ol&gt;
&lt;li&gt;è€ƒè™‘æˆæœ¬å› ç´ ï¼Œè¦ç¡®å®šæ¥å…¥äº¤æ¢æœºçš„å‹å·ï¼Œæ˜¯å¦æ”¯æŒ3å±‚åŠŸèƒ½ï¼ˆçº¯2å±‚æ¥å…¥æˆæœ¬æœ‰ä¼˜åŠ¿&lt;code&gt;ç½‘å…³æ”¾åœ¨æ±‡èšå±‚&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;è¦è€ƒè™‘åŒIPæ®µçš„ä½¿ç”¨äººå‘˜åˆ†å¸ƒä½ç½®ï¼Œé›†ä¸­å¼é€‚åˆéƒ¨ç½²åœ¨æ¥å…¥ï¼Œåˆ†å¸ƒå¼é€‚åˆéƒ¨ç½²åœ¨æ±‡èš&lt;/li&gt;
&lt;li&gt;è¦è€ƒè™‘æµé‡æ¨¡å‹ï¼Œæ¨ªå‘æµé‡é«˜é€‚åˆéƒ¨ç½²åœ¨æ¥å…¥ï¼ˆåŒäº¤æ¢æœºè½¬å‘å¿«ï¼‰ï¼Œçºµå‘æµé‡é«˜é€‚åˆéƒ¨ç½²åœ¨æ±‡èšï¼ˆå‡å°‘è·¯ç”±æŸ¥æ‰¾æ¬¡æ•°ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;100å°è·¯ç”±å™¨&#34;&gt;100å°è·¯ç”±å™¨&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿä¸­100å°è·¯ç”±å™¨ï¼Œæ€§èƒ½å·®å¼‚è¾ƒå¤§ï¼Œé€‰æ‹©å“ªç§IGPåè®®ï¼Ÿ&lt;/strong&gt;&lt;br&gt;
IGPåè®®æœ‰ä¸‰ç§ï¼ŒRIPã€OSPFã€ISISï¼Œé¦–å…ˆæ¥åˆ†æRIPç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RIPæ¯30Sæ›´æ–°æ‰€æœ‰è·¯ç”±è¡¨ï¼Œé“¾è·¯å¼€é”€å¤§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¹¿åŸŸç½‘é“¾è·¯ä¸Š&lt;/li&gt;
&lt;li&gt;RIPæ”¶æ•›æ…¢ï¼Œå¦‚ä¸»å¤‡åˆ‡æ¢éœ€è¦180ç§’&lt;/li&gt;
&lt;li&gt;16è·³ï¼Œå¯¹ç½‘ç»œç›´å¾„æœ‰é™åˆ¶ï¼Œä¸é€‚åˆå¤§å‹ç½‘ç»œã€‚åœ¨è®¾è®¡ç½‘ç»œæ—¶å¯ä»¥è®©100å°çš„ç½‘ç»œç›´å¾„å°äº16è·³ï¼Œä½†æ˜¯åœ¨åæœŸç»´æŠ¤ä»¥åŠæ§åˆ¶è·¯ç”±é€‰è·¯ä¼šæ”¹åŠ¨å¼€é”€ï¼Œå¼€é”€ç”±åŸæ¥çš„1è·³æ”¹ä¸ºå¤šè·³ï¼Œè¿™æ ·å°±ä¼šä¸¥é‡é™åˆ¶ç½‘ç»œç›´å¾„çš„å¤§å°&lt;/li&gt;
&lt;li&gt;åŸºäºè·³æ•°é€‰è·¯ï¼Œè®¡ç®—å¼€é”€æ¯”è¾ƒç®€å•ï¼Œæ— æ³•æ ¹æ®å¸¦å®½å¤§å°é€‰æ‹©æœ€ä¼˜è·¯å¾„ï¼Œè€Œè·¯ç”±å™¨åœ¨ä¼ è¾“æ•°æ®çš„æ—¶å€™ï¼Œä¼ é€’å¿«æ…¢éƒ½æ˜¯ä¸å¸¦å®½æŒ‚é’©çš„&lt;/li&gt;
&lt;li&gt;æ‰å¹³åŒ–ç½‘ç»œç»“æ„ï¼Œä¸èƒ½åˆ†ä¸ºå¤šä¸ªåŒºåŸŸï¼Œå³ä»£è¡¨æ•´ä¸ªç½‘ç»œä¸­æ¯å°è·¯ç”±å™¨éœ€è¦ç»´æŠ¤ç›¸åŒçš„è·¯ç”±æ¡ç›®ï¼Œæ‰¿å—ç›¸åŒçš„æ•°æ®è£…å‘æµé‡ï¼Œå¯¹äºæ€§èƒ½è¾ƒå·®çš„è®¾å¤‡å¯èƒ½æ‰¿å—ä¸äº†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä»RIPçš„ç‰¹ç‚¹å¯ä»¥çœ‹å‡ºå…¶ä¸é€‚åˆåœ¨ 100 å°è¿™ç§å¤§å‹ç½‘ç»œé‡Œé¢&lt;/strong&gt;ï¼Œæ¥ä¸‹æ¥åˆ†æOSPFå’ŒISISåè®®ã€‚&lt;br&gt;
OSPFå’ŒISISæ”¯æŒè·¯ç”±æ¡ç›®æ•°è¾ƒå¤§ï¼Œåœ¨1-3ä¸‡æ¡ä¹‹é—´&lt;sub&gt;isisä¸€ä¸ªè™šæ‹Ÿç³»ç»Ÿæœ€å¤šæºå¸¦è·¯ç”±3ä¸‡å·¦å³ï¼Œæœ€å¤šå¯ä»¥é…ç½®50ä¸ªè™šæ‹Ÿç³»ç»Ÿï¼›ä¸€ä¸ªospfè·¯ç”±è¡¨ä¸è¦è£…è½½è¶…è¿‡3ä¸‡æ¡è·¯ç”±&lt;/sub&gt;ï¼Œå¯ä»¥å±‚æ¬¡åŒ–è®¾è®¡ï¼Œç½‘ç»œè§„æ¨¡å¯ä»¥å¾ˆå¤§ï¼Œä½¿ç”¨å“ªç§åè®®çœ‹å…·ä½“ç»„ç½‘éœ€æ±‚å’Œåœºåˆï¼š&lt;br&gt;
&lt;strong&gt;å…±åŒç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ½æ˜¯é“¾è·¯çŠ¶æ€è·¯ç”±åè®®ï¼Œéƒ½è¦æ±‚åŒºåŸŸå†…çš„è·¯ç”±å™¨äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œé“¾è·¯çŠ¶æ€ä¿¡æ¯è¢«æ”¶é›†åˆ°é“¾è·¯çŠ¶æ€æ•°æ®åº“ä¸­&lt;/li&gt;
&lt;li&gt;éƒ½æ˜¯åŸºäºé“¾è·¯çŠ¶æ€åº“ä¸­çš„ä¿¡æ¯ï¼Œé‡‡ç”¨å‡ ä¹ç›¸åŒçš„SPFç®—æ³•æ¥è®¡ç®—æœ€ä½³è·¯ç”±&lt;/li&gt;
&lt;li&gt;éƒ½åœ¨å¹¿æ’­ç½‘ç»œä¸­é€‰æ‹©æŒ‡å®šè·¯ç”±å™¨æ¥æ§åˆ¶æ‰©æ•£å¹¶é™ä½è¿™ç±»ä»‹è´¨ä¸­å¤šå¯¹å¤šé‚»æ¥çš„ç³»ç»Ÿèµ„æºéœ€æ±‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¸åŒç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;OSPF
&lt;ol&gt;
&lt;li&gt;æ”¯æŒçš„ç½‘ç»œç±»å‹ä¸°å¯Œï¼Œå¹¿æ’­ã€NBMAã€P2Pã€P2MP&lt;/li&gt;
&lt;li&gt;LASç§ç±»å¤šï¼Œè·¯ç”±æ§åˆ¶ç²¾ç»†ï¼Œåˆ†ä¸ºåŸŸå†…&amp;gt;åŸŸé—´&amp;gt;å¤–éƒ¨1ç±»&amp;gt;å¤–éƒ¨2ç±»&lt;/li&gt;
&lt;li&gt;OSPFåŒºåŸŸç±»å‹ä¸°å¯Œï¼Œéª¨å¹²ã€æ™®é€šã€STUBã€NSSA&lt;/li&gt;
&lt;li&gt;OSPFæœ‰åŒºåˆ†å†…éƒ¨å’Œå¤–éƒ¨è·¯ç”±ï¼Œæ ¹æ®éœ€è¦å¯ä»¥é…ç½®ä¸åŒçš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;æœ‰è™šé“¾è·¯æä¾›å¤‡ä»½ã€å†—ä½™ã€ä¼˜é€‰é“¾è·¯çš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;äººå‘˜ç†Ÿæ‚‰åº¦ï¼Œä¼ä¸šç½‘ç»œå·¥ç¨‹å¸ˆç†Ÿæ‚‰OSPFã€ä¸ç†Ÿæ‚‰ISISï¼Œåœ¨è®¾è®¡ç½‘ç»œå’ŒåæœŸè¿ç»´çš„æ—¶å€™æ›´æœ‰ä¼˜åŠ¿&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ISIS
&lt;ol&gt;
&lt;li&gt;äººå‘˜ç†Ÿæ‚‰åº¦ï¼šå½“å‰åœ¨è¿è¥å•†ç¯å¢ƒä¸­ä½¿ç”¨è¾ƒå¤š&lt;/li&gt;
&lt;li&gt;æ”¶æ•›é€Ÿåº¦å¿«ï¼Œè·¯ç”±å˜åŒ–éƒ½æ˜¯PRC&lt;/li&gt;
&lt;li&gt;æ‰©å±•æ€§å¼ºï¼Œé‡‡ç”¨TLVç»“æ„ï¼Œæ”¯æŒIPV6&lt;/li&gt;
&lt;li&gt;è¿è¡Œåœ¨æ•°æ®é“¾è·¯å±‚ï¼ŒæŠ—æ”»å‡»èƒ½åŠ›å¼º&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ”¯æŒéIPç½‘ç»œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;&lt;br&gt;
å¯ä»¥é€‰ç”¨ISISæˆ–OSPF&lt;br&gt;
OSPFçš„é€‰è·¯æ›´çµæ´»ï¼Œè·¯ç”±æ“æ§æ‰‹æ®µæ›´ä¸°å¯Œï¼Œæ›´é€‚åˆå±‚æ¬¡åŒ–åˆ’åˆ†ï¼Œå¯ä»¥è€ƒè™‘å°†æ€§èƒ½å¥½çš„è®¾å¤‡æ”¾åœ¨OSPFéª¨å¹²åŒºåŸŸï¼Œæ€§èƒ½å·®çš„æ”¾åˆ°NSSAã€STUBåŒºåŸŸç­‰ï¼Œæœ‰æ›´å¤šçš„ç‰¹æ®ŠåŒºåŸŸå¯ä¾›é€‰æ‹©ï¼Œå½“å‰å®é™…åº”ç”¨å¤šåœ¨ä¼ä¸šç½‘ä¸­&lt;br&gt;
ISISæ”¶æ•›é€Ÿåº¦æ›´å¿«ï¼Œæ‰©å±•æ€§å¼ºï¼Œç½‘ç»œç¨³å®šæ€§æ›´å¥½ï¼Œå½“å‰å®é™…å¤šåº”ç”¨äºè¿è¥å•†ç½‘ç»œä¸­ï¼Œå¤šé‡‡ç”¨ç½‘ç»œæ‰å¹³åŒ–è®¾è®¡ã€‚ISISè™½ç„¶ä¹Ÿå¯ä»¥æ”¯æŒåˆ’åˆ†å¤šåŒºåŸŸï¼Œä½†åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œå¹¶ä¸”åªæœ‰level-1åŒºåŸŸï¼Œå¯èƒ½ä¼šé€ æˆè·¯å¾„é€‰æ‹©ä¸ä¼˜ï¼Œå¦‚æœæƒ³è¦ä¼˜é€‰åˆå¿…é¡»å¾—åšlevel-2åˆ°level-1çš„è·¯ç”±æ³„æ¼ï¼Œå­˜åœ¨éšæ‚£ã€‚ä½†åœ¨æç«¯æƒ…å†µä¸‹ï¼ŒISISèƒ½æ‰¿è½½çš„è·¯ç”±æ¡ç›®æ¯”OSPFæ›´å¤š&lt;/p&gt;
&lt;h2 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h2&gt;
&lt;h3 id=&#34;1-é€šè¿‡å“ªäº›æ–¹é¢è€ƒè™‘åº”ç”¨é‚£ç§igpåè®®&#34;&gt;1. é€šè¿‡å“ªäº›æ–¹é¢è€ƒè™‘åº”ç”¨é‚£ç§IGPåè®®ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;å¦‚æœå®¢æˆ·æ˜¯è¿è¥å•†æ ¸å¿ƒï¼Œç‰¹åˆ«æ˜¯MPLS VPNçš„æ ¸å¿ƒï¼Œä¸€èˆ¬ä½å±‚ç”¨ISISï¼Œä¼ä¸šç½‘å¤šæ•°ä½¿ç”¨OSPFã€‚&lt;br&gt;
ISISä¸€èˆ¬ç”¨åœ¨ç½‘ç»œç»“æ„æ¯”è¾ƒå¹³å¦çš„ISPæ ¸å¿ƒç½‘ç»œï¼Œé…ç½®ç®€å•æ•ˆç‡é«˜ã€‚OSPFçš„ç›¸å…³ç‰¹æ€§æ¯”è¾ƒå¤šï¼Œæ¯”è¾ƒé€‚åˆé€»è¾‘ä¸Šå±‚æ¬¡ç»“æ„æ¯”è¾ƒå¤æ‚çš„ç½‘ç»œï¼Œå¹¶ä¸”OSPFæ˜¯åŸºäºIPçš„ï¼Œå¤§å¤šæ•°äººèƒ½å¤Ÿæ¯”è¾ƒæ–¹ä¾¿çš„ç†è§£å…¶åŸç†ï¼Œä¾¿äºå®æ–½å’Œè¿ç»´ï¼Œä¼ä¸šç”¨OSPFæ¯”è¾ƒå¥½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-ä»€ä¹ˆæƒ…å†µä¸‹ä¸€å®šè¦ä½¿ç”¨isis&#34;&gt;2. ä»€ä¹ˆæƒ…å†µä¸‹ä¸€å®šè¦ä½¿ç”¨ISISï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬ç°ç½‘æƒ…å†µä¸‹ï¼ŒISPç½‘ç»œé€»è¾‘ç»“æ„æ¯”è¾ƒå¹³å¦çš„æ ¸å¿ƒéƒ¨åˆ†ä¼šä½¿ç”¨ISISã€‚ç†è®ºä¸Šè¯´ï¼Œå¿…é¡»ä½¿ç”¨ISISè€Œä¸èƒ½ä½¿ç”¨OSPFçš„æƒ…å†µï¼Œåªæœ‰ç½‘ç»œä¸æ˜¯ç”¨IPï¼Œæ¯”å¦‚IPXã€appletalkã€‚OSPFv2è®¾è®¡çš„æ—¶å€™åªæ”¯æŒIPv4ï¼Œè€ŒISISä»ç†è®ºä¸Šæ¥è¯´éƒ½å¯ä»¥ï¼Œåªè¦ä½¿ç”¨æ–°çš„TLVæ¥æºå¸¦è·¯ç”±ä¿¡æ¯å³å¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å¤§å‹å‰²æ¥&#34;&gt;å¤§å‹å‰²æ¥&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;æ€»ä½“åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼šå‰æœŸè°ƒç ”é˜¶æ®µã€å‰²æ¥å‰å‡†å¤‡é˜¶æ®µã€å‰²æ¥å®æ–½é˜¶æ®µã€å‰²æ¥åä¿éšœé˜¶æ®µ&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‰²æ¥æµç¨‹&#34;&gt;å‰²æ¥æµç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;1-å‰æœŸè°ƒç ”é˜¶æ®µ&#34;&gt;1. å‰æœŸè°ƒç ”é˜¶æ®µ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éœ€äº†è§£ç”¨æˆ·çš„èƒŒæ™¯å’Œéœ€æ±‚ã€ä¸šåŠ¡ç±»å‹å’Œç‰¹ç‚¹ã€å˜æ›´çš„ç›®çš„&lt;/li&gt;
&lt;li&gt;è°ƒç ”ç°ç½‘çš„ç½‘ç»œæƒ…å†µã€æ‹“æ‰‘æƒ…å†µã€æµé‡èµ°å‘ã€è·¯ç”±è§„åˆ’ç­‰ï¼Œäº†è§£å˜æ›´åç›®çš„ç½‘ç»œæƒ…å†µã€æ‹“æ‰‘æƒ…å†µï¼Œæµé‡èµ°å‘ã€è·¯ç”±è§„åˆ’ç­‰&lt;/li&gt;
&lt;li&gt;å˜æ›´è¿‡ç¨‹ä¸­äººå‘˜èŒè´£å®‰æ’åŠè”ç³»æ–¹å¼&lt;/li&gt;
&lt;li&gt;å˜æ›´è®¡åˆ’åˆ¶å®šï¼Œéœ€ç²¾ç¡®åˆ°æ¯ä¸€æ­¥æ“ä½œçš„æ—¶é—´ç‚¹å’Œæ“ä½œå®Œæˆæ—¶é—´ç‚¹
&lt;ol&gt;
&lt;li&gt;å˜æ›´å‰æµ‹è¯•æ–¹æ¡ˆå’Œå˜æ›´åæµ‹è¯•æ–¹æ¡ˆï¼Œå˜æ›´å‰å¯¹é‡ç‚¹ä¸šåŠ¡å’Œåº”ç”¨è¿›è¡Œæµ‹è¯•ï¼Œå˜æ›´åè¿›è¡Œç¬¬äºŒæ¬¡æµ‹è¯•ï¼Œé€šè¿‡ä¸¤æ¬¡æµ‹è¯•ç»“æœæ¥åˆ¤æ–­å‰²æ¥åç°ç½‘ä¸šåŠ¡æ˜¯å¦å¾—åˆ°æ¢å¤&lt;/li&gt;
&lt;li&gt;å›é€€æ–¹æ¡ˆåˆ¶å®šï¼Œå½“åœ¨è§„å®šæ—¶é—´ç‚¹æ— æ³•æŒ‰ç…§å‰²æ¥è®¡åˆ’å®Œæˆç›¸åº”å†…å®¹æˆ–è€…å‰²æ¥å®Œæˆåä¸šåŠ¡æ— æ³•æ¢å¤ï¼Œåˆ™è®¤ä¸ºå‰²æ¥å¤±è´¥ï¼Œè¿›è¡Œå›é€€ã€‚å›é€€è¿‡ç¨‹ä¸­æŒ‰ç…§å›é€€æ–¹æ¡ˆæ“ä½œï¼Œç§»é™¤æ–°å¢æˆ–æ”¹å˜çš„çº¿ç¼†ï¼Œæ¢å¤åŸè®¾å¤‡é…ç½®å’Œè¿çº¿ï¼Œæ¢å¤åè¿˜éœ€å¯¹ä¸šåŠ¡è¿›è¡Œå†æ¬¡æµ‹è¯•ï¼Œå·²åˆ¤æ–­å›é€€æˆåŠŸ&lt;/li&gt;
&lt;li&gt;å‰²æ¥å¤±è´¥åä¿¡æ¯é‡‡é›†ï¼ŒæŒ‰ç…§èŒè´£åˆ’åˆ†ï¼Œé‡‡é›†å„è‡ªè´Ÿè´£è®¾å¤‡çš„æ—¥å¿—ä¿¡æ¯è¿›è¡Œåˆ†ææ€»ç»“ï¼Œé¿å…å†æ¬¡å‰²æ¥å¤±è´¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-å‰²æ¥å‰å‡†å¤‡é˜¶æ®µ&#34;&gt;2. å‰²æ¥å‰å‡†å¤‡é˜¶æ®µ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‰²æ¥å‰æ–¹æ¡ˆè¯„å®¡&lt;/li&gt;
&lt;li&gt;è®¾å¤‡ç™»å½•æ–¹å¼ã€è½¯ä»¶ç‰ˆæœ¬ç¡®è®¤&lt;/li&gt;
&lt;li&gt;å‰²æ¥æ¶‰åŠè®¾å¤‡çš„å¥åº·æ£€æŸ¥å’Œæ–°è®¾å¤‡çš„ç¨³å®šæ€§æµ‹è¯•&lt;/li&gt;
&lt;li&gt;å‰²æ¥æ¶‰åŠæ”¹åŠ¨çš„çº¿ç¼†æ ‡ç­¾åˆ¶ä½œï¼Œä»¥ä¾¿å›é€€ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;å¯¹å‰²æ¥äººå‘˜åŸ¹è®­å’Œå·¥ä½œèŒè´£åˆ’åˆ†&lt;/li&gt;
&lt;li&gt;å‰²æ¥å‰éœ€å¯¹ç°ç½‘ä¸šåŠ¡è¿›è¡Œæµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-å‰²æ¥å®æ–½é˜¶æ®µ&#34;&gt;3. å‰²æ¥å®æ–½é˜¶æ®µ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ç°ç½‘è®¾å¤‡è¿›è¡Œå¤‡ä»½å­˜æ¡£ï¼Œä»¥ä¾¿å‰²æ¥å¤±è´¥å›é€€ä½¿ç”¨ï¼ŒåŒæ—¶åšå¥½çŠ¶æ€æ£€æŸ¥å’Œå¿«ç…§ï¼Œä»¥ä¾¿æ“ä½œåå‰åå¯¹æ¯”&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§å‰²æ¥æ–¹æ¡ˆä¸­å‰²æ¥æ­¥éª¤ï¼ŒæŒ‰è®¡åˆ’å®æ–½ï¼Œæ¯å®Œæˆä¸€æ­¥éœ€å¯¹é…ç½®å’ŒçŠ¶æ€è¿›è¡Œæ£€æŸ¥ï¼Œä»¥ç¡®å®šæ“ä½œç”Ÿæ•ˆå’ŒçŠ¶æ€æ­£å¸¸&lt;/li&gt;
&lt;li&gt;å‰²æ¥è¿‡ç¨‹è®°å½•æ“ä½œæ—¥å¿—&lt;/li&gt;
&lt;li&gt;å‰²æ¥å®ŒæˆåæŒ‰ç…§æµ‹è¯•æ–¹æ¡ˆè¿›è¡Œå‰²æ¥åæµ‹è¯•&lt;/li&gt;
&lt;li&gt;å¦‚å‰²æ¥å¤±è´¥åˆ™æŒ‰ç…§é€€å›æ–¹æ¡ˆè¿›è¡Œå‰²æ¥é€€å›ï¼Œå›é€€åéœ€æŒ‰ç…§æµ‹è¯•æ–¹æ¡ˆè¿›è¡Œä¸šåŠ¡æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-å‰²æ¥åä¿éšœé˜¶æ®µ&#34;&gt;4. å‰²æ¥åä¿éšœé˜¶æ®µ&lt;/h3&gt;
&lt;p&gt;å‰²æ¥å®Œæˆåï¼Œä¸€èˆ¬éœ€å¯¹å‰²æ¥åæ–°ç½‘ç»œè¿›è¡Œ&lt;strong&gt;å®ˆå±€ä¿éšœ&lt;/strong&gt;ï¼Œä¸‡ä¸€å‰²æ¥åä¸šåŠ¡å¼‚å¸¸æ—¶ï¼Œå¯ä»¥ç¬¬ä¸€æ—¶é—´è¿›è¡Œæ’æŸ¥å’Œå®šä½ï¼ŒåŠæ—¶æ¢å¤ã€‚å‰²æ¥åå¦‚æœå®¢æˆ·æœ‰è¦æ±‚ï¼Œå¯å¯¹è¿ç»´äººå‘˜è¿›è¡Œå…³äºæ–°ç½‘ç»œçš„åŸ¹è®­ï¼Œè®©å®¢æˆ·çš„ç»´æŠ¤äººå‘˜å¯¹æ–°ç½‘ç»œ&lt;br&gt;
æ›´äº†è§£&lt;/p&gt;
&lt;h2 id=&#34;å‰²æ¥è¿‡ç¨‹ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹&#34;&gt;å‰²æ¥è¿‡ç¨‹ä¸­æ¶‰åŠçš„çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;h3 id=&#34;è½¯å‰²æ¥ä¸ç¡¬å‰²æ¥çš„åŒºåˆ«&#34;&gt;è½¯å‰²æ¥ä¸ç¡¬å‰²æ¥çš„åŒºåˆ«&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸šåŠ¡å±‚é¢ï¼šä¸å½±å“ä¸šåŠ¡çš„ç§°ä¸ºè½¯å‰²æ¥ï¼Œå½±å“ä¸šåŠ¡çš„ç§°ä¸ºç¡¬å‰²æ¥&lt;/li&gt;
&lt;li&gt;æ—¶é—´å±‚é¢ï¼šè¶…è¿‡æ—¶é—´çª—å£çš„ç§°ä¸ºç¡¬å‰²æ¥ï¼Œæ²¡æœ‰è¶…è¿‡çš„ç§°ä¸ºè½¯å‰²æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ—¶é—´çª—å£ä¸å‰²æ¥æ—¶é—´çš„åŒºåˆ«&#34;&gt;æ—¶é—´çª—å£ä¸å‰²æ¥æ—¶é—´çš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ—¶é—´çª—å£&lt;/strong&gt;æ˜¯æŒ‡æˆ‘ä»¬åœ¨å†™å‰²æ¥æ–¹æ¡ˆæ—¶è§„å®šçš„å…·ä½“å‰²æ¥æ—¶é•¿ï¼Œæ˜¯&lt;strong&gt;è®¡åˆ’æ€§çš„æ—¶é—´&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;å‰²æ¥æ—¶é—´&lt;/strong&gt;æ˜¯æŒ‡å…·ä½“åœ¨&lt;strong&gt;å®æ–½å‰²æ¥æ—¶æ‰€ç”¨çš„æ—¶é—´&lt;/strong&gt;ï¼Œ&lt;strong&gt;å‰²æ¥æ—¶é—´åº”è¯¥æ§åˆ¶åœ¨æ—¶é—´çª—å£å†…&lt;/strong&gt;ï¼ˆå¦åˆ™å°±å˜æˆç¡¬å‰²æ¥ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;ä¸²è¡Œå‰²æ¥ä¸å¹¶è¡Œå‰²æ¥&#34;&gt;ä¸²è¡Œå‰²æ¥ä¸å¹¶è¡Œå‰²æ¥&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œè®¾è®¡å±‚é¢ï¼šä»æ ¸å¿ƒåˆ°æ±‡èšå†åˆ°æ¥å…¥æˆ–è€…åä¹‹ï¼Œåˆ™ç§°ä¸ºä¸²è¡Œå‰²æ¥ï¼›å¹¶è¡Œå‰²æ¥å°±æ˜¯ä¸åˆ†å±‚è¿›è¡Œ&lt;/li&gt;
&lt;li&gt;å®æ–½èŠ‚ç‚¹å±‚é¢ï¼šå¦‚æœå‰²æ¥æ˜¯æŒ‰ç…§ä¸åŒçš„èŠ‚ç‚¹ä¹‹é—´ä¾æ¬¡å‰²æ¥ï¼Œåˆ™ç§°ä¸ºä¸²è¡Œå‰²æ¥ï¼›å¦‚æœå¤šä¸ªåœ°ç‚¹åŒæ—¶å‰²æ¥åˆ™ä¸ºå¹¶å½¢å‰²æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å›é€€æ–¹æ¡ˆä¸åº”æ€¥æ–¹æ¡ˆçš„åŒºåˆ«&#34;&gt;å›é€€æ–¹æ¡ˆä¸åº”æ€¥æ–¹æ¡ˆçš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;å›é€€æ–¹æ¡ˆæ˜¯æŒ‡å½“å‰²æ¥æ—¶ï¼Œé‡åˆ°äº†æ— æ³•è§£å†³çš„æ•…éšœï¼Œåº”è¯¥é‡‡ç”¨çš„åŠæ³•ï¼Œä¾‹å¦‚åœ¨å‡çº§è®¾å¤‡æ—¶ï¼Œæ‰€å‡çº§çš„ç‰ˆæœ¬å¯¼è‡´ç”¨æˆ·ä¸šåŠ¡æ— æ³•è®¿é—®ï¼Œå¹¶ä¸”æš‚æ—¶æ²¡æœ‰è§£å†³æ–¹æ¡ˆï¼Œæ­¤æ—¶å°±éœ€è¦å›é€€åˆ°ä¹‹å‰ç‰ˆæœ¬&lt;br&gt;
åº”æ€¥æ–¹æ¡ˆæ˜¯æŒ‡å½“å‰²æ¥è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°äº†ç´§æ€¥äº‹ä»¶çš„å¤„ç†æ–¹å¼ï¼Œä¾‹å¦‚åœ¨å‡çº§è®¾å¤‡æ—¶ï¼Œå› è®¾å¤‡é‡å¯å¯¼è‡´æ¿å¡æ•…éšœï¼Œæ­¤æ—¶åº”è¯¥åœ¨åº”æ€¥æ–¹æ¡ˆä¸­å†™æ˜éœ€è¦äº‹å…ˆå‡†å¤‡å¤‡ä»¶&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯å€¼å®ˆå®ˆå±€ä¸€èˆ¬éœ€è¦å¤šé•¿æ—¶é—´&#34;&gt;ä»€ä¹ˆæ˜¯å€¼å®ˆï¼ˆå®ˆå±€ï¼‰ï¼Œä¸€èˆ¬éœ€è¦å¤šé•¿æ—¶é—´&lt;/h3&gt;
&lt;p&gt;å€¼å®ˆä¸å®ˆå±€æ˜¯åŒä¸€ä¸ªæ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯å½“å‰²æ¥å®Œæˆæ—¶ï¼Œéœ€è¦è§‚å¯Ÿçš„æ—¶é—´&lt;br&gt;
æ—¶é—´çš„é•¿çŸ­æ˜¯&lt;strong&gt;æ ¹æ®é¡¹ç›®æƒ…å†µåŠå®¢æˆ·æƒ…å†µå…±åŒå•†å®šçš„&lt;/strong&gt;ï¼Œå¤§éƒ¨åˆ†æƒ…å†µå€¼å®ˆä¸€å¤©ï¼Œå¦‚æœå‰²æ¥å½±å“çš„èŒƒå›´å¾ˆå¤§ï¼Œå¯èƒ½ä¼šåŠ é•¿å€¼å®ˆæ—¶é—´ï¼Œä¹Ÿæœ‰å¯èƒ½éœ€è¦å®šæœŸå›è®¿&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯å¿«ç…§&#34;&gt;ä»€ä¹ˆæ˜¯å¿«ç…§&lt;/h3&gt;
&lt;p&gt;å¿«ç…§æ˜¯æŒ‡å¯¹å½“å‰è®¾å¤‡æ‰€è¿è¡ŒçŠ¶æ€ï¼ˆæ•°æ®ï¼‰çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè¯´ç™½äº†å°±æ˜¯å¤‡ä»½ã€‚ä½œç”¨æ˜¯æ–¹ä¾¿æ¢å¤åŠæ•°æ®å¤‡ä»½&lt;/p&gt;
&lt;h3 id=&#34;å‰²æ¥çš„ç›®çš„æ˜¯ä»€ä¹ˆä»€ä¹ˆæ˜¯å‰²æ¥&#34;&gt;å‰²æ¥çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼ˆä»€ä¹ˆæ˜¯å‰²æ¥ï¼‰&lt;/h3&gt;
&lt;p&gt;ç›®çš„æ˜¯æ ¹æ®å…·ä½“å‰²æ¥å†…å®¹æ¥å®šçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å®Œæˆçš„å·¥ä½œ&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•åˆ¤æ–­éœ€è¦å›é€€å›é€€æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆ&#34;&gt;å¦‚ä½•åˆ¤æ–­éœ€è¦å›é€€ï¼Œå›é€€æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;å›é€€æ˜¯æŒ‡å‡ºç°äº†æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œå¹¶ä¸”å¯¹ç°ç½‘ä¸šåŠ¡æœ‰äº†ä¸€å®šçš„å½±å“ï¼Œä½œä¸ºä¸€åå‰çº¿çš„å·¥ç¨‹å¸ˆï¼Œæˆ‘ä»¬åªèƒ½ç»™å‡ºæŠ€æœ¯ä¸Šçš„åˆ¤æ–­ï¼Œå…·ä½“å›é€€ä¸å¦åº”è¯¥ç¬¬ä¸€æ—¶é—´ä¸é¡¹ç›®ç»ç†å•†å®šï¼Œç”±é¡¹ç›®ç»ç†ä¸å®¢æˆ·å…±åŒå†³å®šæ˜¯å¦å›é€€&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ç½‘ç»œæ‹“æ‰‘ç»“æ„&#34;&gt;ç½‘ç»œæ‹“æ‰‘ç»“æ„&lt;/h1&gt;
&lt;h2 id=&#34;å„ç§æ‹“æ‰‘çš„ä¼˜ç¼ºç‚¹&#34;&gt;å„ç§æ‹“æ‰‘çš„ä¼˜ç¼ºç‚¹&lt;/h2&gt;
&lt;p&gt;å±€åŸŸç½‘å†…éƒ¨å¸¸è§çš„ç½‘ç»œæ‹“æ‰‘æœ‰ï¼šæ˜Ÿå‹æ‹“æ‰‘ã€åŒæ˜Ÿå‹æ‹“æ‰‘ã€ç½‘çŠ¶æ‹“æ‰‘ã€éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘ã€æ€»çº¿å‹æ‹“æ‰‘&lt;/p&gt;
&lt;h3 id=&#34;1-æ˜Ÿå‹æ‹“æ‰‘å•æ˜Ÿå‹&#34;&gt;1. æ˜Ÿå‹æ‹“æ‰‘ï¼ˆå•æ˜Ÿå‹ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615011430476.png&#34; alt=&#34;æ˜Ÿå‹æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ˜Ÿå‹æ‹“æ‰‘æ˜¯ç”±ä¸­å¤®èŠ‚ç‚¹å’Œé€šè¿‡ç‚¹åˆ°ç‚¹é€šä¿¡é“¾è·¯æ¥åˆ°ä¸­å¤®èŠ‚ç‚¹çš„å„ä¸ªç«™ç‚¹ç»„æˆã€‚&lt;br&gt;
&lt;strong&gt;ä¸­å¤®èŠ‚ç‚¹&lt;/strong&gt;æ‰§è¡Œé›†ä¸­å¼&lt;strong&gt;é€šä¿¡æ§åˆ¶ç­–ç•¥&lt;/strong&gt;ï¼Œå› æ­¤ä¸­å¤®èŠ‚ç‚¹ç›¸å½“å¤æ‚ï¼Œè€Œå„ä¸ªç«™ç‚¹çš„é€šä¿¡å¤„ç†è´Ÿæ‹…éƒ½å¾ˆå°ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼š
&lt;ol&gt;
&lt;li&gt;ç»“æ„ç®€å•ï¼Œè¿æ¥æ–¹ä¾¿ï¼Œç®¡ç†å’Œç»´æŠ¤éƒ½ç›¸å¯¹å®¹æ˜“ï¼Œè€Œä¸”æ‰©å±•æ€§å¼º&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå»¶è¿Ÿæ—¶é—´è¾ƒå°ï¼Œä¼ è¾“è¯¯å·®ä½&lt;/li&gt;
&lt;li&gt;åœ¨åŒä¸€ç½‘æ®µå†…æ”¯æŒå¤šç§ä¼ è¾“ä»‹è´¨ï¼Œ&lt;strong&gt;é™¤éä¸­å¤®èŠ‚ç‚¹æ•…éšœï¼Œå¦åˆ™ç½‘ç»œä¸ä¼šè½»æ˜“ç˜«ç—ª&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹ç›´æ¥è¿åˆ°ä¸­å¤®èŠ‚ç‚¹ï¼Œ&lt;strong&gt;æ•…éšœå®¹æ˜“æ£€æµ‹å’Œéš”ç¦»&lt;/strong&gt;ï¼Œå¯ä»¥å¾ˆ&lt;strong&gt;æ–¹ä¾¿åœ°æ’é™¤æœ‰æ•…éšœçš„èŠ‚ç‚¹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š
&lt;ol&gt;
&lt;li&gt;å®‰è£…å’Œç»´æŠ¤çš„è´¹ç”¨è¾ƒé«˜&lt;/li&gt;
&lt;li&gt;å…±äº«èµ„æºçš„èƒ½åŠ›è¾ƒå·®&lt;/li&gt;
&lt;li&gt;ä¸€æ¡é€šä¿¡çº¿è·¯åªè¢«è¯¥çº¿è·¯ä¸Šçš„&lt;strong&gt;ä¸­å¤®èŠ‚ç‚¹å’Œè¾¹ç¼˜èŠ‚ç‚¹&lt;/strong&gt;ä½¿ç”¨ï¼Œ&lt;strong&gt;é€šä¿¡çº¿è·¯åˆ©ç”¨ç‡ä¸é«˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯¹ä¸­å¤®èŠ‚ç‚¹è¦æ±‚ç›¸å½“é«˜&lt;/strong&gt;ï¼Œä¸€æ—¦ä¸­å¤®èŠ‚ç‚¹å‡ºç°æ•…éšœï¼Œåˆ™æ•´ä¸ªç½‘ç»œå°†ç˜«ç—ª&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-ç½‘çŠ¶æ‹“æ‰‘&#34;&gt;2. ç½‘çŠ¶æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615012045778.png&#34; alt=&#34;ç½‘çŠ¶æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç½‘å‹æ‹“æ‰‘çš„ä¸€ä¸ªåº”ç”¨æ˜¯åœ¨BGPåè®®ä¸­ã€‚ä¸ºä¿è¯IBGPå¯¹ç­‰ä½“ä¹‹é—´çš„è¿é€šæ€§ï¼Œéœ€è¦åœ¨IBGPå¯¹ç­‰ä½“ä¹‹é—´å»ºç«‹å…¨è¿æ¥å…³ç³»ï¼Œå³ç½‘çŠ¶ç½‘ç»œã€‚å‡è®¾åœ¨ä¸€ä¸ªASå†…éƒ¨æœ‰nå°è·¯ç”±å™¨ï¼Œé‚£ä¹ˆåº”è¯¥å»ºç«‹çš„IBGPè¿æ¥æ•°å°±ä¸ºn(n-1)/2 ä¸ª&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹é—´è·¯å¾„å¤šï¼Œç¢°æ’å’Œé˜»å¡å‡å°‘&lt;/li&gt;
&lt;li&gt;å±€éƒ¨æ•…éšœä¸å½±å“æ•´ä¸ªç½‘ç»œï¼Œå¯é æ€§é«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œå…³ç³»å¤æ‚ï¼Œå»ºç½‘è¾ƒéš¾ï¼Œä¸æ˜“æ‰©å……&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ§åˆ¶æœºåˆ¶å¤æ‚ï¼Œå¿…é¡»é‡‡ç”¨è·¯ç”±ç®—æ³•å’Œæµé‡æ§åˆ¶æœºåˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘&#34;&gt;3. éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615012446011.png&#34; alt=&#34;éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
éƒ¨åˆ†ç½‘çŠ¶æ‹“æ‰‘ï¼Œåœ¨å®¹é”™èƒ½åŠ›ä¸æˆæœ¬ä¹‹é—´å¯»æ±‚å¹³è¡¡&lt;/p&gt;
&lt;h3 id=&#34;4-åŒæ˜Ÿå‹æ‹“æ‰‘&#34;&gt;4. åŒæ˜Ÿå‹æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615011928760.png&#34; alt=&#34;åŒæ˜Ÿå‹æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åŒæ˜Ÿå‹çš„ç»“æ„&lt;strong&gt;ç»¼åˆäº†å•æ˜Ÿå‹ç»“æ„å’Œç½‘çŠ¶ç»“æ„çš„å¥½å¤„&lt;/strong&gt;ï¼Œå³èŠ‚çœäº†é“¾è·¯ï¼Œ&lt;strong&gt;åˆèƒ½èµ·åˆ°ç½‘çŠ¶ç»“æ„çš„è·¯ç”±å†—ä½™å’Œå¤‡ä»½çš„ä½œç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-æ ‘å½¢æ‹“æ‰‘&#34;&gt;5. æ ‘å½¢æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615012754497.png&#34; alt=&#34;æ ‘å½¢æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ ‘å‹æ‹“æ‰‘æ˜¯&lt;strong&gt;å¤šçº§æ˜Ÿå‹ç»“æ„&lt;/strong&gt;ç»„æˆçš„ï¼Œè‡ªä¸Šè€Œä¸‹å‘ˆä¸‰è§’å½¢åˆ†å¸ƒçš„ï¼Œå°±åƒä¸€é¢—æ ‘ä¸€æ ·ã€‚&lt;br&gt;
æœ€é¡¶ç«¯çš„æå¶å°‘ï¼Œä¸­é—´çš„å¤šï¼Œè€Œæœ€ä¸‹é¢çš„æå¶æœ€å¤šã€‚&lt;br&gt;
æ ‘çš„æœ€ä¸‹ç«¯ç›¸å½“äºè¾¹ç¼˜å±‚ï¼Œæ ‘ä¸­é—´ç›¸å½“äºæ±‡èšå±‚ï¼Œè€Œæ ‘é¡¶ç«¯åˆ™ç›¸å½“äºæ ¸å¿ƒå±‚ã€‚&lt;br&gt;
é‡‡ç”¨åˆ†çº§çš„é›†ä¸­æ§åˆ¶æ–¹å¼ï¼Œå…¶ä¼ è¾“ä»‹è´¨å¯æœ‰å¤šæ¡åˆ†æ”¯ï¼Œä½†ä¸å½¢æˆé—­åˆå›è·¯ï¼Œæ¯æ¡é€šä¿¡çº¿è·¯éƒ½å¿…é¡»æ”¯æŒåŒå‘ä¼ è¾“ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹
&lt;ol&gt;
&lt;li&gt;æ˜“äºæ‰©å±•ã€‚è¿™ç§ç»“æ„å¯ä»¥å»¶ä¼¸å‡ºå¾ˆå¤šåˆ†æ”¯å’Œå­åˆ†æ”¯ï¼Œè¿™äº›æ–°èŠ‚ç‚¹å’Œæ–°åˆ†æ”¯éƒ½èƒ½å®¹æ˜“åœ°åŠ å…¥ç½‘å†…&lt;/li&gt;
&lt;li&gt;æ•…éšœéš”ç¦»è¾ƒå®¹æ˜“ã€‚å¦‚æœæŸä¸€åˆ†æ”¯çš„èŠ‚ç‚¹æˆ–çº¿è·¯å‘ç”Ÿæ•…éšœï¼Œå¾ˆå®¹æ˜“å°†æ•…éšœåˆ†æ”¯ä¸æ•´ä¸ªç³»ç»Ÿéš”ç¦»å¼€æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹&lt;br&gt;
å„ä¸ªèŠ‚ç‚¹å¯¹æ ¹çš„ä¾èµ–æ€§å¤ªå¤§ï¼Œå¦‚æœæ ¹å‘ç”Ÿæ•…éšœï¼Œåˆ™å…¨ç½‘ä¸èƒ½æ­£å¸¸å·¥ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6-æ€»çº¿å‹æ‹“æ‰‘&#34;&gt;6. æ€»çº¿å‹æ‹“æ‰‘&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615017274593.png&#34; alt=&#34;æ€»çº¿å‹æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹
&lt;ol&gt;
&lt;li&gt;æ‰€éœ€è¦çš„ç”µç¼†æ•°é‡å°‘ï¼Œçº¿ç¼†é•¿åº¦çŸ­ï¼Œæ˜“äºå¸ƒçº¿å’Œç»´æŠ¤&lt;/li&gt;
&lt;li&gt;ç»“æ„ç®€å•ï¼Œæœ‰è¾ƒé«˜çš„å¯é æ€§ï¼Œä¼ è¾“é€Ÿç‡é«˜&lt;/li&gt;
&lt;li&gt;æ˜“äºæ‰©å……ï¼Œå¢åŠ æˆ–å‡å°‘ç”¨æˆ·æ¯”è¾ƒæ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;å¤šä¸ªèŠ‚ç‚¹å…±ç”¨ä¸€æ¡ä¼ è¾“ä¿¡é“ï¼Œä¿¡é“åˆ©ç”¨ç‡é«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹
&lt;ol&gt;
&lt;li&gt;ä¼ è¾“è·ç¦»æœ‰é™ï¼Œé€šä¿¡èŒƒå›´å—åˆ°é™åˆ¶&lt;/li&gt;
&lt;li&gt;æ•…éšœè¯Šæ–­å’Œéš”ç¦»è¾ƒå›°éš¾&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼åè®®ä¸èƒ½ä¿è¯ä¿¡æ¯çš„åŠæ—¶ä¼ é€ï¼Œä¸å…·æœ‰å®æ—¶åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;7-ç¯å‹æ‹“æ‰‘&#34;&gt;7. ç¯å‹æ‹“æ‰‘&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615018165593.png&#34; alt=&#34;ç¯å‹æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹
&lt;ol&gt;
&lt;li&gt;ç”µç¼†é•¿åº¦çŸ­&lt;/li&gt;
&lt;li&gt;å¢åŠ æˆ–å‡å°‘å·¥ä½œç«™æ—¶ï¼Œä»…éœ€ç®€å•çš„è¿æ¥æ“ä½œ&lt;/li&gt;
&lt;li&gt;å¯ä½¿ç”¨å…‰çº¤ï¼Œå…‰çº¤çš„ä¼ è¾“é€Ÿç‡å¾ˆé«˜ï¼Œååˆ†é€‚åˆäºç¯å‹æ‹“æ‰‘çš„å•æ–¹å‘ä¼ è¾“&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹çš„æ•…éšœä¼šå¼•èµ·å…¨ç½‘æ•…éšœ&lt;/li&gt;
&lt;li&gt;æ•…éšœæ£€æµ‹å›°éš¾&lt;/li&gt;
&lt;li&gt;ç¯å‹æ‹“æ‰‘ç»“æ„çš„åª’ä½“è®¿é—®æ§åˆ¶åè®®éƒ½é‡‡ç”¨ä»¤ç‰Œä¼ é€’çš„æ–¹å¼ï¼Œåœ¨è´Ÿè½½å¾ˆè½»æ—¶ä¿¡é“åˆ©ç”¨ç‡&lt;br&gt;
ç›¸å¯¹æ¥è¯´å°±æ¯”è¾ƒä½&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
">é¡¹ç›®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/da-er-ceng/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#vxlan&#34;&gt;VXLAN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A7%E7%94%9F%E8%83%8C%E6%99%AF&#34;&gt;äº§ç”ŸèƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vxlan%E7%BD%91%E5%85%B3%E5%88%92%E5%88%86&#34;&gt;VXLANç½‘å…³åˆ’åˆ†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;æŠ¥æ–‡è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-bum%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;1. BUMæŠ¥æ–‡è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%8D%95%E6%92%AD%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F%E6%B3%9B%E6%B4%AA%E5%A4%B4%E7%AB%AF%E5%A4%8D%E5%88%B6&#34;&gt;1. å•æ’­è·¯ç”±æ–¹å¼æ³›æ´ªï¼ˆå¤´ç«¯å¤åˆ¶ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F%E6%B3%9B%E6%B4%AA%E6%A0%B8%E5%BF%83%E5%A4%8D%E5%88%B6&#34;&gt;2. ç»„æ’­è·¯ç”±æ–¹å¼æ³›æ´ªï¼ˆæ ¸å¿ƒå¤åˆ¶ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%8D%95%E6%92%AD%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;2. å•æ’­æŠ¥æ–‡è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%90%8Cvni%E5%8D%95%E6%92%AD%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;1. åŒVNIå•æ’­æŠ¥æ–‡è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E8%B7%A8vni%E5%8D%95%E6%92%AD%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;2. è·¨VNIå•æ’­æŠ¥æ–‡è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;vxlan&#34;&gt;VXLAN&lt;/h1&gt;
&lt;p&gt;VXLANï¼ˆè™šæ‹Ÿæ‰©å±•å±€åŸŸç½‘ï¼‰&lt;code&gt;åŸºäºIPç½‘ç»œï¼Œé‡‡ç”¨MAC in UDPå°è£…æ–¹å¼ï¼Œæºç«¯å£éšæœºï¼Œç›®æ ‡ç«¯å£ä¸º4789ï¼ˆå¯ä¿®æ”¹ï¼‰ï¼Œå¹¶ä¸”UDPå¤´éƒ¨çš„æ ¡éªŒå’Œå¿…é¡»ä¸º0&lt;/code&gt;ï¼Œæ˜¯NVO3ï¼ˆæ•°æ®ä¸­å¿ƒè™šæ‹ŸåŒ–æŠ€æœ¯æ¡†æ¶ï¼‰ä¸­çš„ä¸€ç§ç½‘ç»œè™šæ‹ŸåŒ–æŠ€æœ¯&lt;/p&gt;
&lt;h2 id=&#34;äº§ç”ŸèƒŒæ™¯&#34;&gt;äº§ç”ŸèƒŒæ™¯&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615384769028.png&#34; alt=&#34;ç°å­˜ç½‘ç»œçš„é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿæœºè§„æ¨¡å—ç½‘ç»œè§„æ ¼é™åˆ¶&lt;/strong&gt;&lt;br&gt;
åœ¨ä¼ ç»ŸäºŒå±‚ç½‘ç»œç¯å¢ƒä¸‹ï¼Œæ•°æ®æŠ¥æ–‡æ˜¯é€šè¿‡æŸ¥è¯¢MACåœ°å€è¡¨è¿›è¡ŒäºŒå±‚è½¬å‘ï¼Œè€ŒMACåœ°å€è¡¨çš„å®¹é‡é™åˆ¶äº†è™šæ‹Ÿæœºçš„æ•°é‡&lt;br&gt;
VXLAN&lt;strong&gt;å°†è™šæ‹Ÿæœºå‘å‡ºçš„æ•°æ®åŒ…å°è£…åœ¨UDPä¸­ï¼Œå¹¶ä½¿ç”¨ç‰©ç†ç½‘ç»œçš„IPã€MACåœ°å€ä½œä¸ºå¤–å±‚å¤´è¿›è¡Œå°è£…&lt;/strong&gt;ï¼Œå¯¹ç½‘ç»œåªè¡¨ç°ä¸ºå°è£…åçš„å‚æ•°ï¼Œé™¤VXLANç½‘ç»œè¾¹ç¼˜è®¾å¤‡ï¼Œç½‘ç»œä¸­çš„å…¶ä»–è®¾å¤‡ä¸éœ€è¦è¯†åˆ«è™šæ‹Ÿæœºçš„MACåœ°å€ï¼Œæå¤§&lt;strong&gt;é™ä½äº†å¤§äºŒå±‚ç½‘ç»œå¯¹MACåœ°å€è§„æ ¼çš„éœ€æ±‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œéš”ç¦»èƒ½åŠ›é™åˆ¶&lt;/strong&gt;&lt;br&gt;
å½“å‰ä¸»æµçš„ç½‘ç»œéš”ç¦»æŠ€æœ¯æ˜¯VLANï¼Œä½†æ˜¯VLANæœ€å¤šåªèƒ½åˆ’åˆ†4096ä¸ªï¼Œæ— æ³•æ»¡è¶³æ ‡è¯†å¤§é‡ç§Ÿæˆ·çš„éœ€æ±‚ï¼Œå¹¶ä¸”æ— æ³•æ»¡è¶³ç½‘ç»œåŠ¨æ€è°ƒæ•´çš„éœ€æ±‚&lt;br&gt;
VXLANå¼•å…¥äº†ç±»ä¼¼VLAN IDçš„ç”¨æˆ·æ ‡è¯†ï¼Œç§°ä¸º&lt;strong&gt;VXLANç½‘ç»œæ ‡è¯†VNI&lt;/strong&gt;ï¼Œç”±&lt;strong&gt;24æ¯”ç‰¹&lt;/strong&gt;ç»„æˆï¼Œæ”¯æŒå¤šè¾¾&lt;strong&gt;16M&lt;/strong&gt;çš„VXLANæ®µï¼Œä»è€Œæ»¡è¶³äº†å¤§é‡çš„ç”¨æˆ·æ ‡è¯†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿæœºè¿ç§»èŒƒå›´å—ç½‘ç»œæ¶æ„é™åˆ¶&lt;/strong&gt;&lt;br&gt;
è™šæ‹Ÿæœºå¯åŠ¨åï¼Œå¯èƒ½ç”±äºæœåŠ¡å™¨èµ„æºç­‰é—®é¢˜ï¼ˆå¦‚CPUè¿‡é«˜ï¼Œå†…å­˜ä¸å¤Ÿç­‰ï¼‰ï¼Œéœ€è¦å°†è™šæ‹Ÿæœºè¿ç§»åˆ°æ–°çš„æœåŠ¡å™¨ä¸Šï¼Œéœ€è¦ä¿è¯è™šæ‹Ÿæœºçš„IPåœ°å€ä¿æŒä¸å˜ï¼Œè¿™å°±&lt;strong&gt;è¦æ±‚ä¸šåŠ¡ç½‘ç»œæ˜¯ä¸€ä¸ªäºŒå±‚ç½‘ç»œ&lt;/strong&gt;ï¼Œä¸”è¦æ±‚ç½‘ç»œæœ¬èº«å…·å¤‡å¤šè·¯å¾„çš„å†—ä½™å¤‡ä»½å’Œå¯é æ€§&lt;br&gt;
VXLANé€šè¿‡é‡‡ç”¨&lt;code&gt;MAC in UDP&lt;/code&gt;å°è£…æ¥å»¶ä¼¸äºŒå±‚ç½‘ç»œï¼Œå®ç°äº†ç‰©ç†ç½‘ç»œå’Œè™šæ‹Ÿç½‘ç»œè§£è€¦ï¼Œå°†ä»¥å¤ªæŠ¥æ–‡å°è£…åœ¨IPæŠ¥æ–‡ä¹‹ä¸Šï¼Œé€šè¿‡è·¯ç”±åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œ&lt;strong&gt;æ— éœ€å…³æ³¨è™šæ‹Ÿæœºçš„MACåœ°å€&lt;/strong&gt;ï¼Œä¸”è·¯ç”±ç½‘ç»œæ— ç½‘ç»œç»“æ„é™åˆ¶ï¼Œå…·å¤‡å¤§è§„æ¨¡æ‰©å±•èƒ½åŠ›ã€æ•…éšœè‡ªæ„ˆèƒ½åŠ›ã€è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œè™šæ‹Ÿæœºè¿ç§»ä¸å—ç½‘ç»œæ¶æ„é™åˆ¶ï¼Œç§Ÿæˆ·ä¹Ÿå¯ä»¥è§„åˆ’è‡ªå·±çš„è™šæ‹Ÿç½‘ç»œï¼Œä¸éœ€è¦è€ƒè™‘ç‰©ç†ç½‘ç»œIPåœ°å€å’Œå¹¿æ’­åŸŸçš„é™åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;BUMï¼ˆå¹¿æ’­ã€æœªçŸ¥å•æ’­ã€ç»„æ’­ï¼‰æ³›æ´ªé—®é¢˜ï¼Œå¦‚ARPæ³›æ´ªå­¦ä¹ MACï¼Œ&lt;strong&gt;å¼€é”€å¤§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;éš§é“å»ºç«‹ï¼ŒVTEPæ•°é‡è¿‡å¤šå¯¼è‡´&lt;strong&gt;é™æ€éƒ¨ç½²å›°éš¾&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615385782683.png&#34; alt=&#34;åŸºæœ¬æ¦‚å¿µ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Underlayç½‘ç»œå’ŒOverlayç½‘ç»œ
&lt;ul&gt;
&lt;li&gt;å°†å·²æœ‰çš„ç‰©ç†ç½‘ç»œä½œä¸ºUnderlayç½‘ç»œï¼Œåœ¨å…¶ä¸Šæ„å»ºå‡ºè™šæ‹Ÿçš„äºŒå±‚æˆ–ä¸‰å±‚ç½‘ç»œï¼Œå³Overlayç½‘ç»œ&lt;/li&gt;
&lt;li&gt;Overlayç½‘ç»œé€šè¿‡å°è£…æŠ€æœ¯ã€åˆ©ç”¨Underlayç½‘ç»œæä¾›çš„ä¸‰å±‚è½¬å‘è·¯å¾„ï¼Œå®ç°ç§Ÿæˆ·æŠ¥æ–‡åœ¨ä¸åŒç«™ç‚¹é—´ä¼ é€’&lt;/li&gt;
&lt;li&gt;å¯¹äºç§Ÿæˆ·æ¥è¯´ï¼ŒUnderlayç½‘ç»œæ˜¯é€æ˜çš„ï¼Œåªèƒ½æ„ŸçŸ¥åˆ°Overlayç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NVEï¼ˆç½‘ç»œè™šæ‹Ÿè¾¹ç¼˜èŠ‚ç‚¹ï¼‰
&lt;ul&gt;
&lt;li&gt;å®ç°ç½‘ç»œè™šæ‹ŸåŒ–åŠŸèƒ½çš„ç½‘ç»œå®ä½“ï¼ŒæŠ¥æ–‡ç»è¿‡NVEå°è£…è½¬æ¢åï¼ŒNVEé—´å°±å¯åŸºäºä¸‰å±‚åŸºç¡€ç½‘ç»œå»ºç«‹äºŒå±‚è™šæ‹ŸåŒ–ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;è®¾å¤‡å’ŒæœåŠ¡å™¨ä¸Šçš„è™šæ‹Ÿäº¤æ¢æœºvSwitchéƒ½å¯ä»¥ä½œä¸ºNVE&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²æ–¹å¼ï¼š
&lt;ul&gt;
&lt;li&gt;ç¡¬ä»¶æ¨¡å¼ï¼šæ‰€æœ‰çš„NVEéƒ½éƒ¨ç½²åœ¨æ”¯æŒNVEçš„è®¾å¤‡ä¸Š&lt;/li&gt;
&lt;li&gt;è½¯ä»¶æ¨¡å¼ï¼šæ‰€æœ‰çš„NVEéƒ½éƒ¨ç½²åœ¨vSwitchä¸Š&lt;/li&gt;
&lt;li&gt;æ··åˆæ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VTEPï¼ˆVXLANéš§é“ç«¯ç‚¹ï¼‰
&lt;ul&gt;
&lt;li&gt;å°è£…åœ¨NVEä¸­ï¼Œç”¨äºVXLANæŠ¥æ–‡çš„å°è£…å’Œè§£å°è£…&lt;/li&gt;
&lt;li&gt;VTEPä¸ç‰©ç†ç½‘ç»œç›¸è¿ï¼Œåˆ†é…æœ‰ç‰©ç†ç½‘ç»œçš„IPåœ°å€ï¼Œ&lt;strong&gt;è¯¥åœ°å€ä¸è™šæ‹Ÿç½‘ç»œæ— å…³&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;VXLANæŠ¥æ–‡ä¸­&lt;strong&gt;æºIPåœ°å€ä¸ºæœ¬èŠ‚ç‚¹çš„VTEPåœ°å€&lt;/strong&gt;ï¼ŒVXLANæŠ¥æ–‡ä¸­ç›®çš„IPåœ°å€ä¸ºå¯¹ç«¯èŠ‚ç‚¹çš„VTEPåœ°å€ï¼Œä¸€å¯¹VTEPåœ°å€å°±å¯¹åº”ç€ä¸€ä¸ªVXLANéš§é“&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VNIï¼ˆVXLANç½‘ç»œæ ‡è¯†ï¼‰
&lt;ul&gt;
&lt;li&gt;ç”¨äºåŒºåˆ†VXLANæ®µï¼Œä¸åŒVXLANæ®µçš„è™šæ‹Ÿæœºä¸èƒ½ç›´æ¥äºŒå±‚ç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªVNIè¡¨ç¤ºä¸€ä¸ªç§Ÿæˆ·ï¼Œå³ä½¿å¤šä¸ªç»ˆç«¯ç”¨æˆ·å±äºåŒä¸€ä¸ªVNIï¼Œä¹Ÿè¡¨ç¤ºä¸€ä¸ªç§Ÿæˆ·ï¼Œç”±24æ¯”ç‰¹ç»„æˆï¼Œæ”¯æŒç§Ÿæˆ·æ•°é‡ä¸º16M&lt;/li&gt;
&lt;li&gt;åœ¨åˆ†å¸ƒå¼ç½‘å…³éƒ¨ç½²åœºæ™¯ä¸‹ï¼ŒVNIåˆ†ä¸ºäºŒå±‚VNIå’Œä¸‰å±‚VNI
&lt;ul&gt;
&lt;li&gt;äºŒå±‚VNIæ˜¯æ™®é€šçš„VNIï¼Œä»¥1ï¼š1æ–¹å¼æ˜ å°„åˆ°å¹¿æ’­åŸŸBDï¼Œå®ç°VXLANæŠ¥æ–‡åŒå­ç½‘çš„è½¬å‘&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚VNIå’ŒVPNå®ä¾‹è¿›è¡Œå…³è”ï¼Œç”¨äºVXLANæŠ¥æ–‡è·¨å­ç½‘çš„è½¬å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BD
&lt;ul&gt;
&lt;li&gt;BDæ˜¯VXLANç½‘ç»œä¸­è½¬å‘æ•°æ®æŠ¥æ–‡çš„äºŒå±‚å¹¿æ’­åŸŸ&lt;/li&gt;
&lt;li&gt;åœ¨VXLANç½‘ç»œä¸­ï¼Œå°†VNIä»¥1:1æ–¹å¼æ˜ å°„åˆ°å¹¿æ’­åŸŸBDï¼ŒBDæˆä¸ºVXLANç½‘ç»œè½¬å‘æ•°æ®æŠ¥æ–‡çš„å®ä½“&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VBDIFæ¥å£
&lt;ul&gt;
&lt;li&gt;åŸºäºBDåˆ›å»ºçš„ä¸‰å±‚é€»è¾‘æ¥å£&lt;/li&gt;
&lt;li&gt;é€šè¿‡VBDIFæ¥å£é…ç½®IPåœ°å€å¯å®ç°ä¸åŒç½‘æ®µçš„VXLANé—´ï¼ŒåŠVXLANå’ŒéVXLANçš„é€šä¿¡ï¼Œä¹Ÿå¯å®ç°äºŒå±‚ç½‘ç»œæ¥å…¥ä¸‰å±‚ç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VAPè™šæ‹Ÿæ¥å…¥ç‚¹
&lt;ul&gt;
&lt;li&gt;VXLANä¸šåŠ¡æ¥å…¥ç‚¹ï¼Œå¯ä»¥æ˜¯äºŒå±‚å­æ¥å£æˆ–VLAN
&lt;ul&gt;
&lt;li&gt;äºŒå±‚å­æ¥å£æ—¶ï¼Œé€šè¿‡åœ¨äºŒå±‚å­æ¥å£ä¸Šé…ç½®æµå°è£…ç±»å‹å®ç°ä¸åŒçš„æ¥å£æ¥å…¥ä¸åŒçš„æ•°æ®æŠ¥æ–‡ï¼Œå°†äºŒå±‚å­æ¥å£å…³è”å¹¿æ’­åŸŸBDåï¼Œå¯å®ç°æ•°æ®æŠ¥æ–‡é€šè¿‡BDè½¬å‘&lt;/li&gt;
&lt;li&gt;VLANæ—¶ï¼Œéœ€è¦å°†VLANç»‘å®šåˆ°å¹¿æ’­åŸŸBDï¼Œä¹Ÿå¯ä»¥å®ç°æ•°æ®æŠ¥æ–‡é€šè¿‡BDè½¬å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç½‘å…³
&lt;ul&gt;
&lt;li&gt;ä¸åŒVNIä¹‹é—´çš„VXLANï¼ŒåŠVXLANå’ŒéVXLANä¹‹é—´ä¸èƒ½ç›´æ¥ç›¸äº’é€šä¿¡ï¼Œä¸ºäº†ä½¿VXLANä¹‹é—´ï¼Œä»¥åŠVXLANå’ŒéVXLANä¹‹é—´èƒ½å¤Ÿè¿›è¡Œé€šä¿¡ï¼ŒVXLANå¼•å…¥äº†VXLANç½‘å…³
&lt;ul&gt;
&lt;li&gt;äºŒå±‚ç½‘å…³ï¼šç”¨äºè§£å†³ç§Ÿæˆ·æ¥å…¥VXLANè™šæ‹Ÿç½‘ç»œçš„é—®é¢˜ï¼Œä¹Ÿå¯ç”¨äºåŒä¸€VXLANè™šæ‹Ÿç½‘ç»œçš„å­ç½‘é€šä¿¡&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚ç½‘å…³ï¼šç”¨äºVXLANè™šæ‹Ÿç½‘ç»œçš„è·¨å­ç½‘é€šä¿¡ä»¥åŠå¤–éƒ¨ç½‘ç»œçš„è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615390480064.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å› æŠ¥æ–‡å¢åŠ äº†50Bã€=2å±‚14B+IPå¤´20B+UDPå¤´8B+VXLANå¤´8Bã€‘å¼€é”€ï¼Œå®¹æ˜“é€ æˆåˆ†ç‰‡é—®é¢˜ï¼Œå»ºè®®åœ¨L2GWä¿®æ”¹MTU&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Outer Ethernet header&lt;code&gt;åªè·ŸVTEP&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;ç›®çš„MACã€æºMACï¼šå‘é€æŠ¥æ–‡çš„è™šæ‹Ÿæœºæ‰€å±VTEPçš„MACã€æ¥æ”¶æŠ¥æ–‡çš„è™šæ‹Ÿæœºæ‰€å±çš„VTEPçš„MAC&lt;/li&gt;
&lt;li&gt;802.1Q Tagï¼š&lt;code&gt;å¯é€‰å­—æ®µ&lt;/code&gt;ï¼Œè¯¥å­—æ®µä¸ºæŠ¥æ–‡ä¸­æºå¸¦çš„VLAN Tag&lt;/li&gt;
&lt;li&gt;Ethernet Typeï¼šä»¥å¤ªæŠ¥æ–‡ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Outer IP header&lt;code&gt;åªè·ŸVTEP&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;æºç›®IPä¸ºVXLANéš§é“æœ¬ç«¯ã€è¿œç«¯VTEPçš„IPåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Outer UDP header
&lt;ul&gt;
&lt;li&gt;ç›®çš„UDPç«¯å£å·æ˜¯4789ï¼Œæºç«¯å£å·æ˜¯å†…å±‚æŠ¥æ–‡é€šè¿‡å“ˆå¸Œç®—æ³•è®¡ç®—åçš„å€¼&lt;/li&gt;
&lt;li&gt;æ ¡éªŒå’Œä¸º0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;VXLAN header
&lt;ul&gt;
&lt;li&gt;VXLAN Flagsï¼š8æ¯”ç‰¹ï¼Œå–å€¼ä¸º0x08&lt;/li&gt;
&lt;li&gt;VNIï¼šVXLANç½‘ç»œæ ‡è¯†ï¼Œ24æ¯”ç‰¹ï¼Œç”¨äºåŒºåˆ†VXLANæ®µ&lt;/li&gt;
&lt;li&gt;Reservedï¼š0&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;vxlanç½‘å…³åˆ’åˆ†&#34;&gt;VXLANç½‘å…³åˆ’åˆ†&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;äºŒå±‚ç½‘å…³&lt;br&gt;
ç”¨äºè§£å†³ç§Ÿæˆ·æ¥å…¥VXLANè™šæ‹Ÿç½‘ç»œçš„é—®é¢˜ï¼Œä¹Ÿå¯ç”¨äºåŒä¸€VXLANè™šæ‹Ÿç½‘ç»œçš„å­ç½‘é€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚ç½‘å…³&lt;br&gt;
ç”¨äºVXLANè™šæ‹Ÿç½‘ç»œçš„è·¨å­ç½‘é€šä¿¡ä»¥åŠå¤–éƒ¨ç½‘ç»œçš„è®¿é—®
&lt;ol&gt;
&lt;li&gt;é›†ä¸­å¼ç½‘å…³&lt;br&gt;
å°†ä¸‰å±‚ç½‘å…³é›†ä¸­éƒ¨ç½²åœ¨ä¸€å°è®¾å¤‡ä¸Šï¼Œæ‰€æœ‰è·¨å­ç½‘çš„æµé‡éƒ½ç»è¿‡ä¸‰å±‚ç½‘å…³è¿›è¡Œè½¬å‘ã€‚èƒ½å¤Ÿå¯¹è·¨å­ç½‘æµé‡çš„é›†ä¸­ç®¡ç†ï¼Œä½†æ˜¯å­˜åœ¨æ¬¡ä¼˜è·¯å¾„å’ŒARPè¡¨é¡¹æ•°ç›®é™åˆ¶çš„ç¼ºç‚¹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615390956658.png&#34; alt=&#34;é›†ä¸­å¼ç½‘å…³&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼ç½‘å…³&lt;br&gt;
åœ¨å…¸å‹çš„â€œSpine-Leafâ€ç»„ç½‘ç»“æ„ä¸‹ï¼Œå°†LeafèŠ‚ç‚¹ä½œä¸ºVXLANéš§é“ç«¯ç‚¹VTEPï¼Œæ¯ä¸ªLeafèŠ‚ç‚¹éƒ½å¯ä½œä¸ºVXLANä¸‰å±‚ç½‘å…³ï¼ŒSpineèŠ‚ç‚¹ä¸æ„ŸçŸ¥VXLANéš§é“ï¼Œåªä½œä¸ºVXLANæŠ¥æ–‡çš„è½¬å‘èŠ‚ç‚¹&lt;br&gt;
&lt;strong&gt;LeafèŠ‚ç‚¹&lt;/strong&gt;ï¼š&lt;br&gt;
ä½œä¸ºäºŒå±‚ç½‘å…³ï¼Œä¸ç‰©ç†æœåŠ¡å™¨æˆ–VMå¯¹æ¥ï¼Œç”¨äºè§£å†³ç»ˆç«¯ç§Ÿæˆ·æ¥å…¥VXLANè™šæ‹Ÿç½‘ç»œçš„é—®é¢˜&lt;br&gt;
ä½œä¸ºä¸‰å±‚ç½‘å…³ï¼Œè¿›è¡ŒVXLANæŠ¥æ–‡å°è£…/è§£å°è£…ï¼Œå®ç°è·¨å­ç½‘çš„ç»ˆç«¯ç§Ÿæˆ·é€šä¿¡ï¼Œä»¥åŠå¤–éƒ¨ç½‘ç»œçš„è®¿é—®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615391165257.png&#34; alt=&#34;åˆ†å¸ƒå¼ç½‘å…³&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡è½¬å‘&#34;&gt;æŠ¥æ–‡è½¬å‘&lt;/h2&gt;
&lt;h3 id=&#34;1-bumæŠ¥æ–‡è½¬å‘&#34;&gt;1. BUMæŠ¥æ–‡è½¬å‘&lt;/h3&gt;
&lt;p&gt;æ ¹æ®å¯¹æ³›æ´ªæµé‡çš„å¤åˆ¶æ–¹å¼ä¸åŒå¯åˆ†ä¸ºå•æ’­è·¯ç”±æ–¹å¼ï¼ˆå¤´ç«¯å¤åˆ¶ï¼‰å’Œç»„æ’­è·¯ç”±æ–¹å¼ï¼ˆæ ¸å¿ƒå¤åˆ¶ï¼‰ä¸¤ç§&lt;br&gt;
&lt;code&gt;ä¸ºäº†é¿å…ç¯è·¯ï¼Œè¿œç«¯VTEPä»VXLANéš§é“ä¸Šæ¥æ”¶åˆ°æŠ¥æ–‡åï¼Œä¸ä¼šå†å°†å…¶æ³›æ´ªåˆ°å…¶ä»–çš„VXLANéš§é“&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-å•æ’­è·¯ç”±æ–¹å¼æ³›æ´ªå¤´ç«¯å¤åˆ¶&#34;&gt;1. å•æ’­è·¯ç”±æ–¹å¼æ³›æ´ªï¼ˆå¤´ç«¯å¤åˆ¶ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615391413442.jpg&#34; alt=&#34;å¤´ç«¯å¤åˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
VTEPè´Ÿè´£å¤åˆ¶æŠ¥æ–‡ï¼Œé‡‡ç”¨å•æ’­æ–¹å¼å°†å¤åˆ¶åçš„æŠ¥æ–‡ï¼Œé€šè¿‡æœ¬åœ°æ¥å£å‘é€ç»™æœ¬åœ°ç«™ç‚¹ï¼Œé€šè¿‡VXLANéš§é“å‘é€ç»™VXLANå†…çš„æ‰€æœ‰è¿œç«¯VTEP&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“VTEP 1ä¸Šçš„VM 1å‘å‡ºBUMæŠ¥æ–‡åï¼ŒVTEP 1åˆ¤æ–­æ•°æ®æ‰€å±çš„VXLANï¼Œé€šè¿‡&lt;strong&gt;è¯¥VXLANå†…æ‰€æœ‰æœ¬åœ°æ¥å£å’ŒVXLAN Tunnel&lt;/strong&gt;è½¬å‘æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;é€šè¿‡VXLAN Tunnelè½¬å‘æŠ¥æ–‡æ—¶ï¼Œå°è£…VXLANå¤´ã€UDPå¤´ã€IPå¤´å’ŒäºŒå±‚å¤´ï¼Œå°†æ³›æ´ªæŠ¥æ–‡å°è£…äºå•æ’­æŠ¥æ–‡ä¸­ï¼Œ&lt;strong&gt;å‘é€åˆ°VXLANå†…çš„æ‰€æœ‰è¿œç«¯VTEP&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¿œç«¯VTEPæ”¶åˆ°VXLANæŠ¥æ–‡åï¼Œè§£å°è£…æŠ¥æ–‡ï¼Œå°†åŸå§‹æ•°æ®&lt;strong&gt;åœ¨æœ¬åœ°ç«™ç‚¹çš„VXLANå†…æ³›æ´ª&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-ç»„æ’­è·¯ç”±æ–¹å¼æ³›æ´ªæ ¸å¿ƒå¤åˆ¶&#34;&gt;2. ç»„æ’­è·¯ç”±æ–¹å¼æ³›æ´ªï¼ˆæ ¸å¿ƒå¤åˆ¶ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615391663157.jpg&#34; alt=&#34;æ ¸å¿ƒå¤åˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç»„æ’­è·¯ç”±æ–¹å¼çš„ç»„ç½‘ä¸­&lt;strong&gt;åŒä¸€ä¸ªVXLANå†…çš„æ‰€æœ‰VTEPéƒ½åŠ å…¥åŒä¸€ä¸ªç»„æ’­ç»„&lt;/strong&gt;ï¼Œåˆ©ç”¨ç»„æ’­è·¯ç”±åè®®ï¼ˆå¦‚PIMï¼‰åœ¨IPç½‘ç»œä¸Šä¸ºè¯¥ç»„æ’­å»ºç«‹ç»„æ’­è½¬å‘è¡¨é¡¹ï¼Œ&lt;strong&gt;VTEPä¸Šç›¸åº”ç”Ÿæˆä¸€ä¸ªç»„æ’­éš§é“&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“VTEP 1ä¸Šçš„VM 1å‘å‡ºBUMæŠ¥æ–‡åï¼ŒVTEP 1ä¸ä»…åœ¨æœ¬åœ°ç«™ç‚¹å†…æ³›æ´ªï¼Œè¿˜ä¼šä¸ºå…¶&lt;strong&gt;å°è£…ç»„æ’­ç›®çš„IPåœ°å€&lt;/strong&gt;ï¼Œå°è£…åçš„æŠ¥æ–‡&lt;strong&gt;æ ¹æ®å·²å»ºç«‹çš„ç»„æ’­è½¬å‘è¡¨é¡¹è½¬å‘åˆ°IPç½‘ç»œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ç»„æ’­æŠ¥æ–‡åˆ°è¾¾IPç½‘ç»œä¸­çš„ä¸­é—´è®¾å¤‡æ—¶ï¼Œè¯¥è®¾å¤‡æ ¹æ®å·²å»ºç«‹çš„ç»„æ’­è¡¨é¡¹å¯¹æŠ¥æ–‡è¿›è¡Œå¤åˆ¶å¹¶è½¬å‘&lt;/li&gt;
&lt;li&gt;è¿œç«¯VTEPï¼ˆVTEP 2å’ŒVTEP 3ï¼‰æ¥æ”¶åˆ°æŠ¥æ–‡åï¼Œè§£å°è£…æŠ¥æ–‡ï¼Œå°†åŸå§‹çš„æ•°æ®å¸§åœ¨æœ¬åœ°ç«™ç‚¹çš„æŒ‡å®šVXLANæ³›æ´ª&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-å•æ’­æŠ¥æ–‡è½¬å‘&#34;&gt;2. å•æ’­æŠ¥æ–‡è½¬å‘&lt;/h3&gt;
&lt;p&gt;å‚è€ƒ&lt;a href=&#34;http://www.h3c.com/cn/d_201811/1131076_30005_0.htm&#34;&gt;http://www.h3c.com/cn/d_201811/1131076_30005_0.htm&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-åŒvniå•æ’­æŠ¥æ–‡è½¬å‘&#34;&gt;1. åŒVNIå•æ’­æŠ¥æ–‡è½¬å‘&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ARPè¯·æ±‚æŠ¥æ–‡è½¬å‘æµç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615472290260.jpg&#34; alt=&#34;ARPè¯·æ±‚æŠ¥æ–‡è½¬å‘æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ARPåº”ç­”æŠ¥æ–‡è½¬å‘æµç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615472318734.jpg&#34; alt=&#34;ARPåº”ç­”æŠ¥æ–‡è½¬å‘æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åŒVNIå•æ’­æŠ¥æ–‡è½¬å‘æµç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615472420111.jpg&#34; alt=&#34;åŒVNIå•æ’­æŠ¥æ–‡è½¬å‘æµç¨‹&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨è¿›è¡ŒARPæŠ¥æ–‡çš„äº¤äº’åï¼ŒVM 1ä¸Šå·²ç»å­˜åœ¨VM 3çš„ARPè¡¨é¡¹ï¼ŒVM 3ä¸Šä¹Ÿæœ‰VM 1çš„ARPè¡¨é¡¹ã€‚ä¹‹åï¼ŒVM 1å’ŒVM 3çš„é€šä¿¡å°±èµ°å•æ’­æŠ¥æ–‡è½¬å‘æµç¨‹äº†ã€‚&lt;/li&gt;
&lt;li&gt;VM 1å°†å‘ç»™VM 3çš„å•æ’­æŠ¥æ–‡å‘é€å‡ºå»ã€‚Leaf Aæ”¶åˆ°VM 1å‘æ¥çš„æŠ¥æ–‡ï¼Œå‘ç°å…¶ç›®çš„MACä¸ºMAC 3ï¼Œåœ¨VXLAN 10ä¸­æŸ¥æ‰¾åˆ°MAC 3åï¼Œè¿›è¡ŒVXLANå°è£…åé€šè¿‡Tunnel 1å‘é€å‡ºå»ã€‚&lt;/li&gt;
&lt;li&gt;Leaf Bæ”¶åˆ°Leaf Aå‘æ¥çš„æŠ¥æ–‡ï¼Œè§£å°è£…ååœ¨VXLAN 10ä¸­æ‰¾åˆ°MAC 3è¡¨é¡¹ï¼Œå°†å…¶åœ¨å¯¹åº”çš„æœ¬åœ°ç«¯å£å’ŒVLANä¸­å‘å‡ºå»ã€‚&lt;/li&gt;
&lt;li&gt;VM 3æ”¶åˆ°æŠ¥æ–‡åï¼Œå¾€VM 1å‘é€å•æ’­æŠ¥æ–‡çš„æµç¨‹ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-è·¨vniå•æ’­æŠ¥æ–‡è½¬å‘&#34;&gt;2. è·¨VNIå•æ’­æŠ¥æ–‡è½¬å‘&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615472559408.jpg&#34; alt=&#34;è·¨VNIå•æ’­æŠ¥æ–‡è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;è·¨VNIçš„æµé‡éœ€è¦ç»è¿‡VXLAN L3 Gatewayæ¥è½¬å‘&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VM 1å…ˆå°†æŠ¥æ–‡å‘é€ç»™ç½‘å…³ã€‚æŠ¥æ–‡çš„æºMACæ˜¯VM 1çš„MACï¼Œç›®çš„MACæ˜¯ç½‘å…³VSI-Interface 10çš„MACï¼ŒæºIPæ˜¯VM 1çš„IPï¼Œç›®çš„IPæ˜¯VM 4çš„IPã€‚&lt;/li&gt;
&lt;li&gt;Leaf Aæ”¶åˆ°VM 1å‘æ¥çš„æŠ¥æ–‡ï¼Œè¯†åˆ«æ­¤æŠ¥æ–‡å±äºVXLAN 10ï¼ŒæŸ¥æ‰¾ç›®çš„MAC G10çš„è¡¨é¡¹ï¼Œå°±æŠ¥æ–‡è¿›è¡ŒVXLANå°è£…åä»Tunnel 2å‘é€å‡ºå»ã€‚å…¶ä¸­ï¼ŒVXLANå¤´ä¸­çš„VNIä¸º10ï¼›å¤–å±‚æºIPåœ°å€ä¸ºLeaf Açš„IPï¼Œå¤–å±‚ç›®çš„IPåœ°å€ä¸ºSpine Cçš„IPï¼›å¤–å±‚æºMACåœ°å€ä¸ºLeaf Açš„MACï¼Œè€Œå¤–å±‚ç›®çš„MACåœ°å€ä¸ºå»å¾€ç›®çš„IPçš„ç½‘ç»œä¸­ä¸‹ä¸€è·³è®¾å¤‡çš„MACåœ°å€ã€‚å°è£…åçš„æŠ¥æ–‡ï¼Œæ ¹æ®å¤–å±‚MACå’ŒIPä¿¡æ¯ï¼Œåœ¨IPç½‘ç»œä¸­è¿›è¡Œä¼ è¾“ï¼Œç›´è‡³åˆ°è¾¾å¯¹ç«¯VTEPã€‚&lt;/li&gt;
&lt;li&gt;Spine Cæ”¶åˆ°Leaf Aå‘æ¥çš„æŠ¥æ–‡ï¼Œå‘ç°å¤–å±‚ç›®çš„IPæ˜¯è‡ªå·±ï¼Œäºæ˜¯å¯¹æŠ¥æ–‡è¿›è¡Œè§£å°è£…ã€‚
&lt;ol&gt;
&lt;li&gt;è§£å®Œå°è£…åï¼ŒSpine Cå‘ç°åŸå§‹äºŒå±‚æŠ¥æ–‡çš„ç›®çš„MACä¸ºæœ¬æœºVSI-interface 10çš„MACï¼Œç›®çš„IPæ˜¯IP4ï¼Œäºæ˜¯æ ¹æ®è·¯ç”±è¡¨æŸ¥æ‰¾IP 4çš„ä¸‹ä¸€è·³ã€‚&lt;/li&gt;
&lt;li&gt;å‘ç°ä¸€ä¸‹è·³ä¸ºLeaf Bï¼Œå‡ºæ¥å£ä¸ºVSI-Interface 20ã€‚&lt;/li&gt;
&lt;li&gt;å†æŸ¥è¯¢ARPè¡¨é¡¹ï¼Œå¹¶å°†åŸå§‹äºŒå±‚æŠ¥æ–‡çš„æºMACä¿®æ”¹ä¸ºVSI-interface 20çš„MACï¼Œå°†ç›®çš„MACä¿®æ”¹ä¸ºVM 4çš„MACã€‚&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡åˆ°è¾¾VSI-interface 20æ¥å£æ—¶ï¼Œè¯†åˆ«åˆ°éœ€è¦è¿›å…¥VXLAN 20éš§é“ï¼Œæ‰€ä»¥æ ¹æ®MACè¡¨å¯¹æŠ¥æ–‡è¿›è¡Œå°è£…ã€‚è¿™é‡Œå°è£…çš„VXLANå¤´ä¸­çš„VNIä¸º20ï¼Œå¤–å±‚æºIPåœ°å€ä¸ºSpine Cçš„IPåœ°å€ï¼Œå¤–å±‚ç›®çš„IPåœ°å€ä¸ºLeaf Bçš„IPåœ°å€ï¼›å¤–å±‚æºMACåœ°å€ä¸ºSpine Cçš„MACåœ°å€ï¼Œè€Œå¤–å±‚ç›®çš„MACåœ°å€ä¸ºå»å¾€ç›®çš„IPçš„ç½‘ç»œä¸­ä¸‹ä¸€è·³è®¾å¤‡çš„MACåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;å°è£…åçš„æŠ¥æ–‡ï¼Œæ ¹æ®å¤–å±‚MACå’ŒIPä¿¡æ¯ï¼Œåœ¨IPç½‘ç»œä¸­è¿›è¡Œä¼ è¾“ï¼Œç›´è‡³åˆ°è¾¾å¯¹ç«¯VTEPã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Leaf Bæ”¶åˆ°Spine Cå‘æ¥çš„æŠ¥æ–‡åï¼Œè§£å°è£…ï¼Œå¾—åˆ°åŸå§‹äºŒå±‚æŠ¥æ–‡ã€‚åœ¨VXLAN 20å†…æ‰¾åˆ°ç›®çš„MACä¸ºMAC 4çš„è¡¨é¡¹ï¼Œå¹¶å°†æŠ¥æ–‡ä»å¯¹åº”çš„æ¥å£å’ŒVLANä¸­å‘é€å‡ºå»ã€‚æœ€ç»ˆVM 4æ”¶åˆ°äº†æ¥è‡ªVM 1çš„æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;VM 4å‘é€ç»™VM 1çš„è¿‡ç¨‹ä¸æ­¤ç±»ä¼¼&lt;/li&gt;
&lt;/ol&gt;
">å¤§äºŒå±‚ï¼ˆEVPNå’ŒSDNæš‚ä¸æ•´ç†ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/dui-die/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#istack%E6%99%BA%E8%83%BD%E5%A0%86%E5%8F%A0&#34;&gt;iStackï¼ˆæ™ºèƒ½å †å ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#istack%E4%B8%AD%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9A%84%E8%A7%92%E8%89%B2-%E5%A0%86%E5%8F%A0id%E5%92%8C%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;iStackä¸­äº¤æ¢æœºçš„è§’è‰²ã€å †å IDå’Œä¼˜å…ˆçº§&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%A7%92%E8%89%B2&#34;&gt;1. è§’è‰²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%A0%86%E5%8F%A0id&#34;&gt;2. å †å ID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;3. ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0istack%E7%9A%84%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F&#34;&gt;å †å iStackçš„è¿æ¥æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0istack%E8%BF%9E%E6%8E%A5%E6%8B%93%E6%89%91&#34;&gt;å †å iStackè¿æ¥æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0istack%E5%BB%BA%E7%AB%8B%E7%9A%84%E8%BF%87%E7%A8%8B&#34;&gt;å †å iStackå»ºç«‹çš„è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%B8%BB%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%80%89%E4%B8%BE&#34;&gt;1. ä¸»äº¤æ¢æœºé€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%8B%93%E6%89%91%E6%94%B6%E9%9B%86%E5%92%8C%E5%A4%87%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%80%89%E4%B8%BE&#34;&gt;2. æ‹“æ‰‘æ”¶é›†å’Œå¤‡äº¤æ¢æœºé€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%A8%B3%E5%AE%9A%E8%BF%90%E8%A1%8C&#34;&gt;3. ç¨³å®šè¿è¡Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5%E5%92%8C%E9%80%80%E5%87%BA%E8%BF%87%E7%A8%8B&#34;&gt;å †å æˆå‘˜åŠ å…¥å’Œé€€å‡ºè¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5&#34;&gt;æˆå‘˜åŠ å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%88%90%E5%91%98%E9%80%80%E5%87%BA&#34;&gt;æˆå‘˜é€€å‡º&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0%E5%88%86%E8%A3%82&#34;&gt;å †å åˆ†è£‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A0%86%E5%8F%A0%E5%88%86%E8%A3%82%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3mad%E5%A4%9A%E4%B8%BB%E6%A3%80%E6%B5%8Bdad%E5%8F%8C%E4%B8%BB%E6%A3%80%E6%B5%8B&#34;&gt;å †å åˆ†è£‚ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿï¼ˆMADå¤šä¸»æ£€æµ‹ï¼ŒDADåŒä¸»æ£€æµ‹ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%9B%B4%E8%BF%9E%E6%A3%80%E6%B5%8B&#34;&gt;1. ç›´è¿æ£€æµ‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BB%A3%E7%90%86%E6%A3%80%E6%B5%8B&#34;&gt;2. ä»£ç†æ£€æµ‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mad%E5%86%B2%E7%AA%81%E5%8F%8A%E6%95%85%E9%9A%9C%E6%81%A2%E5%A4%8D%E5%90%8E%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86&#34;&gt;MADå†²çªåŠæ•…éšœæ¢å¤åå¦‚ä½•å¤„ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dad%E5%8F%8C%E4%B8%BB%E6%A3%80%E6%B5%8B&#34;&gt;DADåŒä¸»æ£€æµ‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%B8%9A%E5%8A%A1%E5%8F%A3%E7%9B%B4%E8%BF%9E%E6%A3%80%E6%B5%8B%E6%96%B9%E5%BC%8F&#34;&gt;1. ä¸šåŠ¡å£ç›´è¿æ£€æµ‹æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-eth-trunk%E4%BB%A3%E7%90%86%E6%A3%80%E6%B5%8B%E6%96%B9%E5%BC%8F&#34;&gt;2. Eth-trunkä»£ç†æ£€æµ‹æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%AE%A1%E7%90%86%E5%8F%A3%E6%A3%80%E6%B5%8B%E6%96%B9%E5%BC%8F&#34;&gt;3. ç®¡ç†å£æ£€æµ‹æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%A0%86%E5%8F%A0%E7%AB%AF%E5%8F%A3%E6%A3%80%E6%B5%8B%E6%96%B9%E5%BC%8F%E4%BB%85ce1280012800e%E6%94%AF%E6%8C%81&#34;&gt;4. å †å ç«¯å£æ£€æµ‹æ–¹å¼ï¼ˆä»…CE12800&amp;amp;12800Eæ”¯æŒï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#css%E9%9B%86%E7%BE%A4&#34;&gt;CSSï¼ˆé›†ç¾¤ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#css%E9%9B%86%E7%BE%A4%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F&#34;&gt;CSSé›†ç¾¤è¿æ¥æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9B%86%E7%BE%A4%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5%E4%B8%8E%E5%90%88%E5%B9%B6-%E9%9B%86%E7%BE%A4%E5%88%86%E8%A3%82&#34;&gt;é›†ç¾¤æˆå‘˜åŠ å…¥ä¸åˆå¹¶ã€é›†ç¾¤åˆ†è£‚&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5-2&#34;&gt;æˆå‘˜åŠ å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%88%90%E5%91%98%E5%90%88%E5%B9%B6&#34;&gt;æˆå‘˜åˆå¹¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9B%86%E7%BE%A4%E5%88%86%E8%A3%82&#34;&gt;é›†ç¾¤åˆ†è£‚&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
CSSå’ŒiStackçš„åŒºåˆ«ï¼šCSSæ˜¯æ¡†å¼å †å ï¼ŒiStackæ˜¯ç›’å¼å †å ã€‚ä¸¤è€…åªæ˜¯å«æ³•å’Œå®ç°æœ‰äº›å·®å¼‚ï¼Œä½†æ˜¯åŠŸèƒ½æ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;h1 id=&#34;istackæ™ºèƒ½å †å &#34;&gt;iStackï¼ˆæ™ºèƒ½å †å ï¼‰&lt;/h1&gt;
&lt;p&gt;æŒ‡å°†å¤šå°æ”¯æŒå †å ç‰¹æ€§çš„äº¤æ¢æœºè®¾å¤‡ç»„åˆåœ¨ä¸€èµ·ï¼Œä»é€»è¾‘ä¸Šç»„åˆæˆä¸€å°äº¤æ¢è®¾å¤‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615118963933.png&#34; alt=&#34;iStack&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç›®çš„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æé«˜äº†å¯é æ€§ï¼šå †å ç³»ç»Ÿå¤šå°æˆå‘˜äº¤æ¢æœºä¹‹é—´å†—ä½™å¤‡ä»½ï¼ŒåŒæ—¶åˆ©ç”¨è·¨è®¾å¤‡çš„Eth-Trunkå®ç°è·¨è®¾å¤‡çš„é“¾è·¯å†—ä½™å¤‡ä»½&lt;/li&gt;
&lt;li&gt;å¼ºå¤§çš„ç½‘ç»œæ‰©å±•èƒ½åŠ›ï¼šé€šè¿‡ç»„å»ºå †å ï¼Œå¯ä»¥åœ¨ä¸æ”¹å˜ç½‘ç»œæ‹“æ‰‘çš„æƒ…å†µä¸‹ï¼Œè½»æ¾åœ°æ‰©å±•ç«¯å£æ•°ã€å¸¦å®½å’Œå¤„ç†èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;ç®€åŒ–é…ç½®å’Œç®¡ç†ï¼š
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ·å¯ä»¥é€šè¿‡ä»»ä½•ä¸€å°æˆå‘˜äº¤æ¢æœºç™»å½•å †å ç³»ç»Ÿï¼Œå¯¹å †å ç³»ç»Ÿæ‰€æœ‰æˆå‘˜äº¤æ¢æœºè¿›è¡Œç»Ÿä¸€é…ç½®å’Œç®¡ç†&lt;/li&gt;
&lt;li&gt;å †å å½¢æˆåï¼Œä¸éœ€è¦é…ç½®å¤æ‚çš„äºŒå±‚ç ´ç¯åè®®ï¼ˆå¦‚MSTPï¼‰å’Œä¸‰å±‚ä¿æŠ¤å€’æ¢åè®®ï¼ˆå¦‚VRRPï¼‰ï¼Œç®€åŒ–äº†ç½‘ç»œé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;istackä¸­äº¤æ¢æœºçš„è§’è‰²-å †å idå’Œä¼˜å…ˆçº§&#34;&gt;iStackä¸­äº¤æ¢æœºçš„è§’è‰²ã€å †å IDå’Œä¼˜å…ˆçº§&lt;/h2&gt;
&lt;h3 id=&#34;1-è§’è‰²&#34;&gt;1. è§’è‰²&lt;/h3&gt;
&lt;p&gt;è§’è‰²ï¼šåŒ…æ‹¬&lt;strong&gt;ä¸€å°&lt;/strong&gt;ä¸»äº¤æ¢æœºï¼ˆmasterï¼‰ã€&lt;strong&gt;ä¸€å°&lt;/strong&gt;å¤‡äº¤æ¢æœºï¼ˆstandbyï¼‰å’Œä»äº¤æ¢æœºï¼ˆslaveï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€å°ä¸»äº¤æ¢æœºï¼ˆmasterï¼‰ï¼šè´Ÿè´£ç®¡ç†æ•´ä¸ªå †å ï¼›&lt;strong&gt;ä¸»äº¤æ¢æœºä¸æŠ¢å &lt;/strong&gt;ï¼Œ&lt;strong&gt;æœ€å…ˆå®Œæˆå¯åŠ¨çš„äº¤æ¢æœºä¼šæˆä¸ºä¸»äº¤æ¢æœº&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸€å°å¤‡äº¤æ¢æœºï¼ˆstandbyï¼‰ï¼šä¸»äº¤æ¢æœºæ•…éšœæ—¶ï¼Œæ¥æ›¿ä¸»äº¤æ¢æœºçš„æ‰€æœ‰ä¸šåŠ¡&lt;/li&gt;
&lt;li&gt;ä»äº¤æ¢æœºï¼ˆslaveï¼‰ï¼šé™¤ä¸»äº¤æ¢æœºå’Œå¤‡äº¤æ¢æœºå¤–ï¼Œå †å ä¸­&lt;strong&gt;å…¶ä»–æ‰€æœ‰çš„æˆå‘˜äº¤æ¢æœºéƒ½æ˜¯ä»äº¤æ¢æœº&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-å †å id&#34;&gt;2. å †å ID&lt;/h3&gt;
&lt;p&gt;å †å IDï¼š&lt;strong&gt;æˆå‘˜äº¤æ¢æœºçš„æ§½ä½å·&lt;/strong&gt;ï¼ˆSlot IDï¼‰ï¼Œç”¨æ¥æ ‡è¯†å’Œç®¡ç†æˆå‘˜äº¤æ¢æœºï¼Œ&lt;strong&gt;é»˜è®¤ä¸º0ï¼Œå †å ä¸­æ‰€æœ‰æˆå‘˜äº¤æ¢æœºçš„å †å IDéƒ½æ˜¯å”¯ä¸€çš„&lt;/strong&gt;&lt;br&gt;
å †å å‰ï¼šæ§½ä½å·/å­å¡å·/ç«¯å£å·ï¼ˆ&lt;strong&gt;æ§½ä½å·ç»Ÿä¸€å–å€¼ä¸º0&lt;/strong&gt;ï¼‰å¦‚ï¼šGigabitEthernet0/0/1&lt;br&gt;
å †å åï¼šå †å ID/å­å¡å·/ç«¯å£å·ï¼Œä¾‹å¦‚å †å IDä¸º2ï¼Œç¼–å·å˜ä¸ºGigabitEthernet2/0/1&lt;br&gt;
å¦‚æœè®¾å¤‡&lt;strong&gt;æ›¾åŠ å…¥è¿‡å †å ï¼Œåœ¨é€€å‡ºå †å å&lt;/strong&gt;ï¼Œä»ç„¶ä¼š&lt;strong&gt;ä½¿ç”¨ç»„æˆå †å æ—¶çš„å †å ID&lt;/strong&gt;ä½œä¸ºè‡ªèº«çš„æ§½ä½å·&lt;/p&gt;
&lt;h3 id=&#34;3-ä¼˜å…ˆçº§&#34;&gt;3. ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;å †å ä¼˜å…ˆçº§ï¼šé»˜è®¤100&lt;br&gt;
å †å ä¼˜å…ˆçº§æ˜¯æˆå‘˜äº¤æ¢æœºçš„ä¸€ä¸ªå±æ€§ï¼Œä¸»è¦ç”¨äºè§’è‰²é€‰ä¸¾è¿‡ç¨‹ä¸­ç¡®å®šæˆå‘˜äº¤æ¢æœºçš„è§’è‰²ï¼Œä¼˜å…ˆçº§å€¼è¶Šå¤§è¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ï¼Œ&lt;strong&gt;ä¼˜å…ˆçº§è¶Šé«˜å½“é€‰ä¸ºä¸»äº¤æ¢æœºçš„å¯èƒ½æ€§è¶Šå¤§&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;å †å istackçš„è¿æ¥æ–¹å¼&#34;&gt;å †å iStackçš„è¿æ¥æ–¹å¼&lt;/h2&gt;
&lt;p&gt;äº¤æ¢æœºç»„å»ºå †å æ ¹æ®å †å å£çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š&lt;strong&gt;å †å å¡å †å å’Œä¸šåŠ¡å£å †å &lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å †å å¡å †å åˆåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š
&lt;ol&gt;
&lt;li&gt;äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸“ç”¨çš„å †å æ’å¡åŠä¸“ç”¨çš„å †å çº¿ç¼†è¿æ¥&lt;/li&gt;
&lt;li&gt;å †å å¡é›†æˆåˆ°äº†äº¤æ¢æœºåé¢æ¿ä¸Šï¼Œäº¤æ¢æœºé€šè¿‡é›†æˆçš„å †å ç«¯å£åŠä¸“ç”¨çš„å †å çº¿ç¼†è¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å£å †å æŒ‡çš„æ˜¯äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸é€»è¾‘å †å ç«¯å£ç»‘å®šçš„ç‰©ç†æˆå‘˜ç«¯å£ç›¸è¿ï¼Œä¸éœ€è¦ä¸“ç”¨çš„å †å æ’å¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615621977646.png&#34; alt=&#34;å †å iStackçš„è¿æ¥æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å»ºè®®ç”¨æˆ·ä¼˜å…ˆé‡‡ç”¨ä¸»æ§æ¿ç›´è¿æ–¹å¼ï¼Œä½¿ç®¡ç†é“¾è·¯å’Œè½¬å‘é“¾è·¯åˆ†ç¦»ï¼Œä»¥ä¿è¯å †å ç³»ç»Ÿçš„é«˜å¯é æ€§&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å †å istackè¿æ¥æ‹“æ‰‘&#34;&gt;å †å iStackè¿æ¥æ‹“æ‰‘&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é“¾å½¢è¿æ¥ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615122203239.png&#34; alt=&#34;é“¾å½¢è¿æ¥&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šé¦–å°¾ä¸éœ€è¦è¿æ¥ï¼Œé€‚åˆé•¿è·ç¦»&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå¯é æ€§ä½ï¼Œå®¹æ˜“å †å åˆ†è£‚ï¼Œå¸¦å®½åˆ©ç”¨ç‡ä½&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¯å½¢è¿æ¥ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615122215564.png&#34; alt=&#34;ç¯å½¢è¿æ¥&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¯é æ€§é«˜ï¼Œç¯å½¢å˜é“¾å½¢ä¸å½±å“å·¥ä½œï¼Œå¸¦å®½åˆ©ç”¨ç‡é«˜&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šé¦–å°¾éœ€è¦è¿æ¥ï¼Œä¸é€‚åˆé•¿è·ç¦»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å †å istackå»ºç«‹çš„è¿‡ç¨‹&#34;&gt;å †å iStackå»ºç«‹çš„è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;ç³»ç»Ÿè‡ªåŠ¨å®Œæˆå †å åˆ†ä¸ºä¸‰æ­¥ï¼š&lt;/p&gt;
&lt;h3 id=&#34;1-ä¸»äº¤æ¢æœºé€‰ä¸¾&#34;&gt;1. ä¸»äº¤æ¢æœºé€‰ä¸¾&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡ŒçŠ¶æ€æ¯”è¾ƒï¼Œå·²ç»è¿è¡Œçš„äº¤æ¢æœºæ¯”å¤„äºå¯åŠ¨çŠ¶æ€çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;å †å ä¼˜å…ˆçº§é«˜çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;å †å ä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼ŒMACåœ°å€å°çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-æ‹“æ‰‘æ”¶é›†å’Œå¤‡äº¤æ¢æœºé€‰ä¸¾&#34;&gt;2. æ‹“æ‰‘æ”¶é›†å’Œå¤‡äº¤æ¢æœºé€‰ä¸¾&lt;/h3&gt;
&lt;p&gt;ä¸»äº¤æ¢æœºé€‰ä¸¾å®Œæˆåï¼Œä¸»äº¤æ¢æœºä¼š&lt;strong&gt;æ”¶é›†&lt;/strong&gt;æ‰€æœ‰æˆå‘˜äº¤æ¢æœºçš„&lt;strong&gt;æ‹“æ‰‘ä¿¡æ¯&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ ¹æ®æ‹“æ‰‘ä¿¡æ¯&lt;/strong&gt;è®¡ç®—å‡ºå †å &lt;strong&gt;è½¬å‘è¡¨é¡¹å’Œç ´ç¯ç‚¹ä¿¡æ¯&lt;/strong&gt;ä¸‹å‘ç»™å †å ä¸­çš„æ‰€æœ‰æˆå‘˜äº¤æ¢æœºï¼Œå¹¶å‘æ‰€æœ‰æˆå‘˜äº¤æ¢æœº&lt;strong&gt;åˆ†é…å †å ID&lt;/strong&gt;ã€‚ä¹‹åè¿›è¡Œå¤‡äº¤æ¢æœºçš„é€‰ä¸¾ï¼Œä½œä¸ºä¸»äº¤æ¢æœºçš„å¤‡ä»½äº¤æ¢æœº&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å †å ä¼˜å…ˆçº§æœ€é«˜çš„è®¾å¤‡æˆä¸ºå¤‡äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;å †å ä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼ŒMACåœ°å€æœ€å°çš„æˆä¸ºå¤‡äº¤æ¢æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-ç¨³å®šè¿è¡Œ&#34;&gt;3. ç¨³å®šè¿è¡Œ&lt;/h3&gt;
&lt;p&gt;å…¶ä»–æˆå‘˜äº¤æ¢æœºä½œä¸ºä»äº¤æ¢æœºåŠ å…¥å †å ï¼Œæ‰€æœ‰æˆå‘˜äº¤æ¢æœºä¼šè‡ªåŠ¨åŒæ­¥ä¸»äº¤æ¢æœºçš„ç³»ç»Ÿè½¯ä»¶å’Œé…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤‡äº¤æ¢æœºæˆ–ä»äº¤æ¢æœºä¸ä¸»äº¤æ¢æœºçš„è½¯ä»¶ç‰ˆæœ¬ä¸ä¸€è‡´æ—¶ï¼Œå¤‡äº¤æ¢æœºæˆ–ä»äº¤æ¢æœºä¼šè‡ªåŠ¨ä»ä¸»äº¤æ¢æœºä¸‹è½½ç³»ç»Ÿè½¯ä»¶ï¼Œç„¶åä½¿ç”¨æ–°ç³»ç»Ÿè½¯ä»¶é‡å¯ï¼Œå¹¶é‡æ–°åŠ å…¥å †å &lt;/li&gt;
&lt;li&gt;å¤‡äº¤æ¢æœºæˆ–ä»äº¤æ¢æœºä¼šå°†ä¸»äº¤æ¢æœºçš„é…ç½®æ–‡ä»¶åŒæ­¥åˆ°æœ¬è®¾å¤‡å¹¶æ‰§è¡Œï¼Œä»¥ä¿è¯å †å ä¸­çš„å¤šå°è®¾å¤‡èƒ½å¤Ÿåƒä¸€å°è®¾å¤‡ä¸€æ ·åœ¨ç½‘ç»œä¸­å·¥ä½œï¼Œå¹¶ä¸”åœ¨ä¸»äº¤æ¢æœºå‡ºç°æ•…éšœä¹‹åï¼Œå…¶ä½™äº¤æ¢æœºä»èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œå„é¡¹åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å †å æˆå‘˜åŠ å…¥å’Œé€€å‡ºè¿‡ç¨‹&#34;&gt;å †å æˆå‘˜åŠ å…¥å’Œé€€å‡ºè¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;æˆå‘˜åŠ å…¥&#34;&gt;æˆå‘˜åŠ å…¥&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;å³å‘å·²ç»ç¨³å®šè¿è¡Œçš„å †å ç³»ç»Ÿæ·»åŠ ä¸€å°æ–°çš„äº¤æ¢æœº&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592554993280.png&#34; alt=&#34;å †å æˆå‘˜åŠ å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä½¿èƒ½å †å å¹¶é…ç½®å¥½SWDçš„å †å å‚æ•°&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;ä¸šåŠ¡å£å †å &lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºéœ€è¦é…ç½®ç‰©ç†æˆå‘˜ç«¯å£åŠ å…¥é€»è¾‘å †å ç«¯å£&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;å †å å¡å †å &lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„æˆå‘˜äº¤æ¢æœºéœ€è¦ä½¿èƒ½å †å åŠŸèƒ½&lt;br&gt;
&lt;code&gt;ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œå»ºè®®æ–°åŠ å…¥çš„äº¤æ¢æœºé…ç½®å †å IDï¼Œå¦‚æœä¸é…ç½®ï¼Œå †å ç³»ç»Ÿä¼šä¸ºå…¶åˆ†é…ä¸€ä¸ªå †å ID&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°†SWDè¿æ¥åˆ°å †å ç³»ç»Ÿ&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;é“¾å‹è¿æ¥&lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºå»ºè®®æ·»åŠ åˆ°é“¾å‹çš„ä¸¤ç«¯ï¼Œè¿™æ ·å¯¹ç°æœ‰çš„ä¸šåŠ¡å½±å“æœ€å°&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;ç¯å‹è¿æ¥&lt;/strong&gt;ï¼Œéœ€è¦æŠŠå½“å‰ç¯å‹æ‹†æˆé“¾å‹ï¼Œç„¶ååœ¨é“¾å‹çš„ä¸¤ç«¯æ·»åŠ è®¾å¤‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿå®Œæˆå †å &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ–°åŠ å…¥çš„äº¤æ¢æœºè¿çº¿ä¸Šç”µå¯åŠ¨åï¼Œ&lt;strong&gt;è¿›è¡Œè§’è‰²é€‰ä¸¾ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºä¼šé€‰ä¸¾ä¸ºä»äº¤æ¢æœº&lt;/strong&gt;ï¼Œå †å ç³»ç»Ÿä¸­åŸæœ‰çš„ä¸»å¤‡ä»è§’è‰²ä¸å˜&lt;/li&gt;
&lt;li&gt;è§’è‰²é€‰ä¸¾ç»“æŸåï¼Œä¸»äº¤æ¢æœºæ›´æ–°å †å æ‹“æ‰‘ä¿¡æ¯ï¼ŒåŒæ­¥åˆ°å…¶ä»–æˆå‘˜äº¤æ¢æœºä¸Šï¼Œå¹¶å‘æ–°åŠ å…¥çš„äº¤æ¢æœºåˆ†é…å †å IDï¼ˆåœ¨æ–°æˆå‘˜æœªé…ç½®æˆ–é…ç½®å†²çªæ—¶ï¼‰&lt;/li&gt;
&lt;li&gt;æ–°åŠ å…¥çš„äº¤æ¢æœºæ›´æ–°å †å IDï¼Œå¹¶åŒæ­¥ä¸»äº¤æ¢æœºçš„é…ç½®æ–‡ä»¶å’Œç³»ç»Ÿè½¯ä»¶ï¼Œä¹‹åè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æˆå‘˜é€€å‡º&#34;&gt;æˆå‘˜é€€å‡º&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å½“&lt;strong&gt;ä¸»äº¤æ¢æœºé€€å‡º&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å¤‡å‡ä¸ºä¸»ï¼Œé‡æ–°è®¡ç®—æ‹“æ‰‘å¹¶è¿›è¡ŒåŒæ­¥åˆ°å…¶ä»–æˆå‘˜äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;æŒ‡å®šæ–°çš„å¤‡äº¤æ¢æœºï¼Œä¹‹åè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“&lt;strong&gt;å¤‡äº¤æ¢æœºé€€å‡º&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸»äº¤æ¢æœºé‡æ–°æŒ‡å®šå¤‡äº¤æ¢æœºï¼Œé‡æ–°è®¡ç®—æ‹“æ‰‘å¹¶åŒæ­¥ï¼Œä¹‹åè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;li&gt;å½“&lt;strong&gt;ä»äº¤æ¢æœº&lt;/strong&gt;é€€å‡ºï¼š&lt;br&gt;
ä¸»äº¤æ¢æœºé‡æ–°è®¡ç®—å †å æ‹“æ‰‘å¹¶åŒæ­¥ï¼Œä¹‹åè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å †å æˆå‘˜äº¤æ¢æœºé€€å‡ºçš„è¿‡ç¨‹ï¼Œä¸»è¦å°±æ˜¯æ‹†é™¤å †å çº¿ç¼†å’Œç§»é™¤äº¤æ¢æœºçš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äº&lt;strong&gt;ç¯å½¢å †å &lt;/strong&gt;ï¼šæˆå‘˜äº¤æ¢æœºé€€å‡ºåï¼Œä¸ºä¿è¯ç½‘ç»œçš„å¯é æ€§è¿˜éœ€è¦æŠŠé€€å‡ºäº¤æ¢æœºè¿æ¥çš„ä¸¤ä¸ªç«¯å£é€šè¿‡å †å çº¿ç¼†è¿›è¡Œè¿æ¥&lt;/li&gt;
&lt;li&gt;å¯¹äºé“¾å½¢å †å ï¼šæ‹†é™¤ä¸­é—´äº¤æ¢æœºä¼šé€ æˆå †å åˆ†è£‚ã€‚è¿™æ—¶éœ€è¦åœ¨æ‹†é™¤å‰è¿›è¡Œä¸šåŠ¡åˆ†æï¼Œå°½é‡å‡å°‘å¯¹ä¸šåŠ¡çš„å½±å“ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å †å åˆ†è£‚&#34;&gt;å †å åˆ†è£‚&lt;/h4&gt;
&lt;p&gt;æŒ‡ç¨³å®šè¿è¡Œçš„å †å ç³»ç»Ÿä¸­å¸¦ç”µç§»å‡ºéƒ¨åˆ†æˆå‘˜äº¤æ¢æœºï¼Œæˆ–å †å çº¿ç¼†å¤šç‚¹æ•…éšœå¯¼è‡´ä¸€ä¸ªå †å ç³»ç»Ÿå˜æˆå¤šä¸ªå †å ç³»ç»Ÿï¼Œå †å åˆ†è£‚åˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŸä¸»å¤‡&lt;/strong&gt;äº¤æ¢æœºè¢«åˆ†è£‚åˆ°&lt;strong&gt;åŒä¸€ä¸ªå †å ç³»ç»Ÿ&lt;/strong&gt;ä¸­&lt;br&gt;
&lt;strong&gt;åŸä¸»äº¤æ¢æœºä¼šé‡æ–°è®¡ç®—å †å æ‹“æ‰‘&lt;/strong&gt;ï¼Œå°†ç§»å‡ºçš„æˆå‘˜äº¤æ¢æœºçš„æ‹“æ‰‘ä¿¡æ¯åˆ é™¤ï¼Œå¹¶å°†æ–°çš„æ‹“æ‰‘ä¿¡æ¯åŒæ­¥ç»™å…¶ä»–æˆå‘˜äº¤æ¢æœº&lt;br&gt;
è€Œç§»å‡ºçš„æˆå‘˜äº¤æ¢æœºæ£€æµ‹åˆ°å †å åè®®æŠ¥æ–‡è¶…æ—¶ï¼Œå°†è‡ªè¡Œå¤ä½ï¼Œ&lt;strong&gt;é‡æ–°è¿›è¡Œé€‰ä¸¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸä¸»å¤‡äº¤æ¢æœºè¢«åˆ†è£‚åˆ°&lt;strong&gt;ä¸åŒçš„å †å ç³»ç»Ÿ&lt;/strong&gt;ä¸­&lt;br&gt;
åŸä¸»äº¤æ¢æœºæ‰€åœ¨å †å ç³»ç»Ÿé‡æ–°æŒ‡å®šå¤‡äº¤æ¢æœºï¼Œé‡æ–°è®¡ç®—æ‹“æ‰‘ä¿¡æ¯å¹¶åŒæ­¥ç»™å…¶ä»–æˆå‘˜äº¤æ¢æœº&lt;br&gt;
åŸå¤‡äº¤æ¢æœºæ‰€åœ¨å †å ç³»ç»Ÿå°†å‘ç”Ÿå¤‡å‡ä¸»ï¼ŒåŸå¤‡äº¤æ¢æœºå‡çº§ä¸ºä¸»äº¤æ¢æœºï¼Œé‡æ–°è®¡ç®—å †å æ‹“æ‰‘å¹¶åŒæ­¥åˆ°å…¶ä»–æˆå‘˜&lt;br&gt;
äº¤æ¢æœºï¼Œå¹¶æŒ‡å®šæ–°çš„å¤‡äº¤æ¢æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å †å åˆ†è£‚ä¼šæœ‰ä»€ä¹ˆé—®é¢˜å¦‚ä½•è§£å†³madå¤šä¸»æ£€æµ‹dadåŒä¸»æ£€æµ‹&#34;&gt;å †å åˆ†è£‚ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿï¼ˆMADå¤šä¸»æ£€æµ‹ï¼ŒDADåŒä¸»æ£€æµ‹ï¼‰&lt;/h4&gt;
&lt;p&gt;ç”±äºå †å ç³»ç»Ÿä¸­æ‰€æœ‰æˆå‘˜äº¤æ¢æœºéƒ½ä½¿ç”¨åŒä¸€ä¸ªIPåœ°å€å’ŒMACåœ°å€ï¼ˆå †å ç³»ç»Ÿ MACï¼‰ï¼Œä¸€ä¸ªå †å åˆ†è£‚åï¼Œå¯èƒ½äº§ç”Ÿå¤šä¸ªå…·æœ‰ç›¸åŒIPåœ°å€å’ŒMACåœ°å€çš„å †å ç³»ç»Ÿï¼Œå¼•èµ·ç½‘ç»œæ•…éšœï¼Œå› æ­¤å¿…é¡»è¿›è¡ŒIPåœ°å€å’ŒMACåœ°å€çš„å†²çªæ£€æŸ¥ã€‚&lt;br&gt;
&lt;strong&gt;å¤šä¸»æ£€æµ‹MAD&lt;/strong&gt;æ˜¯ä¸€ç§æ£€æµ‹å’Œå¤„ç†å †å åˆ†è£‚çš„åè®®ã€‚é“¾è·¯æ•…éšœå¯¼è‡´å †å ç³»ç»Ÿåˆ†è£‚åï¼ŒMADå¯ä»¥å®ç°å †å åˆ†è£‚çš„æ£€æµ‹ã€å†²çªå¤„ç†å’Œæ•…éšœæ¢å¤ï¼Œé™ä½å †å åˆ†è£‚å¯¹ä¸šåŠ¡çš„å½±å“ã€‚&lt;br&gt;
MADæ£€æµ‹æ–¹å¼æœ‰ä¸¤ç§ï¼šç›´è¿æ£€æµ‹æ–¹å¼å’Œä»£ç†æ£€æµ‹æ–¹å¼&lt;code&gt;ä¸¤ç§æ£€æµ‹æ–¹å¼äº’æ–¥ï¼Œä¸å¯ä»¥åŒæ—¶é…ç½®&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;1-ç›´è¿æ£€æµ‹&#34;&gt;1. ç›´è¿æ£€æµ‹&lt;/h5&gt;
&lt;p&gt;ç›´è¿æ£€æµ‹æ–¹å¼åˆåˆ†ä¸ºé€šè¿‡ä¸­é—´è®¾å¤‡ç›´è¿å’ŒFull-meshæ–¹å¼ç›´è¿&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡&lt;strong&gt;ä¸­é—´è®¾å¤‡&lt;/strong&gt;ç›´è¿&lt;br&gt;
å †å ç³»ç»Ÿçš„æ‰€æœ‰æˆå‘˜äº¤æ¢æœºä¹‹é—´è‡³å°‘æœ‰ä¸€æ¡æ£€æµ‹é“¾è·¯ä¸ä¸­é—´è®¾å¤‡ç›¸è¿&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615125694086.png&#34; alt=&#34;é€šè¿‡ä¸­é—´è®¾å¤‡ç›´è¿&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Full-mesh&lt;/strong&gt;æ–¹å¼ç›´è¿&lt;br&gt;
å †å ç³»ç»Ÿçš„å„æˆå‘˜äº¤æ¢æœºä¹‹é—´é€šè¿‡æ£€æµ‹é“¾è·¯å»ºç«‹Full-mesh&lt;strong&gt;å…¨è¿æ¥&lt;/strong&gt;ï¼Œå³æ¯ä¸¤å°æˆå‘˜äº¤æ¢æœºä¹‹é—´è‡³å°‘æœ‰ä¸€æ¡æ£€æµ‹é“¾è·¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615125773507.png&#34; alt=&#34;Full-meshæ–¹å¼ç›´è¿&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡ä¸­é—´è®¾å¤‡ç›´è¿å¯ä»¥å®ç°é€šè¿‡ä¸­é—´è®¾å¤‡&lt;strong&gt;ç¼©çŸ­å †å æˆå‘˜äº¤æ¢æœºä¹‹é—´çš„æ£€æµ‹é“¾è·¯é•¿åº¦&lt;/strong&gt;ï¼Œé€‚ç”¨äºæˆå‘˜äº¤æ¢æœºç›¸è·è¾ƒè¿œçš„åœºæ™¯ï¼›&lt;br&gt;
Full-meshæ–¹å¼ç›´è¿å¯ä»¥&lt;strong&gt;é¿å…ç”±ä¸­é—´è®¾å¤‡æ•…éšœå¯¼è‡´çš„MADæ£€æµ‹å¤±è´¥&lt;/strong&gt;ï¼Œä½†æ˜¯æ¯ä¸¤å°æˆå‘˜äº¤æ¢æœºä¹‹é—´éƒ½å»ºç«‹å…¨è¿æ¥ä¼š&lt;strong&gt;å ç”¨è¾ƒå¤šçš„æ¥å£&lt;/strong&gt;ï¼Œæ‰€ä»¥è¯¥æ–¹å¼é€‚ç”¨äº&lt;strong&gt;æˆå‘˜äº¤æ¢æœºæ•°ç›®è¾ƒå°‘&lt;/strong&gt;çš„åœºæ™¯&lt;/p&gt;
&lt;h5 id=&#34;2-ä»£ç†æ£€æµ‹&#34;&gt;2. ä»£ç†æ£€æµ‹&lt;/h5&gt;
&lt;p&gt;ä»£ç†æ£€æµ‹æ–¹å¼æ˜¯&lt;strong&gt;åœ¨å †å ç³»ç»ŸEth-Trunkä¸Šå¯ç”¨ä»£ç†æ£€æµ‹&lt;/strong&gt;ï¼Œåœ¨ä»£ç†è®¾å¤‡ä¸Šå¯ç”¨MADæ£€æµ‹åŠŸèƒ½ã€‚&lt;br&gt;
&lt;strong&gt;æ­¤ç§æ£€æµ‹æ–¹å¼è¦æ±‚å †å ç³»ç»Ÿä¸­çš„æ‰€æœ‰æˆå‘˜äº¤æ¢æœºéƒ½ä¸ä»£ç†è®¾å¤‡è¿æ¥&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¹¶å°†è¿™äº›é“¾è·¯åŠ å…¥åŒä¸€ä¸ªEth-Trunkå†…&lt;/strong&gt;ã€‚&lt;br&gt;
ä¸ç›´è¿æ£€æµ‹æ–¹å¼ç›¸æ¯”ï¼Œä»£ç†æ£€æµ‹æ–¹å¼æ— éœ€å ç”¨é¢å¤–çš„æ¥å£ï¼ŒEth-Trunkæ¥å£å¯åŒæ—¶è¿è¡ŒMADä»£ç†æ£€æµ‹å’Œå…¶ä»–ä¸šåŠ¡ã€‚åœ¨ä»£ç†æ£€æµ‹æ–¹å¼ä¸­ï¼Œå †å ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶ï¼Œå †å æˆå‘˜äº¤æ¢æœº&lt;strong&gt;ä»¥30sä¸ºå‘¨æœŸ&lt;/strong&gt;é€šè¿‡æ£€æµ‹é“¾è·¯å‘é€MADæŠ¥æ–‡ã€‚&lt;br&gt;
å †å æˆå‘˜äº¤æ¢æœºå¯¹åœ¨æ­£å¸¸å·¥ä½œçŠ¶æ€ä¸‹æ”¶åˆ°çš„MADæ–‡ä¸åšä»»ä½•å¤„ç†ï¼›å †å åˆ†è£‚åï¼Œåˆ†è£‚åçš„ä¸¤å°äº¤æ¢æœº&lt;strong&gt;ä»¥1sä¸ºå‘¨æœŸ&lt;/strong&gt;é€šè¿‡æ£€æµ‹é“¾è·¯å‘é€MADæŠ¥æ–‡ä»¥&lt;strong&gt;è¿›è¡Œå¤šä¸»å†²çªå¤„ç†&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;madå†²çªåŠæ•…éšœæ¢å¤åå¦‚ä½•å¤„ç†&#34;&gt;MADå†²çªåŠæ•…éšœæ¢å¤åå¦‚ä½•å¤„ç†&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;MADå†²çªå¤„ç†&lt;br&gt;
å †å åˆ†è£‚åï¼ŒMADå†²çªå¤„ç†æœºåˆ¶ä¼šä½¿åˆ†è£‚åçš„å †å ç³»ç»Ÿå¤„äºDetectçŠ¶æ€æˆ–RecoveryçŠ¶æ€&lt;sub&gt;DetectçŠ¶æ€è¡¨ç¤ºå †å æ­£å¸¸å·¥ä½œçŠ¶æ€ï¼ŒRecoveryçŠ¶æ€è¡¨ç¤ºå †å ç¦ç”¨çŠ¶æ€&lt;/sub&gt;
&lt;ol&gt;
&lt;li&gt;MADåˆ†è£‚æ£€æµ‹æœºåˆ¶ä¼šæ£€æµ‹åˆ°ç½‘ç»œä¸­å­˜åœ¨å¤šä¸ªå¤„äºDetectçŠ¶æ€çš„å †å ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;è¿™äº›å †å ç³»ç»Ÿä¹‹é—´ç›¸äº’ç«äº‰ï¼Œç«äº‰æˆåŠŸçš„å †å ç³»ç»Ÿä¿æŒDetectçŠ¶æ€ï¼Œç«äº‰å¤±è´¥çš„å †å ç³»ç»Ÿä¼šè½¬å…¥RecoveryçŠ¶æ€&lt;/li&gt;
&lt;li&gt;åœ¨ RecoveryçŠ¶æ€å †å ç³»ç»Ÿçš„æ‰€æœ‰æˆå‘˜äº¤æ¢æœºä¸Šï¼Œå…³é—­é™¤ä¿ç•™ç«¯å£ä»¥å¤–çš„å…¶å®ƒæ‰€æœ‰ç‰©ç†ç«¯å£ï¼Œä»¥ä¿è¯è¯¥å †å ç³»ç»Ÿä¸å†è½¬å‘ä¸šåŠ¡æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;MADæ•…éšœæ¢å¤&lt;br&gt;
é€šè¿‡ä¿®å¤æ•…éšœé“¾è·¯ï¼Œåˆ†è£‚åçš„å †å ç³»ç»Ÿé‡æ–°åˆå¹¶ä¸ºä¸€ä¸ªå †å ç³»ç»Ÿã€‚é‡æ–°åˆå¹¶çš„æ–¹å¼æœ‰ä»¥ä¸‹ä¸¤ç§ï¼š
&lt;ol&gt;
&lt;li&gt;å †å é“¾è·¯ä¿®å¤åï¼Œå¤„äºRecoveryçŠ¶æ€çš„å †å ç³»ç»Ÿé‡æ–°å¯åŠ¨ï¼Œä¸DetectçŠ¶æ€çš„å †å ç³»ç»Ÿåˆå¹¶ï¼ŒåŒæ—¶å°†è¢«å…³é—­çš„ä¸šåŠ¡ç«¯å£æ¢å¤Upï¼Œæ•´ä¸ªå †å ç³»ç»Ÿæ¢å¤&lt;/li&gt;
&lt;li&gt;å¦‚æœæ•…éšœé“¾è·¯ä¿®å¤å‰ï¼Œæ‰¿è½½ä¸šåŠ¡çš„DetectçŠ¶æ€çš„å †å ç³»ç»Ÿä¹Ÿå‡ºç°äº†æ•…éšœã€‚æ­¤æ—¶ï¼Œå¯ä»¥å…ˆå°†DetectçŠ¶æ€çš„å †å ç³»ç»Ÿä»ç½‘ç»œä¸­ç§»é™¤ï¼Œå†é€šè¿‡å‘½ä»¤è¡Œå¯ç”¨RecoveryçŠ¶æ€çš„å †å ç³»ç»Ÿï¼Œæ¥æ›¿åŸæ¥çš„ä¸šåŠ¡ï¼Œç„¶åå†ä¿®å¤åŸDetectçŠ¶æ€å †å ç³»ç»Ÿçš„æ•…éšœåŠé“¾è·¯æ•…éšœã€‚æ•…éšœä¿®å¤åï¼Œé‡æ–°åˆå¹¶å †å ç³»ç»Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;dadåŒä¸»æ£€æµ‹&#34;&gt;DADåŒä¸»æ£€æµ‹&lt;/h4&gt;
&lt;p&gt;æ£€æµ‹æ–¹å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;1-ä¸šåŠ¡å£ç›´è¿æ£€æµ‹æ–¹å¼&#34;&gt;1. ä¸šåŠ¡å£ç›´è¿æ£€æµ‹æ–¹å¼&lt;/h5&gt;
&lt;p&gt;å †å æˆå‘˜äº¤æ¢æœºé—´é€šè¿‡ä¸šåŠ¡å£è¿æ¥çš„ä¸“ç”¨é“¾è·¯è¿›è¡ŒåŒä¸»æ£€æµ‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615622908795.png&#34; alt=&#34;ä¸šåŠ¡å£ç›´è¿æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-eth-trunkä»£ç†æ£€æµ‹æ–¹å¼&#34;&gt;2. Eth-trunkä»£ç†æ£€æµ‹æ–¹å¼&lt;/h5&gt;
&lt;p&gt;é€šè¿‡å †å ä¸ä»£ç†è®¾å¤‡ç›¸è¿çš„è·¨è®¾å¤‡Eth-Trunké“¾è·¯è¿›è¡ŒåŒä¸»æ£€æµ‹ï¼Œä»£ç†è®¾å¤‡éœ€è¦å¯åŠ¨DADä»£ç†åŠŸèƒ½&lt;br&gt;
ä¸ä¸šåŠ¡å£ç›´è¿æ£€æµ‹æ–¹å¼ç›¸æ¯”ï¼ŒEth-Trunkå£ä»£ç†æ£€æµ‹æ–¹å¼&lt;strong&gt;æ— éœ€å ç”¨é¢å¤–çš„æ¥å£&lt;/strong&gt;ï¼Œ&lt;strong&gt;Eth-Trunkæ¥å£å¯ä»¥åŒæ—¶è¿è¡ŒDADä»£ç†æ£€æµ‹å’Œå…¶ä»–ä¸šåŠ¡&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615622987419.png&#34; alt=&#34;Eth-trunkä»£ç†æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;3-ç®¡ç†å£æ£€æµ‹æ–¹å¼&#34;&gt;3. ç®¡ç†å£æ£€æµ‹æ–¹å¼&lt;/h5&gt;
&lt;p&gt;é€šè¿‡å †å æˆå‘˜äº¤æ¢æœºçš„ç®¡ç†ç½‘å£é“¾è·¯è¿›è¡ŒåŒä¸»æ£€æµ‹ã€‚å½“æ‰€æœ‰å †å æˆå‘˜äº¤æ¢æœºçš„ç®¡ç†ç½‘å£éƒ½è¿æ¥è‡³ç®¡ç†ç½‘ç»œæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹å¼è¿›è¡ŒåŒä¸»æ£€æµ‹ï¼Œä¸éœ€è¦å ç”¨é¢å¤–çš„æ¥å£ï¼Œä¹Ÿä¸éœ€è¦ä½¿ç”¨ä»£ç†è®¾å¤‡ã€‚&lt;br&gt;
&lt;code&gt;åœ¨ç®¡ç†ç½‘å£æ£€æµ‹æ–¹å¼ä¸­ï¼Œè¦æ±‚å †å ç³»ç»Ÿçš„ç®¡ç†ç½‘å£å¿…é¡»é…ç½®IPåœ°å€&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615623139795.png&#34; alt=&#34;ç®¡ç†å£æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;4-å †å ç«¯å£æ£€æµ‹æ–¹å¼ä»…ce1280012800eæ”¯æŒ&#34;&gt;4. å †å ç«¯å£æ£€æµ‹æ–¹å¼ï¼ˆä»…CE12800&amp;amp;12800Eæ”¯æŒï¼‰&lt;/h5&gt;
&lt;p&gt;é€šè¿‡å †å ç‰©ç†æˆå‘˜ç«¯å£ä¹‹é—´çš„é“¾è·¯è¿›è¡ŒåŒä¸»æ£€æµ‹ï¼Œè¯¥æ–¹å¼ç›´æ¥ä½¿ç”¨å †å è¿æ¥é“¾è·¯è¿›è¡Œæ£€æµ‹ï¼Œä¸éœ€è¦å ç”¨é¢å¤–çš„æ¥å£&lt;br&gt;
&lt;code&gt;åªæœ‰å½“å †å è¿æ¥æ–¹å¼ä¸ºä¸»æ§æ¿ç›´è¿æ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨å †å ç«¯å£æ£€æµ‹æ–¹å¼&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615623217916.png&#34; alt=&#34;å †å ç«¯å£æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;cssé›†ç¾¤&#34;&gt;CSSï¼ˆé›†ç¾¤ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;cssé›†ç¾¤è¿æ¥æ–¹å¼&#34;&gt;CSSé›†ç¾¤è¿æ¥æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é›†ç¾¤å¡é›†ç¾¤æ–¹å¼&lt;br&gt;
é›†ç¾¤æˆå‘˜äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸»æ§æ¿ä¸Šä¸“ç”¨çš„é›†ç¾¤å¡åŠä¸“ç”¨çš„é›†ç¾¤çº¿ç¼†è¿æ¥&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å£é›†ç¾¤æ–¹å¼&lt;br&gt;
é›†ç¾¤æˆå‘˜äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸šåŠ¡æ¿ä¸Šçš„æ™®é€šä¸šåŠ¡å£è¿æ¥ï¼Œä¸éœ€è¦ä¸“ç”¨çš„é›†ç¾¤å¡&lt;br&gt;
åŒiStackï¼Œä¸šåŠ¡å£é›†ç¾¤ä¸€æ ·æ¶‰åŠä¸¤ç§ç«¯å£çš„æ¦‚å¿µï¼šç‰©ç†æˆå‘˜ç«¯å£å’Œé€»è¾‘é›†ç¾¤ç«¯å£&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é›†ç¾¤æˆå‘˜åŠ å…¥ä¸åˆå¹¶-é›†ç¾¤åˆ†è£‚&#34;&gt;é›†ç¾¤æˆå‘˜åŠ å…¥ä¸åˆå¹¶ã€é›†ç¾¤åˆ†è£‚&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä½¿èƒ½äº†é›†ç¾¤åŠŸèƒ½çš„å•å°äº¤æ¢æœºå³ä¸ºå•æ¡†é›†ç¾¤&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;æˆå‘˜åŠ å…¥-2&#34;&gt;æˆå‘˜åŠ å…¥&lt;/h3&gt;
&lt;p&gt;é›†ç¾¤æˆå‘˜åŠ å…¥æ˜¯æŒ‡å‘ç¨³å®šè¿è¡Œçš„å•æ¡†é›†ç¾¤ç³»ç»Ÿä¸­æ·»åŠ ä¸€å°æ–°çš„äº¤æ¢æœºï¼ŒåŸå•æ¡†é›†ç¾¤çš„äº¤æ¢æœºæˆä¸ºä¸»äº¤æ¢æœºï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºæˆä¸ºå¤‡äº¤æ¢æœº&lt;/p&gt;
&lt;h3 id=&#34;æˆå‘˜åˆå¹¶&#34;&gt;æˆå‘˜åˆå¹¶&lt;/h3&gt;
&lt;p&gt;é›†ç¾¤åˆå¹¶æ˜¯æŒ‡ç¨³å®šè¿è¡Œçš„ä¸¤ä¸ªå•æ¡†é›†ç¾¤ç³»ç»Ÿåˆå¹¶æˆä¸€ä¸ªæ–°çš„é›†ç¾¤ç³»ç»Ÿã€‚&lt;br&gt;
ä¸¤ä¸ªå•æ¡†é›†ç¾¤ç³»ç»Ÿå°†&lt;strong&gt;è‡ªåŠ¨é€‰å‡ºä¸€ä¸ªæ›´ä¼˜çš„ä½œä¸ºåˆå¹¶åé›†ç¾¤ç³»ç»Ÿçš„ä¸»äº¤æ¢æœº&lt;/strong&gt;ã€‚è¢«é€‰ä¸ºä¸»äº¤æ¢æœºçš„é…ç½®ä¸å˜ï¼Œä¸šåŠ¡ä¹Ÿä¸ä¼šå—åˆ°å½±å“ï¼Œ&lt;strong&gt;æ¡†å†…çš„å¤‡ç”¨ä¸»æ§æ¿å°†é‡å¯&lt;/strong&gt;ã€‚è€Œ&lt;strong&gt;å¤‡äº¤æ¢æœºå°†æ•´æ¡†é‡å¯&lt;/strong&gt;ï¼Œä»¥é›†ç¾¤å¤‡çš„è§’è‰²åŠ å…¥æ–°çš„é›†ç¾¤ç³»ç»Ÿï¼Œå¹¶å°†åŒæ­¥ä¸»äº¤æ¢æœºçš„é…ç½®ï¼Œè¯¥äº¤æ¢æœºåŸæœ‰çš„ä¸šåŠ¡ä¹Ÿå°†ä¸­æ–­&lt;/p&gt;
&lt;h3 id=&#34;é›†ç¾¤åˆ†è£‚&#34;&gt;é›†ç¾¤åˆ†è£‚&lt;/h3&gt;
&lt;p&gt;ç³»ç»Ÿä¸»ç”¨ä¸»æ§æ¿å’Œç³»ç»Ÿå¤‡ç”¨ä¸»æ§æ¿å®šæ—¶å‘é€å¿ƒè·³æŠ¥æ–‡æ¥ç»´æŠ¤é›†ç¾¤ç³»ç»Ÿçš„çŠ¶æ€ã€‚&lt;br&gt;
å½“ä¸¤å°äº¤æ¢æœºä¹‹é—´çš„&lt;strong&gt;å¿ƒè·³æŠ¥æ–‡è¶…æ—¶&lt;/strong&gt;ï¼ˆè¶…æ—¶æ—¶é—´ä¸º8ç§’ï¼‰æ—¶ï¼Œé›†ç¾¤ç³»ç»Ÿå°†åˆ†è£‚ä¸ºä¸¤ä¸ªå•æ¡†é›†ç¾¤ç³»ç»Ÿã€‚&lt;br&gt;
é›†ç¾¤åˆ†è£‚åï¼Œç”±äºæˆå‘˜äº¤æ¢æœºè¿è¡Œç€ç›¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œå°±ä¼šäº§ç”Ÿä¸¤ä¸ªå…·æœ‰ç›¸åŒIPå’ŒMACçš„é›†ç¾¤ç³»ç»Ÿï¼Œä¸ºé˜²æ­¢ç”±æ­¤å¼•èµ·ç½‘ç»œæ•…éšœï¼Œå¿…é¡»è¿›è¡ŒIPåœ°å€å’ŒMACåœ°å€çš„å†²çªæ£€æŸ¥&lt;br&gt;
&lt;code&gt;é›†ç¾¤çš„å¤šä¸»æ£€æµ‹MADå’Œå †å ç›¸åŒ&lt;/code&gt;&lt;/p&gt;
">å †å </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/mpls/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%AF%E8%AF%AD%E6%A6%82%E5%BF%B5&#34;&gt;æœ¯è¯­æ¦‚å¿µ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%AF%E8%AF%AD&#34;&gt;æœ¯è¯­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E5%BF%B5&#34;&gt;æ¦‚å¿µ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%A0%87%E7%AD%BE%E5%B5%8C%E5%A5%97&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#php%E6%AC%A1%E6%9C%AB%E8%B7%B3%E5%BC%B9%E5%87%BA%E5%80%92%E6%95%B0%E7%AC%AC%E4%BA%8C%E8%B7%B3%E5%BC%B9%E5%87%BA&#34;&gt;PHPæ¬¡æœ«è·³å¼¹å‡ºï¼ˆå€’æ•°ç¬¬äºŒè·³å¼¹å‡ºï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#php%E7%9A%84%E4%BD%9C%E7%94%A8%E5%8F%8A%E6%B2%A1%E6%9C%89php%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%BD%B1%E5%93%8D&#34;&gt;PHPçš„ä½œç”¨åŠæ²¡æœ‰PHPä¼šæœ‰ä»€ä¹ˆå½±å“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%A4%9A%E6%A0%87%E7%AD%BE%E4%BA%A4%E6%8D%A2&#34;&gt;MPLSå¤šæ ‡ç­¾äº¤æ¢&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8mpls&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨MPLS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E7%9A%84%E6%8A%A5%E6%96%87%E5%B0%81%E8%A3%85%E4%BD%8D%E7%BD%AE%E5%8F%8A%E6%A0%BC%E5%BC%8F&#34;&gt;MPLSçš„æŠ¥æ–‡å°è£…ä½ç½®åŠæ ¼å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%A7%E6%A8%A1%E5%BC%8Fmpls&#34;&gt;å¸§æ¨¡å¼MPLS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%A4%B4&#34;&gt;MPLSå¤´&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E4%B8%AD%E7%9A%84%E8%BD%AC%E5%8F%91%E8%A1%A8%E9%A1%B9&#34;&gt;MPLSä¸­çš„è½¬å‘è¡¨é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%95%B0%E6%8D%AE%E5%8C%85%E7%9A%84%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B&#34;&gt;MPLSæ•°æ®åŒ…çš„è½¬å‘è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%80%E5%8D%95%E6%B5%81%E7%A8%8B&#34;&gt;ç®€å•æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&#34;&gt;è¯¦ç»†è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-ldp&#34;&gt;MPLS LDP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E7%9A%84%E6%B6%88%E6%81%AF%E7%B1%BB%E5%9E%8B&#34;&gt;LDPçš„æ¶ˆæ¯ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E6%A0%87%E7%AD%BE%E7%9A%84%E5%8F%91%E5%B8%83%E4%B8%8E%E7%AE%A1%E7%90%86%E6%96%B9%E5%BC%8F&#34;&gt;LDPæ ‡ç­¾çš„å‘å¸ƒä¸ç®¡ç†æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F&#34;&gt;1. æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%A0%87%E7%AD%BE%E5%8F%91%E5%B8%83%E6%96%B9%E5%BC%8F&#34;&gt;2. æ ‡ç­¾å‘å¸ƒæ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%A0%87%E7%AD%BE%E4%BF%9D%E6%8C%81%E6%96%B9%E5%BC%8F&#34;&gt;3. æ ‡ç­¾ä¿æŒæ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E7%9A%84%E8%BF%87%E7%A8%8B&#34;&gt;LDPé‚»å±…å»ºç«‹çš„è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6&#34;&gt;LDPå‘ç°æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8Bldp%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B&#34;&gt;LDPé‚»å±…å»ºç«‹è¿‡ç¨‹ï¼ˆLDPå·¥ä½œè¿‡ç¨‹ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ldp%E4%BC%9A%E8%AF%9D%E7%9A%84%E5%BB%BA%E7%AB%8B%E4%BC%9A%E8%AF%9D%E5%BB%BA%E7%AB%8B%E9%98%B6%E6%AE%B5&#34;&gt;1. LDPä¼šè¯çš„å»ºç«‹ï¼ˆä¼šè¯å»ºç«‹é˜¶æ®µï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-ldp-lsp%E7%9A%84%E5%BB%BA%E7%AB%8B%E9%80%9A%E5%91%8A%E9%98%B6%E6%AE%B5&#34;&gt;2. LDP LSPçš„å»ºç«‹ï¼ˆé€šå‘Šé˜¶æ®µï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn&#34;&gt;MPLS VPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A7%81%E7%BD%91%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D&#34;&gt;ç§ç½‘æ ‡ç­¾åˆ†é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A7%81%E7%BD%91%E8%B7%AF%E7%94%B1%E4%BA%A4%E5%8F%89&#34;&gt;ç§ç½‘è·¯ç”±äº¤å‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%AC%E7%BD%91%E9%9A%A7%E9%81%93%E8%BF%AD%E4%BB%A3%E9%9A%A7%E9%81%93%E8%BF%AD%E4%BB%A3%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%E4%BB%A5%E5%8F%8A%E4%BD%9C%E7%94%A8&#34;&gt;å…¬ç½‘éš§é“è¿­ä»£ï¼ˆéš§é“è¿­ä»£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä»¥åŠä½œç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A7%81%E7%BD%91%E8%B7%AF%E7%94%B1%E7%9A%84%E9%80%89%E6%8B%A9%E8%A7%84%E5%88%99&#34;&gt;ç§ç½‘è·¯ç”±çš„é€‰æ‹©è§„åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%91%E5%B8%83&#34;&gt;è·¯ç”±å‘å¸ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;æŠ¥æ–‡è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85%E6%8F%90%E9%97%AE&#34;&gt;è¡¥å……æé—®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%83%A8%E7%BD%B2pe-ce%E8%B7%AF%E7%94%B1%E7%9A%84%E5%B0%8F%E6%8F%90%E7%A4%BA&#34;&gt;éƒ¨ç½²PE-CEè·¯ç”±çš„å°æç¤º&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E7%BB%84%E7%BD%91&#34;&gt;åŸºæœ¬ç»„ç½‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-intranet-vpn&#34;&gt;1. Intranet VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-extranet-vpn&#34;&gt;2. Extranet VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-hub-and-spoke%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8rt%E5%80%BC%E6%9D%A5%E6%90%AD%E5%BB%BAhub-spork%E7%9A%84%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83&#34;&gt;3. Hub and Spokeï¼ˆå¦‚ä½•ä½¿ç”¨RTå€¼æ¥æ­å»ºHub-Sporkçš„ç½‘ç»œç¯å¢ƒï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rt%E4%B8%8Erd%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;RTä¸RDçš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%98%AFvpnv4%E8%B7%AF%E7%94%B1&#34;&gt;ä»€ä¹ˆæ˜¯VPNv4è·¯ç”±&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E8%A7%81%E7%9A%84%E6%89%A9%E5%B1%95%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7%E6%9C%89%E5%93%AA%E4%BA%9B&#34;&gt;å¸¸è§çš„æ‰©å±•å›¢ä½“å±æ€§æœ‰å“ªäº›&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#soo&#34;&gt;SoO&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E&#34;&gt;ä¸¾ä¾‹è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4policy-vpn-target%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;å‘½ä»¤policy-vpn-targetçš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8C%E6%A0%87%E7%AD%BE%E7%9A%84%E4%BD%9C%E7%94%A8%E7%94%B1%E5%93%AA%E7%A7%8D%E5%8D%8F%E8%AE%AE%E5%88%86%E9%85%8D&#34;&gt;åŒæ ‡ç­¾çš„ä½œç”¨ï¼Œç”±å“ªç§åè®®åˆ†é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%9F%9F%E5%86%85%E6%B1%87%E6%80%BB%E4%BC%9A%E4%BA%A7%E7%94%9F%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98&#34;&gt;MPLSåŸŸå†…æ±‡æ€»ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%92%88%E5%AF%B9%E5%86%85%E9%83%A8%E8%B7%AF%E7%94%B1%E8%BF%9B%E8%A1%8C%E6%B1%87%E6%80%BBlsp%E4%B8%AD%E6%96%AD&#34;&gt;1. é’ˆå¯¹å†…éƒ¨è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼ˆLSPä¸­æ–­ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%92%88%E5%AF%B9%E6%89%80%E6%9C%89%E8%B7%AF%E7%94%B1%E8%BF%9B%E8%A1%8C%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8Dlsp%E4%B8%8D%E8%BF%9E%E7%BB%AD&#34;&gt;2. é’ˆå¯¹æ‰€æœ‰è·¯ç”±è¿›è¡Œæ ‡ç­¾åˆ†é…ï¼ˆLSPä¸è¿ç»­ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%92%88%E5%AF%B9bgp%E8%B7%AF%E7%94%B1%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E&#34;&gt;3. é’ˆå¯¹BGPè·¯ç”±ï¼ˆè·¯ç”±é»‘æ´ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E9%92%88%E5%AF%B9%E7%A7%81%E7%BD%91%E8%B7%AF%E7%94%B1%E6%B1%87%E6%80%BB&#34;&gt;4. é’ˆå¯¹ç§ç½‘è·¯ç”±æ±‡æ€»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn%E4%B8%AD%E7%9A%84%E9%98%B2%E7%8E%AF%E6%8A%80%E6%9C%AF&#34;&gt;MPLS VPNä¸­çš„é˜²ç¯æŠ€æœ¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E5%B1%9E%E6%80%A7%E5%80%BC%E4%B8%BA16%E7%9A%84%E6%89%A9%E5%B1%95%E5%B1%9E%E6%80%A7%E4%BC%9A%E6%90%BA%E5%B8%A6%E4%BA%9B%E4%BB%80%E4%B9%88%E4%B8%9C%E8%A5%BF%E5%8D%B3bgp%E7%9A%84%E6%89%A9%E5%B1%95%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7%E4%BC%9A%E6%90%BA%E5%B8%A6%E4%BB%80%E4%B9%88&#34;&gt;BGPå±æ€§å€¼ä¸º16çš„æ‰©å±•å±æ€§ä¼šæºå¸¦äº›ä»€ä¹ˆä¸œè¥¿ï¼ˆå³BGPçš„æ‰©å±•å›¢ä½“å±æ€§ä¼šæºå¸¦ä»€ä¹ˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ce%E5%8F%8C%E5%BD%92%E5%B1%9E%E6%97%B6%E4%B8%8Epe%E9%97%B4%E5%AE%9E%E4%BE%8B%E8%BF%90%E8%A1%8Cisis%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98&#34;&gt;CEåŒå½’å±æ—¶ä¸PEé—´å®ä¾‹è¿è¡ŒISISä¼šæœ‰ä»€ä¹ˆé—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E4%B8%ADlsp%E7%9A%84%E5%A4%87%E4%BB%BD%E6%96%B9%E5%BC%8F&#34;&gt;MPLSä¸­LSPçš„å¤‡ä»½æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ip%E7%9A%84frr&#34;&gt;1. IPçš„FRR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-ldp%E7%9A%84frr&#34;&gt;2. LDPçš„FRR&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%A8%E5%9F%9Fvpn&#34;&gt;è·¨åŸŸVPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#optiona&#34;&gt;OptionA&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;2. æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%89%B9%E7%82%B9&#34;&gt;3. ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#optionb&#34;&gt;OptionB&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92-2&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91-2&#34;&gt;2. æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%89%B9%E7%82%B9-2&#34;&gt;3. ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#optionc&#34;&gt;OptionC&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%A1%88%E4%B8%80&#34;&gt;æ–¹æ¡ˆä¸€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92-3&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91-3&#34;&gt;2. æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%89%B9%E7%82%B9optionc%E6%96%B9%E6%A1%88%E7%9A%84%E7%89%B9%E7%82%B9&#34;&gt;3. ç‰¹ç‚¹ï¼ˆOptionCæ–¹æ¡ˆçš„ç‰¹ç‚¹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%A1%88%E4%BA%8C&#34;&gt;æ–¹æ¡ˆäºŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92-4&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91%E5%92%8C%E6%96%B9%E6%A1%88%E4%B8%80%E7%9B%B8%E5%90%8C&#34;&gt;2. æ•°æ®è½¬å‘ï¼ˆå’Œæ–¹æ¡ˆä¸€ç›¸åŒï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;æœ¯è¯­æ¦‚å¿µ&#34;&gt;æœ¯è¯­æ¦‚å¿µ&lt;/h1&gt;
&lt;h2 id=&#34;æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è®¾å¤‡
&lt;ol&gt;
&lt;li&gt;CEï¼šå®¢æˆ·è¾¹ç•Œè®¾å¤‡&lt;/li&gt;
&lt;li&gt;PEï¼šè¿è¥å•†è¾¹ç•Œè®¾å¤‡&lt;/li&gt;
&lt;li&gt;Pï¼šè¿è¥å•†å†…éƒ¨çš„è®¾å¤‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨
&lt;ol&gt;
&lt;li&gt;LSRï¼šæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;LERï¼šæ ‡ç­¾è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆPEï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨è§’è‰²
&lt;ol&gt;
&lt;li&gt;Ingressï¼šç¬¬ä¸€ä¸ªå‹å…¥æ ‡ç­¾çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;Transitï¼šåªè´Ÿè´£ä¼ è¾“æ ‡ç­¾ï¼Œæ ‡ç­¾äº¤æ¢&lt;/li&gt;
&lt;li&gt;Egressï¼šæ ‡ç­¾å¼¹å‡ºçš„è·¯ç”±å™¨ï¼ˆä¸è€ƒè™‘PHPï¼Œå³Egress PEå‘å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹åˆ†é…éšå¼ç©ºæ ‡ç­¾ï¼Œå€¼ä¸º3ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åŠ¨ä½œ
&lt;ol&gt;
&lt;li&gt;pushï¼šæ ‡ç­¾å‹å…¥&lt;/li&gt;
&lt;li&gt;swapï¼šæ ‡ç­¾äº¤æ¢&lt;/li&gt;
&lt;li&gt;popï¼šæ ‡ç­¾å¼¹å‡º&lt;/li&gt;
&lt;li&gt;UNTAG/No label(æ²¡æœ‰æ ‡ç­¾)å‡ºç°é—®é¢˜ï¼Œåœ¨MPLS VPNçš„ç¯å¢ƒä¸­åªèƒ½ä¸¢å¼ƒæŠ¥æ–‡&lt;code&gt;å…³äºæ ‡ç­¾æ–­è£‚ï¼šæ‰€æœ‰çš„ç¯å›å£é…ç½®32ä½ä¸»æœºè·¯ç”±ï¼Œæ ¸å¿ƒç½‘ä¸è®¸èšåˆ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Aggregateï¼ˆèšåˆï¼‰ï¼ŒæŠŠæŠ¥æ–‡æ‹¿æ‰MPLSä¹‹åè½¬å‘ç»™ä¸€ä¸ªvpn-instanceæ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“
&lt;ol&gt;
&lt;li&gt;RIBï¼šè·¯ç”±ä¿¡æ¯è¡¨&lt;code&gt;æ§åˆ¶å±‚é¢ï¼Œé€šè¿‡è·¯ç”±åè®®ç”Ÿæˆï¼Œç”¨äºé€‰æ‹©è·¯ç”±ï¼Œå­˜å‚¨è·¯ç”±æ¡ç›®ä¿¡æ¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;LIBï¼šæ ‡ç­¾ä¿¡æ¯è¡¨ï¼Œç”±æ ‡ç­¾åè®®æ ¹æ®è·¯ç”±äº§ç”Ÿçš„&lt;strong&gt;æ ‡ç­¾å’Œè·¯ç”±çš„å¯¹åº”å…³ç³»&lt;/strong&gt;&lt;code&gt;æ§åˆ¶å±‚é¢ï¼Œé€šè¿‡LDPç”Ÿæˆï¼Œç”¨äºç®¡ç†æ ‡ç­¾ä¿¡æ¯ï¼Œå­˜å‚¨çš„æ˜¯è·¯ç”±å™¨é‚»å±…å‘ç»™ä»–çš„æ ‡ç­¾ã€ä»¥åŠè‡ªèº«å¯¹åˆ†é…ç»™æŸä¸ªç›®çš„IPç½‘ç»œçš„æ ‡ç­¾ï¼Œç”¨äºç®¡ç†æ ‡ç­¾ä¿¡æ¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;FIBï¼šè½¬å‘ä¿¡æ¯è¡¨ï¼Œæ¥è‡ªè·¯ç”±è¡¨æ‹·è´&lt;code&gt;è½¬å‘å±‚é¢ï¼Œé€šè¿‡è·¯ç”±åè®®ç”Ÿæˆï¼Œå­˜å‚¨è·¯ç”±æ¡ç›®ä¸å‡ºæ¥å£çš„å¯¹åº”å…³ç³»&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;LFIBï¼šæ ‡ç­¾è½¬å‘ä¿¡æ¯è¡¨ï¼Œ&lt;strong&gt;æŠŠFIBå’ŒLIBä¸¤è€…ç»“åˆåœ¨ä¸€èµ·&lt;/strong&gt;&lt;code&gt;é€šè¿‡LDPç”Ÿæˆï¼Œè´Ÿè´£å¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘ï¼ŒLIBåªä¿å­˜æœ‰æ ‡ç­¾ä¿¡æ¯ï¼Œå¹¶æ²¡æœ‰å‡ºæ¥å£å’Œä¸‹ä¸€è·³ä¿¡æ¯ï¼Œä½†LFIBæœ‰ä¸‹ä¸€è·³å’Œå‡ºæ¥å£ä¿¡æ¯&lt;/code&gt;&lt;br&gt;
&lt;code&gt;LFIBä¸­åŒ…å«ä¸¤å¼ è¡¨ï¼ŒILMå’ŒNHLFEã€‚æ•°æ®è¿›å…¥è·¯ç”±å™¨æŸ¥è¯¢ILMï¼Œæ•°æ®å‡ºè·¯ç”±å™¨æŸ¥è¯¢çš„æ˜¯NHLFEã€‚è¿™äº›è¡¨éƒ½æ˜¯é€šè¿‡Tunnel IDæ¥ç›¸äº’å…³è”çš„&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;NHLFEï¼š&lt;strong&gt;ä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨&lt;/strong&gt;ï¼Œç”¨äºæŒ‡å¯¼MPLSæŠ¥æ–‡çš„è½¬å‘ï¼ŒåŒ…æ‹¬Tunnel IDã€å‡ºæ¥å£ã€ä¸‹ä¸€è·³ã€å‡ºæ ‡ç­¾ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚FECåˆ°ä¸€ç»„NHLFEçš„æ˜ å°„ç§°ä¸ºFTNï¼ˆFEC-to-NHLFEï¼‰ï¼Œé€šè¿‡æŸ¥çœ‹FIBè¡¨ä¸­Tunnel IDå€¼ä¸ä¸º0x0çš„è¡¨é¡¹ï¼Œèƒ½å¤Ÿè·å¾—FTNçš„è¯¦ç»†ä¿¡æ¯ï¼ŒFTNåªåœ¨Ingresså­˜åœ¨&lt;/li&gt;
&lt;li&gt;ILMï¼š&lt;strong&gt;å…¥æ ‡ç­¾æ˜ å°„è¡¨&lt;/strong&gt;ï¼Œå…¥æ ‡ç­¾åˆ°ä¸€ç»„ä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨é¡¹çš„æ˜ å°„ï¼ŒILMåŒ…æ‹¬Tunnel IDã€å…¥æ ‡ç­¾ã€å…¥æ¥å£ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚ILMåœ¨TransitèŠ‚ç‚¹çš„ä½œç”¨æ˜¯å°†æ ‡ç­¾å’ŒNHLFEç»‘å®šã€‚é€šè¿‡æ ‡ç­¾ç´¢å¼•ILMè¡¨ï¼Œå°±ç›¸å½“äºä½¿ç”¨ç›®çš„IPåœ°å€æŸ¥è¯¢FIBï¼Œèƒ½å¤Ÿå¾—åˆ°æ‰€æœ‰çš„æ ‡ç­¾è½¬å‘ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Tunnel IDï¼š&lt;code&gt;è¿™ä¸æ˜¯æ•°æ®åº“ï¼Œæ˜¯æ•°æ®åº“ä¹‹é—´çš„å…³è”é”®å€¼&lt;/code&gt;ä¸ºäº†ç»™ä½¿ç”¨éš§é“çš„ä¸Šå±‚åº”ç”¨ï¼ˆå¦‚VPNã€è·¯ç”±ç®¡ç†ï¼‰æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œç³»ç»Ÿè‡ªåŠ¨ä¸ºéš§é“åˆ†é…äº†ä¸€ä¸ªIDï¼Œä¹Ÿç§°ä¸ºTunnel IDã€‚è¯¥Tunnel IDçš„é•¿åº¦ä¸º32æ¯”ç‰¹ï¼Œåªæ˜¯æœ¬åœ°æœ‰æ•ˆ&lt;code&gt;åœ¨MPLSè½¬å‘è¿‡ç¨‹ä¸­ï¼ŒFIBã€ILMå’ŒNHLFEæ˜¯é€šè¿‡Tunnel IDå…³è”çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;CPEï¼šè¿è¥å•†ä¸‰å·¨å¤´ä¸­ä¸¤ä¸ªäº’è”ï¼Œä¸ºåŒä¸€ä¸ªå®¢æˆ·æœåŠ¡&lt;/li&gt;
&lt;li&gt;MCEï¼šMCEåŠŸèƒ½æ˜¯Multi-CEçš„ç®€ç§°ï¼Œå…·æœ‰MCEåŠŸèƒ½çš„äº¤æ¢æœºå¯ä»¥åœ¨BGP/MPLS VPNç»„ç½‘åº”ç”¨ä¸­æ‰¿æ‹…å¤šä¸ªVPNå®ä¾‹çš„CEåŠŸèƒ½ï¼Œå‡å°‘ç”¨æˆ·ç½‘ç»œè®¾å¤‡çš„æŠ•å…¥&lt;/li&gt;
&lt;li&gt;vpn instanceï¼š&lt;strong&gt;åœ¨PEè®¾å¤‡ä¸Šèµ·åˆ°éš”ç¦»ä½œç”¨&lt;/strong&gt;ï¼Œæ¯ä¸€ä¸ªvpnå®ä¾‹æä¾›ä¸€ä¸ªç‹¬ç«‹çš„è·¯ç”±è¡¨ï¼ŒåŒæ—¶ç”šè‡³èƒ½å¤Ÿæä¾›ç‹¬ç«‹çš„è·¯ç”±åè®®è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;LSPï¼šæ ‡ç­¾äº¤æ¢é€šé“ï¼Œ&lt;strong&gt;LSPæ˜¯å•å‘é€šé“ï¼Œä¸æ•°æ®æµçš„æ–¹å‘ä¸€è‡´ï¼Œç”¨æ¥äº¤æ¢Label/FECæ˜ å°„ä¿¡æ¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;LDPï¼šæ ‡ç­¾åˆ†å‘åè®®ï¼Œç›¸å½“äºä¼ ç»Ÿç½‘ç»œä¸­çš„ä¿¡ä»¤åè®®ï¼Œè´Ÿè´£&lt;strong&gt;è½¬å‘ç­‰ä»·ç±»FECçš„åˆ†ç±»ã€æ ‡ç­¾çš„åˆ†é…ä»¥åŠæ ‡ç­¾äº¤æ¢è·¯å¾„LSPçš„å»ºç«‹å’Œç»´æŠ¤&lt;/strong&gt;ç­‰æ“ä½œ&lt;/li&gt;
&lt;li&gt;FECï¼šè½¬å‘ç­‰ä»·ç±»ã€‚MPLSå°†&lt;strong&gt;å…·æœ‰ç›¸åŒç‰¹å¾çš„æŠ¥æ–‡&lt;/strong&gt;å½’ä¸ºä¸€ç±»ï¼Œç§°ä¸ºè½¬å‘ç­‰ä»·ç±»FECï¼Œå±äºç›¸åŒFECçš„æŠ¥æ–‡åœ¨è½¬å‘è¿‡ç¨‹ä¸­è¢«LSRä»¥ç›¸åŒæ–¹å¼å¤„ç†ã€‚FECå¯ä»¥æ ¹æ®&lt;strong&gt;æºåœ°å€ã€ç›®çš„åœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€VPNã€éš§é“ã€QoSç­‰è¦ç´ &lt;/strong&gt;è¿›è¡Œåˆ’åˆ†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿçš„é‡‡ç”¨æœ€é•¿åŒ¹é…ç®—æ³•çš„IPè½¬å‘ä¸­ï¼Œåˆ°åŒä¸€æ¡è·¯ç”±çš„æ‰€æœ‰æŠ¥æ–‡å°±æ˜¯ä¸€ä¸ªè½¬å‘ç­‰ä»·ç±»
&lt;ul&gt;
&lt;li&gt;ä¸€ç»„æˆ–è€…ä¸€ç³»åˆ—æ²¿ç€ç›¸åŒè·¯å¾„è½¬å‘çš„ï¼Œä¸”éƒ½æŒ‰ç…§ç›¸åŒçš„è§„åˆ™æ‰§è¡Œçš„æ•°æ®æµ&lt;/li&gt;
&lt;li&gt;ç›¸åŒçš„è½¬å‘æ–¹å¼ã€ç›¸åŒçš„è½¬å‘è·¯å¾„LSPã€ç›¸åŒçš„è½¬å‘å¾…é‡&lt;/li&gt;
&lt;li&gt;åŒå±ä¸€ä¸ªFECçš„æŠ¥æ–‡æ‹¥æœ‰ç›¸åŒçš„æ ‡ç­¾ï¼Œ&lt;strong&gt;æ‹¥æœ‰ç›¸åŒæ ‡ç­¾çš„æŠ¥æ–‡ä¸ä¸€å®šåŒå±ä¸€ä¸ªFEC&lt;/strong&gt;ï¼Œç”±å…¥ç«™LSRå†³å®šæŠ¥æ–‡å±äºå“ªä¸€ä¸ªFEC&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§ç±»&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å±äºæŸç‰¹å®šç»„çš„ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç›®çš„IPåœ°å€åŒ¹é…äº†æŸä¸€ä¸ªç‰¹å®šå‰ç¼€çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ ¹æ®DCSPå­—æ®µï¼Œæœ‰ç›¸åŒçš„QoSç­–ç•¥çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;MPLS VPNä¸­ï¼Œå±äºåŒä¸€ä¸ªVPNçš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡çš„ç›®çš„IPåœ°å€æ•°æ®BGPå­¦ä¹ åˆ°çš„è·¯ç”±ï¼Œå¹¶ä¸”è¯¥è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LDPé‚»æ¥ä½“ï¼šå½“ä¸€å°LSRæ¥æ”¶åˆ°&lt;strong&gt;å¯¹ç«¯å‘é€è¿‡æ¥çš„Helloæ¶ˆæ¯&lt;/strong&gt;åLDPé‚»æ¥ä½“å»ºç«‹
&lt;ol&gt;
&lt;li&gt;æœ¬åœ°é‚»æ¥ä½“ï¼šä»¥&lt;strong&gt;ç»„æ’­&lt;/strong&gt;å½¢å¼å‘é€Helloæ¶ˆæ¯ï¼ˆå³é“¾è·¯helloæ¶ˆæ¯ï¼‰å‘ç°çš„é‚»æ¥ä½“&lt;code&gt;åŸºæœ¬å‘ç°æœºåˆ¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿œç«¯é‚»æ¥ä½“ï¼šä»¥&lt;strong&gt;å•æ’­&lt;/strong&gt;å½¢å¼å‘é€Helloæ¶ˆæ¯ï¼ˆå³ç›®æ ‡Helloæ¶ˆæ¯ï¼‰å‘ç°çš„é‚»æ¥ä½“&lt;code&gt;æ‰©å±•å‘ç°æœºåˆ¶&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;LDPå¯¹ç­‰ä½“ï¼šæŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨LDPä¼šè¯ã€ä½¿ç”¨LDPæ¥äº¤æ¢æ ‡ç­¾æ¶ˆæ¯çš„ä¸¤ä¸ªLSR&lt;code&gt;LDPé€šè¿‡é‚»æ¥ä½“æ¥ç»´æŠ¤å¯¹ç­‰ä½“çš„å­˜åœ¨ï¼Œå¯¹ç­‰ä½“çš„ç±»å‹å–å†³äºç»´æŠ¤å®ƒçš„é‚»æ¥ä½“çš„ç±»å‹ã€‚ä¸€ä¸ªå¯¹ç­‰ä½“å¯ä»¥ç”±å¤šä¸ªé‚»æ¥ä½“æ¥ç»´æŠ¤ï¼Œå¦‚æœç”±æœ¬åœ°é‚»æ¥ä½“å’Œè¿œç«¯é‚»æ¥ä½“ä¸¤è€…æ¥ç»´æŠ¤ï¼Œåˆ™å¯¹ç­‰ä½“ç±»å‹ä¸ºæœ¬è¿œå…±å­˜å¯¹ç­‰ä½“&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;LDPä¼šè¯ï¼šç”¨äºLSRä¹‹é—´äº¤æ¢æ ‡ç­¾æ˜ å°„ã€é‡Šæ”¾ç­‰æ¶ˆæ¯ã€‚&lt;strong&gt;åªæœ‰å­˜åœ¨å¯¹ç­‰ä½“æ‰èƒ½å»ºç«‹LDPä¼šè¯&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;æœ¬åœ°LDPä¼šè¯ï¼šå»ºç«‹ä¼šè¯çš„ä¸¤ä¸ªLSRä¹‹é—´æ˜¯ç›´è¿çš„&lt;/li&gt;
&lt;li&gt;è¿œç«¯LDPä¼šè¯ï¼šå»ºç«‹ä¼šè¯çš„ä¸¤ä¸ªLSRä¹‹é—´å¯ä»¥æ˜¯ç›´è¿çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯éç›´è¿çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;mplsæ ‡ç­¾åµŒå¥—&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å†…å±‚æ ‡ç­¾ï¼ˆæ ˆåº•æ ‡ç­¾ï¼‰&lt;/strong&gt;ï¼šé è¿‘ç”¨æˆ·æ•°æ®ï¼Œ&lt;strong&gt;MP-BGPåˆ†é…&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;å¤–å±‚æ ‡ç­¾&lt;/strong&gt;ï¼šé è¿‘äºŒå±‚å¤´ï¼Œ&lt;strong&gt;LDPåˆ†é…&lt;/strong&gt;ï¼Œä½œä¸ºMP-BGPè·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€&lt;br&gt;
&lt;code&gt;ä¸€èˆ¬æƒ…å†µä¸º2å±‚ï¼Œè·¨åŸŸçš„ä¸€èˆ¬3å±‚æ ‡ç­¾ï¼ŒCSCæ¶æ„ä¸€èˆ¬4å±‚æ ‡ç­¾&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597620314374.png&#34; alt=&#34;MPLSæ ‡ç­¾åµŒå¥—&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PIDæ ‡è¯†äºŒå±‚å¤´éƒ¨åé¢çš„æŠ¥æ–‡ç±»å‹
&lt;ul&gt;
&lt;li&gt;Ethernet
&lt;ul&gt;
&lt;li&gt;0x0800 IPv4&lt;/li&gt;
&lt;li&gt;0x8847 MPLSå•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8848 MPLSå¤šæ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PPP
&lt;ul&gt;
&lt;li&gt;0x8021 IPv4&lt;/li&gt;
&lt;li&gt;0x8281 MPLSå•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8283 MPLSå¤šæ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Sæ ‡è¯†æ˜¯å¦æ˜¯æ ˆåº•æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åµŒå¥—åº”ç”¨
&lt;ul&gt;
&lt;li&gt;MPLS VPN&lt;/li&gt;
&lt;li&gt;MPLS TE&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;phpæ¬¡æœ«è·³å¼¹å‡ºå€’æ•°ç¬¬äºŒè·³å¼¹å‡º&#34;&gt;PHPæ¬¡æœ«è·³å¼¹å‡ºï¼ˆå€’æ•°ç¬¬äºŒè·³å¼¹å‡ºï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨LSPçš„æœ€åä¸€è·³èŠ‚ç‚¹ï¼Œå·²ä¸å†éœ€è¦åœ¨è¿›è¡Œæ ‡ç­¾äº¤æ¢ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é…ç½®å€’æ•°ç¬¬äºŒè·³å¼¹å‡ºç‰¹æ€§PHPï¼Œåœ¨å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹å¤„å°†æ ‡ç­¾å¼¹å‡ºï¼Œæœ€åä¸€è·³èŠ‚ç‚¹ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–è€…ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘ï¼Œå‡å°‘æœ€åä¸€è·³æ ‡ç­¾äº¤æ¢è´Ÿæ‹…ã€‚&lt;br&gt;
&lt;strong&gt;Egress PEå‘å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹åˆ†é…éšå¼ç©ºæ ‡ç­¾ï¼Œå€¼ä¸º3&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨æ¬¡æœ«è·³äº¤æ¢ä¸ºéšå¼ç©ºæ ‡ç­¾&lt;sub&gt;é»˜è®¤æ˜¯éšå¼ç©ºæ ‡ç­¾ï¼Œå¦‚æœè®¾è®¡æµé‡å·¥ç¨‹åˆ™éœ€è¦ä½¿ç”¨æ˜¾ç¤ºç©ºæ ‡ç­¾&lt;/sub&gt;ï¼Œæ„å‘³ç€åº”å½“å¼¹æ‰è¿™å±‚æ ‡ç­¾ï¼Œå¦‚æœåªæœ‰ä¸€å±‚æ ‡ç­¾ï¼Œåˆ™å˜æˆIPæŠ¥æ–‡äº†ï¼ŒåŒæ—¶è¯·æ³¨æ„ï¼Œè¯¥è½¬å‘å†³ç­–ç”±LFIBå†³å®šï¼Œè½¬å‘å‡ºæ¥å£ã€äºŒå±‚é‡å†™ä¿¡æ¯å·²ç»å°±ç»ªã€‚&lt;/p&gt;
&lt;h4 id=&#34;phpçš„ä½œç”¨åŠæ²¡æœ‰phpä¼šæœ‰ä»€ä¹ˆå½±å“&#34;&gt;PHPçš„ä½œç”¨åŠæ²¡æœ‰PHPä¼šæœ‰ä»€ä¹ˆå½±å“&lt;/h4&gt;
&lt;p&gt;æ¬¡æœ«è·³å¼¹å‡ºæœºåˆ¶ä¸­çš„ä¸¤ç§æ ‡ç­¾ç±»å‹ï¼šéšå¼ç©ºæ ‡ç­¾ï¼ˆé»˜è®¤ï¼‰å’Œæ˜¾å¼ç©ºæ ‡ç­¾&lt;br&gt;
å§‹å‘è·¯ç”±å™¨ç»™ä¸Šæ¸¸åˆ†é…ä¸€ä¸ª3å·æ ‡ç­¾ï¼Œä½¿æ ‡ç­¾åœ¨å€’æ•°ç¬¬äºŒè·³è¢«å¼¹å‡ºï¼Œæœ€åä¸€è·³èŠ‚ç‚¹ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–è€…ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘ï¼Œå‡å°‘æœ€åä¸€è·³æ ‡ç­¾äº¤æ¢è´Ÿæ‹…&lt;br&gt;
å¦‚æœæ²¡æœ‰PHPéœ€è¦å…ˆæŸ¥LFIBï¼Œå°†æ ‡ç­¾å¼¹å‡ºï¼Œç„¶åå†æŸ¥FIBè¡¨ï¼Œå°†æ•°æ®è½¬å‘å‡ºå»ï¼›å¦‚æœä½¿ç”¨PHPï¼Œåˆ™å‡å°‘ä¸€æ¬¡æŸ¥è¡¨æ¬¡æ•°ï¼ŒPHPååªæŸ¥FIBï¼Œ&lt;strong&gt;ä¸éœ€è¦å†æŸ¥LFIB&lt;/strong&gt;ï¼ŒèŠ‚çœå¼€é”€&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ‰éšå¼ç©ºæ ‡ç­¾3äº†ï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦æ˜¾ç¤ºç©ºæ ‡ç­¾0å‘¢ï¼Ÿ&lt;/strong&gt;&lt;br&gt;
IPæ•°æ®åŒ…ä¸­æœ‰ä¸€ä¸ªå­—æ®µæ˜¯æœåŠ¡ç±»å‹ï¼Œä¸»è¦ç”¨äºæµé‡å·¥ç¨‹QoSï¼Œå¦‚æœåœ¨MPLSç¯å¢ƒä¸­ï¼Œä½¿ç”¨é»˜è®¤çš„PHPæœºåˆ¶ï¼Œå°†æ— æ³•éƒ¨ç½²QoSï¼Œå› ä¸ºéšå¼ç©ºæ ‡ç­¾ä¸­å°†ä¸ä¼šæ˜¾ç¤ºæœåŠ¡ç±»å‹è¿™ä¸€é¡¹ï¼ˆéœ€ä½¿ç”¨æ ‡ç­¾åŒ…ä¸­çš„EXPå­—æ®µï¼‰ï¼Œå½“Aæ”¶åˆ°Bå‘ç»™å®ƒçš„æ ‡ç­¾å€¼ä¸º3æ—¶ï¼Œé‚£ä¹ˆAæ”¶åˆ°è½¬å‘ç»™Bçš„æ•°æ®æ—¶ï¼Œå°†ç›´æ¥æ‰§è¡Œå¼¹å‡ºåŠ¨ä½œã€‚&lt;br&gt;
ä½†æ˜¯æ˜¾ç¤ºç©ºæ ‡ç­¾ä¸åŒï¼Œå…¶åœ¨LDPä¸­çš„æ ‡ç­¾å€¼ä¸º0ï¼ŒAé’ˆå¯¹æœ¬åœ°äº§ç”Ÿçš„è·¯ç”±æ¡ç›®å‘é€ç»™LDPé‚»å±…æ—¶ä¼šæºå¸¦è¿™ä¸€å€¼ï¼Œå³Aè½¬å‘ç»™Bæ•°æ®æ—¶æ˜¯å°†æ ‡ç­¾äº¤æ¢ä¸º0ï¼Œè€Œä¸æ˜¯ç›´æ¥å¼¹å‡ºã€‚&lt;br&gt;
å³å¦‚æœæƒ³è¦éƒ¨ç½²MPLS-TEï¼ˆæµé‡å·¥ç¨‹ï¼‰ï¼Œåˆ™å¿…é¡»ä½¿ç”¨æ˜¾ç¤ºç©ºæ ‡ç­¾çš„PHP&lt;br&gt;
&lt;strong&gt;å¦‚æœæ”¶åˆ°ä¸€ä¸ªæ ‡ç­¾åŒ…ï¼Œæ ‡ç­¾ä¸º0ï¼Œåˆ™ç›´æ¥å¼¹å‡ºæ ‡ç­¾&lt;/strong&gt;ï¼Œå¹¶å°†æ•°æ®äº¤ç»™FIBè¿›è¡ŒæŸ¥æ‰¾ï¼Œä¸éœ€è¦æŸ¥æ‰¾LFIBï¼Œå³ä¸ä¼šæœ‰ä¸¤æ¬¡æŸ¥æ‰¾çš„æŸè€—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;mplså¤šæ ‡ç­¾äº¤æ¢&#34;&gt;MPLSå¤šæ ‡ç­¾äº¤æ¢&lt;/h1&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨mpls&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨MPLS&lt;/h2&gt;
&lt;p&gt;ç”±äºè·¯ç”±å™¨çš„è½¬å‘æ•ˆç‡è¾ƒæ…¢ï¼Œå¼€å‘MPLSä¸»è¦æ˜¯ä¸ºäº†åŠ å¿«æ•°æ®çš„è½¬å‘ã€‚MPLSå°è£…åœ¨äºŒå±‚ä¸ä¸‰å±‚ä¹‹é—´ï¼Œåœ¨&lt;br&gt;
è·¯å¾„è½¬å‘æ—¶ï¼Œä¸éœ€è¦æŸ¥ä¸‰å±‚çš„IPï¼Œåªéœ€è¦æŸ¥æ‰¾åˆ°2.5å±‚&lt;sub&gt;è§£å†³äº†æ¯ä¸ªæ•°æ®åŒ…éƒ½è¦è¿›è¡Œå¤´éƒ¨åˆ†ææˆ–è€…è¿ç®—çš„é—®é¢˜ï¼Œä¸å†å¯¹IPæŠ¥æ–‡åšåˆ†æ&lt;/sub&gt;ï¼Œæ‰€ä»¥å¯ä»¥æé«˜äº†è½¬å‘æ•ˆç‡ï¼Œ&lt;code&gt;ä½†åŒæ—¶å®ƒå°†æ¶ˆè€—æ›´å¤šå¸¦å®½èµ„æº&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;mplsçš„æŠ¥æ–‡å°è£…ä½ç½®åŠæ ¼å¼&#34;&gt;MPLSçš„æŠ¥æ–‡å°è£…ä½ç½®åŠæ ¼å¼&lt;/h2&gt;
&lt;h3 id=&#34;å¸§æ¨¡å¼mpls&#34;&gt;å¸§æ¨¡å¼MPLS&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597565321121.png&#34; alt=&#34;å¸§æ¨¡å¼MPLS&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MPLS&lt;strong&gt;å¸§æ¨¡å¼&lt;/strong&gt;å°è£…åœ¨2ã€3å±‚ä¹‹é—´ï¼Œ&lt;strong&gt;ä¿¡å…ƒæ¨¡å¼çš„MPLSå·²ç»æ·˜æ±°&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;mplså¤´&#34;&gt;MPLSå¤´&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;MPLSå¤´éƒ¨æ€»é•¿åº¦ä¸º4bytes (32bits)&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597565565322.png&#34; alt=&#34;MPLSå¤´&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Labelï¼šæ ‡ç­¾
&lt;ol&gt;
&lt;li&gt;0ï½15ï¼šç‰¹æ®Šæ ‡ç­¾
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;0&lt;/strong&gt;ï¼šIPv4æ˜¾ç¤ºç©ºæ ‡ç­¾ï¼Œ&lt;strong&gt;è¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡º&lt;/strong&gt;ï¼Œä¸”æŠ¥æ–‡çš„&lt;strong&gt;è½¬å‘å¿…é¡»åŸºäºIPv4&lt;/strong&gt;ã€‚ä¸€èˆ¬å€’æ•°ç¬¬äºŒè·³LSRå‹å…¥æ ‡ç­¾0ï¼Œæœ€åä¸€æ¡LSRå°†æ ‡ç­¾0å¼¹å‡º&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;1&lt;/strong&gt;ï¼šè­¦å‘Šæ ‡ç­¾ï¼Œåªæœ‰å‡ºç°åœ¨&lt;strong&gt;éæ ˆåº•æ—¶æ‰æœ‰æ•ˆ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;2&lt;/strong&gt;ï¼šIPv6æ˜¾ç¤ºç©ºæ ‡ç­¾ï¼Œè¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡ºï¼Œä¸”æŠ¥æ–‡çš„è½¬å‘å¿…é¡»åŸºäºIPv6&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;3&lt;/strong&gt;ï¼šéšå¼ç©ºæ ‡ç­¾ï¼Œå€’æ•°&lt;strong&gt;ç¬¬äºŒè·³LSRè¿›è¡Œæ ‡ç­¾äº¤æ¢&lt;/strong&gt;æ—¶ï¼Œå¦‚æœå‘ç°äº¤æ¢åçš„æ ‡ç­¾å€¼ä¸º3ï¼Œåˆ™&lt;strong&gt;å°†æ ‡ç­¾å¼¹å‡º&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¹¶å°†æŠ¥æ–‡å‘ç»™æœ€åä¸€è·³&lt;/strong&gt;ï¼Œæœ€åä¸€è·³æ”¶åˆ°è¯¥æŠ¥æ–‡ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;4ï½13å’Œ15&lt;/strong&gt;ï¼šä¿ç•™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;14&lt;/strong&gt;ï¼šOAMè·¯ç”±å™¨è­¦å‘Šæ ‡ç­¾ï¼ŒMPLS OAMé€šè¿‡å‘é€OAMæŠ¥æ–‡æ£€æµ‹å’Œé€šå‘ŠLSPæ•…éšœï¼ŒOAMæŠ¥æ–‡ä½¿ç”¨MPLSæ‰¿è½½ï¼Œ&lt;strong&gt;å¯¹äºTransit LSRå’Œå€’æ•°ç¬¬äºŒè·³LSRæ˜¯é€æ˜çš„&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;16ï½1023ï¼šé™æ€LSPå’Œé™æ€CR-LSPå…±äº«çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;li&gt;1024åŠä»¥ä¸Šï¼šLDPã€RSVP-TEã€MP-BGPç­‰åŠ¨æ€ä¿¡ä»¤åè®®çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;EXPï¼šé€šå¸¸ç”¨åšCoSï¼Œå½“è®¾å¤‡é˜»å¡æ—¶ï¼Œä¼˜å…ˆå‘é€ä¼˜å…ˆçº§é«˜çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Sï¼šæ ˆåº•æ ‡è¯†ï¼ŒMPLSæ”¯æŒå¤šå±‚æ ‡ç­¾ï¼Œå³æ ‡ç­¾åµŒå¥—ï¼ŒSå€¼ä¸º1æ—¶è¡¨æ˜ä¸ºæœ€åº•å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;TTLï¼šå’ŒIPæŠ¥æ–‡ä¸­çš„TTLï¼ˆTime To Liveï¼‰æ„ä¹‰ç›¸åŒ&lt;br&gt;
&lt;strong&gt;å…³äºTTLçš„å¤„ç†æœ‰ä¸¤ç§æ–¹å¼&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ç»Ÿä¸€æ¨¡å¼ï¼ˆUniformï¼‰ï¼šIPçš„TTLå’ŒMPLSçš„TTLç›¸äº’æ‹·è´ï¼Œä¿æŒIPå’ŒMPLSçš„TTLå€¼ç›¸åŒï¼Œå¯ä»¥ç»Ÿè®¡MPLSä¸­æœ‰å¤šå°‘ä¸ªè·¯ç”±å™¨ï¼Œæ¯ç»è¿‡ä¸€å°è·¯ç”±å™¨TTLå€¼å‡ 1ï¼Œæ— è®ºæ˜¯MPLSè¿˜æ˜¯IP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597849957948.png&#34; alt=&#34;ç»Ÿä¸€æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å…¥å£PE&lt;code&gt;å‡1ä¹‹å&lt;/code&gt;ï¼ŒæŠŠIPçš„TTLæ‹·è´åˆ°MPLSçš„TTL&lt;/li&gt;
&lt;li&gt;åœ¨MPLSåŒºåŸŸæŒ‰ç…§å¤–å±‚çš„TTLè¿›è¡Œè½¬å‘ï¼Œåœ¨æ¬¡æœ«è·³ä¸ŠæŠŠMPLSçš„TTL&lt;code&gt;å‡1ä¹‹å&lt;/code&gt;æ‹·è´å›IP&lt;/li&gt;
&lt;li&gt;å¤šå±‚æ ‡ç­¾é»˜è®¤åªå¤„ç†å¤–å±‚æ ‡ç­¾ï¼Œåªæœ‰å¤–å±‚æ ‡ç­¾å¼¹å‡ºä¹‹åå†å¤„ç†å†…å±‚æ ‡ç­¾&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç®¡é“æ¨¡å¼ï¼ˆPipeï¼‰ï¼šIPåˆ†ç»„ç»è¿‡MPLSç½‘ç»œæ—¶ï¼Œæ— è®ºç»è¿‡å¤šå°‘è·³ï¼ŒIPçš„TTLåªæœ‰åœ¨å…¥æ¥ç‚¹å’Œå‡ºèŠ‚ç‚¹æ—¶åˆ†åˆ«å‡1ï¼Œå³&lt;strong&gt;æ ¸å¿ƒç½‘å¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œæ•´ä¸ªMPLSåŒºåŸŸè¢«çœ‹åšä¸€ä¸ªè®¾å¤‡&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597850414609.png&#34; alt=&#34;ç®¡é“æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å…¥æ¥ç‚¹ï¼ŒIPçš„TTLå€¼&lt;code&gt;å‡1&lt;/code&gt;ï¼Œ&lt;strong&gt;MPLSçš„TTLå­—æ®µä¸ºå›ºå®šå€¼&lt;/strong&gt;&lt;code&gt;å¦‚æœéœ€è¦éšè—MPLSæ ¸å¿ƒç½‘ï¼Œåˆ™å¼ºåˆ¶æŠŠè¿›å…¥MPLSæ ¸å¿ƒç½‘çš„æŠ¥æ–‡çš„TTLè®¾ç½®ä¸º255&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡åœ¨MPLSç½‘ç»œä¸­æŒ‰ç…§æ ‡å‡†çš„TTLå¤„ç†æ–¹å¼å¤„ç†ï¼Œæ¯è¿‡ä¸€è·³ï¼ŒMPLSçš„TTLå‡1ï¼Œä½†æ˜¯IPçš„TTLä¸å˜&lt;/li&gt;
&lt;li&gt;åœ¨å‡ºèŠ‚ç‚¹ä¼šå°†IPçš„TTLå­—æ®µçš„å€¼&lt;code&gt;å‡1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsä¸­çš„è½¬å‘è¡¨é¡¹&#34;&gt;MPLSä¸­çš„è½¬å‘è¡¨é¡¹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597619000162.png&#34; alt=&#34;MPLSä½“ç³»ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597620255352.png&#34; alt=&#34;MPLSç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶å¹³é¢&lt;/strong&gt;ï¼šè´Ÿè´£äº§ç”Ÿå’Œç»´æŠ¤è·¯ç”±ä¿¡æ¯ä»¥åŠæ ‡ç­¾ä¿¡æ¯
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RIB&lt;/strong&gt;ï¼šè·¯ç”±è¡¨ï¼Œæ§åˆ¶å±‚é¢ï¼Œç”±IPè·¯ç”±åè®®ç”Ÿæˆï¼Œç”¨äºé€‰æ‹©è·¯ç”±ï¼ŒRIBä¸­&lt;strong&gt;æœ‰é€’å½’è¿‡ç¨‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LIB&lt;/strong&gt;ï¼šæ ‡ç­¾ä¿¡æ¯è¡¨ï¼Œæ§åˆ¶å±‚é¢ï¼Œç”±æ ‡ç­¾åˆ†é…åè®®ç”Ÿæˆï¼ŒåŒ…å«æ ‡ç­¾ä¸FECçš„å¯¹åº”å…³ç³»ï¼ŒLIBåŒ…å«æ‰€æœ‰çš„æ ‡ç­¾ï¼Œ&lt;strong&gt;æ— è®ºæ˜¯ä¼˜çš„è¿˜æ˜¯æ¬¡ä¼˜çš„&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è½¬å‘å¹³é¢&lt;/strong&gt;ï¼šå³&lt;strong&gt;æ•°æ®å¹³é¢&lt;/strong&gt;ï¼Œè´Ÿè´£æ™®é€šIPæŠ¥æ–‡çš„è½¬å‘ä»¥åŠå¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;FIB&lt;/strong&gt;ï¼šè½¬å‘ä¿¡æ¯è¡¨ï¼Œè½¬å‘å±‚é¢ï¼Œæ•°æ®åŒ…åˆ°è¾¾è®¾å¤‡åæŸ¥æ‰¾FIBï¼Œä»è€ŒçŸ¥é“å¦‚ä½•è½¬å‘ã€‚FIBé‡Œ&lt;strong&gt;æ²¡æœ‰é€’å½’&lt;/strong&gt;&lt;code&gt;å½“å»å¾€ç›®æ ‡è·¯ç”±çš„ä¸‹ä¸€è·³ä¸æ˜¯ç›´è¿ä¸‹ä¸€è·³æ—¶ï¼Œä¼šäº§ç”Ÿé€’å½’&lt;/code&gt;è¿‡ç¨‹&lt;code&gt;å¦‚æœTunnel IDå€¼ä¸º0ï¼Œåˆ™è¿›å…¥æ­£å¸¸çš„IPè½¬å‘æµç¨‹ï¼›å¦‚æœTunnel IDå€¼ä¸ä¸º0ï¼Œåˆ™è¿›å…¥MPLSè½¬å‘æµç¨‹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;LFIB&lt;/strong&gt;ï¼šæ ‡ç­¾è½¬å‘è¡¨ï¼Œè½¬å‘å±‚é¢ï¼Œæ ‡ç­¾ä¸FECçš„å¯¹åº”å…³ç³»ï¼Œ&lt;strong&gt;åªæœ‰æœ€ä¼˜çš„æ ‡ç­¾&lt;/strong&gt;ï¼ŒæŒ‡å¯¼æ ‡ç­¾æ•°æ®åŒ…è½¬å‘&lt;code&gt;å¦‚æœæ ‡ç­¾ä¸­çš„æ ˆåº•æ ‡è¯†S=1ï¼Œè¡¨æ˜è¯¥æ ‡ç­¾æ˜¯æ ˆåº•æ ‡ç­¾ï¼Œç›´æ¥è¿›è¡ŒIPè½¬å‘ï¼›å¦‚æœæ ‡ç­¾ä¸­çš„æ ˆåº•æ ‡è¯†S=0ï¼Œè¡¨æ˜è¿˜æœ‰ä¸‹ä¸€å±‚æ ‡ç­¾ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘&lt;/code&gt;&lt;br&gt;
&lt;code&gt;LFIBä¸­åŒ…å«ä¸¤å¼ è¡¨ï¼ŒILMå’ŒNHLFEã€‚æ•°æ®è¿›å…¥è·¯ç”±å™¨æŸ¥è¯¢ILMï¼Œæ•°æ®å‡ºè·¯ç”±å™¨æŸ¥è¯¢çš„æ˜¯NHLFEã€‚è¿™äº›è¡¨éƒ½æ˜¯é€šè¿‡Tunnel IDæ¥ç›¸äº’å…³è”çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MPLS VPNä¸­çš„æ•°æ®è½¬å‘æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPæŠ¥æ–‡å…¥ç«™ï¼šé€šè¿‡&lt;strong&gt;è·¯ç”±è¡¨&lt;/strong&gt;åšè½¬å‘å†³ç­–ï¼Œå‡ºæ–¹å‘çš„è·¯ç”±ä¸Š&lt;strong&gt;æœ‰æ ‡ç­¾è½¬å‘ä¿¡æ¯&lt;/strong&gt;ï¼Œåˆ™å¯ä»¥&lt;strong&gt;é€‰æ‹©å‹å…¥æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾æŠ¥æ–‡å…¥ç«™ï¼šé€šè¿‡&lt;strong&gt;æ ‡ç­¾è½¬å‘è¡¨&lt;/strong&gt;åšå‡ºè½¬å‘å†³ç­–ï¼Œå‡ºæ–¹å‘å¦‚æœ&lt;strong&gt;æœ‰æ ‡ç­¾åˆ™æ‰§è¡Œæ ‡ç­¾äº¤æ¢&lt;/strong&gt;ï¼Œç„¶åè½¬å‘ï¼Œå¦‚æœå‡ºæ–¹å‘&lt;strong&gt;æ²¡æœ‰æ ‡ç­¾&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;ç§»é™¤æ ‡ç­¾ç„¶åè·¯ç”±è½¬å‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mplsæ•°æ®åŒ…çš„è½¬å‘è¿‡ç¨‹&#34;&gt;MPLSæ•°æ®åŒ…çš„è½¬å‘è¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;ç®€å•æµç¨‹&#34;&gt;ç®€å•æµç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;CEä¼¦æ•¦--&amp;gt;Ingress PE--&amp;gt;Egress PE--&amp;gt;CEå·´é»&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597587418563.png&#34; alt=&#34;ä»CEåˆ°Ingress PE&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597590091682.png&#34; alt=&#34;ä»Ingress PEåˆ°CE&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CEå°†æŠ¥æ–‡å‘ç»™å…¶ç›¸è¿çš„VRFæ¥å£ï¼ŒPEåœ¨æœ¬VRFçš„è·¯ç”±è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¾—åˆ°äº†è¯¥è·¯ç”±çš„&lt;strong&gt;å…¬ç½‘ä¸‹ä¸€è·³åœ°å€&lt;/strong&gt;å’Œ&lt;strong&gt;ç§ç½‘æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;PEæŠŠè¯¥æŠ¥æ–‡å°è£…ä¸€å±‚ç§ç½‘æ ‡ç­¾åï¼Œåœ¨&lt;strong&gt;å…¬ç½‘çš„æ ‡ç­¾è½¬å‘è¡¨ä¸­æŸ¥æ‰¾ä¸‹ä¸€è·³åœ°å€&lt;/strong&gt;ï¼Œåœ¨&lt;strong&gt;å°è£…ä¸€å±‚å…¬ç½‘æ ‡ç­¾&lt;/strong&gt;åï¼Œäº¤äºˆMPLSè½¬å‘&lt;/li&gt;
&lt;li&gt;è¯¥æŠ¥æ–‡åœ¨å…¬ç½‘ä¸Šæ²¿ç€LSPè½¬å‘ï¼Œå¹¶æ ¹æ®é€”å¾„çš„æ¯ä¸€å°è®¾å¤‡çš„æ ‡ç­¾è½¬å‘è¡¨è¿›è¡Œæ ‡ç­¾äº¤æ¢&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;å€’æ•°ç¬¬äºŒè·³&lt;/strong&gt;å¤„ï¼Œå°†&lt;strong&gt;å¤–å±‚çš„å…¬ç½‘æ ‡ç­¾å¼¹å‡º&lt;/strong&gt;ï¼Œäº¤ç»™ç›®çš„çš„PEï¼ˆPE-1ï¼‰è®¾å¤‡&lt;/li&gt;
&lt;li&gt;PEè®¾å¤‡æ ¹æ®&lt;strong&gt;å†…å±‚çš„ç§ç½‘æ ‡ç­¾åˆ¤æ–­è¯¥æŠ¥æ–‡å±äºå“ªä¸€ä¸ªVRF&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼¹å‡ºå†…å±‚ç§ç½‘æ ‡ç­¾&lt;/strong&gt;ï¼Œåœ¨ç›®çš„VRFä¸­æŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œæ ¹æ®ä¸‹ä¸€è·³&lt;strong&gt;å‘ç»™ç›¸åº”çš„CE&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¯¦ç»†è¿‡ç¨‹&#34;&gt;è¯¦ç»†è¿‡ç¨‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613836690430.png&#34; alt=&#34;MPLSæ•°æ®åŒ…çš„è½¬å‘è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å½“&lt;strong&gt;IPæŠ¥æ–‡è¿›å…¥MPLSåŸŸ&lt;/strong&gt;æ—¶ï¼Œé¦–å…ˆæŸ¥çœ‹FIBè¡¨ï¼Œæ£€æŸ¥ç›®çš„IPåœ°å€å¯¹åº”çš„Tunnel IDå€¼æ˜¯å¦ä¸º0x0
&lt;ol&gt;
&lt;li&gt;å¦‚æœTunnel IDå€¼ä¸º0x0ï¼Œåˆ™è¿›å…¥æ­£å¸¸çš„IPè½¬å‘æµç¨‹&lt;/li&gt;
&lt;li&gt;å¦‚æœTunnel IDå€¼ä¸ä¸º0x0ï¼Œåˆ™è¿›å…¥MPLSè½¬å‘æµç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ingress&lt;/strong&gt;ï¼Œé€šè¿‡æŸ¥è¯¢FIBè¡¨å’ŒNHLFEè¡¨æŒ‡å¯¼æŠ¥æ–‡çš„è½¬å‘
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹FIBè¡¨ï¼Œæ ¹æ®ç›®çš„IPåœ°å€æ‰¾åˆ°å¯¹åº”çš„Tunnel ID&lt;/li&gt;
&lt;li&gt;æ ¹æ®Tunnel IDæ‰¾åˆ°å¯¹åº”çš„NHLFEè¡¨é¡¹ï¼ŒæŸ¥çœ‹NHLFEè¡¨é¡¹ï¼Œå¯ä»¥å¾—åˆ°&lt;strong&gt;å‡ºæ¥å£ã€ä¸‹ä¸€è·³ã€å‡ºæ ‡ç­¾å’Œæ ‡ç­¾æ“ä½œç±»å‹&lt;/strong&gt;ï¼Œæ ‡ç­¾æ“ä½œç±»å‹ä¸ºPush&lt;/li&gt;
&lt;li&gt;åœ¨IPæŠ¥æ–‡ä¸­&lt;strong&gt;å‹å…¥å‡ºæ ‡ç­¾&lt;/strong&gt;ï¼Œå¹¶æ ¹æ®QoSç­–ç•¥å¤„ç†EXPï¼ŒåŒæ—¶å¤„ç†TTLï¼Œç„¶åå°†å°è£…å¥½çš„MPLSæŠ¥æ–‡å‘é€ç»™ä¸‹ä¸€è·³&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Transit&lt;/strong&gt;ï¼Œé€šè¿‡æŸ¥è¯¢ILMè¡¨å’ŒNHLFEè¡¨æŒ‡å¯¼MPLSæŠ¥æ–‡çš„è½¬å‘
&lt;ol&gt;
&lt;li&gt;æ ¹æ®MPLSçš„æ ‡ç­¾å€¼æŸ¥çœ‹å¯¹åº”çš„ILMè¡¨ï¼Œå¯ä»¥å¾—åˆ°Tunnel ID&lt;/li&gt;
&lt;li&gt;æ ¹æ®Tunnel IDæ‰¾åˆ°å¯¹åº”çš„NHLFEè¡¨é¡¹ï¼ŒæŸ¥çœ‹NHLFEè¡¨é¡¹ï¼Œå¯ä»¥å¾—åˆ°&lt;strong&gt;å‡ºæ¥å£ã€ä¸‹ä¸€è·³ã€å‡ºæ ‡ç­¾å’Œæ ‡ç­¾æ“ä½œç±»å‹&lt;/strong&gt;ï¼ŒMPLSæŠ¥æ–‡çš„å¤„ç†æ–¹å¼æ ¹æ®ä¸åŒçš„æ ‡ç­¾å€¼è€Œä¸åŒï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;æ ‡ç­¾å€¼&amp;gt;ï¼16æˆ–è€…=0æˆ–è€…=2&lt;/strong&gt;ï¼Œåˆ™ç”¨æ–°æ ‡ç­¾æ›¿æ¢MPLSæŠ¥æ–‡ä¸­çš„æ—§æ ‡ç­¾ï¼ŒåŒæ—¶å¤„ç†EXPå’ŒTTLï¼Œç„¶åå°†æ›¿æ¢å®Œæ ‡ç­¾çš„MPLSæŠ¥æ–‡å‘é€ç»™ä¸‹ä¸€è·³&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;æ ‡ç­¾å€¼ä¸º3&lt;/strong&gt;&lt;code&gt;å³éšå¼ç©ºæ ‡ç­¾ï¼Œæ”¯æŒPHP&lt;/code&gt;ï¼Œåˆ™ç›´æ¥å¼¹å‡ºæ ‡ç­¾ï¼ŒåŒæ—¶å¤„ç†EXPå’ŒTTLï¼Œç„¶åè¿›è¡ŒIPè½¬å‘æˆ–ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Egress&lt;/strong&gt;ï¼Œé€šè¿‡æŸ¥è¯¢ILMè¡¨æŒ‡å¯¼MPLSæŠ¥æ–‡çš„è½¬å‘æˆ–æŸ¥è¯¢è·¯ç”±è¡¨æŒ‡å¯¼IPæŠ¥æ–‡è½¬å‘&lt;code&gt;å…ˆæŸ¥LFIBï¼Œå†æŸ¥FIB&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°IPæŠ¥æ–‡ï¼Œåˆ™æŸ¥çœ‹è·¯ç”±è¡¨ï¼Œè¿›è¡ŒIPè½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœ æ”¶åˆ°MPLSæŠ¥æ–‡ï¼Œåˆ™æŸ¥çœ‹ILMè¡¨è·å¾—æ ‡ç­¾æ“ä½œç±»å‹ï¼ŒåŒæ—¶å¤„ç†EXPå’ŒTTL
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ ‡ç­¾ä¸­çš„&lt;strong&gt;æ ˆåº•æ ‡è¯†S=1&lt;/strong&gt;ï¼Œè¡¨æ˜è¯¥æ ‡ç­¾æ˜¯æ ˆåº•æ ‡ç­¾ï¼Œç›´æ¥è¿›è¡ŒIPè½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ ‡ç­¾ä¸­çš„&lt;strong&gt;æ ˆåº•æ ‡è¯†S=0&lt;/strong&gt;ï¼Œè¡¨æ˜è¿˜æœ‰ä¸‹ä¸€å±‚æ ‡ç­¾ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;mpls-ldp&#34;&gt;MPLS LDP&lt;/h1&gt;
&lt;p&gt;æ ‡ç­¾åˆ†å‘åè®®ï¼Œè‡ªåŠ¨åˆ†é…æ ‡ç­¾ï¼Œè‡ªåŠ¨æ„å»ºLSPï¼ˆæ ‡ç­¾äº¤æ¢éš§é“ï¼‰&lt;br&gt;
LDP&lt;strong&gt;é»˜è®¤åªä¼šä¸ºIGPåˆ†é…æ ‡ç­¾ï¼Œè€Œä¸”åªä¸º32ä½ä¸»æœºè·¯ç”±åˆ†é…æ ‡ç­¾&lt;/strong&gt;ï¼Œå¯ä½¿ç”¨å‘½ä»¤ï¼š&lt;code&gt;lsp-trigger&lt;/code&gt;ä¿®æ”¹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€ç§‘å’Œåä¸ºåŒºåˆ«ï¼š&lt;br&gt;
åä¸ºåªä¸º32ä½ä¸»æœºè·¯ç”±åˆ†é…æ ‡ç­¾&lt;code&gt;ä¿®æ”¹å‘½ä»¤lsp-trigger [host | ip-prefix | all]&lt;/code&gt;ï¼Œä½†æ˜¯æ€ç§‘åªè¦æ»¡è¶³2ä¸ªåˆ†é…æ¡ä»¶å°±å¯ä»¥ä¸ºFIBè¡¨ä¸­æ¯æ¡IGPè·¯ç”±å•ç‹¬åˆ†é…ä¸€ä¸ªæ ‡ç­¾ï¼Œæ¡ä»¶æ˜¯å¼€å¯cefå’Œåœ¨ç‰©ç†æ¥å£ä¸‹æ¿€æ´»LDPï¼Œä¹Ÿå°±æ˜¯è¯´æ€ç§‘ä¼šä¸ºæ‰€æœ‰çš„IGPè·¯ç”±åˆ†é…æ ‡ç­¾&lt;br&gt;
å¯¹äºé»˜è®¤çš„æ–¹å¼ï¼Œä¸ªäººè§‰å¾—åä¸ºçš„æ“ä½œæ›´å¥½ä¸€äº›ã€‚åŸå› ï¼šä¸ªäººè§‰å¾—å®é™…å¯¹äº’è”é“¾è·¯åˆ†é…æ ‡ç­¾æ²¡æœ‰ä»€ä¹ˆç”¨å¤„ï¼Œåªä¼šå¢å¤§æ ‡ç­¾ä¿¡æ¯åº“çš„å®¹é‡ï¼ŒMPLSåœ¨ç°é˜¶æ®µæ¥è¯´ï¼Œå¯¹äºIGPåŠ å¿«è½¬å‘é€Ÿåº¦çš„ä½œç”¨å‡ ä¹æ²¡æœ‰ï¼Œä¸»è¦åœ¨BGPæˆ–MPLS VPNéƒ¨ç½²æ—¶æœ‰æ›´å¥½çš„ä½œç”¨ï¼ˆå½“ç„¶MPLSè¿˜æœ‰å…¶ä»–åº”ç”¨ï¼‰ï¼Œå¯ä»¥ä½¿æ ¸å¿ƒè·¯ç”±å™¨ä¸è¦æ‰¿è½½æ‰€æœ‰è·¯ç”±ï¼Œè€Œåœ¨éƒ¨ç½²BGPçš„æ—¶å€™ï¼Œé€šå¸¸ä½¿ç”¨lo0å»ºç«‹iBGPé‚»å±…ï¼Œæ‰€ä»¥LSPæ²¿è·¯è®¾å¤‡åªéœ€è¦ä¸ºBGPè·¯ç”±ä¸‹ä¸€è·³çš„lo0è·¯ç”±åˆ†é…æ ‡ç­¾å°±å¯ä»¥äº†ï¼Œäº’è”é“¾è·¯çš„è·¯ç”±å®Œå…¨æ˜¯æ²¡æœ‰ä½œç”¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;LSPå½¢æˆæ–¹å¼ï¼šé™æ€LSPï¼ˆæ‰‹åŠ¨é…ç½®ï¼‰å’ŒåŠ¨æ€LSPï¼ˆLDPåè®®ç”Ÿæˆï¼‰&lt;br&gt;
é™æ€LSPä¸èƒ½ä½¿ç”¨æ ‡ç­¾å‘å¸ƒåè®®åŠ¨æ€å»ºç«‹ï¼Œéœ€è¦ç”±ç®¡ç†å‘˜æ‰‹å·¥é…ç½®ï¼Œé€‚ç”¨äºæ‹“æ‰‘ç»“æ„ç®€å•å¹¶ä¸”ç¨³å®šçš„ç½‘ç»œæˆ–è€…æŸäº›å…³é”®æ•°æ®æˆ–é‡è¦ä¸šåŠ¡&lt;br&gt;
é™æ€LSPä¸ä½¿ç”¨æ ‡ç­¾å‘å¸ƒåè®®ï¼Œä¸éœ€è¦äº¤äº’æ§åˆ¶æŠ¥æ–‡ï¼Œèµ„æºæ¶ˆè€—æ¯”è¾ƒå°ï¼Œä½†é€šè¿‡é™æ€æ–¹å¼å»ºç«‹çš„LSPä¸èƒ½æ ¹æ®ç½‘ç»œæ‹“æ‰‘å˜åŒ–åŠ¨æ€è°ƒæ•´ï¼Œéœ€è¦ç®¡ç†å‘˜å¹²é¢„ï¼Œæ‰€ä»¥é€‚ç”¨äºæ‹“æ‰‘ç»“æ„ç®€å•å¹¶ä¸”ç¨³å®šçš„ç½‘ç»œ&lt;br&gt;
é…ç½®é™æ€LSPæ—¶ï¼Œç®¡ç†å‘˜éœ€è¦ä¸º&lt;strong&gt;å„LSRæ‰‹å·¥åˆ†é…æ ‡ç­¾&lt;/strong&gt;ï¼Œéœ€è¦éµå¾ªçš„åŸåˆ™æ˜¯ï¼š&lt;strong&gt;å‰ä¸€èŠ‚ç‚¹å‡ºæ ‡ç­¾çš„å€¼ç­‰äºä¸‹ä¸€ä¸ªèŠ‚ç‚¹å…¥æ ‡ç­¾çš„å€¼&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ldpçš„æ¶ˆæ¯ç±»å‹&#34;&gt;LDPçš„æ¶ˆæ¯ç±»å‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597668635041.png&#34; alt=&#34;LDPæ¶ˆæ¯ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671143763.png&#34; alt=&#34;æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671149312.png&#34; alt=&#34;å­—æ®µå«ä¹‰&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘ç°æ¶ˆæ¯ï¼ˆDiscoveryï¼‰ï¼šå®£å‘Šå’Œç»´æŠ¤ç½‘ç»œä¸­ä¸€ä¸ªLSRçš„å­˜åœ¨
&lt;ol&gt;
&lt;li&gt;åªæœ‰å‘ç°æ¶ˆæ¯ä½¿ç”¨UDPæ‰¿è½½ï¼Œç›®çš„ç«¯å£ä¸º646ï¼Œæ¶ˆæ¯ä¸­çš„transport addressé»˜è®¤ä¸ºLSR-IDï¼ŒLSR-IDå¿…é¡»æ‰‹åŠ¨é…ç½®ï¼Œä¸”å¿…é¡»ä¸ºè·¯ç”±å™¨ä¸ŠæŸä¸ªæ¥å£åœ°å€ï¼Œä¸”å¿…é¡»å®£å‘Šè¿›åº•å±‚è·¯ç”±åè®®è¿›ç¨‹ä¸­&lt;/li&gt;
&lt;li&gt;é“¾è·¯Helloæ¶ˆæ¯&lt;code&gt;ç”¨äºæœ¬åœ°é‚»æ¥ä½“ï¼Œå³å»ºç«‹ä¼šè¯çš„ä¸¤ä¸ªLSRä¹‹é—´æ˜¯ç›´è¿çš„&lt;/code&gt;ï¼šç»„æ’­åœ°å€ä¸º224.0.0.2&lt;code&gt;helloé»˜è®¤5ç§’ï¼Œholdtimeé»˜è®¤15ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç›®æ ‡Helloæ¶ˆæ¯&lt;code&gt;ç”¨äºè¿œç«¯é‚»æ¥ä½“ï¼Œå³å»ºç«‹ä¼šè¯çš„ä¸¤ä¸ªLSRä¹‹é—´å¯ä»¥æ˜¯ç›´è¿çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯éç›´è¿çš„&lt;/code&gt;ï¼šå•æ’­&lt;code&gt;helloé»˜è®¤15ç§’ï¼Œholdtimeé»˜è®¤45ç§’&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æœ¬åœ°é‚»æ¥ä½“å’Œè¿œç«¯é‚»æ¥ä½“å¯ä»¥å…±å­˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¼šè¯æ¶ˆæ¯ï¼ˆSessionï¼‰ï¼šå»ºç«‹ã€ç»´æŠ¤å’Œç»ˆæ­¢LDPé‚»å±…ä¹‹é—´çš„LDPä¼šè¯&lt;/li&gt;
&lt;li&gt;é€šå‘Šæ¶ˆæ¯ï¼ˆAdvertisementï¼‰ï¼šç”Ÿæˆã€æ”¹å˜å’Œåˆ é™¤FECçš„æ ‡ç­¾æ˜ å°„&lt;/li&gt;
&lt;li&gt;é€šçŸ¥æ¶ˆæ¯ï¼ˆNotificationï¼‰ï¼šå®£å‘Šå‘Šè­¦å’Œé”™è¯¯ä¿¡æ¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613878517929.png&#34; alt=&#34;LDPæ¶ˆæ¯ä½œç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ldpæ ‡ç­¾çš„å‘å¸ƒä¸ç®¡ç†æ–¹å¼&#34;&gt;LDPæ ‡ç­¾çš„å‘å¸ƒä¸ç®¡ç†æ–¹å¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼é€šå¸¸ä¸DoDæ–¹å¼ä¸€èµ·ï¼Œç”¨äºæ ‡ç­¾ç©ºé—´æœ‰é™çš„LSR&lt;/code&gt;&lt;br&gt;
ç›®å‰è®¾å¤‡æ”¯æŒå¦‚ä¸‹ç»„åˆæ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹æ¸¸è‡ªä¸»æ–¹å¼(DU)ï¼‹æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼(Ordered)ï¼‹è‡ªç”±æ ‡ç­¾ä¿æŒæ–¹å¼(Liberal)ï¼ˆé»˜è®¤æ–¹å¼ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸è‡ªä¸»æ–¹å¼(DU)ï¼‹ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼(Independent)ï¼‹è‡ªç”±æ ‡ç­¾ä¿æŒæ–¹å¼(Liberal)&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸æŒ‰éœ€æ–¹å¼(DoD)ï¼‹æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼(Ordered)ï¼‹ä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼(Conservative)&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸æŒ‰éœ€æ–¹å¼(DoD)ï¼‹ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼(Independent)ï¼‹ä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼(Conservative)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼&#34;&gt;1. æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼&lt;/h3&gt;
&lt;p&gt;æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼æ˜¯æŒ‡åœ¨LSPçš„å»ºç«‹è¿‡ç¨‹ä¸­ï¼ŒLSRåˆ†é…æ ‡ç­¾æ—¶é‡‡ç”¨çš„å¤„ç†æ–¹å¼&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼&lt;/strong&gt;ï¼ˆIndependentï¼‰ï¼šæœ¬åœ°LSRå¯ä»¥&lt;strong&gt;è‡ªä¸»åœ°åˆ†é…ä¸€ä¸ªæ ‡ç­¾ç»‘å®šåˆ°æŸä¸ªFECï¼Œå¹¶é€šå‘Šç»™ä¸Šæ¸¸LSR&lt;/strong&gt;ï¼Œè€Œæ— éœ€ç­‰å¾…ä¸‹æ¸¸çš„æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶æ–¹å¼&lt;/strong&gt;ï¼ˆOrderedï¼‰ï¼šå¯¹äºLSRä¸ŠæŸä¸ªFECçš„æ ‡ç­¾æ˜ å°„ï¼Œ&lt;strong&gt;åªæœ‰å½“è¯¥LSRå·²ç»å…·æœ‰æ­¤FECä¸‹ä¸€è·³çš„æ ‡ç­¾æ˜ å°„æ¶ˆæ¯ã€æˆ–è€…è¯¥LSRå°±æ˜¯æ­¤FECçš„å‡ºèŠ‚ç‚¹æ—¶&lt;/strong&gt;ï¼Œè¯¥LSRæ‰å¯ä»¥å‘ä¸Šæ¸¸å‘é€æ­¤FECçš„æ ‡ç­¾æ˜ å°„&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€ç§‘é»˜è®¤æ ‡ç­¾å‘å¸ƒæ–¹å¼ä¸ºç‹¬ç«‹åˆ†é…ï¼Œä½†æ˜¯åä¸ºé»˜è®¤é‡‡ç”¨æœ‰åºåˆ†é…çš„æ–¹å¼&lt;br&gt;
æ€ç§‘åªè¦æ»¡è¶³æ ‡ç­¾åˆ†é…æ¡ä»¶ï¼Œå°±ç«‹å³åˆ†é…æ ‡ç­¾ï¼Œè€Œåä¸ºæ˜¯éœ€è¦ç­‰ã€‚ä¸ºä»€ä¹ˆè¦ç­‰ï¼Œå› ä¸ºè¿™æ ·èƒ½ä¿è¯LSPä¸æ˜¯æ–­è£‚çš„ï¼Œä¿è¯ä¸‹æ¸¸è·¯ç”±å™¨åˆ†é…ã€åˆ†å¸ƒå®Œæ ‡ç­¾åï¼Œä¸Šæ¸¸è·¯ç”±å™¨æ‰èƒ½åˆ†é…ã€åˆ†å¸ƒï¼Œä¿è¯å»å¾€ç›®çš„çš„æ•°æ®åŒ…æ²¿è·¯éƒ½æ˜¯æœ‰æ ‡ç­¾çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-æ ‡ç­¾å‘å¸ƒæ–¹å¼&#34;&gt;2. æ ‡ç­¾å‘å¸ƒæ–¹å¼&lt;/h3&gt;
&lt;p&gt;ç”±ä¸‹æ¸¸LSRå†³å®šå°†æ ‡ç­¾åˆ†é…ç»™ç‰¹å®šFECï¼Œå†é€šçŸ¥ä¸Šæ¸¸LSRï¼Œ&lt;strong&gt;å³æ ‡ç­¾ç”±ä¸‹æ¸¸æŒ‡å®š&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ ‡ç­¾çš„åˆ†é…æŒ‰ä»ä¸‹æ¸¸åˆ°ä¸Šæ¸¸çš„æ–¹å‘åˆ†å‘&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613883311568.png&#34; alt=&#34;æ ‡ç­¾å‘å¸ƒæ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¸‹æ¸¸è‡ªä¸»æ–¹å¼DU&lt;/strong&gt;ï¼šå¯¹äºä¸€ä¸ªç‰¹å®šçš„FECï¼ŒLSR&lt;strong&gt;æ— éœ€ä»ä¸Šæ¸¸è·å¾—æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯&lt;/strong&gt;å³è¿›è¡Œæ ‡ç­¾åˆ†é…ä¸åˆ†å‘&lt;code&gt;æ ‡ç­¾å‘å¸ƒæ–¹å¼ä¸ºDUæ—¶ï¼Œç³»ç»Ÿé»˜è®¤æ”¯æŒLDPä¸ºæ‰€æœ‰å¯¹ç­‰ä½“åˆ†æ ‡ç­¾ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹éƒ½å¯ä»¥å‘æ‰€æœ‰çš„å¯¹ç­‰ä½“å‘é€æ ‡ç­¾æ˜ å°„æ¶ˆæ¯ï¼Œä¸å†åŒºåˆ†ä¸Šä¸‹æ¸¸å…³ç³»&lt;/code&gt;&lt;br&gt;
å¯¹äºç›®çš„åœ°å€ä¸º192.168.1.1/32çš„FECï¼Œä¸‹æ¸¸ï¼ˆEgressï¼‰é€šè¿‡æ ‡ç­¾æ˜ å°„æ¶ˆæ¯ä¸»åŠ¨å‘ä¸Šæ¸¸ï¼ˆTransitï¼‰é€šå‘Šè‡ªå·±çš„ä¸»æœºè·¯ç”±192.168.1.1/32çš„æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸‹æ¸¸æŒ‰éœ€æ–¹å¼DoD&lt;/strong&gt;ï¼šå¯¹äºä¸€ä¸ªç‰¹å®šçš„FECï¼ŒLSR&lt;strong&gt;è·å¾—æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯ä¹‹å&lt;/strong&gt;æ‰è¿›è¡Œæ ‡ç­¾åˆ†é…ä¸åˆ†å‘&lt;br&gt;
å¯¹äºç›®çš„åœ°å€ä¸º192.168.1.1/32çš„FECï¼Œä¸Šæ¸¸ï¼ˆIngressï¼‰å‘ä¸‹æ¸¸å‘é€æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯ï¼Œä¸‹æ¸¸ï¼ˆEgressï¼‰æ”¶åˆ°æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯åï¼Œæ‰ä¼šå‘ä¸Šæ¸¸å‘é€æ ‡ç­¾æ˜ å°„æ¶ˆæ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-æ ‡ç­¾ä¿æŒæ–¹å¼&#34;&gt;3. æ ‡ç­¾ä¿æŒæ–¹å¼&lt;/h3&gt;
&lt;p&gt;æ ‡ç­¾ä¿æŒæ–¹å¼æ˜¯æŒ‡LSRå¯¹æ”¶åˆ°çš„ã€&lt;strong&gt;ä½†ç›®å‰æš‚æ—¶ä¸éœ€è¦çš„æ ‡ç­¾æ˜ å°„çš„å¤„ç†æ–¹å¼&lt;/strong&gt;ï¼ŒLSRæ”¶åˆ°çš„æ ‡ç­¾æ˜ å°„å¯èƒ½æ¥è‡ªä¸‹ä¸€è·³ï¼Œä¹Ÿå¯èƒ½æ¥è‡ªéä¸‹ä¸€è·³ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è‡ªç”±æ ‡ç­¾ä¿æŒæ–¹å¼&lt;/strong&gt;ï¼ˆLiberalï¼‰ï¼šå¯¹äºä»é‚»å±…LSRæ”¶åˆ°çš„æ ‡ç­¾æ˜ å°„ï¼Œæ— è®ºé‚»å±…LSRæ˜¯ä¸æ˜¯è‡ªå·±çš„ä¸‹ä¸€è·³éƒ½ä¿ç•™&lt;code&gt;LSRå¯ä»¥ç›´æ¥åˆ©ç”¨åŸæ¥éä¸‹ä¸€è·³é‚»å±…å‘æ¥çš„æ ‡ç­¾ï¼Œè¿…é€Ÿé‡å»ºLSPï¼Œä½†éœ€è¦æ›´å¤šçš„å†…å­˜å’Œæ ‡ç­¾ç©ºé—´&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼&lt;/strong&gt;ï¼ˆConservativeï¼‰ï¼šå¯¹äºä»é‚»å±…LSRæ”¶åˆ°çš„æ ‡ç­¾æ˜ å°„ï¼Œåªæœ‰å½“é‚»å±…LSRæ˜¯è‡ªå·±çš„ä¸‹ä¸€è·³æ—¶æ‰ä¿ç•™&lt;code&gt;èŠ‚çœäº†å†…å­˜å’Œæ ‡ç­¾ç©ºé—´ï¼Œä½†LSPçš„é‡å»ºä¼šæ¯”è¾ƒæ…¢&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ldpé‚»å±…å»ºç«‹çš„è¿‡ç¨‹&#34;&gt;LDPé‚»å±…å»ºç«‹çš„è¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;ldpå‘ç°æœºåˆ¶&#34;&gt;LDPå‘ç°æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;LDP&lt;strong&gt;å‘ç°æœºåˆ¶ç”¨äºLSRå‘ç°æ½œåœ¨çš„LDPå¯¹ç­‰ä½“&lt;/strong&gt;ã€‚LDPæœ‰ä¸¤ç§å‘ç°æœºåˆ¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºæœ¬å‘ç°æœºåˆ¶ï¼šç”¨äºå‘ç°é“¾è·¯ä¸Š&lt;strong&gt;ç›´è¿çš„LSR&lt;/strong&gt;ï¼ŒLSRé€šè¿‡å‘¨æœŸæ€§åœ°ç»„æ’­å‘é€LDP&lt;strong&gt;é“¾è·¯Helloæ¶ˆæ¯&lt;/strong&gt;ï¼Œå®ç°LDPåŸºæœ¬å‘ç°æœºåˆ¶ï¼Œå»ºç«‹æœ¬åœ°LDPä¼šè¯&lt;/li&gt;
&lt;li&gt;æ‰©å±•å‘ç°æœºåˆ¶ï¼šç”¨äºå‘ç°é“¾è·¯ä¸Š&lt;strong&gt;éç›´è¿LSR&lt;/strong&gt;ï¼ŒLSRå‘¨æœŸæ€§åœ°å•æ’­å‘é€LDP&lt;strong&gt;ç›®æ ‡Helloæ¶ˆæ¯&lt;/strong&gt;åˆ°æŒ‡å®šIPåœ°å€ï¼Œå®ç°LDPæ‰©å±•å‘ç°æœºåˆ¶ï¼Œå»ºç«‹è¿œç«¯LDPä¼šè¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ldpé‚»å±…å»ºç«‹è¿‡ç¨‹ldpå·¥ä½œè¿‡ç¨‹&#34;&gt;LDPé‚»å±…å»ºç«‹è¿‡ç¨‹ï¼ˆLDPå·¥ä½œè¿‡ç¨‹ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;1-ldpä¼šè¯çš„å»ºç«‹ä¼šè¯å»ºç«‹é˜¶æ®µ&#34;&gt;1. LDPä¼šè¯çš„å»ºç«‹ï¼ˆä¼šè¯å»ºç«‹é˜¶æ®µï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613882654331.png&#34; alt=&#34;LDPé‚»å±…å»ºç«‹è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;UDP ï¼Œ646ï¼Œå¤§ä¸»åŠ¨ï¼ŒKeepliveå‘¨æœŸ15ç§’ã€holdtimeä¸º45ç§’&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤ä¸ªLSRä¹‹é—´äº’ç›¸å‘é€Helloæ¶ˆæ¯ï¼Œæºå¸¦ä¼ è¾“åœ°å€ï¼ˆå³è®¾å¤‡çš„IPåœ°å€ï¼‰ï¼ŒåŒæ–¹ä½¿ç”¨ä¼ è¾“åœ°å€å»ºç«‹LDPä¼šè¯ï¼Œä¼ è¾“åœ°å€è¾ƒå¤§çš„ä¸€æ–¹ä½œä¸ºä¸»åŠ¨æ–¹å‘èµ·å»ºç«‹TCPè¿æ¥ï¼Œå³LSR_1ä½œä¸ºä¸»åŠ¨æ–¹å‘èµ·å»ºç«‹TCPè¿æ¥&lt;/li&gt;
&lt;li&gt;TCPè¿æ¥å»ºç«‹æˆåŠŸåï¼Œç”±ä¸»åŠ¨æ–¹LSR_1å‘é€åˆå§‹åŒ–æ¶ˆæ¯Initï¼Œåå•†å»ºç«‹LDPä¼šè¯çš„ç›¸å…³å‚æ•°ï¼ŒåŒ…æ‹¬LDPåè®®ç‰ˆæœ¬ã€æ ‡ç­¾åˆ†å‘æ–¹å¼ã€Keepaliveä¿æŒå®šæ—¶å™¨çš„å€¼ã€æœ€å¤§PDUé•¿åº¦å’Œæ ‡ç­¾ç©ºé—´ç­‰&lt;/li&gt;
&lt;li&gt;è¢«åŠ¨æ–¹LSR_2æ”¶åˆ°åˆå§‹åŒ–æ¶ˆæ¯åï¼Œ
&lt;ol&gt;
&lt;li&gt;æ¥å—ç›¸å…³å‚æ•°ï¼Œåˆ™å‘é€åˆå§‹åŒ–æ¶ˆæ¯Initå’ŒKeepaliveæ¶ˆæ¯ç»™ä¸»åŠ¨æ–¹LSR_1&lt;/li&gt;
&lt;li&gt;ä¸èƒ½æ¥å—ç›¸å…³å‚æ•°ï¼Œåˆ™å‘é€Notificationæ¶ˆæ¯ç»ˆæ­¢LDPä¼šè¯çš„å»ºç«‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¸»åŠ¨æ–¹LSR_1æ”¶åˆ°åˆå§‹åŒ–æ¶ˆæ¯åï¼Œ
&lt;ol&gt;
&lt;li&gt;æ¥å—ç›¸å…³å‚æ•°ï¼Œåˆ™å‘é€Keepaliveæ¶ˆæ¯ç»™è¢«åŠ¨æ–¹LSR_2&lt;/li&gt;
&lt;li&gt;ä¸èƒ½æ¥å—ç›¸å…³å‚æ•°ï¼Œåˆ™å‘é€Notificationæ¶ˆæ¯ç»ˆæ­¢LDPä¼šè¯çš„å»ºç«‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“åŒæ–¹éƒ½æ”¶åˆ°å¯¹ç«¯çš„Keepaliveæ¶ˆæ¯åï¼ŒLDPä¼šè¯å»ºç«‹æˆåŠŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-ldp-lspçš„å»ºç«‹é€šå‘Šé˜¶æ®µ&#34;&gt;2. LDP LSPçš„å»ºç«‹ï¼ˆé€šå‘Šé˜¶æ®µï¼‰&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;ä¸‹æ¸¸è‡ªä¸»æ ‡ç­¾å‘å¸ƒæ–¹å¼+æœ‰åºæ ‡ç­¾æ§åˆ¶æ–¹å¼+è‡ªç”±æ ‡ç­¾ä¿æŒæ–¹å¼&lt;/strong&gt;(é»˜è®¤æ–¹å¼)ä¸¾ä¾‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613886357255.png&#34; alt=&#34;LDP LSPçš„å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå‘Addressæ¶ˆæ¯ï¼Œæºå¸¦æœ¬åœ°å¼€å¯LDPåè®®çš„æ¥å£åœ°å€ï¼Œä¸”åªé€šå‘Šç»™é‚»å±…ï¼Œé‚»å±…æ”¶åˆ°ä¸å†æ‰©æ•£&lt;/li&gt;
&lt;li&gt;åˆ†å‘æ ‡ç­¾ï¼Œä½¿ç”¨label mappingæ¶ˆæ¯&lt;code&gt;å«æœ‰ä¸‰è¦ç´ ï¼šlabel+FEC+LSR-ID&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œçš„è·¯ç”±æ”¹å˜æ—¶ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¾¹ç¼˜èŠ‚ç‚¹ï¼ˆEgressï¼‰å‘ç°è‡ªå·±çš„è·¯ç”±è¡¨ä¸­å‡ºç°äº†&lt;strong&gt;æ–°çš„32ä½ä¸»æœºè·¯ç”±&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¹¶ä¸”è¿™ä¸€è·¯ç”±ä¸å±äºä»»ä½•ç°æœ‰çš„FEC&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è¯¥è¾¹ç¼˜èŠ‚ç‚¹éœ€è¦ä¸ºè¿™ä¸€è·¯ç”±å»ºç«‹ä¸€ä¸ªæ–°çš„FECï¼Œä¸ºFECåˆ†é…æ ‡ç­¾ï¼Œå¹¶ä¸»åŠ¨å‘ä¸Šæ¸¸å‘å‡ºæ ‡ç­¾æ˜ å°„æ¶ˆæ¯ï¼Œæ ‡ç­¾æ˜ å°„æ¶ˆæ¯ä¸­åŒ…å«åˆ†é…çš„æ ‡ç­¾å’Œç»‘å®šçš„FECç­‰ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;Transitæ”¶åˆ°æ ‡ç­¾æ˜ å°„æ¶ˆæ¯åï¼Œåˆ™åœ¨å…¶æ ‡ç­¾è½¬å‘è¡¨LFIBä¸­å¢åŠ ç›¸åº”çš„æ¡ç›®ï¼Œç„¶åä¸»åŠ¨å‘ä¸Šæ¸¸LSRå‘é€è¯¥FECçš„æ ‡ç­¾æ˜ å°„æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;Ingressæ”¶åˆ°æ ‡ç­¾æ˜ å°„æ¶ˆæ¯åï¼Œåœ¨æ ‡ç­¾è½¬å‘è¡¨LFIBä¸­å¢åŠ ç›¸åº”çš„æ¡ç›®ï¼ŒLSPå»ºç«‹å®Œæˆï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¯¹è¯¥FECå¯¹åº”çš„æ•°æ®æŠ¥æ–‡è¿›è¡Œæ ‡ç­¾è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;è·¯ç”±å™¨æ”¶åˆ°label mappingæ¶ˆæ¯åçš„å¤„ç†æ–¹å¼ï¼šè·¯ç”±å™¨æ”¶åˆ°label mappingæ¶ˆæ¯åï¼Œé¦–å…ˆæŸ¥çœ‹FECï¼Œæ ¹æ®FECæŸ¥FIBè¡¨æ‰¾åˆ°æœ€ä¼˜çš„ç›´è¿ä¸‹ä¸€è·³ï¼Œç„¶åæ ¹æ®ä¸‹ä¸€è·³æŸ¥çœ‹addressæ¶ˆæ¯ï¼Œå¯¹åº”åˆ°å…¶ä¸­çš„LSR-IDï¼Œç„¶åå†æ ¹æ®æ­¤LSR-IDæŸ¥çœ‹label mappingæ¶ˆæ¯ä¸­çš„LSR-IDï¼Œå¯¹åº”é€‰ç”¨å…¶ä¸­çš„labelï¼ŒæŠŠæ­¤labelæ”¾å…¥LFIB&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;mpls-vpn&#34;&gt;MPLS VPN&lt;/h1&gt;
&lt;h2 id=&#34;ç§ç½‘æ ‡ç­¾åˆ†é…&#34;&gt;ç§ç½‘æ ‡ç­¾åˆ†é…&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;MP-BGPä¸ºç§ç½‘è·¯ç”±åˆ†é…æ ‡ç­¾çš„å‰ææ˜¯PEä¸Šä½¿èƒ½MPLSåŠŸèƒ½&lt;/code&gt;&lt;br&gt;
PEé€šè¿‡MP-BGPå‘å¸ƒç§ç½‘è·¯ç”±ç»™éª¨å¹²ç½‘çš„å…¶ä»–ç›¸å…³çš„PEå‰ï¼Œéœ€è¦ä¸ºç§ç½‘è·¯ç”±åˆ†é…MPLSæ ‡ç­¾ï¼ˆç§ç½‘æ ‡ç­¾ï¼‰ï¼Œ&lt;strong&gt;å½“æ•°æ®åŒ…åœ¨éª¨å¹²ç½‘ä¼ è¾“æ—¶ï¼Œéœ€è¦æºå¸¦ç§ç½‘æ ‡ç­¾&lt;/strong&gt;&lt;code&gt;MPLSç½‘ç»œæ— æ³•è½¬å‘IPæ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ç§ç½‘æ ‡ç­¾ï¼Œåœ¨PHPåä¼šå¯¼è‡´æ•°æ®è¢«ä¸¢å¼ƒ&lt;/code&gt;ï¼ŒPEä¸Šåˆ†é…ç§ç½‘æ ‡ç­¾çš„æ–¹æ³•æœ‰å¦‚ä¸‹ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºè·¯ç”±çš„MPLSæ ‡ç­¾åˆ†é…&lt;/strong&gt;ï¼šä¸ºVPNè·¯ç”±è¡¨çš„æ¯ä¸€æ¡è·¯ç”±åˆ†é…ä¸€ä¸ªæ ‡ç­¾ï¼Œè¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼š&lt;strong&gt;å½“è·¯ç”±æ•°é‡æ¯”è¾ƒå¤šæ—¶ï¼Œè®¾å¤‡å…¥æ ‡ç­¾æ˜ å°„è¡¨ILMéœ€è¦ç»´æŠ¤çš„è¡¨é¡¹ä¹Ÿä¼šå¢å¤š&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸºäºVPNå®ä¾‹çš„MPLSæ ‡ç­¾åˆ†é…&lt;/strong&gt;ï¼šä¸ºæ•´ä¸ªVPNå®ä¾‹åˆ†é…ä¸€ä¸ªæ ‡ç­¾ï¼Œè¯¥VPNå®ä¾‹é‡Œçš„æ‰€æœ‰è·¯ç”±éƒ½å…±äº«ä¸€ä¸ªæ ‡ç­¾ï¼Œä½¿ç”¨è¿™ç§åˆ†é…æ–¹æ³•çš„å¥½å¤„æ˜¯èŠ‚çº¦äº†æ ‡ç­¾&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç§ç½‘è·¯ç”±äº¤å‰&#34;&gt;ç§ç½‘è·¯ç”±äº¤å‰&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ç”¨æ¥è§£å†³è¿›å…¥VPNå®ä¾‹ä¹‹å‰çš„è·¯ç”±çš„ç­›é€‰å’Œä¼˜é€‰&lt;/code&gt;&lt;br&gt;
åœ¨BGP/MPLS IP VPNç»„ç½‘ä¸­ï¼ŒPEè®¾å¤‡ä»CEè®¾å¤‡&lt;strong&gt;æ”¶åˆ°BGPç§ç½‘è·¯ç”±&lt;/strong&gt;æˆ–&lt;strong&gt;ä»å…¶ä»–PEè®¾å¤‡æ”¶åˆ°BGP VPNv4è·¯ç”±&lt;/strong&gt;åï¼Œè¿™äº›æ”¶åˆ°çš„è·¯ç”±éœ€è¦&lt;strong&gt;ç»è¿‡ç­›é€‰æ‰èƒ½å¤Ÿå¤åˆ¶åˆ°PEè®¾å¤‡ä¸Šå¯¹åº”çš„VPNå®ä¾‹å¹¶å‘é€ç»™å¯¹åº”çš„ç§ç½‘ç«™ç‚¹&lt;/strong&gt;ï¼Œå®ŒæˆBGP/MPLS IP VPNç»„ç½‘çš„è·¯ç”±å­¦ä¹ è¿‡ç¨‹ã€‚å…¶ä¸­è¿™ä¸ªå¯¹è·¯ç”±çš„ç­›é€‰å’Œå¤åˆ¶åˆ°VPNå®ä¾‹çš„è¿‡ç¨‹è¢«ç§°ä½œè·¯ç”±äº¤å‰ã€‚æ ¹æ®è·¯ç”±æ¥æºä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºè¿œç«¯äº¤å‰å’Œæœ¬åœ°äº¤å‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¿œç«¯äº¤å‰&lt;/strong&gt;ï¼šä»&lt;strong&gt;è¿œç«¯PEè®¾å¤‡å­¦ä¹ åˆ°çš„BGP VPNv4è·¯ç”±&lt;/strong&gt;ï¼Œæ ¹æ®å…¶æºå¸¦çš„ERTï¼ˆExport Targetï¼‰å±æ€§å€¼ï¼Œé€ä¸ªä¸æœ¬åœ°çš„VPNå®ä¾‹ä¸‹é…ç½®çš„IRTï¼ˆImport Targetï¼‰è¿›è¡ŒåŒ¹é…ã€‚å¦‚æœèƒ½å¤ŸåŒ¹é…åˆ™å°†è¿™æ¡BGP VPNv4è·¯ç”±è½¬æ¢æˆBGPç§ç½‘è·¯ç”±ï¼Œç„¶åå¤åˆ¶ä¸€ä»½åˆ°è¯¥VPNå®ä¾‹è·¯ç”±è¡¨ä¸­&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ¬åœ°äº¤å‰&lt;/strong&gt;ï¼š&lt;strong&gt;å°†PEä¸ŠæŸä¸€ä¸ªVPNå®ä¾‹ä¸‹çš„è·¯ç”±&lt;/strong&gt;æ ¹æ®ERTã€IRTçš„åŒ¹é…è§„åˆ™ï¼ˆå’Œè¿œç«¯äº¤å‰çš„è§„åˆ™ä¸€æ ·ï¼‰å¤åˆ¶åˆ°å…¶ä»–VPNå®ä¾‹è·¯ç”±è¡¨ä¸­ï¼Œ&lt;strong&gt;æœ¬åœ°äº¤å‰çš„è·¯ç”±åŒ…æ‹¬æœ¬åœ°å¼•å…¥çš„è·¯ç”±å’Œä»ç§ç½‘é‚»å±…å­¦åˆ°çš„è·¯ç”±&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617369324026.png&#34; alt=&#34;ç§ç½‘è·¯ç”±äº¤å‰&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1617369396380.png&#34; alt=&#34;è¿œç«¯äº¤å‰&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœè¿œç«¯PEå‘æ¥çš„ä¸¤æ¡BGP VPNv4è·¯ç”±çš„RDå€¼ç›¸åŒï¼Œåˆ™ä¼šç”±äºè¿™ä¸¤æ¡è·¯ç”±æ— æ³•åŒæ—¶äº¤å‰è¿›å…¥BGP VPNå®ä¾‹ï¼Œè€Œå¯¼è‡´æ— æ³•å®ç°VPN FRRåŠŸèƒ½æˆ–PEé—´çš„ç§ç½‘è·¯ç”±è´Ÿè½½åˆ†æ‹…åŠŸèƒ½&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PE1ä»PE2ã€PE3å’ŒPE4æ”¶åˆ°BGP VPNv4è·¯ç”±åä¼šå°†è¿™äº›è·¯ç”±å­˜æ”¾è‡³BGP VPNv4è·¯ç”±è¡¨ä¸­&lt;/li&gt;
&lt;li&gt;ç”±äºPE2å’ŒPE3ä¸ŠVPNå®ä¾‹çš„RDå€¼ç›¸åŒï¼Œå› æ­¤PE2å’ŒPE3å‘æ¥çš„BGP VPNv4è·¯ç”±ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥PE1å°†ä¼šä»è¿™ä¸¤æ¡è·¯ç”±ä¸­é€‰æ‹©å‡ºæœ€ä¼˜è·¯ç”±ï¼ˆæœ¬ä¾‹ä¸­æœ€ä¼˜è·¯ç”±ä¸ºPE3å‘æ¥çš„è·¯ç”±ï¼‰ã€‚è¿™æ¡æœ€ä¼˜è·¯ç”±å°†ä¼šå’ŒPE4å‘æ¥çš„è·¯ç”±&lt;strong&gt;ä¸€èµ·è½¬æ¢æˆä¸å¸¦RDå€¼çš„BGPç§ç½‘è·¯ç”±å¹¶äº¤å‰è¿›å…¥åˆ°BGP VPNå®ä¾‹è·¯ç”±è¡¨ä¸­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;PE3å’ŒPE4å‘æ¥çš„BGP VPNv4è·¯ç”±åœ¨&lt;strong&gt;å»æ‰RDå€¼åï¼Œå°†è½¬æ¢æˆä¸¤æ¡ç›¸åŒçš„BGPç§ç½‘è·¯ç”±&lt;/strong&gt;ï¼Œè¿™ä¸¤æ¡BGPç§ç½‘è·¯ç”±å°†ç»§ç»­è¿›è¡Œé€‰è·¯ï¼Œå³&lt;strong&gt;é€‰æ‹©å‡ºä¸€æ¡æœ€ä¼˜BGPç§ç½‘è·¯ç”±ä¸‹å‘è‡³ç§ç½‘IPè·¯ç”±è¡¨ä¸­&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…¬ç½‘éš§é“è¿­ä»£éš§é“è¿­ä»£æ˜¯ä»€ä¹ˆæ„æ€ä»¥åŠä½œç”¨&#34;&gt;å…¬ç½‘éš§é“è¿­ä»£ï¼ˆéš§é“è¿­ä»£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä»¥åŠä½œç”¨ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;è¿è¥å•†å¹¶ä¸æƒ³ç”¨å…¶æ ¸å¿ƒè·¯ç”±å™¨æ‰¿è½½æ‰€æœ‰çš„è·¯ç”±ï¼Œå³å¯¹äºç”¨æˆ·çš„å…¬ç½‘IPï¼ˆæˆ–è€…ç§ç½‘ï¼‰ä¸æ˜¯é€šè¿‡IGPè·¯ç”±ä¼ é€’ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨éš§é“è¿­ä»£æ¥å®ç°ä½¿ç”¨éš§é“æ¥ä¼ é€’ç”¨æˆ·çš„å…¬ç½‘IPï¼ˆæˆ–è€…ç§ç½‘ï¼‰çš„æ•°æ®ã€‚å³è¿è¡Œå•†é€šè¿‡LSPæ¥ä¼ é€’ç”¨æˆ·æµé‡ï¼Œä»è€Œè¾¾åˆ°ä¸ç”¨å­¦ä¹ ç”¨æˆ·è·¯ç”±çš„ç›®çš„&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æœ¬è´¨ï¼šä¸ºè¿œç«¯äº¤å‰çš„è·¯ç”±åˆ†é…ä¸€æ¡LSPï¼Œç”¨æ¥æ‰¿è½½è¿œç«¯äº¤å‰æˆåŠŸçš„è·¯ç”±çš„æ•°æ®&lt;/code&gt;&lt;br&gt;
ä¸ºäº†å°†ç§ç½‘æµé‡é€šè¿‡å…¬ç½‘ä¼ é€’åˆ°å¦ä¸€ç«¯ï¼Œéœ€è¦æœ‰ä¸€æ¡å…¬ç½‘éš§é“æ‰¿è½½è¿™ä¸ªç§ç½‘æµé‡ï¼Œå› æ­¤ç§ç½‘è·¯ç”±äº¤å‰å®Œæˆåï¼Œéœ€è¦&lt;strong&gt;æ ¹æ®ç›®çš„IPv4å‰ç¼€è¿›è¡Œè·¯ç”±è¿­ä»£&lt;/strong&gt;ï¼ŒæŸ¥æ‰¾åˆé€‚çš„éš§é“ï¼ˆæœ¬åœ°äº¤å‰çš„è·¯ç”±é™¤å¤–&lt;code&gt;éæ ‡ç­¾çš„å…¬ç½‘è·¯ç”±å’Œé™æ€è·¯ç”±ä¸ä¼šè¿›è¡Œéš§é“è¿­ä»£&lt;/code&gt;ï¼‰ï¼Œ&lt;strong&gt;åªæœ‰éš§é“è¿­ä»£æˆåŠŸï¼Œè¯¥è·¯ç”±æ‰è¢«æ”¾å…¥å¯¹åº”çš„VPNå®ä¾‹è·¯ç”±è¡¨&lt;/strong&gt;ã€‚å°†è·¯ç”±è¿­ä»£åˆ°ç›¸åº”çš„éš§é“çš„è¿‡ç¨‹å«åšéš§é“è¿­ä»£ã€‚&lt;br&gt;
éš§é“è¿­ä»£æˆåŠŸåï¼Œ&lt;strong&gt;ä¿ç•™è¯¥éš§é“çš„æ ‡è¯†ç¬¦ï¼ˆTunnel IDï¼‰&lt;/strong&gt;ï¼Œä¾›åç»­è½¬å‘æŠ¥æ–‡æ—¶ä½¿ç”¨ã€‚Tunnel IDç”¨äºå”¯ä¸€æ ‡è¯†ä¸€æ¡éš§é“ï¼ŒVPNæŠ¥æ–‡è½¬å‘æ—¶æ ¹æ®Tunnel IDæŸ¥æ‰¾å¯¹åº”çš„éš§é“ï¼Œç„¶åä»éš§é“ä¸Šå‘é€å‡ºå»&lt;br&gt;
&lt;strong&gt;éš§é“è¿­ä»£å¯ç”¨æ¥è§£å†³è·¯ç”±é»‘æ´&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614162331482.png&#34; alt=&#34;è§£å†³è·¯ç”±é»‘æ´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
40.0.0.0åœ°å€è¢«networkåˆ°BGPä¸­ï¼Œ40.0.0.0çš„è·¯ç”±æ˜¯æ²¡æœ‰æ ‡ç­¾çš„ï¼Œæ‰€ä»¥40.0.0.0çš„è·¯ç”±æ— æ³•é€šè¿‡LSPä¼ é€’åˆ°R1ä¸Šï¼Œéœ€è¦ä½¿ç”¨ä¸€æ¡å‘½ä»¤&lt;code&gt;route recursive-lookup tunnel&lt;/code&gt;ä½¿èƒ½è¿­ä»£éš§é“åŠŸèƒ½ï¼Œ æŠŠæ‰€æœ‰çš„è·¯ç”±éƒ½è¿­ä»£åˆ°LSPä¸­ï¼Œé‚£ä¹ˆ40.0.0.0çš„è·¯ç”±å°±å¯ä»¥é€šè¿‡4.4.4.4çš„LSPè¿›è¡Œè½¬å‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é…ç½®&lt;code&gt;route recursive-lookup tunnel&lt;/code&gt;å‘½ä»¤ä¹‹å,&lt;br&gt;
éæ ‡ç­¾å…¬ç½‘è·¯ç”±æ—¢å¯ä»¥è¿­ä»£åˆ°æœ‰LSPéš§é“çš„è·¯ç”±å¹¶ä¸”ç»§æ‰¿è¿™æ¡LSPéš§é“ï¼Œä¹Ÿå¯ä»¥è¿­ä»£åˆ°IPè·¯ç”±ï¼Œè¿™æ ·è¿­ä»£ç»“æœå°±ä¼šå‡ºç°ä¸¤æ¡ç­‰ä»·è·¯ç”±ï¼Œä¸¤è€…å½¢æˆè´Ÿè½½åˆ†æ‹…ï¼Œä¸€æ¡èµ°LSPéš§é“è½¬å‘ï¼Œä¸€æ¡èµ°IPè½¬å‘ã€‚&lt;br&gt;
å¦‚æœä¸¤æ¡é“¾è·¯ä¸­IPè½¬å‘çš„é“¾è·¯ä¸é€šï¼Œèµ°IPè½¬å‘çš„æµé‡ä¼šè¢«ä¸¢å¼ƒï¼Œå¯¼è‡´ä¸šåŠ¡ä¸­æ–­ã€‚&lt;br&gt;
ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥æŒ‡å®šå‚æ•°onlyï¼Œä½¿éæ ‡ç­¾å…¬ç½‘è·¯ç”±åªè¿­ä»£æœ‰LSPéš§é“çš„è·¯ç”±ï¼Œå¦‚æœLSPéš§é“è·¯ç”±ä¸å­˜åœ¨ï¼Œåˆ™è¿­ä»£ä¸æˆåŠŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ç§ç½‘è·¯ç”±çš„é€‰æ‹©è§„åˆ™&#34;&gt;ç§ç½‘è·¯ç”±çš„é€‰æ‹©è§„åˆ™&lt;/h2&gt;
&lt;p&gt;ç»è¿‡è·¯ç”±äº¤å‰å’Œéš§é“è¿­ä»£çš„è·¯ç”±å¹¶ä¸æ˜¯å…¨éƒ¨è¢«æ”¾å…¥VPNå®ä¾‹è·¯ç”±è¡¨ã€‚ä»æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±å’Œæœ¬åœ°äº¤å‰è·¯ç”±ä¹Ÿä¸æ˜¯å…¨éƒ¨è¢«æ”¾å…¥VPNå®ä¾‹è·¯ç”±è¡¨ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äºåˆ°&lt;strong&gt;åŒä¸€ç›®çš„åœ°å€çš„å¤šæ¡è·¯ç”±&lt;/strong&gt;ï¼Œå¦‚æœ&lt;strong&gt;ä¸è¿›è¡Œè·¯ç”±çš„è´Ÿè½½åˆ†æ‹…&lt;/strong&gt;ï¼Œåˆ™é€‰è·¯çš„ä¼˜å…ˆçº§ï¼š&lt;code&gt;ä»CEæ”¶åˆ°çš„è·¯ç”±&amp;gt;æœ¬åœ°äº¤å‰çš„è·¯ç”±&amp;gt;ä»å…¶ä»–PEæ¥æ”¶å¹¶äº¤å‰æˆåŠŸçš„è·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯¹äºåˆ°åŒä¸€ç›®çš„åœ°å€çš„å¤šæ¡è·¯ç”±ï¼Œå¦‚æœ&lt;strong&gt;è¿›è¡Œè·¯ç”±çš„è´Ÿè½½åˆ†æ‹…&lt;/strong&gt;ï¼Œåˆ™ï¼š&lt;code&gt;è´Ÿè½½åˆ†æ‹…çš„AS_PATHå±æ€§å¿…é¡»å®Œå…¨ç›¸åŒ&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆé€‰æ‹©ä»æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±&lt;/strong&gt;ï¼Œåªæœ‰ä¸€æ¡ä»æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±è€Œæœ‰å¤šæ¡äº¤å‰è·¯ç”±çš„æƒ…å†µä¸‹ï¼Œä¹Ÿåªé€‰æ‹©ä»æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åªåœ¨ä»æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±ä¹‹é—´åˆ†æ‹…æˆ–åªåœ¨äº¤å‰è·¯ç”±ä¹‹é—´åˆ†æ‹…&lt;/strong&gt;ï¼Œä¸ä¼šåœ¨æœ¬åœ°CEæ”¶åˆ°çš„è·¯ç”±å’Œäº¤å‰è·¯ç”±ä¹‹é—´åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è·¯ç”±å‘å¸ƒ&#34;&gt;è·¯ç”±å‘å¸ƒ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;VPNè·¯ç”±ä¿¡æ¯çš„å‘å¸ƒæ¶‰åŠCEå’ŒPEï¼ŒPè®¾å¤‡åªç»´æŠ¤éª¨å¹²ç½‘çš„è·¯ç”±ï¼Œä¸éœ€è¦äº†è§£ä»»ä½•VPNè·¯ç”±ä¿¡æ¯ï¼ŒPEè®¾å¤‡ä¸€èˆ¬ç»´æŠ¤æ‰€æœ‰VPNè·¯ç”±&lt;/code&gt;&lt;br&gt;
VPNè·¯ç”±ä¿¡æ¯çš„å‘å¸ƒè¿‡ç¨‹åŒ…æ‹¬&lt;strong&gt;ä¸‰éƒ¨åˆ†&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ¬åœ°CEåˆ°å…¥å£PE
&lt;ol&gt;
&lt;li&gt;CEä¸ç›´æ¥ç›¸è¿çš„PEå»ºç«‹é‚»å±…æˆ–å¯¹ç­‰ä½“å…³ç³»åï¼ŒæŠŠæœ¬ç«™ç‚¹çš„IPv4è·¯ç”±å‘å¸ƒç»™PEï¼ŒCEä¸PEä¹‹é—´å¯ä»¥ä½¿ç”¨é™æ€è·¯ç”±ã€RIPã€OSPFã€IS-ISæˆ–BGPï¼Œæ— è®ºä½¿ç”¨å“ªç§è·¯ç”±åè®®ï¼ŒCEå‘å¸ƒç»™PEçš„éƒ½æ˜¯æ ‡å‡†çš„IPv4è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å…¥å£PEåˆ°å‡ºå£PE
&lt;ol&gt;
&lt;li&gt;PEä»CEå­¦åˆ°VPNè·¯ç”±ä¿¡æ¯åï¼Œå­˜æ”¾åˆ°VPNå®ä¾‹ä¸­ï¼ŒåŒæ—¶ï¼Œä¸ºè¿™äº›æ ‡å‡†IPv4è·¯ç”±&lt;strong&gt;å¢åŠ RD&lt;/strong&gt;ï¼Œå½¢æˆVPN-IPv4è·¯ç”±&lt;/li&gt;
&lt;li&gt;å…¥å£PEé€šè¿‡MP-BGPçš„UpdateæŠ¥æ–‡æŠŠVPN-IPv4è·¯ç”±å‘å¸ƒç»™å‡ºå£PEï¼ŒUpdateæŠ¥æ–‡ä¸­æºå¸¦&lt;strong&gt;Export VPN Targetï¼ˆRTï¼‰å±æ€§åŠMPLSæ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‡ºå£PEæ”¶åˆ°VPN-IPv4è·¯ç”±åï¼Œåœ¨ä¸‹ä¸€è·³å¯è¾¾çš„æƒ…å†µä¸‹è¿›è¡Œ&lt;strong&gt;è·¯ç”±äº¤å‰ã€éš§é“è¿­ä»£å’Œè·¯ç”±ä¼˜é€‰&lt;/strong&gt;ï¼Œç„¶åå†³å®šæ˜¯å¦å°†è¯¥è·¯ç”±åŠ å…¥åˆ°VPNå®ä¾‹çš„è·¯ç”±è¡¨ï¼Œè¢«åŠ å…¥åˆ°VPNè·¯ç”±è¡¨çš„è·¯ç”±ï¼Œæœ¬åœ°PEä¸ºå…¶&lt;strong&gt;ä¿ç•™MPLSæ ‡ç­¾å€¼å’ŒTunnel ID&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å‡ºå£PEåˆ°è¿œç«¯CE
&lt;ol&gt;
&lt;li&gt;è¿œç«¯CEæœ‰å¤šç§æ–¹å¼å¯ä»¥ä»å‡ºå£PEå­¦ä¹ VPNè·¯ç”±ï¼ŒåŒ…æ‹¬é™æ€è·¯ç”±ã€RIPã€OSPFã€IS-ISå’ŒBGPï¼Œä¸æœ¬åœ°CEåˆ°å…¥å£PEçš„è·¯ç”±ä¿¡æ¯äº¤æ¢ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613996455022.png&#34; alt=&#34;è·¯ç”±å‘å¸ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE2çš„BGP IPv4å•æ’­åœ°å€æ—ä¸‹å¼•å…¥IGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;CE2å°†è¯¥è·¯ç”±éšEBGPçš„Updateæ¶ˆæ¯ä¸€èµ·å‘å¸ƒç»™Egress PEï¼ŒEgress PEä»è¿æ¥CE2çš„æ¥å£æ”¶åˆ°Updateæ¶ˆæ¯ï¼ŒæŠŠè¯¥è·¯ç”±è½¬åŒ–ä¸ºVPN IPv4è·¯ç”±ï¼ŒåŠ å…¥å¯¹åº”çš„VPNå®ä¾‹è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;Egress PEä¸ºè¯¥è·¯ç”±åˆ†é…MPLSæ ‡ç­¾ï¼Œå¹¶å°†æ ‡ç­¾å’ŒVPN IPv4è·¯ç”±ä¿¡æ¯åŠ å…¥MP-IBGPçš„Updateæ¶ˆæ¯ä¸­çš„NLRIå­—æ®µä¸­ï¼ŒExport-RTå±æ€§åŠ å…¥MP-BGP Updateæ¶ˆæ¯çš„æ‰©å±•å›¢ä½“å±æ€§å­—æ®µä¸­ï¼Œå°†Updateæ¶ˆæ¯å‘é€ç»™Ingress PE&lt;/li&gt;
&lt;li&gt;Ingress PEå¯¹è¯¥è·¯ç”±è¿›è¡Œè·¯ç”±äº¤å‰ï¼Œäº¤å‰æˆåŠŸåˆ™æ ¹æ®è·¯ç”±ç›®çš„IPv4åœ°å€è¿›è¡Œéš§é“è¿­ä»£ï¼ŒæŸ¥æ‰¾åˆé€‚çš„éš§é“ï¼Œå¦‚æœè¿­ä»£æˆåŠŸï¼Œåˆ™ä¿ç•™è¯¥éš§é“çš„Tunnel IDå’Œæ ‡ç­¾ï¼Œå¹¶å°†è·¯ç”±åŠ å…¥è¯¥VPNå®ä¾‹è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;Ingress PEæŠŠè¯¥è·¯ç”±é€šè¿‡BGP Updateæ¶ˆæ¯å‘å¸ƒç»™CE1ï¼Œæ­¤æ—¶è·¯ç”±æ˜¯æ™®é€šIPv4è·¯ç”±ï¼ŒCE1æ”¶åˆ°è¯¥è·¯ç”±åï¼ŒæŠŠè¯¥è·¯ç”±åŠ å…¥BGPè·¯ç”±è¡¨ï¼Œé€šè¿‡&lt;strong&gt;åœ¨IGPä¸­å¼•å…¥BGPè·¯ç”±çš„æ–¹æ³•å¯ä½¿CE1æŠŠè¯¥è·¯ç”±åŠ å…¥IGPè·¯ç”±è¡¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡è½¬å‘&#34;&gt;æŠ¥æ–‡è½¬å‘&lt;/h2&gt;
&lt;p&gt;VPNæŠ¥æ–‡è½¬å‘é‡‡ç”¨&lt;code&gt;ä¸¤å±‚&lt;/code&gt;æ ‡ç­¾æ–¹å¼ï¼š&lt;br&gt;
&lt;strong&gt;ç¬¬ä¸€å±‚&lt;/strong&gt;ï¼ˆå…¬ç½‘ï¼‰æ ‡ç­¾åœ¨éª¨å¹²ç½‘å†…éƒ¨è¿›è¡Œäº¤æ¢ï¼ŒæŒ‡ç¤º&lt;strong&gt;ä»PEåˆ°å¯¹ç«¯PEçš„ä¸€æ¡LSP&lt;/strong&gt;ã€‚VPNæŠ¥æ–‡åˆ©ç”¨è¿™å±‚æ ‡ç­¾ï¼Œå¯ä»¥æ²¿LSPåˆ°è¾¾å¯¹ç«¯PE&lt;br&gt;
&lt;strong&gt;ç¬¬äºŒå±‚&lt;/strong&gt;ï¼ˆç§ç½‘ï¼‰æ ‡ç­¾åœ¨ä»&lt;strong&gt;å¯¹ç«¯PEåˆ°è¾¾CE&lt;/strong&gt;æ—¶ä½¿ç”¨ï¼ŒæŒ‡ç¤ºæŠ¥æ–‡åº”è¢«é€åˆ°å“ªä¸ªSiteï¼Œæˆ–è€…åˆ°è¾¾å“ªä¸€ä¸ªCEï¼Œå³å¯¹ç«¯PEæ ¹æ®å†…å±‚æ ‡ç­¾å¯ä»¥æ‰¾åˆ°è½¬å‘æŠ¥æ–‡çš„æ¥å£&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614000916529.png&#34; alt=&#34;æŠ¥æ–‡è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CE1å‘é€ä¸€ä¸ªVPNæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Ingress PEä»ç»‘å®šäº†VPNå®ä¾‹çš„æ¥å£ä¸Š&lt;strong&gt;æ¥æ”¶VPNæ•°æ®åŒ…å&lt;/strong&gt;è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š
&lt;ol&gt;
&lt;li&gt;å…ˆ&lt;strong&gt;æ ¹æ®&lt;/strong&gt;ç»‘å®šçš„VPNå®ä¾‹çš„&lt;strong&gt;RD&lt;/strong&gt;æŸ¥æ‰¾å¯¹åº”&lt;strong&gt;VPNçš„è½¬å‘è¡¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŒ¹é…ç›®çš„IPv4å‰ç¼€ï¼Œ&lt;strong&gt;æŸ¥æ‰¾å¯¹åº”çš„Tunnel ID&lt;/strong&gt;&lt;code&gt;å³æ ¹æ®ç›®æ ‡IPåœ°å€æŸ¥æ‰¾LFIB&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å°†æŠ¥æ–‡&lt;strong&gt;æ‰“ä¸Š&lt;/strong&gt;å¯¹åº”çš„&lt;strong&gt;ç§ç½‘æ ‡ç­¾&lt;/strong&gt;ï¼ˆI-Lï¼‰ï¼Œ&lt;strong&gt;æ ¹æ®Tunnel-IDæ‰¾åˆ°éš§é“&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°†æŠ¥æ–‡ä»éš§é“å‘é€å‡ºå»&lt;/strong&gt;ï¼Œæ­¤ä¾‹çš„éš§é“æ˜¯LSPï¼Œåˆ™æ‰“ä¸Š&lt;strong&gt;å…¬ç½‘ï¼ˆå¤–å±‚ï¼‰MPLSæ ‡ç­¾å¤´&lt;/strong&gt;ï¼ˆO-L1ï¼‰&lt;code&gt;æ¥ç€ï¼Œè¯¥æŠ¥æ–‡æºå¸¦ä¸¤å±‚MPLSæ ‡ç­¾ç©¿è¶Šéª¨å¹²ç½‘ï¼Œéª¨å¹²ç½‘çš„æ¯å°Pè®¾å¤‡éƒ½å¯¹è¯¥æŠ¥æ–‡è¿›è¡Œå¤–å±‚æ ‡ç­¾äº¤æ¢&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Egress PEæ”¶åˆ°&lt;/strong&gt;è¯¥æºå¸¦ä¸¤å±‚æ ‡ç­¾çš„æŠ¥æ–‡ï¼Œäº¤ç»™MPLSåè®®å¤„ç†ï¼ŒMPLSåè®®å°†&lt;strong&gt;å»æ‰å¤–å±‚æ ‡ç­¾&lt;/strong&gt;&lt;code&gt;æ­¤ä¾‹æœ€åçš„å¤–å±‚æ ‡ç­¾æ˜¯O-L2ï¼Œä½†å¦‚æœåº”ç”¨äº†å€’æ•°ç¬¬äºŒè·³å¼¹å‡ºï¼Œåˆ™æ­¤æ ‡ç­¾ä¼šåœ¨åˆ°è¾¾Egress PEä¹‹å‰çš„ä¸€è·³å¼¹å‡ºï¼ŒEgress PEåªèƒ½æ”¶åˆ°å¸¦æœ‰å†…å±‚æ ‡ç­¾çš„æŠ¥æ–‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Egress PEçœ‹è§å†…å±‚æ ‡ç­¾åï¼Œ&lt;strong&gt;å‘ç°è¯¥æ ‡ç­¾å¤„äºæ ˆåº•ï¼Œå°†å†…å±‚æ ‡ç­¾å‰¥ç¦»&lt;/strong&gt;&lt;code&gt;å³å†…å±‚æ ‡ç­¾ç”¨äºæ•°æ®åˆ°è¾¾è¿œç«¯ä¹‹åï¼Œå†³å®šè½¬å‘è‡³å“ªä¸ªæ¥å£ï¼ˆvrfé‡Œé¢ï¼‰ï¼›å¤–å±‚æ ‡ç­¾ç”¨äºåœ¨MPLSæ ¸å¿ƒç½‘ä¸­è½¬å‘æ•°æ®&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Egress PEå°†æŠ¥æ–‡ä»&lt;strong&gt;å¯¹åº”å‡ºæ¥å£å‘é€ç»™CE2&lt;/strong&gt;ï¼Œæ­¤æ—¶æŠ¥æ–‡æ˜¯ä¸ª&lt;strong&gt;çº¯IPæŠ¥æ–‡&lt;/strong&gt;ï¼ŒæŠ¥æ–‡å°±æˆåŠŸåœ°ä»CE1ä¼ åˆ°CE2äº†ï¼ŒCE2æŒ‰ç…§æ™®é€šçš„IPè½¬å‘è¿‡ç¨‹å°†æŠ¥æ–‡ä¼ é€åˆ°ç›®çš„åœ°&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¡¥å……æé—®&#34;&gt;è¡¥å……æé—®&lt;/h3&gt;
&lt;h3 id=&#34;éƒ¨ç½²pe-ceè·¯ç”±çš„å°æç¤º&#34;&gt;éƒ¨ç½²PE-CEè·¯ç”±çš„å°æç¤º&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨é™æ€ï¼Œåˆ™PEéœ€è¦åœ¨vrfä¸‹å†™é™æ€&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨IGPï¼Œåˆ™éœ€è¦åŒå‘é‡åˆ†å¸ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯BGPï¼Œåˆ™ä¸éœ€è¦é‡åˆ†å¸ƒï¼Œä½†PEåœ¨vrfåœ°å€æ—ä¸‹åšé…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;å†…å±‚æ ‡ç­¾ç”±PE MP-BGPåˆ†é…ï¼Œæ ‡è¯†æŠ¥æ–‡åˆ°è¾¾æœ¬PEåè½¬å‘è‡³å“ªä¸ªå‡ºæ¥å£æˆ–è€…vrf&lt;/li&gt;
&lt;li&gt;å¤–å±‚æ ‡ç­¾ç”±LDPåˆ†é…ï¼Œåœ¨æ ¸å¿ƒç½‘ä¾æ®å¤–å±‚æ ‡ç­¾è½¬å‘&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åœ¨äº§ç”ŸVPNv4è·¯ç”±æ—¶ï¼Œç”±MP-BGPåˆ†é…ï¼ŒåŒæ—¶æ ‡ç­¾å°†è·Ÿéšè·¯ç”±æ›´æ–°ç»™å¯¹ç­‰ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬ç»„ç½‘&#34;&gt;åŸºæœ¬ç»„ç½‘&lt;/h2&gt;
&lt;h3 id=&#34;1-intranet-vpn&#34;&gt;1. Intranet VPN&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªVPNä¸­çš„æ‰€æœ‰ç”¨æˆ·å½¢æˆé—­åˆç”¨æˆ·ç¾¤ï¼Œç›¸äº’ä¹‹é—´èƒ½å¤Ÿè¿›è¡Œæµé‡è½¬å‘ï¼ŒVPNä¸­çš„ç”¨æˆ·ä¸èƒ½ä¸ä»»ä½•æœ¬VPNä»¥å¤–çš„ç”¨æˆ·é€šä¿¡&lt;br&gt;
éœ€è¦ä¸ºæ¯ä¸ªVPNåˆ†é…ä¸€ä¸ªVPN Targetï¼Œä½œä¸ºè¯¥VPNçš„Export Targetå’ŒImport Targetï¼Œå¹¶ä¸”ï¼Œæ­¤VPN Targetä¸èƒ½è¢«å…¶ä»–VPNä½¿ç”¨&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614003682689.png&#34; alt=&#34;Intranet VPN&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PEä¸Šä¸ºVPN1åˆ†é…çš„VPN Targetå€¼ä¸º100:1ï¼Œä¸ºVPN2åˆ†é…çš„VPN Targetå€¼ä¸º200:1ï¼ŒVPN1çš„ä¸¤ä¸ªSiteä¹‹é—´å¯ä»¥äº’è®¿ï¼ŒVPN2çš„ä¸¤ä¸ªSiteä¹‹é—´ä¹Ÿå¯ä»¥äº’è®¿ï¼Œä½†VPN1å’ŒVPN2çš„Siteä¹‹é—´ä¸èƒ½äº’è®¿&lt;/p&gt;
&lt;h3 id=&#34;2-extranet-vpn&#34;&gt;2. Extranet VPN&lt;/h3&gt;
&lt;p&gt;æŸä¸ªVPNéœ€è¦è®¿é—®å…±äº«ç«™ç‚¹ï¼Œåˆ™è¯¥VPNçš„Export Targetå¿…é¡»åŒ…å«åœ¨å…±äº«ç«™ç‚¹çš„VPNå®ä¾‹çš„Import Targetä¸­ï¼Œè€Œå…¶Import Targetå¿…é¡»åŒ…å«åœ¨å…±äº«ç«™ç‚¹VPNå®ä¾‹çš„Export Targetä¸­&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614003780250.png&#34; alt=&#34;Extranet VPN&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PE3èƒ½å¤Ÿæ¥æ”¶PE1å’ŒPE2å‘å¸ƒçš„VPN-IPv4è·¯ç”±ï¼ŒåŒæ—¶PE3å‘å¸ƒçš„VPN-IPv4è·¯ç”±èƒ½å¤Ÿè¢«PE1å’ŒPE2æ¥æ”¶ï¼Œå› æ­¤ï¼ŒVPN1çš„Site1å’ŒSite3ä¹‹é—´èƒ½å¤Ÿäº’è®¿ï¼ŒVPN2çš„Site2å’ŒVPN1çš„Site3ä¹‹é—´èƒ½å¤Ÿäº’è®¿&lt;br&gt;
PE3ä¸æŠŠä»PE1æ¥æ”¶çš„VPN-IPv4è·¯ç”±å‘å¸ƒç»™PE2ï¼Œä¹Ÿä¸æŠŠä»PE2æ¥æ”¶çš„VPN-IPv4è·¯ç”±å‘å¸ƒç»™PE1ï¼Œå› æ­¤ï¼ŒVPN1çš„Site1å’ŒVPN2çš„Site2ä¹‹é—´ä¸èƒ½äº’è®¿&lt;/p&gt;
&lt;h3 id=&#34;3-hub-and-spokeå¦‚ä½•ä½¿ç”¨rtå€¼æ¥æ­å»ºhub-sporkçš„ç½‘ç»œç¯å¢ƒ&#34;&gt;3. Hub and Spokeï¼ˆå¦‚ä½•ä½¿ç”¨RTå€¼æ¥æ­å»ºHub-Sporkçš„ç½‘ç»œç¯å¢ƒï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨VPNä¸­è®¾ç½®ä¸­å¿ƒè®¿é—®æ§åˆ¶è®¾å¤‡ï¼Œå…¶å®ƒç”¨æˆ·çš„äº’è®¿éƒ½é€šè¿‡ä¸­å¿ƒè®¿é—®æ§åˆ¶è®¾å¤‡è¿›è¡Œ&lt;br&gt;
ä¸­å¿ƒè®¿é—®æ§åˆ¶è®¾å¤‡æ‰€åœ¨ç«™ç‚¹ç§°ä¸ºHubç«™ç‚¹ï¼Œå…¶ä»–ç”¨æˆ·ç«™ç‚¹ç§°ä¸ºSpokeç«™ç‚¹ï¼ŒSpokeç«™ç‚¹éœ€è¦æŠŠè·¯ç”±å‘å¸ƒç»™Hubç«™ç‚¹ï¼Œå†é€šè¿‡Hubç«™ç‚¹å‘å¸ƒç»™å…¶ä»–Spokeç«™ç‚¹ï¼ŒSpokeç«™ç‚¹ä¹‹é—´ä¸ç›´æ¥å‘å¸ƒè·¯ç”±ï¼ŒHubç«™ç‚¹å¯¹Spokeç«™ç‚¹ä¹‹é—´çš„é€šè®¯è¿›è¡Œé›†ä¸­æ§åˆ¶ã€‚&lt;br&gt;
å¯¹äºè¿™ç§ç»„ç½‘æƒ…å†µï¼Œéœ€è¦è®¾ç½®ä¸¤ä¸ªVPN Targetï¼Œä¸€ä¸ªè¡¨ç¤ºHubï¼Œå¦ä¸€ä¸ªè¡¨ç¤ºSpoke&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614004586160.png&#34; alt=&#34;Hub and Spoke&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å„Siteåœ¨PEä¸Šçš„VPNå®ä¾‹çš„VPN Targetè®¾ç½®è§„åˆ™ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Spoke-PEï¼šExport Targetä¸ºSpokeï¼ŒImport Targetä¸ºHubï¼Œä»»æ„Spoke-PEçš„Import Route Targetå±æ€§ä¸ä¸å…¶å®ƒSpoke-PEçš„Export Route Targetå±æ€§ç›¸åŒï¼›&lt;/li&gt;
&lt;li&gt;Hub-PEï¼šHub-PEä¸Šéœ€è¦ä½¿ç”¨ä¸¤ä¸ªæ¥å£æˆ–å­æ¥å£ï¼š
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ªç”¨äºæ¥æ”¶Spoke-PEå‘æ¥çš„è·¯ç”±ï¼Œå…¶VPNå®ä¾‹çš„Import Targetä¸ºSpoke&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç”¨äºå‘Spoke-PEå‘å¸ƒè·¯ç”±ï¼Œå…¶VPNå®ä¾‹çš„Export Targetä¸ºHub&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;rtä¸rdçš„ä½œç”¨&#34;&gt;RTä¸RDçš„ä½œç”¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;VRF&lt;/strong&gt;&lt;br&gt;
ç›®çš„æ˜¯&lt;strong&gt;è§£å†³ä¸åŒä¼ä¸šç§ç½‘åœ°å€æ®µç›¸åŒè€Œå†²çªçš„é—®é¢˜&lt;/strong&gt;ï¼Œé‡‡ç”¨å°†ç›¸åŒç§ç½‘åœ°å€æ”¾åˆ°ä¸åŒçš„VRFè¡¨ä¸­ã€‚VRFåŒºåˆ†ä¸åŒCEç«¯è¿›æ¥è¾¹ç•ŒPEçš„ç›¸åŒç§ç½‘è·¯ç”±ï¼Œè·¯ç”±å™¨çš„æ¯ä¸€ä¸ªVRFéƒ½è‡ªåŠ¨ç”Ÿæˆç›¸åº”VRFè¡¨ï¼Œ&lt;strong&gt;æ¯å¼ VRFè¡¨éƒ½å…·æœ‰è·¯ç”±åŒºåˆ†ç¬¦RDå’Œè·¯ç”±ç›®æ ‡RTä¸¤å¤§å±æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RD&lt;/strong&gt;&lt;code&gt;åŒºåˆ†å®ä¾‹ï¼Œæ ‡è®°è·¯ç”±ï¼Œæœ¬åœ°æœ‰æ•ˆï¼ŒåŒºåˆ†ä¸åŒç«™ç‚¹çš„ç›¸åŒè·¯ç”±ï¼Œä½†ä¸å…·æœ‰é€‰è·¯èƒ½åŠ›ï¼Œä¹Ÿä¸å½±å“è·¯ç”±æ¥æ”¶å’Œä¼˜é€‰&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;8ä¸ªå­—èŠ‚çš„RD&lt;/strong&gt;+4ä¸ªå­—èŠ‚çš„IPv4åœ°å€ç»„æˆ&lt;strong&gt;96ä½VPNv4è·¯ç”±&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä½¿ä¸å”¯ä¸€çš„IPv4åœ°å€è½¬åŒ–ä¸ºå”¯ä¸€çš„VPN-IPv4åœ°å€&lt;/strong&gt;ï¼Œè¯¥VPNv4è·¯ç”±åœ¨ISPåŸŸå†…ä¼ é€’ï¼ˆåŒºåˆ†ï¼‰ï¼Œ&lt;code&gt;RDä¸è·¯ç”±ä¸€èµ·è¢«æºå¸¦åœ¨BGP UpdateæŠ¥æ–‡ä¸­å‘å¸ƒç»™å¯¹ç«¯&lt;/code&gt;RDç»™æŸVRFé‡Œé¢çš„è·¯ç”±æ‰“ä¸Šæ ‡ç­¾ï¼Œè¿›è€Œå®ç°åœ°å€çš„å¤ç”¨è€Œä¸äº§ç”Ÿå†²çªã€‚&lt;strong&gt;RDç”¨æ¥åŒºåˆ†æœ¬åœ°VRFï¼Œè¯¥å±æ€§ä»…æœ¬åœ°æœ‰æ•ˆ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RT&lt;/strong&gt;&lt;code&gt;å¯¹è·¯ç”±è¿›è¡Œæ§åˆ¶ï¼Œæ§åˆ¶è·¯ç”±çš„å¯¼å…¥ä¸å¯¼å‡º&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;BGPçš„æ‰©å±•å›¢ä½“å±æ€§&lt;/strong&gt;ï¼Œå®ƒåˆ†æˆImport RTå’ŒExport RTï¼Œåˆ†åˆ«&lt;strong&gt;ç”¨äºè·¯ç”±çš„å¯¼å…¥ã€å¯¼å‡ºç­–ç•¥&lt;/strong&gt;ï¼Œå³&lt;code&gt;RTæ˜¯æ§åˆ¶ä¸€ä¸ªVRFé‡Œé¢å¯ä»¥å‘å‡ºå’Œæ¥å—ä»€ä¹ˆæ ·çš„è·¯ç”±&lt;/code&gt;ï¼ŒRTå…·æœ‰&lt;strong&gt;å…¨å±€å”¯ä¸€æ€§&lt;/strong&gt;ï¼Œå¹¶ä¸”&lt;strong&gt;åªèƒ½è¢«ä¸€ä¸ªVPNä½¿ç”¨&lt;/strong&gt;ã€‚é€šè¿‡é…ç½®importå’Œexport RTï¼Œæ¥æ§åˆ¶æ”¶å‘è·¯ç”±ï¼š
&lt;ol&gt;
&lt;li&gt;å½“ä»VRFè¡¨ä¸­å¯¼å‡ºVPNè·¯ç”±æ—¶ï¼Œè¦ç”¨Export RTå¯¹VPNè·¯ç”±è¿›è¡Œæ ‡è®°&lt;/li&gt;
&lt;li&gt;å½“å¾€VRFè¡¨ä¸­å¯¼å…¥VPNè·¯ç”±æ—¶ï¼Œåªæœ‰æ‰€å¸¦RTæ ‡è®°ä¸VRFè¡¨ä¸­ä»»æ„ä¸€ä¸ªImport RTç›¸ç¬¦çš„è·¯ç”±æ‰ä¼šè¢«å¯¼å…¥åˆ°VRFè¡¨ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯vpnv4è·¯ç”±&#34;&gt;ä»€ä¹ˆæ˜¯VPNv4è·¯ç”±&lt;/h2&gt;
&lt;p&gt;é€šè¿‡æŠŠ&lt;strong&gt;64bitçš„RDå€¼+32bit0çš„IPv4&lt;/strong&gt;çš„è·¯ç”±å°±å½¢æˆäº†96bitçš„VPNv4è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;å¸¸è§çš„æ‰©å±•å›¢ä½“å±æ€§æœ‰å“ªäº›&#34;&gt;å¸¸è§çš„æ‰©å±•å›¢ä½“å±æ€§æœ‰å“ªäº›&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;RT&lt;/li&gt;
&lt;li&gt;cost-community&lt;/li&gt;
&lt;li&gt;SoO&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;soo&#34;&gt;SoO&lt;/h3&gt;
&lt;p&gt;SoOç”¨äºåœ¨å¤šå‡ºå£æƒ…å†µä¸‹é˜»æ­¢ç¯è·¯ï¼Œå”¯ä¸€çš„SoOå€¼å¿…é¡»ä¸ºæ¯ä¸ªVPNç«™ç‚¹é…ç½®ï¼Œåº”ç”¨äºPE-CEè¿æ¥çš„æ¥å£ä¸‹ï¼Œå…¶æœ¬è´¨æ˜¯&lt;code&gt;ä¸æŠŠæ”¶åˆ°çš„è·¯ç”±å†ä¼ ç»™å®¢æˆ·ç«™ç‚¹&lt;/code&gt;ï¼Œ&lt;strong&gt;éƒ¨ç½²åœ¨PEçš„vrfæ¥å£ä¸‹&lt;/strong&gt;ï¼Œå…¶å€¼ä¸€èˆ¬ä¸º&lt;code&gt;ASN:nn&lt;/code&gt;æˆ–è€…&lt;code&gt;IP-address:nn&lt;/code&gt;&lt;br&gt;
ã€æ³¨æ„ã€‘ï¼šSOOçš„é˜²ç¯æœºåˆ¶ï¼Œæ˜¯åœ¨PEä¼ é€’è·¯ç”±ç»™CEçš„æ—¶å€™ï¼Œæ£€æŸ¥å‡ºæ¥å£é…ç½®çš„SOOå€¼æ˜¯å¦ä¸ä»å…¶ä»–MP-BGPé‚»å±…æ”¶åˆ°çš„VPNv4è·¯ç”±çš„SOOå€¼ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œå°±ä¸ä¼ ç»™CEï¼Œ&lt;strong&gt;è€Œä¸æ˜¯PEä¸æ¥æ”¶ä»CEæˆ–è€…å…¶ä»–è®¾å¤‡å‘æ¥çš„å’ŒSoOå€¼ç›¸åŒçš„è·¯ç”±&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ä»CEæ”¶åˆ°çš„è·¯ç”±å¼•å…¥MP-BGPï¼Œå¢åŠ æ‰©å±•å›¢ä½“å±æ€§å€¼è‡ªå®šä¹‰SoO&lt;/li&gt;
&lt;li&gt;å…¶å®ƒPEè®¾å¤‡ä¸å°†æºå¸¦ç‰¹å®šSoOå±æ€§å€¼çš„è·¯ç”±ä¼ é€’ç»™åŒç«™ç‚¹çš„CE&lt;/li&gt;
&lt;li&gt;ç›¸åŒSoOå€¼ï¼Œè¢«PEè®¤ä¸ºæ˜¯åŒç«™ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸¾ä¾‹è¯´æ˜&#34;&gt;ä¸¾ä¾‹è¯´æ˜&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1598626932182.png&#34; alt=&#34;ä¸¾ä¾‹è¯´æ˜&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨PE1ä¸Šé’ˆå¯¹CE1å¯¹ç­‰ä½“æŒ‡å®šSoOå±æ€§ï¼Œè¯¥å±æ€§ç›¸å½“äºæ ‡è¯†äº†CE1æ‰€åœ¨Site&lt;/li&gt;
&lt;li&gt;å½“CE1å‘å¸ƒè·¯ç”±ç»™PE1æ—¶ï¼ŒPE1ä¸ºè¿™äº›è·¯ç”±æºå¸¦ä¸Šè¯¥SoOå±æ€§&lt;/li&gt;
&lt;li&gt;PE1é€šè¿‡éª¨å¹²ç½‘å°†è¿™äº›è·¯ç”±å‘å¸ƒç»™PE2æ—¶ä¹Ÿå°†æºå¸¦æ­¤SoOå±æ€§&lt;/li&gt;
&lt;li&gt;PE2å°†è¿™äº›è·¯ç”±å‘å¸ƒç»™è‡ªå·±çš„CE2å¯¹ç­‰ä½“æ—¶ï¼Œå¦‚æœPE2å‘ç°è·¯ç”±ä¸­æºå¸¦çš„SoOå±æ€§ä¸å…¶ä¸Šé’ˆå¯¹CE2å¯¹ç­‰ä½“é…ç½®çš„SoOå±æ€§ç›¸åŒï¼Œè¯´æ˜è¿™äº›è·¯ç”±å°±æ˜¯ç”±è¯¥Siteï¼ˆCE1æ‰€åœ¨çš„siteï¼‰å‘å‡ºçš„ï¼Œä»è€Œæ‹’ç»å°†è·¯ç”±å‘å¸ƒç»™CE2å¯¹ç­‰ä½“ï¼Œä»è€Œé¿å…äº†VPN siteå†…è·¯ç”±ç¯è·¯çš„äº§ç”Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å‘½ä»¤policy-vpn-targetçš„ä½œç”¨&#34;&gt;å‘½ä»¤policy-vpn-targetçš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;æ”¶åˆ°ä¸€æ¡VPNv4è·¯ç”±ï¼Œè¦æŸ¥çœ‹RTå€¼æ˜¯å¦å’Œè‡ªå·±çš„importæ–¹å‘çš„RTå€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒåˆ™ä¸æ”¶ã€‚&lt;br&gt;
å¦‚æœundoæ‰è¿™ä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆæ”¶åˆ°äº†ä¸€æ¡VPNv4çš„è·¯ç”±é¦–å…ˆä¼šæ”¶å…¥è‡ªå·±çš„VPNv4è·¯ç”±è¡¨ï¼Œå†æŸ¥çœ‹æ˜¯å¦å¯¹åº”è‡ªå·±çš„RTå€¼ï¼Œå¦‚æœä¸åŒ¹é…åˆ™åªå­˜åœ¨äºè‡ªå·±çš„VPNv4è·¯ç”±è¡¨ä¸­ï¼Œä¸ä¼šæ”¾å…¥å®ä¾‹è·¯ç”±è¡¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŒæ ‡ç­¾çš„ä½œç”¨ç”±å“ªç§åè®®åˆ†é…&#34;&gt;åŒæ ‡ç­¾çš„ä½œç”¨ï¼Œç”±å“ªç§åè®®åˆ†é…&lt;/h2&gt;
&lt;p&gt;å…¬ç½‘æ ‡ç­¾è´Ÿè´£æ•°æ®åœ¨å…¬ç½‘çš„ä¼ è¾“ï¼Œç§ç½‘æ ‡ç­¾æŒ‡å¯¼æ•°æ®è¿›å…¥ç›¸åº”çš„å®ä¾‹&lt;br&gt;
å…¬ç½‘æ ‡ç­¾ç”±LDPåˆ†é…ï¼Œç§ç½‘æ ‡ç­¾ç”±MP-BGPåˆ†é…ã€‚&lt;br&gt;
å¦‚æœåªæœ‰å…¬ç½‘æ ‡ç­¾çš„è¯ï¼Œç”±äºLDPåˆ†é…çš„3å·æ ‡ç­¾ä¼šè¿›è¡Œæ¬¡æœ«è·³å¼¹å‡ºï¼Œè¿›è¡ŒIPV4è½¬å‘ï¼Œä½†æ˜¯åœ¨MPLS VPNä¸­å¹¶ä¸è¯†åˆ«IPV4çš„è·¯ç”±ï¼Œå°±æ— æ³•è½¬å‘æ•°æ®åŒ…è€Œä¸¢å¼ƒï¼Œæ‰€ä»¥è¿™æ—¶éœ€è¦é€šè¿‡å†…å±‚æ ‡ç­¾ï¼Œè¿›è¡Œè½¬å‘ï¼Œé€šè¿‡æ ‡ç­¾ä¸å®ä¾‹çš„å¯¹åº”å…³ç³»ï¼Œå°±çŸ¥é“è½¬å‘åˆ°å“ªä¸ªå®ä¾‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mplsåŸŸå†…æ±‡æ€»ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜&#34;&gt;MPLSåŸŸå†…æ±‡æ€»ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜&lt;/h2&gt;
&lt;h3 id=&#34;1-é’ˆå¯¹å†…éƒ¨è·¯ç”±è¿›è¡Œæ±‡æ€»lspä¸­æ–­&#34;&gt;1. é’ˆå¯¹å†…éƒ¨è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼ˆLSPä¸­æ–­ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;éš§é“ä¸­æ–­ï¼Œä½†æ˜¯æŠ¥æ–‡ä¾æ—§èƒ½åˆ°è¾¾&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617376975690.png&#34; alt=&#34;é’ˆå¯¹å†…éƒ¨è·¯ç”±è¿›è¡Œæ±‡æ€»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨R3ä¸Šé’ˆå¯¹R1çš„1.1.1.1/32çš„è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼Œæ±‡æ€»æˆ1.1.1.0/24ä½å¹¶æŠ‘åˆ¶äº†1.1.1.1/32ï¼Œæ­¤æ—¶ç”±äºä¸æ˜¯32ä½çš„ä¸»æœºè·¯ç”±ï¼ŒR3å°†æ±‡æ€»åçš„è·¯ç”±é€šè¿‡IGPåè®®é€šå‘Šç»™å…¶ä»–è·¯ç”±å™¨ä¹‹åï¼Œå…¶ä»–è·¯ç”±å™¨å¹¶ä¸ä¼šç»™è¿™ä¸ªæ±‡æ€»è·¯ç”±åˆ†é…æ ‡ç­¾ï¼Œé€ æˆåœ¨R3ã€R4ã€R5ä¸Šæ²¡æœ‰1.1.1.0/24è·¯ç”±çš„æ ‡ç­¾ï¼Œå¯¼è‡´LSPæ–­è£‚&lt;br&gt;
æ­¤æ—¶æ•°æ®è½¬å‘æµç¨‹ï¼šR5è®¿é—®1.1.1.1æ—¶ï¼ŒR5ä¸Šæ²¡æœ‰1.1.1.1/32ï¼Œåªæœ‰æ±‡æ€»åçš„è·¯ç”±ï¼Œæ‰€ä»¥åœ¨R3åˆ°R5ä¹‹é—´è¿›è¡ŒIGPè½¬å‘ï¼›å½“æ•°æ®åˆ°è¾¾R3æ—¶ï¼Œå‘½ä¸­æ›´åŠ ç²¾ç¡®çš„è·¯ç”±1.1.1.1/32ï¼Œç„¶ååœ¨R1åˆ°R3ä¹‹é—´é€šè¿‡æ ‡ç­¾è½¬å‘ï¼Œèµ°LSPé€šé“&lt;/p&gt;
&lt;h3 id=&#34;2-é’ˆå¯¹æ‰€æœ‰è·¯ç”±è¿›è¡Œæ ‡ç­¾åˆ†é…lspä¸è¿ç»­&#34;&gt;2. é’ˆå¯¹æ‰€æœ‰è·¯ç”±è¿›è¡Œæ ‡ç­¾åˆ†é…ï¼ˆLSPä¸è¿ç»­ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;å†…éƒ¨è·¯ç”±æ±‡æ€»ä¹‹åå¯¼è‡´LSPä¸­æ–­ï¼Œç©¶å…¶åŸå› æ˜¯LDPä¸ä¸ºéä¸»æœºè·¯ç”±åˆ†é…æ ‡ç­¾ï¼Œå¦‚æœé€šè¿‡ä¿®æ”¹æ ‡ç­¾åˆ†é…æ–¹å¼ä½¿å…¶èƒ½ä¸ºæ±‡æ€»è·¯ç”±åˆ†é…æ ‡ç­¾ï¼Œåˆ™ä¼šå¯¼è‡´éš§é“ä¸è¿ç»­ï¼Œå³é’ˆå¯¹ä¸¤æ¡è·¯ç”±ç”Ÿæˆä¸¤æ¡ä¸ç›¸å¹²çš„LSPï¼Œä½†æ˜¯æŠ¥æ–‡ä¾æ—§èƒ½å¤Ÿåˆ°è¾¾ï¼Œå¹¶ä¸”éƒ½æ˜¯é€šè¿‡æ ‡ç­¾äº¤æ¢&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617377600510.png&#34; alt=&#34;é’ˆå¯¹æ‰€æœ‰è·¯ç”±è¿›è¡Œæ ‡ç­¾åˆ†é…&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å³åœ¨R3ã€R4ã€R5ä½¿ç”¨å‘½ä»¤&lt;code&gt;lsp-trigger allï¼ˆæˆ–è€…é…ç½®ip-prefixï¼‰&lt;/code&gt;æ¥ä¸ºæ±‡æ€»è·¯ç”±åˆ†é…æ ‡ç­¾ï¼Œä»è€Œåœ¨R3åˆ°R5ä¹‹é—´ä¸ºæ±‡æ€»è·¯ç”±é‡æ–°ç”Ÿæˆä¸€æ¡LSPï¼Œæ•°æ®åœ¨R1ä¸R3ä¹‹é—´èµ°éš§é“1ï¼Œåœ¨R3ä¸R5ä¹‹é—´èµ°éš§é“2&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;lsp-trigger&lt;/code&gt;å‘½ä»¤å’Œ&lt;code&gt;lsp-trigger bgp-label-route&lt;/code&gt;å‘½ä»¤éƒ½ç”¨äºé…ç½®LDP LSPçš„è§¦å‘å»ºç«‹ç­–ç•¥ï¼Œå‰è€…é€‚ç”¨äºé™æ€è·¯ç”±å’ŒIGPè·¯ç”±ï¼›åè€…ä»…é€‚ç”¨äºå¸¦æ ‡ç­¾çš„å…¬ç½‘BGPè·¯ç”±&lt;br&gt;
&lt;strong&gt;ä¸æ¨èé…ç½®lsp-trigger allå‘½ä»¤&lt;/strong&gt;ï¼Œå› ä¸ºé…ç½®è¯¥å‘½ä»¤åï¼Œ&lt;strong&gt;æ‰€æœ‰IGPè·¯ç”±ä¼šè§¦å‘LDPå»ºç«‹LSPï¼Œå¯¼è‡´LSPæ•°é‡åºå¤§&lt;/strong&gt;ï¼Œå ç”¨è¿‡å¤šçš„ç³»ç»Ÿèµ„æºã€‚å¦‚æœéœ€è¦é…ç½®è¯¥å‘½ä»¤ï¼Œå¯ä»¥å…ˆé…ç½®è·¯ç”±è¿‡æ»¤ç­–ç•¥ï¼Œå‡å°‘è·¯ç”±æ•°é‡ï¼Œä»è€Œå‡å°‘è·¯ç”±è§¦å‘LDPå»ºç«‹çš„LSPçš„æ•°é‡ï¼ŒèŠ‚çº¦ç³»ç»Ÿèµ„æº&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;3-é’ˆå¯¹bgpè·¯ç”±è·¯ç”±é»‘æ´&#34;&gt;3. é’ˆå¯¹BGPè·¯ç”±ï¼ˆè·¯ç”±é»‘æ´ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;å®¢æˆ·çš„è·¯ç”±æ—¶100.1.1.1ï¼Œå¦ä¸€ä¸ªR6æƒ³è¦è®¿é—®100.1.1.1ï¼Œè¿è¡Œå•†ä¸æƒ³è®©å…¶æ ¸å¿ƒè·¯ç”±å™¨æ‰¿æ‹…è¿‡å¤šçš„è·¯ç”±ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨éš§é“æ¥ä¼ è¾“ç”¨æˆ·çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯åœ¨R1å’ŒR5ä¸Šå¼€å¯éš§é“è¿­ä»£åŠŸèƒ½&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æ±‡æ€»å¯¼è‡´BGPè·¯ç”±æ²¡æœ‰éš§é“è¿­ä»£ï¼Œä¸”è¿è¥å•†è®¾å¤‡æ— ç”¨æˆ·è·¯ç”±å¯¼è‡´ä¸¢åŒ…&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1617378988864.png&#34; alt=&#34;é’ˆå¯¹BGPè·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨R1å’ŒR5ä¸Šä½¿ç”¨å‘½ä»¤&lt;code&gt;route recursive-lookup tunnel&lt;/code&gt;å¼€å¯è·¯ç”±çš„è¿­ä»£éš§é“çš„åŠŸèƒ½ï¼Œæ­¤æ—¶R6å¯ä»¥é€šè¿‡è¿è¥å•†å»ºç«‹çš„LSPè®¿é—®åˆ°100.1.1.1&lt;br&gt;
ä½†æ˜¯åˆšæ‰åœ¨R3ä¸Šåšäº†åŸŸå†…è·¯ç”±çš„æ±‡æ€»å¯¼è‡´æ ‡ç­¾æ–­è£‚ï¼Œ&lt;strong&gt;æ±‡æ€»å¯¼è‡´BGPè·¯ç”±æ²¡æœ‰éš§é“è¿­ä»£&lt;/strong&gt;ï¼Œå°±ä¼šå»æ ¹æ®ä¸‹ä¸€è·³å»è½¬å‘ï¼ŒR5å‘é€ç»™R4ï¼ŒR4æŸ¥è·¯ç”±è¡¨æ²¡æœ‰100.1.1.1çš„è·¯ç”±ï¼ŒR4ä¼šè¿›è¡Œä¸¢åŒ…&lt;br&gt;
è™½ç„¶ä¹‹ååˆå¯¹æ±‡æ€»è·¯ç”±åˆ†é…äº†æ ‡ç­¾ï¼Œä½†LSPä¾ç„¶æ˜¯ä¸è¿ç»­çš„ï¼Œä¼šåœ¨R3ä¸Šè¿›è¡Œä¸¢åŒ…ï¼Œå› ä¸ºåœ¨R3ä¸Šå‰¥ç¦»äº†æ ‡ç­¾3000ä¹‹åéœ²å‡ºçš„æ˜¯ç›®çš„IP 100.1.1.1ï¼ŒR3ä¸Šä¹Ÿæ²¡æœ‰æ­¤è·¯ç”±ï¼Œåˆä¼šå¯¼è‡´ä¸¢åŒ…&lt;/p&gt;
&lt;h3 id=&#34;4-é’ˆå¯¹ç§ç½‘è·¯ç”±æ±‡æ€»&#34;&gt;4. é’ˆå¯¹ç§ç½‘è·¯ç”±æ±‡æ€»&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1617379967569.png&#34; alt=&#34;é’ˆå¯¹ç§ç½‘è·¯ç”±æ±‡æ€»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;R2ã€R3ã€R4åªè¿è¡ŒIGPåè®®ï¼Œä¸è¿è¡ŒBGPåè®®&lt;/code&gt;&lt;br&gt;
VPNè·¯ç”±ï¼Œä¸‹ä¸€è·³å¯¹åº”çš„éš§é“å¿…é¡»æ˜¯32ä½çš„ï¼Œåœ¨R5ä¸Šåšäº†æ±‡æ€»ä¹‹åå°±ä¸æ˜¯32ä½ï¼Œæ— æ³•åŠ å…¥åˆ°VRFè·¯ç”±è¡¨ï¼Œç›´æ¥åœ¨å§‹å‘èŠ‚ç‚¹ä¸¢åŒ…ï¼Œå› ä¸ºæ²¡æœ‰è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;mpls-vpnä¸­çš„é˜²ç¯æŠ€æœ¯&#34;&gt;MPLS VPNä¸­çš„é˜²ç¯æŠ€æœ¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;OSPFé˜²ç¯&lt;code&gt;æœ¬è´¨æ˜¯åªæ¥æ”¶ä¸é€‰è·¯&lt;/code&gt;ï¼šé€šè¿‡DNä½é˜²æ­¢3ç±»LSAç¯è·¯&lt;sub&gt;ä½†DNä½å¯ç”¨äºæ‰€æœ‰LSAé˜²ç¯&lt;/sub&gt;ï¼Œå³ä¸æ¥æ”¶DNä½ç½®ä½çš„LSAï¼›é€šè¿‡TAGé˜²æ­¢5ç±»LSAï¼ˆå’Œ7ç±»ï¼‰çš„ç¯è·¯ï¼Œå³åœ¨TAGä¸­åŒ…å«BGPçš„ASå·ï¼Œå¦‚æœåœ¨TAGä¸­åŒ…å«æœ¬åœ°çš„ASå·ï¼Œ5ç±»LSAä¸æ¥æ”¶&lt;code&gt;OSPFæ¥å…¥MPLS VPNä¹‹åçš„é˜²ç¯æœºåˆ¶ï¼šå†…éƒ¨è·¯ç”±up/downæ¯”ç‰¹è®¾ç½®ã€å¤–éƒ¨è·¯ç”±åˆ©ç”¨TAGé˜²ç¯(CEåŒå½’å±ç­‰)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;BGPé˜²ç¯&lt;code&gt;æœ¬è´¨æ˜¯å…¥æ–¹å‘è·¯ç”±æ ‡è®°ã€ç„¶åå¯¹æ ‡è®°çš„è·¯ç”±åœ¨å‡ºæ–¹å‘è¿›è¡Œè¿‡æ»¤ï¼Œå³å¯¹ä»CEæ”¶åˆ°çš„è·¯ç”±è¿›è¡Œæ ‡è®°ï¼ŒPEä¹‹é—´å¯ä»¥ä¼ é€’ï¼Œä½†å…¶ä»–PEä¸ä¼šå†ä¼ é€’ç»™CE&lt;/code&gt;ï¼šä½¿ç”¨SoOè¿›è¡Œé˜²ç¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614170477955.png&#34; alt=&#34;BGPé˜²ç¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PE3ä¼ é€’è·¯ç”±ç»™PE1ï¼Œå¼•è¿›åå‘ç»™CEï¼Œå†è½¬å‘ç»™PE2ï¼ŒPE2ç»éª¨å¹²ç½‘å†ä¼ é€’ç»™PE1ï¼Œä»è€Œäº§ç”Ÿè·¯ç”±éœ‡è¡æˆ–ç¯è·¯&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PE-CEä¹‹é—´è¿è¡ŒOSPFï¼ŒPE1ä¼ é€’ç»™CEæ—¶D/Nä½ç½®ä½æˆ–æ‰“ä¸Štagï¼ˆtagç”¨ASå·æ ‡è¯†ï¼‰ï¼ŒPE2æ¥æ”¶ä½†ä¸è®¡ç®—ï¼Œä»è€Œé˜²ç¯&lt;/li&gt;
&lt;li&gt;PE-CEä¹‹é—´è¿è¡Œbgpï¼Œåœ¨BGPä¸­çš„VPNä¸‹é…ç½®SoOå€¼ï¼ˆPE1å’ŒPE2çš„å€¼å¿…é¡»ç›¸åŒï¼‰ï¼ŒPE2å‘ç°è·¯ç”±ä¸­æºå¸¦çš„SoOå±æ€§ï¼Œä¸å…¶é’ˆå¯¹CEé…ç½®çš„SoOå±æ€§ç›¸åŒï¼Œåˆ™ä¸ä¼šå°†è·¯ç”±å‘å¸ƒç»™CEï¼Œä»è€Œé˜²ç¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bgpå±æ€§å€¼ä¸º16çš„æ‰©å±•å±æ€§ä¼šæºå¸¦äº›ä»€ä¹ˆä¸œè¥¿å³bgpçš„æ‰©å±•å›¢ä½“å±æ€§ä¼šæºå¸¦ä»€ä¹ˆ&#34;&gt;BGPå±æ€§å€¼ä¸º16çš„æ‰©å±•å±æ€§ä¼šæºå¸¦äº›ä»€ä¹ˆä¸œè¥¿ï¼ˆå³BGPçš„æ‰©å±•å›¢ä½“å±æ€§ä¼šæºå¸¦ä»€ä¹ˆï¼‰&lt;/h2&gt;
&lt;p&gt;è¯¦æƒ…è¯·å‚è€ƒ&lt;a href=&#34;http://www.h3c.com/cn/d_201010/922164_30005_0.htm&#34;&gt;http://www.h3c.com/cn/d_201010/922164_30005_0.htm&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Export RTå€¼æºå¸¦äºæ­¤æ‰©å±•å±æ€§ä¸­&lt;/li&gt;
&lt;li&gt;å¦‚æœPEä¸CEä¹‹é—´è¿è¡Œospfåè®®è¿˜ä¼šæºå¸¦DomainIDã€LsaTypeã€RouterIDã€AreaID
&lt;ol&gt;
&lt;li&gt;DomainID çš„ä½œç”¨ï¼š
&lt;ol&gt;
&lt;li&gt;ç”¨äºè¿˜åŸospfåŸæ¥çš„&lt;strong&gt;ä¸€äº›å±æ€§&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨DomainIDç›¸åŒçš„æ—¶å€™ï¼ŒåŸæ¥çš„1/2/3ç±»lsaä¼ å…¥å¯¹ç«¯CEä¹‹åå˜ä¸º3ç±»lsaï¼Œ5 ç±»è¿˜æ˜¯5ç±»ï¼Œ7ç±»è¿˜æ˜¯7 ç±»ï¼›&lt;/li&gt;
&lt;li&gt;DomainIDä¸åŒçš„æ—¶å€™ï¼ŒåŸæ¥çš„1/2/3/5ç±»lsaéƒ½å˜ä¸º5ç±»lsaï¼Œ7 ç±»è¿˜æ˜¯7ç±»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;sham-linkå¯ä»¥è¿˜åŸåŸæ¥&lt;strong&gt;æ‰€æœ‰çš„å±æ€§å€¼&lt;/strong&gt;ï¼šåœ¨ä¼ é€’VPNv4è·¯ç”±çš„æ—¶å€™ç”¨å±æ€§å€¼ä¸º14å’Œ15çš„ä¼ é€’VPNv4è·¯ç”±ï¼ŒRDå€¼ä»¥åŠç§ç½‘æ ‡ç­¾ï¼Œ14ä¼ é€’å¯è¾¾è·¯ç”±ï¼Œ15ä¼ é€’éœ€è¦æ’¤é”€çš„è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ceåŒå½’å±æ—¶ä¸peé—´å®ä¾‹è¿è¡Œisisä¼šæœ‰ä»€ä¹ˆé—®é¢˜&#34;&gt;CEåŒå½’å±æ—¶ä¸PEé—´å®ä¾‹è¿è¡ŒISISä¼šæœ‰ä»€ä¹ˆé—®é¢˜&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å¯èƒ½ä¼šäº§ç”Ÿè·¯ç”±ä¸ç¨³å®šå’Œç¯è·¯é—®é¢˜&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614174601680.png&#34; alt=&#34;è¿è¡ŒISISä¼šæœ‰ä»€ä¹ˆé—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
CE1åŒå½’å±åˆ°PE2å’ŒPE3ï¼Œä¸”CE1ã€PE2ã€PE3ä¹‹é—´è¿è¡ŒISISã€‚&lt;br&gt;
CE2ä¸Šçš„10.1.2.0/24çš„è·¯ç”±é€šè¿‡PE4ä¼ é€’åˆ°PE2å’ŒPE3ã€‚PE2 å°†å®ä¾‹ä¸­çš„BGPè·¯ç”±å¼•å…¥åˆ°ISISä¸­ï¼Œè¯¥è·¯ç”±é€šè¿‡CE1ä¼ é€’åˆ°PE3ä¸Šï¼Œç”±äºISISè·¯ç”±çš„ä¼˜å…ˆçº§ä¸º15ï¼Œé«˜äºPE3çš„å®ä¾‹ä¸­10.1.2.0/24çš„BGPçš„è·¯ç”±ã€‚ï¼ˆPE3è®¿é—®CE2èµ°çš„æ˜¯PE3--CE1--PE2--PE4--CE2ï¼‰&lt;br&gt;
æ­¤æ—¶ï¼Œ&lt;strong&gt;åœ¨PE3ä¸Šå¦‚æœæŠŠå®ä¾‹ä¸­çš„ISISè·¯ç”±å¼•åˆ°BGPä¸­&lt;/strong&gt;ï¼Œè¯¥è·¯ç”±ä¼šæˆä¸ºVPNv4çš„è·¯ä¸Šä¼ é€’ç»™PE4å’ŒPE2ï¼Œé€ æˆ&lt;strong&gt;è·¯ç”±ç¯è·¯&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨PE2å°†å®ä¾‹ä¸­çš„BGPçš„è·¯ç”±å¼•å…¥åˆ°ISISä¸­æ—¶ä¸ºè·¯ç”±æ‰“ä¸ŠTagï¼Œåœ¨å¯¹ç«¯çš„PE3ä¸Šçš„ISISè¿›ç¨‹ä¸‹ä½¿ç”¨filter-policyè¿‡æ»¤åˆ°è¯¥tagå¯¹åº”çš„è·¯ç”±æ¡ç›®ï¼Œé˜²æ­¢å®ƒå‡ºç°åœ¨PE3å®ä¾‹çš„è·¯ç”±è¡¨ä¸­ï¼ŒåŒæ—¶åœ¨PE3ä¸Šå¼•å…¥BGPè·¯ç”±æ—¶ä¹Ÿé‡‡å–ç›¸åŒçš„æªæ–½ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±äºPEæŠŠBGPè·¯ç”±å¼•å…¥åˆ°äº†ISISï¼Œå› æ­¤PEä¸ŠISISèƒ½æŠŠè¿™äº›è·¯ç”±å‘å¸ƒå‡ºå»ï¼Œå¹¶é€šè¿‡CEè®©å¯¹æ–¹ISISå­¦ä¹ åˆ°è·¯ç”±ï¼Œä¸”è¯¥è·¯ç”±çš„å±æ€§æ˜¯ISISè·¯ç”±ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒISISè·¯ç”±ä¼˜å…ˆçº§æ¯”BGPè·¯ç”±ä¼˜å…ˆçº§é«˜ï¼Œå› æ­¤åœ¨è·¯ç”±é€‰æ‹©æ—¶ï¼ŒISISè·¯ç”±è¢«ä¼˜é€‰ã€‚&lt;br&gt;
ç”±äºBGPè·¯ç”±å˜æˆ Inactiveï¼Œå¯¼è‡´PEä¸Šä¸èƒ½å¼•å…¥è¯¥BGPè·¯ç”±ï¼Œäºæ˜¯äº§ç”Ÿäº†è·¯ç”±ä¸ç¨³å®šã€‚&lt;br&gt;
åœ¨é˜²ç¯ä¸Šï¼ŒISISä¸åƒOSPFé‚£æ ·å®Œå–„ï¼ŒISISåè®®æœ¬èº«ä¸é˜²ç¯è·¯ï¼Œå› æ­¤éœ€è¦åœ¨PEçš„ISISåœ¨å¼•å…¥BGPè·¯ç”±æ—¶ï¼Œç»™è·¯ç”±æ‰“ä¸Štagæ ‡è®°ã€‚å¯¹ç«¯PEå­¦ä¹ åˆ°è·¯ç”±åï¼Œé€šè¿‡ç­–ç•¥è¿‡æ»¤è¿™äº›è·¯ç”±ï¼Œä½¿å®ƒä¸è¿›å…¥å¦ä¸€ä¸ªPEå®ä¾‹ä¸‹çš„è·¯ç”±è¡¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;mplsä¸­lspçš„å¤‡ä»½æ–¹å¼&#34;&gt;MPLSä¸­LSPçš„å¤‡ä»½æ–¹å¼&lt;/h1&gt;
&lt;h2 id=&#34;1-ipçš„frr&#34;&gt;1. IPçš„FRR&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614177594588.png&#34; alt=&#34;IPçš„FRR&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R3æœ‰ä¸ª30ç½‘æ®µï¼Œé»˜è®¤æƒ…å†µä¸‹R2ä¼˜é€‰1å·é“¾è·¯åˆ°30ç½‘æ®µï¼Œå½“é“¾è·¯æ–­æ‰åå†é€šè¿‡R1åˆ°30ç½‘æ®µï¼Œè®¾å¤‡ä¸Šä¼šæœ‰ä¸ªè·¯ç”±è¡¨RIBï¼ŒRIBå­˜æ”¾çš„æ˜¯å»å¾€ç›®çš„ç½‘æ®µæœ€ä¼˜çš„ï¼Œæ•°æ®è½¬å‘çš„æ—¶å€™ç”¨çš„FIBè¡¨ï¼ŒFIBæ˜¯æ ¹æ®RIBç”Ÿæˆçš„ã€‚&lt;br&gt;
å½“R2ä¸R3ä¹‹é—´çš„é“¾è·¯æ–­æ‰åï¼ŒFIBã€RIBé‡Œéƒ½æ²¡äº†ï¼Œæ‰€ä»¥éœ€è¦è·¯ç”±æ”¶æ•›ï¼Œè·¯ç”±æ”¶æ•›æ˜¯æœ‰ä¸€å®šæ—¶é—´çš„ï¼Œä¼šé‡æ–°è®¡ç®—RIBï¼ŒR2å»å¾€30ç½‘æ®µçš„ä¸‹ä¸€è·³ä¼šå˜æˆR1ï¼Œæ ¹æ®æ–°çš„RIBç”ŸæˆFIBï¼Œç„¶åæ•°æ®æ‰èƒ½è½¬å‘ï¼Œæ‰€ä»¥æ— è®ºä»€ä¹ˆåè®®å¦‚æœä¸€ç›´æœ‰è¿ç»­çš„æ•°æ®è¿‡æ¥çš„è¯ï¼Œé‚£ä¹ˆ&lt;strong&gt;è‚¯å®šä¼šæœ‰ä¸¢åŒ…&lt;/strong&gt;äº†ï¼Œæ‰€ä»¥IPçš„FRRå°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;br&gt;
&lt;strong&gt;IPçš„FRRè§£å†³æ€è·¯&lt;/strong&gt;ï¼š&lt;br&gt;
å»å¾€30ç½‘æ®µæœ‰2æ¡è·¯å¾„ï¼Œå¯ä»¥&lt;strong&gt;åœ¨FIBè¡¨é‡Œå½¢æˆä¸€æ¡å¤‡ä»½çš„è·¯å¾„&lt;/strong&gt;ï¼Œé…ç½®æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨&lt;code&gt;route-policy ip_frr_rp permit xxx&lt;/code&gt;ä¸­&lt;strong&gt;æŒ‡å®šå¤‡ä»½å‡ºæ¥å£å’Œå¤‡ä»½ä¸‹ä¸€è·³&lt;/strong&gt;ï¼Œå¹¶åœ¨ç³»ç»Ÿè¯•å›¾ä¸‹æˆ–è€…VPNå®ä¾‹ä¸­ä½¿èƒ½&lt;code&gt;ip frr route-policy ip_frr_rp&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-ldpçš„frr&#34;&gt;2. LDPçš„FRR&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614178062354.png&#34; alt=&#34;LDPçš„FRR&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é»˜è®¤æƒ…å†µR2å»å¾€40ç½‘æ®µçš„ä¸‹ä¸€è·³è¿˜æ˜¯R3ï¼ŒMPLSä¸­æœ‰4å¼ è¡¨ï¼Œåˆ†åˆ«æ˜¯RIBã€FIBã€LIBå’ŒLFIBï¼Œå…¶ä¸­LFIBæ˜¯æ ¹æ®FIBå’ŒLIBç»„åˆæˆLFIBï¼Œæ‰€ä»¥åœ¨MPLSä¸­æ•°æ®è½¬å‘å°±çœ‹LFIBï¼Œæ‰€ä»¥R2å»å¾€40ç½‘æ®µè‚¯å®šä¼šå¯¹åº”ä¸€ä¸ªLFIBã€‚&lt;br&gt;
å‡è®¾R3ç»™R2åˆ†å‘çš„æ˜¯3000ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨R2çš„FLIBè¡¨ä¸­ï¼Œè‚¯å®šæœ‰ä¸€ä¸ª3000æ ‡ç­¾å¯¹åº”40ç½‘æ®µï¼Œå¦‚æœè®¿é—®40 ç½‘æ®µå°±ç”¨æ ‡ç­¾3000è½¬å‘å‡ºå»ã€‚&lt;br&gt;
R3ç»™R2åˆ†é…çš„3000æ ‡ç­¾ï¼Œä¹Ÿè‚¯å®šä¼šç»™R1åˆ†é…ï¼Œå‡è®¾åˆ†é…çš„æ˜¯4000ï¼ŒR1ä¹Ÿè¦é’ˆå¯¹40ç½‘æ®µç»™R2åˆ†æ ‡ç­¾ï¼Œå‡è®¾åˆ†é…5000ï¼Œæ‰€ä»¥R2é’ˆå¯¹40ç½‘æ®µå¯ä»¥æ”¶åˆ°2ä¸ªæ ‡ç­¾ï¼šä¸€ä¸ªR3åˆ†é…çš„3000ï¼Œä¸€ä¸ªR1åˆ†é…çš„5000ã€‚&lt;br&gt;
æ ‡ç­¾ä¿æŒæ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªç”±æ ‡ç­¾ä¿æŒæ–¹å¼ï¼Œå³R2æŠŠ5000å’Œ3000éƒ½æ”¾è¿›LIBä¸­ï¼Œä½†æ˜¯5000æ ‡ç­¾ä¼šè¢«æ ‡è®°ä¸æ˜¯æœ€ä¼˜çš„&lt;/li&gt;
&lt;li&gt;ä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼ï¼Œå³R2åªä¿ç•™æœ€ä¼˜çš„ï¼Œåªä¼šå°†3000æ”¾è¿›LIBï¼Œ5000åˆ™ä¼šè¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ‡ç­¾å‘å¸ƒæ–¹å¼ä¹Ÿæœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªä¸»å‘å¸ƒæ–¹å¼ï¼Œå³å¯¹R4æ¥è¯´ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è®¾å¤‡è®¿é—®40ç½‘æ®µï¼Œéƒ½ä¼šç»™40ç½‘æ®µåˆ†é…æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æŒ‰éœ€å‘å¸ƒæ–¹å¼ï¼Œå³R4è™½ç„¶æœ‰40ç½‘æ®µï¼Œä½†æ˜¯R3ä¸å»è®¿é—®è¿™ä¸ªç½‘æ®µï¼ŒR4ä¸ä¼šåˆ†é…æ ‡ç­¾&lt;code&gt;å¦‚æœR4çš„è·¯ç”±è¡¨éå¸¸åºå¤§ï¼Œä¸ºæ¯ä¸ªè·¯ç”±éƒ½åˆ†é…ä¸€æ¡æ ‡ç­¾å°±ä¼šå ç”¨ç³»ç»Ÿèµ„æºä»¥åŠæ ‡ç­¾èµ„æºï¼Œä¸ºäº†èŠ‚çœèµ„æºå¯ä»¥é‡‡ç”¨æŒ‰éœ€å‘å¸ƒå’Œä¿å®ˆæ ‡ç­¾ä¿æŒæ–¹å¼ç›¸ç»“åˆ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ‡ç­¾åˆ†é…æ–¹å¼ä¹Ÿæœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ–¹å¼ï¼Œå³R3ä¸ç®¡R4æœ‰æ²¡æœ‰ç»™40ç½‘æ®µåˆ†é…æ ‡ç­¾ï¼ŒR3éƒ½ä¼šç»™40ç½‘æ®µåˆ†é…æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æœ‰åºæ ‡ç­¾åˆ†é…æ–¹å¼ï¼Œå³R3å¦‚æœæ²¡æœ‰æ”¶åˆ°R4ç»™40ç½‘æ®µåˆ†é…çš„æ ‡ç­¾ï¼Œé‚£ä¹ˆR3ä¹Ÿä¸ä¼šåˆ†é…ç»™40æ ‡ç­¾&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;R2å»å¾€40æœ‰ä¸¤ä¸ªæ ‡ç­¾ï¼Œ3000å’Œ5000ï¼Œç”±äº3000çš„æ ‡ç­¾æ›´ä¼˜ï¼Œæ‰€ä»¥ä¼šæŠŠ3000çš„æ ‡ç­¾åŠ åˆ°LFIBè¡¨é‡Œï¼Œå‡å¦‚R2-R3ä¹‹é—´çš„é“¾è·¯æ–­æ‰ä»¥åï¼Œ4ä¸ªè¡¨éƒ½æ²¡äº†ï¼Œè¿™ä¸ªæ—¶å€™æœ‰æ•°æ®è¿‡æ¥çš„æ—¶å€™è‚¯å®šä¼šé€ æˆä¸¢åŒ…ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨åˆ°LDPçš„FRRçš„æŠ€æœ¯ã€‚&lt;br&gt;
&lt;strong&gt;LDPçš„FRRè§£å†³æ€è·¯&lt;/strong&gt;ï¼š&lt;br&gt;
R2ä¼šæŠŠ5000ä¹Ÿæ”¾å…¥LFIBï¼Œä½†ä¼šæ ‡æ˜æ˜¯ä¸€ä¸ªå¤‡ä»½çš„æ ‡ç­¾ï¼Œå½“3000æ ‡ç­¾å¤±æ•ˆåï¼Œç«‹é©¬åˆ‡æ¢åˆ°5000ï¼Œè¿™å°±å¯ä»¥é¿å…æ•°æ®åŒ…çš„ä¸¢åŒ…&lt;br&gt;
&lt;strong&gt;é…ç½®æ—¶åˆ†ä¸ºä¸¤ç§åŠæ³•&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;code&gt;åœ¨æ‰‹å·¥é…ç½®çš„LDP FRRå’ŒLDP Auto FRRåŒæ—¶æ»¡è¶³åˆ›å»ºæ¡ä»¶çš„æ—¶å€™ï¼Œä¼˜å…ˆå»ºç«‹æ‰‹å·¥é…ç½®çš„ LDP FRR&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨&lt;br&gt;
æŒ‡å®šå»ºç«‹çš„å¤‡ä»½LSPçš„&lt;strong&gt;å‡ºæ¥å£å’Œä¸‹ä¸€è·³&lt;/strong&gt;ï¼Œå½“Liberal Labelçš„æ¥æºåŒ¹é…åˆ°æŒ‡å®šçš„å‡ºæ¥å£å’Œä¸‹ä¸€è·³çš„æ—¶å€™ï¼Œå°±èƒ½å¤Ÿå»ºç«‹å¤‡ä»½LSPå¹¶ä¸‹å‘è½¬å‘è¡¨é¡¹&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨&lt;br&gt;
LDP Auto FRRä¾èµ–IP FRRæ¥å®ç°&lt;code&gt;å³éœ€è¦ä½¿èƒ½IGPåè®®ä¸LDPä¹‹é—´çš„åŒæ­¥åŠŸèƒ½&lt;/code&gt;ï¼ŒLDP Auto FRRç­–ç•¥é»˜è®¤æ˜¯32ä½çš„å¤‡ä»½è·¯ç”±è§¦å‘LDPå»ºç«‹å¤‡ä»½LSP
&lt;ol&gt;
&lt;li&gt;åœ¨R1ã€R2ã€R3ä¸Šé…ç½®ospfï¼Œå®ç°éª¨å¹²ç½‘çš„IPè¿é€šæ€§&lt;/li&gt;
&lt;li&gt;é…ç½®LDPï¼Œå®ç°LDP LSPæ‰¿è½½ç½‘ç»œä¸šåŠ¡ï¼ˆå‡†å¤‡å·¥ä½œï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨R2å’ŒR3ä¸Šé…ç½®é™æ€BFDï¼Œå®ç°å¿«é€Ÿæ£€æµ‹LSPæ•…éšœ&lt;/li&gt;
&lt;li&gt;åœ¨R2ä¸Šé…ç½®LDP Auto FRRï¼Œå®ç°ä¸»å¤‡åˆ‡æ¢æ—¶å°½å¯èƒ½é¿å…æµé‡ä¸¢å¤±&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ospfé…ç½®ï¼ˆæ¥å£è§†å›¾ï¼‰
ospf timer ldp-sync hold-down æ—¶é—´(é»˜è®¤10ç§’)

# isisé…ç½®ï¼ˆè¿›ç¨‹ä¸‹ï¼‰
timer ldp-sync hold-down æ—¶é—´(é»˜è®¤10ç§’)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;è·¨åŸŸvpn&#34;&gt;è·¨åŸŸVPN&lt;/h1&gt;
&lt;h2 id=&#34;optiona&#34;&gt;OptionA&lt;/h2&gt;
&lt;p&gt;éœ€è¦è·¨åŸŸçš„VPNåœ¨ASBRé—´&lt;strong&gt;é€šè¿‡ä¸“ç”¨çš„æ¥å£ç®¡ç†è‡ªå·±çš„VPNè·¯ç”±&lt;/strong&gt;ï¼Œä¹Ÿç§°ä¸º&lt;strong&gt;VRF-to-VRF&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614261374015.png&#34; alt=&#34;OptionA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614264524271.png&#34; alt=&#34;OptionA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ä¸¤ä¸ªASçš„è¾¹ç•ŒASBRç›´æ¥ç›¸è¿ï¼ŒASBRåŒæ—¶ä¹Ÿæ˜¯å„è‡ªæ‰€åœ¨è‡ªæ²»ç³»ç»Ÿçš„PEï¼Œä¸¤ä¸ªASBRéƒ½æŠŠå¯¹ç«¯ASBRçœ‹ä½œè‡ªå·±çš„CEè®¾å¤‡ï¼Œå°†ä¼šä¸ºæ¯ä¸€ä¸ªVPNåˆ›å»ºVPNå®ä¾‹ï¼Œä½¿ç”¨EBGPæ–¹å¼å‘å¯¹ç«¯å‘å¸ƒIPv4è·¯ç”±&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-è·¯ç”±ä¼ é€’&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614264564832.png&#34; alt=&#34;è·¯ç”±ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;å„ASå†…éƒ¨æ­£å¸¸å»ºç«‹IGPé‚»å±…å…³ç³»å¹¶ä¸”è¿è¡ŒMPLS LDP&lt;/li&gt;
&lt;li&gt;å„PEä¸Šåˆ›å»ºVPNå®ä¾‹ï¼Œå¹¶ä¸æ¥å£ç›¸ç»‘å®š&lt;/li&gt;
&lt;li&gt;R2ä¸R3ã€R4ä¸R5åˆ†åˆ«å»ºç«‹VPNv4é‚»å±…å…³ç³»&lt;code&gt;å³åŒºåŸŸå†…PEä¹‹é—´å»ºç«‹VPNv4é‚»å±…&lt;/code&gt;ï¼ŒR3ä¸R4çš„ä¸¤ä¸ªå®ä¾‹ä¹‹é—´å»ºç«‹IPv4çš„é‚»å±…å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¼ é€’ï¼š
&lt;ol&gt;
&lt;li&gt;R1ä¸Šçš„IPv4è·¯ç”±ä¼ é€’åˆ°R2ï¼ŒR2å°†å…¶å¼•å…¥VPNv4è·¯ç”±è¡¨åï¼Œæºå¸¦ç§ç½‘æ ‡ç­¾L1ã€RTã€ä¸‹ä¸€è·³ç­‰ä¼ é€’ç»™R3&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°ä¹‹åï¼ŒåŒ¹é…RTå€¼ï¼Œå‰¥ç¦»RDå’Œç§ç½‘æ ‡ç­¾å¼•å…¥å®ä¾‹2ä¸­ï¼Œä»¥IPv4è·¯ç”±ä¼ é€’ç»™R4&lt;/li&gt;
&lt;li&gt;R4ä»å®ä¾‹3æ”¶åˆ°IPv4è·¯ç”±ï¼Œå°†å…¶å¼•å…¥VPNv4è·¯ç”±è¡¨åï¼Œæºå¸¦ç§ç½‘æ ‡ç­¾L2ã€RTã€ä¸‹ä¸€è·³ç­‰ä¼ é€’ç»™R5ï¼ŒR5 åŒ¹é…RTå€¼åï¼Œå‰¥ç¦»RDå’Œç§ç½‘æ ‡ç­¾å¼•å…¥å®ä¾‹4ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-æ•°æ®è½¬å‘&#34;&gt;2. æ•°æ®è½¬å‘&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614264594520.png&#34; alt=&#34;æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R6å°è£…æ­£å¸¸IPv4æ•°æ®åŒ…è½¬å‘ç»™R5&lt;/li&gt;
&lt;li&gt;R5æ”¶åˆ°æ•°æ®åŒ…æŸ¥å®ä¾‹çš„FIBï¼Œå…ˆå°è£…ç§ç½‘æ ‡ç­¾L2ï¼Œå†å°è£…å»å¾€R4çš„å…¬ç½‘æ ‡ç­¾Lxï¼Œç„¶åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”å®ä¾‹3ï¼Œå‰¥ç¦»ç§ç½‘æ ‡ç­¾L2åè½¬å‘ç»™R3&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°æ•°æ®åŒ…æŸ¥å®ä¾‹çš„FIBï¼Œå…ˆå°è£…ç§ç½‘æ ‡ç­¾L1ï¼Œå†å°è£…å»å¾€R2çš„å…¬ç½‘æ ‡ç­¾Lyï¼Œç„¶åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”å®ä¾‹1ï¼Œå‰¥ç¦»ç§ç½‘æ ‡ç­¾L1åè½¬å‘ç»™R1&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-ç‰¹ç‚¹&#34;&gt;3. ç‰¹ç‚¹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;åœ¨éœ€è¦è·¨åŸŸçš„VPNæ•°é‡æ¯”è¾ƒå°‘çš„æƒ…å†µï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šé…ç½®ç®€å•ï¼Œç”±äºASBRä¹‹é—´ä¸éœ€è¦è¿è¡ŒMPLSï¼Œä¹Ÿä¸éœ€è¦ä¸ºè·¨åŸŸè¿›è¡Œç‰¹æ®Šé…ç½®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å¯æ‰©å±•æ€§å·®ï¼šç”±äºASBRéœ€è¦ç®¡ç†æ‰€æœ‰VPNè·¯ç”±ï¼Œä¸ºæ¯ä¸ªVPNåˆ›å»ºVPNå®ä¾‹ï¼Œè¿™å°†å¯¼è‡´ASBRä¸Šçš„VPN-IPv4è·¯ç”±æ•°é‡è¿‡å¤§&lt;/li&gt;
&lt;li&gt;å¯¹PEï¼ˆASBRï¼‰è®¾å¤‡è¦æ±‚é«˜ï¼šç”±äºASBRé—´æ˜¯æ™®é€šçš„IPè½¬å‘ï¼Œè¦æ±‚ä¸ºæ¯ä¸ªè·¨åŸŸçš„VPNä½¿ç”¨ä¸åŒçš„æ¥å£ï¼Œä»è€Œæé«˜äº†å¯¹PEè®¾å¤‡çš„è¦æ±‚&lt;/li&gt;
&lt;li&gt;å¯¹ä¸­é—´åŸŸå½±å“å¤§ï¼šå¦‚æœè·¨è¶Šå¤šä¸ªè‡ªæ²»åŸŸï¼Œä¸­é—´åŸŸå¿…é¡»æ”¯æŒVPNä¸šåŠ¡ï¼Œä¸ä»…é…ç½®é‡å¤§ï¼Œè€Œä¸”å¯¹ä¸­é—´åŸŸå½±å“å¤§ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;optionb&#34;&gt;OptionB&lt;/h2&gt;
&lt;p&gt;ASBRé—´&lt;strong&gt;é€šè¿‡MP-EBGPå‘å¸ƒæ ‡ç­¾VPN-IPv4è·¯ç”±&lt;/strong&gt;ï¼Œä¹Ÿç§°ä¸ºEBGP redistribution of labeled VPN-IPv4 routes&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614263451029.png&#34; alt=&#34;OptionB&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614264718816.png&#34; alt=&#34;OptionB&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ASBRæ¥æ”¶æœ¬åŸŸå†…å’ŒåŸŸå¤–ä¼ è¿‡æ¥çš„æ‰€æœ‰è·¨åŸŸVPN-IPv4è·¯ç”±ï¼Œé€šè¿‡&lt;code&gt;undo policy vpn-target&lt;/code&gt;ï¼Œè®©ASBRä¸è¿›è¡ŒVPN TargetåŒ¹é…æŠŠæ”¶åˆ°çš„VPNè·¯ç”±å…¨éƒ¨ä¿å­˜ä¸‹æ¥ï¼Œè€Œä¸ç®¡æœ¬åœ°æ˜¯å¦æœ‰å’Œå®ƒåŒ¹é…çš„VPNå®ä¾‹ã€‚è¿™ç§æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯æ‰€æœ‰çš„æµé‡éƒ½ç»è¿‡ASBRè½¬å‘ï¼Œä½¿æµé‡å…·æœ‰è‰¯å¥½çš„å¯æ§æ€§ï¼Œä½†ASBRçš„è´Ÿæ‹…é‡ã€‚&lt;br&gt;
å¯ä»¥åŒæ—¶ä½¿ç”¨BGPè·¯ç”±ç­–ç•¥ï¼ˆå¦‚å¯¹RTçš„è¿‡æ»¤ï¼‰ï¼Œä½¿ASBRä¸Šåªä¿å­˜éƒ¨åˆ†VPN-IPv4è·¯ç”±ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-è·¯ç”±ä¼ é€’-2&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614264916939.png&#34; alt=&#34;è·¯ç”±ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;å„ASå†…éƒ¨æ­£å¸¸å»ºç«‹IGPé‚»å±…å…³ç³»å¹¶ä¸”è¿è¡ŒMPLS LDPï¼ŒR3ä¸R4ä¹‹é—´è¿è¡ŒMPLSå³å¯&lt;/li&gt;
&lt;li&gt;å„PEä¸Šåˆ›å»ºVPNå®ä¾‹ï¼Œå¹¶ä¸æ¥å£ç›¸ç»‘å®š&lt;/li&gt;
&lt;li&gt;R2ä¸R3ã€R4ä¸R5åˆ†åˆ«å»ºç«‹ IBGP VPNv4é‚»å±…å…³ç³»ï¼ŒR3ä¸R4ä¹‹é—´å»ºç«‹EBGP VPNv4é‚»å±…å…³ç³»ä¸” R3å’ŒR4ä¸Šéœ€è¦&lt;code&gt;undo policy vpn-target&lt;/code&gt;ï¼ˆä¿ç•™æ‰€æœ‰VPNè·¯ç”±ï¼‰ï¼Œå¹¶ä¸”åœ¨R3ä¸R4ä¸Šéƒ½å¯¹VPNv4è·¯ç”±äº¤æ¢å†…å±‚æ ‡ç­¾ï¼Œ&lt;strong&gt;åŸŸé—´çš„æ ‡ç­¾ç”±BGPæºå¸¦&lt;/strong&gt;ï¼Œå› æ­¤&lt;strong&gt;ASBRä¹‹é—´ä¸éœ€è¦è¿è¡ŒLDP&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¼ é€’ï¼š
&lt;ol&gt;
&lt;li&gt;R1ä¸Šçš„IPv4è·¯ç”±ä¼ é€’åˆ°R2ï¼ŒR2å°†å…¶å¼•å…¥VPNv4è·¯ç”±è¡¨åï¼Œæºå¸¦ç§ç½‘æ ‡ç­¾L1ã€RTã€ä¸‹ä¸€è·³ç­‰ä¼ é€’ç»™R3&lt;/li&gt;
&lt;li&gt;R3é‡æ–°ä¸ºè¯¥è·¯ç”±åˆ†å‘ç§ç½‘æ ‡ç­¾L2ï¼Œç„¶åæºå¸¦ç§ç½‘æ ‡ç­¾L2ã€RTã€ä¸‹ä¸€è·³ç­‰ä¼ é€’ç»™R4&lt;code&gt;ç”±äºMP-EBGPåœ¨ä¼ é€’è·¯ç”±æ—¶ï¼Œéœ€è¦æ”¹å˜è·¯ç”±çš„ä¸‹ä¸€è·³ï¼Œæ‰€ä»¥ASBRå‘å¤–å‘å¸ƒVPNv4è·¯ç”±æ—¶ä¼šåˆ†é…æ–°æ ‡ç­¾&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;R4é‡æ–°ä¸ºè¯¥è·¯ç”±åˆ†å‘ç§ç½‘æ ‡ç­¾L3ï¼Œç„¶åæºå¸¦ç§ç½‘æ ‡ç­¾L3ã€RTã€ä¸‹ä¸€è·³ç­‰ä¼ é€’ç»™R5&lt;code&gt;R4å’ŒR5å‘åŸŸå†…çš„MP-IBGPå¯¹ç­‰ä½“å‘å¸ƒè·¯ç”±æ—¶ï¼Œå°†ä¸‹ä¸€è·³æ”¹ä¸ºè‡ªå·±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;R5åŒ¹é…RTå€¼åï¼Œå‰¥ç¦»RDå’Œç§ç½‘æ ‡ç­¾å¼•å…¥å®ä¾‹2ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-æ•°æ®è½¬å‘-2&#34;&gt;2. æ•°æ®è½¬å‘&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614266224355.png&#34; alt=&#34;æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R6å°è£…æ­£å¸¸IPv4æ•°æ®åŒ…è½¬å‘ç»™R5ï¼ŒR5æ”¶åˆ°æ•°æ®åŒ…æŸ¥å®ä¾‹çš„FIBï¼Œå…ˆå°è£…ç§ç½‘æ ‡ç­¾L3ï¼Œå†å°è£…å»å¾€R4çš„å…¬ç½‘æ ‡ç­¾Lxï¼Œç„¶åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®ç§ç½‘æ ‡ç­¾L3æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾ç§ç½‘æ ‡ç­¾L2ï¼Œç„¶åå°è£…ç§ç½‘æ ‡ç­¾L2ï¼Œ&lt;strong&gt;ä¸å°è£…å…¬ç½‘æ ‡ç­¾&lt;/strong&gt;ï¼Œç›´æ¥è½¬å‘ç»™R3&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®ç§ç½‘æ ‡ç­¾L2æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾ç§ç½‘æ ‡ç­¾L1ï¼Œç„¶åå°è£…ç§ç½‘æ ‡ç­¾L1ï¼Œå†å°è£…å»å¾€R2çš„å…¬ç½‘æ ‡ç­¾Lyï¼Œä¹‹åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”å®ä¾‹1ï¼Œå‰¥ç¦»ç§ç½‘æ ‡ç­¾L1åè½¬å‘ç»™R1&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-ç‰¹ç‚¹-2&#34;&gt;3. ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šä¸å—ASBRä¹‹é—´äº’è¿é“¾è·¯æ•°ç›®çš„é™åˆ¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;ASBRè´Ÿæ‹…é‡ï¼šç”±äºVPNçš„è·¯ç”±ä¿¡æ¯æ˜¯é€šè¿‡ASä¹‹é—´çš„ASBRæ¥ä¿å­˜å’Œæ‰©æ•£çš„ï¼Œå½“VPNè·¯ç”±è¾ƒå¤šæ—¶ï¼ŒASBRè´Ÿæ‹…é‡ï¼Œå®¹æ˜“æˆä¸ºæ•…éšœç‚¹ã€‚å› æ­¤åœ¨MP-EBGPæ–¹æ¡ˆä¸­ï¼Œéœ€è¦ç»´æŠ¤VPNè·¯ç”±ä¿¡æ¯çš„ASBRä¸€èˆ¬ä¸å†è´Ÿè´£å…¬ç½‘IPæ•°æ®è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;optionc&#34;&gt;OptionC&lt;/h2&gt;
&lt;p&gt;PEé—´&lt;strong&gt;é€šè¿‡Multi-hop MP-EBGPå‘å¸ƒæ ‡ç­¾VPN-IPv4è·¯ç”±&lt;/strong&gt;ï¼Œä¹Ÿç§°ä¸ºMultihop EBGP redistribution of labeled VPN-IPv4&lt;br&gt;
&lt;strong&gt;OptionAå’ŒOptionBå­˜åœ¨çš„å…±åŒé—®é¢˜&lt;/strong&gt;ï¼š&lt;br&gt;
éƒ½éœ€è¦ASBRå‚ä¸VPN-IPv4è·¯ç”±çš„ç»´æŠ¤å’Œå‘å¸ƒï¼Œå½“æœ‰å¤§é‡çš„VPNè·¯ç”±éœ€è¦äº¤æ¢æ—¶ï¼ŒASBRè´Ÿæ‹…è¿‡é‡ï¼Œå¯èƒ½æˆä¸ºæ•…éšœç‚¹&lt;br&gt;
&lt;strong&gt;è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ¡ˆæ˜¯&lt;/strong&gt;ï¼šASBRä¸ç»´æŠ¤æˆ–å‘å¸ƒVPN-IPv4è·¯ç”±ï¼ŒPEä¹‹é—´ç›´æ¥äº¤æ¢VPN-IPv4è·¯ç”±&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ASBRé€šè¿‡MP-IBGP&lt;strong&gt;å‘å„è‡ªASå†…çš„PEè®¾å¤‡å‘å¸ƒæ ‡ç­¾IPv4è·¯ç”±&lt;/strong&gt;ï¼Œå¹¶å°†&lt;strong&gt;åˆ°è¾¾æœ¬ASå†…PEçš„æ ‡ç­¾IPv4è·¯ç”±&lt;/strong&gt;é€šå‘Šç»™å®ƒåœ¨&lt;strong&gt;å¯¹ç«¯ASçš„ASBRå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œè¿‡æ¸¡ASä¸­çš„ASBRä¹Ÿé€šå‘Šå¸¦æ ‡ç­¾çš„IPv4è·¯ç”±ã€‚è¿™æ ·ï¼Œ&lt;strong&gt;åœ¨å…¥å£PEå’Œå‡ºå£PEä¹‹é—´å»ºç«‹ä¸€æ¡LSP&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸åŒASçš„PEä¹‹é—´å»ºç«‹Multihopæ–¹å¼çš„EBGPè¿æ¥ï¼Œäº¤æ¢VPN-IPv4è·¯ç”±&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ASBRä¸Šä¸ä¿å­˜VPN-IPv4è·¯ç”±ï¼Œç›¸äº’ä¹‹é—´ä¹Ÿä¸é€šå‘ŠVPN-IPv4è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆä¸€&#34;&gt;æ–¹æ¡ˆä¸€&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614267464835.png&#34; alt=&#34;æ–¹æ¡ˆä¸€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614267524499.png&#34; alt=&#34;æ–¹æ¡ˆä¸€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-è·¯ç”±ä¼ é€’-3&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614267560841.png&#34; alt=&#34;è·¯ç”±ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;å„ASå†…éƒ¨æ­£å¸¸å»ºç«‹IGPé‚»å±…å…³ç³»å¹¶ä¸”è¿è¡ŒMPLS LDPï¼ŒR3ä¸R4ä¹‹é—´è¿è¡ŒMPLSå³å¯&lt;/li&gt;
&lt;li&gt;å„PEä¸Šåˆ›å»ºVPNå®ä¾‹ï¼Œå¹¶ä¸æ¥å£ç›¸ç»‘å®š&lt;/li&gt;
&lt;li&gt;R2ä¸R3ã€R4ä¸R5åˆ†åˆ«å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»&lt;sub&gt;æ–¹æ¡ˆäºŒä¸éœ€è¦æ­¤é…ç½®&lt;/sub&gt;ï¼ŒR3ä¸R4ä¹‹é—´å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ASBRä¸Šçš„é‡ç‚¹é…ç½®&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å°†åŸŸå†…è®¾å¤‡ï¼ˆ&lt;strong&gt;ä¸»è¦æ˜¯PEè®¾å¤‡&lt;/strong&gt;ï¼‰çš„ç¯å›å£è·¯ç”±å¼•å…¥è¿›BGPï¼Œæ–¹æ³•æ˜¯é€šè¿‡å‰ç¼€åˆ—è¡¨çš„æ–¹å¼åœ¨BGPä¸­å¼•å…¥åŸŸå†…çš„IGPè·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¼ é€’ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨R3ä¸Š&lt;strong&gt;æŠŠR2çš„loopbackçš„32ä½åœ°å€å®£å‘Šè¿›BGP&lt;/strong&gt;ï¼Œå¹¶ä¸ºå…¶åˆ†é…å…¬ç½‘æ ‡ç­¾L9ï¼Œç„¶åä¼ é€’ç»™EBGP IPv4é‚»å±…R4&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°è·¯ç”±åä¸ºè¯¥32ä½loopbackåœ°å€åˆ†é…å…¬ç½‘æ ‡ç­¾L10ï¼Œç„¶åå•æ’­ä¼ é€’ç»™IBGP IPv4é‚»å±…R5&lt;/li&gt;
&lt;li&gt;åŒç†ï¼ŒR4ä¸Šå®£å‘ŠR5çš„loopbackåœ°å€è¿›BGPï¼Œç„¶åä¼ é€’ç»™R3ï¼Œä¹‹åä¼ é€’ç»™R2ã€‚è‡³æ­¤ï¼ŒR2å’ŒR5ä¸Šç›¸äº’çŸ¥é“å¯¹ç«¯loopbackåœ°å€åå»ºç«‹EBGP VPNv4é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;R1ä¸Šçš„IPv4è·¯ç”±ä¼ é€’åˆ°R2ï¼ŒR2å°†å…¶å¼•å…¥VPNv4è·¯ç”±è¡¨åï¼Œæºå¸¦ç§ç½‘æ ‡ç­¾L3ã€RTã€ä¸‹ä¸€è·³ç­‰å•æ’­ä¼ é€’ç»™R5&lt;/li&gt;
&lt;li&gt;R5åŒ¹é…RTå€¼åï¼Œå‰¥ç¦»RDå’Œç§ç½‘æ ‡ç­¾å¼•å…¥å®ä¾‹2ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æ•°æ®è½¬å‘-3&#34;&gt;2. æ•°æ®è½¬å‘&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614270602164.png&#34; alt=&#34;æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R6å°è£…æ­£å¸¸IPv4æ•°æ®åŒ…è½¬å‘ç»™R5ï¼ŒR5æ”¶åˆ°æ•°æ®åŒ…æŸ¥å®ä¾‹çš„FIBï¼Œå…ˆå°è£…ç§ç½‘æ ‡ç­¾L3ï¼Œå†å°è£…å»å¾€R2çš„å…¬ç½‘æ ‡ç­¾L10ï¼Œæœ€åå°è£…å»å¾€R4çš„å…¬ç½‘æ ‡ç­¾Lxï¼Œä¹‹åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®å…¬ç½‘æ ‡ç­¾L10æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾å…¬ç½‘æ ‡ç­¾L9ï¼Œç„¶åå°è£…å…¬ç½‘æ ‡ç­¾L9ï¼Œè½¬å‘ç»™R3&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®å…¬ç½‘æ ‡ç­¾L9æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾å…¬ç½‘æ ‡ç­¾Lyï¼Œç„¶åå°è£…ç§ç½‘æ ‡ç­¾Lyï¼Œä¹‹åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”å®ä¾‹1ï¼Œå‰¥ç¦»ç§ç½‘æ ‡ç­¾åè½¬å‘ç»™R1&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-ç‰¹ç‚¹optioncæ–¹æ¡ˆçš„ç‰¹ç‚¹&#34;&gt;3. ç‰¹ç‚¹ï¼ˆOptionCæ–¹æ¡ˆçš„ç‰¹ç‚¹ï¼‰&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;VPNè·¯ç”±åœ¨å…¥å£PEå’Œå‡ºå£PEä¹‹é—´ç›´æ¥äº¤æ¢ï¼Œ&lt;strong&gt;ä¸éœ€è¦ä¸­é—´è®¾å¤‡çš„ä¿å­˜å’Œè½¬å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;VPNçš„&lt;strong&gt;è·¯ç”±ä¿¡æ¯åªå‡ºç°åœ¨PEè®¾å¤‡ä¸Š&lt;/strong&gt;ï¼Œè€ŒPå’ŒASBRåªè´Ÿè´£æŠ¥æ–‡çš„è½¬å‘ï¼Œä½¿å¾—ä¸­é—´åŸŸçš„è®¾å¤‡å¯ä»¥ä¸æ”¯æŒMPLS VPNä¸šåŠ¡ï¼Œåªéœ€æ”¯æŒMPLSè½¬å‘ï¼ŒASBRè®¾å¤‡ä¸å†æˆä¸ºæ€§èƒ½ç“¶é¢ˆï¼Œå› æ­¤&lt;strong&gt;æ›´é€‚åˆåœ¨è·¨è¶Šå¤šä¸ªASæ—¶ä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ›´é€‚åˆ&lt;strong&gt;æ”¯æŒMPLS VPNçš„è´Ÿè½½åˆ†æ‹…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹æ˜¯&lt;strong&gt;ç»´æŠ¤ä¸€æ¡ç«¯åˆ°ç«¯çš„PEè¿æ¥ç®¡ç†ä»£ä»·è¾ƒå¤§&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆäºŒ&#34;&gt;æ–¹æ¡ˆäºŒ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614271464218.png&#34; alt=&#34;æ–¹æ¡ˆäºŒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ASå†…çš„PEå’ŒASBRä¹‹é—´ä¸å†éœ€è¦å»ºç«‹IBGPé‚»å±…&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;1-è·¯ç”±ä¼ é€’-4&#34;&gt;1. è·¯ç”±ä¼ é€’&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;å„ASå†…éƒ¨æ­£å¸¸å»ºç«‹IGPé‚»å±…å…³ç³»å¹¶ä¸”è¿è¡ŒMPLS LDPï¼ŒR3ä¸R4ä¹‹é—´è¿è¡ŒMPLSå³å¯&lt;/li&gt;
&lt;li&gt;å„PEä¸Šåˆ›å»ºVPNå®ä¾‹ï¼Œå¹¶ä¸æ¥å£ç›¸ç»‘å®š&lt;/li&gt;
&lt;li&gt;R3ä¸R4ä¹‹é—´å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ASBRä¸Šçš„é‡ç‚¹é…ç½®&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;éœ€è¦åœ¨mplsä¸­é…ç½®&lt;code&gt;lsp-trigger bgp-label-route&lt;/code&gt;ï¼Œä¸ºæ ‡ç­¾æ•°æ®å†åˆ†é…ä¸€å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;éœ€è¦å°†BGPçš„è·¯ç”±å¼•å…¥IGPï¼ŒåŒæ—¶ä¿®æ”¹IBGPçš„è·¯ç”±çš„ä¼˜å…ˆçº§å°äºIGP&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¼ é€’ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨R3ä¸ŠæŠŠR2çš„loopbackçš„32ä½åœ°å€å®£å‘Šè¿›BGPï¼Œå¹¶ä¸ºå…¶åˆ†é…å…¬ç½‘æ ‡ç­¾L9ï¼Œç„¶åä¼ é€’ç»™EBGP IPv4é‚»å±…R4&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°è·¯ç”±å&lt;strong&gt;å°†è¯¥32ä½loopbackåœ°å€å¼•å…¥è¿›IGPä¸­&lt;/strong&gt;ï¼Œç„¶åé€è·³ä¼ é€’åˆ°R5&lt;code&gt;æ–¹æ¡ˆäºŒå› ä¸ºASå†…æ²¡æœ‰IBGPé‚»å±…å…³ç³»ï¼Œæ‰€ä»¥éœ€è¦å°†è¯¥è·¯ç”±å¼•å…¥IGP&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŒç†ï¼ŒR4ä¸Šå®£å‘ŠR5çš„loopbackåœ°å€è¿›BGPï¼Œç„¶åä¼ é€’ç»™R3ï¼Œä¹‹åå¼•å…¥åˆ°IGPä¸­ï¼Œç„¶åé€è·³ä¼ é€’åˆ°R2ã€‚è‡³æ­¤ï¼ŒR2å’ŒR5ä¸Šç›¸äº’çŸ¥é“å¯¹ç«¯loopbackåœ°å€åå»ºç«‹EBGP VPNv4é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;R1ä¸Šçš„IPv4è·¯ç”±ä¼ é€’åˆ°R2ï¼ŒR2å°†å…¶å¼•å…¥VPNv4è·¯ç”±è¡¨åï¼Œæºå¸¦ç§ç½‘æ ‡ç­¾L3ã€RTã€ä¸‹ä¸€è·³ç­‰å•æ’­ä¼ é€’ç»™R5&lt;/li&gt;
&lt;li&gt;R5åŒ¹é…RTå€¼åï¼Œå‰¥ç¦»RDå’Œç§ç½‘æ ‡ç­¾å¼•å…¥å®ä¾‹2ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æ•°æ®è½¬å‘å’Œæ–¹æ¡ˆä¸€ç›¸åŒ&#34;&gt;2. æ•°æ®è½¬å‘ï¼ˆå’Œæ–¹æ¡ˆä¸€ç›¸åŒï¼‰&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;R6å°è£…æ­£å¸¸IPv4æ•°æ®åŒ…è½¬å‘ç»™R5ï¼ŒR5æ”¶åˆ°æ•°æ®åŒ…æŸ¥å®ä¾‹çš„FIBï¼Œå…ˆå°è£…ç§ç½‘æ ‡ç­¾L3ï¼Œå†å°è£…å»å¾€R4çš„ä¸‹ä¸€è·³çš„å…¬ç½‘æ ‡ç­¾Lxï¼Œä¹‹åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®å…¬ç½‘æ ‡ç­¾L10æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾å…¬ç½‘æ ‡ç­¾L9ï¼Œç„¶åå°è£…å…¬ç½‘æ ‡ç­¾L9ï¼Œç›´æ¥è½¬å‘ç»™R3&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ ¹æ®å…¬ç½‘æ ‡ç­¾L9æŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å‡ºæ ‡ç­¾å…¬ç½‘æ ‡ç­¾Lyï¼Œç„¶åå°è£…ç§ç½‘æ ‡ç­¾ Yï¼Œä¹‹åè½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œæ‰¾åˆ°å¯¹åº”å®ä¾‹ 1ï¼Œå‰¥ç¦»ç§ç½‘æ ‡ç­¾åè½¬å‘ç»™R1&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code&gt;# è‰ç¨¿å¤‡ä»½
## MPLSåŸŸå†…æ±‡æ€»ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜
### 1. å¯¹MPLS LDPè·¯ç”±è¿›è¡Œæ±‡æ€»ï¼šæ ‡ç­¾æ–­è£‚ï¼Œå¯æ­£å¸¸è®¿é—®
4å°è·¯ç”±å™¨IGPè¿è¡ŒRIPï¼Œ**äº’è”æ¥å£å’Œç¯å›æ¥å£**éƒ½å‘å¸ƒåœ¨RIPä¸­ï¼Œå…¨éƒ¨è¿è¡ŒMPLSï¼Œå»ºç«‹LDPé‚»å±…ã€‚
**æ±‡æ€»ç‚¹**åœ¨AR3ä¸ŠæŠŠå»å¾€10.4.4.4/32çš„ç¯å›æ¥å£æ±‡æ€»ä¸º10.4.4.0/24å‘é€ç»™AR2å’ŒAR1ã€‚
![å¯¹MPLS LDPè·¯ç”±è¿›è¡Œæ±‡æ€»](https://fqj-web.github.io/post-images/1614164171707.png)
R4ç»™10.4.4.4è¿™æ¡FECåˆ†å‘3å·æ ‡ç­¾ç»™R3ï¼ŒR3æ”¶åˆ°ç»™R2åˆ†å‘1024çš„æ ‡ç­¾ã€‚R2æ”¶10.4.4.4/32åˆ°åï¼Œå› ä¸ºå…¶è·¯ç”±è¡¨ä¸­åªæœ‰10.4.4.0/24è¿™æ¡è·¯ç”±ï¼Œæ²¡æœ‰10.4.4.4/32è¿™æ¡è·¯ç”±ï¼Œ**æ‰€ä»¥ä¼šé—²ç½®æ­¤æ ‡ç­¾ï¼ˆ1024ï¼‰**ï¼Œå¹¶ä¸ä¼šç»§ç»­ç»™R1åˆ†æ ‡ç­¾ã€‚å¯¼è‡´R1åˆ°R3ä¹‹é—´**åªèƒ½æ­£å¸¸IPåŒ…è½¬å‘**ï¼ŒR3æ”¶åˆ°åä¼šæŸ¥æ ‡ç­¾è½¬å‘è¡¨ã€‚
**è§£å†³æ–¹æ³•**ï¼š
R3ä¸Šä¸º10.4.4.0/24æŒ‡é™æ€è·¯ç”±ï¼ŒæŒ‡å‘null 0ï¼Œä¸”ä½¿ç”¨`lsp-trigger all`ã€‚R3ä¼šå¼€å§‹ä¸º10.4.4.0/24è¿™æ¡è·¯ç”±åˆ†å‘æ ‡ç­¾ï¼Œä¸”R2ä¼šç»§ç»­ä¸º10.4.4.0/24ç»™R1åˆ†å‘æ ‡ç­¾ã€‚**R1å»è®¿é—®10.4.4.4/32ä¼šåŒ¹é…åˆ° 10.4.4.0/24è¿™æ¡è·¯ç”±ï¼Œç„¶åè¿›è¡Œæ ‡ç­¾è½¬å‘**ï¼Œ**åˆ°è¾¾R3ä¹‹ååŒ¹é…åˆ°10.4.4.4/32è¿™æ¡è·¯ç”±ï¼Œå…ˆæŸ¥FIBï¼Œå†æŸ¥LFIBè¡¨**ï¼Œå½¢æˆ**æ ‡ç­¾æ–­è£‚**

&amp;gt; `lsp-trigger`å‘½ä»¤å’Œ`lsp-trigger bgp-label-route`å‘½ä»¤éƒ½ç”¨äºé…ç½®LDP LSPçš„è§¦å‘å»ºç«‹ç­–ç•¥ï¼Œå‰è€…é€‚ç”¨äºé™æ€è·¯ç”±å’ŒIGPè·¯ç”±ï¼›åè€…ä»…é€‚ç”¨äºå¸¦æ ‡ç­¾çš„å…¬ç½‘BGPè·¯ç”±
&amp;gt; **ä¸æ¨èé…ç½®lsp-trigger allå‘½ä»¤**ï¼Œå› ä¸ºé…ç½®è¯¥å‘½ä»¤åï¼Œ**æ‰€æœ‰IGPè·¯ç”±ä¼šè§¦å‘LDPå»ºç«‹LSPï¼Œå¯¼è‡´LSPæ•°é‡åºå¤§**ï¼Œå ç”¨è¿‡å¤šçš„ç³»ç»Ÿèµ„æºã€‚å¦‚æœéœ€è¦é…ç½®è¯¥å‘½ä»¤ï¼Œå¯ä»¥å…ˆé…ç½®è·¯ç”±è¿‡æ»¤ç­–ç•¥ï¼Œå‡å°‘è·¯ç”±æ•°é‡ï¼Œä»è€Œå‡å°‘è·¯ç”±è§¦å‘LDPå»ºç«‹çš„LSPçš„æ•°é‡ï¼ŒèŠ‚çº¦ç³»ç»Ÿèµ„æº

### 2. å¯¹BGPè·¯ç”±çš„ä¸‹ä¸€è·³è¿›è¡Œæ±‡æ€»ï¼šLSPæ–­è£‚ï¼Œå½¢æˆé»‘æ´
åœ¨AS20ä¸­ï¼ŒAR1å’ŒAR4å»ºç«‹BGPé‚»å±…ï¼ŒAR2å’ŒAR3ä¸è¿è¡ŒBGPã€‚
AR5ã€AR6çš„ç¯å›å£åœ°å€å‘å¸ƒåœ¨BGPä¸­ï¼Œåˆ†åˆ«ä¼ å…¥AS20ä¸­ï¼Œè¦æ±‚AR5å’ŒAR6çš„ç¯å›å£åœ°å€äº’è®¿
![å¯¹BGPè·¯ç”±çš„ä¸‹ä¸€è·³è¿›è¡Œæ±‡æ€»](https://fqj-web.github.io/post-images/1614165428913.png)
é¦–å…ˆåœ¨AR1å’ŒAR4ä¸Šä½¿ç”¨`route recursive-lookup tunnel`ä½¿èƒ½éš§é“è¿­ä»£åŠŸèƒ½ï¼Œéæ ‡ç­¾å…¬ç½‘BGPè·¯ç”±æˆ–è€…é™æ€è·¯ç”±å°†ä¼˜å…ˆè¿­ä»£åˆ°LSPéš§é“ï¼Œå¦‚æœæ²¡æœ‰LSPéš§é“ï¼Œä¸Šè¿°è·¯ç”±ä¹Ÿå¯ä»¥è¿­ä»£åˆ°å‡ºæ¥å£å’Œä¸‹ä¸€è·³ã€‚
1. åœ¨æ²¡æœ‰æ±‡æ€»çš„æƒ…å†µä¸‹ï¼Œåœ¨AR5ä¸Šä»¥è‡ªèº«çš„ç¯å›å£åœ°å€ä¸ºæºping AR6çš„ç¯å›å£å¯ä»¥pingé€šï¼Œ**æ•°æ®åŒ…å¯ä»¥é€šè¿‡æ ‡ç­¾äº¤æ¢ç©¿è¿‡AR2å’ŒAR3çš„BGPè·¯ç”±é»‘æ´**
2. åœ¨AR3ä¸Šè·¯ç”±æ±‡æ€»åï¼ˆæ±‡æ€»10.4.4.4/32ä¸º10.4.4.0/24ï¼‰ï¼Œä¸Šè¿°è®¿é—®ä¸é€šï¼Œæ•…éšœåŸå› ï¼š
    1. ç”±äºåœ¨AR1ä¸Šå¯¹åº”ä¸‹ä¸€è·³10.4.4.4çš„LSPï¼Œæ‰€ä»¥AR1å‘ç»™AR2çš„æ•°æ®åŒ…ä¸å¸¦æ ‡ç­¾ï¼ŒAR2æ”¶åˆ°æ•°æ®åŒ…åç›®çš„åœ°æ²¡æœ‰å¯¹åº”è·¯ç”±(æ— BGPè·¯ç”±)ï¼Œæ•°æ®åŒ…ä¸¢å¼ƒ
    2. åœ¨AR3ä¸Šåšé™æ€è·¯ç”±10.4.4.0/24æŒ‡å‘null0åï¼ŒAR1å‘å‡ºçš„æ•°æ®å¸§æºå¸¦æ ‡ç­¾ï¼Œ**åœ¨AR3ä¸Šæ”¶åˆ°æ ‡ç­¾ä¸ºR2å‘å‡ºçš„å¸¦1035çš„æ•°æ®å¸§åï¼Œå…ˆæ‰§è¡Œæ ‡ç­¾å¼¹å‡ºï¼ŒåæŸ¥æ‰¾æ•°æ®åŒ…ç›®çš„IPä¸å¯è¾¾(æ— BGPè·¯ç”±)**ï¼Œæ•°æ®åŒ…è¢«ä¸¢å¼ƒ
3. å¯¹MPLS/VPNçš„è·¯ç”±ä¸‹ä¸€è·³è¿›è¡Œæ±‡æ€»ï¼Œä¼šé€ æˆè·¯ç”±ä¸è¿›VPNå®ä¾‹çš„è·¯ç”±è¡¨ã€‚
    1. å½“PEæ”¶åˆ°ä¸€æ¡VPNv4çš„è·¯ç”±ï¼Œ**é¦–å…ˆéœ€è¦æŸ¥çœ‹ä¸‹ä¸€è·³æ˜¯å¦å­˜åœ¨å¯¹åº”çš„LSP**ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ç›´æ¥ä¸è£…è¿›VPNå®ä¾‹çš„è·¯ç”±è¡¨ä¸­ï¼Œæ‰€ä»¥åœ¨æ±‡æ€»åçš„æƒ…å†µä¸‹ï¼ŒPEçš„å®ä¾‹è·¯ç”±è¡¨ä¸‹æ— å¯¹æ–¹çš„è·¯ç”±ã€‚
    2. å¦‚æœåœ¨æ±‡æ€»ç‚¹æ·»åŠ ä¸€æ¡æ±‡æ€»åçš„é™æ€è·¯ç”±æŒ‡å‘null0ï¼Œç»“æœè¿˜æ˜¯ä¸è£…å…¥VPNå®ä¾‹ä¸‹çš„è·¯ç”±è¡¨ï¼Œå› ä¸º **PEåªä¿¡ä»»å…³äºä¸‹ä¸€è·³çš„32ä½è·¯ç”±çš„LSP**ï¼Œæ±‡æ€»åæ˜¯å…³äº24ä½è·¯ç”±çš„LSPï¼Œæ‰€ä»¥è¿˜æ˜¯ä¸è£…è¡¨
&lt;/code&gt;&lt;/pre&gt;
">MPLS</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/ipv6/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6%E5%9C%B0%E5%9D%80%E5%9F%BA%E7%A1%80&#34;&gt;IPv6åœ°å€åŸºç¡€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%93%E6%9E%84&#34;&gt;ç»“æ„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95&#34;&gt;è¡¨ç¤ºæ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB&#34;&gt;åœ°å€åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%8D%95%E6%92%AD%E5%9C%B0%E5%9D%80&#34;&gt;1. å•æ’­åœ°å€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#11-%E5%8F%AF%E8%81%9A%E5%90%88%E5%85%A8%E7%90%83%E5%8D%95%E6%92%AD%E5%9C%B0%E5%9D%80%E5%B8%B8%E8%A7%8120003&#34;&gt;1.1 å¯èšåˆå…¨çƒå•æ’­åœ°å€ï¼ˆå¸¸è§2000::/3ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#12-%E9%93%BE%E8%B7%AF%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80fe8010&#34;&gt;1.2 é“¾è·¯æœ¬åœ°åœ°å€ï¼ˆFE80::/10ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A5%E5%8F%A3%E6%A0%87%E8%AF%86%E7%94%9F%E6%88%90%E6%96%B9%E6%B3%95&#34;&gt;æ¥å£æ ‡è¯†ç”Ÿæˆæ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#13-%E5%94%AF%E4%B8%80%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80fc007&#34;&gt;1.3 å”¯ä¸€æœ¬åœ°åœ°å€ï¼ˆFC00::/7ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80%E5%B8%B8%E8%A7%81ff018%E5%92%8Cff028&#34;&gt;2. ç»„æ’­åœ°å€ï¼ˆå¸¸è§FF01::/8å’ŒFF02::/8ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80%E7%9A%84mac%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84&#34;&gt;ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AF%B7%E6%B1%82%E8%8A%82%E7%82%B9%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80solicited-node&#34;&gt;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼ˆSolicited-Nodeï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%BB%BB%E6%92%AD%E5%9C%B0%E5%9D%80&#34;&gt;3. ä»»æ’­åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%86%85%E5%B5%8Cipv4%E5%9C%B0%E5%9D%80%E7%9A%84ipv6%E5%9C%B0%E5%9D%80&#34;&gt;4. å†…åµŒIPv4åœ°å€çš„IPv6åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%B0%E5%9D%80%E9%85%8D%E7%BD%AE%E6%96%B9%E6%B3%95&#34;&gt;åœ°å€é…ç½®æ–¹æ³•&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%89%8B%E5%8A%A8%E9%85%8D%E7%BD%AE&#34;&gt;1. æ‰‹åŠ¨é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%97%A0%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D&#34;&gt;2. æ— çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%9C%89%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D&#34;&gt;3. æœ‰çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E5%A4%B4%E9%83%A8&#34;&gt;æŠ¥æ–‡å¤´éƒ¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%8A%A5%E5%A4%B4&#34;&gt;åŸºæœ¬æŠ¥å¤´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%89%A9%E5%B1%95%E6%8A%A5%E5%A4%B4&#34;&gt;æ‰©å±•æŠ¥å¤´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%89%A9%E5%B1%95%E6%8A%A5%E5%A4%B4%E7%A7%8D%E7%B1%BB&#34;&gt;æ‰©å±•æŠ¥å¤´ç§ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%89%A9%E5%B1%95%E6%8A%A5%E5%A4%B4%E8%A7%84%E7%BA%A6&#34;&gt;æ‰©å±•æŠ¥å¤´è§„çº¦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6%E5%8D%8F%E8%AE%AE%E5%9F%BA%E7%A1%80&#34;&gt;IPv6åè®®åŸºç¡€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#icmpv6&#34;&gt;ICMPv6&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%9F%E8%83%BD&#34;&gt;åŠŸèƒ½&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%BD%BF%E7%94%A8rsra133134&#34;&gt;1. ä½¿ç”¨RS/RAï¼ˆ133/134ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%B7%AF%E7%94%B1%E5%99%A8%E5%8F%91%E7%8E%B0&#34;&gt;1. è·¯ç”±å™¨å‘ç°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%BD%BF%E7%94%A8nsna135136&#34;&gt;2. ä½¿ç”¨NS/NAï¼ˆ135/136ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%87%8D%E5%A4%8D%E5%9C%B0%E5%9D%80%E6%A3%80%E6%B5%8Bdad&#34;&gt;1. é‡å¤åœ°å€æ£€æµ‹DAD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%B3%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0&#34;&gt;2. åœ°å€è§£æï¼ˆå³é‚»å±…å‘ç°ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E8%B7%9F%E8%B8%AA%E9%82%BB%E5%B1%85%E7%8A%B6%E6%80%81&#34;&gt;3. è·Ÿè¸ªé‚»å±…çŠ¶æ€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%BD%BF%E7%94%A8%E9%87%8D%E5%AE%9A%E5%90%91137&#34;&gt;3. ä½¿ç”¨é‡å®šå‘ï¼ˆ137ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%87%8D%E5%AE%9A%E5%90%91&#34;&gt;1. é‡å®šå‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6%E8%BF%87%E6%B8%A1%E6%8A%80%E6%9C%AF&#34;&gt;IPv6è¿‡æ¸¡æŠ€æœ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8C%E6%A0%88%E5%8D%8F%E8%AE%AE&#34;&gt;åŒæ ˆåè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6-over-ipv4%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF&#34;&gt;IPv6 over IPv4éš§é“æŠ€æœ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-6over4%E6%89%8B%E5%8A%A8%E9%9A%A7%E9%81%93%E8%BF%87%E6%B8%A1%E5%88%9D%E6%9C%9F%E4%BD%BF%E7%94%A8&#34;&gt;1. 6over4æ‰‹åŠ¨éš§é“ï¼ˆè¿‡æ¸¡åˆæœŸä½¿ç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-4over6%E6%89%8B%E5%8A%A8%E9%9A%A7%E9%81%93%E8%BF%87%E6%B8%A1%E5%90%8E%E6%9C%9F%E4%BD%BF%E7%94%A8&#34;&gt;2. 4over6æ‰‹åŠ¨éš§é“ï¼ˆè¿‡æ¸¡åæœŸä½¿ç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-gre%E6%89%8B%E5%8A%A8%E9%9A%A7%E9%81%93&#34;&gt;3. GREæ‰‹åŠ¨éš§é“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-ipv4%E5%85%BC%E5%AE%B9ipv6%E7%9B%AE%E5%89%8D%E5%B7%B2%E7%BB%8F%E8%A2%AB6to4%E9%9A%A7%E9%81%93%E6%89%80%E5%8F%96%E4%BB%A3&#34;&gt;4. IPv4å…¼å®¹IPv6ï¼ˆç›®å‰å·²ç»è¢«6to4éš§é“æ‰€å–ä»£ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-6to4%E9%9A%A7%E9%81%93&#34;&gt;5. 6to4éš§é“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-isatap%E9%9A%A7%E9%81%93&#34;&gt;6. ISATAPéš§é“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-nat64&#34;&gt;7. NAT64&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#pmtu%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B&#34;&gt;PMTUçš„å·¥ä½œè¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%A4%E5%8F%B0-ipv6-%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84%E4%BA%92%E8%AE%BF%E8%BF%87%E7%A8%8B&#34;&gt;ä¸¤å° ipv6 å®¢æˆ·ç«¯çš„äº’è®¿è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv4%E4%B8%8Eipv6-qos%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;IPv4ä¸IPV6 qosçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6%E5%AF%B9%E7%A7%BB%E5%8A%A8%E6%8A%80%E6%9C%AF%E7%9A%84%E6%94%AF%E6%8C%81%E7%94%A8%E5%88%B0%E4%BA%86%E5%93%AA%E4%BA%9B%E6%89%A9%E5%B1%95%E6%8A%A5%E5%A4%B4&#34;&gt;ipv6å¯¹ç§»åŠ¨æŠ€æœ¯çš„æ”¯æŒç”¨åˆ°äº†å“ªäº›æ‰©å±•æŠ¥å¤´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A7%BB%E5%8A%A8%E6%8A%80%E6%9C%AF&#34;&gt;ç§»åŠ¨æŠ€æœ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%BA%A7%E7%94%9F%E8%83%8C%E6%99%AF&#34;&gt;1. äº§ç”ŸèƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%8A%80%E6%9C%AF%E5%AE%9A%E4%B9%89&#34;&gt;2. æŠ€æœ¯å®šä¹‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E7%A7%BB%E5%8A%A8%E6%9C%BA%E5%88%B6&#34;&gt;3. ç§»åŠ¨æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-ipv6%E8%A7%A3%E5%86%B3%E7%A7%BB%E5%8A%A8%E9%97%AE%E9%A2%98%E7%9A%84%E6%8E%AA%E6%96%BD&#34;&gt;4. ipv6è§£å†³ç§»åŠ¨é—®é¢˜çš„æªæ–½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ipv6åœ°å€åŸºç¡€&#34;&gt;IPv6åœ°å€åŸºç¡€&lt;/h1&gt;
&lt;h2 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ°å€ç©ºé—´å·¨å¤§&lt;/li&gt;
&lt;li&gt;ç²¾ç®€æŠ¥æ–‡ç»“æ„&lt;/li&gt;
&lt;li&gt;å®ç°è‡ªåŠ¨é…ç½®å’Œé‡æ–°ç¼–å€&lt;/li&gt;
&lt;li&gt;æ”¯æŒå±‚æ¬¡åŒ–ç½‘ç»œç»“æ„&lt;/li&gt;
&lt;li&gt;æ”¯æŒç«¯å¯¹ç«¯å®‰å…¨&lt;/li&gt;
&lt;li&gt;æ›´å¥½çš„æ”¯æŒQoS&lt;/li&gt;
&lt;li&gt;æ”¯æŒç§»åŠ¨ç‰¹æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç»“æ„&#34;&gt;ç»“æ„&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;IPv6åœ°å€åˆ†ä¸¤éƒ¨åˆ†
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå‰ç¼€&lt;/strong&gt;ï¼Œnæ¯”ç‰¹ï¼Œç›¸å½“äºIPv4ä¸­çš„&lt;strong&gt;ç½‘ç»œID&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£æ ‡è¯†&lt;/strong&gt;ï¼Œ128-næ¯”ç‰¹ç›¸å½“äºIPv4ä¸­çš„&lt;strong&gt;ä¸»æœºID&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¡¨ç¤ºæ–¹æ³•&#34;&gt;è¡¨ç¤ºæ–¹æ³•&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;IPv6åœ°å€åŒ…æ‹¬128æ¯”ç‰¹ï¼Œç”±å†’å·åˆ†å‰²æˆ8æ®µï¼Œæ¯æ®µ4ä¸ª16è¿›åˆ¶æ•°ï¼Œä¾‹å¦‚ï¼š2031:0000:130F:0000:0000:09C0:876A:130B&lt;/li&gt;
&lt;li&gt;IPv6å‹ç¼©æ ¼å¼
&lt;ul&gt;
&lt;li&gt;æ¯ç»„ä¸­çš„å‰å¯¼â€œ0â€éƒ½å¯ä»¥çœç•¥ï¼Œä¾‹å¦‚ï¼š2031:0:130F:0:0:9C0:876A:130B&lt;/li&gt;
&lt;li&gt;åœ°å€ä¸­åŒ…å«çš„è¿ç»­ä¸¤ä¸ªæˆ–å¤šä¸ªå‡ä¸º0çš„ç»„ï¼Œå¯ä»¥ç”¨åŒå†’å·â€œ::â€æ¥ä»£æ›¿ï¼ˆ&lt;strong&gt;ä¸€ä¸ªåœ°å€ä¸­ä»…èƒ½ä½¿ç”¨ä¸€æ¬¡&lt;/strong&gt;ï¼‰ï¼Œä¾‹å¦‚ï¼š2031:0:130F::9C0:876A:130B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åœ°å€åˆ†ç±»&#34;&gt;åœ°å€åˆ†ç±»&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590421077406.png&#34; alt=&#34; IPv6åœ°å€åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­ FF00::/8&lt;/li&gt;
&lt;li&gt;ä»»æ’­åœ°å€ä¸å•æ’­åœ°å€ä½¿ç”¨åŒä¸€ä¸ªåœ°å€ç©ºé—´&lt;/li&gt;
&lt;li&gt;æœªæŒ‡å®šåœ°å€åªèƒ½ä½œä¸ºæºåœ°å€ä½¿ç”¨ï¼Œå¹¶ä¸èƒ½è¢«è·¯ç”±å™¨è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-å•æ’­åœ°å€&#34;&gt;1. å•æ’­åœ°å€&lt;/h3&gt;
&lt;p&gt;åœ¨IPv6ä¸­ï¼Œä¸€ä¸ªæ¥å£æ‹¥æœ‰å¤šä¸ªIPv6åœ°å€æ˜¯éå¸¸å¸¸è§çš„ç°è±¡ã€‚&lt;br&gt;
&lt;code&gt;å¯¹äºIPv6å•æ’­åœ°å€æ¥è¯´ï¼Œå¦‚æœåœ°å€çš„å‰3æ¯”ç‰¹ä¸æ˜¯000ï¼Œåˆ™æ¥å£æ ‡è¯†å¿…é¡»ä¸º64ä½ï¼›å¦‚æœåœ°å€çš„å‰3ä½æ˜¯000ï¼Œåˆ™æ²¡æœ‰æ­¤é™åˆ¶&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;11-å¯èšåˆå…¨çƒå•æ’­åœ°å€å¸¸è§20003&#34;&gt;1.1 å¯èšåˆå…¨çƒå•æ’­åœ°å€ï¼ˆå¸¸è§2000::/3ï¼‰&lt;/h4&gt;
&lt;p&gt;å…¨çƒå•æ’­åœ°å€å®šä¹‰ç”¨äºIPv6 Internetï¼Œæ˜¯å…¨å±€å”¯ä¸€çš„å’Œå…¨å±€å¯è·¯ç”±çš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590501843637.png&#34; alt=&#34;å¯èšåˆå…¨çƒå•æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼IPv4çš„å…¬ç½‘åœ°å€&lt;/li&gt;
&lt;li&gt;ç”±å‰ç¼€ã€å­ç½‘IDå’Œæ¥å£æ ‡è¯†ç»„æˆ
&lt;ul&gt;
&lt;li&gt;å…¨å±€è·¯ç”±å‰ç¼€ï¼šç”±æä¾›å•†æŒ‡å®šç»™ä¸€ä¸ªç»„ç»‡æœºæ„ï¼Œä¸€èˆ¬&lt;strong&gt;è‡³å°‘ä¸º48bit&lt;/strong&gt;ã€‚ç›®å‰å·²ç»åˆ†é…çš„&lt;strong&gt;å…¨å±€è·¯ç”±å‰ç¼€çš„å‰3bitå‡ä¸º001&lt;/strong&gt;ï¼Œ&lt;strong&gt;å› æ­¤å‰ç¼€ä¸º2000::/3&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å­ç½‘ï¼šç»„ç»‡æœºæ„å¯ä»¥ç”¨å­ç½‘IDæ¥æ„å»ºæœ¬åœ°ç½‘ç»œï¼Œä¸IPv4ä¸­çš„å­ç½‘å·ä½œç”¨ç›¸ä¼¼ï¼Œå­ç½‘IDé€šå¸¸&lt;strong&gt;æœ€å¤šåˆ†é…åˆ°ç¬¬64ä½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸»æœºä½ï¼šç”¨æ¥æ ‡è¯†ä¸€ä¸ªè®¾å¤‡ï¼Œä¸IPv4ä¸­çš„ä¸»æœºIDä½œç”¨ç›¸ä¼¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;12-é“¾è·¯æœ¬åœ°åœ°å€fe8010&#34;&gt;1.2 é“¾è·¯æœ¬åœ°åœ°å€ï¼ˆFE80::/10ï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨IPv6åè®®æ ˆæ—¶ï¼ŒèŠ‚ç‚¹çš„æ¯ä¸ªæ¥å£ä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€ï¼Œè¯¥åœ°å€ä¸“é—¨ç”¨æ¥å’Œç›¸åŒé“¾è·¯ä¸Šçš„å…¶ä»–ä¸»æœºé€šä¿¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590502600240.png&#34; alt=&#34;é“¾è·¯æœ¬åœ°åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªèƒ½åœ¨è¿æ¥åˆ°åŒä¸€ä¸ªæœ¬åœ°é“¾è·¯çš„èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ï¼Œå¹¿æ³›åº”ç”¨äº&lt;strong&gt;é‚»å±…å‘ç°ã€æ— çŠ¶æ€åœ°å€&lt;/strong&gt;ç­‰&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°åœ°å€å‰ç¼€FE80::/10ï¼Œå°†æ¥å£IDæ·»åŠ åœ¨åé¢ä½œä¸ºåœ°å€çš„ä½64ä½&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªIPv6æ¥å£éƒ½å¿…é¡»å…·å¤‡ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ¥å£æ ‡è¯†ç”Ÿæˆæ–¹æ³•&#34;&gt;æ¥å£æ ‡è¯†ç”Ÿæˆæ–¹æ³•&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹å·¥é…ç½®&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿé€šè¿‡è½¯ä»¶è‡ªåŠ¨ç”Ÿæˆ&lt;/li&gt;
&lt;li&gt;IEEE EUI-64è§„èŒƒè‡ªåŠ¨ç”Ÿæˆï¼ˆä¾æ®MACåœ°å€ç”Ÿæˆï¼‰
&lt;ol&gt;
&lt;li&gt;å°†MACåœ°å€ä¸­é—´æ’å…¥FFFEï¼Œä¾‹å¦‚ï¼š00e0-fc4c-5103è½¬æ¢æˆ00e0-fc&lt;strong&gt;ff-fe&lt;/strong&gt;4c-5103&lt;/li&gt;
&lt;li&gt;å°†&lt;strong&gt;ç¬¬ä¸ƒä½ç”±0å˜ä¸º1ï¼Œè¡¨ç¤ºè¯¥æ¥å£æ ‡è¯†æ˜¯å…¨çƒå”¯ä¸€&lt;/strong&gt;&lt;code&gt;å› ä¸ºMacåœ°å€çš„ç¬¬7ä¸º0è¡¨ç¤ºå…¨çƒå”¯ä¸€ï¼Œ1ä»£è¡¨æœ¬åœ°å”¯ä¸€ï¼Œè¿™å’ŒIPv6ç›¸å&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;br&gt;
00e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 00000000-e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 000000&lt;strong&gt;1&lt;/strong&gt;0-e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 02e0:fcff:fe4c:5103&lt;br&gt;
-----&amp;gt; &lt;code&gt;FE80::&lt;/code&gt;2E0:FCFF:FE4C:5103ï¼ˆå¯¹åº”çš„MACä¸º00e0-fc4c-5103ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¥å£æœªé…ç½®MACåœ°å€ï¼Œåˆ™æ¥å£EUI-64æ ¼å¼åœ°å€é‡‡ç”¨ä¸‹è¿°è§„åˆ™ç”Ÿæˆï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¸‰å±‚ç‰©ç†å£åŠå…¶å­æ¥å£&lt;/strong&gt;çš„EUI-64æ ¼å¼åœ°å€æ ¹æ®ç‰©ç†å£çš„MACåœ°å€ç”Ÿæˆï¼Œä¸­é—´å¡«å……&lt;strong&gt;æ¥å£ç´¢å¼•çš„åä¸¤ä¸ªå­—èŠ‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¯¹äº&lt;strong&gt;LoopBackæ¥å£ã€Tunnelæ¥å£&lt;/strong&gt;ï¼ŒEUI-64æ ¼å¼åœ°å€æ ¹æ®æ¥å£MACåœ°å€ç”Ÿæˆï¼Œä¸­é—´å¡«å……&lt;strong&gt;æ¥å£ç´¢å¼•çš„åä¸¤ä¸ªå­—èŠ‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¯¹äº&lt;strong&gt;Eth-Trunkæ¥å£åŠå…¶å­æ¥å£ã€VLANIFæ¥å£&lt;/strong&gt;ï¼ŒEUI-64æ ¼å¼åœ°å€æ ¹æ®æ¥å£MACåœ°å€ç”Ÿæˆï¼Œ&lt;strong&gt;ä¸­é—´å¡«å……FFFE&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;13-å”¯ä¸€æœ¬åœ°åœ°å€fc007&#34;&gt;1.3 å”¯ä¸€æœ¬åœ°åœ°å€ï¼ˆFC00::/7ï¼‰&lt;/h4&gt;
&lt;p&gt;ä¸ºäº†ä»£æ›¿ç«™ç‚¹æœ¬åœ°åœ°å€çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†è¿™æ ·çš„åœ°å€å…·æœ‰å”¯ä¸€æ€§ï¼Œé¿å…äº§ç”ŸåƒIPv4çš„ç§æœ‰åœ°å€æ³„éœ²åˆ°å…¬ç½‘è€Œé€ æˆçš„é—®é¢˜ï¼ŒRFC4193å®šä¹‰äº†å”¯ä¸€æœ¬åœ°åœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590503134885.png&#34; alt=&#34;å”¯ä¸€æœ¬åœ°åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lï¼š1=åœ¨æœ¬åœ°ç½‘ç»œèŒƒå›´å†…ä½¿ç”¨ï¼Œ0=è¢«ä¿ç•™ï¼ˆç”¨äºä»¥åæ‰©å±•ï¼‰&lt;/li&gt;
&lt;li&gt;Global IDï¼šå…¨çƒå”¯ä¸€å‰ç¼€ï¼Œé€šè¿‡ä¼ªéšæœºäº§ç”Ÿ&lt;/li&gt;
&lt;li&gt;Subnet IDï¼šå­ç½‘IDï¼Œç”¨äºåˆ’åˆ†å­ç½‘&lt;/li&gt;
&lt;li&gt;æ¦‚å¿µä¸Šç±»ä¼¼äºIPv4çš„ç§ç½‘åœ°å€ï¼Œä»…èƒ½å¤Ÿåœ¨æœ¬åœ°ç½‘ç»œä½¿ç”¨ï¼Œåœ¨IPv6 Internetä¸Šä¸å¯è¢«è·¯ç”±&lt;/li&gt;
&lt;li&gt;å›ºå®šå‰ç¼€ä¸ºFC00::/7ï¼Œåˆ†ä¸ºä¸¤å—ï¼Œå…¶ä¸­FC00::/8æš‚æœªå®šä¹‰ï¼Œå¦ä¸€å—æ˜¯FD00::/8ï¼Œå…¶æ ¼å¼å¦‚ä¸Šå›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-ç»„æ’­åœ°å€å¸¸è§ff018å’Œff028&#34;&gt;2. ç»„æ’­åœ°å€ï¼ˆå¸¸è§FF01::/8å’ŒFF02::/8ï¼‰&lt;/h3&gt;
&lt;p&gt;æ ‡è¯†å¤šä¸ªæ¥å£ï¼Œç›®çš„åœ°å€ä¸ºç»„æ’­åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ‰€æœ‰æ¥å£ã€‚åªæœ‰åŠ å…¥ç›¸åº”ç»„æ’­ç»„çš„è®¾å¤‡æ¥å£æ‰ä¼šä¾¦å¬å‘å¾€è¯¥ç»„æ’­åœ°å€çš„æŠ¥æ–‡ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590504106960.png&#34; alt=&#34; ç»„æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼IPv4ç»„æ’­åœ°å€&lt;/li&gt;
&lt;li&gt;ç”±å‰ç¼€ã€æ ‡å¿—ï¼ˆflagï¼‰å­—æ®µã€èŒƒå›´(scope)å­—æ®µå’Œç»„æ’­ç»„IDç»„æˆ
&lt;ul&gt;
&lt;li&gt;Flagsï¼šè¡¨ç¤ºä¸´æ—¶æˆ–è€…æ°¸ä¹…
&lt;ul&gt;
&lt;li&gt;å‰3ä½è®¾ä¸º0&lt;/li&gt;
&lt;li&gt;æœ€åä¸€ä½å®šä¹‰åœ°å€ç±»å‹
&lt;ul&gt;
&lt;li&gt;0=æ°¸ä¹…ç»„æ’­åœ°å€&lt;/li&gt;
&lt;li&gt;1=ä¸´æ—¶ç»„æ’­åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scopeï¼šè¡¨ç¤ºç»„æ’­ç»„çš„èŒƒå›´
&lt;ul&gt;
&lt;li&gt;æ­¤å­—æ®µé•¿åº¦ä¸º4ä½ï¼Œé™¤äº†ä½¿ç”¨ç»„æ’­è·¯ç”±åè®®æä¾›ä¿¡æ¯å¤–ï¼Œè·¯ç”±å™¨è¿˜è¦ä½¿ç”¨ç»„æ’­èŒƒå›´æ®µæ¥åˆ¤å®šç»„æ’­æµé‡èƒ½å¦å‘é€å‡ºå»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590504746433.png&#34; alt=&#34;Scope&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Group IDï¼šç»„æ’­ç»„ID
&lt;ul&gt;
&lt;li&gt;ç”¨äºæ ‡è¯†ç»„æ’­ç»„ï¼Œè¿™ä¸ªå€¼åœ¨åœ°å€èŒƒå›´å†…æ˜¯å”¯ä¸€çš„ï¼Œæ­¤å­—æ®µçš„é•¿åº¦ä¸º112ä½ã€‚å…¶ä¸­ï¼Œæ°¸ä¹…åˆ†é…çš„ç»„IDä¸æ”¶å½“å‰èŒƒå›´çš„é™åˆ¶ï¼Œè€Œä¸´æ—¶ç»„IDåªèƒ½åœ¨æŸä¸ªç‰¹å®šçš„èŒƒå›´å†…æœ‰æ„ä¹‰ã€‚è€ŒFF01::åˆ°FF0F::çš„ç»„æ’­åœ°å€æ•°æ®ä¿ç•™åœ°å€æ®µï¼Œè€Œä¸”ä¹Ÿæ˜¯æ°¸ä¹…ç»„æ’­åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¢„å®šä¹‰ç»„æ’­åœ°å€
&lt;ul&gt;
&lt;li&gt;Node-localï¼ˆèŠ‚ç‚¹æœ¬åœ°èŒƒå›´ï¼‰
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF01::1ï¼ˆç±»ä¼¼224.0.0.1ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF01::2ï¼ˆç±»ä¼¼224.0.0.2ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Link-localï¼ˆé“¾è·¯æœ¬åœ°èŒƒå›´ï¼‰
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::1ï¼ˆç±»ä¼¼224.0.0.1ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::2 ï¼ˆç±»ä¼¼224.0.0.2ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰OSPFè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::5ï¼ˆç±»ä¼¼224.0.0.5ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰OSPFçš„DRè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::6ï¼ˆç±»ä¼¼224.0.0.6ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰RIPè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::9ï¼ˆç±»ä¼¼224.0.0.9ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰PIMè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::Dï¼ˆç±»ä¼¼224.0.0.13ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Solicited-Nodeç»„æ’­åœ°å€ï¼š&lt;code&gt;FF02::1:FFXX:XXXX/104&lt;/code&gt;ï¼Œè¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼Œç±»ä¼¼ARPï¼ˆxé€šè¿‡æ˜ å°„MACåœ°å€å24ä½å¾—åˆ°ï¼Œä¹Ÿæ˜¯é“¾è·¯æœ¬åœ°åœ°å€çš„å24ä½ï¼Œå¦‚æœæ˜¯æ‰‹åŠ¨é…ç½®çš„IPv6åœ°å€ï¼Œåˆ™xä¸ºæ‰‹åŠ¨é…ç½®åœ°å€çš„å24ä½ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç«™ç‚¹æœ¬åœ°èŒƒå›´
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨ï¼š&lt;code&gt;FF05::2ï¼ˆç±»ä¼¼224.0.0.2ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…¨å±€
&lt;ul&gt;
&lt;li&gt;NTPåè®®ï¼š&lt;code&gt;FF0x::101ï¼ˆç±»ä¼¼224.0.1.1ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç»„æ’­åœ°å€çš„macåœ°å€æ˜ å°„&#34;&gt;ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590505247365.png&#34; alt=&#34;ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æ’­IPv6æŠ¥æ–‡çš„ç›®çš„IPåœ°å€æ˜¯ç»„æ’­IPv6åœ°å€ï¼Œè€Œç›®çš„macåœ°å€åˆ™å¿…é¡»æ˜¯ç»„æ’­macåœ°å€ï¼Œå¹¶ä¸”è¯¥åœ°å€å¿…é¡»ä¸ç»„æ’­IPv6åœ°å€å¯¹åº”&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;33-33&lt;/strong&gt;æ˜¯ä¸“é—¨ä¸ºIPv6ç»„æ’­é¢„ç•™çš„macåœ°å€å‰ç¼€ï¼Œ&lt;strong&gt;macåœ°å€çš„å32bitä»å¯¹åº”çš„ç»„æ’­IPv6åœ°å€çš„å32bit&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€solicited-node&#34;&gt;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼ˆSolicited-Nodeï¼‰&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590505839548.png&#34; alt=&#34;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IPv6ä¸­ç‰¹æœ‰çš„ç»„æ’­åœ°å€
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹å¿…é¡»ä¸ºåˆ†é…ç»™ä»–çš„æ¯ä¸ªå•æ’­å’Œä»»æ’­åœ°å€åŠ å…¥ä¸€ä¸ªç»„æ’­åœ°å€ï¼Œç”¨äºDADåœ°å€é‡å¤æ£€æµ‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Solicited-Nodeç»„æ’­åœ°å€ç”Ÿæˆè¿‡ç¨‹
&lt;ul&gt;
&lt;li&gt;æ¥å£ID(æ¥å£IPv6åœ°å€)çš„å24ä½ï¼šxx:xxxx&lt;/li&gt;
&lt;li&gt;å‰ç¼€ï¼šFF02:0:0:0:0:1:FFï¼Œä¾‹å¦‚ä¸»æœºçš„macä¸º00-02-b3-&lt;strong&gt;1e-83-29&lt;/strong&gt;ï¼Œåˆ™è‡ªåŠ¨ç”Ÿæˆçš„IPv6åœ°å€ä¸ºfe80::0202:b3ff:fe&lt;strong&gt;1e:8329&lt;/strong&gt;ï¼Œé‚£ä¹ˆè¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ä¸ºff02::1:ff&lt;strong&gt;1e:8329&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-ä»»æ’­åœ°å€&#34;&gt;3. ä»»æ’­åœ°å€&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä½œç”¨ï¼šä¸ºå¤šä¸ªä¸»æœºæˆ–èŠ‚ç‚¹æä¾›ç›¸åŒçš„æœåŠ¡çš„åŒæ—¶ï¼Œæä¾›å†—ä½™å’Œè´Ÿè½½åˆ†æ‹…çš„åŠŸèƒ½ã€‚ç›®å‰ä¸»è¦ç”¨äºç§»åŠ¨IPv6ï¼Œåœ¨6to4ä¸­ç»§ä¸­ä¹Ÿä½¿ç”¨ä»»æ’­å‰ç¼€2002:c058:6301::&lt;/li&gt;
&lt;li&gt;ä»»æ’­åœ°å€å’Œå•æ’­åœ°å€ä½¿ç”¨ç›¸åŒçš„åœ°å€ç©ºé—´&lt;/li&gt;
&lt;li&gt;åŒä¸€å•æ’­åœ°å€è¢«åˆ†é…ç»™å¤šä¸ªæ¥å£ï¼ˆé€šå¸¸å±äºä¸åŒçš„èŠ‚ç‚¹ï¼‰ï¼Œä»…ç”¨äºè·¯ç”±å™¨ï¼Œ&lt;strong&gt;ä¸èƒ½åº”ç”¨äºä¸»æœºï¼Œä¸èƒ½åšä¸ºIPv6æŠ¥æ–‡çš„æºåœ°å€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é…ç½®æ—¶éœ€æ˜ç¡®è¡¨ç¤ºä»»æ’­åœ°å€ï¼Œç”¨æ¥åŒºåˆ«å•æ’­å’Œä»»æ’­&lt;code&gt;ipv6 address 2001:12:1::1/64 anycast&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‘å¾€ä»»æ’­åœ°å€çš„æ•°æ®åŒ…ï¼Œè¢«è·¯ç”±è½¬å‘ç»™ï¼Œåˆ†é…äº†ä»»æ’­åœ°å€çš„æ¥å£ä¸­ï¼Œè·ç¦»æœ€è¿‘çš„ä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-å†…åµŒipv4åœ°å€çš„ipv6åœ°å€&#34;&gt;4. å†…åµŒIPv4åœ°å€çš„IPv6åœ°å€&lt;/h3&gt;
&lt;p&gt;ç”¨äºä¸ä¼ ç»Ÿç½‘ç»œä¹‹é—´çš„äº’è”äº’é€šï¼Œä»¥ä½¿IPv4ç½‘ç»œå’ŒIPv6ç½‘ç»œä¹‹é—´èƒ½å¤Ÿè¿›è¡Œæ— ç¼é€šä¿¡ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯IPv4åœ°å€å¿…é¡»æ˜¯å…¨çƒå”¯ä¸€çš„IPv4å•æ’­åœ°å€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPv4å…¼å®¹çš„IPv6åœ°å€&lt;br&gt;
::ipv4åœ°å€/96ï¼Œä¾‹å¦‚::1.2.3.4/96&lt;/li&gt;
&lt;li&gt;IPv4æ˜ å°„çš„IPv6åœ°å€&lt;br&gt;
::FFFF:ipv4åœ°å€/80ï¼Œä¾‹å¦‚::FFFF:1.2.3.4/80&lt;/li&gt;
&lt;li&gt;6to4ä¸“ç”¨åœ°å€ï¼Œ6to4åœ°å€å¯ä»¥è¡¨ç¤ºä¸º&lt;code&gt;2002::/16&lt;/code&gt;ï¼Œè€Œä¸€ä¸ª6to4ç½‘ç»œå¯ä»¥è¡¨ç¤ºä¸º&lt;code&gt;2002:IPv4åœ°å€::/48&lt;/code&gt;ï¼ˆå±äº&lt;strong&gt;å…¨çƒå•æ’­åœ°å€&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åœ°å€é…ç½®æ–¹æ³•&#34;&gt;åœ°å€é…ç½®æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&#34;1-æ‰‹åŠ¨é…ç½®&#34;&gt;1. æ‰‹åŠ¨é…ç½®&lt;/h3&gt;
&lt;p&gt;æ‰‹åŠ¨é…ç½®IPv6åœ°å€/å‰ç¼€åŠå…¶ä»–ç½‘ç»œé…ç½®å‚æ•°ï¼ˆDNSã€NISã€SNTPæœåŠ¡å™¨åœ°å€ç­‰å‚æ•°ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;2-æ— çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&#34;&gt;2. æ— çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&lt;/h3&gt;
&lt;p&gt;ç”±æ¥å£IDç”Ÿæˆé“¾è·¯æœ¬åœ°åœ°å€ï¼Œå†æ ¹æ®è·¯ç”±é€šå‘ŠæŠ¥æ–‡RAåŒ…å«çš„å‰ç¼€ä¿¡æ¯è‡ªåŠ¨é…ç½®æœ¬æœºåœ°å€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-æœ‰çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&#34;&gt;3. æœ‰çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&lt;/h3&gt;
&lt;p&gt;å³DHCPv6æ–¹å¼ã€‚DHCPv6åˆåˆ†ä¸ºå¦‚ä¸‹ä¸¤ç§:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DHCPv6æœ‰çŠ¶æ€è‡ªåŠ¨åˆ†é…&lt;br&gt;
DHCPv6æœåŠ¡å™¨è‡ªåŠ¨åˆ†é…IPv6åœ°å€/RDå‰ç¼€åŠå…¶ä»–ç½‘ç»œé…ç½®å‚æ•°ï¼ˆDNSã€NISã€SNTPæœåŠ¡å™¨åœ°å€ç­‰å‚æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;DHCPv6æ— çŠ¶æ€è‡ªåŠ¨åˆ†é…&lt;br&gt;
ä¸»æœºIPv6åœ°å€ä»ç„¶é€šè¿‡è·¯ç”±é€šå‘Šæ–¹å¼è‡ªåŠ¨ç”Ÿæˆï¼Œ&lt;strong&gt;DHCPv6æœåŠ¡å™¨åªåˆ†é…é™¤IPv6åœ°å€ä»¥å¤–çš„é…ç½®å‚æ•°&lt;/strong&gt;ï¼ŒåŒ…æ‹¬DNSã€NISã€SNTPæœåŠ¡å™¨ç­‰å‚æ•°ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;æ ¹æ®æ¥å£æ ‡è¯†äº§ç”Ÿé“¾è·¯æœ¬åœ°åœ°å€ï¼ˆEUI-64ï¼‰&lt;/li&gt;
&lt;li&gt;å‘å‡ºé‚»å±…è¯·æ±‚ï¼Œè¿›è¡Œé‡å¤åœ°å€æ£€æµ‹
&lt;ol&gt;
&lt;li&gt;å¦‚åœ°å€å†²çªï¼Œåˆ™åœæ­¢è‡ªåŠ¨é…ç½®ï¼Œéœ€è¦æ‰‹å·¥é…ç½®&lt;/li&gt;
&lt;li&gt;å¦‚ä¸å†²çªï¼Œé“¾è·¯æœ¬åœ°åœ°å€ç”Ÿæ•ˆï¼ŒèŠ‚ç‚¹å…·å¤‡æœ¬åœ°é“¾è·¯é€šä¿¡èƒ½åŠ›
&lt;ol&gt;
&lt;li&gt;ä¸»æœºä¼šå‘é€RSæŠ¥æ–‡ï¼ˆæˆ–æ¥æ”¶åˆ°è®¾å¤‡å®šæœŸå‘é€çš„RAæŠ¥æ–‡, æœ€å¤§é—´éš”600ç§’ï¼Œæœ€å°é—´éš”200ç§’ï¼‰&lt;/li&gt;
&lt;li&gt;æ ¹æ®RAæŠ¥æ–‡ä¸­çš„å‰ç¼€ä¿¡æ¯å’Œæ¥å£æ ‡è¯†å¾—åˆ°IPv6åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡å¤´éƒ¨&#34;&gt;æŠ¥æ–‡å¤´éƒ¨&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬æŠ¥å¤´&#34;&gt;åŸºæœ¬æŠ¥å¤´&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590509355658.png&#34; alt=&#34;åŸºæœ¬æŠ¥å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å›ºå®š40å­—èŠ‚&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šè¯¥å€¼ä¸º6&lt;/li&gt;
&lt;li&gt;Traffic Classï¼šæµç±»åˆ«ï¼Œç­‰åŒäºIPv4ä¸­çš„TOSå­—æ®µï¼Œè¡¨ç¤ºIPv6æ•°æ®æŠ¥çš„ç±»æˆ–ä¼˜å…ˆçº§ï¼Œä¸»è¦åº”ç”¨äºQoS&lt;/li&gt;
&lt;li&gt;Flow Labelï¼šæµæ ‡ç­¾ï¼ŒIPv6ä¸­çš„æ–°å¢å­—æ®µï¼Œ&lt;strong&gt;ç”¨äºåŒºåˆ†å®æ—¶æµé‡ï¼Œä¸åŒçš„æµæ ‡ç­¾+æºåœ°å€å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ¡æ•°æ®æµ&lt;/strong&gt;&lt;code&gt;IPv4ä¸­é€šè¿‡äº”å…ƒç»„æ ‡è¯†ä¸€æ¡æ•°æ®æµ&lt;/code&gt;ï¼Œä¸­é—´ç½‘ç»œè®¾å¤‡å¯ä»¥æ ¹æ®è¿™äº›ä¿¡æ¯æ›´åŠ é«˜æ•ˆç‡çš„åŒºåˆ†æ•°æ®æµ&lt;/li&gt;
&lt;li&gt;Payload Lengthï¼šæœ‰æ•ˆè½½è·é•¿åº¦ï¼ŒæŒ‡ç´§è·ŸIPv6æŠ¥å¤´çš„æ•°æ®æŠ¥çš„å…¶å®ƒéƒ¨åˆ†ï¼ˆå³æ‰©å±•æŠ¥å¤´å’Œä¸Šå±‚åè®®æ•°æ®å•å…ƒï¼‰&lt;/li&gt;
&lt;li&gt;Next Headerï¼šä¸‹ä¸€ä¸ªæŠ¥å¤´ï¼Œç´§è·Ÿåœ¨IPv6æŠ¥å¤´åé¢çš„ç¬¬ä¸€ä¸ªæ‰©å±•æŠ¥å¤´ï¼ˆå¦‚æœå­˜åœ¨ï¼‰çš„ç±»å‹ï¼Œæˆ–è€…ä¸Šå±‚åè®®æ•°æ®å•å…ƒä¸­çš„åè®®ç±»å‹&lt;/li&gt;
&lt;li&gt;Hop Limitï¼šè·³æ•°é™åˆ¶ï¼Œç±»ä¼¼äºIPv4ä¸­çš„Time to Liveå­—æ®µï¼ŒIPv6æ•°æ®æŠ¥æ–‡æ‰€èƒ½ç»è¿‡çš„æœ€è·³æ•°&lt;br&gt;
&lt;code&gt;IPv6å’ŒIPv4ç›¸æ¯”ï¼Œå»é™¤äº†IHLã€Identificationã€Flagsã€Fragment Offsetã€Header Checksumã€Optionsã€PaddingåŸŸï¼Œåªå¢äº†æµæ ‡ç­¾åŸŸï¼Œå› æ­¤IPv6æŠ¥æ–‡å¤´çš„å¤„ç†è¾ƒIPv4å¤§å¤§ç®€åŒ–ï¼Œæé«˜äº†å¤„ç†æ•ˆç‡ã€‚å¦å¤–ï¼ŒIPv6ä¸ºäº†æ›´å¥½æ”¯æŒå„ç§é€‰é¡¹å¤„ç†ï¼Œæå‡ºäº†æ‰©å±•å¤´çš„æ¦‚å¿µï¼Œæ–°å¢é€‰é¡¹æ—¶ä¸å¿…ä¿®æ”¹ç°æœ‰ç»“æ„å°±èƒ½åšåˆ°ï¼Œæ‰©å±•æ€§å’Œçµæ´»æ€§æ›´é«˜&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;IPv6ä¸­æ²¡æœ‰æ ¡éªŒå€¼(Header Checksum)çš„åŸå› ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸Šå±‚æ‰¿è½½çš„æ˜¯TCPæˆ–è€…UDPï¼Œä¼šå­˜åœ¨ä¸€ä¸ªä¼ªå¤´éƒ¨ï¼Œå¯ä»¥ç”¨æ¥æ ¡éªŒIPv6&lt;/li&gt;
&lt;li&gt;IPv6å¯ä»¥æºå¸¦AHæ‰©å±•å¤´éƒ¨ï¼ˆå³è®¤è¯æ‰©å±•æŠ¥å¤´ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ‰©å±•æŠ¥å¤´&#34;&gt;æ‰©å±•æŠ¥å¤´&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590509989601.png&#34; alt=&#34;æ‰©å±•æŠ¥å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰©å±•æŠ¥å¤´æ˜¯å¯é€‰çš„ï¼Œåªæœ‰éœ€è¦è¯¥æ‰©å±•æŠ¥å¤´å¯¹åº”çš„åŠŸèƒ½æ—¶ï¼Œæ•°æ®çš„å‘é€è€…æ‰ä¼šæ·»åŠ ç›¸åº”çš„æ‰©å±•æŠ¥å¤´&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†åŸIPv4é€‰é¡¹å­—æ®µæ”¾å…¥æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;IPv6æŠ¥æ–‡åŒ…å«0ã€1æˆ–è€…å¤šä¸ªæ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;å›ºå®šä¸º8å­—èŠ‚é•¿åº¦çš„æ•´æ•°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ‰©å±•æŠ¥å¤´ç§ç±»&#34;&gt;æ‰©å±•æŠ¥å¤´ç§ç±»&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;é€è·³é€‰é¡¹æ‰©å±•æŠ¥å¤´0&lt;br&gt;
è¯¥é€‰é¡¹ä¸»è¦ç”¨äºä¸ºåœ¨ä¼ é€è·¯å¾„ä¸Šçš„&lt;strong&gt;æ¯è·³è½¬å‘æŒ‡å®šå‘é€å‚æ•°&lt;/strong&gt;ï¼Œä¼ é€è·¯å¾„ä¸Šçš„æ¯å°ä¸­é—´èŠ‚ç‚¹éƒ½è¦è¯»å–å¹¶å¤„ç†è¯¥å­—æ®µã€‚é€è·³é€‰é¡¹æŠ¥å¤´ç›®å‰çš„ä¸»è¦åº”ç”¨æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š
&lt;ol&gt;
&lt;li&gt;ç”¨äºå·¨å‹è½½è·ï¼ˆè½½è·é•¿åº¦è¶…è¿‡65535å­—èŠ‚ï¼‰&lt;/li&gt;
&lt;li&gt;ç”¨äºè·¯ç”±å™¨æç¤ºï¼Œä½¿è·¯ç”±å™¨æ£€æŸ¥è¯¥é€‰é¡¹çš„ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç®€å•çš„è½¬å‘å‡ºå»&lt;/li&gt;
&lt;li&gt;ç”¨äºèµ„æºé¢„ç•™ï¼ˆRSVPï¼Œä¸»è¦ç”¨äºMPLS-TEï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´60&lt;br&gt;
ç›®çš„é€‰é¡¹æŠ¥å¤´æºå¸¦äº†ä¸€äº›&lt;strong&gt;åªæœ‰ç›®çš„èŠ‚ç‚¹æ‰ä¼šå¤„ç†çš„ä¿¡æ¯&lt;/strong&gt;ã€‚ç›®å‰ï¼Œ ç›®çš„é€‰é¡¹æŠ¥æ–‡å¤´ä¸»è¦åº”ç”¨äº&lt;strong&gt;ç§»åŠ¨IPv6&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ‰©å±•æŠ¥å¤´43&lt;br&gt;
è·¯ç”±æŠ¥å¤´å’ŒIPv4çš„Loose Source and Record Routeé€‰é¡¹ç±»ä¼¼ï¼Œè¯¥æŠ¥å¤´èƒ½å¤Ÿè¢«IPv6æºèŠ‚ç‚¹ç”¨æ¥&lt;strong&gt;å¼ºåˆ¶æ•°æ®åŒ…ç»è¿‡ç‰¹å®šçš„è·¯ç”±å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åˆ†ç‰‡æ‰©å±•æŠ¥å¤´44&lt;br&gt;
åŒIPv4ä¸€æ ·ï¼ŒIPv6æŠ¥æ–‡å‘é€ä¹Ÿå—åˆ°MTUçš„é™åˆ¶ï¼Œå½“æŠ¥æ–‡é•¿åº¦è¶…è¿‡MTUæ—¶å°±éœ€è¦å°†æŠ¥æ–‡åˆ†æ®µå‘é€ï¼Œè€Œåœ¨IPv6ä¸­ï¼Œåˆ†æ®µå‘é€ä½¿ç”¨çš„æ˜¯åˆ†æ®µæŠ¥å¤´&lt;code&gt;ä½¿ç”¨PMTUDï¼ˆè·¯å¾„MTUå‘ç°ï¼‰æ£€æµ‹è½¬å‘è·¯å¾„ä¸ŠMTUçš„æœ€å°å€¼ã€‚ipv4ä¸­æƒ³ä½¿ç”¨æ­¤æœºåˆ¶ï¼Œéœ€è¦å°†DFä½ç½®1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¤è¯æ‰©å±•æŠ¥å¤´51ï¼ˆAHï¼‰&lt;br&gt;
è¯¥æŠ¥å¤´ç”±IPsecä½¿ç”¨ï¼Œæä¾›è®¤è¯ã€&lt;strong&gt;æ•°æ®å®Œæ•´æ€§ä»¥åŠé‡æ”¾ä¿æŠ¤&lt;/strong&gt;ï¼Œè¿˜å¯¹IPv6åŸºæœ¬æŠ¥å¤´ä¸­çš„ä¸€äº›å­—æ®µè¿›è¡Œä¿æŠ¤&lt;/li&gt;
&lt;li&gt;å°è£…å®‰å…¨æœ‰æ•ˆè½½è·æ‰©å±•æŠ¥å¤´50ï¼ˆESPï¼‰&lt;br&gt;
è¯¥æŠ¥å¤´ç”±IPsecä½¿ç”¨ï¼Œæä¾›è®¤è¯ã€æ•°æ®å®Œæ•´æ€§ä»¥åŠé‡æ”¾ä¿æŠ¤å’ŒIPv6æŠ¥æ–‡çš„åŠ å¯†ï¼Œç±»ä¼¼äºè®¤è¯æŠ¥å¤´&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ‰©å±•æŠ¥å¤´è§„çº¦&#34;&gt;æ‰©å±•æŠ¥å¤´è§„çº¦&lt;/h4&gt;
&lt;p&gt;å½“è¶…è¿‡ä¸€ç§æ‰©å±•æŠ¥å¤´è¢«ç”¨åœ¨åŒä¸€ä¸ªåˆ†ç»„é‡Œæ—¶ï¼ŒæŠ¥å¤´å¿…é¡»æŒ‰ç…§ä¸‹åˆ—é¡ºåºå‡ºç°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPv6åŸºæœ¬æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é€è·³&lt;/strong&gt;é€‰é¡¹æ‰©å±•æŠ¥å¤´0&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®çš„&lt;/strong&gt;é€‰é¡¹æ‰©å±•æŠ¥å¤´60&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±&lt;/strong&gt;æ‰©å±•æŠ¥å¤´43&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æ®µ&lt;/strong&gt;æ‰©å±•æŠ¥å¤´44&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è®¤è¯&lt;/strong&gt;æ‰©å±•æŠ¥å¤´51&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å°è£…å®‰å…¨æœ‰æ•ˆè½½è·&lt;/strong&gt;æ‰©å±•æŠ¥å¤´50&lt;/li&gt;
&lt;li&gt;ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´ï¼ˆç¬¬2æ¬¡å‡ºç°ï¼ŒæŒ‡å“ªäº›è¢«åˆ†ç»„æŠ¥æ–‡çš„æœ€ç»ˆç›®çš„åœ°å¤„ç†çš„é€‰é¡¹ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸Šå±‚åè®®æ•°æ®æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è·¯ç”±è®¾å¤‡è½¬å‘æ—¶&lt;strong&gt;æ ¹æ®åŸºæœ¬æŠ¥å¤´ä¸­çš„NextHeaderå€¼æ¥å†³å®šæ˜¯å¦è¦å¤„ç†æ‰©å±•å¤´&lt;/strong&gt;ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ‰©å±•æŠ¥å¤´éƒ½éœ€è¦è¢«è½¬å‘è·¯ç”±è®¾å¤‡æŸ¥çœ‹å’Œå¤„ç†çš„ã€‚&lt;br&gt;
&lt;strong&gt;é™¤äº†ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´å¯èƒ½å‡ºç°ä¸€æ¬¡æˆ–è€…ä¸¤æ¬¡&lt;/strong&gt;ï¼ˆä¸€æ¬¡åœ¨è·¯ç”±æ‰©å±•æŠ¥å¤´ä¹‹å‰ï¼Œä¸€æ¬¡åœ¨ä¸Šå±‚åè®®æ•°æ®æŠ¥æ–‡ä¹‹å‰ï¼‰ï¼Œ&lt;strong&gt;å…¶ä½™æ‰©å±•æŠ¥å¤´åªèƒ½å‡ºç°ä¸€æ¬¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ipv6åè®®åŸºç¡€&#34;&gt;IPv6åè®®åŸºç¡€&lt;/h1&gt;
&lt;h2 id=&#34;icmpv6&#34;&gt;ICMPv6&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;58ï¼ˆ0x3Aï¼‰ï¼Œå³ä¸‹ä¸€ä¸ªæ‰©å±•å¤´ä¸º58ï¼ŒTCPä¸º6ï¼ŒUDPä¸º17&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;5å¤§åŠŸèƒ½&lt;/strong&gt;ï¼šåœ°å€è§£æã€è·Ÿè¸ªé‚»å±…çŠ¶æ€ã€é‡å¤åœ°å€æ£€æµ‹ã€è·¯ç”±å™¨å‘ç°ã€é‡å®šå‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590591063496.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æŠ¥æ–‡åˆ†ç±»å¦‚ä¸‹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å·®é”™æŠ¥æ–‡ï¼š8bitsç±»å‹å­—æ®µä¸­çš„æœ€é«˜bitä¸º0ï¼Œå³type=[0,127]
&lt;ol&gt;
&lt;li&gt;type1ï¼šç›®æ ‡ä¸å¯è¾¾
&lt;ol&gt;
&lt;li&gt;code0ï¼šæ²¡æœ‰åˆ°è¾¾ç›®æ ‡çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;code1ï¼šä¸ç›®æ ‡çš„é€šä¿¡è¢«ç®¡ç†ç­–ç•¥ç¦æ­¢&lt;/li&gt;
&lt;li&gt;code2ï¼šæœªæŒ‡å®š&lt;/li&gt;
&lt;li&gt;code3ï¼šåœ°å€ä¸å¯è¾¾&lt;/li&gt;
&lt;li&gt;code4ï¼šç«¯å£ä¸å¯è¾¾&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;type2ï¼šæ•°æ®åŒ…è¿‡é•¿
&lt;ol&gt;
&lt;li&gt;åªæœ‰code0&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;type3ï¼šè¶…æ—¶
&lt;ol&gt;
&lt;li&gt;code0ï¼šåœ¨ä¼ è¾“ä¸­è¶…è¶Šäº†è·³æ•°é™åˆ¶&lt;/li&gt;
&lt;li&gt;code1ï¼šåˆ†ç‰‡é‡ç»„è¶…æ—¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;type4ï¼šå‚æ•°é—®é¢˜
&lt;ol&gt;
&lt;li&gt;code0ï¼šé‡åˆ°é”™è¯¯çš„æŠ¥å¤´å­—æ®µ&lt;/li&gt;
&lt;li&gt;code1ï¼šé‡åˆ°æ— æ³•è¯†åˆ«çš„ä¸‹ä¸€ä¸ªæŠ¥å¤´ç±»å‹&lt;/li&gt;
&lt;li&gt;code2ï¼šé‡åˆ°æ— æ³•è¯†åˆ«çš„IPv6é€‰é¡¹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¿¡æ¯æŠ¥æ–‡ï¼š8bitsç±»å‹å­—æ®µä¸­çš„æœ€é«˜bitä¸º1ï¼Œå³type=[128,255]&lt;br&gt;
&lt;code&gt;ä»¥ä¸‹æŠ¥æ–‡çš„codeå€¼å‡ä¸º0&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;type128ï¼ˆå›æ˜¾è¯·æ±‚æŠ¥æ–‡ï¼‰å’Œtype129ï¼ˆå›æ˜¾åº”ç­”æŠ¥æ–‡ï¼‰&lt;/li&gt;
&lt;li&gt;é‚»å±…å‘ç°NDP
&lt;ol&gt;
&lt;li&gt;type133ï¼ˆè·¯ç”±å™¨è¯·æ±‚ï¼ŒRSæ¶ˆæ¯ï¼‰å’Œtype134ï¼ˆè·¯ç”±å™¨å…¬å‘Šï¼ŒRAæ¶ˆæ¯ï¼‰
&lt;ol&gt;
&lt;li&gt;RSæ¶ˆæ¯ï¼š&lt;br&gt;
å½“ä¸»æœº&lt;strong&gt;åˆšåˆšæ¥å…¥ç½‘ç»œå¹¶è¢«é…ç½®ä¸ºè‡ªåŠ¨è·å–åœ°å€&lt;/strong&gt;å‘é€&lt;br&gt;
æºåœ°å€ä¸ºæ¥å£çš„Link Localåœ°å€æˆ–è€…æœªæŒ‡å®šåœ°å€ã€ç›®çš„åœ°å€ä¸ºæ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ï¼ˆFF02::2ï¼‰ ã€æ•°æ®å­—æ®µä¸ºç©ºã€è·³æ•°é™åˆ¶255ã€Codeä¸º0ã€optionä¸ºè‡ªèº«çš„macåœ°å€&lt;br&gt;
è·¯ç”±å™¨æ”¶åˆ°RSæ¶ˆæ¯åç«‹åˆ»å›é€RAæ¶ˆæ¯ç»™ä¸»æœºï¼Œåœ¨RAæ¶ˆæ¯ä¸­æœ‰ä¸»æœºæƒ³è¦çš„å•æ’­åœ°å€çš„å‰ç¼€åŠå‰ç¼€é•¿åº¦ç­‰ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;RAæ¶ˆæ¯ï¼š&lt;br&gt;
è·¯ç”±å™¨&lt;strong&gt;å‘¨æœŸæ€§ï¼ˆæœ€å°200ç§’ï¼Œæœ€å¤§600ç§’ï¼‰åœ°å‘é€&lt;/strong&gt;RAæ¶ˆæ¯ï¼Œæˆ–è€…åœ¨&lt;strong&gt;æ”¶åˆ°ä¸»æœºå‘é€çš„RSæ¶ˆæ¯&lt;/strong&gt;åç«‹åˆ»å‘é€&lt;br&gt;
æºåœ°å€ä¸ºæ¥å£çš„Link Localåœ°å€ï¼Œç›®çš„åœ°å€æ˜¯&lt;code&gt;FF02::1&lt;/code&gt;æˆ–è€…ä¸ºæ”¶åˆ°çš„RSæ¶ˆæ¯ä¸­çš„æºåœ°å€ï¼Œæ•°æ®åŒ…å«è·¯ç”±å™¨çš„MACåœ°å€ã€MTUå€¼ã€å‰ç¼€ä¿¡æ¯ï¼ˆåŒ…å«å‰ç¼€æœ‰æ•ˆæ—¶é—´&lt;code&gt;é»˜è®¤7å¤©&lt;/code&gt;å’Œæ— æ•ˆæ—¶é—´&lt;code&gt;é»˜è®¤30å¤©&lt;/code&gt;ï¼‰ã€æ ‡å¿—ä½ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;type135ï¼ˆé‚»å±…è¯·æ±‚ï¼ŒNSæ¶ˆæ¯ï¼‰å’Œtype136ï¼ˆé‚»å±…é€šå‘Šï¼ŒNAæ¶ˆæ¯ï¼‰&lt;code&gt;æ¶‰åŠåŠŸèƒ½æœ‰åœ°å€è§£æã€è·Ÿè¸ªé‚»å±…çŠ¶æ€å’Œé‡å¤åœ°å€æ£€æµ‹&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;NSæ¶ˆæ¯ï¼š
&lt;ol&gt;
&lt;li&gt;åœ°å€è§£æï¼šæºåœ°å€ä¸ºè‡ªèº«IPv6åœ°å€ã€ç›®çš„åœ°å€ä¸ºé‚»å±…çš„è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ã€æ•°æ®ä¸ºè‡ªèº«çš„MACåœ°å€&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ªé‚»å±…çŠ¶æ€ï¼šå’Œåœ°å€è§£æç›¸åŒï¼Œéƒ½æ˜¯ping&lt;/li&gt;
&lt;li&gt;é‡å¤åœ°å€æ£€æµ‹ï¼šæºåœ°å€ä¸ºæœªæŒ‡å®šåœ°å€ã€ç›®çš„åœ°å€ä¸ºè‡ªèº«çš„è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ã€æ•°æ®ä¸ºè¯•éªŒåœ°å€ï¼ˆå³åˆšé…ç½®çš„åœ°å€ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;NAæ¶ˆæ¯ï¼š
&lt;ol&gt;
&lt;li&gt;åœ°å€è§£æï¼šæºåœ°å€ä¸ºè‡ªèº«IPv6åœ°å€ã€ç›®çš„åœ°å€ä¸ºé‚»å±…IPv6åœ°å€ã€æ•°æ®ä¸ºè‡ªèº«çš„MACåœ°å€&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ªé‚»å±…çŠ¶æ€ï¼šå’Œåœ°å€è§£æç›¸åŒï¼Œéƒ½æ˜¯ping&lt;/li&gt;
&lt;li&gt;é‡å¤åœ°å€æ£€æµ‹ï¼šå¦‚æœå†²çªåˆ™å›å¤ï¼Œæºåœ°å€ä¸ºè‡ªèº«åœ°å€ã€ç›®çš„åœ°å€ä¸ºæ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ï¼ˆFF02::1ï¼‰ã€æ•°æ®ä¸ºè¯•éªŒåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;type137ï¼ˆé‡å®šå‘ä¿¡æ¯ï¼‰&lt;br&gt;
å‡è®¾ä¸»æœºAè®¿é—®ä¸»æœºBï¼šæºåœ°å€ä¸ºå‘é€é‡å®šå‘æŠ¥æ–‡çš„è·¯ç”±å™¨æ¥å£åœ°å€ã€ç›®çš„åœ°å€ä¸ºéœ€è¦é‡å®šå‘ä¸»æœºAçš„åœ°å€ã€æ•°æ®ä¸­åŒ…å«é‡å®šå‘ä¹‹åçš„è·¯ç”±å™¨æ¥å£åœ°å€å’Œä¸»æœºBçš„åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¤šæ’­ä¾¦å¬å‘ç°åè®®MLD&lt;code&gt;=IPv4ä¸­çš„IGMP&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;type130ï¼šå¤šæ’­å¬ä¼—æŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;type131ï¼šå¤šæ’­å¬ä¼—æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;type132ï¼šå¤šæ’­å¬ä¼—é€€å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åŠŸèƒ½&#34;&gt;åŠŸèƒ½&lt;/h3&gt;
&lt;h4 id=&#34;1-ä½¿ç”¨rsra133134&#34;&gt;1. ä½¿ç”¨RS/RAï¼ˆ133/134ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åªæœ‰è·¯ç”±å™¨å‘ç°&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;1-è·¯ç”±å™¨å‘ç°&#34;&gt;1. è·¯ç”±å™¨å‘ç°&lt;/h5&gt;
&lt;p&gt;è·¯ç”±å™¨å‘ç°åŠŸèƒ½æ˜¯IPv6&lt;strong&gt;åœ°å€è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„åŸºç¡€&lt;/strong&gt;ï¼Œä½¿ç”¨&lt;strong&gt;è·¯ç”±å™¨è¯·æ±‚RS133å’Œè·¯ç”±å™¨é€šå‘ŠRA134&lt;/strong&gt;å®ç°&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613640339316.png&#34; alt=&#34;è·¯ç”±å™¨å‘ç°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸»æœºå¯¹æ”¶åˆ°çš„RAæŠ¥æ–‡è¿›è¡Œ&lt;strong&gt;æ­£ç¡®æ€§æ£€æŸ¥&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPæºåœ°å€æ˜¯link localåœ°å€&lt;/li&gt;
&lt;li&gt;Hop Limitï¼ˆå³è·³æ•°é™åˆ¶ï¼‰ä¸º255&lt;code&gt;å³æ²¡æœ‰è¢«è½¬å‘è¿‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰è®¤è¯ï¼Œåˆ™è®¤è¯éœ€è¦æ­£ç¡®&lt;/li&gt;
&lt;li&gt;ICMPå¤´éƒ¨çš„Codeä¸º0ï¼Œæ ¡éªŒå€¼æœ‰æ•ˆï¼Œä¸”é•¿åº¦è‡³å°‘16å­—èŠ‚&lt;/li&gt;
&lt;li&gt;optionsé•¿åº¦å¤§äº0&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;RAæŠ¥æ–‡ä¸­&lt;strong&gt;æ ‡å¿—ä½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mï¼š0è¡¨ç¤ºæ— çŠ¶æ€è‡ªåŠ¨é…ç½®ç”ŸæˆIPv6åœ°å€ï¼Œ1è¡¨ç¤ºéœ€è¦é€šè¿‡æœ‰çŠ¶æ€ï¼ˆDHCPv6ï¼‰æ–¹å¼è·å–ipv6åœ°å€&lt;/li&gt;
&lt;li&gt;Oï¼š0è¡¨ç¤º&lt;strong&gt;é™¤åœ°å€ä»¥å¤–çš„å…¶ä»–å‚æ•°&lt;/strong&gt;éœ€è¦é€šè¿‡æ— çŠ¶æ€è‡ªåŠ¨é…ç½®è·å–ï¼Œ1è¡¨ç¤ºå…¶å®ƒå‚æ•°éœ€è¦é€šè¿‡æœ‰çŠ¶æ€æ–¹å¼è¿›è¡Œè·å–&lt;/li&gt;
&lt;li&gt;Prfï¼šé»˜è®¤è·¯ç”±å™¨ä¼˜å…ˆçº§ï¼Œ00ä¸­ï¼ˆé»˜è®¤ï¼‰ã€11ä½&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-ä½¿ç”¨nsna135136&#34;&gt;2. ä½¿ç”¨NS/NAï¼ˆ135/136ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;é‡å¤åœ°å€æ£€æµ‹DADã€é‚»å±…å‘ç°ã€é‚»å±…çŠ¶æ€è·Ÿè¸ª&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;1-é‡å¤åœ°å€æ£€æµ‹dad&#34;&gt;1. é‡å¤åœ°å€æ£€æµ‹DAD&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å£ä½¿ç”¨æŸä¸ªIPv6å•æ’­åœ°å€ä¹‹å‰è¿›è¡Œçš„ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ¢æµ‹æ˜¯å¦æœ‰å…¶å®ƒçš„èŠ‚ç‚¹ä½¿ç”¨äº†è¯¥åœ°å€ï¼Œå°¤å…¶æ˜¯åœ¨åœ°å€è‡ªåŠ¨é…ç½®çš„æ—¶å€™&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªIPv6å•æ’­åœ°å€åœ¨åˆ†é…ç»™ä¸€ä¸ªæ¥å£ä¹‹åä¸”é€šè¿‡é‡å¤åœ°å€æ£€æµ‹ä¹‹å‰ç§°ä¸º&lt;strong&gt;è¯•éªŒåœ°å€&lt;/strong&gt;ï¼Œæ­¤æ—¶è¯¥æ¥å£ä¸èƒ½ä½¿ç”¨è¿™ä¸ªè¯•éªŒåœ°å€è¿›è¡Œå•æ’­é€šä¿¡ï¼Œä½†æ˜¯ä»ç„¶ä¼šåŠ å…¥ä¸¤ä¸ªç»„æ’­ç»„ï¼šALL-NODESç»„æ’­ç»„å’Œè¯•éªŒåœ°å€æ‰€å¯¹åº”çš„Solicited-Nodeç»„æ’­ç»„&lt;/li&gt;
&lt;li&gt;IPv6é‡å¤åœ°å€æ£€æµ‹æŠ€æœ¯å’ŒIPv4ä¸­çš„å…è´¹ARPç±»ä¼¼ï¼šèŠ‚ç‚¹å‘è¯•éªŒåœ°å€æ‰€å¯¹åº”çš„Solicited-Nodeç»„æ’­ç»„å‘é€NSæŠ¥æ–‡ï¼ŒNSæŠ¥æ–‡ä¸­ç›®æ ‡åœ°å€å³ä¸ºè¯¥è¯•éªŒåœ°å€ï¼Œå¦‚æœæ”¶åˆ°æŸä¸ªå…¶ä»–ç«™ç‚¹å›åº”çš„NAæŠ¥æ–‡ï¼Œå°±è¯æ˜è¯¥åœ°å€å·²è¢«ç½‘ç»œä¸Šä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613636973822.png&#34; alt=&#34;é‡å¤åœ°å€æ£€æµ‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;Açš„IPv6åœ°å€FC00::1ä¸ºæ–°é…ç½®åœ°å€ï¼Œå³FC00::1ä¸ºHost Açš„&lt;strong&gt;è¯•éªŒåœ°å€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Aå‘FC00::1çš„Solicited-Nodeç»„æ’­ç»„å‘é€ä¸€ä¸ªNSæŠ¥æ–‡ï¼ˆ&lt;strong&gt;æºåœ°å€ä¸ºæœªæŒ‡å®šåœ°å€ï¼Œç›®æ ‡åœ°å€ä¸ºFF02::1:FF00:1ï¼Œè¯•éªŒåœ°å€æ”¾åœ¨dataä¸­&lt;/strong&gt;ï¼‰è¿›è¡Œé‡å¤åœ°å€æ£€æµ‹&lt;/li&gt;
&lt;li&gt;å½“Bæ”¶åˆ°è¯¥NSæŠ¥æ–‡åï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹æ³•ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœFC00::1æ˜¯&lt;strong&gt;Bçš„è¯•éªŒåœ°å€&lt;/strong&gt;ï¼Œåˆ™Bæ”¾å¼ƒä½¿ç”¨è¿™ä¸ªåœ°å€ä½œä¸ºæ¥å£åœ°å€ï¼Œå¹¶ä¸”&lt;strong&gt;ä¸ä¼šå‘é€NAæŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœBå‘ç°FC00::1æ˜¯&lt;strong&gt;å·²ç»æ­£å¸¸ä½¿ç”¨çš„åœ°å€&lt;/strong&gt;ï¼ŒBä¼šå‘&lt;strong&gt;FF02::1&lt;/strong&gt;å‘é€ä¸€ä¸ªNAæŠ¥æ–‡ï¼Œè¯¥æ¶ˆæ¯ä¸­ä¼šåŒ…å«FC00::1&lt;code&gt;å¦‚æœä¸¤ç«¯åŒæ—¶é…ç½®ç›¸åŒåœ°å€ï¼Œç„¶åå‡æ”¶åˆ°NAæŠ¥æ–‡ï¼Œé‚£ä¹ˆè¿™ä¸ªåœ°å€ä¼šè¢«å¼ƒç”¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Aæ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åå°±ä¼šå‘ç°è‡ªèº«çš„è¯•éªŒåœ°å€æ˜¯é‡å¤çš„ï¼Œè¢«æ ‡è¯†ä¸ºduplicatedçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590677468641.png&#34; alt=&#34;IPv6åœ°å€ç”Ÿå­˜æ—¶é—´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Preferred lifetimeï¼ˆé¦–é€‰å­˜æ´»æ—¶é—´ï¼‰å’ŒValid lifetimeï¼ˆå¤±æ•ˆæ—¶é—´ï¼‰ä¹‹é—´ä¸ºDeprecatedçŠ¶æ€ï¼Œå½“åœ°å€å¤„äºDeprecatedçŠ¶æ€ï¼Œåœ°å€ä¸èƒ½ä¸»åŠ¨çš„å‘èµ·è¿æ¥åªèƒ½æ˜¯è¢«åŠ¨çš„æ¥å—è¿æ¥ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†ä¿è¯ä¸Šå±‚åº”ç”¨è€Œè®¾è®¡çš„ï¼Œä½†æ˜¯è¿‡äº†valid lifetimeæ—¶é—´ï¼Œåœ°å€å°±å˜ä¸ºinvalidï¼Œè¿™æ—¶ä»»ä½•è¿æ¥éƒ½ä¼šdownæ‰&lt;/p&gt;
&lt;h5 id=&#34;2-åœ°å€è§£æå³é‚»å±…å‘ç°&#34;&gt;2. åœ°å€è§£æï¼ˆå³é‚»å±…å‘ç°ï¼‰&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;NDæœ¬èº«åŸºäºICMPv6å®ç°ï¼Œ&lt;strong&gt;ä»¥å¤ªç½‘åè®®ç±»å‹ä¸º0x86DD&lt;/strong&gt;ï¼ˆARPæ˜¯0x0806ï¼‰ï¼Œå³IPv6æŠ¥æ–‡ï¼Œ&lt;strong&gt;IPv6ä¸‹ä¸€ä¸ªæŠ¥å¤´å­—æ®µå€¼ä¸º58&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ°å€è§£æåœ¨ä¸‰å±‚å®Œæˆï¼Œä¸åŒçš„äºŒå±‚ä»‹è´¨å¯ä»¥é‡‡ç”¨ç›¸åŒçš„åœ°å€è§£æåè®®&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ä¸‰å±‚çš„å®‰å…¨æœºåˆ¶é¿å…åœ°å€è§£ææ”»å‡»&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç»„æ’­æ–¹å¼ï¼ˆSolicited-Nodeï¼ŒFF02::1:FFXX:XXXX/104ï¼‰å‘é€è¯·æ±‚æŠ¥æ–‡ï¼Œå‡å°‘äº†äºŒå±‚ç½‘ç»œçš„æ€§èƒ½å‹åŠ›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸¤ç§æŠ¥æ–‡ï¼šé‚»å±…è¯·æ±‚NS135ï¼ˆç»„æ’­å‘é€ï¼‰ã€é‚»å±…é€šå‘ŠNA136ï¼ˆå•æ’­å›å¤ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613632815662.png&#34; alt=&#34;åœ°å€è§£æ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;NAæŠ¥æ–‡ä¸­ä½¿ç”¨NSæŠ¥æ–‡ä¸­çš„Host Açš„é“¾è·¯å±‚åœ°å€è¿›è¡Œå•æ’­&lt;/code&gt;&lt;br&gt;
ä¾‹å¦‚Açš„åœ°å€ä¸º2000::1ã€Bçš„åœ°å€ä¸º2000::2ï¼Œ&lt;br&gt;
NSæŠ¥æ–‡çš„æºåœ°å€ä¸º2000::1ã€ç›®çš„åœ°å€ä¸ºff02::1:ff00:2ï¼›&lt;br&gt;
NAæŠ¥æ–‡çš„æºåœ°å€ä¸º2000::2ã€ç›®çš„åœ°å€ä¸º2000::1ã€‚&lt;br&gt;
&lt;strong&gt;NAæŠ¥æ–‡ä¸­3ä¸ªæ ‡å¿—ä½&lt;/strong&gt;ï¼šRï¼ˆç½®ä½ä»£è¡¨è·¯ç”±å™¨ï¼‰ã€Sï¼ˆç½®ä½ä»£è¡¨å‘é€é‚»å±…é€šå‘Šæ˜¯ä¸ºäº†å“åº”æŸä¸ªé‚»å±…çš„è¯·æ±‚ï¼‰ã€Oï¼ˆç½®ä½è¡¨ç¤ºé‚»å±…é€šå‘Šä¸­çš„æ¶ˆæ¯è¦†ç›–å·²æœ‰çš„æ¡ç›®ä¿¡æ¯ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;3-è·Ÿè¸ªé‚»å±…çŠ¶æ€&#34;&gt;3. è·Ÿè¸ªé‚»å±…çŠ¶æ€&lt;/h5&gt;
&lt;p&gt;èŠ‚ç‚¹éœ€è¦ç»´æŠ¤ä¸€å¼ é‚»å±…è¡¨ï¼ˆ&lt;strong&gt;é‚»å±…è¡¨ä¸ºç©ºåˆ™çŠ¶æ€æ˜¾ç¤ºEmpty&lt;/strong&gt;ï¼‰ï¼Œæ¯ä¸ªé‚»å±…éƒ½æœ‰ç›¸åº”çš„çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥è¿ç§»ï¼Œ5ç§é‚»å±…çŠ¶æ€ï¼šæœªå®Œæˆï¼ˆIncompleteï¼‰ã€å¯è¾¾ï¼ˆReachableï¼‰ã€é™ˆæ—§ï¼ˆStaleï¼ŒæœªçŸ¥æ˜¯å¦å¯è¾¾ï¼Œå³é•¿æ—¶é—´æ— è¿æ¥ä¹‹åçš„ç¨³å®šçŠ¶æ€ï¼‰ã€å»¶è¿Ÿï¼ˆDelayï¼‰ã€æ¢æŸ¥ï¼ˆProbeï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613633782457.png&#34; alt=&#34;è·Ÿè¸ªé‚»å±…çŠ¶æ€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ä»¥åœ°å€è§£æä¸­ï¼Œå‡è®¾Aã€Bä¹‹å‰ä»æœªé€šä¿¡&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aå…ˆå‘é€NSæŠ¥æ–‡ï¼Œå¹¶ç”Ÿæˆç¼“å­˜æ¡ç›®ï¼Œé‚»å±…çŠ¶æ€ä¸ºIncomplete&lt;/li&gt;
&lt;li&gt;è‹¥Bå›å¤NAæŠ¥æ–‡ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºReachableï¼Œå¦åˆ™å›ºå®šæ—¶é—´åï¼ˆ10ç§’ï¼‰é‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºEmptyï¼Œå³åˆ é™¤è¡¨é¡¹&lt;/li&gt;
&lt;li&gt;ç»è¿‡é‚»å±…å¯è¾¾æ—¶é—´ï¼ˆ&lt;strong&gt;30ç§’&lt;/strong&gt;ï¼‰ï¼Œé‚»å±…çŠ¶æ€ç”±Reachableå˜ä¸ºStale&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ReachableçŠ¶æ€ï¼Œ&lt;strong&gt;Aæ”¶åˆ°Bçš„éè¯·æ±‚NAæŠ¥æ–‡&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸”æŠ¥æ–‡ä¸­æºå¸¦çš„Bçš„é“¾è·¯å±‚åœ°å€å’Œè¡¨é¡¹ä¸­ä¸åŒ&lt;/strong&gt;ï¼Œåˆ™é‚»å±…çŠ¶æ€é©¬ä¸Šå˜ä¸ºStale&lt;/li&gt;
&lt;li&gt;åœ¨StaleçŠ¶æ€è‹¥Aè¦å‘Bå‘é€æ•°æ®ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Staleå˜ä¸ºDelayï¼Œå¹¶å‘é€NSè¯·æ±‚&lt;/li&gt;
&lt;li&gt;åœ¨ä¸€æ®µå›ºå®šæ—¶é—´ï¼ˆ&lt;strong&gt;5ç§’&lt;/strong&gt;ï¼‰å†…ï¼Œè‹¥æ— NAåº”ç­”åˆ™å˜ä¸ºProbeï¼Œè‹¥æœ‰NAåº”ç­”åˆ™å˜ä¸ºReachable&lt;/li&gt;
&lt;li&gt;åœ¨ProbeçŠ¶æ€ï¼ŒAå‘¨æœŸæ€§ï¼ˆ&lt;strong&gt;1ç§’&lt;/strong&gt;ï¼‰å•æ’­NSï¼Œå‘é€å›ºå®šæ¬¡æ•°ï¼ˆ&lt;strong&gt;é»˜è®¤3æ¬¡&lt;/strong&gt;ï¼‰åï¼Œæœ‰åº”ç­”åˆ™é‚»å±…çŠ¶æ€å˜ä¸ºReachableï¼Œå¦åˆ™30ç§’ä¹‹åé‚»å±…çŠ¶æ€å˜ä¸ºEmptyï¼Œå³åˆ é™¤è¡¨é¡¹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613634516767.jpg&#34; alt=&#34;é‚»å±…çŠ¶æ€&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-ä½¿ç”¨é‡å®šå‘137&#34;&gt;3. ä½¿ç”¨é‡å®šå‘ï¼ˆ137ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åªæœ‰é‡å®šå‘&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;1-é‡å®šå‘&#34;&gt;1. é‡å®šå‘&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;è·¯ç”±å™¨å¯ä»¥å‘é€é‡å®šå‘æŠ¥æ–‡ï¼Œä½†æ˜¯ä¸èƒ½å¤„ç†æ”¶åˆ°çš„é‡å®šå‘æŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
ç½‘å…³è®¾å¤‡å‘ç°æŠ¥æ–‡ä»å…¶å®ƒç½‘å…³è®¾å¤‡è½¬å‘æ›´å¥½æ—¶ï¼Œå°±ä¼šå‘é€é‡å®šå‘æŠ¥æ–‡ç»™å‘é€è€…ï¼Œè®©æŠ¥æ–‡å‘é€è€…é€‰æ‹©å¦ä¸€ä¸ªç½‘å…³è®¾å¤‡ã€‚Type=137ï¼ŒæŠ¥æ–‡ä¸­æºå¸¦&lt;strong&gt;æ›´å¥½çš„è·¯å¾„ä¸‹ä¸€è·³åœ°å€å’Œéœ€è¦é‡å®šå‘è½¬å‘çš„æŠ¥æ–‡çš„ç›®çš„åœ°å€&lt;/strong&gt;ç­‰ä¿¡æ¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613643421910.png&#34; alt=&#34;é‡å®šå‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
HostAå’ŒHostBé€šä¿¡ï¼ŒHostAçš„é»˜è®¤ç½‘å…³è®¾å¤‡æ˜¯RouterAã€‚&lt;br&gt;
RouterAæ¥æ”¶åˆ°HostAå‘é€çš„æŠ¥æ–‡ä»¥åä¼šå‘ç°å®é™…ä¸ŠHostAç›´æ¥å‘é€ç»™RouterBæ›´å¥½ï¼Œå®ƒå°†å‘é€ä¸€ä¸ªé‡å®šå‘æŠ¥æ–‡ç»™ä¸»æœºAï¼Œå…¶ä¸­æŠ¥æ–‡ä¸­&lt;strong&gt;æ›´å¥½çš„è·¯å¾„ä¸‹ä¸€è·³åœ°å€ä¸ºRouterBï¼ŒDestinationAddressä¸ºHostB&lt;/strong&gt;ã€‚&lt;br&gt;
HostAæ¥æ”¶åˆ°äº†é‡å®šå‘æŠ¥æ–‡ä¹‹åï¼Œä¼šåœ¨é»˜è®¤è·¯ç”±è¡¨ä¸­æ·»åŠ ä¸€ä¸ªä¸»æœºè·¯ç”±ï¼Œä»¥åå‘å¾€HostBçš„æŠ¥æ–‡å°±ç›´æ¥å‘é€ç»™RouterB&lt;/p&gt;
&lt;p&gt;å½“è®¾å¤‡æ”¶åˆ°ä¸€ä¸ªæŠ¥æ–‡åï¼Œåªæœ‰åœ¨å¦‚ä¸‹æƒ…å†µä¸‹ï¼Œè®¾å¤‡ä¼š&lt;strong&gt;å‘æŠ¥æ–‡å‘é€è€…å‘é€é‡å®šå‘æŠ¥æ–‡ï¼ˆè§¦å‘é‡å®šå‘æŠ¥æ–‡çš„æ¡ä»¶ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸æ˜¯ä¸€ä¸ªç»„æ’­åœ°å€&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡å¹¶éé€šè¿‡è·¯ç”±è½¬å‘ç»™è®¾å¤‡&lt;code&gt;å³ä¸»æœºé‚»å±…å‘é€çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ¥æ–‡çš„ä¸‹ä¸€è·³å‡ºæ¥å£æ˜¯æ¥æ”¶è¯¥æŠ¥æ–‡çš„æ¥å£&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ¥æ–‡çš„æœ€ä½³ä¸‹ä¸€è·³IPåœ°å€å’ŒæŠ¥æ–‡çš„æºIPåœ°å€å¤„äºåŒä¸€ç½‘æ®µ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è®¾å¤‡æ£€æŸ¥æŠ¥æ–‡çš„æºåœ°å€ï¼Œå‘ç°è‡ªèº«çš„é‚»å±…è¡¨é¡¹ä¸­æœ‰ç”¨è¯¥åœ°å€ä½œä¸ºå…¨çƒå•æ’­åœ°å€æˆ–é“¾è·¯æœ¬åœ°åœ°å€çš„é‚»å±…å­˜åœ¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;æ•°æ®åŒ…ä»åŒæ¥å£è¿›åˆä»è¯¥æ¥å£å‡ºï¼Œå¹¶æ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼ˆæ•°æ®æŠ¥æ–‡æ˜¯ä¸»æœºé‚»å±…å‘é€çš„ï¼Œç›®çš„åœ°å€ä¸æ˜¯ç»„æ’­ï¼‰å°±ä¼šè§¦å‘è·¯ç”±å™¨å‘é€é‡å®šå‘æŠ¥æ–‡ï¼Œç¬¬ä¸€ä»½æ•°æ®ä¾æ—§ä¼šç”±è·¯ç”±å™¨è½¬å‘ï¼Œåç»­çš„æŠ¥æ–‡å°±ç›´æ¥é€šè¿‡æœ€ä¼˜è·¯å¾„è®¿é—®äº†&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;ipv6è¿‡æ¸¡æŠ€æœ¯&#34;&gt;IPv6è¿‡æ¸¡æŠ€æœ¯&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590939623986.png&#34; alt=&#34;IPv6è¿‡æ¸¡æŠ€æœ¯&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IPv6ä¸IPv4å…±å­˜æŠ€æœ¯ï¼š
&lt;ul&gt;
&lt;li&gt;åŒåè®®æ ˆï¼šèŠ‚ç‚¹éœ€è¦åŒæ—¶æ”¯æŒIPv6å’ŒIPv4åè®®æ ˆã€‚&lt;/li&gt;
&lt;li&gt;éš§é“ï¼šIPv6æŠ¥æ–‡ä½œä¸ºIPv4çš„è½½è·ï¼Œåœ¨IPv4ç½‘ç»œä¸­è¿æ¥å¤šä¸ªIPv6å­¤å²›&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;IPv6ä¸IPv4äº’é€šæŠ€æœ¯ï¼šæä¾›IPv6ä¸IPv4äº’ç›¸è®¿é—®çš„æŠ€æœ¯ï¼Œé€‚ç”¨äºIPv6ä¸IPv4å…±å­˜ï¼Œè€Œä¸¤è€…åˆæœ‰äº’ç›¸é€šè®¯çš„éœ€æ±‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åŒæ ˆåè®®&#34;&gt;åŒæ ˆåè®®&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940226124.png&#34; alt=&#34;åŒæ ˆåè®®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰€æœ‰è®¾å¤‡å¿…é¡»æ”¯æŒIPv4/IPv6åè®®æ ˆï¼Œè¿æ¥åŒæ ˆç½‘ç»œçš„æ¥å£å¿…é¡»åŒæ—¶é…ç½®IPv4åœ°å€å’ŒIPv6åœ°å€&lt;/p&gt;
&lt;h2 id=&#34;ipv6-over-ipv4éš§é“æŠ€æœ¯&#34;&gt;IPv6 over IPv4éš§é“æŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940296740.png&#34; alt=&#34; IPv6 over IPv4éš§é“æŠ€æœ¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é€šè¿‡éš§é“æŠ€æœ¯ï¼Œä½¿IPv6æŠ¥æ–‡åœ¨IPv4ç½‘ç»œä¸­ä¼ è¾“ï¼Œå®ç°IPv6ç½‘ç»œä¹‹é—´çš„å­¤å²›äº’è¿&lt;br&gt;
&lt;strong&gt;IPv6 over IPv4éš§é“åˆ†ç±»&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ‰‹åŠ¨éš§é“&lt;/strong&gt;åŒ…æ‹¬6over4æ‰‹åŠ¨éš§é“å’ŒGREéš§é“ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨éš§é“&lt;/strong&gt;åŒ…æ‹¬IPv4å…¼å®¹IPv6è‡ªåŠ¨éš§é“ï¼ˆå·²ç»å¼ƒç”¨ï¼‰ã€6to4éš§é“å’ŒISATAPéš§é“&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-6over4æ‰‹åŠ¨éš§é“è¿‡æ¸¡åˆæœŸä½¿ç”¨&#34;&gt;1. 6over4æ‰‹åŠ¨éš§é“ï¼ˆè¿‡æ¸¡åˆæœŸä½¿ç”¨ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940506925.png&#34; alt=&#34;6over4æ‰‹åŠ¨éš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ç‰¹åˆ«æ³¨æ„ï¼šåœ¨IPv4æ•°æ®ä¸­æ‰¿è½½IPv6æ•°æ®ï¼Œä¸Šå±‚åè®®å·ä¸º41&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-4over6æ‰‹åŠ¨éš§é“è¿‡æ¸¡åæœŸä½¿ç”¨&#34;&gt;2. 4over6æ‰‹åŠ¨éš§é“ï¼ˆè¿‡æ¸¡åæœŸä½¿ç”¨ï¼‰&lt;/h3&gt;
&lt;p&gt;ä½¿IPv4æŠ¥æ–‡åœ¨IPv6ç½‘ç»œä¸­ä¼ è¾“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613657187996.png&#34; alt=&#34;4over6&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-greæ‰‹åŠ¨éš§é“&#34;&gt;3. GREæ‰‹åŠ¨éš§é“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940749643.png&#34; alt=&#34;GREéš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4æ‰‹åŠ¨éš§é“çš„ä¸€ç§ï¼Œæ‰‹å·¥æŒ‡å®šéš§é“çš„ç«¯ç‚¹åœ°å€ï¼ŒGREæ‰¿è½½IPv6åè®®&lt;br&gt;
&lt;code&gt;GREåè®®å·ä¸º47ï¼›GREå¤´éƒ¨ä¸å¸¦è®¤è¯4å­—èŠ‚ï¼Œå¸¦è®¤è¯åˆ™8å­—èŠ‚ï¼›GREä½¿ç”¨åè®®IDæ¥æ ‡è¯†ä¸Šå±‚å°è£…ï¼ˆ0x0800ä¸ºä»¥å¤ªç½‘ï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-ipv4å…¼å®¹ipv6ç›®å‰å·²ç»è¢«6to4éš§é“æ‰€å–ä»£&#34;&gt;4. IPv4å…¼å®¹IPv6ï¼ˆç›®å‰å·²ç»è¢«6to4éš§é“æ‰€å–ä»£ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940839043.png&#34; alt=&#34;IPv4å…¼å®¹IPv6&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é‡‡ç”¨IPv4å…¼å®¹åœ°å€ï¼Œå³&lt;code&gt;::IPv4/96&lt;/code&gt;ï¼Œè¦æ±‚æ¯å°ä¸»æœºé¡»æœ‰åˆæ³•çš„IPåœ°å€ï¼Œå³å”¯ä¸€çš„å•æ’­åœ°å€&lt;/p&gt;
&lt;h3 id=&#34;5-6to4éš§é“&#34;&gt;5. 6to4éš§é“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941496380.png&#34; alt=&#34;6to4éš§é“1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4è‡ªåŠ¨éš§é“çš„ä¸€ç§ï¼Œ&lt;strong&gt;é‡‡ç”¨6to4ä¸“ç”¨åœ°å€&lt;/strong&gt;ï¼Œ6to4åœ°å€å¯ä»¥è¡¨ç¤ºä¸º&lt;code&gt;2002::/16&lt;/code&gt;ï¼Œè€Œä¸€ä¸ª6to4ç½‘ç»œå¯ä»¥è¡¨ç¤ºä¸º&lt;code&gt;2002:IPv4åœ°å€::/48&lt;/code&gt;ï¼Œ&lt;strong&gt;ç”¨IPv4åœ°å€ä½œä¸ºç½‘ç»œæ ‡è¯†&lt;/strong&gt;ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;1.2.3.10&lt;/code&gt;å¯¹åº”çš„åœ°å€æ˜¯&lt;code&gt;2002:102:3a::/48&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;åœ°å€æ ¼å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FPï¼šå¯èšåˆå…¨çƒå•æ’­åœ°å€çš„æ ¼å¼å‰ç¼€ï¼Œå…¶å€¼ä¸º&lt;code&gt;001&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;TLAï¼šé¡¶çº§èšåˆæ ‡è¯†ç¬¦ï¼Œæœ‰13ä¸ªæ¯”ç‰¹ä½ï¼Œå…¶äºŒè¿›åˆ¶å€¼ä¸º&lt;code&gt;0.0000.0000.0010&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SLAï¼šç«™ç‚¹çº§èšåˆæ ‡è¯†ç¬¦&lt;code&gt;16bitï¼Œç”±ç”¨æˆ·è‡ªå·±å®šä¹‰ï¼Œå¯ç”¨äºåˆ’åˆ†å­ç½‘&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœè¿æ¥å¤šä¸ª6to4ç½‘ç»œï¼Œ&lt;strong&gt;é€šè¿‡SLAåŒºåˆ†&lt;/strong&gt;ï¼Œå…±ç”¨ä¸€ä¸ªéš§é“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941788338.png&#34; alt=&#34;6to4éš§é“2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;6to4ä¸­ç»§&lt;/strong&gt;ï¼Œå®ç°6to4ç½‘ç»œå’ŒIPv6æ™®é€šç½‘ç»œäº’é€šã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941840050.png&#34; alt=&#34;6to4éš§é“3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6to4ä¸­ç»§ï¼Œå°±æ˜¯é€šè¿‡6to4éš§é“è½¬å‘çš„IPv6æŠ¥æ–‡çš„&lt;strong&gt;ç›®çš„åœ°å€ä¸æ˜¯6to4åœ°å€&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;è½¬å‘çš„ä¸‹ä¸€è·³æ˜¯6to4åœ°å€&lt;/strong&gt;&lt;code&gt;æœ¬è´¨æ˜¯é€šè¿‡é™æ€è·¯ç”±çš„æ–¹å¼æŒ‡å®šä¸‹ä¸€è·³ä¸º6to4åœ°å€&lt;/code&gt;ï¼Œè¯¥ä¸‹ä¸€è·³ä¸ºè·¯ç”±å™¨æˆ‘ä»¬ç§°ä¹‹ä¸º&lt;strong&gt;6to4ä¸­ç»§&lt;/strong&gt;ï¼Œéš§é“çš„IPv4ç›®çš„åœ°å€ä¾ç„¶ä»ä¸‹ä¸€è·³çš„6to4åœ°å€ä¸­è·å¾—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613652483059.png&#34; alt=&#34;ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1ä¸ŠæŒ‚çš„IPv6å­¤å²›ä½¿ç”¨6to4åœ°å€ç©ºé—´ï¼ŒR3ä¸Šçš„IPv6å­¤å²›ä¹Ÿæ˜¯6to4ç©ºé—´ï¼Œè€ŒR2è¿™å°å› ç‰¹ç½‘ä¸Šçš„6to4è·¯ç”±å™¨åŒæ—¶ä¹Ÿè¿æ¥åˆ°äº†IPv6çš„å› ç‰¹ç½‘å’ŒIPv4å› ç‰¹ç½‘ï¼Œå› æ­¤ä»–å…·æœ‰IPv6å…¬ç½‘çš„è·¯ç”±ã€‚&lt;br&gt;
æ‰€ä»¥ï¼ŒR1ã€R3ä¸‹çš„ä¸¤ä¸ª6to4å­¤å²›çš„äº’ç›¸è®¿é—®é€šè¿‡6to4åœ°å€è¿›è¡Œï¼Œä½†æ˜¯R1æˆ–R3å¦‚æœéœ€è¦è®¿é—®é6to4çš„IPv6ç½‘ç»œå°±éœ€è¦R2äº†ï¼ŒR2æ­¤æ—¶æ˜¯ä¸€å°6to4ä¸­ç»§è·¯ç”±å™¨ã€‚&lt;br&gt;
&lt;strong&gt;R2é€šè¿‡å…¶è‡ªèº«çš„ä¸€ä¸ªIPv4å…¬ç½‘IPï¼Œå¾—åˆ°ä¸€ä¸ª6to4çš„IPv6å…¨çƒå¯èšåˆå•æ’­åœ°å€ï¼Œè¿™ä¸ªIPv6åœ°å€ç”¨äºå“åº”å…¶ä»–6to4è·¯ç”±å™¨çš„éš§é“å»ºç«‹è¯·æ±‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;6-isatapéš§é“&#34;&gt;6. ISATAPéš§é“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941979772.png&#34; alt=&#34;ISATAPéš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4è‡ªåŠ¨éš§é“çš„ä¸€ç§&lt;sub&gt;ä¸æ”¯æŒè·¯ç”±å™¨åˆ°è·¯ç”±å™¨&lt;/sub&gt;ï¼Œé‡‡ç”¨ISATAPéš§é“ä¸“ç”¨åœ°å€&lt;br&gt;
ISATAPéš§é“åŒæ ·ä½¿ç”¨äº†&lt;strong&gt;å†…åµŒIPv4åœ°å€çš„ç‰¹æ®ŠIPv6åœ°å€å½¢å¼&lt;/strong&gt;ï¼Œåªæ˜¯å’Œ6to4ä¸åŒçš„æ˜¯ï¼Œ6to4æ˜¯ä½¿ç”¨IPv4åœ°å€åšä¸ºç½‘ç»œå‰ç¼€ï¼Œè€Œ&lt;strong&gt;ISATAPç”¨IPv4åœ°å€åšä¸ºæ¥å£æ ‡è¯†&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613656445323.png&#34; alt=&#34;ISATAPéš§é“ä¸“ç”¨åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
uï¼šIPv4åœ°å€æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œåˆ™uä½ä¸º1&lt;br&gt;
gï¼šIEEE ç¾¤ä½“/ä¸ªä½“æ ‡å¿—&lt;br&gt;
ç”±äºISATAPæ˜¯é€šè¿‡æ¥å£æ ‡è¯†æ¥è¡¨ç°çš„ï¼Œæ‰€ä»¥ISATAPåœ°å€æœ‰å…¨å±€å•æ’­åœ°å€ã€é“¾è·¯æœ¬åœ°åœ°å€ã€ULAåœ°å€ã€ç»„æ’­åœ°å€ç­‰å½¢å¼ã€‚&lt;strong&gt;ISATAPåœ°å€çš„å‰64ä½æ˜¯é€šè¿‡å‘ISATAPè·¯ç”±å™¨å‘é€è¯·æ±‚æ¥å¾—åˆ°çš„&lt;/strong&gt;ï¼Œå®ƒå¯ä»¥è¿›è¡Œåœ°å€è‡ªåŠ¨é…ç½®ã€‚åœ¨ISATAPéš§é“çš„ä¸¤ç«¯è®¾å¤‡ä¹‹é—´å¯ä»¥è¿è¡ŒNDåè®®ã€‚ISATAPéš§é“&lt;strong&gt;å°†IPv4ç½‘ç»œçœ‹ä½œä¸€ä¸ªéå¹¿æ’­çš„ç‚¹åˆ°å¤šç‚¹çš„é“¾è·¯&lt;/strong&gt;&lt;br&gt;
å¦‚å›¾ï¼Œåœ¨IPv4ç½‘ç»œå†…éƒ¨æœ‰ä¸¤ä¸ªåŒæ ˆä¸»æœºPC2å’ŒPC3ï¼Œå®ƒä»¬åˆ†åˆ«æœ‰ä¸€ä¸ªç§ç½‘IPv4åœ°å€ï¼Œè¦ä½¿å…¶å…·æœ‰ISATAPåŠŸèƒ½ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆé…ç½®ISATAPéš§é“æ¥å£ï¼Œè¿™æ—¶ä¼šæ ¹æ®IPv4åœ°å€ç”ŸæˆISATAPç±»å‹çš„æ¥å£ID&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ¥å£IDç”Ÿæˆä¸€ä¸ªISATAPé“¾è·¯æœ¬åœ°IPv6åœ°å€ï¼Œç”Ÿæˆé“¾è·¯æœ¬åœ°åœ°å€ä»¥åï¼Œä¸»æœºå°±æœ‰äº†åœ¨æœ¬åœ°é“¾è·¯ä¸Šè¿›è¡ŒIPv6é€šä¿¡çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œä¸»æœºè·å¾—IPv6å…¨çƒå•æ’­åœ°å€ã€ULAåœ°å€ç­‰&lt;/li&gt;
&lt;li&gt;å½“ä¸»æœºä¸å…¶å®ƒIPv6ä¸»æœºè¿›è¡Œé€šè®¯æ—¶ï¼Œä»éš§é“æ¥å£è½¬å‘ï¼Œå°†ä»æŠ¥æ–‡çš„ä¸‹ä¸€è·³IPv6åœ°å€ä¸­å–å‡ºIPv4åœ°å€ä½œä¸ºIPv4å°è£…çš„ç›®çš„åœ°å€
&lt;ol&gt;
&lt;li&gt;å¦‚æœç›®çš„ä¸»æœºåœ¨æœ¬ç«™ç‚¹å†…ï¼Œåˆ™ä¸‹ä¸€è·³å°±æ˜¯ç›®çš„ä¸»æœºæœ¬èº«&lt;/li&gt;
&lt;li&gt;å¦‚æœç›®çš„ä¸»æœºä¸åœ¨æœ¬ç«™ç‚¹å†…ï¼Œåˆ™ä¸‹ä¸€è·³ä¸ºISATAPè·¯ç”±å™¨çš„åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;7-nat64&#34;&gt;7. NAT64&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590942107941.png&#34; alt=&#34;NAT64&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
NAT64æŠ€æœ¯å®é™…ä¸Šæ˜¯ä¸€ç§åè®®è½¬æ¢æŠ€æœ¯ï¼Œèƒ½å¤Ÿå°†åˆ†ç»„åœ¨V4åŠV6æ ¼å¼ä¹‹é—´çµæ´»è½¬æ¢ã€‚IPv6è¿‡æ¸¡ä¸­çš„åè®®ç¿»è¯‘æŠ€æœ¯å°±æ˜¯å°†IPv6æ•°æ®åŒ…çš„æ¯ä¸ªå­—æ®µä¸IPv4æ•°æ®åŒ…ä¸­çš„å­—æ®µå»ºç«‹èµ·ä¸€ä¸€æ˜ å°„çš„å…³ç³»ï¼Œä»è€Œåœ¨ä¸¤ä¸ªç½‘ç»œçš„è¾¹ç¼˜å®ç°æ•°æ®æŠ¥æ–‡çš„è½¬æ¢ã€‚&lt;/p&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;pmtuçš„å·¥ä½œè¿‡ç¨‹&#34;&gt;PMTUçš„å·¥ä½œè¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;åœ¨IPv6ä¸­ï¼Œä¸ºäº†å‡å°‘ä¸­é—´è½¬å‘è®¾å¤‡çš„å¤„ç†å‹åŠ›ï¼Œä¸­é—´è½¬å‘è®¾å¤‡ä¸å¯¹IPv6æŠ¥æ–‡è¿›è¡Œåˆ†ç‰‡ï¼ŒæŠ¥æ–‡çš„åˆ†ç‰‡å°†åœ¨æºèŠ‚ç‚¹è¿›è¡Œ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613655555458.png&#34; alt=&#34;PMTUçš„å·¥ä½œè¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ•´æ¡ä¼ è¾“è·¯å¾„éœ€è¦é€šè¿‡ æ¡é“¾è·¯ï¼Œæ¯æ¡é“¾è·¯çš„MTUåˆ†åˆ«æ˜¯1500ã€1500ã€1400ã€1300ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“æºèŠ‚ç‚¹å‘é€ä¸€ä¸ªåˆ†ç‰‡æŠ¥æ–‡çš„æ—¶å€™ï¼Œé¦–å…ˆæŒ‰ç…§PMTUä¸º1500è¿›è¡Œåˆ†ç‰‡å¹¶å‘é€åˆ†ç‰‡æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å½“åˆ°è¾¾MTUä¸º1400çš„å‡ºæ¥å£æ—¶ï¼Œè·¯ç”±å™¨è¿”å›Packet Too Bigï¼ˆICMPï¼Œtype2ï¼‰é”™è¯¯ï¼ŒåŒæ—¶æºå¸¦MTUå€¼ä¸º1400çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æºèŠ‚ç‚¹æ¥æ”¶åˆ°ä¹‹åä¼šå°†æŠ¥æ–‡é‡æ–°æŒ‰ç…§PMTUä¸º1400è¿›è¡Œåˆ†ç‰‡å¹¶å†æ¬¡å‘é€ä¸€ä¸ªåˆ†ç‰‡æŠ¥æ–‡ï¼Œå½“åˆ†ç‰‡æŠ¥æ–‡åˆ°è¾¾ MTUå€¼ä¸º1300çš„å‡ºæ¥å£æ—¶ï¼ŒåŒæ ·è¿”å›Packet Too Bigé”™è¯¯ï¼Œæºå¸¦MTUå€¼ä¸º1300çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä¹‹åæºèŠ‚ç‚¹é‡æ–°æŒ‰ç…§PMTUä¸º1300è¿›è¡Œåˆ†ç‰‡å¹¶å‘é€åˆ†ç‰‡æŠ¥æ–‡ï¼Œæœ€ç»ˆåˆ°è¾¾ç›®çš„åœ°ï¼Œè¿™æ ·å°±æ‰¾åˆ°äº†è¯¥è·¯å¾„çš„ PMTU&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸¤å°-ipv6-å®¢æˆ·ç«¯çš„äº’è®¿è¿‡ç¨‹&#34;&gt;ä¸¤å° ipv6 å®¢æˆ·ç«¯çš„äº’è®¿è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæ£€æŸ¥ç›®æ ‡åœ°å€ä¸æœ¬æœºåœ°å€æ˜¯å¦åŒä¸€ç½‘æ®µï¼Œå¦‚æœä¸åœ¨åŒä¸€ç½‘æ®µæ˜¯å¦å¯è¾¾ï¼ˆæŸ¥è·¯ç”±è¡¨ï¼‰&lt;/li&gt;
&lt;li&gt;å¼•å…¥æ•°æ®çš„å°è£…ï¼Œä»é«˜å¾€ä½ï¼Œå°è£…åˆ°äºŒå±‚æ—¶éœ€è¦çŸ¥é“å¯¹æ–¹çš„MACåœ°å€&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨åŒä¸€ç½‘æ®µç›´æ¥å‘é€NSè¯·æ±‚ï¼Œè¯·æ±‚å¯¹æ–¹åœ°å€çš„MACåœ°å€ï¼Œå¦‚æœä¸åœ¨åŒä¸€ç½‘æ®µï¼Œåˆ™è¯·æ±‚ç½‘å…³çš„MACåœ°å€&lt;/li&gt;
&lt;li&gt;NS/NAçš„è¿‡ç¨‹ï¼ˆè¯¦ç»†è®²è§£ï¼‰&lt;/li&gt;
&lt;li&gt;è·å¾—MACåœ°å€åå®Œæˆå°è£…&lt;/li&gt;
&lt;li&gt;å°è£…å®Œåè®²æ•°æ®åŒ…çš„äº¤äº’è¿‡ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv4ä¸ipv6-qosçš„åŒºåˆ«&#34;&gt;IPv4ä¸IPV6 qosçš„åŒºåˆ«&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;traffic-classç­‰åŒäºIPv4ä¸­çš„TOSå­—æ®µï¼Œè¡¨ç¤ºIPv6æŠ¥æ–‡çš„ç±»æˆ–ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;ipv6çš„æŠ¥æ–‡ä¸­å¤šäº†20ä½çš„æµæ ‡ç­¾ï¼Œç”¨äºåŒºåˆ†å®æ—¶æµé‡ï¼Œä¸åŒçš„æµæ ‡ç­¾+æºåœ°å€å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ¡æ•°æ®æµï¼Œä¸­é—´ç½‘ç»œè®¾å¤‡å¯ä»¥æ ¹æ®è¿™äº›ä¿¡æ¯æ›´åŠ é«˜æ•ˆç‡çš„åŒºåˆ†æ•°æ®æµ&lt;/li&gt;
&lt;li&gt;å¼•å…¥QOSï¼ˆQoSä¿¡ä»¤æ‰©å±•ï¼‰&lt;br&gt;
IPv6å¯ä»¥æ¯”è¾ƒæ–¹ä¾¿åœ°æ”¯æŒQoSä¿¡ä»¤çš„å®ç°ï¼Œå…·ä½“çš„åšæ³•æ˜¯ï¼Œæ ¹æ®IPv6çš„Hop by Hopæ‰©å±•å¤´å¯¹ä¿¡ä»¤è¿›è¡Œå®šä¹‰ã€‚ç”±äºæ¯ä¸ªIPv6èŠ‚ç‚¹éƒ½å¿…é¡»å¤„ç†Hop by Hopæ‰©å±•å¤´ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°QoSä¿¡ä»¤ã€‚å³é€šè¿‡åœ¨æ•°æ®æµçš„ç¬¬ä¸€ä¸ªæ•°æ®åŒ…ä¸­æºå¸¦æœ‰å…³ä¿¡æ¯ï¼Œåœ¨ç»è¿‡é€è·³å¤„ç†å’Œé¢„ç•™ä»¥ååˆ°è¾¾æ¥æ”¶ç«¯ï¼Œæ¥æ”¶ç«¯æ ¹æ®æƒ…å†µå°†æœ‰å…³ä¿¡æ¯å›ä¼ å‘é€æ–¹ï¼Œè¿™æ ·å°±å¯ä»¥è¿›è¡Œæœ‰QoSä¿è¯çš„æ•°æ®å‘é€äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv6å¯¹ç§»åŠ¨æŠ€æœ¯çš„æ”¯æŒç”¨åˆ°äº†å“ªäº›æ‰©å±•æŠ¥å¤´&#34;&gt;ipv6å¯¹ç§»åŠ¨æŠ€æœ¯çš„æ”¯æŒç”¨åˆ°äº†å“ªäº›æ‰©å±•æŠ¥å¤´&lt;/h2&gt;
&lt;p&gt;ç”¨åˆ°äº†ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´ï¼Œç±»å‹æ˜¯60&lt;/p&gt;
&lt;h3 id=&#34;ç§»åŠ¨æŠ€æœ¯&#34;&gt;ç§»åŠ¨æŠ€æœ¯&lt;/h3&gt;
&lt;h4 id=&#34;1-äº§ç”ŸèƒŒæ™¯&#34;&gt;1. äº§ç”ŸèƒŒæ™¯&lt;/h4&gt;
&lt;p&gt;å› ç‰¹ç½‘ä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹åœ¨æ”¹&lt;strong&gt;å˜äº†å…¶åœ¨ç½‘ç»œä¸Šçš„æ¥å…¥ç‚¹ä»¥å&lt;/strong&gt;ï¼Œå¦‚æœä¸é‡æ–°é…ç½®å…¶IPåœ°å€ï¼Œé‚£ä¹ˆè·¯ç”±å™¨å°±ä¸èƒ½è¯†åˆ«æ­¤èŠ‚ç‚¹ï¼Œå®ƒå°±&lt;strong&gt;ä¸èƒ½ç»§ç»­ä¸ç½‘ä¸Šçš„å…¶å®ƒèŠ‚ç‚¹è¿›è¡Œé€šä¿¡&lt;/strong&gt;ï¼Œç§»åŠ¨IPå°±æ˜¯ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜è€Œæå‡ºçš„&lt;/p&gt;
&lt;h4 id=&#34;2-æŠ€æœ¯å®šä¹‰&#34;&gt;2. æŠ€æœ¯å®šä¹‰&lt;/h4&gt;
&lt;p&gt;ç§»åŠ¨IPæä¾›äº†&lt;strong&gt;ä¸€ç§IPè·¯ç”±æœºåˆ¶&lt;/strong&gt;ï¼Œä½¿ç§»åŠ¨èŠ‚ç‚¹å¯ä»¥ä»¥ä¸€ä¸ªæ°¸ä¹…çš„IPåœ°å€è¿æ¥åˆ°ä»»ä½•é“¾è·¯ä¸Šã€‚ç§»åŠ¨IPå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè·¯ç”±åè®®ï¼Œåªæ˜¯ä¸å…¶å®ƒè·¯ç”±åè®®ç›¸æ¯”ï¼Œç§»åŠ¨IPå…·æœ‰ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œå®ƒçš„&lt;strong&gt;ç›®çš„æ˜¯å°†æ•°æ®åŒ…è·¯ç”±åˆ°é‚£äº›å¯èƒ½ä¸€ç›´åœ¨å¿«é€Ÿåœ°æ”¹å˜ä½ç½®çš„ç§»åŠ¨èŠ‚ç‚¹ä¸Š&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-ç§»åŠ¨æœºåˆ¶&#34;&gt;3. ç§»åŠ¨æœºåˆ¶&lt;/h4&gt;
&lt;p&gt;Node Aåˆ°Link 1ä¸Šï¼Œå®ƒæœ‰ä¸€ä¸ªåœ°å€A1ï¼Œè¿™ä¸ªåœ°å€A1æ˜¯å¯ä»¥é€šè¿‡Router 1åˆ°è¾¾çš„ï¼Œå½“Node Aæ²¡æœ‰å‘ç”Ÿç§»åŠ¨æ—¶ï¼ŒNode Bä¸Node Aé€šä¿¡æ—¶ï¼ŒNode Bå‘é€çš„æ•°æ®åŒ…ä¼šæŒ‰ç…§ç°æœ‰çš„è·¯ç”±æ–¹å¼åˆ°è¾¾Node A&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613665804019.bmp&#34; alt=&#34;ç§»åŠ¨å‰&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“Node Aå‘ç”Ÿäº†ç§»åŠ¨ï¼Œä»Link 1ç§»åŠ¨åˆ°Link 2æ—¶ï¼Œå¦‚æœNode Aä¸æ”¹å˜å…¶IPåœ°å€ï¼ŒNode Bå‘é€çš„æ•°æ®åŒ…æŒ‰ç…§ç°æœ‰çš„ä»¥å‰ç¼€ä¸ºåŸºç¡€çš„è·¯ç”±æ–¹å¼å°±ä¸èƒ½å¤Ÿåˆ°è¾¾Node Aäº†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613665871784.bmp&#34; alt=&#34;ç§»åŠ¨å&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IPv6é€šè¿‡ä»¥ä¸‹æ­¥éª¤è§£å†³è¿™ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Router 2ä¼šå®šæœŸå¹¿æ’­å‘é€RAæ¶ˆæ¯ï¼Œå¸¦æœ‰æœ¬åœ°é“¾è·¯ä¸Šçš„å‰ç¼€ä¿¡æ¯ï¼ŒNode Aæ¥æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯åï¼ŒçŸ¥é“è‡ªå·±å‘ç”Ÿäº†ç§»åŠ¨ï¼Œå®ƒä¼šæ ¹æ®æ–°çš„å‰ç¼€ä¿¡æ¯é€šè¿‡åœ°å€è‡ªåŠ¨é…ç½®å¾—åˆ°ä¸€ä¸ªæ–°çš„åœ°å€A2&lt;/li&gt;
&lt;li&gt;Node Aä¼šå‘é€ä¸€ä¸ªä¿¡æ¯åŒ…M2ç»™Router 1ï¼Œè¿™ä¸ªä¿¡æ¯åŒ…å‘Šè¯‰Router 1ç°åœ¨Node Açš„æ–°åœ°å€A2ï¼Œæ­¤åï¼ŒRouter 1å†å‘ç°æœ‰éœ€è¦é€åˆ°Node Açš„åŸæ¥çš„åœ°å€A1çš„æ•°æ®åŒ…ï¼Œå®ƒä¼šæŠŠè¿™ä¸ªæ•°æ®åŒ…æˆªè·ï¼Œç„¶åæŠŠè¿™ä¸ªåŒ…ä½œä¸ºå‡€è·ï¼Œåœ¨å…¶ä¸Šé¢å†åŠ ä¸Šä¸€å±‚IPv6æŠ¥å¤´ï¼ŒæŠŠæ–°çš„æ•°æ®åŒ…å‘é€åˆ°Node Açš„æ–°åœ°å€A2ï¼Œ&lt;strong&gt;è¿™ä¸ªè¿‡ç¨‹åº”ç”¨çš„æ˜¯éš§é“æŠ€æœ¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‡å¦‚Node Bå‘é€æ•°æ®åŒ…ç»™Node Aï¼Œå®ƒå¹¶ä¸çŸ¥é“Node Aå·²ç»å‘ç”Ÿäº†ç§»åŠ¨ï¼Œæ­¤æ—¶å®ƒä¼šæŠŠè¿™ä¸ªæ•°æ®åŒ…ç»§ç»­å‘é€ç»™Node AåŸæ¥çš„åœ°å€A1&lt;/li&gt;
&lt;li&gt;Node Bå‘é€çš„æ•°æ®åŒ…åˆ°è¾¾Router 1ä»¥åï¼ŒRouter 1ä¼šæˆªè·è¿™ä¸ªæ•°æ®åŒ…ï¼ŒåŒæ—¶æŠŠè¿™ä¸ªæ•°æ®åŒ…è½¬å‘åˆ°Node Açš„æ–°åœ°å€A2&lt;/li&gt;
&lt;li&gt;Node Aæ”¶åˆ°Router 1è½¬å‘è¿‡æ¥çš„æ•°æ®åŒ…ä»¥åï¼Œé€šè¿‡æ£€æŸ¥è¿™ä¸ªæ•°æ®åŒ…çš„æºåœ°å€ï¼Œå®ƒçŸ¥é“Node Bæƒ³ä¸å®ƒè¿›è¡Œé€šä¿¡ï¼Œäºæ˜¯å®ƒä¼šå‘é€ä¸€ä¸ªä¿¡æ¯åŒ…M3ç»™Node Bï¼Œå‘Šè¯‰è‡ªå·±çš„æ–°åœ°å€A2&lt;/li&gt;
&lt;li&gt;Node Bæ”¶åˆ°è¿™ä¸ªæ•°æ®åŒ…ä»¥åï¼Œä¼šè®°å½•ä¸‹Node Açš„æ–°åœ°å€A2ï¼Œè¿™æ ·å¦‚æœå†æœ‰æ•°æ®åŒ…éœ€è¦å‘ç»™Node Aï¼Œå®ƒä¼šç›´æ¥æŠŠæ•°æ®åŒ…å‘ç»™åœ°å€A2ï¼Œè‡³æ­¤Node Aå’ŒNode Bä¹‹é—´å¯ä»¥å®ç°åŒå‘é€šä¿¡&lt;/li&gt;
&lt;li&gt;è‹¥æœ‰å…¶ä½™èŠ‚ç‚¹æƒ³ä¸Node Aè¿›è¡Œé€šä¿¡ï¼Œå…¶å»ºç«‹é€šä¿¡çš„è¿‡ç¨‹ä¸Node Bç±»ä¼¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;4-ipv6è§£å†³ç§»åŠ¨é—®é¢˜çš„æªæ–½&#34;&gt;4. ipv6è§£å†³ç§»åŠ¨é—®é¢˜çš„æªæ–½&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;é»‘æ´æ£€æµ‹&lt;/li&gt;
&lt;li&gt;è·¯ç”±æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;åŠ¨æ€å®¶ä¹¡ä»£ç†åœ°å€å‘ç°æœºåˆ¶&lt;/li&gt;
&lt;li&gt;é€æ˜æ€§çš„å®ç°&lt;/li&gt;
&lt;/ol&gt;
">IPv6</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/dhcp-he-ftp/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#dhcp&#34;&gt;DHCP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B&#34;&gt;å·¥ä½œæµç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%A6%96%E6%AC%A1%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C&#34;&gt;é¦–æ¬¡æ¥å…¥ç½‘ç»œ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%97%A0%E4%B8%AD%E7%BB%A7&#34;&gt;1. æ— ä¸­ç»§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%9C%89%E4%B8%AD%E7%BB%A7&#34;&gt;2. æœ‰ä¸­ç»§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%87%8D%E6%96%B0%E4%BD%BF%E7%94%A8%E4%B9%8B%E5%89%8D%E4%BD%BF%E7%94%A8%E7%9A%84%E5%9C%B0%E5%9D%80%E4%BE%8B%E5%A6%82%E5%BC%80%E6%9C%BA&#34;&gt;é‡æ–°ä½¿ç”¨ä¹‹å‰ä½¿ç”¨çš„åœ°å€ï¼ˆä¾‹å¦‚å¼€æœºï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9B%B4%E6%96%B0%E7%A7%9F%E6%9C%9F&#34;&gt;æ›´æ–°ç§ŸæœŸ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%97%A0%E4%B8%AD%E7%BB%A7-2&#34;&gt;1. æ— ä¸­ç»§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%9C%89%E4%B8%AD%E7%BB%A7-2&#34;&gt;2. æœ‰ä¸­ç»§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dhcp-snooping&#34;&gt;DHCP Snooping&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#dhcp-snooping%E7%BB%91%E5%AE%9A%E8%A1%A8&#34;&gt;DHCP Snoopingç»‘å®šè¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%92%88%E5%AF%B9dhcp%E7%9A%84%E6%94%BB%E5%87%BB&#34;&gt;é’ˆå¯¹DHCPçš„æ”»å‡»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-dhcp%E4%BB%BF%E5%86%92%E8%80%85%E6%94%BB%E5%87%BB&#34;&gt;1.  DHCPä»¿å†’è€…æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BBipmac-spoofing%E6%94%BB%E5%87%BBarp%E6%AC%BA%E9%AA%97&#34;&gt;2.  ä¸­é—´äººæ”»å‡»ï¼ˆIP/MAC Spoofingæ”»å‡»ï¼ŒARPæ¬ºéª—ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%A5%BF%E6%AD%BB%E6%94%BB%E5%87%BB&#34;&gt;3. é¥¿æ­»æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E6%94%B9%E5%8F%98chaddr%E5%80%BC%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%9A%84%E9%A5%BF%E6%AD%BB%E6%94%BB%E5%87%BB&#34;&gt;4. æ”¹å˜CHADDRå€¼ï¼ˆå®¢æˆ·ç«¯ç‰©ç†åœ°å€ï¼‰çš„é¥¿æ­»æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-arp%E6%94%BB%E5%87%BB%E5%8E%9F%E7%90%86&#34;&gt;5. ARPæ”»å‡»åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ftp&#34;&gt;FTP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F&#34;&gt;å·¥ä½œæ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ftp%E8%BF%9E%E6%8E%A5%E7%9A%84%E5%BB%BA%E7%AB%8B&#34;&gt;FTPè¿æ¥çš„å»ºç«‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%B8%BB%E5%8A%A8%E6%A8%A1%E5%BC%8F&#34;&gt;1. ä¸»åŠ¨æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8F&#34;&gt;2. è¢«åŠ¨æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B3%E4%BA%8E%E9%98%B2%E7%81%AB%E5%A2%99&#34;&gt;å…³äºé˜²ç«å¢™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#snmp&#34;&gt;SNMP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#snmp%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9E%8B&#34;&gt;SNMPç®¡ç†æ¨¡å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87&#34;&gt;æŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86&#34;&gt;å·¥ä½œåŸç†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#snmpv3&#34;&gt;SNMPv3&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87-2&#34;&gt;æŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#snmp%E5%90%84%E7%89%88%E6%9C%AC%E6%AF%94%E8%BE%83&#34;&gt;SNMPå„ç‰ˆæœ¬æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#snmp%E4%B8%BB%E6%9C%BA%E6%97%A0%E6%B3%95%E4%B8%8E%E7%BD%91%E7%AE%A1%E8%BF%9E%E6%8E%A5%E6%8E%92%E9%94%99&#34;&gt;SNMPä¸»æœºæ— æ³•ä¸ç½‘ç®¡è¿æ¥æ’é”™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vrrp%E8%99%9A%E6%8B%9F%E8%B7%AF%E7%94%B1%E5%86%97%E4%BD%99%E5%8D%8F%E8%AE%AE&#34;&gt;VRRPï¼ˆè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0&#34;&gt;åŸºæœ¬æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8F%E8%AE%AE%E6%8A%A5%E6%96%87&#34;&gt;åè®®æŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#vrrpv2%E5%92%8Cvrrpv3%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB&#34;&gt;VRRPv2å’ŒVRRPv3çš„ä¸»è¦åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-2&#34;&gt;å·¥ä½œåŸç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;çŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B&#34;&gt;å·¥ä½œè¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%87%8D%E8%A6%81%E5%8A%9F%E8%83%BD1master%E8%AE%BE%E5%A4%87%E7%9A%84%E9%80%89%E4%B8%BE&#34;&gt;é‡è¦åŠŸèƒ½1ï¼šMasterè®¾å¤‡çš„é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%87%8D%E8%A6%81%E5%8A%9F%E8%83%BD2master%E8%AE%BE%E5%A4%87%E7%8A%B6%E6%80%81%E7%9A%84%E9%80%9A%E5%91%8A&#34;&gt;é‡è¦åŠŸèƒ½2ï¼šMasterè®¾å¤‡çŠ¶æ€çš„é€šå‘Š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E7%BD%91%E5%85%B3%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85&#34;&gt;å¤šç½‘å…³è´Ÿè½½åˆ†æ‹…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9B%91%E6%8E%A7%E4%B8%8A%E8%A1%8C%E9%93%BE%E8%B7%AF%E7%9A%84%E6%96%B9%E6%B3%95&#34;&gt;ç›‘æ§ä¸Šè¡Œé“¾è·¯çš„æ–¹æ³•&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-vrrp%E4%B8%8E%E6%8E%A5%E5%8F%A3%E7%8A%B6%E6%80%81%E8%81%94%E5%8A%A8%E5%AE%9E%E7%8E%B0vrrp%E4%B8%BB%E5%A4%87%E5%88%87%E6%8D%A2&#34;&gt;1. VRRPä¸æ¥å£çŠ¶æ€è”åŠ¨å®ç°VRRPä¸»å¤‡åˆ‡æ¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-vrrp%E4%B8%8E%E8%B7%AF%E7%94%B1%E8%81%94%E5%8A%A8%E7%9B%91%E8%A7%86%E4%B8%8A%E8%A1%8C%E9%93%BE%E8%B7%AF%E5%BF%AB%E6%85%A2%E4%BE%9D%E8%B5%96%E4%BA%8E%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE&#34;&gt;2. VRRPä¸è·¯ç”±è”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆå¿«æ…¢ä¾èµ–äºè·¯ç”±åè®®ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-vrrp%E4%B8%8Ebfd%E8%81%94%E5%8A%A8%E7%9B%91%E8%A7%86%E4%B8%8A%E8%A1%8C%E9%93%BE%E8%B7%AF%E6%9C%80%E5%BF%AB&#34;&gt;3. VRRPä¸BFDè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆæœ€å¿«ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-vrrp%E4%B8%8Enqa%E8%81%94%E5%8A%A8%E7%9B%91%E8%A7%86%E4%B8%8A%E8%A1%8C%E9%93%BE%E8%B7%AF%E4%BE%9D%E8%B5%96%E4%B8%8Eping%E7%9A%84%E9%80%9F%E5%BA%A6&#34;&gt;4. VRRPä¸NQAè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆä¾èµ–ä¸pingçš„é€Ÿåº¦ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BF%83%E8%B7%B3%E7%BA%BF&#34;&gt;å¿ƒè·³çº¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vrrp%E5%92%8Ceth-trunk%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;VRRPå’ŒEth-trunkçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bfd%E5%8F%8C%E5%90%91%E8%BD%AC%E5%8F%91%E6%A3%80%E6%B5%8B&#34;&gt;BFD(åŒå‘è½¬å‘æ£€æµ‹)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%9C%E7%94%A8&#34;&gt;ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A3%80%E6%B5%8B%E6%9C%BA%E5%88%B6&#34;&gt;æ£€æµ‹æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A3%80%E6%B5%8B%E7%9A%84%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B&#34;&gt;æ£€æµ‹çš„é“¾è·¯ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87-3&#34;&gt;æŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%9A%E8%AF%9D%E5%BB%BA%E7%AB%8B%E6%96%B9%E5%BC%8F&#34;&gt;ä¼šè¯å»ºç«‹æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86&#34;&gt;ä¼šè¯ç®¡ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%81%94%E5%8A%A8%E5%8A%9F%E8%83%BD&#34;&gt;è”åŠ¨åŠŸèƒ½&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%B8%8E%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E8%81%94%E5%8A%A8&#34;&gt;1. ä¸é™æ€è·¯ç”±çš„è”åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%B8%8Eigpospf-isis-rip%E7%9A%84%E8%81%94%E5%8A%A8&#34;&gt;2. ä¸IGPï¼ˆospfã€isisã€ripï¼‰çš„è”åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%B8%8Ebgp%E7%9A%84%E8%81%94%E5%8A%A8&#34;&gt;3. ä¸BGPçš„è”åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E4%B8%8Evrrp%E7%9A%84%E8%81%94%E5%8A%A8&#34;&gt;4. ä¸VRRPçš„è”åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-bfd%E7%9A%84%E5%8D%95%E8%87%82%E5%9B%9E%E5%A3%B0%E5%8A%9F%E8%83%BDbfd-echo&#34;&gt;5. BFDçš„å•è‡‚å›å£°åŠŸèƒ½ï¼ˆBFD Echoï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nqa%E7%BD%91%E7%BB%9C%E8%B4%A8%E9%87%8F%E5%88%86%E6%9E%90&#34;&gt;NQAï¼ˆç½‘ç»œè´¨é‡åˆ†æï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E8%BF%B0&#34;&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%8B%E8%AF%95%E5%8E%9F%E7%90%86&#34;&gt;æµ‹è¯•åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%8B%E8%AF%95%E6%93%8D%E4%BD%9C&#34;&gt;æµ‹è¯•æ“ä½œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%8B%E8%AF%95%E7%B1%BB%E5%9E%8B&#34;&gt;æµ‹è¯•ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-icmp%E6%B5%8B%E8%AF%95&#34;&gt;1. ICMPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-trace%E6%B5%8B%E8%AF%95&#34;&gt;2. Traceæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-tcp%E6%B5%8B%E8%AF%95&#34;&gt;3. TCPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-dns%E6%B5%8B%E8%AF%95&#34;&gt;4. DNSæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-icmpudp-jitter%E6%B5%8B%E8%AF%95&#34;&gt;5. ICMP/UDP Jitteræµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-ftp%E6%B5%8B%E8%AF%95&#34;&gt;6. FTPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-http%E6%B5%8B%E8%AF%95&#34;&gt;7. HTTPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8-dhcp%E6%B5%8B%E8%AF%95&#34;&gt;8. DHCPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#9-snmp%E6%B5%8B%E8%AF%95&#34;&gt;9. SNMPæµ‹è¯•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bfd%E4%B8%8Enqa%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;BFDä¸NQAçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#urpf%E5%8D%95%E6%92%AD%E9%80%86%E5%90%91%E8%B7%AF%E5%BE%84%E8%BD%AC%E5%8F%91&#34;&gt;URPFï¼ˆå•æ’­é€†å‘è·¯å¾„è½¬å‘ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86-2&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;åº”ç”¨åœºæ™¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84urpf%E5%BA%94%E7%94%A8&#34;&gt;1. ä¸¥æ ¼æ¨¡å¼ä¸‹çš„URPFåº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%9D%BE%E6%95%A3%E6%A8%A1%E5%BC%8F%E4%B8%8B%E7%9A%84urpf%E5%BA%94%E7%94%A8&#34;&gt;2. æ¾æ•£æ¨¡å¼ä¸‹çš„URPFåº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nat%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2&#34;&gt;NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-basic-nat%E4%B8%8D%E5%B8%B8%E7%94%A8&#34;&gt;1. Basic NATï¼ˆä¸å¸¸ç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-napt&#34;&gt;2. NAPT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-nat-pt&#34;&gt;3. NAT-PT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F&#34;&gt;å®ç°æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-easy-ip&#34;&gt;1. Easy IP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-nat-server&#34;&gt;2. NAT Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%9D%99%E6%80%81natnapt&#34;&gt;3. é™æ€NAT/NAPT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nat-alg&#34;&gt;NAT ALG&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9&#34;&gt;å…¶ä»–å†…å®¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-dns-mapping&#34;&gt;1. DNS Mapping&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-nat%E5%85%B3%E8%81%94vpn&#34;&gt;2. NATå…³è”VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%B8%A4%E6%AC%A1nat&#34;&gt;3. ä¸¤æ¬¡NAT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ntp&#34;&gt;NTP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%BC%94%E8%BF%9B&#34;&gt;æ¼”è¿›&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;åŸºæœ¬åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84&#34;&gt;ç½‘ç»œæ¶æ„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ntp%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F&#34;&gt;NTPçš„å·¥ä½œæ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%8D%95%E6%92%AD%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A8%A1%E5%BC%8F&#34;&gt;1. å•æ’­æœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%AF%B9%E7%AD%89%E4%BD%93%E6%A8%A1%E5%BC%8F&#34;&gt;2. å¯¹ç­‰ä½“æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%B9%BF%E6%92%AD%E6%A8%A1%E5%BC%8F&#34;&gt;3. å¹¿æ’­æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E7%BB%84%E6%92%AD%E6%A8%A1%E5%BC%8F%E5%B7%A5%E4%BD%9C%E6%96%B9%E5%BC%8F%E5%92%8C%E5%B9%BF%E6%92%AD%E6%A8%A1%E5%BC%8F%E7%9B%B8%E5%90%8C&#34;&gt;4. ç»„æ’­æ¨¡å¼~å·¥ä½œæ–¹å¼å’Œå¹¿æ’­æ¨¡å¼ç›¸åŒ~&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E5%A4%9A%E6%92%AD%E6%A8%A1%E5%BC%8F&#34;&gt;5. å¤šæ’­æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#netstream&#34;&gt;Netstream&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%B3%BB%E7%BB%9F%E7%BB%84%E6%88%90&#34;&gt;ç³»ç»Ÿç»„æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-netstream%E9%87%87%E6%A0%B7&#34;&gt;1. NetStreamé‡‡æ ·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-netstream%E6%B5%81&#34;&gt;2. NetStreamæµ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-netstream%E6%B5%81%E8%80%81%E5%8C%96&#34;&gt;3. NetStreamæµè€åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-netstream%E6%B5%81%E8%BE%93%E5%87%BA&#34;&gt;4. NetStreamæµè¾“å‡º&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B5%81%E8%BE%93%E5%87%BA%E6%96%B9%E5%BC%8F&#34;&gt;æµè¾“å‡ºæ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BE%93%E5%87%BA%E6%8A%A5%E6%96%87%E7%9A%84%E7%89%88%E6%9C%AC%E6%A0%BC%E5%BC%8F&#34;&gt;è¾“å‡ºæŠ¥æ–‡çš„ç‰ˆæœ¬æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;dhcp&#34;&gt;DHCP&lt;/h1&gt;
&lt;p&gt;é‡‡ç”¨UDPå°è£…ï¼ŒClientï¼ˆ68ç«¯å£ï¼‰/Serverï¼ˆ67ç«¯å£ï¼‰æ¨¡å¼ï¼Œå®¢æˆ·ç«¯æå‡ºé…ç½®ç”³è¯·ï¼ŒæœåŠ¡ç«¯å“åº”é…ç½®è¯·æ±‚&lt;/p&gt;
&lt;h2 id=&#34;æŠ¥æ–‡ç±»å‹&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;DHCP  Discoverï¼ˆå¹¿æ’­ï¼‰ï¼šå®¢æˆ·ç«¯å¹¿æ’­æ¥&lt;strong&gt;æŸ¥æ‰¾&lt;/strong&gt;æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;DHCP  Requestï¼ˆå¹¿æ’­ï¼‰ï¼šå®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨&lt;strong&gt;è¯·æ±‚é…ç½®å‚æ•°&lt;/strong&gt;æˆ–è€…&lt;strong&gt;è¯·æ±‚é…ç½®ç¡®è®¤&lt;/strong&gt;æˆ–è€…&lt;strong&gt;ç»­å€Ÿç§ŸæœŸ&lt;/strong&gt;ã€‚ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;æ­£å¸¸çš„è¯·æ±‚æ¶ˆæ¯ï¼ˆåä¸ºæ˜¯å•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;ç§Ÿçº¦çš„æœŸé™åˆ°äº†50%ï¼ˆå•æ’­ï¼Œè¿›è¡Œç»­çº¦ï¼‰&lt;/li&gt;
&lt;li&gt;ç§Ÿçº¦çš„æœŸé™åˆ°äº†87.5%ï¼ˆå¹¿æ’­ï¼Œåœ¨50%çš„æ—¶å€™ç»­çº¦ä¸æˆåŠŸï¼Œé‡æ–°è¿›è¡Œç»­çº¦ï¼‰&lt;/li&gt;
&lt;li&gt;PCé‡å¯ä¹‹åéœ€è¦é‡æ–°ç»­çº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;DHCP  Declineï¼šå®¢æˆ·ç«¯å‘ç°&lt;strong&gt;åœ°å€å·²ç»è¢«ä½¿ç”¨&lt;/strong&gt;æ—¶ï¼Œç”¨æ¥é€šçŸ¥æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;DHCP  Informï¼šå®¢æˆ·ç«¯&lt;strong&gt;å·²ç»æœ‰IPåœ°å€æ—¶ç”¨å®ƒæ¥å‘æœåŠ¡å™¨è¯·æ±‚å…¶ä»–çš„é…ç½®å‚æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;DHCP  Releaseï¼šå®¢æˆ·ç«¯è¦&lt;strong&gt;é‡Šæ”¾åœ°å€&lt;/strong&gt;æ—¶ç”¨æ¥é€šçŸ¥æœåŠ¡å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨å‘é€æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;DHCP Offerï¼ˆå¹¿æ’­æˆ–å•æ’­ä¾æ®flagï¼‰ï¼šæœåŠ¡å™¨&lt;strong&gt;å“åº”&lt;/strong&gt;å®¢æˆ·ç«¯çš„&lt;strong&gt;DHCP DISCOVERæŠ¥æ–‡&lt;/strong&gt;ï¼Œå¹¶&lt;strong&gt;æŒ‡å®šç›¸åº”çš„é…ç½®å‚æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;DHCP Ackï¼ˆå¹¿æ’­æˆ–å•æ’­ä¾æ®flagï¼‰ï¼šæœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯ï¼Œ&lt;strong&gt;å«æœ‰é…ç½®å‚æ•°åŒ…æ‹¬IPåœ°å€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;DHCP Nakï¼šæœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯æ¥è¡¨æ˜å®¢æˆ·ç«¯çš„&lt;strong&gt;åœ°å€è¯·æ±‚ä¸æ­£ç¡®æˆ–è€…ç§ŸæœŸå·²è¿‡æœŸ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592443026859.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;opï¼šæŠ¥æ–‡çš„ç±»å‹ï¼Œå–å€¼ä¸º1æˆ–2ï¼Œå«ä¹‰å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;1ï¼šå®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;2ï¼šæœåŠ¡å™¨å“åº”æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;htypeï¼šç¡¬ä»¶ç±»å‹ï¼Œä»¥å¤ªç½‘çš„å€¼ä¸º1&lt;/li&gt;
&lt;li&gt;hlenï¼šç¡¬ä»¶åœ°å€é•¿åº¦ï¼Œä»¥å¤ªç½‘çš„å€¼ä¸º6&lt;/li&gt;
&lt;li&gt;hopsï¼šå½“å‰çš„DHCPæŠ¥æ–‡ç»è¿‡çš„DHCPä¸­ç»§çš„æ•°ç›®ã€‚è¯¥å­—æ®µç”±å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨è®¾ç½®ä¸º0ï¼Œæ¯ç»è¿‡ä¸€ä¸ªDHCPä¸­ç»§æ—¶ï¼Œè¯¥å­—æ®µåŠ 1ã€‚&lt;code&gt;æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„DHCPä¸­ç»§æ•°ç›®ä¸èƒ½è¶…è¿‡16ä¸ªï¼Œå¦åˆ™DHCPæŠ¥æ–‡å°†è¢«ä¸¢å¼ƒ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;xidï¼šDHCPå®¢æˆ·ç«¯é€‰å–çš„éšæœºæ•°ï¼Œä½¿DHCPæœåŠ¡å™¨çš„å›å¤ä¸DHCPå®¢æˆ·ç«¯çš„æŠ¥æ–‡ç›¸å…³è”&lt;/li&gt;
&lt;li&gt;secsï¼šå®¢æˆ·ç«¯ä»å¼€å§‹è·å–åœ°å€æˆ–åœ°å€ç»­ç§Ÿæ›´æ–°åæ‰€ç”¨çš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’&lt;/li&gt;
&lt;li&gt;flagï¼šæ ‡å¿—å­—æ®µï¼Œåªæœ‰æœ€é«˜ä½æ‰æœ‰æ„ä¹‰ï¼Œå…¶ä½™å‡è¢«ç½®ä¸º0ï¼Œæœ€é«˜ä½æ˜¯å•æ’­æˆ–å¹¿æ’­å“åº”æ ‡å¿—ä½ï¼š
&lt;ul&gt;
&lt;li&gt;0ï¼šå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ä»¥å•æ’­å½¢å¼å‘é€å“åº”æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;1ï¼šå®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡å™¨ä»¥å¹¿æ’­å½¢å¼å‘é€å“åº”æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ciaddrï¼šå®¢æˆ·ç«¯çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;yiaddrï¼šæœåŠ¡å™¨åˆ†é…ç»™å®¢æˆ·ç«¯çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;siaddrï¼šDHCPå®¢æˆ·ç«¯è·å¾—å¯åŠ¨é…ç½®ä¿¡æ¯çš„æœåŠ¡å™¨çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;giaddrï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªDHCPä¸­ç»§çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;chaddrï¼šå®¢æˆ·ç«¯çš„MACåœ°å€&lt;/li&gt;
&lt;li&gt;snameï¼šå®¢æˆ·ç«¯è·å–é…ç½®ä¿¡æ¯çš„æœåŠ¡å™¨åå­—&lt;/li&gt;
&lt;li&gt;fileï¼šå®¢æˆ·ç«¯éœ€è¦è·å–çš„å¯åŠ¨é…ç½®æ–‡ä»¶å&lt;/li&gt;
&lt;li&gt;optionï¼šé‡‡ç”¨TLVæ–¹å¼æ„æˆ
&lt;ul&gt;
&lt;li&gt;type1ï¼šè®¾ç½®å­ç½‘æ©ç &lt;/li&gt;
&lt;li&gt;type3ï¼šè®¾ç½®ç½‘å…³åœ°å€&lt;/li&gt;
&lt;li&gt;type6ï¼šè®¾ç½®DNSæœåŠ¡å™¨åœ°å€&lt;/li&gt;
&lt;li&gt;type12ï¼šè®¾ç½®DHCPå®¢æˆ·ç«¯çš„ä¸»æœºå&lt;/li&gt;
&lt;li&gt;type50ï¼šè¯·æ±‚IPåœ°å€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type43&lt;/code&gt;ï¼šDHCPçš„option 43é€‰é¡¹æ˜¯å‘Šè¯‰AP ç½‘ç»œä¸­ACçš„IPåœ°å€ï¼Œè®©APå¯»æ‰¾ACè¿›è¡Œæ³¨å†Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type82&lt;/code&gt;ï¼šoption 82å®ç°dhcpå®¢æˆ·ç«¯å’Œdhcpä¸­ç»§è®¾å¤‡çš„åœ°å€ä¿¡æ¯è®°å½•åœ¨dhcpæœåŠ¡å™¨ä¸Šï¼Œå®ç°dhcpåˆ†é…çš„é™åˆ¶å’Œè®¡è´¹åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å·¥ä½œæµç¨‹&#34;&gt;å·¥ä½œæµç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;é¦–æ¬¡æ¥å…¥ç½‘ç»œ&#34;&gt;é¦–æ¬¡æ¥å…¥ç½‘ç»œ&lt;/h3&gt;
&lt;h4 id=&#34;1-æ— ä¸­ç»§&#34;&gt;1. æ— ä¸­ç»§&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613463255504.png&#34; alt=&#34;æ— ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æ²¡æœ‰ä¸­ç»§æ—¶æ˜¯2ä¸ªå¹¿æ’­+2ä¸ªå•æ’­&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€Discoverå¹¿æ’­æŠ¥æ–‡å³ç›®çš„åœ°å€ä¸º255.255.255.255ï¼ŒæŸ¥æ‰¾æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°Discoverä¿¡æ¯çš„æœåŠ¡å™¨éƒ½ä¼šåšå‡ºå“åº”ï¼Œå®ƒä»å°šæœªå‡ºç§Ÿçš„IPåœ°å€ä¸­æŒ‘é€‰ä¸€ä¸ªåˆ†é…ç»™å®¢æˆ·ç«¯ï¼Œå‘é€ä¸€ä¸ªåŒ…å«IPåœ°å€ç­‰ä¿¡æ¯çš„Offer&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ”¶åˆ°OfferæŠ¥æ–‡ä¹‹åï¼Œå› ä¸ºæœ‰å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä»¥&lt;strong&gt;å¹¿æ’­æ–¹å¼&lt;/strong&gt;å‘é€RequestæŠ¥æ–‡ï¼Œé™¤äº†å‘é€‰å®šçš„æœåŠ¡å™¨è¯·æ±‚IPåœ°å€å…¶ä»–ä¿¡æ¯ä¹‹å¤–ï¼Œè¿˜è¦é€šçŸ¥æ‰€æœ‰çš„DHCPæœåŠ¡å™¨ï¼Œå·²ç»é€‰æ‹©æŸå°æœåŠ¡å™¨æ‰€æä¾›çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œç»™å®¢æˆ·ç«¯å‘é€ACKå“åº”æŠ¥æ–‡ï¼Œä»¥åå®¢æˆ·ç«¯æ¯æ¬¡é‡æ–°ç™»å½•ç½‘ç»œæ—¶ï¼Œ&lt;strong&gt;åªéœ€è¦å‘é€åŒ…å«å‰ä¸€æ¬¡æ‰€åˆ†é…çš„IPåœ°å€çš„Requestè¯·æ±‚ä¿¡æ¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æœ‰ä¸­ç»§&#34;&gt;2. æœ‰ä¸­ç»§&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613463341801.png&#34; alt=&#34;æœ‰ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ä¸­ç»§ä¸æœåŠ¡å™¨ä¹‹é—´æ˜¯4ä¸ªå•æ’­æŠ¥æ–‡ï¼Œå®¢æˆ·ç«¯ä¼šå°†ä¸­ç»§å½“ä½œæœåŠ¡å™¨ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯ä¸ä¸­ç»§ä¹‹é—´çš„æŠ¥æ–‡è¿˜æ˜¯2ä¸ªå¹¿æ’­+2ä¸ªå•æ’­&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ä¸­ç»§ï¼Ÿéœ€è¦è·¨ç½‘æ®µåˆ†é…IPåœ°å€æ—¶&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä¸­ç»§ä¹‹åï¼ŒæœåŠ¡å™¨å¦‚ä½•ç¡®å®šç»™å®¢æˆ·ç«¯åˆ†é…å“ªä¸ªç½‘æ®µçš„åœ°å€ï¼ŸDiscoveræŠ¥æ–‡ä¸­çš„gateway ip addressæ˜¯å¦è¢«å¡«å……ï¼Œå¦‚æœè¢«å¡«å……åˆ™åªä¼šåˆ†é…gateway ip addressæ‰€åœ¨ç½‘æ®µçš„åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é‡æ–°ä½¿ç”¨ä¹‹å‰ä½¿ç”¨çš„åœ°å€ä¾‹å¦‚å¼€æœº&#34;&gt;é‡æ–°ä½¿ç”¨ä¹‹å‰ä½¿ç”¨çš„åœ°å€ï¼ˆä¾‹å¦‚å¼€æœºï¼‰&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613464723951.png&#34; alt=&#34;ç»­ç§Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å¹¿æ’­å‘é€åŒ…å«å‰ä¸€æ¬¡åˆ†é…çš„IPåœ°å€çš„RequestæŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­çš„Option50ï¼ˆè¯·æ±‚çš„IPåœ°å€é€‰é¡¹ï¼‰å­—æ®µå¡«å…¥æ›¾ç»ä½¿ç”¨è¿‡çš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æ ¹æ®RequestæŠ¥æ–‡ä¸­æºå¸¦çš„MACåœ°å€æ¥æŸ¥æ‰¾æœ‰æ²¡æœ‰ç›¸åº”çš„ç§Ÿçº¦è®°å½•ï¼Œå¦‚æœæœ‰åˆ™è¿”å›AckæŠ¥æ–‡ï¼Œé€šçŸ¥DHCPå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­ä½¿ç”¨è¿™ä¸ªIPåœ°å€ã€‚å¦åˆ™ï¼Œä¿æŒæ²‰é»˜ï¼Œç­‰å¾…å®¢æˆ·ç«¯é‡æ–°å‘é€DiscoveræŠ¥æ–‡è¯·æ±‚æ–°çš„IPåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ›´æ–°ç§ŸæœŸ&#34;&gt;æ›´æ–°ç§ŸæœŸ&lt;/h3&gt;
&lt;h4 id=&#34;1-æ— ä¸­ç»§-2&#34;&gt;1. æ— ä¸­ç»§&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613464945156.png&#34; alt=&#34;æ— ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å½“ç§ŸæœŸè¾¾åˆ°50%ï¼ˆT1ï¼‰æ—¶ï¼Œå®¢æˆ·ç«¯ä»¥å•æ’­çš„æ–¹å¼å‘æœåŠ¡å™¨å‘é€RequestæŠ¥æ–‡ï¼Œè¯·æ±‚æ›´æ–°IPåœ°å€ç§ŸæœŸ
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨å›åº”AckæŠ¥æ–‡ï¼Œåˆ™ç§ŸæœŸæ›´æ–°æˆåŠŸï¼ˆå³ç§ŸæœŸä»0å¼€å§‹è®¡ç®—ï¼‰&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨å›åº”NakæŠ¥æ–‡ï¼Œåˆ™å®¢æˆ·ç«¯é‡æ–°å‘é€DiscoveræŠ¥æ–‡è¯·æ±‚æ–°çš„IPåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å½“ç§ŸæœŸè¾¾åˆ°87.5%ï¼ˆT2ï¼‰æ—¶ï¼Œä¸”ä»æœªæ”¶åˆ°æœåŠ¡å™¨çš„åº”ç­”ï¼Œåˆ™å®¢æˆ·ç«¯ä¼šä»¥å¹¿æ’­çš„æ–¹å¼å‘æœåŠ¡å™¨å‘é€RequestæŠ¥æ–‡ï¼Œè¯·æ±‚æ›´æ–°IPåœ°å€ç§ŸæœŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-æœ‰ä¸­ç»§-2&#34;&gt;2. æœ‰ä¸­ç»§&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613465146639.png&#34; alt=&#34;æœ‰ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;dhcp-snooping&#34;&gt;DHCP Snooping&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¾¦å¬å®¢æˆ·ç«¯å‘é€çš„DHCP-REQUESTå’Œä¿¡ä»»æ¥å£æ”¶åˆ°çš„DHCP-ACKæŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
DHCPçš„ä¸€ç§å®‰å…¨ç‰¹æ€§ï¼Œ&lt;strong&gt;ç”¨äºä¿è¯DHCPå®¢æˆ·ç«¯ä»åˆæ³•çš„DHCPæœåŠ¡å™¨è·å–IPåœ°å€&lt;/strong&gt;ï¼Œé€šè¿‡æˆªè·DHCP Clientå’ŒDHCP Relayä¹‹é—´çš„DHCPæŠ¥æ–‡å¹¶è¿›è¡Œåˆ†æå¤„ç†ï¼Œå¯ä»¥è¿‡æ»¤ä¸ä¿¡ä»»çš„DHCPæŠ¥æ–‡å¹¶å»ºç«‹å’Œç»´æŠ¤ä¸€ä¸ªDHCP Snoopingç»‘å®šè¡¨&lt;code&gt;ç»‘å®šè¡¨åŒ…æ‹¬MACåœ°å€ã€IPåœ°å€ã€ç§Ÿçº¦æ—¶é—´ã€VlanIDã€æ¥å£ä¿¡æ¯&lt;/code&gt;ï¼Œé€šè¿‡å¯¹è¿™ä¸ªç»‘å®šè¡¨çš„ç»´æŠ¤ï¼Œå»ºç«‹ä¸€é“åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é˜²ç«å¢™ï¼Œ&lt;strong&gt;RequestæŠ¥æ–‡ä¸­Option82&lt;/strong&gt;è®°å½•æŠ¥æ–‡&lt;strong&gt;å…¥ç«¯å£ç±»å‹ã€ç«¯å£å·ã€VLANä¿¡æ¯ä»¥åŠæ¡¥MACåœ°å€&lt;/strong&gt;ï¼Œæ˜¯ç”Ÿæˆç»‘å®šè¡¨çš„é‡è¦éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;DHCP Snoopingä¿¡ä»»åŠŸèƒ½å°†æ¥å£åˆ†ä¸º&lt;strong&gt;ä¿¡ä»»æ¥å£å’Œéä¿¡ä»»æ¥å£&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿¡ä»»æ¥å£æ­£å¸¸æ¥æ”¶DHCPæœåŠ¡å™¨å“åº”çš„DHCP ACKã€DHCP NAKå’ŒDHCP OfferæŠ¥æ–‡&lt;code&gt;ä¸€èˆ¬å°†ä¸åˆæ³•DHCPæœåŠ¡å™¨ç›´æ¥æˆ–é—´æ¥è¿æ¥çš„æ¥å£è®¾ç½®ä¸ºä¿¡ä»»æ¥å£ï¼Œå…¶ä»–æ¥å£è®¾ç½®ä¸ºéä¿¡ä»»æ¥å£&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;éä¿¡ä»»æ¥å£åœ¨æ¥æ”¶åˆ°DHCPæœåŠ¡å™¨å“åº”çš„DHCP ACKã€DHCP NAKå’ŒDHCP OfferæŠ¥æ–‡åï¼Œä¸¢å¼ƒè¯¥æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;dhcp-snoopingç»‘å®šè¡¨&#34;&gt;DHCP Snoopingç»‘å®šè¡¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é™æ€ç»‘å®šè¡¨ï¼šæŒ‰ç…§å®é™…éœ€æ±‚åœ¨æŠ¥æ–‡å…¥ç«¯å£æ‰‹å·¥è¾“å…¥ï¼Œæ²¡æœ‰ç§ŸæœŸé™åˆ¶&lt;br&gt;
&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šä¸€äº›é‡è¦è®¾å¤‡ï¼ˆå¦‚æœåŠ¡å™¨ï¼‰å’Œä¸€äº›é«˜ç«¯ç”¨æˆ·éœ€é‡‡ç”¨é™æ€æ–¹å¼ï¼Œä¸€æ˜¯æ²¡æœ‰ç§ŸæœŸé™åˆ¶ï¼ŒäºŒæ˜¯å®‰å…¨æ€§é«˜ä¸”ä¾¿äºç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€ç»‘å®šè¡¨ï¼šå®¢æˆ·ç«¯åœ¨ç”³è¯·IPåœ°å€è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®DHCPæŠ¥æ–‡å†…å®¹åœ¨æŠ¥æ–‡å…¥ç«¯å£è‡ªåŠ¨ç”Ÿæˆï¼Œå­˜åœ¨è€åŒ–æ—¶é—´ï¼Œæœ‰ç§ŸæœŸé™åˆ¶ã€‚&lt;br&gt;
&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šç”Ÿæˆæ–¹ä¾¿ï¼Œå¸¸ç”¨äºéé‡è¦è®¾å¤‡ã€‚ä¸è¿‡ç»‘å®šè¡¨å­˜åœ¨è€åŒ–æ—¶é—´ï¼Œä¸”ä¸ä¾¿äºç®¡ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é’ˆå¯¹dhcpçš„æ”»å‡»&#34;&gt;é’ˆå¯¹DHCPçš„æ”»å‡»&lt;/h3&gt;
&lt;h4 id=&#34;1-dhcpä»¿å†’è€…æ”»å‡»&#34;&gt;1.  DHCPä»¿å†’è€…æ”»å‡»&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466460979.png&#34; alt=&#34;DHCPä»¿å†’è€…æ”»å‡»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;DHCPä»¿å†’è€…æ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼šä¸€èˆ¬æŠŠé€šå‘DHCP Serverçš„æ¥å£ï¼ˆè¿æ¥ç½‘ç»œå†…éƒ¨çš„ç½‘ç»œä¾§æ¥å£ï¼‰è®¾æˆTrustedçŠ¶æ€ï¼Œå…¶å®ƒæ¥å£ï¼ˆè¿æ¥ç½‘ç»œå¤–éƒ¨çš„ç”¨æˆ·ä¾§æ¥å£ï¼‰éƒ½è®¾ä¸ºUntrustedçŠ¶æ€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466544827.png&#34; alt=&#34;DHCPä»¿å†’è€…æ”»å‡»è§£å†³æ–¹æ³•&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-ä¸­é—´äººæ”»å‡»ipmac-spoofingæ”»å‡»arpæ¬ºéª—&#34;&gt;2.  ä¸­é—´äººæ”»å‡»ï¼ˆIP/MAC Spoofingæ”»å‡»ï¼ŒARPæ¬ºéª—ï¼‰&lt;/h4&gt;
&lt;p&gt;æ”»å‡»è€…ä¸é€šè®¯çš„ä¸¤ç«¯åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„è”ç³»ï¼Œå¹¶äº¤æ¢å…¶æ‰€æ”¶åˆ°çš„æ•°æ®ï¼Œä½¿é€šè®¯çš„ä¸¤ç«¯è®¤ä¸ºä¸å¯¹æ–¹ç›´æ¥å¯¹è¯ï¼Œä½†äº‹å®ä¸Šæ•´ä¸ªä¼šè¯éƒ½è¢«æ”»å‡»è€…å®Œå…¨æ§åˆ¶ï¼Œæ”»å‡»è€…å¯ä»¥æ‹¦æˆªé€šè®¯åŒæ–¹çš„é€šè¯å¹¶æ’å…¥æ–°çš„å†…å®¹ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466733449.png&#34; alt=&#34;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸­é—´äººåŒæ—¶å‘DHCPæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯&lt;strong&gt;å•æ’­å‘é€ARPå“åº”&lt;/strong&gt;æŠ¥æ–‡ï¼š&lt;code&gt;å³éœ€è¦æ¬ºéª—æœåŠ¡å™¨ï¼Œæœ‰éœ€è¦æ¬ºéª—å®¢æˆ·ç«¯&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å‘æœåŠ¡å™¨å‘é€çš„æŠ¥æ–‡ä¸­IPä¸ºå®¢æˆ·ç«¯çš„IP 10.1.1.2ï¼Œä½†MACæ˜¯ä¸­é—´äººçš„mac 1-1-1&lt;/li&gt;
&lt;li&gt;å‘å®¢æˆ·ç«¯å‘é€çš„æŠ¥æ–‡ä¸­IPä¸ºæœåŠ¡å™¨çš„IP 10.2.1.1ï¼Œä½†MACè¿˜æ˜¯ä¸­é—´äººçš„mac 1-1-1&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ”¶åˆ°ARPå“åº”æŠ¥æ–‡ä¹‹åä¿®æ”¹ARPè¡¨é¡¹ï¼š
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨å°†åˆ†é…ç»™å®¢æˆ·ç«¯çš„åœ°å€10.1.1.2å¯¹åº”çš„macä¿®æ”¹ä¸º1-1-1&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å°†DHCPæœåŠ¡å™¨çš„åœ°å€10.2.1.1å¯¹åº”çš„macä¿®æ”¹ä¸º1-1-1&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¹‹åå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è½¬å‘çš„æ•°æ®éƒ½ä¼šåˆ°è¾¾ä¸­é—´äººé‚£é‡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¸­é—´äººæ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼šä¸ºäº†é˜²æ­¢ä¸­é—´äººæ”»å‡»æˆ–IP/MAC Spoofingæ”»å‡»ï¼Œå¯ä»¥åœ¨äº¤æ¢æœºä¸Šé…ç½®DHCP SnoopingåŠŸèƒ½ï¼Œä½¿èƒ½DHCP Snoopingç»‘å®šè¡¨åŠŸèƒ½åï¼Œåªæœ‰æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„ä¿¡æ¯å’Œç»‘å®šè¡¨ä¸­çš„å†…å®¹ä¸€è‡´æ‰ä¼šè¢«è½¬å‘ï¼Œå¦åˆ™æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466826858.png&#34; alt=&#34;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»è§£å†³æ–¹æ³•&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;DAIï¼ˆåŠ¨æ€ARPæ£€æµ‹ï¼‰æ˜¯ç”¨æ¥æ£€æµ‹arpæŠ¥æ–‡çš„ï¼Œæ˜¯ç”¨æ¥é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼›IPSGï¼ˆIPæºé˜²æ”»å‡»ï¼‰æ˜¯ç”¨æ¥æ£€æµ‹IPæŠ¥æ–‡çš„ï¼Œç”¨æ¥é˜²æ­¢ç›—ç”¨IPçš„&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¼€å¯DAIæˆ–è€…IPSGä¹‹å‰å¿…é¡»å¼€å¯DHCP Snooping&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;DAIåŸç†&lt;/strong&gt;ï¼šå½“è®¾å¤‡æ”¶åˆ°ARPæŠ¥æ–‡æ—¶ï¼Œå°†æ­¤ARPæŠ¥æ–‡å¯¹åº”çš„æºIPã€æºMACã€VLANä»¥åŠæ¥å£ä¿¡æ¯å’Œç»‘å®šè¡¨çš„ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¿¡æ¯åŒ¹é…ï¼Œè¯´æ˜å‘é€è¯¥ARPæŠ¥æ–‡çš„ç”¨æˆ·æ˜¯åˆæ³•ç”¨æˆ·ï¼Œå…è®¸æ­¤ç”¨æˆ·çš„ARPæŠ¥æ–‡é€šè¿‡ï¼Œå¦åˆ™å°±è®¤ä¸ºæ˜¯æ”»å‡»ï¼Œä¸¢å¼ƒè¯¥ARPæŠ¥æ–‡ã€‚&lt;code&gt;ç”¨æˆ·é˜²æ­¢ä¸­é—´äººæ”»å‡»&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;IPSGåŸç†&lt;/strong&gt;ï¼šIPSGåŠŸèƒ½æ˜¯åŸºäºç»‘å®šè¡¨ï¼ˆDHCPåŠ¨æ€å’Œé™æ€ç»‘å®šè¡¨ï¼‰å¯¹IPæŠ¥æ–‡è¿›è¡ŒåŒ¹é…æ£€æŸ¥ã€‚å½“è®¾å¤‡åœ¨è½¬å‘IPæŠ¥æ–‡æ—¶ï¼Œå°†æ­¤IPæŠ¥æ–‡ä¸­çš„æºIPã€æºMACã€æ¥å£ã€VLANä¿¡æ¯å’Œç»‘å®šè¡¨çš„ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¿¡æ¯åŒ¹é…ï¼Œè¡¨æ˜æ˜¯åˆæ³•ç”¨æˆ·ï¼Œåˆ™å…è®¸æ­¤æŠ¥æ–‡æ­£å¸¸è½¬å‘ï¼Œå¦åˆ™è®¤ä¸ºæ˜¯æ”»å‡»æŠ¥æ–‡ï¼Œå¹¶ä¸¢å¼ƒè¯¥IPæŠ¥æ–‡ã€‚&lt;code&gt;ç”¨æ¥é˜²æ­¢å¯¹æºIPè¿›è¡Œæ”»å‡»çš„è¡Œä¸º&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1618197540704.png&#34; alt=&#34;IPæºæ”»å‡»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸­é—´äººæ”»å‡»å‘é€çš„æŠ¥æ–‡ä¸­ä¿®æ”¹çš„æ˜¯MACåœ°å€ï¼Œç»™æœåŠ¡å™¨å‘çš„æŠ¥æ–‡çš„IPæ˜¯å®¢æˆ·ç«¯çš„ï¼Œç»™å®¢æˆ·ç«¯å‘çš„IPæ˜¯æœåŠ¡å™¨çš„ï¼Œä»è€Œè¾¾åˆ°åŒå‘æ¬ºéª—çš„ç›®çš„ï¼Œå½±å“ç»ˆç«¯å’ŒæœåŠ¡å™¨çš„ARPè¡¨é¡¹ï¼Œå¯¼è‡´è¢«æ”»å‡»è€…å’ŒæœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æ•°æ®è¢«è½¬å‘åˆ°ä¸­é—´äººï¼›IPæºæ”»å‡»åŒæ—¶ä¿®æ”¹æŠ¥æ–‡ä¸­çš„macå’ŒIPä¸ºè¢«æ”»å‡»è€…çš„ï¼Œå½±å“çš„æ˜¯äº¤æ¢æœºçš„å‡ºæ¥å£ï¼Œå¯¼è‡´æŠ¥æ–‡ä¸èƒ½è½¬å‘ç»™è¢«æ”»å‡»è€…&lt;/p&gt;
&lt;h4 id=&#34;3-é¥¿æ­»æ”»å‡»&#34;&gt;3. é¥¿æ­»æ”»å‡»&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”»å‡»åŸç†&lt;/strong&gt;ï¼šåœ¨é¥¿æ­»æ”»å‡»æ–¹å¼ä¸­ï¼Œæ”»å‡»è€…&lt;strong&gt;ä¸æ–­å˜æ¢ç‰©ç†åœ°å€&lt;/strong&gt;ï¼Œå°è¯•ç”³è¯·åœ°å€æ± ä¸­æ‰€æœ‰çš„IP åœ°å€ï¼Œç›´åˆ°&lt;strong&gt;è€—å°½DHCP Serveråœ°å€æ± ä¸­çš„åœ°å€&lt;/strong&gt;ï¼Œå¯¼è‡´å…¶ä»–æ­£å¸¸ç”¨æˆ·æ— æ³•è·å¾—åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šé€šè¿‡MACåœ°å€é™åˆ¶åŠŸèƒ½å¯ä»¥é˜²æ­¢é¥¿æ­»æ”»å‡»ã€‚é€šè¿‡é™åˆ¶äº¤æ¢æœºæ¥å£ä¸Šå…è®¸å­¦ä¹ åˆ°çš„æœ€å¤šMAC åœ°å€æ•°ç›®ï¼Œé˜²æ­¢ç”¨æˆ·é€šè¿‡å˜æ¢MACåœ°å€ï¼Œå¤§é‡å‘é€DHCPè¯·æ±‚ï¼ŒåŒæ—¶ä¹Ÿé™åˆ¶äº†ä¸€ä¸ªæ¥å£ä¸Šçš„ç”¨æˆ·æ•°ç›®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;4-æ”¹å˜chaddrå€¼å®¢æˆ·ç«¯ç‰©ç†åœ°å€çš„é¥¿æ­»æ”»å‡»&#34;&gt;4. æ”¹å˜CHADDRå€¼ï¼ˆå®¢æˆ·ç«¯ç‰©ç†åœ°å€ï¼‰çš„é¥¿æ­»æ”»å‡»&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”»å‡»åŸç†&lt;/strong&gt;ï¼šåœ¨è¿™ç§æ”»å‡»æ–¹å¼ä¸­ï¼Œå¦‚æœæ”»å‡»è€…æ”¹å˜çš„ä¸æ˜¯æ•°æ®å¸§å¤´éƒ¨çš„æºMACï¼Œè€Œæ˜¯æ”¹å˜DHCPæŠ¥æ–‡ä¸­çš„CHADDRï¼ˆClient Hardware Addressï¼‰å€¼æ¥ä¸æ–­ç”³è¯·IPåœ°å€ï¼Œè€Œäº¤æ¢æœºä»…æ ¹æ®æ•°æ®å¸§å¤´éƒ¨çš„æºMACæ¥åˆ¤æ–­è¯¥æŠ¥æ–‡æ˜¯å¦åˆæ³•ï¼Œé‚£ä¹ˆMACåœ°å€é™åˆ¶æ–¹æ¡ˆä¸èƒ½èµ·ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šå¯ä»¥ä½¿ç”¨DHCP Snooping&lt;strong&gt;æ£€æŸ¥REQUESTæŠ¥æ–‡ä¸­CHADDRå­—æ®µ&lt;/strong&gt;çš„åŠŸèƒ½ã€‚&lt;strong&gt;å¦‚æœè¯¥å­—æ®µè·Ÿæ•°æ®å¸§å¤´éƒ¨çš„æºMACç›¸åŒ¹é…ï¼Œä¾¿è½¬å‘æŠ¥æ–‡&lt;/strong&gt;ï¼›å¦åˆ™ï¼Œä¸¢å¼ƒæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;5-arpæ”»å‡»åŸç†&#34;&gt;5. ARPæ”»å‡»åŸç†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»æ–¹å¼&lt;/strong&gt;ï¼šæœ‰é’ˆå¯¹ä¸»æœºçš„ï¼Œä¹Ÿæœ‰é’ˆå¯¹ç½‘å…³çš„ï¼›æœ‰åœ°å€æ¬ºéª—å‹çš„ï¼Œ ä¹Ÿæœ‰é‡è›®æ”»å‡»å‹çš„ï¼›æœ‰æ¥è‡ªç—…æ¯’çš„æ”»å‡»ï¼Œä¹Ÿæœ‰æ¥è‡ªä½¿ç”¨éæ³•è½¯ä»¶çš„äººä¸ºæ”»å‡»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»æ ¹æº&lt;/strong&gt;ï¼šARPåè®®æœ¬èº«è¿‡äºç®€å•å’Œå¼€æ”¾ï¼Œæ²¡æœ‰ä»»ä½•çš„å®‰å…¨æ‰‹æ®µ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»å±å®³&lt;/strong&gt;ï¼šARPåœ°å€æ¬ºéª—æ”»å‡»ä¸€èˆ¬é’ˆå¯¹ä¸ªåˆ«æˆ–ä¸€å®šèŒƒå›´å†…çš„ä¸»æœºè¿›è¡Œï¼Œå±å®³ç›¸å¯¹è¾ƒå°ã€‚ä½†é’ˆå¯¹ç½‘å…³è®¾å¤‡çš„å¤§æµé‡ARP DDOSæ”»å‡»ï¼Œç”±äºå…¶ç½‘ç»œä½ç½®çš„ç‰¹æ®Šæ€§ï¼Œå°†é€ æˆå¤§é¢ç§¯ç”¨æˆ·â€œæ‰çº¿â€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼šåœ¨åº”ç”¨DHCPæœåŠ¡å™¨çš„ç»„ç½‘ç¯å¢ƒä¸‹ï¼Œ å»ºç«‹å¯ä¿¡ç«¯å£ï¼ˆtrust Portï¼‰ï¼Œé€šè¿‡ç›‘æ§å¯ä¿¡ç«¯å£çš„DHCPæŠ¥æ–‡è·å¾—IP/MACåœ°å€ç»‘å®šè¡¨ï¼Œè¿‡æ»¤æ‰æ‰€æœ‰ä¸åŒ¹é…çš„IP/ARPæŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ftp&#34;&gt;FTP&lt;/h1&gt;
&lt;p&gt;ä»…åŸºäºTCPçš„æœåŠ¡ï¼Œä¸æ”¯æŒUDPï¼Œç«¯å£21ï¼ˆæ§åˆ¶ï¼‰å’Œ20ï¼ˆä¸»åŠ¨æ¨¡å¼ä¸‹æœåŠ¡ç«¯æ•°æ®ä¼ è¾“ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;å·¥ä½œæ–¹å¼&#34;&gt;å·¥ä½œæ–¹å¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¸»åŠ¨å’Œè¢«åŠ¨æ˜¯é’ˆå¯¹æœåŠ¡å™¨æ¥è¯´çš„ï¼Œä½†æ˜¯è®¾ç½®æ˜¯åœ¨å®¢æˆ·ç«¯è®¾ç½®ï¼Œä¸¤è€…çš„åŒºåˆ«åœ¨äºæ•°æ®è¿æ¥æ˜¯ç”±æœåŠ¡å™¨å‘èµ·è¿˜æ˜¯ç”±å®¢æˆ·ç«¯å‘èµ·&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»åŠ¨æ¨¡å¼ï¼šPORTæ–¹å¼ï¼ŒStandardï¼ˆé»˜è®¤æ¨¡å¼ï¼‰&lt;br&gt;
é¦–å…ˆå®¢æˆ·ç«¯ï¼ˆä»»æ„ä¸€ä¸ªéç‰¹æ®Šç«¯å£&amp;gt;1024ï¼Œä¾‹å¦‚Nï¼‰ä¸»åŠ¨ä¸æœåŠ¡å™¨çš„21ç«¯å£å»ºç«‹è¿æ¥ï¼Œç„¶åæœåŠ¡å™¨ä½¿ç”¨ä»»æ„ç«¯å£&lt;strong&gt;ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„20ç«¯å£&lt;/strong&gt;&lt;code&gt;å³ç”±æœåŠ¡å™¨ä¸»åŠ¨å‘èµ·æ•°æ®è¿æ¥&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¢«åŠ¨æ¨¡å¼ï¼šPASVæ–¹å¼ï¼ŒPassive&lt;br&gt;
é¦–å…ˆå®¢æˆ·ç«¯ä¸»åŠ¨ä¸æœåŠ¡å™¨çš„21ç«¯å£å»ºç«‹è¿æ¥ï¼Œç„¶åæœåŠ¡å™¨éšæœºå¼€æ”¾ä¸€ä¸ªç«¯å£ï¼ˆ&amp;gt;1024ï¼‰ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ¥è¿æ¥æœ¬ç«¯å£ï¼Œæœ€åå®¢æˆ·ç«¯å»è¿æ¥é‚£ä¸ªç«¯å£è¿›è¡Œæ•°æ®ä¼ è¾“&lt;code&gt;å³æœåŠ¡ç«¯çš„æ•°æ®è¿æ¥æ˜¯è¢«åŠ¨çš„ï¼Œç”±å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·æ•°æ®è¿æ¥ï¼ŒæœåŠ¡ç«¯é€šè¿‡æ§åˆ¶è¿æ¥å‘Šè¯‰å®¢æˆ·ç«¯ç”¨æ¥ä¼ è¾“æ•°æ®çš„ç«¯å£&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¸­é—´æœ‰é˜²ç«å¢™ï¼Œå»ºè®®æœåŠ¡å™¨ä½¿ç”¨è¢«åŠ¨æ¨¡å¼&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ftpè¿æ¥çš„å»ºç«‹&#34;&gt;FTPè¿æ¥çš„å»ºç«‹&lt;/h2&gt;
&lt;p&gt;FTPé‡‡ç”¨2ä¸ªTCPè¿æ¥æ¥ä¼ è¾“æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ§åˆ¶è¿æ¥ï¼šè¿æ¥æ§åˆ¶ç«¯å£ï¼Œä¼ è¾“æ§åˆ¶å‘½ä»¤&lt;/li&gt;
&lt;li&gt;æ•°æ®è¿æ¥ï¼šè¿æ¥æ•°æ®ç«¯å£ï¼Œåœ¨æ§åˆ¶è¿æ¥å»ºç«‹åï¼Œæ•°æ®è¿æ¥é€šè¿‡æ§åˆ¶ç«¯å£çš„å‘½ä»¤å»ºç«‹èµ·è¿æ¥ï¼Œè¿›è¡Œæ•°æ®çš„ä¼ è¾“&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-ä¸»åŠ¨æ¨¡å¼&#34;&gt;1. ä¸»åŠ¨æ¨¡å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613484914410.png&#34; alt=&#34;ä¸»åŠ¨æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨ç›‘å¬21ç«¯å£&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„21ç«¯å£å‘èµ·æ§åˆ¶è¿æ¥çš„å»ºç«‹è¯·æ±‚&lt;sub&gt;å®¢æˆ·ç«¯ç«¯å£ä¸ºX(&amp;gt;1024)ï¼Œç„¶åç›‘å¬Xç«¯å£&lt;/sub&gt;&lt;code&gt;SYN&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨21ç«¯å£å“åº”è¿æ¥&lt;sub&gt;æœåŠ¡å™¨è¿æ¥çš„æ˜¯å®¢æˆ·ç«¯çš„Xç«¯å£&lt;/sub&gt;&lt;code&gt;SYN+ACK&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å“åº”&lt;sub&gt;ä½¿ç”¨Xç«¯å£&lt;/sub&gt;æœåŠ¡å™¨21ç«¯å£ï¼Œæ§åˆ¶è¿æ¥å»ºç«‹&lt;sub&gt;æ¯60ç§’å‘é€keepliveæŠ¥æ–‡ä¿æŒæ§åˆ¶å±‚é¢è¿æ¥&lt;/sub&gt;&lt;code&gt;ACKï¼Œæ§åˆ¶å±‚é¢3æ¬¡æ¡æ‰‹ï¼Œè¿æ¥å»ºç«‹æˆåŠŸã€‚å¦‚æœæœ‰è®¤è¯åˆ™è¿›è¡Œè®¤è¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯é€šè¿‡æ§åˆ¶è¿æ¥å‘é€PORTå‘½ä»¤&lt;sub&gt;ä½¿ç”¨Xç«¯å£&lt;/sub&gt;ï¼Œå°†&lt;strong&gt;å®¢æˆ·ç«¯æ•°æ®è¿æ¥çš„ä¸´æ—¶ç«¯å£å·X+1&lt;/strong&gt;å‘Šè¯‰æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨çš„20å·ç«¯å£ä¸å®¢æˆ·ç«¯å»ºç«‹èµ·æ•°æ®è¿æ¥&lt;code&gt;ä¹Ÿéœ€è¦3æ¬¡æ¡æ‰‹&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ä¼ è¾“å®Œæ•°æ®ä¹‹åï¼Œæ•°æ®è¿æ¥ä¼šæ–­å¼€ï¼Œä½†æ˜¯æ§åˆ¶å±‚é¢çš„è¿æ¥ä¸ä¼šæ–­å¼€ã€‚å¦‚æœå†æ¬¡è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œåˆ™é‡æ–°é€šè¿‡PORTå‘½ä»¤å‘é€ä¸´æ—¶ç«¯å£å·X+2ï¼Œå³æ¯æ¬¡æ•°æ®ä¼ è¾“éƒ½éœ€è¦æ§åˆ¶å±‚é¢å‘é€æ•°æ®ç«¯å£å·ï¼Œä¸”ç«¯å£å·é€’å¢&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-è¢«åŠ¨æ¨¡å¼&#34;&gt;2. è¢«åŠ¨æ¨¡å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613486174049.png&#34; alt=&#34;è¢«åŠ¨æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨ç›‘å¬21ç«¯å£&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘èµ·æ§åˆ¶è¿æ¥çš„å»ºç«‹è¯·æ±‚&lt;sub&gt;ä½¿ç”¨ç«¯å£X&lt;/sub&gt;ï¼ŒæœåŠ¡å™¨å“åº”è¿æ¥ï¼Œæ§åˆ¶è¿æ¥å»ºç«‹&lt;code&gt;3æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯é€šè¿‡æ§åˆ¶è¿æ¥å‘é€å‘½ä»¤å­—PASVï¼Œå‘ŠçŸ¥æœåŠ¡å™¨å¤„äºè¢«åŠ¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨å›åº”ï¼Œå°†&lt;strong&gt;æœåŠ¡å™¨æ•°æ®è¿æ¥çš„ä¸´æ—¶ç«¯å£å·Y&lt;/strong&gt;å‘Šè¯‰å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ä¸»åŠ¨&lt;sub&gt;å®¢æˆ·ç«¯ä½¿ç”¨ç«¯å£X+1&lt;/sub&gt;è¿æ¥æœåŠ¡å™¨çš„ä¸´æ—¶æ•°æ®ç«¯å£Yè¿›è¡Œæ•°æ®ä¼ è¾“&lt;code&gt;æ•°æ®è¿æ¥ä¹Ÿæ˜¯3æ¬¡æ¡æ‰‹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ä¸»åŠ¨æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡å™¨çš„æ•°æ®ç«¯å£å·ä¸º20ï¼Œå®¢æˆ·ç«¯çš„ç«¯å£å·é€’å¢ï¼›è¢«åŠ¨æ¨¡å¼ä¸‹ï¼ŒæœåŠ¡å™¨çš„æ•°æ®ç«¯å£å·éšæœºï¼Œå®¢æˆ·ç«¯çš„ç«¯å£å·é€’å¢&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ä¸»åŠ¨æ¨¡å¼å’Œè¢«åŠ¨æ¨¡å¼æ§åˆ¶è¿æ¥å’Œæ•°æ®è¿æ¥å‡æ˜¯3æ¬¡æ¡æ‰‹ï¼Œæ²¡æœ‰åŒºåˆ«ï¼Œä¸»è¦åŒºåˆ«åœ¨äºæ§åˆ¶è¿æ¥å»ºç«‹ä¹‹ååå•†æœåŠ¡å™¨ä½¿ç”¨æ•°æ®ç«¯å£å·ä¸ºå¤šå°‘æ—¶æœ‰åŒºåˆ«ï¼Œä¸»åŠ¨æ¨¡å¼å›ºå®š20ï¼Œè¢«åŠ¨æ¨¡å¼éšæœº&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…³äºé˜²ç«å¢™&#34;&gt;å…³äºé˜²ç«å¢™&lt;/h2&gt;
&lt;p&gt;ä¸»åŠ¨æ¨¡å¼&lt;strong&gt;å¯¹æœåŠ¡å™¨çš„ç®¡ç†æœ‰åˆ©ï¼Œä½†å¯¹å®¢æˆ·ç«¯çš„ç®¡ç†ä¸åˆ©&lt;/strong&gt;ã€‚å› ä¸ºæœåŠ¡å™¨ä¼å›¾ä¸å®¢æˆ·ç«¯çš„é«˜ä½éšæœºç«¯å£å»ºç«‹è¿æ¥ï¼Œè€Œè¿™ä¸ªç«¯å£å¾ˆæœ‰å¯èƒ½&lt;strong&gt;è¢«å®¢æˆ·ç«¯çš„é˜²ç«å¢™é˜»å¡æ‰&lt;/strong&gt;ï¼Œå› æ­¤ä¸»åŠ¨æ¨¡å¼ä¸‹è¦è®¾ç½®å®¢æˆ·ç«¯çš„é˜²ç«å¢™ã€‚&lt;br&gt;
è¢«åŠ¨æ¨¡å¼&lt;strong&gt;å¯¹å®¢æˆ·ç«¯çš„ç®¡ç†æœ‰åˆ©ï¼Œä½†å¯¹æœåŠ¡å™¨ç«¯çš„ç®¡ç†ä¸åˆ©&lt;/strong&gt;ã€‚å› ä¸ºå®¢æˆ·ç«¯è¦ä¸æœåŠ¡å™¨ç«¯å»ºç«‹ä¸¤ä¸ªè¿æ¥ï¼Œå…¶ä¸­ä¸€ä¸ªè¿åˆ°ä¸€ä¸ªé«˜ä½éšæœºç«¯å£ï¼Œè€Œè¿™ä¸ªç«¯å£å¾ˆæœ‰å¯èƒ½&lt;strong&gt;è¢«æœåŠ¡å™¨ç«¯çš„é˜²ç«å¢™é˜»å¡æ‰&lt;/strong&gt;ï¼Œå› æ­¤è¢«åŠ¨æ¨¡å¼ä¸‹è¦è®¾ç½®æœåŠ¡ç«¯çš„é˜²ç«å¢™ã€‚&lt;code&gt;æœåŠ¡ç«¯å¯ä»¥æŒ‡å®šç«¯å£èŒƒå›´æ¥å‡å°æœåŠ¡å™¨é«˜ä½ç«¯å£çš„æš´éœ²ã€‚è¿™æ ·ï¼Œä¸åœ¨è¿™ä¸ªèŒƒå›´çš„ä»»ä½•ç«¯å£ä¼šè¢«æœåŠ¡å™¨çš„é˜²ç«å¢™é˜»å¡ï¼Œè™½ç„¶æ²¡æœ‰æ¶ˆé™¤æ‰€æœ‰é’ˆå¯¹æœåŠ¡å™¨çš„å±é™©ï¼Œä½†å®ƒå¤§å¤§å‡å°‘äº†å±é™©&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ALG&lt;/strong&gt;ï¼šåº”ç”¨å±‚ç½‘å…³ï¼Œä¹Ÿå«åº”ç”¨å±‚é˜²ç«å¢™æˆ–åº”ç”¨å±‚ä»£ç†é˜²ç«å¢™&lt;br&gt;
å‡è®¾å®¢æˆ·ç«¯åœ¨ç§ç½‘ï¼ŒæœåŠ¡å™¨åœ¨å…¬ç½‘ï¼Œä¼šæœ‰ä»€ä¹ˆæƒ…å†µï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶è¿æ¥å»ºç«‹&lt;/strong&gt;&lt;br&gt;
å®¢æˆ·ç«¯ä¹‹åæœ‰é˜²ç«å¢™ï¼Œé»˜è®¤æ˜¯æœ‰NATçš„åŠŸèƒ½ï¼ŒNATæœ€å¤šå·¥ä½œåœ¨4å±‚ï¼Œ TCPä»¥ä¸Šçš„éƒ½ä¸èƒ½è¯†åˆ«äº†ï¼Œé˜²ç«å¢™å¯ä»¥æŠŠç§ç½‘çš„æºåœ°å€è·Ÿç«¯å£å·è½¬å˜æˆå…¬ç½‘çš„ï¼Œç„¶åè·Ÿå…¬ç½‘çš„æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œæ‰€ä»¥&lt;strong&gt;æ§åˆ¶è¿æ¥å»ºç«‹æ²¡æœ‰é—®é¢˜&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®è¿æ¥å»ºç«‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;2.1 ä¸»åŠ¨æ¨¡å¼ï¼š&lt;br&gt;
é€šè¿‡Portæ¶ˆæ¯å‘é€ç»™æœåŠ¡å™¨çš„æ˜¯ç§ç½‘çš„IPå’Œç«¯å£ï¼Œè¿™ä¸ªIPå’Œç«¯å£æ²¡æœ‰åšNATæ˜ å°„ï¼Œæ‰€ä»¥æœåŠ¡å™¨æ— æ³•è¿æ¥å†…ç½‘å®¢æˆ·ç«¯ã€‚ä½†æ˜¯åœ¨é˜²ç«å¢™ä¸Šå¼€å¯NATçš„ALGå&lt;code&gt;nat alg ftp enable&lt;/code&gt;ï¼Œå°±å¯ä»¥è¯†åˆ«Portæ¶ˆæ¯çš„æºåœ°å€å’Œæºç«¯å£å·ï¼Œä¼šå°†è¯¥ç«¯å£å·æ·»åŠ åˆ°NATæ˜ å°„è¡¨ä¸­ï¼ŒæœåŠ¡ç«¯ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯å°±å¯ä»¥æˆåŠŸå»ºç«‹æ•°æ®è¿æ¥&lt;br&gt;
2. 2 è¢«åŠ¨æ¨¡å¼ï¼š&lt;br&gt;
è¢«åŠ¨æ¨¡å¼ä¸éœ€è¦å¼€å¯ALGï¼Œå› ä¸ºæœåŠ¡å™¨æ˜¯é€šè¿‡æ§åˆ¶è¿æ¥å‘é€çš„æœåŠ¡å™¨åœ°å€å’Œæ•°æ®ç«¯å£ï¼Œç„¶åæ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·è¿æ¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœFTPæœåŠ¡å™¨åœ¨å†…ç½‘ï¼Œå®¢æˆ·ç«¯åœ¨å…¬ç½‘ï¼Œé‚£ä¹ˆæ§åˆ¶è¿æ¥å»ºç«‹æ­£å¸¸ï¼Œä¸»åŠ¨æ¨¡å¼æ•°æ®è¿æ¥ä¹Ÿä¸ä¼šæœ‰é—®é¢˜ï¼ˆå› ä¸ºåœ¨æœåŠ¡å™¨åœ¨é˜²ç«å¢™ä¹‹å†…ä¸»åŠ¨å‘èµ·è¿æ¥ï¼‰&lt;br&gt;
&lt;strong&gt;ä½†æ˜¯è¢«åŠ¨æ¨¡å¼æ•°æ®è¿æ¥ä¼šå‡ºç°é—®é¢˜&lt;/strong&gt;ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨çš„é«˜ä½ç«¯å£ï¼Œè¿™ä¸ªç«¯å£æ²¡æœ‰åœ¨NATæ˜ å°„è¡¨ä¸­ï¼ˆæœåŠ¡ç«¯æ²¡æœ‰é€šè¿‡æ­¤ç«¯å£ä¸»åŠ¨å‘èµ·è¿‡è¿æ¥ï¼Œæ‰€ä»¥ä¸å†NATæ˜ å°„è¡¨ä¸­ï¼‰ï¼Œæˆ–è€…ä¼šè¢«é˜²ç«å¢™è¿‡æ»¤æ‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;snmp&#34;&gt;SNMP&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;SNMPç‰ˆæœ¬åŒ…æ‹¬SNMPv1ã€SNMPv2cã€SNMPv3&lt;/li&gt;
&lt;li&gt;SNMPv1å’ŒSNMPv2c
&lt;ol&gt;
&lt;li&gt;éƒ½æ˜¯ä½¿ç”¨åŸºäºå…±åŒä½“åçš„è®¤è¯ï¼Œå¹¶ä¸”SNMPæ¶ˆæ¯&lt;strong&gt;æœªé‡‡ç”¨åŠ å¯†ä¼ è¾“&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;SNMPv2cåœ¨SNMPv1çš„åŸºç¡€ä¸Šå¢å¼ºçš„åŠŸèƒ½åŒ…æ‹¬ï¼šæ”¯æŒæ›´å¤šçš„æ“ä½œã€æ”¯æŒæ›´å¤šçš„æ•°æ®ç±»å‹ã€æä¾›æ›´ä¸°å¯Œçš„é”™è¯¯å¤„ç†ç å’Œå¤šç§ä¼ è¾“åè®®çš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SNMPv3
&lt;ol&gt;
&lt;li&gt;åŒ…å«SNMPv1ã€SNMPv2æ‰€æœ‰åŠŸèƒ½åœ¨å†…çš„ä½“ç³»æ¡†æ¶&lt;/li&gt;
&lt;li&gt;å¢åŠ åŒ…å«éªŒè¯æœåŠ¡å’ŒåŠ å¯†æœåŠ¡åœ¨å†…çš„å…¨æ–°å®‰å…¨æœºåˆ¶ï¼ŒSNMPv3çš„å®‰å…¨æ€§ä¸»è¦ä½“ç°åœ¨æ•°æ®å®‰å…¨å’Œè®¿é—®æ§åˆ¶ä¸Šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;snmpç®¡ç†æ¨¡å‹&#34;&gt;SNMPç®¡ç†æ¨¡å‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614422046810.png&#34; alt=&#34;ç®¡ç†æ¨¡å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
SNMPç³»ç»ŸåŒ…æ‹¬4éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œç®¡ç†ç³»ç»ŸNMSï¼ˆåä¸ºç½‘ç®¡è½¯ä»¶Esightä½œä¸ºNMSå¯¹è®¾å¤‡è¿›è¡Œç®¡ç†ï¼‰
&lt;ol&gt;
&lt;li&gt;æ˜¯ä¸€ä¸ªé‡‡ç”¨SNMPåè®®å¯¹ç½‘ç»œè®¾å¤‡è¿›è¡Œç®¡ç†/ç›‘è§†çš„ç³»ç»Ÿï¼Œè¿è¡Œåœ¨NMSæœåŠ¡å™¨ä¸Š&lt;/li&gt;
&lt;li&gt;å¯å‘è®¾å¤‡ä¸Šçš„Agentå‘å‡ºè¯·æ±‚ï¼ŒæŸ¥è¯¢æˆ–ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªå…·ä½“çš„å‚æ•°å€¼&lt;/li&gt;
&lt;li&gt;ä¹Ÿå¯ä»¥æ¥æ”¶Agentä¸»åŠ¨å‘é€çš„Trapä¿¡æ¯ï¼Œä»¥è·çŸ¥è¢«ç®¡ç†è®¾å¤‡å½“å‰çš„çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»£ç†è¿›ç¨‹Agent
&lt;ol&gt;
&lt;li&gt;æ˜¯è¢«ç®¡ç†è®¾å¤‡ä¸­çš„ä¸€ä¸ªä»£ç†è¿›ç¨‹ï¼Œç”¨äºç»´æŠ¤è¢«ç®¡ç†è®¾å¤‡çš„ä¿¡æ¯æ•°æ®å¹¶å“åº”æ¥è‡ªNMSçš„è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æ¥æ”¶åˆ°NMSçš„è¯·æ±‚ä¿¡æ¯åï¼Œé€šè¿‡MIBè¡¨å®Œæˆç›¸åº”æŒ‡ä»¤åï¼Œå¹¶æŠŠæ“ä½œç»“æœå“åº”ç»™NMS&lt;/li&gt;
&lt;li&gt;å½“è®¾å¤‡å‘ç”Ÿæ•…éšœæˆ–è€…å…¶å®ƒäº‹ä»¶æ—¶ï¼Œè®¾å¤‡ä¼šé€šè¿‡Agentä¸»åŠ¨å‘é€trapä¿¡æ¯ç»™NMSï¼Œå‘NMSæŠ¥å‘Šè®¾å¤‡å½“å‰çš„çŠ¶æ€å˜åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç®¡ç†ä¿¡æ¯åº“MIB
&lt;ol&gt;
&lt;li&gt;æŒ‡æ˜äº†è¢«ç®¡ç†è®¾å¤‡æ‰€ç»´æŠ¤çš„å˜é‡ï¼ˆå³èƒ½å¤Ÿè¢«AgentæŸ¥è¯¢å’Œè®¾ç½®çš„ä¿¡æ¯ï¼‰çš„æ•°æ®åº“ã€‚MIBåœ¨æ•°æ®åº“ä¸­å®šä¹‰äº†è¢«ç®¡ç†è®¾å¤‡çš„ä¸€ç³»åˆ—å±æ€§ï¼šå¯¹è±¡çš„åç§°ã€å¯¹è±¡çš„çŠ¶æ€ã€å¯¹è±¡çš„è®¿é—®æƒé™å’Œå¯¹è±¡çš„æ•°æ®ç±»å‹ç­‰&lt;/li&gt;
&lt;li&gt;é€šè¿‡MIBï¼Œå¯ä»¥å®Œæˆä»¥ä¸‹åŠŸèƒ½ï¼š
&lt;ol&gt;
&lt;li&gt;Agenté€šè¿‡getæ¶ˆæ¯æŸ¥è¯¢MIBï¼Œå¯ä»¥è·çŸ¥è®¾å¤‡å½“å‰çš„çŠ¶æ€ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;Agenté€šè¿‡setæ¶ˆæ¯ä¿®æ”¹MIBï¼Œå¯ä»¥è®¾ç½®è®¾å¤‡çš„çŠ¶æ€å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¢«ç®¡å¯¹è±¡Management object
&lt;ol&gt;
&lt;li&gt;æ¯ä¸€ä¸ªè®¾å¤‡å¯èƒ½åŒ…å«å¤šä¸ªè¢«ç®¡ç†å¯¹è±¡ï¼Œè¢«ç®¡ç†å¯¹è±¡&lt;strong&gt;å¯ä»¥æ˜¯&lt;/strong&gt;è®¾å¤‡ä¸­çš„&lt;strong&gt;æŸä¸ªç¡¬ä»¶&lt;/strong&gt;ï¼ˆå¦‚ä¸€å—æ¥å£æ¿ï¼‰ï¼Œ&lt;strong&gt;ä¹Ÿå¯ä»¥æ˜¯&lt;/strong&gt;æŸäº›ç¡¬ä»¶ã€è½¯ä»¶ï¼ˆå¦‚è·¯ç”±é€‰æ‹©åè®®ï¼‰åŠå…¶çš„é…ç½®å‚æ•°çš„&lt;strong&gt;é›†åˆ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŠ¥æ–‡&#34;&gt;æŠ¥æ–‡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Agentç›‘å¬UDPç«¯å£161ï¼ŒNMSç›‘å¬UDPç«¯å£162&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614424443820.png&#34; alt=&#34;SNMPv1/SNMPv2c&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç‰ˆæœ¬&lt;/strong&gt;ï¼šè¡¨ç¤ºSNMPçš„ç‰ˆæœ¬ï¼Œv1æŠ¥æ–‡åˆ™å¯¹åº”å­—æ®µå€¼ä¸º0ï¼Œv2cåˆ™ä¸º1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›¢ä½“å&lt;/strong&gt;ï¼šç”¨äºåœ¨Agentä¸NMSä¹‹é—´å®Œæˆè®¤è¯&lt;code&gt;å›¢ä½“ååŒ…æ‹¬â€œå¯è¯»â€å’Œâ€œå¯å†™â€ä¸¤ç§ï¼Œæ‰§è¡ŒGetRequestã€GetNextRequestæ“ä½œæ—¶ï¼Œé‡‡ç”¨â€œå¯è¯»å›¢ä½“åâ€è¿›è¡Œè®¤è¯ï¼›æ‰§è¡ŒSetæ“ä½œæ—¶ï¼Œåˆ™é‡‡ç”¨â€œå¯å†™å›¢ä½“åâ€è®¤è¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;SNMPv1/SNMPv2c &lt;strong&gt;PDU&lt;/strong&gt;ï¼šåŒ…å«PDUç±»å‹ã€è¯·æ±‚æ ‡è¯†ç¬¦ã€å˜é‡ç»‘å®šåˆ—è¡¨ç­‰ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SNMPv1/SNMPv2cè§„å®šäº†&lt;strong&gt;7ç§æ“ä½œç±»å‹&lt;/strong&gt;ï¼Œç”¨æ¥å®ŒæˆNMSå’ŒAgentä¹‹é—´çš„ä¿¡æ¯äº¤æ¢ï¼š&lt;br&gt;
&lt;code&gt;SNMPv1ç‰ˆæœ¬ä¸æ”¯æŒGetBulkå’ŒInformæ“ä½œ&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Get&lt;/strong&gt;ï¼šç”¨äºæŸ¥è¯¢ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GetNext&lt;/strong&gt;ï¼šæŒ‰ç…§å­—å…¸é¡ºåºæå–ä¸‹ä¸€ä¸ªå‚æ•°å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Set&lt;/strong&gt;ï¼šè®¾ç½®Agentçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Response&lt;/strong&gt;ï¼šGetRequestã€GetNextRequestã€SetRequestå’ŒGetBulkRequestå››ç§æ“ä½œçš„å“åº”æ“ä½œã€‚Agentæ¥æ”¶åˆ°æ¥è‡ªNMSçš„Get/SetæŒ‡ä»¤åï¼Œé€šè¿‡MIBå®Œæˆç›¸åº”çš„æŸ¥è¯¢/ä¿®æ”¹æ“ä½œï¼Œç„¶ååˆ©ç”¨Responseæ“ä½œå°†ä¿¡æ¯å›åº”ç»™NMS&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Trap&lt;/strong&gt;ï¼šå½“è¢«ç®¡ç†è®¾å¤‡è¾¾åˆ°å‘Šè­¦çš„è§¦å‘æ¡ä»¶æ—¶ï¼Œä¼šé€šè¿‡Agent&lt;strong&gt;ä¸»åŠ¨å‘&lt;/strong&gt;NMSå‘é€Trapæ¶ˆæ¯ï¼Œå‘ŠçŸ¥è®¾å¤‡å‡ºç°çš„å¼‚å¸¸æƒ…å†µ&lt;code&gt;é»˜è®¤å€¼ï¼ŒTrapæŠ¥æ–‡çš„æ¶ˆæ¯é˜Ÿåˆ—é•¿åº¦ä¸º100ï¼ŒTrapæŠ¥æ–‡çš„ç”Ÿå­˜æ—¶é—´ä¸º120ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;GetBulk&lt;/strong&gt;ï¼šNMSå¯¹è¢«ç®¡ç†è®¾å¤‡çš„ä¿¡æ¯ç¾¤æŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Inform&lt;/strong&gt;ï¼šè¢«ç®¡ç†è®¾å¤‡&lt;strong&gt;ä¸»åŠ¨å‘&lt;/strong&gt;NMSä¸»åŠ¨å‘é€å‘Šè­¦ï¼Œä¸Trapå‘Šè­¦ä¸åŒçš„æ˜¯ï¼Œè¢«ç®¡ç†è®¾å¤‡å‘é€Informå‘Šè­¦åï¼Œéœ€è¦NMSå›å¤InformResponseæ¥è¿›è¡Œç¡®è®¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å·¥ä½œåŸç†&#34;&gt;å·¥ä½œåŸç†&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614430231387.png&#34; alt=&#34;å·¥ä½œåŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;NMSï¼šå‘Agentå‘é€Getã€GetNextæˆ–Setè¯·æ±‚æŠ¥æ–‡æ—¶ï¼ŒæŠ¥æ–‡ä¸­å„å­—æ®µçš„è®¾ç½®å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;ç‰ˆæœ¬å·ä¸ºæ‰€ä½¿ç”¨çš„SNMPç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;å›¢ä½“å
&lt;ol&gt;
&lt;li&gt;å½“è¯·æ±‚æŠ¥æ–‡ä¸ºGetå’ŒGetNextæ—¶ä¸ºpublic&lt;/li&gt;
&lt;li&gt;å½“è¯·æ±‚æŠ¥æ–‡ä¸ºsetæ—¶ä¸ºprivate&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PDUï¼šPDUç±»å‹ä¸ºGetã€GetNextæˆ–Setç±»å‹ï¼Œç»‘å®šå˜é‡å¡«å…¥MIBèŠ‚ç‚¹åsysContact&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Agentï¼šé¦–å…ˆå¯¹æŠ¥æ–‡ä¸­æºå¸¦ç‰ˆæœ¬å·å’Œå›¢ä½“åè¿›è¡Œè®¤è¯ï¼Œè®¤è¯æˆåŠŸå
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯getæˆ–getnextæ“ä½œï¼ŒAgentæ ¹æ®è¯·æ±‚æŸ¥è¯¢MIBä¸­çš„sysContactèŠ‚ç‚¹ï¼Œå¾—åˆ°sysContactçš„å€¼å¹¶å°†å…¶å°è£…åˆ°ResponseæŠ¥æ–‡ä¸­çš„PDUï¼Œå‘NMSå‘é€å“åº”&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯setæ“ä½œï¼ŒAgentæ ¹æ®è¯·æ±‚è®¾ç½®ç®¡ç†å˜é‡åœ¨ç®¡ç†ä¿¡æ¯åº“MIBä¸­å¯¹åº”çš„èŠ‚ç‚¹ï¼Œè®¾ç½®æˆåŠŸåå‘&lt;br&gt;
NMSå‘é€å“åº”&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;SNMPv2cæ–°å¢çš„æ“ä½œ&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614441158918.png&#34; alt=&#34;GetBulkå’ŒInform&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GetBulkæ“ä½œ&lt;br&gt;
åŸºäºGetNextå®ç°ï¼Œç›¸å½“äºè¿ç»­æ‰§è¡Œå¤šæ¬¡GetNextæ“ä½œï¼Œåœ¨NMSä¸Šå¯ä»¥è®¾ç½®è¢«ç®¡ç†è®¾å¤‡åœ¨ä¸€æ¬¡GetBulkæŠ¥æ–‡äº¤äº’æ—¶ï¼Œæ‰§è¡ŒGetNextæ“ä½œçš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;Informæ“ä½œ&lt;br&gt;
Informæ“ä½œä¹Ÿæ˜¯è¢«ç®¡ç†è®¾å¤‡å‘NMSä¸»åŠ¨å‘é€å‘Šè­¦ï¼Œä¸trapå‘Šè­¦ä¸åŒçš„æ˜¯ï¼Œè¢«ç®¡ç†è®¾å¤‡å‘é€Informå‘Šè­¦åï¼Œ&lt;strong&gt;éœ€è¦NMSè¿›è¡Œæ¥æ”¶ç¡®è®¤&lt;/strong&gt;&lt;sub&gt;åŸå› 1&lt;/sub&gt;ã€‚å¦‚æœè¢«ç®¡è®¾å¤‡&lt;strong&gt;æ²¡æœ‰æ”¶åˆ°ç¡®è®¤&lt;/strong&gt;ä¿¡æ¯åˆ™å°†å‘Šè­¦æš‚æ—¶&lt;strong&gt;ä¿å­˜åœ¨Informç¼“å­˜ä¸­ï¼Œç„¶åé‡å¤å‘é€&lt;/strong&gt;&lt;sub&gt;åŸå› 2&lt;/sub&gt;ï¼Œç›´åˆ°NMSç¡®è®¤æ”¶åˆ°è¯¥å‘Šè­¦æˆ–é‡ä¼ è¾¾åˆ°æœ€å¤§æ¬¡æ•°ï¼Œå¹¶ä¸”è¢«ç®¡è®¾å¤‡ä¸Šä¼šç”Ÿæˆç›¸åº”çš„å‘Šè­¦æ—¥å¿—ï¼Œ    å› æ­¤ï¼Œä½¿ç”¨Informå‘Šè­¦å¯èƒ½ä¼šå ç”¨è¾ƒå¤šçš„ç³»ç»Ÿèµ„æº&lt;code&gt;æ‰€ä»¥ï¼Œç°ç½‘ä¸­å¸¸ç”¨trapï¼Œå¾ˆå°‘ç”¨Inform&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;snmpv3&#34;&gt;SNMPv3&lt;/h2&gt;
&lt;h3 id=&#34;æŠ¥æ–‡-2&#34;&gt;æŠ¥æ–‡&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614442220218.png&#34; alt=&#34;SNMPv3&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬ï¼šSNMPv3å¯¹åº”å­—æ®µå€¼ä¸º2&lt;/li&gt;
&lt;li&gt;æŠ¥å¤´æ•°æ®ï¼šä¸»è¦åŒ…å«æ¶ˆæ¯&lt;strong&gt;å‘é€è€…æ‰€èƒ½æ”¯æŒçš„æœ€å¤§æ¶ˆæ¯å°ºå¯¸ã€æ¶ˆæ¯é‡‡ç”¨çš„å®‰å…¨æ¨¡å¼&lt;/strong&gt;ç­‰æè¿°å†…å®¹&lt;/li&gt;
&lt;li&gt;å®‰å…¨å‚æ•°ï¼šåŒ…å«SNMPå®ä½“å¼•æ“çš„ç›¸å…³ä¿¡æ¯ã€&lt;strong&gt;ç”¨æˆ·åã€è®¤è¯å‚æ•°ã€åŠ å¯†å‚æ•°&lt;/strong&gt;ç­‰å®‰å…¨ä¿¡æ¯&lt;code&gt;v3çš„å®ç°åŸç†å’Œv1/v2cåŸºæœ¬ä¸€è‡´ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯v3å¢åŠ äº†èº«ä»½éªŒè¯å’ŒåŠ å¯†å¤„ç†&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;èº«ä»½éªŒè¯ï¼šèº«ä»½éªŒè¯æ˜¯æŒ‡Agentæˆ–NMSæ¥åˆ°ä¿¡æ¯æ—¶é¦–å…ˆå¿…é¡»&lt;strong&gt;ç¡®è®¤ä¿¡æ¯æ˜¯å¦æ¥è‡ªæœ‰æƒé™çš„NMSæˆ–Agentå¹¶ä¸”ä¿¡æ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æœªè¢«æ”¹å˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŠ å¯†ï¼šéœ€è¦ç®¡ç†ç«¯å’Œä»£ç†å…±äº«åŒä¸€å¯†é’¥æ¥å®ç°ä¿¡æ¯çš„åŠ å¯†å’Œè§£å¯†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;snmpå„ç‰ˆæœ¬æ¯”è¾ƒ&#34;&gt;SNMPå„ç‰ˆæœ¬æ¯”è¾ƒ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614443062868.png&#34; alt=&#34;SNMPå„ç‰ˆæœ¬æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;snmpä¸»æœºæ— æ³•ä¸ç½‘ç®¡è¿æ¥æ’é”™&#34;&gt;SNMPä¸»æœºæ— æ³•ä¸ç½‘ç®¡è¿æ¥æ’é”™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥ä¸»æœºå’Œç½‘ç®¡å‘é€è¯·æ±‚æŠ¥æ–‡ç”¨çš„SNMP&lt;strong&gt;ç‰ˆæœ¬&lt;/strong&gt;æ˜¯å¦ç›¸åŒ&lt;code&gt;display snmp-agent sys-info&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ä¸»æœºé…ç½®çš„&lt;strong&gt;å›¢ä½“å&lt;/strong&gt;&lt;code&gt;display snmp-agent commnity&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯¹snmpv3æ¥è¯´ï¼Œè¿˜è¦æ£€æŸ¥snmp&lt;strong&gt;ç”¨æˆ·ç»„å’Œç”¨æˆ·ä¿¡æ¯é…ç½®&lt;/strong&gt;&lt;code&gt;display snmp-agent group&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;vrrpè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®&#34;&gt;VRRPï¼ˆè™šæ‹Ÿè·¯ç”±å†—ä½™åè®®ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;åŸºæœ¬æ¦‚è¿°&#34;&gt;åŸºæœ¬æ¦‚è¿°&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614525687320.png&#34; alt=&#34;åŸºæœ¬æ¦‚è¿°&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;èƒ½å¤Ÿåœ¨ä¸æ”¹å˜ç»„ç½‘çš„æƒ…å†µä¸‹ï¼Œå°†å¤šå°è·¯ç”±å™¨è™šæ‹Ÿæˆä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å¤‡ä»½ï¼ˆçƒ­å¤‡ï¼‰ï¼Œé€šè¿‡é…ç½®è™šæ‹Ÿè·¯ç”±çš„IPåœ°å€ä¸ºé»˜è®¤ç½‘å…³ï¼Œå®ç°ç½‘å…³çš„å¤‡ä»½&lt;/li&gt;
&lt;li&gt;VRRPv2ä»…é€‚åº”IPv4ç½‘ç»œï¼ŒVRRPv3é€‚åº”IPv4å’ŒIPv6ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;åªæœ‰ä¸€ç§æŠ¥æ–‡ï¼ŒAdvertisementæŠ¥æ–‡&lt;sub&gt;å°†Masterè®¾å¤‡çš„ä¼˜å…ˆçº§å’ŒçŠ¶æ€é€šå‘Šç»™åŒä¸€å¤‡ä»½ç»„çš„æ‰€æœ‰Backupè®¾å¤‡&lt;/sub&gt;ï¼Œå…¶æºåœ°å€ä¸ºå‘é€æŠ¥æ–‡æ¥å£çš„ä¸»IPåœ°å€ï¼ˆä¸æ˜¯è™šæ‹ŸIPåœ°å€ï¼‰ï¼Œç›®çš„IPåœ°å€æ—¶224.0.0.18ï¼Œç›®çš„MACåœ°å€æ˜¯00-00-5e-00-01/02-xxï¼Œåè®®å·ä¸º112ï¼ŒTTLæ˜¯255ï¼Œå±äº3å±‚åè®®&lt;/li&gt;
&lt;li&gt;æœ¯è¯­ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;VRRPè·¯ç”±å™¨&lt;/strong&gt;ï¼šè¿è¡ŒVRRPåè®®çš„è®¾å¤‡ï¼Œå®ƒå¯èƒ½å±äºä¸€ä¸ªæˆ–å¤šä¸ªè™šæ‹Ÿè·¯ç”±å™¨ï¼Œå¦‚RouterAå’ŒRouterB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿè·¯ç”±å™¨&lt;/strong&gt;ï¼šå³VRRPå¤‡ä»½ç»„ï¼Œ&lt;strong&gt;ç”±ä¸€ä¸ªMasterè®¾å¤‡å’Œå¤šä¸ªBackupè®¾å¤‡ç»„æˆ&lt;/strong&gt;ï¼Œè¢«å½“ä½œä¸€ä¸ªå…±äº«å±€åŸŸç½‘å†…ä¸»æœºçš„ç¼ºçœç½‘å…³ã€‚å¦‚RouterAå’ŒRouterBå…±åŒç»„æˆäº†ä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VRID&lt;/strong&gt;ï¼šè™šæ‹Ÿè·¯ç”±å™¨çš„æ ‡è¯†ã€‚å¦‚RouterAå’ŒRouterBç»„æˆçš„è™šæ‹Ÿè·¯ç”±å™¨çš„VRIDä¸º1&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹ŸIPåœ°å€&lt;/strong&gt;ï¼šè™šæ‹Ÿè·¯ç”±å™¨çš„IPåœ°å€ï¼Œä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªIPåœ°å€ï¼Œç”±ç”¨æˆ·é…ç½®ã€‚å¦‚RouterAå’ŒRouterBç»„æˆçš„è™šæ‹Ÿè·¯ç”±å™¨çš„è™šæ‹ŸIPåœ°å€ä¸º10.1.1.10/24&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IPåœ°å€æ‹¥æœ‰è€…&lt;/strong&gt;ï¼šå¦‚æœä¸€ä¸ªVRRPè®¾å¤‡&lt;strong&gt;å°†è™šæ‹Ÿè·¯ç”±å™¨IPåœ°å€ä½œä¸ºçœŸå®çš„æ¥å£åœ°å€&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;è¯¥è®¾å¤‡è¢«ç§°ä¸ºIPåœ°å€æ‹¥æœ‰è€…&lt;/strong&gt;ã€‚å¦‚æœIPåœ°å€æ‹¥æœ‰è€…æ˜¯å¯ç”¨çš„ï¼Œ&lt;strong&gt;é€šå¸¸å®ƒå°†æˆä¸ºMaster&lt;/strong&gt;ã€‚å¦‚RouterAï¼Œå…¶æ¥å£çš„IPåœ°å€ä¸è™šæ‹Ÿè·¯ç”±å™¨çš„IPåœ°å€ç›¸åŒï¼Œå‡ä¸º10.1.1.10/24ï¼Œå› æ­¤å®ƒæ˜¯è¿™ä¸ªVRRPå¤‡ä»½ç»„çš„IPåœ°å€æ‹¥æœ‰è€…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹ŸMACåœ°å€&lt;/strong&gt;ï¼šè™šæ‹Ÿè·¯ç”±å™¨&lt;strong&gt;æ ¹æ®è™šæ‹Ÿè·¯ç”±å™¨IDç”Ÿæˆçš„MACåœ°å€&lt;/strong&gt;ã€‚ä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨æ‹¥æœ‰ä¸€ä¸ªè™šæ‹ŸMACåœ°å€ï¼Œæ ¼å¼ä¸ºï¼š00-00-5E-00-01-{VRID}(VRRP for IPv4)ï¼›00-00-5E-00-02-{VRID}(VRRP for IPv6)ï¼Œ&lt;code&gt;Masterè·¯ç”±å™¨å’ŒBackupè®¾å¤‡çš„ç»„IDå¿…é¡»ç›¸åŒï¼ŒåŸå› ä¸ºä¸»è®¾å¤‡ç”¨è™šæ‹ŸMACå“åº”ARPè¯·æ±‚ã€STPçš„æ ¹è®¾å¤‡==VRRPçš„Masterï¼Œå³ç¡®ä¿VRRPçš„ä¸»å’ŒMSTPçš„ä¸»æ¡¥ä¸ºä¸€ä¸ªè®¾å¤‡ï¼Œå¦åˆ™ä¼šé€ æˆ2å±‚çš„æ¬¡ä¼˜è½¬å‘ã€‘&lt;/code&gt;ï¼Œè€Œä¸æ˜¯æ¥å£çš„çœŸå®MACåœ°å€ã€‚å¦‚RouterAå’ŒRouterBç»„æˆçš„è™šæ‹Ÿè·¯ç”±å™¨çš„VRIDä¸º1ï¼Œå› æ­¤è¿™ä¸ªVRRPå¤‡ä»½ç»„çš„MACåœ°å€ä¸º00-00-5E-00-01-01&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»IPåœ°å€&lt;/strong&gt;ï¼šä»æ¥å£çš„çœŸå®IPåœ°å€ä¸­é€‰å‡ºæ¥çš„ä¸€ä¸ªä¸»ç”¨IPåœ°å€ï¼Œé€šå¸¸é€‰æ‹©é…ç½®çš„ç¬¬ä¸€ä¸ªIPåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Masterè·¯ç”±å™¨æ‰¿æ‹…è½¬å‘æŠ¥æ–‡ï¼›Backupè®¾å¤‡åªæœ‰åœ¨Masterè®¾å¤‡æ•…éšœä¹‹åæ‰å˜æˆMaterï¼Œæ‰¿æ‹…è½¬å‘ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;ä¸»è®¾å¤‡ï¼ˆMasterè·¯ç”±å™¨ï¼‰é€‰å–åŸåˆ™ï¼šä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼›ä¼˜å…ˆçº§ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆé…ç½®çš„è®¾å¤‡ä¼šæˆä¸ºMaster&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åè®®æŠ¥æ–‡&#34;&gt;åè®®æŠ¥æ–‡&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;v2æŠ¥æ–‡ç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614604784716.png&#34; alt=&#34;v2æŠ¥æ–‡ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;v3æŠ¥æ–‡ç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614604793488.png&#34; alt=&#34;v3æŠ¥æ–‡ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šv2ä¸º2ï¼Œv3ä¸º3&lt;/li&gt;
&lt;li&gt;Typeï¼šå‡ä¸º1ï¼Œè¡¨ç¤ºAdvertisementæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;VRIDï¼šè™šæ‹Ÿè·¯ç”±å™¨IDï¼Œå–å€¼èŒƒå›´æ˜¯1ï½255&lt;/li&gt;
&lt;li&gt;Priorityï¼šMasterè®¾å¤‡åœ¨å¤‡ä»½ç»„ä¸­çš„ä¼˜å…ˆçº§ï¼Œå–å€¼èŒƒå›´æ˜¯0ï½255&lt;code&gt;0è¡¨ç¤ºè®¾å¤‡åœæ­¢å‚ä¸VRRPå¤‡ä»½ç»„ï¼Œç”¨æ¥ä½¿å¤‡ä»½è®¾å¤‡å°½å¿«æˆä¸ºMasterè®¾å¤‡ï¼Œè€Œä¸å¿…ç­‰åˆ°è®¡æ—¶å™¨è¶…æ—¶ï¼›255åˆ™ä¿ç•™ç»™IPåœ°å€æ‹¥æœ‰è€…ã€‚ç¼ºçœå€¼æ˜¯100&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Count IP Addrs/Count IPvX Addrï¼šå¤‡ä»½ç»„ä¸­è™šæ‹ŸIPv4æˆ–è™šæ‹ŸIPv6åœ°å€çš„ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;Auth Typeï¼šVRRPæŠ¥æ–‡çš„è®¤è¯ç±»å‹&lt;code&gt;v2ç‹¬æœ‰å­—æ®µï¼Œæ˜¯ä¸ºäº†å…¼å®¹æ—©æœŸç‰ˆæœ¬ï¼ŒVRRPè®¤è¯å¹¶ä¸èƒ½æé«˜å®‰å…¨æ€§&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;0æ— è®¤è¯&lt;/li&gt;
&lt;li&gt;1æ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;2MD5è®¤è¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Adver Int/Max Adver Intï¼šVRRPé€šå‘ŠæŠ¥æ–‡çš„å‘é€æ—¶é—´é—´éš”ï¼Œv2çš„å•ä½æ˜¯ç§’&lt;sub&gt;é»˜è®¤å€¼ä¸º1&lt;/sub&gt;ï¼Œv3çš„å•ä½å˜ç§’&lt;sub&gt;é»˜è®¤å€¼ä¸º100&lt;/sub&gt;&lt;code&gt;ä½†æ˜¯é»˜è®¤å€¼éƒ½æ˜¯1ç§’æ—¶é—´&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Checksumï¼šæ ¡éªŒå’Œ&lt;/li&gt;
&lt;li&gt;IP Address/IPvX Address(es)ï¼šVRRPå¤‡ä»½ç»„çš„è™šæ‹ŸIPv4åœ°å€æˆ–è€…è™šæ‹ŸIPv6åœ°å€ï¼Œæ‰€åŒ…å«çš„åœ°å€æ•°å®šä¹‰åœ¨Count IPvX Addrså­—æ®µ&lt;/li&gt;
&lt;li&gt;Authentication Dataï¼šVRRPæŠ¥æ–‡çš„è®¤è¯å­—ã€‚&lt;code&gt;åªæœ‰æ˜æ–‡è®¤è¯å’ŒMD5è®¤è¯æ‰ç”¨åˆ°è¯¥éƒ¨åˆ†ï¼Œå¯¹äºå…¶å®ƒè®¤è¯æ–¹å¼ï¼Œä¸€å¾‹å¡«0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rsvdï¼šä¿ç•™å­—æ®µï¼Œå¿…é¡»è®¾ç½®ä¸º0&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vrrpv2å’Œvrrpv3çš„ä¸»è¦åŒºåˆ«&#34;&gt;VRRPv2å’ŒVRRPv3çš„ä¸»è¦åŒºåˆ«&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ”¯æŒçš„ç½‘ç»œç±»å‹ä¸åŒï¼šVRRPv3é€‚ç”¨äºIPv4å’ŒIPv6ä¸¤ç§ç½‘ç»œï¼Œè€ŒVRRPv2ä»…é€‚ç”¨äºIPv4ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;è®¤è¯åŠŸèƒ½ä¸åŒï¼šVRRPv3ä¸æ”¯æŒè®¤è¯åŠŸèƒ½ï¼Œè€ŒVRRPv2æ”¯æŒè®¤è¯åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å‘é€é€šå‘ŠæŠ¥æ–‡çš„æ—¶é—´é—´éš”çš„å•ä½ä¸åŒï¼šVRRPv3æ”¯æŒçš„æ˜¯å˜ç§’çº§ï¼Œè€ŒVRRPv2æ”¯æŒçš„æ˜¯ç§’çº§ï¼Œä½†é»˜è®¤é—´éš”éƒ½æ˜¯1ç§’&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å·¥ä½œåŸç†-2&#34;&gt;å·¥ä½œåŸç†&lt;/h2&gt;
&lt;h3 id=&#34;çŠ¶æ€æœº&#34;&gt;çŠ¶æ€æœº&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614607228051.png&#34; alt=&#34;çŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Initialize&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;è¯¥çŠ¶æ€ä¸ºVRRP&lt;strong&gt;ä¸å¯ç”¨çŠ¶æ€&lt;/strong&gt;ï¼Œåœ¨æ­¤çŠ¶æ€æ—¶è®¾å¤‡&lt;strong&gt;ä¸ä¼šå¯¹VRRPæŠ¥æ–‡åšä»»ä½•å¤„ç†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é€šå¸¸åˆšé…ç½®VRRPæ—¶æˆ–è®¾å¤‡æ£€æµ‹åˆ°æ•…éšœæ—¶ä¼šè¿›å…¥InitializeçŠ¶æ€&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°æ¥å£Upçš„æ¶ˆæ¯å
&lt;ol&gt;
&lt;li&gt;å¦‚æœè®¾å¤‡çš„&lt;strong&gt;ä¼˜å…ˆçº§ä¸º255ï¼Œåˆ™ç›´æ¥æˆä¸ºMasterè®¾å¤‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè®¾å¤‡çš„ä¼˜å…ˆçº§&lt;strong&gt;å°äº255ï¼Œåˆ™ä¼šå…ˆåˆ‡æ¢è‡³BackupçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Backup&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ¥æ”¶Masterè®¾å¤‡å‘é€çš„VRRPé€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;ï¼Œåˆ¤æ–­Masterè®¾å¤‡çš„çŠ¶æ€æ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å“åº”&lt;/strong&gt;å¯¹è™šæ‹ŸIPåœ°å€çš„ARPè¯·æ±‚ï¼›&lt;strong&gt;ä¸è½¬å‘&lt;/strong&gt;ç›®çš„macä¸ºè™šæ‹Ÿmacçš„æŠ¥æ–‡ï¼›&lt;strong&gt;ä¸¢å¼ƒ&lt;/strong&gt;ç›®çš„IPåœ°å€ä¸ºè™šæ‹ŸIPåœ°å€çš„IPæŠ¥æ–‡&lt;code&gt;å¤‡ä»½çŠ¶æ€çš„å”¯ä¸€å·¥ä½œå°±æ˜¯æ—¶åˆ»ç›‘æ§è€…Masterçš„çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œä¸€æ—¦ä¸æ­£å¸¸ç«‹é©¬åˆ‡æ¢&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°AdvertisementæŠ¥æ–‡ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°&lt;strong&gt;ä¼˜å…ˆçº§å’Œè‡ªå·±ç›¸åŒæˆ–è€…æ¯”è‡ªå·±å¤§çš„æŠ¥æ–‡&lt;/strong&gt;ï¼Œåˆ™é‡ç½®&lt;strong&gt;Master_Down_Intervalå®šæ—¶å™¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸è¿›ä¸€æ­¥æ¯”è¾ƒIPåœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
Master_Down_Intervalå®šæ—¶å™¨ï¼ŒBackupè®¾å¤‡åœ¨è¯¥å®šæ—¶å™¨è¶…æ—¶åä»æœªæ”¶åˆ°é€šå‘ŠæŠ¥æ–‡ï¼Œåˆ™ä¼šè½¬æ¢ä¸ºMasterçŠ¶æ€ï¼Œè®¡ç®—å…¬å¼ä¸º&lt;code&gt;Master_Down_Interval=(3* Advertisement_Interval) + Skew_timeï¼Œå…¶ä¸­åç§»æ—¶é—´ï¼ˆä¹Ÿå«åˆ‡æ¢æ—¶é—´ï¼Œæ˜¯ä¸»å¤‡åˆ‡æ¢çš„æ—¶é—´ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œåˆ‡æ¢æ—¶é—´è¶Šå°ï¼‰Skew_Time=(256â€“Priority)/256&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°&lt;strong&gt;æ¯”è‡ªå·±ä¼˜å…ˆçº§å°çš„æŠ¥æ–‡&lt;/strong&gt;æ—¶ï¼Œ
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;æœ¬è´¨æ˜¯åˆ‡æ¢&lt;/code&gt;è¯¥æŠ¥æ–‡ä¼˜å…ˆçº§æ˜¯0ï¼Œåˆ™&lt;strong&gt;å®šæ—¶å™¨æ—¶é—´è®¾ç½®ä¸ºSkew_time&lt;/strong&gt;ï¼ˆåç§»æ—¶é—´ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æœ¬è´¨æ˜¯æŠ¢å æˆ–è€…é€‰ä¸¾&lt;/code&gt;è¯¥æŠ¥æ–‡ä¼˜å…ˆçº§&lt;strong&gt;ä¸æ˜¯0&lt;/strong&gt;ï¼Œä¸¢å¼ƒæŠ¥æ–‡ï¼Œç«‹åˆ»&lt;strong&gt;æˆä¸ºMaster&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Master&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®šæ—¶å‘é€VRRPé€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;&lt;code&gt;ç”¨æ¥ç»´æŠ¤è‡ªèº«Masterçš„åœ°ä½&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§(120ç§’)å‘é€å…è´¹ARPæŠ¥æ–‡ï¼Œ åˆ·æ–°ä¸‹æ¸¸è®¾å¤‡çš„MACåœ°å€è¡¨&lt;code&gt;ä½¿ç½‘ç»œå†…å„ä¸»æœºçŸ¥é“è™šæ‹ŸIPåœ°å€æ‰€å¯¹åº”çš„è™šæ‹ŸMACåœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç”¨è™šæ‹Ÿmacæ¥å“åº”å¯¹è™šæ‹ŸIPçš„ARPè¯·æ±‚ï¼›è½¬å‘ç›®çš„MACä¸ºè™šæ‹ŸMACçš„IPæŠ¥æ–‡ï¼›å¦‚æœå®ƒæ˜¯è¿™ä¸ªè™šæ‹ŸIPåœ°å€çš„æ‹¥æœ‰è€…ï¼Œåˆ™&lt;strong&gt;æ¥æ”¶ç›®çš„IPåœ°å€ä¸ºè™šæ‹ŸIPåœ°å€çš„IPæŠ¥æ–‡&lt;/strong&gt;ï¼Œå¦åˆ™ï¼Œä¸¢å¼ƒè¿™ä¸ªIPæŠ¥æ–‡&lt;code&gt;å³åªæœ‰ä¼˜å…ˆçº§ä¸º255æ—¶æ‰ä¼šæ¥æ”¶ç›®çš„IPä¸ºè™šæ‹ŸIPçš„IPæŠ¥æ–‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°AdvertisementæŠ¥æ–‡ï¼š
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;æœ¬è´¨æ˜¯æŠ¢å &lt;/code&gt;å¦‚æœæ”¶åˆ°&lt;strong&gt;æ¯”è‡ªå·±ä¼˜å…ˆçº§å¤§&lt;/strong&gt;çš„æŠ¥æ–‡ï¼Œç«‹å³&lt;strong&gt;æˆä¸ºBackup&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æœ¬è´¨æ˜¯é€‰ä¸¾ï¼Œæ­¤æ—¶ä¼šæ¯”è¾ƒIPå¤§å°&lt;/code&gt;å¦‚æœæ”¶åˆ°&lt;strong&gt;ä¸è‡ªå·±ä¼˜å…ˆçº§ç›¸ç­‰&lt;/strong&gt;çš„VRRPæŠ¥æ–‡&lt;strong&gt;ä¸”å¯¹ç«¯æ¥å£IPå¤§äºæœ¬åœ°æ¥å£IPåœ°å€&lt;/strong&gt;ï¼Œç«‹å³&lt;strong&gt;æˆä¸ºBackup&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å·¥ä½œè¿‡ç¨‹&#34;&gt;å·¥ä½œè¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ã€é‡è¦å£°æ˜ã€‘ï¼šä¼˜å…ˆçº§0å’Œ255æ˜¯ä¸å¯ä»¥æ‰‹åŠ¨è®¾ç½®çš„ï¼Œåªæœ‰è™šæ‹ŸIPå’Œæ¥å£IPä¸ºåŒä¸€ä¸ªIPåœ°å€æ—¶ï¼Œè¯¥è®¾å¤‡çš„ä¼˜å…ˆçº§ä¼šè‡ªåŠ¨è°ƒä¸º255ã€‚Masterè®¾å¤‡è¦é€€å‡ºè¯¥VRRPæ—¶ï¼Œä¼šå‘é€ä¼˜å…ˆçº§ä¸º0çš„VRRPé€šå‘ŠæŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å·¥ä½œè¿‡ç¨‹çš„ä¸¤ä¸ªé‡ç‚¹ï¼š1.Masterè®¾å¤‡çš„é€‰ä¸¾ï¼›2. Masterè®¾å¤‡çŠ¶æ€çš„é€šå‘Š&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VRRPå¤‡ä»½ç»„ä¸­çš„è®¾å¤‡æ ¹æ®ä¼˜å…ˆçº§é€‰ä¸¾å‡ºMasterï¼Œ
&lt;ol&gt;
&lt;li&gt;Masterè®¾å¤‡é€šè¿‡&lt;strong&gt;å‘é€å…è´¹ARPæŠ¥æ–‡&lt;/strong&gt;ï¼Œå°†è™šæ‹ŸMACåœ°å€é€šçŸ¥ç»™ä¸å®ƒè¿æ¥çš„è®¾å¤‡æˆ–è€…ä¸»æœºï¼Œä»è€Œ&lt;strong&gt;æ‰¿æ‹…æŠ¥æ–‡è½¬å‘ä»»åŠ¡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Masterè®¾å¤‡&lt;strong&gt;å‘¨æœŸæ€§å‘&lt;/strong&gt;å¤‡ä»½ç»„å†…&lt;strong&gt;æ‰€æœ‰Backupè®¾å¤‡&lt;/strong&gt;å‘é€VRRP&lt;strong&gt;é€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;ï¼Œä»¥å…¬å¸ƒå…¶é…ç½®ä¿¡æ¯ï¼ˆä¼˜å…ˆçº§ç­‰ï¼‰å’Œå·¥ä½œçŠ¶å†µ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;Masterè®¾å¤‡&lt;/strong&gt;å‡ºç°&lt;strong&gt;æ•…éšœ&lt;/strong&gt;ï¼ŒVRRPå¤‡ä»½ç»„ä¸­çš„Backupè®¾å¤‡å°†&lt;strong&gt;æ ¹æ®ä¼˜å…ˆçº§é‡æ–°é€‰ä¸¾æ–°çš„Master&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;VRRPå¤‡ä»½ç»„çŠ¶æ€&lt;strong&gt;åˆ‡æ¢æ—¶&lt;/strong&gt;ï¼ŒMasterè®¾å¤‡ç”±ä¸€å°è®¾å¤‡åˆ‡æ¢ä¸ºå¦å¤–ä¸€å°è®¾å¤‡ï¼Œ&lt;strong&gt;æ–°çš„Masterè®¾å¤‡&lt;/strong&gt;ä¼šç«‹å³å‘é€æºå¸¦è™šæ‹Ÿè·¯ç”±å™¨çš„&lt;strong&gt;è™šæ‹ŸMACåœ°å€å’Œè™šæ‹ŸIP&lt;/strong&gt;åœ°å€ä¿¡æ¯çš„&lt;strong&gt;å…è´¹ARPæŠ¥æ–‡&lt;/strong&gt;ï¼Œ&lt;strong&gt;åˆ·æ–°&lt;/strong&gt;ä¸å®ƒè¿æ¥çš„ä¸»æœºæˆ–è®¾å¤‡ä¸­çš„&lt;strong&gt;MACè¡¨é¡¹&lt;/strong&gt;ï¼Œä»è€ŒæŠŠç”¨æˆ·æµé‡å¼•åˆ°æ–°çš„Masterè®¾å¤‡ä¸Šæ¥ï¼Œ&lt;strong&gt;æ•´ä¸ªè¿‡ç¨‹å¯¹ç”¨æˆ·å®Œå…¨é€æ˜&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸMasterè®¾å¤‡æ•…éšœ&lt;strong&gt;æ¢å¤æ—¶&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;è‹¥&lt;strong&gt;è¯¥è®¾å¤‡ä¸ºIPåœ°å€æ‹¥æœ‰è€…ï¼ˆå³ä¼˜å…ˆçº§ä¸º255ï¼‰&lt;/strong&gt;ï¼Œå°†ç›´æ¥åˆ‡æ¢è‡³&lt;strong&gt;MasterçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‹¥è¯¥è®¾å¤‡ä¼˜å…ˆçº§&lt;strong&gt;å°äº255&lt;/strong&gt;ï¼Œå°†é¦–å…ˆåˆ‡æ¢è‡³&lt;strong&gt;BackupçŠ¶æ€&lt;/strong&gt;ï¼Œä¸”å…¶ä¼˜å…ˆçº§æ¢å¤ä¸ºæ•…éšœå‰é…ç½®çš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;Backupè®¾å¤‡çš„&lt;strong&gt;ä¼˜å…ˆçº§é«˜äºMasterè®¾å¤‡æ—¶&lt;/strong&gt;ï¼Œç”±Backupè®¾å¤‡çš„å·¥ä½œæ–¹å¼ï¼ˆæŠ¢å æ–¹å¼å’ŒéæŠ¢å æ–¹å¼ï¼‰å†³å®šæ˜¯å¦é‡æ–°é€‰ä¸¾Master
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æŠ¢å æ¨¡å¼(é»˜è®¤æ¨¡å¼)&lt;/strong&gt;ï¼šBackupè®¾å¤‡ä¸»åŠ¨åˆ‡æ¢æˆMaster&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éæŠ¢å æ¨¡å¼&lt;/strong&gt;ï¼šBackupè®¾å¤‡ä¸åšä»»ä½•æ”¹å˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;é‡è¦åŠŸèƒ½1masterè®¾å¤‡çš„é€‰ä¸¾&#34;&gt;é‡è¦åŠŸèƒ½1ï¼šMasterè®¾å¤‡çš„é€‰ä¸¾&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜å…ˆçº§è¶Šé«˜&lt;/strong&gt;ï¼Œåˆ™è¶Šæœ‰&lt;strong&gt;å¯èƒ½&lt;/strong&gt;æˆä¸ºMasterè®¾å¤‡&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆšåˆ›å»ºçš„VRRPè®¾å¤‡ä¸ºInitializeçŠ¶æ€ï¼Œæ”¶åˆ°æ¥å£Upçš„æ¶ˆæ¯å
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;ä¼˜å…ˆçº§ä¸º255&lt;/strong&gt;ï¼Œåˆ™ç›´æ¥æˆä¸ºMasterè®¾å¤‡&lt;/li&gt;
&lt;li&gt;å¦‚æœè®¾å¤‡çš„ä¼˜å…ˆçº§&lt;strong&gt;å°äº255&lt;/strong&gt;ï¼Œåˆ™ä¼šå…ˆåˆ‡æ¢è‡³&lt;strong&gt;BackupçŠ¶æ€&lt;/strong&gt;ï¼Œå¾…Master_Down_Intervalå®šæ—¶å™¨&lt;strong&gt;è¶…æ—¶åå†åˆ‡æ¢è‡³MasterçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢è‡³MasterçŠ¶æ€çš„å&lt;strong&gt;é€šè¿‡VRRPé€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;çš„è·å–å…¶ä»–è®¾å¤‡çš„ä¼˜å…ˆçº§ï¼Œè¿›è¡ŒMasterçš„é€‰ä¸¾ï¼š
&lt;ol&gt;
&lt;li&gt;å…¶ä»–è®¾å¤‡çš„ä¼˜å…ˆçº§&lt;strong&gt;é«˜äºæˆ–ç­‰äºè‡ªå·±çš„ä¼˜å…ˆçº§&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;åˆ‡æ¢å›BackupçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–è®¾å¤‡çš„ä¼˜å…ˆçº§&lt;strong&gt;ä½äºè‡ªå·±çš„ä¼˜å…ˆçº§&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æŠ¢å æ–¹å¼&lt;/strong&gt;ï¼š&lt;strong&gt;ä¿æŒMasterçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éæŠ¢å æ–¹å¼&lt;/strong&gt;ï¼š&lt;strong&gt;åˆ‡æ¢å›BackupçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;å¤šä¸ª&lt;/strong&gt;VRRPè®¾å¤‡&lt;strong&gt;åŒæ—¶åˆ‡æ¢åˆ°MasterçŠ¶æ€&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§æœ€é«˜&lt;/strong&gt;çš„VRRPè®¾å¤‡æˆä¸ºçš„&lt;strong&gt;Masterè®¾å¤‡&lt;/strong&gt;ï¼Œå…¶ä»–çš„åˆ‡æ¢æˆBackupçŠ¶æ€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§ç›¸åŒ&lt;/strong&gt;æ—¶ï¼ŒVRRPè®¾å¤‡ä¸Š&lt;strong&gt;VRRPå¤‡ä»½ç»„æ‰€åœ¨æ¥å£ä¸»IPåœ°å€è¾ƒå¤§çš„æˆä¸ºMasterè®¾å¤‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœåˆ›å»ºçš„VRRPè®¾å¤‡ä¸ºIPåœ°å€æ‹¥æœ‰è€…&lt;code&gt;å³è™šæ‹ŸIPå’Œæ¥å£IPä¸ºåŒä¸€ä¸ªIP&lt;/code&gt;ï¼Œæ”¶åˆ°æ¥å£Upçš„æ¶ˆæ¯åï¼Œç›´æ¥åˆ‡æ¢è‡³&lt;strong&gt;MasterçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;é‡è¦åŠŸèƒ½2masterè®¾å¤‡çŠ¶æ€çš„é€šå‘Š&#34;&gt;é‡è¦åŠŸèƒ½2ï¼šMasterè®¾å¤‡çŠ¶æ€çš„é€šå‘Š&lt;/h4&gt;
&lt;p&gt;Masterè®¾å¤‡å‘¨æœŸæ€§åœ°å‘é€VRRPé€šå‘ŠæŠ¥æ–‡å…¬å¸ƒå…¶é…ç½®ä¿¡æ¯ï¼ˆä¼˜å…ˆçº§ç­‰ï¼‰å’Œå·¥ä½œçŠ¶å†µï¼ŒBackupè®¾å¤‡é€šè¿‡æ¥æ”¶åˆ°VRRPæŠ¥æ–‡çš„æƒ…å†µæ¥åˆ¤æ–­Masterè®¾å¤‡æ˜¯å¦å·¥ä½œæ­£å¸¸&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“&lt;strong&gt;Masterè®¾å¤‡ä¸»åŠ¨æ”¾å¼ƒMasteråœ°ä½&lt;/strong&gt;ï¼ˆå¦‚Masterè®¾å¤‡é€€å‡ºå¤‡ä»½ç»„ï¼‰æ—¶ï¼Œä¼šå‘é€&lt;strong&gt;ä¼˜å…ˆçº§ä¸º0çš„é€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;ï¼Œç”¨æ¥ä½¿Backupè®¾å¤‡å¿«é€Ÿåˆ‡æ¢æˆMasterè®¾å¤‡ï¼Œè€Œä¸ç”¨ç­‰åˆ°Master_Down_Intervalå®šæ—¶å™¨è¶…æ—¶&lt;/li&gt;
&lt;li&gt;å½“&lt;strong&gt;Masterè®¾å¤‡å‘ç”Ÿç½‘ç»œæ•…éšœè€Œä¸èƒ½å‘é€é€šå‘ŠæŠ¥æ–‡&lt;/strong&gt;çš„æ—¶å€™ï¼ŒBackupè®¾å¤‡å¹¶ä¸èƒ½ç«‹å³çŸ¥é“å…¶å·¥ä½œçŠ¶å†µï¼Œç­‰åˆ°Master_Down_Intervalå®šæ—¶å™¨è¶…æ—¶åï¼Œæ‰ä¼šè®¤ä¸ºMasterè®¾å¤‡æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä»è€Œå°†çŠ¶æ€åˆ‡æ¢ä¸ºMaster&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¤šç½‘å…³è´Ÿè½½åˆ†æ‹…&#34;&gt;å¤šç½‘å…³è´Ÿè½½åˆ†æ‹…&lt;/h2&gt;
&lt;p&gt;å¤šä¸ªVRRPå¤‡ä»½ç»„åŒæ—¶æ‰¿æ‹…ä¸šåŠ¡ï¼Œè´Ÿè½½åˆ†æ‹…éœ€è¦å»ºç«‹å¤šä¸ªVRRPå¤‡ä»½ç»„ï¼Œ&lt;strong&gt;å„å¤‡ä»½ç»„çš„Masterè®¾å¤‡ä¸åŒ&lt;/strong&gt;ï¼›åŒä¸€å°VRRPè®¾å¤‡å¯ä»¥åŠ å…¥å¤šä¸ªå¤‡ä»½ç»„ï¼Œåœ¨ä¸åŒçš„å¤‡ä»½ç»„ä¸­å…·æœ‰&lt;strong&gt;ä¸åŒçš„ä¼˜å…ˆçº§&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614613920675.png&#34; alt=&#34;å¤šç½‘å…³è´Ÿè½½åˆ†æ‹…&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
VRRPå¤‡ä»½ç»„1ï¼šRouterAä¸ºMasterè®¾å¤‡ï¼ŒRouterBä¸ºBackupè®¾å¤‡&lt;br&gt;
VRRPå¤‡ä»½ç»„2ï¼šRouterBä¸ºMasterè®¾å¤‡ï¼ŒRouterAä¸ºBackupè®¾å¤‡&lt;br&gt;
ä¸€éƒ¨åˆ†ç”¨æˆ·å°†VRRPå¤‡ä»½ç»„1ä½œä¸ºç½‘å…³ï¼Œå¦ä¸€éƒ¨åˆ†ç”¨æˆ·å°†VRRPå¤‡ä»½ç»„2ä½œä¸ºç½‘å…³ï¼Œè¿™æ ·æ—¢å¯å®ç°å¯¹ä¸šåŠ¡æµé‡çš„è´Ÿè½½åˆ†æ‹…ï¼ŒåŒæ—¶ï¼Œä¹Ÿèµ·åˆ°äº†ç›¸äº’å¤‡ä»½çš„ä½œç”¨&lt;/p&gt;
&lt;h2 id=&#34;ç›‘æ§ä¸Šè¡Œé“¾è·¯çš„æ–¹æ³•&#34;&gt;ç›‘æ§ä¸Šè¡Œé“¾è·¯çš„æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614614021072.png&#34; alt=&#34;ç›‘æ§ä¸Šè¡Œé“¾è·¯çš„æ–¹æ³•&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ã€æœ¬è´¨ã€‘ï¼šæ£€æµ‹åˆ°æ•…éšœåé™ä½Masterä¼˜å…ˆçº§ï¼Œé€šçŸ¥å¤‡ä»½ç»„é‡æ–°é€‰ä¸¾Masterï¼›æ•…éšœæ¢å¤åï¼Œå›å¤åŸMasterè®¾å¤‡çš„ä¼˜å…ˆçº§ï¼Œå¦‚æœæ”¯æŒæŠ¢å åˆ™é‡æ–°é€‰ä¸¾Master&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-vrrpä¸æ¥å£çŠ¶æ€è”åŠ¨å®ç°vrrpä¸»å¤‡åˆ‡æ¢&#34;&gt;1. VRRPä¸æ¥å£çŠ¶æ€è”åŠ¨å®ç°VRRPä¸»å¤‡åˆ‡æ¢&lt;/h3&gt;
&lt;p&gt;ç›´æ¥&lt;strong&gt;ç”¨trackå‘½ä»¤&lt;/strong&gt;è”åŠ¨ä¸Šè¡Œé“¾è·¯ï¼Œä¸Šè¡Œé“¾è·¯å‡ºç°é—®é¢˜æ—¶&lt;strong&gt;ä¼˜å…ˆçº§é™ä½&lt;/strong&gt;ï¼Œæ¢å¤æ—¶ä¼˜å…ˆçº§å¢é«˜&lt;/p&gt;
&lt;h3 id=&#34;2-vrrpä¸è·¯ç”±è”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯å¿«æ…¢ä¾èµ–äºè·¯ç”±åè®®&#34;&gt;2. VRRPä¸è·¯ç”±è”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆå¿«æ…¢ä¾èµ–äºè·¯ç”±åè®®ï¼‰&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨VRRP&lt;strong&gt;ç›‘æ§è®¾å¤‡ä¸Šè¡Œè½¬å‘è·¯å¾„è·¯ç”±æ¡ç›®&lt;/strong&gt;ï¼Œå½“ä¸Šè¡Œè½¬å‘&lt;strong&gt;è·¯ç”±æ¡ç›®æ’¤é”€æˆ–æ˜¯å˜ä¸ºéæ´»è·ƒçŠ¶æ€&lt;/strong&gt;ï¼Œé€šçŸ¥VRRPå¤‡ä»½ç»„é™ä½Masterè®¾å¤‡ä¼˜å…ˆçº§ï¼Œè§¦å‘ä¸»å¤‡åˆ‡æ¢ã€‚&lt;br&gt;
ä¸Šè¡Œé“¾è·¯æ•…éšœæ¢å¤æ—¶ï¼ŒåŸMasterè®¾å¤‡åœ¨å¤‡ä»½ç»„ä¸­çš„ä¼˜å…ˆçº§å°†æ¢å¤åŸæ¥çš„å€¼ï¼Œé‡æ–°æŠ¢å æˆä¸ºMasterï¼Œç»§ç»­æ‰¿æ‹…æµé‡è½¬å‘çš„ä¸šåŠ¡ã€‚&lt;br&gt;
è”åŠ¨è·¯ç”±æ—¶çš„é“¾è·¯&lt;strong&gt;åˆ‡æ¢æ—¶é—´ä¾èµ–äºVRRPæ‰€è”åŠ¨è·¯ç”±åè®®çš„æ”¶æ•›é€Ÿåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-vrrpä¸bfdè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯æœ€å¿«&#34;&gt;3. VRRPä¸BFDè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆæœ€å¿«ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é¦–å…ˆåœ¨é“¾è·¯ä¸Šåˆ›å»ºä¸€ä¸ªBFDä¼šè¯ï¼Œç„¶åç”¨trackä¸BFDä¼šè¯ç»‘å®šå³å¯&lt;/code&gt;&lt;br&gt;
é€šè¿‡åœ¨Masterè®¾å¤‡ä¸Š&lt;strong&gt;é…ç½®VRRPä¸BFDè”åŠ¨&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä½¿ç”¨BFDä¼šè¯æ£€æµ‹Masterè®¾å¤‡ä¸Šè¡Œé“¾è·¯çŠ¶æ€&lt;/strong&gt;ï¼Œå½“BFDæ£€æµ‹åˆ°ä¸Šè¡Œé“¾è·¯æ•…éšœæ—¶ï¼ŒåŠæ—¶é€šçŸ¥VRRPå¤‡ä»½ç»„é™ä½Masterè®¾å¤‡ä¼˜å…ˆçº§ï¼Œè§¦å‘ä¸»å¤‡åˆ‡æ¢ã€‚&lt;br&gt;
ä¸Šè¡Œé“¾è·¯æ•…éšœæ¢å¤æ—¶ï¼ŒåŸMasterè®¾å¤‡åœ¨å¤‡ä»½ç»„ä¸­çš„ä¼˜å…ˆçº§å°†æ¢å¤åŸæ¥çš„å€¼ï¼Œé‡æ–°æŠ¢å æˆä¸ºMasterï¼Œç»§ç»­æ‰¿æ‹…æµé‡è½¬å‘çš„ä¸šåŠ¡ã€‚&lt;br&gt;
BFDå¯ä»¥&lt;strong&gt;å®ç°æ¯«ç§’çº§çš„æ•…éšœæ£€æµ‹&lt;/strong&gt;ï¼Œè”åŠ¨BFDå¯ä»¥å¿«é€Ÿåœ°æ£€æµ‹æ•…éšœï¼Œä»è€Œä½¿ä¸»å¤‡åˆ‡æ¢é€Ÿåº¦æ›´å¿«ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-vrrpä¸nqaè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ä¾èµ–ä¸pingçš„é€Ÿåº¦&#34;&gt;4. VRRPä¸NQAè”åŠ¨ç›‘è§†ä¸Šè¡Œé“¾è·¯ï¼ˆä¾èµ–ä¸pingçš„é€Ÿåº¦ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é¦–å…ˆåœ¨é“¾è·¯ä¸Šåˆ›å»ºä¸€ä¸ªç±»å‹ä¸ºICMPçš„NQAï¼Œç„¶åç”¨trackä¸è¯¥NQAç»‘å®šå³å¯ï¼Œå…¶ä½œç”¨ç›¸å½“äºå»pingå¯¹ç«¯åœ°å€ï¼Œpingä¸é€šæ—¶é€šçŸ¥VRRP&lt;/code&gt;&lt;br&gt;
é€šè¿‡åœ¨Masterè®¾å¤‡ä¸Š&lt;strong&gt;é…ç½®VRRPè”åŠ¨NQA&lt;/strong&gt;ï¼Œä½¿ç”¨NQAæµ‹è¯•ä¾‹æ£€æµ‹è®¾å¤‡ä¸Šè¡Œé“¾è·¯çŠ¶æ€ï¼Œå½“NQAæ£€æµ‹åˆ°ä¸Šè¡Œé“¾è·¯æ•…éšœæ—¶ï¼Œé€šçŸ¥VRRPå¤‡ä»½ç»„é™ä½Masterè®¾å¤‡ä¼˜å…ˆçº§ï¼Œè§¦å‘ä¸»å¤‡åˆ‡æ¢ã€‚&lt;br&gt;
ä¸Šè¡Œé“¾è·¯æ•…éšœæ¢å¤æ—¶ï¼ŒåŸMasterè®¾å¤‡åœ¨å¤‡ä»½ç»„ä¸­çš„ä¼˜å…ˆçº§å°†æ¢å¤åŸæ¥çš„å€¼ï¼Œé‡æ–°æŠ¢å æˆä¸ºMasterï¼Œç»§ç»­æ‰¿æ‹…æµé‡è½¬å‘çš„ä¸šåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¿ƒè·³çº¿&#34;&gt;å¿ƒè·³çº¿&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614615285146.png&#34; alt=&#34;å¿ƒè·³çº¿&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å½“ä½¿ç”¨ä¸‰å±‚äº¤æ¢æœºåšVRRPæ—¶ï¼Œ&lt;strong&gt;ä¸ºé˜²æ­¢é“¾è·¯VRRPåè®®æŠ¥æ–‡æ‰€ç»è¿‡çš„é“¾è·¯ä¸é€šæˆ–ä¸ç¨³å®šå’Œæ¥å›è·¯å¾„ä¸ä¸€è‡´&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨SwitchAå’ŒSwitchBä¹‹é—´éƒ¨ç½²ä¸€æ¡å¿ƒè·³çº¿ï¼Œè¯¥å¿ƒè·³çº¿&lt;strong&gt;å±äºäºŒå±‚é“¾è·¯&lt;/strong&gt;ï¼Œä¸”å…è®¸ç›¸å…³VlanIFæ¥å£æŠ¥æ–‡é€šè¿‡&lt;/li&gt;
&lt;li&gt;ä¸º&lt;strong&gt;é˜²æ­¢ç¯è·¯&lt;/strong&gt;è¿˜éœ€éƒ¨ç½²STPè¿™æ ·çš„&lt;strong&gt;äºŒå±‚ç ´ç¯åè®®&lt;/strong&gt;ï¼Œä¸”ä¿è¯&lt;strong&gt;Masterè®¾å¤‡ä¸ºSTPåè®®ä¸­çš„æ ¹æ¡¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;vrrpå’Œeth-trunkçš„åŒºåˆ«&#34;&gt;VRRPå’ŒEth-trunkçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;vrrpä¸»è¦æ˜¯å¤‡ä»½ï¼›eth-trunkä¸»è¦æ˜¯è´Ÿè½½&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vrrpåˆ©ç”¨ç‡ä½ã€‚ä¸¤æ¡ä¸Šè”çº¿è·¯æ­£å¸¸çš„è¯åªç”¨ä¸€æ¡ï¼Œè€Œeth-trunkä¸¤æ¡éƒ½è·‘æµé‡&lt;/li&gt;
&lt;li&gt;vrrpéœ€è¦é…åˆSTPï¼Œæ‰€ä»¥éœ€è¦ä¸€å®šçš„æ”¶æ•›æ—¶é—´&lt;/li&gt;
&lt;li&gt;åšeth-trunkä¸€èˆ¬æ ¸å¿ƒäº¤æ¢æœºéƒ½é‡‡ç”¨é›†ç¾¤æ–¹å¼ï¼Œç›¸å½“äºä¸€å°è®¾å¤‡ï¼Œæ‰€ä»¥é…ç½®ç®¡ç†æ–¹ä¾¿ï¼Œå¹¶ä¸”ä¸¤å°æ ¸å¿ƒäº¤æ¢æœºä¹‹é—´çš„äº’è”å¸¦å®½æ›´é«˜ï¼Œä¸»å¤‡äº¤æ¢æœºåˆ‡æ¢æ—¶é—´å¾ˆçŸ­&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯åŒºåˆ†ï¼šæœ‰äºŒå°æ ¸å¿ƒï¼Œè¦å’Œæ¥å…¥åšåŒæœºçƒ­å¤‡ï¼Œä½†ä¸æ”¯æŒå †å æˆ–é›†ç¾¤ï¼Œè¿™æ—¶å€™åªèƒ½ç”¨VRRP+STPäº†ï¼Œä¸æ˜¯ç”¨Eth-Trunkã€‚å¦‚æœæ ¸å¿ƒæ”¯æŒå †å æˆ–é›†ç¾¤çš„è¯ï¼Œè¿™æ—¶å€™æ ¸å¿ƒå’Œæ¥å…¥å°±åšEth-Trunkäº†ï¼Œè€Œä¸ç”¨VRRPäº†ï¼Œå› ä¸ºæ ¸å¿ƒå †å åå°±æˆä¸€å°è®¾å¤‡äº†ï¼ŒäºŒå°è®¾å¤‡ä¹‹é—´çš„åŒé“¾è·¯ï¼Œè‚¯å®šç”¨Eth-Trunkæ›´å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;bfdåŒå‘è½¬å‘æ£€æµ‹&#34;&gt;BFD(åŒå‘è½¬å‘æ£€æµ‹)&lt;/h1&gt;
&lt;h2 id=&#34;ä½œç”¨&#34;&gt;ä½œç”¨&lt;/h2&gt;
&lt;p&gt;ç”¨äºå¿«é€Ÿæ£€æµ‹è®¾å¤‡ä¹‹é—´çš„é€šä¿¡æ•…éšœï¼Œå¹¶åœ¨å‡ºç°æ•…éšœæ—¶é€šçŸ¥ä¸Šå±‚åº”ç”¨&lt;br&gt;
&lt;strong&gt;ç°æœ‰æ£€æµ‹æœºåˆ¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡ç¡¬ä»¶æ£€æµ‹ä¿¡å·ï¼Œå¦‚SDHå‘Šè­¦ï¼Œæ£€æµ‹é“¾è·¯ç¡¬ä»¶æ•…éšœï¼Œä¼˜ç‚¹æ˜¯å¿«é€Ÿæ£€æµ‹æ•…éšœ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ— æ³•é€šè¿‡ç¡¬ä»¶ä¿¡å·æ£€æµ‹æ•…éšœï¼Œé€šå¸¸é‡‡ç”¨è·¯ç”±åè®®çš„HelloæŠ¥æ–‡æœºåˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸Šæ£€æµ‹æœºåˆ¶å­˜åœ¨çš„é—®é¢˜&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¹¶ä¸æ˜¯æ‰€æœ‰çš„ä»‹è´¨éƒ½èƒ½å¤Ÿæä¾›ç¡¬ä»¶æ£€æµ‹&lt;/li&gt;
&lt;li&gt;è·¯ç”±åè®®çš„HelloæŠ¥æ–‡æœºåˆ¶æ£€æµ‹åˆ°æ•…éšœæ‰€éœ€æ—¶é—´æ¯”è¾ƒé•¿ï¼Œè¶…è¿‡1ç§’é’Ÿï¼Œå½“æ•°æ®è¾¾åˆ°å‰æ¯”ç‰¹é€Ÿç‡çº§æ—¶ï¼Œä¼šé€ æˆå¤§é‡æ•°æ®ä¸¢å¤±&lt;/li&gt;
&lt;li&gt;åœ¨ä¸‰å±‚ç½‘ç»œä¸­ï¼ŒHelloæŠ¥æ–‡æ£€æµ‹æœºåˆ¶æ— æ³•é’ˆå¯¹æ‰€æœ‰è·¯ç”±åè®®æ¥æ£€æµ‹æ•…éšœï¼Œå¦‚ï¼šé™æ€è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;BFDç”¨äºæ£€æµ‹è®¾å¤‡ä¹‹é—´çš„é€šä¿¡æ•…éšœï¼ŒBFD&lt;strong&gt;å¯¹ç³»ç»Ÿé—´çš„ã€åŒä¸€è·¯å¾„ä¸Šçš„ä¸€ç§æ•°æ®åè®®çš„è¿é€šæ€§è¿›è¡Œæ£€æµ‹&lt;/strong&gt;ï¼Œè¿™æ¡è·¯å¾„å¯ä»¥æ˜¯&lt;strong&gt;ç‰©ç†é“¾è·¯æˆ–é€»è¾‘é“¾è·¯ï¼ŒåŒ…æ‹¬éš§é“&lt;/strong&gt;ï¼Œå¯ä»¥æŠŠBFDçœ‹ä½œæ˜¯ç³»ç»Ÿæä¾›çš„ä¸€ç§æœåŠ¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šå±‚åº”ç”¨å‘BFDæä¾›æ£€æµ‹åœ°å€ã€æ£€æµ‹æ—¶é—´ç­‰å‚æ•°&lt;/li&gt;
&lt;li&gt;BFDæ ¹æ®è¿™äº›ä¿¡æ¯åˆ›å»ºã€åˆ é™¤æˆ–ä¿®æ”¹BFDä¼šè¯ï¼Œå¹¶æŠŠä¼šè¯çŠ¶æ€é€šå‘Šç»™ä¸Šå±‚åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;BFDæä¾›å¦‚ä¸‹åŠŸèƒ½&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ç›¸é‚»è®¾å¤‡ä¹‹é—´çš„é€šé“&lt;strong&gt;æä¾›è½»è´Ÿè·ã€å¿«é€Ÿæ•…éšœæ£€æµ‹&lt;/strong&gt;ï¼Œè¿™äº›æ•…éšœåŒ…æ‹¬&lt;strong&gt;æ¥å£æ•…éšœã€æ•°æ®é“¾è·¯æ•…éšœã€è®¾å¤‡æœ¬èº«æ•…éšœç­‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æä¾›ä¸€ä¸ªå•ä¸€çš„æœºåˆ¶ï¼Œèƒ½å¤Ÿç”¨æ¥&lt;strong&gt;å¯¹ä»»ä½•åª’ä»‹ã€ä»»ä½•åè®®å±‚è¿›è¡Œå®æ—¶åœ°æ£€æµ‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h2&gt;
&lt;p&gt;BFDæœ¬èº«å¹¶&lt;strong&gt;æ²¡æœ‰é‚»å±…å‘ç°æœºåˆ¶&lt;/strong&gt;ï¼Œè€Œæ˜¯&lt;strong&gt;é è¢«æœåŠ¡çš„ä¸Šå±‚åº”ç”¨é€šçŸ¥å…¶é‚»å±…ä¿¡æ¯ä»¥å»ºç«‹ä¼šè¯&lt;/strong&gt;ã€‚ä¼šè¯å»ºç«‹åä¼šå‘¨æœŸæ€§åœ°å¿«é€Ÿå‘é€BFDæŠ¥æ–‡ï¼Œå¦‚æœåœ¨æ£€æµ‹æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°BFDæŠ¥æ–‡åˆ™è®¤ä¸ºè¯¥åŒå‘è½¬å‘è·¯å¾„å‘ç”Ÿäº†æ•…éšœï¼Œé€šçŸ¥è¢«æœåŠ¡çš„ä¸Šå±‚åº”ç”¨è¿›è¡Œç›¸åº”çš„å¤„ç†&lt;/p&gt;
&lt;h2 id=&#34;æ£€æµ‹æœºåˆ¶&#34;&gt;æ£€æµ‹æœºåˆ¶&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å¼‚æ­¥æ¨¡å¼&lt;/strong&gt;ï¼šBFDçš„ä¸»è¦æ“ä½œæ¨¡å¼ä¸ºå¼‚æ­¥æ¨¡å¼ï¼Œç³»ç»Ÿä¹‹é—´&lt;strong&gt;ç›¸äº’å‘¨æœŸæ€§åœ°å‘é€&lt;/strong&gt;BFDæ§åˆ¶æŠ¥æ–‡ï¼Œå¦‚æœæŸä¸ªç³»ç»Ÿè¿ç»­å‡ ä¸ªæŠ¥æ–‡éƒ½æ²¡æœ‰æ¥æ”¶åˆ°ï¼Œå°±è®¤ä¸ºæ­¤BFDä¼šè¯çš„çŠ¶æ€æ˜¯Down&lt;/p&gt;
&lt;h2 id=&#34;æ£€æµ‹çš„é“¾è·¯ç±»å‹&#34;&gt;æ£€æµ‹çš„é“¾è·¯ç±»å‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614690919412.png&#34; alt=&#34;æ£€æµ‹çš„é“¾è·¯ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;æŠ¥æ–‡-3&#34;&gt;æŠ¥æ–‡&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;14&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614691025147.png&#34; alt=&#34;æŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;versï¼šç‰ˆæœ¬ï¼Œå€¼ä¸º1&lt;/li&gt;
&lt;li&gt;Diagï¼šè¯Šæ–­å­—ï¼Œæ ‡æ˜æœ¬åœ°BFDç³»ç»Ÿæœ€è¿‘ä¸€æ¬¡ä¼šè¯çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„åŸå› 
&lt;ol&gt;
&lt;li&gt;0æ— è¯Šæ–­ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;1æ£€æµ‹æ—¶é—´è¶…æ—¶&lt;/li&gt;
&lt;li&gt;2EchoåŠŸèƒ½å¤±æ•ˆ&lt;/li&gt;
&lt;li&gt;4è½¬å‘é¢å¤ä½&lt;/li&gt;
&lt;li&gt;3ã€5ã€6ã€7ã€8è¡¨ç¤ºé‚»å±…ä¼šè¯ã€è·¯å¾„ã€çº§è”è·¯å¾„ã€Adminã€åå‘çº§è”è·¯å¾„Down&lt;/li&gt;
&lt;li&gt;9-31é¢„ç•™&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Staï¼šæœ¬åœ°çŠ¶æ€
&lt;ol&gt;
&lt;li&gt;0ç®¡ç†çŠ¶æ€Down&lt;/li&gt;
&lt;li&gt;1è¿è¡ŒçŠ¶æ€Down&lt;/li&gt;
&lt;li&gt;2åˆå§‹çŠ¶æ€&lt;/li&gt;
&lt;li&gt;3æ­£å¸¸UPçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;P\F\C\A\D\Mï¼šå‚æ•°æ”¹å˜åæ˜¯å¦éœ€è¦é‚»å±…ç¡®è®¤/æ˜¯å¦å‘é€å“åº”Pæ ‡å¿—ç½®ä½çš„å›åº”æŠ¥æ–‡/è½¬å‘å’Œæ§åˆ¶åˆ†ç¦»æ ‡å¿—/è®¤è¯æ ‡è¯†/æŸ¥è¯¢è¯·æ±‚/ä¸ºBFDå°†æ¥æ”¯æŒç‚¹å¯¹å¤šç‚¹æ‰©å±•è€Œè®¾çš„é¢„ç•™ä½&lt;/li&gt;
&lt;li&gt;Detect Multï¼šæ£€æµ‹è¶…æ—¶å€æ•°ï¼Œç”¨äºæ£€æµ‹æ–¹è®¡ç®—æ£€æµ‹è¶…æ—¶æ—¶é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¼šè¯å»ºç«‹æ–¹å¼&#34;&gt;ä¼šè¯å»ºç«‹æ–¹å¼&lt;/h2&gt;
&lt;p&gt;é™æ€å’ŒåŠ¨æ€åˆ›å»ºBFDä¼šè¯çš„ä¸»è¦åŒºåˆ«åœ¨äº&lt;strong&gt;æœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦çš„é…ç½®æ–¹å¼ä¸åŒ&lt;/strong&gt;ï¼Œé™æ€çš„éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼Œè€ŒåŠ¨æ€åˆ™è‡ªå·±äº§ç”Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é™æ€å»ºç«‹BFDä¼šè¯&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é™æ€æ‰‹å·¥æŒ‡å®šæ ‡è¯†ç¬¦&lt;/strong&gt;ï¼šé€šè¿‡å‘½ä»¤è¡Œ&lt;strong&gt;æ‰‹å·¥é…ç½®BFDä¼šè¯å‚æ•°&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŒ…æ‹¬é…ç½®æœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦ç­‰&lt;/strong&gt;ï¼Œç„¶åæ‰‹å·¥ä¸‹å‘BFDä¼šè¯å»ºç«‹è¯·æ±‚ï¼Œé…ç½®æ­¥éª¤ï¼š
&lt;ol&gt;
&lt;li&gt;å¯ç”¨BFD&lt;/li&gt;
&lt;li&gt;å»ºç«‹BFDä¼šè¯çš„åç§°åŠæºç›®IP&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é™æ€è‡ªåå•†æ ‡è¯†ç¬¦&lt;/strong&gt;ï¼šæ‰‹å·¥&lt;strong&gt;åˆ›å»ºBFDä¼šè¯&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;ä¸éœ€è¦é…ç½®æœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦&lt;/strong&gt;ï¼Œæœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦é€šè¿‡ä¼šè¯åå•†è·å¾—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ¨æ€å»ºç«‹BFDä¼šè¯&lt;/strong&gt;&lt;code&gt;åŠ¨æ€BFDå…·æœ‰è¾ƒé«˜çš„çµæ´»æ€§ï¼Œé€‚ç”¨äºå…¨ç½‘éƒ½å¯¹å¯é æ€§è¦æ±‚è¾ƒé«˜çš„ç½‘ç»œ&lt;/code&gt;&lt;br&gt;
åŠ¨æ€BFDä¼šè¯æ˜¯æŒ‡ç”±è·¯ç”±åè®®åŠ¨æ€è§¦å‘BFDä¼šè¯å»ºç«‹ã€‚åŠ¨æ€BFDä¸­ï¼Œæœ¬åœ°æ ‡è¯†ç¬¦æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œè¿œç«¯æ ‡è¯†ç¬¦ä»å¯¹ç«¯çš„BFDæŠ¥æ–‡ä¸­è·å–
&lt;ol&gt;
&lt;li&gt;åŠ¨æ€åˆ†é…æœ¬åœ°æ ‡è¯†ç¬¦ï¼šå½“åº”ç”¨ç¨‹åºè§¦å‘åŠ¨æ€åˆ›å»ºBFDä¼šè¯æ—¶ï¼Œç³»ç»Ÿåˆ†é…å±äºåŠ¨æ€ä¼šè¯æ ‡è¯†ç¬¦åŒºåŸŸçš„å€¼ä½œä¸ºBFDä¼šè¯çš„æœ¬åœ°æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;li&gt;è‡ªå­¦ä¹ è¿œç«¯æ ‡è¯†ç¬¦ï¼šå½“BFDä¼šè¯çš„ä¸€ç«¯æ”¶åˆ°è¿œç«¯æ ‡è¯†ç¬¦ä¸º0çš„BFDæ§åˆ¶æŠ¥æ–‡æ—¶ï¼Œæ ¹æ®å››å…ƒç»„ï¼ˆæºåœ°å€ã€ç›®çš„åœ°å€ã€å‡ºæ¥å£ã€VPNç´¢å¼•ï¼‰åˆ¤æ–­è¯¥æŠ¥æ–‡æ˜¯å¦ä¸æœ¬åœ°BFDä¼šè¯åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™å­¦ä¹ æ¥æ”¶åˆ°çš„BFDæŠ¥æ–‡ä¸­æœ¬åœ°æ ‡è¯†ç¬¦çš„å€¼ï¼Œå³è·å–è¿œç«¯æ ‡è¯†ç¬¦ï¼Œé…ç½®æ­¥éª¤ï¼š
&lt;ol&gt;
&lt;li&gt;å¯ç”¨BFD&lt;/li&gt;
&lt;li&gt;å»ºç«‹BFDä¼šè¯çš„åç§°åŠæºç›®IPå³å¯ï¼Œä¸ç”¨åˆ›å»ºæ ‡è¯†ç¬¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¼šè¯ç®¡ç†&#34;&gt;ä¼šè¯ç®¡ç†&lt;/h2&gt;
&lt;p&gt;BFDä¼šè¯æœ‰&lt;strong&gt;å››ç§çŠ¶æ€&lt;/strong&gt;ï¼š&lt;code&gt;ä¼šè¯çŠ¶æ€å˜åŒ–é€šè¿‡BFDæŠ¥æ–‡çš„Stateå­—æ®µä¼ é€’&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AdminDownï¼šä¼šè¯å¤„äºç®¡ç†æ€§DownçŠ¶æ€&lt;code&gt;0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Downï¼šä¼šè¯å¤„äºDownçŠ¶æ€æˆ–åˆšåˆšåˆ›å»º&lt;code&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Initï¼šå·²ç»èƒ½å¤Ÿä¸å¯¹ç«¯ç³»ç»Ÿé€šä¿¡ï¼Œæœ¬ç«¯å¸Œæœ›ä½¿ä¼šè¯è¿›å…¥UpçŠ¶æ€&lt;code&gt;2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Upï¼šä¼šè¯å·²ç»å»ºç«‹æˆåŠŸ&lt;code&gt;3&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614693995968.png&#34; alt=&#34;ä¼šè¯ç®¡ç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;BFDçŠ¶æ€æœºçš„å»ºç«‹å’Œæ‹†é™¤éƒ½é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ï¼Œä»¥ç¡®ä¿ä¸¤ç«¯ç³»ç»Ÿéƒ½èƒ½çŸ¥é“çŠ¶æ€çš„å˜åŒ–&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DeviceAå’ŒDeviceBå„è‡ªå¯åŠ¨BFDçŠ¶æ€æœºï¼Œåˆå§‹çŠ¶æ€ä¸ºDownï¼Œå‘é€&lt;strong&gt;çŠ¶æ€ä¸ºDownçš„BFDæŠ¥æ–‡&lt;/strong&gt;ã€‚å¯¹äºé™æ€é…ç½®BFDä¼šè¯ï¼ŒæŠ¥æ–‡ä¸­çš„è¿œç«¯æ ‡è¯†ç¬¦æ˜¯ç”¨æˆ·æŒ‡å®šçš„ï¼›å¯¹äºåŠ¨æ€åˆ›å»ºBFDä¼šè¯ï¼Œè¿œç«¯æ ‡è¯†ç¬¦çš„å€¼æ˜¯0&lt;/li&gt;
&lt;li&gt;DeviceBæ”¶åˆ°çŠ¶æ€ä¸ºDownçš„BFDæŠ¥æ–‡åï¼ŒçŠ¶æ€åˆ‡æ¢è‡³Initï¼Œå¹¶å‘é€çŠ¶æ€ä¸ºInitçš„BFDæŠ¥æ–‡&lt;code&gt;DeviceBæœ¬åœ°BFDçŠ¶æ€ä¸ºInitåï¼Œä¸å†å¤„ç†æ¥æ”¶åˆ°çš„çŠ¶æ€ä¸ºDownçš„æŠ¥æ–‡&lt;/code&gt;ï¼›DeviceAçš„BFDçŠ¶æ€å˜åŒ–åŒDeviceBï¼Œå¹¶ä¸”å‘DeviceBå‘é€çŠ¶æ€ä¸ºInitçš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;DeviceBæ”¶åˆ°çŠ¶æ€ä¸ºInitçš„BFDæŠ¥æ–‡åï¼Œæœ¬åœ°çŠ¶æ€åˆ‡æ¢è‡³Upï¼›DeviceAçš„BFDçŠ¶æ€å˜åŒ–åŒDeviceBã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è”åŠ¨åŠŸèƒ½&#34;&gt;è”åŠ¨åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;è”åŠ¨åŠŸèƒ½ç”±&lt;strong&gt;æ£€æµ‹æ¨¡å—ã€Trackå’Œåº”ç”¨æ¨¡å—&lt;/strong&gt;ä¸‰éƒ¨åˆ†ç»„æˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›‘æµ‹æ¨¡å—ï¼šè´Ÿè´£å¯¹é“¾è·¯çŠ¶æ€ã€ç½‘ç»œæ€§èƒ½ç­‰è¿›è¡Œç›‘æµ‹ï¼Œå¹¶å°†æ¢æµ‹ç»“æœé€šçŸ¥ç»™Trackæ¨¡å—&lt;/li&gt;
&lt;li&gt;Trackæ¨¡å—ï¼šæ”¶åˆ°ç›‘æµ‹æ¨¡å—çš„æ¢æµ‹ç»“æœåï¼ŒåŠæ—¶æ”¹å˜Tracké¡¹çš„çŠ¶æ€ï¼Œå¹¶é€šçŸ¥åº”ç”¨æ¨¡å—&lt;/li&gt;
&lt;li&gt;åº”ç”¨æ¨¡å—ï¼šæ ¹æ®Tracké¡¹çš„çŠ¶æ€ï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-ä¸é™æ€è·¯ç”±çš„è”åŠ¨&#34;&gt;1. ä¸é™æ€è·¯ç”±çš„è”åŠ¨&lt;/h3&gt;
&lt;p&gt;å…ˆåˆ›å»ºBFDä¼šè¯ï¼Œç„¶ååœ¨å†™é™æ€è·¯ç”±æ—¶ä¸åˆ›å»ºçš„BFDä¼šè¯åç§°ç»‘å®šå³å¯ï¼Œå¦‚æœä¼šè¯å‡ºç°é—®é¢˜ï¼Œé™æ€è·¯ç”±åˆ™ä¸å†åŠ IPè·¯ç”±è¡¨&lt;br&gt;
åœ¨é™æ€è·¯ç”±ä¸BFDè”åŠ¨åº”ç”¨ä¸­ï¼Œå¦‚æœ&lt;strong&gt;å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒé™æ€BFDä¼šè¯ï¼Œè€Œé‡‡ç”¨åŠ¨æ€BFDä¼šè¯&lt;/strong&gt;ï¼Œæ­¤æ—¶æœ¬ç«¯è®¾å¤‡æ—¢è¦ä¸ä¹‹äº’é€šï¼Œåˆè¦èƒ½å¤Ÿå®ç°é™æ€è·¯ç”±ä¸BFDè”åŠ¨æ—¶ï¼Œå¿…é¡»ä½¿ç”¨&lt;strong&gt;é™æ€è‡ªåå•†æ ‡è¯†ç¬¦çš„BFDä¼šè¯å»ºç«‹æ–¹å¼&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-ä¸igpospf-isis-ripçš„è”åŠ¨&#34;&gt;2. ä¸IGPï¼ˆospfã€isisã€ripï¼‰çš„è”åŠ¨&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨åŠ¨æ€å»ºç«‹BFDä¼šè¯&lt;/code&gt;&lt;br&gt;
ç›´æ¥åœ¨IGPè¿›ç¨‹ä¸‹å¯ç”¨BFDä¼šè¯å³å¯ï¼Œé‚»å±…å‡ºç°é—®é¢˜ç«‹é©¬æ”¶æ•›&lt;/p&gt;
&lt;h3 id=&#34;3-ä¸bgpçš„è”åŠ¨&#34;&gt;3. ä¸BGPçš„è”åŠ¨&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨åŠ¨æ€å»ºç«‹BFDä¼šè¯&lt;/code&gt;&lt;br&gt;
åœ¨BGPè¿›ç¨‹ä¸‹æŒ‡å®špeeræ—¶ç»‘å®šBFDä¼šè¯ï¼Œé‚»å±…å‡ºç°é—®é¢˜ç«‹é©¬æ”¶æ•›&lt;/p&gt;
&lt;h3 id=&#34;4-ä¸vrrpçš„è”åŠ¨&#34;&gt;4. ä¸VRRPçš„è”åŠ¨&lt;/h3&gt;
&lt;p&gt;å…ˆåˆ›å»ºBFDä¼šè¯ï¼Œç„¶ååœ¨åˆ›å»ºVRRPæ—¶ä¸åˆ›å»ºçš„BFDä¼šè¯åç§°ç»‘å®šå³å¯ï¼Œå¦‚æœä¼šè¯å‡ºç°é—®é¢˜ï¼Œåˆ™ä¼šæ›´æ”¹ä¼˜å…ˆçº§&lt;/p&gt;
&lt;h3 id=&#34;5-bfdçš„å•è‡‚å›å£°åŠŸèƒ½bfd-echo&#34;&gt;5. BFDçš„å•è‡‚å›å£°åŠŸèƒ½ï¼ˆBFD Echoï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä¸€å°è®¾å¤‡æ”¯æŒBFDåŠŸèƒ½ï¼Œå¦ä¸€å°è®¾å¤‡ä¸æ”¯æŒBFDåŠŸèƒ½ï¼Œåªæ”¯æŒåŸºæœ¬çš„ç½‘ç»œå±‚è½¬å‘çš„æƒ…å†µä¸‹ä½¿ç”¨&lt;/code&gt;&lt;br&gt;
åœ¨æ”¯æŒBFDåŠŸèƒ½çš„è®¾å¤‡ä¸Šåˆ›å»ºå•è‡‚å›å£°åŠŸèƒ½çš„BFDä¼šè¯ï¼Œå‘é€ç‰¹æ®ŠæŠ¥æ–‡ï¼Œä¸æ”¯æŒBFDåŠŸèƒ½çš„è®¾å¤‡æ¥æ”¶åˆ°è¯¥æŠ¥æ–‡åç›´æ¥å°†å…¶ç¯å›åˆ°æ”¯æŒBFDçš„è®¾å¤‡ä¸Šï¼Œä»è€Œå®ç°è½¬å‘é“¾è·¯çš„è¿é€šæ€§æ£€æµ‹åŠŸèƒ½&lt;code&gt;ç‰¹æ®ŠæŠ¥æ–‡ï¼šIPå¤´ä¸­çš„æºã€ç›®IPéƒ½æ˜¯æœ¬ç«¯è®¾å¤‡çš„IPåœ°å€ï¼ŒBFDåè®®æŠ¥æ–‡ä¸­çš„æœ¬åœ°å’Œè¿œç«¯æ ‡è¯†ç¬¦ç›¸åŒ&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;BFD EchoåŒ…æ‹¬&lt;strong&gt;è¢«åŠ¨Echoå’Œå•è‡‚Echo&lt;/strong&gt;ï¼Œä¸¤ç§åŠŸèƒ½&lt;strong&gt;æ£€æµ‹æœºåˆ¶ä¸€æ ·ä¸”åªé€‚ç”¨äºå•è·³IPé“¾è·¯&lt;/strong&gt;ï¼Œä½†æ˜¯é€‚ç”¨çš„åœºæ™¯ä¸åŒ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¢«åŠ¨EchoåŠŸèƒ½&lt;/strong&gt;ï¼šä¸¤å°è®¾å¤‡&lt;strong&gt;ç›´è¿&lt;/strong&gt;ï¼Œä¸”å·²ç»å»ºç«‹äº†&lt;strong&gt;å¼‚æ­¥æ¨¡å¼&lt;/strong&gt;çš„BFDä¼šè¯ï¼Œå…¶ä¸­&lt;strong&gt;ä¸€å°&lt;/strong&gt;è®¾å¤‡ä¸Šä½¿èƒ½&lt;strong&gt;ä¸»åŠ¨Echo&lt;/strong&gt;åŠŸèƒ½ï¼Œ&lt;strong&gt;å¦ä¸€å°&lt;/strong&gt;è®¾å¤‡ä¸Šä½¿èƒ½&lt;strong&gt;è¢«åŠ¨Echo&lt;/strong&gt;åŠŸèƒ½åï¼Œä¸¤å°è®¾å¤‡ä¼š&lt;strong&gt;è¿›å…¥å¼‚æ­¥Echo&lt;/strong&gt;æ¨¡å¼ï¼Œ&lt;strong&gt;åˆ†åˆ«å‘å¯¹ç«¯å‘é€BFDæŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å•è‡‚EchoåŠŸèƒ½&lt;/strong&gt;ï¼šä¸¤å°è®¾å¤‡ç›´è¿ï¼Œå…¶ä¸­&lt;strong&gt;ä¸€å°&lt;/strong&gt;è®¾å¤‡&lt;strong&gt;æ”¯æŒBFD&lt;/strong&gt;åŠŸèƒ½ï¼Œ&lt;strong&gt;å¦ä¸€å°&lt;/strong&gt;è®¾å¤‡&lt;strong&gt;ä¸æ”¯æŒBFD&lt;/strong&gt;åŠŸèƒ½ï¼Œåœ¨&lt;strong&gt;æ”¯æŒBFDåŠŸèƒ½çš„è®¾å¤‡&lt;/strong&gt;ä¸Š&lt;strong&gt;åˆ›å»ºå•è‡‚Echo&lt;/strong&gt;åŠŸèƒ½çš„BFDä¼šè¯ï¼Œå½“ä¸æ”¯æŒBFDåŠŸèƒ½çš„è®¾å¤‡æ¥æ”¶åˆ°è¯¥BFDæŠ¥æ–‡åï¼Œç›´æ¥å°†è¯¥æŠ¥æ–‡ç¯å›ï¼Œä»è€Œè¾¾åˆ°å¿«é€Ÿæ£€æµ‹é“¾è·¯çš„ç›®çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;15&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614696609553.png&#34; alt=&#34;BFD Echoä¼šè¯ä¸é™æ€å•è·³ä¼šè¯çš„æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h1 id=&#34;nqaç½‘ç»œè´¨é‡åˆ†æ&#34;&gt;NQAï¼ˆç½‘ç»œè´¨é‡åˆ†æï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å‘é€æµ‹è¯•æŠ¥æ–‡ï¼Œå¯¹ç½‘ç»œæ€§èƒ½ã€ç½‘ç»œæä¾›çš„æœåŠ¡åŠæœåŠ¡è´¨é‡è¿›è¡Œåˆ†æï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›ç½‘ç»œæ€§èƒ½å’ŒæœåŠ¡è´¨é‡çš„&lt;br&gt;
å‚æ•°ï¼Œå¦‚æ—¶å»¶æŠ–åŠ¨ã€TCPè¿æ¥æ—¶å»¶ã€FTPè¿æ¥æ—¶å»¶å’Œæ–‡ä»¶ä¼ è¾“é€Ÿç‡ç­‰ã€‚åˆ©ç”¨NQAçš„æµ‹è¯•ç»“æœï¼Œç”¨æˆ·å¯ä»¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŠæ—¶äº†è§£ç½‘ç»œçš„æ€§èƒ½çŠ¶å†µï¼Œé’ˆå¯¹ä¸åŒçš„ç½‘ç»œæ€§èƒ½ï¼Œè¿›è¡Œç›¸åº”å¤„ç†&lt;/li&gt;
&lt;li&gt;å¯¹ç½‘ç»œæ•…éšœè¿›è¡Œè¯Šæ–­å’Œå®šä½&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è·å–ä¸°å¯Œçš„ç½‘ç»œè´¨é‡æˆ–æ€§èƒ½æ•°æ®&lt;/strong&gt;&lt;br&gt;
å¯è·å–ç«¯åˆ°ç«¯è¿é€šæ€§å’Œè·¯å¾„ä¿¡æ¯ã€é“¾è·¯æ€§èƒ½ï¼ˆåŒ…æ‹¬æ—¶å»¶ã€æŠ–åŠ¨ã€ä¸¢åŒ…ç‡ï¼‰å’Œç½‘ç»œæœåŠ¡å“åº”æ—¶é—´ç­‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒå¤šç§æµ‹è¯•ç±»å‹&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;Pingï¼šæ£€æµ‹ç½‘ç»œçš„è¿é€šæ€§ï¼Œä¾‹å¦‚ICMPæµ‹è¯•&lt;/li&gt;
&lt;li&gt;Tracertï¼šè·å–ç½‘ç»œçš„è·¯å¾„ä¿¡æ¯ï¼Œä¾‹å¦‚Traceæµ‹è¯•&lt;/li&gt;
&lt;li&gt;Jitterï¼šæµ‹é‡ç½‘ç»œçš„æ€§èƒ½ï¼Œä¾‹å¦‚ICMP Jitteræµ‹è¯•ã€UDP Jitteræµ‹è¯•&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæœåŠ¡æ€§èƒ½ï¼šæ£€æµ‹ç½‘ç»œä¸­å„ç±»æœåŠ¡çš„æ€§èƒ½ï¼Œä¾‹å¦‚TCPæµ‹è¯•ã€DNSæµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒçµæ´»çš„è°ƒåº¦æœºåˆ¶&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨æ–¹å¼ï¼šç«‹å³å¯åŠ¨ã€æŒ‡å®šæ—¶é—´å¯åŠ¨ã€å»¶æ—¶å¯åŠ¨ã€æ¯æ—¥å®šæ—¶å¯åŠ¨&lt;/li&gt;
&lt;li&gt;ç»“æŸæ–¹å¼ï¼šæŒ‡å®šç»“æŸæ—¶é—´ã€å»¶æ—¶ç»“æŸã€æŒ‡å®šè¿è¡Œæ—¶é—´&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¯æŒè”åŠ¨åŠŸèƒ½&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;è”åŠ¨åŠŸèƒ½æ˜¯æŒ‡é€šè¿‡å»ºç«‹è”åŠ¨é¡¹ï¼Œå¯¹å½“å‰æ‰€åœ¨æµ‹è¯•ç»„ä¸­çš„æ¢æµ‹è¿›è¡Œç›‘æµ‹ï¼Œ&lt;strong&gt;å½“è¿ç»­æ¢æµ‹å¤±è´¥æ¬¡æ•°è¾¾åˆ°ä¸€å®šæ•°ç›®æ—¶ï¼Œå°±è§¦å‘å…¶ä»–æ¨¡å—è”åŠ¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç”±åº”ç”¨æ¨¡å—ã€Trackæ¨¡å—å’Œç›‘æµ‹åŠŸèƒ½æ¨¡å—ä¸‰éƒ¨åˆ†ç»„æˆï¼Œ&lt;strong&gt;Trackæ¨¡å—&lt;/strong&gt;ä½äºåº”ç”¨æ¨¡å—å’Œç›‘æµ‹åŠŸèƒ½æ¨¡å—ä¹‹é—´ï¼Œä¸»è¦åŠŸèƒ½æ˜¯å±è”½ä¸åŒç›‘æµ‹åŠŸèƒ½æ¨¡å—çš„å·®å¼‚ï¼Œ&lt;strong&gt;ä¸ºåº”ç”¨æ¨¡å—æä¾›ç»Ÿä¸€çš„æ¥å£&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å½“ç›‘æµ‹é¡¹çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç›‘æµ‹åŠŸèƒ½æ¨¡å—é€šçŸ¥Trackæ¨¡å—ï¼Œå†ç”±Trackæ¨¡å—é€šçŸ¥åº”ç”¨æ¨¡å—è¿›è¡Œç›¸åº”çš„å¤„ç†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614698125873.png&#34; alt=&#34;è”åŠ¨åŠŸèƒ½&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;NQAå®¢æˆ·ç«¯æ˜¯å‘èµ·NQAæµ‹è¯•çš„è®¾å¤‡ï¼ŒNQAæµ‹è¯•ç»„åœ¨å®¢æˆ·ç«¯åˆ›å»ºã€‚&lt;br&gt;
NQAçš„&lt;strong&gt;åŸºæœ¬æµ‹è¯•æ–¹å¼ä¸ºå®¢æˆ·ç«¯å‘å¯¹ç«¯å‘é€ä¸åŒç±»å‹çš„æµ‹è¯•æŠ¥æ–‡&lt;/strong&gt;ï¼Œæ ¹æ®å¯¹ç«¯æ˜¯å¦å›åº”æŠ¥æ–‡ä»¥åŠæŠ¥æ–‡çš„å¾€è¿”æ—¶é—´ç­‰å‚æ•°ï¼Œæ¥åˆ¤æ–­åè®®çš„å¯ç”¨æ€§å’Œç½‘ç»œçš„æ€§èƒ½&lt;br&gt;
åœ¨å¤§å¤šæ•°çš„æµ‹è¯•ä¸­ï¼Œåªéœ€è¦é…ç½®NQAå®¢æˆ·ç«¯&lt;code&gt;å¯¹äºTCPã€UDP Jitteræµ‹è¯•ï¼Œè¿˜éœ€è¦åœ¨å¯¹ç«¯è®¾å¤‡ä¸Šé…ç½®NQAæœåŠ¡å™¨&lt;/code&gt;ï¼Œå¯åŠ¨NQAæµ‹è¯•åï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å¯åŠ¨ä¸€æ¬¡æµ‹è¯•ï¼Œæµ‹è¯•çš„æ—¶é—´é—´éš”å¯ä»¥ç”±ç”¨æˆ·æ¥è®¾å®šã€‚ä¸€æ¬¡NQAæµ‹è¯•ç”±ä¸€æ¬¡æˆ–å¤šæ¬¡è¿ç»­çš„æ¢æµ‹ç»„æˆï¼Œæ¢æµ‹çš„æ¬¡æ•°å¯ä»¥ç”±ç”¨æˆ·æ¥è®¾å®š&lt;/p&gt;
&lt;h2 id=&#34;æµ‹è¯•åŸç†&#34;&gt;æµ‹è¯•åŸç†&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;16&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614699175233.png&#34; alt=&#34;æµ‹è¯•åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€è¯·æ±‚æŠ¥æ–‡æ—¶ï¼Œå°†å½“å‰ç³»ç»Ÿæ—¶é—´t1ä½œä¸ºæµ‹è¯•æŠ¥æ–‡çš„å‘é€æ—¶é—´ï¼Œå‘è¯·æ±‚æŠ¥æ–‡ä¸­æ‰“å…¥æ—¶é—´æˆ³ï¼Œç„¶åå†å‘é€ç»™æœåŠ¡å™¨ç«¯&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯æ¥æ”¶è¯·æ±‚æŠ¥æ–‡åï¼Œå‘å®¢æˆ·ç«¯å‘é€å¯¹åº”åœ°å“åº”æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯åœ¨æ¥æ”¶åˆ°å“åº”æŠ¥æ–‡åï¼Œä¼šå†æ¬¡è¯»å–ç³»ç»Ÿçš„æ—¶é—´t2ï¼Œå‘å“åº”æŠ¥æ–‡ä¸­æ‰“å…¥æ—¶é—´æˆ³&lt;/li&gt;
&lt;li&gt;æ ¹æ®è¯·æ±‚æŠ¥æ–‡&lt;strong&gt;å‘é€æ—¶é—´t1ä¸å“åº”æŠ¥æ–‡æ¥æ”¶æ—¶é—´t2çš„æ—¶é—´å·®&lt;/strong&gt;ï¼Œå°±å¯ä»¥å¾—å‡ºæŠ¥æ–‡çš„å¾€è¿”æ—¶é—´ï¼Œä¹Ÿå³&lt;strong&gt;æ—¶å»¶&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å¯¹äºJitterç±»æµ‹è¯•ï¼Œä¸ä»…NQAå®¢æˆ·ç«¯éœ€è¦åœ¨å‘é€å’Œæ¥æ”¶æŠ¥æ–‡æ—¶æ‰“æ—¶é—´æˆ³ï¼ŒNQAæœåŠ¡å™¨ç«¯åœ¨æ¥æ”¶å’Œå‘é€æŠ¥æ–‡æ—¶ï¼Œä¹Ÿè¦è¯»å–è‡ªå·±çš„æœ¬åœ°ç³»ç»Ÿæ—¶é—´ï¼Œæ‰“ä¸Šæ—¶é—´æˆ³ã€‚é€šè¿‡æ¯æ¬¡å¾€è¿”æ—¶é—´çš„å·®åˆ«ï¼Œå°±èƒ½å¤Ÿè®¡ç®—å‡ºæŠ–åŠ¨æ—¶é—´&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æµ‹è¯•æ“ä½œ&#34;&gt;æµ‹è¯•æ“ä½œ&lt;/h2&gt;
&lt;p&gt;åœ¨NQAå®¢æˆ·ç«¯ä¸Šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿èƒ½NQAå®¢æˆ·ç«¯åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæµ‹è¯•ç»„ï¼Œæ ¹æ®æµ‹è¯•ç±»å‹è¿›è¡Œç›¸åº”æµ‹è¯•å‚æ•°çš„é…ç½®&lt;/li&gt;
&lt;li&gt;é€šè¿‡å¯åŠ¨æµ‹è¯•å‘½ä»¤æ‰§è¡ŒNQAæµ‹è¯•&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ˜¾ç¤ºå‘½ä»¤æˆ–è°ƒè¯•å‘½ä»¤æŸ¥çœ‹æµ‹è¯•ç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æµ‹è¯•ç±»å‹&#34;&gt;æµ‹è¯•ç±»å‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;17&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614699598610.png&#34; alt=&#34;æµ‹è¯•ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1-icmpæµ‹è¯•&#34;&gt;1. ICMPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ç”¨äº&lt;strong&gt;æ£€æµ‹æºç«¯åˆ°ç›®çš„ç«¯çš„è·¯ç”±æ˜¯å¦å¯è¾¾&lt;/strong&gt;ï¼Œä¸Pingæ“ä½œç±»ä¼¼ï¼Œä½†è¾“å‡ºä¿¡æ¯æ›´ä¸ºä¸°å¯Œï¼Œ&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹èƒ½å¤Ÿä¿å­˜æœ€è¿‘5æ¬¡çš„æµ‹è¯•ç»“æœ&lt;/strong&gt;ï¼Œç»“æœèƒ½å¤Ÿæ˜¾ç¤ºIPç½‘ç»œçš„&lt;strong&gt;è¿é€šæ€§ã€ä¸¢åŒ…ç‡ã€å¹³å‡æ—¶å»¶ã€æœ€åä¸€ä¸ªæŠ¥æ–‡æ­£ç¡®æ¥æ”¶çš„æ—¶é—´&lt;/strong&gt;ç­‰&lt;br&gt;
ICMPæµ‹è¯•çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æºç«¯å‘ç›®çš„ç«¯å‘é€æ„é€ çš„ICMP Echo RequestæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç›®çš„ç«¯æ”¶åˆ°æŠ¥æ–‡åï¼Œç›´æ¥å›åº”ICMP Echo ReplyæŠ¥æ–‡ç»™æºç«¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-traceæµ‹è¯•&#34;&gt;2. Traceæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ä¸Tracertæ“ä½œç±»ä¼¼ï¼Œé€šè¿‡æ£€æµ‹ç½‘ç»œè·¯å¾„ä¸Šçš„æ¯ä¸€è·³ï¼Œ&lt;strong&gt;æ£€æµ‹ç½‘ç»œçš„è¿é€šæ€§å’ŒæŠ¥æ–‡çš„è½¬å‘è·¯å¾„&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-tcpæµ‹è¯•&#34;&gt;3. TCPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;é€šè¿‡æ¨¡æ‹ŸTCPè¯·æ±‚ä¸ç›®çš„ç«¯å»ºç«‹TCPè¿æ¥ï¼Œ&lt;strong&gt;æ£€æµ‹æºç«¯ä¸ç›®çš„ç«¯å»ºç«‹TCPè¿æ¥çš„é€Ÿåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-dnsæµ‹è¯•&#34;&gt;4. DNSæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;DNSæµ‹è¯•ä»¥UDPæŠ¥æ–‡ä¸ºæ‰¿è½½ï¼Œé€šè¿‡æ¨¡æ‹ŸDNS Clientå‘æŒ‡å®šçš„DNSæœåŠ¡å™¨å‘é€åŸŸåè§£æè¯·æ±‚ï¼Œæ ¹æ®åŸŸåè§£ææ˜¯å¦æˆåŠŸåŠåŸŸåè§£æéœ€è¦çš„æ—¶é—´ï¼Œæ¥&lt;strong&gt;åˆ¤æ–­DNSæœåŠ¡å™¨æ˜¯å¦å¯ç”¨ä»¥åŠåŸŸåè§£æé€Ÿåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-icmpudp-jitteræµ‹è¯•&#34;&gt;5. ICMP/UDP Jitteræµ‹è¯•&lt;/h3&gt;
&lt;p&gt;é€šè¿‡å‘é€ä¸€ç³»åˆ—ICMP/UDPæŠ¥æ–‡ï¼Œ&lt;strong&gt;ç»Ÿè®¡ç«¯åˆ°ç«¯æ—¶å»¶çš„å·®å€¼ï¼Œå¾—å‡ºç½‘ç»œä¼ è¾“æ•°æ®çš„ç¨³å®šæ€§&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;6-ftpæµ‹è¯•&#34;&gt;6. FTPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;FTPæµ‹è¯•ä»¥TCPæŠ¥æ–‡ä¸ºæ‰¿è½½ï¼Œç”¨äº&lt;strong&gt;æ£€æµ‹æ˜¯å¦å¯ä»¥ä¸æŒ‡å®šçš„FTPæœåŠ¡å™¨å»ºç«‹è¿æ¥&lt;/strong&gt;ï¼Œå¯ä»¥&lt;strong&gt;æ£€æµ‹&lt;/strong&gt;FTPæœåŠ¡å™¨ä¸‹è½½æŒ‡å®šæ–‡ä»¶æˆ–å‘FTPæœåŠ¡å™¨ä¸Šè½½æŒ‡å®š&lt;strong&gt;æ–‡ä»¶çš„é€Ÿåº¦&lt;/strong&gt;ï¼Œä»¥åŠFTPæ§åˆ¶é“¾æ¥å’Œæ•°æ®é“¾æ¥ä¸¤ä¸ªé˜¶æ®µçš„&lt;strong&gt;å“åº”é€Ÿåº¦&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;7-httpæµ‹è¯•&#34;&gt;7. HTTPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;HTTPæµ‹è¯•ä¸»è¦æ˜¯æµ‹è¯•å®¢æˆ·ç«¯æ˜¯å¦å¯ä»¥&lt;strong&gt;ä¸æŒ‡å®šçš„HTTPæœåŠ¡å™¨å»ºç«‹è¿æ¥&lt;/strong&gt;ï¼Œä»è€Œåˆ¤æ–­è¯¥è®¾å¤‡&lt;strong&gt;æ˜¯å¦æä¾›äº†HTTPæœåŠ¡ä»¥åŠå»ºç«‹è¿æ¥çš„æ—¶é—´&lt;/strong&gt;&lt;br&gt;
HTTPæµ‹è¯•æä¾›ä¸‰ä¸ªé˜¶æ®µçš„å“åº”é€Ÿåº¦ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DNSè§£ææ—¶é—´ï¼šå®¢æˆ·ç«¯å‘é€DNSæŠ¥æ–‡ç»™DNSæœåŠ¡å™¨ï¼ŒDNSæœåŠ¡å™¨å°†HTTPæœåŠ¡å™¨åŸŸåè§£æä¸ºIPåœ°å€ï¼ŒDNS è§£ææŠ¥æ–‡è¿”å›åˆ°å®¢æˆ·ç«¯æ‰€èŠ±è´¹çš„æ€»æ—¶é—´&lt;/li&gt;
&lt;li&gt;TCPå»ºç«‹è¿æ¥æ—¶é—´ï¼šå®¢æˆ·ç«¯ä¸HTTPæœåŠ¡å™¨é€šè¿‡TCPä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥æ‰€ç”¨çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;äº¤æ˜“æ—¶é—´ï¼šå®¢æˆ·ç«¯å‘é€Getæˆ–PostæŠ¥æ–‡ç»™HTTPæœåŠ¡å™¨ï¼Œå“åº”æŠ¥æ–‡åˆ°è¾¾å®¢æˆ·ç«¯çš„æ—¶é—´&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-dhcpæµ‹è¯•&#34;&gt;8. DHCPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;DHCPæµ‹è¯•ç”¨äºæ£€æµ‹DHCPå®¢æˆ·ç«¯ä¸DHCPæœåŠ¡å™¨ä¹‹é—´&lt;strong&gt;å»ºç«‹è¿æ¥&lt;/strong&gt;çš„æ—¶é—´ä»¥åŠDHCPå®¢æˆ·ç«¯&lt;strong&gt;è·å¾—åœ°å€&lt;/strong&gt;çš„æ—¶é—´&lt;/p&gt;
&lt;h3 id=&#34;9-snmpæµ‹è¯•&#34;&gt;9. SNMPæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;SNMPæµ‹è¯•ç”¨äº&lt;strong&gt;æ£€æµ‹ä¸»æœºä¸SNMP Agentä¹‹é—´é€šä¿¡çš„é€Ÿåº¦&lt;/strong&gt;ï¼Œä»¥UDPæŠ¥æ–‡ä¸ºæ‰¿è½½ã€‚&lt;br&gt;
SNMPæµ‹è¯•çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æºç«¯å‘SNMP Agentå‘é€è¦æ±‚è·å–ç³»ç»Ÿæ—¶é—´çš„è¯·æ±‚æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;SNMP Agentæ”¶åˆ°æŠ¥æ–‡ï¼ŒæŸ¥è¯¢ç³»ç»Ÿæ—¶é—´å¹¶æ„é€ å›åº”æŠ¥æ–‡ï¼Œç„¶åå†æŠŠè¿™ä¸ªæ•°æ®åŒ…å‘å›åˆ°æºç«¯&lt;/li&gt;
&lt;li&gt;æºç«¯æ”¶åˆ°æ•°æ®åŒ…åé€šè¿‡è®¡ç®—æºç«¯æ¥æ”¶æŠ¥æ–‡çš„æ—¶é—´å’Œæºç«¯å‘é€æŠ¥æ–‡çš„æ—¶é—´çš„å·®ï¼Œè®¡ç®—å‡ºæºç«¯ä¸SNMP Agentä¹‹é—´é€šä¿¡çš„æ—¶é—´ï¼Œä»è€Œæ¸…æ™°çš„åæ˜ å‡ºç½‘ç»œSNMPåè®®çš„æ€§èƒ½çŠ¶å†µ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bfdä¸nqaçš„åŒºåˆ«&#34;&gt;BFDä¸NQAçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;BFDç”¨äºæ£€æŸ¥é“¾è·¯çš„æ•…éšœï¼Œå¯ä¸å„åè®®è¿›è¡Œè”åˆä½¿ç”¨ï¼Œä»è€Œè¾¾åˆ°ç½‘ç»œçš„å¿«é€Ÿæ”¶æ•›ã€‚&lt;br&gt;
NQAä¸»è¦ç”¨äºæ£€æŸ¥ä¸Šå±‚åè®®çš„æœåŠ¡æ˜¯å¦å¯ç”¨ï¼Œå¯ä¸å„ç§åè®®è”åŠ¨ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥é€šè¿‡ä¸ICMPåè®®çš„è”åŠ¨ï¼Œä»è€Œæ£€æµ‹é“¾è·¯æ˜¯å¦å¯ç”¨ï¼Œè¿™ä¸ªæ–¹å¼æ¯”BFDæ…¢&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;urpfå•æ’­é€†å‘è·¯å¾„è½¬å‘&#34;&gt;URPFï¼ˆå•æ’­é€†å‘è·¯å¾„è½¬å‘ï¼‰&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;ä¸»è¦åŠŸèƒ½æ˜¯é˜²æ­¢åŸºäºæºIPåœ°å€æ¬ºéª—çš„ç½‘ç»œæ”»å‡»è¡Œä¸º&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;åŸç†-2&#34;&gt;åŸç†&lt;/h2&gt;
&lt;p&gt;æ‹’ç»æœåŠ¡DoSæ”»å‡»æ˜¯ä¸€ç§é˜»æ­¢è¿æ¥æœåŠ¡çš„ç½‘ç»œæ”»å‡»ï¼Œå°±æ˜¯åˆ©ç”¨åˆç†çš„æœåŠ¡è¯·æ±‚æ¥å ç”¨è¿‡å¤šçš„æœåŠ¡èµ„æºï¼Œä»è€Œä½¿åˆæ³•ç”¨æˆ·æ— æ³•å¾—åˆ°æœåŠ¡çš„å“åº”ã€‚&lt;br&gt;
URPFåœ¨&lt;strong&gt;FIBè¡¨ä¸­æŸ¥æ‰¾æ•°æ®åŒ…çš„IPæºåœ°å€æ˜¯å¦ä¸æ•°æ®åŒ…çš„æºæ¥å£ç›¸åŒ¹é…&lt;/strong&gt;ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…è¡¨é¡¹å°†ä¸¢å¼ƒè¯¥æ•°æ®åŒ…ï¼Œä»è€Œé¢„é˜²IPæ¬ºéª—ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹ä¼ªé€ IPæºåœ°å€çš„DoSæ”»å‡»éå¸¸æœ‰æ•ˆã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614819845614.png&#34; alt=&#34;åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨DeviceAä¸Šä¼ªé€ æºåœ°å€ä¸º2.1.1.1çš„æŠ¥æ–‡å‘DeviceBå‘èµ·è¯·æ±‚ï¼ŒDeviceBå“åº”è¯·æ±‚æ—¶å°†å‘çœŸæ­£çš„2.1.1.1ï¼Œå³DeviceCå‘é€æŠ¥æ–‡ã€‚è¿™ç§éæ³•æŠ¥æ–‡å¯¹DeviceBå’ŒDeviceCéƒ½é€ æˆäº†æ”»å‡»ï¼Œå¦‚æœåœ¨DeviceBä¸Šå¯ç”¨URPFä¸¥æ ¼æ£€æŸ¥ï¼Œåˆ™DeviceBåœ¨æ”¶åˆ°æºåœ°å€ä¸º2.1.1.1çš„æŠ¥æ–‡æ—¶ï¼ŒURPFæ£€æŸ¥åˆ°ä»¥æ­¤æŠ¥æ–‡æºåœ°å€å¯¹åº”çš„æ¥å£ä¸æ”¶åˆ°è¯¥æŠ¥æ–‡çš„æ¥å£ä¸åŒ¹é…ï¼ŒæŠ¥æ–‡ä¼šè¢«ä¸¢å¼ƒ&lt;/p&gt;
&lt;h2 id=&#34;å·¥ä½œæ¨¡å¼&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å‡ºç°ä¸¤ç§å·¥ä½œæ¨¡å¼çš„åŸå› ï¼šè·¯ç”±ä¸å¯¹ç§°çš„æƒ…å†µä¸‹ï¼Œå³å¯¹ç«¯è®¾å¤‡è®°å½•çš„è·¯ç”±è·¯å¾„ä¸ä¸€æ ·ï¼Œæ­¤æ—¶ä½¿èƒ½URPFçš„è®¾å¤‡å¯èƒ½ä¸¢å¼ƒåˆæ³•æŠ¥æ–‡&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¥æ ¼æ¨¡å¼&lt;br&gt;
è®¾å¤‡ä¸ä»…è¦æ±‚&lt;strong&gt;æŠ¥æ–‡æºåœ°å€åœ¨FIBè¡¨ä¸­&lt;/strong&gt;å­˜åœ¨ç›¸åº”è¡¨é¡¹ï¼Œè¿˜è¦æ±‚&lt;strong&gt;æ¥å£åŒ¹é…&lt;/strong&gt;æ‰èƒ½é€šè¿‡URPFæ£€æŸ¥ï¼Œé€‚åˆç”¨åœ¨&lt;strong&gt;è·¯ç”±å¯¹ç§°çš„ç¯å¢ƒä¸‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ¾æ•£æ¨¡å¼&lt;br&gt;
è®¾å¤‡&lt;strong&gt;ä¸æ£€æŸ¥æ¥å£&lt;/strong&gt;æ˜¯å¦åŒ¹é…ï¼Œ&lt;strong&gt;åªè¦FIBè¡¨ä¸­å­˜åœ¨&lt;/strong&gt;è¯¥æŠ¥æ–‡æºåœ°å€çš„è·¯ç”±ï¼ŒæŠ¥æ–‡å°±å¯ä»¥é€šè¿‡ï¼Œé€‚åˆç”¨åœ¨&lt;strong&gt;ä¸èƒ½ä¿è¯è·¯ç”±å¯¹ç§°çš„ç¯å¢ƒä¸‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;h3 id=&#34;1-ä¸¥æ ¼æ¨¡å¼ä¸‹çš„urpfåº”ç”¨&#34;&gt;1. ä¸¥æ ¼æ¨¡å¼ä¸‹çš„URPFåº”ç”¨&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;18&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614820398612.png&#34; alt=&#34;ä¸¥æ ¼æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;AS1ã€AS2ä¸AS3ä¹‹é—´ä¸ºå•è¿æ¥ã€‚åœ¨RouterCçš„Interface1æ¥å£å’ŒInterface2æ¥å£ä¸Šé…ç½®URPFï¼Œå¯ä»¥ä¿æŠ¤AS3å…å—æ¥è‡ªAS1å’ŒAS2çš„æºåœ°å€æ¬ºéª—æ”»å‡»ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœAS1ä¸­çš„ä¸»æœºPCAä¼ªé€ äº†ä¸€ä¸ªæºåœ°å€ä¸º2.2.2.2çš„æŠ¥æ–‡ï¼Œå‘AS3ä¸­çš„Serverå‘é€è¯·æ±‚ã€‚RouterCåœ¨æ¥æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡åï¼Œæ£€æŸ¥å…¶å…¥æ¥å£æ˜¯å¦åŒ¹é…ï¼Œå‘ç°æºåœ°å€ä¸º2.2.2.2çš„æŠ¥æ–‡åº”è¯¥ä»Interface2è¿›å…¥ï¼Œåˆ™RouterCè®¤ä¸ºè¯¥æŠ¥æ–‡æºåœ°å€æ˜¯ä¼ªé€ çš„ï¼Œç›´æ¥ä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;ä»AS2å‘å‘Serverçš„æ­£å¸¸æŠ¥æ–‡ï¼Œæ£€æŸ¥é€šè¿‡åï¼Œè¢«æ­£å¸¸çš„è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-æ¾æ•£æ¨¡å¼ä¸‹çš„urpfåº”ç”¨&#34;&gt;2. æ¾æ•£æ¨¡å¼ä¸‹çš„URPFåº”ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å•å®¿ä¸»å•ISPå®¢æˆ·&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614820830541.png&#34; alt=&#34;å•å®¿ä¸»å•ISPå®¢æˆ·&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸ºäº†ä¿è¯å¯é æ€§ï¼ŒæŸå…¬å¸ç½‘ç»œå’ŒæŸä¸ªISPä¹‹é—´æœ‰ä¸¤æ¡è¿æ¥ï¼Œè¿™æ—¶å°±ä¸èƒ½å¤Ÿä¿è¯å…¬å¸å’ŒISPä¹‹é—´è·¯ç”±çš„å¯¹ç§°æ€§ï¼Œ&lt;strong&gt;å¿…é¡»ä½¿ç”¨URPFæ¾æ•£æ¨¡å¼&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¤šå®¿ä¸»å¤šISPå®¢æˆ·&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614820999854.png&#34; alt=&#34;å¤šå®¿ä¸»å¤šISPå®¢æˆ·&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å…¬å¸ä¸å¤šä¸ªISPè¿æ¥ï¼Œå¾ˆéš¾ä¿è¯å…¬å¸å’Œä¸¤ä¸ªISPä¹‹é—´è·¯ç”±çš„å¯¹ç§°æ€§ï¼Œå¿…é¡»ä½¿ç”¨URPFæ¾æ•£æ¨¡å¼&lt;br&gt;
å®¢æˆ·ä¸å¤šä¸ªISPè¿æ¥ä¸‹çš„URPFå¯ä»¥å…·æœ‰ä»¥ä¸‹åº”ç”¨ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœç”¨æˆ·å¸Œæœ›&lt;strong&gt;æŸäº›ç‰¹æ®ŠæŠ¥æ–‡&lt;/strong&gt;ä»»ä½•æƒ…å†µéƒ½å¯ä»¥&lt;strong&gt;é€šè¿‡URPFçš„æ£€æŸ¥&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨&lt;strong&gt;åˆ©ç”¨ACL&lt;/strong&gt;æŒ‡å®šè¿™äº›ç‰¹æ®Šçš„æºåœ°å€å…è®¸é€šè¿‡&lt;/li&gt;
&lt;li&gt;è®¸å¤šç”¨æˆ·è¿æ¥çš„è®¾å¤‡å¯èƒ½åªæœ‰ä¸€æ¡&lt;strong&gt;ç¼ºçœè·¯ç”±æŒ‡å‘ISP&lt;/strong&gt;ï¼Œéœ€è¦é…ç½®&lt;strong&gt;å…è®¸åŒ¹é…ç¼ºçœè·¯ç”±&lt;/strong&gt;é€‰é¡¹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;natç½‘ç»œåœ°å€è½¬æ¢&#34;&gt;NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰&lt;/h1&gt;
&lt;p&gt;NATæ˜¯å°†IPæ•°æ®æŠ¥æ–‡å¤´ä¸­çš„IPåœ°å€è½¬æ¢ä¸ºå¦ä¸€ä¸ªIPåœ°å€çš„è¿‡ç¨‹ï¼Œä¸»è¦ç”¨äºå®ç°å†…éƒ¨ç½‘ç»œï¼ˆç§æœ‰IPåœ°å€ï¼‰è®¿é—®å¤–éƒ¨ç½‘ç»œï¼ˆå…¬æœ‰IPåœ°å€ï¼‰çš„åŠŸèƒ½ã€‚Basic NATæ˜¯å®ç°ä¸€å¯¹ä¸€çš„IPåœ°å€è½¬æ¢ï¼Œè€ŒNAPTå¯ä»¥å®ç°å¤šä¸ªç§æœ‰IPåœ°å€æ˜ å°„åˆ°åŒä¸€ä¸ªå…¬æœ‰IPåœ°å€ä¸Šã€‚&lt;br&gt;
NATæŠ€æœ¯å¯ä»¥è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPåœ°å€çŸ­ç¼º&lt;code&gt;Basic NATä¸èƒ½è§£å†³æ­¤é—®é¢˜ï¼Œåªæœ‰NAPTæ‰èƒ½è§£å†³æ­¤é—®é¢˜ï¼Œå› æ­¤Basic NATä¸å¸¸ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é¿å…æ¥è‡ªå¤–ç½‘çš„æ”»å‡»&lt;/li&gt;
&lt;li&gt;æ§åˆ¶å†…ç½‘ä¸»æœºè®¿é—®å¤–ç½‘ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ§åˆ¶å¤–ç½‘ä¸»æœºè®¿é—®å†…ç½‘ï¼Œè§£å†³äº†å†…ç½‘å’Œå¤–ç½‘ä¸èƒ½äº’é€šçš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;
&lt;h3 id=&#34;1-basic-natä¸å¸¸ç”¨&#34;&gt;1. Basic NATï¼ˆä¸å¸¸ç”¨ï¼‰&lt;/h3&gt;
&lt;p&gt;ä¸€å¯¹ä¸€çš„åœ°å€è½¬æ¢ï¼Œåªè½¬æ¢IPåœ°å€ï¼Œè€Œä¸å¤„ç†TCP/UDPåè®®çš„ç«¯å£å·ï¼Œä¸€ä¸ªå…¬ç½‘IPåœ°å€ä¸èƒ½åŒæ—¶è¢«å¤šä¸ªç§ç½‘ç”¨æˆ·ä½¿ç”¨&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614822203249.png&#34; alt=&#34;Basic NAT&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Routeræ”¶åˆ°Hostå‘é€çš„è®¿é—®Serverçš„æŠ¥æ–‡ï¼Œå…¶æºIPåœ°å€ä¸º10.1.1.100&lt;/li&gt;
&lt;li&gt;Routerä»åœ°å€æ± ä¸­é€‰å–ä¸€ä¸ªç©ºé—²çš„å…¬ç½‘IPåœ°å€ï¼Œå»ºç«‹ä¸å†…ç½‘ä¾§æŠ¥æ–‡æºIPåœ°å€é—´çš„NATè½¬æ¢è¡¨é¡¹ï¼ˆæ­£åå‘ï¼‰ï¼Œå¹¶ä¾æ®æŸ¥æ‰¾æ­£å‘NATè¡¨é¡¹çš„ç»“æœå°†æŠ¥æ–‡è½¬æ¢åå‘å…¬ç½‘ä¾§å‘é€ï¼Œå…¶æºIPåœ°å€æ˜¯1.1.1.1ï¼Œç›®çš„IPåœ°å€æ˜¯2.2.2.2&lt;/li&gt;
&lt;li&gt;Routeræ”¶åˆ°å…¬ç½‘ä¾§çš„å›åº”æŠ¥æ–‡åï¼Œæ ¹æ®å…¶ç›®çš„IPåœ°å€æŸ¥æ‰¾åå‘NATè¡¨é¡¹ï¼Œå¹¶ä¾æ®æŸ¥è¡¨ç»“æœå°†æŠ¥æ–‡è½¬æ¢åå‘ç§ç½‘ä¾§å‘é€ï¼Œå…¶æºIPåœ°å€æ˜¯2.2.2.2ï¼Œç›®çš„IPåœ°å€æ˜¯10.1.1.100&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-napt&#34;&gt;2. NAPT&lt;/h3&gt;
&lt;p&gt;å¹¶å‘çš„åœ°å€è½¬æ¢ï¼Œå¤šä¸ªå†…éƒ¨åœ°å€æ˜ å°„åˆ°åŒä¸€ä¸ªå…¬æœ‰åœ°å€ä¸Šï¼Œé€šè¿‡ä½¿ç”¨â€œIPåœ°å€ï¼‹ç«¯å£å·â€çš„å½¢å¼è¿›è¡Œè½¬æ¢ï¼Œä½¿å¤šä¸ªç§ç½‘ç”¨æˆ·å¯å…±ç”¨ä¸€ä¸ªå…¬ç½‘IPåœ°å€è®¿é—®å¤–ç½‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614822371095.png&#34; alt=&#34;NAPT&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Routeræ”¶åˆ°å†…ç½‘ä¾§Hostå‘é€çš„è®¿é—®å…¬ç½‘ä¾§Serverçš„æŠ¥æ–‡ã€‚æ¯”å¦‚æ”¶åˆ°HostAæŠ¥æ–‡çš„æºåœ°å€æ˜¯10.1.1.100ï¼Œç«¯å£å·1025&lt;/li&gt;
&lt;li&gt;Routerä»åœ°å€æ± ä¸­é€‰å–ä¸€å¯¹ç©ºé—²çš„â€œå…¬ç½‘IPåœ°å€+ç«¯å£å·â€ï¼Œå»ºç«‹ä¸å†…ç½‘ä¾§æŠ¥æ–‡â€œæºIPåœ°å€ï¼‹æºç«¯å£å·â€é—´çš„NAPTè½¬æ¢è¡¨é¡¹ï¼ˆæ­£åå‘ï¼‰ï¼Œå¹¶ä¾æ®æŸ¥æ‰¾æ­£å‘NAPTè¡¨é¡¹çš„ç»“æœå°†æŠ¥æ–‡è½¬æ¢åå‘å…¬ç½‘ä¾§å‘é€ã€‚æ¯”å¦‚HostAçš„æŠ¥æ–‡ç»Routerè½¬æ¢åçš„æŠ¥æ–‡æºåœ°å€ä¸º1.1.1.1ï¼Œç«¯å£å·16384&lt;/li&gt;
&lt;li&gt;Routeræ”¶åˆ°å…¬ç½‘ä¾§çš„å›åº”æŠ¥æ–‡åï¼Œæ ¹æ®å…¶â€œç›®çš„IPåœ°å€ï¼‹ç›®çš„ç«¯å£å·â€æŸ¥æ‰¾åå‘NAPTè¡¨é¡¹ï¼Œå¹¶ä¾æ®æŸ¥è¡¨ç»“æœå°†æŠ¥æ–‡è½¬æ¢åå‘ç§ç½‘ä¾§å‘é€ã€‚æ¯”å¦‚Serverå›åº”Host Açš„æŠ¥æ–‡ç»Routerè½¬æ¢åï¼Œç›®çš„åœ°å€ä¸º10.1.1.100ï¼Œç«¯å£å·1025&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-nat-pt&#34;&gt;3. NAT-PT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é™æ€æ˜ å°„çš„NAT-PTæœºåˆ¶&lt;/li&gt;
&lt;li&gt;åŠ¨æ€æ˜ å°„çš„NAT-PTæœºåˆ¶ï¼šéœ€è¦å»ºç«‹åœ°å€æ± &lt;/li&gt;
&lt;li&gt;NAT-PTæœºåˆ¶ï¼šä¸åŒçš„IPv6åœ°å€è½¬æ¢æ—¶ï¼Œå¯ä»¥å¯¹åº”åŒä¸€ä¸ªIPv4åœ°å€ï¼Œé€šè¿‡ç«¯å£å·æ¥åŒºåˆ†ä¸åŒçš„IPv6ä¸»æœºï¼Œä»è€Œä½¿å¤šä¸ªIPv6ä¸»æœºèƒ½å¤Ÿå…±äº«ä¸€ä¸ªIPv4åœ°å€å®Œæˆè½¬æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®ç°æ–¹å¼&#34;&gt;å®ç°æ–¹å¼&lt;/h2&gt;
&lt;p&gt;NATå®ç°ä¸»è¦åŒ…æ‹¬ï¼šEasy IPã€åœ°å€æ± NAT&lt;sub&gt;å’ŒEasyIPç±»ä¼¼ï¼Œåªä»‹ç»EasyIP&lt;/sub&gt;ã€NAT Server å’Œé™æ€ NAT/NAPT&lt;/p&gt;
&lt;h3 id=&#34;1-easy-ip&#34;&gt;1. Easy IP&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;å†…ç½‘è®¿é—®å¤–ç½‘ï¼ŒåŸç†è·ŸNAPTç›¸åŒ&lt;/code&gt;&lt;br&gt;
Easy IPå¯ä»¥åˆ©ç”¨&lt;strong&gt;è®¿é—®æ§åˆ¶åˆ—è¡¨&lt;/strong&gt;æ¥&lt;strong&gt;æ§åˆ¶å“ªäº›å†…éƒ¨åœ°å€å¯ä»¥è¿›è¡Œåœ°å€è½¬æ¢&lt;/strong&gt;ï¼Œ&lt;strong&gt;é€‚åˆå°å‹å±€åŸŸç½‘&lt;/strong&gt;è®¿é—®Internetçš„æƒ…å†µï¼Œå³å†…éƒ¨ä¸»æœºè¾ƒå°‘ã€å‡ºæ¥å£é€šè¿‡æ‹¨å·æ–¹å¼è·å¾—ä¸´æ—¶å…¬ç½‘IPåœ°å€ä»¥ä¾›å†…éƒ¨ä¸»æœºè®¿é—®Internet&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614822818001.png&#34; alt=&#34;Easy IP&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-nat-server&#34;&gt;2. NAT Server&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;å¤–ç½‘è®¿é—®å†…ç½‘ï¼Œæå‰é…ç½®åœ°å€å’Œç«¯å£çš„æ˜ å°„&lt;/code&gt;&lt;br&gt;
NATå…·æœ‰â€œå±è”½â€å†…éƒ¨ä¸»æœºçš„ä½œç”¨ï¼Œä½†æœ‰æ—¶å†…ç½‘éœ€è¦å‘å¤–ç½‘æä¾›æœåŠ¡ï¼Œæ¯”å¦‚æä¾›WWWæœåŠ¡æˆ–è€…FTPæœåŠ¡ã€‚è¿™ç§æƒ…å†µä¸‹éœ€è¦å†…ç½‘çš„æœåŠ¡å™¨ä¸è¢«â€œå±è”½â€ï¼Œå¤–ç½‘ç”¨æˆ·å¯ä»¥éšæ—¶è®¿é—®å†…ç½‘æœåŠ¡å™¨ã€‚&lt;br&gt;
å½“å¤–ç½‘ç”¨æˆ·è®¿é—®å†…ç½‘æœåŠ¡å™¨æ—¶ï¼Œå®ƒé€šè¿‡äº‹å…ˆé…ç½®å¥½çš„â€œå…¬ç½‘IPåœ°å€+ç«¯å£å·â€ä¸â€œç§ç½‘IPåœ°å€+ç«¯å£å·â€é—´çš„æ˜ å°„å…³ç³»ï¼Œå°†æœåŠ¡å™¨çš„â€œå…¬ç½‘IPåœ°å€+ç«¯å£å·â€æ ¹æ®æ˜ å°„å…³ç³»æ›¿æ¢æˆå¯¹åº”çš„â€œç§ç½‘IPåœ°å€+ç«¯å£å·â€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614823003208.png&#34; alt=&#34;NAT Server&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-é™æ€natnapt&#34;&gt;3. é™æ€NAT/NAPT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é™æ€NATæ˜¯æŒ‡åœ¨è¿›è¡ŒNATè½¬æ¢æ—¶ï¼Œ&lt;strong&gt;ç§ç½‘IPåŒå…¬ç½‘IPæ˜¯ä¸€å¯¹ä¸€&lt;/strong&gt;é™æ€ç»‘å®šçš„ï¼Œé™æ€NATä¸­çš„å…¬ç½‘IPåªä¼šç»™å”¯ä¸€ä¸”å›ºå®šçš„å†…ç½‘ä¸»æœºè½¬æ¢ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;é™æ€NAPTæ˜¯æŒ‡â€œç§ç½‘IP+åè®®å·+ç«¯å£å·â€åŒâ€œå…¬ç½‘IP+åè®®å·+ç«¯å£å·â€æ˜¯ä¸€å¯¹ä¸€é™æ€ç»‘å®šçš„ï¼Œé™æ€NAPTä¸­çš„&lt;strong&gt;å…¬ç½‘IPå¯ä»¥ä¸ºå¤šä¸ªç§ç½‘IPä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é™æ€NAT/NAPTè¿˜æ”¯æŒå°†&lt;strong&gt;æŒ‡å®šç§ç½‘èŒƒå›´å†…çš„ä¸»æœºIPè½¬æ¢ä¸ºæŒ‡å®šçš„å…¬ç½‘èŒƒå›´å†…çš„ä¸»æœºIP&lt;/strong&gt;ï¼Œå®ç°ç§ç½‘å’Œå…¬ç½‘çš„åŒå‘è®¿é—®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;nat-alg&#34;&gt;NAT ALG&lt;/h2&gt;
&lt;p&gt;NATå’ŒNAPTåªèƒ½å¯¹IPæŠ¥æ–‡çš„å¤´éƒ¨åœ°å€å’ŒTCP/UDPå¤´éƒ¨çš„ç«¯å£ä¿¡æ¯è¿›è¡Œè½¬æ¢&lt;br&gt;
å¯¹äºä¸€äº›ç‰¹æ®Šåè®®ï¼Œä¾‹å¦‚FTPï¼Œ&lt;strong&gt;æŠ¥æ–‡çš„æ•°æ®éƒ¨åˆ†å¯èƒ½åŒ…å«IPåœ°å€ä¿¡æ¯æˆ–è€…ç«¯å£ä¿¡æ¯&lt;/strong&gt;ï¼Œè¿™äº›å†…å®¹ä¸èƒ½è¢«NATè½¬æ¢ï¼Œè§£å†³è¿™äº›ç‰¹æ®Šåè®®çš„NATè½¬æ¢çš„æ–¹æ³•å°±æ˜¯åœ¨NATå®ç°ä¸­&lt;strong&gt;ä½¿ç”¨åº”ç”¨å±‚ç½‘å…³ALGåŠŸèƒ½&lt;/strong&gt;&lt;br&gt;
ALGæ˜¯å¯¹ç‰¹å®šçš„åº”ç”¨å±‚åè®®è¿›è¡Œè½¬æ¢ï¼Œåœ¨å¯¹è¿™äº›ç‰¹å®šçš„åº”ç”¨å±‚åè®®&lt;strong&gt;è¿›è¡ŒNATè½¬æ¢è¿‡ç¨‹ä¸­&lt;/strong&gt;ï¼Œé€šè¿‡NATçš„çŠ¶æ€ä¿¡æ¯æ¥&lt;strong&gt;æ”¹å˜å°è£…åœ¨IPæŠ¥æ–‡æ•°æ®éƒ¨åˆ†ä¸­çš„ç‰¹å®šæ•°æ®&lt;/strong&gt;ï¼Œæœ€ç»ˆ&lt;strong&gt;ä½¿åº”ç”¨å±‚åè®®å¯ä»¥è·¨è¶Šä¸åŒèŒƒå›´è¿è¡Œ&lt;/strong&gt;&lt;br&gt;
ç›®å‰æ”¯æŒALGåŠŸèƒ½çš„åè®®åŒ…æ‹¬ï¼šDNSã€FTPã€SIPã€PPTPå’ŒRTSP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614823750833.png&#34; alt=&#34;NAT ALG&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…¶ä»–å†…å®¹&#34;&gt;å…¶ä»–å†…å®¹&lt;/h2&gt;
&lt;h3 id=&#34;1-dns-mapping&#34;&gt;1. DNS Mapping&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç§ç½‘ç”¨æˆ·&lt;/strong&gt;å¸Œæœ›&lt;strong&gt;é€šè¿‡åŸŸåè®¿é—®ä½äºåŒä¸€ç§ç½‘çš„å†…éƒ¨æœåŠ¡å™¨&lt;/strong&gt;ï¼Œè€Œ&lt;strong&gt;DNSæœåŠ¡å™¨å´ä½äºå…¬ç½‘&lt;/strong&gt;ã€‚ç”±äºé€šå¸¸DNSå“åº”æŠ¥æ–‡ä¸­æºå¸¦çš„æ˜¯å†…éƒ¨æœåŠ¡å™¨çš„å…¬ç½‘IPåœ°å€ï¼Œå› æ­¤è‹¥NATè®¾å¤‡æœªå°†DNS Serverè§£æçš„å…¬ç½‘IPæ›¿æ¢æˆå†…éƒ¨æœåŠ¡å™¨å¯¹åº”çš„ç§ç½‘IPï¼Œç§ç½‘ç”¨æˆ·å°†æ— æ³•é€šè¿‡åŸŸåè®¿é—®åˆ°å†…éƒ¨æœåŠ¡å™¨ã€‚&lt;br&gt;
è¿™ä¸ªé—®é¢˜å¯ä»¥ä½¿ç”¨DNS Mappingæ–¹å¼æ¥è§£å†³ï¼Œé€šè¿‡é…ç½®&lt;code&gt;åŸŸåâ€”å…¬ç½‘IPåœ°å€â€”å…¬ç½‘ç«¯å£â€”åè®®ç±»å‹&lt;/code&gt;æ˜ å°„è¡¨ï¼Œå»ºç«‹å†…éƒ¨æœåŠ¡å™¨çš„åŸŸåä¸å…¶å…¬ç½‘ä¿¡æ¯é—´çš„å¯¹åº”å…³ç³»ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614823889153.png&#34; alt=&#34;DNS Mapping&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-natå…³è”vpn&#34;&gt;2. NATå…³è”VPN&lt;/h3&gt;
&lt;p&gt;NATå…è®¸å†…éƒ¨ç½‘ç»œä¸­åˆ†å±äºä¸åŒVPNçš„ç”¨æˆ·é€šè¿‡åŒä¸€ä¸ªå‡ºå£è®¿é—®å¤–éƒ¨ç½‘ç»œï¼Œè§£å†³å†…éƒ¨ç½‘ç»œä¸­IPåœ°å€é‡å çš„VPNåŒæ—¶è®¿é—®å¤–ç½‘ä¸»æœºçš„é—®é¢˜ï¼›NATè¿˜æ”¯æŒVPNå…³è”çš„NAT Serverï¼Œå…è®¸å¤–éƒ¨ç½‘ç»œä¸­çš„ä¸»æœºè®¿é—®å†…ç½‘ä¸­åˆ†å±ä¸åŒVPNçš„æœåŠ¡å™¨ï¼ŒåŒæ—¶æ”¯æŒå†…ç½‘å¤šä¸ªVPNåœ°å€é‡å çš„åœºæ™¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VPNå…³è”çš„æºNAT&lt;code&gt;å†…ç½‘è®¿é—®å¤–ç½‘&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614827170019.png&#34; alt=&#34;VPNå…³è”çš„æºNAT&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;VPNå…³è”çš„NAT Server&lt;code&gt;å¤–ç½‘è®¿é—®å†…ç½‘&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614827231225.png&#34; alt=&#34;VPNå…³è”çš„NAT Server&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-ä¸¤æ¬¡nat&#34;&gt;3. ä¸¤æ¬¡NAT&lt;/h3&gt;
&lt;p&gt;æŒ‡æºIPå’Œç›®çš„IPåŒæ—¶è½¬æ¢ï¼Œè¯¥æŠ€æœ¯åº”ç”¨äº&lt;strong&gt;å†…éƒ¨ç½‘ç»œä¸»æœºåœ°å€ä¸å¤–éƒ¨ç½‘ç»œä¸Šä¸»æœºåœ°å€é‡å çš„æƒ…å†µ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614827448961.png&#34; alt=&#34;ä¸¤æ¬¡NAT&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aè¦è®¿é—®Bï¼ŒAå‘ä½äºå¤–éƒ¨ç½‘ç»œçš„DNSæœåŠ¡å™¨å‘é€è®¿é—®Bçš„DNSè¯·æ±‚ï¼ŒDNSæœåŠ¡å™¨åº”ç­”Bçš„IPåœ°å€ä¸º1.1.1.1ï¼ŒDNSåº”ç­”æŠ¥æ–‡åœ¨ç»è¿‡Routeræ—¶ï¼Œ&lt;strong&gt;è¿›è¡ŒDNS ALGï¼ŒRouterå°†DNSåº”ç­”æŠ¥æ–‡ä¸­çš„é‡å åœ°å€1.1.1.1è½¬æ¢ä¸ºå”¯ä¸€çš„ä¸´æ—¶åœ°å€3.3.3.1&lt;/strong&gt;ï¼Œç„¶åå†è½¬å‘ç»™A&lt;/li&gt;
&lt;li&gt;Aè®¿é—®Bï¼Œç›®çš„IPä¸ºä¸´æ—¶åœ°å€3.3.3.1ï¼ŒæŠ¥æ–‡åœ¨ç»è¿‡Routeræ—¶&lt;sub&gt;Routeræ£€æŸ¥åˆ°æºIPæ˜¯é‡å åœ°å€&lt;/sub&gt;ï¼Œè¿›è¡Œç›®çš„åœ°å€è½¬æ¢ï¼Œå°†ç›®çš„åœ°å€3.3.3.1è½¬æ¢æˆBçš„çœŸå®åœ°å€1.1.1.1ï¼ŒåŒæ—¶è¿›è¡Œæ­£å¸¸çš„NAT Outboundè½¬æ¢ï¼Œå°†æºåœ°å€1.1.1.1è½¬æ¢ä¸ºæºNATåœ°å€æ± ä¸­åœ°å€3.3.3.2ï¼Œç„¶åRouterå°†æŠ¥æ–‡è½¬å‘åˆ°B&lt;/li&gt;
&lt;li&gt;Bå›åº”Aï¼Œç›®çš„IPä¸ºAçš„NAT Outboundåœ°å€æ± åœ°å€3.3.3.2ï¼ŒæºIPä¸ºBçš„åœ°å€1.1.1.1ï¼ŒæŠ¥æ–‡åœ¨ç»è¿‡Routeræ—¶ï¼ŒRouteræ£€æŸ¥åˆ°æºIPæ˜¯é‡å åœ°å€ï¼Œå°†æŠ¥æ–‡çš„æºåœ°å€1.1.1.1è½¬æ¢ä¸ºå¯¹åº”çš„ä¸´æ—¶åœ°å€3.3.3.1ï¼ŒåŒæ—¶è¿›è¡Œæ­£å¸¸çš„ç›®çš„åœ°å€è½¬æ¢ï¼Œå°†æŠ¥æ–‡çš„ç›®çš„åœ°å€3.3.3.2è½¬æ¢ä¸ºAçš„å†…ç½‘åœ°å€1.1.1.1ï¼ŒRouterå°†æŠ¥æ–‡è½¬å‘åˆ°A&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ntp&#34;&gt;NTP&lt;/h1&gt;
&lt;p&gt;NTPçš„å®ç°åŸºäºIPå’ŒUDPï¼ŒNTPæŠ¥æ–‡é€šè¿‡UDPä¼ è¾“ï¼Œç«¯å£å·æ˜¯123ã€‚&lt;br&gt;
NTPä¸»è¦åº”ç”¨äºç½‘ç»œä¸­æ‰€æœ‰è®¾å¤‡æ—¶é’Ÿéœ€è¦ä¿æŒä¸€è‡´çš„åœºåˆï¼Œæ¯”å¦‚ç½‘ç»œç®¡ç†ï¼ˆæ—¥å¿—é‡‡é›†ç­‰ï¼‰ã€è®¡è´¹ç³»ç»Ÿã€å¤šä¸ªç³»ç»ŸååŒå¤„ç†åŒä¸€ä¸ªå¤æ‚äº‹ä»¶ã€å¤‡ä»½æœåŠ¡å™¨å’Œå®¢æˆ·æœºä¹‹é—´è¿›è¡Œå¢é‡å¤‡ä»½ã€ç”¨æˆ·ç™»å½•æ—¶é—´è®°å½•ç­‰&lt;/p&gt;
&lt;h2 id=&#34;æ¼”è¿›&#34;&gt;æ¼”è¿›&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;v1é¦–æ¬¡æå‡ºå®Œæ•´çš„NTPè§„åˆ™å’Œç®—æ³•ï¼Œä½†ä¸æ”¯æŒè®¤è¯å’Œæ§åˆ¶æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;v2åŠ å…¥è®¤è¯å’Œæ§åˆ¶æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;v3å¼•å…¥æ ¡æ­£åŸåˆ™ï¼Œæ”¹è¿›äº†æ—¶é’Ÿé€‰æ‹©å’Œæ—¶é’Ÿè¿‡æ»¤ç®—æ³•&lt;code&gt;ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ç‰ˆæœ¬&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;v4åŒæ—¶æ”¯æŒIPv4å’ŒIPv6ç½‘ç»œï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„åŠ å¯†è®¤è¯ä½“ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;19&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614485953688.png&#34; alt=&#34;åŸºæœ¬åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;RouterAå‘é€ä¸€ä¸ªNTPæŠ¥æ–‡ç»™RouterBï¼Œè¯¥æŠ¥æ–‡ä¸­å¸¦æœ‰å®ƒç¦»å¼€RouterAæ—¶çš„æ—¶é—´æˆ³10:00:00a.m.ï¼ˆT1ï¼‰&lt;/li&gt;
&lt;li&gt;æ­¤NTPæŠ¥æ–‡åˆ°è¾¾RouterBæ—¶ï¼ŒRouterBåŠ ä¸Šåˆ°è¾¾æ—¶é—´æˆ³11:00:01a.m.ï¼ˆT2ï¼‰&lt;/li&gt;
&lt;li&gt;æ­¤NTPæŠ¥æ–‡ç¦»å¼€RouterBæ—¶ï¼ŒRouterBå†åŠ ä¸Šç¦»å¼€æ—¶é—´æˆ³11:00:02a.m.ï¼ˆT3ï¼‰&lt;/li&gt;
&lt;li&gt;RouterAæ¥æ”¶åˆ°è¯¥å“åº”æŠ¥æ–‡æ—¶ï¼ŒåŠ ä¸Šæ–°çš„æ—¶é—´æˆ³10:00:03a.m.ï¼ˆT4ï¼‰ã€‚è‡³æ­¤ï¼ŒRouterAè·å¾—äº†è¶³å¤Ÿä¿¡æ¯æ¥è®¡ç®—ä»¥ä¸‹ä¸¤ä¸ªé‡è¦å‚æ•°ï¼š
&lt;ol&gt;
&lt;li&gt;NTPæŠ¥æ–‡&lt;strong&gt;æ¥å›ä¸€ä¸ªå‘¨æœŸçš„æ—¶å»¶&lt;/strong&gt;ï¼šDelay=(T4-T1)-(T3â€“T2)=2ç§’&lt;/li&gt;
&lt;li&gt;RouterAç›¸å¯¹RouterBçš„&lt;strong&gt;æ—¶é—´å·®&lt;/strong&gt;ï¼šOffset=((T2-T1)+(T3â€“T4))/2=1å°æ—¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RouterAæ ¹æ®è®¡ç®—å¾—åˆ°Delayä¸º2ç§’ï¼ŒOffsetä¸º1å°æ—¶ã€‚RouterAæ ¹æ®è¿™äº›ä¿¡æ¯æ¥è®¾å®šè‡ªå·±çš„æ—¶é’Ÿï¼Œå®ç°ä¸RouterBçš„æ—¶é’ŸåŒæ­¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç½‘ç»œæ¶æ„&#34;&gt;ç½‘ç»œæ¶æ„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;20&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614492385879.png&#34; alt=&#34;ç½‘ç»œæ¶æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;åŒæ­¥å­ç½‘ï¼šç”±ä¸»æ—¶é—´æœåŠ¡å™¨ã€äºŒçº§æ—¶é—´æœåŠ¡å™¨ã€PCå®¢æˆ·ç«¯å’Œå®ƒä»¬ä¹‹é—´äº’è¿çš„ä¼ è¾“è·¯å¾„ç»„æˆåŒæ­¥å­ç½‘&lt;/li&gt;
&lt;li&gt;ä¸»æ—¶é—´æœåŠ¡å™¨ï¼šé€šè¿‡çº¿ç¼†æˆ–æ— çº¿ç”µ&lt;strong&gt;ç›´æ¥åŒæ­¥åˆ°æ ‡å‡†å‚è€ƒæ—¶é’Ÿ&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ ‡å‡†å‚è€ƒæ—¶é’Ÿé€šå¸¸æ˜¯Radio Clockæˆ–å«æ˜Ÿå®šä½ç³»ç»Ÿç­‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;äºŒçº§æ—¶é—´æœåŠ¡å™¨ï¼šé€šè¿‡ç½‘ç»œä¸­çš„&lt;strong&gt;ä¸»æ—¶é—´æœåŠ¡å™¨æˆ–è€…å…¶ä»–äºŒçº§æœåŠ¡å™¨å–å¾—åŒæ­¥&lt;/strong&gt;ã€‚äºŒçº§æ—¶é—´æœåŠ¡å™¨é€šè¿‡NTPå°†æ—¶é—´ä¿¡æ¯ä¼ é€åˆ°å±€åŸŸç½‘å†…éƒ¨çš„å…¶å®ƒä¸»æœº&lt;/li&gt;
&lt;li&gt;å±‚æ•°ï¼ˆstratumï¼‰ï¼šå±‚æ•°æ˜¯å¯¹æ—¶é’ŸåŒæ­¥æƒ…å†µçš„ä¸€ä¸ªåˆ†çº§æ ‡å‡†ï¼Œä»£è¡¨äº†ä¸€ä¸ªæ—¶é’Ÿçš„ç²¾ç¡®åº¦ï¼Œå–å€¼èŒƒå›´1ï½15ï¼Œ&lt;strong&gt;æ•°å€¼è¶Šå°ï¼Œç²¾ç¡®åº¦è¶Šé«˜&lt;/strong&gt;ã€‚&lt;strong&gt;1è¡¨ç¤ºæ—¶é’Ÿç²¾ç¡®åº¦æœ€é«˜ï¼Œ15è¡¨ç¤ºæœªåŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;è¿™æ ·è®¾è®¡ç½‘ç»œæ¶æ„çš„ç›®çš„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“&lt;strong&gt;ä¸€å°æˆ–å¤šå°ä¸»/äºŒçº§æ—¶é—´æœåŠ¡å™¨æˆ–å®ƒä»¬ä¹‹é—´çš„ç½‘ç»œè·¯å¾„å‘ç”Ÿæ•…éšœ&lt;/strong&gt;æ—¶ï¼ŒåŒæ­¥å­ç½‘çš„ä¸»ä»åˆ†å±‚ç»“æ„å°†è‡ªåŠ¨å‘ç”Ÿé‡æ„ä»¥è·å¾—æœ€ç²¾ç¡®å’Œæœ€å¯é çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;å½“åŒæ­¥å­ç½‘ä¸­æ­£å¸¸ä½¿ç”¨çš„&lt;strong&gt;ä¸»æ—¶é—´æœåŠ¡å™¨éƒ½å¤±æ•ˆ&lt;/strong&gt;ï¼Œå¤‡ç”¨çš„ä¸»æ—¶é—´æœåŠ¡å™¨å°†ç»§ç»­è¿è¡Œ&lt;/li&gt;
&lt;li&gt;å½“å­ç½‘ä¸­&lt;strong&gt;æ‰€æœ‰çš„ä¸»æ—¶é—´æœåŠ¡å™¨éƒ½å¤±æ•ˆæ—¶&lt;/strong&gt;ï¼Œå…¶å®ƒäºŒçº§æ—¶é—´æœåŠ¡å™¨å°†åœ¨å®ƒä»¬å†…éƒ¨è¾¾åˆ°åŒæ­¥ã€‚æ­¤æ—¶ï¼Œè¿™äº›äºŒçº§æ—¶é—´æœåŠ¡å™¨å°†è„±ç¦»åŒæ­¥å­ç½‘ï¼Œè‡ªåŠ¨è¿è¡Œåœ¨å®ƒä»¬æœ€åä¸€æ¬¡ç¡®å®šçš„æ—¶é—´å’Œé¢‘ç‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ntpçš„å·¥ä½œæ¨¡å¼&#34;&gt;NTPçš„å·¥ä½œæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;å·¥ä½œæ¨¡å¼é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä¸èƒ½ç¡®å®šæœåŠ¡å™¨æˆ–è€…å¯¹ç­‰ä½“IPåœ°å€ã€ç½‘ç»œä¸­éœ€è¦åŒæ­¥çš„è®¾å¤‡æ•°é‡å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡å¹¿æ’­æˆ–ç»„æ’­çš„æ–¹å¼å®ç°æ—¶é’ŸåŒæ­¥&lt;/li&gt;
&lt;li&gt;å•æ’­å’Œå¯¹ç­‰ä½“æ¨¡å¼ä¸­ï¼Œè®¾å¤‡ä»æŒ‡å®šçš„æœåŠ¡å™¨æˆ–è€…å¯¹ç­‰ä½“è·å¾—æ—¶é—´åŒæ­¥ï¼Œå¢åŠ äº†æ—¶é’Ÿçš„å¯é æ€§&lt;/li&gt;
&lt;li&gt;å¤šæ’­æ¨¡å¼å’Œç»„æ’­æ¨¡å¼çš„åŒºåˆ«ï¼šå®¢æˆ·ç«¯å‘ç°æœåŠ¡ç«¯çš„æ–¹å¼ä¸åŒï¼Œç»„æ’­æ¨¡å¼æ˜¯NTPæœåŠ¡å™¨é€šè¿‡ç»„æ’­é»˜è®¤ç»„224.0.0.1å‘ç°å®¢æˆ·ç«¯&lt;code&gt;å³æœåŠ¡å™¨å‘ç°å®¢æˆ·ç«¯&lt;/code&gt;ï¼›å¤šæ’­æ¨¡å¼æ˜¯å®¢æˆ·ç«¯é€šè¿‡ç»„æ’­é»˜è®¤ç»„224.0.1.1å‘ç°NTPæœåŠ¡å™¨&lt;code&gt;å³å®¢æˆ·ç«¯å‘ç°æœåŠ¡å™¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¹¿æ’­å’Œç»„æ’­æ¨¡å¼ä¸‹ï¼Œä¼šé€šè¿‡ä¸€æ¬¡å•æ’­æ¨¡å¼æ¥ç¡®å®šç½‘ç»œå»¶æ—¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;NTPæŠ¥æ–‡ä¸­Modeå­—æ®µ&lt;/strong&gt;ï¼Œå³å·¥ä½œæ¨¡å¼ï¼Œä¸åŒå€¼è¡¨ç¤ºçš„å«ä¹‰å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0ï¼šä¿ç•™&lt;/li&gt;
&lt;li&gt;1ï¼šä¸»åŠ¨å¯¹ç­‰ä½“æ¨¡å¼&lt;code&gt;ä»…åœ¨å¯¹ç­‰ä½“æ¨¡å¼ä¸­ä½¿ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2ï¼šè¢«åŠ¨å¯¹ç­‰ä½“æ¨¡å¼&lt;code&gt;ä»…åœ¨å¯¹ç­‰ä½“æ¨¡å¼ä¸­ä½¿ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;3ï¼šå®¢æˆ·ç«¯æ¨¡å¼&lt;/li&gt;
&lt;li&gt;4ï¼šæœåŠ¡å™¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;5ï¼šå¹¿æ’­æ¨¡å¼ï¼ˆæˆ–ç»„æ’­æ¨¡å¼ï¼‰&lt;/li&gt;
&lt;li&gt;6ï¼šNTPæ§åˆ¶æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;7ï¼šå†…éƒ¨ä½¿ç”¨é¢„ç•™&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;1-å•æ’­æœåŠ¡å™¨å®¢æˆ·ç«¯æ¨¡å¼&#34;&gt;1. å•æ’­æœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·ç«¯åŒæ­¥æœåŠ¡å™¨æ—¶é’Ÿ&lt;br&gt;
è¿è¡Œåœ¨åŒæ­¥å­ç½‘ä¸­&lt;strong&gt;å±‚æ•°è¾ƒé«˜å±‚ä¸Š&lt;/strong&gt;ï¼Œéœ€è¦é¢„å…ˆçŸ¥é“æœåŠ¡å™¨çš„IPåœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614493901212.png&#34; alt=&#34;å•æ’­æœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å®šæœŸå‘æœåŠ¡å™¨ç«¯å‘é€Mode3æŠ¥æ–‡&lt;code&gt;å®¢æˆ·ç«¯ä¸ç®¡æœåŠ¡å™¨ç«¯æ˜¯å¦å¯è¾¾åŠæœåŠ¡å™¨ç«¯çš„å±‚æ•°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ç«¯æ¥æ”¶å¹¶å›åº”Mode4æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶ï¼Œå®¢æˆ·ç«¯ä¼š&lt;strong&gt;è¿›è¡Œæ—¶é’Ÿè¿‡æ»¤å’Œé€‰æ‹©ï¼Œå¹¶åŒæ­¥åˆ°æ—¶é’Ÿä¼˜é€‰çš„æœåŠ¡å™¨&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-å¯¹ç­‰ä½“æ¨¡å¼&#34;&gt;2. å¯¹ç­‰ä½“æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ä¸»åŠ¨å¯¹ç­‰ä½“å’Œè¢«åŠ¨å¯¹ç­‰ä½“å¯ä»¥äº’ç›¸åŒæ­¥ï¼Œç­‰çº§ä½ï¼ˆå±‚æ•°å¤§ï¼‰çš„å¯¹ç­‰ä½“å‘ç­‰çº§é«˜ï¼ˆå±‚æ•°å°ï¼‰çš„å¯¹ç­‰ä½“åŒæ­¥&lt;br&gt;
è¿è¡Œåœ¨åŒæ­¥å­ç½‘ä¸­&lt;strong&gt;å±‚æ•°è¾ƒä½å¤„&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614494271280.png&#34; alt=&#34;å¯¹ç­‰ä½“æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»åŠ¨å¯¹ç­‰ä½“å‘èµ·Mode3æŠ¥æ–‡ï¼Œç”±è¢«åŠ¨å¯¹ç­‰ä½“å“åº”Mode4æŠ¥æ–‡&lt;code&gt;è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯é€‰æ‹©ä¸»åŠ¨å’Œè¢«åŠ¨å¯¹ç­‰ä½“&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸»åŠ¨å¯¹ç­‰ä½“å®šæœŸå‘è¢«åŠ¨å¯¹ç­‰ä½“å‘é€Mode=1æŠ¥æ–‡&lt;code&gt;ä¸è€ƒè™‘å¯¹ç«¯çš„å¯¹ç­‰ä½“æ˜¯å¦å¯è¾¾ä»¥åŠå¯¹ç­‰ä½“çš„å±‚æ•°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¢«åŠ¨å¯¹ç­‰ä½“æ¥æ”¶å¹¶å›åº”Mode=2æŠ¥æ–‡&lt;code&gt;è¢«åŠ¨å¯¹ç­‰ä½“ä¸éœ€é…ç½®ï¼Œåªæœ‰å½“æœ¬æœºæ”¶åˆ°NTPæŠ¥æ–‡æ—¶æ‰å»ºç«‹è¿æ¥åŠç›¸å…³çš„çŠ¶æ€å˜é‡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯¹ç­‰ä½“æ¨¡å¼å»ºç«‹åï¼Œä¸»åŠ¨å¯¹ç­‰ä½“å’Œè¢«åŠ¨å¯¹ç­‰ä½“å¯ä»¥äº’ç›¸åŒæ­¥ï¼Œç­‰çº§ä½ï¼ˆå±‚æ•°å¤§ï¼‰çš„å¯¹ç­‰ä½“å‘ç­‰çº§é«˜ï¼ˆå±‚æ•°å°ï¼‰çš„å¯¹ç­‰ä½“åŒæ­¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-å¹¿æ’­æ¨¡å¼&#34;&gt;3. å¹¿æ’­æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨å‘¨æœŸæ€§å‘å¹¿æ’­åœ°å€å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡&lt;br&gt;
åº”ç”¨åœ¨æœ‰å¤šå°å·¥ä½œç«™ã€ä¸éœ€è¦å¾ˆé«˜å‡†ç¡®åº¦çš„é«˜é€Ÿç½‘ç»œï¼Œå…¸å‹çš„æƒ…å†µæ˜¯ç½‘ç»œä¸­çš„&lt;strong&gt;ä¸€å°æˆ–å¤šå°æ—¶é—´æœåŠ¡å™¨å®šæœŸå‘å·¥ä½œç«™å‘é€å¹¿æ’­æŠ¥æ–‡&lt;/strong&gt;ï¼Œå¹¿æ’­æŠ¥æ–‡åœ¨æ¯«ç§’çº§çš„å»¶è¿ŸåŸºç¡€ä¸Šç¡®å®šæ—¶é—´&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614494684631.png&#34; alt=&#34;å¹¿æ’­æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¹¿æ’­æœåŠ¡å™¨å‘¨æœŸæ€§&lt;strong&gt;å‘å¹¿æ’­åœ°å€255.255.255.255å‘é€Mode5çš„æ—¶é’ŸåŒæ­¥æŠ¥æ–‡&lt;/strong&gt;&lt;code&gt;ä¸ç®¡å®¢æˆ·ç«¯æ˜¯å¦å¯è¾¾æˆ–å±‚æ•°ä¸ºå¤šå°‘&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ä¾¦å¬æ¥è‡ªæœåŠ¡å™¨çš„å¹¿æ’­æ¶ˆæ¯åŒ…ã€‚å½“æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªå¹¿æ’­æ¶ˆæ¯åŒ…åï¼Œ&lt;strong&gt;ä¸ºä¼°è®¡ç½‘ç»œå»¶è¿Ÿ&lt;/strong&gt;ï¼Œå®¢æˆ·ç«¯å…ˆå¯ç”¨ä¸€ä¸ª&lt;strong&gt;çŸ­æš‚çš„æœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼&lt;/strong&gt;ä¸è¿œç¨‹æœåŠ¡å™¨äº¤æ¢æ¶ˆæ¯ï¼ˆMode3å’ŒMode4æ¶ˆæ¯ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯è¿›å…¥å¹¿æ’­æ¨¡å¼&lt;/strong&gt;ï¼Œç»§ç»­ä¾¦å¬å¹¿æ’­æ¶ˆæ¯åŒ…çš„åˆ°æ¥ï¼Œæ ¹æ®åˆ°æ¥çš„å¹¿æ’­æ¶ˆæ¯åŒ…åŒæ­¥æœ¬åœ°æ—¶é’Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-ç»„æ’­æ¨¡å¼å·¥ä½œæ–¹å¼å’Œå¹¿æ’­æ¨¡å¼ç›¸åŒ&#34;&gt;4. ç»„æ’­æ¨¡å¼&lt;sub&gt;å·¥ä½œæ–¹å¼å’Œå¹¿æ’­æ¨¡å¼ç›¸åŒ&lt;/sub&gt;&lt;/h3&gt;
&lt;p&gt;æœåŠ¡å™¨ç«¯å‘¨æœŸæ€§å‘ç»„æ’­åœ°å€å‘é€æ—¶é’ŸåŒæ­¥æŠ¥æ–‡&lt;br&gt;
é€‚ç”¨äºæœ‰å¤§é‡å®¢æˆ·ç«¯åˆ†å¸ƒåœ¨ç½‘ç»œä¸­çš„æƒ…å†µï¼Œé€šè¿‡åœ¨ç½‘ç»œä¸­ä½¿ç”¨NTPç»„æ’­æ¨¡å¼ï¼Œ&lt;strong&gt;NTPæœåŠ¡å™¨å‘é€çš„ç»„æ’­æ¶ˆæ¯åŒ…å¯ä»¥åˆ°è¾¾ç½‘ç»œä¸­æ‰€æœ‰çš„å®¢æˆ·ç«¯&lt;/strong&gt;ï¼Œä»è€Œé™ä½ç”±äºNTPæŠ¥æ–‡è¿‡å¤šè€Œç»™ç½‘ç»œé€ æˆçš„å‹åŠ›&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614495711497.png&#34; alt=&#34;ç»„æ’­æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­æœåŠ¡å™¨å‘¨æœŸæ€§å‘IPv4/IPv6ç»„æ’­åœ°å€å‘é€Mode5æ—¶é’ŸåŒæ­¥æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ä¾¦å¬æ¥è‡ªæœåŠ¡å™¨çš„ç»„æ’­æ¶ˆæ¯åŒ…ã€‚å½“æ¥æ”¶åˆ°ç¬¬ä¸€ä¸ªç»„æ’­æ¶ˆæ¯åŒ…åï¼Œä¸ºä¼°è®¡ç½‘ç»œå»¶è¿Ÿï¼Œå®¢æˆ·ç«¯å…ˆå¯ç”¨ä¸€ä¸ªçŸ­æš‚çš„æœåŠ¡å™¨/å®¢æˆ·ç«¯æ¨¡å¼ä¸è¿œç¨‹æœåŠ¡å™¨äº¤æ¢æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®¢æˆ·ç«¯è¿›å…¥ç»„æ’­æ¨¡å¼&lt;/strong&gt;ï¼Œç»§ç»­ä¾¦å¬ç»„æ’­æ¶ˆæ¯åŒ…çš„åˆ°æ¥ï¼Œæ ¹æ®åˆ°æ¥çš„ç»„æ’­æ¶ˆæ¯åŒ…åŒæ­¥æœ¬åœ°æ—¶é’Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-å¤šæ’­æ¨¡å¼&#34;&gt;5. å¤šæ’­æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;å¤šæ’­æœåŠ¡å™¨æŒç»­ä¾¦å¬æŠ¥æ–‡ï¼Œå¤šæ’­å®¢æˆ·ç«¯å‘¨æœŸæ€§åœ°å‘ç»„æ’­åœ°å€å‘é€è¯·æ±‚æŠ¥æ–‡ï¼Œå¯»æ‰¾æœ€å°è¿æ¥æœ€å°æ•°çš„æœåŠ¡å™¨&lt;br&gt;
é€‚ç”¨äº&lt;strong&gt;æœåŠ¡å™¨åˆ†å¸ƒåˆ†æ•£çš„ç½‘ç»œä¸­&lt;/strong&gt;ï¼Œå®¢æˆ·ç«¯å¯ä»¥å‘ç°ä¸ä¹‹æœ€è¿‘çš„å¤šæ’­æœåŠ¡å™¨ï¼Œå¹¶è¿›è¡ŒåŒæ­¥ï¼Œå¤šæ’­æ¨¡å¼&lt;strong&gt;é€‚ç”¨äºæœåŠ¡å™¨ä¸ç¨³å®šçš„ç»„ç½‘ç¯å¢ƒ&lt;/strong&gt;ä¸­ï¼Œå°‘é‡æœåŠ¡å™¨çš„å¤±æ•ˆä¸ä¼šå¯¼è‡´æ•´ç½‘ä¸­çš„å®¢æˆ·ç«¯é‡æ–°é…ç½®ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614495830063.png&#34; alt=&#34;å¤šæ’­æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤šæ’­å®¢æˆ·ç«¯å‘¨æœŸæ€§å‘IPv4/IPv6ç»„æ’­åœ°å€å‘é€Mode3è¯·æ±‚æŠ¥æ–‡ï¼Œå¯»æ‰¾TTLæœ€å°çš„å¤šæ’­æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€æŠ¥æ–‡çš„TTLåˆå§‹å€¼ä¸º1ï¼Œæ¯æ¬¡å‘é€æ—¶ç´¯åŠ 1ï¼Œç›´åˆ°å®¢æˆ·ç«¯æ”¶åˆ°åº”ç­”æŠ¥æ–‡æˆ–TTLè¾¾åˆ°ä¸Šé™
&lt;ol&gt;
&lt;li&gt;å¦‚æœå®¢æˆ·ç«¯æ”¶åˆ°åº”ç­”æŠ¥æ–‡ï¼Œè¡¨æ˜å·²æ‰¾åˆ°è·ç¦»æœ€çŸ­çš„å¤šæ’­æœåŠ¡å™¨ï¼Œåˆ™æ¯è¿‡ä¸€ä¸ªè¶…æ—¶å‘¨æœŸï¼Œå®¢æˆ·ç«¯éƒ½ä¼šå‘é€ä¸€ä¸ªæŠ¥æ–‡ç»™æœåŠ¡å™¨ä»¥ä¿æŒè¿æ¥&lt;/li&gt;
&lt;li&gt;å¦‚æœTTLè¾¾åˆ°ä¸Šé™æ—¶ä»æœªæ”¶åˆ°åº”ç­”æŠ¥æ–‡ï¼Œåˆ™å®¢æˆ·ç«¯å°†åœæ­¢ä¸€ä¸ªè¶…æ—¶å‘¨æœŸçš„æ•°æ®ä¼ è¾“ä»¥æ¸…é™¤æ‰€æœ‰è¿æ¥ï¼Œç„¶åé‡å¤ä¸Šè¿°è¿‡ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¤šæ’­æœåŠ¡å™¨æŒç»­ä¾¦å¬æŠ¥æ–‡ï¼Œå¦‚æœæŸä¸ªæœåŠ¡å™¨å¯ä»¥è¢«åŒæ­¥ï¼Œåˆ™æœåŠ¡å™¨å°†ä½¿ç”¨å®¢æˆ·ç«¯çš„å•æ’­åœ°å€è¿”å›Mode4æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å½“å®¢æˆ·ç«¯æ¥æ”¶åˆ°åº”ç­”æŠ¥æ–‡æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šè¿›è¡Œæ—¶é’Ÿè¿‡æ»¤å’Œé€‰æ‹©ï¼Œå¹¶åŒæ­¥åˆ°æ—¶é’Ÿä¼˜é€‰çš„æœåŠ¡å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;netstream&#34;&gt;Netstream&lt;/h1&gt;
&lt;h2 id=&#34;ç³»ç»Ÿç»„æˆ&#34;&gt;ç³»ç»Ÿç»„æˆ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;21&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614496633800.png&#34; alt=&#34;ç³»ç»Ÿç»„æˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œæµæ•°æ®è¾“å‡ºå™¨NDE&lt;br&gt;
è´Ÿè´£å¯¹ç½‘ç»œæµè¿›è¡Œåˆ†æå¤„ç†ï¼Œæå–ç¬¦åˆæ¡ä»¶çš„æµè¿›è¡Œç»Ÿè®¡ï¼Œå¹¶å°†ç»Ÿè®¡ä¿¡æ¯è¾“å‡ºç»™NSC&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæµæ•°æ®æ”¶é›†å™¨NSC&lt;br&gt;
è¿è¡ŒäºUnixæˆ–è€…Windowsä¸Šçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè´Ÿè´£è§£ææ¥è‡ªNDEçš„æŠ¥æ–‡ï¼ŒæŠŠç»Ÿè®¡æ•°æ®æ”¶é›†åˆ°æ•°æ®åº“ä¸­ï¼Œå¯ä¾›NDAè¿›è¡Œè§£æï¼ŒNSCå¯ä»¥é‡‡é›†å¤šä¸ªNDEè®¾å¤‡è¾“å‡ºçš„æ•°æ®ï¼Œå¯¹æ•°æ®è¿›è¡Œè¿›ä¸€æ­¥çš„è¿‡æ»¤å’Œèšåˆ&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæµæ•°æ®åˆ†æå™¨NDA&lt;code&gt;åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼ŒNSCå’ŒNDAä¸€èˆ¬é›†æˆåœ¨ä¸€å°NetStreamæœåŠ¡å™¨ä¸Š&lt;/code&gt;&lt;br&gt;
ä¸€ä¸ªç½‘ç»œæµé‡åˆ†æå·¥å…·ï¼Œå®ƒä»NSCä¸­æå–ç»Ÿè®¡æ•°æ®ï¼Œè¿›è¡Œè¿›ä¸€æ­¥çš„åŠ å·¥å¤„ç†åç”ŸæˆæŠ¥è¡¨ï¼Œä¸ºå„ç§ä¸šåŠ¡æä¾›ä¾æ®ï¼ˆæ¯”å¦‚æµé‡è®¡è´¹ã€ç½‘ç»œè§„åˆ’ã€æ”»å‡»ç›‘æµ‹ï¼‰ã€‚é€šå¸¸ï¼ŒNDAå…·æœ‰å›¾å½¢åŒ–ç”¨æˆ·ç•Œé¢ï¼Œä½¿ç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°è·å–ã€æ˜¾ç¤ºå’Œåˆ†ææ”¶é›†åˆ°çš„æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h2&gt;
&lt;p&gt;NDEæŠŠé‡‡é›†åˆ°çš„å…³äºæµçš„è¯¦ç»†ä¿¡æ¯å®šæœŸå‘é€ç»™NSCï¼Œç”±NSCåˆæ­¥å¤„ç†åå‘é€ç»™NDAï¼ŒNDAå¯¹æ•°æ®è¿›è¡Œåˆ†æï¼Œä»¥ç”¨äºè®¡è´¹ã€ç½‘ç»œè§„åˆ’ç­‰åº”ç”¨&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614496879159.png&#34; alt=&#34;å·¥ä½œæœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é…ç½®äº†NetStreamåŠŸèƒ½çš„è®¾å¤‡ï¼ˆå³ NDEï¼‰ä¸šåŠ¡æµé‡æ­£å¸¸è½¬å‘ï¼Œä½†æ˜¯è®¾å¤‡çš„NetStreamæ¨¡å—æŒ‰ä¸€å®šçš„é‡‡æ ·æ–¹å¼è¿›è¡Œ&lt;strong&gt;NetStreamé‡‡æ ·&lt;/strong&gt;ï¼Œæ¥ä¸‹æ¥å¯¹é‡‡æ ·æ•°æ®&lt;strong&gt;å»ºç«‹NetStreamæµ&lt;/strong&gt;ï¼Œæ¥ç€æŒ‰ä¸€å®šçš„è€åŒ–æ–¹å¼å¯¹æµè¿›è¡Œ&lt;strong&gt;NetStreamæµè€åŒ–å¤„ç†&lt;/strong&gt;ï¼Œæœ€åæŒ‰ä¸€å®šçš„è¾“å‡ºæ–¹å¼ä»¥åŠç›¸åº”çš„ç‰ˆæœ¬è¿›è¡Œ&lt;strong&gt;NetStreamæµè¾“å‡º&lt;/strong&gt;ã€‚è‡³æ­¤ï¼ŒNDEè®¾å¤‡æŠŠé‡‡é›†åˆ°çš„å…³äºæµçš„è¯¦ç»†ä¿¡æ¯å‘é€ç»™NSC&lt;/p&gt;
&lt;h3 id=&#34;1-netstreamé‡‡æ ·&#34;&gt;1. NetStreamé‡‡æ ·&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éšæœºæŠ¥æ–‡é—´éš”é‡‡æ ·&lt;code&gt;é€‚ç”¨äºæœ‰è§„å¾‹çš„æµé‡&lt;/code&gt;ï¼šæŠ¥æ–‡åœ¨&lt;strong&gt;é…ç½®æ•°ç›®é—´éš”&lt;/strong&gt;å†…è¢«&lt;strong&gt;éšæœº&lt;/strong&gt;é‡‡æ ·ã€‚ä¾‹å¦‚é…ç½®é—´éš”æ•°ä¸º100ï¼Œåˆ™æ¯100ä¸ªæŠ¥æ–‡éšæœºé‡‡æ ·1ä¸ªæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å›ºå®šæŠ¥æ–‡é—´éš”é‡‡æ ·&lt;code&gt;é€‚ç”¨äºç½‘ç»œæµé‡ç»Ÿè®¡è®¡è´¹&lt;/code&gt;ï¼šæŠ¥æ–‡åœ¨&lt;strong&gt;é…ç½®æ•°ç›®é—´éš”&lt;/strong&gt;å†…è¢«&lt;strong&gt;å‘¨æœŸ&lt;/strong&gt;é‡‡æ ·ã€‚ä¾‹å¦‚é…ç½®é—´éš”ä¸º100ï¼Œç¬¬5ä¸ªæŠ¥æ–‡è¢«é‡‡æ ·ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡é‡‡æ ·æ˜¯ç¬¬5ä¸ªæŠ¥æ–‡ï¼Œç¬¬äºŒæ¬¡é‡‡æ ·æ˜¯ç¬¬105ä¸ªæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;éšæœºæ—¶é—´é—´éš”é‡‡æ ·&lt;code&gt;é€‚ç”¨äºæœ‰è§„å¾‹çš„æµé‡&lt;/code&gt;ï¼šæŠ¥æ–‡åœ¨&lt;strong&gt;é…ç½®æ—¶é—´é—´éš”&lt;/strong&gt;å†…è¢«&lt;strong&gt;éšæœº&lt;/strong&gt;é‡‡æ ·ã€‚ä¾‹å¦‚é…ç½®æ—¶é—´é—´éš”ä¸º100ï¼Œåˆ™æ¯éš”100æ¯«ç§’é‡‡é›†1ä¸ªæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å›ºå®šæ—¶é—´é—´éš”é‡‡æ ·&lt;code&gt;é€‚ç”¨äºç½‘ç»œæµé‡è¾ƒå¤§çš„æƒ…å†µ&lt;/code&gt;ï¼šæŠ¥æ–‡åœ¨&lt;strong&gt;é…ç½®æ—¶é—´é—´éš”&lt;/strong&gt;å†…è¢«&lt;strong&gt;å‘¨æœŸ&lt;/strong&gt;é‡‡æ ·ã€‚ä¾‹å¦‚é…ç½®æ—¶é—´é—´éš”ä¸º100ï¼Œç¬¬5æ¯«ç§’è¿›è¡Œé‡‡æ ·ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡é‡‡æ ·æ˜¯åœ¨5æ¯«ç§’çš„æ—¶å€™ï¼Œç¬¬äºŒæ¬¡é‡‡æ ·æ˜¯105æ¯«ç§’çš„æ—¶å€™&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-netstreamæµ&#34;&gt;2. NetStreamæµ&lt;/h3&gt;
&lt;p&gt;NetStreamæµå°±æ˜¯IPæŠ¥æ–‡ï¼ˆUDPã€TCPã€ICMPæŠ¥æ–‡ï¼‰å’ŒMPLSæŠ¥æ–‡çš„ç»Ÿè®¡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPv4æŠ¥æ–‡ï¼šæ ¹æ®IPv4æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ã€æºIPåœ°å€ã€ç›®çš„ç«¯å£å·ã€æºç«¯å£å·ã€åè®®å·ã€&lt;strong&gt;ToS&lt;/strong&gt;ã€è¾“å…¥æ¥å£æˆ–è¾“å‡ºæ¥å£æ¥å®šä¹‰æµï¼Œ&lt;strong&gt;ç›¸åŒçš„ä¸ƒå…ƒç»„æ ‡è¯†ä¸ºåŒä¸€æ¡æµ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IPv6æŠ¥æ–‡ï¼šæ ¹æ®IPv6æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ã€æºIPåœ°å€ã€ç›®çš„ç«¯å£å·ã€æºç«¯å£å·ã€åè®®å·ã€&lt;strong&gt;æµé‡åˆ†ç±»ã€æµæ ‡ç­¾&lt;/strong&gt;ã€è¾“å…¥æ¥å£æˆ–è¾“å‡ºæ¥å£æ¥å®šä¹‰æµï¼Œ&lt;strong&gt;ç›¸åŒçš„å…«å…ƒç»„æ ‡è¯†ä¸ºåŒä¸€æ¡æµ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MPLSæŠ¥æ–‡ï¼šå¯ä»¥ç»Ÿè®¡MPLSæŠ¥æ–‡å†…çš„IPv4/IPv6ä¿¡æ¯ï¼Œå¦‚æœç»Ÿè®¡IPä¿¡æ¯ï¼Œæ­¤æ—¶ä¼š&lt;strong&gt;æ ¹æ®MPLSæ ‡ç­¾æ ˆå’ŒIPä¿¡æ¯å…±åŒç¡®å®šä¸€æ¡æµ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-netstreamæµè€åŒ–&#34;&gt;3. NetStreamæµè€åŒ–&lt;/h3&gt;
&lt;p&gt;æµç»Ÿè®¡ä¿¡æ¯é¦–å…ˆä¼šè¢«å­˜å‚¨åœ¨è®¾å¤‡çš„NetStreamç¼“å­˜åŒºä¸­ï¼Œ&lt;strong&gt;å½“å­˜å‚¨åœ¨è®¾å¤‡ä¸Šçš„NetStreamæµä¿¡æ¯è€åŒ–åï¼Œè®¾å¤‡ä¼šæŠŠç¼“å­˜åŒºä¸­çš„æµç»Ÿè®¡ä¿¡æ¯é€šè¿‡æŒ‡å®šç‰ˆæœ¬çš„NetStreamè¾“å‡ºæŠ¥æ–‡å‘é€ç»™NSC&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‰æ—¶è€åŒ–
&lt;ol&gt;
&lt;li&gt;æ´»è·ƒæµçš„è€åŒ–ï¼šä»ç¬¬ä¸€ä¸ªæŠ¥æ–‡å¼€å§‹ï¼Œä¸€æ¡æµåœ¨æŒ‡å®šçš„æ—¶é—´å†…ä¸€ç›´èƒ½è¢«é‡‡é›†åˆ°ã€‚è¯¥ç§è€åŒ–æ–¹å¼ä¸»è¦ç”¨äºæŒç»­æ—¶é—´è¾ƒé•¿çš„æµé‡ï¼Œå®šæœŸè¾“å‡ºç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;éæ´»è·ƒæµçš„è€åŒ–ï¼šä»æœ€åä¸€ä¸ªæŠ¥æ–‡å¼€å§‹ï¼Œä¸€æ¡æµåœ¨æŒ‡å®šçš„æ—¶é—´å†…æ²¡æœ‰è¢«é‡‡é›†åˆ°ã€‚è¯¥ç§è€åŒ–æ–¹å¼ä¸»ç”¨äºçŸ­æ—¶æµé‡ï¼Œæµé‡åœæ­¢åˆ™ç«‹å³è¾“å‡ºç»Ÿè®¡ä¿¡æ¯ï¼ŒèŠ‚çœå†…å­˜ç©ºé—´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç”±TCPè¿æ¥çš„FINå’ŒRSTæŠ¥æ–‡è§¦å‘è€åŒ–ï¼šå½“ä¸€æ¡å·²ç»å­˜åœ¨çš„TCPåè®®NetStreamæµä¸­æµè¿‡ä¸€æ¡æ ‡å¿—ä¸ºFINæˆ–RST&lt;sub&gt;è¡¨ç¤ºä¸€æ¬¡ä¼šè¯ç»“æŸ&lt;/sub&gt;çš„æŠ¥æ–‡æ—¶ï¼Œç«‹å³æŠŠç›¸åº”çš„NetStreamæµè€åŒ–æ‰&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡å­—èŠ‚è¶…è¿‡é™åˆ¶æ—¶è€åŒ–ï¼šNetStreamç¼“å­˜åŒºä¸­çš„æµéœ€è¦è®°å½•æµè¿‡çš„æŠ¥æ–‡å­—èŠ‚æ•°ï¼Œå½“å­—èŠ‚æ•°é‡è¶…è¿‡å®šä¹‰çš„å˜é‡ä¸Šé™æ—¶ï¼Œè¯¥æµå°±ä¼šæº¢å‡º&lt;/li&gt;
&lt;li&gt;å¼ºåˆ¶è€åŒ–ï¼šç”¨æˆ·å¯ä»¥é€šè¿‡æ‰§è¡Œå‘½ä»¤å¼ºåˆ¶å°†NetStreamç¼“å­˜åŒºä¸­æ‰€æœ‰æµè€åŒ–ï¼Œè¯¥åŠŸèƒ½ä¸»è¦ç”¨äºè€åŒ–æ¡ä»¶å°šæœªæ»¡è¶³ï¼Œä½†åˆéœ€è¦æœ€æ–°çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œæˆ–è€…NetStreamä¸šåŠ¡å‘ç”Ÿå¼‚å¸¸ï¼Œå¯¼è‡´æµç¼“å­˜åŒºä¸­æŸäº›æµå§‹ç»ˆä¸è€åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-netstreamæµè¾“å‡º&#34;&gt;4. NetStreamæµè¾“å‡º&lt;/h3&gt;
&lt;p&gt;NetStreamæµè¾“å‡ºæ˜¯æŒ‡å‚¨å­˜ç¼“å­˜åŒºé‡Œé¢çš„æµè€åŒ–åæŠŠæµç»Ÿè®¡ä¿¡æ¯è¾“å‡ºåˆ°æŒ‡å®šçš„NSCï¼ŒNetStreamæµè¾“å‡ºå…·æœ‰åŸå§‹æµã€èšåˆæµå’Œçµæ´»æµçš„ä¸‰ç§æµè¾“å‡ºæ–¹å¼ï¼Œä»¥åŠä¸‰ç§è¾“å‡ºæŠ¥æ–‡çš„ç‰ˆæœ¬æ ¼å¼ï¼Œåˆ†åˆ«æ˜¯V5ã€V8ã€V9ã€V10ï¼Œæ‰€æœ‰ç‰ˆæœ¬çš„æŠ¥æ–‡éƒ½æ˜¯&lt;strong&gt;é€šè¿‡UDPåè®®ä¼ é€’ç»Ÿè®¡ä¿¡æ¯çš„&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;æµè¾“å‡ºæ–¹å¼&#34;&gt;æµè¾“å‡ºæ–¹å¼&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åŸå§‹æµè¾“å‡ºæ–¹å¼ï¼šæ‰€æœ‰æµçš„ç»Ÿè®¡ä¿¡æ¯éƒ½è¦è¢«ç»Ÿè®¡ï¼Œåœ¨æµè€åŒ–åï¼Œ&lt;strong&gt;æ¯æ¡æµçš„ç»Ÿè®¡ä¿¡æ¯&lt;/strong&gt;éƒ½è¦è¾“å‡ºåˆ°NetStreamæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;èšåˆæµè¾“å‡ºæ–¹å¼ï¼šè®¾å¤‡å¯¹ä¸èšåˆå…³é”®é¡¹å®Œå…¨ç›¸åŒçš„æµç»Ÿè®¡ä¿¡æ¯è¿›è¡Œæ±‡æ€»ï¼Œå¾—åˆ°å¯¹åº”çš„èšåˆæµç»Ÿè®¡ä¿¡æ¯ï¼Œå°†è¯¥&lt;strong&gt;èšåˆç»Ÿè®¡ä¿¡æ¯&lt;/strong&gt;å‘é€åˆ°NetStreamæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;çµæ´»æµè¾“å‡ºæ–¹å¼ï¼šæµçš„å»ºç«‹æ¡ä»¶æ˜¯æŒ‰ç…§è‡ªå®šä¹‰çš„æ¡ä»¶è®¾ç½®ï¼Œå¯ä»¥å¯¹æŠ¥æ–‡æŒ‰ç…§åè®®ç±»å‹ã€æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£å·ã€ç›®çš„ç«¯å£å·ã€æµæ ‡ç­¾ç­‰è¿›è¡Œåˆ†ç±»ç»Ÿè®¡ï¼Œå°†&lt;strong&gt;åˆ†ç±»ç»Ÿè®¡ä¿¡æ¯&lt;/strong&gt;å‘é€ç»™NetStreamæœåŠ¡å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;è¾“å‡ºæŠ¥æ–‡çš„ç‰ˆæœ¬æ ¼å¼&#34;&gt;è¾“å‡ºæŠ¥æ–‡çš„ç‰ˆæœ¬æ ¼å¼&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;v5ï¼šæ ¹æ®&lt;strong&gt;ä¸ƒå…ƒç»„&lt;/strong&gt;äº§ç”ŸåŸå§‹çš„æ•°æ®æµï¼Œä½†æŠ¥æ–‡æ ¼å¼å›ºå®šï¼Œä¸æ˜“æ‰©å±•&lt;/li&gt;
&lt;li&gt;v8ï¼š&lt;strong&gt;æ”¯æŒèšåˆè¾“å‡º&lt;/strong&gt;æ ¼å¼ï¼Œä½†æŠ¥æ–‡æ ¼å¼å›ºå®šï¼Œä¸æ˜“æ‰©å±•&lt;/li&gt;
&lt;li&gt;v9ï¼š&lt;strong&gt;åŸºäºæ¨¡æ¿æ–¹å¼&lt;/strong&gt;ï¼Œä½¿ç»Ÿè®¡ä¿¡æ¯çš„è¾“å‡ºæ›´ä¸ºçµæ´»ï¼Œå¯ä»¥çµæ´»è¾“å‡ºå„ç§ç»„åˆæ ¼å¼çš„æ•°æ®ã€‚ç‰ˆæœ¬9&lt;strong&gt;æ”¯æŒå¯¹BGPä¸‹ä¸€è·³ã€MPLSç­‰ç»Ÿè®¡è¾“å‡º&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;v10ï¼š&lt;strong&gt;åŸºäºæ¨¡æ¿æ–¹å¼&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ ¹æ®æ•°æ®æµç‰¹å¾è¾“å‡ºç»Ÿè®¡ä¿¡æ¯&lt;/strong&gt;ã€‚å…·æœ‰å¾ˆå¼ºçš„å¯æ‰©å±•æ€§ï¼Œå¯¹äºä¸åŒçš„éœ€æ±‚è¾“å‡ºä¸åŒæ ¼å¼çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ol&gt;
">ç‰¹æ€§ï¼šDHCP+FTP+SNMP+NTP+Netstream+VRRP+BFD+NQA+URPF+NAT</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/zu-bo/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84&#34;&gt;ç»„æ’­åœ°å€ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E5%9C%B0%E5%9D%80&#34;&gt;ç»„æ’­IPåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E6%A8%A1%E5%9E%8B%E5%88%86%E7%B1%BB&#34;&gt;ç»„æ’­IPæ¨¡å‹åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB&#34;&gt;ç»„æ’­IPåœ°å€åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADmac%E5%9C%B0%E5%9D%80&#34;&gt;ç»„æ’­MACåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ip%E5%9C%B0%E5%9D%80%E5%88%B0mac%E5%9C%B0%E5%9D%80%E7%9A%84%E6%98%A0%E5%B0%84&#34;&gt;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%98%A0%E5%B0%84%E5%AF%BC%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%88%86%E5%8F%91%E6%A0%91&#34;&gt;ç»„æ’­åˆ†å‘æ ‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%BA%90%E8%B7%AF%E5%BE%84%E6%A0%91spt&#34;&gt;1. æºè·¯å¾„æ ‘SPT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%85%B1%E4%BA%AB%E6%A0%91rpt&#34;&gt;2. å…±äº«æ ‘RPT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;ç»„æ’­æ•°æ®è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#rpf%E6%A3%80%E6%9F%A5%E5%8F%8D%E5%90%91%E8%B7%AF%E5%BE%84%E8%BD%AC%E5%8F%91%E6%A3%80%E6%9F%A5&#34;&gt;RPFæ£€æŸ¥ï¼ˆåå‘è·¯å¾„è½¬å‘æ£€æŸ¥ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8E%E4%B8%BArpf%E6%A3%80%E6%9F%A5%E8%BF%87%E7%A8%8B&#34;&gt;åä¸ºRPFæ£€æŸ¥è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rpf%E6%A3%80%E6%9F%A5%E5%9C%A8%E7%BB%84%E6%92%AD%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8&#34;&gt;RPFæ£€æŸ¥åœ¨ç»„æ’­æ•°æ®è½¬å‘ä¸­çš„åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE&#34;&gt;ç»„æ’­ç›¸å…³åè®®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#igmp%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE&#34;&gt;IGMPäº’è”ç½‘ç»„ç®¡ç†åè®®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#v1&#34;&gt;v1&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E7%A6%BB%E5%BC%80&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%93%8D%E5%BA%94&#34;&gt;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%93%8D%E5%BA%94%E6%8A%91%E5%88%B6%E6%9C%BA%E5%88%B6&#34;&gt;å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B&#34;&gt;ä¸¾ä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v2&#34;&gt;v2&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F-2&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5-2&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%93%8D%E5%BA%94&#34;&gt;æŸ¥è¯¢ä¸å“åº”&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E8%AF%A2%E5%99%A8%E9%80%89%E4%B8%BE&#34;&gt;æŸ¥è¯¢å™¨é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E7%A6%BB%E5%BC%80-2&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v1%E5%92%8Cv2%E7%9A%84%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7&#34;&gt;v1å’Œv2çš„äº’æ“ä½œæ€§&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#v2%E4%B8%BB%E6%9C%BA%E4%B8%8Ev1%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;v2ä¸»æœºä¸v1è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v1%E4%B8%BB%E6%9C%BA%E4%B8%8Ev2%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;v1ä¸»æœºä¸v2è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B7%B7%E5%90%88%E7%89%88%E6%9C%AC&#34;&gt;æ··åˆç‰ˆæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v3&#34;&gt;v3&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F-3&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%94%B9%E8%BF%9B%E4%B9%8B%E5%A4%84&#34;&gt;æ”¹è¿›ä¹‹å¤„&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp%E4%B8%89%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84%E6%AF%94%E8%BE%83&#34;&gt;IGMPä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%89%88%E6%9C%AC%E6%9C%8D%E5%8A%A1%E7%9A%84%E7%BB%84%E6%92%AD%E6%A8%A1%E5%9E%8B&#34;&gt;1. ç‰ˆæœ¬æœåŠ¡çš„ç»„æ’­æ¨¡å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B&#34;&gt;2. æŠ¥æ–‡ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84&#34;&gt;3. æŠ¥æ–‡ç»“æ„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E7%89%88%E6%9C%AC%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B&#34;&gt;4. ç‰ˆæœ¬å·¥ä½œæµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-snooping&#34;&gt;IGMP Snooping&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%83%8C%E6%99%AF&#34;&gt;èƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8&#34;&gt;åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-2&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-snooping-proxy%E4%BA%8C%E5%B1%82%E5%92%8Cigmp-proxy%E4%B8%89%E5%B1%82&#34;&gt;IGMP Snooping Proxyï¼ˆäºŒå±‚ï¼‰å’ŒIGMP Proxyï¼ˆä¸‰å±‚ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-snooping-proxy&#34;&gt;IGMP Snooping Proxy&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-3&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-proxy&#34;&gt;IGMP Proxy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-ssm-mapping&#34;&gt;IGMP SSM Mapping&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B&#34;&gt;å·¥ä½œè¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim&#34;&gt;PIM&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E5%BF%B5%E4%BB%8B%E7%BB%8D&#34;&gt;æ¦‚å¿µä»‹ç»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%88%86%E5%8F%91%E6%A0%91mdt&#34;&gt;ç»„æ’­åˆ†å‘æ ‘MDT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;PIMè·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim%E8%B7%AF%E7%94%B1%E8%A1%A8%E9%A1%B9&#34;&gt;PIMè·¯ç”±è¡¨é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pimv2%E6%8A%A5%E6%96%87%E5%A4%B4%E6%A0%BC%E5%BC%8F&#34;&gt;PIMv2æŠ¥æ–‡å¤´æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87&#34;&gt;æŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#hello%E6%8A%A5%E6%96%87&#34;&gt;HelloæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#join%E6%8A%A5%E6%96%87&#34;&gt;JoinæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#state-refresh%E7%8A%B6%E6%80%81%E5%88%B7%E6%96%B0%E6%8A%A5%E6%96%87&#34;&gt;State RefreshçŠ¶æ€åˆ·æ–°æŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-dmdense_mode%E5%AF%86%E9%9B%86%E6%A8%A1%E5%BC%8F&#34;&gt;PIM-DMï¼ˆDense_modeï¼Œå¯†é›†æ¨¡å¼ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-4&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0%E5%92%8Cdr%E7%AB%9E%E9%80%89neighbor-discovery&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰Neighbor Discovery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%89%A9%E6%95%A3flooding&#34;&gt;2. æ‰©æ•£Flooding&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%89%AA%E6%9E%9Dprune&#34;&gt;3. å‰ªæPrune&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%AB%81%E6%8E%A5graft&#34;&gt;4. å«æ¥Graft&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%96%AD%E8%A8%80assert&#34;&gt;5. æ–­è¨€Assert&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-%E7%8A%B6%E6%80%81%E5%88%B7%E6%96%B0state-refresh&#34;&gt;6. çŠ¶æ€åˆ·æ–°State Refresh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93%E4%B8%8E%E8%AF%84%E4%BB%B7&#34;&gt;æ€»ç»“ä¸è¯„ä»·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-smasm%E6%A8%A1%E5%9E%8B&#34;&gt;PIM-SMï¼ˆASMæ¨¡å‹ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;åŸºæœ¬åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-5&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0%E5%92%8Cdr%E7%AB%9E%E9%80%89&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-rp%E5%8F%91%E7%8E%B0&#34;&gt;2. RPå‘ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-rpt%E6%9E%84%E5%BB%BA&#34;&gt;3. RPTæ„å»º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E7%BB%84%E6%92%AD%E6%BA%90%E6%B3%A8%E5%86%8C&#34;&gt;4. ç»„æ’­æºæ³¨å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-spt%E5%88%87%E6%8D%A2&#34;&gt;5. SPTåˆ‡æ¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-%E6%96%AD%E8%A8%80assert&#34;&gt;6. æ–­è¨€Assert&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E6%AE%8A%E5%9C%BA%E6%99%AF&#34;&gt;ç‰¹æ®Šåœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-smssm%E6%A8%A1%E5%9E%8B&#34;&gt;PIM-SMï¼ˆSSMæ¨¡å‹ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-2&#34;&gt;åŸºæœ¬åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6-6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0%E5%92%8Cdr%E7%AB%9E%E9%80%89-2&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-spt%E6%9E%84%E5%BB%BA&#34;&gt;2. SPTæ„å»º&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ssm%E4%B8%8Easm%E6%A8%A1%E5%9E%8B%E6%AF%94%E8%BE%83&#34;&gt;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#g%E4%B8%8Esg%E6%9D%A1%E7%9B%AE%E5%85%B3%E7%B3%BB&#34;&gt;ï¼ˆ*ï¼ŒGï¼‰ä¸ï¼ˆSï¼ŒGï¼‰æ¡ç›®å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#msdp&#34;&gt;MSDP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%BB%E6%84%8F%E6%92%ADanycast&#34;&gt;ä»»æ„æ’­Anycast&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#msdp%E5%AF%B9%E7%AD%89%E4%BD%93%E5%BB%BA%E7%AB%8B&#34;&gt;MSDPå¯¹ç­‰ä½“å»ºç«‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E6%BA%90%E4%BF%A1%E6%81%AF%E5%9C%A8%E5%9F%9F%E9%97%B4%E7%9A%84%E4%BC%A0%E9%80%92&#34;&gt;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;åº”ç”¨åœºæ™¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#msdp%E5%AE%9E%E7%8E%B0as%E5%86%85pim-sm%E5%9F%9F%E9%97%B4%E7%BB%84%E6%92%AD&#34;&gt;MSDPå®ç°ASå†…PIM-SMåŸŸé—´ç»„æ’­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mbgp&#34;&gt;MBGP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%8F%8C%E6%A0%88%E6%8A%80%E6%9C%AF&#34;&gt;ç»„æ’­åŒæ ˆæŠ€æœ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mld&#34;&gt;MLD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv4-ipv6-%E7%BB%84%E6%92%AD%E7%BD%91%E7%BB%9C%E4%B8%AD%E5%BA%94%E7%94%A8%E7%9A%84%E5%8D%8F%E8%AE%AE%E6%AF%94%E8%BE%83&#34;&gt;IPv4ã€IPv6 ç»„æ’­ç½‘ç»œä¸­åº”ç”¨çš„åè®®æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%98%AF%E5%B5%8C%E5%85%A5%E5%BC%8Frp%E5%8A%9F%E8%83%BD&#34;&gt;ä»€ä¹ˆæ˜¯åµŒå…¥å¼RPåŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipv6%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80%E4%B8%8Emac%E5%9C%B0%E5%9D%80%E6%98%A0%E5%B0%84&#34;&gt;IPv6ç»„æ’­åœ°å€ä¸MACåœ°å€æ˜ å°„&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E7%89%B9%E7%82%B9&#34;&gt;ç»„æ’­ç‰¹ç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%8A%BF&#34;&gt;ä¼˜åŠ¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A3%E5%8A%BF&#34;&gt;åŠ£åŠ¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8-2&#34;&gt;åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E7%BB%84%E6%92%AD&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ç»„æ’­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ç»„æ’­åœ°å€ç»“æ„&#34;&gt;ç»„æ’­åœ°å€ç»“æ„&lt;/h1&gt;
&lt;h2 id=&#34;ç»„æ’­ipåœ°å€&#34;&gt;ç»„æ’­IPåœ°å€&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªç»„æ’­ç»„å°±æ˜¯ä¸€ä¸ªIPåœ°å€ï¼Œä¸è¡¨ç¤ºå…·ä½“çš„ä¸»æœºï¼Œè€Œæ˜¯è¡¨ç¤ºä¸€ç³»åˆ—ç³»ç»Ÿçš„é›†åˆï¼Œä¸»æœºåŠ å…¥æŸä¸ªç»„æ’­ç»„&lt;br&gt;
å³å£°æ˜è‡ªå·±æ¥æ”¶ç›®çš„ä¸ºæŸä¸ªIPåœ°å€çš„æŠ¥æ–‡&lt;br&gt;
IPç»„æ’­ç»„åœ°å€&lt;strong&gt;224.0.0.0â€“239.255.255.255&lt;/strong&gt;ï¼ŒDç±»åœ°å€ç©ºé—´ï¼Œ&lt;strong&gt;ç¬¬ä¸€ä¸ªå­—èŠ‚çš„é«˜å››ä½&lt;/strong&gt;ä¸ºâ€œ&lt;strong&gt;1110&lt;/strong&gt;â€&lt;/p&gt;
&lt;h2 id=&#34;ç»„æ’­ipæ¨¡å‹åˆ†ç±»&#34;&gt;ç»„æ’­IPæ¨¡å‹åˆ†ç±»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ASMï¼šä»»æ„æºç»„æ’­&lt;br&gt;
&lt;strong&gt;ä»»æ„å‘é€è€…éƒ½å¯ä»¥æˆä¸ºç»„æ’­æº&lt;/strong&gt;ï¼Œå‘æŸç»„æ’­ç»„åœ°å€å‘é€ä¿¡æ¯ã€‚æ¥æ”¶è€…æ— æ³•é¢„çŸ¥ç»„æ’­æºçš„åœ°å€ï¼Œæ¥æ”¶è€…å¯ä»¥åœ¨ä»»æ„æ—¶é—´åŠ å…¥æˆ–è€…ç¦»å¼€è¯¥ä¸»æœºç»„ã€‚&lt;/li&gt;
&lt;li&gt;SFMï¼šè¿‡æ»¤æºç»„æ’­&lt;br&gt;
ä»å‘é€è€…è§’åº¦æ¥çœ‹ï¼Œç»„æ’­ç»„æˆå‘˜å…³ç³»å®Œå…¨ç›¸åŒã€‚SFMåœ¨åŠŸèƒ½ä¸Šå¯¹ASMè¿›è¡Œäº†æ‰©å±•ï¼Œ&lt;strong&gt;æ¥æ”¶è€…åªèƒ½æ¥æ”¶æ¥è‡ªéƒ¨åˆ†ç»„æ’­æºçš„æ•°æ®&lt;/strong&gt;ã€‚ä»æ¥æ”¶è€…è§’åº¦æ¥çœ‹ï¼Œåªæœ‰éƒ¨åˆ†ç»„æ’­æºæ˜¯æœ‰æ•ˆçš„ï¼Œç»„æ’­æºç»è¿‡äº†ç­›é€‰ã€‚&lt;/li&gt;
&lt;li&gt;SSMï¼šæŒ‡å®šæºç»„æ’­&lt;br&gt;
é’ˆå¯¹ç‰¹å®šæºå’Œç»„çš„ç»‘å®šæ•°æ®æµæä¾›æœåŠ¡ï¼Œæ¥æ”¶è€…ä¸»æœºåœ¨åŠ å…¥ç»„æ’­ç»„æ—¶ï¼Œå¯ä»¥æŒ‡å®šåªæ¥æ”¶å“ªäº›æºçš„æ•°æ®ï¼ŒåŠ å…¥ç»„æ’­ç»„ä»¥åï¼Œ&lt;strong&gt;ä¸»æœºåªä¼šæ”¶åˆ°æŒ‡å®šæºå‘é€åˆ°è¯¥ç»„çš„æ•°æ®&lt;/strong&gt;ã€‚å¯¹ç»„åœ°å€ä¸å†è¦æ±‚å…¨ç½‘å”¯ä¸€ï¼Œåªéœ€è¦æ¯ä¸ªç»„æ’­æºä¿æŒå”¯ä¸€ã€‚è¿™é‡Œçš„â€œå”¯ä¸€â€æŒ‡çš„æ˜¯åŒä¸€ä¸ªæºä¸Šä¸åŒçš„ç»„æ’­åº”ç”¨å¿…é¡»ä½¿ç”¨ä¸åŒçš„SSMåœ°å€æ¥åŒºåˆ†ï¼Œä½†ä¸åŒçš„æºä¹‹é—´å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç»„åœ°å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç»„æ’­ipåœ°å€åˆ†ç±»&#34;&gt;ç»„æ’­IPåœ°å€åˆ†ç±»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ°¸ä¹…ç»„åœ°å€
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰å¼€å¯ç»„æ’­çš„è®¾å¤‡ï¼ˆ224.0.0.1ï¼‰&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å¼€å¯ç»„æ’­çš„è·¯ç”±å™¨ï¼ˆ224.0.0.2ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFï¼ˆ224.0.0.5ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFçš„DRï¼ˆ224.0.0.6ï¼‰&lt;/li&gt;
&lt;li&gt;RIPv2ï¼ˆ224.0.0.9ï¼‰&lt;/li&gt;
&lt;li&gt;EIGRPï¼ˆ224.0.0.10ï¼‰&lt;/li&gt;
&lt;li&gt;dhcpï¼ˆ224.0.0.12ï¼‰&lt;/li&gt;
&lt;li&gt;PIMï¼ˆ224.0.0.13ï¼‰&lt;/li&gt;
&lt;li&gt;VRRPï¼ˆ224.0.0.18ï¼‰&lt;/li&gt;
&lt;li&gt;IGMPv3ï¼ˆ224.0.0.22ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¸´æ—¶ç»„åœ°å€&lt;br&gt;
ä¸ºç”¨æˆ·ç»„æ’­ç»„ä¸´æ—¶åˆ†é…çš„IPåœ°å€ï¼Œç»„æˆå‘˜çš„æ•°é‡ä¸€æ—¦ä¸ºé›¶ï¼Œå³å–æ¶ˆã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597066331855.png&#34; alt=&#34;å¸¸è§çš„æ°¸ä¹…ç»„åœ°å€åˆ—è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596607503545.png&#34; alt=&#34;ç»„æ’­IPåœ°å€åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸“ç”¨åœ°å€ï¼ˆ224.0.0.0-224.0.0.255ï¼‰ç”¨äºç½‘ç»œåè®®ç»„çš„å¹¿æ’­&lt;br&gt;
å…¬ç”¨åœ°å€ï¼ˆ224.0.1.0-238.255.255.255ï¼‰ç”¨äºå…¨çƒç½‘ç»œç»„æ’­&lt;br&gt;
ç§ç”¨åœ°å€ï¼ˆ239.0.0.0-239.255.255.255ï¼‰ç”¨äºæœ¬åœ°æµ‹è¯•ã€å±€åŸŸç½‘ä½¿ç”¨&lt;br&gt;
ASMåœ°å€ï¼ˆ224.0.1.0-231.255.255.255ã€233.0.0.0.0-238.255.255.255.255ï¼‰&lt;br&gt;
SSMåœ°å€ï¼ˆ232.0.0.0.0-232.255.255.255.255)&lt;br&gt;
å…¨ç½‘ç”¨åœ¨IPv6åè®®ä¸­ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚å¿…é¡»æ˜¯0xFFã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç»„æ’­macåœ°å€&#34;&gt;ç»„æ’­MACåœ°å€&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596607753123.png&#34; alt=&#34;ç»„æ’­MACåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç»„æ’­MACåœ°å€çš„é«˜24bitä¸º0x01005eï¼Œç¬¬25bitå›ºå®šä¸º0&lt;/strong&gt;ï¼Œä½23bitä¸ºç»„æ’­IPåœ°å€çš„ä½23bitï¼Œå°±ä»¥å¤ªç½‘è€Œè¨€ï¼ŒIPç»„æ’­å¸§ä¸ºä»¥01-00-5E-xx-xx-xx&lt;/p&gt;
&lt;h2 id=&#34;ipåœ°å€åˆ°macåœ°å€çš„æ˜ å°„&#34;&gt;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¸ºä»€ä¹ˆéœ€è¦ç»„æ’­IPåˆ°ç»„æ’­MACçš„æ˜ å°„ï¼Ÿå•æ’­å¯ä»¥é€šè¿‡ARPè·å¾—MACï¼Œä½†æ˜¯ç»„æ’­æ— æ³•æ ¹æ®ç»„æ’­IPå¾—åˆ°ç»„æ’­MACï¼Œåªèƒ½é€šè¿‡äººä¸ºçš„æ–¹å¼è§„å®šä¸€ä¸ªåœ°å€&lt;/code&gt;&lt;br&gt;
MACåœ°å€çš„ä½23bitä¸ºç»„æ’­IPåœ°å€çš„ä½23bï¼Œ&lt;code&gt;ä¸¢å¤±ç»„æ’­ipåœ°å€çš„å‰9bitï¼Œå› ä¸ºæ‰€æœ‰çš„ç»„æ’­IPå‡ä¸ºDç±»ï¼Œå³å‰4bitä¸º1110ï¼Œå®é™…ä¸¢å¤±çš„æ˜¯5bitä¿¡æ¯&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596608065677.png&#34; alt=&#34;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&#34;&gt;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;å­˜åœ¨å½“ç¬¬3å±‚IPåœ°å€æ˜ å°„æˆç¬¬2å±‚MACåœ°å€æ—¶å¯¼è‡´32:1çš„åœ°å€ä¸æ˜ç¡®é—®é¢˜&lt;sub&gt;ï¼ˆåŸå› ï¼šç¬¬25bitå›ºå®šä¸º0ï¼ŒIPåœ°å€32bitï¼Œåªæ˜ å°„å23bitï¼‰&lt;/sub&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596608304089.png&#34; alt=&#34;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å› æ­¤åœ¨è§„åˆ’ç»„æ’­ç½‘ç»œçš„æ—¶å€™ï¼Œä¸ºé˜²æ­¢å‡ºç°ç›¸åŒçš„ç»„æ’­MACï¼Œéœ€è¦ç»„æ’­IPçš„å23bitä¸ç›¸åŒ&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç»„æ’­åˆ†å‘æ ‘&#34;&gt;ç»„æ’­åˆ†å‘æ ‘&lt;/h1&gt;
&lt;p&gt;ç”¨æ¥æè¿°IPç»„æ’­æŠ¥æ–‡åœ¨ç½‘ç»œä¸­ç»è¿‡çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-æºè·¯å¾„æ ‘spt&#34;&gt;1. æºè·¯å¾„æ ‘SPT&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;PIM-DMå’ŒPIM-SMä¸­éƒ½ç”¨&lt;/code&gt;&lt;br&gt;
ä»¥&lt;strong&gt;ç»„æ’­æºä½œä¸ºæ ‘æ ¹&lt;/strong&gt;ï¼Œå°†ç»„æ’­æºåˆ°æ¯ä¸€ä¸ªæ¥æ”¶è€…çš„æœ€çŸ­è·¯å¾„ç»“åˆèµ·æ¥æ„æˆçš„è½¬å‘æ ‘ã€‚&lt;br&gt;
æ¯ä¸€ä¸ªç»„æ’­æºä¸æ¥æ”¶è€…ä¹‹é—´å»ºç«‹ä¸€æ£µç‹¬ç«‹çš„SPT&lt;br&gt;
&lt;code&gt;è¿™ä¸ªæœºåˆ¶çš„ä½œç”¨æ˜¯å®ç°ç»„æ’­æµé‡çš„æœ€ä¼˜è½¬å‘è·¯å¾„&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596610760187.png&#34; alt=&#34;æºè·¯å¾„æ ‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šè·¯å¾„æœ€ä¼˜ï¼Œå»¶è¿Ÿæœ€å°ï¼Œå ç”¨å†…å­˜è¾ƒå¤š&lt;/p&gt;
&lt;h2 id=&#34;2-å…±äº«æ ‘rpt&#34;&gt;2. å…±äº«æ ‘RPT&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä»…åœ¨PIM-SMä¸­æ‰ä¼šä½¿ç”¨ï¼Œå³é€‚åˆè§„æ¨¡è¾ƒå¤§ã€ç»„æˆå‘˜ç›¸å¯¹æ¯”è¾ƒåˆ†æ•£çš„ç½‘ç»œ&lt;/code&gt;&lt;br&gt;
åœ¨ç½‘ç»œçš„æŸäº›èŠ‚ç‚¹çš„&lt;strong&gt;å•ç‹¬çš„å…¬ç”¨æ ¹ï¼ˆRPï¼‰&lt;/strong&gt;ï¼Œå…±äº«æ ‘å³RPT&lt;br&gt;
å¯¹åº”æŸä¸ªç»„ï¼Œç½‘ç»œä¸­åªæœ‰ä¸€æ£µæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596611226847.png&#34; alt=&#34;å…±äº«æ ‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šè·¯å¾„ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå¼•å…¥é¢å¤–çš„å»¶è¿Ÿï¼Œ&lt;strong&gt;å ç”¨å†…å­˜è¾ƒå°‘&lt;/strong&gt;ï¼ˆå•ä¸ªè¡¨é¡¹ï¼‰&lt;/p&gt;
&lt;h1 id=&#34;ç»„æ’­æ•°æ®è½¬å‘&#34;&gt;ç»„æ’­æ•°æ®è½¬å‘&lt;/h1&gt;
&lt;p&gt;ç»„æ’­è·¯ç”±å’Œå•æ’­è·¯ç”±æ˜¯ç›¸åçš„ï¼Œå•æ’­è·¯ç”±å…³å¿ƒæ•°æ®æŠ¥æ–‡è¦åˆ°å“ªé‡Œå»ï¼Œç»„æ’­è·¯ç”±å…³å¿ƒæ•°æ®æŠ¥æ–‡ä»å“ªé‡Œæ¥ï¼ˆé˜²ç¯ï¼‰ã€‚ç»„æ’­è·¯ç”±ä½¿ç”¨ â€œåå‘è·¯å¾„è½¬å‘â€æœºåˆ¶(RPF, Reverse Path Forwarding)&lt;/p&gt;
&lt;h2 id=&#34;rpfæ£€æŸ¥åå‘è·¯å¾„è½¬å‘æ£€æŸ¥&#34;&gt;RPFæ£€æŸ¥ï¼ˆåå‘è·¯å¾„è½¬å‘æ£€æŸ¥ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;é¿å…é‡å¤æ”¶åˆ°ç»„æ’­æµå’Œç»„æ’­æµé‡çš„ç¯è·¯ï¼ŒåŒæ—¶ä¹Ÿèƒ½è§£å†³æ¬¡ä¼˜è·¯å¾„å’Œç¡®å®šå»ºç«‹å…±äº«æ ‘çš„å‡ºæ¥å£&lt;/code&gt;&lt;br&gt;
è·¯ç”±å™¨æ”¶åˆ°ç»„æ’­æ•°æ®æŠ¥æ–‡åï¼Œåªæœ‰ç¡®è®¤è¿™ä¸ªæ•°æ®æŠ¥æ–‡æ˜¯&lt;strong&gt;ä»è‡ªèº«è¿æ¥åˆ°ç»„æ’­æºçš„æ¥å£ä¸Šæ”¶åˆ°çš„ï¼Œæ‰è¿›è¡Œè½¬å‘&lt;/strong&gt;ï¼Œå¦åˆ™ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;code&gt;è¿™ä¸ªæœºåˆ¶çš„ä½œç”¨æ˜¯é˜²æ­¢ç»„æ’­æµé‡è½¬å‘ç¯è·¯&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;RPFæ£€æŸ¥&lt;/strong&gt;ï¼šåœ¨&lt;strong&gt;å•æ’­è·¯ç”±è¡¨ä¸­&lt;/strong&gt;æŸ¥æ‰¾åˆ°&lt;strong&gt;ç»„æ’­æŠ¥æ–‡æºåœ°å€çš„è·¯ç”±&lt;/strong&gt;ï¼Œå¦‚æœ&lt;strong&gt;è¯¥è·¯ç”±çš„å‡ºæ¥å£&lt;/strong&gt;å°±æ˜¯&lt;strong&gt;ç»„æ’­æŠ¥æ–‡çš„å…¥æ¥å£&lt;/strong&gt;ã€å³&lt;code&gt;ç¡®ä¿ç»„æ’­æµçš„å…¥æ¥å£æ˜¯å•æ’­è·¯ç”±çš„å‡ºæ¥å£&lt;/code&gt;ã€‘ï¼ŒRPFæ£€æŸ¥æˆåŠŸï¼›å¦åˆ™RPFæ£€æŸ¥å¤±è´¥ï¼ŒæŠ¥æ–‡ä¸¢å¼ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RPFä¸¾ä¾‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613155173.png&#34; alt=&#34;RPFä¸¾ä¾‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613223608.png&#34; alt=&#34;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613270842.png&#34; alt=&#34;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åä¸ºrpfæ£€æŸ¥è¿‡ç¨‹&#34;&gt;åä¸ºRPFæ£€æŸ¥è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;é™¤å•æ’­è·¯ç”±å¤–ï¼ŒMBGPè·¯ç”±ã€ç»„æ’­é™æ€è·¯ç”±ä¹Ÿæ˜¯RPFæ£€æŸ¥çš„ä¾æ®ã€‚å½“è·¯ç”±å™¨æ”¶åˆ°ä¸€ä»½ç»„æ’­æŠ¥æ–‡ä¹‹åï¼Œå¦‚æœè¿™ä¸‰ç§è·¯ç”±è¡¨éƒ½å­˜åœ¨ï¼Œå…·ä½“æ£€æŸ¥è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆï¼Œé€šè¿‡æŠ¥æ–‡æºåœ°å€ï¼Œåˆ†åˆ«ä»&lt;strong&gt;å•æ’­è·¯ç”±è¡¨ã€MBGPè·¯ç”±è¡¨å’Œç»„æ’­é™æ€è·¯ç”±è¡¨&lt;/strong&gt;ä¸­å„é€‰å‡ºä¸€æ¡æœ€ä¼˜è·¯ç”±ã€‚å•æ’­è·¯ç”±ã€MBGPè·¯ç”±çš„å‡ºå€Ÿå£ä¸ºRPFæ¥å£ï¼Œä¸‹ä¸€è·³ä¸ºRPFé‚»å±…&lt;code&gt;ç»„æ’­é™æ€è·¯ç”±å®é™…ä¸Šå±äºæ‰‹å·¥é…ç½®çš„ç»„æ’­è·¯ç”±ï¼Œå·²ç»æ˜ç¡®æŒ‡å®šäº†RPFæ¥å£ä¸RPFé‚»å±…&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œæ ¹æ®ä»¥ä¸‹åŸåˆ™ä»è¿™ä¸‰æ¡æœ€ä¼˜è·¯ç”±ä¸­é€‰æ‹©ä¸€æ¡ä½œä¸ºRPFè·¯ç”±
&lt;ol&gt;
&lt;li&gt;å¦‚æœé…ç½®äº†æŒ‰ç…§&lt;strong&gt;æœ€é•¿åŒ¹é…&lt;/strong&gt;é€‰æ‹©è·¯ç”±
&lt;ol&gt;
&lt;li&gt;ä»è¿™ä¸‰æ¡è·¯ç”±ä¸­&lt;strong&gt;é€‰å‡ºæœ€é•¿åŒ¹é…&lt;/strong&gt;çš„é‚£æ¡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™ä¸‰æ¡è·¯ç”±çš„æ©ç ä¸€æ ·ï¼Œåˆ™é€‰æ‹©&lt;strong&gt;ä¼˜å…ˆçº§æœ€é«˜&lt;/strong&gt;çš„é‚£æ¡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¹Ÿç›¸åŒï¼ˆå³æ‰‹å·¥ä¿®æ”¹äº†åè®®ä¼˜å…ˆçº§ï¼‰ï¼Œåˆ™æŒ‰ç…§&lt;strong&gt;ç»„æ’­é™æ€è·¯ç”±&amp;gt;MBGPè·¯ç”±&amp;gt;å•æ’­è·¯ç”±&lt;/strong&gt;çš„é¡ºåºè¿›è¡Œé€‰æ‹©&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½æ˜¯å•æ’­è·¯ç”±ï¼Œåˆ™æ¯”è¾ƒ&lt;strong&gt;ä¸‹ä¸€è·³IPåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;æ²¡æœ‰é…ç½®æœ€é•¿åŒ¹é…&lt;/strong&gt;é€‰æ‹©è·¯ç”±&lt;code&gt;é»˜è®¤&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ä»è€…ä¸‰æ¡è·¯ç”±ä¸­é€‰å‡º&lt;strong&gt;ä¼˜å…ˆçº§æœ€é«˜&lt;/strong&gt;çš„é‚£æ¡è·¯ç”±ï¼ˆé»˜è®¤å‚è€ƒåŸåˆ™ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™æŒ‰ç…§&lt;strong&gt;ç»„æ’­é™æ€è·¯ç”±&amp;gt;MBGPè·¯ç”±&amp;gt;å•æ’­è·¯ç”±&lt;/strong&gt;çš„é¡ºåºè¿›è¡Œé€‰æ‹©&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½æ˜¯å•æ’­è·¯ç”±ï¼Œåˆ™æ¯”è¾ƒæ©ç é•¿åº¦ï¼Œ&lt;strong&gt;å³æœ€é•¿åŒ¹é…&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœå•æ’­è·¯ç”±çš„æ©ç é•¿åº¦ä¸€æ ·ï¼Œåˆ™æ¯”è¾ƒ&lt;strong&gt;ä¸‹ä¸€è·³IPåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œè·¯ç”±å™¨ä¼šå°†æŠ¥æ–‡çš„å…¥æ¥å£ä¸RPFè·¯ç”±çš„RPFæ¥å£è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸€æ ·åˆ™RPFæ£€æŸ¥é€šè¿‡ï¼Œè¡¨æ˜æŠ¥æ–‡æ¥æºè·¯å¾„æ­£ç¡®ï¼Œä¼šå°†å…¶å‘ä¸‹æ¸¸è½¬å‘ï¼›å¦‚æœä¸ä¸€è‡´å³RPFæ£€æŸ¥å¤±è´¥ï¼Œè¡¨æ˜è¯¥æŠ¥æ–‡æ¥æºè·¯å¾„é”™è¯¯ï¼Œå°±å°†å…¶ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»„æ’­é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§ä¸º1ï¼ŒMBGPé»˜è®¤ä¸º255&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;rpfæ£€æŸ¥åœ¨ç»„æ’­æ•°æ®è½¬å‘ä¸­çš„åº”ç”¨&#34;&gt;RPFæ£€æŸ¥åœ¨ç»„æ’­æ•°æ®è½¬å‘ä¸­çš„åº”ç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨å®é™…ç»„æ’­æ•°æ®è½¬å‘è¿‡ç¨‹ä¸­ï¼Œ&lt;strong&gt;å¦‚æœå¯¹æ¯ä¸€ä»½æ¥æ”¶åˆ°çš„ç»„æ’­æ•°æ®æŠ¥æ–‡éƒ½é€šè¿‡å•æ’­è·¯ç”±è¡¨è¿›è¡ŒRPFæ£€æŸ¥ï¼Œä¼šç»™è·¯ç”±å™¨å¸¦æ¥å¾ˆå¤§è´Ÿæ‹…&lt;/strong&gt;ã€‚å› æ­¤ï¼Œè·¯ç”±å™¨åœ¨æ”¶åˆ°ä¸€ä»½æ¥è‡ªæºSå‘å¾€ç»„Gçš„ç»„æ’­æ•°æ®æŠ¥æ–‡ä¹‹åï¼Œé¦–å…ˆä¼šåœ¨ç»„æ’­è½¬å‘è¡¨ä¸­æŸ¥æ‰¾æœ‰æ— ç›¸åº”çš„ï¼ˆSï¼ŒGï¼‰ç»„æ’­è½¬å‘è¡¨é¡¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;ä¸å­˜åœ¨ï¼ˆSï¼ŒGï¼‰&lt;/code&gt;è½¬å‘è¡¨é¡¹ï¼Œåˆ™å¯¹è¯¥æŠ¥æ–‡æ‰§è¡ŒRPFæ£€æŸ¥ï¼Œ&lt;strong&gt;å°†æ£€æŸ¥åˆ°çš„RPFæ¥å£ä½œä¸ºå…¥æ¥å£ï¼Œåˆ›å»ºç»„æ’­è·¯ç”±è¡¨é¡¹&lt;/strong&gt;ï¼Œä¸‹å‘åˆ°ç»„æ’­è½¬å‘è¡¨ä¸­ã€‚å…¶ä¸­ï¼Œå¯¹RPFæ£€æŸ¥ç»“æœçš„å¤„ç†æ–¹å¼ä¸ºï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ£€æŸ¥é€šè¿‡ï¼Œ&lt;strong&gt;è¡¨æ˜æ¥æ”¶æ¥å£ä¸ºRPFæ¥å£&lt;/strong&gt;ï¼Œå‘è½¬å‘è¡¨é¡¹çš„æ‰€æœ‰å‡ºæ¥å£è½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œè¡¨æ˜æŠ¥æ–‡æ¥æºè·¯å¾„é”™è¯¯ï¼Œ&lt;strong&gt;ä¸¢å¼ƒè¯¥æŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;å­˜åœ¨ï¼ˆSï¼ŒGï¼‰&lt;/code&gt;è½¬å‘è¡¨é¡¹
&lt;ol&gt;
&lt;li&gt;æ¥æ”¶è¯¥&lt;strong&gt;æŠ¥æ–‡çš„æ¥å£ä¸è½¬å‘è¡¨é¡¹çš„å…¥æ¥å£ä¸€è‡´&lt;/strong&gt;ï¼Œåˆ™å‘æ‰€æœ‰çš„å‡ºæ¥å£è½¬å‘è¯¥æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ¥æ”¶è¯¥&lt;strong&gt;æŠ¥æ–‡çš„æ¥å£ä¸è½¬å‘è¡¨é¡¹çš„å…¥æ¥å£ä¸ä¸€è‡´&lt;/strong&gt;ï¼Œåˆ™å¯¹æ­¤æŠ¥æ–‡è¿›è¡ŒRPFæ£€æŸ¥ã€‚å¯¹RPFæ£€æŸ¥ç»“æœçš„å¤„ç†æ–¹å¼ä¸ºï¼š
&lt;ol&gt;
&lt;li&gt;è‹¥RPFæ£€æŸ¥é€‰å–å‡ºçš„&lt;strong&gt;RPFæ¥å£ä¸è½¬å‘è¡¨é¡¹çš„å…¥æ¥å£ä¸€è‡´&lt;/strong&gt;ï¼Œåˆ™è¯´æ˜ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹æ­£ç¡®ï¼ŒæŠ¥æ–‡æ¥æºè·¯å¾„é”™è¯¯ï¼Œ&lt;strong&gt;å°†å…¶ä¸¢å¼ƒ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‹¥RPFæ£€æŸ¥é€‰å–å‡ºçš„&lt;strong&gt;RPFæ¥å£ä¸è½¬å‘è¡¨é¡¹çš„å…¥æ¥å£ä¸ç¬¦ï¼Œåˆ™è¯´æ˜ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹å·²è¿‡æ—¶&lt;/strong&gt;ï¼Œäºæ˜¯æŠŠè¡¨é¡¹ä¸­çš„å…¥æ¥å£æ›´æ–°ä¸ºRPFæ¥å£ã€‚ç„¶åå†æ ¹æ®RPFæ£€æŸ¥è§„åˆ™è¿›è¡Œåˆ¤æ–­ï¼šå¦‚æœæ¥æ”¶è¯¥&lt;strong&gt;æŠ¥æ–‡çš„æ¥å£æ­£æ˜¯å…¶RPFæ¥å£ï¼Œåˆ™å‘è½¬å‘è¡¨é¡¹çš„æ‰€æœ‰å‡ºæ¥å£è½¬å‘è¯¥æŠ¥æ–‡&lt;/strong&gt;ï¼Œå¦åˆ™å°†å…¶ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç»„æ’­ç›¸å…³åè®®&#34;&gt;ç»„æ’­ç›¸å…³åè®®&lt;/h1&gt;
&lt;p&gt;ç»„æ’­åè®®åŒ…æ‹¬ç”¨äºä¸»æœºæ³¨å†Œçš„ç»„æ’­ç»„ç®¡ç†åè®®ï¼Œå’Œç”¨äºç»„æ’­é€‰è·¯è½¬å‘çš„ç»„æ’­è·¯ç”±åè®®ã€‚ç»„æ’­ç›¸å…³åè®®æœ‰IGMPã€PIMã€MSDPã€MBGP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596609093773.png&#34; alt=&#34;ç»„æ’­ç›¸å…³åè®®&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;igmpäº’è”ç½‘ç»„ç®¡ç†åè®®&#34;&gt;IGMPäº’è”ç½‘ç»„ç®¡ç†åè®®&lt;/h2&gt;
&lt;p&gt;è¿è¡Œåœ¨&lt;strong&gt;æ¥æ”¶è€…ä¸å¶è·¯ç”±å™¨&lt;/strong&gt;ä¹‹é—´ï¼Œç”¨äºç»´æŠ¤ç»„æ’­ç½‘ç»œä¸­å¶è·¯ç”±å™¨æ˜¯å¦éœ€è¦å‘ç‰¹å®šæ¥å£è½¬å‘ç»„æ’­æµã€‚3ä¸ªç‰ˆæœ¬ ,v2æ¯”è¾ƒå¸¸ç”¨ï¼Œv1ã€v2ã€v3 å‡æ”¯æŒASMï¼Œv3ä¸»è¦æ˜¯é’ˆå¯¹SSMæ¨¡å‹åšæœ‰åŠ›æ”¯æ’‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;v1&#34;&gt;v1&lt;/h3&gt;
&lt;h4 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596636710868.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šè¡¨ç¤ºç‰ˆæœ¬æ ‡è¯†ï¼Œç‰ˆæœ¬1ä¸º1ï¼Œç‰ˆæœ¬2æ²¡æœ‰è¿™ä¸ªå­—æ®µ&lt;/li&gt;
&lt;li&gt;Typeï¼šç‰ˆæœ¬1åªæœ‰
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æˆå‘˜å…³ç³»æŸ¥è¯¢&lt;/strong&gt;ï¼ˆmembership queryï¼Œ&lt;strong&gt;0x11&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆå‘˜å…³ç³»æŠ¥å‘Š&lt;/strong&gt;ï¼ˆmembership reportï¼Œ&lt;strong&gt;0x12&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰ç‰¹å®šçš„ç»„å…³ç³»æŸ¥è¯¢ï¼Œä¹Ÿæ²¡æœ‰ä¸»æœºå‘é€çš„ç¦»å¼€æŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç»„åœ°å€ï¼šå½“ä¸€ä¸ªæˆå‘˜å…³ç³»&lt;strong&gt;æŠ¥å‘Š&lt;/strong&gt;æ­£è¢«å‘é€æ—¶ï¼Œç»„åœ°å€å­—æ®µåŒ…å«&lt;strong&gt;ç»„æ’­åœ°å€&lt;/strong&gt;ï¼›å½“ç”¨äºæˆå‘˜å…³ç³»&lt;strong&gt;æŸ¥è¯¢&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;æœ¬å­—æ®µä¸º0&lt;/strong&gt;ï¼Œå¹¶è¢«ä¸»æœºå¿½ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç‰ˆæœ¬1ä¸èƒ½è®¾å®šå“åº”æ—¶é—´ï¼Œ&lt;strong&gt;æ‰€æœ‰çš„å“åº”æ—¶é—´éƒ½æ˜¯é»˜è®¤çš„10ç§’&lt;/strong&gt;ï¼Œè¿™å®¹æ˜“å¼•èµ·&lt;strong&gt;å“åº”çªå‘&lt;/strong&gt;ã€‚&lt;br&gt;
ç‰ˆæœ¬1æˆå‘˜ç¦»å¼€çš„æ—¶å€™æ˜¯é»˜é»˜ç¦»å¼€çš„ï¼Œä¸å‘é€ç¦»å¼€æŠ¥å‘Šï¼Œè¿™æ ·ç¦»å¼€å»¶è¿Ÿæ¯”è¾ƒå¤§ï¼Œä¹Ÿä¸ä¼šå¼•èµ·ç‰¹å®šçš„ç»„æŸ¥è¯¢ï¼Œå› æ­¤v1ç‰ˆæœ¬çš„è·¯ç”±å™¨ä¼šå‘¨æœŸæ€§(&lt;strong&gt;60ç§’&lt;/strong&gt;)çš„æŸ¥è¯¢(&lt;strong&gt;æºåœ°å€æ˜¯è·¯ç”±å™¨åœ°å€ï¼Œç›®æ ‡åœ°å€æ˜¯224.0.0.1ï¼Œç»„åœ°å€ä¸º0.0.0.0&lt;/strong&gt;)æ˜¯å¦è¿˜æœ‰æ¥æ”¶è€…ã€‚&lt;br&gt;
&lt;strong&gt;ç»„æ’­è¡¨çš„è€åŒ–æ—¶é—´ä¸º130ç§’ï¼ˆ=60x2+10ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç»„æˆå‘˜åŠ å…¥&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/h4&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»æœºå¸Œæœ›æ¥æ”¶ä¸€ä¸ªç»„æ’­ç»„çš„æ•°æ®ï¼Œåˆ™&lt;strong&gt;å‘é€æˆå‘˜åŠ å…¥æŠ¥å‘Šç»™ç»„æ’­ç»„&lt;/strong&gt;ï¼Œè¯¥æŠ¥æ–‡ä¸­ç»„åœ°å€ä¸ºä¸»æœºæƒ³åŠ å…¥çš„ç»„æ’­ç»„çš„åœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596638205183.png&#34; alt=&#34;ç»„æˆå‘˜åŠ å…¥è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç»„æˆå‘˜ç¦»å¼€&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åä¸ºå‘¨æœŸä¸º130ç§’&lt;/code&gt;ï¼Œæˆå‘˜æ‚„æ‚„ç¦»å¼€ç»„æ’­ç»„ï¼Œä¸å‘é€ä»»ä½•æŠ¥æ–‡ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639902390.png&#34; alt=&#34;ç»„æˆå‘˜ç¦»å¼€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&#34;&gt;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;IGMPæŸ¥è¯¢å™¨å‘¨æœŸæ€§çš„å‘å…±äº«ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºä»¥ç»„æ’­æ–¹å¼ï¼ˆç›®çš„åœ°å€ä¸º224.0.0.1ï¼‰å‘é€æˆå‘˜å…³ç³»æŸ¥è¯¢æ¶ˆæ¯ï¼ˆç»„åœ°å€ä¸º0ï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå†…æ‰€æœ‰ä¸»æœºéƒ½æ¥æ”¶åˆ°è¯¥æŸ¥è¯¢æ¶ˆæ¯ï¼Œå¦‚æœæŸä¸»æœºå¯¹æŸä¸€ç»„æ’­ç»„ï¼ˆæ¯”å¦‚ï¼Œç»„æ’­ç»„Gï¼‰æ„Ÿå…´è¶£ï¼Œåˆ™ä»¥ç»„æ’­æ–¹å¼å‘é€â€œæˆå‘˜å…³ç³»æŠ¥å‘Šâ€æŠ¥æ–‡ï¼ˆå…¶ä¸­æºå¸¦ç»„æ’­ç»„Gçš„åœ°å€ï¼‰æ¥å®£å‘Šè‡ªå·±å°†åŠ å…¥è¯¥ç»„æ’­ç»„ï¼Œå‡è®¾PC2é¦–å…ˆå‘é€æ­¤æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;ç»è¿‡æŸ¥è¯¢/å“åº”è¿‡ç¨‹åï¼ŒIGMPè·¯ç”±å™¨äº†è§£åˆ°æœ¬ç½‘ç»œå†…å­˜åœ¨ç»„æ’­ç»„Gå¯¹åº”çš„æ¥æ”¶è€…ï¼Œç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰ã€*è¡¨ç¤ºä»»æ„ç»„æ’­æºï¼ŒGè¡¨ç¤ºæŸä¸ªç»„æ’­ç»„ã€‘ç»„æ’­é¡¹å¹¶ä¾æ®æ­¤ä½œä¸ºç»„æ’­ä¿¡æ¯çš„è½¬å‘ä¾æ®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639701738.png&#34; alt=&#34;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IGMPv1è§„å®šï¼Œå½“å…±äº«ç½‘ç»œä¸­æœ‰å¤šå°è·¯ç”±å™¨æ—¶ï¼Œç”±ç»„æ’­è·¯ç”±åè®®é€‰ä¸¾æŸ¥è¯¢å™¨ã€‚ä¸åŒçš„ç»„æ’­è·¯ç”±åè®®æœ‰ä¸åŒçš„é€‰ä¸¾æœºåˆ¶ã€‚&lt;strong&gt;IGMPæŸ¥è¯¢å™¨é€‰ä¸¾ï¼Œç”±ç»„æ’­åè®®å†³å®šï¼Œå¦‚æœæ˜¯PIMåè®®ï¼ŒPIMçš„DRå°†åšä¸ºæŸ¥è¯¢å™¨&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;224.0.0.1-ä»£è¡¨æ‰€æœ‰çš„ç»„æ’­èŠ‚ç‚¹ï¼›224.0.0.2-ä»£è¡¨æ‰€æœ‰çš„ç»„æ’­è·¯ç”±å™¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å“åº”æŠ‘åˆ¶æœºåˆ¶&#34;&gt;å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;åŸå› ï¼šç»„æ’­è·¯ç”±å™¨åªå…³å¿ƒæŸä¸ªç»„æ’­ç»„ä¸­æ˜¯å¦è¿˜æœ‰æ¥æ”¶è€…ï¼Œåªè¦æœ‰ä¸€ä¸ªæ¥æ”¶è€…å°±ä»ç„¶éœ€è¦è½¬å‘ç»„æ’­æµé‡ï¼Œå³åªéœ€è¦æœ‰ä¸€ä¸ªäººå›å¤ç»„æ’­è·¯ç”±å™¨å³å¯&lt;/code&gt;&lt;br&gt;
IGMPæˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼Œå°±æ˜¯è¯´ç½‘æ®µå†…æ‰€æœ‰çš„è®¾å¤‡éƒ½ä¼šæ”¶åˆ°è¯¥æŸ¥è¯¢æŠ¥æ–‡ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰æ”¶åˆ°è¯¥æŠ¥æ–‡çš„ä¸»æœºéƒ½ä¼šå“åº”æŸ¥è¯¢è¯·æ±‚çš„ã€‚ä¸‹å›¾ä¸­åªæœ‰ä¸€ä¸ªä¸»æœºä¼šä»¥æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡å“åº”ï¼Œè€Œå…¶å®ƒä¸»æœºåˆ™æŠ‘åˆ¶æˆå‘˜å…³ç³»æŠ¥å‘Šçš„å‘é€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639715421.png&#34; alt=&#34;å“åº”&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å®é™…ä¸Šä¸»æœºæ”¶åˆ°IGMPæˆå‘˜å…³ç³»æŸ¥è¯¢æ—¶ï¼Œä¼šå¯¹å®ƒå·²ç»åŠ å…¥çš„æ¯ä¸ªç»„æ’­ç»„å¯åŠ¨ä¸€ä¸ªå€’è®¡æ•°æŠ¥å‘Šè®¡æ—¶å™¨ã€‚&lt;strong&gt;IGMPv1ä¸­è®¡æ—¶å™¨å›ºå®šä½¿ç”¨10s&lt;/strong&gt;ã€‚è®¡æ—¶å™¨åˆ°æ—¶çš„ä¸»æœºåˆ™ä¸»åŠ¨å‘é€æˆå‘˜å…³ç³»æŠ¥å‘Šï¼Œç»„åœ°å€ä¸ºè¯¥ç»„æ’­ç»„åœ°å€ï¼Œç›®çš„åœ°å€ä¸º224.0.0.1ã€‚äºæ˜¯ç½‘æ®µå†…å…¶ä»–ä¸»æœºéƒ½ä¼šæ”¶åˆ°è¯¥æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡ï¼Œæ¥æ”¶åˆ°æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡çš„ä¸»æœºæŠ‘åˆ¶æˆå‘˜å…³ç³»æŠ¥å‘Šçš„å‘é€ï¼Œå¹¶åˆ é™¤è®¡æ—¶å™¨ã€‚å½“è·¯ç”±å™¨å‘¨æœŸæ€§çš„å‘é€æˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡æ—¶ï¼Œæ¯ä¸ªä¸»æœºéƒ½ä¼šå†æ¬¡å¯åŠ¨è®¡æ—¶å™¨è¿›è¡ŒæŸ¥è¯¢\å“åº”\æŠ‘åˆ¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸¾ä¾‹&#34;&gt;ä¸¾ä¾‹&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699712692.png&#34; alt=&#34;ä¸¾ä¾‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å¤šå°IGMPè·¯ç”±å™¨çš„æƒ…å†µä¸‹ä¼šé€‰ä¸¾IGMPæŸ¥è¯¢è€…ï¼Œv1æ²¡æœ‰é€‰ä¸¾æœºåˆ¶ï¼Œä½¿ç”¨PIMçš„DRå……å½“æŸ¥è¯¢è€…ï¼ŒDRé€‰ä¸¾ï¼š1.ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼Œ2.IPåœ°å€è¶Šå¤§è¶Šä¼˜ã€‚å³v1ä¸­IPåœ°å€å¤§çš„å……å½“æŸ¥è¯¢è€…ï¼Œè€ŒæŸ¥è¯¢è€…çš„è€åŒ–æ—¶é—´ä¸º125ç§’ï¼ˆ=60x2+0.5x10ï¼Œå°äº130ç§’ï¼Œå³è¿™ä¸ªå€¼å¿…é¡»å°äºç»„æ’­è¡¨çš„è€åŒ–æ—¶é—´ï¼Œä¸ç„¶ä¼šå‡ºç°æŸ¥è¯¢è€…çš„ç¿»åŠ¨ï¼‰&lt;/code&gt;&lt;br&gt;
ä¸»æœºåŠ å…¥ç»„æ’­ç»„çš„åŸºæœ¬è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IGMP æŸ¥è¯¢å™¨ï¼ˆRouterBï¼‰å‘¨æœŸæ€§åœ°å‘å…±äº«ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºä»¥ç»„æ’­æ–¹å¼ï¼ˆç›®çš„åœ°å€ä¸ºç»„æ’­åœ°å€ï¼‰å‘é€æ™®éç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚è¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼Œè¡¨ç¤ºè¯¥ç½‘æ®µä¸Šçš„æ‰€æœ‰ä¸»æœºå’Œè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºéƒ½æ¥æ”¶åˆ°è¯¥æ™®éç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚å¦‚æœä¸»æœºï¼ˆå¦‚HostB å’ŒHostCï¼‰å¸Œæœ›åŠ å…¥æŸç»„æ’­ç»„G1ï¼Œåˆ™ä»¥ç»„æ’­æ–¹å¼å‘é€ReportæŠ¥å‘Šã€‚è¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼ŒæŠ¥æ–‡ä¸­æºå¸¦ç»„æ’­ç»„G1çš„åœ°å€ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘æ®µä¸­æ‰€æœ‰ä¸»æœºå’Œè·¯ç”±å™¨éƒ½æ¥æ”¶åˆ°è¯¥ReportæŠ¥å‘Šï¼Œå¹¶è·çŸ¥ç»„æ’­ç»„G1åœ°å€ä¿¡æ¯ï¼Œæ­¤æ—¶ç½‘æ®µä¸­å…¶å®ƒä¹Ÿå¸Œæœ›åŠ å…¥è¯¥ç»„æ’­ç»„G1çš„ä¸»æœºå°†ä¸å†å‘é€é’ˆå¯¹ç›¸åŒç»„æ’­ç»„çš„ReportæŠ¥å‘Šã€‚åŒæ—¶ï¼Œç½‘æ®µä¸­é¢„å¤‡åŠ å…¥å¦ä¸€ç»„æ’­ç»„G2çš„ä¸»æœºå‘é€é’ˆå¯¹ç»„æ’­ç»„G2çš„ReportæŠ¥å‘Šä»¥å“åº”æ™®éç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç»è¿‡æŸ¥è¯¢å’Œå“åº”è¿‡ç¨‹åï¼ŒIGMPè·¯ç”±å™¨äº†è§£åˆ°æœ¬ç½‘æ®µå†…å­˜åœ¨ç»„æ’­ç»„G1å¯¹åº”çš„ç»„æ’­ç»„æˆå‘˜ï¼Œåˆ™ç”±ç»„æ’­è·¯ç”±åè®®ç”Ÿæˆï¼ˆ*ï¼ŒG1ï¼‰ç»„æ’­è½¬å‘é¡¹å¹¶ä»¥æ­¤ä½œä¸ºç»„æ’­æ•°æ®çš„è½¬å‘ä¾æ®ã€‚ä¹‹åï¼Œç»„æ’­è·¯ç”±åè®®å°†å‘èµ·ä¸Šæ¸¸è·¯ç”±æ›´æ–°ä»¥ç»´æŠ¤ç»„æ’­è½¬å‘æ ‘ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­æºå‘å‡ºçš„ç»„æ’­æ•°æ®ç»è¿‡ç»„æ’­è·¯ç”±åˆ°è¾¾IGMPè·¯ç”±å™¨ï¼Œå¦‚æœIGMPè·¯ç”±å™¨ä¸Šå­˜åœ¨ï¼ˆ*ï¼ŒG1ï¼‰ç»„æ’­è½¬å‘é¡¹ï¼Œåˆ™è½¬å‘è¯¥ç»„æ’­æ•°æ®åˆ°æ­¤å…±äº«ç½‘æ®µï¼ŒG1ç»„æ’­ç»„æˆå‘˜ä¸»æœºæ¥æ”¶è¯¥æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;IGMPv1ä¸­æ²¡æœ‰ä¸“é—¨å®šä¹‰ç¦»å¼€ç»„æ’­ç»„çš„æ¶ˆæ¯ã€‚å½“ä¸»æœºç¦»å¼€æŸç»„æ’­ç»„åï¼Œå°†ä¸å†å‘é€ä»¥æ­¤ç»„æ’­ç»„åœ°å€ä¸ºç›®çš„åœ°å€çš„ReportæŠ¥å‘Šã€‚å½“ç½‘æ®µä¸­ä¸å†å­˜åœ¨è¯¥ç»„æ’­ç»„æˆå‘˜åï¼ŒIGMPè·¯ç”±å™¨å°†ä¸èƒ½æ”¶åˆ°ä»»ä½•é’ˆå¯¹æ­¤ç»„æ’­ç»„çš„ReportæŠ¥å‘Šï¼Œåˆ™IGMPè·¯ç”±å™¨åˆ é™¤è¯¥ç»„æ’­ç»„å¯¹åº”çš„è½¬å‘é¡¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;v2&#34;&gt;v2&lt;/h3&gt;
&lt;h4 id=&#34;æŠ¥æ–‡æ ¼å¼-2&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596697000398.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IGMPv2æŠ¥æ–‡ç›¸æ¯”IGMPv1æŠ¥æ–‡ï¼Œå–æ¶ˆäº†ç‰ˆæœ¬å­—æ®µè€Œç›¸åº”å¢åŠ äº†æœ€å¤§å“åº”æ—¶é—´çš„å­—æ®µ&lt;br&gt;
IGMPv2æ”¯æŒç‰¹å®šç»„æŸ¥è¯¢ã€å¢åŠ äº†ç¦»ç»„æ¶ˆæ¯ï¼ˆå¢åŠ äº†è§¦å‘æŸ¥è¯¢æœºåˆ¶ï¼‰ã€æŠ¥å‘ŠæŠ‘åˆ¶æœºåˆ¶ä¼˜åŒ–äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€å¤§å“åº”æ—¶é—´ï¼šä»…ç”¨äºç»„æˆå‘˜å…³ç³»æŸ¥è¯¢æ—¶ä¸»æœºå¯ä»¥å“åº”æŸ¥è¯¢ï¼Œè¿”å›æŠ¥å‘Šçš„æ—¶é—´èŒƒå›´ï¼Œå¯ä»¥é€‚å½“è°ƒé«˜ï¼Œç»™ä¸»æœºè¶³å¤Ÿçš„å“åº”æ—¶é—´ã€‚ä»¥0.1ç§’ä¸ºå•ä½ï¼Œ&lt;code&gt;é»˜è®¤å€¼æ˜¯100ï¼Œå³10ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç»„åœ°å€ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨æˆå‘˜æŸ¥è¯¢æ¶ˆæ¯ä¸­ï¼Œå‘é€ä¸€ä¸ªå¸¸è§„æŸ¥è¯¢æŠ¥æ–‡æ—¶ç»„åœ°å€ä¸º0ï¼Œå½“å‘é€ä¸€ä¸ªç‰¹å®šç»„çš„æŸ¥è¯¢æŠ¥æ–‡æ—¶ï¼Œåˆ™è®¾ç½®ä¸ºè¯¥ç»„çš„åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æˆå‘˜æŠ¥å‘Šæˆ–ç¦»å¼€ç»„çš„æ¶ˆæ¯ä¸­ï¼Œç›®çš„åœ°å€æ˜¯224.0.0.2åˆ™ä¸ºæ‰€æœ‰çš„ç»„æ’­è·¯ç”±å™¨ï¼Œ&lt;strong&gt;ä½†åä¸ºè®¾å¤‡ä¸Šå®ç°ä¸ºç‰¹å®šç»„&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç±»å‹ï¼šIGMPv2æŠ¥æ–‡ä¸­æœ‰ä¸‰ç§æŠ¥æ–‡ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;Type=0x11ï¼šæˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡ï¼Œåˆ†ä¸ºä¸¤ç§å­ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;å¸¸è§„æŸ¥è¯¢ï¼šç”¨äºç¡®å®šå“ªäº›ç»„æ’­ç»„æ˜¯æœ‰æ•ˆçš„ï¼Œå³è¯¥ç»„æ˜¯å¦è¿˜æœ‰æˆå‘˜åœ¨ä½¿ç”¨ï¼Œ&lt;strong&gt;å¸¸è§„æŸ¥è¯¢ç»„åœ°å€å…¨é›¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹å®šæŸ¥è¯¢ï¼šç”¨äºæŸ¥è¯¢ç‰¹å®šçš„ç»„æ’­ç»„æ˜¯å¦è¿˜æœ‰ç»„æˆå‘˜ï¼Œ&lt;strong&gt;ç»„åœ°å€ä¸ºç‰¹å®šçš„ç»„æ’­åœ°å€&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Type=0x16ï¼šIGMPv2ç»„æˆå‘˜å…³ç³»æŠ¥å‘Š
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å’ŒIGMPv1å…¼å®¹ï¼Œè¿˜æœ‰å¦å¤–çš„ä¸€ä¸ªé™„åŠ æ¶ˆæ¯ç±»åˆ«ï¼š0x12ä¸ºIGMPv1æˆå‘˜æŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Type=0x17ï¼šç¦»å¼€ç»„æ¶ˆæ¯ï¼Œä¸»æœºå‘é€çš„ç¦»å¼€æŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç»„æˆå‘˜åŠ å…¥-2&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/h4&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»æœºåŠ å…¥ä¸€ä¸ªç»„æ’­ç»„ï¼Œåˆ™åº”è¯¥ç«‹å³å‘é€ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜å…³ç³»æŠ¥å‘Šç»™ç»„æ’­ç»„&lt;code&gt;å’Œv1ç›¸åŒ&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699055945.png&#34; alt=&#34;ç»„æˆå‘˜åŠ å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æŸ¥è¯¢ä¸å“åº”&#34;&gt;æŸ¥è¯¢ä¸å“åº”&lt;/h4&gt;
&lt;p&gt;ä¸IGMPv1ç›¸åŒï¼Œéƒ½å­˜åœ¨æŠ‘åˆ¶æœºåˆ¶ã€‚&lt;br&gt;
&lt;strong&gt;å¢åŠ äº†æœ€å¤§å“åº”æ—¶é—´&lt;/strong&gt;æ¥æŒ‡å®šå»¶æ—¶å€¼æ¥è§„å®šæ‰€æœ‰ä¸»æœºçš„æŸ¥è¯¢å“åº”å»¶æ—¶çš„ä¸Šé™ï¼Œæ­¤å¤–æœ€å¤§å“åº”æ—¶é—´åœ¨&lt;strong&gt;IGMPæŸ¥è¯¢å™¨&lt;/strong&gt;ä¸Šé…ç½®ï¼Œåªåº”ç”¨åœ¨æˆå‘˜å…³ç³»æŸ¥è¯¢ä¿¡æ¯ã€‚&lt;br&gt;
åœ¨å¸¸è§„æŸ¥è¯¢ä¹‹å¤–å¢åŠ äº†ç‰¹å®šç»„æŸ¥è¯¢ï¼Œè¿™ç§æŸ¥è¯¢æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ä¸ºæŸä¸ªç»„æ’­ç»„çš„IPåœ°å€ï¼ŒæŠ¥æ–‡ä¸­çš„ç»„åœ°å€å­—æ®µä¹Ÿä¸ºè¯¥ç»„æ’­ç»„çš„IPåœ°å€ï¼Œç½‘ç»œä¸­å±äºè¯¥ç»„æ’­ç»„æˆå‘˜çš„ä¸»æœºæ‰ä¼šè¿›è¡Œå“åº”ï¼Œè¿™æ ·å°±é¿å…äº†å±äºå…¶ä»–ç»„æ’­ç»„æˆå‘˜çš„ä¸»æœºå‘é€å“åº”æŠ¥æ–‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699127088.png&#34; alt=&#34;æŸ¥è¯¢ä¸å“åº”&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PC2å‘é€å“åº”æŠ¥æ–‡ï¼š&lt;br&gt;
å…¶ä»–æ¥æ”¶è€…æ”¶åˆ°ä¹‹åä¼šæŠ‘åˆ¶å‘é€å“åº”æŠ¥æ–‡ï¼Œåˆ·æ–°å®šæ—¶å™¨&lt;br&gt;
æŸ¥è¯¢è€…æ”¶åˆ°ä¹‹åä¼šåˆ·æ–°è¯¥ç»„çš„è€åŒ–æ—¶é—´ä¸º130ç§’ï¼ŒåŒæ—¶è®°å½•&lt;code&gt;last reporterï¼ˆæ¯ä¸€è½®æŸ¥è¯¢ä¸­å€’è®¡æ—¶ç¬¬ä¸€ä¸ªåˆ°æ—¶çš„è®¾å¤‡ï¼Œæ‰€ä»¥last reporterä¸æ˜¯å›ºå®šä¸å˜çš„ï¼‰&lt;/code&gt;ä¸ºPC2çš„IPåœ°å€&lt;br&gt;
&lt;code&gt;ä¸ºä»€ä¹ˆè¦æœ‰last reporterï¼Ÿå‡å°‘ç¦»ç»„æŠ¥æ–‡ã€ç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡ä»¥åŠæŠ¥å‘ŠæŠ¥æ–‡çš„æ³›æ´ª&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;æŸ¥è¯¢å™¨é€‰ä¸¾&#34;&gt;æŸ¥è¯¢å™¨é€‰ä¸¾&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;é€‰ä¸¾åŸåˆ™ï¼šIPåœ°å€æœ€å°çš„è®¾å¤‡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596700187559.png&#34; alt=&#34;æŸ¥è¯¢å™¨é€‰ä¸¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æŸ¥è¯¢å™¨ä¹Ÿä¼šæœ‰å¤±æ•ˆçš„æ—¶é—´ï¼Œå½“æŸ¥è¯¢å™¨å¤±æ•ˆæ—¶ï¼Œå¦ä¸€ä¸ªè·¯ç”±å™¨æˆä¸ºæŸ¥è¯¢å™¨ï¼Œæ‰€ä»¥éæŸ¥è¯¢è·¯ç”±å™¨ä¼šå¯åŠ¨ä¸€ä¸ªæŸ¥è¯¢è®¡æ—¶å™¨ï¼Œå‘¨æœŸæ£€æŸ¥IGMPæŸ¥è¯¢è·¯ç”±å™¨çš„çŠ¶æ€ï¼Œ&lt;strong&gt;ç¼ºçœæƒ…å†µä¸‹ä¸º120ç§’ï¼Œä½†æ˜¯æŸ¥è¯¢è·¯ç”±å™¨çš„æ­»äº¡æ—¶é—´ä¸º125ç§’&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç»„æˆå‘˜ç¦»å¼€-2&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åªæœ‰last reporterç¦»ç»„æ‰ä¼šå‘é€ç¦»ç»„æŠ¥æ–‡ï¼Œå…¶ä»–æ¥æ”¶è€…ç¦»ç»„å¹¶ä¸ä¼šå‘é€ç¦»ç»„æŠ¥æ–‡ï¼Œå› ä¸ºå…¶ä»–æ¥æ”¶è€…ç¦»ç»„æ—¶çŸ¥é“è‡ªå·±ä¸æ˜¯è¿™ä¸ªç»„çš„å”¯ä¸€æ¥æ”¶è€…ï¼Œè€Œlast reporterç¦»ç»„æ—¶ä¸çŸ¥é“ç»„å†…è¿˜æœ‰å…¶ä»–æˆå‘˜ï¼Œå› ä¸ºä»–æ²¡æœ‰æ”¶åˆ°å…¶ä»–æˆå‘˜çš„å“åº”æŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596700612639.png&#34; alt=&#34;ç»„æˆå‘˜ç¦»å¼€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“ä¸€ä¸ªä¸»æœºå†³å®šç¦»å¼€ä¸€ä¸ªç»„æ’­ç»„æ—¶ï¼Œä»–ä¼šå‘æ‰€æœ‰ç»„æ’­è·¯ç”±å™¨ä»¥ç»„æ’­çš„å½¢å¼ï¼ˆ224.0.0.2ï¼‰å‘é€ç¦»å¼€ç»„æ¶ˆæ¯ï¼Œä¸ºäº†æ˜ç¡®è¯¥ç»„æ’­ç»„ä¸­æ˜¯å¦è¿˜åŒ…å«å…¶ä»–æˆå‘˜ä¸»æœºï¼Œè¯¥ç»„æ’­è·¯ç”±å™¨ä¼šå‘ç½‘ç»œä¸­å‘é€&lt;strong&gt;ç‰¹å®šç»„æŸ¥è¯¢æ¶ˆæ¯&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨æŸ¥è¯¢çš„æœ€å¤§å“åº”æ—¶é—´å†…ï¼ˆ&lt;strong&gt;é»˜è®¤ä¸º1s&lt;/strong&gt;ï¼‰æ²¡æœ‰æ”¶åˆ°è¯¥ç»„çš„æŠ¥å‘Šï¼Œåˆ™å†æ¬¡å‘ç‰¹å®šç»„æŸ¥è¯¢ã€‚2æ¬¡ç‰¹å®šç»„æŸ¥è¯¢ä¹‹åä»ç„¶æ²¡æœ‰æ”¶åˆ°æˆå‘˜æŠ¥å‘Šï¼Œåˆ™è®¤ä¸ºè¯¥ç»„æ’­æˆå‘˜å…¨éƒ¨ç¦»å¼€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;v1å’Œv2çš„äº’æ“ä½œæ€§&#34;&gt;v1å’Œv2çš„äº’æ“ä½œæ€§&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä»¥æŸ¥è¯¢è€…çš„ç‰ˆæœ¬ä¼˜å…ˆï¼Œå¦‚æœæŸ¥è¯¢è€…ä¹‹é—´ç‰ˆæœ¬ä¸åŒï¼Œåˆ™ä»¥ä½ç‰ˆæœ¬çš„ä¼˜å…ˆ&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;v2ä¸»æœºä¸v1è·¯ç”±å™¨&#34;&gt;v2ä¸»æœºä¸v1è·¯ç”±å™¨&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åå•†ä½¿ç”¨v1&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710458120.png&#34; alt=&#34; v2ä¸»æœºä¸v1è·¯ç”±å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
v1è·¯ç”±å™¨æŠŠv2æŠ¥å‘Šçœ‹ä½œæ— æ•ˆçš„IGMPä¿¡æ¯ç±»å‹å¹¶ä¸”&lt;strong&gt;å¿½ç•¥å®ƒ&lt;/strong&gt;&lt;br&gt;
å½“v1è·¯ç”±å™¨ä½œä¸ºæœ‰æ•ˆçš„IGMPæŸ¥è¯¢å™¨æ—¶ï¼Œv2çš„ä¸»æœºå¿…é¡»å‘é€v1æŠ¥å‘Šã€‚&lt;br&gt;
å½“v2çš„çš„ä¸»æœºæ£€æµ‹å‡ºIGMPæŸ¥è¯¢å™¨æ—¶v1çš„è·¯ç”±å™¨æ—¶ï¼Œä»–å¿…é¡»å§‹ç»ˆç”¨v1æŠ¥å‘Šä½œå‡ºå“åº”ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œv2çš„ä¸»æœºä¹Ÿå¯ä»¥æŠ‘åˆ¶å‘é€ç¦»å¼€ç»„æ¶ˆæ¯ã€‚&lt;br&gt;
ä¸ºäº†ç»´æŠ¤æ¥å£çš„çŠ¶æ€ï¼Œæ— è®ºä½•æ—¶v1æŸ¥è¯¢åœ¨æ¥å£å¤„è¢«æ”¶åˆ°ï¼Œ&lt;strong&gt;v2ä¸»æœºä¼šå¯åŠ¨ä¸€ä¸ª400ç§’çš„å€’æ•°è®¡æ—¶å™¨&lt;/strong&gt;ï¼ˆ&lt;strong&gt;å‘ä¸‹å…¼å®¹v1&lt;/strong&gt;ï¼‰ï¼Œå½“å¦ä¸€ä¸ªv1æŸ¥è¯¢è¢«æ”¶åˆ°æ—¶ï¼Œè®¡æ—¶å™¨è¢«å¤ä½ã€‚å¦‚æœè®¡æ—¶å™¨åˆ°æ—¶ï¼Œæ­¤æ¥å£æ¢å¤æˆä¸ºv2æ¥å£å¹¶ä¸”v2ä¿¡æ¯è¢«å†æ¬¡å‘é€ã€‚&lt;/p&gt;
&lt;h4 id=&#34;v1ä¸»æœºä¸v2è·¯ç”±å™¨&#34;&gt;v1ä¸»æœºä¸v2è·¯ç”±å™¨&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åªä¼šè¿è¡Œv2ç‰ˆæœ¬ï¼Œv1ä¸»æœºåç»­æ— æ³•æ”¶åˆ°ç»„æ’­æµé‡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710463619.png&#34; alt=&#34;v1ä¸»æœºä¸v2è·¯ç”±å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å±€åŸŸç½‘ä¸­v1çš„ä¸»æœºä¹Ÿæ˜¯åŒä¸€ç»„æˆå‘˜ï¼Œé‚£ä¹ˆè¯¥ç»„çš„v1æŠ¥å‘Šæ€»æ˜¯è¢«æ”¶åˆ°ï¼Œå› ä¸ºv2æŠ¥å‘Šåœ¨v1çš„ä¸»æœºä¸­ä¸ä¼šè¢«æŠ‘åˆ¶ï¼Œv1çš„ä¸»æœºä¸å…¼å®¹v2çš„æŠ¥å‘Šï¼Œå› æ­¤&lt;strong&gt;å¿½ç•¥å®ƒä»¬&lt;/strong&gt;ã€‚æ— è®ºä½•æ—¶ï¼Œåªè¦v1çš„ä¸»æœºæˆä¸ºç»„æˆå‘˜ï¼Œv2ç¦»å¼€è¿‡ç¨‹éƒ½å°†è¢«æç½®&lt;/p&gt;
&lt;h4 id=&#34;æ··åˆç‰ˆæœ¬&#34;&gt;æ··åˆç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;åªè¦æœ‰1çš„æŸ¥è¯¢è€…å­˜åœ¨ï¼Œåªä¼šè¿è¡Œv1&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710522472.png&#34; alt=&#34;æ··åˆç‰ˆæœ¬&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚æœä¸€äº›&lt;strong&gt;è¿è¡Œv1çš„è·¯ç”±å™¨&lt;/strong&gt;å­˜åœ¨äºå­ç½‘ä¸­ï¼Œé‚£ä¹ˆå¿…é¡»å¼ºåˆ¶æ€§åœ°ä¸ºå­ç½‘ä¸­çš„&lt;strong&gt;æ‰€æœ‰è·¯ç”±å™¨é…ç½®v1ä»¥ä¾¿æ­£å¸¸ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;v3&#34;&gt;v3&lt;/h3&gt;
&lt;p&gt;æœåŠ¡äºSSMæ¨¡å‹ï¼›å…è®¸ä¸»æœºæŒ‡å®šæ¥æ”¶æŸäº›ç½‘ç»œå‘é€çš„æŸäº›ç»„æ’­ç»„ï¼›å¢åŠ äº†ä¸»æœºçš„æ§åˆ¶èƒ½åŠ›ï¼Œ&lt;strong&gt;ä¸ä»…å¯ä»¥æŒ‡å®šç»„æ’­ç»„ï¼Œè¿˜èƒ½æŒ‡å®šç»„æ’­çš„æº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æŠ¥æ–‡æ ¼å¼-3&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h4&gt;
&lt;p&gt;IGMPv3æŠ¥æ–‡åŒ…å«ä¸¤å¤§ç±»ï¼šæŸ¥è¯¢æŠ¥æ–‡å’Œæˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥è¯¢æŠ¥æ–‡ï¼ˆ0x11ï¼‰
&lt;ol&gt;
&lt;li&gt;æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡ï¼ˆç¦»ç»„é€šè¿‡è¯¥æŠ¥æ–‡å®ç°ï¼Œç¦»ç»„ä¹‹åï¼ŒæŸ¥è¯¢å™¨å‘é€è¯¥æŠ¥æ–‡è¿›è¡ŒæŸ¥è¯¢ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613224109571.png&#34; alt=&#34;IGMPv3æŸ¥è¯¢æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Type&lt;br&gt;
ç­‰äº0x11&lt;/li&gt;
&lt;li&gt;Max Response Codeï¼ˆæœ€å¤§å“åº”æ—¶é—´ï¼‰&lt;br&gt;
æˆå‘˜ä¸»æœºåœ¨æ”¶åˆ°IGMPæŸ¥è¯¢å™¨å‘é€çš„æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡åï¼Œéœ€è¦åœ¨æœ€å¤§å“åº”æ—¶é—´å†…åšå‡ºå›åº”&lt;/li&gt;
&lt;li&gt;Group Addressï¼ˆç»„æ’­ç»„åœ°å€ï¼‰&lt;br&gt;
åœ¨æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡ä¸­ï¼Œè¯¥å­—æ®µè®¾ä¸º0ï¼›åœ¨ç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡å’Œç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡ä¸­ï¼Œè¯¥å­—æ®µä¸ºè¦æŸ¥è¯¢çš„ç»„æ’­ç»„åœ°å€&lt;/li&gt;
&lt;li&gt;S&lt;br&gt;
ä¸º1æ—¶ï¼Œæ‰€æœ‰æ”¶åˆ°æ­¤æŸ¥è¯¢æŠ¥æ–‡çš„å…¶ä»–è·¯ç”±å™¨&lt;strong&gt;ä¸å¯åŠ¨å®šæ—¶å™¨åˆ·æ–°è¿‡ç¨‹&lt;/strong&gt;ï¼Œä½†æ˜¯æ­¤æŸ¥è¯¢æŠ¥æ–‡å¹¶ä¸æŠ‘åˆ¶æŸ¥è¯¢å™¨é€‰ä¸¾è¿‡ç¨‹å’Œè·¯ç”±å™¨çš„ä¸»æœºä¾§å¤„ç†è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;QRV&lt;br&gt;
&lt;code&gt;å³åœ¨v2ä¸­è®¡ç®—æŸ¥è¯¢è€…è€åŒ–æ—¶é—´ä¸­çš„é‚£ä¸ª2ï¼Œåœ¨v3ä¸­é»˜è®¤ä¸º2&lt;/code&gt;&lt;br&gt;
é0ï¼Œåˆ™è¡¨ç¤ºæŸ¥è¯¢å™¨çš„å¥å£®ç³»æ•°ï¼Œå°†è‡ªå·±çš„å¥å£®ç³»æ•°è°ƒæ•´ä¸ºè¯¥å­—æ®µçš„å€¼ï¼›ä¸º0ï¼Œåˆ™è¡¨ç¤ºæŸ¥è¯¢å™¨çš„å¥å£®ç³»æ•°å¤§äº7ï¼Œåˆ™ä¸åšå¤„ç†&lt;/li&gt;
&lt;li&gt;QQICï¼ˆIGMPæŸ¥è¯¢å™¨çš„æŸ¥è¯¢é—´éš”ï¼‰&lt;br&gt;
å•ä½ä¸ºç§’ï¼ŒéæŸ¥è¯¢å™¨æ”¶åˆ°æŸ¥è¯¢æŠ¥æ–‡æ—¶ï¼Œå¦‚æœå‘ç°è¯¥å­—æ®µé0ï¼Œåˆ™å°†è‡ªå·±çš„æŸ¥è¯¢é—´éš”å‚æ•°è°ƒæ•´ä¸ºè¯¥å­—æ®µçš„å€¼ï¼›å¦‚æœå‘ç°è¯¥å­—æ®µä¸º0ï¼Œåˆ™ä¸åšå¤„ç†&lt;/li&gt;
&lt;li&gt;Number of Sourcesï¼ˆæŠ¥æ–‡ä¸­åŒ…å«çš„ç»„æ’­æºçš„æ•°é‡ï¼‰&lt;br&gt;
å¯¹äºæ™®éç»„æŸ¥è¯¢æŠ¥æ–‡å’Œç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡ï¼Œè¯¥å­—æ®µä¸º0ï¼›å¯¹äºç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡ï¼Œè¯¥å­—æ®µé0ï¼Œæ­¤å‚æ•°çš„å¤§å°å—åˆ°æ‰€åœ¨ç½‘ç»œMTUå¤§å°çš„é™åˆ¶&lt;/li&gt;
&lt;li&gt;Source Addressï¼ˆç»„æ’­æºåœ°å€ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ï¼ˆ0x22ï¼‰&lt;code&gt;ç›®çš„åœ°å€ä¸º224.0.0.22ï¼ˆä»£è¡¨æ‰€æœ‰è¿è¡Œv3çš„è·¯ç”±å™¨ï¼Œå³ä¸»æœºä¸ç›‘å¬ï¼Œå› æ­¤v3ä¹Ÿå°±æ²¡æœ‰å“åº”æŠ‘åˆ¶æœºåˆ¶ï¼‰&lt;/code&gt;&lt;br&gt;
ä¸ä»…åŒ…å«ä¸»æœºæƒ³è¦åŠ å…¥çš„ç»„æ’­ç»„ï¼Œè€Œä¸”åŒ…å«ä¸»æœºæƒ³è¦æ¥æ”¶æ¥è‡ªå“ªäº›ç»„æ’­æºçš„æ•°æ®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613224330953.png&#34; alt=&#34;IGMPv3æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Type&lt;br&gt;
ç­‰äº0x22&lt;/li&gt;
&lt;li&gt;Number of Group Recordsï¼ˆæŠ¥æ–‡ä¸­åŒ…å«çš„ç»„è®°å½•çš„æ•°é‡ï¼‰&lt;/li&gt;
&lt;li&gt;Group Recordï¼ˆç»„è®°å½•ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613224926638.png&#34; alt=&#34;Group Record&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;Record Typeï¼ˆç»„è®°å½•çš„ç±»å‹ï¼‰ï¼Œå…±åˆ†ä¸º3ç±»
&lt;ol&gt;
&lt;li&gt;å½“å‰çŠ¶æ€æŠ¥å‘Šï¼šç”¨äºå¯¹æŸ¥è¯¢æŠ¥æ–‡è¿›è¡Œå“åº”ï¼Œé€šå‘Šè‡ªå·±ç›®å‰çš„çŠ¶æ€ï¼Œå…±ä¸¤ç§ï¼š
&lt;ol&gt;
&lt;li&gt;MODE_IS_INCLUDEï¼Œè¡¨ç¤ºæ¥æ”¶æºåœ°å€åˆ—è¡¨åŒ…å«çš„æºå‘å¾€è¯¥ç»„çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;li&gt;MODE_IS_EXCLUDEï¼Œè¡¨ç¤ºä¸æ¥æ”¶æºåœ°å€åˆ—è¡¨åŒ…å«çš„æºå‘å¾€è¯¥ç»„çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤æ¨¡å¼æ”¹å˜æŠ¥å‘Šï¼šå½“ç»„å’Œæºçš„å…³ç³»åœ¨INCLUDEå’ŒEXCLUDEä¹‹é—´åˆ‡æ¢æ—¶ï¼Œä¼šé€šå‘Šè¿‡æ»¤æ¨¡å¼å‘ç”Ÿå˜åŒ–ï¼Œå…±ä¸¤ç§ï¼š
&lt;ol&gt;
&lt;li&gt;CHANGE_TO_INCLUDE_MODEï¼Œè¡¨ç¤ºè¿‡æ»¤æ¨¡å¼ç”±EXCLUDEè½¬æ¢åˆ°INCLUDEï¼Œæ¥æ”¶æºåœ°å€åˆ—è¡¨åŒ…å«çš„æ–°ç»„æ’­æºå‘å¾€è¯¥ç»„æ’­ç»„çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;CHANGE_TO_EXCLUDE_MODEï¼Œè¡¨ç¤ºè¿‡æ»¤æ¨¡å¼ç”±INCLUDEè½¬æ¢åˆ°EXCLUDEï¼Œæ‹’ç»æºåœ°å€åˆ—è¡¨åŒ…å«çš„æ–°ç»„æ’­æºå‘å¾€è¯¥ç»„çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æºåˆ—è¡¨æ”¹å˜æŠ¥å‘Šï¼šå½“æŒ‡å®šæºå‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¼šé€šå‘Šæºåˆ—è¡¨å‘ç”Ÿå˜åŒ–ï¼Œå…±ä¸¤ç§ï¼š
&lt;ol&gt;
&lt;li&gt;ALLOW_NEW_SOURCESï¼Œè¡¨ç¤ºåœ¨ç°æœ‰çš„åŸºç¡€ä¸Šï¼Œéœ€è¦æ¥æ”¶æºåœ°å€åˆ—è¡¨åŒ…å«çš„ç»„æ’­æºå‘å¾€è¯¥ç»„æ’­ç»„çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;li&gt;BLOCK_OLD_SOURCESï¼Œè¡¨ç¤ºåœ¨ç°æœ‰çš„åŸºç¡€ä¸Šï¼Œä¸å†æ¥æ”¶æºåœ°å€åˆ—è¡¨åŒ…å«çš„ç»„æ’­æºå‘å¾€è¯¥ç»„æ’­ç»„çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613227026206.png&#34; alt=&#34;å·¥ä½œæœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;v3å“åº”æ¶ˆæ¯çš„ç›®çš„åœ°å€ä¸º224.0.0.22&lt;/strong&gt;ï¼ˆä»£è¡¨æ‰€æœ‰è¿è¡Œv3çš„è·¯ç”±å™¨ï¼‰ï¼Œå…¶ä¸­å¯ä»¥æºå¸¦è‡³å°‘ä¸€ä¸ªç»„è®°å½•ï¼Œåœ¨æ¯ä¸ªç»„è®°å½•ä¸­ï¼ŒåŒ…å«ç»„æ’­ç»„åœ°å€ã€æ•°ç›®ä¸ç­‰çš„æºåœ°å€ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç‰¹å®šæºç»„åŠ å…¥&lt;br&gt;
ç½‘ç»œä¸­å­˜åœ¨S1å’ŒS2ä¸¤ä¸ªç»„æ’­æºï¼Œå‡å‘ç»„æ’­ç»„Gå‘é€ç»„æ’­æ•°æ®ï¼ŒHostä»…å¸Œæœ›æ¥æ”¶ä»ç»„æ’­æºS1å‘å¾€ç»„æ’­ç»„Gçš„ä¿¡æ¯&lt;br&gt;
å¦‚æœHostå’Œç»„æ’­è·¯ç”±å™¨ä¹‹é—´è¿è¡Œçš„æ˜¯IGMPv1æˆ–IGMPv2ï¼ŒHoståŠ å…¥ç»„æ’­ç»„Gæ—¶æ— æ³•å¯¹ç»„æ’­æºè¿›è¡Œé€‰æ‹©ï¼Œæ— è®ºå…¶æ˜¯å¦éœ€è¦ï¼Œéƒ½ä¼šåŒæ—¶æ¥æ”¶åˆ°æ¥è‡ªç»„æ’­æºS1å’ŒS2çš„æ•°æ®ã€‚å¦‚æœé‡‡ç”¨IGMPv3ï¼Œæˆå‘˜ä¸»æœºå¯ä»¥é€‰æ‹©ä»…æ¥æ”¶S1ç»„æ’­æ•°æ®ã€‚
&lt;ol&gt;
&lt;li&gt;Hostå‘é€IGMPv3æŠ¥å‘Šï¼ˆGï¼ŒINCLUDEï¼Œ(S1)ï¼‰ï¼Œä»…æ¥æ”¶æºS1å‘ç»„æ’­ç»„Gå‘é€çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;Hostå‘é€IGMPv3æŠ¥å‘Šï¼ˆGï¼ŒEXCLUDEï¼Œ(S2)ï¼‰ï¼Œä¸æ¥æ”¶æŒ‡å®šæºS2å‘ç»„æ’­ç»„Gå‘é€çš„æ•°æ®ï¼Œä»è€Œä»…æœ‰æ¥è‡ªS1çš„ç»„æ’­æ•°æ®æ‰èƒ½ä¼ é€’åˆ°Host&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç‰¹å®šæºç»„æŸ¥è¯¢&lt;br&gt;
å½“æ¥æ”¶åˆ°ç»„æˆå‘˜å‘é€çš„&lt;strong&gt;æ”¹å˜ç»„æ’­ç»„ä¸æºåˆ—è¡¨çš„å¯¹åº”å…³ç³»&lt;/strong&gt;çš„æŠ¥å‘Šæ—¶ï¼ˆ&lt;code&gt;CHANGE_TO_INCLUDE_MODEã€CHANGE_TO_EXCLUDE_MODEã€ALLOW_NEW_SOURCESã€BLOCK_OLD_SOURCES&lt;/code&gt;ï¼‰ï¼ŒIGMPæŸ¥è¯¢å™¨ä¼šå‘é€&lt;strong&gt;ç‰¹å®šæºç»„æŸ¥è¯¢&lt;/strong&gt;æŠ¥æ–‡ã€‚å¦‚æœç»„æˆå‘˜å¸Œæœ›æ¥æ”¶å…¶ä¸­ä»»æ„ä¸€ä¸ªæºçš„ç»„æ’­æ•°æ®ï¼Œå°†åé¦ˆæŠ¥å‘ŠæŠ¥æ–‡ã€‚IGMPæŸ¥è¯¢å™¨æ ¹æ®åé¦ˆçš„ç»„æˆå‘˜æŠ¥å‘Šæ›´æ–°è¯¥ç»„å¯¹åº”çš„æºåˆ—è¡¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ”¹è¿›ä¹‹å¤„&#34;&gt;æ”¹è¿›ä¹‹å¤„&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596780155795.png&#34; alt=&#34;æ”¹è¿›ä¹‹å¤„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
v3ä¸ä»…æ”¯æŒv1çš„æ™®éç»„æŸ¥è¯¢ã€v2çš„ç‰¹å®šç»„æŸ¥è¯¢ï¼Œè¿˜æ”¯æŒv3çš„æŒ‡å®šæº/ç»„æŸ¥è¯¢ã€‚åœ¨IGMPæ¶ˆæ¯ä¸­æºå¸¦ç»„æ’­æºåœ°å€å’Œå¤šç§æ§åˆ¶å­—æ®µï¼ˆå¦‚æŸ¥è¯¢å™¨å¼ºå£®æ€§ç³»æ•°ã€æŸ¥è¯¢é—´éš”ç­‰ï¼‰ã€‚&lt;br&gt;
å¯¹äºæ™®éç»„æŸ¥è¯¢ï¼Œæ—¢ä¸æºå¸¦ç»„åœ°å€(0.0.0.0)ï¼Œä¹Ÿä¸æºå¸¦æºåœ°å€ï¼›å¯¹äºç‰¹å®šç»„æŸ¥è¯¢ï¼Œæºå¸¦ç»„åœ°å€ï¼Œä½†æ˜¯ä¸æºå¸¦æºåœ°å€ï¼›å¯¹äºæŒ‡å®šæº/ç»„æŸ¥è¯¢ï¼Œæ—¢æºå¸¦ç»„åœ°å€ï¼Œè€Œä¸”è¿˜æºå¸¦è‡³å°‘ä¸€ä¸ªæºåœ°å€&lt;/p&gt;
&lt;h3 id=&#34;igmpä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&#34;&gt;IGMPä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&lt;/h3&gt;
&lt;h4 id=&#34;1-ç‰ˆæœ¬æœåŠ¡çš„ç»„æ’­æ¨¡å‹&#34;&gt;1. ç‰ˆæœ¬æœåŠ¡çš„ç»„æ’­æ¨¡å‹&lt;/h4&gt;
&lt;p&gt;IGMPV1å’ŒV2æœåŠ¡äºASMæ¨¡å‹ï¼Œåªèƒ½æŒ‡å®šç»„æ’­ç»„ï¼Œä¸èƒ½æŒ‡å®šç»„æ’­æºï¼Œå¯ä»¥ä½¿ç”¨çš„ç»„æ’­åœ°å€èŒƒå›´ï¼š224.0.1.0åˆ°238.255.255.255ï¼Œé™¤å»232.0.0.0/8ï¼ˆç”¨äºSSMï¼‰&lt;br&gt;
IGMPV3å¯ä»¥åŒäºæœåŠ¡äºASMå’ŒSSMï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šéœ€è¦åŠ å…¥çš„ç»„æ’­ç»„å’Œç»„æ’­æºï¼Œå¹¶ä¸”åœ¨æŠ¥æ–‡ä¸­å¯ä»¥åŒæ—¶é€šå‘Šå¤šä¸ªç»„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-æŠ¥æ–‡ç±»å‹&#34;&gt;2. æŠ¥æ–‡ç±»å‹&lt;/h4&gt;
&lt;p&gt;IGMPV1:  æˆå‘˜å…³ç³»æŸ¥è¯¢0x11ã€æˆå‘˜å…³ç³»æŠ¥å‘Š0x12&lt;br&gt;
IGMPV2:  æˆå‘˜å…³ç³»æŸ¥è¯¢0x11&lt;code&gt;æ™®éç»„æŸ¥è¯¢ã€ç‰¹å®šç»„æŸ¥è¯¢&lt;/code&gt; ã€æˆå‘˜å…³ç³»æŠ¥å‘Š0x16ã€ç¦»ç»„æŠ¥æ–‡0x17&lt;br&gt;
IGMPV3:  æˆå‘˜å…³ç³»æŸ¥è¯¢0x11&lt;code&gt;æ™®éç»„æŸ¥è¯¢ã€ç‰¹å®šç»„æŸ¥è¯¢ã€ç‰¹å®šæºç»„æŸ¥è¯¢&lt;/code&gt;ã€æˆå‘˜å…³ç³»æŠ¥å‘Š0x22&lt;code&gt;å½“å‰çŠ¶æ€æŠ¥å‘Šï¼šMODE_IS_INCLUDEã€MODE_IS_EXCLUDEï¼›è¿‡æ»¤æ¨¡å¼æ”¹å˜æŠ¥å‘Šï¼šCHANGE_TO_INCLUDE_MODEã€CHANGE_TO_EXCLUDE_MODEï¼›æºåˆ—è¡¨æ”¹å˜æŠ¥å‘Šï¼šALLOW_NEW_SOURCEã€BLOCK_OLD_SOURCE&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;v1å’Œv2æ‰€æœ‰ç»„æ’­è·¯ç”±å…¶ç›‘å¬224.0.0.2ï¼›v3æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ç›®çš„åœ°å€ä¸º224.0.0.22ï¼Œå³æ‰€æœ‰è¿è¡Œv3çš„è·¯ç”±å™¨ç›‘å¬åœ°å€ï¼Œä½†æ˜¯ä¸»æœºä¸ç›‘å¬ï¼Œå› æ­¤v3ä¹Ÿå°±æ²¡æœ‰å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/p&gt;
&lt;h4 id=&#34;3-æŠ¥æ–‡ç»“æ„&#34;&gt;3. æŠ¥æ–‡ç»“æ„&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;V1ï¼šç‰ˆæœ¬ã€ç±»å‹ã€ç»„æ’­ç»„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596636710868.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;V2ï¼šç±»å‹ã€æœ€å¤§å“åº”æ—¶é—´ã€ç»„æ’­ç»„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596697000398.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;V3ï¼šåˆ†ä¸ºæŸ¥è¯¢æŠ¥æ–‡å’Œæˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡&lt;br&gt;
æŸ¥è¯¢æŠ¥æ–‡ï¼šç»§æ‰¿v2çš„å‰8Bï¼Œå³ç±»å‹ã€Max Response Code(æœ€å¤§å“åº”æ—¶é—´)å’Œç»„æ’­ç»„åœ°å€ï¼Œä¹‹ååˆæ·»åŠ 4Bï¼Œä¸»è¦é’ˆå¯¹çš„æ˜¯æŸ¥è¯¢è€…ï¼Œä¸»è¦åŒ…å«S(æŠ‘åˆ¶æŸ¥è¯¢è€…å®šæ—¶å™¨)ã€QRV(æŸ¥è¯¢å™¨çš„å¥å£®ç³»æ•°)ã€QQIC(æŸ¥è¯¢é—´éš”)ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ç»„æ’­æºåœ°å€ä¸ªæ•°å’Œåœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613224109571.png&#34; alt=&#34;IGMPv3æŸ¥è¯¢æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡ï¼šç±»å‹ã€ç»„è®°å½•çš„æ•°é‡å’Œç±»å‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613224330953.png&#34; alt=&#34;IGMPv3æˆå‘˜æŠ¥å‘ŠæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;4-ç‰ˆæœ¬å·¥ä½œæµç¨‹&#34;&gt;4. ç‰ˆæœ¬å·¥ä½œæµç¨‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æˆå‘˜åŠ ç»„&lt;br&gt;
v1å’Œv2åªèƒ½åŠ å…¥æŒ‡å®šçš„ç»„æ’­ç»„ï¼Œæ— æ³•æŒ‡å®šç»„æ’­æºï¼›&lt;br&gt;
v3ä¸ä»…èƒ½å¤ŸæŒ‡å®šç»„æ’­ç»„ï¼Œè¿˜èƒ½å¤Ÿé€‰æ‹©ç»„æ’­æº&lt;/li&gt;
&lt;li&gt;ç»„æˆå‘˜ç¦»ç»„&lt;br&gt;
v1ç¦»ç»„æ²¡æœ‰ç¦»ç»„æŠ¥æ–‡ï¼Œéœ€è¦ç­‰å¾…130ç§’ä¹‹åï¼Œç»„æ’­è¡¨æ‰ä¼šåˆ é™¤ï¼›&lt;br&gt;
v2ç¦»ç»„æ—¶ä¼šå‘é€ç¦»ç»„æŠ¥æ–‡ï¼Œä½†åªæœ‰last reporteræ‰ä¼šå‘é€ç¦»ç»„æŠ¥æ–‡ï¼Œå…¶ä»–æ¥æ”¶è€…ä¸ä¼šå‘é€ç¦»ç»„æŠ¥æ–‡ï¼ŒæŸ¥è¯¢è€…æ”¶åˆ°ç¦»ç»„æŠ¥æ–‡ä¹‹åï¼Œä¼šå‘é€ç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡ï¼Œ1ç§’/æ¬¡ï¼Œè¿ç»­å‘2æ¬¡ï¼›&lt;br&gt;
v3ç¦»ç»„æ—¶å› ä¸ºæ²¡æœ‰ç¦»ç»„æŠ¥æ–‡ï¼Œé€šè¿‡å‘é€æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡è§¦å‘æŸ¥è¯¢è€…çš„ç‰¹å®šæºç»„æŸ¥è¯¢ï¼Œè¿™ä¸ªæˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡ä¸­çš„ç»„è®°å½•é‡Œé¢ç»„æ’­æºæ•°ç›®è®¾ç½®ä¸º0ï¼Œä»£è¡¨ä¸æ¥å—ä»»ä½•ç»„æ’­æºçš„ç»„æ’­æµï¼Œä»è€Œå®ç°ç¦»ç»„&lt;/li&gt;
&lt;li&gt;ç»„æˆå‘˜æŠ¥å‘ŠæŠ‘åˆ¶&lt;br&gt;
v1å’Œv2éƒ½æœ‰ç»„æˆå‘˜æŠ¥å‘ŠæŠ‘åˆ¶ï¼›&lt;br&gt;
v3è·¯ç”±å™¨ç›‘å¬åœ°å€ä¸º224.0.0.22ï¼Œä½†ä¸»æœºä¸ç›‘å¬æ­¤åœ°å€ï¼Œå› æ­¤v3æ²¡æœ‰å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢è€…çš„é€‰ä¸¾&lt;br&gt;
v1æ²¡æœ‰é€‰ä¸¾æŸ¥è¯¢è€…æœºåˆ¶ï¼Œä½¿ç”¨PIMçš„DRå……å½“æŸ¥è¯¢è€…ï¼Œä¼˜å…ˆçº§ç›¸åŒæ—¶é€‰æ‹©IPåœ°å€è¾ƒå¤§çš„ï¼›&lt;br&gt;
v2å’Œv3å‡é€‰ä¸¾IPåœ°å€æœ€å°çš„ä¸ºæŸ¥è¯¢è€…ï¼Œé€‰ä¸¾æ—¶é—´125ç§’ï¼›&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢è€…çš„ç»´æŠ¤&lt;br&gt;
3ä¸ªç‰ˆæœ¬é»˜è®¤å€¼å‡ä¸º125ç§’ï¼Œ&lt;br&gt;
v1æ— æ³•æ”¹å˜ä¹Ÿæ— æ³•åå•†å‚æ•°ï¼›&lt;br&gt;
v2å¯ä»¥ä¿®æ”¹å‚æ•°ï¼Œä½†æ˜¯æ— æ³•åå•†å‚æ•°ï¼›&lt;br&gt;
v3å¯ä»¥ä¿®æ”¹å‚æ•°ï¼Œä¹Ÿå¯ä»¥åå•†ï¼ŒåŒ…æ‹¬Sã€QRVå’ŒQQIC&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;igmp-snooping&#34;&gt;IGMP Snooping&lt;/h3&gt;
&lt;h4 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯&lt;/h4&gt;
&lt;p&gt;åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç»„æ’­æŠ¥æ–‡è¦ä¸å¯é¿å…åœ°ç»è¿‡ä¸€äº›äºŒå±‚äº¤æ¢è®¾å¤‡ï¼Œ&lt;strong&gt;ç”±äºç»„æ’­æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸ºç»„æ’­ç»„åœ°å€ï¼Œåœ¨äºŒå±‚è®¾å¤‡ä¸Šæ˜¯å­¦ä¹ ä¸åˆ°è¿™ä¸€ç±»MACè¡¨é¡¹çš„&lt;/strong&gt;ï¼Œ&lt;strong&gt;å› æ­¤ç»„æ’­æŠ¥æ–‡å°±ä¼šåœ¨æ‰€æœ‰æ¥å£è¿›è¡Œå¹¿æ’­&lt;/strong&gt;ï¼Œå’Œå®ƒåœ¨åŒä¸€å¹¿æ’­åŸŸå†…çš„ç»„æ’­æˆå‘˜å’Œéç»„æ’­æˆå‘˜éƒ½èƒ½æ”¶åˆ°ç»„æ’­æŠ¥æ–‡ï¼Œè¿™æ ·ä¸ä½†æµªè´¹äº†ç½‘ç»œå¸¦å®½ï¼Œè€Œä¸”å½±å“äº†ç½‘ç»œä¿¡æ¯å®‰å…¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åº”ç”¨&#34;&gt;åº”ç”¨&lt;/h4&gt;
&lt;p&gt;é…ç½®IGMP Snoopingåï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡å¯ä»¥&lt;strong&gt;ä¾¦å¬å’Œåˆ†æç»„æ’­ç”¨æˆ·å’Œä¸Šæ¸¸è·¯ç”±å™¨ä¹‹é—´çš„IGMPæŠ¥æ–‡&lt;/strong&gt;ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯&lt;strong&gt;å»ºç«‹äºŒå±‚ç»„æ’­è½¬å‘è¡¨é¡¹&lt;/strong&gt;&lt;code&gt;ç»„æ’­è½¬å‘è¡¨é¡¹åŒ…å«ç»„æ’­mac+ç»„æ’­åœ°å€+æˆå‘˜ç«¯å£+è·¯ç”±å™¨ç«¯å£&lt;/code&gt;ï¼Œæ§åˆ¶ç»„æ’­æ•°æ®æŠ¥æ–‡è½¬å‘ï¼Œé˜²æ­¢äº†ç»„æ’­æ•°æ®åœ¨äºŒå±‚ç½‘ç»œä¸­çš„å¹¿æ’­ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613278597795.png&#34; alt=&#34;åº”ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613278662661.png&#34; alt=&#34;åŸºæœ¬æ¦‚å¿µ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±å™¨ç«¯å£ï¼šäºŒå±‚ç»„æ’­è®¾å¤‡ä¸Š&lt;strong&gt;æœå‘ä¸‰å±‚ç»„æ’­è®¾å¤‡&lt;/strong&gt;ï¼ˆDRæˆ–IGMPæŸ¥è¯¢å™¨ï¼‰ä¸€ä¾§çš„æ¥å£ï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡ä»æ­¤æ¥å£æ¥æ”¶ç»„æ’­æ•°æ®æŠ¥æ–‡
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€è·¯ç”±å™¨ç«¯å£ï¼šæ”¶åˆ°æºåœ°å€ä¸ä¸º0.0.0.0çš„IGMPæ™®éç»„æŸ¥è¯¢æŠ¥æ–‡ï¼ˆè€åŒ–å®šæ—¶å™¨ä¸º180ç§’ï¼‰æˆ–PIM HelloæŠ¥æ–‡ï¼ˆè€åŒ–å®šæ—¶å™¨ä¸º105ç§’ï¼‰&lt;/li&gt;
&lt;li&gt;é™æ€è·¯ç”±å™¨ç«¯å£ï¼šæ‰‹åŠ¨é…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æˆå‘˜ç«¯å£ï¼šäºŒå±‚ç»„æ’­è®¾å¤‡ä¸Š&lt;strong&gt;æœå‘ç»„æ’­ç»„æˆå‘˜&lt;/strong&gt;ä¸€ä¾§çš„ç«¯å£ï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡å¾€æ­¤æ¥å£å‘é€ç»„æ’­æ•°æ®æŠ¥æ–‡
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€æˆå‘˜ç«¯å£ï¼šæ”¶åˆ°IGMP ReportæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;é™æ€æˆå‘˜ç«¯å£ï¼šæ‰‹åŠ¨é…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶-2&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;
&lt;p&gt;é’ˆå¯¹ä¸åŒçš„æŠ¥æ–‡è¿›è¡Œä¸åŒçš„å¤„ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ™®éç»„æŸ¥è¯¢ï¼š&lt;br&gt;
ï¼ˆç›®çš„åœ°å€ä¸º224.0.0.1ï¼‰å‘VLANå†…&lt;strong&gt;é™¤æ¥æ”¶æ¥å£å¤–çš„å…¶ä»–æ‰€æœ‰æ¥å£è½¬å‘&lt;/strong&gt;ï¼Œå¹¶å¯¹æ¥æ”¶æ¥å£åšå¦‚ä¸‹å¤„ç†ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœè·¯ç”±å™¨ç«¯å£åˆ—è¡¨ä¸­å°šæœªåŒ…å«è¯¥æ¥å£ï¼Œåˆ™å°†å…¶æ·»åŠ è¿›å»ï¼Œå¹¶å¯åŠ¨è€åŒ–å®šæ—¶å™¨&lt;code&gt;é»˜è®¤ä¸º180ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœè·¯ç”±å™¨ç«¯å£åˆ—è¡¨ä¸­å·²åŒ…å«è¯¥åŠ¨æ€è·¯ç”±å™¨ç«¯å£ï¼Œåˆ™é‡ç½®è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æˆå‘˜æŠ¥å‘Šï¼š&lt;br&gt;
ä¸€æ˜¯æˆå‘˜å›å¤æŸ¥è¯¢è€…çš„æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡ï¼ŒäºŒæ˜¯æˆå‘˜åŠ å…¥ç»„æ’­ç»„çš„æŠ¥æ–‡ã€‚&lt;strong&gt;å‘VLANå†…æ‰€æœ‰è·¯ç”±å™¨ç«¯å£è½¬å‘&lt;/strong&gt;ï¼Œä»æŠ¥æ–‡ä¸­è§£æå‡º&lt;strong&gt;ä¸»æœºè¦åŠ å…¥çš„ç»„æ’­ç»„åœ°å€&lt;/strong&gt;ï¼Œå¹¶å¯¹æ¥æ”¶æ¥å£åšå¦‚ä¸‹å¤„ç†ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;ä¸å­˜åœ¨&lt;/strong&gt;è¯¥ç»„å¯¹åº”çš„&lt;strong&gt;è½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;åˆ›å»ºè½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œå°†è¯¥æ¥å£ä½œä¸ºåŠ¨æ€æˆå‘˜ç«¯å£æ·»&lt;strong&gt;åŠ åˆ°å‡ºæ¥å£åˆ—è¡¨&lt;/strong&gt;ä¸­ï¼Œå¹¶å¯åŠ¨è€åŒ–å®šæ—¶å™¨&lt;code&gt;åŠ¨æ€æˆå‘˜ç«¯å£çš„è€åŒ–å®šæ—¶å™¨=å¥å£®ç³»æ•°xæ™®éç»„æŸ¥è¯¢é—´éš”+æœ€å¤§å“åº”æ—¶é—´ï¼Œé»˜è®¤130ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;å·²å­˜åœ¨&lt;/strong&gt;è¯¥ç»„å¯¹åº”çš„&lt;strong&gt;è½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œä½†å‡ºæ¥å£åˆ—è¡¨ä¸­&lt;strong&gt;æœªåŒ…å«è¯¥æ¥å£&lt;/strong&gt;ï¼Œåˆ™å°†è¯¥æ¥å£ä½œä¸ºåŠ¨æ€æˆå‘˜ç«¯å£&lt;strong&gt;æ·»åŠ åˆ°å‡ºæ¥å£åˆ—è¡¨&lt;/strong&gt;ï¼Œå¹¶å¯åŠ¨è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;å¦‚æœå·²å­˜åœ¨è¯¥ç»„æ‰€å¯¹åº”çš„è½¬å‘è¡¨é¡¹ï¼Œä¸”å‡ºæ¥å£åˆ—è¡¨ä¸­å·²åŒ…å«è¯¥åŠ¨æ€æˆå‘˜ç«¯å£ï¼Œåˆ™é‡ç½®å…¶è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æˆå‘˜ç¦»å¼€ç»„æ’­ç»„&lt;br&gt;
ï¼ˆé’ˆå¯¹v2å’Œv3ï¼‰æˆå‘˜å‘é€ç¦»ç»„æŠ¥æ–‡ï¼ŒæŸ¥è¯¢å™¨æ”¶åˆ°ä¹‹åå‘é€ç‰¹å®šç»„æŸ¥è¯¢æˆ–è€…ç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;é’ˆå¯¹ç¦»ç»„æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;åˆ¤æ–­ç¦»å¼€çš„ç»„æ˜¯å¦å­˜åœ¨&lt;strong&gt;å¯¹åº”çš„è½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œä»¥åŠè½¬å‘è¡¨é¡¹&lt;strong&gt;å‡ºæ¥å£åˆ—è¡¨æ˜¯å¦åŒ…å«&lt;/strong&gt;æŠ¥æ–‡çš„&lt;strong&gt;æ¥æ”¶æ¥å£&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸å­˜åœ¨è¯¥ç»„å¯¹åº”çš„è½¬å‘è¡¨é¡¹ï¼Œæˆ–è€…è¯¥ç»„å¯¹åº”è½¬å‘è¡¨é¡¹çš„å‡ºæ¥å£åˆ—è¡¨ä¸­ä¸åŒ…å«æ¥æ”¶æ¥å£ï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡ä¸è½¬å‘è¯¥æŠ¥æ–‡ï¼Œå°†å…¶ç›´æ¥ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å¦‚æœå­˜åœ¨è¯¥ç»„å¯¹åº”çš„è½¬å‘è¡¨é¡¹ï¼Œä¸”è½¬å‘è¡¨é¡¹çš„å‡ºæ¥å£åˆ—è¡¨ä¸­åŒ…å«è¯¥æ¥å£ï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡ä¼šå°†æŠ¥æ–‡å‘VLANå†…æ‰€æœ‰è·¯ç”±å™¨ç«¯å£è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¯¹äºIGMPç¦»å¼€æŠ¥æ–‡çš„æ¥æ”¶æ¥å£ï¼ŒäºŒå±‚ç»„æ’­è®¾å¤‡åœ¨å…¶è€åŒ–æ—¶é—´å†…ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœä»è¯¥æ¥å£æ”¶åˆ°äº†ä¸»æœºå“åº”IGMPç‰¹å®šç»„/æºç»„æŸ¥è¯¢çš„æŠ¥å‘ŠæŠ¥æ–‡ï¼Œè¡¨ç¤ºæ¥å£ä¸‹è¿˜æœ‰è¯¥ç»„çš„æˆå‘˜ï¼Œäºæ˜¯é‡ç½®å…¶è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰ä»è¯¥æ¥å£æ”¶åˆ°ä¸»æœºå“åº”IGMPç‰¹å®šç»„/æºç»„æŸ¥è¯¢çš„æŠ¥å‘ŠæŠ¥æ–‡ï¼Œåˆ™è¡¨ç¤ºæ¥å£ä¸‹å·²æ²¡æœ‰è¯¥ç»„æˆå‘˜ï¼Œåˆ™åœ¨&lt;strong&gt;è€åŒ–æ—¶é—´è¶…æ—¶å&lt;/strong&gt;ï¼Œå°†æ¥å£ä»è¯¥ç»„çš„è½¬å‘è¡¨é¡¹å‡ºæ¥å£åˆ—è¡¨ä¸­åˆ é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹ç‰¹å®šç»„ï¼ˆæºç»„ï¼‰æŸ¥è¯¢æŠ¥æ–‡ï¼šå‘æœ‰ç‰¹å®šç»„æˆå‘˜çš„æ¥å£è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€æ€»ç»“ã€‘:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆå‘˜ç«¯å£ï¼ˆå³æ¥æ”¶è€…ä¸€ä¾§ï¼‰çš„ç»´æŠ¤æ—¶é—´é»˜è®¤ä¸º130ç§’ï¼Œè·¯ç”±å™¨ç«¯å£çš„ç»´æŠ¤æ—¶é—´é»˜è®¤æ˜¯180ç§’&lt;/li&gt;
&lt;li&gt;v1æ²¡æœ‰ç¦»ç»„æŠ¥æ–‡ï¼Œéœ€è¦ç­‰å¾…130ç§’ä¹‹åæ‰èƒ½åˆ é™¤è¡¨é¡¹ä¸­ç¦»ç»„çš„ç«¯å£&lt;/li&gt;
&lt;li&gt;å¼€å¯IGMP Snoopingä¹‹åå°±&lt;strong&gt;æ²¡æœ‰æˆå‘˜å“åº”æŠ‘åˆ¶åŠŸèƒ½&lt;/strong&gt;äº†ï¼Œäº¤æ¢æœºæ”¶åˆ°ä¸»æœºæˆå‘˜å…³ç³»æŠ¥å‘Šï¼Œåªå°†è¯¥æŠ¥æ–‡è½¬å‘åˆ°è·¯ç”±å™¨ç«¯å£ï¼Œä¸å†å‘æˆå‘˜ç«¯å£è½¬å‘ã€å› ä¸ºäº¤æ¢æœºé€šè¿‡å®šæ—¶å™¨ç»´æŠ¤ç«¯å£ï¼ŒåŒæ—¶å»ºç«‹ç»„æ’­è¡¨éœ€è¦çŸ¥é“å“ªäº›ç«¯å£æ˜¯æˆå‘˜ç«¯å£ï¼Œæ‰€æœ‰éœ€è¦æ‰€æœ‰çš„æˆå‘˜ç«¯å£éƒ½èƒ½å¤Ÿå‘é€æˆå‘˜å…³ç³»æŠ¥å‘Šï¼Œå› æ­¤æ¯å°æ¥æ”¶è€…éƒ½æ˜¯last reporterã€‘&lt;/li&gt;
&lt;li&gt;IGMP Snoopingç»´æŠ¤ç«¯å£ä¾èµ–å®šæ—¶å™¨ï¼Œæ‰€ä»¥&lt;strong&gt;æˆå‘˜ç¦»ç»„æŠ¥æ–‡å®é™…ä¸Šå·²ç»æ²¡æœ‰ä»»ä½•æ„ä¹‰&lt;/strong&gt;ï¼Œäº¤æ¢æœºå°†ç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡è½¬å‘åˆ°æˆå‘˜å•å£ä¹‹åï¼Œæ²¡æœ‰æ¥æ”¶è€…å“åº”å¹¶ä¸ä¼šç«‹å³åˆ é™¤è¯¥ç«¯å£ï¼Œéœ€è¦ç­‰åˆ°&lt;strong&gt;130ç§’è®¡æ—¶å™¨è¶…æ—¶ä¹‹åæ‰ä¼šåˆ é™¤è¯¥ç«¯å£&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;igmp-snooping-proxyäºŒå±‚å’Œigmp-proxyä¸‰å±‚&#34;&gt;IGMP Snooping Proxyï¼ˆäºŒå±‚ï¼‰å’ŒIGMP Proxyï¼ˆä¸‰å±‚ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;igmp-snooping-proxy&#34;&gt;IGMP Snooping Proxy&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;IGMP Snooping Proxyé…ç½®åœ¨äº¤æ¢æœºä¸Šï¼Œä¸»è¦æ˜¯ä¸ºäº†ä»£ç†è·¯ç”±å™¨å¤„ç†IGMPæŠ¥æ–‡ï¼Œå‡è½»æŸ¥è¯¢è€…è·¯ç”±å™¨çš„å‹åŠ›ã€‚ä»æŸ¥è¯¢è€…è·¯ç”±å™¨è§’åº¦çœ‹ï¼Œè¿™ä¸ªäº¤æ¢æœºç›¸å½“äºæ¥æ”¶è€…ï¼›ä»æ¥æ”¶è€…ä¸»æœºè§’åº¦çœ‹ï¼Œè¿™ä¸ªäº¤æ¢æœºç›¸å½“äºå‘é€è€…&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613288948022.png&#34; alt=&#34;IGMP Snooping Proxy&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IGMP Snooping ProxyåŠŸèƒ½åœ¨IGMP Snoopingçš„åŸºç¡€ä¸Šæ·»åŠ ä¸¤é¡¹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»£æ›¿æŸ¥è¯¢è€…å‘æ¥æ”¶è€…å‘é€IGMPæŸ¥è¯¢æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä»£æ›¿æ¥æ”¶è€…å‘æŸ¥è¯¢è€…å‘é€IGMPæˆå‘˜å…³ç³»æŠ¥å‘Šå’Œç¦»ç»„æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å·¥ä½œæœºåˆ¶-3&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡&lt;br&gt;
å‘æœ¬VLANå†…é™¤æ¥æ”¶æ¥å£ä»¥å¤–çš„æ‰€æœ‰æ¥å£å‘é€IGMPæ™®éç»„æŸ¥è¯¢æŠ¥æ–‡ï¼›åŒæ—¶æ ¹æ®æœ¬åœ°ç»´æŠ¤çš„ç»„æˆå‘˜å…³ç³»ç”ŸæˆæŠ¥å‘ŠæŠ¥æ–‡ï¼Œå‘æ‰€æœ‰è·¯ç”±å™¨ç«¯å£å‘é€&lt;code&gt;ä¸ºä»€ä¹ˆè¿˜ä¼šè½¬å‘æ™®éç»„æŸ¥è¯¢æŠ¥æ–‡ï¼Ÿä¸ºäº†å¤ä½æˆå‘˜ç«¯å£å®šæ—¶å™¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;è‹¥&lt;strong&gt;ä¸å­˜åœ¨è¯¥ç»„å¯¹åº”çš„è½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œåˆ™åˆ›å»ºè½¬å‘è¡¨é¡¹ï¼Œå°†æ¥æ”¶æ¥å£ä½œä¸ºåŠ¨æ€æˆå‘˜ç«¯å£æ·»åŠ åˆ°å‡ºæ¥å£åˆ—è¡¨ä¸­ï¼Œå¹¶å¯åŠ¨å…¶è€åŒ–å®šæ—¶å™¨ï¼Œç„¶åå‘&lt;strong&gt;æ‰€æœ‰è·¯ç”±å™¨ç«¯å£å‘é€è¯¥ç»„çš„æŠ¥å‘ŠæŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è‹¥å·²&lt;strong&gt;å­˜åœ¨è¯¥ç»„å¯¹åº”çš„è½¬å‘è¡¨é¡¹&lt;/strong&gt;ï¼Œä¸”å…¶å‡ºæ¥å£åˆ—è¡¨ä¸­å·²åŒ…å«è¯¥åŠ¨æ€æˆå‘˜ç«¯å£ï¼Œåˆ™é‡ç½®å…¶è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;è‹¥å·²å­˜åœ¨è¯¥ç»„å¯¹åº”çš„è½¬å‘è¡¨é¡¹ï¼Œä½†å…¶å‡ºæ¥å£åˆ—è¡¨ä¸­&lt;strong&gt;ä¸åŒ…å«è¯¥æ¥æ”¶æ¥å£&lt;/strong&gt;ï¼Œåˆ™å°†è¯¥æ¥å£ä½œä¸ºåŠ¨æ€æˆå‘˜ç«¯å£æ·»åŠ åˆ°å‡ºæ¥å£åˆ—è¡¨ä¸­ï¼Œå¹¶å¯åŠ¨å…¶è€åŒ–å®šæ—¶å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç¦»å¼€æŠ¥æ–‡
&lt;ol&gt;
&lt;li&gt;å‘æ¥æ”¶æ¥å£å‘é€é’ˆå¯¹è¯¥ç»„çš„ç‰¹å®šç»„æŸ¥è¯¢æŠ¥æ–‡ã€‚&lt;strong&gt;åªæœ‰å½“åˆ é™¤æŸç»„æ’­ç»„å¯¹åº”è½¬å‘è¡¨é¡¹ä¸­çš„æœ€åä¸€ä¸ªæˆå‘˜ç«¯å£æ—¶ï¼Œæ‰ä¼šå‘æ‰€æœ‰è·¯ç”±å™¨ç«¯å£å‘é€è¯¥ç»„çš„ç¦»å¼€æŠ¥æ–‡&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IGMPç‰¹å®šæºç»„æŸ¥è¯¢æŠ¥æ–‡&lt;br&gt;
å¦‚æœè¯¥ç»„æ’­ç»„è¿˜æœ‰æˆå‘˜ï¼Œåˆ™å›å¤æˆå‘˜å…³ç³»æŠ¥æ–‡ï¼Œå¦åˆ™&lt;strong&gt;ç›´æ¥ä¸¢å¼ƒ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶åˆ°æˆå‘˜å…³ç³»æŠ¥å‘Šåï¼Œåªæœ‰äº¤æ¢æœºä¸Šæ²¡æœ‰è¯¥ç»„æ’­macåœ°å€è¡¨æ—¶æ‰ä¼šå‘è·¯ç”±å™¨å‘é€æˆå‘˜å…³ç³»æŠ¥å‘Šï¼›å·²ç»å­˜åœ¨ç»„æ’­macåœ°å€è¡¨é¡¹ï¼Œåˆ™ä¸éœ€è¦å†å‘è·¯ç”±å™¨å‘é€æˆå‘˜å…³ç³»æŠ¥å‘Šï¼Œåªéœ€è¦å°†æˆå‘˜ç«¯å£åŠ å…¥ç»„æ’­macåœ°å€è¡¨å³å¯&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°æˆå‘˜ç¦»ç»„æŠ¥æ–‡ï¼Œä¼šä»£æ›¿è·¯ç”±å™¨å‘é€ç‰¹å®šç»„æŸ¥è¯¢ã€‚åªæœ‰ä¸€ä¸ªç»„æ’­ç»„ä¸­æ²¡æœ‰æˆå‘˜ä¹‹åï¼Œäº¤æ¢æœºæ‰ä¼šå‘è·¯ç”±å™¨å‘é€ç¦»ç»„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºæ”¶åˆ°é€šç”¨ç»„æŸ¥è¯¢æŠ¥æ–‡ä¹‹åï¼Œä¼šå‘æ‰€æœ‰æˆå‘˜ç«¯å£è½¬å‘ï¼Œå¹¶æ ¹æ®ç»„æ’­macåœ°å€è¡¨é¡¹ç”Ÿæˆå“åº”æŠ¥æ–‡ï¼Œå›å¤æŸ¥è¯¢è€…&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;igmp-proxy&#34;&gt;IGMP Proxy&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;IGMP Proxyé…ç½®åœ¨æœ€åä¸€è·³è·¯ç”±å™¨ä¸Šï¼ˆæ¥å…¥è®¾å¤‡å’Œæˆå‘˜ä¸»æœºä¹‹é—´çš„ä¸‰å±‚è®¾å¤‡ï¼‰ï¼Œå·¥ä½œåŸç†å’ŒIGMP Snooping Proxyç›¸åŒ&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613287096583.png&#34; alt=&#34;IGMP Proxy&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨æ¥å…¥è®¾å¤‡RouterAçœ‹æ¥ï¼ŒRouterBå°±æ˜¯ä¸€å°ä¸»æœºï¼›åœ¨ä¸‹æ¸¸æˆå‘˜ä¸»æœºçœ‹æ¥ï¼ŒRouterBå°±æ˜¯IGMPæŸ¥è¯¢å™¨&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IGMP Proxyè®¾å¤‡å¯ä»¥æ”¶é›†ä¸‹æ¸¸æˆå‘˜ä¸»æœºçš„IGMPæŠ¥å‘Š/ç¦»å¼€æŠ¥æ–‡ï¼Œå°†æŠ¥å‘Š/ç¦»å¼€æŠ¥æ–‡æ±‡èšåä»£ç†ä¸‹æ¸¸æˆå‘˜ä¸»æœºç»Ÿä¸€ä¸Šé€ç»™æ¥å…¥è®¾å¤‡&lt;/li&gt;
&lt;li&gt;IGMP Proxyè®¾å¤‡ä¹Ÿå¯ä»¥ä»£ç†IGMPæŸ¥è¯¢å™¨å‘ä¸‹æ¸¸æˆå‘˜ä¸»æœºå‘é€æŸ¥è¯¢æŠ¥æ–‡ï¼Œç»´æŠ¤ç»„æˆå‘˜å…³ç³»ï¼ŒåŸºäºç»„æˆå‘˜å…³ç³»è¿›è¡Œç»„æ’­è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¸¤ç§ç±»å‹çš„æ¥å£ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šæ¸¸æ¥å£ï¼ˆä¸»æœºæ¥å£ï¼‰ï¼šé…ç½®IGMP ProxyåŠŸèƒ½çš„æ¥å£ï¼Œæ‰§è¡Œä¸»æœºè¡Œä¸º&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸æ¥å£ï¼ˆè·¯ç”±å™¨æ¥å£ï¼‰ï¼šé…ç½®IGMPåŠŸèƒ½çš„æ¥å£ï¼Œæ‰§è¡Œè·¯ç”±å™¨è¡Œä¸º&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;igmp-ssm-mapping&#34;&gt;IGMP SSM Mapping&lt;/h3&gt;
&lt;p&gt;ä½œç”¨ï¼šè®©åªèƒ½è¿è¡ŒIGMPv1æˆ–IGMPv2çš„æ¥æ”¶è€…ä¹Ÿèƒ½æŒ‡å®šç»„æ’­æºï¼Œå³èƒ½å¤Ÿä½¿ç”¨SSMæœåŠ¡&lt;br&gt;
å®ç°åŸç†ï¼šå¯åŠ¨äº†mappingåï¼Œè¦æ‰‹åŠ¨ç»‘å®šä¸€ä¸ªæºä¿¡æ¯ï¼Œè®©è·¯ç”±å™¨çŸ¥é“æºçš„ä¿¡æ¯ï¼Œä»è€Œå»ºæˆSPTæ ‘&lt;/p&gt;
&lt;h4 id=&#34;å·¥ä½œè¿‡ç¨‹&#34;&gt;å·¥ä½œè¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;é…ç½®äº†SSM Mappingè§„åˆ™åï¼Œå½“IGMPæŸ¥è¯¢å™¨æ”¶åˆ°æ¥è‡ªæˆå‘˜ä¸»æœºçš„IGMPv1æˆ–IGMPv2æŠ¥å‘ŠæŠ¥æ–‡æ—¶ï¼Œæ£€æŸ¥è¯¥æŠ¥æ–‡ä¸­æ‰€æºå¸¦çš„ç»„æ’­ç»„åœ°å€Gï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœGåœ¨ASMåœ°å€èŒƒå›´å†…ï¼Œåˆ™åªæä¾›ASMæœåŠ¡&lt;/li&gt;
&lt;li&gt;å¦‚æœGåœ¨SSMç»„åœ°å€èŒƒå›´å†…ï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœè·¯ç”±å™¨ä¸Šæ²¡æœ‰Gå¯¹åº”çš„SSM Mappingè§„åˆ™ï¼Œåˆ™æ— æ³•æä¾›SSMæœåŠ¡ï¼Œä¸¢å¼ƒè¯¥æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å¦‚æœè·¯ç”±å™¨ä¸Šæœ‰Gå¯¹åº”çš„SSM Mappingè§„åˆ™ï¼Œåˆ™ä¾æ®è§„åˆ™å°†æŠ¥å‘ŠæŠ¥æ–‡ä¸­æ‰€åŒ…å«çš„(*, G)ä¿¡æ¯æ˜ å°„ä¸º(G, INCLUDE, (S1, S2...))ä¿¡æ¯ï¼Œæä¾›SSMæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;IGMP SSM Mappingä¸å¤„ç†IGMPv3çš„æŠ¥å‘ŠæŠ¥æ–‡ï¼Œä½†ä¸ºäº†ä¿è¯åŒä¸€ç½‘æ®µè¿è¡Œä»»æ„ç‰ˆæœ¬IGMPçš„ä¸»æœºéƒ½èƒ½å¾—åˆ°SSMæœåŠ¡ï¼Œéœ€è¦åœ¨ä¸æˆå‘˜ä¸»æœºæ‰€åœ¨ç½‘æ®µç›¸è¿çš„ç»„æ’­è·¯ç”±å™¨æ¥å£ä¸Šè¿è¡ŒIGMPv3&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613401694204.png&#34; alt=&#34;å·¥ä½œè¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
SSMç½‘ç»œä¸­HostAè¿è¡ŒIGMPv3ã€HostBè¿è¡ŒIGMPv2ã€HostCè¿è¡ŒIGMPv1ã€‚HostBå’ŒHostCæ— æ³•å‡çº§åˆ°IGMPv3ï¼Œå¦‚æœè¦ä¸ºè¯¥ç½‘æ®µä¸­çš„æ‰€æœ‰ä¸»æœºæä¾›SSMæœåŠ¡ï¼Œéœ€è¦åœ¨IGMPæŸ¥è¯¢å™¨ï¼ˆRouterï¼‰ä¸Šä½¿èƒ½IGMP SSM Mappingå¹¶é…ç½®ç›¸åº”çš„æ˜ å°„è§„åˆ™&lt;code&gt;åœ¨å›¾ä¸­ï¼ŒæŸ¥è¯¢å™¨ä¸ä¸»æœºç›¸è¿çš„æ¥å£ä¸Šéœ€è¦è¿è¡ŒIGMPv3&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;pim&#34;&gt;PIM&lt;/h2&gt;
&lt;p&gt;PIMç§°ä¸ºåè®®æ— å…³ç»„æ’­ï¼Œè¡¨ç¤ºç»„æ’­ä¾é çš„å•æ’­è·¯ç”±å¯ä»¥ç”±é™æ€è·¯ç”±ã€RIPã€OSPFã€ISISã€BGPç­‰æä¾›ï¼Œ&lt;strong&gt;ç»„æ’­è·¯ç”±å’Œå•æ’­è·¯ç”±åè®®æ— å…³&lt;/strong&gt;ï¼Œåªè¦å•æ’­è·¯ç”±åè®®äº§ç”Ÿæ‰€éœ€è·¯ç”±è¡¨é¡¹èƒ½å¤Ÿå®ŒæˆRPFæ£€æŸ¥å³å¯ã€‚&lt;br&gt;
&lt;strong&gt;åè®®å·ä¸º103&lt;/strong&gt;ï¼ˆ0x67ï¼‰ï¼Œç›®å‰ä½¿ç”¨çš„æ˜¯v2ç‰ˆæœ¬ï¼ŒPIMè·¯ç”±å™¨ç›®çš„ç»„æ’­åœ°å€ä¸º&lt;strong&gt;224.0.0.13&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨ç»„æ’­è·¯ç”±å™¨ä¹‹é—´å»ºç«‹PIMçš„é‚»å±…å…³ç³»ï¼Œèƒ½å¤Ÿæ ¹æ®è§„åˆ™äº§ç”Ÿç»„æ’­è·¯ç”±è¡¨ã€‚ç”¨äº&lt;strong&gt;ç»„æ’­è·¯ç”±å™¨ä¹‹é—´&lt;/strong&gt;ã€‚PIMåè®®åŒ…æ‹¬&lt;strong&gt;PIM-SMï¼ˆç¨€ç–æ¨¡å¼ï¼‰å’ŒPIM-DMï¼ˆå¯†é›†æ¨¡å¼ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PIM-DMé€‚åˆè§„æ¨¡è¾ƒå°ã€ç»„æ’­ç»„æˆå‘˜ç›¸å¯¹æ¯”è¾ƒé›†ä¸­çš„ç½‘ç»œã€‚ä¸éœ€è¦åŒºåˆ†ASMæ¨¡å‹å’ŒSSMæ¨¡å‹&lt;/li&gt;
&lt;li&gt;PIM-SMé€‚åˆè§„æ¨¡è¾ƒå¤§ã€ç»„æˆå‘˜ç›¸å¯¹æ¯”è¾ƒåˆ†æ•£çš„ç½‘ç»œã€‚æ ¹æ®ç»„æ’­åœ°å€åŒºåˆ†ASMæ¨¡å‹å’ŒSSMæ¨¡å‹ï¼Œå¦‚æœåœ¨SSMç»„æ’­åœ°å€èŒƒå›´å†…ï¼Œåˆ™æŒ‰ç…§PIM-SMåœ¨SSMä¸­çš„å®ç°æµç¨‹è¿›è¡Œå¤„ç†ï¼Œ&lt;strong&gt;PIM-SSM&lt;/strong&gt;ä¸ä½†æ•ˆç‡é«˜ï¼Œè€Œä¸”ç®€åŒ–äº†ç»„æ’­åœ°å€åˆ†é…æµç¨‹ï¼Œç‰¹åˆ«é€‚ç”¨äºå¯¹äºç‰¹å®šç»„&lt;strong&gt;åªæœ‰ä¸€ä¸ªç‰¹å®šæº&lt;/strong&gt;çš„æƒ…å†µã€‚å¦‚æœåœ¨ASMç»„æ’­åœ°å€èŒƒå›´å†…ï¼Œåˆ™æŒ‰ç…§PIM-SMåœ¨ASMä¸­çš„å®ç°æµç¨‹è¿›è¡Œå¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ¦‚å¿µä»‹ç»&#34;&gt;æ¦‚å¿µä»‹ç»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613305769773.png&#34; alt=&#34;æ¦‚å¿µä»‹ç»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ç»„æ’­åˆ†å‘æ ‘mdt&#34;&gt;ç»„æ’­åˆ†å‘æ ‘MDT&lt;/h4&gt;
&lt;p&gt;PIMç½‘ç»œ&lt;strong&gt;ä»¥ç»„æ’­ç»„ä¸ºå•ä½&lt;/strong&gt;åœ¨è·¯ç”±å™¨ä¸Šå»ºç«‹ä¸€ç‚¹åˆ°å¤šç‚¹çš„ç»„æ’­è½¬å‘è·¯å¾„&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SPTï¼šä»¥ç»„æ’­æºä¸ºæ ¹ï¼Œç»„æ’­ç»„æˆå‘˜ä¸ºå¶å­ï¼Œé€‚ç”¨äºPIM-DMæˆ–PIM-SM&lt;br&gt;
å¦‚å›¾ï¼šRouterEâ†’RouterDâ†’RouterAï¼ˆRouterBï¼‰ï¼Œå°±æ˜¯ä¸€æ£µä»¥Sourceä¸ºæ ¹ï¼Œä»¥HostAã€HostBä¸ºå¶å­çš„SPT&lt;/li&gt;
&lt;li&gt;RPTï¼šä»¥RPä¸ºæ ¹ï¼Œç»„æ’­ç»„æˆå‘˜ä¸ºå¶å­ï¼ŒRPTé€‚ç”¨äºPIM-SMç½‘ç»œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;pimè·¯ç”±å™¨&#34;&gt;PIMè·¯ç”±å™¨&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¶å­è·¯ç”±å™¨ï¼š&lt;strong&gt;ä¸ç”¨æˆ·ä¸»æœºç›¸è¿çš„PIMè·¯ç”±å™¨&lt;/strong&gt;ï¼Œä½†è¿æ¥çš„ç”¨æˆ·ä¸»æœºä¸ä¸€å®šä¸ºç»„æˆå‘˜ï¼Œå¦‚å›¾ï¼šRouterAã€RouterBã€RouterC&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨ï¼šç»„æ’­è½¬å‘è·¯å¾„ä¸Šï¼Œ&lt;strong&gt;ä¸ç»„æ’­æºç›¸è¿ä¸”è´Ÿè´£è½¬å‘è¯¥ç»„æ’­æºå‘å‡ºçš„ç»„æ’­æ•°æ®&lt;/strong&gt;çš„PIMè·¯ç”±å™¨ï¼Œå¦‚å›¾ï¼šRouterE&lt;/li&gt;
&lt;li&gt;æœ€åä¸€è·³è·¯ç”±å™¨ï¼šç»„æ’­è½¬å‘è·¯å¾„ä¸Šï¼Œ&lt;strong&gt;ä¸ç»„æ’­ç»„æˆå‘˜ç›¸è¿ä¸”è´Ÿè´£å‘è¯¥ç»„æˆå‘˜è½¬å‘ç»„æ’­æ•°æ®&lt;/strong&gt;çš„PIMè·¯ç”±å™¨ï¼Œå¦‚å›¾ï¼šRouterAã€RouterB&lt;/li&gt;
&lt;li&gt;ä¸­é—´è·¯ç”±å™¨ï¼šç»„æ’­è½¬å‘è·¯å¾„ä¸Šï¼Œ&lt;strong&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨ä¸æœ€åä¸€è·³è·¯ç”±å™¨ä¹‹é—´&lt;/strong&gt;çš„PIMè·¯ç”±å™¨ï¼Œå¦‚å›¾ï¼šRouterD&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;pimè·¯ç”±è¡¨é¡¹&#34;&gt;PIMè·¯ç”±è¡¨é¡¹&lt;/h4&gt;
&lt;p&gt;PIMç½‘ç»œä¸­å­˜åœ¨ä¸¤ç§è·¯ç”±è¡¨é¡¹ï¼š&lt;code&gt;Sè¡¨ç¤ºç»„æ’­æºï¼ŒGè¡¨ç¤ºç»„æ’­ç»„ï¼Œ*è¡¨ç¤ºä»»æ„&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼šç”¨äºåœ¨å»ºç«‹SPTï¼Œé€‚ç”¨äºPIM-DMæˆ–PIM-SM&lt;/li&gt;
&lt;li&gt;ï¼ˆ*ï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼šç”¨äºå»ºç«‹RPTï¼Œé€‚ç”¨äºPIM-SM&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;PIMè·¯ç”±å™¨ä¸Š&lt;strong&gt;å¯èƒ½åŒæ—¶å­˜åœ¨ä¸¤ç§è·¯ç”±è¡¨é¡¹&lt;/strong&gt;ï¼Œå½“æ”¶åˆ°æºåœ°å€ä¸ºSï¼Œç»„åœ°å€ä¸ºGçš„ç»„æ’­æŠ¥æ–‡ï¼Œä¸”RPFæ£€æŸ¥é€šè¿‡çš„æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§å¦‚ä¸‹çš„è§„åˆ™è½¬å‘ï¼š&lt;code&gt;ï¼ˆSï¼ŒGï¼‰ä¼˜å…ˆçº§é«˜äºï¼ˆ*ï¼ŒGï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå­˜åœ¨ï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼Œåˆ™ç”±ï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹æŒ‡å¯¼æŠ¥æ–‡è½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸å­˜åœ¨ï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼Œåªå­˜åœ¨ï¼ˆ*ï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼Œåˆ™å…ˆä¾ç…§ï¼ˆ*ï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹åˆ›å»ºï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹ï¼Œå†ç”±ï¼ˆSï¼ŒGï¼‰è·¯ç”±è¡¨é¡¹æŒ‡å¯¼æŠ¥æ–‡è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;PIMè·¯ç”±è¡¨é¡¹ä¸­ä¸»è¦ç”¨äºæŒ‡å¯¼è½¬å‘çš„ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­æºåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­ç»„åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸æ¥å£ï¼šæœ¬åœ°è·¯ç”±å™¨ä¸Šæ¥æ”¶åˆ°ç»„æ’­æ•°æ®çš„æ¥å£ï¼Œå¦‚å›¾ï¼šInt3&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸æ¥å£ï¼šå°†ç»„æ’­æ•°æ®è½¬å‘å‡ºå»çš„æ¥å£ï¼Œå¦‚å›¾ï¼šInt1ã€Int2&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;pimv2æŠ¥æ–‡å¤´æ ¼å¼&#34;&gt;PIMv2æŠ¥æ–‡å¤´æ ¼å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596788566300.png&#34; alt=&#34;æŠ¥æ–‡å¤´æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬ï¼šç‰ˆæœ¬å­—æ®µæ ‡è¯†ç‰ˆæœ¬ä¿¡æ¯ï¼Œç›®å‰ä¸º2&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;0ï¼šHelloï¼ˆå‘¨æœŸ30ç§’ï¼Œæ­»äº¡æ—¶é—´105ç§’&lt;code&gt;3.5å€helloæ—¶é—´&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;1ï¼šRegisterï¼ˆæ³¨å†Œï¼ŒSMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;2ï¼šRegister Stopï¼ˆåœæ­¢æ³¨å†Œï¼ŒSMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;3ï¼šJoin/Pruneï¼ˆåŠ å…¥/å‰ªæï¼‰&lt;/li&gt;
&lt;li&gt;4ï¼šBootstrapï¼ˆSMï¼Œé€‰å–BSRï¼‰&lt;/li&gt;
&lt;li&gt;5ï¼šAssertï¼ˆæ–­è¨€ï¼‰&lt;/li&gt;
&lt;li&gt;6ï¼šGraftï¼ˆå«æ¥ï¼ŒDMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;7ï¼šGraft Ackï¼ˆå«æ¥ç¡®è®¤ï¼ŒDMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;8ï¼šCandidate RP Advertisementï¼ˆå€™é€‰RPå…¬å‘Šï¼ŒSMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;9ï¼šState Refreshï¼ˆçŠ¶æ€åˆ·æ–°ï¼ŒDMï¼‰&lt;br&gt;
&lt;code&gt;SMç‹¬æœ‰çš„æŠ¥æ–‡ï¼šRegisterã€Register Stopã€Bootstrapã€Candidate RP Advertisementï¼›DMç‹¬æœ‰çš„æŠ¥æ–‡ï¼šGraftã€Graft Ackã€State Refresh&lt;/code&gt;&lt;br&gt;
&lt;code&gt;pingä¸€ä¸ªç»„æ’­ç»„ï¼Œæœ‰æ—¶ç¬¬ä¸€ä¸ªåŒ…é€šï¼Œä½†æ˜¯åé¢çš„åŒ…ä¸é€šï¼Œè¿™æ˜¯å› ä¸ºç¬¬ä¸€ä¸ªåŒ…æ˜¯ç”¨æ¥æ³¨å†Œçš„ã€‚å¦‚æœåé¢çš„ä¹Ÿä¸é€šï¼Œåˆ™è¯´æ˜ç»„æ’­ç½‘ç»œæœ‰é—®é¢˜&lt;/code&gt;&lt;br&gt;
ä¼˜å…ˆçº§å€¼å¤§çš„é€‰ä¸¾ä¸ºDRï¼Œå…·å¤‡æŠ¢å æ€§ï¼Œç»„æ’­åœ°å€ä¸º224.0.0.13ï¼Œä½¿ç”¨helloæŠ¥æ–‡è¿›è¡Œé€‰ä¸¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æŠ¥æ–‡&#34;&gt;æŠ¥æ–‡&lt;/h3&gt;
&lt;h4 id=&#34;helloæŠ¥æ–‡&#34;&gt;HelloæŠ¥æ–‡&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596875197726.png&#34; alt=&#34;HelloæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç»„æ’­è·¯ç”±å™¨éœ€è¦ä½¿ç”¨Helloæ¶ˆæ¯æ¥å‘ç°é‚»å±…ï¼Œå¹¶ç»´æŠ¤é‚»å±…å…³ç³»ã€‚&lt;br&gt;
&lt;code&gt;é™¤äº†å¤´éƒ¨ï¼Œå‰©ä¸‹çš„å‡ä¸ºTLVæ ¼å¼&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;type1ï¼šhello hold timeï¼Œé»˜è®¤105ç§’ï¼Œæ—¶é—´ç”¨2Bè¡¨ç¤ºï¼Œå…¨1ä»£è¡¨æ°¸è¿œä¸è¿‡æœŸï¼Œå…¨0ä»£è¡¨ç«‹å³æ–­å¼€é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;type19ï¼špriorityï¼Œåªæœ‰SMä¸­æ‰æœ‰ï¼Œé€šè¿‡æ¯”è¾ƒHelloæ¶ˆæ¯ä¸Šæºå¸¦çš„ä¼˜å…ˆçº§ï¼ˆè¶Šé«˜è¶Šä¼˜ï¼‰å’ŒIPåœ°å€ï¼ˆè¶Šå¤§è¶Šä¼˜ï¼‰ï¼Œå„è·¯ç”±å™¨ä¸ºå„ç½‘æ®µé€‰ä¸¾æŒ‡å®šè·¯ç”±å™¨DR&lt;/li&gt;
&lt;li&gt;type21ï¼šçŠ¶æ€åˆ·æ–°åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;type22ï¼šåŒå‘PIM&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;joinæŠ¥æ–‡&#34;&gt;JoinæŠ¥æ–‡&lt;/h4&gt;
&lt;p&gt;3ä¸ªé‡è¦æ¯”ç‰¹ä½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Sï¼šPIM-SMåˆ™ç½®ä½&lt;/li&gt;
&lt;li&gt;Wï¼šæ ‡è¯†è¯¥æŠ¥æ–‡æ¥è‡ªå…±äº«æ ‘&lt;/li&gt;
&lt;li&gt;Rï¼šè¡¨æ˜è¯¥æŠ¥æ–‡å‘é€ç»™RP&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;state-refreshçŠ¶æ€åˆ·æ–°æŠ¥æ–‡&#34;&gt;State RefreshçŠ¶æ€åˆ·æ–°æŠ¥æ–‡&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613316519968.png&#34; alt=&#34;çŠ¶æ€åˆ·æ–°æŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Rï¼šè¡¨ç¤ºæ˜¯RPï¼ŒPIM-DMä¸­è®¾ç½®ä¸º0&lt;/li&gt;
&lt;li&gt;TTLï¼šå’ŒIPä¸­çš„TTLä¸åŒï¼Œè¿™ä¸ªTTLè¡¨ç¤ºç»„æ’­æŠ¥æ–‡èƒ½å¤Ÿä¼ è¾“å¤šè¿œï¼Œé»˜è®¤ä¸º255&lt;/li&gt;
&lt;li&gt;Pï¼šå¦‚æœçŠ¶æ€åˆ·æ–°æŠ¥æ–‡æ˜¯ä»å¤„äºPruneçŠ¶æ€çš„ç«¯å£å‘é€é™¤å»çš„ï¼Œæ­¤ä½ç½®1&lt;/li&gt;
&lt;li&gt;Nï¼šPrune Now flagï¼Œæ¯å‘é€3ä¸ªçŠ¶æ€åˆ·æ–°æŠ¥æ–‡ä¼šç½®ä½1æ¬¡ï¼Œç”¨äºåˆ·æ–°ç«¯å£çš„PruneçŠ¶æ€&lt;code&gt;è™½ç„¶å‰ªæå®šæ—¶å™¨ä¸º210ç§’ï¼Œä½†æ˜¯æ¯éš”120ç§’å°±ä¼šè¢«åˆ·æ–°ä¸€æ¬¡&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Oï¼šAssert Override flagï¼Œç½®ä½ä¹‹ååˆ™åˆ·æ–°Assertçš„ç«¯å£çŠ¶æ€ï¼Œå³ç»´æŠ¤winnerçš„åœ°ä½ï¼Œwinnerä¼šè½¬å‘çŠ¶æ€åˆ·æ–°æŠ¥æ–‡ï¼Œè€Œloserä¸ä¼šè½¬å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;pim-dmdense_modeå¯†é›†æ¨¡å¼&#34;&gt;PIM-DMï¼ˆDense_modeï¼Œå¯†é›†æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é“¾è·¯ä¸€ç«¯é…ç½®DMï¼Œä¸€ç«¯é…ç½®SMï¼Œè™½ç„¶å¯ä»¥å»ºç«‹é‚»å±…ï¼Œä½†æ˜¯æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä¸»è¦æ˜¯ç»„æ’­åˆ†å‘æ ‘ä¸ä¸€æ ·&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶-4&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;
&lt;p&gt;é‡‡ç”¨â€œ&lt;strong&gt;æ¨ï¼ˆPushï¼‰æ¨¡å¼&lt;/strong&gt;â€è½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œå› æ­¤æ­¤æ¨¡å¼åªå…³å¿ƒä¸¤ä»¶äº‹ï¼šå“ªäº›æ¥å£å¼€å¯äº†PIM-DMæ¨¡å¼ï¼›RPFæ£€æŸ¥ã€‚&lt;code&gt;é‡‡ç”¨æ¨çš„æœºåˆ¶çš„ç›®çš„æ˜¯åœ¨DMä¸­äº§ç”Ÿç»„æ’­è·¯ç”±è¡¨ï¼Œå…ˆæœ‰ç»„æ’­è·¯ç”±è¡¨å†å»æ¨ç»„æ’­æµ&lt;/code&gt;&lt;br&gt;
PIM-DMçš„&lt;strong&gt;å…³é”®ä»»åŠ¡&lt;/strong&gt;ï¼šå»ºç«‹SPTï¼ˆæœ€çŸ­è·¯å¾„æ ‘ï¼‰&lt;/p&gt;
&lt;h5 id=&#34;1-é‚»å±…å‘ç°å’Œdrç«é€‰neighbor-discovery&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰Neighbor Discovery&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596868793202.png&#34; alt=&#34;é‚»å±…å‘ç°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PIMè·¯ç”±å™¨ä¸Šæ¯ä¸ªä½¿èƒ½äº†PIMåè®®çš„æ¥å£éƒ½ä¼šå¯¹å¤–å‘é€HelloæŠ¥æ–‡&lt;br&gt;
å°è£…HelloæŠ¥æ–‡çš„ç»„æ’­æŠ¥æ–‡çš„ç›®çš„åœ°å€æ˜¯224.0.0.13ï¼ˆè¡¨ç¤ºåŒä¸€ç½‘æ®µä¸­æ‰€æœ‰PIMè·¯ç”±å™¨ï¼‰ã€æºåœ°å€ä¸ºæ¥å£çš„IPåœ°å€ã€&lt;strong&gt;TTLæ•°å€¼ä¸º1&lt;/strong&gt;ã€DRä¼˜å…ˆçº§ç­‰&lt;br&gt;
&lt;strong&gt;HelloæŠ¥æ–‡çš„ä½œç”¨&lt;/strong&gt;ï¼šå‘ç°PIMé‚»å±…ã€åè°ƒå„é¡¹PIMåè®®æŠ¥æ–‡å‚æ•°ã€ç»´æŒé‚»å±…å…³ç³»&lt;br&gt;
&lt;code&gt;é€‰å–DRï¼ˆåœ¨DMæ¨¡å¼ä¸‹ä»…å……å½“IGMPv1çš„æŸ¥è¯¢è€…ï¼Œæ— å…¶ä»–ä½œç”¨ï¼‰&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;DRé€‰ä¸¾è§„åˆ™&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DRä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;DRä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼ŒIPåœ°å€è¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;DRå‡ºç°æ•…éšœï¼Œå°†å¯¼è‡´PIMé‚»å±…å…³ç³»è¶…æ—¶ï¼Œå…¶ä»–PIMé‚»å±…ä¹‹é—´ä¼šè§¦å‘æ–°ä¸€è½®çš„DRç«é€‰&lt;code&gt;åŒæ—¶ä¹Ÿæ”¯æŒæŠ¢å &lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-æ‰©æ•£flooding&#34;&gt;2. æ‰©æ•£Flooding&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;æ‰©æ•£éœ€è¦ä¸¤æ¬¡ï¼Œç¬¬2æ­¤ä¸ºäº†åæ¥å¯èƒ½å‡ºç°çš„éœ€è¦æµé‡çš„ææˆï¼Œå³é‡æ–°æ³›æ´ªï¼ˆ180så€’è®¡æ—¶ï¼‰&lt;/code&gt;&lt;br&gt;
å½“PIM-DMç½‘ç»œä¸­å‡ºç°æ´»è·ƒçš„ç»„æ’­æºä¹‹åï¼Œç»„æ’­æºå‘é€çš„ç»„æ’­æŠ¥æ–‡å°†åœ¨å…¨ç½‘å†…æ‰©æ•£ï¼Œä¸‹æ¸¸PIMè·¯ç”±å™¨æ¥æ”¶åˆ°ç»„æ’­æŠ¥æ–‡ï¼Œæ ¹æ®å•æ’­è·¯ç”±è¡¨è¿›è¡ŒRPFæ£€æŸ¥é€šè¿‡åï¼Œç„¶ååœ¨è¯¥è·¯ç”±å™¨ä¸Šåˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œç»„æ’­æŠ¥æ–‡ç»§ç»­å‘ä¸‹æ¸¸ç»„æ’­ï¼Œç›´è‡³åˆ°è¾¾å¶å­è·¯ç”±å™¨ï¼Œç„¶åä¼šå‡ºç°ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¶å­è·¯ç”±å™¨ä¸Š&lt;strong&gt;å­˜åœ¨ç»„æˆå‘˜&lt;/strong&gt;ï¼Œåˆ™å°†ç›¸åº”æ¥å£åŠ å…¥ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œåç»­çš„ç»„æ’­æŠ¥æ–‡ä¼šå‘ç»„æˆå‘˜è½¬å‘&lt;/li&gt;
&lt;li&gt;è‹¥&lt;strong&gt;ä¸å­˜åœ¨ç»„æˆå‘˜&lt;/strong&gt;ï¼Œä¸”ä¸éœ€è¦å‘å…¶ä¸‹æ¸¸PIMé‚»å±…è½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œåˆ™è¿›è¡Œ&lt;strong&gt;å‰ªæ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613310319137.png&#34; alt=&#34;æ‰©æ•£&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­æºSå‘ç»„æ’­ç»„Gå‘é€ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RouterCæ¥æ”¶åˆ°ç»„æ’­æŠ¥æ–‡åï¼Œæ ¹æ®å•æ’­è·¯ç”±è¡¨è¿›è¡ŒRPFæ£€æŸ¥ã€‚RPFæ£€æŸ¥é€šè¿‡ï¼Œåˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œç»§ç»­å‘ä¸‹æ¸¸æ¥å£è½¬å‘è¯¥ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RouterAæ¥æ”¶åˆ°æ¥è‡ªRouterCçš„ç»„æ’­æŠ¥æ–‡ï¼ŒRPFæ£€æŸ¥æˆåŠŸï¼Œåœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œå­˜åœ¨ç»„æˆå‘˜HostAï¼Œå°†ä¸HostAç›¸è¿çš„æ¥å£åŠ å…¥è¡¨é¡¹ä¸­&lt;/li&gt;
&lt;li&gt;RouterBæ¥æ”¶åˆ°æ¥è‡ªRouterCçš„ç»„æ’­æŠ¥æ–‡ï¼Œç”±äºä¸å­˜åœ¨ç»„æˆå‘˜å’ŒPIMé‚»å±…ï¼Œæ‰§è¡Œ&lt;strong&gt;å‰ªæ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;3-å‰ªæprune&#34;&gt;3. å‰ªæPrune&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;åªæœ‰ä¸‹æ¸¸è®¾å¤‡æ²¡æœ‰æ¥æ”¶è€…ä¹‹åæ‰ä¼šå‘ä¸Šæ¸¸è®¾å¤‡å‘é€PruneæŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
å‰ªææ˜¯ä¸ºäº†ä¼˜åŒ–æˆSPTï¼Œå‰ªæè¡Œä¸ºæ˜¯ç”±ä¸‹æ¸¸PIMè·¯ç”±å™¨è®¾å¤‡å‘èµ·ï¼Œåˆ é™¤ä¸éœ€è¦è½¬å‘ç»„æ’­æµé‡çš„ç«¯å£ã€‚&lt;strong&gt;å‰ªæå»¶è¿Ÿ&lt;/strong&gt;ï¼Œä¸Šæ¸¸è®¾å¤‡æ”¶åˆ°å‰ªææ¶ˆæ¯ï¼Œ&lt;strong&gt;é»˜è®¤å»¶è¿Ÿ3ç§’&lt;/strong&gt;å†å‰ªæã€‚å‰ªæåå½¢æˆSPTæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613311931612.png&#34; alt=&#34;å‰ªæ&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RouterBå‘ä¸Šæ¸¸RouterCå‘é€PruneæŠ¥æ–‡ï¼Œé€šçŸ¥RouterCä¸ç”¨å†è½¬å‘æ•°æ®åˆ°è¯¥ä¸‹æ¸¸ç½‘æ®µ&lt;/li&gt;
&lt;li&gt;RouterCæ”¶åˆ°PruneæŠ¥æ–‡åï¼Œåœæ­¢è¯¥ä¸‹æ¸¸æ¥å£è½¬å‘ï¼Œå°†è¯¥ä¸‹æ¸¸æ¥å£ä»ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ä¸­åˆ é™¤&lt;code&gt;åªåˆ é™¤æ¥å£ï¼Œä¸åˆ é™¤ï¼ˆSï¼ŒGï¼‰è¡¨ï¼Œå› ä¸ºåé¢å¯èƒ½æœ‰æ–°çš„æ¥æ”¶è€…åŠ å…¥ï¼Œä¸‹æ¸¸æ¥å£çš„çŠ¶æ€ç”±Forwardingå˜ä¸ºPruneï¼Œè®¡æ—¶å™¨ä¸º210ç§’&lt;/code&gt;ã€‚&lt;strong&gt;ç”±äºRouterCä¸Šè¿˜å­˜åœ¨å…¶ä»–å¤„äºè½¬å‘çŠ¶æ€çš„ä¸‹æ¸¸æ¥å£ï¼Œå‰ªæè¿‡ç¨‹åœæ­¢&lt;/strong&gt;ï¼Œåç»­åˆ°è¾¾çš„æŠ¥æ–‡åªå‘RouterAè½¬å‘&lt;/li&gt;
&lt;li&gt;RouterAä¹Ÿä¼šæ”¶åˆ°å‰ªææŠ¥æ–‡ï¼Œå› ä¸ºå®ƒæœ‰æ¥æ”¶è€…ï¼Œæ‰€ä»¥å›å¤ä¸€ä¸ªå‰ªæå¦å®šæŠ¥æ–‡ï¼Œå³JoinæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RouterCä¼šæ”¶åˆ°è¯¥JoinæŠ¥æ–‡ï¼Œç»§ç»­å‘RouterAç›¸è¿çš„æ¥å£è½¬å‘ï¼›RouterBæ”¶åˆ°ä¹‹åçŸ¥é“äº†è¿˜æœ‰å…¶ä»–æ¥æ”¶è€…ï¼Œç„¶åæŠ‘åˆ¶PruneæŠ¥æ–‡çš„å‘é€ï¼ˆæŠ‘åˆ¶ä¹‹åå†ä¹Ÿä¸ä¼šå‘é€PruneæŠ¥æ–‡ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;4-å«æ¥graft&#34;&gt;4. å«æ¥Graft&lt;/h5&gt;
&lt;p&gt;é’ˆå¯¹åœ¨å‰ªæä¹‹åå‡ºç°çš„æ¥æ”¶è€…å‘ä¸Šè¯·æ±‚ç»„æ’­æµï¼Œä¸‹æ¸¸è®¾å¤‡å‘ä¸Šå‘å«æ¥ï¼ˆGraftï¼‰æ¶ˆæ¯ï¼Œä¸Šæ¸¸è®¾å¤‡å‘ä¸‹å‘å«æ¥ç¡®è®¤ã€‚å«æ¥ä¹‹åå½¢æˆæ–°çš„SPTæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613312395861.png&#34; alt=&#34;å«æ¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RouterBå¸Œæœ›åœ¨ä¸‹ä¸€æ¬¡â€œæ‰©æ•£-å‰ªæâ€&lt;sub&gt;æ‰©æ•£--å‰ªæå‘¨æœŸæ€§è¿›è¡Œï¼Œæ¯3åˆ†é’Ÿé‡å¤ä¸€æ¬¡&lt;/sub&gt;æ¥ä¸´å‰æ¢å¤å¯¹HostBç»„æ’­æŠ¥æ–‡çš„è½¬å‘ï¼Œå‘ä¸Šæ¸¸è·¯ç”±å™¨RouterCå‘é€GraftæŠ¥æ–‡ï¼Œè¯·æ±‚æ¢å¤ç›¸åº”å‡ºæ¥å£è½¬å‘ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RouterCæ”¶åˆ°GraftæŠ¥æ–‡åï¼Œå›å¤Graft AckæŠ¥æ–‡ï¼Œå°†è¯¥æ¥å£æ·»åŠ åˆ°ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ä¸­çš„ä¸‹æ¸¸æ¥å£åˆ—è¡¨ä¸­ã€‚&lt;strong&gt;ç”±äºRouterCä¸Šæœ‰ç»„æ’­æŠ¥æ–‡åˆ°è¾¾ï¼Œå«æ¥è¿‡ç¨‹åœæ­¢&lt;/strong&gt;ï¼Œåç»­åˆ°è¾¾çš„æŠ¥æ–‡å‘RouterBè½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;5-æ–­è¨€assert&#34;&gt;5. æ–­è¨€Assert&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;é¿å…æµé‡é‡å¤æ‹·è´&lt;/code&gt;&lt;br&gt;
&lt;code&gt;è§¦å‘å‘é€AssertæŠ¥æ–‡çš„æ¡ä»¶ï¼šè·¯ç”±å™¨ä»ä¸‹æ¸¸æ¥å£æ”¶åˆ°äº†è‡ªå·±è½¬å‘çš„ç»„æ’­æµé‡&lt;/code&gt;&lt;br&gt;
æœ‰å¤šä¸ªç›¸è¿çš„PIMè·¯ç”±å™¨RPFæ£€æŸ¥é€šè¿‡å‘è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡æ—¶ï¼Œåˆ™éœ€è¦é€šè¿‡æ–­è¨€æœºåˆ¶æ¥ä¿è¯åªæœ‰ä¸€ä¸ªPIMè·¯ç”±å™¨å‘è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡ã€‚&lt;br&gt;
PIMè·¯ç”±å™¨åœ¨æ¥æ”¶åˆ°é‚»å±…è·¯ç”±å™¨å‘é€çš„ç›¸åŒç»„æ’­æŠ¥æ–‡åï¼Œä¼šä»¥ç»„æ’­çš„æ–¹å¼å‘æœ¬ç½‘æ®µçš„æ‰€æœ‰PIMè·¯ç”±å™¨å‘é€AssertæŠ¥æ–‡ï¼Œå…¶å®ƒPIMè·¯ç”±å™¨åœ¨æ¥æ”¶åˆ°AssertæŠ¥æ–‡åï¼Œå°†è‡ªèº«å‚æ•°ä¸å¯¹æ–¹æŠ¥æ–‡ä¸­æºå¸¦çš„å‚æ•°åšæ¯”è¾ƒï¼Œè¿›è¡ŒAssertç«é€‰ã€‚&lt;br&gt;
&lt;strong&gt;ç«é€‰è§„åˆ™ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å•æ’­è·¯ç”±åè®®ä¼˜å…ˆçº§è¾ƒé«˜è€…è·èƒœ&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™åˆ°ç»„æ’­æºçš„å¼€é”€è¾ƒå°è€…è·èƒœ&lt;/li&gt;
&lt;li&gt;å¦‚æœä»¥ä¸Šéƒ½ç›¸åŒï¼Œåˆ™ä¸‹æ¸¸æ¥å£IPåœ°å€æœ€å¤§è€…è·èƒœ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ¹æ®Assertç«é€‰ç»“æœï¼Œ&lt;strong&gt;è·¯ç”±å™¨å°†æ‰§è¡Œä¸åŒçš„æ“ä½œ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è·èƒœä¸€æ–¹çš„ä¸‹æ¸¸æ¥å£ç§°ä¸º&lt;strong&gt;Assert Winner&lt;/strong&gt;ï¼Œå°†&lt;strong&gt;è´Ÿè´£&lt;/strong&gt;åç»­å¯¹è¯¥ç½‘æ®µ&lt;strong&gt;ç»„æ’­æŠ¥æ–‡çš„è½¬å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è½è´¥ä¸€æ–¹çš„ä¸‹æ¸¸æ¥å£ç§°ä¸º&lt;strong&gt;Assert Loser&lt;/strong&gt;ï¼Œåç»­&lt;strong&gt;ä¸ä¼šå¯¹è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡&lt;/strong&gt;ï¼ŒPIMè·¯ç”±å™¨ä¹Ÿä¼šå°†å…¶ä»ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹&lt;strong&gt;ä¸‹æ¸¸æ¥å£åˆ—è¡¨ä¸­åˆ é™¤&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613312914276.png&#34; alt=&#34;æ–­è¨€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;RouterBå’ŒRouterCä»å„è‡ªä¸‹æ¸¸æ¥å£æ¥æ”¶åˆ°å¯¹æ–¹å‘æ¥çš„ç»„æ’­æŠ¥æ–‡ï¼ŒRPFæ£€æŸ¥éƒ½å¤±è´¥ï¼ŒæŠ¥æ–‡è¢«ä¸¢å¼ƒã€‚åŒæ—¶ï¼ŒRouterBå’ŒRouterCåˆ†åˆ«å‘è¯¥ç½‘æ®µå‘é€AssertæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RouterBå°†è‡ªèº«çš„è·¯ç”±ä¿¡æ¯ä¸RouterCå‘æ¥çš„AssertæŠ¥æ–‡ä¸­æºå¸¦çš„è·¯ç”±ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œç”±äºè‡ªèº«åˆ°ç»„æ’­æºçš„å¼€é”€è¾ƒå°è€Œè·èƒœï¼Œäºæ˜¯åç»­ç»„æ’­æŠ¥æ–‡ä»ç„¶å‘è¯¥ç½‘æ®µè½¬å‘&lt;/li&gt;
&lt;li&gt;RouterCåœ¨æ¥æ”¶åˆ°ç»„æ’­æŠ¥æ–‡åä»ç„¶ç”±äºRPFæ£€æŸ¥å¤±è´¥è€Œä¸¢å¼ƒï¼ŒRouterCå°†è‡ªèº«çš„è·¯ç”±ä¿¡æ¯ä¸RouterBå‘æ¥çš„AssertæŠ¥æ–‡ä¸­æºå¸¦çš„è·¯ç”±ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œç”±äºè‡ªèº«åˆ°ç»„æ’­æºçš„å¼€é”€è¾ƒå¤§è€Œè½è´¥ã€‚äºæ˜¯ç¦æ­¢ç›¸åº”ä¸‹æ¸¸æ¥å£å‘è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œå°†å…¶ä»ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹çš„ä¸‹æ¸¸æ¥å£åˆ—è¡¨ä¸­åˆ é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆæœ‰RPFæ£€æŸ¥äº†ï¼Œè¿˜éœ€è¦æ–­è¨€ï¼Ÿ&lt;br&gt;
RPFæ£€æŸ¥æ˜¯ä¸ºäº†é˜²æ­¢ç»„æ’­æµé‡è½¬å‘ç¯è·¯æˆ–è€…æ”¶åˆ°é‡å¤çš„ç»„æ’­æµï¼Œè€Œæ–­è¨€æœºåˆ¶æ˜¯æ”¶åˆ°äº†é‡å¤çš„ç»„æ’­æµä¹‹åä¸ºäº†é¿å…æµé‡çš„é‡å¤æ‹·è´è€Œè¿›è¡Œçš„&lt;br&gt;
å¦‚ä¸Šå›¾ï¼ŒRouterDæ‰§è¡ŒRPFæ£€æŸ¥ï¼Œä¸RouterBå’ŒRouterCç›¸è¿çš„æ¥å£éƒ½èƒ½é€šè¿‡RPFæ£€æŸ¥ï¼Œå¦‚æœæ²¡æœ‰æ–­è¨€æœºåˆ¶ï¼ŒRouterDå°±ä¼šæ”¶åˆ°é‡å¤çš„ç»„æ’­æµ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;6-çŠ¶æ€åˆ·æ–°state-refresh&#34;&gt;6. çŠ¶æ€åˆ·æ–°State Refresh&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;å‘é€çŠ¶æ€åˆ·æ–°æŠ¥æ–‡çš„æ¡ä»¶ï¼šç¬¬ä¸€è·³è·¯ç”±å™¨æ”¶åˆ°ç»„æ’­æºçš„ç»„æ’­æµ&lt;/code&gt;&lt;br&gt;
&lt;code&gt;çŠ¶æ€åˆ·æ–°æŠ¥æ–‡çš„ä½œç”¨ï¼š1. ç»´æŠ¤PruneçŠ¶æ€ï¼›2. ç»´æŠ¤AssertçŠ¶æ€&lt;/code&gt;&lt;br&gt;
ä¸ºäº†é¿å…è¢«è£å‰ªçš„æ¥å£å› ä¸ºâ€œå‰ªæå®šæ—¶å™¨&lt;code&gt;é»˜è®¤210ç§’&lt;/code&gt;â€è¶…æ—¶è€Œæ¢å¤è½¬å‘ï¼Œ&lt;strong&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨ä¼šå‘¨æœŸæ€§ï¼ˆ60ç§’ï¼‰åœ°è§¦å‘State RefreshæŠ¥æ–‡åœ¨å…¨ç½‘å†…æ‰©æ•£&lt;/strong&gt;ï¼Œæ”¶åˆ°State RefreshæŠ¥æ–‡çš„&lt;strong&gt;PIMè·¯ç”±å™¨ä¼šåˆ·æ–°å‰ªæå®šæ—¶å™¨çš„çŠ¶æ€&lt;/strong&gt;ã€‚è¢«è£å‰ªæ¥å£çš„ä¸‹æ¸¸å¶å­è·¯ç”±å™¨&lt;strong&gt;å¦‚æœä¸€ç›´æ²¡æœ‰ç»„æˆå‘˜åŠ å…¥ï¼Œè¯¥æ¥å£å°†ä¸€ç›´å¤„äºæŠ‘åˆ¶è½¬å‘çŠ¶æ€&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613312561028.png&#34; alt=&#34;çŠ¶æ€åˆ·æ–°&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RouterCè§¦å‘çŠ¶æ€åˆ·æ–°ï¼Œå°†State RefreshæŠ¥æ–‡å‘RouterAå’ŒRouterBæ‰©æ•£&lt;/li&gt;
&lt;li&gt;RouterCä¸Šå­˜åœ¨è¢«è£å‰ªæ¥å£ï¼Œåˆ·æ–°è¯¥æ¥å£çš„â€œå‰ªæå®šæ—¶å™¨â€çš„çŠ¶æ€ã€‚ä¸‹ä¸€æ¬¡â€œæ‰©æ•£-å‰ªæâ€æ¥ä¸´æ—¶ï¼Œç”±äºRouterBä¸Šä»ç„¶æ²¡æœ‰ç»„æˆå‘˜åŠ å…¥ï¼ŒRouterCä¸Šè¢«è£å‰ªçš„æ¥å£å°†è¢«æŠ‘åˆ¶è½¬å‘ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ€»ç»“ä¸è¯„ä»·&#34;&gt;æ€»ç»“ä¸è¯„ä»·&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åè®®å‡è®¾ï¼šç½‘ç»œä¸­çš„æ¯ä¸ªå­ç½‘éƒ½å­˜åœ¨è‡³å°‘ä¸€ä¸ªå¯¹ç»„æ’­æºæ„Ÿå…´è¶£çš„æ¥å—ç«™ç‚¹ï¼Œå› æ­¤ç»„æ’­æ•°æ®åŒ…è¢«æ‰©æ•£åˆ°ç½‘ç»œä¸­çš„æ‰€æœ‰ç½‘æ®µï¼Œå› æ­¤å¯¹äºå°å‹ç½‘ç»œæ¥è¯´éå¸¸æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;PIM-DMå¯¹æ²¡æœ‰ç»„æ’­æ•°æ®è½¬å‘çš„åˆ†æ”¯è¿›è¡ŒPruneå‰ªææ“ä½œï¼Œåªä¿ç•™åŒ…å«æ¥æ”¶è€…çš„åˆ†æ”¯&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä½¿å‰ªæ‰çš„æœ‰ç»„æ’­æ•°æ®è½¬å‘éœ€æ±‚çš„åˆ†æ”¯èƒ½å¤Ÿé‡æ–°æ¥æ”¶ç»„æ’­æµæ•°æ®ï¼Œå‰ªæ‰çš„åˆ†æ”¯å‘¨æœŸæ€§çš„æ¢å¤æˆè½¬å‘çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä¸ºäº†å‡å°‘ç­‰å¾…è¢«å‰ªæ‰çš„åˆ†æ”¯æ¢å¤æˆè½¬å‘çŠ¶æ€çš„å»¶æ—¶æ—¶é—´ï¼ŒPIM-DMä½¿ç”¨Graftæœºåˆ¶ä¸»åŠ¨æ¢å¤ç»„æ’­æŠ¥æ–‡çš„è½¬å‘&lt;/li&gt;
&lt;li&gt;PIM-DMåŸŸä¸­æ•°æ®åŒ…çš„è½¬å‘è·¯å¾„æ˜¯æœ‰æºæ ‘
&lt;ul&gt;
&lt;li&gt;ä»¥ç»„æ’­æºä¸ºæ ¹ï¼Œç»„æ’­ç»„æˆå‘˜ä¸ºæå¶çš„ä¸€æ£µæ ‘&lt;/li&gt;
&lt;li&gt;ç”±äºæœ‰æºæ ‘ä½¿ç”¨çš„æ˜¯ä»ç»„æ’­æºåˆ°æ¥æ”¶è€…çš„æœ€çŸ­è·¯å¾„ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºæœ€çŸ­è·¯å¾„æ ‘SPT&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PIM-DMä¸ä¾èµ–äºç‰¹å®šçš„å•æ’­è·¯ç”±åè®®ï¼Œè€Œæ˜¯ä½¿ç”¨ç°å­˜çš„å•æ’­è·¯ç”±è¡¨è¿›è¡ŒRPFæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ¿ï¼š
&lt;ul&gt;
&lt;li&gt;æ˜“äºé…ç½®ï¼Œä¸”å®ç°æœºåˆ¶ç®€å•ï¼šé‚»å±…å‘ç°--æ‰©æ•£--å‰ªæ--å«æ¥--æ–­è¨€--çŠ¶æ€åˆ·æ–°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ½œåœ¨é—®é¢˜ï¼š
&lt;ul&gt;
&lt;li&gt;æ‰©æ•£å‰ªæè¿‡ç¨‹ä¸å¤Ÿé«˜æ•ˆï¼Œå¤æ‚çš„Assertæœºåˆ¶&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå…±äº«æ ‘ã€å…±äº«æ ‘ä¸ç”¨äºè½¬å‘æ•°æ®ï¼Œå…¶å…¥æ¥å£ä¸ºNULLï¼Œä»…ç”¨äºäº§ç”Ÿï¼ˆS,Gï¼‰ï¼Œè¿™æ˜¯å’ŒSMæ¨¡å¼çš„é‡è¦åŒºåˆ«ã€‘&lt;/li&gt;
&lt;li&gt;æ§åˆ¶å’Œæ•°æ®å¹³é¢æ··åˆå¯¼è‡´ç½‘ç»œå†…éƒ¨çš„æ‰€æœ‰è·¯ç”±å™¨ä¸Šéƒ½ç”±ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹å­˜åœ¨ã€ä¸€æ—¦æœ‰ä»»æ„ç»„æ’­æºå‡ºç°ï¼Œæ‰€æœ‰è®¾å¤‡ä¼šè‡ªåŠ¨ç”Ÿæˆè¡¨é¡¹ï¼Œå ç”¨å†…å­˜ã€‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;pim-smasmæ¨¡å‹&#34;&gt;PIM-SMï¼ˆASMæ¨¡å‹ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ASMæ¨¡å‹ä¸­ï¼ŒPIM-SMä½¿ç”¨â€œ&lt;strong&gt;æ‹‰ï¼ˆPullï¼‰æ¨¡å¼&lt;/strong&gt;â€è½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œ&lt;strong&gt;ä»æ¥æ”¶è€…å¼€å§‹å‘RPæ–¹å‘å°è¯•æ‹‰å–ç»„æ’­æµ&lt;/strong&gt;ï¼Œ&lt;code&gt;å…ˆæœ‰ç»„æ’­è·¯ç”±è¡¨ï¼Œåæœ‰ç»„æ’­æµ&lt;/code&gt;ä¸€èˆ¬åº”ç”¨äºç»„æ’­ç»„æˆå‘˜è§„æ¨¡ç›¸å¯¹è¾ƒå¤§ã€ç›¸å¯¹ç¨€ç–çš„ç½‘ç»œã€‚åŸºäºè¿™ä¸€ç§ç¨€ç–çš„ç½‘ç»œæ¨¡å‹ï¼Œå®ƒçš„å®ç°æ–¹æ³•æ˜¯ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨ç½‘ç»œä¸­ç»´æŠ¤ä¸€å°é‡è¦çš„PIMè·¯ç”±å™¨ï¼šæ±‡èšç‚¹RPï¼Œå¯ä»¥ä¸ºéšæ—¶å‡ºç°çš„ç»„æˆå‘˜æˆ–ç»„æ’­æºæœåŠ¡ï¼Œ&lt;strong&gt;ç½‘ç»œä¸­æ‰€æœ‰PIMè·¯ç”±å™¨éƒ½çŸ¥é“RPçš„ä½ç½®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å½“ç½‘ç»œä¸­&lt;strong&gt;å‡ºç°ç»„æˆå‘˜&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;æœ€åä¸€è·³è·¯ç”±å™¨å‘RPå‘é€JoinæŠ¥æ–‡&lt;/strong&gt;ï¼Œé€è·³åˆ›å»ºï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹ï¼Œ&lt;strong&gt;ç”Ÿæˆä¸€æ£µä»¥RPä¸ºæ ¹çš„RPT&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å½“ç½‘ç»œä¸­&lt;strong&gt;å‡ºç°&lt;/strong&gt;æ´»è·ƒçš„&lt;strong&gt;ç»„æ’­æº&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨å°†ç»„æ’­æ•°æ®å°è£…åœ¨RegisteræŠ¥æ–‡ä¸­å•æ’­å‘å¾€RP&lt;/strong&gt;ï¼Œåœ¨RPä¸Šåˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œæ³¨å†Œæºä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœ¯è¯­
&lt;ol&gt;
&lt;li&gt;æºï¼šå‘é€ç»„æ’­æ•°æ®çš„ç»ˆç«¯ä¸»æœºæˆ–PC&lt;/li&gt;
&lt;li&gt;æ¥æ”¶è€…ï¼šæ¥æ”¶ç»„æ’­æ•°æ®çš„ç»ˆç«¯ä¸»æœºæˆ–PC&lt;/li&gt;
&lt;li&gt;æ±‡èšç‚¹RPï¼šæ¥æ”¶è€…ä»è¿™é‡Œè·å–æºä¿¡æ¯ï¼Œå¹¶ä¸”æ˜¯å…±äº«æ ‘çš„æ ¹&lt;code&gt;ä¸€ä¸ªRPå¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªç»„æ’­ç»„æœåŠ¡ï¼Œä½†ä¸€ä¸ªç»„æ’­ç»„åªèƒ½å¯¹åº”ä¸€ä¸ªRP&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŒ‡å®šè·¯ç”±å™¨DRï¼ˆéœ€è¦å‘å‘RPæ³¨å†Œï¼‰ï¼šåœ¨å…±äº«ç½‘æ®µä¸Šé€‰ä¸¾&lt;strong&gt;ä¼˜å…ˆçº§æœ€é«˜ï¼ˆæ•°å€¼æœ€å¤§ï¼‰æˆ–è€…IPåœ°å€æœ€å¤§&lt;/strong&gt;çš„è·¯ç”±å™¨ä¸ºDRï¼›
&lt;ol&gt;
&lt;li&gt;æºç«¯DRï¼šè´Ÿè´£å‘RPå‘é€å•æ’­çš„Registeræ¶ˆæ¯ï¼Œå°†æ•°æ®ä»æºè½¬å‘è‡³RP&lt;/li&gt;
&lt;li&gt;æ¥æ”¶è€…ï¼ˆç»„æˆå‘˜ç«¯ï¼‰DRï¼šè´Ÿè´£å‘RPå‘é€ï¼ˆ*ï¼ŒGï¼‰çš„JoinåŠ å…¥æ¶ˆæ¯ï¼Œå°†æ•°æ®ä»RPè½¬å‘åˆ°æ¥æ”¶è€…æˆ–ç§°æœ€åä¸€è·³DR&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RPTï¼šä»&lt;strong&gt;æ¥æ”¶è€…DRåˆ°RP&lt;/strong&gt;é€è·³å»ºç«‹èµ·æ¥çš„ï¼Œ&lt;strong&gt;ä»¥RPä¸ºæ ¹çš„å…±äº«æ ‘&lt;/strong&gt;ã€‚RPTå®ç°äº†ç»„æ’­æ•°æ®æŒ‰éœ€è½¬å‘çš„ç›®çš„ï¼Œå‡å°‘äº†æ•°æ®æ³›æ´ªå¯¹ç½‘ç»œå¸¦å®½çš„å ç”¨&lt;/li&gt;
&lt;li&gt;SPTï¼šä»&lt;strong&gt;æ¥æ”¶è€…DRåˆ°æºDR&lt;/strong&gt;å»ºç«‹èµ·æ¥çš„ï¼Œ&lt;strong&gt;ä»¥æºDRä¸ºæ ¹çš„æœ€çŸ­è·¯å¾„æ ‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;BSRï¼šè‡ªä¸¾è·¯ç”±å™¨ï¼Œè´Ÿè´£åœ¨PIM-SMç½‘ç»œå¯åŠ¨åï¼Œæ”¶é›†ç½‘ç»œå†…çš„RPä¿¡æ¯ï¼Œä¸ºæ¯ä¸ªç»„é€‰ä¸¾å‡ºRPï¼Œç„¶åå°†RPé›†ï¼ˆå³ç»„-RPæ˜ å°„æ•°æ®åº“ï¼‰å‘å¸ƒåˆ°æ•´ä¸ªPIM-SMç½‘ç»œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;PIM-SMçš„&lt;strong&gt;å…³é”®ä»»åŠ¡&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;å»ºç«‹RPTï¼š
&lt;ol&gt;
&lt;li&gt;æ¥æ”¶è€…é€šè¿‡IGMPå‘å¶è·¯ç”±å™¨æŠ¥å‘Šç»„æ’­æµéœ€æ±‚ï¼Œå¶è·¯ç”±å™¨äº§ç”Ÿï¼ˆ*ï¼ŒGï¼‰&lt;/li&gt;
&lt;li&gt;SMè¦æ±‚æ•´ä¸ªç»„æ’­ç½‘ç»œçš„æ‰€æœ‰å‚ä¸è·¯ç”±å™¨éƒ½éœ€è¦çŸ¥é“RPçš„ä½ç½®&lt;/li&gt;
&lt;li&gt;å¶è·¯ç”±å™¨å‘RPæ–¹å‘åšRPFæ£€æŸ¥ï¼Œä»RPFé‚»å±…æ¥å£å‘ä¸Šæ¸¸å‘é€PIMçš„joinæ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è·¯ç”±å™¨äº§ç”Ÿï¼ˆ*ï¼ŒGï¼‰ ï¼ŒåŒæ—¶å‘ä¸Šä¼ é€’joinæ¶ˆæ¯ï¼Œç›´è‡³RP&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å»ºç«‹SPT:
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨æœ€å…ˆæ„ŸçŸ¥åˆ°ç»„æ’­æµå’Œç»„æ’­æºï¼Œæ‰§è¡Œæ³¨å†Œï¼Œå°†ç»„æ’­æµå°è£…åœ¨å•æ’­æŠ¥æ–‡ä¸­ï¼Œå•æ’­è½¬å‘è‡³RPï¼Œå‘RPæ³¨å†Œç»„æ’­æºåœ°å€&lt;/li&gt;
&lt;li&gt;RPä¸»åŠ¨å‘ç€ç»„æ’­æºæ–¹å‘å‘èµ·PIM joinï¼ˆS,Gï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šå½¢æˆSPT&lt;/li&gt;
&lt;li&gt;æ³¨å†Œåœæ­¢ï¼Œå½“SPTå»ºç«‹å®Œæ¯•ï¼Œç¬¬ä¸€è·³è·¯ç”±å™¨å°†èƒ½å¤Ÿæ²¿ç€SPTå‘ä¸‹è½¬å‘ç»„æ’­æµï¼Œå½“RPæ”¶åˆ°æ¥è‡ªSPTçš„ç»„æ’­æµï¼Œå°†å•æ’­å‘ç¬¬ä¸€è·³è·¯ç”±å™¨å‘é€æ³¨å†Œåœæ­¢æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨æ”¶åˆ°æ³¨å†Œåœæ­¢æ¶ˆæ¯ï¼Œåœæ­¢å‘é€æ³¨å†ŒæŠ¥æ–‡&lt;br&gt;
&lt;code&gt;æ­¤æ—¶ï¼ŒSMä¸­RPTä¹Ÿè´Ÿè´£è½¬å‘ç»„æ’­æµï¼Œä½†æ˜¯ï¼Œç›®å‰ä¸ºæ­¢ï¼Œç»„æ’­çš„è½¬å‘è·¯å¾„ä¾ç„¶ä¸æ˜¯æœ€ä¼˜çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SPTåˆ‡æ¢ï¼š
&lt;ol&gt;
&lt;li&gt;å½“å¶è·¯ç”±å™¨æ¥æ”¶åˆ°ç»„æ’­æµï¼Œå°†æ„ŸçŸ¥åˆ°ç»„æ’­æºåœ°å€ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå¶è·¯ç”±å™¨ä¼šç«‹åˆ»è§¦å‘ä¸€ä¸ªå«åšSPTåˆ‡æ¢çš„è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¶è·¯ç”±å™¨å°†æ ¹æ®æ„ŸçŸ¥åˆ°çš„ç»„æ’­æºåœ°å€ï¼Œé’ˆå¯¹ç»„æ’­æºåšRPFæ£€æŸ¥ã€‚å‘ç€æºæ–¹å‘åš(S,G) joinï¼Œå®Œæˆåç»„æ’­æµå°†æ²¿ç€SPTè½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶-5&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613380751089.png&#34; alt=&#34;å·¥ä½œæœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;1-é‚»å±…å‘ç°å’Œdrç«é€‰&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰&lt;/h5&gt;
&lt;p&gt;ä¸PIM-DMå‘ç°å’Œé€‰ä¸¾è¿‡ç¨‹åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯DRçš„ä½œç”¨ä¸åŒã€‚åœ¨PIM-DMä¸­çš„DRåªèƒ½å……å½“IGMPv1çš„æŸ¥è¯¢è€…ï¼Œä½†åœ¨PIM-SMä¸­ï¼Œ&lt;strong&gt;DRæ¥è´Ÿè´£æºç«¯ï¼ˆæºDRï¼‰æˆ–ç»„æˆå‘˜ç«¯ï¼ˆæ¥æ”¶è€…DRï¼‰ç»„æ’­æŠ¥æ–‡çš„æ”¶å‘&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613368585670.png&#34; alt=&#34;é‚»å±…å‘ç°å’ŒDRç«é€‰&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-rpå‘ç°&#34;&gt;2. RPå‘ç°&lt;/h5&gt;
&lt;p&gt;æ±‡èšç‚¹RPç”¨äº&lt;strong&gt;å¤„ç†æºç«¯DRæ³¨å†Œä¿¡æ¯åŠç»„æˆå‘˜åŠ å…¥è¯·æ±‚&lt;/strong&gt;ï¼Œç½‘ç»œä¸­çš„æ‰€æœ‰PIMè·¯ç”±å™¨éƒ½&lt;strong&gt;å¿…é¡»çŸ¥é“RPçš„åœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;é…ç½®RPæ–¹å¼ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é™æ€RPï¼šåœ¨æ‰€æœ‰PIMè·¯ç”±å™¨ä¸Šé™æ€æŒ‡å®šRPçš„åœ°å€&lt;/li&gt;
&lt;li&gt;åŠ¨æ€RPï¼šåœ¨PIMåŸŸå†…é€‰æ‹©å‡ å°PIMè·¯ç”±å™¨ï¼Œé…ç½®C-RPï¼ˆå€™é€‰RPï¼‰æ¥åŠ¨æ€ç«é€‰å‡ºRPã€‚åŒæ—¶ï¼Œè¿˜éœ€è¦é€šè¿‡é…ç½®C-BSRï¼ˆå€™é€‰BSRï¼‰é€‰ä¸¾å‡ºBSRï¼Œæ¥æ”¶é›†C-RPçš„é€šå‘Šä¿¡æ¯ï¼Œå‘PIM-SMåŸŸå†…çš„æ‰€æœ‰PIMè·¯ç”±å™¨å‘å¸ƒã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;BSRç«é€‰ï¼š&lt;/strong&gt;&lt;br&gt;
æ¯ä¸ªC-BSRéƒ½è®¤ä¸ºè‡ªå·±æ˜¯BSRï¼Œæ³›æ´ªBootstrapæŠ¥æ–‡ï¼Œæºå¸¦è‡ªå·±çš„åœ°å€å’Œä¼˜å…ˆçº§ï¼Œå…¶ä»–PIMè·¯ç”±å™¨éƒ½æ”¶åˆ°æ‰€æœ‰C-BSRå‘å‡ºçš„BootstrapæŠ¥æ–‡ï¼Œé€šè¿‡æ¯”è¾ƒè¿™äº›C-BSRä¿¡æ¯ï¼Œç«é€‰äº§ç”ŸBSRï¼Œè§„åˆ™ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼ŒIPè¶Šå¤§è¶Šä¼˜&lt;br&gt;
&lt;code&gt;ä¸€ä¸ªç½‘ç»œå†…éƒ¨åªæœ‰ä¸€ä¸ªBSRï¼Œä½†å¯ä»¥é…ç½®å¤šä¸ªC-BSRã€‚BSRå‘¨æœŸæ€§ï¼ˆ60ç§’ï¼Œè€åŒ–æ—¶é—´æ—¶130ç§’ï¼‰åœ°å‘ç»„æ’­å‘é€BSRæ¶ˆæ¯ï¼ˆå³TTL=1ï¼Œæ¶ˆæ¯å†…å®¹åŒ…å«BSRåœ°å€å’ŒRPé›†ï¼Œå…¶ä¸­RPé›†ä¸­ä¸»è¦æ˜¯C-RPå‘é€ç»™BSRçš„ä¿¡æ¯çš„æ±‡æ€»ï¼ŒåŒ…å«C-RPçš„åœ°å€ã€æœåŠ¡èŒƒå›´ã€ä¼˜å…ˆçº§ç­‰ï¼‰ï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨ä½¿ç”¨æ”¶åˆ°çš„RPé›†æ¥ç¡®å®šRPï¼Œæ‰€æœ‰è·¯ç”±å™¨éƒ½ä½¿ç”¨ç›¸åŒçš„RPé€‰æ‹©ç®—æ³•ï¼Œé€‰æ‹©çš„RPä¹Ÿæ˜¯ä¸€è‡´çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613369054372.png&#34; alt=&#34;RPç«é€‰&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;RPç«é€‰ï¼š&lt;/strong&gt;&lt;br&gt;
C-RPå‘BSRå‘é€AdvertisementæŠ¥æ–‡&lt;code&gt;é€šè¿‡å•æ’­æ–¹å¼å‘é€ï¼ˆç›®æ ‡åœ°å€ä¸ºBSRåœ°å€ï¼Œæºåœ°å€ä¸ºC-RPåœ°å€ï¼‰&lt;/code&gt;ï¼ŒæŠ¥æ–‡ä¸­æºå¸¦C-RPåœ°å€ã€æœåŠ¡çš„ç»„èŒƒå›´å’ŒC-RPä¼˜å…ˆçº§ï¼ŒBSRå°†è¿™äº›ä¿¡æ¯æ±‡æ€»ä¸ºRPé›†ï¼Œç„¶ååœ¨æ•´ä¸ªç½‘ç»œä¸­æ³›æ´ªï¼Œå„PIMè·¯ç”±å™¨æ ¹æ®RPé›†ç«é€‰å‡ºè¯¥ç»„RPï¼Œç«é€‰è§„åˆ™å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ç”¨æˆ·åŠ å…¥çš„ç»„åœ°å€åŒ¹é…çš„C-RPæœåŠ¡çš„ç»„èŒƒå›´æ©ç æœ€é•¿è€…è·èƒœ&lt;/li&gt;
&lt;li&gt;C-RP&lt;strong&gt;ä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º0&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ‰§è¡ŒHashå€¼è¶Šå¤§è¶Šä¼˜&lt;code&gt;hashå€¼ç”±3éƒ¨åˆ†ç»„æˆï¼šç»„åœ°å€ã€RPåœ°å€ã€hashæ©ç é•¿åº¦ï¼ˆé»˜è®¤ä¸º30ï¼Œé™¤äº†ç”¨ä½œhashï¼Œè¿˜å¯ä»¥ç”¨æ¥åšRPçš„è´Ÿè½½ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;C-RPçš„IPè¶Šå¤§è¶Šä¼˜&lt;br&gt;
&lt;code&gt;æ€»ç»“ï¼šC-RPå‘¨æœŸï¼ˆ60ç§’ï¼‰æ€§å•æ’­å‘é€å€™é€‰ä¿¡æ¯ï¼Œè¶…æ—¶æ—¶é—´ä¸º150ç§’ï¼Œé€‰ä¸¾è§„åˆ™ï¼šæœåŠ¡èŒƒå›´å°çš„ã€ä¼˜å…ˆçº§å€¼å°çš„ä¼˜å…ˆçº§é«˜ã€hashç»“æœå¤§çš„ã€IPåœ°å€å¤§çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;å› æ­¤ï¼ŒRPå¹¶ä¸æ˜¯BSRé€‰å‡ºæ¥çš„ï¼Œæ˜¯ç”±å…¶ä»–PIMè·¯ç”±å™¨è‡ªå·±é€‰å‡ºæ¥çš„ï¼Œå…¶ä»–PIMè·¯ç”±å™¨ä¾æ®BSRå‘é€çš„RPé›†è¿›è¡Œé€‰ä¸¾çš„&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;3-rptæ„å»º&#34;&gt;3. RPTæ„å»º&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613369891769.png&#34; alt=&#34;RPTæ„å»º&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡ºç°æ¥æ”¶è€…æ—¶ï¼Œä»æ¥æ”¶è€…DRå¼€å§‹ï¼Œé€è·³å‘é€JoinæŠ¥æ–‡ï¼Œä¸­é—´çš„PIMè·¯ç”±å™¨ä¼šè¿›è¡ŒRPFæ£€æŸ¥&lt;sub&gt;æŸ¥æ‰¾åˆ°è¾¾RPçš„å•æ’­è·¯ç”±ï¼Œå•æ’­è·¯ç”±çš„å‡ºæ¥å£ä¸ºä¸Šæ¸¸æ¥å£ï¼Œä¸‹ä¸€è·³ä¸ºRPFé‚»å±…&lt;/sub&gt;ï¼Œç›´è‡³åˆ°RPï¼Œåœ¨é€šå‘RPçš„è·¯å¾„ä¸Šé€è·³åˆ›å»ºï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹ï¼Œç”Ÿæˆä¸€æ£µä»¥RPä¸ºæ ¹çš„RPTã€‚&lt;/p&gt;
&lt;h5 id=&#34;4-ç»„æ’­æºæ³¨å†Œ&#34;&gt;4. ç»„æ’­æºæ³¨å†Œ&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613370276319.png&#34; alt=&#34;ç»„æ’­æºæ³¨å†Œ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ–°å‡ºç°çš„ç»„æ’­æºéƒ½å¿…é¡»é¦–å…ˆåœ¨RPå¤„æ³¨å†Œï¼Œæ³¨å†Œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­æºå°†ç»„æ’­æŠ¥æ–‡å‘ç»™æºç«¯DR&lt;/li&gt;
&lt;li&gt;æºç«¯DRï¼ˆç¬¬ä¸€è·³è·¯ç”±å™¨ï¼‰æ¥æ”¶åˆ°ç»„æ’­æŠ¥æ–‡åï¼Œå°†å…¶å°è£…åœ¨RegisteræŠ¥æ–‡ä¸­ï¼ˆæºåœ°å€ä¸ºæºDRè¿æ¥ç»„æ’­æºæ¥å£çš„åœ°å€ï¼Œç›®çš„åœ°å€ä¸ºRPåœ°å€ï¼‰ï¼Œ&lt;strong&gt;å•æ’­&lt;/strong&gt;å‘é€ç»™RP&lt;code&gt;æ­¤æ—¶åœ¨æºDRå’ŒRPä¹‹é—´çš„è·¯ç”±å™¨ä¸Šå¹¶ä¸ä¼šäº§ç”Ÿï¼ˆSï¼ŒGï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RPæ¥æ”¶åˆ°RegisteræŠ¥æ–‡ï¼Œå°†å…¶è§£å°è£…ï¼Œè¿›è¡ŒRPFæ£€æŸ¥ï¼Œå»ºç«‹ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹&lt;sub&gt;è€åŒ–æ—¶é—´ä¸º210ç§’&lt;/sub&gt;ã€‚
&lt;ol&gt;
&lt;li&gt;å¦‚æœRPä¸Šå·²ç»æœ‰éœ€è¦è¯¥ç»„æ’­æºçš„ç»„æ’­ç»„ï¼Œé‚£ä¹ˆRPä¼šå°†ç»„æ’­æ•°æ®æ²¿RPTå‘é€åˆ°è¾¾ç»„æˆå‘˜ï¼Œå¹¶å‘æºDRå‘é€ï¼ˆSï¼ŒGï¼‰çš„JoinæŠ¥æ–‡&lt;sub&gt;ä¹‹åä¼šä»¥60ç§’ä¸ºå‘¨æœŸå‘é€ï¼Œä¸»è¦æ˜¯ç»´æŠ¤ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹&lt;/sub&gt;ï¼Œ&lt;strong&gt;åœ¨æºDRä¸RPä¹‹é—´çš„è·¯ç”±å™¨æ”¶åˆ°JoinæŠ¥æ–‡ä¹‹åä¼šå»ºç«‹ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹&lt;/strong&gt;ï¼ŒåŒæ—¶æºDRä¹Ÿä¼šåœæ­¢æ³¨å†Œè¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰éœ€è¦è¯¥ç»„æ’­æºçš„ç»„æ’­ç»„ï¼Œåˆ™å°†è¯¥ç»„æ’­æ•°æ®ä¸¢å¼ƒï¼Œå‘æºDRå•æ’­å‘é€åœæ­¢æ³¨å†Œæ¶ˆæ¯ï¼Œåœæ­¢æ³¨å†Œè¿‡ç¨‹&lt;code&gt;æ³¨å†Œåœæ­¢æŠ¥æ–‡è®¡æ—¶å™¨60ç§’ï¼Œå³åœæ­¢æ³¨å†ŒæŠ¥æ–‡åªæœ‰åœ¨ç»„æ’­æºæ³¨å†Œä¹‹åï¼Œä¸”æ²¡æœ‰æ¥å—è€…çš„æƒ…å†µä¸‹æ‰ä¼šå‘é€&lt;/code&gt;&lt;br&gt;
&lt;code&gt;PIM-SMä¸­ï¼Œå¶å°”ä¼šå‡ºç°çš„ç»„æ’­åˆå§‹æµé‡é€šï¼Œåç»­æµé‡ä¸é€šçš„æƒ…å†µï¼šæœ€å¼€å§‹æ˜¯å•æ’­æ³¨å†Œè½¬å‘&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;5-sptåˆ‡æ¢&#34;&gt;5. SPTåˆ‡æ¢&lt;/h5&gt;
&lt;p&gt;ä¸ºäº†è§£å†³æ‰€æœ‰ç»„æ’­æŠ¥æ–‡éƒ½å°è£…åœ¨æ³¨å†ŒæŠ¥æ–‡ä¸­ç»è¿‡RPè§£å°ä¹‹åå†æŒ‰ç…§RPTè½¬å‘ï¼Œå¯¼è‡´RPå‹åŠ›è¿‡å¤§çš„é—®é¢˜ï¼ŒPIM-SMå…è®¸&lt;strong&gt;RPæˆ–ç»„æˆå‘˜ç«¯DR&lt;/strong&gt;é€šè¿‡è§¦å‘SPTåˆ‡æ¢æ¥å‡è½»RPçš„è´Ÿæ‹…ï¼š&lt;br&gt;
&lt;code&gt;RPæˆ–è€…ç»„æˆå‘˜ç«¯DRåœ¨æ¥æ”¶åˆ°ç¬¬ä¸€ä»½ç»„æ’­æŠ¥æ–‡æ—¶éƒ½ä¼šè§¦å‘å„è‡ªçš„SPTåˆ‡æ¢ã€‚å¦‚æœSPTå’ŒRPTæ˜¯ä¸€æ£µæ ‘åˆ™æ²¡å¿…è¦è¿›è¡Œåˆ‡æ¢&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;RPè§¦å‘SPTåˆ‡æ¢
&lt;ol&gt;
&lt;li&gt;RPæ”¶åˆ°æºç«¯DRçš„æ³¨å†ŒæŠ¥æ–‡åï¼Œå°†å°è£…åœ¨æ³¨å†ŒæŠ¥æ–‡ä¸­çš„ç»„æ’­æŠ¥æ–‡æ²¿RPTè½¬å‘ç»™ç»„æˆå‘˜ï¼ŒåŒæ—¶RPä¼šå‘æºç«¯DRé€è·³å‘é€JoinæŠ¥æ–‡ã€‚å‘é€è¿‡ç¨‹ä¸­åœ¨PIMè·¯ç”±å™¨åˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œä»è€Œå»ºç«‹äº†&lt;strong&gt;RPåˆ°æºçš„SPT&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;SPTæ ‘å»ºç«‹æˆåŠŸåï¼Œ&lt;strong&gt;æºç«¯DRç›´æ¥å°†ç»„æ’­æŠ¥æ–‡è½¬å‘åˆ°RP&lt;/strong&gt;ï¼Œä¸éœ€è¦å†å°è£…åœ¨æ³¨å†ŒæŠ¥æ–‡ä¸­ï¼Œä½¿æºç«¯DRå’ŒRPå…é™¤äº†é¢‘ç¹çš„å°è£…ä¸è§£å°è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç»„æˆå‘˜ç«¯DRè§¦å‘SPTåˆ‡æ¢&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613370992390.png&#34; alt=&#34;SPTåˆ‡æ¢&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç»„æˆå‘˜ç«¯DRé€è·³å‘æºç«¯DRé€è·³å‘é€JoinæŠ¥æ–‡&lt;/strong&gt;å¹¶åˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œå»ºç«‹æºç«¯DRåˆ°æ¥æ”¶è€…DRçš„SPT&lt;/li&gt;
&lt;li&gt;SPTå»ºç«‹åï¼Œ&lt;strong&gt;ç»„æˆå‘˜ç«¯DRä¼šæ²¿ç€RPTé€è·³å‘RPå‘é€å‰ªææŠ¥æ–‡&lt;/strong&gt;ï¼Œåˆ é™¤ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ä¸­ç›¸åº”çš„ä¸‹æ¸¸æ¥å£ã€‚å‰ªæç»“æŸåï¼ŒRPä¸å†æ²¿RPTè½¬å‘ç»„æ’­æŠ¥æ–‡åˆ°ç»„æˆå‘˜ç«¯ã€‚&lt;code&gt;æ­¤å¤„çš„å‰ªæå’ŒPIM-DMä¸­ç•¥æœ‰ä¸åŒï¼ŒDMä¸­å‰ªæä¹‹åç«¯å£è¿˜ä¿ç•™åœ¨ç»„æ’­è¡¨ä¸­ï¼Œåªæ˜¯çŠ¶æ€ç”±è½¬å‘å˜ä¸ºå‰ªæï¼Œä½†æ˜¯SMä¸­æ˜¯ç›´æ¥ä»ç»„æ’­è¡¨ä¸­åˆ é™¤çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;SPTä¸ç»è¿‡RPï¼ŒRPä¼šç»§ç»­å‘æºç«¯DRé€è·³å‘é€å‰ªææŠ¥æ–‡&lt;/strong&gt;ï¼Œåˆ é™¤ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ä¸­ç›¸åº”çš„ä¸‹æ¸¸æ¥å£ã€‚å‰ªæç»“æŸåï¼Œæºç«¯DRä¸å†æ²¿â€œæºç«¯DR-RPâ€çš„SPTè½¬å‘ç»„æ’­æŠ¥æ–‡åˆ°RPã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;6-æ–­è¨€assert&#34;&gt;6. æ–­è¨€Assert&lt;/h5&gt;
&lt;p&gt;æ–­è¨€æœºåˆ¶ä¸PIM-DMä¸­çš„ç›¸åŒ&lt;/p&gt;
&lt;h4 id=&#34;ç‰¹æ®Šåœºæ™¯&#34;&gt;ç‰¹æ®Šåœºæ™¯&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613389903520.png&#34; alt=&#34;ç‰¹æ®Šåœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿™ä¸ªåœºæ™¯ä¸‹PCå¯ä»¥æ¥æ”¶åˆ°ç»„æ’­æµé‡ï¼ŒåŸå› æ˜¯SPTåˆ‡æ¢ã€‚ä½†æ˜¯åä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹ä¸æ˜¯ä¾èµ–SPTåˆ‡æ¢å®ç°ï¼Œæ˜¯é€šè¿‡ç¬¬ä¸€è·³è·¯ç”±å™¨ä¸æ–­çš„å‘é€AssertæŠ¥æ–‡å®ç°çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;pim-smssmæ¨¡å‹&#34;&gt;PIM-SMï¼ˆSSMæ¨¡å‹ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;åŸºæœ¬åŸç†-2&#34;&gt;åŸºæœ¬åŸç†&lt;/h4&gt;
&lt;p&gt;SSMæ¨¡å‹æ˜¯å€ŸåŠ©&lt;strong&gt;PIM-SMçš„éƒ¨åˆ†æŠ€æœ¯å’ŒIGMPv3/MLDv2&lt;/strong&gt;æ¥å®ç°çš„ï¼Œ&lt;strong&gt;æ— éœ€ç»´æŠ¤RPã€æ„å»ºRPTã€æ³¨å†Œç»„æ’­æº&lt;/strong&gt;ï¼Œå¯ä»¥&lt;strong&gt;ç›´æ¥åœ¨æºä¸ç»„æˆå‘˜ä¹‹é—´å»ºç«‹SPT&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;SSMç‰¹ç‚¹&lt;/strong&gt;ï¼šç½‘ç»œç”¨æˆ·èƒ½&lt;strong&gt;å¤Ÿé¢„å…ˆçŸ¥é“ç»„æ’­æºçš„å…·ä½“ä½ç½®&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨SSMæ¨¡å‹ä¸­ï¼ŒPIM-SMçš„å…³é”®æœºåˆ¶åŒ…æ‹¬é‚»å±…å‘ç°ã€DRç«é€‰ã€æ„å»ºSPTã€‚&lt;/p&gt;
&lt;h4 id=&#34;å·¥ä½œæœºåˆ¶-6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h4&gt;
&lt;h5 id=&#34;1-é‚»å±…å‘ç°å’Œdrç«é€‰-2&#34;&gt;1. é‚»å±…å‘ç°å’ŒDRç«é€‰&lt;/h5&gt;
&lt;p&gt;æ­¤è¿‡ç¨‹å’ŒPIM-SMï¼ˆASMæ¨¡å‹ï¼‰ä¸­çš„ç›¸åŒ&lt;/p&gt;
&lt;h5 id=&#34;2-sptæ„å»º&#34;&gt;2. SPTæ„å»º&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613373441266.png&#34; alt=&#34;SPTæ„å»º&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;RouterDã€RouterEå€ŸåŠ©IGMPv3/MLDv2åè®®äº†è§£åˆ°&lt;strong&gt;ç”¨æˆ·ä¸»æœºæœ‰åˆ°ç›¸åŒç»„æ’­ç»„ï¼Œä½†æ˜¯ä¸åŒç»„æ’­æºçš„ç»„æ’­éœ€è¦&lt;/strong&gt;ï¼Œé€è·³å‘æºæ–¹å‘å‘é€JoinæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;PIMè·¯ç”±å™¨é€šè¿‡JoinæŠ¥æ–‡åˆ†åˆ«åˆ›å»ºï¼ˆS1ï¼ŒGï¼‰ã€ï¼ˆS2ï¼ŒGï¼‰è¡¨é¡¹ï¼Œä»è€Œåˆ†åˆ«å»ºç«‹äº†æºS1åˆ°ç»„æˆå‘˜HostAã€æºS2åˆ°ç»„æˆå‘˜HostBçš„SPT&lt;/li&gt;
&lt;li&gt;SPTå»ºç«‹åï¼Œæºç«¯å°±ä¼šå°†ç»„æ’­æŠ¥æ–‡æ²¿ç€SPTåˆ†å‘ç»™ç»„æˆå‘˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ssmä¸asmæ¨¡å‹æ¯”è¾ƒ&#34;&gt;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;SSMæ¨¡å‹ä¸ASMæ¨¡å‹ä¹‹é—´çš„æœ€å¤§å·®å¼‚å°±æ˜¯æ˜¯å¦æŒ‡å®šäº†ç»„æ’­æº&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613374814256.png&#34; alt=&#34;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;gä¸sgæ¡ç›®å…³ç³»&#34;&gt;ï¼ˆ*ï¼ŒGï¼‰ä¸ï¼ˆSï¼ŒGï¼‰æ¡ç›®å…³ç³»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596965258370.png&#34; alt=&#34;æ¡ç›®å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;msdp&#34;&gt;MSDP&lt;/h2&gt;
&lt;p&gt;ç»„æ’­æºå‘ç°åè®®ï¼Œè§£å†³å¤šä¸ªPIM-SMåŸŸä¹‹é—´çš„äº’è¿çš„ä¸€ç§åŸŸé—´ç»„æ’­åè®®ï¼Œç”¨æ¥å‘ç°å…¶ä»–PIM-SMåŸŸå†…çš„ç»„æ’­æºä¿¡æ¯ï¼Œå®ç°ç»„æ’­æŠ¥æ–‡çš„è·¨åŸŸè½¬å‘ã€‚&lt;strong&gt;åªæœ‰IPv4ç½‘ç»œä¸­PIM-SMä½¿ç”¨ASMæ¨¡å‹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨MSDP&lt;/strong&gt;ã€‚&lt;br&gt;
SDPé€šè¿‡åœ¨ä¸åŒPIM-SMåŸŸçš„è·¯ç”±å™¨ï¼ˆé€šå¸¸åœ¨RPä¸Šï¼‰ä¹‹é—´å»ºç«‹MSDPå¯¹ç­‰ä½“ï¼ŒMSDPå¯¹ç­‰ä½“ä¹‹é—´äº¤äº’SAï¼ˆSource-Activeï¼‰æ¶ˆæ¯ï¼Œå…±äº«ç»„æ’­æºä¿¡æ¯ï¼Œæœ€ç»ˆå¯ä»¥ä½¿ä¸€ä¸ªåŸŸå†…çš„ç»„æ’­ç”¨æˆ·æ¥æ”¶åˆ°å…¶ä»–åŸŸçš„ç»„æ’­æºå‘é€çš„ç»„æ’­æ•°æ®&lt;/p&gt;
&lt;h3 id=&#34;ä»»æ„æ’­anycast&#34;&gt;ä»»æ„æ’­Anycast&lt;/h3&gt;
&lt;p&gt;ä»»æ„æ’­åœ°å€æ˜¯ä»å•æ’­åœ°å€ç©ºé—´ä¸­åˆ’åˆ†å‡ºæ¥çš„ã€‚å½“&lt;strong&gt;ä¸€ä¸ªå•æ’­åœ°å€åˆ†é…ç»™å¤šä¸ªæ¥å£&lt;/strong&gt;ï¼Œå°±å˜æˆäº†ä»»æ„æ’­åœ°å€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»»æ„æ’­åœ°å€æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦å¯¹åº”å¤šä¸ªæ¥å£çš„æƒ…å†µã€‚å¦‚æœä¸€ä¸ªæ•°æ®æŠ¥æ–‡è¦æ±‚è¢«ä¼ é€åˆ°ä¸€ä¸ªä»»æ„ç‚¹åœ°å€ï¼Œåˆ™å°†è¢«ä¼ é€åˆ°æœ€è¿‘ä¸€ä¸ªæ¥å£ï¼ˆè·¯ç”±å™¨å†³å®šï¼‰&lt;/li&gt;
&lt;li&gt;å•æ’­å°±æ˜¯ä¸€å¯¹ä¸€ï¼›ä»»æ„æ³¢å°±æ˜¯&lt;strong&gt;ä¸€å¯¹æœ€è¿‘&lt;/strong&gt;ï¼›ç»„æ’­å°±æ˜¯ä¸€å¯¹å¤š&lt;/li&gt;
&lt;li&gt;ä»»æ„æ’­æ˜¯æŒ‡æŸç»„ä¸­ä»»æ„å‘é€æ–¹å¯¹åº”æ‹“æœ´ç»“æ„ä¸­å‡ ä¸ª&lt;strong&gt;æœ€æ¥è¿‘çš„æ¥æ”¶æ–¹&lt;/strong&gt;ä¹‹é—´çš„é€šä¿¡&lt;/li&gt;
&lt;li&gt;ä»»æ„æ’­æ˜¯&lt;strong&gt;IPv6 ä¸­æ›´æ–°è·¯ç”±è¡¨æ—¶æ‰€é‡‡ç”¨çš„ä¸€ç§æ–¹æ³•&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Anycast RP&lt;/strong&gt;(ä»»æ’­RP)æ˜¯æŒ‡åœ¨&lt;strong&gt;åŒä¸€PIM-SMåŸŸå†…é€šè¿‡è®¾ç½®ä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰ç›¸åŒåœ°å€çš„RP&lt;/strong&gt;ï¼Œå¹¶åœ¨è¿™äº›RPä¹‹é—´å»ºç«‹MSDPå¯¹ç­‰ä½“å…³ç³»ï¼Œ&lt;code&gt;ä»¥å®ç°åŸŸå†…å„RPä¹‹é—´çš„è´Ÿè½½åˆ†æ‹…å’Œå†—ä½™å¤‡ä»½&lt;/code&gt;ï¼ŒåŒæ—¶ä¹Ÿèƒ½&lt;strong&gt;é¿å…æ¬¡ä¼˜è·¯å¾„&lt;/strong&gt;çš„é—®é¢˜ï¼ˆå› ä¸ºä»»æ„æ’­æ˜¯æ‰¾æœ€è¿‘çš„ï¼‰&lt;code&gt;ã€é™æ€RPå¤‡ä»½çš„åŸç†ã€‘&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;msdpå¯¹ç­‰ä½“å»ºç«‹&#34;&gt;MSDPå¯¹ç­‰ä½“å»ºç«‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨MSDPå®ç°è·¨åŸŸç»„æ’­çš„é¦–è¦ä»»åŠ¡æ˜¯ï¼š&lt;strong&gt;å»ºç«‹MSDPå¯¹ç­‰ä½“ï¼ŒMSDPå¯¹ç­‰ä½“é€šå¸¸å»ºç«‹åœ¨RPä¸Š&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MSDPå¯¹ç­‰ä½“&lt;strong&gt;é€šè¿‡TCPè¿æ¥å»ºç«‹ï¼Œä½¿ç”¨ç«¯å£639&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤å°è®¾å¤‡ä½¿èƒ½MSDPå¹¶äº’ç›¸æŒ‡å®šå¯¹æ–¹ä¸ºMSDPå¯¹ç­‰ä½“åï¼Œä¸¤ç«¯&lt;strong&gt;å…ˆæ¯”è¾ƒIPåœ°å€ï¼ŒIPåœ°å€è¾ƒå°çš„ä¸€ç«¯ä¼šå¯åŠ¨è¿æ¥é‡è¯•å®šæ—¶å™¨ï¼Œå¹¶ä¸»åŠ¨å‘èµ·TCPè¿æ¥ï¼Œé€šè¿‡keepaliveç»´æŒ&lt;/strong&gt;ï¼Œ&lt;strong&gt;IPåœ°å€è¾ƒå¤§çš„ä¸€ç«¯è´Ÿè´£ç¡®è®¤&lt;/strong&gt;æ˜¯å¦æœ‰TCPè¿æ¥åœ¨ç«¯å£639å»ºç«‹&lt;/li&gt;
&lt;li&gt;é€šå¸¸åœ¨å„ä¸ªPIM-SMåŸŸçš„&lt;strong&gt;RPä¹‹é—´é…ç½®MSDPå¯¹ç­‰ä½“å…³ç³»&lt;/strong&gt;ï¼ŒMSDPå¯¹ç­‰ä½“ä¹‹é—´äº¤äº’SAæ¶ˆæ¯ï¼Œ&lt;strong&gt;SAæ¶ˆæ¯ä¸­æºå¸¦ç»„æ’­æºDRåœ¨RPä¸Šæ³¨å†Œæ—¶çš„ï¼ˆSï¼ŒGï¼‰ä¿¡æ¯&lt;/strong&gt;ã€‚é€šè¿‡è¿™äº›MSDPå¯¹ç­‰ä½“ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’ï¼Œä»»æ„ä¸€ä¸ªRPå‘å‡ºçš„SAæ¶ˆæ¯èƒ½å¤Ÿè¢«å…¶ä»–æ‰€æœ‰çš„RPæ”¶åˆ°&lt;code&gt;å“ªäº›RPå¿…é¡»é…ç½®å¯¹ç­‰ä½“ï¼ŸæºRPå’Œæ¥æ”¶è€…RPå¿…é¡»é…ç½®msdpï¼Œå› ä¸ºè¿™ä¸¤ä¸ªRPçŸ¥é“ç»„æ’­æºå’Œç»„æ’­æ¥æ”¶è€…çš„ä¿¡æ¯ã€‚å…¶ä»–çš„msdpå¯¹ç­‰ä½“ä¸ä¸€å®šé…ç½®åœ¨RPä¸Š&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;çŠ¶æ€æœºï¼šdownã€listenã€connectã€up&lt;/li&gt;
&lt;li&gt;MSDPæŠ¥æ–‡ï¼šIPå¤´+TCPå¤´+TLVæ ¼å¼å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613393808332.png&#34; alt=&#34;MSDPå¯¹ç­‰ä½“å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;èµ·å§‹çŠ¶æ€ä¸‹ï¼Œä¸¤å°è·¯ç”±å™¨çš„MSDPä¼šè¯çŠ¶æ€éƒ½æ˜¯Down&lt;/li&gt;
&lt;li&gt;åœ¨ä¸¤ç«¯ä½¿èƒ½MSDPå¹¶äº’ç›¸æŒ‡å®šå¯¹æ–¹ä¸ºMSDPå¯¹ç­‰ä½“åï¼Œä¸¤ç«¯æ¯”è¾ƒå»ºç«‹è¿æ¥ä½¿ç”¨çš„åœ°å€ï¼š
&lt;ol&gt;
&lt;li&gt;RouterAçš„åœ°å€è¾ƒå°ï¼Œè¿›å…¥ConnectçŠ¶æ€ï¼Œå‘RouterBå‘èµ·è¿æ¥ï¼Œå¹¶å¯åŠ¨ConnectRetryå®šæ—¶å™¨ï¼Œè¯¥å®šæ—¶å™¨ç”¨äºå®šä¹‰è¿æ¥é‡è¯•çš„å‘¨æœŸ&lt;/li&gt;
&lt;li&gt;RouterBçš„åœ°å€è¾ƒå¤§ï¼Œè¿›å…¥ListençŠ¶æ€ï¼Œç­‰å¾…å¯¹ç«¯è¿›è¡Œè¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;TCPè¿æ¥å»ºç«‹æˆåŠŸåï¼Œä¸¤ç«¯çš„MSDPä¼šè¯è¿›å…¥UpçŠ¶æ€&lt;/li&gt;
&lt;li&gt;MSDPå¯¹ç­‰ä½“ä¸¤ç«¯å‘é€KeepAliveæ¶ˆæ¯ï¼Œé€šçŸ¥å¯¹æ–¹ä¿æŒMSDPè¿æ¥çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&#34;&gt;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613393926457.png&#34; alt=&#34;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å½“PIM-SM1åŸŸå†…çš„ç»„æ’­æºSourceå‘ç»„æ’­ç»„Gå‘é€ç¬¬ä¸€ä¸ªç»„æ’­æ•°æ®åŒ…æ—¶ï¼ŒDR1å°†è¯¥ç»„æ’­æ•°æ®å°è£…åœ¨æ³¨å†ŒæŠ¥æ–‡ä¸­ï¼Œå¹¶å‘ç»™RP1&lt;/li&gt;
&lt;li&gt;RP1ä½œä¸ºæºç«¯RPï¼Œåˆ›å»ºSAæ¶ˆæ¯ï¼Œå¹¶å‘¨æœŸæ€§åœ°å‘å®ƒçš„å¯¹ç­‰ä½“RP2å‘é€ï¼ŒSAæ¶ˆæ¯ä¸­åŒ…å«ç»„æ’­æºçš„åœ°å€ã€ç»„æ’­ç»„çš„åœ°å€ä»¥åŠåˆ›å»ºè¯¥SAæ¶ˆæ¯çš„æºç«¯RPï¼ˆå³RP1ï¼‰çš„åœ°å€&lt;/li&gt;
&lt;li&gt;RP2æ¥æ”¶åˆ°è¯¥SAæ¶ˆæ¯åï¼Œå‘RP3è½¬å‘ï¼ŒåŒæ—¶æ£€æŸ¥æœ¬åŸŸå†…æ˜¯å¦å­˜åœ¨ç»„Gæˆå‘˜ã€‚ç”±äºPIM-SM2åŸŸå†…æ²¡æœ‰ç»„Gçš„æ¥æ”¶è€…ï¼Œæ•…RP2ä¸åšå…¶ä»–åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;RP3æ¥æ”¶åˆ°è¯¥SAæ¶ˆæ¯åï¼ŒåŸŸå†…å­˜åœ¨ç»„Gæˆå‘˜ï¼Œåˆ™é€šè¿‡IGMPåè®®åœ¨RP3ä¸Šç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹ï¼Œç„¶ååˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œå‘ç»„æ’­æºSourceé€è·³å‘é€ï¼ˆSï¼ŒGï¼‰åŠ å…¥æŠ¥æ–‡ï¼Œåˆ›å»ºä¸€æ¡ä»Sourceåˆ°RP3çš„ç»„æ’­è·¯å¾„SPT&lt;/li&gt;
&lt;li&gt;ç»„æ’­æ•°æ®æ²¿SPTåˆ°è¾¾RP3åï¼Œå†æ²¿RPTå‘æ¥æ”¶è€…è½¬å‘ï¼Œå½“æ¥æ”¶è€…ä¾§DR3æ”¶åˆ°Sourceå‘å‡ºçš„ç»„æ’­æ•°æ®åï¼Œå¯ä»¥è‡ªè¡Œå†³å®šæ˜¯å¦å‘èµ·SPTåˆ‡æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;h4 id=&#34;msdpå®ç°aså†…pim-småŸŸé—´ç»„æ’­&#34;&gt;MSDPå®ç°ASå†…PIM-SMåŸŸé—´ç»„æ’­&lt;/h4&gt;
&lt;p&gt;ç»„æ’­æºå’Œç»„æˆå‘˜å¤„äºåŒä¸€ASå†…ä¸åŒPIM-SMåŸŸé—´ï¼Œå¯ä»¥åœ¨RPä¸Šé…ç½®MSDPå¯¹ç­‰ä½“ï¼Œå®ç°åŸŸé—´ç»„æ’­&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613398349937.png&#34; alt=&#34;MSDPå®ç°ASå†…PIM-SMåŸŸé—´ç»„æ’­&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨ä¸¤ä¸ªPIM-SMåŸŸçš„RPä¹‹é—´é…ç½®MSDPå¯¹ç­‰ä½“ï¼Œå¯ä»¥å…±äº«å¯¹æ–¹åŸŸå†…çš„ç»„æ’­æºä¿¡æ¯ã€‚&lt;br&gt;
&lt;strong&gt;ã€æ³¨æ„ã€‘&lt;/strong&gt;ï¼šå¤šä¸ªRPé…ç½®ç›¸åŒåœ°å€çš„æƒ…å†µä¸‹ï¼ˆå³Anycast RPï¼Œé¿å…æ¬¡ä¼˜çš„é—®é¢˜ï¼‰ï¼Œå»ºç«‹msdpå¯¹ç­‰ä½“çš„æ—¶å€™ï¼Œéœ€è¦ä¿®æ”¹msdpæŠ¥æ–‡ä¸­RPçš„å†…å®¹&lt;code&gt;åœ¨msdpè¿›ç¨‹ä¸‹ï¼šoriginating-rp g0/0/0&lt;/code&gt;ï¼Œä¸»è¦æ˜¯ä¿®æ”¹SAæŠ¥æ–‡ä¸­RPçš„åœ°å€ï¼Œä½¿ç”¨ç‰©ç†æ¥å£çš„åœ°å€å……å½“RPçš„åœ°å€ï¼Œä»è€Œé¿å…RPFæ£€æŸ¥ä¸é€šè¿‡çš„é—®é¢˜ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åœ¨pimè¿›ç¨‹ä¸‹ç›´æ¥é…ç½®anycast-rpåœ°å€ï¼Œç„¶åé…ç½®é‚»å±…åœ°å€å’Œæœ¬åœ°åœ°å€ï¼ˆå‘æŠ¥åœ°å€ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»„æ’­ä¸­é™æ€RPçš„å¤‡ä»½æ–¹å¼åŠåŸç†ï¼š&lt;strong&gt;ä½¿ç”¨AnycastæŠ€æœ¯ï¼Œå¹¶é…ç½®MSDP&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;mbgp&#34;&gt;MBGP&lt;/h2&gt;
&lt;p&gt;è·¨ASåŸŸçš„ç»„æ’­è½¬å‘ï¼Œé€‚ç”¨äºç»„æ’­æºä¸ç»„æ’­æ¥æ”¶è€…åœ¨ä¸åŒASåŸŸçš„åœºæ™¯&lt;/p&gt;
&lt;h1 id=&#34;ç»„æ’­åŒæ ˆæŠ€æœ¯&#34;&gt;ç»„æ’­åŒæ ˆæŠ€æœ¯&lt;/h1&gt;
&lt;h2 id=&#34;mld&#34;&gt;MLD&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­ä¾¦å¬è€…å‘ç°åè®®ï¼Œè´Ÿè´£IPv6ç»„æ’­æˆå‘˜ç®¡ç†çš„åè®®ï¼Œç”¨åœ¨IPv6æˆå‘˜ä¸»æœºå’Œä¸å…¶ç›´æ¥ç›¸é‚»çš„ç»„æ’­è·¯ç”±å™¨ä¹‹é—´&lt;/li&gt;
&lt;li&gt;MLDé€šè¿‡åœ¨æˆå‘˜ä¸»æœºå’Œç»„æ’­è·¯ç”±å™¨ä¹‹é—´äº¤äº’MLDæŠ¥æ–‡å®ç°ç»„æˆå‘˜ç®¡ç†åŠŸèƒ½ï¼ŒMLDæŠ¥æ–‡å°è£…åœ¨IPv6æŠ¥æ–‡ä¸­&lt;/li&gt;
&lt;li&gt;MLDå¯ä»¥ç†è§£ä¸ºIGMPçš„IPv6ç‰ˆæœ¬ï¼Œä¸¤è€…çš„åè®®è¡Œä¸ºå®Œå…¨ç›¸åŒï¼ŒåŒºåˆ«ä»…ä»…åœ¨äºæŠ¥æ–‡æ ¼å¼&lt;/li&gt;
&lt;li&gt;MLDv1å¯¹åº”IGMPv2ï¼ŒåŸºäºæŸ¥è¯¢å’Œå“åº”æœºåˆ¶å®Œæˆå¯¹IPv6ç»„æ’­ç»„æˆå‘˜çš„ç®¡ç†ï¼›MLDv2å¯¹åº”IGMPv3ã€‚MLDv2åœ¨MLDv1çš„åŸºç¡€ä¸Šï¼Œå¢åŠ çš„ä¸»è¦åŠŸèƒ½æ˜¯æˆå‘˜ä¸»æœºå¯ä»¥æŒ‡å®šæ¥æ”¶æˆ–ä¸æ¥æ”¶æŸäº›ç»„æ’­æºçš„æŠ¥æ–‡ã€‚MLDå‘å‰å…¼å®¹ï¼Œå³è¿è¡ŒMLDv2çš„ç»„æ’­è·¯ç”±å™¨å¯ä»¥è¯†åˆ«MLDv1çš„åè®®æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰MLDç‰ˆæœ¬éƒ½æ”¯æŒASMï¼ŒMLDv2å¯ä»¥ç›´æ¥åº”ç”¨äºSSMæ¨¡å‹ï¼Œè€ŒMLDv1åˆ™éœ€è¦MLD SSM MappingæŠ€æœ¯çš„æ”¯æŒæ‰å¯ä»¥åº”ç”¨äºSSMæ¨¡å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv4-ipv6-ç»„æ’­ç½‘ç»œä¸­åº”ç”¨çš„åè®®æ¯”è¾ƒ&#34;&gt;IPv4ã€IPv6 ç»„æ’­ç½‘ç»œä¸­åº”ç”¨çš„åè®®æ¯”è¾ƒ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613402586756.png&#34; alt=&#34;åº”ç”¨çš„åè®®æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯åµŒå…¥å¼rpåŠŸèƒ½&#34;&gt;ä»€ä¹ˆæ˜¯åµŒå…¥å¼RPåŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;ä½¿èƒ½äº†PIM-SMï¼ˆIPv6ï¼‰çš„è®¾å¤‡éƒ½ä¼šé»˜è®¤ä½¿èƒ½åµŒå…¥å¼RPåŠŸèƒ½ï¼Œå½“è®¾å¤‡æ”¶åˆ°ç»„æ’­æŠ¥æ–‡åï¼Œç›´æ¥ä»IPv6ç»„æ’­åœ°å€ä¸­è§£æå‡ºRPåœ°å€ï¼Œè€Œ&lt;strong&gt;æ— éœ€å†é¢„å…ˆçŸ¥é“RPçš„ä¿¡æ¯&lt;/strong&gt;ï¼Œä»è€Œ&lt;strong&gt;å–ä»£é™æ€é…ç½®RPæˆ–ç”±BSRåŠ¨æ€è®¡ç®—çš„RP&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä½¿ç”¨åµŒå…¥å¼RPçš„ç»„æ’­ç»„åœ°å€èŒƒå›´æ˜¯FF7x::/16å’ŒFFFx::/16&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;ipv6ç»„æ’­åœ°å€ä¸macåœ°å€æ˜ å°„&#34;&gt;IPv6ç»„æ’­åœ°å€ä¸MACåœ°å€æ˜ å°„&lt;/h2&gt;
&lt;p&gt;ç»„æ’­IPv6æŠ¥æ–‡çš„ç›®çš„IPåœ°å€æ˜¯ç»„æ’­IPv6åœ°å€ï¼Œè€Œç›®çš„MACåœ°å€åˆ™å¿…é¡»æ˜¯ç»„æ’­MACåœ°å€ï¼Œå¹¶ä¸”è¯¥åœ°å€å¿…é¡»ä¸ç»„æ’­IPv6åœ°å€å¯¹åº”ã€‚&lt;strong&gt;33-33æ˜¯ä¸“é—¨ä¸ºIPv6ç»„æ’­é¢„ç•™çš„MACåœ°å€å‰ç¼€&lt;/strong&gt;ï¼Œ&lt;strong&gt;MACåœ°å€çš„å32bitä»å¯¹åº”çš„ç»„æ’­IPv6åœ°å€çš„å32bitæ‹·è´è€Œæ¥&lt;/strong&gt;ï¼ŒIPv6åœ°å€æ˜ å°„ä¼šä¸¢å¤±æ›´å¤šçš„ä¿¡æ¯ï¼Œæ‰€ä»¥IPv6ä¸­ä¼šæœ‰æ›´å¤šçš„ç»„åœ°å€ç”¨åŒä¸€ä¸ªMACåœ°å€&lt;code&gt;FF00::/8æ˜¯IPV6ç»„æ’­åœ°å€å‰ç¼€&lt;/code&gt;&lt;br&gt;
å¦‚å›¾ï¼ŒIPv6ç»„æ’­åœ°å€FF01::1111:1çš„MACåœ°å€æ˜ å°„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613403041176.png&#34; alt=&#34;IPv6ç»„æ’­åœ°å€ä¸MACåœ°å€æ˜ å°„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;ç»„æ’­ç‰¹ç‚¹&#34;&gt;ç»„æ’­ç‰¹ç‚¹&lt;/h2&gt;
&lt;h3 id=&#34;ä¼˜åŠ¿&#34;&gt;ä¼˜åŠ¿&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æé«˜æ•ˆç‡ï¼šé™ä½ç½‘ç»œæµé‡ã€å‡è½»ç¡¬ä»¶è´Ÿè·&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–æ€§èƒ½ï¼šå‡å°‘å†—ä½™æµé‡ã€èŠ‚çº¦ç½‘ç»œå¸¦å®½ã€é™ä½ç½‘ç»œè´Ÿè½½&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼åº”ç”¨ï¼šä½¿å¤šç‚¹åº”ç”¨æˆä¸ºå¯èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŠ£åŠ¿&#34;&gt;åŠ£åŠ¿&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æ’­æ˜¯&lt;strong&gt;åŸºäºUDPçš„&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;å°½åŠ›è€Œä¸º&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰æ‹¥å¡é¿å…æœºåˆ¶&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡é‡å¤&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡å¤±åº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åº”ç”¨-2&#34;&gt;åº”ç”¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¤šåª’ä½“&lt;/li&gt;
&lt;li&gt;åŸ¹è®­ã€è”åˆä½œä¸šåœºåˆçš„é€šä¿¡&lt;/li&gt;
&lt;li&gt;æ•°æ®ä»“åº“ã€é‡‘èåº”ç”¨ï¼ˆè‚¡ç¥¨ï¼‰&lt;/li&gt;
&lt;li&gt;ä»»ä½•çš„â€œå•åˆ°å¤šâ€æ•°æ®å‘å¸ƒåº”ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ç»„æ’­&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ç»„æ’­&lt;/h2&gt;
&lt;p&gt;å¯ä»¥é™ä½ç½‘ç»œæµé‡ï¼Œå‡è½»æœåŠ¡å™¨è´Ÿæ‹…ï¼Œå‡å°‘å†—ä½™æµé‡ï¼ŒèŠ‚çº¦å¸¦å®½ï¼Œå¯ä»¥ç‚¹å¯¹å¤šç‚¹&lt;/p&gt;
">ç»„æ’­</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/bgp-xie-yi/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%8A%A5%E6%96%87&#34;&gt;BGPæŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#open&#34;&gt;Open&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#4%E5%AD%97%E8%8A%82as%E5%8F%B7&#34;&gt;4å­—èŠ‚ASå·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#update&#34;&gt;Update&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notification&#34;&gt;Notification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#keepalive&#34;&gt;KeepAlive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#route-refresh&#34;&gt;Route-refresh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;çŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93&#34;&gt;BGPçš„æ•°æ®åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E&#34;&gt;è·¯ç”±é»‘æ´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%A3%E5%86%B3%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E%E6%96%B9%E6%B3%95&#34;&gt;è§£å†³è·¯ç”±é»‘æ´æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E7%94%B1%E9%80%9A%E5%91%8A%E5%8E%9F%E5%88%99&#34;&gt;BGPè·¯ç”±é€šå‘ŠåŸåˆ™&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%90%86%E8%A7%A3&#34;&gt;ç†è§£&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9D%A5%E6%BA%90&#34;&gt;BGPè·¯ç”±çš„æ¥æº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%AC%E8%AE%A4%E5%BF%85%E9%81%B5well-known-mondatory%E5%91%A8%E7%9F%A5%E5%BC%BA%E5%88%B6&#34;&gt;å…¬è®¤å¿…éµWell-known mondatoryï¼ˆå‘¨çŸ¥å¼ºåˆ¶ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-origin%E8%B5%B7%E6%BA%90&#34;&gt;1. Originï¼šèµ·æº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-as_pathas%E8%B7%AF%E5%BE%84&#34;&gt;2. AS_Pathï¼šASè·¯å¾„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-next_hop%E4%B8%8B%E4%B8%80%E8%B7%B3&#34;&gt;3. Next_Hopï¼šä¸‹ä¸€è·³&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%AC%E8%AE%A4%E4%BB%BB%E6%84%8Fwell-known-discretionary%E5%91%A8%E7%9F%A5%E5%8F%AF%E9%80%89&#34;&gt;å…¬è®¤ä»»æ„Well-known discretionaryï¼ˆå‘¨çŸ¥å¯é€‰ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-local_pref%E6%9C%AC%E5%9C%B0%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;1. Local_Prefï¼šæœ¬åœ°ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-atomic_aggregate%E5%8E%9F%E5%AD%90%E8%81%9A%E5%90%88&#34;&gt;2. Atomic_Aggregateï¼šåŸå­èšåˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%AF%E9%80%89%E5%8F%AF%E4%BC%A0%E9%80%92optional-transitive%E8%BF%87%E6%B8%A1&#34;&gt;å¯é€‰å¯ä¼ é€’Optional transitiveï¼ˆè¿‡æ¸¡ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-aggregator%E8%81%9A%E5%90%88%E8%80%85&#34;&gt;1. Aggregatorï¼šèšåˆè€…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-community%E5%9B%A2%E4%BD%93&#34;&gt;2. Communityï¼šå›¢ä½“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%AF%E9%80%89%E9%9D%9E%E5%8F%AF%E4%BC%A0%E9%80%92optional-non-transitive%E9%9D%9E%E8%BF%87%E6%B8%A1&#34;&gt;å¯é€‰éå¯ä¼ é€’Optional non-transitiveï¼ˆéè¿‡æ¸¡ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-multi_exit_discmed%E5%A4%9A%E5%87%BA%E5%8F%A3%E5%88%86%E7%A6%BB%E5%99%A8&#34;&gt;1. Multi_Exit_Disc(MED)ï¼šå¤šå‡ºå£åˆ†ç¦»å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-originator_id%E8%B5%B7%E6%BA%90id&#34;&gt;2. Originator_IDï¼šèµ·æºID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-cluster_list&#34;&gt;3. Cluster_List&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E9%80%89%E8%B7%AF%E5%8E%9F%E5%88%99&#34;&gt;BGPé€‰è·¯åŸåˆ™&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-preferred-value%E9%A6%96%E9%80%89%E9%A1%B9&#34;&gt;1. Preferred-Valueï¼ˆé¦–é€‰é¡¹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-local-preference%E6%9C%AC%E5%9C%B0%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;2. Local-Preferenceï¼ˆæœ¬åœ°ä¼˜å…ˆçº§ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%9C%AC%E5%9C%B0%E8%B5%B7%E6%BA%90%E8%AF%84%E4%BC%B0&#34;&gt;3. æœ¬åœ°èµ·æºè¯„ä¼°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-as-path&#34;&gt;4. as-path&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E8%B7%AF%E7%94%B1%E8%B5%B7%E6%BA%90%E4%BB%A3%E7%A0%81&#34;&gt;5. è·¯ç”±èµ·æºä»£ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-med%E5%80%BC%E5%8D%B3cost%E5%80%BC&#34;&gt;6. MEDå€¼ï¼ˆå³costå€¼ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-ebgpibgp&#34;&gt;7. EBGP&amp;gt;IBGP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8-bgp%E4%B8%8B%E4%B8%80%E8%B7%B3%E7%9A%84igp%E5%BA%A6%E9%87%8F&#34;&gt;8. BGPä¸‹ä¸€è·³çš„IGPåº¦é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#9-cluster-list&#34;&gt;9. Cluster-List&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#10-routerid%E9%9D%9Err%E5%8F%8D%E5%B0%84%E7%9A%84%E8%B7%AF%E7%94%B1originator_id%E7%BB%8F%E8%BF%87rr%E5%8F%8D%E5%B0%84%E7%9A%84%E8%B7%AF%E7%94%B1&#34;&gt;10.  RouterIDï¼ˆéRRåå°„çš„è·¯ç”±ï¼‰/Originator_IDï¼ˆç»è¿‡RRåå°„çš„è·¯ç”±ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#11-%E5%AF%B9%E7%AD%89%E4%BD%93%E7%9A%84ip%E5%9C%B0%E5%9D%80&#34;&gt;11. å¯¹ç­‰ä½“çš„IPåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%9A%84%E9%98%B2%E7%8E%AF&#34;&gt;BGPçš„é˜²ç¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%A3%E5%86%B3ibgp%E7%9A%84%E6%B0%B4%E5%B9%B3%E5%88%86%E9%9A%94%E9%98%B2%E7%8E%AF%E5%AF%BC%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;è§£å†³IBGPçš„æ°´å¹³åˆ†éš”é˜²ç¯å¯¼è‡´çš„é—®é¢˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8&#34;&gt;è·¯ç”±åå°„å™¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%92%E8%89%B2&#34;&gt;è§’è‰²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%AE%A3%E5%91%8A%E5%8E%9F%E5%88%99&#34;&gt;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E7%B0%87%E5%8D%B3%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E9%9B%86%E7%BE%A4cluster&#34;&gt;è·¯ç”±åå°„ç°‡ï¼ˆå³è·¯ç”±åå°„é›†ç¾¤ï¼ŒClusterï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8D%E5%B0%84%E5%99%A8%E9%83%A8%E7%BD%B2%E6%96%B9%E5%BC%8F&#34;&gt;åå°„å™¨éƒ¨ç½²æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%A4%87%E4%BB%BD%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8&#34;&gt;1. å¤‡ä»½è·¯ç”±åå°„å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%A4%9A%E9%9B%86%E7%BE%A4%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8&#34;&gt;2. å¤šé›†ç¾¤è·¯ç”±åå°„å™¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%88%86%E7%BA%A7%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8&#34;&gt;1. åˆ†çº§è·¯ç”±åå°„å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%90%8C%E7%BA%A7%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8&#34;&gt;2. åŒçº§è·¯ç”±åå°„å™¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%81%94%E7%9B%9F&#34;&gt;è”ç›Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E5%92%8C%E8%81%94%E7%9B%9F%E7%9A%84%E6%AF%94%E8%BE%83&#34;&gt;è·¯ç”±åå°„å™¨å’Œè”ç›Ÿçš„æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%97%A0%E6%95%88%E8%B7%AF%E7%94%B1%E5%9C%BA%E6%99%AFbgp%E8%B7%AF%E7%94%B1%E6%9D%A1%E7%9B%AE%E5%9C%A8%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E4%B8%8D%E5%8A%A0%E8%A1%A8&#34;&gt;æ— æ•ˆè·¯ç”±åœºæ™¯ï¼ˆBGPè·¯ç”±æ¡ç›®åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¸åŠ è¡¨ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-bgp%E8%B7%AF%E7%94%B1%E4%B8%8B%E4%B8%80%E8%B7%B3%E4%B8%8D%E5%8F%AF%E8%BE%BE&#34;&gt;1. BGPè·¯ç”±ä¸‹ä¸€è·³ä¸å¯è¾¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%80%9A%E8%BF%87%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E5%BB%BA%E7%AB%8Bbgp%E9%82%BB%E5%B1%85%E5%85%B3%E7%B3%BB&#34;&gt;2. é€šè¿‡é»˜è®¤è·¯ç”±å»ºç«‹BGPé‚»å±…å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-bgp%E8%B7%AF%E7%94%B1%E5%90%8C%E6%AD%A5%E8%B7%AF%E7%94%B1%E4%B8%BA%E6%9C%89%E6%95%88%E4%BD%86%E6%98%AF%E4%B8%8D%E4%BC%9A%E4%BC%98%E9%80%89&#34;&gt;3. BGPè·¯ç”±åŒæ­¥ï¼ˆè·¯ç”±ä¸ºæœ‰æ•ˆï¼Œä½†æ˜¯ä¸ä¼šä¼˜é€‰ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%B0%86%E5%BB%BA%E7%AB%8B%E9%82%BB%E5%B1%85%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%9A%E5%91%8A%E8%BF%9Bbgp&#34;&gt;4. å°†å»ºç«‹é‚»å±…çš„è·¯ç”±é€šå‘Šè¿›BGP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-ebgp%E8%B7%AF%E7%94%B1%E6%83%A9%E7%BD%9Adampening&#34;&gt;5. EBGPè·¯ç”±æƒ©ç½š(dampening)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-mpls-vpn-%E5%9C%BA%E6%99%AFlsp%E4%B8%8D%E5%AE%8C%E6%95%B4%E9%80%A0%E6%88%90%E7%9A%84%E6%97%A0%E6%95%88%E8%B7%AF%E7%94%B1&#34;&gt;6. MPLS VPN åœºæ™¯ï¼ˆLSPä¸å®Œæ•´é€ æˆçš„æ— æ•ˆè·¯ç”±ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-%E5%85%B6%E4%BB%96%E5%9C%BA%E6%99%AF&#34;&gt;7. å…¶ä»–åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#igp%E5%92%8Cbgp%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;IGPå’ŒBGPçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%89%B9%E7%82%B9&#34;&gt;BGPç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B1%9E%E6%80%A7%E6%80%BB%E7%BB%93&#34;&gt;å±æ€§æ€»ç»“&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#3%E4%B8%AA%E9%80%89%E8%B7%AFweight-local-med&#34;&gt;3ä¸ªé€‰è·¯ï¼ˆweightã€localã€medï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3%E4%B8%AA%E9%98%B2%E7%8E%AForigin-as_path-next_hop&#34;&gt;3ä¸ªé˜²ç¯ï¼ˆoriginã€as_pathã€next_hopï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2%E4%B8%AA%E5%8F%8D%E5%B0%84%E9%98%B2%E7%8E%AForiginator-id-cluster-list&#34;&gt;2ä¸ªåå°„é˜²ç¯ï¼ˆoriginator-idã€cluster-listï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2%E4%B8%AA%E6%B1%87%E6%80%BBatomic-aggregate-aggregator&#34;&gt;2ä¸ªæ±‡æ€»ï¼ˆAtomic-aggregateã€aggregatorï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#1%E4%B8%AA%E5%9B%A2%E4%BD%93community&#34;&gt;1ä¸ªå›¢ä½“ï¼ˆcommunityï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BD%B1%E5%93%8Dbgp%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E7%9A%84%E5%9B%A0%E7%B4%A0&#34;&gt;å½±å“BGPé‚»å±…å»ºç«‹çš„å› ç´ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E5%9C%A8%E4%BC%A0%E9%80%92ipv4-ipv6-vpnv4%E8%B7%AF%E7%94%B1%E6%97%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E6%9B%B4%E5%8A%A0%E7%AE%80%E5%8D%95&#34;&gt;BGPåœ¨ä¼ é€’IPV4ã€IPV6ã€VPNv4è·¯ç”±æ—¶ä¸ºä»€ä¹ˆæ›´åŠ ç®€å•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ibgp%E4%B8%8Eebgp%E4%BC%A0%E9%80%92%E8%B7%AF%E7%94%B1%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB&#34;&gt;IBGPä¸EBGPä¼ é€’è·¯ç”±æœ‰ä»€ä¹ˆåŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;bgpæŠ¥æ–‡&#34;&gt;BGPæŠ¥æ–‡&lt;/h1&gt;
&lt;p&gt;è¿è¡ŒBGPçš„è·¯ç”±å™¨ç§°ä¹‹ä¸ºBGP Speakerï¼Œå®ƒä»¬ä¹‹é—´å°†ä¼šäº¤æ¢äº”ç§ç±»å‹çš„æŠ¥æ–‡ï¼Œå…¶ä¸­&lt;strong&gt;Openã€Keepliveä»¥åŠNotificationæŠ¥æ–‡ç”¨äºé‚»å±…å…³ç³»çš„å»ºç«‹å’Œç»´æŠ¤&lt;/strong&gt;ã€‚ &lt;code&gt;å‰4ç§æ¶ˆæ¯æ˜¯åœ¨RFC4271ä¸­å®šä¹‰çš„ï¼Œè€ŒRefreshçš„æ¶ˆæ¯åˆ™æ˜¯åœ¨RFC2918ä¸­å®šä¹‰çš„&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594954867397.png&#34; alt=&#34;BGPæŠ¥æ–‡å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Markerï¼ˆæ ‡è®°ï¼‰ï¼š16å­—èŠ‚ï¼Œå›ºå®šä¸º1&lt;/li&gt;
&lt;li&gt;Lengthï¼ˆé•¿åº¦ï¼‰ï¼šä¸¤å­—èŠ‚æ— ç¬¦å·æ•´æ•°ã€‚æŒ‡å®šäº†æ¶ˆæ¯çš„å…¨é•¿ï¼ŒåŒ…æ‹¬å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;Typeï¼ˆç±»å‹ï¼‰ï¼š1 å­—èŠ‚ï¼ŒæŒ‡ç¤ºæŠ¥æ–‡ç±»å‹ï¼Œå¦‚OPENã€UPDATEæŠ¥æ–‡ç­‰
&lt;ul&gt;
&lt;li&gt;1 â€“ OPEN&lt;/li&gt;
&lt;li&gt;2 â€“ UPDATE&lt;/li&gt;
&lt;li&gt;3 â€“ NOTIFICATION&lt;/li&gt;
&lt;li&gt;4 â€“ KEEPALIVE&lt;/li&gt;
&lt;li&gt;5 â€“ REFRESH&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;open&#34;&gt;Open&lt;/h2&gt;
&lt;p&gt;è´Ÿè´£å’Œå¯¹ç­‰ä½“å»ºç«‹é‚»å±…å…³ç³»ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594954990823.png&#34; alt=&#34;Open&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šBGPçš„ç‰ˆæœ¬å·ï¼Œå¯¹äºBGPv4æ¥è¯´ï¼Œå…¶å€¼ä¸º4&lt;/li&gt;
&lt;li&gt;My Autonomous Systemï¼šæœ¬åœ°ASç¼–å·ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤ç«¯çš„ASç¼–å·å¯ä»¥&lt;strong&gt;ç¡®å®šæ˜¯EBGPè¿æ¥è¿˜æ˜¯IBGPè¿æ¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Hold Timeï¼šåœ¨å»ºç«‹å¯¹ç­‰ä½“å…³ç³»æ—¶åå•†Hold timeï¼Œå¦‚æœä¸¤ç«¯é…ç½®ä¸åŒï¼Œåˆ™&lt;strong&gt;é€‰æ‹©è¾ƒå°çš„å€¼&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;BGP Identifierï¼šBGPè·¯ç”±å™¨çš„RouterIDï¼Œä»¥IPåœ°å€çš„å½¢å¼è¡¨ç¤ºï¼Œç”¨æ¥è¯†åˆ«BGPè·¯ç”±å™¨&lt;code&gt;RouterIDæ²¡æœ‰é…ç½®æƒ…å†µä¸‹çš„é€‰ä¸¾åŸåˆ™ï¼šLoopbackæ¥å£åœ°å€ä¸­æœ€å¤§çš„åœ°å€--ç‰©ç†æ¥å£ä¸­æœ€å¤§IPåœ°å€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Opt Parm Lenï¼ˆOptional Parameters Lengthï¼‰ï¼šå¯é€‰å‚æ•°çš„é•¿åº¦ã€‚å¦‚æœä¸º0åˆ™æ²¡æœ‰å¯é€‰å‚æ•°&lt;/li&gt;
&lt;li&gt;Optional Parametersï¼šæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ç”¨äºBGPéªŒè¯ã€å¤šåè®®æ‰©å±•æˆ–è€…4å­—èŠ‚çš„ASå·ç­‰åŠŸèƒ½ï¼Œæ¯ä¸ªå‚æ•°éƒ½æ˜¯TLVæ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899259545.png&#34; alt=&#34;AFIåŠSAFIç¼–ç è¯´æ˜&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4å­—èŠ‚aså·&#34;&gt;4å­—èŠ‚ASå·&lt;/h3&gt;
&lt;p&gt;å°†ASå·çš„ç¼–ç èŒƒå›´ä»2å­—èŠ‚æ‰©å±•åˆ°4å­—èŠ‚&lt;br&gt;
åè®®æ‰©å±•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®šä¹‰äº†ä¸€ç§æ–°çš„Openèƒ½åŠ›ç ç”¨äºè¿›è¡ŒBGPè¿æ¥çš„èƒ½åŠ›åå•†&lt;/li&gt;
&lt;li&gt;2ä¸­æ–°çš„å¯é€‰è¿‡æ¸¡å±æ€§ï¼ŒAS4_Pathå’ŒAS4_Aggregatorå±æ€§&lt;/li&gt;
&lt;li&gt;å®šä¹‰AS_TRANS(ä¿ç•™å€¼ä¸º23456)ï¼Œç”¨äºè¡”æ¥2å­—èŠ‚å’Œ4å­—èŠ‚çš„AS&lt;br&gt;
&lt;code&gt;openæŠ¥æ–‡é‡ŒASå·ç­‰äº23456ä»£è¡¨ä»€ä¹ˆï¼Ÿç”¨äºè¡”æ¥2å­—èŠ‚ASå·å’Œ4å­—èŠ‚çš„ASå·&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;update&#34;&gt;Update&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥åœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯ï¼ˆæ›´æ–°ã€æ’¤é”€ï¼‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594955311891.png&#34; alt=&#34;Update&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ’¤é”€è·¯ç”±éƒ¨åˆ†ï¼š
&lt;ul&gt;
&lt;li&gt;Withdrawn Routes Length ï¼šï¼ˆ2å­—èŠ‚æ— ç¬¦å·æ•´æ•°ï¼‰ &lt;strong&gt;ä¸å¯è¾¾è·¯ç”±é•¿åº¦&lt;/strong&gt;ï¼Œè¡¨ç¤ºWithdrawn Routeså­—æ®µçš„æ•°æ®é•¿åº¦ã€‚å¦‚æœWithdrawn Routes Lengthå­—æ®µæ•°å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºWithdrawn Routeså­—æ®µæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œåœ¨UPDATEæ¶ˆæ¯ä¸­ä¸ä¼šè¢«æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;Withdrawn Routes ï¼šï¼ˆå˜é•¿ï¼‰ æ’¤é”€è·¯ç”±ã€‚è¯¥å­—æ®µåŒ…æ‹¬ä¸€ç³»åˆ—çš„IPåœ°å€å‰ç¼€ä¿¡æ¯ï¼Œä»¥&lt;code&gt;&amp;lt;length, prefix&amp;gt;&lt;/code&gt;çš„æ ¼å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚&lt;code&gt;&amp;lt;19,198.18.160.0&amp;gt;&lt;/code&gt;è¡¨ç¤ºä¸€ä¸ª&lt;code&gt;198.18.160.0 255.255.224.0&lt;/code&gt;çš„ç½‘ç»œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ›´æ–°è·¯ç”±éƒ¨åˆ†ï¼š
&lt;ul&gt;
&lt;li&gt;Path Attribute Length ï¼šï¼ˆ2å­—èŠ‚æ— ç¬¦å·æ•´æ•°ï¼‰&lt;strong&gt;è·¯ç”±å±æ€§é•¿åº¦&lt;/strong&gt;ï¼Œè¡¨ç¤ºPath Attributeå­—æ®µçš„æ•°æ®é•¿åº¦ã€‚å¦‚æœPath Attribute Lengthæ•°å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºPath Attributeå­—æ®µæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œåœ¨UPDATEæ¶ˆæ¯ä¸­ä¸ä¼šè¢«æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;Path Attributes ï¼šï¼ˆå˜é•¿ï¼‰ è·¯å¾„å±æ€§ã€‚æ¯ä¸ªè·¯å¾„å±æ€§éƒ½æ˜¯ç”±TLVä¸‰å…ƒç»„æ‰€ç»„æˆï¼š&lt;code&gt;&amp;lt;attribute type, attribute length, attribute value&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Network Layer Reachability Information ï¼šï¼ˆå˜é•¿ï¼‰ ç½‘ç»œå¯è¾¾ä¿¡æ¯ã€‚åŒ…æ‹¬ä¸€ç³»åˆ—çš„IPåœ°å€å‰ç¼€ã€‚æ ¼å¼ä¸æ’¤æ¶ˆè·¯ç”±å­—æ®µä¸€æ ·&lt;code&gt;&amp;lt;length, prefix&amp;gt;&lt;/code&gt;ã€‚	&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613052529036.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613052533251.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ€å°UPDATEæ¶ˆæ¯&lt;/strong&gt;çš„é•¿åº¦ä¸º23ä¸ªå­—èŠ‚(19å­—èŠ‚çš„æŠ¥æ–‡å¤´+2å­—èŠ‚çš„æ’¤æ¶ˆè·¯ç”±é•¿åº¦+2å­—èŠ‚çš„è·¯å¾„å±æ€§é•¿åº¦)ã€‚è¿™æ ·çš„UPDATEæ¶ˆæ¯è¢«ç§°ä¹‹ä¸º&lt;strong&gt;End-of-RIBï¼Œç”¨äºBGP GR&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;å‘å¸ƒå¤šæ¡å…·æœ‰ç›¸åŒè·¯ç”±å±æ€§çš„å¯è¾¾è·¯ç”±&lt;/strong&gt;ï¼Œè¿™äº›è·¯ç”±å¯å…±äº«ä¸€ç»„è·¯ç”±å±æ€§ã€‚æ‰€æœ‰åŒ…å«åœ¨ä¸€ä¸ªç»™å®šçš„Updateæ¶ˆæ¯é‡Œçš„è·¯ç”±å±æ€§é€‚ç”¨äºè¯¥Updateæ¶ˆæ¯ä¸­çš„NLRI(ç½‘ç»œå±‚å¯è¾¾æ€§ä¿¡æ¯)å­—æ®µé‡Œçš„æ‰€æœ‰ç›®çš„åœ°ï¼ˆç”¨IPå‰ç¼€è¡¨ç¤ºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;æ’¤é”€å¤šæ¡ä¸å¯è¾¾è·¯ç”±&lt;/strong&gt;ã€‚æ¯ä¸€ä¸ªè·¯ç”±é€šè¿‡ç›®çš„åœ°ï¼ˆç”¨IPå‰ç¼€è¡¨ç¤ºï¼‰ï¼Œæ¸…æ¥šçš„å®šä¹‰äº†BGP Speakerä¹‹é—´å…ˆå‰é€šå‘Šè¿‡çš„è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;åªç”¨äºæ’¤é”€è·¯ç”±&lt;/strong&gt;ï¼Œè¿™æ ·å°±ä¸éœ€è¦åŒ…æ‹¬è·¯å¾„å±æ€§æˆ–è€…ç½‘ç»œå¯è¾¾ä¿¡æ¯ã€‚ç›¸åï¼Œä¹Ÿå¯ä»¥&lt;strong&gt;åªç”¨äºé€šå‘Šå¯è¾¾è·¯ç”±&lt;/strong&gt;ï¼Œå°±ä¸éœ€è¦æºå¸¦Withdrawn Routesäº†ã€‚&lt;strong&gt;ä¸å¯å³æ›´æ–°åˆæ’¤é”€è·¯ç”±&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;notification&#34;&gt;Notification&lt;/h2&gt;
&lt;p&gt;å½“BGP Speakeræ£€æµ‹åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œå°±å‘é€è¯¥æ¶ˆæ¯ç»™å¯¹ç­‰ä½“ï¼ˆæŠ¥é”™ï¼Œç”¨äºæ‹†é™¤è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594962555808.png&#34; alt=&#34;Notification&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Errorcodeï¼šé”™è¯¯ç &lt;/li&gt;
&lt;li&gt;Errsubcodeï¼šé”™è¯¯å­ç &lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594964879096.png&#34; alt=&#34;é”™è¯¯ç å’Œé”™è¯¯å­ç &#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;keepalive&#34;&gt;KeepAlive&lt;/h2&gt;
&lt;p&gt;åœ¨å¯¹ç­‰ä½“ä¹‹é—´å‘¨æœŸæ€§ï¼ˆ60sï¼‰åœ°å‘é€ï¼Œæ£€æµ‹TCPçš„è¿é€šæ€§ï¼Œç”¨ä»¥ç»´æŠ¤è¿æ¥ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594955204497.png&#34; alt=&#34;KeepAlive&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
KeepAliveæŠ¥æ–‡&lt;strong&gt;åªåŒ…æ‹¬ä¸€ä¸ªBGPæ•°æ®æŠ¥å¤´&lt;/strong&gt;ï¼ŒKeepAlive æ¶ˆæ¯åœ¨å¯¹ç­‰ä½“ä¹‹é—´çš„&lt;strong&gt;äº¤æ¢é¢‘ç‡ä»¥ä¿è¯å¯¹æ–¹ä¿æŒå®šæ—¶å™¨ä¸è¶…æ—¶ä¸ºé™&lt;/strong&gt;ã€‚&lt;br&gt;
ç¼ºçœæƒ…å†µä¸‹ï¼Œå‘é€&lt;strong&gt;KeepAliveçš„æ—¶é—´é—´éš”ä¸º60ç§’&lt;/strong&gt;ï¼Œ&lt;strong&gt;Hold Timeæ˜¯180ç§’&lt;/strong&gt;ã€‚æ¯æ¬¡ä»é‚»å±…å¤„æ¥æ”¶åˆ°KeepAlive æŠ¥æ–‡å°†é‡ç½®Hold Timeå®šæ—¶å™¨ï¼Œå¦‚æœHold Timeå®šæ—¶å™¨è¶…æ—¶ï¼Œå°±è®¤ä¸ºå¯¹ç­‰ä½“Downæ‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;route-refresh&#34;&gt;Route-refresh&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥é€šçŸ¥å¯¹ç­‰ä½“è‡ªå·±æ”¯æŒè·¯ç”±åˆ·æ–°èƒ½åŠ›&lt;code&gt;å¯¹ç­‰ä½“ä¸€ç«¯ä¸æ”¯æŒè·¯ç”±åˆ·æ–°çš„èƒ½åŠ›ï¼Œå¦‚æœå¼ºåˆ¶åˆ·æ–°ï¼Œåˆ™ä¼šé‡æ–°å»ºç«‹é‚»å±…&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594962609077.png&#34; alt=&#34;Route-refresh&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AFIï¼ˆAddress Family Identifierï¼‰ï¼šåœ°å€æ—æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;li&gt;Res.ï¼ˆReserved fieldï¼‰ï¼šä¿ç•™åŒºåŸŸï¼Œå‘é€æ–¹åº”å°†å…¶è®¾ç½®ä¸º0ï¼Œæ¥æ”¶æ–¹åº”å½“å¿½ç•¥è¯¥åŒºåŸŸçš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;SAFIï¼ˆSubsequent Address Family Identifierï¼‰ï¼šå­åœ°å€æ—æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨æ‰€æœ‰BGPè·¯ç”±å™¨&lt;strong&gt;ä½¿èƒ½Route-refreshèƒ½åŠ›&lt;/strong&gt;çš„æƒ…å†µä¸‹ï¼Œå¦‚æœBGPçš„&lt;strong&gt;å…¥å£è·¯ç”±ç­–ç•¥å‘ç”Ÿäº†å˜åŒ–&lt;/strong&gt;ï¼Œæœ¬åœ°BGPè·¯ç”±å™¨ä¼šå‘å¯¹ç­‰ä½“å‘å¸ƒRoute-refreshæ¶ˆæ¯ï¼Œ&lt;strong&gt;æ”¶åˆ°æ­¤æ¶ˆæ¯çš„å¯¹ç­‰ä½“ä¼šå°†å…¶è·¯ç”±ä¿¡æ¯é‡æ–°å‘ç»™æœ¬åœ°BGPè·¯ç”±å™¨&lt;/strong&gt;&lt;code&gt;å³ç”±è·¯ç”±çš„æ¥æ”¶æ–¹å‘é€RouteRefreshæŠ¥æ–‡ï¼Œç”¨æ¥é‡æ–°è¯·æ±‚ç›¸åº”åè®®ç°‡çš„æŠ¥æ–‡ï¼Œè·¯ç”±çš„å‘é€æ–¹å‘é€å¯¹åº”è·¯ç”±çš„UpdateæŠ¥æ–‡ï¼Œè·¯ç”±çš„æ¥æ”¶æ–¹æ”¶åˆ°UpdateæŠ¥æ–‡ä¹‹ååº”ç”¨ä¿®æ”¹ä¹‹åçš„å…¥å£è·¯ç”±ç­–ç•¥&lt;/code&gt;ã€‚è¿™æ ·ï¼Œå¯ä»¥åœ¨ä¸ä¸­æ–­BGPè¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯¹BGPè·¯ç”±è¡¨è¿›è¡ŒåŠ¨æ€åˆ·æ–°ï¼Œå¹¶åº”ç”¨æ–°çš„è·¯ç”±ç­–ç•¥ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»€ä¹ˆæ—¶å€™äº§ç”ŸRoute-refreshæŠ¥æ–‡ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯·æ±‚ï¼šrefresh bgp all importï¼Œè‡ªèº«äº§ç”ŸrefreshæŠ¥æ–‡ï¼Œé‚»å±…æ”¶åˆ°ä¹‹åå›å¤updateæŠ¥æ–‡ã€å¦‚æœæ‰§è¡Œrefresh bgp all exportï¼Œåˆ™æ˜¯ä¸»åŠ¨å‘é€updateæŠ¥æ–‡ã€‘&lt;/li&gt;
&lt;li&gt;ORFï¼ˆå‡ºæ–¹å‘çš„è·¯ç”±è¿‡æ»¤ï¼‰ï¼Œåªå…è®¸é€šè¿‡éœ€è¦çš„è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;çŠ¶æ€æœº&#34;&gt;çŠ¶æ€æœº&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594965930073.png&#34; alt=&#34;BGPçŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Idleï¼š
&lt;ul&gt;
&lt;li&gt;ä¸å‘èµ·TCPè¿æ¥ï¼Œéœ€è¦è½¬æ¢æˆConnectçŠ¶æ€ï¼Œç„¶åæ‰å‘èµ·ä¸€æ¡TCPè¿æ¥ï¼Œå¤ä½&lt;strong&gt;è¿æ¥é‡è¯•è®¡æ—¶å™¨ï¼ˆ32ç§’ï¼‰&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœEBGPé‚»å±…ä½¿ç”¨ç¯å›å£å»ºç«‹ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®EBGPå¤šè·³æˆ–è€…å¼€å¯äº†ç›´è¿æ£€æŸ¥ï¼Œä¼šåœç•™åœ¨æ­¤çŠ¶æ€ï¼Œå› ä¸ºEBGPè§„å®šæ˜¯ç›´è¿ï¼Œå³eBGPæŠ¥æ–‡çš„TTLé»˜è®¤æ˜¯1ã€iBGPæŠ¥æ–‡çš„TTLé»˜è®¤æ˜¯255&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Connectï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼ŒBGP&lt;strong&gt;å‘èµ·ç¬¬ä¸€ä¸ªTCPè¿æ¥&lt;/strong&gt;ï¼Œ&lt;code&gt;åœ¨é‡è¯•è®¡æ—¶å™¨æ—¶é—´å†…åªå‘é€è¿™ä¸€ä¸ªTCPè¿æ¥&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡è¯•è®¡æ—¶å™¨&lt;strong&gt;è¶…æ—¶&lt;/strong&gt;ï¼Œå°±é‡æ–°å‘èµ·TCPè¿æ¥ï¼Œå¹¶ç»§ç»­&lt;strong&gt;ä¿æŒåœ¨Connect&lt;/strong&gt;çŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥&lt;strong&gt;æˆåŠŸ&lt;/strong&gt;ï¼Œå°±è½¬å…¥&lt;strong&gt;OpenSent&lt;/strong&gt;çŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥&lt;strong&gt;å¤±è´¥&lt;/strong&gt;ï¼Œå°±è½¬å…¥&lt;strong&gt;Active&lt;/strong&gt;çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Activeï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼ŒBGPæ€»æ˜¯åœ¨&lt;strong&gt;è¯•å›¾å»ºç«‹TCPè¿æ¥&lt;/strong&gt;ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡è¯•è®¡æ—¶å™¨&lt;strong&gt;è¶…æ—¶&lt;/strong&gt;ï¼Œå°±&lt;strong&gt;é€€å›åˆ°Connect&lt;/strong&gt;çŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥&lt;strong&gt;æˆåŠŸ&lt;/strong&gt;ï¼Œå°±è½¬å…¥&lt;strong&gt;OpenSent&lt;/strong&gt;çŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥&lt;strong&gt;å¤±è´¥&lt;/strong&gt;ï¼Œå°±ç»§ç»­&lt;strong&gt;ä¿æŒåœ¨Active&lt;/strong&gt;çŠ¶æ€ï¼Œå¹¶ç»§ç»­å‘èµ·TCPè¿æ¥&lt;br&gt;
&lt;code&gt;Activeå’ŒConnectçŠ¶æ€çš„åŒºåˆ«ï¼šConnectçŠ¶æ€åªå‘é€ä¸€æ¬¡TCPè¿æ¥ï¼Œè€ŒActiveçŠ¶æ€ä¸‹ä¼šå¤šæ¬¡å‘é€TCPè¿æ¥ï¼›Connectæ˜¯ä¸»åŠ¨å»ºç«‹TCPè¿æ¥ï¼ŒActiveæ˜¯è¢«åŠ¨ç­‰å¾…TCPè¿æ¥&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœä¸€ç›´å¤„åœ¨Connectæˆ–è€…ActiveçŠ¶æ€ï¼Œè¯´æ˜TCPè¿æ¥æœªå»ºç«‹èµ·æ¥ï¼Œæœ‰ä»¥ä¸‹æƒ…å†µï¼šæ›´æ–°æºåœ°å€é”™è¯¯ï¼ˆæºIPåœ°å€æ£€æŸ¥ï¼‰ã€è®¤è¯ï¼ˆé€šè¿‡TCPçš„optionå­—æ®µå®ç°çš„ï¼‰ã€ACLè¿‡æ»¤&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenSentï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼Œ&lt;strong&gt;TCPè¿æ¥å·²ç»å»ºç«‹&lt;/strong&gt;ï¼ŒBGPä¹Ÿ&lt;strong&gt;å·²ç»å‘é€äº†ç¬¬ä¸€ä¸ªOpenæŠ¥æ–‡&lt;/strong&gt;ï¼Œå‰©ä¸‹çš„å·¥ä½œï¼ŒBGPå°±åœ¨&lt;strong&gt;ç­‰å¾…å…¶å¯¹ç­‰ä½“å‘é€OpenæŠ¥æ–‡&lt;/strong&gt;ã€‚å¹¶å¯¹æ”¶åˆ°çš„OpenæŠ¥æ–‡è¿›è¡Œæ­£ç¡®æ€§æ£€æŸ¥ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;æœ‰é”™è¯¯&lt;/strong&gt;ï¼Œç³»ç»Ÿå°±ä¼šå‘é€ä¸€æ¡&lt;strong&gt;å‡ºé”™é€šçŸ¥æ¶ˆæ¯å¹¶é€€å›åˆ°IdleçŠ¶æ€&lt;/strong&gt;ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;æ²¡æœ‰é”™è¯¯&lt;/strong&gt;ï¼ŒBGPå°±å¼€å§‹å‘é€KeepaliveæŠ¥æ–‡ï¼Œå¹¶&lt;strong&gt;å¤ä½Keepalive&lt;/strong&gt;è®¡æ—¶å™¨ï¼Œå¼€å§‹è®¡æ—¶ã€‚&lt;strong&gt;åŒæ—¶è½¬å…¥OpenConfirmçŠ¶æ€ã€‚&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å‘é€KeepAliveæŠ¥æ–‡çš„æ—¶æœºï¼šæ”¶åˆ°OpenæŠ¥æ–‡å¹¶æ£€æµ‹é€šè¿‡&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenConfirmï¼š&lt;br&gt;
åœ¨OpenConfirmçŠ¶æ€ï¼ŒBGP&lt;strong&gt;ç­‰å¾…ä¸€ä¸ªKeepaliveæŠ¥æ–‡ï¼ŒåŒæ—¶å¤ä½ä¿æŒè®¡æ—¶å™¨&lt;/strong&gt;ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°äº†ä¸€ä¸ªKeepaliveæŠ¥æ–‡ï¼Œå°±è½¬å…¥Establishedé˜¶æ®µï¼ŒBGPé‚»å±…å…³ç³»å°±å»ºç«‹èµ·æ¥äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Establishedï¼š&lt;br&gt;
åœ¨EstablishedçŠ¶æ€ï¼ŒBGPé‚»å±…å…³ç³»&lt;strong&gt;å·²ç»å»ºç«‹&lt;/strong&gt;ï¼Œè¿™æ—¶ï¼ŒBGPå°†å’Œå®ƒçš„é‚»å±…ä»¬äº¤æ¢UpdateæŠ¥æ–‡ï¼ŒåŒæ—¶å¤ä½ä¿æŒè®¡æ—¶å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é™¤IdleçŠ¶æ€ä»¥å¤–çš„å…¶å®ƒäº”ä¸ªçŠ¶æ€&lt;strong&gt;å‡ºç°ä»»ä½•Errorçš„æ—¶å€™ï¼ŒBGPçŠ¶æ€æœºå°±ä¼šé€€å›åˆ°IdleçŠ¶æ€&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨BGPå¯¹ç­‰ä½“å»ºç«‹çš„è¿‡ç¨‹ä¸­ï¼Œ&lt;strong&gt;é€šå¸¸å¯è§çš„ä¸‰ä¸ªçŠ¶æ€æ˜¯ï¼šIdleã€Activeã€Established&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IdleçŠ¶æ€ä¸‹ï¼ŒBGPæ‹’ç»ä»»ä½•è¿›å…¥çš„è¿æ¥è¯·æ±‚ï¼Œæ˜¯BGPåˆå§‹çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ActiveçŠ¶æ€ä¸‹ï¼ŒBGPå°†å°è¯•è¿›è¡ŒTCPè¿æ¥çš„å»ºç«‹ï¼Œæ˜¯BGPçš„ä¸­é—´çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;EstablishedçŠ¶æ€ä¸‹ï¼ŒBGPå¯¹ç­‰ä½“é—´å¯ä»¥äº¤æ¢UpdateæŠ¥æ–‡ã€Route-refreshæŠ¥æ–‡ã€KeepaliveæŠ¥æ–‡å’ŒNotificationæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;BGPå¯¹ç­‰ä½“åŒæ–¹çš„çŠ¶æ€å¿…é¡»éƒ½ä¸ºEstablishedï¼ŒBGPé‚»å±…å…³ç³»æ‰èƒ½æˆç«‹ï¼ŒåŒæ–¹é€šè¿‡UpdateæŠ¥æ–‡äº¤æ¢è·¯ç”±ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;bgpçš„æ•°æ®åº“&#34;&gt;BGPçš„æ•°æ®åº“&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;IPè·¯ç”±è¡¨ (IP-RIB)ï¼šå…¨å±€è·¯ç”±ä¿¡æ¯åº“ï¼ŒåŒ…æ‹¬æ‰€æœ‰IPè·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;BGPè·¯ç”±è¡¨ (Loc-RIB)ï¼šBGPè·¯ç”±ä¿¡æ¯åº“ï¼ŒåŒ…æ‹¬æœ¬åœ°BGP Speakeré€‰æ‹©çš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;é‚»å±…è¡¨ï¼šå¯¹ç­‰ä½“é‚»å±…æ¸…å•åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;Adj-RIB-Inï¼šå¯¹ç­‰ä½“å®£å‘Šç»™æœ¬åœ°Speakerçš„æœªå¤„ç†çš„è·¯ç”±ä¿¡æ¯åº“&lt;/li&gt;
&lt;li&gt;Adj-RIB-Outï¼šæœ¬åœ°Speakerå®£å‘Šç»™æŒ‡å®šå¯¹ç­‰ä½“çš„è·¯ç”±ä¿¡æ¯åº“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594967902505.png&#34; alt=&#34;BGPè·¯ç”±ä¿¡æ¯å¤„ç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æœ¬åœ°è¢«ä¼˜é€‰çš„è·¯ç”±ï¼Œæ‰å…è®¸æ›´æ–°ç»™å¯¹ç­‰ä½“&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è·¯ç”±é»‘æ´&#34;&gt;è·¯ç”±é»‘æ´&lt;/h1&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œå®ƒä¼šé»˜é»˜çš„å°†æ•°æ®åŒ…ä¸¢å¼ƒï¼Œä½¿æ‰€æœ‰æ•°æ®åŒ…æœ‰å»æ— å›ï¼Œä¸»è¦åŸå› æ˜¯&lt;strong&gt;æ²¡æœ‰ç›¸åº”çš„è·¯ç”±&lt;/strong&gt;ï¼Œæœ¬è´¨æ˜¯&lt;strong&gt;IPé€è·³è½¬å‘å¯¼è‡´æ•°æ®åŒ…ä¸¢å¤±&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589986054853.png&#34; alt=&#34;BGPçš„è·¯ç”±é»‘æ´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;ï¼šAR6æ— æ³•pingé€šAR1çš„11.11.11.11ï¼Œä¸»è¦æ˜¯AR5çš„è·¯ç”±è¡¨ä¸­11.11.11.11çš„ä¸‹ä¸€è·³æ˜¯2.2.2.2ï¼ˆAR5å’ŒAR2æ²¡æœ‰ç›´è¿ï¼‰ï¼Œåœ¨å…¶è½¬å‘è¡¨ä¸­2.2.2.2çš„ä¸‹ä¸€è·³æ˜¯35.1.1.3ï¼ˆæˆ–è€…45.1.1.4ï¼‰ï¼Œä½†æ˜¯AR3ï¼ˆæˆ–è€…AR4ï¼‰ä¸­æ²¡æœ‰å…³äº11.11.11.11çš„è·¯ç”±ï¼Œå¯¼è‡´æ‰€æœ‰æ¶‰åŠ11.11.11.11çš„æ•°æ®åŒ…è¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³è·¯ç”±é»‘æ´æ–¹æ³•&#34;&gt;è§£å†³è·¯ç”±é»‘æ´æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç‰©ç†çº¿è·¯ç›´è¿ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨&lt;strong&gt;GREéš§é“&lt;/strong&gt;ã€‚ã€å³åœ¨AR2å’ŒAR5ä¹‹é—´å»ºç«‹GREé€šé“ã€‘&lt;/li&gt;
&lt;li&gt;å…¨äº’è”å¯ä»¥è§£å†³ ï¼Œç®¡ç†æˆæœ¬å¢åŠ ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å°†EBGPè·¯ç”±å¼•å…¥IGPå¯ä»¥è§£å†³è·¯ç”±é»‘æ´ ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰ï¼Œä¼šé€ æˆIGPè´Ÿæ‹…è¿‡é‡&lt;/li&gt;
&lt;li&gt;å¯ä»¥åœ¨é»‘æ´è®¾å¤‡ä¸Šé…ç½®é™æ€ä¹Ÿå¯ä»¥è§£å†³ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å¼€å¯åŒæ­¥ï¼Œå³ä»IBGPæ”¶åˆ°çš„è·¯ç”±ï¼Œå¦‚æœIGPä¸­ä¸å­˜åœ¨ï¼Œå°±ä¸ä¼šé€šå‘ŠEBGPé‚»å±…ã€å³AR5ä¸­ä¸å­˜åœ¨11.11.11.11/32ï¼Œæ‰€ä»¥AR5ä¸ä¼šå°†æ­¤è·¯ç”±é€šå‘Šç»™AR6ã€‘&lt;/li&gt;
&lt;li&gt;é…ç½®è·¯ç”±åå°„å™¨ï¼Œè·¯ç”±åå°„å™¨ä¸æ˜¯è§£å†³è·¯ç”±é»‘æ´çš„ï¼Œæ˜¯è§£å†³æ°´å¹³åˆ†å‰²çš„é—®é¢˜ã€‚ã€åœ¨R3ä¸Šé…ç½®RRï¼ŒR2å’ŒR5ä¸å†éœ€è¦é…ç½®BGPé‚»å±…ã€‘&lt;code&gt;iBGPçš„æ°´å¹³åˆ†å‰²è§„åˆ™ï¼šæ¥è‡ªiBGPå¯¹ç­‰ä½“çš„è·¯ç”±ï¼Œä¸èƒ½ä¼ é€’ç»™iBGPå¯¹ç­‰ä½“ ã€‚è·¯ç”±åå°„å™¨æ˜¯ä¸“é—¨ç ´åè¿™ä¸ªè§„åˆ™çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è”é‚¦æ˜¯ç”¨æ¥è§£å†³æ°´å¹³åˆ†å‰²çš„é—®é¢˜ï¼Œä½†ä¹Ÿå¯ä»¥è§£å†³è·¯ç”±é»‘æ´&lt;/li&gt;
&lt;li&gt;MPLSç½‘ç»œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯ç”±é€šå‘ŠåŸåˆ™&#34;&gt;BGPè·¯ç”±é€šå‘ŠåŸåˆ™&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;åªæŠŠæœ¬èº«çš„&lt;strong&gt;æœ€ä¼˜è·¯ç”±&lt;/strong&gt;é€šå‘Šç»™å¯¹ç­‰ä½“ï¼Œå¤šæ¡è·¯å¾„æ—¶ï¼Œåªé€‰æ‹©&lt;strong&gt;æœ€ä¼˜è·¯ç”±&lt;/strong&gt;æ”¾å…¥è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;eBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±ä¼šå‘å®ƒ&lt;strong&gt;æ‰€æœ‰çš„BGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼ˆåŒ…æ‹¬eBGPå’ŒiBGPï¼‰é€šå‘Š&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;iBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±&lt;strong&gt;ä¸ä¼šé€šå‘Šç»™å®ƒçš„iBGP&lt;/strong&gt;é‚»å±…&lt;code&gt;æ°´å¹³åˆ†éš”&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»&lt;strong&gt;iBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±æ˜¯å¦é€šå‘Šç»™å®ƒçš„&lt;strong&gt;eBGPå¯¹ç­‰ä½“è¦ä¾IGPå’ŒBGPåŒæ­¥çš„æƒ…å†µ&lt;/strong&gt;æ¥å†³å®šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;BGPåŒæ­¥çš„æ¦‚å¿µï¼š&lt;br&gt;
BGP Speakerä¸å°†ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„è·¯ç”±ä¿¡æ¯é€šå‘Šç»™å®ƒçš„EBGPå¯¹ç­‰ä½“ï¼Œé™¤éè¯¥è·¯ç”±ä¿¡æ¯ä¹Ÿèƒ½é€šè¿‡IGPè·å¾—&lt;code&gt;å³ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„è·¯ç”±åªæœ‰åœ¨IGPä¸­ä¹Ÿå­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šä¼˜é€‰&lt;/code&gt;&lt;br&gt;
ç›®çš„æ˜¯é˜²æ­¢ASå†…éƒ¨å‡ºç°è·¯ç”±é»‘æ´ï¼Œå‘å¤–éƒ¨é€šå‘Šäº†ä¸€ä¸ªæœ¬ASä¸å¯è¾¾çš„è™šå‡çš„è·¯ç”±&lt;br&gt;
åªå½±å“IBGPé‚»å±…ä¹‹é—´çš„è·¯ç”±ä¼ é€’ï¼Œä¸å½±å“EBGPé‚»å±…ä¹‹é—´çš„è·¯ç”±ä¼ é€’&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ç†è§£&#34;&gt;ç†è§£&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±ï¼ŒBGPè®¾å¤‡åªå‘å¸ƒç»™å®ƒçš„EBGPå¯¹ç­‰ä½“&lt;sub&gt;é»˜è®¤ä¿®æ”¹ä¸‹ä¸€è·³&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;ä»EBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±ï¼ŒBGPè®¾å¤‡å‘å¸ƒç»™å®ƒæ‰€æœ‰EBGP&lt;sub&gt;ä¸åœ¨åŒä¸€å¹¿æ’­ç½‘ï¼Œé»˜è®¤ä¿®æ”¹ä¸‹ä¸€è·³ï¼›åœ¨åŒä¸€å¹¿æ’­ç½‘åˆ™ä¸ä¿®æ”¹ä¸‹ä¸€è·³&lt;/sub&gt;å’ŒIBGP&lt;sub&gt;é»˜è®¤ä¸ä¿®æ”¹ä¸‹ä¸€è·³&lt;/sub&gt;å¯¹ç­‰ä½“&lt;sub&gt;ä¸ºäº†é¿å…æ¬¡ä¼˜è·¯å¾„ï¼Œä¾‹å­å‚è€ƒåŒä¸€äº¤æ¢æœºä¸‹çš„ä¸‰ä¸ªè·¯ç”±å™¨&lt;/sub&gt;&lt;code&gt;å³æ¥æ”¶è€…ä¸ºEBGPæ—¶æ‰ä¼šä¿®æ”¹ä¸‹ä¸€è·³&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½“å­˜åœ¨å¤šæ¡åˆ°è¾¾åŒä¸€ç›®çš„åœ°å€çš„æœ‰æ•ˆè·¯ç”±æ—¶ï¼ŒBGPè®¾å¤‡åªå°†æœ€ä¼˜è·¯ç”±å‘å¸ƒç»™å¯¹ç­‰ä½“ï¼ŒåŒæ—¶åªæŠŠæœ€ä¼˜çš„æ”¾è¿›è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ›´æ–°æ—¶ï¼ŒBGPè®¾å¤‡åªå‘é€æ›´æ–°çš„BGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å¯¹ç­‰ä½“å‘é€çš„è·¯ç”±ï¼ŒBGPè®¾å¤‡éƒ½ä¼šæ¥æ”¶&lt;br&gt;
&lt;code&gt;EBGPå¤šè·³å’ŒæŒ‡å®šæ›´æ–°æºï¼šEBGPå¯ä»¥é‡‡ç”¨ç›´è¿å»ºç«‹ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨ç¯å›å£ä½œä¸ºæ›´æ–°æºå»ºç«‹EBGPé‚»å±…ç”¨ä»¥å¤‡ä»½ï¼Œä½†éœ€è¦ä¿®æ”¹TTLå€¼&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯ç”±çš„æ¥æº&#34;&gt;BGPè·¯ç”±çš„æ¥æº&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;networkï¼ˆå®£å‘Šï¼‰&lt;br&gt;
ç²¾ç¡®çš„å°†ä¸€æ¡IGPè·¯ç”±æ”¾å…¥BGPè·¯ç”±è¡¨ï¼Œéœ€è¦æœ¬åœ°å­˜åœ¨å¹¶ä¸”å¯è¾¾ï¼Œnetworkå®£å‘Šçš„è·¯ç”±çš„&lt;strong&gt;èµ·æºå±æ€§ä¸ºi&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;import-routeå‘½ä»¤ï¼ˆå¼•å…¥ï¼‰&lt;br&gt;
é€šè¿‡import-routeå‘½ä»¤æŠŠIGPè·¯ç”±æˆ–é™æ€è·¯ç”±æ³¨å…¥åˆ°BGPè·¯ç”±è¡¨ä¸­ï¼Œimport-routeå¼•å…¥çš„è·¯ç”±çš„&lt;strong&gt;èµ·æºå±æ€§ä¸ºï¼Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;aggregateå‘½ä»¤ï¼ˆèšåˆï¼‰&lt;br&gt;
èšåˆè·¯ç”±ï¼Œæœ¬åœ°è¯¥è·¯ç”±çš„ä¸‹ä¸€è·³æ˜¯127.0.0.1&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯å¾„å±æ€§&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/h1&gt;
&lt;h2 id=&#34;å…¬è®¤å¿…éµwell-known-mondatoryå‘¨çŸ¥å¼ºåˆ¶&#34;&gt;å…¬è®¤å¿…éµWell-known mondatoryï¼ˆå‘¨çŸ¥å¼ºåˆ¶ï¼‰&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨&lt;strong&gt;éƒ½å¯ä»¥è¯†åˆ«&lt;/strong&gt;ï¼Œä¸”&lt;strong&gt;å¿…é¡»&lt;/strong&gt;å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ã€‚å¦‚æœç¼ºå°‘è¿™ç§å±æ€§ï¼Œè·¯ç”±ä¿¡æ¯å°±ä¼šå‡ºé”™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-originèµ·æº&#34;&gt;1. Originï¼šèµ·æº&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬çš„ï¼Œå…·ä½“çš„å®ç°æŒ‰å¦‚ä¸‹æ–¹å¼å†³å®šä¸€æ¡è·¯ç”±çš„Originå±æ€§&lt;code&gt;é»˜è®¤æƒ…å†µä¸‹ä¸è¢«ä»»ä½•è·¯ç”±å™¨ä¿®æ”¹ï¼Œi&amp;gt;e&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸæ¡è·¯ç”±æ˜¯&lt;strong&gt;ç›´æ¥è€Œå…·ä½“&lt;/strong&gt;çš„æ³¨å…¥åˆ°BGPè·¯ç”±è¡¨ä¸­çš„ï¼Œ&lt;strong&gt;åˆ™originå±æ€§ä¸ºIGP(i)&lt;/strong&gt;ï¼Œä¾‹å¦‚ï¼šé€šè¿‡networkå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;é€šè¿‡EGPå­¦åˆ°çš„è·¯ç”±ï¼Œ&lt;strong&gt;åˆ™originå±æ€§ä¸ºEGP(e)ï¼Œç›®å‰å·²ç»ä¸ç”¨äº†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–æƒ…å½¢ä¸‹ï¼Œ&lt;strong&gt;Originå±æ€§éƒ½ä¸ºIncomplete(?)&lt;/strong&gt;ï¼Œä¾‹å¦‚é€šè¿‡importå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-as_pathasè·¯å¾„&#34;&gt;2. AS_Pathï¼šASè·¯å¾„&lt;/h3&gt;
&lt;p&gt;æè¿°åˆ°è¾¾ç›®æ ‡ç½‘ç»œæ‰€è¦ç»è¿‡çš„ASå·åºåˆ—ã€‚&lt;strong&gt;æœ€é‡è¦çš„ä½œç”¨æ˜¯EBGPé˜²ç¯&lt;/strong&gt;ï¼Œå¦‚æœè¦ä¿®æ”¹AS_PATHå±æ€§ï¼Œåˆ™å¿…é¡»åœ¨ABRä¸Šæ‰§è¡Œç­–ç•¥ã€‚&lt;br&gt;
&lt;strong&gt;æœ‰å››ç§ç±»å‹çš„AS_PATH&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AS_SETï¼šas-numberæ— åºçš„ï¼Œè¡¨ç¤ºæ–¹æ³•ä¸ºï½›100 200 300ï½ï¼Œå¹¶ä¸”å¤§æ‹¬å·å†…ä¸ç®¡æœ‰å¤šå°‘ä¸ªas-numberï¼Œåœ¨é€‰è·¯æ—¶å…¶é•¿åº¦ä¸º1ã€æ‹“å±•ï¼šå°æ‹¬å·è¡¨ç¤ºè”ç›Ÿçš„å­asï¼Œä¸­æ‹¬å·è¡¨ç¤ºè”ç›Ÿå†…å¯¹è·¯ç”±æ±‡æ€»ã€‘&lt;/li&gt;
&lt;li&gt;AS_SEQUENCEï¼šas-numberæœ‰åºçš„ï¼Œ&lt;code&gt;è¿½åŠ as-numberæ—¶æ˜¯åœ¨as-pathå¤´éƒ¨æ’å…¥ï¼Œä¾‹å¦‚èµ·æºäºas100çš„è·¯ç”±ï¼Œç”±as200ä¼ é€’ç»™as300æ—¶ï¼Œå…¶as-pathä¸º&amp;quot;200 100&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;AS_CONFED_SEQUENCEï¼šè”ç›Ÿå†…ä½¿ç”¨ï¼Œas-numberæœ‰åºçš„&lt;/li&gt;
&lt;li&gt;AS_CONFED_SETï¼šè”ç›Ÿå†…ä½¿ç”¨ï¼Œas-numberæ— åºçš„&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;eBGPé˜²ç¯è§„åˆ™çš„ä¿®æ”¹ä»¥åŠåº”ç”¨åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Hub-spokeæ¶æ„ç½‘ç»œ
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨DM VPNæ¨¡å—&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç›¸åŒçš„ASï¼Œä¸­é—´ç‚¹é…ç½®æˆè·¯ç”±åå°„å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å®¢æˆ·è·¯ç”±é€šè¿‡SPï¼ˆè¿è¥å•†ï¼‰æ›´æ–°
&lt;ol&gt;
&lt;li&gt;overraidï¼Œè¦†å†™ï¼Œå³å·¦è¾¹AS300çš„è·¯ç”±ä¼ åˆ°AS200æ—¶ï¼Œå…¶å±æ€§as-pathä¿®æ”¹ä¸º200ï¼Œç„¶ååœ¨ä¼ é€’ç»™å³è¾¹çš„AS300ï¼ˆåº”ç”¨äºMPLS VPNï¼‰&lt;/li&gt;
&lt;li&gt;å…è®¸æ¥æ”¶ç›¸åŒASçš„è·¯ç”±ï¼Œå¯ä»¥è®¾ç½®æ¬¡æ•°ï¼Œå³å³è¾¹çš„AS300å¯ä»¥æ¥æ”¶å·¦è¾¹AS300çš„è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595860627469.png&#34; alt=&#34;eBGPé˜²ç¯è§„åˆ™çš„ä¿®æ”¹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»…é€šè¿‡as-pathé€‰è·¯å¯èƒ½ä¼šå‡ºç°æ¬¡ä¼˜è·¯å¾„&lt;/strong&gt;ï¼Œä½†å¯ä»¥é€šè¿‡åŠ é•¿as_pathçš„åˆ—è¡¨é•¿åº¦ï¼Œä»è€Œå½±å“è·¯å¾„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼šä»RTAå‘RTBæ›´æ–°æ—¶å¢åŠ as-pathé•¿åº¦ï¼Œåˆ™ä½¿å¾—è·¯ç”±é€‰æ‹©2Mé“¾è·¯ï¼Œè€Œä¸æ˜¯64Kçš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595861450538.png&#34; alt=&#34;åŠ é•¿as_pathçš„åˆ—è¡¨é•¿åº¦&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-next_hopä¸‹ä¸€è·³&#34;&gt;3. Next_Hopï¼šä¸‹ä¸€è·³&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±ï¼ŒBGPè®¾å¤‡&lt;strong&gt;åªå‘å¸ƒ&lt;/strong&gt;ç»™å®ƒçš„EBGPå¯¹ç­‰ä½“ï¼Œ&lt;strong&gt;é»˜è®¤ä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;&lt;code&gt;åªæœ‰è¿™æ¡è·¯ç”±èƒ½å¤Ÿä»IGPè·å¾—æ—¶æ‰ä¼šé€šå‘Šç»™EBGPé‚»å±…ï¼Œä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢è·¯ç”±é»‘æ´&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»EBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±
&lt;ol&gt;
&lt;li&gt;BGPè®¾å¤‡å‘å¸ƒç»™å®ƒæ‰€æœ‰&lt;strong&gt;EBGPé‚»å±…&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸åœ¨åŒä¸€å¹¿æ’­ç½‘ï¼Œé»˜è®¤ä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;ï¼Œåœ¨åŒä¸€å¹¿æ’­ç½‘åˆ™ä¸ä¿®æ”¹ä¸‹ä¸€è·³&lt;/li&gt;
&lt;li&gt;BGPè®¾å¤‡å‘å¸ƒç»™å®ƒæ‰€æœ‰&lt;strong&gt;IBGPé‚»å±…&lt;/strong&gt;ï¼Œ&lt;strong&gt;é»˜è®¤ä¸ä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;ï¼Œå¯¹ç­‰ä½“ä¸ºäº†é¿å…æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;å³åªæœ‰2ç§æƒ…å†µä¸‹ä¿®æ”¹ä¸‹ä¸€è·³ï¼š1. iBGPåˆ°EBGPï¼›2. EBGPåˆ°ä¸åŒç½‘ç»œçš„EBGP&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šä¸€èˆ¬ä¼šåœ¨ASBRå¯¹å†…éƒ¨å¯¹ç­‰ä½“è®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘ï¼Œå³ä¿®æ”¹ä¸‹ä¸€è·³ï¼›eBGPå¯¹ç­‰ä½“ä¹‹é—´çš„ä¸‹ä¸€æ¡ä¸æ”¹å˜ä¸€èˆ¬ç”¨äºåŸŸé—´MPLS VPNï¼Œä¸€èˆ¬ç”¨åœ¨RRä¹‹é—´&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…¬è®¤ä»»æ„well-known-discretionaryå‘¨çŸ¥å¯é€‰&#34;&gt;å…¬è®¤ä»»æ„Well-known discretionaryï¼ˆå‘¨çŸ¥å¯é€‰ï¼‰&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨&lt;strong&gt;éƒ½å¯ä»¥è¯†åˆ«&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;ä¸è¦æ±‚å¿…é¡»&lt;/strong&gt;å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥å†³å®šæ˜¯å¦æ·»åŠ åˆ°Updateæ¶ˆæ¯ä¸­&lt;/p&gt;
&lt;h3 id=&#34;1-local_prefæœ¬åœ°ä¼˜å…ˆçº§&#34;&gt;1. Local_Prefï¼šæœ¬åœ°ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;å‘Šè¯‰ASä¸­çš„è·¯ç”±å™¨ï¼Œå“ªæ¡è·¯å¾„æ˜¯ç¦»å¼€ASçš„é¦–é€‰è·¯å¾„ã€‚ä¼˜å…ˆçº§å±æ€§ç”¨æ¥å½±å“iBGPé‚»å±…ï¼Œå‘Šè¯‰è‡ªå·±çš„&lt;strong&gt;iBGPé‚»å±…å¦‚ä½•ç¦»å¼€æœ¬AS&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªèƒ½åœ¨æœ¬ASå†…ä¼ é€’ï¼ˆiBGPå¯¹ç­‰ä½“æˆ–è€…è”é‚¦å†…éƒ¨ï¼‰ï¼Œä¸èƒ½ä¼ ç»™EBGPé‚»å±…&lt;/strong&gt;ã€‚é»˜è®¤å€¼ä¸º100ï¼Œè¶Šå¤§è¶Šå¥½ã€‚&lt;br&gt;
&lt;code&gt;MEDæ§åˆ¶æµé‡æ€æ ·è¿›å…¥ASï¼Œè€Œæœ¬åœ°ä¼˜å…ˆçº§åˆ™æ§åˆ¶æµé‡æ€æ ·æµå‡ºASï¼›è·¯ç”±å™¨ä¼˜é€‰Local-preferenceå€¼å¤§çš„è·¯ç”±æ§åˆ¶å‡ºæµé‡ï¼Œä¼˜é€‰MEDå€¼å°çš„è·¯ç”±æ§åˆ¶å…¥æµé‡ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-atomic_aggregateåŸå­èšåˆ&#34;&gt;2. Atomic_Aggregateï¼šåŸå­èšåˆ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸å›¢ä½“å±æ€§äº’æ–¥&lt;/strong&gt;ï¼Œåªæœ‰åœ¨èšåˆè·¯ç”±æ—¶è¿½åŠ &lt;code&gt;detail-suppressed&lt;/code&gt;æ—¶æ‰ä¼šæºå¸¦è¯¥å±æ€§ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;code&gt;aggregate 1.1.1.0 255.255.255.0 detail-suppressed&lt;/code&gt;ã€‚&lt;strong&gt;ä¸€æ—¦è®¾ç½®è¯¥å±æ€§ï¼Œåˆ™ä¸ä¼šå†ç»§æ‰¿æ˜ç»†è·¯ç”±çš„å›¢ä½“å±æ€§ï¼Œå³é»˜è®¤æƒ…å†µä¸‹é€šå‘Šèšåˆè·¯ç”±çš„åŒæ—¶ä¹Ÿé€šå‘Šæ˜ç»†è·¯ç”±ï¼Œè¿½åŠ æ­¤å‚æ•°ä¹‹åå°±ä¸å†é€šå‘Šæ˜ç»†è·¯ç”±&lt;/strong&gt;&lt;br&gt;
æœ‰æ—¶BGPå‘å¸ƒè€…ä¼šæ”¶åˆ°ä¸¤æ¡é‡å çš„è·¯ç”±ï¼Œå…¶ä¸­&lt;strong&gt;ä¸€æ¡è·¯ç”±åŒ…å«çš„åœ°å€æ˜¯å¦ä¸€æ¡è·¯ç”±çš„å­é›†&lt;/strong&gt;ã€‚ä¸€èˆ¬æƒ…å†µä¸‹BGPå‘å¸ƒè€…ä¼šä¼˜é€‰æ›´ç²¾ç»†çš„è·¯ç”±ï¼ˆå‰è€…ï¼‰ï¼Œä½†æ˜¯åœ¨å¯¹å¤–å‘å¸ƒæ—¶ï¼Œå¦‚æœå®ƒé€‰æ‹©å‘å¸ƒ&lt;strong&gt;æ›´ç²—ç•¥&lt;/strong&gt;çš„é‚£æ¡è·¯ç”±ï¼ˆåè€…ï¼‰ï¼Œè¿™æ—¶&lt;strong&gt;éœ€è¦é™„åŠ ä¸ŠATOMIC-AGGREGATEå±æ€§&lt;/strong&gt;ï¼Œä»¥çŸ¥ä¼šå¯¹ç­‰ä½“ã€‚å®ƒå®é™…ä¸Šæ˜¯&lt;strong&gt;ä¸€ç§è­¦å‘Š&lt;/strong&gt;ï¼Œå› ä¸ºå‘å¸ƒæ›´ç²—ç•¥çš„è·¯ç”±æ„å‘³ç€æ›´ç²¾ç»†çš„è·¯ç”±ä¿¡æ¯åœ¨å‘å¸ƒè¿‡ç¨‹ä¸­ä¸¢å¤±äº†ã€‚åœ¨è¿›è¡Œ&lt;strong&gt;è·¯ç”±èšåˆ&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;å¯¹äºèšåˆçš„è·¯ç”±ä¿¡æ¯ä¼šæ·»åŠ ATOMIC-AGGREGATEå±æ€§&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¯é€‰å¯ä¼ é€’optional-transitiveè¿‡æ¸¡&#34;&gt;å¯é€‰å¯ä¼ é€’Optional transitiveï¼ˆè¿‡æ¸¡ï¼‰&lt;/h2&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥&lt;strong&gt;é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§&lt;/strong&gt;ã€‚&lt;strong&gt;æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯ä»¥è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨&lt;/strong&gt;ï¼Œé‚»å±…è·¯ç”±å™¨å¯èƒ½ä¼šè¯†åˆ«å¹¶ä½¿ç”¨åˆ°è¿™ç§å±æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-aggregatorèšåˆè€…&#34;&gt;1. Aggregatorï¼šèšåˆè€…&lt;/h3&gt;
&lt;p&gt;èšåˆæ—¶ä¹Ÿä¼šè‡ªåŠ¨å‡ºç°è¯¥å±æ€§ã€‚å®ƒåŒ…æ‹¬&lt;strong&gt;å‘åŠ¨èšåˆè·¯ç”±å™¨çš„ASå·ç è¿˜æœ‰å®ƒçš„RouterID&lt;/strong&gt;ï¼Œä»è€Œæä¾›äº†æ‰§è¡Œèšåˆçš„åœ°ç‚¹ä¿¡æ¯ã€‚Atomic-aggregateå±æ€§æŒ‡ç¤ºå‡ºç°äº†è·¯å¾„ä¿¡æ¯çš„ä¸¢å¤±è€Œaggregatorå±æ€§æŒ‡ç¤ºèšåˆè·¯ç”±å‡ºç°åœ¨å“ªé‡Œã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è·¯ç”±èšåˆåä¼šç»§æ‰¿å“ªäº›å±æ€§ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Originï¼šå¦‚æœä¸€æ¡è·¯ç”±æœ‰å¤šä¸ªèµ·æºï¼Œåˆ™&lt;strong&gt;ç»§æ‰¿ä¼˜å…ˆçº§æœ€ä½&lt;/strong&gt;çš„é‚£ä¸ªèµ·æºå±æ€§&lt;/li&gt;
&lt;li&gt;AS_Pathï¼šåªæœ‰é…ç½®äº†as-setæ‰ä¼šç»§æ‰¿ï¼Œç»§æ‰¿æ­¤å±æ€§æ˜¯ä¸ºäº†é˜²ç¯ï¼Œåœ¨detail-suppressedåè¿½åŠ å‚æ•°as-setæ‰ä¼šç»§æ‰¿&lt;/li&gt;
&lt;li&gt;Communityï¼šåœ¨æ²¡æœ‰é…ç½®Atomic_Aggregateæ—¶æ‰ä¼šç»§æ‰¿&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-communityå›¢ä½“&#34;&gt;2. Communityï¼šå›¢ä½“&lt;/h3&gt;
&lt;p&gt;å›¢ä½“æ˜¯ä¸€ç»„æœ‰&lt;strong&gt;ç›¸åŒæ€§è´¨çš„ç›®çš„åœ°å€è·¯ç”±&lt;/strong&gt;ã€‚&lt;strong&gt;ç›®çš„&lt;/strong&gt;å°±æ˜¯å°†è·¯ç”±ä¿¡æ¯ç¼–ç»„ï¼Œé€šè¿‡ç»„çš„æ ‡è¯†å†³å®šè·¯ç”±ä¼ é€’çš„ç­–ç•¥ã€‚å®ƒè¢«ä¸€ç»„å…±äº«ç›¸åŒç‰¹æ€§çš„å‰ç¼€æ‰€å®šä¹‰ï¼Œå¤šä¸ªç¤¾å›¢å¯ä»¥åº”ç”¨åˆ°ä¸€æ¡å‰ç¼€ä¸Šã€‚&lt;br&gt;
å›¢ä½“å±æ€§æ˜¯&lt;strong&gt;BGPçš„ç§æœ‰å±æ€§&lt;/strong&gt;ï¼Œ&lt;strong&gt;åœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ æ’­ï¼Œä¸”ä¸å—ASé™åˆ¶&lt;/strong&gt;ã€‚åˆ©ç”¨å›¢ä½“å±æ€§å¯ä»¥ä½¿ASä¸­çš„ä¸€ç»„BGPè®¾å¤‡å…±äº«ç›¸åŒçš„ç­–ç•¥ï¼Œä»è€Œç®€åŒ–è·¯ç”±ç­–ç•¥çš„åº”ç”¨å’Œé™ä½ç»´æŠ¤ç®¡ç†éš¾åº¦ã€‚&lt;br&gt;
BGPè®¾å¤‡å¯ä»¥åœ¨&lt;strong&gt;å‘å¸ƒè·¯ç”±&lt;/strong&gt;æ—¶ï¼ˆæˆ–è€…é’ˆå¯¹é‚»å±…æ›´æ–°ä»¥åŠæ”¶å–æ—¶ã€æˆ–è€…å¼•å…¥è·¯ç”±æ—¶ï¼‰ï¼Œæ–°å¢æˆ–è€…æ”¹å˜è·¯ç”±çš„å›¢ä½“å±æ€§ã€‚&lt;br&gt;
å›¢ä½“å±æ€§æ˜¯åœ¨BGPä¸­ä¸€ç§&lt;strong&gt;ç»™è·¯ç”±æ¡ç›®æ‰“ä¸Šæ ‡è®°&lt;/strong&gt;ï¼Œç”¨äºç¡®ä¿è·¯ç”±è¿‡æ»¤å’Œé€‰æ‹©çš„è¿ç»­æ€§ï¼ŒBGPè·¯ç”±å™¨å¯ä»¥è¿‡æ»¤è¿›å‡ºè·¯ç”±æ›´æ–°æˆ–è€…ä¼˜é€‰æŸäº›è·¯ç”±ã€‚&lt;br&gt;
&lt;code&gt;é»˜è®¤ä¸ä¼ é€’ç»™å¯¹ç­‰ä½“ï¼Œè¦é’ˆå¯¹é‚»å±…åšä¼ é€’ï¼Œå³ä¼ é€’å›¢ä½“å±æ€§éœ€è¦é…ç½®å‘½ä»¤peer 22.1.1.1 advertise-community&lt;/code&gt;&lt;br&gt;
Communityå±æ€§æœ‰&lt;strong&gt;4ä¸ªå­—èŠ‚(0x00000000â€”0xFFFFFFFF)&lt;/strong&gt;ï¼Œ&lt;strong&gt;å‰ä¸¤ä¸ªå­—èŠ‚ä»£è¡¨ASå·ç &lt;/strong&gt;ï¼Œ&lt;strong&gt;åä¸¤ä¸ªå­—èŠ‚æ˜¯ç®¡ç†ä¸Šå®šä¹‰çš„æ ‡è¯†ç¬¦&lt;/strong&gt;ã€‚æ ¼å¼ä¸ºAA:NNã€‚&lt;br&gt;
å›¢ä½“å±æ€§æœ‰ä»¥ä¸‹&lt;strong&gt;3ç§ç±»å‹&lt;/strong&gt;ï¼šä¿ç•™çš„å›¢ä½“å±æ€§ã€å…¬è®¤çš„å›¢ä½“å±æ€§ã€ç§æœ‰å›¢ä½“å±æ€§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¿ç•™å›¢ä½“å±æ€§&lt;/strong&gt;ï¼š0x00000000â€”0x0000FFFFã€0xFFFF0000â€”0xFFFFFFFF&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¬è®¤å›¢ä½“å±æ€§&lt;/strong&gt;ï¼šå½“æ”¶åˆ°è¿™äº›å¸¦æœ‰å›¢ä½“å±æ€§çš„å‰ç¼€æ—¶ï¼Œå¯¹ç­‰ä½“ä¼šè‡ªåŠ¨æ ¹æ®é¢„å®šä¹‰ï¼ˆæ“ä½œå·²ç»å®šä¹‰å¥½äº†ï¼‰çš„ç¤¾å›¢å±æ€§æ„ä¹‰æ¥é‡‡å–æ“ä½œï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚å…¬å…±å›¢ä½“å±æ€§çš„ä¿ç•™èŒƒå›´æ˜¯ï¼ˆ0xFFFF0000-0xFFFFFFFFï¼‰ã€‚ä¸‹é¢æ˜¯4ç§å…¬å…±ç¤¾å›¢å±æ€§ï¼š
&lt;ol&gt;
&lt;li&gt;Internetï¼šæ‰€æœ‰å±äºè¿™ä¸ªå›¢ä½“å±æ€§çš„è·¯ç”±éƒ½æœ‰ä¸€ä¸ªç¼ºçœå€¼ï¼Œå¯ä»¥è‡ªç”±åœ°å…¬å¸ƒå±äºè¿™ä¸ªå›¢ä½“çš„è·¯ç”±ã€‚æ¢å¥è¯è¯´&lt;strong&gt;è¿™ä¸ªå›¢ä½“çš„å‰ç¼€é€šå‘Šæ²¡æœ‰ä»»ä½•é™åˆ¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;No-exportï¼šæœ‰è¿™ä¸ªå±æ€§çš„å‰ç¼€&lt;strong&gt;ä¸ä¼šè¢«é€šå‘Šç»™eBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œä½†æ˜¯&lt;strong&gt;å¯ä»¥å‘é€ç»™è”é‚¦çš„eBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯&lt;strong&gt;ä¸èƒ½åœ¨è”é‚¦èŒƒå›´ä»¥å¤–å…¬å¸ƒ&lt;/strong&gt;ã€‚è¿™ä¸ªå›¢ä½“çš„å€¼ä¸º0xFFFFFF01&lt;/li&gt;
&lt;li&gt;No-advertiseï¼šæ¥æ”¶åˆ°å¸¦æœ‰æ­¤å€¼çš„è·¯ç”±&lt;strong&gt;ä¸èƒ½å…¬å¸ƒç»™ä»»ä½•å¯¹ç­‰ä½“&lt;/strong&gt;ï¼ŒåŒ…æ‹¬iBGPå¯¹ç­‰ä½“å’ŒeBGPå¯¹ç­‰ä½“ã€‚å®ƒçš„å€¼ä¸º0xFFFFFF02&lt;/li&gt;
&lt;li&gt;No-export-subconfedï¼šæœ‰è¿™ä¸ªå±æ€§çš„è·¯ç”±æ¡ç›®&lt;strong&gt;ä¸ä¼šè¢«é€šå‘Šåˆ°æœ¬åœ°ASä¹‹å¤–&lt;/strong&gt;ã€‚åœ¨&lt;strong&gt;è”é‚¦&lt;/strong&gt;æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;åªæœ‰åœ¨åŒä¸€ä¸ªå­ASä¸­çš„å¯¹ç­‰ä½“æ‰ä¼šå…è®¸æ¥å—è¿™äº›å‰ç¼€&lt;/strong&gt;ã€‚å®ƒçš„å€¼ä¸º0xFFFFFF03åœ¨RFC1997ä¸­è¿™ä¸ªå›¢ä½“ä¹Ÿå«åš&lt;code&gt;no-export-subconfed&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§æœ‰ç¤¾å›¢å±æ€§&lt;/strong&gt;ï¼ˆè‡ªå®šä¹‰å›¢ä½“å±æ€§ï¼‰ï¼šAS(2B):Number(2B)ï¼Œæœ‰ç½‘ç»œç®¡ç†å‘˜è‡ªå·±å®šä¹‰çš„ç¤¾å›¢å±æ€§ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºå‰ç¼€é™„åŠ ç®¡ç†æ ‡è®°ï¼Œä»¥ä¾¿åˆ¶å®šåˆé€‚çš„ç­–ç•¥ã€‚é€šè¿‡å¹²é¢„æºå¸¦çš„å›¢ä½“å±æ€§çš„è·¯ç”±ï¼Œå½±å“æ•°æ®æŠ¥æ–‡çš„è½¬å‘ï¼Œä¹Ÿç”¨äºè·¯ç”±æ¸…æ´—ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¯é€‰éå¯ä¼ é€’optional-non-transitiveéè¿‡æ¸¡&#34;&gt;å¯é€‰éå¯ä¼ é€’Optional non-transitiveï¼ˆéè¿‡æ¸¡ï¼‰&lt;/h2&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§ã€‚åœ¨æ•´ä¸ªè·¯ç”±å‘å¸ƒçš„è·¯å¾„ä¸Šï¼Œå¦‚æœéƒ¨åˆ†è·¯ç”±å™¨ä¸èƒ½è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¯¥å±æ€§æ— æ³•å‘æŒ¥æ•ˆç”¨ã€‚å› æ­¤&lt;strong&gt;æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå°†ä¸¢å¼ƒè¿™ç§å±æ€§&lt;/strong&gt;ï¼Œä¸å¿…å†è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨&lt;/p&gt;
&lt;h3 id=&#34;1-multi_exit_discmedå¤šå‡ºå£åˆ†ç¦»å™¨&#34;&gt;1. Multi_Exit_Disc(MED)ï¼šå¤šå‡ºå£åˆ†ç¦»å™¨&lt;/h3&gt;
&lt;p&gt;åŒºåˆ«åˆ°è¾¾åŒä¸€é‚»å±…ASçš„å¤šæ¡å…¥å£é“¾è·¯(MEDçš„é»˜è®¤å€¼ä¸º0ï¼Œè¶Šå°è¶Šä¼˜å…ˆ)ï¼Œ&lt;strong&gt;é€šè¿‡eBGPå‘é€MEDå€¼ç»™å¯¹ç­‰ä½“&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;é€šå‘Šè§„åˆ™&lt;/strong&gt;ï¼š&lt;code&gt;èµ·æºäºè‡ªèº«çš„ä¼ é€’ç»™ä»»ä½•é‚»å±…æ—¶éƒ½æºå¸¦ï¼Œä»é‚»å±…å­¦åˆ°çš„åªèƒ½åœ¨æœ¬ASå†…ä¼ é€’&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MEDå±æ€§èµ·æºäºiBGPå¯¹ç­‰ä½“ï¼Œåœ¨ä¼ é€’ç»™eBGPå¯¹ç­‰ä½“æ—¶ä¼šæ¸…é™¤MEDå±æ€§&lt;/li&gt;
&lt;li&gt;MEDèµ·æºäºeBGPå¯¹ç­‰ä½“ï¼Œåœ¨ä¼ é€’ç»™iBGPå¯¹ç­‰ä½“æ—¶æºå¸¦&lt;/li&gt;
&lt;li&gt;MEDèµ·æºäºæœ¬åœ°ï¼Œå¯ä»¥é€šå‘Šç»™æ‰€æœ‰å¯¹ç­‰ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šèµ·æºäºRT1ï¼ŒRT1ä¼ é€’ç»™RT2æ—¶æºå¸¦MEDå€¼ï¼›èµ·æºäºRT1ï¼ŒRT2åœ¨å‘RT3ä¼ é€’æ—¶ä¸æºå¸¦ï¼›èµ·æºäºRT2ï¼ŒRT2åœ¨å‘RT3ä¼ é€’æ—¶æºå¸¦ã€‚&lt;code&gt;åªåœ¨2ä¸ªè®¾å¤‡ä¹‹é—´ä¼ é€’ï¼Œä¸ä¼šä¼ é€’ç»™ç¬¬3ä¸ªè®¾å¤‡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595864546574.png&#34; alt=&#34;é€šå‘Šè§„åˆ™&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;å¯¹æ¯”è§„åˆ™&lt;/strong&gt;ï¼šç¼ºçœæƒ…å†µä¸‹ï¼Œä¸å…è®¸æ¯”è¾ƒæ¥è‡ªä¸åŒASé‚»å±…çš„è·¯ç”±ä¿¡æ¯çš„MEDå€¼ã€‚ä½†æ˜¯ï¼Œå¯ä»¥è°ƒæ•´è¿™ä¸ªè§„åˆ™ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-originator_idèµ·æºid&#34;&gt;2. Originator_IDï¼šèµ·æºID&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ç”¨äºRRï¼Œé˜²æ­¢å®¢æˆ·ç«¯ä¹‹é—´ç¯è·¯&lt;/code&gt;&lt;br&gt;
æ˜¯æœ¬åœ°ASä¸­&lt;strong&gt;è·¯ç”±å‘èµ·è€…çš„RouterID&lt;/strong&gt;ã€‚å¦‚æœè·¯ç”±å‘èµ·è€…åœ¨æ¥æ”¶åˆ°è·¯ç”±çš„originator-idä¸­å‘ç°äº†è‡ªå·±çš„RouterIDï¼Œå°±çŸ¥é“äº§ç”Ÿäº†ç¯è·¯ï¼Œäºæ˜¯å¿½ç•¥è¯¥è·¯ç”±æ¡ç›®ï¼Œå®ƒæä¾›åœ¨&lt;strong&gt;ASå†…çš„é˜²ç¯ä½œç”¨&lt;/strong&gt;ï¼Œå®ƒ&lt;strong&gt;ç”±ç¬¬ä¸€ä¸ªRRåˆ›å»ºï¼Œå¹¶ä¸”ä¸è¢«åç»­çš„RRä¿®æ”¹&lt;/strong&gt;ã€‚&lt;br&gt;
å®ƒ&lt;strong&gt;åªåº”åœ¨iBGPå¯¹ç­‰ä½“é‚£é‡Œæ¥æ”¶åˆ°&lt;/strong&gt;ï¼Œåœ¨RRä¸Šoriginator-idç”¨æ¥æ›¿ä»£è·¯ç”±é€‰æ‹©è¿‡ç¨‹ä¸­çš„RouterIDã€‚å®ƒåº”è¯¥æ˜¯è¿™äº›è·¯ç”±å™¨çš„RouterIDï¼šåœ¨æœ¬åœ°ASå§‹å‘è·¯ç”±çš„BGPå®£å‘Šè€…çš„router-idï¼›å¦‚æœæ˜¯ä»eBGPå­¦åˆ°çš„å°±æ˜¯æœ€åˆå­¦åˆ°é‚£ä¸ªæ¡ç›®çš„è·¯ç”±å™¨(æœ¬ASå†…è¾¹ç•Œè·¯ç”±å™¨)çš„router-idï¼ˆå®ƒä¸€å®šæ˜¯æœ¬ASå†…è·¯ç”±å™¨çš„router-idï¼‰&lt;/p&gt;
&lt;h3 id=&#34;3-cluster_list&#34;&gt;3. Cluster_List&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ç”¨äºRRï¼Œé˜²æ­¢RRä¹‹é—´çš„ç¯è·¯&lt;/code&gt;&lt;br&gt;
æ˜¯&lt;strong&gt;è·¯ç”±ç»è¿‡çš„è·¯ç”±åå°„å™¨çš„ç°‡ID&lt;/strong&gt;ï¼ˆé»˜è®¤RRçš„router-IDï¼‰çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœè·¯ç”±åå°„å™¨æ¥æ”¶åˆ°çš„è·¯ç”±çš„cluster-Listä¸­å‘ç°äº†è‡ªå·±çš„æœ¬åœ°ç°‡IDï¼Œå°±çŸ¥é“äº§ç”Ÿäº†ç¯è·¯ï¼Œäºæ˜¯å¿½ç•¥è¯¥è·¯ç”±æ¡ç›®ï¼ŒRRä»è€Œèƒ½å¤Ÿåˆ†åˆ«å‡ºè·¯ç”±é€‰æ‹©ä¿¡æ¯æ˜¯å¦åˆç¯å›åˆ°åŒä¸€ä¸ªç°‡ã€‚å¯ä»¥é…ç½®bgp cluster-idã€‚cluter-idé»˜è®¤ä¸ºRRè‡ªå·±çš„router-idæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„RRéƒ½ä¸åœ¨åŒä¸€ä¸ªç°‡ã€‚&lt;/p&gt;
&lt;h1 id=&#34;bgpé€‰è·¯åŸåˆ™&#34;&gt;BGPé€‰è·¯åŸåˆ™&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;å‰æ&lt;/strong&gt;ï¼š&lt;code&gt;å¦‚æœæ­¤è·¯ç”±çš„ä¸‹ä¸€è·³ä¸å¯è¾¾ï¼Œå¿½ç•¥æ­¤è·¯ç”±&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;1-preferred-valueé¦–é€‰é¡¹&#34;&gt;1. Preferred-Valueï¼ˆé¦–é€‰é¡¹ï¼‰&lt;/h2&gt;
&lt;p&gt;è¶Šå¤§è¶Šä¼˜&lt;code&gt;é»˜è®¤0ï¼Œåªå…·æœ‰æœ¬åœ°æ„ä¹‰ï¼Œä¸ä¼ é€’ç»™å¯¹ç­‰ä½“&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613136468957.png&#34; alt=&#34;Preferred-Value&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-local-preferenceæœ¬åœ°ä¼˜å…ˆçº§&#34;&gt;2. Local-Preferenceï¼ˆæœ¬åœ°ä¼˜å…ˆçº§ï¼‰&lt;/h2&gt;
&lt;p&gt;è¶Šå¤§è¶Šä¼˜&lt;code&gt;é»˜è®¤100ï¼Œå±äºå…¬è®¤éå¼ºåˆ¶å±æ€§ï¼Œåªåœ¨ASå†…éƒ¨ä¼ é€’&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613136498327.png&#34; alt=&#34;Local-Preference&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-æœ¬åœ°èµ·æºè¯„ä¼°&#34;&gt;3. æœ¬åœ°èµ·æºè¯„ä¼°&lt;/h2&gt;
&lt;p&gt;æœ¬åœ°ç”Ÿæˆè·¯ç”±ä¼˜å…ˆï¼Œæ‰‹åŠ¨èšåˆ&amp;gt;è‡ªåŠ¨èšåˆ&amp;gt;network&amp;gt;import-route&lt;code&gt;èµ·æºäº0.0.0.0æˆ–è€…127.0.0.1çš„ï¼Œä¾‹å¦‚networkã€aggregateã€import-route&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613136544811.png&#34; alt=&#34;æœ¬åœ°èµ·æºè¯„ä¼°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¾‹å¦‚ï¼šR1ã€R2éƒ½å°†10.1.12.0/24å®£å‘Šè¿›BGPï¼ŒR2æ”¶åˆ°R1å‘è¿‡æ¥çš„10.1.12.0 çš„è·¯ç”±ï¼Œprefer-valueã€local-preferenceéƒ½ä¸€æ ·ï¼Œä½†æ˜¯æœ¬åœ°å‘èµ·çš„ä¼˜å…ˆï¼Œæ‰€ä»¥bgpè¡¨ä¸­è‡ªå·±å®£å‘Šçš„è·¯ç”±ä¸ºæœ€ä¼˜è·¯å¾„&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ‰‹åŠ¨èšåˆå’Œè‡ªåŠ¨èšåˆçš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨èšåˆå¯ä»¥èšåˆnetworkå’Œimport-routeçš„è·¯ç”±æ¡ç›®&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨èšåˆåªèƒ½èšåˆimport-routeçš„è·¯ç”±æ¡ç›®ï¼Œå¹¶ä¸”åªèƒ½æ±‡æ€»ä¸ºä¸»ç±»è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-as-path&#34;&gt;4. as-path&lt;/h2&gt;
&lt;p&gt;é•¿åº¦è¶ŠçŸ­è¶Šä¼˜&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;bestroute as-path-ignore&lt;/code&gt;è·³è¿‡æœ¬æ¡&lt;/li&gt;
&lt;li&gt;AS_CONFED_SEQUENCE å’Œ AS_CONFED_SETï¼ˆè”ç›Ÿå†…éƒ¨ASå·ï¼‰ä¸è®¡å…¥as-pathé•¿åº¦&lt;/li&gt;
&lt;li&gt;AS_SETé•¿åº¦è®¡ä¸º1&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613136808415.png&#34; alt=&#34;as-path&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¾‹å¦‚ï¼šå·¦ä¾§è·¯å¾„è·¯ç”±ä¼ é€’è¿‡æ¥as-pathä¸º&lt;code&gt;200 100&lt;/code&gt;ï¼Œé•¿åº¦ä¸º 2ï¼›å³ä¾§ä¼ é€’è¿‡æ¥as-pathä¸º&lt;code&gt;400&lt;/code&gt;, é•¿åº¦ä¸º1ï¼Œä¼˜é€‰å³ä¾§ä¼ é€’è¿‡æ¥çš„è·¯ç”±ä¸ºæœ€ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-è·¯ç”±èµ·æºä»£ç &#34;&gt;5. è·¯ç”±èµ·æºä»£ç &lt;/h2&gt;
&lt;p&gt;&lt;code&gt;i&amp;gt;e&amp;gt;?&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;6-medå€¼å³costå€¼&#34;&gt;6. MEDå€¼ï¼ˆå³costå€¼ï¼‰&lt;/h2&gt;
&lt;p&gt;è¶Šå°è¶Šä¼˜&lt;code&gt;é»˜è®¤ä¸º0&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤åªæ¯”è¾ƒas-pathä¸­æœ€è¿‘ä¸€ä¸ªç›¸åŒasä¸­çš„è·¯ç”±ï¼Œå¦åˆ™å¿½ç•¥æ­¤æ¡&lt;/li&gt;
&lt;li&gt;é…ç½®&lt;code&gt;compare-different-as-med&lt;/code&gt;ï¼Œå…è®¸æ¯”è¾ƒæ¥è‡ªä¸åŒè‡ªæ²»ç³»ç»Ÿä¸­çš„é‚»å±…çš„è·¯ç”±çš„MEDå€¼&lt;/li&gt;
&lt;li&gt;é…ç½®&lt;code&gt;bestroute med-confederation&lt;/code&gt;ï¼Œä»…åœ¨è”ç›Ÿå†…æ¯”è¾ƒMEDå€¼&lt;code&gt;å³è¶…å‡ºå­ASçš„ç•Œé™ï¼Œè¾¹ç•Œæ˜¯è”ç›Ÿ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é…ç½®&lt;code&gt;deterministic-med&lt;/code&gt;ï¼Œå¯¹ä»å¤šä¸ªä¸åŒASæ”¶åˆ°çš„ç›¸åŒå‰ç¼€çš„è·¯ç”±è¿›è¡Œé€‰è·¯æ—¶ï¼Œé¦–å…ˆä¼šæŒ‰è·¯ç”±çš„AS_Pathæœ€å·¦è¾¹çš„ASå·è¿›è¡Œåˆ†ç»„ã€‚åœ¨ç»„å†…è¿›è¡Œæ¯”è¾ƒåï¼Œå†ç”¨ç»„ä¸­çš„ä¼˜é€‰è·¯ç”±å’Œå…¶ä»–ç»„ä¸­çš„ä¼˜é€‰è·¯ç”±è¿›è¡Œæ¯”è¾ƒï¼Œæ¶ˆé™¤äº†é€‰è·¯çš„ç»“æœå’Œè·¯ç”±æ¥æ”¶é¡ºåºçš„ç›¸å…³æ€§&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613137319981.png&#34; alt=&#34;MEDå€¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-ebgpibgp&#34;&gt;7. EBGP&amp;gt;IBGP&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613137692207.png&#34; alt=&#34;EBGP&amp;gt;IBGP&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;8-bgpä¸‹ä¸€è·³çš„igpåº¦é‡&#34;&gt;8. BGPä¸‹ä¸€è·³çš„IGPåº¦é‡&lt;/h2&gt;
&lt;p&gt;è¶Šå°è¶Šä¼˜&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613137783314.png&#34; alt=&#34;BGPä¸‹ä¸€è·³çš„IGPåº¦é‡&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ä»¥ä¸Šå…¨éƒ¨ç›¸åŒ&lt;strong&gt;ä¸”as-pathå®Œå…¨ç›¸åŒ&lt;/strong&gt;ï¼Œåˆ™ä¸ºç­‰ä»·è·¯ç”±ï¼Œå¯ä»¥è´Ÿè½½åˆ†æ‹…ã€‚ä½†æ˜¯&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹max-pathsä¸º1&lt;/strong&gt;ï¼Œå³æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸‹ä¸€è·³ï¼Œå› æ­¤é€šå‘Šç»™é‚»å±…çš„è·¯ç”±æ¡ç›®åªæœ‰ä¸€æ¡æœ€ä¼˜è·¯ç”±ã€‚å¦‚æœè¦è¿›è¡Œè´Ÿè½½åˆ†æ‹…ï¼Œéœ€è¦ä¿®æ”¹max-pathså€¼ã€‚&lt;strong&gt;å½“è´Ÿè½½åˆ†æ‹…æ—¶ï¼Œä»¥ä¸‹åŸåˆ™æ— æ•ˆ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;h2 id=&#34;9-cluster-list&#34;&gt;9. Cluster-List&lt;/h2&gt;
&lt;p&gt;é•¿åº¦è¶ŠçŸ­è¶Šä¼˜&lt;code&gt;ç”±RRæ·»åŠ è¯¥å±æ€§ï¼ŒCluster-Listä¸­åŒ…å«RRçš„ClusterIDï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºRRçš„RouterIDï¼Œç”¨äºRRçš„é˜²ç¯&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613137980850.png&#34; alt=&#34;Cluster-List&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;10-routeridérråå°„çš„è·¯ç”±originator_idç»è¿‡rråå°„çš„è·¯ç”±&#34;&gt;10.  RouterIDï¼ˆéRRåå°„çš„è·¯ç”±ï¼‰/Originator_IDï¼ˆç»è¿‡RRåå°„çš„è·¯ç”±ï¼‰&lt;/h2&gt;
&lt;p&gt;è¶Šå°è¶Šä¼˜&lt;code&gt;å¦‚æœä¸¤æ¡è·¯ç”±ä¸€æ¡åªæœ‰Originator_IDã€ä¸€æ¡åªæœ‰RouterIDï¼Œé‚£ä¹ˆé€‰æ‹©åªæœ‰RouterIDé‚£æ¡ã€‚å› ä¸ºæºå¸¦Originator_IDé‚£æ¡è·¯ç”±æ˜¯ç»è¿‡åå°„çš„ï¼Œç»è¿‡åå°„çš„è·¯ç”±å¿…ç„¶ä¼šæºå¸¦Clust-listï¼Œè€Œä¸ç»è¿‡åå°„çš„ä¸æºå¸¦ï¼Œå³é•¿åº¦ä¸º0ï¼Œæ‰€ä»¥ä¼šé€‰æ‹©åªæœ‰RouterIDçš„é‚£æ¡è·¯ç”±&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613138092003.png&#34; alt=&#34;Originator_ID&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
aså¤–éƒ¨è·¯ç”±ï¼Œoriginator-idå°±æ˜¯è¾¹ç•Œè·¯ç”±å™¨5å’Œ6ï¼Œè¿™é‡Œè™½ç„¶é‚»å±…R3è·¯ç”±å™¨IDå°ï¼Œä½†æ˜¯ç”±äº originator-idæ˜¯4é‚£è¾¹å°ï¼Œæ‰€ä»¥é€‰æ‹©å³ä¾§è¿‡æ¥çš„è·¯ç”±ä¸ºæœ€ä¼˜&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613138187638.png&#34; alt=&#34;RouterID&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;11-å¯¹ç­‰ä½“çš„ipåœ°å€&#34;&gt;11. å¯¹ç­‰ä½“çš„IPåœ°å€&lt;/h2&gt;
&lt;p&gt;è¶Šå°è¶Šä¼˜&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613138239921.png&#34; alt=&#34;å¯¹ç­‰ä½“çš„IPåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸‹æ–¹è·¯ç”±å™¨ä¸ä¸Šé¢è·¯ç”±å™¨çš„2ä¸ªåœ°å€10.1.12.2å’Œ10.1.22.2åˆ†åˆ«å»ºç«‹2ä¸ªé‚»å±…ï¼Œ2ä¸ªé“¾è·¯igpå¼€é”€ä¹Ÿç›¸åŒï¼Œè¿™2ä¸ªé‚»å±…å…¶å®æ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œæ‰€ä»¥è·¯ç”±å™¨idä¸€æ ·ï¼Œè‡³æ­¤å‰é¢æ‰€æœ‰çš„æ³•åˆ™éƒ½æ— æ³•æ‰“ç ´åƒµå±€ï¼Œæœ€ç»ˆåªèƒ½æ ¹æ®å»ºé‚»å±…åœ°å€è¶Šä½è¶Šä¼˜å…ˆï¼Œé€‰æ‹©äº†10.1.12.2çš„é‚»å±…å…³ç³»æ¥å‘é€BGPè·¯ç”±&lt;/p&gt;
&lt;h1 id=&#34;bgpçš„é˜²ç¯&#34;&gt;BGPçš„é˜²ç¯&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;EBGP&lt;/strong&gt;&lt;br&gt;
é€šè¿‡as-pathé˜²ç¯ã€‚ä¸¢å¼ƒä»EBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„åœ¨as-pathå±æ€§é‡ŒåŒ…å«è‡ªèº«aså·çš„ä»»ä½•æ›´æ–°ä¿¡æ¯ã€‚å¯ä»¥é…ç½®&lt;code&gt;peer allow-as loop é‡å¤å‡ºç°çš„æ¬¡æ•°&lt;/code&gt;ï¼Œæ¥é…ç½®ä¸€ä¸ªASå·åœ¨as-pathä¸­å‡ºç°çš„æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IBGP&lt;/strong&gt;&lt;br&gt;
é€šè¿‡æ°´å¹³åˆ†éš”é˜²ç¯ã€‚BGPè·¯ç”±å™¨ä¸ä¼šå°†ä»»ä½•ä»IBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„æ›´æ–°ä¿¡æ¯ä¼ ç»™å…¶ä»–IBGPå¯¹ç­‰ä½“ã€‚è¿™ä¸ªå¸¦æ¥è·¯ç”±é»‘æ´ç­‰é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡å…¨äº’è”ã€RRã€è”ç›Ÿç­‰æ‰‹æ®µè§£å†³&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±åå°„å™¨&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡Cluster-listé˜²æ­¢RRé—´ç¯è·¯ã€‚RRæ”¶åˆ°çš„è·¯ç”±çš„Cluster-listä¸­åŒ…å«è‡ªå·±çš„cluste-idåˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;é€šè¿‡Originator_IDé˜²æ­¢å®¢æˆ·ç«¯ä¹‹é—´ç¯è·¯ã€‚å®¢æˆ·ç«¯æ”¶åˆ°çš„è·¯ç”±çš„Originator_IDä¸ºè‡ªå·±çš„RouterIDåˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±èšåˆæ—¶ï¼Œèšåˆè·¯ç”±å™¨ä¼šè‡ªåŠ¨äº§ç”ŸæŒ‡å‘null0çš„è·¯ç”±&lt;code&gt;è‡ªåŠ¨å’Œæ‰‹åŠ¨èšåˆéƒ½ä¼šäº§ç”Ÿ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;IBGPé»˜è®¤ä¸èƒ½é‡å‘å¸ƒç»™IGPï¼Œå³æŠŠBGPçš„è·¯ç”±å¼•å…¥åˆ°IGPä¸­åªä¼šå¼•å…¥EBGPçš„è·¯ç”±ï¼Œä¸ä¼šå¼•å…¥IBGPçš„è·¯ç”±ã€‚å¦‚æœæƒ³è¦å¼•å…¥IBGPçš„è·¯ç”±éœ€è¦åœ¨&lt;code&gt;import bgp&lt;/code&gt;åé¢å†åŠ ä¸ŠIBGPã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è§£å†³ibgpçš„æ°´å¹³åˆ†éš”é˜²ç¯å¯¼è‡´çš„é—®é¢˜&#34;&gt;è§£å†³IBGPçš„æ°´å¹³åˆ†éš”é˜²ç¯å¯¼è‡´çš„é—®é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;è·¯ç”±åå°„å™¨&#34;&gt;è·¯ç”±åå°„å™¨&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æˆä¸ºRRçš„ä¸¤ç§æ–¹å¼ï¼š1.é…ç½®ClusterIDï¼›2.é…ç½®è‡³å°‘ä¸€ä¸ªå®¢æˆ·ç«¯&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;è§’è‰²&#34;&gt;è§’è‰²&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590220985716.png&#34; alt=&#34;BGPè·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±åå°„å™¨RRï¼šå…è®¸æŠŠä»IBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±&lt;strong&gt;åå°„åˆ°å…¶ä»–IBGPå¯¹ç­‰ä½“çš„BGPè®¾å¤‡&lt;/strong&gt;ï¼Œç±»ä¼¼OSPFç½‘ç»œä¸­çš„DRã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·æœºClientï¼šä¸RRå½¢æˆåå°„é‚»å±…å…³ç³»çš„IBGPè®¾å¤‡ã€‚&lt;strong&gt;åœ¨ASå†…éƒ¨å®¢æˆ·æœºåªéœ€è¦ä¸RRç›´è¿&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éå®¢æˆ·æœºNon-Clientï¼šæ—¢ä¸æ˜¯RRä¹Ÿä¸æ˜¯å®¢æˆ·æœºçš„IBGPè®¾å¤‡ã€‚åœ¨AS&lt;strong&gt;å†…éƒ¨éå®¢æˆ·æœºä¸RR&lt;/strong&gt;ä¹‹é—´ï¼Œä»¥åŠ&lt;strong&gt;æ‰€æœ‰çš„éå®¢æˆ·æœºä¹‹é—´&lt;/strong&gt;ä»ç„¶å¿…é¡»å»ºç«‹&lt;strong&gt;å…¨è¿æ¥å…³ç³»&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;å®¢æˆ·ç«¯å’Œéå®¢æˆ·ç«¯åªå…·æœ‰æœ¬åœ°æ„ä¹‰ï¼Œå¹¶ä¸”åªæœ‰RRæ‰çŸ¥é“ã€‚å®¢æˆ·ç«¯å’Œéå®¢æˆ·ç«¯éƒ½åªå’ŒRRå»ºç«‹é‚»å±…å…³ç³»ï¼ŒRRæ”¶åˆ°åè´Ÿè´£è½¬å‘ï¼Œå› æ­¤åªéœ€è¦åœ¨RRä¸Šå®šä¹‰å®¢æˆ·ç«¯å’Œéå®¢æˆ·ç«¯&lt;/code&gt;&lt;br&gt;
&lt;code&gt;RRåå°„çš„è·¯ç”±æ¡ç›®ä¸ä¿®æ”¹ä»»ä½•å±æ€§ï¼ŒåŒæ—¶ä¼šè¿½åŠ å±æ€§Cluster-listå’ŒOriginator_IDï¼Œç”¨äºé˜²æ­¢é›†ç¾¤ä¹‹é—´å’Œé›†ç¾¤å†…éƒ¨çš„ç¯è·¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å§‹å‘è€…Originatorï¼šåœ¨ASå†…éƒ¨å§‹å‘è·¯ç”±çš„è®¾å¤‡ã€‚Originator_IDå±æ€§ç”¨äº&lt;strong&gt;é˜²æ­¢é›†ç¾¤å†…äº§ç”Ÿè·¯ç”±ç¯è·¯&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é›†ç¾¤Clusterï¼šè·¯ç”±åå°„å™¨åŠå…¶å®¢æˆ·æœºçš„é›†åˆã€‚Cluster_Listå±æ€§ç”¨äºé˜²æ­¢é›†ç¾¤é—´äº§ç”Ÿè·¯ç”±ç¯è·¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&#34;&gt;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;RRçªç ´äº†&amp;quot;ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”± åªå‘å¸ƒç»™å®ƒçš„EBGPå¯¹ç­‰ä½“&amp;quot;çš„é™åˆ¶&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»éå®¢æˆ·æœº&lt;sub&gt;IBGP&lt;/sub&gt;å­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRçš„æ‰€æœ‰å®¢æˆ·æœº&lt;sub&gt;å’ŒEBGPå¯¹ç­‰ä½“&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;ä»å®¢æˆ·æœºå­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRæ‰€æœ‰éå®¢æˆ·æœºå’Œå®¢æˆ·æœº&lt;sub&gt;ï¼ˆå‘èµ·æ­¤è·¯ç”±çš„å®¢æˆ·æœºé™¤å¤–ï¼‰&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;ä»EBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ‰€æœ‰çš„éå®¢æˆ·æœºå’Œå®¢æˆ·æœº&lt;br&gt;
&lt;code&gt;ä»éå®¢æˆ·ç«¯å­¦åˆ°çš„åªå‘å¸ƒç»™å®¢æˆ·ç«¯ï¼Œå¦åˆ™å‘å¸ƒç»™æ‰€æœ‰çš„å®¢æˆ·ç«¯å’Œéå®¢æˆ·ç«¯&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šeBGP--&amp;gt;æ‰€æœ‰å®¢æˆ·æœºå’Œéå®¢æˆ·æœºï¼ˆå› ä¸ºè¿™äº›è®¾å¤‡ä¸RRä¹‹é—´éƒ½æ˜¯IBGPå…³ç³»ï¼‰ï¼Œéå®¢æˆ·æœºè·¯ç”±--&amp;gt;æ‰€æœ‰å®¢æˆ·æœºå’ŒeBGPï¼Œå®¢æˆ·æœº--&amp;gt;æ‰€æœ‰å®¢æˆ·æœºã€éå®¢æˆ·æœºå’ŒeBGP&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è·¯ç”±åå°„ç°‡å³è·¯ç”±åå°„é›†ç¾¤cluster&#34;&gt;è·¯ç”±åå°„ç°‡ï¼ˆå³è·¯ç”±åå°„é›†ç¾¤ï¼ŒClusterï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡4å­—èŠ‚çš„Cluster_IDæ¥æ ‡è¯†Clusterï¼Œé€šå¸¸ä¼šä½¿ç”¨LoopBackåœ°å€ä½œä¸ºCluster_ID&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªClusteré‡Œå¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–è€…å¤šä¸ªRRï¼›ä¸€ä¸ªClientå¯ä»¥åŒæ—¶å±äºå¤šä¸ªCluster&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åå°„å™¨éƒ¨ç½²æ–¹å¼&#34;&gt;åå°„å™¨éƒ¨ç½²æ–¹å¼&lt;/h3&gt;
&lt;h4 id=&#34;1-å¤‡ä»½è·¯ç”±åå°„å™¨&#34;&gt;1. å¤‡ä»½è·¯ç”±åå°„å™¨&lt;/h4&gt;
&lt;p&gt;ä¸ºå¢åŠ ç½‘ç»œçš„&lt;strong&gt;å¯é æ€§&lt;/strong&gt;ï¼Œé˜²æ­¢å•ç‚¹æ•…éšœå¯¹ç½‘ç»œé€ æˆå½±å“ï¼Œéœ€è¦åœ¨ä¸€ä¸ªé›†ç¾¤ä¸­é…ç½®ä¸€ä¸ªä»¥ä¸Šçš„RRï¼Œä½†&lt;strong&gt;é›†ç¾¤ä¸­çš„æ‰€æœ‰RRå¿…é¡»ä½¿ç”¨ç›¸åŒçš„ClusterID&lt;/strong&gt;ï¼Œä»¥é¿å…RRä¹‹é—´çš„è·¯ç”±ç¯è·¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225110630.png&#34; alt=&#34;å¤‡ä»½è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;è·¯ç”±åå°„å™¨RR1å’ŒRR2åœ¨åŒä¸€ä¸ªé›†ç¾¤å†…ï¼Œé…ç½®äº†ç›¸åŒçš„Cluster ID&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“å®¢æˆ·æœºClient1ä»EBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°ä¸€æ¡æ›´æ–°è·¯ç”±ï¼Œå®ƒå°†é€šè¿‡IBGPå‘RR1å’ŒRR2é€šå‘Šè¿™æ¡è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;RR1å’ŒRR2åœ¨æ¥æ”¶åˆ°è¯¥æ›´æ–°è·¯ç”±åï¼Œå°†æœ¬åœ°Cluster IDæ·»åŠ åˆ°Cluster Listå‰é¢ï¼Œç„¶åå‘å…¶ä»–çš„å®¢æˆ·æœºï¼ˆClient2ã€Client3ï¼‰åå°„ï¼ŒåŒæ—¶ç›¸äº’åå°„ã€‚&lt;/li&gt;
&lt;li&gt;RR1å’ŒRR2åœ¨æ¥æ”¶åˆ°è¯¥åå°„è·¯ç”±åï¼Œæ£€æŸ¥Cluster Listï¼Œå‘ç°è‡ªå·±çš„Cluster IDå·²ç»åŒ…å«åœ¨Cluster Listä¸­ã€‚äºæ˜¯RR1å’ŒRR2ä¸¢å¼ƒè¯¥æ›´æ–°è·¯ç”±ï¼Œä»è€Œé¿å…äº†è·¯ç”±ç¯è·¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-å¤šé›†ç¾¤è·¯ç”±åå°„å™¨&#34;&gt;2. å¤šé›†ç¾¤è·¯ç”±åå°„å™¨&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªASä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªé›†ç¾¤ï¼Œå„ä¸ªé›†ç¾¤çš„RRä¹‹é—´å»ºç«‹IBGPå¯¹ç­‰ä½“ã€‚å½“RRæ‰€å¤„çš„ç½‘ç»œå±‚ä¸åŒæ—¶ï¼Œå¯ä»¥å°†è¾ƒä½ç½‘ç»œå±‚æ¬¡çš„RRé…æˆå®¢æˆ·æœºï¼Œå½¢æˆåˆ†çº§RRã€‚å½“RRæ‰€å¤„çš„ç½‘ç»œå±‚ç›¸åŒæ—¶ï¼Œå¯ä»¥å°†ä¸åŒé›†ç¾¤çš„RRå…¨è¿æ¥ï¼Œå½¢æˆåŒçº§RRã€‚&lt;/p&gt;
&lt;h5 id=&#34;1-åˆ†çº§è·¯ç”±åå°„å™¨&#34;&gt;1. åˆ†çº§è·¯ç”±åå°„å™¨&lt;/h5&gt;
&lt;p&gt;åœ¨å®é™…çš„RRéƒ¨ç½²ä¸­ï¼Œå¸¸ç”¨çš„æ˜¯åˆ†çº§RRçš„åœºæ™¯ã€‚ISPä¸ºAS100æä¾›Internetè·¯ç”±ã€‚AS100å†…éƒ¨åˆ†ä¸ºä¸¤ä¸ªé›†ç¾¤ï¼Œå…¶ä¸­Cluster1å†…çš„å››å°è®¾å¤‡æ˜¯æ ¸å¿ƒè·¯ç”±å™¨ï¼Œé‡‡ç”¨å¤‡ä»½RRçš„å½¢å¼ä¿è¯å¯é æ€§ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225258979.png&#34; alt=&#34;åˆ†çº§è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-åŒçº§è·¯ç”±åå°„å™¨&#34;&gt;2. åŒçº§è·¯ç”±åå°„å™¨&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225345221.png&#34; alt=&#34;åŒçº§è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸€ä¸ªéª¨å¹²ç½‘è¢«åˆ†æˆå¤šä¸ªé›†ç¾¤ã€‚å„é›†ç¾¤çš„RRäº’ä¸ºéå®¢æˆ·æœºå…³ç³»ï¼Œå¹¶å»ºç«‹å…¨è¿æ¥ã€‚æ­¤æ—¶è™½ç„¶æ¯ä¸ªå®¢æˆ·æœºåªä¸æ‰€åœ¨é›†ç¾¤çš„RRå»ºç«‹IBGPè¿æ¥ï¼Œä½†æ‰€æœ‰RRå’Œå®¢æˆ·æœºéƒ½èƒ½æ”¶åˆ°å…¨éƒ¨è·¯ç”±ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è”ç›Ÿ&#34;&gt;è”ç›Ÿ&lt;/h2&gt;
&lt;p&gt;è§£å†³ASå†…éƒ¨çš„IBGPç½‘ç»œè¿æ¥æ¿€å¢é—®é¢˜ï¼Œé™¤äº†ä½¿ç”¨è·¯ç”±åå°„å™¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è”ç›Ÿï¼ˆConfederationï¼‰ã€‚è”ç›Ÿ&lt;strong&gt;å°†ä¸€ä¸ªASåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå­AS&lt;/strong&gt;ã€‚&lt;strong&gt;æ¯ä¸ªå­ASå†…éƒ¨å»ºç«‹IBGPå…¨è¿æ¥å…³ç³»ï¼Œå­ASä¹‹é—´å»ºç«‹è”ç›ŸEBGPè¿æ¥å…³ç³»ï¼ˆ&lt;code&gt;å­ASä¹‹é—´é€šå‘Šè·¯ç”±ä¸ä¿®æ”¹ä¸‹ä¸€è·³&lt;/code&gt;ï¼‰ï¼Œä½†è”ç›Ÿå¤–éƒ¨ASä»è®¤ä¸ºè”ç›Ÿæ˜¯ä¸€ä¸ªAS&lt;/strong&gt;ã€‚é…ç½®è”ç›Ÿåï¼ŒåŸASå·å°†ä½œä¸ºæ¯ä¸ªè·¯ç”±å™¨çš„è”ç›ŸIDã€‚è¿™æ ·æœ‰ä¸¤ä¸ª&lt;strong&gt;å¥½å¤„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥ä¿ç•™åŸæœ‰çš„IBGPå±æ€§ï¼ŒåŒ…æ‹¬Local Preferenceå±æ€§ã€MEDå±æ€§å’ŒNEXT_HOPå±æ€§ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;è”ç›Ÿç›¸å…³çš„å±æ€§åœ¨ä¼ å‡ºè”ç›Ÿæ—¶ä¼šè‡ªåŠ¨è¢«åˆ é™¤ï¼Œå³ç®¡ç†å‘˜æ— éœ€åœ¨è”ç›Ÿçš„å‡ºå£å¤„é…ç½®è¿‡æ»¤å­ASå·ç­‰ä¿¡æ¯çš„æ“ä½œã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590226126773.png&#34; alt=&#34;BGPè”ç›Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
AS100ä½¿ç”¨è”ç›Ÿåè¢«åˆ’åˆ†ä¸º3ä¸ªå­ASï¼šAS65001ã€AS65002å’ŒAS65003ï¼Œä½¿ç”¨AS100ä½œä¸ºè”ç›ŸIDã€‚æ­¤æ—¶IBGPçš„è¿æ¥æ•°é‡ä»10æ¡å‡å°‘åˆ°4æ¡ï¼Œä¸ä»…ç®€åŒ–äº†è®¾å¤‡çš„é…ç½®ï¼Œä¹Ÿå‡è½»äº†ç½‘ç»œå’ŒCPUçš„è´Ÿæ‹…ã€‚è€ŒAS100å¤–çš„BGPè®¾å¤‡å› ä¸ºä»…çŸ¥é“AS100çš„å­˜åœ¨ï¼Œå¹¶ä¸çŸ¥é“AS100å†…éƒ¨çš„è”ç›Ÿå…³ç³»ï¼Œæ‰€ä»¥ä¸ä¼šå¢åŠ CPUçš„è´Ÿæ‹…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è·¯ç”±åå°„å™¨å’Œè”ç›Ÿçš„æ¯”è¾ƒ&#34;&gt;è·¯ç”±åå°„å™¨å’Œè”ç›Ÿçš„æ¯”è¾ƒ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åœ¨è”ç›Ÿä¸­å¯ä»¥ä½¿ç”¨RRï¼Œä½†æ˜¯åœ¨RRä¸­æ— æ³•ä½¿ç”¨è”ç›Ÿ&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è·¯ç”±åå°„å™¨&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è”ç›Ÿ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦æ›´æ”¹ç°æœ‰çš„ç½‘ç»œæ‹“æ‰‘ï¼Œå…¼å®¹æ€§å¥½&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦æ”¹å˜é€»è¾‘æ‹“æ‰‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é…ç½®æ–¹ä¾¿ï¼Œåªéœ€è¦å¯¹ä½œä¸ºåå°„å™¨çš„è®¾å¤‡è¿›è¡Œé…ç½®ï¼Œå®¢æˆ·æœºå¹¶ä¸éœ€è¦çŸ¥é“è‡ªå·±æ˜¯å®¢æˆ·æœº&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€æœ‰è®¾å¤‡éœ€è¦é‡æ–°è¿›è¡Œé…ç½®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é›†ç¾¤ä¸é›†ç¾¤ä¹‹é—´ä»ç„¶éœ€è¦å…¨è¿æ¥&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è”ç›Ÿçš„å­ASä¹‹é—´æ˜¯ç‰¹æ®Šçš„EBGPè¿æ¥ï¼Œä¸éœ€è¦å…¨è¿æ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‚ç”¨äºä¸­ã€å¤§è§„æ¨¡ç½‘ç»œï¼ˆå¯¹ç°æœ‰ç½‘ç»œè¿›è¡Œæ”¹é€ ï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‚ç”¨äºå¤§è§„æ¨¡ç½‘ç»œï¼ˆæ–°å»ºå¤§å‹ç½‘ç»œï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;æ— æ•ˆè·¯ç”±åœºæ™¯bgpè·¯ç”±æ¡ç›®åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¸åŠ è¡¨&#34;&gt;æ— æ•ˆè·¯ç”±åœºæ™¯ï¼ˆBGPè·¯ç”±æ¡ç›®åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¸åŠ è¡¨ï¼‰&lt;/h1&gt;
&lt;p&gt;BGPæ— æ•ˆè·¯ç”±æ˜¯æŒ‡å¯ä»¥æ”¶åˆ°è·¯ç”±ï¼Œä½†æ˜¯è·¯ç”±æ¡ç›®å‰é¢æ²¡æœ‰&lt;code&gt;*&lt;/code&gt;å·æ ‡è®°ï¼Œè¡¨ç¤ºæ˜¯ä¸€æ¡æ— æ•ˆè·¯ç”±ã€å³BGPè¡¨ä¸­æœ‰è·¯ç”±ï¼Œä½†æ˜¯æ­¤è·¯ç”±æ˜¯ä¸å¯ç”¨è·¯ç”±ï¼Œä¸è£…è¿› IP è·¯ç”±è¡¨ã€‘&lt;/p&gt;
&lt;h2 id=&#34;1-bgpè·¯ç”±ä¸‹ä¸€è·³ä¸å¯è¾¾&#34;&gt;1. BGPè·¯ç”±ä¸‹ä¸€è·³ä¸å¯è¾¾&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613112963841.png&#34; alt=&#34;BGPè·¯ç”±ä¸‹ä¸€è·³ä¸å¯è¾¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1ä¸Šå°†1.1.1.1/32 è·¯ç”±é€šå‘Šè¿›BGPï¼Œåœ¨R3ä¸ŠæŸ¥çœ‹BGPè·¯ç”±è¡¨ï¼Œå¯ä»¥æ”¶åˆ° 1.1.1.1/32 è·¯ç”±ï¼Œä½†ä¸æ˜¯ä¸€æ¡æœ‰æ•ˆè·¯ç”±ï¼Œå› ä¸ºå…¶ä¸‹ä¸€è·³ä¸º12.1.1.1ä¸å¯è¾¾ã€‚&lt;br&gt;
è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R2ä¸Šè®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘&lt;/li&gt;
&lt;li&gt;R2ä¸Šå°†12.1.1.1å¼•å…¥åˆ°IGPæˆ–è€…åœ¨R3ä¸Šåˆ›å»ºä¸€æ¡é™æ€è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-é€šè¿‡é»˜è®¤è·¯ç”±å»ºç«‹bgpé‚»å±…å…³ç³»&#34;&gt;2. é€šè¿‡é»˜è®¤è·¯ç”±å»ºç«‹BGPé‚»å±…å…³ç³»&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613113449411.png&#34; alt=&#34;é€šè¿‡é»˜è®¤è·¯ç”±å»ºç«‹BGPé‚»å±…å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åˆ†åˆ«åœ¨R1å’ŒR2ä¸Šé…ç½®åˆ°å¯¹æ–¹çš„é»˜è®¤è·¯ç”±ï¼Œå¹¶é€šè¿‡lo0å£å»ºç«‹IBGPé‚»å±…å…³ç³»ã€‚åœ¨R1ä¸Šå°†lo1çš„11.1.1.1/32è·¯ç”±å®£å‘Šè¿›BGPã€‚åœ¨R2ä¸Šå¯ä»¥æ”¶åˆ°11.1.1.1/32è·¯ç”±ï¼Œä½†ä¸æ˜¯ä¸€æ¡æœ‰æ•ˆè·¯ç”±ï¼Œå› ä¸º&lt;strong&gt;BGPé‚»å±…æ˜¯é€šè¿‡é»˜è®¤è·¯ç”±å»ºç«‹ï¼Œä¸ºäº†é˜²æ­¢ç¯è·¯é—®é¢˜ä»é‚»å±…æ”¶åˆ°çš„è·¯ç”±æ¡ç›®å…¨éƒ¨è®¾ç½®ä¸ºæ— æ•ˆ&lt;/strong&gt;&lt;br&gt;
è§£å†³æ–¹æ¡ˆï¼š&lt;br&gt;
é€šè¿‡é™æ€è·¯ç”±æˆ–è€…IGPè·¯ç”±å»ºç«‹BGPé‚»å±…å…³ç³»&lt;/p&gt;
&lt;h2 id=&#34;3-bgpè·¯ç”±åŒæ­¥è·¯ç”±ä¸ºæœ‰æ•ˆä½†æ˜¯ä¸ä¼šä¼˜é€‰&#34;&gt;3. BGPè·¯ç”±åŒæ­¥ï¼ˆè·¯ç”±ä¸ºæœ‰æ•ˆï¼Œä½†æ˜¯ä¸ä¼šä¼˜é€‰ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613114719074.png&#34; alt=&#34;BGPè·¯ç”±åŒæ­¥&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1ä¸Šå°†1.1.1.1/32å®£å‘Šè¿› BGPï¼Œåœ¨AS200ä¸­çš„æ‰€æœ‰è®¾å¤‡ä¸Šå¼€å¯BGPåŒæ­¥ï¼ŒR2å¯ä»¥æ”¶åˆ°1.1.1.1/32çš„EBGPè·¯ç”±å¹¶ä¸”ä¼˜é€‰ï¼ŒR2å°†è·¯ç”±é€šå‘Šç»™R3å¹¶ä¸”ä¿®æ”¹ä¸‹ä¸€è·³è‡ªæˆ‘ï¼Œåœ¨R3ä¸ŠæŸ¥çœ‹BGPè·¯ç”±è¡¨ï¼Œå¯ä»¥æ”¶åˆ°1.1.1.1/32çš„è·¯ç”±ï¼Œä½†æ˜¯ä¸ºéä¼˜è·¯ç”±ï¼ŒR3ä¸ä¼˜é€‰åŒæ—¶ä¸ä¼šé€šå‘Šç»™å…¶å®ƒçš„å®¢æˆ·ç«¯ã€‚&lt;br&gt;
BGPå¼€å¯åŒæ­¥åï¼Œä¼šæ£€æŸ¥ä»IBGPé‚»å±…ï¼ˆå¦‚æœè·¯ç”±æ¥è‡ªEBGPé‚»å±…ï¼Œå¿½ç•¥åŒæ­¥æ£€æŸ¥ï¼‰æ¥æ”¶çš„BGPè·¯ç”±æ˜¯å¦åŒæ—¶å­˜åœ¨äºIGPè·¯ç”±è¡¨ä¸­ï¼Œå¦‚æœIGPè·¯ç”±è¡¨ä¸­æœ‰åŒæ ·çš„è·¯ç”±æ¡ç›®ï¼Œä¼˜é€‰è¯¥è·¯ç”±ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ä¼˜é€‰ï¼Œç›®çš„æ˜¯é¿å…å› ä¸ºé€šå‘Šè€Œé€ æˆçš„è·¯ç”±é»‘æ´é—®é¢˜&lt;br&gt;
è§£å†³æ–¹æ¡ˆï¼š&lt;br&gt;
å°†BGPè·¯ç”±å¼•å…¥åˆ°IGPï¼ˆä¸å¯è¡Œï¼‰&lt;/p&gt;
&lt;h2 id=&#34;4-å°†å»ºç«‹é‚»å±…çš„è·¯ç”±é€šå‘Šè¿›bgp&#34;&gt;4. å°†å»ºç«‹é‚»å±…çš„è·¯ç”±é€šå‘Šè¿›BGP&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613114801412.png&#34; alt=&#34;å°†å»ºç«‹é‚»å±…çš„è·¯ç”±é€šå‘Šè¿›BGP&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1å’ŒR2é€šè¿‡OSPFäº’é€šï¼Œå¹¶é€šè¿‡lo0å£å»ºç«‹IBGPé‚»å±…å…³ç³»ã€‚IBGPé‚»å±…å…³ç³»å»ºç«‹åï¼Œåˆ†åˆ«åœ¨R1å’ŒR2ä¸Šå°†lo0å£è·¯ç”±åœ¨å®£å‘Šè¿›BGPã€‚R1å’ŒR2ä¸Šéƒ½å¯ä»¥çœ‹åˆ°å¯¹æ–¹é€šå‘Šçš„BGPè·¯ç”±ï¼Œä½†æ˜¯ä¸ºæ— æ•ˆè·¯ç”±ã€‚&lt;br&gt;
ç”±äºIGPå’ŒBGPé€šå‘Šäº†åŒæ ·çš„è·¯ç”±æ¡ç›®ï¼Œå¹¶ä¸”BGPæ˜¯é€šè¿‡æ­¤è·¯ç”±å»ºç«‹çš„é‚»å±…å…³ç³»ã€‚å¦‚æœç°åœ¨å°†BGPè·¯ç”±è®¾ç½®ä¸ºæœ‰æ•ˆå¹¶ä¸”ä¼˜é€‰&lt;code&gt;éœ€è¦å°†BGPè·¯ç”±çš„ä¼˜å…ˆçº§è®¾ç½®ä¸º9ï¼ˆå°äºospfçš„ä¼˜å…ˆçº§10å°±è¡Œï¼‰&lt;/code&gt;ä¼šå¸¦æ¥IBGPé‚»å±…éœ‡è¡çš„é—®é¢˜ã€‚&lt;br&gt;
åŸå› æ˜¯ç”¨äºå»ºç«‹IBGPé‚»å±…çš„è·¯ç”±ä¼˜é€‰äº†BGPï¼Œå‡ºç°äº†è‡ªç¯&lt;code&gt;å³ç”¨äºå»ºç«‹BGPé‚»å±…çš„è·¯ç”±æ¥è‡ªBGPå†…éƒ¨&lt;/code&gt;ï¼Œå¯¼è‡´è·¯ç”±ä¸å¯è¾¾ã€‚é€ æˆ180ç§’åIBGPé‚»å±…downï¼ŒIBGPé‚»å±…downååœ¨æ¬¡ä¼˜é€‰IGPè·¯ç”±ï¼Œè·¯ç”±å¯è¾¾ã€‚é‡æ–°å»ºç«‹IBGPé‚»å±…å¹¶é‡å¤ä¹‹å‰çš„æµç¨‹ï¼ŒIBGPé‚»å±…ä¼šä¸€ç›´éœ‡è¡ä¸‹å»ã€‚&lt;br&gt;
åä¸ºé’ˆå¯¹è¿™ç§åœºæ™¯åšäº†ä¼˜åŒ–ï¼Œå¦‚æœ&lt;strong&gt;æ”¶åˆ°çš„BGPè·¯ç”±ç­‰äºå»ºç«‹BGPé‚»å±…çš„è·¯ç”±ï¼Œè®¾ç½®è¯¥è·¯ç”±ä¸ºæ— æ•ˆè·¯ç”±&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5-ebgpè·¯ç”±æƒ©ç½šdampening&#34;&gt;5. EBGPè·¯ç”±æƒ©ç½š(dampening)&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613115126892.png&#34; alt=&#34;EBGPè·¯ç”±æƒ©ç½š&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
R1å’ŒR2å»ºç«‹EBGPé‚»å±…ï¼ŒR1å°† 1.1.1.1/32è·¯ç”±é€šå‘Šè¿›BGPï¼Œåœ¨R2ä¸Šé…ç½®BGPè·¯ç”±æƒ©ç½šï¼Œé…ç½®å®Œæˆååœ¨R1ä¸Šè¿ç»­æ‰§è¡Œé’ˆå¯¹1.1.1.1/32è·¯ç”±çš„å–æ¶ˆé€šå‘Šå’Œé€šå‘Šæ“ä½œï¼Œé‚£ä¹ˆåœ¨R2ä¸Š1.1.1.1/32è·¯ç”±è¢«æ ‡è®°ä¸ºDï¼Œè®¾ç½®ä¸ºæ— æ•ˆè·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;6-mpls-vpn-åœºæ™¯lspä¸å®Œæ•´é€ æˆçš„æ— æ•ˆè·¯ç”±&#34;&gt;6. MPLS VPN åœºæ™¯ï¼ˆLSPä¸å®Œæ•´é€ æˆçš„æ— æ•ˆè·¯ç”±ï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613115246569.png&#34; alt=&#34;MPLS VPN åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
AS100å†…é€šè¿‡OSPFè·¯ç”±åè®®äº’è”ï¼ŒPE1å’ŒPE2å»ºç«‹MP-IBGPé‚»å±…å…³ç³»ï¼Œå¹¶åœ¨PE1ä¸Šå°†CE1è·¯ç”±å¼•å…¥åˆ° MP-BGPï¼ŒAS100å†…åªå¼€å¯MPLSï¼Œä½†æ˜¯ä¸é…ç½®LDPã€‚&lt;br&gt;
PE2ä¸Šå¯ä»¥æ”¶åˆ°PE1é€šå‘Šçš„MP-IBGPè·¯ç”±ï¼Œä½†æ˜¯è·¯ç”±ä¸æ˜¯æœ‰æ•ˆè·¯ç”±ï¼Œå› ä¸ºåˆ°è¾¾ç§ç½‘è·¯ç”±çš„ä¸‹ä¸€è·³æ²¡æœ‰ä¸€æ¡å®Œæ•´çš„LSPï¼Œä»è€Œé€ æˆVPNv4è·¯ç”±ä¸æ˜¯ä¸€æ¡æœ‰æ•ˆè·¯ç”±ã€‚&lt;br&gt;
è§£å†³æ–¹æ¡ˆï¼š&lt;br&gt;
åœ¨AS100å†…çš„æ‰€æœ‰è®¾å¤‡ä¸Šå¼€å¯LDPï¼Œé€šè¿‡LDPåˆ†é…å…¬ç½‘æ ‡ç­¾ï¼Œå»ºç«‹ä¸€æ¡åˆ°è¾¾ä¸‹ä¸€è·³çš„LSP&lt;/p&gt;
&lt;h2 id=&#34;7-å…¶ä»–åœºæ™¯&#34;&gt;7. å…¶ä»–åœºæ™¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯VPNv4çš„è·¯ç”±ï¼Œæ— æ³•è¿­ä»£åˆ°ä¸‹ä¸€è·³å¯¹åº”çš„éš§é“ï¼Œæˆ–è€…éš§é“ä¸æ˜¯/32 ä½æ©ç ï¼Œåˆ™æ­¤è·¯ç”±ä¸è¿›å®¢æˆ·çš„å®ä¾‹è·¯ç”±æˆ–è€…ä¸ä¼ ç»™EBGPé‚»å±…&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bgp-rib-only&lt;/code&gt;å‘½ä»¤ç”¨æ¥ç¦æ­¢BGPè·¯ç”±ä¸‹å‘åˆ°IPè·¯ç”±è¡¨&lt;code&gt;åªåœ¨BGPè·¯ç”±è¡¨ä¸­æœ‰ï¼Œä¸è¿›è‡ªèº«è·¯ç”±è¡¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;active-route-advertise&lt;/code&gt;å‘½ä»¤ç”¨æ¥é…ç½®BGPä»…å‘å¸ƒåœ¨IPè·¯ç”±è¡¨ä¸­è¢«ä¼˜é€‰çš„è·¯ç”±ï¼Œé‚£äº›åœ¨BGPä¸­æ˜¯æœ€ä¼˜ä½†æ˜¯åœ¨IPè·¯ç”±è¡¨ä¸­ä¸æ˜¯æœ€ä¼˜çš„è·¯ç”±åˆ™ä¸é€šå‘Šç»™é‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;igpå’Œbgpçš„åŒºåˆ«&#34;&gt;IGPå’ŒBGPçš„åŒºåˆ«&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;IGPä¸»è¦è§£å†³æ•°æ®çš„è½¬å‘ï¼ŒBGPä¸»è¦è§£å†³è·¯ç”±çš„ä¼ é€’å’Œæ§åˆ¶&lt;/li&gt;
&lt;li&gt;IGPï¼Œè¿è¡ŒäºASå†…éƒ¨çš„è·¯ç”±åè®®ï¼Œä¸»è¦æœ‰RIPã€OSPFã€ISISï¼Œç€é‡äºå‘ç°å’Œè®¡ç®—è·¯ç”±ï¼›EGPï¼Œè¿è¡ŒäºASä¹‹é—´çš„è·¯ç”±åè®®ï¼Œç°é€šå¸¸éƒ½æ˜¯æŒ‡BGPï¼Œç€é‡äºæ§åˆ¶è·¯ç”±çš„ä¼ æ’­å’Œé€‰æ‹©æœ€ä¼˜çš„è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bgpç‰¹ç‚¹&#34;&gt;BGPç‰¹ç‚¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;BGPæ˜¯å¤–éƒ¨è·¯ç”±åè®®ï¼Œç”¨æ¥åœ¨ASä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ˜¯ä¸€ç§å¢å¼ºçš„è·ç¦»çŸ¢é‡è·¯ç”±åè®®
&lt;ul&gt;
&lt;li&gt;å¯é çš„è·¯ç”±æ›´æ–°æœºåˆ¶
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨TCPæ‰¿è½½ï¼Œç«¯å£å·ä¸º179&lt;/li&gt;
&lt;li&gt;æ— éœ€å‘¨æœŸæ€§æ›´æ–°ï¼Œè·¯ç”±æ›´æ–°æ—¶åªå‘é€å¢é‡è·¯ç”±&lt;code&gt;è§¦å‘æ›´æ–°å’Œå¢é‡æ›´æ–°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§å‘é€KeepAliveæŠ¥æ–‡æ£€æµ‹TCPçš„è¿é€šæ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„Metricåº¦é‡æ–¹æ³•&lt;/li&gt;
&lt;li&gt;ä»è®¾è®¡ä¸Šé¿å…äº†ç¯è·¯çš„å‘ç”Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ºè·¯ç”±é™„å¸¦å±æ€§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒCIDRï¼ˆæ— ç±»åˆ«åŸŸé—´é€‰è·¯ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„è·¯ç”±è¿‡æ»¤å’Œè·¯ç”±ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å±æ€§æ€»ç»“&#34;&gt;å±æ€§æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æ ¹æ®å±æ€§ä¸»è¦ä½œç”¨ï¼Œå°†å…¶å¯å¤§è‡´åˆ†ä¸º5ä¸ªæ–¹å‘ï¼š&lt;strong&gt;3ä¸ªé€‰è·¯ã€3ä¸ªé˜²ç¯ã€2ä¸ªåå°„ã€2ä¸ªæ±‡æ€»ã€1ä¸ªå›¢ä½“&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613136203738.png&#34; alt=&#34;å±æ€§æ€»ç»“&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3ä¸ªé€‰è·¯weight-local-med&#34;&gt;3ä¸ªé€‰è·¯ï¼ˆweightã€localã€medï¼‰&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆä¸ºä»€ä¹ˆè¦æœ‰ä¸‰ä¸ªé€‰è·¯å±æ€§ï¼Ÿå› ä¸ºä¸‰ä¸ªå±æ€§å„å¸å…¶èŒï¼Œ&lt;strong&gt;ä½œç”¨å‡ä¸ç›¸åŒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;preferred-valueï¼šåªä½œç”¨äºè‡ªå·±ï¼Œä¸å¯ä¼ é€’ç»™å…¶ä»–äººï¼›é€‚ç”¨äºä¸€ä¸ªè·¯ç”±å™¨åœ¨å¤šæ¡è·¯å¾„ä¸‹çš„é€‰è·¯ï¼Œæ— è§†é‚»å±…å±æ€§ï¼Œé»˜è®¤æƒ…å†µä¸‹preferred-value=0&lt;/li&gt;
&lt;li&gt;local-prefï¼šä¸preferred-valueç›¸æ¯”ï¼Œæœ€å¤§çš„ä¼˜ç‚¹ä¸ºå…¬æœ‰ä¸”å¯ä½œç”¨äºASå†…å…¶ä»–è·¯ç”±å™¨ï¼Œç”¨äºæœ¬ASé€‰æ‹©ç¦»å¼€ASçš„å‡ºå£è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;medï¼šä¸å‰ä¸¤è€…ç›¸æ¯”ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå¯ä»¥ä½œç”¨äºå‡ºå£ã€å½±å“å…¶ä»–ASï¼Œå¦‚æœåœ¨æœ¬ASä½¿ç”¨ï¼Œå’Œlocalå·®åˆ«ä¸å¤§ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œmedå±æ€§åªèƒ½åœ¨ä¸¤ä¸ªasä¹‹é—´ä¼ é€’ï¼Œä¸èƒ½ä¼ é€’ç»™ç¬¬ä¸‰ä¸ªasã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3ä¸ªé˜²ç¯origin-as_path-next_hop&#34;&gt;3ä¸ªé˜²ç¯ï¼ˆoriginã€as_pathã€next_hopï¼‰&lt;/h3&gt;
&lt;p&gt;BGPåè®®åˆ©ç”¨3ä¸ªå…¬è®¤å¿…éµå±æ€§è¿›è¡Œé˜²ç¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;originï¼šèµ·æºå±æ€§ï¼Œæ ‡è¯†è¯¥è·¯ç”±çš„æ¥æºæ–¹å¼ï¼Œiè¡¨ç¤ºè‡ªå·±äº§ç”Ÿçš„ã€eè¡¨ç¤ºEGPå­¦åˆ°çš„ã€ï¼Ÿè¡¨ç¤ºå…¶ä»–æ‰‹æ®µå¾—åˆ°çš„ï¼ˆé‡å‘å¸ƒï¼‰ï¼Œä¼˜å…ˆé¡ºåºä¸ºi&amp;gt;e&amp;gt;?ã€‚è¿™ä¸€å±æ€§ï¼Œå®ä¸ºè·¯ç”±åè®®ä¹‹é—´çš„è¾ƒé‡ï¼Œåœ¨è‡ªå·±å†…éƒ¨ä¼ é€’æ˜¯ä¸ä¼šæ”¹å˜å±æ€§çš„ï¼›é€šè¿‡è¿™ä¸€å±æ€§ï¼Œæ¥ä¿è¯ä»è‡ªå·±å‘å‡ºçš„è·¯ç”±ï¼Œç»è¿‡å…¶ä»–åè®®å¤„ç†ä¹‹åï¼Œä¸ä¼šå†æµä¼ ç»™è‡ªå·±ï¼Œä»è€Œé˜²ç¯ã€‚&lt;/li&gt;
&lt;li&gt;as_pathï¼šå°†ç»è¿‡çš„ASç»Ÿç»Ÿè®°ä¸‹æ¥ï¼Œæœ€è¿‘ç»è¿‡çš„çš„æ’å‰é¢ï¼Œè·¯ç”±å™¨æ‹’ç»æ¥å—æºå¸¦è‡ªå·±ASå·çš„è·¯ç”±ï¼Œå½“ç„¶è¯¥å±æ€§ä¹Ÿå¯ä»¥ç”¨æ¥é€‰è·¯ï¼Œas_pathçŸ­çš„ä¼˜å…ˆã€‚&lt;/li&gt;
&lt;li&gt;next_hopï¼šIBGPä¹‹é—´ä¼ é€’è·¯ç”±ä¸ä¼šæ›´æ–°next_hopï¼ˆåªæœ‰next_hopä¸º0.0.0.0çš„æƒ…å†µæ‰ä¼šæ›´æ–°ï¼Œ&lt;code&gt;è‡ªå·±ä¸º0ï¼Œä¿è¯ä»è‡ªå·±å‘å‡ºå»çš„ä¸å†å›æ¥&lt;/code&gt;ï¼‰ï¼›eBGPä¹‹é—´ä¼ é€’è·¯ç”±ä¼šæ›´æ–°next_hopä¸ºè‡ªå·±çš„æ›´æ–°æºåœ°å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2ä¸ªåå°„é˜²ç¯originator-id-cluster-list&#34;&gt;2ä¸ªåå°„é˜²ç¯ï¼ˆoriginator-idã€cluster-listï¼‰&lt;/h3&gt;
&lt;p&gt;éå®¢æˆ·ç«¯ä¹‹é—´ä¸èƒ½ç›¸äº’åå°„ï¼Œä½†åœ¨åå°„ä¹‹åï¼Œå°±è¿èƒŒäº†BGPè®¾è®¡ä¹‹åˆé˜²ç¯çš„ä½œç”¨ï¼Œæ‰€ä»¥åˆè¯ç”Ÿäº†ä¸¤ä¸ªåå°„é˜²ç¯å±æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;originator-idï¼šåå°„è·¯ç”±å™¨æ”¶åˆ°è·¯ç”±åï¼Œç”¨èµ·æºè€…çš„ridæ ‡è®°ï¼Œåé¢çš„è·¯ç”±å™¨çœ‹åˆ°è‡ªå·±çš„ridï¼Œä¸æ”¶ï¼Œä»è€Œèµ·åˆ°é˜²ç¯çš„ä½œç”¨ã€‚originator-idåªèƒ½æ ‡è®°ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè‹¥é€”ç»å¤šä¸ªåå°„å™¨ï¼Œåˆ™æ— èƒ½ä¸ºåŠ›ï¼Œå¯èƒ½å¯¼è‡´åå°„å™¨ä¹‹é—´å‡ºç¯ï¼Œæ‰€ä»¥å‡ºç°äº†cluster-listã€‚&lt;/li&gt;
&lt;li&gt;cluster-listï¼šåå°„è·¯ç”±å™¨åå°„å‡ºå»çš„è·¯ç”±ï¼Œä¼šç”Ÿæˆåˆ—è¡¨ï¼ŒåŠ å…¥è‡ªå·±çš„ridï¼Œæ²¿é€”åå°„çš„å‡åŠ å…¥è‡ªå·±çš„ridï¼Œç­‰æ”¶åˆ°åï¼Œè‹¥åˆ—è¡¨ä¸­æœ‰è‡ªå·±çš„ridï¼Œåˆ™å¿½ç•¥ï¼Œè¾¾åˆ°é˜²ç¯çš„ç›®çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2ä¸ªæ±‡æ€»atomic-aggregate-aggregator&#34;&gt;2ä¸ªæ±‡æ€»ï¼ˆAtomic-aggregateã€aggregatorï¼‰&lt;/h3&gt;
&lt;p&gt;ç”±äºè·¯ç”±åè®®åºå¤§ä¸”å¤æ‚ï¼Œé‚£ä¹ˆé¿å…ä¸äº†éœ€è¦å¯¹ä¸€äº›è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼Œæ±‡æ€»æœ¬èº«å°±æ˜¯æ¶ˆç­ä¸€äº›è·¯ç”±ã€äº§ç”Ÿä¸€äº›è·¯ç”±ï¼Œè€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¿…ç„¶ä¼šä¸¢å¤±å¾ˆå¤šå±æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Atomic-aggregateï¼šé€šè¿‡æ·»åŠ æŸäº›é€‰é¡¹ï¼Œæ¥è¾¾åˆ°å¼¥è¡¥ä¸¢å¤±ä¸€äº›å±æ€§çš„ä½œç”¨ã€‚&lt;br&gt;
è¿½åŠ &lt;code&gt;as-set&lt;/code&gt;ï¼Œç»§æ‰¿æ˜ç»†as-pathå±æ€§ï¼Œé˜²ç¯ï¼›åŠ &lt;code&gt;summary only&lt;/code&gt; åªæ˜¾ç¤ºæ±‡æ€»ï¼›åŠ &lt;code&gt;advertise-map&lt;/code&gt; æ˜¾ç¤ºæŸäº›å±æ€§ï¼›åŠ &lt;code&gt;attribute-map&lt;/code&gt; ä¸ºèšåˆåçš„æ·»åŠ æŸäº›å±æ€§ã€‚&lt;br&gt;
è€Œåœ¨å…¶ä»–è·¯ç”±å™¨å¾—åˆ°æ±‡æ€»è·¯ç”±ä¹‹åï¼Œæœ‰å¯èƒ½éœ€è¦çŸ¥é“æ˜¯è°äº§ç”Ÿçš„æ±‡æ€»ï¼Œé‚£ä¹ˆå°±äº§ç”Ÿäº†aggregatorå±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;aggregatorï¼šé€šå‘Šæ±‡æ€»è·¯ç”±çš„æ±‡æ€»è·¯ç”±å™¨BGP-ID ï¼Œå¯»æ‰¾æ±‡æ€»è€…æ–¹ä¾¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1ä¸ªå›¢ä½“community&#34;&gt;1ä¸ªå›¢ä½“ï¼ˆcommunityï¼‰&lt;/h3&gt;
&lt;p&gt;å›¢ä½“å±æ€§ä¸»è¦æœ‰ä¸¤å¤§ä½œç”¨ï¼š1. ä¸ºäº†å¯è¯»æ€§å¥½ï¼› 2. è§„å®šå’Œè°ç©&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯è¯»æ€§å¥½ï¼š&lt;br&gt;
åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼&lt;code&gt;Xï¼šY&lt;/code&gt; å½¢å¼æ¥æ ‡è¯†ï¼Œä½¿å¾—å¯è¯»æ€§å¤§å¤§æé«˜ã€‚&lt;/li&gt;
&lt;li&gt;è§„å®šå’Œè°ç©ï¼š&lt;br&gt;
åˆ©ç”¨å››æ¡å­å±æ€§æ¥è§„å®šå’Œè°ç©çš„é—®é¢˜ã€‚
&lt;ol&gt;
&lt;li&gt;Internetï¼šé»˜è®¤å±æ€§ï¼Œå¯ä»¥ç»™ä»»ä½•bgpå‘é€ï¼Œä¸å¯¹æºå¸¦å›¢ä½“å€¼çš„è·¯ç”±åšä»»ä½•é™åˆ¶&lt;/li&gt;
&lt;li&gt;no-advertiseï¼šä¸åœ¨ibgpï¼Œebgpé‚»å±…é—´ä¼ é€’ï¼Œç¦æ­¢ä¼ é€’ç»™å…¶ä»–é‚»å±…&lt;/li&gt;
&lt;li&gt;no-exportï¼šåªèƒ½åœ¨ä¸€ä¸ªasä¹‹å†…ä¼ é€’ï¼Œå¯ä»¥åœ¨è”ç›Ÿå†…ä¼ é€’ï¼Œè¯¥å±æ€§å°±æ˜¯é™åˆ¶æºå¸¦å›¢ä½“å€¼çš„è·¯ç”±ä¼ é€’ç»™ebgpé‚»å±…ï¼Œè”ç›Ÿebgpé™¤å¤–&lt;/li&gt;
&lt;li&gt;no-export-subconfedï¼šä¸å‘ä»»ä½•ebgpé‚»å±…å‘é€ï¼ŒåŒ…æ‹¬è”ç›Ÿçš„ebgpé‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;å½±å“bgpé‚»å±…å»ºç«‹çš„å› ç´ &#34;&gt;å½±å“BGPé‚»å±…å»ºç«‹çš„å› ç´ &lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç‰ˆæœ¬å·ï¼šé»˜è®¤æˆ‘4&lt;/li&gt;
&lt;li&gt;ASå·ï¼šIBGPè¦æ±‚å¿…é¡»ä¸€è‡´ï¼ŒEBGPé‚»å±…å¿…é¡»ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;RouterIDï¼šä¸èƒ½å†²çª
&lt;ol&gt;
&lt;li&gt;ç›´è¿å†²çªï¼šåœ°å€å¤§çš„ä¸€æ–¹å¼€å¯TCPè¿æ¥ï¼ŒTCPè¿æ¥å»ºç«‹æˆåŠŸåäº’å‘openæ¶ˆæ¯å¹¶å°†çŠ¶æ€è½¬ä¸ºopensentï¼Œä½†æ˜¯ç”±äºopenæ¶ˆæ¯ä¸­çš„BGP IDï¼ˆBGPæ ‡è¯†ç¬¦ä¸€æ ·ï¼‰å¯¼è‡´å»ºç«‹ä¸èµ·æ¥é‚»å±…ï¼Œäºæ˜¯äº’ç›¸å‘é€notificationæ¶ˆæ¯ï¼Œtype=2 ï¼ˆopenæ¶ˆæ¯ï¼‰ 3é”™è¯¯çš„BGP IDã€‚äº’ç›¸æ”¶åˆ°åè¿›å…¥IdleçŠ¶æ€ï¼Œè¿›å…¥TCPé‡ç½®ã€‚&lt;/li&gt;
&lt;li&gt;éç›´è¿å†²çªï¼šåŒä¸Š&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;179 ç«¯å£è¢«ç¦æ­¢ï¼šå¦‚æœè¢«ç¦æ­¢ï¼Œåˆ™æ— æ³•å»ºç«‹ TCP è¿æ¥ï¼Œä¹Ÿå°±æ— æ³•å»ºç«‹é‚»å±…&lt;/li&gt;
&lt;li&gt;peerå¯è¾¾æ€§ï¼špeeråœ°å€å¿…é¡»å¯è¾¾&lt;/li&gt;
&lt;li&gt;è®¤è¯ä¸é€šè¿‡&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°æŠ¥æ–‡çš„æºåœ°å€å¿…é¡»å’Œpeerçš„åœ°å€ç›¸åŒ&lt;/li&gt;
&lt;li&gt;EBGPç”¨ç¯å›å£å»ºé‚»å±…éœ€è¦æŒ‡å¤šè·³&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bgpåœ¨ä¼ é€’ipv4-ipv6-vpnv4è·¯ç”±æ—¶ä¸ºä»€ä¹ˆæ›´åŠ ç®€å•&#34;&gt;BGPåœ¨ä¼ é€’IPV4ã€IPV6ã€VPNv4è·¯ç”±æ—¶ä¸ºä»€ä¹ˆæ›´åŠ ç®€å•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;BGPæ˜¯å¤–éƒ¨è·¯ç”±åè®®ï¼Œç”¨æ¥åœ¨ASä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯ï¼Œæ˜¯ä¸€ç§å¢å¼ºçš„è·ç¦»çŸ¢é‡è·¯ç”±åè®®ï¼Œå…·æœ‰ä¸°å¯Œçš„Metricè®¡ç®—æ–¹æ³•ï¼Œå¹¶ä¸”æ”¯æŒCIDR&lt;/li&gt;
&lt;li&gt;OpenæŠ¥æ–‡ä¸­çš„Optional Parameterså­—æ®µå¯åå•†ä¼ é€’ä½•ç§è·¯ç”±ï¼Œå¯é€šè¿‡AFIå’ŒSAFIåå•†å…·ä½“æºå¸¦ä½•ç§è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;UpdateæŠ¥æ–‡æ˜¯é‚»å±…ä¹‹é—´ç”¨äºäº¤æ¢è·¯ç”±ä¿¡æ¯çš„æŠ¥æ–‡ï¼Œç”±5ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­åŒ…æ‹¬æ’¤é”€è·¯ç”±ä¿¡æ¯å’Œå¯è¾¾è·¯ç”±ä¿¡æ¯åŠå…¶å„ç§è·¯ç”±å±æ€§ï¼Œæ˜¯ä¸€ç§TLVçš„æŠ¥æ–‡ç»“æ„ï¼Œæºå¸¦å¤šç§è·¯ç”±ä¿¡æ¯æ¯”è¾ƒç®€å•&lt;/li&gt;
&lt;li&gt;æ‹¥æœ‰ä¸°å¯Œçš„æ‰©å±•å±æ€§ä¼ é€’è·¯ç”±&lt;br&gt;
MP_BGPæ˜¯ä¸€ç§å¤šåè®®çš„BGPï¼Œä¸ºäº†æä¾›å¯¹å¤šç§ç½‘ç»œå±‚åè®®çš„æ”¯æŒï¼ŒMP-BGPä½¿ç”¨æ‰©å±•å±æ€§å’Œåœ°å€æ—æ¥å®ç°å¯¹IPv6ã€ç»„æ’­å’ŒVPNç›¸å…³å†…å®¹çš„æ”¯æŒï¼ŒåŒ…å«ä¼ é€’IPv4çš„BGPv4ç‰ˆæœ¬ã€ä¼ é€’IPv6çš„BGPv4+ç‰ˆæœ¬å’Œä¼ é€’ç»„æ’­çš„MBGPç‰ˆæœ¬ï¼Œæ‰€ä»¥å¯ä»¥ä¼ é€’å¤šç§è·¯ç”±æ¡ç›®ï¼Œä¸ºæ”¯æŒVPNv4ï¼Œå¢åŠ äº†å±æ€§å€¼ä¸º14ï¼ˆä¼ é€’å¯è¾¾è·¯ç”±ï¼‰å’Œ15ï¼ˆæ’¤é”€ä¸å¯è¾¾è·¯ç”±ï¼‰çš„ä¸¤ç§å±æ€§ï¼Œä½†æ˜¯BGPåè®®åŸæœ‰çš„æŠ¥æ–‡æœºåˆ¶å’Œè·¯ç”±æœºåˆ¶å¹¶æ²¡æœ‰æ”¹å˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ibgpä¸ebgpä¼ é€’è·¯ç”±æœ‰ä»€ä¹ˆåŒºåˆ«&#34;&gt;IBGPä¸EBGPä¼ é€’è·¯ç”±æœ‰ä»€ä¹ˆåŒºåˆ«&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;next-hopï¼šä»IBGPé‚»å±…å­¦åˆ°çš„è·¯ç”±å‘EBGPä¼ é€’è·¯ç”±çš„æ—¶å€™ï¼Œä¸‹ä¸€è·³æ”¹ä¸ºè‡ªå·±ï¼›ä»EBGPé‚»å±…å­¦åˆ°çš„è·¯ç”±å‘IBGPä¼ é€’è·¯ç”±çš„æ—¶å€™ï¼Œä¸‹ä¸€è·³ä¸æ”¹å˜&lt;/li&gt;
&lt;li&gt;as-pathï¼šä¼ é€’ç»™EBGPé‚»å±…çš„æ—¶å€™ä¼šæ·»åŠ è‡ªå·±çš„ASå·ï¼›ä¼ é€’ç»™IBGPé‚»å±…çš„æ—¶å€™ä¸åŠ è‡ªå·±çš„ASå·&lt;/li&gt;
&lt;li&gt;local-preferenceï¼šEBGPä¼ é€’è·¯ç”±çš„æ—¶å€™å‰¥ç¦»LPå±æ€§ï¼›IBGPä¼ é€’è·¯ç”±æ—¶æºå¸¦LPå±æ€§&lt;/li&gt;
&lt;li&gt;medï¼šä»IBGPé‚»å±…æ”¶åˆ°çš„è·¯ç”±ä¼ é€’ç»™EBGPè·¯ç”±æ—¶å€™MEDé»˜è®¤å‰¥ç¦»ï¼›ä»EBGPé‚»å±…æ”¶åˆ°è·¯ç”±ä¼ é€’ç»™IBGPé‚»å±…çš„æ—¶å€™MEDä¸å˜&lt;/li&gt;
&lt;li&gt;cluster-listå’Œèµ·æºIDï¼šå‘IBGPåå°„è·¯ç”±æ—¶å€™ä¿ç•™cluster-listå’Œèµ·æºIDï¼Œå‘EBGPä¼ é€’è·¯ç”±æ—¶å‰¥ç¦»è¿™ä¸¤ä¸ªå±æ€§&lt;/li&gt;
&lt;/ol&gt;
">BGPåè®®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/igp-xie-yi-isis/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB%E7%9A%84%E5%BB%BA%E7%AB%8B&#34;&gt;ISISé‚»æ¥å…³ç³»çš„å»ºç«‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B9%BF%E6%92%AD%E7%BD%91&#34;&gt;å¹¿æ’­ç½‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E7%BB%86%E8%8A%82&#34;&gt;æŠ¥æ–‡ç»†èŠ‚&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#p2p&#34;&gt;P2P&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#3-way%E6%8A%A5%E6%96%87&#34;&gt;3-wayæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E7%9A%84lsp%E4%BA%A4%E4%BA%92%E8%BF%87%E7%A8%8B&#34;&gt;ISISçš„LSPäº¤äº’è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B9%BF%E6%92%AD%E7%BD%91%E7%BB%9C&#34;&gt;å¹¿æ’­ç½‘ç»œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#p2p%E7%BD%91%E7%BB%9C&#34;&gt;P2Pç½‘ç»œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E7%9A%84ssn%E5%92%8Csrm%E6%A0%87%E5%BF%97&#34;&gt;ISISçš„SSNå’ŒSRMæ ‡å¿—&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#p2p-2&#34;&gt;P2P&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B9%BF%E6%92%AD&#34;&gt;å¹¿æ’­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E6%B8%97%E9%80%8F%E8%B7%AF%E7%94%B1%E6%B3%84%E6%BC%8F&#34;&gt;è·¯ç”±æ¸—é€ï¼ˆè·¯ç”±æ³„æ¼ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A7%E7%94%9Fatt%E7%BD%AE%E4%BD%8D%E7%9A%84lsplevel-1%E7%9A%84%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9D%A1%E4%BB%B6&#34;&gt;äº§ç”ŸATTç½®ä½çš„LSPï¼ˆLevel-1çš„é»˜è®¤è·¯ç”±ï¼‰çš„æ¡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E6%B3%84%E6%BC%8F%E4%B9%8B%E5%90%8E%E9%98%B2%E7%8E%AF&#34;&gt;è·¯ç”±æ³„æ¼ä¹‹åé˜²ç¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%A9%E7%94%A8ol%E8%BF%87%E8%BD%BD%E4%BD%8D%E7%9A%84%E5%9C%BA%E6%99%AF&#34;&gt;åˆ©ç”¨OLè¿‡è½½ä½çš„åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E9%80%89%E8%B7%AF%E5%8E%9F%E5%88%99&#34;&gt;ISISé€‰è·¯åŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E6%94%B6%E6%95%9B%E7%89%B9%E6%80%A7&#34;&gt;ISISæ”¶æ•›ç‰¹æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%A6%E9%87%8F%E5%80%BC&#34;&gt;åº¦é‡å€¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-narrow%E6%A8%A1%E5%BC%8F&#34;&gt;1. Narrowæ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#4%E7%A7%8D%E5%BA%A6%E9%87%8F%E5%80%BC&#34;&gt;4ç§åº¦é‡å€¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-wide%E6%A8%A1%E5%BC%8F&#34;&gt;2. Wideæ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E8%AE%A4%E8%AF%81&#34;&gt;ISISè®¤è¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F&#34;&gt;æŠ¥æ–‡è®¤è¯æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81%E4%BF%A1%E6%81%AF%E7%9A%84%E6%90%BA%E5%B8%A6%E5%BD%A2%E5%BC%8F&#34;&gt;è®¤è¯ä¿¡æ¯çš„æºå¸¦å½¢å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lsp&#34;&gt;LSP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E7%9A%84lsdb%E6%9B%B4%E6%96%B0%E8%BF%87%E7%A8%8B&#34;&gt;ISISçš„LSDBæ›´æ–°è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lsp%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0&#34;&gt;LSPäº§ç”Ÿçš„åŸå› &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%94%B6%E5%88%B0%E9%82%BB%E5%B1%85%E6%96%B0%E7%9A%84lsp%E7%9A%84%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B&#34;&gt;æ”¶åˆ°é‚»å±…æ–°çš„LSPçš„å¤„ç†è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lsp-id&#34;&gt;LSP ID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lsp%E5%88%86%E7%89%87&#34;&gt;LSPåˆ†ç‰‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95&#34;&gt;è·¯ç”±ç®—æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#spf%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B&#34;&gt;SPFè®¡ç®—è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E7%9A%84%E8%AE%A1%E7%AE%97%E7%89%B9%E7%82%B9&#34;&gt;ISISçš„è®¡ç®—ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88&#34;&gt;è·¯ç”±èšåˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84&#34;&gt;ISISåœ°å€ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#nsap&#34;&gt;NSAP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#net&#34;&gt;NET&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B3%E4%BA%8Esystemid&#34;&gt;å…³äºSystemID&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E6%95%B4%E4%BD%93%E6%8B%93%E6%89%91&#34;&gt;ISISæ•´ä½“æ‹“æ‰‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%86%E7%B1%BB&#34;&gt;ISISè·¯ç”±å™¨åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#level-1%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;Level-1è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#level-2%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;Level-2è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#level-1-2%E8%B7%AF%E7%94%B1%E5%99%A8%E9%BB%98%E8%AE%A4&#34;&gt;Level-1-2è·¯ç”±å™¨ï¼ˆé»˜è®¤ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E6%9C%AF%E8%AF%AD&#34;&gt;ISISæœ¯è¯­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B&#34;&gt;ISISæŠ¥æ–‡ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-hello-pduiihhello%E6%8A%A5%E6%96%87&#34;&gt;1. Hello PDUï¼ˆIIHï¼‰ï¼ˆhelloæŠ¥æ–‡ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#level-1-lan-iih&#34;&gt;Level-1 LAN IIH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#level-2-lan-iih&#34;&gt;Level-2 LAN IIH&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#p2p-iih&#34;&gt;P2P IIH&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-lsp-pdu%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E6%8A%A5%E6%96%87&#34;&gt;2. LSP PDUï¼ˆé“¾è·¯çŠ¶æ€æŠ¥æ–‡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-snp-pdu%E5%BA%8F%E5%88%97%E5%8F%B7%E6%8A%A5%E6%96%87&#34;&gt;3. SNP PDUï¼ˆåºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#csnp%E5%85%A8%E5%BA%8F%E5%88%97%E5%8F%B7%E6%8A%A5%E6%96%87&#34;&gt;CSNPï¼ˆå…¨åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#psnp%E9%83%A8%E5%88%86%E5%BA%8F%E5%88%97%E5%8F%B7%E6%8A%A5%E6%96%87&#34;&gt;PSNPï¼ˆéƒ¨åˆ†åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;ISISç½‘ç»œç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E6%94%AF%E6%8C%81%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;ISISæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#dis&#34;&gt;DIS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dis%E7%9A%84%E9%80%89%E4%B8%BE&#34;&gt;DISçš„é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BD%B1%E5%93%8Disis%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E7%9A%84%E6%9D%A1%E4%BB%B6&#34;&gt;å½±å“ISISé‚»å±…å»ºç«‹çš„æ¡ä»¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E5%92%8C%E5%8C%BA%E5%9F%9Fid&#34;&gt;1. è¿è¡Œçº§åˆ«å’ŒåŒºåŸŸID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-system-id&#34;&gt;2. System-ID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E8%AE%A4%E8%AF%81&#34;&gt;3. è®¤è¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-mtu&#34;&gt;4. MTU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%8E%A5%E5%8F%A3%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;5. æ¥å£çš„ç½‘ç»œç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-ip%E5%9C%B0%E5%9D%80%E4%B8%8D%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BD%91%E6%AE%B5&#34;&gt;6. IPåœ°å€ä¸åœ¨åŒä¸€ä¸ªç½‘æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-cost-style&#34;&gt;7. cost-style&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8-%E5%85%B6%E4%BB%96&#34;&gt;8. å…¶ä»–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dr%E5%92%8Cdis%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;DRå’ŒDISçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E5%92%8Cospf%E7%9A%84%E5%8C%BA%E5%9F%9F%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;ISISå’ŒOSPFçš„åŒºåŸŸçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E5%92%8Cisis%E7%9A%84%E5%BC%82%E5%90%8C&#34;&gt;OSPFå’ŒISISçš„å¼‚åŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9B%B8%E5%90%8C%E7%82%B9&#34;&gt;ç›¸åŒç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8D%E5%90%8C%E7%82%B9&#34;&gt;ä¸åŒç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%9F%BA%E6%9C%AC%E7%82%B9%E6%AF%94%E8%BE%83&#34;&gt;1. åŸºæœ¬ç‚¹æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB%E6%AF%94%E8%BE%83&#34;&gt;2. é‚»æ¥å…³ç³»æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E5%90%8C%E6%AD%A5%E8%BF%87%E7%A8%8B%E6%AF%94%E8%BE%83&#34;&gt;3. é“¾è·¯çŠ¶æ€æ•°æ®åº“åŒæ­¥è¿‡ç¨‹æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B%E6%AF%94%E8%BE%83&#34;&gt;4. è·¯ç”±è®¡ç®—è¿‡ç¨‹æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%80%A7%E8%83%BD%E5%8F%8A%E6%89%A9%E5%B1%95%E8%83%BD%E5%8A%9B%E6%AF%94%E8%BE%83&#34;&gt;5. æ€§èƒ½åŠæ‰©å±•èƒ½åŠ›æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis-ipv6&#34;&gt;ISIS IPv6&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ipv6%E5%A2%9E%E5%8A%A0%E4%BA%86%E5%93%AA%E4%B8%A4%E4%B8%AAtlv&#34;&gt;1. IPv6å¢åŠ äº†å“ªä¸¤ä¸ªTLV&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-isis%E5%A4%9A%E6%8B%93%E6%89%91%E6%8C%87%E6%98%AF%E4%BB%80%E4%B9%88&#34;&gt;2. isiså¤šæ‹“æ‰‘æŒ‡æ˜¯ä»€ä¹ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#isis%E5%9C%A8%E5%B8%A7%E4%B8%AD%E7%BB%A7%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8%E4%BB%80%E4%B9%88%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;ISISåœ¨å¸§ä¸­ç»§ç¯å¢ƒä¸‹ä½¿ç”¨ä»€ä¹ˆç½‘ç»œç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;isisé‚»æ¥å…³ç³»çš„å»ºç«‹&#34;&gt;ISISé‚»æ¥å…³ç³»çš„å»ºç«‹&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;ISISçš„é‚»å±…çŠ¶æ€æœºï¼šåªæœ‰downã€initã€upä¸‰ç§çŠ¶æ€&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¹¿æ’­ç½‘&#34;&gt;å¹¿æ’­ç½‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸Šï¼Œä½¿ç”¨LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ã€‚æœ‰ä¸¤ç§ç±»å‹çš„LAN IIHï¼šL1 LAN IIHï¼ˆç»„æ’­MAC:01-80-C2-00-00-14ï¼‰å’ŒL2 LAN IIH ï¼ˆç»„æ’­MAC:01-80-C2-00-00-15ï¼‰ ã€‚&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨é€šè¿‡äº¤äº’L1 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ï¼›Level-2è·¯ç”±å™¨é€šè¿‡äº¤äº’L2 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ï¼›Level-1-2è·¯ç”±å™¨ä¼šåŒæ—¶äº¤äº’L1 LAN IIHæŠ¥æ–‡å’ŒL2 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588860400476.png&#34; alt=&#34;å¹¿æ’­é‚»æ¥å…³ç³»å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä»¥ä¸¤å°L2è·¯ç”±å™¨åœ¨å¹¿æ’­é“¾è·¯ä¸Šå»ºç«‹é‚»å±…å…³ç³»ä¸ºä¾‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;R1ç»„æ’­å‘é€Level-2 LAN IIHï¼ˆç»„æ’­MAC:01-80-C2-00-00-15ï¼‰ï¼Œæ­¤æŠ¥æ–‡ä¸­æ— é‚»å±…æ ‡è¯†ã€‚&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±å’ŒR1çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºInitialã€‚ç„¶åï¼ŒR2å†ç»„æ’­å‘R1å›å¤Level-2 LAN IIHï¼Œæ­¤æŠ¥æ–‡ä¸­æ ‡è¯†R1ä¸ºR2çš„é‚»å±…ï¼ˆ&lt;strong&gt;6å·TLVï¼Œé€šè¿‡R1çš„æ¥å£MACåœ°å€è¿›è¡Œæ ‡è¯†&lt;/strong&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;R1æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±ä¸R2çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºUpã€‚ç„¶åR1å†ç»„æ’­å‘R2å‘é€ä¸€ä¸ªæ ‡è¯†R2ä¸ºR1é‚»å±…çš„Level-2 LAN IIHã€‚&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±ä¸R1çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºUpã€‚è¿™æ ·ï¼Œä¸¤ä¸ªè·¯ç”±å™¨æˆåŠŸå»ºç«‹äº†é‚»å±…å…³ç³»ã€‚&lt;br&gt;
&lt;code&gt;å› ä¸ºæ˜¯å¹¿æ’­ç½‘ç»œï¼Œéœ€è¦é€‰ä¸¾DISï¼Œæ‰€ä»¥åœ¨é‚»å±…å…³ç³»å»ºç«‹åï¼Œè·¯ç”±å™¨ä¼šç­‰å¾…ä¸¤ä¸ªHelloæŠ¥æ–‡é—´éš”å†è¿›è¡ŒDISçš„é€‰ä¸¾ã€‚HelloæŠ¥æ–‡ä¸­åŒ…å«Priorityå­—æ®µï¼ŒPriorityå€¼æœ€å¤§çš„å°†è¢«é€‰ä¸¾ä¸ºè¯¥å¹¿æ’­ç½‘çš„DISï¼Œè‹¥ä¼˜å…ˆçº§ç›¸åŒï¼Œæ¥å£MACåœ°å€è¾ƒå¤§çš„è¢«é€‰ä¸¾ä¸ºDIS&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŠ¥æ–‡ç»†èŠ‚&#34;&gt;æŠ¥æ–‡ç»†èŠ‚&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612704235180.png&#34; alt=&#34;æŠ¥æ–‡ç»†èŠ‚&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;p2p&#34;&gt;P2P&lt;/h2&gt;
&lt;p&gt;åœ¨P2Pè¿è·¯ä¸Šï¼Œé‚»æ¥å…³ç³»å»ºç«‹ä¸åŒäºå¹¿æ’­é“¾è·¯ï¼Œåˆ†ä¸ºä¸¤æ¬¡æ¡æ‰‹æœºåˆ¶å’Œ&lt;strong&gt;ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ï¼ˆé»˜è®¤ï¼‰&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588860853052.png&#34; alt=&#34;P2Pé‚»æ¥å…³ç³»å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤æ¬¡æ¡æ‰‹2-wayï¼ˆå®¹æ˜“å­˜åœ¨å•é€šçš„é£é™©ï¼Œå³é“¾è·¯ä¸¤ç«¯åˆ†åˆ«ä¸ºUpå’ŒDownï¼‰&lt;br&gt;
åªè¦è·¯ç”±å™¨æ”¶åˆ°å¯¹ç«¯å‘æ¥çš„HelloæŠ¥æ–‡ï¼Œå°±å•æ–¹é¢å®£å¸ƒé‚»å±…ä¸ºUpçŠ¶æ€ï¼Œå»ºç«‹é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;ä¸‰æ¬¡æ¡æ‰‹3-wayï¼ˆé»˜è®¤æ–¹å¼ï¼‰&lt;br&gt;
é€šè¿‡ä¸‰æ¬¡å‘é€P2Pçš„Hello PDUæœ€ç»ˆå»ºç«‹é‚»å±…å…³ç³»ï¼Œç±»ä¼¼å¹¿æ’­é‚»å±…å…³ç³»å»ºç«‹&lt;br&gt;
&lt;code&gt;240å·TLVåŒ…å«ï¼šé‚»å±…çŠ¶æ€ã€æ¥å£IDã€system-idå’Œè‡ªå·±çš„æ¥å£ID&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-wayæŠ¥æ–‡&#34;&gt;3-wayæŠ¥æ–‡&lt;/h3&gt;
&lt;p&gt;å¢åŠ P2Pé‚»æ¥TLVï¼Œç±»å‹ä¸º240ï¼Œé•¿åº¦ä¸º15Bï¼Œå…¶ä¸­&lt;code&gt;ç”µè·¯IDç”¨äºæ ‡è¯†æ¥å£ï¼ˆå¹¿æ’­ç½‘ç»œä½¿ç”¨MACåœ°å€æ¥æ ‡è¯†æ¥å£ï¼‰ï¼Œè€Œsystem-idç”¨äºæ ‡è¯†èŠ‚ç‚¹&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612707484067.png&#34; alt=&#34;3-wayæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;isisçš„lspäº¤äº’è¿‡ç¨‹&#34;&gt;ISISçš„LSPäº¤äº’è¿‡ç¨‹&lt;/h1&gt;
&lt;h2 id=&#34;å¹¿æ’­ç½‘ç»œ&#34;&gt;å¹¿æ’­ç½‘ç»œ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;LSPäº¤äº’ä¸éœ€è¦ç¡®è®¤ï¼ŒCSNPå’ŒPSNPä¸­æ˜¯LSPçš„æ‘˜è¦ä¿¡æ¯&lt;/code&gt;&lt;br&gt;
CSNPæŠ¥æ–‡åœ¨å¹¿æ’­ç½‘ç»œä¸­çš„ä½œç”¨ï¼šç¡®è®¤æœºåˆ¶ï¼Œç›¸å½“äºACK&lt;br&gt;
PSNPæŠ¥æ–‡åœ¨å¹¿æ’­ç½‘ç»œä¸­çš„ä½œç”¨ï¼šè¯·æ±‚ï¼ˆLSRï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588862762123.png&#34; alt=&#34;å¹¿æ’­ç½‘ç»œLSPäº¤äº’è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°åŠ å…¥çš„è·¯ç”±å™¨R3å·²ç»ä¸R2ï¼ˆ&lt;strong&gt;DIS&lt;/strong&gt;ï¼‰ã€R1å»ºç«‹é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;R3ä½¿ç”¨ç»„æ’­åœ°å€å‘é€è‡ªå·±çš„LSP&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°R3çš„LSPä¹‹åï¼Œä¼šå°†R3çš„LSPå†…å®¹åŠ å…¥LSDBä¸­ï¼Œå¹¶ç­‰å¾…CSNPæŠ¥æ–‡å®šæ—¶å™¨è¶…æ—¶ï¼ˆ10sï¼‰å¹¶å‘é€CSNPæŠ¥æ–‡ï¼Œè¿›è¡Œè¯¥ç½‘ç»œçš„LSDBåŒæ­¥&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°DISå‘æ¥çš„CSNPåï¼Œå¯¹æ¯”è‡ªå·±çš„LSDBï¼Œç„¶åå‘R2å‘é€PSNPç”¨æ¥è¯·æ±‚è‡ªå·±æ²¡æœ‰çš„LSP&lt;code&gt;å¦‚æœR3å‘ç°CSNPä¸­ç¼ºå°‘è‡ªå·±çš„LSPçš„å†…å®¹ï¼Œå³DISæ²¡æœ‰æ”¶åˆ°è‡ªå·±çš„LSPï¼ŒR3ä¼šå†æ¬¡ç»„æ’­å‘é€è‡ªå·±çš„LSPï¼ˆé€šè¿‡è¯¥æœºåˆ¶ä¿è¯å¹¿æ’­ç½‘ä¸­LSPçš„å¯é æ€§ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°R3å‘æ¥çš„PSNPä¹‹åï¼Œå°†R3è¯·æ±‚çš„LSPç”¨ç»„æ’­æ–¹å¼å‘é€ç»™R3&lt;code&gt;R3å‘é€PSNPä¹‹åå¦‚æœæ²¡æœ‰æ”¶åˆ°LSPï¼ŒR3ä¼šåœ¨5ç§’åé‡æ–°å‘é€è¯¥PSNP&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;p2pç½‘ç»œ&#34;&gt;P2Pç½‘ç»œ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;LSPäº¤äº’éœ€è¦ç¡®è®¤&lt;/code&gt;&lt;br&gt;
PSNPæŠ¥æ–‡åœ¨P2Pç½‘ç»œä¸­çš„ä½œç”¨ï¼šä½œä¸ºACKåº”ç­”ä»¥ç¡®è®¤æ”¶åˆ°çš„LSPï¼Œç”¨æ¥è¯·æ±‚æ‰€éœ€çš„LSP&lt;br&gt;
åœ¨P2Pé“¾è·¯ä¸Šï¼Œ&lt;strong&gt;CSNPåªä¼šå‘é€ä¸€æ¬¡&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588863344689.png&#34; alt=&#34;P2Pç½‘ç»œLSPäº¤äº’è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç†è®ºæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å»ºç«‹é‚»æ¥å…³ç³»ä¹‹åé¦–å…ˆéƒ½å‘é€ä¸€ä¸ªCSNPï¼Œé€šå‘Šæœ¬åœ°çš„LSDPæ‘˜è¦ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä¸¤ç«¯è®¾å¤‡æ¥æ”¶åˆ°CSNPä¹‹åå’Œæœ¬åœ°LSDBåšæ¯”è¾ƒï¼Œå‘é€PSNPè¯·æ±‚è‡ªå·±ç¼ºå°‘çš„LSP&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°å¯¹æ–¹çš„PSNPä¹‹åå›å¤å…·ä½“çš„LSP&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°å¯¹æ–¹å‘æ¥çš„LSPä¹‹åï¼Œéœ€è¦å†å›å¤ä¸€ä¸ªPSNPè¿›è¡Œç¡®è®¤&lt;br&gt;
&lt;code&gt;å®é™…æŠ“åŒ…è¿‡ç¨‹ï¼šç¬¬ä¸€é˜¶æ®µR1å’ŒR2å„å‘ä¸€ä¸ªLSPï¼›ç¬¬äºŒé˜¶æ®µR1å’ŒR2å„å‘é€ä¸€ä¸ªPSNPï¼›ç¬¬ä¸‰é˜¶æ®µR1å‘é€LSPï¼ŒR2å‘é€CSNPè¿›è¡Œç¡®è®¤&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;isisçš„ssnå’Œsrmæ ‡å¿—&#34;&gt;ISISçš„SSNå’ŒSRMæ ‡å¿—&lt;/h1&gt;
&lt;p&gt;SSN/SRMæ ‡å¿—åœ¨å‘é€ã€æ¥æ”¶LSPçš„æ¥å£ä¸‹é…ç½®ï¼Œåªå…·æœ‰æœ¬åœ°æ„ä¹‰ï¼Œç”¨äºLSPå®Œæ•´æ€§ã€å¯é æ€§ä¿è¯ï¼Œè™½ç„¶ä¸¤ç§ç½‘ç»œä¸­éƒ½å­˜åœ¨ï¼Œä½†æ˜¯&lt;code&gt;åªæœ‰åœ¨P2Pç½‘ç»œä¸­æ‰æœ‰æ„ä¹‰&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;p2p-2&#34;&gt;P2P&lt;/h2&gt;
&lt;p&gt;SSNæ ‡å¿—ï¼šç”¨äºP2Pé“¾è·¯&lt;strong&gt;æ¥æ”¶æ–¹&lt;/strong&gt;ï¼Œåœ¨æ”¶åˆ°ä¸€ä¸ªLSPæ—¶è®¾ç½®ï¼Œåœ¨å®ŒæˆPSNPç¡®è®¤æ—¶æ¸…é™¤ï¼ˆ&lt;code&gt;å³å‘é€äº†ç”¨äºç¡®è®¤è¯¥LSPçš„PSNPååˆ é™¤&lt;/code&gt;ï¼‰&lt;br&gt;
SRMæ ‡å¿—ï¼šç”¨äºP2Pé“¾è·¯&lt;strong&gt;å‘é€æ–¹&lt;/strong&gt;ï¼Œåœ¨å‘é€ä¸€ä¸ªLSPæ—¶è®¾ç½®ï¼Œåœ¨æ”¶åˆ°å…¶PSNPç¡®è®¤æ—¶æ¸…é™¤&lt;/p&gt;
&lt;h2 id=&#34;å¹¿æ’­&#34;&gt;å¹¿æ’­&lt;/h2&gt;
&lt;p&gt;SSNæ ‡å¿—ï¼šç”¨äºbroadcasté“¾è·¯æ•°æ®åº“åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚å®Œæ•´çš„LSPã€‚&lt;br&gt;
SRMæ ‡å¿—ï¼šç”¨äºbroadcasté“¾è·¯&lt;strong&gt;å‘é€æ–¹&lt;/strong&gt;ï¼Œåœ¨å‘é€ä¸€ä¸ªLSPæ—¶è®¾ç½®ï¼Œä½†åœ¨LSPä¼ é€å‡ºå»åè¢«ç«‹å³æ¸…é™¤ï¼Œå› ä¸ºbroadcasté“¾è·¯ä¸éœ€è¦PSNPç¡®è®¤ã€‚&lt;/p&gt;
&lt;h1 id=&#34;è·¯ç”±æ¸—é€è·¯ç”±æ³„æ¼&#34;&gt;è·¯ç”±æ¸—é€ï¼ˆè·¯ç”±æ³„æ¼ï¼‰&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;ç®€è€Œè¨€ä¹‹ï¼Œè·¯ç”±æ¸—é€è§£å†³ééª¨å¹²åŒºåŸŸè®¿é—®éª¨å¹²åŒºåŸŸæ—¶ï¼Œå› ä¸ºä¸çŸ¥é“æ˜ç»†è·¯ç”±è€Œå¯¼è‡´çš„æ¬¡ä¼˜è·¯å¾„é—®é¢˜&lt;/code&gt;&lt;br&gt;
Level-1çš„è·¯ç”±é€šè¿‡Level-1-2ä¼ é€’è¿›Level-2ï¼Œä½†æ˜¯Level-2çš„è·¯ç”±å¹¶ä¸ä¼šä¼ é€’è¿›Level-1ã€‚å› æ­¤ï¼ŒLevel-1-2å’ŒLevel-2è·¯ç”±å™¨çŸ¥é“æ•´ä¸ªIS-ISè·¯ç”±åŸŸçš„è·¯ç”±ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œ&lt;strong&gt;ä¸ºäº†æœ‰æ•ˆå‡å°è·¯ç”±è¡¨çš„è§„æ¨¡ï¼Œåœ¨ç¼ºçœæƒ…å†µä¸‹ï¼ŒLevel-1-2è·¯ç”±å™¨å¹¶ä¸å°†è‡ªå·±çŸ¥é“çš„å…¶ä»–Level-1åŒºåŸŸä»¥åŠéª¨å¹²åŒºåŸŸçš„è·¯ç”±ä¿¡æ¯é€šæŠ¥ç»™å®ƒæ‰€åœ¨çš„Level-1åŒºåŸŸ&lt;/strong&gt;ã€‚è¿™æ ·ï¼Œ&lt;strong&gt;Level-1è·¯ç”±å™¨å°†ä¸äº†è§£æœ¬åŒºåŸŸä»¥å¤–çš„è·¯ç”±ä¿¡æ¯&lt;/strong&gt;ï¼Œå¯èƒ½å¯¼è‡´ä¸æœ¬åŒºåŸŸä¹‹å¤–çš„ç›®çš„åœ°å€é€šä¿¡æ—¶æ— æ³•é€‰æ‹©æœ€ä½³çš„è·¯ç”±ã€‚&lt;br&gt;
&lt;code&gt;å…³è”ISISé€‰è·¯åŸåˆ™&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612783046989.png&#34; alt=&#34;è·¯ç”±æ¸—é€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;æœªé…ç½®ISISçš„è·¯ç”±æ¸—é€ä¹‹å‰&lt;/strong&gt;ï¼š&lt;br&gt;
R1ä¸çŸ¥é“æœ¬åŒºåŸŸå¤–éƒ¨çš„ä»»ä½•è·¯ç”±ï¼Œé‚£ä¹ˆå‘å¾€åŒºåŸŸå¤–çš„æŠ¥æ–‡ä¼šé€‰æ‹©æœ€è¿‘çš„Level-1-2è·¯ç”±å™¨ï¼ˆå³R3ï¼‰äº§ç”Ÿçš„é»˜è®¤è·¯ç”±å‘é€å‡ºå»ï¼Œæ‰€ä»¥R1ä¼šé€‰æ‹©æ¬¡ä¼˜è·¯å¾„ï¼ˆR1--R3--R5--R6ï¼‰ï¼Œä½†æ˜¯æµé‡è¿”å›çš„è·¯å¾„æ˜¯R6--R5--R4--R2--R1ï¼ŒåŒæ—¶è¿˜é€ æˆå¾€è¿”è·¯å¾„ä¸ä¸€è‡´ï¼Œå¦‚æœå­˜åœ¨é˜²ç«å¢™ï¼Œä¼šå¯¼è‡´æµé‡ä¸é€šçš„é—®é¢˜&lt;/p&gt;
&lt;h2 id=&#34;äº§ç”Ÿattç½®ä½çš„lsplevel-1çš„é»˜è®¤è·¯ç”±çš„æ¡ä»¶&#34;&gt;äº§ç”ŸATTç½®ä½çš„LSPï¼ˆLevel-1çš„é»˜è®¤è·¯ç”±ï¼‰çš„æ¡ä»¶&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ISISä¸­çš„ABRï¼ˆLevel-1-2ï¼‰ç”Ÿæˆé»˜è®¤è·¯ç”±ï¼ˆATT=1ï¼‰çš„æ¡ä»¶ï¼šä¸€è¾¹ä¸ºLevel-1ï¼Œå¦å¤–ä¸€è¾¹ä¸ºLevel-2&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¾å¤‡è¿è¡Œçº§åˆ«ä¸ºLevel-1-2&lt;/li&gt;
&lt;li&gt;åœ¨Level-2çš„åŒºåŸŸä¸­æœ‰ä¸€ä¸ªæ´»åŠ¨çš„é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-2çš„åŒºåŸŸID&lt;strong&gt;ä¸èƒ½&lt;/strong&gt;å’ŒLevel-1çš„åŒºåŸŸID&lt;strong&gt;ç›¸åŒ&lt;/strong&gt;&lt;code&gt;å³Level-1-2è®¾å¤‡çš„åŒºåŸŸIDå’ŒLevel-1ç›¸åŒï¼Œå’ŒLevel-2ä¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³äºç¬¬3ç‚¹çš„ç†è§£ï¼š&lt;br&gt;
åŒºåŸŸçš„â€œä¸åŒâ€çš„å‡†ç¡®å«ä¹‰æ˜¯â€œåŒ…å«â€ï¼Œå³level-1-2è®¾å¤‡çš„areaå¦‚æœåŒ…å«äº†level-2é‚»å±…çš„areaé‚£ä¹ˆä¸ç½®ä½ï¼Œä¸åŒ…å«åˆ™ç½®ä½ï¼ˆé»˜è®¤å¯ä»¥é…ç½®3ä¸ªNETåœ°å€ï¼Œå³3ä¸ªareaï¼‰&lt;br&gt;
é€šä¿—çš„ç†è§£ï¼šlevel-1-2è®¾å¤‡è®¤ä¸ºlevel-1å¯ä»¥é€šè¿‡level-2åˆ°è¾¾æ›´å¤šåŒºåŸŸæ‰ä¼šå°†ATTç½®ä½ï¼Œå…¶ä¸­areaä¿¡æ¯é€šè¿‡æŠ¥æ–‡ä¸­tlv0äº¤äº’&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;è·¯ç”±æ³„æ¼ä¹‹åé˜²ç¯&#34;&gt;è·¯ç”±æ³„æ¼ä¹‹åé˜²ç¯&lt;/h2&gt;
&lt;p&gt;level-1-2çš„è·¯ç”±å™¨åœ¨å‘level-1æ³„éœ²è·¯ç”±æ—¶ï¼Œè¿™äº›level-2çš„LSPä¼šå°†UP/DOWNç½®ä½ï¼Œå½“è¿™äº›æ³„éœ²çš„è·¯ç”±å†æ¬¡æƒ³ä¼ å…¥level-2æ—¶ï¼Œlevel-1-2çš„è·¯ç”±å™¨ä¸ä¼šå†å‘level-2çš„è·¯ç”±å™¨ä¼ è¿™äº›æ³„éœ²çš„LSPã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰ä¸ªé‡è¦æ¯”ç‰¹ä½&lt;/strong&gt;ï¼š&lt;br&gt;
Pï¼ˆPRTtitionï¼‰ï¼šåˆ†åŒºä½ã€‚ä»…ä¸Level-2çš„LSPæœ‰å…³ï¼ˆå³åªåœ¨Level-2åŒºåŸŸæ‰ä¼šè¢«ç½®ä½ï¼‰ï¼Œè¡¨ç¤ºè·¯ç”±å™¨æ˜¯å¦æ”¯æŒè‡ªåŠ¨ä¿®å¤åŒºåŸŸåˆ†å‰²ã€‚ï¼ˆç”¨äºè™šé“¾è·¯ï¼Œä½†æ˜¯ç›®å‰å¹¶æ²¡æœ‰ç”¨è¿‡ï¼‰&lt;br&gt;
ATTï¼ˆAttachï¼‰ï¼šè¿æ¥ä½ã€‚ç”±Level-1-2è·¯ç”±å™¨äº§ç”Ÿï¼Œä½†ä»…ä¸Level-1çš„LSPæœ‰å…³ï¼ˆå³åªåœ¨Level-1åŒºåŸŸæ‰ä¼šè¢«ç½®ä½ï¼Œä½¿Level-1è·¯ç”±å™¨äº§ç”ŸæŒ‡å‘Level-1-2è·¯ç”±å™¨çš„é»˜è®¤è·¯ç”±ï¼‰ï¼Œè¡¨ç¤ºäº§ç”Ÿæ­¤LSPçš„è·¯ç”±å™¨ï¼ˆLevel-1-2è·¯ç”±å™¨ï¼‰&lt;strong&gt;ä¸å¤šä¸ªåŒºåŸŸç›¸è¿æ¥&lt;/strong&gt;ã€‚&lt;br&gt;
OLï¼ˆOverloadï¼‰ï¼šè¿‡è½½æ ‡å¿—ä½ã€‚è¡¨ç¤ºæœ¬è·¯ç”±å™¨å› å†…å­˜ä¸è¶³è€Œå¯¼è‡´LSDBä¸å®Œæ•´ã€‚å…¶å®ƒè·¯ç”±å™¨åœ¨å¾—çŸ¥è¿™ä¸€ä¿¡æ¯åï¼Œå°±&lt;strong&gt;ä¸ä¼šå†åˆ©ç”¨è¿™å°è·¯ç”±å™¨è½¬å‘éœ€è¦ç»è¿‡å®ƒä¼ é€çš„æ•°æ®æµ&lt;/strong&gt;ï¼Œä½†åˆ°æ­¤è·¯ç”±å™¨ç›´è¿åœ°å€çš„æŠ¥æ–‡ä»ç„¶å¯ä»¥è¢«è½¬å‘ï¼ˆä¸€èˆ¬ç”¨äºæ‰¿è½½BGPçš„æ ¸å¿ƒISISï¼Œå³isis over bgpï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;åˆ©ç”¨olè¿‡è½½ä½çš„åœºæ™¯&#34;&gt;åˆ©ç”¨OLè¿‡è½½ä½çš„åœºæ™¯&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612784779309.png&#34; alt=&#34;åˆ©ç”¨OLè¿‡è½½ä½çš„åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R5ã€R6ä¹‹é—´å»ºç«‹EBGPé‚»å±…å…³ç³»ï¼ŒR6ä¸R3ã€R2ã€R4ä¹‹é—´é€šè¿‡lo0åˆ†åˆ«å»ºç«‹IBGPé‚»å±…å…³ç³»ï¼Œlo0äº’é€šæ˜¯é€šè¿‡isisåè®®ã€‚R2çš„lo0è®¿é—®R5çš„lo0ï¼Œä¸‹ä¸€è·³é€‰æ‹©R3ï¼Œå› ä¸ºR3çš„costæ›´å°ã€‚&lt;/li&gt;
&lt;li&gt;å‡è®¾R3å’ŒR6ä¹‹é—´çš„é“¾è·¯æ–­å¼€ï¼Œåˆ™R3ä¸å†é€šå‘ŠR6çš„è·¯ç”±æ¡ç›®ï¼ŒR2ä¼šå°†ä¸‹ä¸€è·³åˆ‡æ¢åˆ°R4ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ­¤æ—¶R3ä¸R6ä¹‹é—´çš„é“¾è·¯æ¢å¤ï¼Œisisé‚»å±…å·²ç»å»ºç«‹ï¼Œä½†æ˜¯IBGPé‚»å±…è¿˜æœªå»ºç«‹ï¼ˆIBGPé‚»å±…å»ºç«‹ä¾èµ–äºIGPï¼‰ï¼Œæ­¤æ—¶R3ä¼šå‘R2é€šå‘ŠR6çš„è·¯ç”±ã€‚å¦‚æœR2æ­¤æ—¶åˆ‡æ¢åˆ°R3ï¼ŒR3ä¸R6ä¹‹é—´çš„IBGPé‚»å±…è¿˜æœªå»ºç«‹ï¼Œå¯èƒ½é€ æˆä¸¢åŒ…ã€‚ä¸ºäº†é¿å…è¿™ç§åœºæ™¯ï¼Œéœ€è¦ç”¨åˆ°isis over bgpï¼Œå³R3å†é€šå‘ŠLSPæ—¶ï¼Œé¦–å…ˆä¼šæŸ¥çœ‹BGPé‚»å±…çŠ¶æ€ï¼Œå¦‚æœBGPé‚»å±…æœªå»ºç«‹ï¼Œåˆ™å°†è¯¥LSPçš„OLä½ç½®ä½ï¼Œé‚£ä¹ˆR2æ”¶åˆ°æ­¤OLä½ç½®ä½çš„LSPï¼Œåˆ™è¿›è¡ŒSPFè®¡ç®—æ—¶ä¸è€ƒè™‘æ­¤æ¡LSPã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;isisé€‰è·¯åŸåˆ™&#34;&gt;ISISé€‰è·¯åŸåˆ™&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;Level-1ï¼Level-2ï¼leakedï¼ˆæ³¨æ„å†…éƒ¨ä¼˜å…ˆçº§ï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Level-1ï¼šå…ˆæŸ¥çœ‹æ˜¯å¦å’Œç›®æ ‡åœ¨åŒä¸€åŒºåŸŸï¼Œè‹¥åœ¨é€šè¿‡Level -1è·¯ç”±è®¿é—®ï¼Œè‹¥ä¸åœ¨åˆ™ä½¿ç”¨ç¼ºçœé»˜è®¤è·¯ç”±é€šè¿‡æœ€è¿‘çš„Level-1-2è·¯ç”±å™¨è®¿é—®&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨è®¿é—®æŸä¸ªç›®æ ‡æ—¶ï¼Œç›´æ¥é€šè¿‡Level-2æ•°æ®åº“è®¿é—®&lt;/li&gt;
&lt;li&gt;Level-1-2è·¯ç”±å™¨è®¿é—®ç›®æ ‡æ—¶ï¼Œå…ˆæŸ¥çœ‹æ˜¯å¦å’Œç›®æ ‡åœ¨åŒä¸€åŒºåŸŸï¼Œè‹¥åœ¨åŒä¸€åŒºåŸŸé€šè¿‡Level-1è·¯ç”±è®¿é—®ï¼Œè‹¥ä¸åœ¨åŒä¸€åŒºåŸŸé€šè¿‡Level-2æ•°æ®åº“è®¿é—®&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;isisæ”¶æ•›ç‰¹æ€§&#34;&gt;ISISæ”¶æ•›ç‰¹æ€§&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;å’ŒOSPFæ”¶æ•›ç‰¹æ€§åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯RPCå¯¹ISISçš„æ”¯æŒä¼˜äºå¯¹OSPFçš„æ”¯æŒï¼Œå› ä¸ºISISçš„è·¯ç”±å‡æ˜¯é€šè¿‡TLVè¿›è¡Œä¼ é€’çš„ï¼Œä½†æ˜¯OSPFä¼ é€’è·¯ç”±çš„æœ‰1ã€3ã€5ã€7ç±»LSAï¼ŒRPCä¸æ”¯æŒ1ç±»LSA&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¿«é€Ÿæ”¶æ•›
&lt;ol&gt;
&lt;li&gt;å¢é‡æœ€çŸ­è·¯å¾„ä¼˜å…ˆç®—æ³•ISPFï¼šåªå¯¹å—å½±å“çš„èŠ‚ç‚¹è¿›è¡Œè·¯ç”±è®¡ç®—ï¼Œä»…ç¬¬ä¸€æ¬¡è®¡ç®—å…¨éƒ¨èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;éƒ¨åˆ†è·¯ç”±è®¡ç®—PRCï¼šPRCçš„åŸç†å’ŒISPFç›¸åŒï¼Œéƒ½æ˜¯åªå¯¹å‘ç”Ÿå˜åŒ–çš„è·¯ç”±è¿›è¡Œé‡æ–°è®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å®šæ—¶å™¨&lt;/li&gt;
&lt;li&gt;LSPå¿«é€Ÿæ‰©æ•£ï¼šæ¥å£ä¸Šå‘é€LSPæŠ¥æ–‡çš„æœ€å°é—´éš”ä¸º50æ¯«ç§’ï¼Œæ¯æ¬¡å‘é€LSPæŠ¥æ–‡çš„æœ€å¤§æ•°ç›®æ˜¯10&lt;br&gt;
&lt;code&gt;LSPé»˜è®¤å‘é€é—´éš”ä¸º900ç§’ï¼Œè€åŒ–æ—¶é—´(å‰©ä½™è€åŒ–æ—¶é—´)ä¸º1200ç§’ï¼Œå¦‚æœLSPå‰©ä½™æ—¶é—´å˜ä¸º0ï¼Œè¿˜éœ€è¦åœ¨ç­‰å¾…60Sï¼ˆé›¶è€åŒ–æ—¶é—´ï¼‰æ‰ä¼šä»LSDBä¸­åˆ é™¤ã€‚ospfå’Œisiså‡ä¸èƒ½åˆ é™¤ä¸æ˜¯è‡ªèº«äº§ç”Ÿçš„è·¯ç”±ï¼Œå³ä¸èƒ½åˆ é™¤ä¸æ˜¯è‡ªå·±äº§ç”Ÿçš„LSAæˆ–è€…LSPã€‚ä½†æ˜¯isiså¦‚æœæ”¶åˆ°çš„lspæ˜¯æœ‰é—®é¢˜çš„ï¼Œæ˜¯å¯ä»¥åˆ é™¤çš„ï¼Œåˆ é™¤æ—¶é—´ä¸º1260ç§’ï¼Œè¿™ç‚¹å’Œospfä¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‰ä¼˜å…ˆçº§æ”¶æ•›&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åº¦é‡å€¼&#34;&gt;åº¦é‡å€¼&lt;/h1&gt;
&lt;h2 id=&#34;1-narrowæ¨¡å¼&#34;&gt;1. Narrowæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;è®¾å¤‡é»˜è®¤æ¨¡å¼å¼€é”€éƒ½æ˜¯10ï¼Œæ‰‹å·¥é…ç½®æ¥å£å¼€é”€å–å€¼èŒƒå›´ä¸º1-63&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2å·TLV(IS Neighbors TLV)ï¼ŒISå¯è¾¾æ€§TLVï¼Œç”¨æ¥æºå¸¦é‚»å±…ä¿¡æ¯ï¼Œé€šå‘ŠèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;128å·TLVï¼ˆIP Internal Reachability TLVï¼‰ï¼ŒIPå†…éƒ¨å¯è¾¾æ€§TLVï¼Œç”¨æ¥æºå¸¦è·¯ç”±åŸŸå†…çš„IS-ISè·¯ç”±ä¿¡æ¯ï¼Œé€šå‘Šå†…éƒ¨è·¯ç”±&lt;/li&gt;
&lt;li&gt;130å·TLVï¼ˆIP External Reachability TLVï¼‰ï¼ŒIPå¤–éƒ¨å¯è¾¾æ€§TLVï¼Œç”¨æ¥æºå¸¦è·¯ç”±åŸŸå¤–çš„IS-ISè·¯ç”±ä¿¡æ¯ï¼Œé€šå‘Šå¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4ç§åº¦é‡å€¼&#34;&gt;4ç§åº¦é‡å€¼&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;æ¯ä¸ªåº¦é‡1ä¸ªå­—èŠ‚ï¼Œç»å¸¸ç”¨çš„æ˜¯é»˜è®¤åº¦é‡ï¼Œè€Œå»¶è¿Ÿåº¦é‡ã€å¼€é”€åº¦é‡ã€å·®é”™åº¦é‡ä¸»è¦ç”¨åœ¨QOSè·¯ç”±é€‰æ‹©ä¸­&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤åº¦é‡ï¼šè·Ÿæ¥å£å¸¦å®½æˆåæ¯”ï¼Œå‚è€ƒå¸¦å®½/å¸¦å®½=cost ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰è·¯ç”±å™¨éƒ½å¿…é¡»æ”¯æŒè¿™ä¸ªé»˜è®¤åº¦é‡ï¼‰
&lt;ol&gt;
&lt;li&gt;7bitï¼šup/down&lt;sub&gt;upä¸º1&lt;/sub&gt;ï¼Œç”¨äºé˜²ç¯&lt;code&gt;Level-1-2çš„è·¯ç”±å™¨ä¸ä¼šå°†æ¥è‡ªLevel-2çš„è·¯ç”±å‘å¸ƒè¿›Level-1ã€‚å¦‚æœå°†Level-2çš„è·¯ç”±æ³„æ¼è¿›Level-1ï¼Œé‚£ä¹ˆup/downä¼šç½®1ï¼Œup/downç½®ä½çš„Level-1çš„LSPä¸ä¼šå†è¢«é€šå‘Šè¿›Level-2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;6bitï¼šå†…éƒ¨åº¦é‡/å¤–éƒ¨åº¦é‡&lt;sub&gt;å¤–éƒ¨åº¦é‡ä¸º1&lt;/sub&gt; ï¼ˆé»˜è®¤æ˜¯å†…éƒ¨åº¦é‡ï¼‰&lt;/li&gt;
&lt;li&gt;5bit~0bit(6bit) ï¼šç”¨äºè¡¨ç¤ºåº¦é‡å€¼ï¼Œ å³æœ€å¤§ä¸ºä¸º63ã€‚æ¥å£ä¸‹é…ç½®çš„æœ€å¤§åº¦é‡å€¼ä¸º63ï¼Œè½¬å‘è·¯å¾„ä¸Šç´¯åŠ åº¦é‡å€¼ä¸èƒ½è¶…è¿‡1024ï¼Œå¦åˆ™ä¸å‚ä¸è®¡ç®—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å»¶è¿Ÿåº¦é‡ï¼šç”¨æ¥è¡¨ç¤ºé“¾è·¯ä¼ è¾“çš„å»¶è¿Ÿ&lt;/li&gt;
&lt;li&gt;å¼€é”€åº¦é‡ï¼šç”¨æ¥è¡¨ç¤ºé“¾è·¯ä¼ è¾“çš„å¼€é”€&lt;/li&gt;
&lt;li&gt;å·®é”™åº¦é‡ï¼šç”¨æ¥è¡¨ç¤ºé“¾è·¯ä¼ è¾“çš„é”™è¯¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612788412581.png&#34; alt=&#34;4ç§åº¦é‡å€¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-wideæ¨¡å¼&#34;&gt;2. Wideæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;è®¾å¤‡é»˜è®¤å¼€é”€æ¨¡å¼éƒ½æ˜¯10ï¼Œæ‰‹å·¥é…ç½®æ¥å£å¼€é”€å–å€¼èŒƒå›´ä¸º1-16777215&lt;br&gt;
OSPFä¸ISISåè®®éƒ½è¢«æ‰©å±•ä»¥ä¾¿æºå¸¦MPLS TEæ¥å£å‚æ•°ï¼Œå¯¹äºISISåè®®æ¥è¯´ï¼Œä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–°çš„TLVï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;22å·TLVï¼ˆIS Extended Neighbors TLVï¼‰ï¼Œæ‰©å±•ISå¯è¾¾æ€§TLVï¼Œç”¨æ¥æºå¸¦é‚»å±…ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;135å·TLV(Extended IP Reachability TLV)ï¼Œæ‰©å±•IPå¯è¾¾æ€§TLVï¼Œç”¨æ¥æ›¿æ¢åŸæœ‰çš„IP reachability TLVï¼Œæºå¸¦ISISè·¯ç”±ä¿¡æ¯ï¼Œå®ƒæ‰©å±•äº†è·¯ç”±å¼€é”€å€¼çš„èŒƒå›´ï¼Œå¹¶å¯ä»¥æºå¸¦sub TLV&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589100789194.png&#34; alt=&#34;æ¥æ”¶å’Œå‘é€çš„ç±»å‹è¯¦ç»†åˆ—è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä½¿ç”¨å®½åº¦é‡çš„åœºæ™¯ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;æœ€å¤§63çš„åº¦é‡å€¼å·²ç»ä¸èƒ½æ»¡è¶³è¦æ±‚&lt;/li&gt;
&lt;li&gt;é…ç½®éœ€è¦æ”¯æŒIPv6&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±éœ€è¦æºå¸¦tagï¼ˆç®¡ç†æ ‡è®°ï¼‰ï¼Œtagä¹Ÿæ˜¯åŒ…å«åœ¨åº¦é‡å€¼ä¸­çš„&lt;br&gt;
&lt;strong&gt;ç®¡ç†æ ‡è®°&lt;/strong&gt;ï¼šç®¡ç†æ ‡è®°ç‰¹æ€§å…è®¸åœ¨IS-ISåŸŸä¸­é€šè¿‡ç®¡ç†æ ‡è®°å¯¹IPåœ°å€å‰ç¼€è¿›è¡Œæ§åˆ¶ï¼Œå¯ä»¥ç®€åŒ–ç®¡ç†ã€‚å…¶ç”¨é€”åŒ…æ‹¬&lt;strong&gt;æ§åˆ¶ä¸åŒçº§åˆ«å’Œä¸åŒåŒºåŸŸé—´çš„è·¯ç”±å¼•å…¥&lt;/strong&gt;ï¼Œä»¥åŠåœ¨&lt;strong&gt;åŒä¸€è·¯ç”±å™¨ä¸Šè¿è¡Œçš„IS-ISå¤šå®ä¾‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;auto-cost&lt;/strong&gt;&lt;br&gt;
åä¸ºç‹¬æœ‰çš„è®¡ç®—costå€¼çš„æ–¹å¼ï¼Œæ ¹æ®å¸¦å®½è‡ªåŠ¨è®¡ç®—æ¥å£å¼€é”€ï¼Œå‚æ•°compatibleè¡¨ç¤ºä½¿èƒ½æ ¹æ®å¸¦å®½è‡ªåŠ¨è®¡ç®—æ¥å£å¼€é”€çš„å…¼å®¹æ¨¡å¼&lt;br&gt;
å¦‚æœåœ¨æ¥å£å’Œisisè¿›è¡Œä¸‹éƒ½æ²¡æœ‰é…ç½®å¼€é”€å€¼ï¼Œåˆ™æ­¤æ¥å£çš„å¼€é”€ç”±ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å½“å¼€é”€ç±»å‹ä¸ºwideæˆ–wide-compatibleæ—¶&lt;/strong&gt;ï¼š&lt;code&gt;æ¥å£çš„å¼€é”€å€¼= (å‚è€ƒå¸¦å®½/æ¥å£å¸¦å®½å€¼)Ã—10&lt;/code&gt;&lt;br&gt;
é…ç½®&lt;code&gt;auto-cost enable compatible&lt;/code&gt;å‘½ä»¤åï¼š&lt;code&gt;æ¥å£çš„å¼€é”€å€¼= å‚è€ƒå¸¦å®½/æ¥å£å¸¦å®½å€¼&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å½“å¼€é”€ç±»å‹ä¸ºnarrowã€narrow-compatibleæˆ–compatibleæ—¶&lt;/strong&gt;ï¼Œä¸åŒå¸¦å®½å¼€é”€å€¼å¦‚ä¸‹ï¼š10Mä»¥å†…60ï¼Œ100Mä»¥å†…50ï¼Œ155Mä»¥å†…40ï¼Œ622Mä»¥å†…30ï¼Œ2.5Gä»¥å†…20ï¼Œå¤§äº2.5ï¼§ä¸º10&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;isisè®¤è¯&#34;&gt;ISISè®¤è¯&lt;/h1&gt;
&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£è®¤è¯&lt;/strong&gt;&lt;br&gt;
å¯¹Level-1å’ŒLevel-2çš„HelloæŠ¥æ–‡è¿›è¡Œè®¤è¯&lt;br&gt;
&lt;code&gt;é’ˆå¯¹HelloæŠ¥æ–‡åšçš„è®¤è¯ï¼Œä¼šå½±å“ISISé‚»å±…ï¼Œä¹Ÿä¼šå½±å“è·¯ç”±&lt;/code&gt;&lt;br&gt;
æœ‰ä»¥ä¸‹ä¸¤ç§è®¾ç½®
&lt;ol&gt;
&lt;li&gt;å‘é€å¸¦è®¤è¯TLVçš„è®¤è¯æŠ¥æ–‡ï¼Œæœ¬åœ°å¯¹æ”¶åˆ°çš„æŠ¥æ–‡ä¹Ÿè¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;å‘é€å¸¦è®¤è¯TLVçš„è®¤è¯æŠ¥æ–‡ï¼Œä½†æ˜¯æœ¬åœ°å¯¹æ”¶åˆ°çš„æŠ¥æ–‡ä¸è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºåŸŸè®¤è¯&lt;/strong&gt;&lt;br&gt;
å¯¹Level-1çš„SNPå’ŒLSPæŠ¥æ–‡è¿›è¡Œè®¤è¯&lt;br&gt;
&lt;code&gt;é’ˆå¯¹Level-1çš„SNPå’ŒLSPåšçš„è®¤è¯ï¼Œä¸ä¼šå½±å“ISISé‚»å±…ï¼Œä½†æ˜¯ä¼šå½±å“Level-1çš„LSDBçš„åŒæ­¥ï¼Œä»…å½±å“Level-1çš„è·¯ç”±ï¼Œä¸ä¼šå½±å“Level-2çš„è·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±åŸŸè®¤è¯&lt;/strong&gt;&lt;br&gt;
å¯¹Level-2çš„SNPå’ŒLSPæŠ¥æ–‡è¿›è¡Œè®¤è¯&lt;br&gt;
&lt;code&gt;é’ˆå¯¹Level-2çš„LSPå’ŒSNPçš„è®¤è¯ï¼Œä¸ä¼šå½±å“ISISé‚»å±…ï¼Œä½†æ˜¯ä¼šå½±å“Level-2çš„LSDBçš„åŒæ­¥ï¼Œä»…å½±å“Level-2çš„è·¯ç”±ï¼Œä¸å½±å“Level-1çš„è·¯ç”±&lt;/code&gt;&lt;br&gt;
å¯ä»¥è®¾ç½®ä¸ºSNPå’ŒLSPåˆ†å¼€è®¤è¯ï¼š
&lt;ol&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥ï¼›å‘é€çš„SNPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œä½†ä¸å¯¹æ”¶åˆ°çš„SNPæŠ¥æ–‡è¿›è¡Œæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥ï¼›å‘é€çš„SNPæŠ¥æ–‡ä¸æºå¸¦è®¤è¯TLVï¼Œä¹Ÿä¸å¯¹æ”¶åˆ°çš„SNPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½ä¸è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡è®¤è¯æ–¹å¼&#34;&gt;æŠ¥æ–‡è®¤è¯æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;MD5è®¤è¯&lt;/li&gt;
&lt;li&gt;Keychianè®¤è¯ï¼šé€šè¿‡é…ç½®éšæ—¶é—´å˜åŒ–çš„å¯†ç é“¾è¡¨æ¥è¿›ä¸€æ­¥æå‡ç½‘ç»œçš„å®‰å…¨æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®¤è¯ä¿¡æ¯çš„æºå¸¦å½¢å¼&#34;&gt;è®¤è¯ä¿¡æ¯çš„æºå¸¦å½¢å¼&lt;/h2&gt;
&lt;p&gt;ISISé€šè¿‡TLVçš„å½¢å¼æºå¸¦è®¤è¯ä¿¡æ¯ï¼Œ&lt;strong&gt;è®¤è¯TLVçš„ç±»å‹ä¸º10&lt;/strong&gt;ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Typeï¼šISOå®šä¹‰è®¤è¯æŠ¥æ–‡çš„ç±»å‹å€¼ä¸º10ï¼Œé•¿åº¦ä¸º1å­—èŠ‚&lt;/li&gt;
&lt;li&gt;Lengthï¼šæŒ‡å®šè®¤è¯TLVå€¼çš„é•¿åº¦ï¼Œé•¿åº¦1å­—èŠ‚&lt;/li&gt;
&lt;li&gt;Valueï¼šæŒ‡å®šè®¤è¯çš„å…·ä½“å†…å®¹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†è®¤è¯çš„ç±»å‹å’Œè®¤è¯çš„å¯†ç ï¼Œé•¿åº¦ä¸º1ï½254å­—èŠ‚ï¼Œå…¶ä¸­è®¤è¯çš„ç±»å‹ä¸º1å­—èŠ‚ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;0ï¼šä¿ç•™çš„ç±»å‹&lt;/li&gt;
&lt;li&gt;1ï¼šæ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;54ï¼šMD5è®¤è¯&lt;/li&gt;
&lt;li&gt;255ï¼šè·¯ç”±åŸŸç§æœ‰è®¤è¯æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;lsp&#34;&gt;LSP&lt;/h1&gt;
&lt;h2 id=&#34;isisçš„lsdbæ›´æ–°è¿‡ç¨‹&#34;&gt;ISISçš„LSDBæ›´æ–°è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;DISæ¥æ”¶åˆ°LSPï¼Œåœ¨æ•°æ®åº“ä¸­æœç´¢å¯¹åº”çš„è®°å½•ï¼Œè‹¥æ²¡æœ‰è¯¥LSPï¼Œåˆ™å°†å…¶åŠ å…¥æ•°æ®åº“ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åºåˆ—å·è¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥æ”¶åˆ°çš„LSPåºåˆ—å·å¤§äºæœ¬åœ°LSPçš„åºåˆ—å·ï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPåºåˆ—å·å°æœ¬åœ°LSPçš„åºåˆ—å·ï¼Œå°±å‘å…¥æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RemainingLifetimeå‰©ä½™ç”Ÿå­˜æ—¶é—´è¶Šå°è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥ä¸¤ä¸ªåºåˆ—å·ç›¸ç­‰ï¼Œåˆ™æ¯”è¾ƒRemainingLifetimeã€‚è‹¥æ”¶åˆ°çš„LSPçš„RemainingLifetimeå°äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPçš„Remaining Lifetimeå¤§äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œå°±å‘å…¥ç«¯æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Checksumè¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥ä¸¤ä¸ªåºåˆ—å·å’ŒRemainingLifetimeéƒ½ç›¸ç­‰ï¼Œåˆ™æ¯”è¾ƒChecksumã€‚è‹¥æ”¶åˆ°çš„LSPçš„Checksumå¤§äºæœ¬åœ°LSPçš„Checksumï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPçš„Checksumå°äºæœ¬åœ°LSPçš„Checksumï¼Œå°±å‘å…¥ç«¯æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;è‹¥ä¸¤ä¸ªåºåˆ—å·ã€Remaining Lifetimeå’ŒChecksuméƒ½ç›¸ç­‰ï¼Œåˆ™ä¸è½¬å‘è¯¥æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;lspäº§ç”Ÿçš„åŸå› &#34;&gt;LSPäº§ç”Ÿçš„åŸå› &lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é‚»å±…Upæˆ–Down&lt;/li&gt;
&lt;li&gt;ISISç›¸å…³æ¥å£Upæˆ–Down&lt;/li&gt;
&lt;li&gt;å¼•å…¥çš„IPè·¯ç”±å‘ç”Ÿå˜åŒ–&lt;/li&gt;
&lt;li&gt;åŒºåŸŸé—´çš„IPè·¯ç”±å‘ç”Ÿå˜åŒ–&lt;/li&gt;
&lt;li&gt;æ¥å£è¢«èµ‹äº†æ–°çš„metricå€¼&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§æ›´æ–°&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ”¶åˆ°é‚»å±…æ–°çš„lspçš„å¤„ç†è¿‡ç¨‹&#34;&gt;æ”¶åˆ°é‚»å±…æ–°çš„LSPçš„å¤„ç†è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å°†æ¥æ”¶çš„æ–°çš„LSPåˆå…¥åˆ°è‡ªå·±çš„LSDBæ•°æ®åº“ä¸­ï¼Œå¹¶æ ‡è®°ä¸ºflooding&lt;/li&gt;
&lt;li&gt;å‘é€æ–°çš„LSPåˆ°é™¤äº†æ”¶åˆ°è¯¥LSPçš„æ¥å£ä¹‹å¤–çš„æ¥å£&lt;/li&gt;
&lt;li&gt;é‚»å±…å†æ‰©æ•£åˆ°å…¶ä»–é‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;lsp-id&#34;&gt;LSP ID&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612865056558.png&#34; alt=&#34;LSP ID&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;lspåˆ†ç‰‡&#34;&gt;LSPåˆ†ç‰‡&lt;/h2&gt;
&lt;p&gt;å½“ISISè¦å‘å¸ƒçš„é“¾è·¯çŠ¶æ€åè®®æ•°æ®æŠ¥æ–‡PDUä¸­çš„ä¿¡æ¯é‡å¤ªå¤§æ—¶ï¼ŒIS-Sè·¯ç”±å™¨å°†ä¼šç”Ÿæˆå¤šä¸ªLSPåˆ†ç‰‡ï¼Œç”¨æ¥æºå¸¦æ›´å¤šçš„ISISä¿¡æ¯&lt;br&gt;
ISIS LSPåˆ†ç‰‡ç”±LSP IDä¸­çš„LSP Numberå­—æ®µè¿›è¡Œæ ‡è¯†ï¼Œè¿™ä¸ªå­—æ®µçš„é•¿åº¦æ˜¯&lt;strong&gt;1å­—èŠ‚&lt;/strong&gt;ã€‚å› æ­¤ï¼Œä¸€ä¸ªIS-ISè¿›ç¨‹&lt;strong&gt;æœ€å¤šå¯äº§ç”Ÿ256ä¸ªLSPåˆ†ç‰‡&lt;/strong&gt;ï¼ˆæœ€å¤šæºå¸¦è·¯ç”±3ä¸‡å·¦å³ï¼‰ï¼Œæºå¸¦çš„ä¿¡æ¯é‡æœ‰é™ã€‚IS-ISå¯ä»¥é…ç½®è™šæ‹Ÿçš„SystemID ï¼ˆæœ€å¤šå¯é…ç½®50ä¸ªï¼Œå³isisè¿›ç¨‹æœ€å¤šå¯ç”Ÿæˆ51*256ä¸ªLSPåˆ†ç‰‡ï¼‰ï¼Œå¹¶ç”Ÿæˆè™šæ‹ŸIS-ISçš„LSPæŠ¥æ–‡æ¥æºå¸¦è·¯ç”±ç­‰ä¿¡æ¯ã€‚&lt;br&gt;
&lt;code&gt;ä¸ºä»€ä¹ˆéœ€è¦åˆ†ç‰‡ï¼Ÿå› ä¸ºisisä¸æ˜¯é€šè¿‡IPæ‰¿è½½çš„ï¼Œæ˜¯é€šè¿‡é“¾è·¯å±‚æ‰¿è½½çš„ï¼Œé“¾è·¯å±‚æœ¬èº«ä¸å…·å¤‡åˆ†ç‰‡çš„èƒ½åŠ›ï¼Œåªèƒ½ä¾é isisè‡ªèº«å®ç°&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœLSPåˆ†ç‰‡ä¹‹åï¼Œæ²¡æœ‰æ”¶åˆ°åˆ†ç‰‡åºåˆ—å·ä¸º0çš„LSPï¼Œé‚£ä¹ˆåç»­çš„LSPå°†å…¨éƒ¨ä¸¢å¼ƒï¼Œå› ä¸º00åˆ†ç‰‡ä¸­åŒ…å«è¯¥LSPçš„å¤´éƒ¨ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;å·¥ä½œæ¨¡å¼&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589101539252.png&#34; alt=&#34;LSPåˆ†ç‰‡å·¥ä½œæ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;Mode-1&lt;br&gt;
ç”¨äºç½‘ç»œä¸­çš„éƒ¨åˆ†è·¯ç”±å™¨ä¸æ”¯æŒLSPåˆ†ç‰‡æ‰©å±•ç‰¹æ€§çš„æƒ…å†µ&lt;br&gt;
RouterBæ˜¯ä¸æ”¯æŒåˆ†ç‰‡æ‰©å±•çš„è·¯ç”±å™¨ï¼ŒRouterA1å’ŒRouterA2æ˜¯RouterAçš„è™šæ‹Ÿç³»ç»Ÿï¼ŒRouterB&lt;strong&gt;è®¤ä¸ºå¯¹ç«¯æœ‰ä¸‰å°ç‹¬ç«‹çš„è·¯ç”±å™¨&lt;/strong&gt;ï¼Œå¹¶è¿›è¡Œæ­£å¸¸çš„è·¯ç”±è®¡ç®—ã€‚åŒæ—¶&lt;strong&gt;RouterAåˆ°RouterA1å’ŒRouterA2çš„å¼€é”€éƒ½æ˜¯0&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Mode-2&lt;br&gt;
ç”¨äºç½‘ç»œä¸­æ‰€æœ‰è·¯ç”±å™¨éƒ½æ”¯æŒLSPåˆ†ç‰‡æ‰©å±•ç‰¹æ€§çš„æƒ…å†µ&lt;br&gt;
RouterBé€šè¿‡IS Alias ID TLV&lt;sub&gt;24å·TLVï¼Œç”¨æ¥è¡¨ç¤ºåˆå§‹ç³»ç»Ÿä¸è™šæ‹Ÿç³»ç»Ÿçš„å…³ç³»&lt;/sub&gt;çŸ¥é“ä»–ä»¬çš„åˆå§‹ç³»ç»Ÿæ˜¯RouterAï¼Œåˆ™æŠŠRouterA1ï¼ŒRouterA2æ‰€å‘å¸ƒçš„ä¿¡æ¯éƒ½è§†ä¸ºRouterAçš„ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è·¯ç”±ç®—æ³•&#34;&gt;è·¯ç”±ç®—æ³•&lt;/h2&gt;
&lt;p&gt;è®¾å¤‡é»˜è®¤æ¥å£å¼€é”€å€¼éƒ½æ˜¯10&lt;/p&gt;
&lt;h2 id=&#34;spfè®¡ç®—è¿‡ç¨‹&#34;&gt;SPFè®¡ç®—è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å•åŒºåŸŸLSDBåŒæ­¥å®Œæˆ&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆå…¨ç½‘æ‹“æ‰‘ç»“æ„å›¾&lt;/li&gt;
&lt;li&gt;ä»¥æœ¬èŠ‚ç‚¹ä¸ºæ ¹ç”Ÿæˆæœ€çŸ­è·¯å¾„æ ‘&lt;/li&gt;
&lt;li&gt;é»˜è®¤è·¨è¶Šæ¯ä¸ªèŠ‚ç‚¹çš„å¼€é”€ä¸€æ ·&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;isisçš„è®¡ç®—ç‰¹ç‚¹&#34;&gt;ISISçš„è®¡ç®—ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨æœ¬åŒºåŸŸæ”¶åˆ°çš„LSPæ›´æ–°ï¼Œå¦‚æœæ˜¯éƒ¨åˆ†æ‹“æ‰‘çš„å˜åŒ–æ‰§è¡Œçš„SSPFå†…è·¯ç”±å™¨ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œçš„æ˜¯Full-SPFç®—æ³•&lt;/li&gt;
&lt;li&gt;å¦‚æœåªæ˜¯è·¯ç”±ä¿¡æ¯çš„å˜æ³•ï¼Œæ‰§è¡Œçš„æ˜¯PRCç®—æ³•&lt;/li&gt;
&lt;li&gt;ç”±äºé‡‡ç”¨æ‹“æ‰‘ä¸ç½‘ç»œåˆ†ç¦»çš„ç®—æ³•ï¼Œè·¯ç”±æ”¶æ•›é€Ÿåº¦å¾—åˆ°äº†åŠ å¼º&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è·¯ç”±èšåˆ&#34;&gt;è·¯ç”±èšåˆ&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;summary ip-address mask [ avoid-feedback | generate_null0_route | tag tag-value | [ level-1 | level-2 | level-1-2 ] ]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;avoid-feedback&lt;br&gt;
é¿å…ä»å¦å¤–ä¸€ä¸ªlevelå­¦åˆ°è‡ªå·±å‘å¸ƒçš„èšåˆè·¯ç”±ã€‚&lt;br&gt;
å¦‚æœå¦å¤–ä¸€ä¸ªlevelä¸­æœ‰ä¸summaryåœ°å€ç›¸åŒçš„å­¦ä¹ è·¯ç”±ï¼Œåˆ™è®¤ä¸ºè¯¥è·¯ç”±æ˜¯å…¶ä»–è·¯ç”±å™¨å­¦åˆ°äº†æœ¬åœ°è·¯ç”±å™¨å‘å¸ƒçš„summaryè·¯ç”±åï¼Œæ¸—é€åˆ°å¦å¤–ä¸€ä¸ªlevelå¹¶å‘å¸ƒçš„ã€‚æ­¤æ—¶avoid-feedbackäº§ç”Ÿä½œç”¨ï¼Œè¯¥è·¯ç”±å˜ä¸ºinactiveï¼Œä»RMè·¯ç”±è¡¨ä¸­åˆ é™¤ã€‚&lt;/li&gt;
&lt;li&gt;generate_null0_route&lt;br&gt;
æŒ‡å®šç”ŸæˆNull 0è·¯ç”±ï¼Œä»¥é˜²æ­¢è·¯ç”±å¾ªç¯ã€‚&lt;/li&gt;
&lt;li&gt;tag&lt;br&gt;
æŒ‡å®šå‘å¸ƒè·¯ç”±çš„ç®¡ç†æ ‡ç­¾å·&lt;/li&gt;
&lt;li&gt;level-1ã€level-2ã€level-1-2&lt;br&gt;
å¯¹æŒ‡å®šåŒºåŸŸçš„è·¯ç”±è¿›è¡Œèšåˆã€‚å¦‚æœé…ç½®æ—¶æ²¡æœ‰æŒ‡å®šLevelï¼Œç¼ºçœä¸ºLevel-2&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;isisåœ°å€ç»“æ„&#34;&gt;ISISåœ°å€ç»“æ„&lt;/h2&gt;
&lt;h3 id=&#34;nsap&#34;&gt;NSAP&lt;/h3&gt;
&lt;p&gt;NSAPæ˜¯OSIåè®®ä¸­ç”¨äºå®šä½èµ„æºçš„åœ°å€ï¼Œç›¸å½“äºOSIçš„ç½‘ç»œå±‚åè®®CLNPçš„åœ°å€ï¼ˆ&lt;strong&gt;ç±»ä¼¼IPåœ°å€çš„æ¦‚å¿µ&lt;/strong&gt;ï¼‰&lt;br&gt;
ç”±&lt;strong&gt;IDPå’ŒDSP&lt;/strong&gt;ç»„æˆï¼ŒIDPå’ŒDSPçš„é•¿åº¦éƒ½æ˜¯å¯å˜çš„ï¼ŒNSAPæ€»é•¿åº¦&lt;strong&gt;æœ€å¤šæ˜¯20å­—èŠ‚ï¼Œæœ€å°‘æ˜¯8å­—èŠ‚&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IDPç›¸å½“äºIPåœ°å€ä¸­çš„ä¸»ç½‘ç»œå·ï¼Œæ˜¯ç”±ISOè§„å®šçš„ï¼Œç”±AFIçš„IDIä¸¤éƒ¨åˆ†ç»„æˆ
&lt;ul&gt;
&lt;li&gt;AFIè¡¨ç¤ºåœ°å€åˆ†é…æœºæ„å’Œåœ°å€æ ¼å¼(é•¿åº¦å›ºå®šä¸º1B)&lt;/li&gt;
&lt;li&gt;IDIç”¨æ¥æ ‡è¯†åŸŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DSPç›¸å½“äºIPåœ°å€ä¸­çš„å­ç½‘å·å’Œä¸»æœºåœ°å€ï¼Œç”±HighOrderDSPã€SystemIDã€SELä¸‰éƒ¨åˆ†
&lt;ul&gt;
&lt;li&gt;HighOrderDSPç”¨æ¥åˆ†å‰²åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;SystemIDç”¨æ¥åŒºåˆ†åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;SELç”¨æ¥æŒ‡ç¤ºæœåŠ¡ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AreaAddress(AreaID)ç”±&lt;strong&gt;IDPå’ŒDSPä¸­çš„HighOrderDSPç»„æˆ&lt;/strong&gt;ï¼Œæ—¢èƒ½å¤Ÿæ ‡è¯†è·¯ç”±åŸŸï¼Œä¹Ÿèƒ½å¤Ÿæ ‡è¯†è·¯ç”±åŸŸä¸­çš„åŒºåŸŸï¼Œå®ƒä»¬ä¸€èµ·è¢«ç§°ä¸º&lt;strong&gt;åŒºåŸŸåœ°å€&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç±»ä¼¼OSPFä¸­çš„åŒºåŸŸç¼–å·AreaID&lt;/strong&gt;ï¼Œ&lt;strong&gt;åŒä¸€Level1åŒºåŸŸå†…çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»å…·æœ‰ç›¸åŒçš„åŒºåŸŸåœ°å€ï¼ŒLevel2åŒºåŸŸå†…çš„è·¯ç”±å™¨å¯ä»¥å…·æœ‰ä¸åŒçš„åŒºåŸŸåœ°å€&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SystemID&lt;/strong&gt;ç”¨æ¥åœ¨åŒºåŸŸå†…å”¯ä¸€æ ‡è¯†ä¸»æœºæˆ–è·¯ç”±å™¨ï¼Œåœ¨è®¾å¤‡çš„å®ç°ä¸­ï¼Œå®ƒçš„&lt;strong&gt;é•¿åº¦å›ºå®šä¸º48bit(6å­—èŠ‚)&lt;/strong&gt;ï¼Œä¸€èˆ¬æƒ…å†µå…ˆï¼Œä½¿ç”¨è®¾å¤‡çš„RouterIDè½¬æ¢ä¸ºSystemID&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SEL&lt;/strong&gt;çš„ä½œç”¨ç±»ä¼¼äºIPä¸­çš„â€œåè®®æ ‡è¯†ç¬¦â€ï¼Œä¸åŒçš„ä¼ è¾“åè®®å¯¹åº”ä¸åŒçš„SELï¼Œ&lt;strong&gt;åœ¨IPä¸ŠSELå‡ä¸º00ï¼Œé•¿åº¦å›ºå®šä¸º1B(8bit)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;net&#34;&gt;NET&lt;/h3&gt;
&lt;p&gt;NETæ˜¯&lt;code&gt;ä¸€ç±»ç‰¹æ®Šçš„NSAPï¼ˆSEL=00ï¼‰&lt;/code&gt;ï¼Œåœ¨è·¯ç”±å™¨ä¸Šé…ç½®ISISæ—¶ï¼Œåªéœ€è¦è€ƒè™‘NETå³å¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œå®ä½“åç§°NETæŒ‡çš„æ˜¯è®¾å¤‡æœ¬èº«çš„ç½‘ç»œå±‚çš„æ„æ€ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ç±»ç‰¹æ®Šçš„NSAPï¼ˆSEL=00ï¼‰,NETçš„é•¿åº¦ä¸NSAPç›¸åŒï¼Œæœ€å¤šä¸º20å­—èŠ‚ï¼Œæœ€å°‘ä¸º8å­—èŠ‚ï¼Œ&lt;strong&gt;åœ¨è·¯ç”±å™¨ä¸Šé…ç½®ISISæ—¶ï¼Œåªéœ€è¦è€ƒè™‘NETå³å¯ï¼ŒNSAPä¸å¿…å»å…³æ³¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨é…ç½®ISISè¿‡ç¨‹ä¸­ï¼ŒNETæœ€å¤šåªèƒ½é…ç½®3ä¸ªï¼Œåœ¨é…ç½®å¤šä¸ªNETæ—¶ï¼Œå¿…é¡»ä¿è¯ä»–ä»¬çš„SystemIDéƒ½ç›¸åŒ&lt;br&gt;
&lt;code&gt;æ²¡æœ‰NETåœ°å€ISISæ— æ³•è¿è¡Œï¼Œè¯¥åœ°å€åŒ…å«äº†åŒºåŸŸIDå’Œç³»ç»ŸIDï¼Œè€Œä»–æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªISOåœ°å€ï¼Œæœ€åçš„SELç­‰åŒäºTCPçš„ç«¯å£å·ï¼Œæ°¸è¿œç­‰äº00&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;TCP/IPåè®®æ ˆ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;IPåè®®&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;IPåœ°å€&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;OSPF&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;AreaID+RouterID&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSIç³»ç»Ÿ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;CLNPåè®®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSAPåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ISIS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NETæ ‡è¯†ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588665973437.png&#34; alt=&#34;ISISåœ°å€ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æœ€çŸ­é•¿åº¦8Bï¼š1Bçš„AFI + 6Bçš„SystemID + 1Bçš„SEL&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588667599284.png&#34; alt=&#34;ISISåœ°å€ä¾‹å­&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ç”¨ISISåšç½‘ç»œè®¾è®¡éœ€è¦æ³¨æ„ï¼šä¿è¯L2è·¯ç”±å™¨è¿ç»­&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å…³äºsystemid&#34;&gt;å…³äºSystemID&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªä¸­é—´ç³»ç»Ÿï¼ˆè·¯ç”±å™¨ï¼‰è‡³å°‘æœ‰ä¸€ä¸ªNETï¼Œ&lt;strong&gt;åä¸ºè®¾å¤‡æœ€å¤šæ”¯æŒ3ä¸ª&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŒä¸€ä¸ªAreaçš„ä¸­é—´ç³»ç»Ÿå¿…é¡»æœ‰ç›¸åŒçš„AreaIDï¼ˆLevel1å¿…é¡»ä¸€æ ·ï¼ŒLevel2å¯ä»¥ä¸ä¸€æ ·ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªä¸­é—´ç³»ç»Ÿåœ¨&lt;strong&gt;ä¸€ä¸ªAreaä¸­å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„SystemID&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªdomainä¸­çš„ä¸¤ä¸ªLevel2ä¸­é—´ç³»ç»Ÿä¸èƒ½æœ‰ç›¸åŒçš„SystemID&lt;/li&gt;
&lt;li&gt;NSAPè‡³å°‘ä¸º8å­—èŠ‚ï¼Œæœ€å¤šä¸º20ä¸ªå­—èŠ‚&lt;/li&gt;
&lt;li&gt;å¯¹äºä¼ ç»ŸIPåº”ç”¨ç¨‹åºè€Œè¨€ï¼Œ1å­—èŠ‚å®šä¹‰AFIï¼ˆæ ‡è¯†äºŒè¿›åˆ¶DSPè¯­æ³•çš„åœ°å€åŸŸï¼‰ï¼Œæœ€å°‘2å­—èŠ‚å®šä¹‰å®é™…åŒºåŸŸä¿¡æ¯ï¼ˆIDI+HighOrder+DSPï¼‰ï¼Œ6å­—èŠ‚å®šä¹‰ç³»ç»ŸIDå’Œ1å­—èŠ‚çš„NSELï¼Œæ•…NSAPåœ°å€æœ€å°‘ä¸º10å­—èŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;isisæ•´ä½“æ‹“æ‰‘&#34;&gt;ISISæ•´ä½“æ‹“æ‰‘&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588690827975.png&#34; alt=&#34;ISISæ•´ä½“æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å°†&lt;strong&gt;Level-1è·¯ç”±å™¨éƒ¨ç½²åœ¨ééª¨å¹²åŒºåŸŸ&lt;/strong&gt;ï¼Œ&lt;strong&gt;Level-2è·¯ç”±å™¨å’ŒLevel-1-2ï¼ˆç±»ä¼¼ABRï¼ŒISISé»˜è®¤è®¾ç½®ï¼‰è·¯ç”±å™¨éƒ¨ç½²åœ¨éª¨å¹²åŒºåŸŸ&lt;/strong&gt;ã€‚&lt;strong&gt;æ¯ä¸€ä¸ªééª¨å¹²åŒºåŸŸéƒ½é€šè¿‡Level-1-2è·¯ç”±å™¨ä¸éª¨å¹²åŒºåŸŸç›¸è¿&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨OSPFä¸­ï¼Œæ¯ä¸ªé“¾è·¯åªå±äºä¸€ä¸ªåŒºåŸŸï¼›è€Œåœ¨IS-ISä¸­ï¼Œæ¯ä¸ªé“¾è·¯å¯ä»¥å±äºä¸åŒçš„åŒºåŸŸ&lt;code&gt;OSPFåŸºäºæ¥å£ï¼Œå³ä¸€ä¸ªè®¾å¤‡ä¸Šçš„å¤šä¸ªæ¥å£å¯ä»¥å±äºä¸åŒçš„Areaï¼›ISISåŸºäºè®¾å¤‡ï¼Œå³ä¸€ä¸ªè®¾å¤‡åªèƒ½å±äºä¸€ä¸ªLevel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨IS-ISä¸­ï¼Œå•ä¸ªåŒºåŸŸæ²¡æœ‰ç‰©ç†çš„éª¨å¹²ä¸ééª¨å¹²åŒºåŸŸçš„æ¦‚å¿µï¼›è€Œåœ¨OSPFä¸­ï¼ŒArea0è¢«å®šä¹‰ä¸ºéª¨å¹²åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;åœ¨IS-ISä¸­ï¼Œ&lt;strong&gt;Level-1å’ŒLevel-2çº§åˆ«çš„è·¯ç”±å™¨åˆ†åˆ«é‡‡ç”¨SPFç®—æ³•ï¼Œåˆ†åˆ«ç”Ÿæˆæœ€çŸ­è·¯å¾„æ ‘SPT&lt;/strong&gt;ï¼›åœ¨OSPFä¸­ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…æ‰ä½¿ç”¨SPFç®—æ³•ï¼ŒåŒºåŸŸä¹‹é—´çš„è·¯ç”±éœ€è¦é€šè¿‡éª¨å¹²åŒºåŸŸæ¥è½¬å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;isisè·¯ç”±å™¨åˆ†ç±»&#34;&gt;ISISè·¯ç”±å™¨åˆ†ç±»&lt;/h2&gt;
&lt;h3 id=&#34;level-1è·¯ç”±å™¨&#34;&gt;Level-1è·¯ç”±å™¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨è´Ÿè´£åŒºåŸŸå†…çš„è·¯ç”±ï¼Œå®ƒåªä¸å±äº&lt;strong&gt;åŒä¸€åŒºåŸŸ&lt;/strong&gt;çš„Level-1å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆé‚»å±…å…³ç³»ï¼Œå±äºä¸åŒåŒºåŸŸçš„Level-1è·¯ç”±å™¨ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨åªè´Ÿè´£ç»´æŠ¤Level-1çš„LSDBï¼Œè¯¥LSDBåŒ…å«æœ¬åŒºåŸŸçš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åˆ°æœ¬åŒºåŸŸå¤–çš„æŠ¥æ–‡è½¬å‘ç»™æœ€è¿‘çš„Level-1-2è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¿…é¡»é€šè¿‡Level-1-2è·¯ç”±å™¨æ‰èƒ½è¿æ¥è‡³å…¶ä»–åŒºåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Level-1åŒºåŸŸ&lt;strong&gt;å»ºç«‹çš„æ¡ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¦æ±‚Areaå·å¿…é¡»ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¯ä»¥å’ŒLevel-1ã€Level-1-2è·¯ç”±å™¨å»ºç«‹Level-1çš„é‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;level-2è·¯ç”±å™¨&#34;&gt;Level-2è·¯ç”±å™¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨è´Ÿè´£åŒºåŸŸé—´çš„è·¯ç”±ï¼Œå¯ä»¥å’Œ&lt;strong&gt;åŒä¸€æˆ–è€…ä¸åŒåŒºåŸŸ&lt;/strong&gt;çš„Level-2æˆ–Level-1-2è·¯ç”±å™¨å½¢æˆé‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨ç»´æŠ¤ä¸€ä¸ªLevel-2çš„LSDBï¼Œè¯¥LSDBåŒ…å«ISISåŒºåŸŸå†…çš„æ‰€æœ‰è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰Level-2çº§åˆ«ï¼ˆå³å½¢æˆLevel-2é‚»å±…å…³ç³»ï¼‰çš„è·¯ç”±å™¨ç»„æˆè·¯ç”±åŸŸçš„éª¨å¹²ç½‘ï¼Œè´Ÿè´£åœ¨ä¸åŒåŒºåŸŸé—´é€šä¿¡ï¼Œ&lt;strong&gt;è·¯ç”±åŸŸä¸­Level-2çº§åˆ«çš„è·¯ç”±å™¨å¿…é¡»æ˜¯ç‰©ç†è¿ç»­çš„ï¼Œä»¥ä¿è¯éª¨å¹²ç½‘çš„è¿ç»­æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Level-2åŒºåŸŸ&lt;strong&gt;å»ºç«‹çš„æ¡ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Areaå·å¯ä»¥ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨å¯ä»¥å’ŒLevel-2ã€Level-1-2è·¯ç”±å™¨å»ºç«‹Level-2çš„é‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;level-1-2è·¯ç”±å™¨é»˜è®¤&#34;&gt;Level-1-2è·¯ç”±å™¨ï¼ˆé»˜è®¤ï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŒæ—¶å±äºLevel-1å’ŒLevel-2çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸åŒä¸€åŒºåŸŸçš„Level-1å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆLevel-1é‚»å±…å…³ç³»ï¼Œä¹Ÿå¯ä»¥å’Œå…¶ä»–åŒºåŸŸçš„Level-2å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆLevel-2é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¿…é¡»é€šè¿‡Level-1-2è·¯ç”±å™¨æ‰èƒ½è¿æ¥è‡³å…¶ä»–åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;Level-1-2è·¯ç”±å™¨ç»´æŠ¤ä¸¤ä¸ªLSDBï¼ŒLevel-1çš„LSDBç”¨äºåŒºåŸŸå†…è·¯ç”±ï¼ŒLevel-2çš„LSDBç”¨äºåŒºåŸŸé—´è·¯ç”±&lt;br&gt;
&lt;code&gt;æ—¢æœ‰Level-1åˆæœ‰Level-2çš„æƒ…å†µä¸‹ï¼ŒLevel-1-2å¿…é¡»å’ŒLevel-1çš„AreaIDä¿æŒä¸€è‡´ï¼Œå¦åˆ™æ— æ³•å»ºç«‹é‚»å±…ï¼Œå¯¼è‡´æ— æ³•è¿›è¡Œé€šä¿¡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Level-1-2è·¯ç”±å™¨ä¹‹é—´å»ºç«‹ä»€ä¹ˆæ ·çš„é‚»å±…ï¼Ÿ&lt;br&gt;
&lt;strong&gt;åŒºåŸŸå·ä¸åŒ&lt;/strong&gt;ï¼šä¸€ä¸ªï¼ŒLevel-2åŒºåŸŸ&lt;br&gt;
&lt;strong&gt;åŒºåŸŸå·ç›¸åŒ&lt;/strong&gt;ï¼šä¸¤ä¸ªï¼ŒLevel-1åŒºåŸŸå’ŒLevel-2åŒºåŸŸ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;isisæœ¯è¯­&#34;&gt;ISISæœ¯è¯­&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588776831130.png&#34; alt=&#34;æœ¯è¯­å¯¹ç…§è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IIHï¼Œhelloæ—¶é—´10ç§’ï¼Œholdæ—¶é—´30ç§’&lt;/li&gt;
&lt;li&gt;LSPç›¸å½“äºLSUï¼Œé‚£ä¹ˆTLVç›¸å½“äºLSA&lt;/li&gt;
&lt;li&gt;ISISåªæ”¯æŒP2På’Œå¹¿æ’­ç½‘ç»œï¼ŒPSNPåˆ†ä¸ºä¸¤ç§æŠ¥æ–‡ï¼Œä¸€ç§æ˜¯è¯·æ±‚LSPï¼ˆç±»ä¼¼LSRï¼Œå¯ç”¨äºp2på’Œå¹¿æ’­ï¼‰ï¼Œä¸€ç§æ˜¯ç¡®è®¤LSPï¼ˆç±»ä¼¼LSAckï¼Œ&lt;strong&gt;åªç”¨äºp2p&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;isisæŠ¥æ–‡ç±»å‹&#34;&gt;ISISæŠ¥æ–‡ç±»å‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ISISçš„9ç§æŠ¥æ–‡&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612824742640.png&#34; alt=&#34;ISISçš„9ç§æŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;å…¶ä»–å¸¸è§TLV&lt;/strong&gt;ï¼š&lt;a href=&#34;https://www.cnblogs.com/cyrusxx/p/12615744.html&#34;&gt;https://www.cnblogs.com/cyrusxx/p/12615744.html&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612824994199.png&#34; alt=&#34;ISISæŠ¥æ–‡ç±»å‹-2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-hello-pduiihhelloæŠ¥æ–‡&#34;&gt;1. Hello PDUï¼ˆIIHï¼‰ï¼ˆhelloæŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;p&gt;ç”¨äºé‚»å±…å‘ç°ï¼Œåå•†å‚æ•°å¹¶å»ºç«‹é‚»å±…å…³ç³»ï¼ŒåæœŸå……å½“ä¿æ´»æŠ¥æ–‡ã€‚ISISç›®å‰åªæ”¯æŒ&lt;strong&gt;ç‚¹åˆ°ç‚¹å’Œå¹¿æ’­&lt;/strong&gt;ä¸¤ç§ç½‘ç»œç±»å‹ã€‚&lt;br&gt;
åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼ŒISISé€šè¿‡MACåœ°å€æ¥æ ‡è¯†é‚»å±…ï¼ˆOSPFæ˜¯é€šè¿‡RIDæ¥æ ‡è¯†çš„ï¼‰ï¼›åœ¨P2Pä¸­ï¼Œæ˜¯é€šè¿‡ç³»ç»ŸIDæ¥æ ‡è¯†é‚»å±…çš„ï¼Œé€šè¿‡ç”µè·¯IDæ¥æ ‡è¯†è‡ªå·±çš„å“ªä¸ªæ¥å£ä¸å¯¹ç«¯ç›¸è¿ã€‚&lt;br&gt;
å¹¿æ’­ç½‘ä¸­çš„Level-1 IS-ISä½¿ç”¨Level-1 LAN IIHï¼ŒLevel-2 IS-ISä½¿ç”¨Level-2 LAN IIHï¼›éå¹¿æ’­ç½‘ç»œä¸­åˆ™ä½¿ç”¨P2P IIHã€‚&lt;br&gt;
å®ƒä»¬çš„æŠ¥æ–‡æ ¼å¼æœ‰æ‰€ä¸åŒã€‚P2P IIHä¸­ç›¸å¯¹äºLAN IIHæ¥è¯´ï¼Œå¤šäº†ä¸€ä¸ªè¡¨ç¤ºæœ¬åœ°é“¾è·¯IDçš„&lt;code&gt;Local Circuit ID&lt;/code&gt;å­—æ®µï¼Œç¼ºå°‘äº†è¡¨ç¤ºå¹¿æ’­ç½‘ä¸­DISçš„ä¼˜å…ˆçº§çš„&lt;code&gt;Priority&lt;/code&gt;å­—æ®µä»¥åŠè¡¨ç¤ºDISå’Œä¼ªèŠ‚ç‚¹System IDçš„&lt;code&gt;LAN ID&lt;/code&gt;å­—æ®µã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588779975219.png&#34; alt=&#34;LSDB-DIS&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;level-1-lan-iih&#34;&gt;Level-1 LAN IIH&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç»„æ’­MAC&lt;/strong&gt;ï¼š&lt;code&gt;01-80-c2-00-00-14&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588780182952.png&#34; alt=&#34;L1å’ŒL2çš„å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;level-2-lan-iih&#34;&gt;Level-2 LAN IIH&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç»„æ’­MAC&lt;/strong&gt;ï¼š&lt;code&gt;01-80-c2-00-00-15&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;p2p-iih&#34;&gt;P2P IIH&lt;/h4&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹ï¼š&lt;code&gt;å°†å¤šå­—èŠ‚çš„Priorityå’ŒLAN IDæ›¿æ¢æˆ1å­—èŠ‚çš„Local Circuit ID&lt;/code&gt;&lt;br&gt;
éå¹¿æ’­ç½‘ç»œä¸­åˆ™ä½¿ç”¨P2P IIHï¼Œä½†æ˜¯å…¶æ²¡æœ‰è¡¨ç¤ºDISï¼ˆè™šèŠ‚ç‚¹ï¼‰çš„ç›¸å…³å­—æ®µ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588780285711.png&#34; alt=&#34;P2Pçš„å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-lsp-pdué“¾è·¯çŠ¶æ€æŠ¥æ–‡&#34;&gt;2. LSP PDUï¼ˆé“¾è·¯çŠ¶æ€æŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;p&gt;ç”¨äºäº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œç›¸å½“äºOSPFçš„LSU&lt;br&gt;
Levelâ€“1 LSPç”±Level-1è·¯ç”±å™¨ä¼ é€ï¼ŒLevelâ€“2 LSPç”±Level-2è·¯ç”±å™¨ä¼ é€ï¼ŒLevel-1-2è·¯ç”±å™¨åˆ™å¯ä¼ é€ä»¥ä¸Šä¸¤ç§LSP&lt;br&gt;
Level-1 LSPå’ŒLevel-2 LSPå…·æœ‰ç›¸åŒçš„æŠ¥æ–‡ç»“æ„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612599734899.png&#34; alt=&#34;LSP PDU&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ATTï¼šåŒºåŸŸå…³è”ä½&lt;br&gt;
å½“L1åŒºåŸŸä¸­çš„è·¯ç”±è®¾å¤‡æ”¶åˆ°Level-1-2è·¯ç”±è®¾å¤‡å‘é€çš„ATTä½è¢«ç½®ä½çš„L1 LSPåï¼Œå®ƒå°†åˆ›å»ºä¸€æ¡æŒ‡å‘Level-1-2è·¯ç”±è®¾å¤‡çš„ç¼ºçœè·¯ç”±ã€‚&lt;br&gt;
è™½ç„¶ATTä½åŒæ—¶åœ¨L1 LSPå’ŒL2 LSPä¸­è¿›è¡Œäº†å®šä¹‰ï¼Œä½†æ˜¯å®ƒåªä¼šåœ¨L1 LSPä¸­è¢«ç½®ä½ï¼Œå¹¶ä¸”åªæœ‰L1/2è·¯ç”±è®¾å¤‡ä¼šè®¾ç½®è¿™ä¸ªå­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;OLï¼šè¿‡è½½æ ‡å¿—ä½&lt;br&gt;
è®¾ç½®äº†è¿‡è½½æ ‡å¿—ä½çš„LSPè™½ç„¶è¿˜ä¼šåœ¨ç½‘ç»œä¸­æ‰©æ•£ï¼Œä½†æ˜¯åœ¨è®¡ç®—é€šè¿‡è¿‡è½½è®¾å¤‡çš„è·¯ç”±æ—¶ä¸ä¼šè¢«é‡‡ç”¨ï¼Œå³å¯¹è®¾å¤‡è®¾ç½®è¿‡è½½ä½åï¼Œ&lt;strong&gt;å…¶å®ƒè®¾å¤‡åœ¨è¿›è¡ŒSPFè®¡ç®—æ—¶ä¸ä¼šä½¿ç”¨è¿™å°è®¾å¤‡åšè½¬å‘&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªè®¡ç®—è¯¥èŠ‚ç‚¹ä¸Šçš„ç›´è¿è·¯ç”±&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;IS Typeï¼šç”ŸæˆLSPçš„IS-ISç±»å‹&lt;br&gt;
ç”¨æ¥æŒ‡æ˜æ˜¯Level-1è¿˜æ˜¯Level-2 IS-ISï¼ˆ01è¡¨ç¤ºLevel-1ï¼Œ11è¡¨ç¤ºLevel-2ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;3-snp-pduåºåˆ—å·æŠ¥æ–‡&#34;&gt;3. SNP PDUï¼ˆåºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;p&gt;ç”¨äºç»´æŠ¤LSDBçš„å®Œæ•´ä¸åŒæ­¥ï¼Œä¸”ä¸ºæ‘˜è¦ä¿¡æ¯&lt;/p&gt;
&lt;h4 id=&#34;csnpå…¨åºåˆ—å·æŠ¥æ–‡&#34;&gt;CSNPï¼ˆå…¨åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h4&gt;
&lt;p&gt;ç±»ä¼¼äºOSPFçš„DBDä¿¡æ¯ï¼Œç”¨æ¥åŒæ­¥LSDBï¼ŒDISå®šæœŸæ³›æ´ªCSNP(10ç§’)&lt;br&gt;
åˆ†ä¸ºLevel-1 CSNPå’ŒLevel-2 CSNP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612599938690.png&#34; alt=&#34;CSNP&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Source IDï¼šå‘å‡ºCSNPæŠ¥æ–‡çš„è®¾å¤‡çš„System ID&lt;/li&gt;
&lt;li&gt;Start LSP IDï¼šCSNPæŠ¥æ–‡ä¸­ç¬¬ä¸€ä¸ªLSPçš„IDå€¼&lt;/li&gt;
&lt;li&gt;End LSP IDï¼šCSNPæŠ¥æ–‡ä¸­æœ€åä¸€ä¸ªLSPçš„IDå€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;psnpéƒ¨åˆ†åºåˆ—å·æŠ¥æ–‡&#34;&gt;PSNPï¼ˆéƒ¨åˆ†åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼Œç±»ä¼¼äºOSPFçš„LSRï¼›åœ¨P2Pç½‘ç»œä¸­ï¼Œç±»ä¼¼äºOSPFçš„LSRå’ŒLSAckã€‚éDISè®¾å¤‡å‘DISå‘é€PSNPï¼Œç”¨äºè¯·æ±‚éDISè®¾å¤‡ä¸Šç¼ºå°‘çš„LSDBä¸­çš„è¯¦ç»†è·¯ç”±ä¿¡æ¯&lt;br&gt;
åˆ†ä¸ºLevel-1 PSNPå’ŒLevel-2 PSNP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612600150201.png&#34; alt=&#34;PSNP&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;isisç½‘ç»œç±»å‹&#34;&gt;ISISç½‘ç»œç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;isisæ”¯æŒçš„ç½‘ç»œç±»å‹&#34;&gt;ISISæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;P2Pï¼Œä¾‹å¦‚PPPå’ŒHDLC&lt;code&gt;ä¸é€‰ä¸¾DIS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¹¿æ’­
&lt;ul&gt;
&lt;li&gt;DISï¼š&lt;strong&gt;æŒ‡å®šä¸­é—´ç³»ç»Ÿ&lt;/strong&gt;ï¼Œä¸ºäº†åœ¨å¹¿æ’­ç½‘ç»œä¸­å®ç°&lt;strong&gt;æ›´é«˜æ•ˆçš„æ•°æ®åº“åŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¼ªèŠ‚ç‚¹ï¼šç”¨æ¥æ¨¡æ‹Ÿå¹¿æ’­ç½‘ç»œçš„ä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼Œå¹¶éçœŸå®çš„è·¯ç”±è®¾å¤‡ï¼Œç”¨DISçš„System IDå’Œä¸€ä¸ªå­—èŠ‚çš„Circuit IDï¼ˆé0å€¼ï¼‰æ ‡è¯†ã€‚ä½¿ç”¨ä¼ªèŠ‚ç‚¹å¯ä»¥ç®€åŒ–ç½‘ç»œæ‹“æ‰‘ï¼Œä½¿è·¯ç”±è®¾å¤‡äº§ç”Ÿçš„LSPé•¿åº¦è¾ƒå°ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612651281734.png&#34; alt=&#34;ä¼ªèŠ‚ç‚¹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dis&#34;&gt;DIS&lt;/h4&gt;
&lt;p&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼ŒIS-ISéœ€è¦åœ¨æ‰€æœ‰çš„è·¯ç”±å™¨ä¸­é€‰ä¸¾ä¸€ä¸ªè·¯ç”±å™¨ä½œä¸ºDISï¼Œ&lt;strong&gt;Level-1å’ŒLevel-2çš„DISæ˜¯åˆ†åˆ«é€‰ä¸¾çš„&lt;/strong&gt;&lt;br&gt;
å¯ä»¥ä¸ºä¸åŒçº§åˆ«çš„DISé€‰ä¸¾è®¾ç½®ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œ&lt;strong&gt;ä¼˜å…ˆçº§ä¸º0çš„è·¯ç”±å™¨ä¹Ÿå‚ä¸DISçš„é€‰ä¸¾ï¼Œåªæ˜¯å…·æœ‰æœ€å°å¯èƒ½æˆä¸ºDIS&lt;/strong&gt;ï¼Œä¸”DISé€‰ä¸¾&lt;strong&gt;æ”¯æŒæŠ¢å &lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;åŒä¸€ç½‘æ®µä¸Šçš„åŒä¸€çº§åˆ«çš„è·¯ç”±å™¨ä¹‹é—´éƒ½ä¼šå½¢æˆé‚»æ¥å…³ç³»&lt;/strong&gt;ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„éDISè·¯ç”±å™¨ä¹‹é—´ä¹Ÿä¼šå½¢æˆé‚»æ¥å…³ç³»ï¼Œ&lt;strong&gt;ä½†LSDBçš„åŒæ­¥ä»ç„¶ä¾é DISæ¥ä¿è¯&lt;/strong&gt;&lt;br&gt;
DISç”¨æ¥åˆ›å»ºå’Œæ›´æ–°ä¼ªèŠ‚ç‚¹ï¼Œå¹¶è´Ÿè´£ç”Ÿæˆä¼ªèŠ‚ç‚¹çš„é“¾è·¯çŠ¶æ€åè®®æ•°æ®å•å…ƒLSPï¼Œç”¨æ¥æè¿°è¿™ä¸ªç½‘ç»œä¸Šæœ‰å“ªäº›ç½‘ç»œè®¾å¤‡&lt;br&gt;
IS-ISä¸­DISå‘é€Helloæ—¶é—´é—´éš”ä¸º10/3ç§’ï¼Œè€Œå…¶ä»–éDISè·¯ç”±å™¨å‘é€Helloé—´éš”ä¸º10ç§’ï¼ŒISISçš„LSPçš„æ›´æ–°æ—¶é—´ä¸º900ç§’ï¼ŒHold timeæ—¶é—´ä¸º1200ç§’ï¼Œæ˜¯ä»å¤§å¾€å°å‡çš„&lt;br&gt;
&lt;strong&gt;ISISç³»ç»Ÿä¸­æ²¡æœ‰DISä¹Ÿèƒ½å®Œæˆæ•°æ®åº“åŒæ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆDISä¸éœ€è¦å¤‡ä»½çš„DISï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DISæ”¯æŒæŠ¢å &lt;/li&gt;
&lt;li&gt;DISå‘é€Helloæ¶ˆæ¯çš„æ—¶é—´ä¸º10/3ç§’ï¼Œå¯ä»¥è®©ISISå¿«é€Ÿå‘ç°DISå¤±æ•ˆï¼Œé‡æ–°é€‰ä¸¾DIS&lt;/li&gt;
&lt;li&gt;ISISä¸»è¦ç”¨åœ¨è¿è¥å•†ç½‘ç»œä¸­ï¼Œè€Œè¿è¥å•†ç½‘ç»œä¸€èˆ¬å¾ˆå°‘ä¼šæ›´æ¢è®¾å¤‡ï¼Œæ‰€ä»¥å½±å“ä¸å¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆåœ¨ISISä¸­DISå¯ä»¥è¢«æŠ¢å ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ISISä¸­æ‰€æœ‰çš„è®¾å¤‡éƒ½å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;li&gt;ISISä¸»è¦ç”¨åœ¨è¿è¥å•†ç½‘ç»œä¸­ï¼Œè€Œè¿è¥å•†ç½‘ç»œä¸€èˆ¬å¾ˆå°‘ä¼šæ›´æ¢è®¾å¤‡ï¼Œæ‰€ä»¥å½±å“ä¸å¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;disçš„é€‰ä¸¾&#34;&gt;DISçš„é€‰ä¸¾&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º64ï¼Œå–å€¼èŒƒå›´ï¼ˆ0-127ï¼‰&lt;/li&gt;
&lt;li&gt;MACåœ°å€è¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;å½±å“isisé‚»å±…å»ºç«‹çš„æ¡ä»¶&#34;&gt;å½±å“ISISé‚»å±…å»ºç«‹çš„æ¡ä»¶&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å»ºç«‹é‚»å±…å…³ç³»åŸåˆ™ï¼šåŒä¸€å±‚æ¬¡(çº§åˆ«)ã€åŒä¸€åŒºåŸŸï¼ˆåªæœ‰L1ä¼šåšä¸¥æ ¼æ£€æŸ¥ï¼‰ã€åŒä¸€ç½‘æ®µã€åŒä¸€ç½‘ç»œç±»å‹&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-è¿è¡Œçº§åˆ«å’ŒåŒºåŸŸid&#34;&gt;1. è¿è¡Œçº§åˆ«å’ŒåŒºåŸŸID&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;åŒºåŸŸIDåªå½±å“Level-1é‚»å±…çš„å»ºç«‹ï¼ŒLevel-1åªèƒ½å’ŒåŒä¸€åŒºåŸŸçš„Level-1æˆ–Level-1-2å»ºç«‹Level-1çº§åˆ«çš„é‚»å±…&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;level1-level2ï¼šæ— æ³•å»ºç«‹&lt;/li&gt;
&lt;li&gt;level1-level1ï¼šlevel1&lt;/li&gt;
&lt;li&gt;level1-level1/2ï¼šlevel1&lt;/li&gt;
&lt;li&gt;level2-level1/2ï¼šlevel2&lt;/li&gt;
&lt;li&gt;levle2-level/2ï¼šlevel2&lt;/li&gt;
&lt;li&gt;level1/2- level1/2ï¼š
&lt;ol&gt;
&lt;li&gt;åŒºåŸŸå·ç›¸åŒlevel1å’Œlevel2&lt;/li&gt;
&lt;li&gt;åŒºåŸŸå·ä¸åŒåˆ™åªæœ‰Level2å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-system-id&#34;&gt;2. System-ID&lt;/h3&gt;
&lt;p&gt;system-idæ ‡è¯†ä¸€å°è·¯ç”±å™¨ï¼Œå…·æœ‰å”¯ä¸€æ€§ï¼Œé»˜è®¤æ˜¯6ä¸ªå­—èŠ‚ï¼Œå¦‚æœsystem-idé•¿åº¦ä¸ä¸€è‡´æˆ–è€…ç›´è¿è®¾å¤‡çš„system-idå†²çªåˆ™æ— æ³•å»ºç«‹é‚»å±…&lt;/p&gt;
&lt;h3 id=&#34;3-è®¤è¯&#34;&gt;3. è®¤è¯&lt;/h3&gt;
&lt;p&gt;æ¥å£è®¤è¯æ˜¯å¯¹Level-1å’ŒLevel-2çš„HelloæŠ¥æ–‡çš„è®¤è¯ï¼ŒåŒºåŸŸè®¤è¯æ˜¯å¯¹Level-1çš„SNPå’ŒLSPçš„è®¤è¯ï¼Œè·¯ç”±åŸŸè®¤è¯æ˜¯å¯¹Level-2çš„SNPå’ŒLSPçš„è®¤è¯ï¼Œå¯¹äºåŒºåŸŸå’Œè·¯ç”±åŸŸçš„è®¤è¯å¯ä»¥è®¾ç½®ä¸ºSNPå’ŒLSPåˆ†åˆ«è®¤è¯ã€‚è®¤è¯æ–¹å¼åˆ†ä¸ºæ˜æ–‡è®¤è¯ã€MD5è®¤è¯å’Œkeychianè®¤è¯ã€‚&lt;br&gt;
æ¥å£è®¤è¯ä¸ä¸€è‡´å½±å“é‚»å±…çš„å»ºç«‹ï¼ŒåŒºåŸŸè®¤è¯å’Œè·¯ç”±åŸŸè®¤è¯ä¸ä¸€è‡´å¯ä»¥æ­£å¸¸å»ºç«‹é‚»å±…ï¼Œä½†æ˜¯æ— æ³•æ­£å¸¸åŒæ­¥LSDB&lt;/p&gt;
&lt;h3 id=&#34;4-mtu&#34;&gt;4. MTU&lt;/h3&gt;
&lt;p&gt;ISISä¸­å­˜åœ¨éšå¼çš„MTUæ£€æµ‹æœºåˆ¶ï¼Œé€šè¿‡IIHæŠ¥æ–‡ï¼ŒP2Pä¸º1500ï¼Œå¹¿æ’­ç½‘ä¸º1497ï¼Œå°‘çš„é‚£3å­—èŠ‚çš„åŸå› å¦‚ä¸‹ï¼š&lt;br&gt;
ISISé€šè¿‡802.3æ‰¿è½½ï¼Œ3å­—èŠ‚ç”¨äº802.2å¤´éƒ¨ï¼ˆå³LLCï¼ŒåŒ…å«DSAPã€SSAPå’ŒControlä¸‰éƒ¨åˆ†ï¼‰ï¼Œæ ‡è¯†ä¸Šå±‚åè®®ã€‚&lt;br&gt;
å¹¿æ’­ç½‘ç»œä¸­æ‰€æœ‰çš„HelloæŠ¥æ–‡éƒ½ä¼šä½¿ç”¨Paddingå¡«å……ï¼Œä½†æ˜¯P2Påªæœ‰åœ¨å»ºç«‹é‚»å±…æ—¶çš„HelloæŠ¥æ–‡æ‰ä¼šè¢«å¡«å……ï¼Œå…¶ä»–çš„HelloæŠ¥æ–‡ä¸ä¼šè¢«å¡«å……ã€‚&lt;/p&gt;
&lt;h3 id=&#34;5-æ¥å£çš„ç½‘ç»œç±»å‹&#34;&gt;5. æ¥å£çš„ç½‘ç»œç±»å‹&lt;/h3&gt;
&lt;p&gt;P2På’Œå¹¿æ’­ç½‘ç»œæ— æ³•å»ºç«‹é‚»å±…ï¼Œå› ä¸ºè¿™ä¸¤ç§ç½‘ç»œç±»å‹å»ºç«‹é‚»å±…æ‰€éœ€çš„TLVä¸åŒï¼ŒP2Pçš„3æ¬¡æ¡æ‰‹æ¨¡å¼ä½¿ç”¨240å·TLVï¼Œè€Œå¹¿æ’­ç½‘ç»œä½¿ç”¨6å·TLVã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡å°†ä»¥å¤ªç½‘æ¥å£æ¨¡æ‹ŸæˆP2Pæ¥å£ï¼Œå»ºç«‹P2Pé“¾è·¯é‚»å±…å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;6-ipåœ°å€ä¸åœ¨åŒä¸€ä¸ªç½‘æ®µ&#34;&gt;6. IPåœ°å€ä¸åœ¨åŒä¸€ä¸ªç½‘æ®µ&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é»˜è®¤å¼€å¯æºæ£€æŸ¥ï¼Œåªå½±å“å¹¿æ’­ç½‘&lt;/code&gt;&lt;br&gt;
ISISé‚»å±…å…³ç³»çš„å½¢æˆä¸IPåœ°å€æ— å…³ï¼Œä½†åœ¨IPç½‘ç»œä¸Šè¿è¡ŒISISåè®®ï¼Œè¦æ£€æŸ¥è®¾å¤‡ä¸¤ç«¯çš„IPåœ°å€ã€‚å¦‚æœè®¾å¤‡æ¥å£é…ç½®äº†è¾…ç”¨IPåœ°å€ï¼Œé‚£ä¹ˆåªè¦åŒæ–¹æœ‰æŸä¸ªIPåœ°å€ï¼ˆä¸»ç”¨IPåœ°å€æˆ–è€…è¾…ç”¨IPåœ°å€ï¼‰åœ¨åŒä¸€ç½‘æ®µï¼Œå°±èƒ½å»ºç«‹é‚»å±…ï¼Œä¸è¦æ±‚è®¾å¤‡ä¸¤ç«¯çš„ä¸»ç”¨IPåœ°å€ç›¸åŒã€‚&lt;br&gt;
HelloæŠ¥æ–‡ä¸æºå¸¦æ©ç ï¼Œåªæºå¸¦IPï¼Œè·¯ç”±å™¨ç”¨æ”¶åˆ°çš„IPä¸æœ¬åœ°æ¥å£çš„æ©ç è¿›è¡Œä¸è¿ç®—ï¼Œå¿…é¡»å¤„äºåŒä¸€ä¸ªç½‘æ®µï¼Œå¦‚192.168.1.1/24å’Œ192.168.1.200/25ä¹‹é—´å»ºç«‹é‚»å±…ï¼Œç»“æœ.1ä¾§æ˜¾ç¤ºå¯¹ç«¯ä¸ºinitçŠ¶æ€ï¼Œ.200ä¾§æ˜¾ç¤ºæ— é‚»å±…ã€‚&lt;br&gt;
å½“é“¾è·¯ä¸¤ç«¯ISISæ¥å£çš„åœ°å€ä¸åœ¨åŒä¸€ç½‘æ®µæ—¶ï¼Œå¦‚æœé…ç½®æ¥å£å¯¹æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸ä½œIPåœ°å€æ£€æŸ¥ï¼Œä¹Ÿå¯ä»¥å»ºç«‹é‚»å±…å…³ç³»ã€‚å¯¹äºP2Pæ¥å£ï¼Œå¯ä»¥é…ç½®æ¥å£å¿½ç•¥IPåœ°å€æ£€æŸ¥ï¼›å¯¹äºä»¥å¤ªç½‘æ¥å£ï¼Œéœ€è¦å°†ä»¥å¤ªç½‘æ¥å£æ¨¡æ‹ŸæˆP2Pæ¥å£ï¼Œæ‰å¯ä»¥é…ç½®æ¥å£å¿½ç•¥IPåœ°å€æ£€æŸ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;7-cost-style&#34;&gt;7. cost-style&lt;/h3&gt;
&lt;p&gt;åº¦é‡å€¼ç±»å‹ä¸åŒä¸å½±å“é‚»å±…çš„å»ºç«‹ï¼Œä½†æ˜¯å½±å“è·¯ç”±çš„è®¡ç®—ã€‚&lt;br&gt;
çª„åº¦é‡å’Œå®½åº¦é‡ä¸»è¦æœ‰ä»¥ä¸‹3ç‚¹åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;çª„åº¦é‡å€¼æœ€å¤§ä¸º63ï¼Œå®½åº¦é‡å€¼æœ€å¤§ä¸º2çš„24æ¬¡æ–¹&lt;/li&gt;
&lt;li&gt;çª„åº¦é‡ä¸æ”¯æŒTLVçš„åˆ†ç‰‡ï¼Œä½†æ˜¯å®½åº¦é‡æ”¯æŒ&lt;/li&gt;
&lt;li&gt;ç”¨æ¥é€šå‘Šè·¯ç”±ä¿¡æ¯çš„TLVç±»å‹ä¸åŒï¼Œçª„åº¦é‡çš„TLVä¸º2å·ã€128å·å’Œ130å·ï¼Œè€Œå®½åº¦é‡ä¸º22å·å’Œ135å·&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8-å…¶ä»–&#34;&gt;8. å…¶ä»–&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;max areaæ•°é‡ä¸ä¸€è‡´ ï¼ˆé»˜è®¤æ˜¯3ä¸ªï¼‰&lt;/li&gt;
&lt;li&gt;å¤šæ‹“æ‰‘ï¼Œå³ä¸€è¾¹åªæœ‰IPv4ï¼Œå¦å¤–ä¸€è¾¹æœ‰IPv4å’ŒIPv6&lt;/li&gt;
&lt;li&gt;p2pä¸­3æ¬¡æ¡æ‰‹å’Œ2æ¬¡æ¡æ‰‹æ— æ³•å»ºç«‹é‚»å±…ï¼Œå› ä¸ºæ‰€ä½¿ç”¨çš„TLVä¸åŒï¼Œ2æ¬¡æ¡æ‰‹ä½¿ç”¨17å·TLVï¼Œ3æ¬¡æ¡æ‰‹ä½¿ç”¨240å·TLV&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;drå’Œdisçš„åŒºåˆ«&#34;&gt;DRå’ŒDISçš„åŒºåˆ«&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é€‰ä¸¾æ—¶æœºçš„æ¯”è¾ƒã€‚DRæ˜¯åœ¨å»ºç«‹é‚»å±…å…³ç³»ä¹‹åé€‰ä¸¾ï¼Œè€ŒDISæ˜¯åœ¨é‚»æ¥å…³ç³»å»ºç«‹åï¼Œéœ€è¦å†ç­‰å¾…ä¸¤ä¸ªHelloæŠ¥æ–‡é—´éš”&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾æ—¶ä¼˜é€‰çº§çš„æ¯”è¾ƒã€‚DISçš„ä¼˜å…ˆçº§ä¸º0ä¹Ÿå¯ä»¥å‚ä¸é€‰ä¸¾ï¼Œä½†DRä¼˜å…ˆçº§ä¸º0ä¸å‚ä¸é€‰ä¸¾ï¼›DRå…ˆæ¯”ä¼˜å…ˆçº§å†æ¯”RouteIDï¼Œè€ŒDISå…ˆæ¯”ä¼˜å…ˆçº§å†æ¯”MACåœ°å€&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾çš„è¿‡ç¨‹éœ€è¦ä¸€å®šçš„æ—¶é—´ã€‚OSPFé€‰ä¸¾DR/BDRéœ€è¦waiting timeè¾¾40ç§’ï¼Œè¿‡ç¨‹ä¹Ÿè¾ƒä¸ºå¤æ‚ï¼Œè€ŒISISé€‰ä¸¾DISç­‰å¾…ä¸¤ä¸ªHelloæŠ¥æ–‡é—´éš”å°±å¯ä»¥ï¼Œç®€å•å¿«æ·&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾ç»“æœã€‚ISISåªæœ‰ä¸€ä¸ªDISï¼Œä½†æ˜¯OSPFé™¤äº†æœ‰DRï¼Œè¿˜æœ‰ä¸€ä¸ªBDRç”¨åšå¤‡ä»½&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾ç»“æŸåã€‚åæœŸæœ‰æ–°çš„RouteråŠ å…¥åˆ°é“¾è·¯è¿›æ¥ï¼Œå¦‚æœä¼˜å…ˆçº§æ¯”DISé«˜æ˜¯å¯æŠ¢å çš„ï¼Œä½†æ˜¯DRæ˜¯ä¸å¯æŠ¢å çš„&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾å®Œæˆåã€‚DISçš„å‘é€HelloæŠ¥æ–‡æ—¶é—´æ˜¯3ç§’ï¼ŒDRæ˜¯10ç§’æˆ–è€…30ç§’ã€‚ISISç½‘ç»œé“¾è·¯å†…æ‰€æœ‰çš„è·¯ç”±å™¨ä¹‹é—´éƒ½å»ºç«‹çš„æ˜¯é‚»æ¥å…³ç³»ã€‚OSPFä¸­DRothersåªä¸DR/BDRå½¢æˆé‚»æ¥å…³ç³»ï¼Œ DRothersä¹‹é—´åªæœ‰2-wayçš„å…³ç³»&lt;/li&gt;
&lt;li&gt;ä½œç”¨ä¸åŒã€‚DISå‘¨æœŸæ€§å‘é€CSNPï¼Œä¿è¯ç½‘ç»œä¸­çš„LSDBåŒæ­¥ï¼Œè€ŒDRçš„å­˜åœ¨ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘æ³›æ´ª&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612652351825.png&#34; alt=&#34;ISISçš„DISä¸OSPFçš„DRåŒºåˆ«&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;isiså’Œospfçš„åŒºåŸŸçš„åŒºåˆ«&#34;&gt;ISISå’ŒOSPFçš„åŒºåŸŸçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ISISä¸­Level-2å¯ä»¥å­¦ä¹ åˆ°Level-1ä¸­çš„è·¯ç”±ï¼Œä½†æ˜¯Level-1æ— æ³•å­¦ä¹ åˆ°Level-2çš„è·¯ç”±ã€‚Level-1ç±»ä¼¼ospfçš„nssaåŒºåŸŸï¼Œè€ŒLevel-2ç±»ä¼¼ospfçš„éª¨å¹²åŒºåŸŸï¼Œå³isisçš„éª¨å¹²åŒºåŸŸæ˜¯ç”±è¿ç»­çš„level-2çš„è·¯ç”±å™¨ç»„æˆçš„&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ospfåŒºåŸŸç±»å‹ä¸€è‡´æ‰èƒ½å»ºç«‹é‚»å±…ï¼Œisisåªæœ‰åœ¨level-1æ—¶æ‰è¦æ±‚ä¸€è‡´&lt;/li&gt;
&lt;li&gt;ospfåŒºåŸŸç±»å‹æ›´åŠ ä¸°å¯Œï¼Œisisåªæœ‰2ç§&lt;/li&gt;
&lt;li&gt;è¡¨ç¤ºå½¢å¼ä¸ä¸€æ ·ï¼Œospfä½¿ç”¨ç‚¹åˆ†åè¿›åˆ¶ï¼Œisisè¡¨ç¤ºæ–¹æ³•æ¯”è¾ƒå¤æ‚&lt;/li&gt;
&lt;li&gt;åœ¨ospfä¸­ï¼Œä¸€æ¡é“¾è·¯åªèƒ½å±äºä¸€ä¸ªåŒºåŸŸï¼Œè€Œåœ¨isisä¸­ï¼Œä¸€æ¡é“¾è·¯å¯ä»¥å±äºä¸åŒçš„åŒºåŸŸ&lt;code&gt;ospfæ˜¯åŸºäºæ¥å£çš„ï¼Œisisæ˜¯åŸºäºè®¾å¤‡çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfå’Œisisçš„å¼‚åŒ&#34;&gt;OSPFå’ŒISISçš„å¼‚åŒ&lt;/h2&gt;
&lt;h3 id=&#34;ç›¸åŒç‚¹&#34;&gt;ç›¸åŒç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç»´æŠ¤ä¸€ä¸ªé“¾è·¯çŠ¶æ€æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;éƒ½åˆ©ç”¨HelloåŒ…å½¢æˆå’Œç»´æŠ¤é‚»å±…&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŒºåŸŸæ¦‚å¿µæ¥æ„æˆå±‚æ¬¡åŒ–çš„æ‹“æ‰‘æ¥å£&lt;/li&gt;
&lt;li&gt;éƒ½æä¾›åœ¨åŒºåŸŸä¹‹é—´è¿›è¡Œåœ°å€æ±‡æ€»çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;æ— ç±»è·¯ç”±åè®®&lt;/li&gt;
&lt;li&gt;éƒ½é€‰ä¸¾ä¸€ä¸ªæŒ‡å®šè·¯ç”±å™¨æ¥æè¿°å¹¿æ’­æ€§ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;è®¤è¯èƒ½åŠ›&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸åŒç‚¹&#34;&gt;ä¸åŒç‚¹&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å·®å¼‚æ€§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ISIS&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;OSPF&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œæ–¹å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°‘ï¼Œ2ç§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤šï¼Œ5ç§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼€é”€æ–¹å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤æ‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç®€ä¾¿ï¼Œå‚è€ƒå¸¦å®½100M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°‘ï¼Œ2ç§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤š&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±æŠ¥æ–‡ç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç®€å•&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤šæ ·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±æ”¶æ•›é€Ÿåº¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¾ˆå¿«&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¿«&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰©å±•æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸€èˆ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±è´Ÿè½½èƒ½åŠ›&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¶…å¼º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼º&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;1-åŸºæœ¬ç‚¹æ¯”è¾ƒ&#34;&gt;1. åŸºæœ¬ç‚¹æ¯”è¾ƒ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ospfåªæ”¯æŒIPï¼Œè€Œisisæ”¯æŒIPå’ŒCLNPç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;ospfé€šè¿‡IPæ‰¿è½½ï¼Œåè®®å·89ï¼›isisé€šè¿‡é“¾è·¯å±‚æ‰¿è½½ï¼Œå®‰å…¨æ€§ç›¸å¯¹é«˜äº›&lt;/li&gt;
&lt;li&gt;ospfåŸºäºæ¥å£åˆ’åˆ†åŒºåŸŸï¼ŒåŒºåŸŸç±»å‹å¤šï¼ŒåŒºåŸŸ0ä¸ºéª¨å¹²åŒºåŸŸï¼›è€ŒisisåŸºäºè®¾å¤‡åˆ’åˆ†åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;ospfæ”¯æŒçš„ç½‘ç»œç±»å‹æœ‰P2Pã€P2MPã€NBMAã€å¹¿æ’­ã€è™šé“¾è·¯ï¼Œè€Œisisä»…æ”¯æŒå¹¿æ’­å’ŒP2P&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-é‚»æ¥å…³ç³»æ¯”è¾ƒ&#34;&gt;2. é‚»æ¥å…³ç³»æ¯”è¾ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfé‚»æ¥å…³ç³»åªæœ‰ä¸€ç§ï¼Œä½†æ˜¯isisé‚»æ¥å…³ç³»åˆ†level-1å’Œlevel-2é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;li&gt;ospfçš„DRä¼˜å…ˆçº§ä¸º0åˆ™ä¸å‚ä¸é€‰ä¸¾ã€ä¸æ”¯æŒæŠ¢å ã€æœ‰BDRï¼Œè€Œisisçš„DISä¼˜å…ˆçº§ä¸º0å‚ä¸é€‰ä¸¾DISã€æ”¯æŒæŠ¢å ã€æ²¡æœ‰å¤‡ä»½DIS&lt;/li&gt;
&lt;li&gt;ospfä¸­åªæœ‰DR otherä¹‹é—´æ˜¯é‚»å±…å…³ç³»ï¼Œå…¶ä½™å‡æ˜¯é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯isisç½‘ç»œä¸­æ‰€æœ‰è®¾å¤‡å‡æ˜¯é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-é“¾è·¯çŠ¶æ€æ•°æ®åº“åŒæ­¥è¿‡ç¨‹æ¯”è¾ƒ&#34;&gt;3. é“¾è·¯çŠ¶æ€æ•°æ®åº“åŒæ­¥è¿‡ç¨‹æ¯”è¾ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfçš„LSAç§ç±»å¤šï¼Œæ•°æ®åº“ç»“æ„å¤æ‚ï¼Œå› æ­¤å®šä½æ•…éšœå›°éš¾ï¼›è€Œisisçš„LSPåªæœ‰è·¯ç”±å™¨LSPå’Œä¼ªèŠ‚ç‚¹LSPï¼Œæ•°æ®åº“ç»“æ„ç®€å•ï¼Œå®šä½æ•…éšœå®¹æ˜“&lt;/li&gt;
&lt;li&gt;ospfçš„LSAçš„ç”Ÿå­˜å‘¨æœŸä»0é€’å¢ï¼ˆmaxage=3600ï¼Œrefreshå‘¨æœŸä¸º1800ï¼Œä¸å¯è°ƒï¼‰ï¼Œè€Œisisæ˜¯ä»æœ€å¤§å€¼é€’å‡ï¼ˆmaxage=1200ï¼Œrefreshment å‘¨æœŸä¸º900ï¼Œå¯è°ƒï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-è·¯ç”±è®¡ç®—è¿‡ç¨‹æ¯”è¾ƒ&#34;&gt;4. è·¯ç”±è®¡ç®—è¿‡ç¨‹æ¯”è¾ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ospfå°†å‰ç¼€ä½œä¸ºSPFçš„èŠ‚ç‚¹ï¼Œè€Œisiså°†å‰ç¼€ä½œä¸ºå¶å­ï¼Œå¶å­å‘ç”Ÿå˜åŒ–æ—¶å¯ä»¥ç”¨PRCæ¥æ›´æ–°å¶å­è€Œä¸éœ€è¦è¿›è¡ŒSPFè®¡ç®—&lt;/li&gt;
&lt;li&gt;ospfçš„æ¥å£å¼€é”€æ ¹æ®æ¥å£å¸¦å®½å˜åŒ–ï¼Œè€Œisisçš„æ¥å£å¼€é”€å€¼åœ¨ç¼ºçœæ—¶ç›¸åŒï¼Œæ‰€æœ‰æ¥å£é»˜è®¤ä¸º10&lt;/li&gt;
&lt;li&gt;ospfåœ¨åŒºåŸŸå†…ä»»ä½•è·¯ç”±å˜åŒ–ï¼ˆLSA1/2ä¸­è·¯ç”±æ¡ç›®ï¼‰å‡ä¼šè§¦å‘iSPFè®¡ç®—ï¼Œä»…3ç±»ã€5ç±»ã€7ç±»LSAçš„å˜åŒ–æ‰ä½¿ç”¨PRCï¼Œè€Œisisä»»ä½•è·¯ç”±å˜åŒ–éƒ½æ˜¯PRC&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-æ€§èƒ½åŠæ‰©å±•èƒ½åŠ›æ¯”è¾ƒ&#34;&gt;5. æ€§èƒ½åŠæ‰©å±•èƒ½åŠ›æ¯”è¾ƒ&lt;/h3&gt;
&lt;p&gt;ospfæ”¯æŒæŒ‰éœ€é“¾è·¯è€Œisisä¸æ”¯æŒï¼Œä½†æ˜¯isisé‡‡ç”¨TLVç»“æ„ï¼Œæ‰©å±•æ€§æ›´å¥½&lt;/p&gt;
&lt;h2 id=&#34;isis-ipv6&#34;&gt;ISIS IPv6&lt;/h2&gt;
&lt;h3 id=&#34;1-ipv6å¢åŠ äº†å“ªä¸¤ä¸ªtlv&#34;&gt;1. IPv6å¢åŠ äº†å“ªä¸¤ä¸ªTLV&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;232å·TLVï¼ˆIPv6 Interface Addressï¼‰ï¼šå®ƒç›¸å½“äºIPv4ä¸­çš„132å·TLVï¼ˆIP Interface Addressï¼‰ï¼Œåªä¸è¿‡æŠŠåŸæ¥çš„32æ¯”ç‰¹çš„IPv4åœ°å€æ”¹ä¸º128æ¯”ç‰¹çš„IPv6åœ°å€&lt;/li&gt;
&lt;li&gt;236å·TLVï¼ˆIPv6 Reachabilityï¼‰ï¼šé€šè¿‡å®šä¹‰è·¯ç”±ä¿¡æ¯å‰ç¼€ã€åº¦é‡å€¼ç­‰ä¿¡æ¯æ¥è¯´æ˜ç½‘ç»œçš„å¯è¾¾æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;NLPIDæ˜¯æ ‡è¯†ç½‘ç»œå±‚åè®®æŠ¥æ–‡çš„ä¸€ä¸ª1å­—èŠ‚å­—æ®µï¼ŒIPv6çš„NLPIDå€¼ä¸º0x8Eï¼ˆipv4æ˜¯0xCCï¼‰ã€‚å¦‚æœisisæ”¯æŒIPv6ï¼Œé‚£ä¹ˆå‘å¤–å‘å¸ƒIPv6è·¯ç”±æ—¶å¿…é¡»æºå¸¦NLPIDå€¼&lt;/p&gt;
&lt;h3 id=&#34;2-isiså¤šæ‹“æ‰‘æŒ‡æ˜¯ä»€ä¹ˆ&#34;&gt;2. isiså¤šæ‹“æ‰‘æŒ‡æ˜¯ä»€ä¹ˆ&lt;/h3&gt;
&lt;p&gt;isiså¤šæ‹“æ‰‘æ˜¯æŒ‡åœ¨ä¸€ä¸ªisisè‡ªæ²»åŸŸå†…è¿è¡Œå¤šä¸ªç‹¬ç«‹çš„IPæ‹“æ‰‘ã€‚ä¾‹å¦‚IPv4æ‹“æ‰‘å’ŒIPv6æ‹“æ‰‘ï¼Œè€Œä¸æ˜¯å°†å®ƒä»¬è§†ä¸ºä¸€ä¸ªé›†æˆçš„å•ä¸€æ‹“æ‰‘ã€‚è¿™æœ‰åˆ©äºisisåœ¨è·¯ç”±è®¡ç®—ä¸­æ ¹æ®å®é™…ç»„ç½‘æƒ…å†µæ¥å•ç‹¬è€ƒè™‘IPv4å’ŒIPv6ç½‘ç»œã€‚æ ¹æ®é“¾è·¯æ‰€æ”¯æŒçš„IPåè®®ç±»å‹ï¼Œä¸åŒæ‹“æ‰‘è¿è¡Œå„è‡ªçš„SPFè®¡ç®—ï¼Œå®ç°ç½‘ç»œçš„ç›¸äº’å±è”½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;isisåœ¨å¸§ä¸­ç»§ç¯å¢ƒä¸‹ä½¿ç”¨ä»€ä¹ˆç½‘ç»œç±»å‹&#34;&gt;ISISåœ¨å¸§ä¸­ç»§ç¯å¢ƒä¸‹ä½¿ç”¨ä»€ä¹ˆç½‘ç»œç±»å‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612867070344.png&#34; alt=&#34;å¸§ä¸­ç»§ç¯å¢ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç½‘ç»œç±»å‹ä¸ºP2Pï¼Œä¸”åªèƒ½é‡‡ç”¨2æ¬¡æ¡æ‰‹çš„æ–¹å¼å»ºç«‹é‚»å±…ï¼Œæ¥æ”¶LSPï¼Œä½†æ˜¯å¹¶ä¸è®¡ç®—è·¯ç”±ï¼ˆå³æ²¡æœ‰è·¯ç”±æ¡ç›®ï¼‰ï¼Œå¯ä»¥åœ¨HUBä¸Šé‡‡ç”¨å­æ¥å£çš„æ–¹å¼è§£å†³ã€‚&lt;br&gt;
å¦‚æœé‡‡ç”¨3æ¬¡æ¡æ‰‹ï¼Œå‡è®¾R1å’ŒR2å…ˆå»ºç«‹é‚»å±…ï¼ˆæœ‰è·¯ç”±æ¡ç›®ï¼‰ï¼Œé‚£ä¹ˆR3æ— æ³•ä¸R1å»ºç«‹é‚»å±…ï¼Œå› ä¸ºR1ç»™R3å‘é€çš„IIHä¸­çš„SystemIDå’Œç”µè·¯IDå¹¶ä¸æ˜¯R3çš„ï¼Œè€Œæ˜¯R2çš„ã€‚&lt;/p&gt;
">IGPåè®®-ISIS</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/igp-xie-yi-ospf/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB%E5%BB%BA%E7%AB%8B&#34;&gt;OSPFé‚»æ¥å…³ç³»å»ºç«‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;çŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%82%BB%E6%8E%A5%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B&#34;&gt;é‚»æ¥å»ºç«‹è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E6%8A%A5%E6%96%87&#34;&gt;OSPFæŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E8%AE%A4%E8%AF%81&#34;&gt;OSPFè®¤è¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F&#34;&gt;è®¤è¯é…ç½®æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-hello&#34;&gt;1. Hello&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-dbd&#34;&gt;2. DBD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-lsr&#34;&gt;3. LSR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-lsu&#34;&gt;4. LSU&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lsa%E6%8A%A5%E6%96%87&#34;&gt;LSAæŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lsa%E5%A4%B4%E9%83%A820%E5%AD%97%E8%8A%82&#34;&gt;LSAå¤´éƒ¨ï¼ˆ20å­—èŠ‚ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#router-lsatype1&#34;&gt;Router-LSAï¼ˆType1ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#network-lsatype2&#34;&gt;Network-LSAï¼ˆType2ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#network-summary-lsatype3&#34;&gt;Network-summary-LSAï¼ˆType3ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#asbr-summary-lsatype4&#34;&gt;ASBR-summary-LSAï¼ˆType4ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#as-external-lsatype5&#34;&gt;AS-External-LSAï¼ˆType5ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B3%E4%BA%8Efa%E5%9C%B0%E5%9D%80%E7%9A%844%E9%97%AE&#34;&gt;å…³äºFAåœ°å€çš„4é—®ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nssatype7&#34;&gt;NSSAï¼ˆType7ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-lsack&#34;&gt;5. LSAck&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E6%94%AF%E6%8C%81%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;OSPFæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%97%B4%E6%98%AF%E5%90%A6%E5%8F%AF%E4%BB%A5%E5%BB%BA%E7%AB%8B%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB%E6%98%AF%E5%90%A6%E6%9C%89%E8%B7%AF%E7%94%B1&#34;&gt;ä¸åŒçš„ç½‘ç»œç±»å‹ä¹‹é—´æ˜¯å¦å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Ÿæ˜¯å¦æœ‰è·¯ç”±ï¼Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E6%8E%A5%E5%8F%A3%E6%89%80%E5%B1%9E%E7%9A%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;åˆ¤æ–­ä¸€ä¸ªæ¥å£æ‰€å±çš„ç½‘ç»œç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E5%8C%BA%E5%9F%9F%E7%B1%BB%E5%9E%8B&#34;&gt;OSPFçš„åŒºåŸŸç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#option%E9%80%89%E9%A1%B9%E4%B8%8E%E5%8C%BA%E5%9F%9F%E7%B1%BB%E5%9E%8B&#34;&gt;Optioné€‰é¡¹ä¸åŒºåŸŸç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BD%B1%E5%93%8Dospf%E9%82%BB%E6%8E%A5%E5%85%B3%E7%B3%BB%E5%BB%BA%E7%AB%8B%E7%9A%84%E5%9B%A0%E7%B4%A0&#34;&gt;å½±å“OSPFé‚»æ¥å…³ç³»å»ºç«‹çš„å› ç´ &lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-route-id&#34;&gt;1. Route ID&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%90%8C%E4%B8%80%E5%8C%BA%E5%9F%9F%E5%86%85&#34;&gt;1. åŒä¸€åŒºåŸŸå†…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%9B%B4%E8%BF%9E%E8%AE%BE%E5%A4%87routerid%E5%86%B2%E7%AA%81&#34;&gt;1. ç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%9D%9E%E7%9B%B4%E8%BF%9E%E8%AE%BE%E5%A4%87routerid%E5%86%B2%E7%AA%81&#34;&gt;2. éç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E9%9D%9E%E7%9B%B4%E8%BF%9E%E8%AE%BE%E5%A4%87%E5%92%8Cabr%E7%9A%84routerid%E5%86%B2%E7%AA%81&#34;&gt;3. éç›´è¿è®¾å¤‡å’ŒABRçš„RouterIDå†²çª&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%B8%8D%E5%90%8C%E5%8C%BA%E5%9F%9F%E5%86%85&#34;&gt;2. ä¸åŒåŒºåŸŸå†…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E9%9D%9E%E7%9B%B4%E8%BF%9E%E8%AE%BE%E5%A4%87routerid%E5%86%B2%E7%AA%81&#34;&gt;1. éç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%9D%9E%E7%9B%B4%E8%BF%9E%E8%AE%BE%E5%A4%87%E5%92%8Casbr%E7%9A%84routerid%E5%86%B2%E7%AA%81&#34;&gt;2. éç›´è¿è®¾å¤‡å’ŒASBRçš„RouterIDå†²çª&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%8C%BA%E5%9F%9Fid&#34;&gt;2. åŒºåŸŸID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-flag%E4%BD%8D%E5%8C%BA%E5%9F%9F%E7%B1%BB%E5%9E%8B&#34;&gt;3. flagä½ï¼ˆåŒºåŸŸç±»å‹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-hello%E5%92%8Cdead%E6%97%B6%E9%97%B4&#34;&gt;4. helloå’Œdeadæ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E8%AE%A4%E8%AF%81&#34;&gt;5. è®¤è¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#6-%E6%8E%A9%E7%A0%81%E9%95%BF%E5%BA%A6&#34;&gt;6. æ©ç é•¿åº¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#7-%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B&#34;&gt;7. ç½‘ç»œç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8-%E5%85%B6%E4%BB%96&#34;&gt;8. å…¶ä»–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E7%8E%AF%E8%B7%AF%E5%9C%BA%E6%99%AF&#34;&gt;OSPFçš„ç¯è·¯åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6&#34;&gt;OSPFçš„é˜²ç¯æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dn%E6%AF%94%E7%89%B9%E4%BD%8D%E9%98%B2%E7%8E%AF%E9%97%AE%E9%A2%98&#34;&gt;DNæ¯”ç‰¹ä½é˜²ç¯é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E6%97%A0%E6%95%88%E8%B7%AF%E7%94%B1%E5%9C%BA%E6%99%AF&#34;&gt;OSPFæ— æ•ˆè·¯ç”±åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E5%BF%AB%E9%80%9F%E6%94%B6%E6%95%9B%E6%9C%BA%E5%88%B6&#34;&gt;OSPFå¿«é€Ÿæ”¶æ•›æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#dr%E5%92%8Cbdr%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;DRå’ŒBDRçš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dr%E5%92%8Cbdr%E7%9A%84%E9%80%89%E4%B8%BE&#34;&gt;DRå’ŒBDRçš„é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%89%B9%E7%82%B9&#34;&gt;OSPFç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B&#34;&gt;è·¯ç”±è®¡ç®—è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E8%AE%BE%E5%A4%87%E8%A7%92%E8%89%B2%E5%92%8C%E5%AE%A3%E5%91%8A&#34;&gt;OSPFè®¾å¤‡è§’è‰²å’Œå®£å‘Š&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%86%E7%B1%BB&#34;&gt;è·¯ç”±å™¨åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A5%E5%8F%A3%E5%AE%A3%E5%91%8A%E6%96%B9%E5%BC%8F&#34;&gt;æ¥å£å®£å‘Šæ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#router-id%E5%A6%82%E4%BD%95%E4%BA%A7%E7%94%9F&#34;&gt;Router IDå¦‚ä½•äº§ç”Ÿï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A5%E5%8F%A3%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;æ¥å£çŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%99%9A%E8%BF%9E%E6%8E%A5%E8%99%9A%E9%93%BE%E8%B7%AF&#34;&gt;è™šè¿æ¥ï¼ˆè™šé“¾è·¯ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A5%BD%E5%A4%84&#34;&gt;å¥½å¤„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BC%BA%E7%82%B9&#34;&gt;ç¼ºç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%99%9A%E8%BF%9E%E6%8E%A5%E9%98%B2%E7%8E%AF&#34;&gt;è™šè¿æ¥é˜²ç¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;åº”ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#spf%E8%AE%A1%E7%AE%97%E8%BF%87%E7%A8%8B%E7%9A%84%E4%B8%A4%E4%B8%AA%E9%98%B6%E6%AE%B5&#34;&gt;SPFè®¡ç®—è¿‡ç¨‹çš„ä¸¤ä¸ªé˜¶æ®µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E6%AE%8A%E5%8C%BA%E5%9F%9F&#34;&gt;ç‰¹æ®ŠåŒºåŸŸ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-stub&#34;&gt;1. Stub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-totally-stub&#34;&gt;2. Totally Stub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-nssa&#34;&gt;3. NSSA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-totally-nssa&#34;&gt;4. Totally NSSA&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lsa%E5%9C%A8%E5%90%84%E5%8C%BA%E5%9F%9F%E4%B8%AD%E4%BC%A0%E6%92%AD%E7%9A%84%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5&#34;&gt;LSAåœ¨å„åŒºåŸŸä¸­ä¼ æ’­çš„æ”¯æŒæƒ…å†µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E6%96%B9%E5%BC%8F&#34;&gt;OSPFé€šå‘Šé»˜è®¤è·¯ç”±çš„æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E8%81%9A%E5%90%88%E6%B1%87%E6%80%BB%E5%92%8C%E8%BF%87%E6%BB%A4&#34;&gt;OSPFçš„èšåˆ(æ±‡æ€»)å’Œè¿‡æ»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E6%97%B6%E9%97%B4&#34;&gt;OSPFçš„æ—¶é—´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-lsrefreshtimelsa%E5%AE%9A%E6%97%B6%E5%88%B7%E6%96%B0%E6%97%B6%E9%97%B4&#34;&gt;1. LSRefreshTimeï¼ˆLSAå®šæ—¶åˆ·æ–°æ—¶é—´ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-maxagelsa%E8%80%81%E5%8C%96%E6%97%B6%E9%97%B4&#34;&gt;2. MaxAgeï¼ˆLSAè€åŒ–æ—¶é—´ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-rxmtinterval%E9%82%BB%E6%8E%A5%E9%87%8D%E4%BC%A0lsa%E7%9A%84%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4&#34;&gt;3. RxmtIntervalï¼ˆé‚»æ¥é‡ä¼ LSAçš„é—´éš”æ—¶é—´ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-hello%E7%9B%B8%E5%85%B3%E7%9A%84%E6%97%B6%E9%97%B4&#34;&gt;4. Helloç›¸å…³çš„æ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-waittimerdr%E7%9A%84%E9%80%89%E4%B8%BE%E7%AD%89%E5%BE%85%E6%97%B6%E9%97%B4&#34;&gt;5. WaitTimerï¼ˆDRçš„é€‰ä¸¾ç­‰å¾…æ—¶é—´ï¼‰ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#one-way-%E6%98%AF%E4%BB%80%E4%B9%88%E7%8A%B6%E6%80%81%E5%A6%82%E4%BD%95%E8%BF%9B%E5%85%A5-two-way&#34;&gt;one-way æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Œå¦‚ä½•è¿›å…¥ two-way&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dr%E7%9A%84%E9%80%89%E4%B8%BE%E8%BF%87%E7%A8%8B%E5%8F%8A%E6%97%B6%E9%97%B4&#34;&gt;DRçš„é€‰ä¸¾è¿‡ç¨‹åŠæ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#first-dbd%E4%B8%8Edbd%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;first DBDä¸DBDçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E4%BD%95%E9%80%89%E4%B8%BE%E4%B8%BB%E4%BB%8E%E9%80%89%E4%B8%BE%E4%B8%BB%E4%BB%8E%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;å¦‚ä½•é€‰ä¸¾ä¸»ä»ï¼Œé€‰ä¸¾ä¸»ä»çš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81&#34;&gt;OSPFåè®®çš„å¯é æ€§å¦‚ä½•ä¿è¯ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%99%A4%E4%BA%86lsa%E7%9A%84%E7%A1%AE%E8%AE%A4%E6%9C%BA%E5%88%B6%E5%A4%96%E9%92%88%E5%AF%B9%E5%8F%91%E9%80%81%E7%9A%84lsu%E8%BF%98%E6%9C%89%E6%B2%A1%E6%9C%89%E5%85%B6%E5%AE%83%E7%A1%AE%E8%AE%A4%E6%9C%BA%E5%88%B6&#34;&gt;é™¤äº†LSAçš„ç¡®è®¤æœºåˆ¶å¤–ï¼Œé’ˆå¯¹å‘é€çš„LSUè¿˜æœ‰æ²¡æœ‰å…¶å®ƒç¡®è®¤æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E5%8D%8F%E8%AE%AE%E4%B8%BA%E4%BB%80%E4%B9%88%E5%85%88%E8%BF%9B%E8%A1%8Cbdr%E9%80%89%E4%B8%BE%E7%84%B6%E5%90%8E%E6%89%8D%E6%98%AFdr&#34;&gt;ospfåè®®ä¸ºä»€ä¹ˆå…ˆè¿›è¡ŒBDRé€‰ä¸¾ï¼Œç„¶åæ‰æ˜¯DR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#hello%E6%8A%A5%E6%96%87%E4%B8%AD%E7%9A%84dr%E5%92%8Cbdr%E5%AD%97%E6%AE%B5%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF%E6%8E%A5%E5%8F%A3%E5%9C%B0%E5%9D%80%E8%80%8C%E4%B8%8D%E6%98%AFrouterid&#34;&gt;HelloæŠ¥æ–‡ä¸­çš„DRå’ŒBDRå­—æ®µä¸ºä»€ä¹ˆæ˜¯æ¥å£åœ°å€è€Œä¸æ˜¯RouterID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%94%B6%E5%88%B0lsa%E4%B9%8B%E5%90%8E%E7%9A%84%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B&#34;&gt;æ”¶åˆ°LSAä¹‹åçš„å¤„ç†æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;OSPFè·¯ç”±çš„ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5%E7%B1%BBlsa%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81fa%E5%9C%B0%E5%9D%80&#34;&gt;5ç±»LSAä¸ºä»€ä¹ˆéœ€è¦FAåœ°å€ï¼Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%AC%A1%E4%BC%98%E8%B7%AF%E5%BE%84&#34;&gt;1. æ¬¡ä¼˜è·¯å¾„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%8E%AF%E8%B7%AF&#34;&gt;2. ç¯è·¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E9%97%AE%E9%A2%98&#34;&gt;å¤–éƒ¨è·¯ç”±é€‰è·¯é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BC%95%E5%85%A51211024%E5%92%8C1211030%E4%B8%A4%E6%9D%A1%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E4%BC%9A%E9%80%9A%E5%91%8A%E5%87%A0%E6%9D%A15%E7%B1%BBlsa&#34;&gt;å¼•å…¥12.1.1.0/24å’Œ12.1.1.0/30ä¸¤æ¡å¤–éƒ¨è·¯ç”±ï¼Œä¼šé€šå‘Šå‡ æ¡5ç±»LSA?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8D%E5%90%8C%E8%BF%9B%E7%A8%8B%E4%B8%8B%E5%AD%A6%E5%88%B0%E5%90%8C%E4%B8%80%E6%9D%A1%E8%B7%AF%E7%94%B1%E7%B1%BB%E5%88%AB%E5%92%8C%E5%BC%80%E9%94%80%E9%83%BD%E7%9B%B8%E5%90%8C&#34;&gt;ä¸åŒè¿›ç¨‹ä¸‹å­¦åˆ°åŒä¸€æ¡è·¯ç”±(ç±»åˆ«å’Œå¼€é”€éƒ½ç›¸åŒ)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%8Fospf%E7%9A%84lsdb%E7%9A%84%E5%A4%A7%E5%B0%8F&#34;&gt;å¦‚ä½•å‡å°ospfçš„lsdbçš„å¤§å°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E5%8E%9F%E5%88%99%E4%BB%A5%E5%8F%8A%E8%B4%9F%E8%BD%BD%E7%9A%84%E5%9C%BA%E6%99%AF&#34;&gt;OSPFçš„è·¯ç”±é€‰è·¯åŸåˆ™ä»¥åŠè´Ÿè½½çš„åœºæ™¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E9%80%89%E8%B7%AF%E5%8E%9F%E5%88%99%E8%AF%A6%E8%A7%A3&#34;&gt;å¤–éƒ¨è·¯ç”±é€‰è·¯åŸåˆ™è¯¦è§£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%AD%A3%E5%B8%B8%E5%9C%BA%E6%99%AF%E9%BB%98%E8%AE%A4oe2&#34;&gt;æ­£å¸¸åœºæ™¯ï¼ˆé»˜è®¤OE2ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%9E%E6%AD%A3%E5%B8%B8%E5%9C%BA%E6%99%AF%E9%9C%80%E8%A6%81%E9%AA%8C%E8%AF%81%E9%BB%98%E8%AE%A4oe2&#34;&gt;éæ­£å¸¸åœºæ™¯ï¼Œéœ€è¦éªŒè¯ï¼ˆé»˜è®¤OE2ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospfv2%E5%92%8Cv3%E7%9A%84%E5%BC%82%E5%90%8C%E7%82%B9&#34;&gt;OSPFv2å’Œv3çš„å¼‚åŒç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9B%B8%E5%90%8C%E7%82%B9&#34;&gt;ç›¸åŒç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8D%E5%90%8C%E7%82%B9&#34;&gt;ä¸åŒç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ospfé‚»æ¥å…³ç³»å»ºç«‹&#34;&gt;OSPFé‚»æ¥å…³ç³»å»ºç«‹&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;ã€æ³¨æ„ã€‘&lt;/strong&gt;ï¼šæ¯ä¸¤å°è®¾å¤‡ä¹‹é—´éƒ½ä¼šå»ºç«‹é‚»å±…å…³ç³»ï¼ŒDR othersä¼šå’ŒDRä¸BDRä¹‹é—´ã€ä»¥åŠDRå’ŒBDRä¹‹é—´å»ºç«‹é‚»æ¥å…³ç³»&lt;code&gt;å³åªæœ‰DR Othersä¹‹é—´æ‰ä¼šå»ºç«‹é‚»å±…å…³ç³»ï¼Œå…¶ä»–çš„éƒ½æ˜¯é‚»æ¥å…³ç³»&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;çŠ¶æ€æœº&#34;&gt;çŠ¶æ€æœº&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587217625536.png&#34; alt=&#34;ospf-é‚»å±…çŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
OSPF å…±æœ‰ 8 ç§çŠ¶æ€æœºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Downï¼šé‚»å±…çš„åˆå§‹çŠ¶æ€ï¼Œè¡¨ç¤º&lt;strong&gt;æ²¡æœ‰ä»é‚»å±…æ”¶åˆ°ä»»ä½•ä¿¡æ¯(åŒ…æ‹¬helloæŠ¥æ–‡æ£€æµ‹ä¸é€šè¿‡)æˆ–è€…é‚»å±…å¤±æ•ˆå&lt;/strong&gt;å˜ä¸ºè¯¥çŠ¶æ€ã€‚åœ¨NBMAç½‘ç»œä¸Šï¼Œæ­¤çŠ¶æ€ä¸‹ä»ç„¶å¯ä»¥å‘é™æ€é…ç½®çš„é‚»å±…å‘é€HelloæŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºPollIntervalï¼Œé€šå¸¸å’ŒRouterDeadIntervalé—´éš”ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;Attemptï¼šæ­¤çŠ¶æ€&lt;strong&gt;åªåœ¨NBMA&lt;/strong&gt;ç½‘ç»œä¸Šå­˜åœ¨ã€&lt;strong&gt;é…ç½®å®Œpeerå°±ä»Downå˜ä¸ºAttempt&lt;/strong&gt;ã€‘ï¼Œè¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é‚»å±…çš„ä»»ä½•ä¿¡æ¯ï¼Œä½†æ˜¯å·²ç»å‘¨æœŸæ€§çš„å‘é‚»å±…å‘é€æŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºHelloæ—¶é—´(30ç§’)ã€‚å¦‚æœDeadæ—¶é—´(120ç§’)å†…é—´éš”å†…æœªæ”¶åˆ°é‚»å±…çš„HelloæŠ¥æ–‡ï¼Œåˆ™è½¬ä¸ºDownçŠ¶æ€ï¼Œç„¶åå¯åŠ¨å®šæ—¶å™¨Poll Intervalï¼ˆé»˜è®¤ç­‰äºDeadæ—¶é—´ï¼Œ120ç§’ï¼‰ï¼Œå®šæ—¶å™¨åˆ°æœŸå‰ä¸å†å‘é€helloæŠ¥æ–‡ï¼Œå®šæ—¶å™¨åˆ°æœŸåé‡æ–°å‘é€helloæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Initï¼šä»é‚»å±…&lt;strong&gt;æ”¶åˆ°äº†HelloæŠ¥æ–‡å¹¶ä¸”æ£€æµ‹é€šè¿‡&lt;/strong&gt;å˜ä¸ºæ­¤çŠ¶æ€ï¼Œä½†æ˜¯è‡ªå·±ä¸åœ¨æ‰€æ”¶åˆ°çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼Œè¡¨ç¤ºå°šæœªä¸é‚»å±…å»ºç«‹åŒå‘é€šä¿¡å…³ç³»ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹çš„é‚»å±…è¦è¢«åŒ…å«åœ¨è‡ªå·±æ‰€å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ã€‚
&lt;ul&gt;
&lt;li&gt;1-Wayï¼šè¡¨ç¤ºè·¯ç”±å™¨å‘ç°è‡ªå·±æ²¡æœ‰åœ¨é‚»å±…å‘é€HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼Œé€šå¸¸æ˜¯ç”±äºå¯¹ç«¯é‚»å±…é‡å¯é€ æˆçš„&lt;/li&gt;
&lt;li&gt;2-Wayï¼šè¡¨ç¤ºè·¯ç”±å™¨å‘ç°ä¸é‚»å±…çš„åŒå‘é€šä¿¡å·²ç»å¼€å§‹ï¼ˆ&lt;strong&gt;å‘ç°è‡ªå·±RIDåœ¨é‚»å±…å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨&lt;/strong&gt;ä¸­ï¼‰ã€‚InitçŠ¶æ€ä¸‹äº§ç”Ÿæ­¤äº‹ä»¶ä¹‹åï¼Œå¦‚æœéœ€è¦å’Œé‚»å±…å»ºç«‹é‚»æ¥å…³ç³»åˆ™&lt;strong&gt;è¿›å…¥ExStartçŠ¶æ€&lt;/strong&gt;ï¼Œå¼€å§‹&lt;strong&gt;æ•°æ®åº“åŒæ­¥&lt;/strong&gt;è¿‡ç¨‹ï¼›å¦‚æœä¸èƒ½ä¸é‚»å±…å»ºç«‹é‚»æ¥å…³ç³»åˆ™è¿›å…¥&lt;strong&gt;2-Way&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆä¸ºé‚»å±…çš„7ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;RouterIDä¸å†²çª&lt;/li&gt;
&lt;li&gt;åŒºåŸŸIDç›¸åŒ&lt;/li&gt;
&lt;li&gt;ç‰¹æ®ŠåŒºåŸŸçš„flagå­—æ®µç›¸åŒï¼Œflagä½ä¸»è¦ä½“ç°çš„æ˜¯åŒºåŸŸç±»å‹ï¼Œå³åŒºåŸŸç±»å‹ç›¸åŒ&lt;/li&gt;
&lt;li&gt;hello/deadç›¸åŒ&lt;/li&gt;
&lt;li&gt;è®¤è¯ç›¸åŒ&lt;/li&gt;
&lt;li&gt;å­ç½‘æ©ç ç›¸åŒï¼Œå³åœ¨åŒä¸€ç½‘æ®µï¼Œåªå½±å“å¹¿æ’­å’ŒNBMAç½‘ç»œ&lt;/li&gt;
&lt;li&gt;ç½‘ç»œç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;2-wayï¼šåœ¨æ­¤çŠ¶æ€ä¸‹ï¼ŒåŒå‘é€šä¿¡å·²ç»å»ºç«‹ï¼Œä½†æ˜¯æ²¡æœ‰ä¸é‚»å±…å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;strong&gt;è¿™æ˜¯å»ºç«‹é‚»æ¥å…³ç³»ä»¥å‰çš„æœ€é«˜çº§çŠ¶æ€ã€‚DRå’ŒBDRæ˜¯ä»è¾¾åˆ°2-wayæˆ–è€…æ›´é«˜çŠ¶æ€çš„é‚»å±…ä¸­é€‰ä¸¾å‡ºæ¥çš„ï¼Œå³æ­¤çŠ¶æ€æ˜¯é€‰ä¸¾DRå’ŒBDRçš„å¼€å§‹ï¼ˆé€‰ä¸¾å‘¨æœŸä¸º40ç§’ï¼Œé€‰ä¸¾æœŸä¹‹åæ²¡æœ‰æŠ¢å æ€§ï¼‰&lt;/strong&gt;ã€40ç§’ä¸ºWaitingTimerï¼Œä¸å¯ä¿®æ”¹ï¼Œè¯¦æƒ…å‚è€ƒæ¥å£çŠ¶æ€æœºã€‘&lt;code&gt;å¦‚æœæ­¤é˜¶æ®µå‘ç°æ¥æ”¶åˆ°çš„helloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨é‡Œæ²¡æœ‰è‡ªå·±çš„RouterIDï¼Œåˆ™å˜å›InitçŠ¶æ€&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸¤ç«¯åŒæ—¶è¿›å…¥2-wayæ ‡å¿—ç€é‚»å±…å…³ç³»çš„å»ºç«‹ï¼Œè¿›å…¥2-wayåï¼Œè¦å»ºç«‹é‚»æ¥å…³ç³»ï¼ˆFullï¼‰çš„æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å£ç±»å‹ä¸ºp2pï¼ˆç‚¹åˆ°ç‚¹ï¼‰ï¼Œp2MPï¼ˆç‚¹åˆ°å¤šï¼‰&lt;/li&gt;
&lt;li&gt;è‡ªå·±ä¸ºDRï¼Œæˆ–è€…ä¸ºBDR&lt;/li&gt;
&lt;li&gt;é‚»å±…ä¸ºDRï¼Œæˆ–BDR&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Exstartï¼šäº¤æ¢ä¿¡æ¯çš„åˆå§‹åŒ–çŠ¶æ€ã€‚å‘é€DBDï¼ˆåŒ…å«æœ¬åœ°çš„LSAçš„æ‘˜è¦ä¿¡æ¯ï¼‰æŠ¥æ–‡ï¼Œé€‰ä¸¾ä¸»ä»è·¯ç”±å™¨ï¼Œå¹¶ç¡®å®šåˆå§‹çš„DBDåºå·ï¼Œè¾¾åˆ°æ­¤çŠ¶æ€æˆ–è€…æ›´é«˜çŠ¶æ€çš„é‚»å±…æ‰èƒ½ç§°ä¸ºé‚»æ¥&lt;code&gt;å‘é€ç¬¬ä¸€ä¸ªDBDæŠ¥æ–‡ï¼Œç”±2-wayè½¬æˆExstart&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Exchangeï¼šäº¤æ¢ä¿¡æ¯çš„çŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¸‹ï¼Œç›¸äº’é—´å‘é€DBDï¼Œå‘ŠçŸ¥å¯¹ç«¯æœ¬åœ°æ‰€æœ‰çš„LSAçš„ç›®å½•ï¼›åŒæ—¶ï¼Œå¯ä»¥å‘é€LSRã€LSUã€LSACKæ¥å­¦ä¹ å¯¹ç«¯çš„LSA&lt;code&gt;ä¸»ä»é€‰ä¸¾å®Œæ¯•ä¹‹åï¼Œç”±Exstartè½¬æ¢æˆExchange&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Loadingï¼šåŠ è½½çŠ¶æ€ï¼ˆæ²¡æœ‰å­¦ä¹ å®Œçš„çŠ¶æ€ï¼‰ã€‚å‘é€LSRã€LSUã€LSACKï¼Œä¸“é—¨å­¦ä¹ å¯¹ç«¯çš„LSAçš„è¯¦ç»†ä¿¡æ¯&lt;code&gt;å½“DBDæŠ¥æ–‡ä¸­çš„M=0æ—¶ï¼Œç”±Exchangeè½¬æˆLoading&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullï¼šé‚»æ¥çŠ¶æ€ï¼ˆå­¦ä¹ å®Œçš„çŠ¶æ€ï¼‰ã€‚å½¼æ­¤çš„LSDBåŒæ­¥ï¼Œå³æ‰€æœ‰çš„LSAç›¸åŒ&lt;code&gt;é‡ä¼ åˆ—è¡¨ä¸ºç©ºï¼Œç”±Loadingè½¬æˆFull&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åœç•™åœ¨2-wayçŠ¶æ€ï¼šå¹¿æ’­ç½‘æˆ–è€…NBMAç½‘ç»œä¸­ï¼ŒDRä¼˜å…ˆçº§ä¸º0ï¼ˆæ— æ³•é€‰ä¸¾DRï¼‰&lt;/li&gt;
&lt;li&gt;åœç•™åœ¨ExStartçŠ¶æ€ï¼šMTUä¸ä¸€è‡´æ—¶ï¼Œä¸»&amp;gt;ä»æ—¶åŒæ–¹éƒ½æ˜¯ï¼›ä»&amp;gt;ä¸»æ—¶çš„ä¸»ï¼Œä»è¿›å…¥ExChangeï¼ˆå¼€å¯MTUæ£€æŸ¥æ—¶ï¼‰&lt;/li&gt;
&lt;li&gt;åœç•™åœ¨LoadingçŠ¶æ€ï¼šå¦‚æœå¿½ç•¥MTUæ£€æµ‹ä¸”MTUä¸ä¸€è‡´ï¼Œè·¯ç”±æ¡ç›®å¤šçš„æƒ…å†µä¸‹ï¼ŒæŠ¥æ–‡é•¿åº¦è¶…è¿‡MTUï¼Œæœ‰å¯èƒ½ä¼šå¡åœ¨LoadingçŠ¶æ€ï¼›å¦‚æœè·¯ç”±æ¡ç›®æ¯”è¾ƒå°‘ï¼ŒæŠ¥æ–‡é•¿åº¦æ²¡æœ‰è¶…è¿‡MTUï¼Œåˆ™å¯ä»¥è¾¾åˆ°fullçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ospfçš„MTUåœ¨å“ªé‡Œæ¯”è¾ƒï¼Œå¦‚æœä¸é€šè¿‡æ—¶ä»€ä¹ˆçŠ¶æ€ï¼Ÿ&lt;br&gt;
MTUåœ¨ExStartçŠ¶æ€çš„æ—¶å€™è¿›è¡Œæ¯”è¾ƒï¼ŒMTUåœ¨DBDæŠ¥æ–‡é‡Œé¢ï¼Œåä¸ºé»˜è®¤å¿½ç•¥MTUæ£€æŸ¥ï¼Œå³DBDæŠ¥æ–‡ä¸­MTUå­—æ®µä¸º0ã€‚å¼€å¯MTUæ£€æŸ¥æƒ…å†µä¸‹ï¼Œåœ¨æ”¶åˆ°æŠ¥æ–‡çš„MTUå¤§äºæœ¬ç«¯MTUæ—¶ä¼šä¸¢å¼ƒï¼Œå¦åˆ™æ¥æ”¶ã€‚&lt;br&gt;
æƒ…å†µ1ï¼š2ç«¯éƒ½å¿½ç•¥MTUæ£€æŸ¥ã€‚è·¯ç”±æ¡ç›®å¤šçš„æƒ…å†µä¸‹ï¼ŒLSUæŠ¥æ–‡é•¿åº¦è¶…è¿‡MTUï¼Œéœ€è¦åŒæ­¥æ•°æ®åº“çš„ä¸€ç«¯åœç•™åœ¨åœ¨LoadingçŠ¶æ€ï¼Œå› ä¸ºæ”¶ä¸åˆ°LSUï¼›å¦‚æœè·¯ç”±æ¡ç›®æ¯”è¾ƒå°‘ï¼ŒæŠ¥æ–‡é•¿åº¦æ²¡æœ‰è¶…è¿‡MTUï¼Œåˆ™å¯ä»¥è¾¾åˆ°fullçŠ¶æ€&lt;br&gt;
æƒ…å†µ2ï¼š2ç«¯åŒæ—¶å¼€å¯MTUæ£€æŸ¥ã€‚MTUä¸ä¸€è‡´æ—¶ï¼Œä¸»&amp;gt;ä»æ—¶ï¼Œå› ä¸ºåŒæ–¹éƒ½è®¤ä¸ºè‡ªå·±æ˜¯ä¸»ï¼Œæ‰€ä»¥åŒæ–¹éƒ½æ˜¯ExStartï¼›ä»&amp;gt;ä¸»æ—¶çš„ä¸»ï¼Œä»çŸ¥é“ä¸»çš„å­˜åœ¨ï¼Œæ‰€ä»¥ä»è¿›å…¥ExChangeï¼Œä½†æ˜¯ä¸»ä¸çŸ¥é“ä»ï¼Œæ‰€ä»¥åœç•™åœ¨ExStart&lt;br&gt;
æƒ…å†µ3ï¼š1ç«¯å¼€å¯1ç«¯å¿½ç•¥ã€‚ä¸å¼€å¯çš„ä¸€ç«¯å‘é€çš„MTUå€¼ä¸º0ï¼Œå¼€å¯çš„ä¸€ç«¯æ”¶åˆ°ä¹‹åç›´æ¥æ£€æŸ¥é€šè¿‡ï¼Œä¸å¼€å¯çš„ä¸€ç«¯å‘é€çš„MTUå€¼ä¸ä¸º0ï¼Œä½†æ˜¯å¯¹æ–¹å¿½ç•¥æ£€æŸ¥ã€‚æ‰€ä»¥å’Œä¸¤ç«¯éƒ½å¿½ç•¥æ£€æŸ¥çš„æœ¬è´¨ç›¸åŒï¼Œå³å¦‚æœLSUè¿‡å¤§ï¼Œä¼šå¡åœ¨loadingçŠ¶æ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;é‚»æ¥å»ºç«‹è¿‡ç¨‹&#34;&gt;é‚»æ¥å»ºç«‹è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611546198144.jpg&#34; alt=&#34;é‚»æ¥å»ºç«‹è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é‚»æ¥å…³ç³»å»ºç«‹åˆ†3æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‚»å±…å…³ç³»çš„å»ºç«‹ï¼š&lt;code&gt;R1å’ŒR2çš„Router IDåˆ†åˆ«ä¸º1.1.1.1å’Œ2.2.2.2&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šR1å‘é€ç¬¬ä¸€ä¸ªHelloæŠ¥æ–‡ï¼ˆä»¥ç»„æ’­çš„æ–¹å¼å‘é€ï¼Œç›®çš„åœ°å€ä¸º224.0.0.5ï¼‰ï¼Œæ­¤æ—¶çŠ¶æ€ä¸ºDownï¼ŒR2æ”¶åˆ°R1çš„HelloæŠ¥æ–‡åï¼ŒçŠ¶æ€ç½®ä¸ºinit&lt;code&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¦–æ¬¡å‘é€helloæŠ¥æ–‡çš„æ—¶å€™ä¸åŒ…å«é‚»å±…å­—æ®µï¼ŒæŠ¥æ–‡é•¿åº¦ä¸º44&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ã€R2-&amp;gt;R1ã€‘ï¼šR2å‘R1ç»„æ’­å‘é€&lt;strong&gt;é‚»å±…åˆ—è¡¨ä¸º1.1.1.1&lt;/strong&gt;çš„helloæŠ¥æ–‡ï¼Œå‘é€3ä¸ªå‘¨æœŸï¼ˆä¹Ÿæœ‰è¶…è¿‡3ä¸ªå‘¨æœŸï¼‰ï¼ŒR1åœ¨æ”¶åˆ°R2å‘æ¥çš„æŠ¥æ–‡é‚»å±…åˆ—è¡¨ä¸­å‘ç°è‡ªå·±çš„Router IDï¼Œè€Œä¸”æ»¡è¶³ospfé‚»å±…çš„7ä¸ªæ¡ä»¶ï¼ŒçŠ¶æ€å˜ä¸º2-way&lt;/li&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šR1å‘R2ç»„æ’­å‘é€&lt;strong&gt;é‚»å±…åˆ—è¡¨ä¸º2.2.2.2&lt;/strong&gt;çš„helloæŠ¥æ–‡ï¼Œå‘é€3ä¸ªå‘¨æœŸï¼ŒR2åœ¨æ”¶åˆ°helloæŠ¥æ–‡é‚»å±…åˆ—è¡¨ä¸­å‘ç°è‡ªå·±çš„Router IDï¼Œè€Œä¸”æ»¡è¶³ospfé‚»å±…çš„7ä¸ªæ¡ä»¶ï¼ŒçŠ¶æ€å˜ä¸º2-wayï¼Œè‡³æ­¤R1å’ŒR2ä¹‹é—´å»ºç«‹äº†é‚»å±…å…³ç³»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;DRå’ŒBDRçš„é€‰ä¸¾ï¼š&lt;code&gt;DRæ— æ³•é€‰ä¸¾åˆ™åœç•™åœ¨2-way&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¹¿æ’­40ç§’ï¼ŒNBMA120ç§’&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ä¸ºä»€ä¹ˆè¦é€‰ä¸¾DRï¼Ÿ ä¸€ä¸ªæ—¢ä¸æ˜¯DRä¹Ÿä¸æ˜¯BDRçš„è·¯ç”±å™¨åªä¸DRå’ŒBDRå½¢æˆé‚»æ¥å…³ç³»å¹¶äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯ï¼Œå¤§å¤§å‡å°‘äº†é‚»æ¥å…³ç³»æ•°é‡ï¼Œå‡å°‘é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯çš„äº¤æ¢æ¬¡æ•°ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œå‡å°‘è·¯ç”±å™¨ç¡¬ä»¶çš„è´Ÿæ‹…&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;R1å’ŒR2éƒ½ä¼šæˆä¸ºDR othersï¼Œå‘ç°HelloæŠ¥æ–‡ä¸­æ²¡æœ‰DRå’ŒBDR&lt;/li&gt;
&lt;li&gt;å…ˆé€‰ä¸¾BDRï¼Œå…ˆæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œå†æ¯”è¾ƒRouter IDï¼Œ&lt;code&gt;å‡è®¾ä¼˜å…ˆçº§ç›¸ç­‰ï¼ŒR2çš„Router IDå¤§&lt;/code&gt;ï¼ŒR2æˆä¸ºBDRï¼ŒR2å‘ç°æ²¡æœ‰DRï¼Œè‡ªåŠ¨æˆä¸ºDR&lt;/li&gt;
&lt;li&gt;DR otherså‘ç°åˆæ²¡æœ‰äº†BDRï¼Œå†é€‰ä¸¾å‡ºæ¥ä¸€ä¸ªBDRï¼ŒR1æˆä¸ºBDR&lt;br&gt;
&lt;code&gt;DRçš„é€‰ä¸¾æ—¶é—´ç­‰äºDead time(40ç§’)ï¼Œåªæœ‰åœ¨å¹¿æ’­ç½‘ç»œä¸­æ‰ä¼šé€‰ä¸¾DR&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ospfåè®®ä¸ºä»€ä¹ˆå…ˆè¿›è¡ŒBDRé€‰ä¸¾ï¼Ÿå› ä¸ºDRå’ŒBDRçš„åˆ‡æ¢çŠ¶æ€æœºæ˜¯ï¼šå½“DRå¤±æ•ˆæ—¶ï¼ŒBDRæˆä¸ºDRã€‚å¦‚æœå…ˆé€‰ä¸¾DRï¼Œå†é€‰ä¸¾BDRï¼Œé‚£ä¹ˆå½“é€‰ä¸¾BDRçš„è¿‡ç¨‹ä¸­DRå¤±æ•ˆï¼Œé‚£ä¹ˆæ­¤æ—¶ç½‘ç»œä¸­æ—¢æ²¡æœ‰DRä¹Ÿæ²¡æœ‰BDRï¼Œåˆ‡æ¢å°†æ— æ³•è¿›è¡Œï¼ŒçŠ¶æ€æœºä¹Ÿå°±æ²¡åŠæ³•åšäº†ã€‚æ‰€ä»¥ï¼Œå…ˆæœ‰BDRï¼Œåæœ‰DRæ˜¯ä¸ºäº†ä¿è¯çŠ¶æ€æœºèƒ½å·¥ä½œã€‚&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;é‚»æ¥å…³ç³»çš„å»ºç«‹
&lt;ol&gt;
&lt;li&gt;ä¸»ä»é€‰ä¸¾&lt;code&gt;æ£€æŸ¥MTUï¼Œåˆ†æƒ…å†µè®¨è®ºMTUä¸ä¸€è‡´çš„æƒ…å†µ&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ä¸ºä»€ä¹ˆè¿›è¡Œä¸»ä»é€‰ä¸¾ï¼Ÿåˆšæ‰å·²ç»é€‰ä¸¾å‡ºDRå’ŒBDRï¼Œä¸ºäº†ä¿è¯å…¶ä»–è®¾å¤‡ä¸DRåŒæ­¥æ•°æ®çš„æ—¶å€™ä¸å‡ºç°é—®é¢˜ï¼Œéœ€è¦ç»Ÿä¸€1ä¸ªåºåˆ—å·ï¼ŒåŒæ—¶è¿›è¡ŒMTUçš„åå•†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šçŠ¶æ€å˜ä¸ºExStartï¼ŒR1å‘R2å‘é€ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ï¼Œåœ¨è¿™ä¸ªæŠ¥æ–‡ä¸­ï¼Œseq(DDåºåˆ—å·)è¢«è®¾ç½®ä¸ºxï¼ŒI(Initial)=1è¡¨ç¤ºè¿™æ˜¯ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ï¼ŒM(More)=1è¡¨ç¤ºåç»­è¿˜æœ‰DDæŠ¥æ–‡è¦å‘é€ï¼ŒMs(Master)=1è¡¨ç¤ºR1å®£å‘Šè‡ªå·±ä¸ºä¸»è·¯ç”±å™¨&lt;code&gt;seq=x,I=1,M=1,Ms=1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ã€R2-&amp;gt;R1ã€‘ï¼šR2å‘R1å‘é€ç¬¬ä¸€ä¸ªDDæŠ¥æ–‡ï¼ŒçŠ¶æ€å˜ä¸ºExStartï¼Œ&lt;code&gt;seq=y,I=1,M=1,Ms=1&lt;/code&gt;&lt;br&gt;
ç”±äºR2çš„Router IDæ¯”R1çš„å¤§ï¼Œæ‰€ä»¥R2åº”å½“ä¸ºä¸»è·¯ç”±å™¨ï¼ŒRouter IDçš„æ¯”è¾ƒç»“æŸåï¼ŒR1ä¼šäº§ç”Ÿä¸€ä¸ªNegotiationDoneçš„äº‹ä»¶ï¼ŒR1ä»ExStartæ”¹å˜ä¸ºExchange&lt;code&gt;ä¸»ä»é€‰ä¸¾å‡ºæ¥ï¼šR1è¿›å…¥ExChangeçŠ¶æ€ï¼Œä½†æ˜¯R2éœ€è¦æ”¶åˆ°R1çš„éšå¼ç¡®è®¤æ‰èƒ½è¿›å…¥ExChange&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åŒæ­¥LSDB
&lt;ol&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šR1å‘é€ä¸€ä¸ªæ–°çš„DDæŠ¥æ–‡ï¼Œåœ¨è¿™ä¸ªæ–°çš„æŠ¥æ–‡ä¸­åŒ…å«LSDBçš„æ‘˜è¦ä¿¡æ¯ï¼Œ&lt;strong&gt;seq=y&lt;/strong&gt;ã€I=0ã€M=1ã€MS=0&lt;code&gt;ä¸»ä»é€‰ä¸¾å®Œæ¯•ï¼šR1ä½¿ç”¨R2çš„åºåˆ—å·ï¼Œéšå¼ç¡®è®¤R2ä¸ºä¸»ï¼ŒR2æ”¶åˆ°åå˜ä¸ºExChangeçŠ¶æ€ã€‚ä»¥åR2æ˜¯ä¸»ï¼Œå…¶ä¸»åŠ¨æƒé€šè¿‡ä¿®æ”¹seqæ¥ä½“ç°&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ã€R2-&amp;gt;R1ã€‘ï¼šR2å‘é€ä¸€ä¸ªæ–°çš„DDæŠ¥æ–‡ï¼Œseq=y+1ã€I=0ã€M=1ã€MS=1ï¼ŒR1å’ŒR2é€šè¿‡DBDäº¤äº’äº†è§£åˆ°å¯¹æ–¹çš„OSPFæ•°æ®åº“ä¸­çš„æ‘˜è¦ä¿¡æ¯ã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½äº¤äº’å¾ˆå¤šä¸ªDBDæŠ¥æ–‡ï¼Œä½†è¿™äº›æŠ¥æ–‡æœ‰ä¸€ä¸ªå…±åŒç‚¹I=0ã€M=1ã€R1å‘çš„MS=0ã€R2å‘çš„MS=1&lt;/li&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šseq=y+1ï¼ŒI=0ï¼ŒM=0ï¼ŒMS=0ã€‚R2æ”¶åˆ°ä¸€ä¸ªM=0çš„DBDåŒ…çš„æ—¶å€™è¡¨æ˜æ˜¯R1å‘æ¥çš„æœ€åä¸€ä¸ªDBDåŒ…äº†ï¼Œå¦‚æœR2æœé›†å®ŒR1å‘æ¥çš„DBDå¹¶ä¸”å‘ç°è¿™äº›DBDé‡Œæœ‰å®ƒæ„Ÿå…´è¶£çš„LSAï¼ŒR2æœŸæœ›æ›´è¯¦ç»†çš„LSAä¿¡æ¯æ—¶ï¼ŒR2å°†è‡ªå·±çš„çŠ¶æ€å˜ä¸º&lt;strong&gt;Loading&lt;/strong&gt;ï¼Œå¹¶ä¸”å¼€å§‹å‘é€LSRæŠ¥æ–‡å»è¯·æ±‚ç‰¹å®šLSAçš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ã€R2-&amp;gt;R1ã€‘ï¼šseq=y+2ï¼ŒI=0ï¼ŒM=0ï¼ŒMS=1ã€‚R1æ”¶åˆ°ä¸€ä¸ªM=0çš„DBDåŒ…çš„æ—¶å€™è¡¨æ˜æ˜¯R2å‘æ¥çš„æœ€åä¸€ä¸ªDBDåŒ…äº†ï¼Œå¦‚æœR1æœé›†å®ŒR2å‘æ¥çš„DBDï¼Œå‡å¦‚æ²¡æœ‰å‘ç°è‡ªå·±æ„Ÿå…´è¶£çš„LSA&lt;code&gt;å‡è®¾R1æ˜¯LSDBæ˜¯æœ€æ–°æœ€å…¨çš„ï¼Œä¸éœ€è¦å‘R2è¯·æ±‚&lt;/code&gt;ï¼Œå°†è‡ªå·±çš„çŠ¶æ€å˜ä¸ºFullã€‚&lt;code&gt;æ­¤æ—¶R2ç›´æ¥è¿›å…¥FullçŠ¶æ€è€Œä¸æ˜¯LoadingçŠ¶æ€ï¼ŒR1è¿›å…¥LoadingçŠ¶æ€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼š&lt;code&gt;Loadingåˆ°FullçŠ¶æ€çš„è½¬æ¢&lt;/code&gt;R1å°†è‡ªå·±æ„Ÿå…´è¶£çš„LSAé€šè¿‡è¯·æ±‚æŠ¥æ–‡LSRå‘é€ç»™R2&lt;/li&gt;
&lt;li&gt;ã€R2-&amp;gt;R1ã€‘ï¼šR2æ”¶åˆ°è¿™ä¸ªLSRåï¼Œä¼šä»¥LSUè¿›è¡Œå›åº”ï¼Œå…¶ä¸­å°±åŒ…å«äº†å¯¹æ–¹è¯·æ±‚çš„LSAè¯¦ç»†ä¿¡æ¯ï¼Œå› æ­¤ï¼Œåªæœ‰åœ¨LSUæŠ¥æ–‡ä¸­ï¼Œæ‰èƒ½çœ‹åˆ°LSAçš„å®Œæ•´ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ã€R1-&amp;gt;R2ã€‘ï¼šR1æ”¶åˆ°R2å‘æ¥çš„LSUä¹‹åï¼Œå°†LSAè¯¦ç»†ä¿¡æ¯æ”¾è¿›è‡ªå·±çš„LSDBï¼Œå¹¶ä¸”ç»™R2å‘é€ä¸€ä¸ªLSAckè¿›è¡Œç¡®è®¤ï¼ŒçŠ¶æ€è½¬æ¢ä¸ºFullçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfæŠ¥æ–‡&#34;&gt;OSPFæŠ¥æ–‡&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;OSPFæŠ¥æ–‡å¤´éƒ¨&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587202960222.png&#34; alt=&#34;OSPFæŠ¥æ–‡å¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ospfè®¤è¯&#34;&gt;OSPFè®¤è¯&lt;/h2&gt;
&lt;h3 id=&#34;è®¤è¯é…ç½®æ–¹å¼&#34;&gt;è®¤è¯é…ç½®æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŒºåŸŸè®¤è¯&lt;/li&gt;
&lt;li&gt;æ¥å£è®¤è¯ï¼Œ&lt;strong&gt;æ¥å£è®¤è¯ä¼˜å…ˆäºåŒºåŸŸè®¤è¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ˜æ–‡è®¤è¯&lt;/strong&gt;ï¼šä¼ é€’æ˜æ–‡å¯†ç ï¼Œä¸å®‰å…¨ï¼ŒæŠ¥æ–‡è¢«åŠ«è·åå¯†ç æ³„éœ²ï¼Œæ— æŠ—é‡æ”¾æ”»å‡»ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MD5è®¤è¯&lt;/strong&gt;ï¼šä¸ä¼ è¾“å¯†ç åªä¼ è¾“HASHå€¼ï¼Œå°±ç®—æŠ¥æ–‡è¢«åŠ«è·ä¹Ÿæ— æ³•çœ‹åˆ°å¯†ç ï¼ŒåŒæ—¶è®¤è¯åºåˆ—å·(4B)å¯ä»¥å®ç°æŠ—é‡å‘æ”»å‡»å’ŒæŠ¥æ–‡æœ‰æ•ˆæ€§æ£€æŸ¥ã€‚ã€æ³¨æ„ï¼šæ‘˜è¦ä¿¡æ¯è™½ç„¶åœ¨ospfå¤´éƒ¨ä¸­ï¼Œä½†æ˜¯å¹¶ä¸è®¡ç®—åˆ°ospfå¤´éƒ¨é•¿åº¦å†…ï¼›è®¤è¯åºåˆ—å·æ˜¯åŸºäºè®¡æ•°çš„æ–¹å¼ï¼Œæ¯éš”1ç§’åŠ 1(å¯ä»¥ç”¨136å¹´)ï¼Œå¦‚æœæ”¶åˆ°çš„æŠ¥æ–‡ç³»åˆ—å·æ¯”ä¹‹å‰å‘é€çš„å°åˆ™ä¸¢å¼ƒï¼Œä¸éœ€è¦é¡ºåºåŒ¹é…ï¼Œåªè¦ä¿è¯æ¯”ä¹‹å‰çš„å¤§å³å¯ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡ç±»å‹&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;1-hello&#34;&gt;1. Hello&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥å‘ç°ã€å»ºç«‹å’Œç»´æŠ¤OSPFçš„é‚»å±…å…³ç³»ï¼Œå¯ä»¥ç»„æ’­ä¹Ÿå¯ä»¥å•æ’­å‘é€ï¼Œåœ¨ä¸åŒçš„ç½‘ç»œç±»å‹ä¸­å‘é€æ–¹å¼å’Œå‘é€é—´éš”ä¸åŒ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587204145080.png&#34; alt=&#34;OSPF-hello&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network Maskï¼šåªæœ‰åœ¨å¹¿æ’­ç½‘ç»œæˆ–è€…NBMAç½‘ç»œæ‰æœ‰æ„ä¹‰ï¼ˆåœ¨P2På’ŒP2MPé“¾è·¯ä¸Šæ˜¯ä¸æ£€æµ‹çš„ï¼‰&lt;/li&gt;
&lt;li&gt;HelloIntervalï¼šåœ¨å¹¿æ’­ç½‘ç»œå’ŒP2Pä¸­æ˜¯10ç§’ä¸€æ¬¡ï¼Œåœ¨P2MPå’ŒNBMAä¸­æ˜¯30ç§’ä¸€æ¬¡&lt;/li&gt;
&lt;li&gt;Optionsï¼šæ ‡è¯†å‘é€æ­¤æŠ¥æ–‡çš„OSPFè·¯ç”±å™¨æ‰€æ”¯æŒçš„å¯é€‰åŠŸèƒ½&lt;br&gt;
&lt;code&gt;HelloæŠ¥æ–‡ä¸­Optionå­—æ®µä½ç½® å’Œ DBDã€LSAæŠ¥æ–‡ä¸­ä¸­ä½ç½®ç›¸åŒã€å³åªè¦helloã€DBDå’ŒLSAå­˜åœ¨Optionå­—æ®µï¼Œå…¶ä»–æŠ¥æ–‡ä¸å­˜åœ¨æ­¤å­—æ®µã€‘&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;DNä½&lt;/strong&gt;ï¼šDownæ¯”ç‰¹ä½ï¼Œæ˜¯ç”¨æ¥é˜²æ­¢MPLS VPNç¯å¢ƒä¸‹çš„3ç±»ç¯è·¯é—®é¢˜&lt;code&gt;å¦‚æœä¸€å°PEè®¾å¤‡æ”¶åˆ°DNä½ç½®ä½çš„3ç±»æˆ–è€…5ç±»LSAï¼Œç›´æ¥ä¸¢å¼ƒ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Oä½ï¼šç”¨æ¥æ”¯æŒ9ã€10ã€11ç±»LSAçš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DCä½&lt;/strong&gt;ï¼šå½“å§‹å‘é“¾è·¯æ”¯æŒæŒ‰éœ€é“¾è·¯(æ„æ€æ˜¯éœ€è¦å»ºç«‹æ—¶æ‰å»ºç«‹)æ—¶è¯¥æ¯”ç‰¹ä½ä¼šç½®ä½ï¼Œä¾‹å¦‚è™šé“¾è·¯ã€sham-link&lt;code&gt;åä¸ºè®¾å¤‡æ­¤æ¯”ç‰¹ä½ä¸ä¼šç½®1ï¼Œåä¸ºçš„è™šé“¾è·¯æ˜¯ä½¿ç”¨P2Pæ¥ç»´æŠ¤ï¼Œå¦‚æœæ€ç§‘ä¸åä¸ºå¯¹æ¥ï¼Œæ€ç§‘æŒ‰ç…§åä¸ºçš„æ–¹å¼(P2P)ç»´æŠ¤ç”µè·¯ï¼Œæ¯éš”1800ç§’(30åˆ†é’Ÿ)é€šå‘Šä¸€æ¬¡LSAï¼Œæ¥ç»´æŠ¤LSAçš„æœ‰æ•ˆæ€§&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Nä½&lt;/strong&gt;ï¼šNä½è¡¨æ˜æ˜¯å¦æ”¯æŒ7ç±»LSAï¼ŒN=0è¡¨æ˜ä¸æ¥æ”¶å’Œå‘é€7ç±»LSA&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Pä½&lt;/strong&gt;ï¼šç”¨åœ¨NSSA LSAï¼ˆ7ç±»LSAï¼‰ï¼Œæ˜¯å¦åš7ç±»è½¬æˆ5ç±»&lt;br&gt;
&lt;code&gt;NPä½åœ¨ä¸åŒçš„æŠ¥æ–‡ä¸­æ„ä¹‰ä¸ä¸€æ ·ï¼Œå¦‚æœåœ¨helloæˆ–è€…DBDæŠ¥æ–‡ä¸­ï¼Œè¯´æ˜æ­¤æŠ¥æ–‡æ¥è‡ªNSSAåŒºåŸŸï¼›å¦‚æœåœ¨LSAæŠ¥æ–‡ä¸­ï¼Œè¯´æ˜è¿™ä¸ªLSAéœ€è¦è¿›è¡Œ7è½¬5çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Eä½&lt;/strong&gt;ï¼šèƒ½å¦æ¥æ”¶å¤–éƒ¨è·¯ç”±ï¼ˆ5ç±»LSAï¼‰ï¼Œé»˜è®¤Eä½æ˜¯1ï¼Œæ˜¯å¯ä»¥æ¥æ”¶å¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Rtr Priï¼šç”¨æ¥é€‰ä¸¾DRå’ŒBDRçš„&lt;/li&gt;
&lt;li&gt;RouterDeadIntervalï¼šé€šå¸¸ä¸º4å€HelloIntervalï¼Œ&lt;code&gt;helloå½±å“deadï¼Œä½†æ˜¯deadä¸å½±å“hello&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Designated Routerï¼šå¦‚æœè®¾ç½®ä¸º0.0.0.0ï¼Œè¡¨ç¤ºæœªé€‰ä¸¾DRè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;Backup Designated Routerï¼šå¦‚æœè®¾ç½®ä¸º0.0.0.0ï¼Œè¡¨ç¤ºæœªé€‰ä¸¾BDRè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;Neighborï¼šé‚»å±…è·¯ç”±å™¨çš„Router IDåˆ—è¡¨ï¼Œè¡¨ç¤ºæœ¬è·¯ç”±å™¨å·²ç»ä»è¯¥é‚»å±…æ”¶åˆ°åˆæ³•çš„HelloæŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;éªŒè¯ä¸€ä¸ªæ¥æ”¶åˆ°çš„HelloæŠ¥æ–‡æ˜¯å¦åˆæ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ¥æ”¶ç«¯å£çš„ç½‘ç»œç±»å‹æ˜¯&lt;strong&gt;å¹¿æ’­å‹ã€NBMA&lt;/strong&gt;ï¼ŒNetwork Maskå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„ç½‘ç»œæ©ç ä¸€è‡´ï¼Œå¦‚æœæ¥æ”¶ç«¯å£çš„ç½‘ç»œç±»å‹ä¸º&lt;strong&gt;P2Pã€P2MPã€è™šè¿æ¥&lt;/strong&gt;ï¼Œåˆ™ä¸æ£€æŸ¥Network Maskå­—æ®µï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„HelloIntervalå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„é…ç½®ä¿æŒä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„RouterDeadIntervalå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„é…ç½®ä¿æŒä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„Optionså­—æ®µä¸­çš„Eä½ï¼ˆè¡¨ç¤ºæ˜¯å¦æ¥æ”¶å¤–éƒ¨è·¯ç”±ä¿¡æ¯ï¼‰å¿…é¡»å’Œç›¸å…³åŒºåŸŸçš„é…ç½®ä¿æŒä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-dbd&#34;&gt;2. DBD&lt;/h3&gt;
&lt;p&gt;æ•°æ®åº“æè¿°æŠ¥æ–‡ï¼Œé€‰æ‹©ä¸»ä»å…³ç³»ï¼Œé€šå‘ŠLSAæ‘˜è¦ä¿¡æ¯&lt;code&gt;å®Œæ•´çš„LSAå¤´éƒ¨ä¿¡æ¯&lt;/code&gt;ï¼Œç¡®ä¿DBDæŠ¥æ–‡äº¤äº’çš„å¯é æ€§&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587286604710.png&#34; alt=&#34;OSPF-DBD&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;firstDBDï¼šä¸æºå¸¦LSAå¤´éƒ¨ä¿¡æ¯ã€‚é€šè¿‡firstDBDç¡®è®¤ä¸»ä»å…³ç³»ã€‚ä½œç”¨åªæ˜¯ä¸ºäº†æ§åˆ¶åºåˆ—å·çš„åŒæ­¥ã€‚Router-IDé«˜çš„å°†æˆä¸ºä¸»ã€‚&lt;/li&gt;
&lt;li&gt;DBDåªæºå¸¦LSAçš„å¤´éƒ¨ä¿¡æ¯ï¼Œæ²¡æœ‰æºå¸¦LSAçš„å…·ä½“ä¿¡æ¯&lt;br&gt;
&lt;code&gt;åªæœ‰ä¸»æ‰ä¼šç”ŸæˆDDåºåˆ—å·&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-lsr&#34;&gt;3. LSR&lt;/h3&gt;
&lt;p&gt;æ¥æ”¶åˆ°DBDæŠ¥æ–‡åï¼Œå°†DBDæŠ¥æ–‡ä¸­çš„LSAæ‘˜è¦ä¿¡æ¯å’Œæœ¬åœ°LSDBåšå¯¹æ¯”ï¼Œå¦‚æœæœ‰æœ¬åœ°ä¸å­˜åœ¨çš„LSAï¼Œéœ€è¦å‘é€LSRè¯·æ±‚å…·ä½“çš„LSAå†…å®¹ï¼ŒLSAå€¼åŒ…å«3éƒ¨åˆ†å†…å®¹ï¼šLSAç±»å‹ï¼ˆLSA TYPEï¼‰ã€é“¾è·¯çŠ¶æ€ID(Link state ID)ã€é€šå‘Šè·¯ç”±å™¨(Advertising Router)&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311400960.png&#34; alt=&#34;OSPF-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;LSRæŠ¥æ–‡ä¸­ä¸ä¼šåŒ…å«optioné€‰é¡¹&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-lsu&#34;&gt;4. LSU&lt;/h3&gt;
&lt;p&gt;ç”¨äºå‘å¯¹æ–¹å›å¤å…·ä½“çš„LSRï¼Œå«æœ‰çœŸæ­£LSAå®Œæ•´ä¿¡æ¯çš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311547987.png&#34; alt=&#34;OSPF-LSU&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;lsaæŠ¥æ–‡&#34;&gt;LSAæŠ¥æ–‡&lt;/h4&gt;
&lt;h5 id=&#34;lsaå¤´éƒ¨20å­—èŠ‚&#34;&gt;LSAå¤´éƒ¨ï¼ˆ20å­—èŠ‚ï¼‰&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;é™¤HelloæŠ¥æ–‡å¤–ï¼Œå…¶å®ƒçš„OSPFæŠ¥æ–‡éƒ½æºå¸¦LSAä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨çš„LSAï¼šRouter LSAã€Network LSAã€Network-summary LSAã€ASBR-Summary LSAã€AS External LSAã€NSSA LSAï¼Œå³1ã€2ã€3ã€4ã€5ã€7&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰å“ªäº›LSAï¼šOpaque LSA(9-ä»…åœ¨æ¥å£æ‰€åœ¨ç½‘æ®µèŒƒå›´å†…ä¼ æ’­ã€10-åœ¨åŒºåŸŸå†…ä¼ æ’­ã€11-åœ¨ASå†…ä¼ æ’­ï¼Œä¸»è¦ç”¨äºMPLSå¤šåè®®æ ‡ç­¾äº¤æ¢ï¼Œå³MPLS TEï¼Œä¸é€æ˜LSA) ã€Mutilcast LSA(6ï¼Œç»„æ’­LSA)ã€External attributes LSAfor BGPï¼ˆ8ï¼ŒBGPçš„å¤–éƒ¨å±æ€§LSAï¼‰&lt;br&gt;
&lt;code&gt;OSPFåè®®è§„å®šLSAçš„æ›´æ–°æ—¶é—´é—´éš”5ç§’ï¼Œæ˜¯ä¸ºäº†é˜²æ­¢ç½‘ç»œè¿æ¥æˆ–è€…è·¯ç”±é¢‘ç¹åŠ¨è¡å¼•èµ·çš„è¿‡å¤šå ç”¨ç½‘ç»œå¸¦å®½å’Œè®¾å¤‡èµ„æºï¼Œæ‰€ä»¥çœ‹åˆ°æ¯éš”5ç§’ï¼ŒLSAé‡æ–°æ³›æ´ªä¸€æ¬¡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311683821.png&#34; alt=&#34;OSPF-LSAHead&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;LSA ageï¼šé»˜è®¤æœ€å¤§å€¼ä¸º3600ã€‚&lt;code&gt;é€šè¿‡å°†LSA Ageè®¾ç½®ä¸º3600æ¥åˆ é™¤è¯¥æ¡LSAï¼Œä½†1ç±»LSAä¸é€‚åº”æ­¤æ¡è§„åˆ™&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;LASçš„åºåˆ—å·ï¼šå¯ç”¨çš„æœ€å°æ•°å€¼ä¸º0x80000001(åˆå§‹åºå·ï¼Œ-2^31+1 )ï¼Œæ¯æ¬¡æ›´æ–°è¯¥LSAï¼Œåºåˆ—å·+1ï¼Œåºåˆ—å·è¶Šå¤§åˆ™è¯¥LSAè¶Šæ–°ï¼Œæœ€å¤§ä¸º0x7FFFFFFFï¼Œè¾¾åˆ°æœ€å¤§å€¼ä¹‹åï¼Œé‡æ–°ä»0x80000001å¼€å§‹&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ”¶åˆ°é‡å¤çš„LSAå¦‚ä½•åˆ¤æ–­æ–°æ—§&lt;/strong&gt;ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒLSAçš„åºåˆ—å·ï¼Œè¶Šå¤§è¶Šæ–°&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒæ ¡éªŒå€¼ï¼ˆChecksumï¼‰,è¶Šå¤§è¶Šæ–°&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒLSAçš„Ageæ˜¯å¦ç­‰äºMax Ageæ—¶é—´3600ï¼Œç›¸ç­‰åˆ™æœ€æ–°&lt;/li&gt;
&lt;li&gt;LSAçš„Ageä¸ç­‰äº3600ï¼Œä¼šæ¯”è¾ƒageä¸3600ä¹‹é—´çš„å·®å€¼ï¼Œå¦‚æœå·®å€¼å¤§äº900ï¼ˆå³15åˆ†é’Ÿï¼‰ï¼Œè¶Šå°è¶Šæ–°&lt;/li&gt;
&lt;li&gt;LSAçš„Ageä¸ç­‰äº3600ï¼Œä¸”ageä¸3600ä¹‹é—´çš„å·®å€¼å°äº900ï¼Œåˆ™ä¼šè®¤ä¸ºæ˜¯åŒä¸€æ¡LSAï¼Œå¿½ç•¥å…¶ä¸­ä¸€æ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¦‚ä½•ä¿è¯è®©é‚»å±…æ”¶åˆ°ä¸€ä¸ªæœ€æ–°çš„LSA&lt;/strong&gt;ï¼Ÿ&lt;br&gt;
&lt;strong&gt;A.&lt;/strong&gt; å‡è®¾ABä¸¤å°ç›´è¿è®¾å¤‡å»ºç«‹OSPFé‚»æ¥å…³ç³»ï¼Œå¹¶ä¸”ç”±Aé€šå‘Šç»™Bä¸€æ¡&lt;strong&gt;åºåˆ—å·ä¸º10&lt;/strong&gt;çš„Router-LSAï¼Œè¿™æ¡LSAä¼šå­˜åœ¨äºBçš„LSDBä¸­ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†Aè®¾å¤‡çš„ç›´è¿æ¥å£shutdownï¼Œä¼šé€ æˆAå’ŒBçš„OSPFçš„é‚»å±…å…³ç³»æ–­å¼€ï¼Œé‚£ç°åœ¨&lt;strong&gt;Bè®¾å¤‡çš„LSDBä¸­&lt;/strong&gt;æ˜¯å¦è¿˜ä¼š&lt;strong&gt;æœ‰Aå‘é€çš„Router-LSA&lt;/strong&gt;å‘¢ï¼Ÿ&lt;br&gt;
&lt;strong&gt;B.&lt;/strong&gt; ç­”æ¡ˆæ˜¯è‚¯å®šæœ‰çš„ï¼ŒåŸå› æ˜¯&lt;strong&gt;OSPF ä¸ºäº†ä¿è¯LSDB çš„ä¸€è‡´æ€§ï¼Œæ˜¯æ²¡æœ‰èƒ½åŠ›åˆ é™¤é‚»å±…å‘é€çš„LSA çš„ï¼Œåªèƒ½åˆ é™¤ç”±è‡ªå·±é€šå‘Šçš„LSA&lt;/strong&gt;ã€‚äº†è§£è¿™ä¸ªæœºåˆ¶åï¼Œæˆ‘ä»¬å†è€ƒè™‘ä¸€ä¸‹ï¼Œå¦‚æœç°åœ¨å°†Açš„ç›´è¿æ¥å£æ¢å¤ï¼Œå¹¶é‡æ–°å’ŒB å»ºç«‹é‚»å±…å…³ç³»ï¼Œé‚£ä¹ˆAä¼šå†æ¬¡é€šå‘Šè‡ªå·±çš„Router-LSAï¼Œé‚£ä¹ˆç°åœ¨é€šå‘Šçš„åºåˆ—å·ä¼šæ˜¯å¤šå°‘å‘¢ï¼Ÿ&lt;br&gt;
&lt;strong&gt;C.&lt;/strong&gt; ä¼šæ˜¯é€šå‘Šåºåˆ—å·ä¸º1 çš„Router-LSAå—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œ&lt;strong&gt;Aä¼šé€šå‘Šä¸€æ¡åºåˆ—å·ä¸º11çš„Router-LSA&lt;/strong&gt;ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œå¦‚æœAé‡æ–°é€šå‘Šä¸€æ¡åºåˆ—å·ä¸º1 çš„Router-LSA ç»™Bï¼ŒBä¼šæ¥æ”¶å—ï¼Ÿ&lt;br&gt;
&lt;strong&gt;D.&lt;/strong&gt; ç­”æ¡ˆæ˜¯ä¸ä¼šï¼ŒåŸå› å°±æ˜¯æˆ‘ä»¬ä¹‹å‰è°ˆåˆ°çš„LSA æ–°æ—§æ¯”è¾ƒé—®é¢˜ï¼Œç”±äºBçš„LSDBä¸­å­˜åœ¨A ä¹‹å‰é€šå‘Šçš„ä¸€æ¡åºåˆ—å·ä¸º10 çš„Router-LSAï¼Œç°åœ¨åˆæ”¶åˆ°åŒæ ·çš„çš„ä¸€æ¡LSAï¼Œéœ€è¦æ¯”è¾ƒä¸¤æ¡LSA çš„æ–°æ—§ï¼Œç”±äºæ”¶åˆ°çš„LSA çš„åºåˆ—å·æ¯”LSDBä¸­ä¿å­˜çš„LSA çš„åºåˆ—å·è¿˜è¦å°ï¼Œé‚£ä¹ˆè¿™æ¡LSA ä¼šè¢«å¿½ç•¥æ‰ã€‚&lt;br&gt;
&lt;strong&gt;E.&lt;/strong&gt; ä¸ºäº†è®©LSDBä¿æŒåŒæ­¥ï¼Œéœ€è¦åœ¨æ¥æ”¶åˆ°çš„LSAåºåˆ—å·ä¸ŠåŠ 1ï¼Œä½œä¸ºæœ€æ–°çš„åºåˆ—å·æ ‡è¯†LSAï¼Œå¹¶é‡æ–°åœ¨åŒºåŸŸå†…æ³›æ´ªã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;LSAæŠ¥æ–‡ç®€ç•¥æ€»ç»“:&lt;/strong&gt;&lt;code&gt;é€šè¿‡åˆ¤æ–­å¤´éƒ¨typeã€LS IDå’ŒADVæ¥åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€æ¡LSA&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç§ç±»type&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åç§°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;äº§ç”Ÿè€…(ADV)&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LS ID(é“¾è·¯çŠ¶æ€ID)&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ³›æ´ªåŒºåŸŸ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Cost&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ä½œç”¨&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;é˜²ç¯&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Router&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯å°è·¯ç”±å™¨(è‡ªå·±çš„RouterID)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è‡ªå·±çš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€å±åŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100/å®é™…å¸¦å®½(100ä¸ºå‚è€ƒå¸¦å®½)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾å¤‡çš„é“¾è·¯çŠ¶æ€å’Œå¼€é”€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SPF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Network&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRæ¥å£IP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€å±åŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ— costå­—æ®µ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ¬ç½‘æ®µçš„é“¾è·¯çŠ¶æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SPF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;3&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Network-Summary&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸé—´&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRåˆ°ç›®çš„ç½‘æ®µçš„å¼€é”€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸé—´çš„è·¯ç”±ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;3ç±»LSAçš„é˜²ç¯è§„åˆ™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;4&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBR-Summary&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éasbråŒºåŸŸçš„æ‰€æœ‰åŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRåˆ°ASBRçš„å¼€é”€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ°ASBRçš„è·¯ç”±ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å’Œ3ç±»ç›¸åŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;5&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;AS-External&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€(å¤–éƒ¨)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…¨ç½‘(é™¤stubã€nssa)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRåˆ°ç›®çš„ç½‘æ®µçš„å¼€é”€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ°ASå¤–éƒ¨çš„è·¯ç”±&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¾é 3ç±»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;7&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSA-External&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€(å¤–éƒ¨)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSAåŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRåˆ°ç›®çš„ç½‘æ®µçš„å¼€é”€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ°ASå¤–éƒ¨çš„è·¯ç”±&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Pä½&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;8&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Link&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯å°è·¯ç”±å™¨(è‡ªå·±çš„RouterID)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¥å£ç¼–å·&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ¬é“¾è·¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ¬æ¥å£cost&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æè¿°æœ¬é“¾è·¯çš„ä¿¡æ¯(é“¾è·¯æœ¬åœ°åœ°å€ã€æ¥å£ç¼–å·å’Œå‰ç¼€)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SPF&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;9&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Inter-Area-Prefix(åŒºåŸŸå†…å‰ç¼€)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯å°è·¯ç”±å™¨(è‡ªå·±çš„RouterID)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€å±åŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ¬æ¥å£cost&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŸŸå†…è·¯ç”±&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SPF&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;router-lsatype1&#34;&gt;Router-LSAï¼ˆType1ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611991285955.png&#34; alt=&#34;Router-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311744247.png&#34; alt=&#34;OSPF-Router-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
OSPFç½‘ç»œé‡Œçš„æ¯ä¸€å°è·¯ç”±è®¾å¤‡éƒ½ä¼šå‘å¸ƒType1 LSAï¼Œè¿™ç§ç±»å‹çš„LSAç”¨äºæè¿°è®¾å¤‡çš„é“¾è·¯çŠ¶æ€å’Œå¼€é”€ï¼Œåœ¨è·¯ç”±å™¨æ‰€å±çš„åŒºåŸŸå†…ä¼ æ’­&lt;br&gt;
ä¸€æ¡Router-LSAå¯ä»¥æè¿°å¤šæ¡é“¾æ¥ï¼Œæ¯æ¡é“¾æ¥ç”±Link IDã€Dataã€Typeå’ŒMetricæè¿°&lt;br&gt;
&lt;code&gt;æŠ¥æ–‡ä¸­3ä¸ªé‡è¦æ¯”ç‰¹ä½æ ‡è¯†è®¾å¤‡è§’è‰²ï¼šVä»£è¡¨è™šé“¾è·¯ï¼ŒBä»£è¡¨ABRï¼ŒEä»£è¡¨ASBR&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Type&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LinkID&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LinkData&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2Pç‚¹å¯¹ç‚¹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é‚»å±…çš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥ç½‘æ®µä¸Šæœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;TransNetä¼ é€ç½‘ç»œ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRçš„æ¥å£IPåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥ç½‘æ®µä¸Šæœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;StubNetæœ«æ¢¢ç½‘ç»œ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥Stubç½‘æ®µçš„IPç½‘ç»œåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥Stubç½‘æ®µçš„ç½‘ç»œæ©ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Virtualè™šé“¾è·¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è™šè¿æ¥é‚»å±…çš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å»å¾€è¯¥è™šè¿æ¥é‚»å±…çš„æœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;å¹¿æ’­ç±»å‹çš„æ¥å£çš„é“¾è·¯ç±»å‹æ˜¯transnetï¼Œç¯å›å£é“¾è·¯ç±»å‹æ˜¯stubnetï¼Œç‚¹åˆ°ç‚¹é“¾ä¼šç”Ÿæˆp2på’Œstubnetä¸¤ç§ç±»å‹(æ‰€ä»¥å³ä½¿ä¸åœ¨åŒä¸€ç½‘æ®µä¹Ÿèƒ½å»ºç«‹é‚»å±…)ã€‚OPSFæ˜¯å…ˆè®¡ç®—p2på’Œtransnetï¼Œå†è®¡ç®—stubnet&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å“ªäº›æ¥å£ä¼šé€šå‘Šæˆstubnetçš„é“¾è·¯ç±»å‹ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€»è¾‘æ¥å£&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰é‚»å±…å…³ç³»çš„ç‰©ç†æ¥å£&lt;/li&gt;
&lt;li&gt;ç‚¹åˆ°ç‚¹æˆ–è€…è™šé“¾è·¯ç½‘ç»œç±»å‹çš„æ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;network-lsatype2&#34;&gt;Network-LSAï¼ˆType2ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611992334341.png&#34; alt=&#34;Network-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311827323.png&#34; alt=&#34;OSPF-Network-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç”±DRäº§ç”Ÿï¼Œæè¿°æœ¬ç½‘æ®µçš„é“¾è·¯çŠ¶æ€ï¼Œåœ¨æ‰€å±çš„åŒºåŸŸå†…ä¼ æ’­ã€‚&lt;/p&gt;
&lt;h5 id=&#34;network-summary-lsatype3&#34;&gt;Network-summary-LSAï¼ˆType3ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611992419998.png&#34; alt=&#34;Network-summary-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312009002.png&#34; alt=&#34;OSPF-Network-summary-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç”±ABRå‘å¸ƒï¼Œç”¨æ¥æè¿°åŒºåŸŸé—´çš„è·¯ç”±ä¿¡æ¯ã€‚ABRå°†Network-summary-LSAå‘å¸ƒåˆ°ä¸€ä¸ªåŒºåŸŸï¼Œé€šå‘Šè¯¥åŒºåŸŸåˆ°å…¶ä»–åŒºåŸŸçš„ç›®çš„åœ°å€ã€‚å®é™…ä¸Šï¼Œ&lt;strong&gt;ABRæ˜¯å°†åŒºåŸŸå†…éƒ¨çš„Type1å’ŒType2çš„ä¿¡æ¯æ”¶é›†èµ·æ¥å¹¶æ±‡æ€»ä¹‹åæ‰©æ•£å‡ºå»&lt;/strong&gt;ï¼Œè¿™å°±æ˜¯Summaryçš„å«ä¹‰&lt;br&gt;
&lt;code&gt;OSPFçš„é˜²ç¯ï¼šä¸å…è®¸ç›´æ¥åœ¨ä¸¤ä¸ªééª¨å¹²åŒºåŸŸä¹‹é—´å‘å¸ƒè·¯ç”±ä¿¡æ¯ï¼Œåªå…è®¸åœ¨ä¸€ä¸ªåŒºåŸŸå†…æˆ–è€…éª¨å¹²å’Œééª¨å¹²åŒºåŸŸé—´å‘å¸ƒè·¯ç”±ä¿¡æ¯&lt;/code&gt;&lt;br&gt;
&lt;code&gt;3ç±»LSAçš„é˜²ç¯ï¼šï¼ˆæ°´å¹³åˆ†å‰²ï¼‰ä¸€æ¡3ç±»LSAçš„å§‹å‘åŒºåŸŸä¸ä¼šå†é€šå‘Šè¿™æ¡LSAï¼ˆå³ä¸€æ¡3ç±»LSAä¸ä¼šå†é€šå‘Šå›å§‹å‘åŒºåŸŸï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;asbr-summary-lsatype4&#34;&gt;ASBR-summary-LSAï¼ˆType4ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611992622385.png&#34; alt=&#34;ASBR-summary-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æŠ¥æ–‡æ ¼å¼å’Œ3ç±»ç›¸åŒï¼Œå¦‚æœæ˜¯4ç±»ï¼Œé‚£ä¹ˆLS IDä¸ºASBRçš„RouterIDï¼Œä¸”æ©ç è®¾ç½®ä¸º0.0.0.0ï¼Œæ— å®é™…æ„ä¹‰&lt;/code&gt;&lt;br&gt;
ç”±ABRå‘å¸ƒï¼Œæè¿°åˆ°ASBRçš„è·¯ç”±ä¿¡æ¯ï¼Œå¹¶é€šå‘Šç»™é™¤ASBRæ‰€åœ¨åŒºåŸŸçš„å…¶ä»–ç›¸å…³åŒºåŸŸ&lt;br&gt;
&lt;code&gt;ä¼ é€’èŒƒå›´ä¸ºåŒºåŸŸå†…ï¼Œåªè¦è·¨åŒºåŸŸäº†ï¼Œåˆ™éœ€è¦é‡æ–°ç”Ÿæˆ4ç±»LSAï¼Œä¸»è¦æ˜¯metricå€¼ä¸åŒï¼Œå½“ç„¶é€šå‘Šè·¯ç”±å™¨ä¹Ÿä¸é€š&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;as-external-lsatype5&#34;&gt;AS-External-LSAï¼ˆType5ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611992723955.png&#34; alt=&#34;AS-External-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312103475.png&#34; alt=&#34;OSPF-AS-External-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç”±ASBRäº§ç”Ÿï¼Œæè¿°åˆ°ASå¤–éƒ¨çš„è·¯ç”±ï¼Œé€šå‘Šåˆ°é™¤StubåŒºåŸŸå’ŒNSSAåŒºåŸŸä»¥å¤–æ‰€æœ‰çš„åŒºåŸŸ&lt;br&gt;
&lt;code&gt;tagå­—æ®µospfæœ¬èº«å¾ˆå°‘ä½¿ç”¨ï¼Œä½†æ˜¯ç»å¸¸ç”¨åœ¨MPLS VPNçš„é˜²ç¯ä¸­ï¼ŒTAGè¢«å¡«å……ä¸ºAS numberï¼Œä¸»è¦ä½œç”¨æ˜¯é˜²ç¯&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¤–éƒ¨åº¦é‡å€¼ç±»å‹ï¼ˆEæ¯”ç‰¹ä½ï¼‰&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;strong&gt;OE1&lt;/strong&gt;ï¼šç¬¬ä¸€ç±»å¤–éƒ¨è·¯ç”±ã€‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­&lt;strong&gt;å¼€é”€å€¼ç´¯åŠ &lt;/strong&gt;ã€‚&lt;code&gt;OE1çš„è·¯ç”±ä¼˜å…ˆäºOE2&lt;/code&gt;ã€‚OE1çš„è·¯ç”±æ¯”è¾ƒçš„æ˜¯æ€»å¼€é”€å€¼ï¼Œä¸åŒºåˆ†å†…å¤–ã€‚&lt;br&gt;
&lt;strong&gt;OE2&lt;/strong&gt;ï¼šç¬¬äºŒç±»å¤–éƒ¨è·¯ç”±ï¼Œ&lt;strong&gt;é»˜è®¤ç±»å‹&lt;/strong&gt;ã€‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­&lt;strong&gt;å¼€é”€å€¼ä¸ä¼šç´¯åŠ &lt;/strong&gt;ï¼Œåªè®¡ç®—å¼•å…¥æ—¶çš„å¤–éƒ¨å¼€é”€å€¼ï¼Œä¸è®¡ç®—å†…éƒ¨å¼€é”€å€¼ã€‚OE2åªçœ‹å¤–éƒ¨å¼€é”€ï¼ˆå¿½ç•¥å†…éƒ¨å¼€é”€ï¼‰ï¼›å¦‚æœå¤–éƒ¨å¼€é”€ç›¸åŒï¼Œåˆ™æ¯”è¾ƒå†…éƒ¨å¼€é”€ï¼›å¦‚æœå†…éƒ¨å’Œå¤–éƒ¨å¼€é”€éƒ½ç›¸åŒï¼Œåˆ™è¿›è¡Œè´Ÿè½½ã€‚&lt;code&gt;å…ˆçœ‹å¤–éƒ¨costï¼Œå†çœ‹å†…éƒ¨cost&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼š&lt;code&gt;OE1æ˜¯ä¸åˆ†å†…å¤–ï¼ŒåŠ åœ¨ä¸€èµ·è¿›è¡Œæ¯”è¾ƒï¼›OE2æ˜¯å†…å¤–åˆ†å¼€ï¼Œå…ˆæ¯”è¾ƒå¤–éƒ¨ï¼Œå¤–éƒ¨ç›¸ç­‰å†æ¯”è¾ƒå†…éƒ¨&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;å¤–éƒ¨è·¯ç”±å¼•å…¥å¯ä»¥æ‰“ä¸ŠTAGï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤ç­‰äºè¿›ç¨‹IDï¼Œä¾‹å¦‚å¼•å…¥å°†rip3çš„è·¯ç”±å¼•å…¥ospf1ï¼Œåˆ™tagé»˜è®¤ç­‰äº1ï¼›å¦‚æœæ˜¯åœ¨MPLS VPNåœºæ™¯ä¸‹ï¼Œè¿™ä¸ªæ˜¯æœ¬ASå·çš„å“ˆå¸Œå€¼&lt;/code&gt;&lt;/p&gt;
&lt;h6 id=&#34;å…³äºfaåœ°å€çš„4é—®&#34;&gt;å…³äºFAåœ°å€çš„4é—®ï¼š&lt;/h6&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;FAåœ°å€ä½œç”¨&lt;/strong&gt;ï¼šé˜²æ­¢æ¬¡ä¼˜è·¯å¾„å’Œç¯è·¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æºå¸¦FAåœ°å€çš„3ä¸ªæ¡ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‡ºæ¥å£ç±»å‹ä¸èƒ½æ˜¯P2Pã€P2MPï¼›&lt;/li&gt;
&lt;li&gt;å‡ºæ¥å£ä¸èƒ½é…ç½®ä¸ºé™é»˜æ¥å£(silentæ¥å£)ï¼›&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€è·³åœ°å€è¦ä¸ºåŸŸå†…æˆ–è€…åŸŸé—´å¯è¾¾ï¼Œå³å¼•å…¥çš„å¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³æ¥å£æ‰€åœ¨ç½‘æ®µå¿…é¡»å®£å‘Šè¿›OSPF&lt;br&gt;
&lt;code&gt;OSPFçš„äº”ç±»LSAå¦‚æœæºå¸¦äº†FAåœ°å€ï¼Œè®¡ç®—è·¯ç”±æ—¶ä¼šä¼˜å…ˆè€ƒè™‘FAåœ°å€ï¼ˆå³åªè®¡ç®—åˆ°è¾¾FAçš„è·ç¦»ï¼Œä¸è®¡ç®—åˆ°è¾¾ASBRçš„è·ç¦»ï¼‰ï¼›å¦‚æœFAåœ°å€ä¸å¯è¾¾ï¼Œåˆ™è·¯ç”±æ— æ•ˆï¼›å¦‚æœæ²¡æœ‰æºå¸¦FAåœ°å€ï¼Œæ‰ä¼šè€ƒè™‘ASBR&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;FAåœ°å€å¦‚ä½•å¡«å……&lt;/strong&gt;(å³FAåœ°å€æ˜¯ä»€ä¹ˆåœ°å€)ï¼šå¡«å……ä¸ºå¼•å…¥å¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€&lt;code&gt;æ­¤åœ°å€ä¸€èˆ¬ä¸æ˜¯åŸŸå†…åœ°å€ï¼Œä½†å…¶æ‰€åœ¨ç½‘æ®µå´å®£å‘Šè¿›äº†OSPF&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¡ç®—FAåœ°å€çš„æ¡ä»¶&lt;/strong&gt;ï¼šåˆ°è¾¾&lt;strong&gt;FAåœ°å€æ‰€åœ¨ç½‘æ®µ&lt;/strong&gt;å¿…é¡»æ˜¯OSPFåŸŸå†…æˆ–è€…åŸŸé—´è·¯ç”±å¯è¾¾ã€‚å¦‚æœæ˜¯é€šè¿‡é™æ€ã€å¤–éƒ¨è·¯ç”±å¼•å…¥ç­‰å¯è¾¾ï¼Œåˆ™ä¸è®¡ç®—&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;nssatype7&#34;&gt;NSSAï¼ˆType7ï¼‰&lt;/h5&gt;
&lt;p&gt;ç”±ASBRäº§ç”Ÿï¼Œæè¿°åˆ°ASå¤–éƒ¨çš„è·¯ç”±ï¼Œä»…åœ¨NSSAåŒºåŸŸå†…ä¼ æ’­ï¼ŒæŠ¥æ–‡ç»“æ„å’Œ5ç±»ç›¸åŒã€‚NSSAåŒºåŸŸçš„ABRæ”¶åˆ°NSSA LSAæ—¶ï¼Œä¼šæœ‰é€‰æ‹©åœ°å°†å…¶è½¬åŒ–ä¸ºType5 LSAï¼Œä»¥ä¾¿å°†å¤–éƒ¨è·¯ç”±ä¿¡æ¯é€šå‘Šåˆ°OSPFç½‘ç»œçš„å…¶å®ƒåŒºåŸŸã€‚AS-external-LSAæ˜¯åœ¨æ•´ä¸ªASæ³›æ´ªï¼Œè€ŒNSSA LSAä»…åœ¨NSSAåŒºåŸŸä¸­æ³›æ´ªã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pä½ç”¨äºå‘ŠçŸ¥è½¬åŒ–è·¯ç”±å™¨è¯¥æ¡Type7 LSAæ˜¯å¦éœ€è¦è½¬åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºçœæƒ…å†µä¸‹ï¼Œ&lt;strong&gt;è½¬åŒ–è·¯ç”±å™¨æ˜¯NSSAåŒºåŸŸä¸­RouterIDæœ€å¤§çš„ABR&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åªæœ‰Pç½®ä½å¹¶ä¸”FAï¼ˆForwarding Addressï¼‰ä¸ä¸º0çš„NSSA LSAæ‰èƒ½è½¬åŒ–ä¸ºAS-external-LSAã€‚FAç”¨æ¥è¡¨ç¤ºå‘é€çš„æŸä¸ªç›®çš„åœ°å€çš„æŠ¥æ–‡å°†è¢«è½¬å‘åˆ°FAæ‰€æŒ‡å®šçš„åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ASBRäº§ç”Ÿçš„NSSA LSAä¸ä¼šç½®ä½Pä½&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FAåœ°å€é»˜è®¤ä¼šè¢«å¡«å……ï¼Œå¡«å……é¡ºåºå¦‚ä¸‹&lt;/strong&gt;ã€å…¶å®åä¸¤è€…æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‘ï¼š
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ»¡è¶³5ç±»LSAçš„3å¤§æ¡ä»¶ï¼ŒFAåœ°å€æ˜¯ASBRä¸Šå¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰å°†å¼•å…¥å¤–éƒ¨è·¯ç”±ä¸‹ä¸€è·³åœ°å€æ‰€åœ¨ç½‘æ®µå®£å‘Šè¿›OSPFï¼Œåˆ™ä¼˜é€‰å®£å‘Šè¿›ospfçš„é€»è¾‘æ¥å£IPåœ°å€æœ€å¤§çš„ä¸€ä¸ªï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰é€»è¾‘æ¥å£å®£å‘Šè¿›OSPFï¼Œåˆ™ä¼˜é€‰å®£å‘Šè¿›ospfä¸­æ´»åŠ¨çš„ç‰©ç†æ¥å£åœ°å€è¾ƒå¤§çš„ä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;5-lsack&#34;&gt;5. LSAck&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥å¯¹æ¥æ”¶åˆ°çš„LSUæŠ¥æ–‡è¿›è¡Œç¡®è®¤ï¼Œå†…å®¹æ˜¯éœ€è¦ç¡®è®¤çš„LSAçš„Headerï¼ˆä¸€ä¸ªLSAckæŠ¥æ–‡å¯å¯¹å¤šä¸ªLSAè¿›è¡Œç¡®è®¤ï¼‰ï¼ŒLSAckæŠ¥æ–‡æ ¹æ®ä¸åŒçš„é“¾è·¯ä»¥å•æ’­æˆ–ç»„æ’­çš„å½¢å¼å‘é€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312186750.png&#34; alt=&#34;OSPF-LSAck&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;ospfæ”¯æŒçš„ç½‘ç»œç±»å‹&#34;&gt;OSPFæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;P2Pç½‘ç»œ&lt;br&gt;
åªæŠŠä¸¤å°è·¯ç”±å™¨ç›´æ¥ç›¸è¿çš„ç½‘ç»œï¼Œä¾‹å¦‚è¿è¡ŒPPPçš„64Kä¸²è¡Œçº¿è·¯å°±æ˜¯ä¸€ä¸ªç‚¹åˆ°ç‚¹ç½‘ç»œ&lt;br&gt;
&lt;strong&gt;ä¸éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´10sï¼Œdeadæ—¶é—´40sï¼Œ5ç§æŠ¥æ–‡å…¨éƒ¨ç»„æ’­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Broadcastç½‘ç»œ&lt;br&gt;
æ”¯æŒä¸¤å°ä»¥ä¸Šè·¯ç”±å™¨ï¼Œå¹¶ä¸”å…·æœ‰å¹¿æ’­èƒ½åŠ›çš„ç½‘ç»œï¼Œä¾‹å¦‚å«æœ‰å››å°è·¯ç”±å™¨çš„ä»¥å¤ªç½‘&lt;br&gt;
&lt;strong&gt;éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´10sï¼Œdeadæ—¶é—´40sï¼ŒhelloæŠ¥æ–‡ç»„æ’­ã€DBDå’ŒLSRæ˜¯å•æ’­ã€LSUå’ŒLSAckæœ‰å•æ’­ä¹Ÿæœ‰ç»„æ’­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NBMAç½‘ç»œ&lt;br&gt;
ä¾‹å¦‚ä½¿ç”¨SVCè¿›è¡Œé€šä¿¡çš„ATMç½‘ç»œã€å…¨è¿æ¥ATMç½‘ç»œã€‘&lt;br&gt;
&lt;strong&gt;éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´30sï¼Œdeadæ—¶é—´120sï¼Œ5ç§æŠ¥æ–‡å‡æ˜¯å•æ’­&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;P2MPç½‘ç»œ&lt;br&gt;
&lt;strong&gt;ä¸éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´30sï¼Œdeadæ—¶é—´120sï¼ŒhelloæŠ¥æ–‡ç»„æ’­ã€å…¶ä»–æŠ¥æ–‡å…¨æ˜¯å•æ’­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è™šé“¾æ¥&lt;br&gt;
æ³¨æ„äº‹é¡¹ï¼šè™šè¿æ¥ä¸èƒ½é…ç½®åœ¨éª¨å¹²åŒºåŸŸ(Area0)å’Œæœ«èŠ‚åŒºåŸŸ(å®éªŒä¸­çš„Area20)ï¼Œä¸èƒ½è·¨è¶Šå¤šä¸ªåŒºåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç½‘ç»œç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Helloæ—¶é—´&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;deadæ—¶é—´&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;HelloæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;DBDæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSRæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSUæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSACKæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ˜¯å¦é€‰ä¸¾DR/BDR&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NBMA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2MP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2P&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Broadcast&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­/ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­/ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è™šé“¾è·¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;x&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;P2MPå’ŒNBMAçš„helloæ—¶é—´ä¸º30ç§’çš„åŸå› ï¼šP2MPå’ŒNBMAä¸ºä½é€Ÿç½‘ç»œï¼Œä¸ºäº†ä¿è¯é“¾è·¯æ‹¥å¡ä¸ä¼šå½±å“é‚»å±…çš„å»ºç«‹ï¼Œå°†helloæ—¶é—´è°ƒå¤§&lt;/code&gt;&lt;br&gt;
&lt;code&gt;è™šé“¾è·¯æ˜¯è·¨è®¾å¤‡çš„ï¼Œæ‰€ä»¥éƒ½æ˜¯ä½¿ç”¨å•æ’­ï¼ŒTTLä¸º255ï¼Œè€Œå…¶ä»–çš„ç»„æ’­æŠ¥æ–‡çš„TTLä¸º1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸åŒçš„ç½‘ç»œç±»å‹ä¹‹é—´æ˜¯å¦å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»æ˜¯å¦æœ‰è·¯ç”±&#34;&gt;ä¸åŒçš„ç½‘ç»œç±»å‹ä¹‹é—´æ˜¯å¦å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Ÿæ˜¯å¦æœ‰è·¯ç”±ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;èƒ½ä¸èƒ½å»ºç«‹é‚»å±…éœ€è¦çœ‹helloæŠ¥æ–‡æ—¶é—´ä¸å‘é€æ–¹å¼ï¼›æœ‰æ²¡æœ‰è·¯ç”±éœ€è¦çœ‹æ˜¯å¦æœ‰DRå’ŒBDR&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;P2Pä¸Broadcast&lt;br&gt;
å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±ã€‚&lt;br&gt;
åŸå› ï¼šP2Pæ²¡æœ‰DRå’ŒBDRï¼Œå³æ²¡æœ‰äºŒç±»LSAï¼Œå¯¼è‡´Broadcastæ— æ³•è¯†åˆ«ç›¸åº”æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;P2MPä¸Broadcast&lt;br&gt;
å› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚&lt;br&gt;
å¦‚æœå°†P2MPçš„helloæ—¶é—´ä¿®æ”¹ä¸º10sï¼Œå¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±ã€‚&lt;strong&gt;åŸå› åŒä¸Š&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NBMAå’ŒBroadcast&lt;br&gt;
å› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚å³ä½¿ä¿®æ”¹helloæ—¶é—´ä¹Ÿæ— æ³•å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
åŸå› ï¼šNBMAçš„helloæŠ¥æ–‡ä¸ºå•æ’­ï¼ŒBroadcastçš„helloæŠ¥æ–‡ä¸ºç»„æ’­&lt;/li&gt;
&lt;li&gt;P2På’ŒP2MP&lt;br&gt;
å› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚ä¿®æ”¹P2MPçš„helloæ—¶é—´ä¸º10sä¹‹åå¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»å¹¶ä¸”æœ‰è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ¤æ–­ä¸€ä¸ªæ¥å£æ‰€å±çš„ç½‘ç»œç±»å‹&#34;&gt;åˆ¤æ–­ä¸€ä¸ªæ¥å£æ‰€å±çš„ç½‘ç»œç±»å‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é€šè¿‡æ¥å£çš„äºŒå±‚å°è£…åè®®åˆ¤æ–­ç½‘ç»œç±»å‹&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç½‘ç»œç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å¸¸è§é“¾è·¯å±‚åè®®(äºŒå±‚å°è£…)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Point-to-point&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PPPé“¾è·¯ã€LAPBé“¾è·¯ã€HDLCé“¾è·¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Broadcast&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å¤ªç½‘é“¾è·¯ã€802.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NBMA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸§ä¸­ç»§é“¾è·¯ã€ATMé“¾è·¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;ospfçš„åŒºåŸŸç±»å‹&#34;&gt;OSPFçš„åŒºåŸŸç±»å‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;éª¨å¹²åŒºåŸŸï¼šå³åŒºåŸŸ0&lt;/li&gt;
&lt;li&gt;ééª¨å¹²åŒºåŸŸï¼šé0åŒºåŸŸ
&lt;ol&gt;
&lt;li&gt;æ™®é€šåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;ç‰¹æ•°åŒºåŸŸ
&lt;ol&gt;
&lt;li&gt;stubï¼šæœ«èŠ‚åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;total stubï¼šå®Œå…¨æœ«èŠ‚åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;nssaï¼šæ¬¡æœ«èŠ‚åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;total nssaï¼šå®Œå…¨æ¬¡æœ«èŠ‚åŒºåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;optioné€‰é¡¹ä¸åŒºåŸŸç±»å‹&#34;&gt;Optioné€‰é¡¹ä¸åŒºåŸŸç±»å‹&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;E&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;N&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;stubåŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSAåŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ™®é€šæˆ–è€…éª¨å¹²åŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;å½±å“ospfé‚»æ¥å…³ç³»å»ºç«‹çš„å› ç´ &#34;&gt;å½±å“OSPFé‚»æ¥å…³ç³»å»ºç«‹çš„å› ç´ &lt;/h1&gt;
&lt;h2 id=&#34;1-route-id&#34;&gt;1. Route ID&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;1ç±»LSAé€šè¿‡åºåˆ—å·+1æ’¤é”€è·¯ç”±ï¼Œ3ç±»å’Œ5ç±»é€šè¿‡3600ç§’æ’¤é”€&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-åŒä¸€åŒºåŸŸå†…&#34;&gt;1. åŒä¸€åŒºåŸŸå†…&lt;/h3&gt;
&lt;h4 id=&#34;1-ç›´è¿è®¾å¤‡routeridå†²çª&#34;&gt;1. ç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612188975988.jpg&#34; alt=&#34;åŒä¸€åŒºåŸŸå†…ç›´è¿è®¾å¤‡RouterIDå†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ã€ç»“æœã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
æ— æ³•å»ºç«‹ospfé‚»å±…å…³ç³»ï¼Œä¸¤ç«¯çš„é‚»å±…çŠ¶æ€æœºéƒ½ä¸ºdown&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€åˆ†æã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
RouterIDä¸å†²çªæ˜¯å»ºç«‹ospfé‚»å±…çš„7ä¸ªæ¡ä»¶ä¹‹ä¸€ï¼Œå¦‚æœRouterIDå†²çªï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒHelloæŠ¥æ–‡ï¼Œä¸¤ç«¯çš„é‚»å±…çŠ¶æ€æœºä¸ºdown&lt;/p&gt;
&lt;h4 id=&#34;2-éç›´è¿è®¾å¤‡routeridå†²çª&#34;&gt;2. éç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612189247363.jpg&#34; alt=&#34;éç›´è¿è®¾å¤‡RouterIDå†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ã€ç»“æœã€‘&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R2ä¼šå’ŒR1ã€R3åˆ†åˆ«å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯åœ¨R2çš„lsdbä¸­åªå­˜åœ¨1æ¡æ¥è‡ª1.1.1.1çš„1ç±»lsaï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šä¼šå‡ºç°1ç±»å’Œ2ç±»LSAçš„ç¿»åŠ¨ï¼Œåºåˆ—å·ä¸æ–­å¢åŠ ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ã€åˆ†æã€‘&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R2ä¼šæ”¶åˆ°R1ã€R3å‘é€çš„åŒä¸€æ¡Router-LSAï¼ŒåŸå› æ˜¯R1ã€R3 çš„RouterIDç›¸åŒï¼Œå¯¼è‡´LSAçš„å¤´éƒ¨ä¿¡æ¯ä¸€è‡´ï¼Œè¢«è®¤ä¸ºæ˜¯åŒä¸€æ¡LSAã€‚&lt;/li&gt;
&lt;li&gt;R2éœ€è¦åšä¸€æ¬¡LSAçš„æ–°æ—§æ¯”è¾ƒï¼Œå‡å¦‚é€šè¿‡åºåˆ—å·æ¯”è¾ƒR2ä¼˜é€‰äº†R1é€šå‘Šçš„1ç±»LSAï¼ˆR1é€šå‘Šçš„åºåˆ—å·æ¯”R3 çš„å¤§ï¼‰ï¼ŒR2å°†Router-LSAæ”¾å…¥åˆ°LSDBä¸­ï¼Œå¹¶ä¸”å°†è¿™æ¡æœ€æ–°çš„Router-LSAè½¬å‘ç»™R3ã€‚&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°åå‘ç°è¿™æ˜¯è‡ªå·±é€šå‘Šçš„LSAï¼Œä½†æ˜¯LSAçš„åºåˆ—å·æ¯”è‡ªå·±æœ¬åœ°ç”Ÿæˆçš„è¿˜è¦å¤§ï¼Œä¸ºäº†ä¿è¯LSDBçš„åŒæ­¥ï¼ŒR3ä¼šåœ¨æ¥æ”¶åˆ°çš„åºåˆ—å·åŸºç¡€ä¸Š+1ä½œä¸ºæœ€æ–°åºåˆ—å·ï¼Œå‘R2åœ¨é€šå‘Šä¸€æ¡1ç±»lsaã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·R2åˆæ”¶åˆ°ä¸€æ¡R3é€šå‘Šçš„1ç±»LSAï¼Œé€šå‘ŠLSAæ–°æ—§æ¯”è¾ƒï¼Œä¼˜é€‰äº†R3ã€‚ç„¶åå°†æœ€æ–°çš„LSAåœ¨é€šå‘Šç»™R1ï¼ŒR1æ”¶åˆ°ååœ¨é‡å¤R3çš„åŠ¨ä½œã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·é€ æˆR1ã€R3 çš„1ç±»LSAä¸€ç›´åœ¨ç¿»åŠ¨ï¼Œåºåˆ—å·åœ¨ä¸åœçš„å¢é•¿ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;3-éç›´è¿è®¾å¤‡å’Œabrçš„routeridå†²çª&#34;&gt;3. éç›´è¿è®¾å¤‡å’ŒABRçš„RouterIDå†²çª&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612189206710.jpg&#34; alt=&#34;éç›´è¿è®¾å¤‡RouterIDå†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ã€ç»“æœã€‘&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨R2å’ŒR4ä¸Šä¼šå‡ºç°1ç±»LSAçš„ç¿»åŠ¨ï¼Œåºåˆ—å·ä¸æ–­å¢åŠ &lt;code&gt;å’ŒåŒä¸€åŒºåŸŸçš„RouterIDå†²çªåŸå› ç›¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;R4æ”¶åˆ°ABRå‘é€çš„3ç±»LSAåï¼Œä¼šå°†è¯¥3ç±»LSAçš„è€åŒ–æ—¶é—´è®¾ç½®ä¸º3600ç§’ï¼Œå¹¶æ³›æ´ª3ç±»LSA&lt;/li&gt;
&lt;li&gt;R2ä¸Š3ç±»LSAçš„åºåˆ—å·ä¸æ–­å¢åŠ ï¼Œå¯¼è‡´åŒºåŸŸ1ä¼šå‡ºç°3ç±»LSAçš„ç¿»åŠ¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ã€åˆ†æã€‘&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R3æ”¶åˆ°R2å‘é€çš„3ç±»LSAåä¼šè½¬å‘ç»™R4ï¼ŒR4æ”¶åˆ°åå‘ç°è¯¥3ç±»LSAçš„é€šå‘Šè·¯ç”±å™¨æ­£å¥½æ˜¯è‡ªå·±çš„Router-idï¼Œä¼šè®¤ä¸ºè¯¥3ç±»LSAæ˜¯è‡ªå·±å‘é€çš„ï¼Œä½†æ˜¯R4å‘ç°åœ¨LSDBä¸­å¹¶ä¸å­˜åœ¨è¿™æ¡æœ¬åœ°é€šå‘Šçš„LSAã€‚R4ä¼šè®¤ä¸ºè¿™å¾ˆå¯èƒ½æ˜¯è‡ªå·±ä¹‹å‰å·²ç»åˆ é™¤çš„ä¸€æ¡LSAï¼Œç°åœ¨åˆä»é‚»å±…æ”¶åˆ°äº†ã€‚ä¸ºäº†åŒæ­¥LSDBå’Œé¿å…ç¯è·¯ï¼ŒR4ä¼šå°†è¿™æ¡3ç±»LSAçš„LSA AGEé…ç½®ä¸º3600ç§’(ä¸ä¼šä¿®æ”¹LSA çš„åºåˆ—å·ï¼Œåªæ˜¯ä¿®æ”¹LSA AGEæ—¶é—´ä¸º3600S)ï¼Œå¹¶æ³›æ´ªè¿™æ¡ä¿®æ”¹åçš„3ç±»LSAï¼Œç›®çš„å°±æ˜¯è®©åŒºåŸŸå†…çš„å…¶å®ƒOSPFè·¯ç”±å™¨åŠ é€Ÿåˆ é™¤è¿™æ¡3ç±»LSAï¼ŒåŒæ­¥LSDBã€‚&lt;/li&gt;
&lt;li&gt;è¿™æ ·R3åˆä»R4æ”¶åˆ°ä¸€æ¡åŒæ ·çš„3ç±»LSAï¼ŒR3ä¼šæ‰§è¡ŒLSAæ–°æ—§æ¯”è¾ƒè¿‡ç¨‹ï¼Œç”±äºR4é€šå‘Šçš„3ç±»LSAä¸­LSA AGEç­‰äºMAX AGE(3600S)ï¼ŒR3ä¼šä¼˜é€‰R4é€šå‘Šçš„3ç±»LSAï¼Œæ›¿æ¢æœ¬åœ°LSDBï¼Œå¹¶å°†æœ€æ–°çš„3ç±»LSAåœ¨é€šå‘Šå›R2ã€‚ç”±äºR2æ˜¯è¯¥3ç±»LSAçš„å§‹å‘è€…ï¼Œå¹¶ä¸”è¯¥LSAè¿˜æ˜¯æœ‰æ•ˆçš„ï¼Œä¸ºäº†åŒæ­¥LSDBï¼Œé¿å…è¿™æ¡æœ‰æ•ˆçš„3ç±»LSAè¢«åˆ é™¤ã€‚R2 ä¼šé©¬ä¸Šå‘åŒºåŸŸæ³›æ´ªä¸€æ¡åºåˆ—å·+1çš„3ç±»LSA åšä¸ºæ›´æ–°ã€‚&lt;/li&gt;
&lt;li&gt;R3ç°åœ¨åˆæ”¶åˆ°äº†ä»R2å‘é€çš„3ç±»LSAï¼Œç”±äºR2å‘é€çš„LSAåºåˆ—å·è¾ƒå¤§ï¼ŒR3ä¼šä¼˜é€‰R2å‘é€çš„LSAï¼Œæ›¿æ¢æœ¬åœ°LSDBï¼Œå¹¶å°†æœ€æ–°çš„3ç±»LSAå†é€šå‘Šç»™R4ï¼ŒR4å†æ¬¡é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå¯¼è‡´LSAçš„ç¿»åŠ¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ã€è§£å†³ã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
åä¸ºçš„è®¾å¤‡å¦‚æœå‘ç°è¿™ç§å†²çªï¼Œä¼šåœ¨ä¸€å®šçš„å†²çªæ—¶é—´èŒƒå›´å†…ï¼Œå°†OSPFè¿›ç¨‹é‡å¯ï¼Œå¹¶é‡æ–°æŒ‡å®šä¸€ä¸ªRouter-idï¼Œä»è€Œé¿å…å†²çª&lt;/p&gt;
&lt;h3 id=&#34;2-ä¸åŒåŒºåŸŸå†…&#34;&gt;2. ä¸åŒåŒºåŸŸå†…&lt;/h3&gt;
&lt;h4 id=&#34;1-éç›´è¿è®¾å¤‡routeridå†²çª&#34;&gt;1. éç›´è¿è®¾å¤‡RouterIDå†²çª&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612189271723.jpg&#34; alt=&#34;éç›´è¿è®¾å¤‡RouterIDå†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ã€ç»“æœã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸åŒåŒºåŸŸé—´çš„è®¾å¤‡RouterIDå†²çªï¼Œä¸ä¼šæœ‰ä»»ä½•çš„å½±å“ï¼Œå†²çªè®¾å¤‡å¯ä»¥æ¥æ”¶LSAå¹¶é€‰è·¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ã€åˆ†æã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
1ç±»LSAçš„æ³›æ´ªèŒƒå›´æ˜¯åŒºåŸŸå†…ï¼Œä¸åŒåŒºåŸŸé—´ä¸èƒ½äº¤äº’1ç±»LSAã€‚å¦‚æœæƒ³å®ç°ä¸åŒåŒºåŸŸé—´çš„é€šä¿¡ï¼Œå°±éœ€è¦ABRï¼ŒABRä¼šå°†1ç±»LSAä¸­çš„é“¾è·¯ä¿¡æ¯è½¬æ¢ä¸º3ç±»LSAä¸­çš„è·¯ç”±ä¿¡æ¯é€šå‘Šç»™å…¶å®ƒåŒºåŸŸï¼Œ3ç±»LSAçš„é€šå‘Šè·¯ç”±å™¨ä¼šç”¨ABR çš„RouterIDæ¥æ ‡è¯†ï¼Œè¿™æ ·ä¹Ÿå°±é¿å…äº†RouterIDçš„å†²çªé—®é¢˜&lt;br&gt;
&lt;code&gt;ä½†æ˜¯ä¸èƒ½å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œå¤–éƒ¨è·¯ç”±é€šè¿‡5ç±»LSAåœ¨æ•´ä¸ªOSPFåŒºåŸŸæ³›æ´ªï¼ŒR1å’ŒR3è¿˜æ˜¯ä¼šå‘ç°å¯¹æ–¹çš„å­˜åœ¨ï¼Œå¯¼è‡´æ‰€æœ‰è®¾å¤‡ä¸Š5ç±»LSAçš„åºåˆ—å·ä¸æ–­å¢é•¿ï¼ˆè¯¦ç»†åˆ†æè§ä¸‹é¢å†…å®¹ï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-éç›´è¿è®¾å¤‡å’Œasbrçš„routeridå†²çª&#34;&gt;2. éç›´è¿è®¾å¤‡å’ŒASBRçš„RouterIDå†²çª&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612189196368.jpg&#34; alt=&#34;éç›´è¿è®¾å¤‡å’ŒASBRçš„RouterIDå†²çª&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ã€ç»“æœã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
R1ä¸Š5ç±»LSAçš„åºåˆ—å·ä¸æ–­å¢åŠ ï¼Œå¯¼è‡´æ‰€æœ‰è®¾å¤‡ä¸Šå‡ºç°5ç±»LSAçš„ç¿»åŠ¨&lt;br&gt;
&lt;strong&gt;ã€åˆ†æã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
ä¸éç›´è¿è®¾å¤‡å’ŒABRçš„RouterIDå†²çªçš„åŸå› ç±»ä¼¼ï¼Œåªæ˜¯é’ˆå¯¹ä¸åŒçš„LSAã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç”±äº5ç±»LSAæ˜¯åœ¨æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿå†…æ³›æ´ªï¼ŒR4åœ¨æ”¶åˆ°ååŒæ ·ä¼šå‘ç°5ç±»LSAçš„é€šå‘Šè·¯ç”±å™¨å’Œè‡ªå·±çš„RouterIDä¸€æ ·ï¼Œä½†æ˜¯æœ¬åœ°å¹¶ä¸å­˜åœ¨è¿™æ¡LSAï¼ŒR4ä¼šå°†è¿™æ¡LSAçš„LSA AGEè®¾ç½®ä¸º3600Sï¼Œå¹¶æ³›æ´ªè¯¥LSAï¼Œç›®çš„æ˜¯åŠ é€Ÿåˆ é™¤ï¼ŒåŒæ­¥LSDBã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¼šé€ æˆæ²¿è·¯ä¸Šçš„æ‰€æœ‰è½¬å‘è®¾å¤‡éƒ½ä¼šè®¤ä¸ºè¯¥5ç±»LSAæ˜¯æœ€æ–°çš„ï¼Œæ›¿æ¢LSDBä¸­çš„LSAï¼Œè¶…æ—¶åå°†è¿™æ¡5ç±»LSAä»LSDBä¸­åˆ é™¤ã€‚å½“è¿™æ¡LSAä¼šè¢«è½¬å‘åˆ°R1çš„æ—¶å€™ï¼ŒR1å‘ç°5ç±»LSAæ˜¯æœ¬åœ°é€šå‘Šçš„ï¼Œå¹¶ä¸”è¿™æ¡LSAåœ¨æœ¬åœ°æ˜¯æœ‰æ•ˆçš„ï¼ŒLSA AGEåœ¨æ­£å¸¸èŒƒå›´æ—¶é—´å†…ã€‚&lt;/li&gt;
&lt;li&gt;R1ä¾¿ä¼šå°†5ç±»LSAçš„åºåˆ—å·+1ï¼Œå¹¶ä¸”é‡æ–°æ³›æ´ª5ç±»LSAã€‚ä¿è¯5ç±»LSAçš„æœ‰æ•ˆæ€§ï¼ŒåŒæ­¥LSDBï¼Œé€ æˆ5ç±»LSAçš„ç¿»åŠ¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ã€è§£å†³ã€‘&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨è§£å†³&lt;/strong&gt;ï¼šåä¸ºçš„è®¾å¤‡å¦‚æœå‘ç°è¿™ç§å†²çªï¼Œä¼šåœ¨ä¸€å®šçš„å†²çªæ—¶é—´èŒƒå›´å†…ï¼Œå°†OSPFè¿›ç¨‹é‡å¯ï¼Œå¹¶é‡æ–°æŒ‡å®šä¸€ä¸ªRouter-idï¼Œä»è€Œé¿å…å†²çª&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;äººå·¥è§£å†³&lt;/strong&gt;ï¼šå¦‚æœåŒºåŸŸ0è¦å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œå¯ä»¥æŠŠåŒºåŸŸ1é…ç½®ä¸ºStubåŒºåŸŸï¼Œå› ä¸ºLSA5ä¸è¿›StubåŒºåŸŸï¼›å¦‚æœåŒºåŸŸ1è¦å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œå¯ä»¥æŠŠåŒºåŸŸ1è®¾å¤‡ä¸ºNSSAåŒºåŸŸï¼Œç”±äºLSA7è½¬LSA5åADVå˜æˆABRã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-åŒºåŸŸid&#34;&gt;2. åŒºåŸŸID&lt;/h2&gt;
&lt;p&gt;åŒºåŸŸIDåŒ…å«åœ¨ospfå¤´éƒ¨ï¼ŒåŒæ–¹ä¸ä¸€è‡´æ—¶æ— æ³•å»ºç«‹é‚»å±…&lt;/p&gt;
&lt;h2 id=&#34;3-flagä½åŒºåŸŸç±»å‹&#34;&gt;3. flagä½ï¼ˆåŒºåŸŸç±»å‹ï¼‰&lt;/h2&gt;
&lt;p&gt;ä¸»è¦æ˜¯åŒºåŸŸç±»å‹ï¼ˆoptionå­—æ®µä¸­çš„Eä½ä¸Nä½ï¼‰&lt;br&gt;
Eä½ä»£è¡¨èƒ½å¤„ç†å¤–éƒ¨è·¯ç”±ï¼Œåœ¨OSPFä¸­å¤–éƒ¨è·¯ç”±å°±æ˜¯æŒ‡5ç±»lsaï¼ŒNä½ä»£è¡¨NSSAåŒºåŸŸï¼ˆæ”¯æŒ7ç±»LSAï¼‰&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;E&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;N&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;stubåŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSAåŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ™®é€šæˆ–è€…éª¨å¹²åŒºåŸŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;4-helloå’Œdeadæ—¶é—´&#34;&gt;4. helloå’Œdeadæ—¶é—´&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç½‘ç»œç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Helloæ—¶é—´&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;deadæ—¶é—´&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NBMA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2MP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2P&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Broadcast&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è™šé“¾è·¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;5-è®¤è¯&#34;&gt;5. è®¤è¯&lt;/h2&gt;
&lt;p&gt;åŒ…å«è®¤è¯ç±»å‹å’Œè®¤è¯å¯†ç &lt;br&gt;
è®¤è¯ç±»å‹åˆ†ä¸ºä¸è®¤è¯ï¼ˆ00ï¼‰ã€æ˜æ–‡è®¤è¯ï¼ˆ01ï¼‰ã€MD5è®¤è¯ï¼ˆ02ï¼‰ï¼ŒOSPFçš„è®¤è¯æ”¾åœ¨ospfå¤´éƒ¨ã€‚&lt;br&gt;
å¦‚æœä¸€è¾¹æ¥å£è®¤è¯ï¼Œä¸€è¾¹åŒºåŸŸè®¤è¯ï¼Œå¯ä»¥è®¤è¯æˆåŠŸã€‚&lt;br&gt;
æ¥å£è®¤è¯ç”±äºåŒºåŸŸè®¤è¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;6-æ©ç é•¿åº¦&#34;&gt;6. æ©ç é•¿åº¦&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å½±å“å¹¿æ’­ã€NBMAï¼Œä¸å½±å“P2Pã€P2MPå’Œè™šé“¾è·¯&lt;/code&gt;&lt;br&gt;
MAç½‘è·¯ä¸­æ©ç å¿…é¡»ä¸€è‡´ï¼Œå› ä¸ºMAç½‘ç»œä¸­æ‰€æœ‰è·¯ç”±å™¨å…±ç”¨ä¸€ä¸ªç½‘æ®µï¼Œåªæœ‰ä¸€ä¸ª2ç±»LSAçš„Networkæ¥æè¿°å½“å‰çš„ç½‘ç»œæ‹“æ‰‘å’Œç½‘ç»œå·ï¼Œæ‰€ä»¥å½“æ©ç ä¸ä¸€è‡´æ—¶ï¼Œæ— æ³•é€šè¿‡ä¸€ä¸ª2ç±»LSAæè¿°ä¸åŒçš„æ©ç ã€‚&lt;br&gt;
P2Pç½‘ç»œä¸­æ©ç ä¹‹æ‰€ä»¥å¯ä»¥ä¸ä¸€è‡´æ˜¯å› ä¸ºP2Pä¸­æœ‰1ç±»LSAçš„stubç±»å‹æ¥æè¿°æ¯ä¸€ä¸ªç½‘ç»œçš„æ©ç ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨P2Pç½‘ç»œåœ¨NCPé˜¶æ®µï¼Œä¸¤å°è·¯ç”±å™¨ä¼š&lt;strong&gt;äº’æ¨è‡ªå·±çš„IPåœ°å€&lt;/strong&gt;ï¼Œå¹¶ä¸”ä»¥32ä½ä¸»æœºè·¯ç”±çš„æ–¹å¼åŠ å…¥è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œæ‰€ä»¥P2Pç½‘ç»œä¸­å»ºç«‹é‚»å±…ä¸éœ€è¦æ©ç ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;7-ç½‘ç»œç±»å‹&#34;&gt;7. ç½‘ç»œç±»å‹&lt;/h2&gt;
&lt;p&gt;èƒ½ä¸èƒ½å»ºç«‹é‚»å±…éœ€è¦çœ‹helloæŠ¥æ–‡æ—¶é—´ä¸å‘é€æ–¹å¼ï¼›èƒ½ä¸èƒ½å»ºç«‹é‚»æ¥éœ€è¦çœ‹æ˜¯å¦æœ‰DRå’ŒBDR&lt;br&gt;
åŒæ–¹ç½‘ç»œç±»å‹ä¸ä¸€è‡´ï¼Œä¸èƒ½å»ºç«‹FULLçš„é‚»æ¥å…³ç³»ï¼Œä½†å¦‚æœä¿®æ”¹helloã€deadæ—¶é—´ï¼Œå¯ä»¥å»ºç«‹fullçš„é‚»å±…å…³ç³»ï¼ˆé™¤äº†NBMAè¿™ç§ç½‘ç»œç±»å‹ï¼ŒNBMAå³ä½¿ä¿®æ”¹æ—¶é—´ä¹Ÿæ— æ³•å’Œå…¶ä»–ç½‘ç»œç±»å‹å»ºç«‹é‚»å±…å…³ç³»ï¼Œå› ä¸ºå…¶æ”¶å‘helloæŠ¥æ–‡éƒ½æ˜¯å•æ’­ï¼‰ï¼ŒBroadcastä¸P2Pã€P2MPä¿®æ”¹æ—¶é—´å¯ä»¥å»ºç«‹FULLçš„é‚»å±…å…³ç³»ï¼Œä½†ä¸èƒ½è®¡ç®—è·¯ç”±ï¼Œå› ä¸ºåä¸¤è€…æ²¡æœ‰DRï¼Œå³ä¸èƒ½äº¤äº’2ç±»LSAã€‚&lt;code&gt;åªæœ‰P2På’ŒP2MPä¹‹é—´é€šè¿‡ä¿®æ”¹helloå’Œdeadæ—¶é—´ä¹‹åèƒ½å¤Ÿå»ºç«‹é‚»æ¥å…³ç³»&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;8-å…¶ä»–&#34;&gt;8. å…¶ä»–&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;MTUï¼šåªå½±å“é‚»æ¥å»ºç«‹ï¼Œä¸å½±å“é‚»å±…å»ºç«‹&lt;/li&gt;
&lt;li&gt;åœ¨å¹¿æ’­æˆ–NBMAç½‘ç»œä¸­DRä¼˜å…ˆçº§ä¸èƒ½ä¸ºé›¶ï¼Œå¦åˆ™DRé€‰ä¸¾ä¸æˆåŠŸ&lt;/li&gt;
&lt;li&gt;é™é»˜ç«¯å£ï¼šsilenceæ¥å£ï¼Œä¸æ”¶ä¹Ÿä¸å‘ospfæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ¥å£åœ°å€æœªå®£å‘Š&lt;/li&gt;
&lt;li&gt;ACL&lt;/li&gt;
&lt;li&gt;é“¾è·¯å±‚æ•…éšœ&lt;/li&gt;
&lt;li&gt;ç‰ˆæœ¬ä¸åŒ¹é…&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfçš„ç¯è·¯åœºæ™¯&#34;&gt;OSPFçš„ç¯è·¯åœºæ™¯&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è™šè¿æ¥å¯¼è‡´çš„ç¯è·¯åœºæ™¯&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±å¼•å…¥å¯¼è‡´çš„ç¯è·¯åœºæ™¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612192876821.png&#34; alt=&#34;å¤–éƒ¨è·¯ç”±å¼•å…¥å¯¼è‡´çš„ç¯è·¯åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;å°†R5çš„lo0å¼•å…¥è¿›ospfåŒºåŸŸï¼ŒæŒ‡å®šcostè®¾ç½®ä¸º100ï¼ˆå¤–éƒ¨è·¯ç”±ï¼Œä½¿ç”¨5ç±»LSAæ³›æ´ªï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨AR3ä¸ŠISISå¼•å…¥OSPFçš„è·¯ç”±ï¼ŒAR3é€šå‘Šç»™AR4ï¼ŒAR4é€šå‘Šç»™AR2ï¼Œåœ¨AR2ä¸Šæ¯”è¾ƒè·¯ç”±çš„ä¼˜å…ˆçº§ï¼ˆospfçš„å¤–éƒ¨è·¯ç”±ä¸º150ï¼ŒISISçš„è·¯ç”±ä¸º15ï¼‰åï¼Œé€‰æ‹©ISISçš„è·¯ç”±ï¼Œå‡ºç°äº†æ¬¡ä¼˜è·¯å¾„ï¼Œå³AR2è®¿é—®AR5ä¸Šçš„è·¯ç”±èµ°çš„æ˜¯AR2--AR4--AR3--AR1--AR5&lt;/li&gt;
&lt;li&gt;ä¸ºäº†è§£å†³æ¬¡ä¼˜è·¯å¾„ï¼Œéœ€è¦åœ¨AR2ä¸Š&lt;strong&gt;å°†isisè·¯ç”±å¼•å…¥åˆ°ospfï¼Œæ­¤æ—¶å‡ºç¯äº†&lt;/strong&gt;ã€‚å› ä¸ºospfå¼•å…¥å¤–éƒ¨è·¯ç”±é»˜è®¤costä¸º1ï¼Œé‚£ä¹ˆAR1ä¸Šæƒ³è¦è®¿é—®AR5çš„lo0ï¼Œï¼ˆç±»å‹éƒ½æ˜¯é»˜è®¤çš„OE2ï¼‰ä¼˜å…ˆé€‰æ‹©costå°çš„AR2ï¼Œæ¥ä¸‹æ¥çš„è·¯ç”±æ˜¯AR2--AR4--AR3--AR1ï¼Œå³å½¢æˆç¯è·¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfçš„é˜²ç¯æœºåˆ¶&#34;&gt;OSPFçš„é˜²ç¯æœºåˆ¶&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;SPFç®—æ³•åªèƒ½ä¿è¯åŒä¸€ä¸ªåŒºåŸŸå†…æ— ç¯&lt;code&gt;å³1ç±»å’Œ2ç±»LSAçš„é˜²ç¯&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¤šåŒºåŸŸåœºæ™¯ä¸‹ï¼Œééª¨å¹²åŒºåŸŸå¿…é¡»å’Œéª¨å¹²åŒºåŸŸäº’è”&lt;/li&gt;
&lt;li&gt;3ç±»LSAçš„é˜²ç¯ï¼š
&lt;ol&gt;
&lt;li&gt;æºäºè™šé“¾è·¯çš„3ç±»LSAä¸ä¼šå†é€šå‘Šå›è™šé“¾è·¯çš„æ‰€ç»è¿‡çš„åŒºåŸŸ&lt;code&gt;è™šé“¾è·¯å±äºåŒºåŸŸ0ä¸”è‡³å°‘ä¸€ç«¯è¿æ¥ééª¨å¹²åŒºåŸŸï¼Œç›¸å½“äºè‡³å°‘å­˜åœ¨ä¸€ä¸ªABR&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ABRç”Ÿæˆçš„3ç±»LSAä¸ä¼šåœ¨é€šå‘Šå›å§‹å‘åŒºåŸŸ&lt;code&gt;æ°´å¹³åˆ†å‰²åŸåˆ™&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;çœŸABR&lt;sub&gt;ABRåœ¨éª¨å¹²åŒºåŸŸä¸­å­˜åœ¨æ´»åŠ¨çš„é‚»æ¥å…³ç³»&lt;/sub&gt;ä»ééª¨å¹²åŒºåŸŸæ”¶åˆ°3ç±»LSAï¼Œåªæ¥æ”¶ä¸é€‰è·¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;4ç±»LSAçš„é˜²ç¯ï¼š&lt;br&gt;
ABRç”Ÿæˆçš„4ç±»LSAä¸ä¼šé€šå‘Šå›5ç±»LSAçš„æ¥æºåŒºåŸŸ&lt;code&gt;å³4ç±»LSAçš„ä½œç”¨æ˜¯é€šå‘ŠASBRçš„ä½ç½®ï¼Œç»™ASBRæ‰€åœ¨çš„åŒºåŸŸé€šå‘Š4ç±»LSAå®Œå…¨æ— æ„ä¹‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;5ç±»LSAçš„é˜²ç¯ï¼š
&lt;ol&gt;
&lt;li&gt;5ç±»LSAåœ¨ospfåŸŸå†…æ³›æ´ªæ—¶ï¼Œæ²¡æœ‰åŒºåŸŸè¾¹ç•Œçš„é™åˆ¶ï¼Œæ‰€ä»¥3ç±»çš„é˜²ç¯è§„åˆ™å¯¹5ç±»LSAä¸é€‚ç”¨ï¼Œä½†5ç±»LSAèƒ½å¦è¿›å…¥è·¯ç”±è¡¨å¹¶å¯¼è‡´ç¯è·¯ï¼Œä¾èµ–äº3ç±»å’Œ4ç±»LSA&lt;/li&gt;
&lt;li&gt;5ç±»LSAæœ‰FAåœ°å€ï¼ŒFAåœ°å€æœ‰æ•ˆæ—¶ï¼Œé€‰è·¯ä½¿ç”¨çš„æ˜¯3ç±»LSAçš„è·¯ç”±ä¿¡æ¯ï¼ŒFAåœ°å€æ— æ•ˆæ—¶åˆ™æ˜¯ä¾æ®4ç±»LSAé€‰è·¯ï¼Œå› æ­¤åªè¦3ç±»å’Œ4ç±»LSAä¸å‡ºç°ç¯è·¯ï¼Œé‚£ä¹ˆ5ç±»LSAå°±ä¸ä¼šå‡ºç°ç¯è·¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;MPLS VPNåœºæ™¯ï¼š
&lt;ol&gt;
&lt;li&gt;é€šè¿‡DNä½é˜²æ­¢3ç±»LSAç¯è·¯ã€‚ä¸æ¥æ”¶DNä½ç½®ä½çš„LSA&lt;/li&gt;
&lt;li&gt;é€šè¿‡TAGé˜²æ­¢5ç±»LSAçš„ç¯è·¯ã€‚åœ¨TAGä¸­åŒ…å«BGPçš„ASå·ï¼Œå¦‚æœåœ¨TAGä¸­åŒ…å«æœ¬åœ°çš„ASå·ï¼Œ5ç±»LSAä¸æ¥æ”¶&lt;br&gt;
&lt;code&gt;OSPFæ¥å…¥MPLS VPNä¹‹åçš„é˜²ç¯æœºåˆ¶ï¼šå†…éƒ¨è·¯ç”±up/downæ¯”ç‰¹è®¾ç½®ã€å¤–éƒ¨è·¯ç”±åˆ©ç”¨TAGé˜²ç¯(CEåŒå½’å±ç­‰)&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;dnæ¯”ç‰¹ä½é˜²ç¯é—®é¢˜&#34;&gt;DNæ¯”ç‰¹ä½é˜²ç¯é—®é¢˜&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612222691678.webp&#34; alt=&#34;DNæ¯”ç‰¹ä½é˜²ç¯é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨CEåŒå½’å±åœºæ™¯ä¸­ï¼ŒPE1ã€PE2ã€PE3éƒ½å·²å»ºç«‹iBGPè¿æ¥ï¼ŒPEå’ŒCEä¹‹é—´ä½¿ç”¨OSPFè·¯ç”±åè®®ï¼›&lt;br&gt;
å‡è®¾PE1å…ˆæ¥æ”¶åˆ°æ¥è‡ªPE3çš„VPNv4è·¯ç”±ï¼ŒPE1ä¼šå°†BGPè·¯ç”±å¼•å…¥åˆ°å·¦ä¾§ç«™ç‚¹çš„OSPFåŒºåŸŸï¼ŒPE2ä»OSPFä¸­å­¦ä¹ åˆ°è¯¥è·¯ç”±ï¼Œä¸‹ä¸€è·³æŒ‡å‘CE1ï¼›&lt;br&gt;
PEä¸Šåšäº†åŒå‘å¼•å…¥ï¼Œæ‰€ä»¥PE2ä¼šå°†è¯¥OSPFè·¯ç”±å¼•å…¥åˆ°BGPå½¢æˆVPNv4è·¯ç”±ï¼ŒåŒæ—¶å°†è¯¥è·¯ç”±é€šå‘Šç»™PE1ï¼›&lt;br&gt;
è¿™æ—¶PE1ä»PE2å’ŒPE3æ¥æ”¶åˆ°äº†åŒä¸€æ¡VPNè·¯ç”±ï¼Œåœ¨é“¾è·¯å¼€é”€ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå‡è®¾PE2çš„RouterIDå°äºPE3çš„Router-IDï¼Œé‚£ä¹ˆPE1ä¼šä¼˜é€‰PE2ä¸ºä¸‹ä¸€è·³ï¼Œç¯è·¯å°±äº§ç”Ÿäº†ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡DNæ¯”ç‰¹ä½é˜²ç¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612222874199.png&#34; alt=&#34;é€šè¿‡DNæ¯”ç‰¹ä½é˜²ç¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
3/5/7ç±»LSAçš„Optionå­—æ®µä¸­DNæ¯”ç‰¹ä½ï¼Œç”¨äº&lt;strong&gt;è¡¨æ˜è·¯ç”±æ˜¯ç”±PEå‘CEæ–¹å‘ä¼ é€’çš„&lt;/strong&gt;ï¼›&lt;br&gt;
PEå‘å¸ƒç»™CEçš„è·¯ç”±ï¼ˆ3/5/7ç±»LSAï¼‰ä¸­DNæ¯”ç‰¹ä½ä¼šè¢«ç½®1ï¼ŒåŒä¸€ç”¨æˆ·ç«™ç‚¹çš„å…¶ä»–PEæ”¶åˆ°å¸¦æœ‰DNæ¯”ç‰¹ä½ç½®ä½çš„3/5/7ç±»LSAæ—¶ï¼Œä¸ä¼šè¿›è¡ŒSPFè®¡ç®—ï¼Œæ›´ä¸ä¼šå°†å…¶å¼•å…¥åˆ°BGPä¸­ï¼›&lt;br&gt;
&lt;code&gt;RFCå®šä¹‰çš„DNæ¯”ç‰¹ä½åªä¼šå‡ºç°åœ¨3ç±»LSAï¼Œä½†æ˜¯åä¸ºåœ¨5/7ç±»LSAä¸­ä¹Ÿè®¾ç½®äº†DNæ¯”ç‰¹ä½&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;DNä½æ— æ³•é¿å…æŸäº›ç‰¹å®šåœºæ™¯ä¸‹çš„ç¯è·¯é—®é¢˜&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612223522508.png&#34; alt=&#34;CEåŒå½’å±&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
CEåŒå½’å±ï¼ŒCE1è¿æ¥PE1çš„é“¾è·¯åœ¨Area0ä¸­ï¼ŒCE1è¿æ¥PE2çš„é“¾è·¯åœ¨Area1ä¸­ï¼›&lt;br&gt;
å½“PE1ä»¥3ç±»LSAçš„å½¢å¼å‘CE1å‘é€OSPFè·¯ç”±æ—¶DNæ¯”ç‰¹ä½ç½®1ï¼Œç”±äºCEæ˜¯ABRï¼Œå½“è¿™æ¡3ç±»LSAç»è¿‡CEå†ä¼ é€’åˆ°Area1æ—¶ï¼ŒDNæ¯”ç‰¹ä½ç½®0ï¼ŒPE2æ¥æ”¶åä»ç„¶ä¼šè®¡ç®—è¯¥è·¯ç”±ï¼Œé€ æˆç¯è·¯ï¼›&lt;br&gt;
&lt;strong&gt;ã€é˜²ç¯ç­–ç•¥ã€‘&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨åä¸ºè®¾å¤‡ä¸­ï¼Œ5/7ç±»LSAé™¤äº†å¯ä»¥åƒ3ç±»LSAä¸€æ ·é€šè¿‡DNæ¯”ç‰¹ä½æ¥é˜²ç¯å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡Route-tagæ¥é˜²ç¯ï¼›&lt;br&gt;
è®¾ç½®äº†Route-tagçš„PEè·¯ç”±å™¨å°†OSPFå¤–éƒ¨è·¯ç”±å‘å¸ƒç»™CEä¹‹å‰ä¼šä½¿è·¯ç”±å¸¦ä¸ŠRoute-tagï¼›å¦‚æœåŒä¸€ç«™ç‚¹çš„å…¶ä»–PEè·¯ç”±å™¨æ”¶åˆ°è¯¥OSPFå¤–éƒ¨è·¯ç”±æ—¶å‘ç°è·¯ç”±æºå¸¦çš„Route-tagè·Ÿæœ¬ç«¯é…ç½®çš„ä¸€æ ·ï¼Œå°±ä¼šå¿½ç•¥è¯¥è·¯ç”±ï¼›å¯ä»¥é€šè¿‡Route-tagå‘½ä»¤æ¥è®¾ç½®è·¯ç”±åŸŸæ ‡è®°ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612223663061.png&#34; alt=&#34;Route-tagè®¾ç½®è·¯ç”±åŸŸæ ‡è®°&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfæ— æ•ˆè·¯ç”±åœºæ™¯&#34;&gt;OSPFæ— æ•ˆè·¯ç”±åœºæ™¯&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œç±»å‹ä¸ä¸€è‡´å¯¼è‡´çš„æ— æ•ˆè·¯ç”±ã€‚ä¸€ç«¯æ˜¯ç‚¹åˆ°ç‚¹ç½‘ç»œç±»å‹ï¼Œå¦ä¸€ç«¯æ˜¯å¹¿æ’­ç½‘ç±»å‹&lt;/li&gt;
&lt;li&gt;å¸§ä¸­ç»§çš„hub-and-spokeåœºæ™¯ï¼Œå¦‚æœhubç«¯ä¸æ˜¯DRä¼šé€ æˆæœ‰LSAä½†æ˜¯æ²¡æœ‰è·¯ç”±&lt;/li&gt;
&lt;li&gt;çœŸABRééª¨å¹²åŒºåŸŸä¸­æ”¶åˆ°çš„3ç±»LSAåªæ¥æ”¶ä¸é€‰è·¯ï¼Œå³æ²¡æœ‰è·¯ç”±&lt;/li&gt;
&lt;li&gt;ABRé€šè¿‡è™šé“¾è·¯æ¥æ”¶åˆ°çš„3ç±»LSAåœ¨è™šé“¾è·¯çš„æ‰€ç»è¿‡çš„åŒºåŸŸä¸­ä¸å­˜åœ¨ï¼Œ3ç±»LSAåªæ¥æ”¶ä¸é€‰è·¯ï¼Œå³æ²¡æœ‰è·¯ç”±&lt;code&gt;å‚è€ƒè™šé“¾è·¯ç‰¹ç‚¹7&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;5ç±»LSAä¸­FAåœ°å€æ‰€åœ¨ç½‘æ®µåŸŸå†…æˆ–è€…åŸŸé—´ä¸å¯è¾¾ï¼Œä¼šé€ æˆæœ‰5ç±»LSAä½†æ²¡æœ‰è·¯ç”±&lt;/li&gt;
&lt;li&gt;é€šè¿‡filter-policy importåšè·¯ç”±è¿‡æ»¤ï¼Œæœ‰LSAä½†æ˜¯æ²¡æœ‰è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfå¿«é€Ÿæ”¶æ•›æœºåˆ¶&#34;&gt;OSPFå¿«é€Ÿæ”¶æ•›æœºåˆ¶&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;OSPFæŒ‰ä¼˜å…ˆçº§æ”¶æ•›&lt;br&gt;
åœ¨å¤§é‡è·¯ç”±æƒ…å†µä¸‹ï¼Œé€šè¿‡å¯¹ä¸åŒçš„è·¯ç”±é…ç½®ä¸åŒçš„æ”¶æ•›ä¼˜å…ˆçº§ï¼Œä½¿é‡è¦çš„è·¯ç”±å…ˆæ”¶æ•›ã€‚&lt;/li&gt;
&lt;li&gt;I-SPF&lt;br&gt;
å¢å¼ºå‹çš„SPFç®—æ³•ï¼Œå½“ç½‘ç»œæ‹“æ‰‘æ”¹å˜æ—¶ï¼Œåªå¯¹å—å½±å“çš„èŠ‚ç‚¹è¿›è¡Œè·¯ç”±è®¡ç®—&lt;/li&gt;
&lt;li&gt;PRC&lt;br&gt;
éƒ¨åˆ†è·¯ç”±è®¡ç®—ï¼ˆåªé’ˆå¯¹3ã€5ã€7ç±»LSAæœ‰æ•ˆæœï¼‰ï¼Œå½“ç½‘ç»œä¸Šè·¯ç”±å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåªå¯¹å‘ç”Ÿå˜åŒ–çš„è·¯ç”±è¿›è¡Œé‡æ–°è®¡ç®—&lt;code&gt;ospfä¸­é€šå‘Šè·¯ç”±çš„LSAåŒ…å«1ã€3ã€5ã€7ç±»ã€‚åœ¨éƒ¨ç½²æ—¶ï¼Œç¯å›å£çš„åœ°å€ä¸€èˆ¬ä¸ä½¿ç”¨networkçš„æ–¹å¼ï¼Œè€Œä½¿ç”¨import-routeçš„æ–¹å¼ï¼Œå³ä¿è¯æ¥å£downä¹‹åä¸å»è§¦å‘SPFï¼Œè€Œæ˜¯è§¦å‘PRCï¼Œä»è€ŒåŠ é€Ÿæ”¶æ•›&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å®šæ—¶å™¨&lt;br&gt;
&lt;code&gt;ä½¿ç”¨æŒ‡æ•°é€€é¿ç®—æ³•ï¼ŒåŒ…å«3ä¸ªè®¡æ—¶å™¨ï¼šåˆå§‹å»¶è¿Ÿã€å¢é‡å»¶è¿Ÿã€æœ€å¤§å»¶è¿Ÿ&lt;/code&gt;&lt;br&gt;
é€šè¿‡æ™ºèƒ½å®šæ—¶å™¨æ¥æ§åˆ¶è·¯ç”±è®¡ç®—çš„å»¶è¿Ÿæ—¶é—´ï¼ˆOSPFè§„å®šçš„å»¶è¿Ÿæ—¶é—´æ—¶å›ºå®šçš„ï¼‰ï¼Œæ—¢èƒ½å¯¹ä½é¢‘ç‡å˜åŒ–å¿«é€Ÿå“åº”ï¼Œåˆèƒ½å¯¹é«˜é¢‘ç‡å˜åŒ–è¿›è¡Œæœ‰æ•ˆæŠ‘åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;Smart-discover&lt;br&gt;
è·¯ç”±å™¨ä¼šå‘¨æœŸæ€§åœ°ï¼ˆ5ç§’ï¼‰å‘é€HelloæŠ¥æ–‡ï¼Œè¿™ç§æŒ‰å›ºå®šå‘¨æœŸå‘é€æŠ¥æ–‡çš„æ–¹å¼å‡ç¼“äº†OSPFé‚»å±…å…³ç³»çš„å»ºç«‹ã€‚&lt;br&gt;
åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ï¼Œä½¿èƒ½äº†Smart-discoverç‰¹æ€§çš„æ¥å£ä¸éœ€è¦ç­‰å¾…Hello Timeråˆ°æ—¶ï¼Œå¯ä»¥ä¸»åŠ¨å‘é‚»å±…å‘é€HelloæŠ¥æ–‡ï¼š
&lt;ol&gt;
&lt;li&gt;å½“é‚»å±…çŠ¶æ€é¦–æ¬¡åˆ°è¾¾2-wayçŠ¶æ€&lt;/li&gt;
&lt;li&gt;å½“é‚»å±…çŠ¶æ€ä»2-wayæˆ–æ›´é«˜çŠ¶æ€è¿ç§»åˆ°InitçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;drå’Œbdrçš„ä½œç”¨&#34;&gt;DRå’ŒBDRçš„ä½œç”¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‡å°‘é‚»æ¥&lt;/strong&gt;å…³ç³»çš„æ•°é‡ï¼Œä»è€Œ&lt;strong&gt;å‡å°‘é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯çš„äº¤æ¢æ¬¡æ•°&lt;/strong&gt;ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œå‡å°‘è·¯ç”±å™¨ç¡¬ä»¶çš„è´Ÿæ‹…ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªæ—¢ä¸æ˜¯DRä¹Ÿä¸æ˜¯BDRçš„è·¯ç”±å™¨&lt;strong&gt;åªä¸DRå’ŒBDRå½¢æˆé‚»æ¥å…³ç³»&lt;/strong&gt;å¹¶äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯ï¼Œè¿™æ ·å°±å¤§å¤§&lt;strong&gt;å‡å°‘äº†å¤§å‹å¹¿æ’­å‹ç½‘ç»œå’ŒNBMAç½‘ç»œä¸­çš„é‚»æ¥å…³ç³»æ•°é‡&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;drå’Œbdrçš„é€‰ä¸¾&#34;&gt;DRå’ŒBDRçš„é€‰ä¸¾&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¸¤ç«¯åŒæ—¶è¿›å…¥2-wayï¼Œå¼€å§‹é€‰ä¸¾&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆæ‰€æœ‰çš„è·¯ç”±å™¨éƒ½ä¼šå˜æˆDR Othersï¼Œæ£€æŸ¥HelloæŠ¥æ–‡ä¸­çš„DRå­—æ®µå’ŒBDRå­—æ®µæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœéƒ½ä¸ºç©ºï¼ˆæ„å‘³ç€æ²¡æœ‰DRå’ŒBDRï¼‰ï¼Œä¼š&lt;strong&gt;é¦–å…ˆé€‰ä¸¾å‡ºBDR&lt;/strong&gt;ï¼Œ&lt;strong&gt;é€‰ä¸¾è§„åˆ™&lt;/strong&gt;ï¼šæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œè¶Šå¤§è¶Šä¼˜ï¼ˆé»˜è®¤ä¸º1ï¼Œå–ç½®èŒƒå›´ä¸º0-255ï¼Œ&lt;code&gt;0è¡¨ç¤ºä¸å‚ä¸é€‰ä¸¾ï¼Œåœç•™åœ¨2-wayçŠ¶æ€&lt;/code&gt;ï¼‰ï¼›å¦‚æœç›¸åŒï¼Œæ¯”è¾ƒRouter IDï¼Œè¶Šå¤§è¶Šä¼˜ï¼›&lt;strong&gt;BDRé€‰ä¸¾å‡ºåï¼Œä¼šè‡ªåŠ¨å‡çº§ä¸ºDRï¼Œç„¶åé‡æ–°é€‰ä¸¾BDRï¼Œè§„åˆ™å’Œä¹‹å‰ä¸€æ ·&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœDRå­—æ®µä¸ºç©ºï¼ŒBDRä¸ä¸ºç©ºï¼Œåˆ™BDRå‡çº§ä¸ºDRï¼Œé‡æ–°å†é€‰ä¸¾å‡ºBDRï¼›å¦‚æœBDRä¸ºç©ºï¼ŒDRä¸ä¸ºç©ºï¼Œé‡æ–°é€‰ä¸¾å‡ºBDR&lt;br&gt;
&lt;code&gt;DRé€‰ä¸¾æˆåŠŸåä¼šç”Ÿæˆä¸€ä¸ª2ç±»LSAåœ¨æœ¬åŒºåŸŸå†…æ³›æ´ªï¼ŒBDRä¸ä¼šäº§ç”Ÿï¼›å¦‚æœDRå¤±æ•ˆï¼ŒBDRåˆ‡æ¢æˆBDRæ—¶ä¹Ÿä¼šç”Ÿæˆ&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœåŒä¸€ä¸ªç½‘æ®µä¸­åªæœ‰å”¯ä¸€çš„ä¸€å°è®¾å¤‡é€šå‘Šè‡ªå·±ä¸ºDRæˆ–è€…BDRï¼Œåˆ™é€šå‘Šè€…ä¸ºDRæˆ–è€…BDRï¼ŒDRæˆ–è€…BDRè§’è‰²ä¸æŠ¢å &lt;/code&gt;&lt;br&gt;
&lt;code&gt;DRæ˜¯å¿…é¡»çš„è€ŒBDRå¯ä»¥æ²¡æœ‰ï¼›åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­åªèƒ½å­˜åœ¨ä¸€ä¸ªDRå’Œä¸€ä¸ªBDRï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­å­˜åœ¨å¤šä¸ªDRå’ŒBDRéœ€è¦è¿›è¡ŒæŠ¢å ï¼Œé‡æ–°é€‰ä¸¾&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfç‰¹ç‚¹&#34;&gt;OSPFç‰¹ç‚¹&lt;/h2&gt;
&lt;p&gt;OSPFï¼ŒOpen Shortest Path Firstï¼Œå¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶æ•›é€Ÿåº¦å¿«ï¼ˆæ¯”è¾ƒè€—èµ„æºï¼‰&lt;/li&gt;
&lt;li&gt;æ— ç±»è·¯ç”±åè®®ï¼Œæ”¯æŒCIDRï¼ˆæ— ç±»åŸŸé—´è·¯ç”±ï¼‰å’ŒVLSMï¼ˆå¯å˜é•¿å­ç½‘æ©ç ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFæ”¯æŒè´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;æ”¯æŒåŒºåŸŸåˆ’åˆ†&lt;/li&gt;
&lt;li&gt;æ”¯æŒåè®®æŠ¥æ–‡çš„è®¤è¯ï¼ˆæ˜æ–‡å’Œå¯†æ–‡ï¼‰&lt;/li&gt;
&lt;li&gt;æ”¯æŒè§¦å‘æ›´æ–°ï¼ˆä¸ä»…é˜²ç¯ï¼Œè¿˜èƒ½æ›´å¿«çš„æ”¶æ•›ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFçš„è·¯ç”±ä¼˜å…ˆçº§åˆ†å†…å¤–ï¼Œå†…éƒ¨è·¯ç”±ä¼˜å…ˆçº§ä¸º10ï¼Œå¤–éƒ¨è·¯ç”±ä¼˜å…ˆçº§ä¸º150&lt;/li&gt;
&lt;li&gt;OSPFçš„åº¦é‡å€¼é‡‡ç”¨å¼€é”€costä½œä¸ºæ ‡å‡†&lt;/li&gt;
&lt;li&gt;OSPFæ˜¯æ²¡æœ‰ç¯è·¯çš„åè®®ï¼Œä½†ä»…é™äºä¸€ä¸ªåŒºåŸŸå†…ï¼Œåœ¨ä¸€ä¸ªåŒºåŸŸå†…æ˜¯ç»å¯¹æ— ç¯çš„ï¼ŒåŸºäºç®—æ³•çš„å¤©ç„¶æ— ç¯ã€‚OSPFåœ¨åŒºåŸŸå†…æ˜¯é“¾è·¯çŠ¶æ€åè®®ï¼Œåœ¨åŒºåŸŸé—´æ˜¯è·ç¦»çŸ¢é‡åè®®ã€‚&lt;/li&gt;
&lt;li&gt;OSPFè¦ç»´æŠ¤3å¼ è¡¨ï¼šé‚»å±…è¡¨ã€æ‹“æ‰‘è¡¨ã€è·¯ç”±è¡¨ã€é…ç½®å¥½OSPFä¹‹åï¼Œè®¾å¤‡ä¹‹é—´å…ˆæ³›æ´ªLSAæ„å»º&lt;strong&gt;é‚»å±…è¡¨&lt;/strong&gt;ï¼Œç›¸äº’äº¤æ¢ä¿¡æ¯ä¹‹åæ„å»ºæ•°æ®åº“LSDBï¼Œè¿è¡ŒSPFç®—æ³•å½¢æˆ&lt;strong&gt;è·¯ç”±è¡¨&lt;/strong&gt;ã€‘&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨IPç»„æ’­æ”¶å‘åè®®æ•°æ®ï¼ˆç»„æ’­åœ°å€ï¼š224.0.0.5&lt;sub&gt;AllSPFRoutersï¼Œå³æ‰€æœ‰å¼€å¯ospfçš„è®¾å¤‡éƒ½ä¼šç›‘å¬æ­¤åœ°å€&lt;/sub&gt;å’Œ224.0.0.6&lt;sub&gt;AllDRoutersï¼Œæ‰€æœ‰çš„æŒ‡å®šè·¯ç”±å™¨ï¼Œå³DRå’ŒBDRä¼šç›‘å¬&lt;/sub&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFä¸ºäº†ç¡®ä¿é“¾è·¯çŠ¶æ€æ•°æ®åº“çš„åŒæ­¥ï¼Œæ¯1800ç§’ï¼ˆ30åˆ†é’Ÿï¼‰æ›´æ–°ä¸€æ¬¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è·¯ç”±è®¡ç®—è¿‡ç¨‹&#34;&gt;è·¯ç”±è®¡ç®—è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å»ºç«‹é‚»å±…å…³ç³»åæ³›æ´ªLSA&lt;/li&gt;
&lt;li&gt;SPFç®—æ³•è®¡ç®—æœ€çŸ­è·¯å¾„æ ‘&lt;/li&gt;
&lt;li&gt;è®¡ç®—è·¯ç”±å½¢æˆè·¯ç”±è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfè®¾å¤‡è§’è‰²å’Œå®£å‘Š&#34;&gt;OSPFè®¾å¤‡è§’è‰²å’Œå®£å‘Š&lt;/h2&gt;
&lt;h3 id=&#34;è·¯ç”±å™¨åˆ†ç±»&#34;&gt;è·¯ç”±å™¨åˆ†ç±»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611550864893.png&#34; alt=&#34;è·¯ç”±å™¨åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å†…éƒ¨è·¯ç”±å™¨ï¼ˆIRï¼‰&lt;/strong&gt;ï¼šå†…éƒ¨è·¯ç”±å™¨æ˜¯æŒ‡æ‰€æœ‰æ‰€è¿æ¥çš„ç½‘æ®µéƒ½åœ¨ä¸€ä¸ªåŒºåŸŸçš„è·¯ç”±å™¨ï¼Œå±äºåŒä¸€ä¸ªåŒºåŸŸçš„IRç»´æŠ¤ç›¸åŒçš„LSDB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ˆABRï¼‰&lt;/strong&gt;ï¼šåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨æ˜¯æŒ‡è¿æ¥åˆ°å¤šä¸ªåŒºåŸŸçš„è·¯ç”±å™¨ï¼ŒABRä¸ºæ¯ä¸€ä¸ªæ‰€è¿æ¥çš„åŒºåŸŸç»´æŠ¤ä¸€ä¸ªLSDBï¼Œè¿æ¥&lt;strong&gt;éª¨å¹²åŒºåŸŸå’Œééª¨å¹²åŒºåŸŸ&lt;/strong&gt;çš„è®¾å¤‡&lt;br&gt;
&lt;code&gt;åŒºåˆ†çœŸå‡ABRçš„åœºæ™¯ï¼šçœŸABRä»ééª¨å¹²åŒºåŸŸæ”¶åˆ°çš„3ç±»LSAåªæ¥æ”¶ï¼ˆæ›´æ–°LSDBï¼‰ã€ä¸é€‰è·¯ï¼ˆå³ä¸åŠ å…¥è·¯ç”±è¡¨ï¼‰ã€å› ä¸ºçœŸABRæ˜¯å‘é€3ç±»LSAçš„ï¼Œå¦‚æœæ¥æ”¶åå†é€‰è·¯å¯èƒ½ä¼šå‡ºç°ç¯è·¯ã€‘ï¼›å‡ABRå³æ¥æ”¶åˆé€‰è·¯&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å‡ABRï¼šè¿æ¥å¤šä¸ªåŒºåŸŸï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå£å®£å‘Šè¿›äº†éª¨å¹²åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;çœŸABRï¼šæ»¡è¶³å‡ABRçš„æ¡ä»¶åï¼Œè¿˜éœ€è¦åœ¨éª¨å¹²åŒºåŸŸä¸­æœ‰ä¸€ä¸ªæ´»åŠ¨çš„é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éª¨å¹²è·¯ç”±å™¨ï¼ˆBR)&lt;/strong&gt;ï¼šéª¨å¹²è·¯ç”±å™¨æ˜¯æŒ‡è‡³å°‘æœ‰ä¸€ä¸ªç«¯å£ï¼ˆæˆ–è€…è™šè¿æ¥ï¼‰è¿æ¥åˆ°éª¨å¹²åŒºåŸŸçš„è·¯ç”±å™¨ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„ABRå’Œæ‰€æœ‰ç«¯å£éƒ½åœ¨éª¨å¹²åŒºåŸŸçš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ASè¾¹ç•Œè·¯ç”±å™¨ASBR&lt;/strong&gt;ï¼šå’Œå…¶ä»–ASä¸­çš„è·¯ç”±å™¨äº¤æ¢è·¯ç”±ä¿¡æ¯çš„è·¯ç”±å™¨ï¼Œè¿™ç§è·¯ç”±å™¨å‘æ•´ä¸ªASé€šå‘ŠASå¤–éƒ¨è·¯ç”±ä¿¡æ¯ã€‚&lt;br&gt;
&lt;code&gt;ABSRä¸€èˆ¬æ˜¯ä½äºéOSPFåŒºåŸŸå’ŒOSPFåŒºåŸŸé—´äº’è”çš„è·¯ç”±å™¨ï¼Œè€ŒABRæ˜¯OSPFå¤šä¸ªåŒºåŸŸè¿æ¥åŒºåŸŸ0é—´çš„è·¯ç”±å™¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ¥å£å®£å‘Šæ–¹å¼&#34;&gt;æ¥å£å®£å‘Šæ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹ä¸‹é€šè¿‡networkæ–¹å¼å®£å‘Š&lt;br&gt;
è¿›ç¨‹ä¸‹networkå®£å‘Šæ—¶å°†æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ¥å£å…¨éƒ¨å®£å‘Šè¿›ospfï¼Œå®£å‘Šæ ¼å¼ä¸º&lt;code&gt;network å‰ç¼€ é€šé…ç¬¦&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;code&gt;network 192.168.1.0 0.0.0.255&lt;/code&gt;å®£å‘Šçš„æ˜¯192.168.1.0/24è¿™ä¸ªç½‘æ®µå†…æ‰€æœ‰æœ‰æ•ˆåœ°å€ã€ACLçš„åæ©ç ä¸­çš„1å¯ä»¥ä¸è¿ç»­ï¼Œä½†æ˜¯ospfä¸­å¿…é¡»è¿ç»­ã€‘&lt;/li&gt;
&lt;li&gt;æ¥å£ä¸‹å®£å‘Š&lt;br&gt;
ä¸¥æ ¼å®£å‘Šï¼Œåªèƒ½å°†è¯¥æ¥å£å®£å‘Šè¿›ospfã€‚å¦‚æœå­˜åœ¨å¤§é‡æ¥å£çš„æƒ…å†µä¸‹ä¼šå¢åŠ å·¥ä½œé‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ã€æ¥å£æ–¹å¼çš„é€‰æ‹©ã€‘ï¼šå¦‚æœåœ°å€ä¸è¿ç»­çš„æƒ…å†µä¸‹è¿›è¡Œä¸¥æ ¼å®£å‘Šï¼ˆåœ¨æ¥å£ä¸‹å®£å‘Šï¼‰ï¼Œå¦‚æœIPåœ°å€è¿ç»­ä½¿ç”¨è¿›ç¨‹å®£å‘Šæ–¹å¼&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ã€å®£å‘Šçš„ä½œç”¨ã€‘ï¼š1. å®£å‘Šçš„æ¥å£å¯ä»¥å‘é€å’Œæ¥æ”¶ospfæŠ¥æ–‡ï¼›2. é€šå‘Šæ¥å£è·¯ç”±&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;router-idå¦‚ä½•äº§ç”Ÿ&#34;&gt;Router IDå¦‚ä½•äº§ç”Ÿï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹å·¥æŒ‡å®š&lt;br&gt;
å¯åœ¨ospfè¿›ç¨‹ä¸‹æˆ–è€…å…¨å±€ä¸‹é…ç½®ï¼Œè¿›ç¨‹ç”±äºå…¨å±€&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨é€‰ä¸¾&lt;br&gt;
æ¯”è¾ƒé€»è¾‘æ¥å£ï¼Œé€‰æ‹©åœ°å€æœ€å¤§çš„ä¸€ä¸ªï¼›å¦‚æœæ²¡æœ‰é€»è¾‘æ¥å£ï¼Œæ¯”è¾ƒ&lt;strong&gt;æ´»åŠ¨&lt;/strong&gt;çš„ç‰©ç†æ¥å£IPï¼Œé€‰æ‹©åœ°å€æœ€å¤§çš„ã€‚&lt;br&gt;
å¦‚æœä¿®æ”¹RouterIDï¼Œä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯OSPFè¿›ç¨‹ï¼›å¤šospfè¿›ç¨‹å¯ä»¥å…±ç”¨ä¸€ä¸ªRouter IDï¼Œä½†æ˜¯è¿™æ ·ä¼šå­˜åœ¨é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611703407612.png&#34; alt=&#34;è‡ªåŠ¨é€‰ä¸¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
RAè¿è¡Œospfè¿›ç¨‹1å’Œ2ï¼Œä½†æ˜¯Router IDå…¨éƒ¨ä¸º1.1.1.1ï¼ŒRBè¿è¡Œospfè¿›ç¨‹1ï¼ŒRouter IDä¸º2.2.2.2ï¼Œä¼šå¯¼è‡´è·¯ç”±éœ‡è¡ï¼ŒåŸå› å‚è€ƒã€Šå½±å“OSPFé‚»æ¥å…³ç³»å»ºç«‹çš„å› ç´ ã€‹ä¸­çš„Router ID&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ¥å£çŠ¶æ€æœº&#34;&gt;æ¥å£çŠ¶æ€æœº&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611845727075.png&#34; alt=&#34;æ¥å£çŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Waitingå’Œ2-wayæœ‰ä»€ä¹ˆå…³è”ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;waitingçŠ¶æ€æ˜¯æ¥å£çŠ¶æ€æœºï¼Œæ˜¯å¼€å§‹ç­‰å¾…é€‰ä¸¾DRï¼Œè®¾å¤‡æ­£åœ¨åˆ¤å®šç½‘ç»œä¸Šçš„DRå’ŒBDR&lt;/li&gt;
&lt;li&gt;2-wayçŠ¶æ€å¼€å§‹é€‰ä¸¾DRå’ŒBDR&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è™šè¿æ¥è™šé“¾è·¯&#34;&gt;è™šè¿æ¥ï¼ˆè™šé“¾è·¯ï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è™šé“¾è·¯æ°¸è¿œå±äºåŒºåŸŸ0&lt;code&gt;è™šé“¾è·¯ç«¯ç‚¹éƒ½å°†æˆä¸ºABRå¹¶åœ¨åŒºåŸŸé—´ä¼ é€’è·¯ç”±ï¼Œå¯ä»¥æ‰§è¡Œèšåˆ/åŒºåŸŸé—´è·¯ç”±è¿‡æ»¤&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯çš„å§‹å‘åŒºåŸŸæ°¸è¿œæ˜¯åŒºåŸŸ0ï¼Œå¦åˆ™æ²¡æœ‰æ„ä¹‰&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯é€šè¿‡å•æ’­çš„æ–¹å¼å‘é€æŠ¥æ–‡ï¼Œå³TTL=255&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯å¿…é¡»é…ç½®åœ¨ä¸¤å°ABRè·¯ç”±å™¨ä¹‹é—´&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯åªèƒ½é…ç½®åœ¨æ™®é€šåŒºåŸŸä¸­ï¼Œä¸èƒ½é…ç½®åœ¨ç‰¹æ®ŠåŒºåŸŸä¸­&lt;code&gt;å³ä¼ é€åŒºåŸŸä¸èƒ½æ˜¯ä¸€ä¸ªæœ«æ¢¢åŒºåŸŸ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯çš„ç¨³å®šæ€§å–å†³äºå…¶ç»è¿‡çš„åŒºåŸŸçš„ç¨³å®šæ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šé“¾è·¯çš„æœ¬è´¨&lt;/strong&gt;ï¼šè™šé“¾è·¯å°±æ˜¯é€šè¿‡ééª¨å¹²åŒºåŸŸæ‰“ä¸€æ¡é€šé“ç›´æ¥è¿æ¥éª¨å¹²åŒºåŸŸï¼Œå³é€šè¿‡ä¸€ä¸ªééª¨å¹²åŒºåŸŸè¿æ¥ä¸€ä¸ªåŒºåŸŸï¼ˆæˆ–è€…åˆ†æ®µï¼‰åˆ°éª¨å¹²åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯åªèƒ½åœ¨åŒä¸€åŒºåŸŸå†…å»ºç«‹ï¼Œä¸èƒ½è·¨åŒºåŸŸå»ºç«‹&lt;code&gt;è™šé“¾è·¯åªèƒ½ç©¿è¶Šä¸€ä¸ªåŒºåŸŸï¼Œéš§é“å¯ä»¥ç©¿è¶Šå¤šä¸ªåŒºåŸŸï¼Œè™šé“¾è·¯éœ€è¦æœ‰åˆ°è¾¾å¯¹æ–¹çš„è·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯å±äºæŒ‰éœ€é“¾è·¯ï¼Œéœ€è¦å°†optionå­—æ®µä¸­çš„DCä½ç½®ä½ã€ä½†æ˜¯åä¸ºæ˜¯é€šè¿‡ç‚¹åˆ°ç‚¹çš„æ–¹å¼æ¥ç»´æŠ¤çš„ï¼Œä¸å±äºæŒ‰éœ€é“¾è·¯ã€‘&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯é…ç½®æ—¶éœ€è¦æŒ‡å®šé‚»å±…çš„RouterIDï¼Œé€šè¿‡ä¸¤æ¬¡SPFç®—æ³•ç¡®å®šç›®æ ‡åœ°å€å’Œæºåœ°å€ï¼Œå»ºç«‹å•æ’­è¿æ¥&lt;/li&gt;
&lt;li&gt;ABRé€šè¿‡è™šé“¾è·¯å­¦åˆ°çš„è·¯ç”±ï¼Œè™šé“¾è·¯æ‰€ç»è¿‡çš„åŒºåŸŸä¹Ÿåº”è¯¥æœ‰æ­¤è·¯ç”±æ¡ç›®ï¼Œå¦åˆ™ä¸ºæ— æ•ˆè·¯ç”±&lt;br&gt;
å¦‚ä¸‹å›¾ä¸­è·¯ç”±1.1.1.1/32ã€‚åœ¨AR2ä¸Šå°†å»å¾€AR3çš„1.1.1.1/32çš„lsaè¿‡æ»¤æ‰ï¼Œé‚£ä¸ªAR3ä¸Šä¸å­˜åœ¨1.1.1.1/32è¿™ä¸ªè·¯ç”±æ¡ç›®ï¼Œåˆå› ä¸ºè™šé“¾è·¯çš„æ‰€ç»è¿‡åŒºåŸŸä¸ºåŒºåŸŸ1ï¼Œæ‰€ä»¥AR4ä¸Šæ²¡æœ‰1.1.1.1/32çš„è·¯ç”±ã€‚å³ä½¿ä¼šæœ‰ï¼Œé‚£ä¹ˆAR4å‘ç»™AR3ä¹Ÿä¼šå‡ºç°è·¯ç”±é»‘æ´ï¼Œ&lt;strong&gt;å› ä¸ºè™šé“¾è·¯çš„æµé‡æœ€ç»ˆä¹Ÿæ˜¯é€šè¿‡ç‰©ç†é“¾è·¯è½¬å‘çš„&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612011041364.png&#34; alt=&#34;æ³¨æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;è™šé“¾è·¯çš„åŒºåŸŸä¸å­˜åœ¨åŒºåŸŸ0çš„æ±‡æ€»è·¯ç”±&lt;code&gt;å³åœ¨æ‰€ç»è¿‡çš„åŒºåŸŸå†…ä¸èƒ½å¯¹åŒºåŸŸ0çš„è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼Œå’Œç¬¬7ç‚¹åŸç†ç›¸ä¼¼ï¼Œè·¯ç”±èšåˆä¹‹åå°±æ²¡æœ‰äº†è·¯ç”±æ˜ç»†&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612273781443.png&#34; alt=&#34;ä¸å­˜åœ¨åŒºåŸŸ0çš„æ±‡æ€»è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚æœR2ä¸Šèšåˆåäº§ç”Ÿ3ç±»LSA(åŒ…å«è·¯ç”±10.0.0.0/8)ï¼ŒR4ä¸Šèšåˆåäº§ç”Ÿ3ç±»LSA (åŒ…å«è·¯ç”±10.1.0.0/16)ï¼Œ R3æ”¶åˆ°R2å’ŒR4é€šå‘Šçš„3ç±»LSAåï¼ŒR3ä¸Š10.0.0.0/8è·¯ç”±ä¸‹ä¸€è·³æŒ‡å‘R2ï¼Œè€Œ10.1.0.0/16 è·¯ç”±ä¸‹ä¸€è·³æŒ‡å‘R4ï¼Œè‹¥R3æ”¶åˆ°è®¿é—®10.1.3.1çš„æ•°æ®åŒ…ï¼ŒR3è·¯ç”±æŠ¥æ–‡åˆ°R4ï¼ŒR4ä¸Šæœ‰è™šé“¾è·¯ï¼Œå³R4è·¯ç”±è¡¨ä¸­æœ‰åˆ°è¾¾åŒºåŸŸ0ä¸­10.1.1.0/24ã€10.1.2.0/24ã€10.1.3.0/24çš„è·¯ç”±ä¸”ä¸‹ä¸€è·³R3ï¼ŒR4ä¼šé€æµé‡åˆ°R3ï¼ŒR3ä¼šé€æµé‡åˆ°R4ï¼Œè·¯ç”±ç¯è·¯å‡ºç°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è™šè¿æ¥çš„è¿œç«¯åœ°å€ï¼š&lt;br&gt;
è™šè¿æ¥çš„ä¸¤ä¸ªç«¯ç‚¹éœ€è¦ç›¸äº’äº¤æ¢åè®®æŠ¥æ–‡ï¼Œä½†æ˜¯è™šè¿æ¥çš„é‚»å±…æ˜¯ç”¨RouterIDæ¥æ ‡è¯†çš„ï¼Œä¸èƒ½ä½œä¸ºåè®®æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ã€‚&lt;strong&gt;æ¯ä¸ªè™šè¿æ¥çš„ç«¯ç‚¹éƒ½è¦è®¡ç®—ä¸¤ä¸ªæœ€çŸ­è·¯å¾„æ ‘ï¼Œä¸€ä¸ªæ˜¯æœ¬åœ°æœ€çŸ­è·¯å¾„æ ‘ï¼Œå¦ä¸€ä¸ªæ˜¯è™šè¿æ¥é‚»å±…çš„æœ€çŸ­è·¯å¾„æ ‘&lt;/strong&gt;ã€‚è®¡ç®—è™šè¿æ¥é‚»å±…çš„æœ€çŸ­è·¯å¾„æ ‘ä¹‹åï¼Œåœ¨æœ€çŸ­è·¯å¾„æ ‘ä¸ŠæŸ¥æ‰¾å¦‚ä½•åˆ°è¾¾æœ¬åœ°è·¯ç”±å™¨ï¼ˆé€šè¿‡RouterIDæ¥æ ‡è¯†ï¼‰ï¼Œè™šè¿æ¥é‚»å±…åˆ°è¾¾æœ¬åœ°è·¯ç”±å™¨çš„å‡ºç«¯å£çš„IPåœ°å€ä¸ºæœ¬åœ°è·¯ç”±å™¨å‘é€ç»™è™šè¿æ¥é‚»å±…çš„æŠ¥æ–‡ç›®çš„IPåœ°å€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¥½å¤„&#34;&gt;å¥½å¤„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥è§£å†³ç½‘ç»œè®¾è®¡ç¼ºé™·&lt;/li&gt;
&lt;li&gt;å¯ä»¥å½“åšåé—¨é“¾è·¯ä½¿ç”¨ï¼Œé¿å…æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç¼ºç‚¹&#34;&gt;ç¼ºç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸èƒ½é’ˆå¯¹æ¥è‡ªäºåŒºåŸŸ0çš„è·¯ç”±æ¡ç›®åšæ±‡æ€»&lt;/li&gt;
&lt;li&gt;RIDå†²çªæˆ–è€…ä¿®æ”¹RIDä¼šé€ æˆè™šé“¾è·¯ä¸ç¨³å®š&lt;/li&gt;
&lt;li&gt;ä¼šå¼•å‘ç¯è·¯çš„é—®é¢˜&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587917548285.png&#34; alt=&#34;è™šè¿æ¥--ç¯è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;åœºæ™¯ä¸€ï¼š&lt;/strong&gt;&lt;br&gt;
ä¸ºäº†å®ç°åŒºåŸŸ2æ–¹ä½åŒºåŸŸ0ï¼Œéœ€è¦åœ¨AR1å’ŒAR4ä¹‹é—´åšè™šé“¾è·¯ã€‚AR4å‘åŒºåŸŸ1é€šå‘Šä¸€æ¡3ç±»LSA(5.5.5.5)ç»™AR1ã€AR4ä¹Ÿä¼šç»™AR3é€šå‘Šä¸€æ¡3ç±»LSAï¼Œä½†æ˜¯AR3æ¥æ”¶åä¸é€‰è·¯ã€‘ï¼ŒAR1ä¼šå°†è¿™æ¡3ç±»LSAä¼ é€’ç»™AR3ï¼Œæ‰€ä»¥AR3è®¿é—®5.5.5.5èµ°çš„æ˜¯AR3--AR2--AR1--AR4--AR5ã€ä½†ç‰©ç†é“¾è·¯æ˜¯AR3--AR2--AR1--AR3ã€‘ï¼Œå› ä¸ºåšäº†è™šè¿æ¥ï¼ŒAR1æƒ³è¦è®¿é—®5.5.5.5ï¼Œå¿…é¡»èµ°AR4ï¼Œä½†æ˜¯å»å¾€AR4ï¼Œç‰©ç†ä¸Šå¿…é¡»ç»è¿‡AR3ï¼Œä½†æ˜¯åˆ°äº†AR3ä»¥åï¼ŒAR3å»å¾€5.5.5.5ï¼Œåˆ™æŠŠæµé‡åˆè½¬å‘åˆ°AR2ï¼Œç»“æœå‡ºç¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;è™šè¿æ¥é˜²ç¯&#34;&gt;è™šè¿æ¥é˜²ç¯&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ä¸èƒ½å°†éª¨å¹²åŒºåŸŸçš„æ±‡æ€»å‘å¸ƒåˆ°è™šé“¾è·¯ç©¿è¶Šçš„åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;è™šè¿æ¥æ‰€ä¼ é€’çš„1ç±»LSAä¸ä¼šå†ä¼ é€’å›è™šè¿æ¥æ‰€ç»è¿‡çš„åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;æºäºè™šè¿æ¥çš„3ç±»LSAä¸ä¼šå†é€šå‘Šå›è™šè¿æ¥æ‰€ç»è¿‡çš„åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;è™šè¿æ¥æ— æ³•åœ¨æ‰€ç»è¿‡åŒºåŸŸå¯¹åŒºåŸŸ0çš„è·¯ç”±æ±‡æ€»&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è§£å†³ééª¨å¹²åŒºåŸŸæ²¡æœ‰è¿æ¥åˆ°éª¨å¹²åŒºåŸŸçš„é—®é¢˜
&lt;ol&gt;
&lt;li&gt;ä¸èƒ½åœ¨AR3å’ŒAR4ä¹‹é—´åˆ›å»ºè™šé“¾è·¯ï¼Œå› ä¸ºè¿™ç›¸å½“äºå°†åŒºåŸŸ0åˆ†å‰²äº†ï¼Œå³AR1/2ä¹‹é—´å’ŒAR3/4ä¸Šéƒ½é…ç½®äº†åŒºåŸŸ0&lt;/li&gt;
&lt;li&gt;åœ¨AR2/3ä¸Šåˆ›å»ºè™šè¿æ¥ç›¸å½“äºåŒºåŸŸ0è¢«å»¶ä¼¸ï¼Œå³AR1/2/3éƒ½å±äºåŒºåŸŸ0&lt;/li&gt;
&lt;li&gt;AR3ä¸Šä¼šæ”¶åˆ°æ¥è‡ªAR1çš„1ç±»å’Œ3ç±»(åªæ¥å—ä¸è®¡ç®—)LSA&lt;/li&gt;
&lt;li&gt;AR1ä¸Šçš„è·¯ç”±ä¼šé€šè¿‡3ç±»LSAé€šå‘Šç»™å“ªäº›åŒºåŸŸï¼š&lt;strong&gt;åªæœ‰åŒºåŸŸ2&lt;/strong&gt;ï¼Œå› ä¸ºåŒºåŸŸ1æ˜¯è¿™æ¡3ç±»LSAçš„æ‰€ç»è¿‡åŒºåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³éª¨å¹²åŒºåŸŸè¢«åˆ†å‰²çš„é—®é¢˜
&lt;ol&gt;
&lt;li&gt;AR2å’ŒAR3æ˜¯çœŸABRï¼Œåªæ¥å—3ç±»LSAä½†ä¸è®¡ç®—è·¯ç”±ï¼Œå¯¼è‡´AR1å’ŒAR4ä¸èƒ½äº’è®¿&lt;/li&gt;
&lt;li&gt;åœ¨AR2å’ŒAR3ä¸Šåˆ›å»ºè™šé“¾è·¯ï¼Œç›¸å½“äºAR2å’ŒAR3é€šè¿‡è™šé“¾è·¯åŠ å…¥åŒºåŸŸ0ï¼ŒAR1ç”¨1ç±»LSAé€šå‘Šç»™AR3ï¼ˆAR4ä¼šå°†1ç±»LSAé€šå‘Šç»™AR2ï¼‰ï¼Œç„¶åAR3ä¼šé€šå‘Šç»™AR4ã€åœ¨AR3ä¸Šé€šè¿‡è®¡ç®—1ç±»å’Œ2ç±»LSAï¼Œä¸å†è®¡ç®—3ç±»LSAï¼Œå®ç°AR4å’ŒAR1äº’é€šã€‘&lt;br&gt;
&lt;code&gt;é€šè¿‡è™šé“¾è·¯æ”¶åˆ°è·¯ç”±æ¡ç›® è€Œ äº§ç”Ÿçš„3ç±»LSAï¼Œä¸ä¼šå†é€šå‘Šå›è™šé“¾è·¯çš„æ‰€è¿›è¿‡åŒºåŸŸ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è§£å†³æ²¡æœ‰éª¨å¹²åŒºåŸŸçš„åœºæ™¯ï¼ˆå¯ä»¥å»ºç«‹è™šè¿æ¥å……å½“éª¨å¹²åŒºåŸŸï¼Œå³è™šè¿æ¥ç›¸å½“äºéª¨å¹²åŒºåŸŸï¼Œåªæœ‰åä¸ºè®¾å¤‡å¯ä»¥ï¼Œæ€ç§‘è®¾å¤‡ä¸æ”¯æŒï¼‰
&lt;ol&gt;
&lt;li&gt;AR25é’ˆå¯¹åŒºåŸŸ1ç”Ÿæˆçš„3ç±»LSAä¼šé€šå‘Šç»™åŒºåŸŸ0å’ŒåŒºåŸŸ2ï¼›AR25é’ˆå¯¹åŒºåŸŸ2ç”Ÿæˆçš„3ç±»LSAä¼šé€šå‘Šç»™åŒºåŸŸ1&lt;/li&gt;
&lt;li&gt;AR26é’ˆå¯¹åŒºåŸŸ3ç”Ÿæˆçš„3ç±»LSAä¼šé€šå‘Šç»™åŒºåŸŸ0å’ŒåŒºåŸŸ2ï¼›AR26é’ˆå¯¹åŒºåŸŸ2ç”Ÿæˆçš„3ç±»LSAä¼šé€šå‘Šç»™åŒºåŸŸ3&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¿éšœéª¨å¹²åŒºåŸŸçš„å¥å£®æ€§ï¼ˆé¢„é˜²éª¨å¹²åŒºåŸŸè¢«åˆ†å‰²æˆ–è€…ABRåªæ¥å—ä¸‰ç±»LSAä¸é€‰è·¯çš„é—®é¢˜ï¼‰&lt;/li&gt;
&lt;li&gt;è§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜ï¼ˆåŸŸå†…3ç±»LSAä¼˜å…ˆçº§ä½äº1ç±»LSAï¼Œå³å†…éƒ¨OSPFä¼˜å…ˆçº§(AR19)&amp;gt;å¤–éƒ¨OSPFä¼˜å…ˆçº§(AR18)ï¼‰
&lt;ol&gt;
&lt;li&gt;åœºæ™¯æ˜¯AR21è®¿é—®AR15çš„10.10.10.10ã€‚åšè™šè¿æ¥ä¹‹å‰ï¼ŒAR21ä¸Šé’ˆå¯¹10.10.10.10çš„LSAæœ‰ä¸¤æ¡ï¼Œä¸€æ˜¯åŒºåŸŸ0ä¸­ä»å³è¾¹é“¾è·¯é€šå‘Šä¸‹æ¥çš„1ç±»LSAï¼ŒäºŒæ˜¯ç”±AR18è½¬æ¢æˆ3ç±»LSAé€šå‘Šç»™AR20çš„ï¼Œæ‰€ä»¥AR21èµ°1ç±»LSAçš„è·¯ç”±ï¼Œå³èµ°å³è¾¹&lt;/li&gt;
&lt;li&gt;åšè™šè¿æ¥ä¹‹åï¼Œä»AR16ä¼ ç»™AR18çš„1ç±»LSAï¼ŒAR18ä¹Ÿä¼šä¼ ç»™AR20ï¼Œè¿™æ ·AR20ä¼šæ”¶åˆ°å…³äº10.10.10.10çš„ä¸¤æ¡1ç±»LSAï¼Œç„¶åcostè¶Šå°è¶Šå¥½ï¼Œé€‰æ‹©å·¦è¾¹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587830850069.png&#34; alt=&#34;è™šè¿æ¥åº”ç”¨åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;spfè®¡ç®—è¿‡ç¨‹çš„ä¸¤ä¸ªé˜¶æ®µ&#34;&gt;SPFè®¡ç®—è¿‡ç¨‹çš„ä¸¤ä¸ªé˜¶æ®µ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åªåœ¨ä¸€ä¸ªåŒºåŸŸå†…è®¡ç®—ï¼Œå³åªæ¶‰åŠåˆ°1ç±»å’Œ2ç±»LSA&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—transitå’Œp2pèŠ‚ç‚¹ï¼Œå¿½ç•¥stubèŠ‚ç‚¹ï¼Œç”Ÿæˆä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘ï¼Œå³æ„å»ºSPFæ ‘ã€‚ä¾æ®Router-LSAå’ŒNetwork-LSAã€‚&lt;/li&gt;
&lt;li&gt;åªè®¡ç®—stubèŠ‚ç‚¹ï¼Œå°†stubç½‘æ®µæŒ‚åˆ°æœ€çŸ­è·¯å¾„æ ‘ä¸Šå»ï¼Œå³è®¡ç®—æœ€ä¼˜è·¯ç”±ã€‚ä¾æ®SPFæ ‘å¹²å’ŒRouter-LSAã€Network-LSAä¸­çš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç‰¹æ®ŠåŒºåŸŸ&#34;&gt;ç‰¹æ®ŠåŒºåŸŸ&lt;/h2&gt;
&lt;h3 id=&#34;1-stub&#34;&gt;1. Stub&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®stubåŒºåŸŸçš„ç›®çš„ï¼šå‡å°‘LSAçš„æ•°é‡ï¼Œå³å‡å°‘stubåŒºåŸŸå†…éƒ¨è·¯ç”±å™¨ä¸Šlsdbçš„è§„æ¨¡å’Œå†…å­˜éœ€æ±‚ï¼Œä»è€Œé¿å…èµ„æºçš„æµªè´¹ï¼ŒåŒæ—¶å¯ä»¥æ›´å¥½çš„æ§åˆ¶LSAçš„ä¼ é€’å’ŒåŒºåŸŸçš„ç®¡ç†ï¼ˆä¸»è¦ç”¨äºè¿æ¥å®¢æˆ·ç«¯çš„åŒºåŸŸæˆ–è€…æ€§èƒ½æ¯”è¾ƒä½çš„è®¾å¤‡ï¼‰&lt;/li&gt;
&lt;li&gt;å°†åŒºåŸŸè®¾ç½®ä¸ºæœ«èŠ‚åŒºåŸŸï¼Œéœ€è¦åœ¨æœ«èŠ‚åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šé…ç½®&lt;code&gt;stub&lt;/code&gt;å‘½ä»¤&lt;/li&gt;
&lt;li&gt;æœ«èŠ‚åŒºåŸŸä¼š&lt;strong&gt;è¿‡æ»¤äº”ç±»LSAï¼ˆå››ç±»LSAä¹Ÿä¼šè¢«è¿‡æ»¤æ‰ï¼‰&lt;/strong&gt;ï¼ŒABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡&lt;strong&gt;é»˜è®¤è·¯ç”±ï¼ˆä¸‰ç±»LSAï¼‰&lt;/strong&gt;ï¼Œä½¿å…¶èƒ½å¤Ÿæ­£å¸¸è®¿é—®å¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ— æ³•é…ç½®å¤–éƒ¨è·¯ç”±ï¼ˆå³ä¾¿å¼ºè¡Œé…ç½®ä¹Ÿæ— æ³•é…ç½®ä¸Šå»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-totally-stub&#34;&gt;2. Totally Stub&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è¦åœ¨ABRä¸Šé…ç½®ï¼ŒåŒºåŸŸå†…å…¶ä»–è®¾å¤‡é…ç½®ä¸ºæœ«èŠ‚åŒºåŸŸå³å¯&lt;/li&gt;
&lt;li&gt;å®Œå…¨æœ«èŠ‚åŒºåŸŸä¸ä»…ä¼š&lt;strong&gt;è¿‡æ»¤æ‰å››ç±»å’Œäº”ç±»LSAï¼Œä¹Ÿä¼šè¿‡æ»¤æ‰ä¸‰ç±»LSA(é€šè¿‡ABRè¿‡æ»¤çš„)&lt;/strong&gt;ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡&lt;strong&gt;é»˜è®¤è·¯ç”±ï¼ˆä¸‰ç±»LSAï¼‰&lt;/strong&gt;ï¼Œä½¿å…¶èƒ½å¤Ÿæ­£å¸¸è®¿é—®å¤–éƒ¨è·¯ç”±ï¼ˆä¸€å…±æœ‰ä¸‰ç±»LSAï¼šä¸€ç±»ã€äºŒç±»å’Œä¸‹æ”¾è·¯ç”±ä½¿ç”¨çš„ä¸‰ç±»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Stubå’ŒTotally Stubçš„ä¸€äº›æ¡ä»¶ï¼ˆç‰¹ç‚¹ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å»ºè®®è¯¥åŒºåŸŸåªèƒ½æœ‰ä¸€ä¸ªå‡ºå£ï¼Œå³åªæœ‰ä¸€ä¸ªABR&lt;/li&gt;
&lt;li&gt;è™šè¿æ¥ä¸èƒ½è·¨è¶ŠStubåŒºåŸŸï¼ˆå› ä¸ºè™šè¿æ¥æ°¸è¿œå±äºåŒºåŸŸ0ï¼‰&lt;/li&gt;
&lt;li&gt;StubåŒºåŸŸä¸èƒ½æœ‰ASBRï¼ˆè®¿é—®å¤–éƒ¨è·¯ç”±æ˜¯é€šè¿‡ABRç”Ÿæˆçš„3ç±»LSAé€šå‘Šçš„é»˜è®¤è·¯ç”±ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸èƒ½å°†éª¨å¹²åŒºåŸŸé…ç½®ä¸ºStubåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;StubåŒºåŸŸå‘é€çš„HelloæŠ¥æ–‡ä¸­çš„Eæ¯”ç‰¹ä½ä¼šç½®0&lt;/li&gt;
&lt;li&gt;totally stubåŒºåŸŸä¸æ¥æ”¶3å’Œ5ç±»ï¼Œåªéœ€è¦åœ¨ABRä¸Šé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;3-nssa&#34;&gt;3. NSSA&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº§ç”ŸèƒŒæ™¯&lt;/strong&gt;ï¼šOSPFè§„å®šStubåŒºåŸŸä¸èƒ½å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œè¿™æ ·å¯ä»¥é¿å…å¤§é‡å¤–éƒ¨è·¯ç”±å¯¹StubåŒºåŸŸè·¯ç”±å™¨å¸¦å®½å’Œå­˜å‚¨èµ„æºçš„æ¶ˆè€—ã€‚å¯¹äº&lt;strong&gt;æ—¢éœ€è¦å¼•å…¥å¤–éƒ¨è·¯ç”±åˆè¦é¿å…å¤–éƒ¨è·¯ç”±å¸¦æ¥çš„èµ„æºæ¶ˆè€—çš„åœºæ™¯&lt;/strong&gt;ï¼ŒstubåŒºåŸŸå°±ä¸åœ¨æ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤äº§ç”Ÿäº†NSSAåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;å°†åŒºåŸŸè®¾ç½®ä¸ºNSSAåŒºåŸŸï¼Œéœ€è¦åœ¨æœ«èŠ‚åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šé…ç½®&lt;code&gt;nssa&lt;/code&gt;å‘½ä»¤&lt;/li&gt;
&lt;li&gt;NSSAåŒºåŸŸä¼š&lt;strong&gt;è¿‡æ»¤äº”ç±»LSAï¼ˆå››ç±»LSAä¹Ÿä¼šè¢«è¿‡æ»¤æ‰ï¼‰&lt;/strong&gt;ï¼ŒåŒæ—¶å¼•è¿›ä¸ƒç±»LSAï¼ˆå³NSSA-LSAï¼Œæ˜¯ç”±äº”ç±»LSAè½¬æ¢è€Œæˆï¼‰ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡&lt;strong&gt;é»˜è®¤è·¯ç”±ï¼ˆä¸ƒç±»LSAï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸ƒç±»LSAçš„ä¼˜å…ˆçº§ï¼šON1ï¼ˆç±»ä¼¼OE1ï¼‰å’ŒON2(ç±»ä¼¼OE2)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FAåœ°å€&lt;/strong&gt;ï¼šå¯¹äº&lt;strong&gt;äº”ç±»LSAæ˜¯å¯é€‰é¡¹&lt;/strong&gt;ï¼Œä½†æ˜¯&lt;strong&gt;ä¸ƒç±»LSAæ˜¯å¿…é€‰é¡¹&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åœ¨äº”ç±»LSAä¸­&lt;/strong&gt;ï¼ŒFAåœ°å€åªæœ‰æ»¡è¶³é‚£ä¸‰ä¸ªæ¡ä»¶æ‰ä¼šæºå¸¦ï¼Œæºå¸¦çš„æ˜¯ä¸‹ä¸€æ¡çš„åœ°å€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ¨ä¸ƒç±»LSAä¸­&lt;/strong&gt;ï¼Œå¦‚æœæ»¡è¶³5ç±»LSAçš„3å¤§æ¡ä»¶ï¼ŒFAåœ°å€æ˜¯ASBRä¸Šå¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€ï¼›å¦‚æœæ²¡æœ‰å°†å¼•å…¥å¤–éƒ¨è·¯ç”±ä¸‹ä¸€è·³åœ°å€æ‰€åœ¨ç½‘æ®µå®£å‘Šè¿›OSPFï¼Œåˆ™ä¼˜é€‰å®£å‘Šè¿›ospfçš„é€»è¾‘æ¥å£IPåœ°å€æœ€å¤§çš„ä¸€ä¸ªï¼›å¦‚æœæ²¡æœ‰é€»è¾‘æ¥å£å®£å‘Šè¿›OSPFï¼Œåˆ™ä¼˜é€‰å®£å‘Šè¿›ospfä¸­æ´»åŠ¨çš„ç‰©ç†æ¥å£åœ°å€è¾ƒå¤§çš„ä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;4-totally-nssa&#34;&gt;4. Totally NSSA&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è¦åœ¨ABRä¸Šè®¾ç½®ï¼ŒåŒºåŸŸå†…å…¶ä»–è·¯ç”±è®¾å¤‡è®¾ç½®ä¸ºnaaså³å¯&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤æ‰&lt;strong&gt;ä¸‰ç±»ã€å››ç±»å’Œäº”ç±»LSA&lt;/strong&gt;ï¼ŒåŒæ—¶å¼•å…¥å¤–éƒ¨è·¯ç”±ä½œä¸ºä¸ƒç±»LSAå­˜åœ¨ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸé€šå‘Š&lt;strong&gt;ä¸¤æ¡é»˜è®¤è·¯ç”±ï¼šä¸€ä¸ªæ˜¯ä¸‰ç±»sum-netï¼ˆä¼˜å…ˆçº§é«˜ï¼‰ï¼Œä¸€ä¸ªæ˜¯ä¸ƒç±»nssa&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Nssaå’ŒTotally Nssaçš„ç‰¹ç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;nssaåŒºåŸŸå¯ä»¥åŒ…å«ASBRï¼Œå¼•å…¥å¤–éƒ¨è·¯ç”±ã€‚ä¸ºäº†å®ç°å¯ä»¥è¿‡æ»¤5ç±»LSAçš„ç›®çš„ï¼Œä¼šå°†å¼•å…¥çš„å¤–éƒ¨è·¯ç”±ä»¥7ç±»LSAçš„æ–¹å¼æ¥é€šå‘Šï¼Œ7ç±»LSAçš„ä¼ é€’èŒƒå›´æ˜¯åœ¨NSSAåŒºåŸŸå†…&lt;/li&gt;
&lt;li&gt;åœ¨nssaåŒºåŸŸä¸­ï¼ŒABRä¼šä»¥7ç±»LSAé€šå‘Šä¸€æ¡é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;åœ¨totally nssaåŒºåŸŸä¸­ï¼ŒABRä¼šä»¥3ç±»å’Œ7ç±»LSAå„é€šå‘Šä¸€æ¡é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;lsaåœ¨å„åŒºåŸŸä¸­ä¼ æ’­çš„æ”¯æŒæƒ…å†µ&#34;&gt;LSAåœ¨å„åŒºåŸŸä¸­ä¼ æ’­çš„æ”¯æŒæƒ…å†µ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Stub&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;TotallyStub&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;NSSA&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;TotallyNSSA&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ™®é€šåŒºåŸŸ(åŒ…å«éª¨å¹²å’Œééª¨å¹²)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸä¸­LSAç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1/2/3ã€‚ABRäº§ç”Ÿé»˜è®¤3ç±»(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1/2ã€‚ABRäº§ç”Ÿé»˜è®¤3ç±»(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1/2/3/7ã€‚ABR(ASBR)äº§ç”Ÿé»˜è®¤7ç±»(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1/2/7ã€‚ABR(ASBR)äº§ç”Ÿé»˜è®¤3ç±»(0.0.0.0)å’Œé»˜è®¤7ç±»(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1/2/3/4/5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABR/ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸å…è®¸ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸å…è®¸ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…è®¸éƒ¨ç½²ABR/ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…è®¸éƒ¨ç½²ABR/ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…è®¸éƒ¨ç½²ABRå’ŒASBR&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ospfé€šå‘Šé»˜è®¤è·¯ç”±çš„æ–¹å¼&#34;&gt;OSPFé€šå‘Šé»˜è®¤è·¯ç”±çš„æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ™®é€šåŒºåŸŸï¼š&lt;br&gt;
é€šè¿‡&lt;code&gt;default-route-advertise&lt;/code&gt;å‘½ä»¤é€šå‘Šé»˜è®¤è·¯ç”±ï¼š
&lt;ol&gt;
&lt;li&gt;è¿½åŠ alwayså‚æ•°åï¼Œå¦‚æœæœ¬åœ°&lt;strong&gt;ä¸å­˜åœ¨&lt;/strong&gt;é»˜è®¤è·¯ç”±ï¼Œåˆ™ç”Ÿæˆä¸€æ¡&lt;strong&gt;5ç±»LSA&lt;/strong&gt;é€šå‘Šé»˜è®¤è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;ä¸è¿½åŠ alwayså‚æ•°ï¼Œåªæœ‰åœ¨æœ¬åœ°å­˜åœ¨ä¸€æ¡&lt;strong&gt;é™¤äº†OSPFä»¥å¤–å…¶å®ƒåè®®é€šå‘Šçš„é»˜è®¤è·¯ç”±&lt;/strong&gt;ï¼Œæ‰&lt;strong&gt;å¯ä»¥ç”Ÿæˆä¸€æ¡é»˜è®¤è·¯ç”±&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç‰¹æ®ŠåŒºåŸŸ
&lt;ol&gt;
&lt;li&gt;StubåŒºåŸŸå’ŒTotally StubåŒºåŸŸï¼šç”±ABRè®¾å¤‡ç”Ÿæˆ3ç±»LSAé€šå‘Šé»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;NssaåŒºåŸŸï¼šé€šè¿‡&lt;code&gt;nssa default-route-advertise&lt;/code&gt;å‘½ä»¤é€šå‘Šä¸€æ¡7ç±»çš„é»˜è®¤è·¯ç”±ï¼Œä½†æ˜¯åœ¨NSSAåŒºåŸŸä¸­&lt;strong&gt;æ²¡æœ‰alwayså‚æ•°&lt;/strong&gt;ï¼Œè¯´æ˜åœ¨NSSAåŒºåŸŸä¸­å¿…é¡»åœ¨å­˜åœ¨ä¸€æ¡é™¤äº†ospfä»¥å¤–å…¶å®ƒåè®®é€šå‘Šé»˜è®¤è·¯ç”±çš„å‰æä¸‹ï¼Œæ‰èƒ½é€šå‘Šä¸€æ¡é»˜è®¤&lt;/li&gt;
&lt;li&gt;Totally NssaåŒºåŸŸï¼šABRä¼šä¸‹æ”¾ä¸¤æ¡ç¼ºçœçš„é»˜è®¤è·¯ç”±ï¼Œåˆ†åˆ«æ˜¯3ç±»å’Œ7ç±»LSAï¼Œ3ç±»LSAä¼˜å…ˆçº§æ›´é«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfçš„èšåˆæ±‡æ€»å’Œè¿‡æ»¤&#34;&gt;OSPFçš„èšåˆ(æ±‡æ€»)å’Œè¿‡æ»¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è·¯ç”±èšåˆ&lt;br&gt;
&lt;code&gt;åªèƒ½åœ¨ABRå’ŒASBRä¸Šè¿›è¡Œè·¯ç”±æ±‡æ€»ï¼Œæ±‡æ€»ä¹‹åï¼Œéæœ¬åŒºåŸŸè®¾å¤‡æ— æ³•çœ‹åˆ°ç›¸åº”çš„æ˜ç»†è·¯ç”±&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;åŒºåŸŸé—´è·¯ç”±æ±‡æ€»(ABRèšåˆ)ï¼šåœ¨ABRä¸Šå®Œæˆï¼ŒèšåˆASå†…åŒºåŸŸä¹‹é—´çš„è·¯ç”±ï¼Œä»¥ç½‘æ®µä¸ºå•ä½ç”Ÿæˆ3ç±»LSAã€‚éœ€è¦æ±‡æ€»çš„ç½‘æ®µæ‰€åœ¨çš„OSPFåŒºåŸŸä¸­è¿›è¡Œé…ç½®&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±èšåˆ(ASBRèšåˆ)ï¼šåœ¨ASBRä¸Šå®Œæˆï¼ŒèšåˆOSPFå¼•å…¥çš„å¤–éƒ¨è·¯ç”±ï¼Œå¯¹å¼•å…¥çš„èšåˆåœ°å€èŒƒå›´å†…çš„5ç±»LSAè¿›è¡Œèšåˆã€‚åœ¨OSPFè¿›ç¨‹ä¸‹é…ç½®&lt;br&gt;
&lt;code&gt;å½“é…ç½®äº†NSSAåŒºåŸŸæ—¶ï¼Œè¿˜è¦å¯¹å¼•å…¥çš„èšåˆåœ°å€èŒƒå›´å†…çš„7ç±»LSAè¿›è¡Œèšåˆï¼Œå¦‚æœæœ¬åœ°è®¾å¤‡æ—¢æ˜¯ASBRåˆæ˜¯ABRï¼Œåˆ™å¯¹ç”±7è½¬5çš„LSAè¿›è¡Œèšåˆå¤„ç†&lt;/code&gt;&lt;br&gt;
&lt;code&gt;è·¯ç”±èšåˆåçš„costå€¼é€‰æ‹©èšåˆä¹‹å‰æœ€å°å€¼&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±è¿‡æ»¤&lt;br&gt;
OSPFå¯ä»¥ä½¿ç”¨è·¯ç”±ç­–ç•¥route-policyã€è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆaccess-listï¼‰å’Œåœ°å€å‰ç¼€åˆ—è¡¨ï¼ˆprefix-listï¼‰å¯¹è·¯ç”±ä¿¡æ¯è¿›è¡Œè¿‡æ»¤ï¼ŒOSPFè·¯ç”±è¿‡æ»¤å¯ä»¥åº”ç”¨äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š
&lt;ol&gt;
&lt;li&gt;è·¯ç”±å¼•å…¥&lt;br&gt;
OSPFå¯ä»¥å¼•å…¥å…¶å®ƒè·¯ç”±åè®®å­¦ä¹ åˆ°çš„è·¯ç”±ï¼Œåœ¨å¼•å…¥æ—¶å¯ä»¥é€šè¿‡é…ç½®è·¯ç”±ç­–ç•¥æ¥è¿‡æ»¤è·¯ç”±ï¼Œåªå¼•å…¥æ»¡è¶³æ¡ä»¶çš„è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;å¼•å…¥è·¯ç”±å‘å¸ƒ&lt;br&gt;
OSPFå¼•å…¥äº†è·¯ç”±åä¼šå‘å…¶å®ƒé‚»å±…å‘å¸ƒå¼•å…¥çš„è·¯ç”±ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡é…ç½®è¿‡æ»¤è§„åˆ™æ¥è¿‡æ»¤å‘é‚»å±…å‘å¸ƒçš„è·¯ç”±ä¿¡æ¯ï¼Œè¯¥è¿‡æ»¤è§„åˆ™åªåœ¨ASBRä¸Šé…ç½®æ‰æœ‰æ•ˆã€‚&lt;br&gt;
ä¾‹å¦‚ï¼šåœ¨ASBRä¸Šé€šè¿‡filter-policyåšexportæ–¹å‘è¿‡æ»¤ï¼Œé’ˆå¯¹ä»è·¯ç”±è¡¨ä¸­é‡åˆ†å‘è¿›OSPFçš„è·¯ç”±æ¡ç›®åšè¿‡æ»¤&lt;/li&gt;
&lt;li&gt;è·¯ç”±å­¦ä¹ &lt;br&gt;
é€šè¿‡é…ç½®è¿‡æ»¤è§„åˆ™ï¼Œå¯ä»¥è®¾ç½®OSPFå¯¹æ¥æ”¶åˆ°çš„åŒºåŸŸå†…ã€åŒºåŸŸé—´å’Œè‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„è·¯ç”±è¿›è¡Œè¿‡æ»¤ã€‚è¯¥è¿‡æ»¤åªä½œç”¨äºè·¯ç”±è¡¨é¡¹çš„æ·»åŠ ä¸å¦ï¼Œå³åªæœ‰é€šè¿‡è¿‡æ»¤çš„è·¯ç”±æ‰è¢«æ·»åŠ åˆ°æœ¬åœ°è·¯ç”±è¡¨ä¸­ï¼Œä½†æ‰€æœ‰çš„è·¯ç”±ä»å¯ä»¥åœ¨OSPFè·¯ç”±è¡¨ä¸­è¢«å‘å¸ƒå‡ºå»ã€‚&lt;br&gt;
ä¾‹å¦‚ï¼šå¯ä»¥åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šä½¿ç”¨filter-policyåšimportæ–¹å‘è¿‡æ»¤ï¼Œåªèƒ½è¿‡æ»¤ä»OSPFåŠ å…¥åˆ°RIBè·¯ç”±è¡¨çš„è·¯ç”±æ¡ç›®ï¼Œä¸èƒ½è¿‡æ»¤å…¥æ–¹å‘LSAï¼Œä½†æ˜¯ä¼šå½±å“3ç±»LSAç­‰å‘å¸ƒã€‚ä¾‹å¦‚åœ¨&lt;strong&gt;ABRä¸Š&lt;/strong&gt;çš„å…¥æ–¹å‘é…ç½®æ­¤è¿‡æ»¤ï¼Œè™½ç„¶ä¸èƒ½å½±å“æ¥æ”¶LSAï¼Œä½†æ˜¯ä¼šABRçš„3ç±»LSAçš„å‘å¸ƒï¼Œå› ä¸ºæ­¤è·¯ç”±æ²¡æœ‰åŠ å…¥è·¯ç”±è¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜è¿™æ¡è·¯ç”±æ— æ•ˆï¼Œé‚£ä¹ˆ&lt;strong&gt;è‚¯å®šä¸ä¼šå‘å¸ƒåŒ…å«æ­¤æ¡è·¯ç”±çš„3ç±»LSA&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åŒºåŸŸé—´LSAå­¦ä¹ &lt;br&gt;
å¯ä»¥åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šä½¿ç”¨filter-policyåšimportæ–¹å‘è¿‡æ»¤ï¼Œåªèƒ½è¿‡æ»¤ä»OSPFåŠ å…¥åˆ°RIBè·¯ç”±è¡¨çš„è·¯ç”±æ¡ç›®ï¼Œ&lt;strong&gt;ä¸èƒ½è¿‡æ»¤LSA&lt;/strong&gt;ã€‚å¦‚æœè¯¥æ–¹æ³•åœ¨æ™®é€šè®¾å¤‡ä¸Šï¼Œåªå½±å“æœ¬åœ°ï¼›å¦‚æœåœ¨ABRä¸Šé…ç½®ã€‚è¿˜ä¼šå½±å“å…¶ä»–è®¾å¤‡ï¼Œä¸»è¦æ˜¯é€šè¿‡å½±å“3ç±»LSAå¯¼è‡´è·¯ç”±æ— æ³•ä¼ é€’ã€‚&lt;br&gt;
&lt;strong&gt;åŒºåŸŸé—´LSAå­¦ä¹ å’Œè·¯ç”±å­¦ä¹ ä¹‹é—´çš„å·®å¼‚&lt;/strong&gt;ï¼šåŒºåŸŸé—´LSAå­¦ä¹ ç›´æ¥å¯¹è¿›å…¥åŒºåŸŸçš„LSAè¿›è¡Œè¿‡æ»¤ï¼›è·¯ç”±å­¦ä¹ ä¸æ˜¯å¯¹LSAè¿›è¡Œè¿‡æ»¤è€Œæ˜¯å¯¹LSAè®¡ç®—å‡ºæ¥çš„è·¯ç”±æ˜¯å¦æ·»åŠ æœ¬åœ°è·¯ç”±è¡¨è¿›è¡Œè¿‡æ»¤ï¼Œå­¦ä¹ åˆ°çš„LSAæ˜¯å®Œæ•´çš„ã€‚&lt;/li&gt;
&lt;li&gt;åŒºåŸŸé—´LSAå‘å¸ƒ&lt;br&gt;
åœ¨ABRä¸Šé…ç½®è·¯ç”±æ±‡æ€»ä¸é€šå‘Š(å³æºå¸¦å‚æ•°&lt;code&gt;not-advertise&lt;/code&gt;)æˆ–è€…ä½¿ç”¨filterå‘½ä»¤è¿‡æ»¤3ç±»LSAï¼Œæˆ–è€…åœ¨æ‰€æœ‰è®¾å¤‡çš„æ¥å£ä¸Šé…ç½®ospf filter-lsa-outå‘½ä»¤è¿‡æ»¤æ¥å£ä¸Šå‘é€çš„3ç±»ã€5ç±»ã€7ç±»&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfçš„æ—¶é—´&#34;&gt;OSPFçš„æ—¶é—´&lt;/h2&gt;
&lt;h3 id=&#34;1-lsrefreshtimelsaå®šæ—¶åˆ·æ–°æ—¶é—´&#34;&gt;1. LSRefreshTimeï¼ˆLSAå®šæ—¶åˆ·æ–°æ—¶é—´ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;1800ç§’&lt;/code&gt;&lt;br&gt;
ä¸ºç¡®ä¿æ•°æ®åº“çš„å‡†ç¡®æ€§ï¼ŒOSPFæ¯éš”30åˆ†é’Ÿå¯¹æ¯æ¡LSAè®°å½•åˆ·æ–°ä¸€æ¬¡ï¼Œæ¯åˆ·æ–°ä¸€æ¬¡åºåˆ—å·åŠ 1ã€‚&lt;br&gt;
æ”¶åˆ°æ–°çš„LSAåï¼ŒLSAå°†é‡ç½®è®¡æ—¶å™¨ï¼Œåˆé‡æ–°è®¡ç®—æ—¶é—´ã€‚å¦‚æœ1å°æ—¶å†…ï¼Œæœªè¢«åˆ·æ–°ï¼ŒLSAå°†ä»æ•°æ®åº“ä¸­åˆ é™¤ã€‚&lt;br&gt;
æœ‰æ—¶åºåˆ—å·éœ€è¦å¾ªç¯å›æœ€åˆçš„å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒLSAæå‰ä½œåºŸï¼Œï¼ˆæœ€å¤§å¯¿å‘½å®šæ—¶å™¨ç«‹å³è¢«è®¾ç½® ä¸º1 ï¼‰å¹¶è¢«åˆ é™¤ã€‚ç„¶åï¼ŒLSAé‡æ–°ä½¿ç”¨åºåˆ—å·0X800001ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-maxagelsaè€åŒ–æ—¶é—´&#34;&gt;2. MaxAgeï¼ˆLSAè€åŒ–æ—¶é—´ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;3600ç§’&lt;/code&gt;&lt;br&gt;
OSPFæ¯éš”1800så®šæ—¶åˆ·æ–°ä¸€æ¬¡LSAï¼Œå¦‚æœLSAåœ¨3600så†…æœªè¢«åˆ·æ–°ï¼ŒLSAå°†ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œå³è€åŒ–æ‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-rxmtintervalé‚»æ¥é‡ä¼ lsaçš„é—´éš”æ—¶é—´&#34;&gt;3. RxmtIntervalï¼ˆé‚»æ¥é‡ä¼ LSAçš„é—´éš”æ—¶é—´ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;5ç§’&lt;/code&gt;&lt;br&gt;
æ²¡æœ‰å¾—åˆ°ç¡®è®¤çš„æƒ…å†µä¸‹ï¼Œé‡ä¼ OSPF packetæ‰€ç­‰å¾…çš„æ—¶é—´é•¿åº¦ï¼Œé»˜è®¤ä¸º5ç§’ã€‚&lt;/p&gt;
&lt;h3 id=&#34;4-helloç›¸å…³çš„æ—¶é—´&#34;&gt;4. Helloç›¸å…³çš„æ—¶é—´&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;HelloIntervalï¼ˆå‘é€HelloåŒ…çš„æ—¶é—´é—´éš”ï¼‰ï¼š10s/30s&lt;br&gt;
è·¯ç”±å™¨æ¥å£ä¸Šå‘é€HelloåŒ…çš„æ—¶é—´é—´éš”ã€‚&lt;/li&gt;
&lt;li&gt;RouterDeadIntervalï¼ˆæœªæ”¶åˆ°Helloåå…³é—­Routerçš„æ—¶é—´ï¼‰ï¼š40s/120s&lt;br&gt;
å¦‚æœåœ¨4å€äºHelloIntervalé—´éš”é‡Œ(40ç§’å’Œ120ç§’å†…)ä»ç„¶æ²¡æœ‰æ”¶åˆ°æ¥è‡ªé‚»å±…çš„æ–°çš„HelloåŒ…ï¼Œè¿™ä¸ªé‚»å±…å°†è¢«å®£å‘Šä¸ºæ— æ•ˆ(dead)ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;5-waittimerdrçš„é€‰ä¸¾ç­‰å¾…æ—¶é—´&#34;&gt;5. WaitTimerï¼ˆDRçš„é€‰ä¸¾ç­‰å¾…æ—¶é—´ï¼‰ï¼š&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;40ç§’&lt;/code&gt;&lt;br&gt;
å…ˆå¯åŠ¨OSPFè¿›ç¨‹çš„è·¯ç”±å™¨ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å†…æ²¡æœ‰å¯åŠ¨å…¶å®ƒè·¯ç”±çš„OSPFè¿›ç¨‹çš„è¯ï¼Œç¬¬ä¸€å°è·¯ç”±å°±è®¤ä¸ºè‡ªå·±æ˜¯DRï¼Œä¹‹åå†åŠ è¿›æ¥çš„ä¹Ÿä¸èƒ½åœ¨é€‰ä¸¾äº†ï¼Œè¿™ä¸ªç­‰å¾…æ—¶é—´å«åšWaitTimerè®¡æ—¶å™¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;one-way-æ˜¯ä»€ä¹ˆçŠ¶æ€å¦‚ä½•è¿›å…¥-two-way&#34;&gt;one-way æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼Œå¦‚ä½•è¿›å…¥ two-way&lt;/h2&gt;
&lt;p&gt;å½“æ”¶åˆ°ä¸€ä¸ªHello åŒ…ä¸­ï¼Œæ²¡æœ‰åŒ…å«è‡ªå·±çš„router idæ—¶ä¸ºone-wayï¼Œå½“æ”¶åˆ°çš„HELLOåŒ…ä¸­åŒ…å«è‡ªå·±çš„ router idåˆ™ä¸ºtwo-way&lt;/p&gt;
&lt;h2 id=&#34;drçš„é€‰ä¸¾è¿‡ç¨‹åŠæ—¶é—´&#34;&gt;DRçš„é€‰ä¸¾è¿‡ç¨‹åŠæ—¶é—´&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ‰€æœ‰çš„è·¯ç”±å™¨éƒ½ä¼šæˆä¸ºDR othersï¼Œå…ˆé€‰ä¸¾BDRï¼ŒBDRå‘ç°æ²¡æœ‰DRï¼Œè‡ªåŠ¨æˆä¸ºDRï¼ŒDR otherså‘ç°æ²¡æœ‰BDRï¼Œå†é€‰ä¸¾å‡ºæ¥ä¸€ä¸ªBDRã€‚&lt;br&gt;
DRçš„é€‰ä¸¾æ—¶é—´ç­‰äº40ç§’ï¼ˆWaitingTimerï¼‰ï¼Œä¸å¯æ›´æ”¹ï¼Œåªæœ‰åœ¨å¹¿æ’­å’ŒNBMAä¸­æ‰ä¼šé€‰ä¸¾DRã€‚&lt;/p&gt;
&lt;h2 id=&#34;first-dbdä¸dbdçš„åŒºåˆ«&#34;&gt;first DBDä¸DBDçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;firstDDä¹Ÿç§°ä¸ºç©ºDDï¼Œä½œç”¨æ˜¯é€‰ä¸¾å‡ºä¸»ä»ï¼Œå¹¶ä¸”ç»Ÿä¸€1ä¸ªåºåˆ—å·ï¼Œä¿è¯æ•°æ®åº“åŒæ­¥è¿‡ç¨‹çš„æœ‰åºå¯é &lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•é€‰ä¸¾ä¸»ä»é€‰ä¸¾ä¸»ä»çš„ä½œç”¨&#34;&gt;å¦‚ä½•é€‰ä¸¾ä¸»ä»ï¼Œé€‰ä¸¾ä¸»ä»çš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;é€‰æ‹©router idå¤§çš„ä¸ºä¸»ï¼Œä½œç”¨æ˜¯ç»Ÿä¸€æ¥ä¸‹æ¥äº¤äº’çš„DDæŠ¥æ–‡åºåˆ—å·ï¼Œä¿è¯åŒæ­¥æ•°æ®åº“åŒæ­¥çš„æœ‰åºå¯é &lt;/p&gt;
&lt;h2 id=&#34;ospfåè®®çš„å¯é æ€§å¦‚ä½•ä¿è¯&#34;&gt;OSPFåè®®çš„å¯é æ€§å¦‚ä½•ä¿è¯ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åˆ©ç”¨OSPFåè®®çš„æ˜¾ç¤ºç¡®è®¤ï¼ˆLSAckï¼‰å’Œéšå¼ç¡®è®¤æœºåˆ¶ï¼ˆHelloã€DBDã€LSR+LSUï¼‰&lt;br&gt;
é‚»å±…å»ºç«‹è¿‡ç¨‹ä¸­ï¼ŒHelloæŠ¥æ–‡å›å¤å¯¹æ–¹æ—¶ä¼šæºå¸¦å¯¹æ–¹çš„Router IDï¼›&lt;br&gt;
DBDæŠ¥æ–‡é€‰ä¸¾ä¸»ä»åï¼Œåªæœ‰ä¸»æ‰èƒ½äº§ç”Ÿåºåˆ—å·ï¼Œä»ä¼šç¡®è®¤ä¸»çš„åºåˆ—å·ï¼›&lt;br&gt;
å‘é€LSRä¹‹åå¯¹æ–¹å›åº”LSUï¼Œå¦‚æœæ²¡æœ‰æ”¶åˆ°LSUï¼Œéœ€è¦é‡ä¼ LSRï¼ˆ5ç§’é’Ÿï¼‰ã€‚&lt;br&gt;
&lt;code&gt;Retransmit Timer=5ç§’ï¼Œè¿™åªé’ˆå¯¹DBDã€LSRå’ŒLSUï¼Œhelloå’ŒLSAckæ˜¯æ²¡æœ‰é‡ä¼ æœºåˆ¶çš„&lt;/code&gt;&lt;br&gt;
&lt;code&gt;Transmit Delay=1ç§’ï¼Œè½¬å‘å»¶æ—¶ï¼Œåªç”¨äºLSA&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;é™¤äº†lsaçš„ç¡®è®¤æœºåˆ¶å¤–é’ˆå¯¹å‘é€çš„lsuè¿˜æœ‰æ²¡æœ‰å…¶å®ƒç¡®è®¤æœºåˆ¶&#34;&gt;é™¤äº†LSAçš„ç¡®è®¤æœºåˆ¶å¤–ï¼Œé’ˆå¯¹å‘é€çš„LSUè¿˜æœ‰æ²¡æœ‰å…¶å®ƒç¡®è®¤æœºåˆ¶&lt;/h2&gt;
&lt;p&gt;DRå¯ä»¥è¿›è¡Œéšå¼ç¡®è®¤ï¼Œå½“DRæ”¶åˆ°DR othersçš„LSUæ—¶ï¼Œä¸éœ€è¦å›å¤LSACKï¼Œå› ä¸ºDRä¼šå‘å…¶ä»–çš„DR otherså‘é€LSUçš„æ›´æ–°ï¼Œè¿™å°±è¿›è¡Œäº†éšå¼ç¡®è®¤&lt;code&gt;DR otherså‘DRå‘é€æ›´æ–°ä¸º224.0.0.6ï¼ŒDRå‘DR otherså‘é€çš„æ›´æ–°åœ°å€ä¸º224.0.0.5&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611588642642.jpg&#34; alt=&#34;é’ˆå¯¹å‘é€çš„LSUè¿˜æœ‰æ²¡æœ‰å…¶å®ƒç¡®è®¤æœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ospfåè®®ä¸ºä»€ä¹ˆå…ˆè¿›è¡Œbdré€‰ä¸¾ç„¶åæ‰æ˜¯dr&#34;&gt;ospfåè®®ä¸ºä»€ä¹ˆå…ˆè¿›è¡ŒBDRé€‰ä¸¾ï¼Œç„¶åæ‰æ˜¯DR&lt;/h2&gt;
&lt;p&gt;å› ä¸ºDRå’ŒBDRçš„åˆ‡æ¢çŠ¶æ€æœºæ˜¯ï¼šå½“DRå¤±æ•ˆæ—¶ï¼ŒBDRæˆä¸ºDRã€‚&lt;br&gt;
å¦‚æœå…ˆé€‰ä¸¾DRï¼Œå†é€‰ä¸¾BDRï¼Œé‚£ä¹ˆå½“é€‰ä¸¾BDRçš„è¿‡ç¨‹ä¸­DRå¤±æ•ˆï¼Œé‚£ä¹ˆæ­¤æ—¶ç½‘ç»œä¸­æ—¢æ²¡æœ‰DRä¹Ÿæ²¡æœ‰BDRï¼Œåˆ‡æ¢å°†æ— æ³•è¿›è¡Œï¼ŒçŠ¶æ€æœºä¹Ÿå°±æ²¡åŠæ³•åšäº†ã€‚æ‰€ä»¥ï¼Œå…ˆæœ‰BDRï¼Œåæœ‰DRæ˜¯ä¸ºäº†ä¿è¯çŠ¶æ€æœºèƒ½å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;helloæŠ¥æ–‡ä¸­çš„drå’Œbdrå­—æ®µä¸ºä»€ä¹ˆæ˜¯æ¥å£åœ°å€è€Œä¸æ˜¯routerid&#34;&gt;HelloæŠ¥æ–‡ä¸­çš„DRå’ŒBDRå­—æ®µä¸ºä»€ä¹ˆæ˜¯æ¥å£åœ°å€è€Œä¸æ˜¯RouterID&lt;/h2&gt;
&lt;p&gt;DBDã€LSRå’ŒLSUæ˜¯å¯ä»¥é€šè¿‡å•æ’­æ–¹å¼å‘é€çš„ï¼Œå•æ’­æŠ¥æ–‡éœ€è¦çš„æ˜¯DR othersä¸DRæˆ–è€…BDRç›¸è¿ çš„ DRæˆ–è€…BDRæ¥å£çš„IPï¼ˆå•æ’­æŠ¥æ–‡çš„ç›®çš„åœ°å€ï¼‰ï¼Œè€Œé€šè¿‡RouterIDæ˜¯æ— æ³•ä½œä¸ºå•æ’­æŠ¥æ–‡çš„ç›®çš„åœ°å€çš„&lt;/p&gt;
&lt;h2 id=&#34;æ”¶åˆ°lsaä¹‹åçš„å¤„ç†æµç¨‹&#34;&gt;æ”¶åˆ°LSAä¹‹åçš„å¤„ç†æµç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæŸ¥çœ‹æœ¬åœ°æ˜¯å¦æ˜¯å¦å­˜åœ¨æ­¤LSA
&lt;ol&gt;
&lt;li&gt;ä¸å­˜åœ¨ï¼šæ·»åŠ åˆ°æ•°æ®åº“-&amp;gt;å›å¤LSAck-&amp;gt;æ³›æ´ªè¯¥LSA-&amp;gt;ä½¿ç”¨SPFç®—æ³•è®¡ç®—è·¯ç”±&lt;/li&gt;
&lt;li&gt;å­˜åœ¨ï¼šæ¯”è¾ƒLSAçš„æ–°æ—§&lt;br&gt;
1. æ–°ï¼šæ·»åŠ åˆ°æ•°æ®åº“-&amp;gt;å›å¤LSAck-&amp;gt;æ³›æ´ªè¯¥LSA-&amp;gt;ä½¿ç”¨SPFç®—æ³•è®¡ç®—è·¯ç”±&lt;br&gt;
2. æ—§ï¼šå¿½ç•¥è¯¥æ¡LSAï¼Œå‘é€æœ¬åœ°æ›´æ–°çš„LSUç»™å‘é€(LSA)æ–¹&lt;br&gt;
3. ç›¸åŒï¼šå¿½ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfè·¯ç”±çš„ä¼˜å…ˆçº§&#34;&gt;OSPFè·¯ç”±çš„ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;é¦–å…ˆæ¯”è¾ƒè·¯ç”±ç±»å‹&lt;/strong&gt;ï¼šO(ä¸€ç±»å’ŒäºŒç±») &amp;gt; OIA(ä¸‰ç±») &amp;gt; OE1=ON1(æ¯”è¾ƒcost) &amp;gt; OE2=ON2(æ¯”è¾ƒcost)ã€äº”ç±»å’Œä¸ƒç±»çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œå³åä¸ºä¸åŒºåˆ†äº”ç±»å’Œä¸ƒç±»LSAã€‘&lt;br&gt;
å¦‚æœè·¯ç”±ç±»å‹ç›¸åŒçš„æƒ…å†µä¸‹&lt;strong&gt;å†æ¯”è¾ƒcostå€¼&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;5ç±»lsaä¸ºä»€ä¹ˆéœ€è¦faåœ°å€&#34;&gt;5ç±»LSAä¸ºä»€ä¹ˆéœ€è¦FAåœ°å€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†é˜²æ­¢æ¬¡ä¼˜è·¯å¾„å’Œç¯è·¯&lt;/p&gt;
&lt;h3 id=&#34;1-æ¬¡ä¼˜è·¯å¾„&#34;&gt;1. æ¬¡ä¼˜è·¯å¾„&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612068963552.png&#34; alt=&#34;FAåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
AR1/2/3é€šè¿‡äº¤æ¢æœºäº’è”ï¼Œåªåœ¨AR1/2ä¹‹é—´è¿è¡ŒOSPFï¼Œåœ¨AR2ä¸Šå¼•å…¥å¤–éƒ¨è·¯ç”±AR3çš„3.3.3.3ã€‚&lt;br&gt;
AR2æ˜¯ASBRï¼Œç„¶ååœ¨åŒºåŸŸå†…æ³›æ´ª5ç±»LSAï¼Œé‚£ä¹ˆAR1æƒ³è¦è®¿é—®AR3ï¼Œå¦‚æœæ²¡æœ‰FAåœ°å€çš„æƒ…å†µä¸‹ï¼Œåˆ™è·¯ç”±ä¸ºAR1--AR2--AR3ï¼Œå¾ˆæ˜æ˜¾è¿™æ˜¯æ¬¡ä¼˜è·¯å¾„ã€‚&lt;br&gt;
å¦‚æœå­˜åœ¨FAåœ°å€ï¼Œé‚£ä¹ˆAR1æ”¶åˆ°5ç±»LSAä¹‹åï¼Œåªä¼šè®¡ç®—åˆ°è¾¾FAåœ°å€(AR3ç‰©ç†æ¥å£åœ°å€)çš„è·ç¦»çŸ¢é‡ï¼Œé‚£ä¹ˆè·¯ç”±ä¸ºAR1--AR3ï¼Œä¸éœ€è¦ç»è¿‡ASBRï¼ˆAR2ï¼‰çš„è½¬å‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-ç¯è·¯&#34;&gt;2. ç¯è·¯&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612196473018.bmp&#34; alt=&#34;ç¯è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨R1ä¸Šå¼•å…¥å¤–éƒ¨è·¯ç”±1.1.1.0/24ï¼Œé»˜è®¤ä¸ºç±»å‹2ï¼Œé»˜è®¤costä¸º1ï¼ˆå³å¤–éƒ¨costï¼‰&lt;br&gt;
æœ‰FAåœ°å€çš„æƒ…å†µï¼šR4è®¿é—®1.1.1.0/24çš„è·¯å¾„ä¸ºR4--R2--R1&lt;br&gt;
æ²¡æœ‰FAåœ°å€çš„æƒ…å†µï¼šR4è®¿é—®1.1.1.0/24çš„è·¯å¾„ä¸ºR4--R3--R2--R4ï¼ˆç¯è·¯ï¼‰&lt;br&gt;
&lt;strong&gt;åˆ†ææ­¥éª¤å¦‚ä¸‹&lt;/strong&gt;ï¼š&lt;br&gt;
é»˜è®¤æƒ…å†µä¸‹è¿›è¡Œ7è½¬5é€‰æ‹©çš„æ˜¯RouterIDè¾ƒå¤§çš„ABRï¼Œåœ¨æ­¤æ‹“æ‰‘ä¸­ä¸ºAR3ï¼ˆå³AR3ä¸ºASBRï¼‰ï¼Œåˆ™NSSAåŒºåŸŸå†…7ç±»LSAçš„è½¬å‘è·¯å¾„ä¸ºR1--R2--R3ã€‚&lt;br&gt;
å¦‚æœæ­£å¸¸æºå¸¦FAåœ°å€ï¼ŒR3è½¬æ¢æˆçš„5ç±»LSAæºå¸¦æ­£å¸¸çš„FAåœ°å€ï¼Œé‚£ä¹ˆR4æ”¶åˆ°5ç±»LSAæ—¶ï¼ŒåŒæ—¶ä¼šé€šå‘Šç»™R2ï¼ŒR4ä¼šè®¡ç®—åˆ°è¾¾FAåœ°å€çš„costï¼ˆ10+1ï¼‰ï¼Œä¼˜é€‰R1ã€‚&lt;br&gt;
å¦‚æœ7ç±»LSAä¸æºå¸¦FAåœ°å€æˆ–è€…å°†7è½¬5æŠ‘åˆ¶æ‰ï¼ŒR2æ”¶åˆ°ä¹‹åå‘ç°7ç±»LSAä¸­æ²¡æœ‰LSAï¼Œé‚£ä¹ˆåªè®¡ç®—åˆ°å¤§ASBRçš„è·ç¦»ï¼Œé€šè¿‡5ç±»ï¼ˆR4ä¼ ç»™R2çš„5ç±»LSAï¼‰åˆ°å¤§ASBRçš„å†…éƒ¨costä¸º2ï¼Œé€šè¿‡7ç±»åˆ°è¾¾ASBRçš„å†…éƒ¨costä¸º10ï¼Œæ‰€ä»¥ä¼˜é€‰5ç±»LSAï¼Œå³ä¸‹ä¸€è·³ä¸ºR4ã€‚AR2è®¿é—®1.1.1.0/24çš„è·¯å¾„ä¸ºAR2--AR4--AR3--AR2--AR4ï¼Œå› æ­¤æˆç¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¤–éƒ¨è·¯ç”±é€‰è·¯é—®é¢˜&#34;&gt;å¤–éƒ¨è·¯ç”±é€‰è·¯é—®é¢˜&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612070863853.bmp&#34; alt=&#34;å¤–éƒ¨è·¯ç”±é€‰è·¯é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨AR2å’ŒAR3ä¸Šå°†ripè·¯ç”±å¼•å…¥OSPFï¼Œåˆ†ä»¥ä¸‹åœºæ™¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼•å…¥æ—¶ä¸é…ç½®è·¯ç”±ç±»å‹ï¼ˆé»˜è®¤ä¸ºOE2ï¼‰ã€ä¸æŒ‡å®šcostå€¼ï¼ˆé»˜è®¤costå€¼ä¸º1ï¼‰ï¼Œåˆ™åœ¨AR4ä¸Šé€‰è·¯æ—¶ä¼šè¿›è¡Œè´Ÿè½½ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨AR2ä¸ŠæŒ‡å®šcostå€¼ä¸º2ï¼ŒAR3ä¸ŠæŒ‡å®šcostå€¼ä¸º1ï¼Œè·¯ç”±ç±»å‹éƒ½æ˜¯é»˜è®¤çš„OE2ï¼Œåˆ™AR4ä¼šé€‰æ‹©AR3ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨AR2ä¸ŠæŒ‡å®šè·¯ç”±ç±»å‹ä¸ºOE1ï¼ˆcost=2ï¼‰ï¼ŒAR3ä¸Šä¸ºé»˜è®¤çš„OE2ï¼ˆcost=1ï¼‰ï¼Œåˆ™AR4ä¼šé€‰æ‹©AR2ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨AR2/3ä¸ŠæŒ‡å®šè·¯ç”±ç±»å‹ä¸ºOE1ï¼ŒAR2çš„costä¸º2ï¼ŒAR3çš„costä¸º1ï¼Œåˆ™AR4ä¼šé€‰æ‹©AR3ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨AR2/3å¼•å…¥æ—¶ä¿æŒé»˜è®¤ï¼Œå³è·¯ç”±ç±»å‹ä¸ºOE2ï¼Œcost=1ï¼Œå°†AR4çš„g0/0/1ï¼ˆä¸AR2ç›¸è¿ï¼‰çš„costæ”¹ä¸º10ï¼Œg0/0/0ï¼ˆä¸AR3ç›¸è¿ï¼‰çš„costæ”¹ä¸º20ï¼Œåˆ™AR4ä¼˜é€‰AR2&lt;code&gt;OE2åœ¨å¤–éƒ¨costç›¸åŒæ—¶æ¯”è¾ƒå†…éƒ¨cost&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨5çš„åŸºç¡€ä¸Šå°†AR2å¼•å…¥æ—¶çš„costå€¼æ”¹ä¸º2ï¼Œåˆ™AR4ä¼˜å…ˆAR3&lt;code&gt;å…ˆæ¯”è¾ƒå¤–éƒ¨cost&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨6çš„åŸºç¡€ä¸Šå°†AR3å¼•å…¥çš„costæ”¹ä¸º10ã€ç±»å‹ä¸ºOE1ï¼ˆAR2ä¸Šcost=2ï¼ŒOE2ï¼Œå†…éƒ¨cost10ï¼›AR3ä¸Šcostä¸º10ï¼ŒOE1ï¼Œå†…éƒ¨cost20ï¼‰ï¼ŒAR4ä¼˜é€‰AR3&lt;code&gt;é¦–å…ˆæ¯”è¾ƒè·¯ç”±ç±»å‹OE1&amp;gt;OE2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;AR2å’ŒAR3ä¸Šå‡ä¸ºOE2ã€cost=1ã€å†…éƒ¨cost=10ï¼Œç°åœ¨å°†AR2çš„g0/0/0å®£å‘Šè¿›ospfï¼Œåˆ™AR4ä¼˜é€‰AR3&lt;code&gt;AR2åœ¨é€šå‘Šçš„5ç±»LSAä¸­ä¼šæºå¸¦FAåœ°å€ï¼ŒFAåœ°å€ä¸ºå¼•å…¥å¤–éƒ¨è·¯ç”±ä¸‹ä¸€è·³åœ°å€ï¼Œå³AR1çš„g0/0/0æ¥å£åœ°å€ï¼Œé‚£ä¹ˆAR4è®¡ç®—åˆ°è¾¾FAåœ°å€çš„è·ç¦»10+1=11ï¼›è€ŒAR3é€šå‘Šçš„5ç±»LSAæ²¡æœ‰FAåœ°å€ï¼Œé‚£ä¹ˆåªè®¡ç®—åˆ°è¾¾AR3çš„è·ç¦»10ï¼Œæ‰€ä»¥ä¼šä¼˜é€‰AR3&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¼•å…¥1211024å’Œ1211030ä¸¤æ¡å¤–éƒ¨è·¯ç”±ä¼šé€šå‘Šå‡ æ¡5ç±»lsa&#34;&gt;å¼•å…¥12.1.1.0/24å’Œ12.1.1.0/30ä¸¤æ¡å¤–éƒ¨è·¯ç”±ï¼Œä¼šé€šå‘Šå‡ æ¡5ç±»LSA?&lt;/h2&gt;
&lt;p&gt;ä¸¤æ¡ã€‚&lt;br&gt;
é€šè¿‡åˆ¤æ–­å¤´éƒ¨typeã€ADVå’ŒLS IDæ¥åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€æ¡LSAï¼Œè¿™ä¸¤æ¡5ç±»LSAï¼Œé€šå‘Š12.1.1.0/24çš„å‰ç¼€ä»ç„¶ä¸º12.1.1.0ï¼Œä½†æ˜¯é€šå‘Š12.1.1.0/30çš„å‰ç¼€å˜ä¸º12.1.1.3ï¼Œå³æœ¬ç½‘æ®µçš„å¹¿æ’­åœ°å€ï¼Œç„¶åé€šè¿‡5ç±»LSAä¸­çš„ç½‘ç»œæ©ç æ¥æ¢å¤åœ°å€ï¼Œå³å¦‚æœ&lt;strong&gt;å‡ºç°LSIDå†²çª&lt;/strong&gt;ï¼Œä¼š&lt;strong&gt;ä½¿ç”¨æœ¬ç½‘æ®µçš„å¹¿æ’­åœ°å€æ¥æ›¿ä»£ç½‘ç»œå‰ç¼€æ¥é€šå‘Šæœ¬ç½‘æ®µ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸åŒè¿›ç¨‹ä¸‹å­¦åˆ°åŒä¸€æ¡è·¯ç”±ç±»åˆ«å’Œå¼€é”€éƒ½ç›¸åŒ&#34;&gt;ä¸åŒè¿›ç¨‹ä¸‹å­¦åˆ°åŒä¸€æ¡è·¯ç”±(ç±»åˆ«å’Œå¼€é”€éƒ½ç›¸åŒ)&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1612077070764.png&#34; alt=&#34;ä¸åŒè¿›ç¨‹ä¸‹å­¦åˆ°åŒä¸€æ¡è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;è·¯ç”±è¡¨ä¸­ä¼šè¿›è¡Œè´Ÿè½½&lt;/strong&gt;ã€‚å¦‚æœASBR1å¼•å…¥æ—¶è·¯ç”±ç±»å‹ä¸ºOE1ï¼ŒASBR2å¼•å…¥æ—¶ä¸ºOE2ï¼Œä¹Ÿæ˜¯è´Ÿè½½ï¼Œå› ä¸º&lt;strong&gt;ä¸åŒè¿›ç¨‹ä¸‹æ˜¯ä¸ä¼šè¿›è¡Œè·¯ç”±ç±»å‹æ¯”è¾ƒçš„ï¼Œç”±è·¯ç”±è¡¨å†³å®šï¼Œå…ˆæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œå†æ¯”è¾ƒcostå€¼&lt;/strong&gt;ã€‚R1ä¼šä»2ä¸ªè¿›ç¨‹æ”¶åˆ°åŒä¸€æ¡è·¯ç”±ï¼Œæ¯ä¸ªè¿›ç¨‹ä¸‹å„è‡ªé€‰è·¯è£…è¿›è·¯ç”±è¡¨ï¼Œç­‰åŒäºä¸¤ä¸ªè·¯ç”±åè®®ä¹‹é—´é€‰æ‹©å“ªæ¡è·¯ç”±è¿›å…¥è·¯ç”±è¡¨ï¼Œå†³å®šæƒåœ¨è·¯ç”±è¡¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•å‡å°ospfçš„lsdbçš„å¤§å°&#34;&gt;å¦‚ä½•å‡å°ospfçš„lsdbçš„å¤§å°&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†åŒºåŸŸè®¾è®¡ï¼š1ç±»å’Œ2ç±»LSAåªåœ¨æœ¬åŒºåŸŸæ³›æ´ªï¼Œåˆ†åŒºåŸŸåå¯ä»¥å‡å°‘æ¯ä¸ªåŒºåŸŸ1ç±»å’Œ2ç±»LSAçš„æ•°é‡&lt;/li&gt;
&lt;li&gt;ç‰¹æ®ŠåŒºåŸŸï¼šç‰¹æ®ŠåŒºåŸŸæ— æ³•ä¼ é€’5ç±»ï¼Œå¯ä»¥å‡å°‘ospfåŸŸä¸­5ç±»LSAçš„æ•°é‡&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤çš„æ–¹å¼æœ‰ä¸‰ç§ï¼š
&lt;ol&gt;
&lt;li&gt;filterå‘½ä»¤è¿‡æ»¤3ç±»LSAï¼Œåœ¨åŒºåŸŸä¸‹ä½¿ç”¨ï¼Œå¯ä»¥åœ¨ importå’Œexportæ–¹å‘&lt;/li&gt;
&lt;li&gt;filter lsa outå‘½ä»¤è¿‡æ»¤3ç±»ã€5ç±»ã€7ç±»æˆ–è€…å…¨éƒ¨LSA&lt;/li&gt;
&lt;li&gt;filter-policyï¼Œåœ¨ospfæ‰§è¡Œäº†SPFè®¡ç®—åï¼Œå¯¹åŠ å…¥è·¯ç”±è¡¨çš„è·¯ç”±è¿›è¡Œè¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ±‡æ€»ï¼šsummary+not-advertiseï¼Œæ±‡æ€»ä¹Ÿå¯ä»¥æ‰§è¡Œè¿‡æ»¤ã€‚éœ€è¦æ³¨æ„åšäº†è™šé“¾è·¯çš„åŒºåŸŸä¸èƒ½é’ˆå¯¹åŒºåŸŸ0çš„è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼Œå¦åˆ™å¯èƒ½ä¼šäº§ç”Ÿç¯è·¯&lt;/li&gt;
&lt;li&gt;2ç±»LSAä¹Ÿå¯ä»¥å‡å°ospfçš„LSDBï¼Œä½†è¿™ä¸å±äºæˆ‘ä»¬æ§åˆ¶èŒƒå›´&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfçš„è·¯ç”±é€‰è·¯åŸåˆ™ä»¥åŠè´Ÿè½½çš„åœºæ™¯&#34;&gt;OSPFçš„è·¯ç”±é€‰è·¯åŸåˆ™ä»¥åŠè´Ÿè½½çš„åœºæ™¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é€‰è·¯åŸåˆ™ï¼šåŒºåŸŸå†…&amp;gt;åŒºåŸŸé—´&amp;gt;åŒºåŸŸå¤–ï¼ˆç±»å‹1&amp;gt;ç±»å‹2&lt;code&gt;ï¼ˆé»˜è®¤å¤–éƒ¨è·¯ç”±ç±»å‹ï¼‰&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±é€‰è·¯ï¼š&lt;code&gt;ç±»å‹1ï¼ˆcostä¸ºå†…å¤–ä¹‹å’Œï¼‰&amp;gt;ç±»å‹2ï¼ˆcostå†…å¤–åˆ†ç¦»ï¼Œå…ˆçœ‹å¤–å†çœ‹å†…ï¼‰&lt;/code&gt;&lt;br&gt;
1. ç±»å‹1ï¼šcostè¶Šå°è¶Šä¼˜ &amp;gt; ä¼˜é€‰ééª¨å¹² &amp;gt; åŒºåŸŸå·è¶Šå¤§è¶Šä¼˜&lt;br&gt;
2. ç±»å‹2ï¼šå¤–éƒ¨costè¶Šå°è¶Šä¼˜ &amp;gt; å†…éƒ¨costè¶Šå°è¶Šä¼˜ &amp;gt; ä¼˜é€‰ééª¨å¹² &amp;gt; åŒºåŸŸå·è¶Šå¤§è¶Šä¼˜&lt;br&gt;
&lt;code&gt;å¤–éƒ¨è·¯ç”±è´Ÿè½½æ¡ä»¶ï¼šcostå’ŒåŒºåŸŸä¸€è‡´&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸¾ä¾‹ï¼šR4ä¸R5ä¸Šåˆ†åˆ«å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œé—®R1å¦‚ä½•å»å¾€è¿™ä¸¤æ¡å¤–éƒ¨è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1612453012239.png&#34; alt=&#34;R1å¦‚ä½•å»å¾€è¿™ä¸¤æ¡å¤–éƒ¨è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†æ4.4.4.4/32å¤–éƒ¨è·¯ç”±ï¼š&lt;br&gt;
R4å¼•å…¥è¿™æ¡å¤–éƒ¨è·¯ç”±ï¼Œä¼šåœ¨åŒºåŸŸ0å’ŒåŒºåŸŸ1å‡å‘å¸ƒä¸€æ¡5ç±»LSAä½†ä¸ä¼šå‘å¸ƒ4ç±»LSAï¼ŒR1ä¹Ÿå¯ä»¥åœ¨åŒºåŸŸ0å’ŒåŒºåŸŸ1æ”¶åˆ°5ç±»LSAï¼Œå¯¹äºè¯¥è·¯ç”±ASBRæ˜¯R4ï¼ŒR1å¯ä»¥é€šè¿‡åŒºåŸŸå†…è·¯å¾„åˆ°è¾¾ï¼Œæ­¤æ—¶æœ‰ä¸¤æ¡åŒºåŸŸå†…è·¯å¾„ï¼ŒR1æŒ‰å¦‚ä¸‹é¡ºåºä¼˜é€‰ï¼š&lt;strong&gt;é»˜è®¤ä¸ºç±»å‹2ä¸”å¤–éƒ¨costä¸€æ ·ï¼Œé¦–å…ˆé€‰æ‹©å†…éƒ¨costå€¼è¾ƒå°çš„ï¼Œå…¶æ¬¡ä¼˜é€‰ééª¨å¹²ï¼Œå¦‚æœä»¥ä¸Šå‡ç›¸ç­‰ï¼Œåˆ™è´Ÿè½½åˆ†æ‹…&lt;/strong&gt;ã€‚ç»è¿‡æ¯”è¾ƒä¼˜é€‰R3ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†æ5.5.5.5/32è¿™æ¡è·¯ç”±ï¼š&lt;br&gt;
R4æ”¶åˆ°R5å‘å¸ƒçš„5ç±»LSAä¼šå‘åŒºåŸŸ0å’ŒåŒºåŸŸ1è½¬å‘ï¼ŒåŒæ—¶äº§ç”Ÿä¸€æ¡4ç±»LSAï¼Œè¯¥4ç±»LSAä¼šå‘åŒºåŸŸ0å’ŒåŒºåŸŸ1æ³›æ´ªã€‚R1åœ¨æ”¶åˆ°5ç±»LSAä¹‹åéœ€è¦æ ¹æ®4ç±»LSAè®¡ç®—è·¯å¾„ï¼ŒR1å¯ä»¥æ”¶åˆ°ä¸¤æ¡4ç±»LSAï¼Œåˆ†åˆ«é€šè¿‡åŒºåŸŸ0å’ŒåŒºåŸŸ1ï¼Œç”±äºR1è‡ªå·±ä¹Ÿæ˜¯ABRï¼Œå®ƒä¸ä¼šä½¿ç”¨ä»ééª¨å¹²åŒºåŸŸï¼ˆæ­¤æ—¶æ˜¯åŒºåŸŸ1ï¼‰æ¥æ”¶åˆ°çš„3ç±»å’Œ4ç±»LSAåšé€‰è·¯&lt;code&gt;å³4ç±»çš„é˜²ç¯æœºåˆ¶ï¼šçœŸABRå¯¹ä»ééª¨å¹²åŒºåŸŸæ¥æ”¶åˆ°é¢3ç±»å’Œ4ç±»LSAï¼Œåªæ¥æ”¶ä¸é€‰è·¯&lt;/code&gt;ï¼Œè¿™æ˜¯OSPFé˜²ç¯è®¾è®¡å†³å®šçš„ï¼Œå› æ­¤R1ä¼˜é€‰R2ä¸ºä¸‹ä¸€è·³ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¤–éƒ¨è·¯ç”±é€‰è·¯åŸåˆ™è¯¦è§£&#34;&gt;å¤–éƒ¨è·¯ç”±é€‰è·¯åŸåˆ™è¯¦è§£&lt;/h3&gt;
&lt;p&gt;RFC1583ä¸RFC2328æ˜¯&lt;strong&gt;é’ˆå¯¹å¤–éƒ¨è·¯ç”±ç”±ä¸åŒé€‰ä¼˜æ–¹å¼&lt;/strong&gt;ï¼š&lt;br&gt;
Xï¼ˆå†…éƒ¨å¼€é”€ï¼‰=å†…éƒ¨è®¾å¤‡åˆ°è½¬å‘åœ°å€(FA)çš„å¼€é”€ï¼ˆFAä¸º0æ—¶ï¼ŒXä¸ºåˆ°ASBRçš„å¼€é”€ï¼‰&lt;br&gt;
Yï¼ˆå¤–éƒ¨å¼€é”€ï¼‰=å¤–éƒ¨è·¯ç”±é‡åˆ†å‘è¿›æ¥æ—¶LSAæºå¸¦çš„å¼€é”€å€¼&lt;br&gt;
&lt;strong&gt;RFC2328ä¸RFC1583æ€»ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹äºå¤–éƒ¨è·¯ç”±ï¼Œtype1ä¼˜äºtype2
&lt;ol&gt;
&lt;li&gt;å¦‚æœåªæ˜¯type1é€‰ä¼˜
&lt;ol&gt;
&lt;li&gt;RFC1583ä¼˜é€‰X+Yæœ€å°çš„ï¼ŒX+Yç›¸ç­‰åˆ™è´Ÿè½½ï¼Œåªæ¯”è¾ƒX+Yï¼Œä¸å•ç‹¬æ¯”è¾ƒXå¤§å°æˆ–è€…Yå¤§å°&lt;/li&gt;
&lt;li&gt;RFC2328å…ˆæ¯”è¾ƒXçš„åŒºåŸŸï¼Œ&lt;strong&gt;ééª¨å¹²ä¼˜å…ˆ&lt;/strong&gt;ï¼Œå…¶æ¬¡å†æ¯”è¾ƒX+Y&lt;br&gt;
&lt;code&gt;å³ééª¨å¹²ä¼˜å…ˆï¼ŒX+Yè¶Šå°è¶Šä¼˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœåªæ˜¯type2é€‰ä¼˜
&lt;ol&gt;
&lt;li&gt;RFC1583ä¼˜é€‰Yæœ€å°ï¼Œå¦‚æœYç›¸ç­‰ï¼Œåˆ™æ¯”å¯¹Xï¼Œä¼˜å…ˆXæœ€å°ï¼ŒXä¹Ÿç›¸ç­‰åˆ™è´Ÿè½½&lt;/li&gt;
&lt;li&gt;RFC2328å…ˆæ¯”è¾ƒXçš„åŒºåŸŸï¼Œééª¨å¹²ä¼˜å…ˆï¼Œå†æ ¹æ®RFC1583æ¯”å¯¹ï¼Œå¦‚æœé€šè¿‡RFC1583å¯¹æ¯”ç»“æœæ˜¯å¤šæ¡éƒ½æ˜¯æœ€å°å¼€é”€ï¼Œåˆ™é€‰æ‹©å­¦ä¹ åˆ°çš„è¿™äº›LSAçš„åŒºåŸŸé‡ŒAreaIDæœ€å¤§çš„&lt;br&gt;
&lt;code&gt;å³ééª¨å¹²ä¼˜å…ˆï¼Œå¤–éƒ¨å¼€é”€è¶Šå°è¶Šä¼˜ï¼Œå†…éƒ¨å¼€é”€è¶Šå°è¶Šä¼˜ï¼ŒåŒºåŸŸIDè¶Šå¤§è¶Šä¼˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;Xçš„åŒºåŸŸæ¯”è¾ƒåªå½“å‰è·¯ç”±å™¨å»å¾€è½¬å‘åœ°å€(FA)çš„è·¯ç”±ï¼ˆå¦‚æœFA=0ï¼Œåˆ™æ˜¯å»å¾€ASBRçš„è·¯ç”±ï¼‰æ˜¯å¦ç»è¿‡éª¨å¹²åŒºåŸŸï¼Œè€Œæ— å…³ASBRæ˜¯å¦åœ¨éª¨å¹²åŒºåŸŸ&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ­£å¸¸åœºæ™¯é»˜è®¤oe2&#34;&gt;æ­£å¸¸åœºæ™¯ï¼ˆé»˜è®¤OE2ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090305320.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090315432.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090330296.png&#34; alt=&#34;4&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ä¸‹é¢åœºæ™¯å¯ä»¥æŒ‰ç…§costæœ€å°è€ƒè™‘ï¼Œå³å¿½ç•¥ééª¨å¹²ä¼˜å…ˆ&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090322224.png&#34; alt=&#34;3&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;éæ­£å¸¸åœºæ™¯éœ€è¦éªŒè¯é»˜è®¤oe2&#34;&gt;éæ­£å¸¸åœºæ™¯ï¼Œéœ€è¦éªŒè¯ï¼ˆé»˜è®¤OE2ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090337393.png&#34; alt=&#34;a&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090344048.png&#34; alt=&#34;b&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614090351344.png&#34; alt=&#34;c&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ospfv2å’Œv3çš„å¼‚åŒç‚¹&#34;&gt;OSPFv2å’Œv3çš„å¼‚åŒç‚¹&lt;/h2&gt;
&lt;h3 id=&#34;ç›¸åŒç‚¹&#34;&gt;ç›¸åŒç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œç±»å‹å’Œæ¥å£ç±»å‹&lt;/li&gt;
&lt;li&gt;æ¥å£çŠ¶æ€æœºå’Œé‚»å±…çŠ¶æ€æœº&lt;/li&gt;
&lt;li&gt;é“¾è·¯çŠ¶æ€æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;æ³›æ´ªæœºåˆ¶&lt;/li&gt;
&lt;li&gt;ç›¸åŒç±»å‹çš„æŠ¥æ–‡ï¼šHelloæŠ¥æ–‡ã€DBDæŠ¥æ–‡ã€LSRæŠ¥æ–‡ã€LSUæŠ¥æ–‡å’Œ LSAckæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;è·¯ç”±è®¡ç®—åŸºæœ¬ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸åŒç‚¹&#34;&gt;ä¸åŒç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;v3åŸºäºé“¾è·¯ï¼Œè€Œä¸æ˜¯ç½‘æ®µ&lt;br&gt;
v3è¿è¡Œåœ¨IPv6åè®®ä¸Šï¼ŒIPv6æ˜¯åŸºäºé“¾è·¯è€Œä¸æ˜¯åŸºäºç½‘æ®µçš„ã€‚&lt;br&gt;
åœ¨é…ç½®v3æ—¶ï¼Œä¸éœ€è¦è€ƒè™‘æ˜¯å¦é…ç½®åœ¨åŒä¸€ç½‘æ®µï¼Œåªè¦åœ¨åŒä¸€é“¾è·¯ï¼Œå°±å¯ä»¥ä¸é…ç½®IPv6å…¨å±€åœ°å€è€Œç›´æ¥å»ºç«‹è”ç³»&lt;/li&gt;
&lt;li&gt;v3ä¸Šç§»é™¤äº†IPåœ°å€çš„æ„ä¹‰&lt;br&gt;
v3ä¸Šç§»é™¤äº†IPåœ°å€çš„æ„ä¹‰ï¼Œ1ç±»å’Œ2ç±»LSAä¸­ä¸å†æœ‰ç½‘ç»œä¿¡æ¯ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä½¿â€œæ‹“æ‰‘ä¸åœ°å€åˆ†ç¦»â€ã€‚&lt;br&gt;
v3å¯ä»¥ä¸ä¾èµ–IPv6å…¨å±€åœ°å€çš„é…ç½®æ¥è®¡ç®—OSPFv3çš„æ‹“æ‰‘ï¼ŒIPv6å…¨å±€åœ°å€ä»…ç”¨äºè™šè¿æ¥æ¥å£&lt;/li&gt;
&lt;li&gt;v3çš„æŠ¥æ–‡åŠLSAæ ¼å¼å‘ç”Ÿæ”¹å˜&lt;br&gt;
v3æŠ¥æ–‡ä¸åŒ…å«IPåœ°å€ï¼Œv3çš„1ç±»å’Œ2ç±»LSAé‡Œä¸åŒ…å«IPåœ°å€ï¼ŒIPåœ°å€éƒ¨åˆ†ç”±&lt;strong&gt;æ–°å¢çš„ä¸¤ç±»LSA&lt;/strong&gt;ï¼ˆType8: Link-LSAï¼›Type9: Intra-Area-Prefix-LSAï¼‰å®£å‘Šã€‚&lt;br&gt;
v3çš„Router IDã€Area IDå’ŒLSA Link State IDä¸å†è¡¨ç¤ºIPåœ°å€ï¼Œä½†ä»ä¿ç•™IPv4åœ°å€æ ¼å¼ã€‚&lt;br&gt;
å¹¿æ’­ã€NBMAåŠP2MPç½‘ç»œä¸­ï¼Œé‚»å±…ä¸å†ç”±IPåœ°å€æ ‡è¯†ï¼Œåªç”±RouterIDæ ‡è¯†&lt;/li&gt;
&lt;li&gt;v3çš„LSAæŠ¥æ–‡é‡Œæ·»åŠ LSAçš„æ´ªæ³›èŒƒå›´&lt;br&gt;
v3åœ¨LSAæŠ¥æ–‡å¤´çš„LSA Typeé‡Œï¼Œæ·»åŠ LSAçš„æ´ªæ³›èŒƒå›´ï¼Œè¿™ä½¿å¾—v3çš„è·¯ç”±å™¨æ›´åŠ çµæ´»ï¼Œå¯ä»¥å¤„ç†ä¸èƒ½è¯†åˆ«çš„LSAï¼Œv3å¯ä»¥å­˜å‚¨æˆ–æ³›æ´ªä¸è¯†åˆ«çš„æŠ¥æ–‡ï¼Œè€Œv2åªä¸¢å¼ƒä¸è¯†åˆ«çš„æŠ¥æ–‡ã€‚&lt;br&gt;
v3å…è®¸æ´ªæ³›èŒƒå›´ä¸ºåŒºåŸŸæˆ–é“¾è·¯æœ¬åœ°ï¼Œå¹¶ä¸”è®¾ç½®Uä½ï¼ˆæŠ¥æ–‡å¯æŒ‰æ³›æ´ªèŒƒå›´ä¸ºé“¾è·¯æœ¬åœ°æ¥å¤„ç†ï¼‰çš„ä¸è¯†åˆ«æŠ¥æ–‡å­˜å‚¨æˆ–é€šè¿‡stubåŒºåŸŸã€‚&lt;br&gt;
ä¾‹å¦‚ï¼ŒR1å’ŒR2éƒ½å¯è¯†åˆ«æŸç±»LSAï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡R3è¿æ¥ï¼Œä½†R3ä¸è¯†åˆ«è¯¥ç±»LSAï¼Œå½“R1æ´ªæ³›æ­¤ç±» LSAæ—¶ï¼ŒR3è™½ç„¶ä¸è¯†åˆ«ï¼Œä½†è¿˜æ˜¯å¯ä»¥æ´ªæ³›ç»™R2ï¼ŒR2æ”¶åˆ°åç»§ç»­å¤„ç†&lt;/li&gt;
&lt;li&gt;v3æ”¯æŒä¸€ä¸ªé“¾è·¯ä¸Šå¤šä¸ªè¿›ç¨‹&lt;br&gt;
ä¸€ä¸ªv2ç‰©ç†æ¥å£ï¼Œåªèƒ½å’Œä¸€ä¸ªv2å®ä¾‹ç»‘å®šï¼Œä½†æ˜¯ä¸€ä¸ªv3çš„ç‰©ç†æ¥å£ï¼Œå¯ä»¥å’Œå¤šä¸ªv3å®ä¾‹ç»‘å®šï¼Œä½¿ç”¨ä¸åŒçš„å®ä¾‹IDè¿›è¡ŒåŒºåˆ†ã€‚&lt;br&gt;
è¿™äº›è¿è¡Œåœ¨åŒä¸€æ¡ç‰©ç†é“¾è·¯ä¸Šçš„å¤šä¸ªv3å®ä¾‹ï¼Œåˆ†åˆ«ä¸é“¾è·¯å¯¹ç«¯è®¾å¤‡å»ºç«‹é‚»å±…åŠå‘é€æŠ¥æ–‡ï¼Œä¸”äº’ä¸å¹²æ‰°ï¼Œå……åˆ†å…±äº«åŒä¸€é“¾è·¯èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;v3åˆ©ç”¨IPv6é“¾è·¯æœ¬åœ°åœ°å€&lt;br&gt;
IPv6ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€åœ¨åŒä¸€é“¾è·¯ä¸Šå‘ç°é‚»å±…åŠè‡ªåŠ¨é…ç½®ç­‰ã€‚è¿è¡ŒIPv6çš„è·¯ç”±å™¨ä¸è½¬å‘ç›®çš„åœ°å€ä¸ºé“¾è·¯æœ¬åœ°åœ°å€çš„IPv6æŠ¥æ–‡ï¼Œæ­¤ç±»æŠ¥æ–‡åªåœ¨åŒä¸€é“¾è·¯æœ‰æ•ˆã€‚é“¾è·¯æœ¬åœ°å•æ’­åœ°å€ä»FE80/10å¼€å§‹ã€‚&lt;br&gt;
v3æ˜¯è¿è¡Œåœ¨IPv6ä¸Šçš„è·¯ç”±åè®®ï¼ŒåŒæ ·é€‚ç”¨é“¾è·¯æœ¬åœ°åœ°å€æ¥ç»´æŒé‚»å±…ã€åŒæ­¥LSAæ•°æ®åº“ã€‚é™¤è™šè¿æ¥å¤–çš„æ‰€æœ‰v3æ¥å£éƒ½ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€ä½œä¸ºæºåœ°å€åŠä¸‹ä¸€è·³æ¥å‘é€v3æŠ¥æ–‡ã€‚&lt;br&gt;
è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä¸éœ€è¦é…ç½®IPv6å…¨å±€åœ°å€ï¼Œå°±å¯ä»¥å¾—åˆ°v3æ‹“æ‰‘ï¼Œå®ç°æ‹“æ‰‘ä¸åœ°å€åˆ†ç¦»ã€‚é€šè¿‡åœ¨é“¾è·¯ä¸Šæ³›æ´ªçš„æŠ¥æ–‡ä¸ä¼šä¼ åˆ°å…¶ä»–é“¾è·¯ä¸Šï¼Œæ¥å‡å°‘æŠ¥æ–‡ä¸å¿…è¦çš„æ³›æ´ªæ¥èŠ‚çœå¸¦å®½ã€‚&lt;/li&gt;
&lt;li&gt;v3ç§»é™¤æ‰€æœ‰è®¤è¯å­—æ®µ&lt;br&gt;
v3çš„è®¤è¯ç›´æ¥ä½¿ç”¨IPv6çš„è®¤è¯åŠå®‰å…¨å¤„ç†ï¼Œä¸å†éœ€è¦å…¶è‡ªèº«æ¥å®Œæˆè®¤è¯ï¼Œä½¿ç”¨åè®®æ—¶åªéœ€å…³æ³¨åè®®æœ¬èº«å³å¯&lt;/li&gt;
&lt;li&gt;æ–°å¢ä¸¤ç§LSA
&lt;ol&gt;
&lt;li&gt;Link LSAï¼ˆ8ç±»ï¼Œé“¾è·¯LSAï¼‰ï¼š&lt;br&gt;
ç”¨äºè·¯ç”±å™¨å®£å‘Šå„ä¸ªé“¾è·¯ä¸Šå¯¹åº”çš„é“¾è·¯æœ¬åœ°åœ°å€åŠå…¶æ‰€é…ç½®çš„IPv6å…¨å±€åœ°å€ï¼Œä»…åœ¨é“¾è·¯å†…æ´ªæ³›ã€‚&lt;br&gt;
è¯¥ç±»å‹LSA&lt;strong&gt;ä»…åœ¨æœ¬é“¾è·¯ä¸Šä¼ æ’­&lt;/strong&gt;ï¼Œå…·æœ‰ä»¥ä¸‹3ç§ç›®çš„ï¼šå‘æœ¬é“¾è·¯ä¸Šçš„å…¶å®ƒè·¯ç”±å™¨æä¾›è·¯ç”±å™¨çš„&lt;strong&gt;æœ¬é“¾è·¯åœ°å€&lt;/strong&gt;ï¼›å‘æœ¬é“¾è·¯ä¸Šçš„å…¶å®ƒè·¯ç”±å™¨&lt;strong&gt;é€šå‘ŠIPv6åœ°å€å‰ç¼€&lt;/strong&gt;ï¼Œä½¿å…¶ä¸æœ¬é“¾è·¯ç›¸å…³è”ï¼›å…è®¸è·¯ç”±å™¨åœ¨è¯¥ç±»å‹LSAä¸­æ’å…¥ä¸€äº›é€‰é¡¹æ¯”ç‰¹ï¼Œä¸ä¸ºæœ¬é“¾è·¯äº§ç”Ÿçš„ç½‘ç»œLSAç›¸å…³è”ã€‚&lt;/li&gt;
&lt;li&gt;Intra Area Prefix LSAï¼ˆ9ç±»ï¼ŒåŒºåŸŸå†…å‰ç¼€LSAï¼‰ï¼š&lt;br&gt;
ç”¨äºå‘å…¶ä»–è·¯ç”±å™¨å®£å‘Šæœ¬è·¯ç”±å™¨æˆ–æœ¬ç½‘ç»œï¼ˆå¹¿æ’­ç½‘ç»œåŠNBMAï¼‰çš„IPv6å…¨å±€åœ°å€ä¿¡æ¯ï¼Œåœ¨åŒºåŸŸå†…æ´ªæ³›ã€‚&lt;br&gt;
è¯¥ç±»å‹LSAåœ¨&lt;strong&gt;æœ¬åŒºåŸŸå†…ä¼ æ’­&lt;/strong&gt;ï¼Œå…·æœ‰ä»¥ä¸‹ä¸¤ç§åŠŸèƒ½ä¹‹ä¸€ï¼šé€šè¿‡å‚è€ƒç½‘ç»œLSAæŠŠIPv6åœ°å€å‰ç¼€ä¸ä¼ é€’ç½‘ç»œï¼ˆtransit networkï¼‰ç›¸å…³è”ï¼›æˆ–è€…é€šè¿‡å‚è€ƒè·¯ç”±å™¨LSAæŠŠIPv6åœ°å€å‰ç¼€ä¸è·¯ç”±å™¨ç›¸å…³è”ã€‚ä¸€å°è·¯ç”±å™¨å¯ä»¥ä¸ºç»™å®šçš„åŒºåŸŸäº§ç”Ÿå¤šä¸ªè¯¥ç±»å‹çš„LSAï¼Œè¿™äº›LSAä½¿ç”¨é“¾è·¯çŠ¶æ€IDå­—æ®µï¼ˆLink State IDï¼‰åŒºåˆ†ã€‚DR ä¸ºå®ƒæ‰€ä»£è¡¨çš„é“¾è·¯äº§ç”Ÿä¸€ä¸ªæˆ–å¤šä¸ªè¯¥ç±»å‹çš„LSAï¼Œå‘æ•´ä¸ªåŒºåŸŸå†…é€šå‘Šè¯¥é“¾è·¯çš„åœ°å€å‰ç¼€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;v3åªé€šè¿‡è·¯ç”±å™¨IDæ¥æ ‡è¯†é‚»å±…&lt;br&gt;
v2åœ¨å¹¿æ’­ã€NBMAåŠP2MPç½‘ç»œä¸­æ˜¯é€šè¿‡IPv4æ¥å£åœ°å€æ¥æ ‡è¯†çš„ã€‚&lt;br&gt;
OSPFv3åªé€šè¿‡Router IDæ¥æ ‡è¯†é‚»å±…ï¼Œè¿™æ ·å³ä½¿æ²¡æœ‰é…ç½®IPv6å…¨å±€åœ°å€ï¼Œæˆ–è€…IPv6å…¨å±€åœ°å€é…ç½®éƒ½ä¸åœ¨åŒä¸€ç½‘æ®µï¼Œv3çš„é‚»å±…è¿˜æ˜¯å¯ä»¥å»ºç«‹å¹¶ç»´æŠ¤çš„ï¼Œä»¥è¾¾åˆ°â€œæ‹“æ‰‘ä¸åœ°å€åˆ†ç¦»â€çš„ç›®çš„&lt;/li&gt;
&lt;/ol&gt;
">IGPåè®®-OSPF</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/igp-xie-yi-riplu-you-ji-chu/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%9F%BA%E7%A1%80&#34;&gt;è·¯ç”±åŸºç¡€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9B%B6%E6%95%A3%E7%9F%A5%E8%AF%86%E7%82%B9&#34;&gt;é›¶æ•£çŸ¥è¯†ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%84%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7%E5%8F%8A%E7%89%B9%E7%82%B9&#34;&gt;å„åè®®çš„ä¼˜å…ˆçº§åŠç‰¹ç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E5%A4%96%E9%83%A8%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦å¤–éƒ¨ä¼˜å…ˆçº§ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E6%AF%94%E8%BE%83%E5%A4%96%E9%83%A8%E4%BC%98%E5%85%88%E7%BA%A7%E5%92%8C%E5%86%85%E9%83%A8%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;ä»€ä¹ˆæƒ…å†µä¸‹æ¯”è¾ƒå¤–éƒ¨ä¼˜å…ˆçº§å’Œå†…éƒ¨ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E6%83%85%E5%86%B5%E4%B8%8B%E9%9C%80%E8%A6%81%E6%AF%94%E8%BE%83%E8%B7%AF%E7%94%B1%E6%9D%A1%E7%9B%AE%E7%9A%84metric%E5%80%BC&#34;&gt;ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æ¯”è¾ƒè·¯ç”±æ¡ç›®çš„metricå€¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E4%B9%88%E8%AE%BE%E8%AE%A1%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8F%E8%AE%AE%E4%BC%98%E5%85%88%E7%BA%A7%E4%B8%BA%E4%BD%95%E8%A6%81%E6%9C%89%E5%86%85%E5%A4%96%E4%B9%8B%E5%88%86&#34;&gt;åè®®ä¼˜å…ˆçº§ä¸ºä½•è¦æœ‰å†…å¤–ä¹‹åˆ†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rip&#34;&gt;RIP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ripv1%E5%92%8Cripv2%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;RIPV1å’ŒRIPV2çš„åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B1%E5%90%8C%E7%82%B9&#34;&gt;å…±åŒç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8D%E5%90%8C%E7%82%B9&#34;&gt;ä¸åŒç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rip%E8%B7%AF%E7%94%B1%E8%A1%A8%E7%9A%84%E5%BD%A2%E6%88%90&#34;&gt;RIPè·¯ç”±è¡¨çš„å½¢æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ripv1%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%9A%E5%91%8A%E5%92%8C%E6%8E%A5%E6%94%B6%E6%96%B9%E5%BC%8F&#34;&gt;RIPV1çš„è·¯ç”±é€šå‘Šå’Œæ¥æ”¶æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9A%E6%97%B6%E5%99%A8&#34;&gt;å®šæ—¶å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%B2%E7%8E%AF&#34;&gt;é˜²ç¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%97%E9%87%8D%E6%94%BE%E4%BF%9D%E6%8A%A4%E9%BB%98%E8%AE%A4%E5%85%B3%E9%97%AD&#34;&gt;æŠ—é‡æ”¾ä¿æŠ¤ï¼ˆé»˜è®¤å…³é—­ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%95%E6%92%AD&#34;&gt;å•æ’­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;è·¯ç”±åŸºç¡€&#34;&gt;è·¯ç”±åŸºç¡€&lt;/h1&gt;
&lt;h2 id=&#34;é›¶æ•£çŸ¥è¯†ç‚¹&#34;&gt;é›¶æ•£çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;RIPåŸºäºUDPï¼Œç«¯å£å·v1å’Œv2æ˜¯520ï¼Œripngæ˜¯521&lt;/li&gt;
&lt;li&gt;å¸¸è§IPåè®®å·ï¼š1-ICMPã€2-IGMPã€6-tcpã€17-udpã€47-greã€50-espã€88-eigrpã€89-ospfã€103-pimã€112-vrrp&lt;/li&gt;
&lt;li&gt;isisæ˜¯é€šè¿‡802.3æ‰¿è½½çš„ã€‚bgpæ˜¯é€šè¿‡tcpæ‰¿è½½çš„ï¼Œç›®çš„ç«¯å£å·ä¸º179ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±åè®®çš„åˆ†ç±»
&lt;ol&gt;
&lt;li&gt;æŒ‰ç…§åº”ç”¨èŒƒå›´
&lt;ol&gt;
&lt;li&gt;IGP: RIP\OSPF\ISISï¼Œç‰¹ç‚¹ï¼šåº”ç”¨åœ¨åŒä¸€ä¸ªASå†…åšè·¯ç”±äº’é€šï¼Œé€šå‘Šè·¯ç”±æ¡ç›®é€‰æ‹©æœ€ä¼˜è·¯å¾„ã€‚&lt;/li&gt;
&lt;li&gt;EGP: BGPï¼Œç‰¹ç‚¹ï¼šBGPçš„ä¸»è¦ç‰¹ç‚¹æ˜¯é’ˆå¯¹è·¯ç”±å®æ–½ç­–ç•¥ï¼Œå¯ä»¥æ›´å¥½çš„æ§åˆ¶å‘é€å’Œæ¥æ”¶çš„è·¯ç”±æ¡ç›®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§å·¥ä½œåŸç†&lt;br&gt;
&lt;code&gt;çŸ¢é‡ï¼šé é‚»å±…å­¦æ¥çš„è·¯ç”±ï¼Œä»…æŠŠæœ€ä¼˜çš„æ”¾å…¥è·¯ç”±è¡¨ï¼Œè·¯ç”±çš„metricåŠä¸‹ä¸€è·³ä»£è¡¨çŸ¢é‡&lt;/code&gt;&lt;br&gt;
&lt;code&gt;é“¾è·¯ï¼šæ¯å°è·¯ç”±å™¨çš„æ¯ä¸ªç‰©ç†é“¾è·¯ï¼Œæ ¹æ®å…¶ç½‘ç»œç±»å‹äº§ç”Ÿè‡³å°‘ä¸€ä¸ªé“¾è·¯çŠ¶æ€ï¼Œé“¾è·¯çŠ¶æ€è·¯ç”±åè®®ospfä½¿ç”¨lsa1å»æºå¸¦è¯¥è·¯ç”±å™¨ä¸Šæ‰€æœ‰çš„é“¾è·¯çŠ¶æ€æè¿°&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;è·ç¦»çŸ¢é‡DV&lt;code&gt;ç‰¹ç‚¹ï¼šåªé€šå‘Šè·¯ç”±è¡¨ä¸­æœ€ä¼˜è·¯ç”±&lt;/code&gt;ï¼šRIP(16è·³ä¸å¯è¾¾)ã€BGP(è·¯å¾„çŸ¢é‡æ›´ç¡®åˆ‡)&lt;/li&gt;
&lt;li&gt;é“¾è·¯çŠ¶æ€LSï¼šOSPFã€ISIS&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±é€šå‘Šæ–¹å¼ï¼š
&lt;ol&gt;
&lt;li&gt;æœ‰ç±»ï¼š RIPV1 (å³ä¸é€šå‘Šæ©ç é•¿åº¦ï¼Œä¸æ”¯æŒä¸è¿ç»­çš„å­ç½‘)&lt;/li&gt;
&lt;li&gt;æ— ç±»ï¼šRIPV2\BGP\OSPF\ISIS&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RIPå±äºè·ç¦»çŸ¢é‡ä¸”IGPåè®®&lt;/li&gt;
&lt;li&gt;ä¸æ¨èä½¿ç”¨RIPçš„ç†ç”±ï¼šåªé€‚åº”å°å‹ç½‘ç»œï¼Œè·³æ•°å°‘ï¼Œæ”¶æ•›æ…¢ï¼Œå®¹æ˜“å‡ºç¯ï¼Œä¸”æœ€å¥½å¸¦å®½ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Null0æ¥å£åœ¨å„è·¯ç”±åè®®ä¸­çš„ä½œç”¨ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«
&lt;ol&gt;
&lt;li&gt;åœ¨BGPä¸­æœ‰ä¸¤ç‚¹åŸå› ï¼šä¸€æ˜¯ä¸ºäº†å‘å¸ƒè¿›BGPï¼ŒäºŒæ˜¯ä¸ºäº†é˜²æ­¢ç¯è·¯çš„å‡ºç°ã€‚å› ä¸ºbgpå‘å¸ƒçš„è·¯ç”±å¿…é¡»æ˜¯æœ¬åœ°å­˜åœ¨çš„è·¯ç”±ï¼Œå¹¶ä¸”è¦æ±‚æ©ç ä¸€è‡´ï¼Œè¿™å°±é€ æˆé€šè¿‡bgpå‘å¸ƒèšåˆè·¯ç”±æ—¶ï¼Œæœ¬åœ°æ²¡æœ‰èšåˆåçš„ç½‘æ®µè·¯ç”±ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡é…ç½®ä¸€æ¡é»‘æ´è·¯ç”±ï¼Œå³ä¸‹ä¸€è·³ä¸ºnullï¼Œæ¥æ»¡è¶³è¿™ä¸€è¦æ±‚çš„ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨IGPä¸­é…ç½®æŒ‡å‘Null0çš„æ±‡æ€»è·¯ç”±æ—¶å‡æ˜¯ä¸ºäº†é˜²æ­¢ç¯è·¯çš„å‡ºç°ï¼ˆospfä¸ä¼šäº§ç”Ÿé»‘æ´è·¯ç”±ï¼Œä½†æ˜¯isisåœ¨æ±‡æ€»åä¼šäº§ç”Ÿé»‘æ´è·¯ç”±ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å„åè®®çš„ä¼˜å…ˆçº§åŠç‰¹ç‚¹&#34;&gt;å„åè®®çš„ä¼˜å…ˆçº§åŠç‰¹ç‚¹&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åè®®&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å¤–éƒ¨ä¼˜å…ˆçº§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å†…éƒ¨ä¼˜å…ˆçº§&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç›´è¿&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é™æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;60&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;60&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RIP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSPF&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSPF ASEå’ŒNSSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;150&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;150&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ISIS L1/L2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;15/15&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;15/18&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;EBGP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;255&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IBGP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;255&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;code&gt;åªèƒ½è°ƒæ•´å¤–éƒ¨ä¼˜å…ˆçº§ï¼Œä¸èƒ½è°ƒæ•´å†…éƒ¨ä¼˜å…ˆçº§&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦å¤–éƒ¨ä¼˜å…ˆçº§&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦å¤–éƒ¨ä¼˜å…ˆçº§ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥åŒºåˆ†ä¸åŒçš„è·¯ç”±åè®®&lt;br&gt;
å¦‚æœæ²¡æœ‰å¤–éƒ¨ä¼˜å…ˆçº§ï¼Œæˆ–è€…å¤–éƒ¨ä¼˜å…ˆçº§ä¸€æ ·ï¼Œé‚£ä¹ˆä¼šè®¤ä¸ºè®¤ä¸ºä¸¤æ¡è·¯ç”±æ˜¯æ¥è‡ªåŒä¸€ä¸ªè·¯ç”±åè®®ï¼ŒåŠ å…¥è¿™ä¸¤æ¡è·¯ç”±æ¥è‡ªä¸åŒçš„åè®®ï¼Œä¸åŒåè®®ä¹‹é—´çš„ç®—æ³•ä¸åŒï¼Œå¯èƒ½ä¼šå¯¼è‡´é«˜é€Ÿé“¾è·¯å’Œä½é€Ÿé“¾è·¯è´Ÿè½½åˆ†æ‹…çš„æƒ…å†µ&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæƒ…å†µä¸‹æ¯”è¾ƒå¤–éƒ¨ä¼˜å…ˆçº§å’Œå†…éƒ¨ä¼˜å…ˆçº§&#34;&gt;ä»€ä¹ˆæƒ…å†µä¸‹æ¯”è¾ƒå¤–éƒ¨ä¼˜å…ˆçº§å’Œå†…éƒ¨ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;å¦‚æœåŒä¸€æ¡è·¯ç”±æ¡ç›®é€šè¿‡ä¸åŒçš„è·¯ç”±åè®®å­¦ä¹ åˆ°ï¼Œéœ€è¦å…ˆæ¯”è¾ƒå¤–éƒ¨ä¼˜å…ˆçº§ï¼Œå¦‚æœå¤–éƒ¨ä¼˜å…ˆçº§ä¸€æ ·ï¼Œæ¯”è¾ƒå†…éƒ¨ä¼˜å…ˆçº§&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æ¯”è¾ƒè·¯ç”±æ¡ç›®çš„metricå€¼&#34;&gt;ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æ¯”è¾ƒè·¯ç”±æ¡ç›®çš„metricå€¼&lt;/h3&gt;
&lt;p&gt;å¦‚æœåŒä¸€æ¡è·¯ç”±æ¡ç›®é€šè¿‡åŒä¸€ç§è·¯ç”±åè®®çš„ä¸åŒé‚»å±…å­¦åˆ°ï¼Œéœ€è¦æ¯”è¾ƒmetricå€¼ï¼Œmetricå€¼è¶Šå°è¶Šä¼˜&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ä¼˜å…ˆçº§&#34;&gt;ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ä¼˜å…ˆçº§&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†é¿å…æ¬¡ä¼˜è·¯å¾„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611497356579.png&#34; alt=&#34;è®¾è®¡ä¼˜å…ˆçº§&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å·¦è¾¹è¿è¡ŒRIPï¼Œå³è¾¹è¿è¡ŒOSPFã€‚sw2ä¸Šçš„è·¯ç”±2.2.2.2/32ï¼Œåœ¨sw3ä¸Šä»RIPå¼•å…¥åˆ°ospfï¼Œç„¶åä¼ åˆ°sw1æ—¶ï¼Œripçš„ä¼˜å…ˆçº§ä¸º100ï¼Œospfçš„å¤–éƒ¨ä¼˜å…ˆçº§ä¸º150ï¼Œä¼˜é€‰RIPï¼Œåœ¨sw1ä¸Š2.2.2.2çš„è·¯ç”±ä¸º&lt;code&gt;sw1-&amp;gt;sw2&lt;/code&gt;ã€‚å¦‚æœospfçš„å†…éƒ¨å’Œå¤–éƒ¨ä¼˜å…ˆçº§éƒ½ä¸º10ï¼Œåˆ™sw1ä¸Šä¼šé€‰æ‹©ospfï¼Œåˆ™2.2.2.2çš„è·¯ç”±ä¸º&lt;code&gt;sw1-&amp;gt;sw4-&amp;gt;sw3-&amp;gt;sw2&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;åè®®ä¼˜å…ˆçº§ä¸ºä½•è¦æœ‰å†…å¤–ä¹‹åˆ†&#34;&gt;åè®®ä¼˜å…ˆçº§ä¸ºä½•è¦æœ‰å†…å¤–ä¹‹åˆ†&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶ä¸ºäº†æ§åˆ¶è·¯ç”±é€‰è·¯éœ€è¦æ›´æ”¹åè®®ä¼˜å…ˆçº§ï¼Œå°±è®¾å®šäº†å¯ä»¥æ”¹åŠ¨çš„å¤–éƒ¨ä¼˜å…ˆçº§ï¼Œ ä½†å› ä¸ºå¯ä»¥éšä¾¿æ›´æ”¹ï¼Œå°±ä¼šå‡ºç°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œä¸¤ç§ä¸åŒçš„åè®®ä¼˜å…ˆçº§è¢«è¯¯æ”¹ä¸ºç›¸åŒçš„ä¼˜å…ˆçº§ï¼Œæ¯”å¦‚RIPå’ŒOSPFä¼˜å…ˆçº§éƒ½æ”¹ä¸ºä¸€æ ·ï¼Œä½†è¿™ä¸¤ç§åè®®ä¸èƒ½å»æ¯”è¾ƒcostå€¼ï¼Œå› ä¸º&lt;strong&gt;ä¸¤ç§åè®®é—´æ¯”è¾ƒcostå€¼æ˜¯æ²¡æœ‰æ„ä¹‰çš„&lt;/strong&gt;ï¼Œæ‰€ä»¥æ­¤æ—¶å°±è®¾ç«‹äº†å†…éƒ¨ä¼˜å…ˆçº§ï¼Œå¹¶ä¸”ä¸èƒ½æ›´æ”¹ï¼Œé‚£ä¹ˆ&lt;strong&gt;åœ¨å¤–éƒ¨ä¼˜å…ˆçº§ç›¸åŒæƒ…å†µä¸‹å°±å¯ä»¥å»æ¯”è¾ƒå†…éƒ¨ä¼˜å…ˆçº§&lt;/strong&gt;ï¼Œä¿è¯æ¯”è¾ƒä¼˜å…ˆçº§å°±å¯ä»¥æ¯”è¾ƒå‡ºæ¥&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;rip&#34;&gt;RIP&lt;/h1&gt;
&lt;p&gt;è·¯ç”±ä¿¡æ¯åè®®ï¼ŒåŸºäºè·ç¦»çŸ¢é‡ç®—æ³•çš„åè®®ï¼Œä½¿ç”¨è·³æ•°ä½œä¸ºåº¦é‡æ¥è¡¡é‡åˆ°è¾¾ç›®çš„ç½‘ç»œçš„è·ç¦»ï¼Œé€‚ç”¨äºè§„æ¨¡è¾ƒå°çš„ç½‘ç»œä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ripv1å’Œripv2çš„åŒºåˆ«&#34;&gt;RIPV1å’ŒRIPV2çš„åŒºåˆ«&lt;/h2&gt;
&lt;h3 id=&#34;å…±åŒç‚¹&#34;&gt;å…±åŒç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;IGPåè®®&lt;/li&gt;
&lt;li&gt;å±äºè·ç¦»çŸ¢é‡è·¯ç”±é€‰æ‹©åè®®&lt;/li&gt;
&lt;li&gt;éƒ½å¯ä»¥é€šè¿‡å¹¿æ’­çš„æ–¹å¼é€šå‘Šè·¯ç”±æ¡ç›®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å•æ’­çš„æ–¹å¼é€šå‘Š&lt;/li&gt;
&lt;li&gt;éƒ½æ˜¯ä½¿ç”¨UDPåè®®æ‰¿è½½ï¼Œç«¯å£å·éƒ½ä¸º520&lt;/li&gt;
&lt;li&gt;éƒ½æ˜¯ä½¿ç”¨è·³æ•°è®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œæœ€å¤§è·³æ•°ä¸º15è·³ï¼Œ16è·³ä¸ºä¸å¯è¾¾&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ç±»å‹ç›¸åŒï¼Œåªæœ‰requestæŠ¥æ–‡å’ŒreponseæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;éƒ½å¯ä»¥æ¥æ”¶V1\V2ç‰ˆæœ¬çš„RIPæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;é€šå‘Šçš„æ¯æ¡è·¯ç”±æ¡ç›®é•¿åº¦éƒ½æ˜¯20å­—èŠ‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸åŒç‚¹&#34;&gt;ä¸åŒç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;RIPV1
&lt;ol&gt;
&lt;li&gt;æœ‰ç±»è·¯ç”±é€‰æ‹©åè®®ï¼Œä¸æ”¯æŒVLSM(å¯å˜é•¿å­ç½‘æ©ç ï¼Œåˆ’åˆ†å­ç½‘)å’ŒCIDR(æ— ç±»åˆ«åŸŸé—´è·¯ç”±ï¼Œèšåˆå­ç½‘)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒè®¤è¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å¹¿æ’­çš„æ–¹å¼é€šå‘ŠæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¸€æ¬¡æœ€å¤šé€šå‘Š25æ¡è·¯ç”±æ¡ç›®&lt;br&gt;
UDPçš„æŠ¥æ–‡é•¿åº¦å†³å®šçš„ï¼Œä¸”UDPä¸æ”¯æŒåˆ†æ®µã€‚UDPå¤´éƒ¨8å­—èŠ‚=æºç«¯å£+ç›®çš„ç«¯å£+é•¿åº¦+æ ¡éªŒå’Œå„2å­—èŠ‚ï¼ŒRIPå¤´éƒ¨æ˜¯4å­—èŠ‚ï¼ŒUDPè§„å®šæœ€å¤§å¯æ‰¿è½½é•¿åº¦ä¸º512Bï¼Œ512-8-4=500ï¼Œ500/20=25&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒTAGå’Œä¸‹ä¸€è·³&lt;/li&gt;
&lt;li&gt;é€šå‘Šè·¯ç”±ä¸æºå¸¦å­ç½‘æ©ç &lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RIPV2
&lt;ol&gt;
&lt;li&gt;æ— ç±»è·¯ç”±åè®®ï¼Œæ”¯æŒVLSMå’ŒCIDR&lt;/li&gt;
&lt;li&gt;æ”¯æŒè®¤è¯ï¼Œæ˜æ–‡ï¼ˆ20å­—èŠ‚ï¼Œä½äºRIPå¤´ä¹‹åï¼Œä¸€æ¡è·¯ç”±é•¿åº¦ï¼‰å’Œå¯†æ–‡ï¼ˆ40å­—èŠ‚ï¼‰&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨ç»„æ’­å’Œå¹¿æ’­çš„æ–¹å¼é€šå‘ŠæŠ¥æ–‡ï¼Œ&lt;strong&gt;ç»„æ’­åœ°å€224.0.0.9&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ— è®¤è¯æ—¶ä¸€æ¬¡æœ€å¤šå¯ä»¥é€šå‘Š25æ¡è·¯ç”±ï¼Œæœ‰æ˜æ–‡è®¤è¯å¯ä»¥é€šå‘Š24æ¡ï¼Œæœ‰å¯†æ–‡è®¤è¯å¯ä»¥é€šå‘Š23æ¡&lt;/li&gt;
&lt;li&gt;æ”¯æŒTAGå’Œä¸‹ä¸€è·³&lt;/li&gt;
&lt;li&gt;é€šè¿‡è·¯ç”±æºå¸¦å­ç½‘æ©ç &lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;V2åªæ˜¯å°†V1ä¸­å¿…é¡»ä¸º0çš„å­—æ®µç»™åˆ©ç”¨èµ·æ¥&lt;/code&gt;&lt;br&gt;
V1æŠ¥æ–‡æ ¼å¼ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611534626393.png&#34; alt=&#34;V1æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
V2æŠ¥æ–‡æ ¼å¼ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611534634224.png&#34; alt=&#34;V2æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Commandï¼šè¡¨ç¤ºè¯¥æŠ¥æ–‡æ˜¯ä¸€ä¸ªè¯·æ±‚æŠ¥æ–‡è¿˜æ˜¯å“åº”æŠ¥æ–‡ï¼Œåªèƒ½å–1(è¯·æ±‚æŠ¥æ–‡)æˆ–è€…2(å“åº”æŠ¥æ–‡)&lt;/li&gt;
&lt;li&gt;Versionï¼šè¡¨ç¤ºRIPçš„ç‰ˆæœ¬ä¿¡æ¯ã€‚å¯¹äºRIPv1ï¼Œè¯¥å­—æ®µçš„å€¼ä¸º1&lt;/li&gt;
&lt;li&gt;Address Family Identifierï¼ˆAFIï¼‰ï¼šè¡¨ç¤ºåœ°å€æ ‡è¯†ä¿¡æ¯ï¼Œå¯¹äºIPåè®®ï¼Œå…¶å€¼ä¸º2ï¼ˆV2è¿˜å¯ä»¥ç”¨æ¥æè¿°è®¤è¯ä¿¡æ¯ï¼‰&lt;/li&gt;
&lt;li&gt;IP addressï¼šè¡¨ç¤ºè¯¥è·¯ç”±æ¡ç›®çš„ç›®çš„IPåœ°å€ã€‚è¿™ä¸€é¡¹å¯ä»¥æ˜¯ç½‘ç»œåœ°å€ã€ä¸»æœºåœ°å€&lt;/li&gt;
&lt;li&gt;Metricï¼šæ ‡è¯†è¯¥è·¯ç”±æ¡ç›®çš„åº¦é‡å€¼ï¼Œå–å€¼èŒƒå›´1-16&lt;/li&gt;
&lt;li&gt;Route tagï¼šç”¨äºæ ‡è®°å¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;li&gt;Subnet Maskï¼šæŒ‡å®šIPåœ°å€çš„å­ç½‘æ©ç ï¼Œå®šä¹‰IPåœ°å€çš„ç½‘ç»œæˆ–å­ç½‘éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;Next Hopï¼šæŒ‡å®šé€šå¾€ç›®çš„åœ°å€çš„ä¸‹ä¸€è·³IPåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ripè·¯ç”±è¡¨çš„å½¢æˆ&#34;&gt;RIPè·¯ç”±è¡¨çš„å½¢æˆ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611536110100.png&#34; alt=&#34;RIPè·¯ç”±è¡¨çš„å½¢æˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
RIPå¯åŠ¨æ—¶çš„&lt;strong&gt;åˆå§‹è·¯ç”±è¡¨ä»…åŒ…å«æœ¬è®¾å¤‡çš„ä¸€äº›ç›´è¿æ¥å£è·¯ç”±&lt;/strong&gt;ã€‚&lt;br&gt;
RIPåè®®å¯åŠ¨ä¹‹åï¼ŒRouterAä¼šå‘ç›¸é‚»çš„è·¯ç”±å™¨å¹¿æ’­ä¸€ä¸ªRequestæŠ¥æ–‡ã€‚&lt;br&gt;
å½“RouterBä»æ¥å£æ¥æ”¶åˆ°RouterAå‘é€çš„RequestæŠ¥æ–‡åï¼ŒæŠŠè‡ªå·±çš„RIPè·¯ç”±è¡¨å°è£…åœ¨ResponseæŠ¥æ–‡å†…ï¼Œç„¶åå‘è¯¥æ¥å£å¯¹åº”çš„ç½‘ç»œå¹¿æ’­ã€‚&lt;br&gt;
RouterAæ ¹æ®RouterBå‘é€çš„ResponseæŠ¥æ–‡ï¼Œå½¢æˆè‡ªå·±çš„è·¯ç”±è¡¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ripv1çš„è·¯ç”±é€šå‘Šå’Œæ¥æ”¶æ–¹å¼&#34;&gt;RIPV1çš„è·¯ç”±é€šå‘Šå’Œæ¥æ”¶æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è·¯ç”±é€šå‘Šï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨åŒä¸€ä¸»ç±»ç½‘æ®µï¼Œæ©ç ä¸€è‡´ç›´æ¥é€šå‘Šï¼Œæ©ç ä¸ä¸€è‡´åªé€šå‘Š32ä½çš„ä¸»æœºè·¯ç”±ï¼Œå…¶ä»–åˆ™ä¸é€šå‘Š&lt;/li&gt;
&lt;li&gt;ä¸åœ¨åŒä¸€ä¸»ç±»ç½‘æ®µï¼Œåˆ™é€šå‘Šæ­¤ç½‘æ®µçš„ä¸»ç±»ç½‘æ®µ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ¥æ”¶ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨åŒä¸€ä¸»ç±»ç½‘æ®µï¼Œå¦‚æœä¸»æœºä½å…¨ä¸º0åˆ™è·¯ç”±çš„æ©ç ä¸ºæ¥å£åœ°å€çš„æ©ç ï¼Œå¦åˆ™ä¸º32ä½ä¸»æœºè·¯ç”±&lt;/li&gt;
&lt;li&gt;ä¸åœ¨åŒä¸€ä¸»ç±»ç½‘æ®µï¼Œæ¥æ”¶å…¶ä¸»ç±»ç½‘æ®µ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611537887553.png&#34; alt=&#34;è·¯ç”±é€šå‘Š&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»ç±»ç½‘ç»œï¼š&lt;br&gt;
Aç±»ï¼šç¬¬1å­—èŠ‚ä¸ºç½‘ç»œå·ï¼Œç¬¬1æ¯”ç‰¹ä¸º0ï¼Œå³1.0.0.0~126.0.0.0/8&lt;br&gt;
Bç±»ï¼šå‰2å­—èŠ‚ä¸ºç½‘ç»œå·ï¼Œå‰2æ¯”ç‰¹ä¸º10ï¼Œå³128.1.0.0~191.255.0.0/16&lt;br&gt;
Cç±»ï¼šå‰3å­—èŠ‚ä¸ºç½‘ç»œå·ï¼Œå‰3æ¯”ç‰¹ä¸º110ï¼Œå³192.0.1.0~223.255.255.0/24&lt;br&gt;
Dç±»ï¼šå¤šæ’­åœ°å€ï¼Œå‰4æ¯”ç‰¹ä¸º1110&lt;br&gt;
Eç±»ï¼šä¿ç•™åœ°å€ï¼Œå‰4æ¯”ç‰¹ä¸º1111&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å®šæ—¶å™¨&#34;&gt;å®šæ—¶å™¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ›´æ–°å®šæ—¶å™¨ï¼šå®šæ—¶è§¦å‘æ›´æ–°æŠ¥æ–‡çš„å‘é€ï¼Œé»˜è®¤30ç§’&lt;/li&gt;
&lt;li&gt;è€åŒ–å®šæ—¶å™¨ï¼šåœ¨è€åŒ–æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°æ›´æ–°æŠ¥æ–‡åˆ™è®¤ä¸ºè¯¥è·¯ç”±ä¸å¯è¾¾ï¼Œé»˜è®¤180ç§’&lt;/li&gt;
&lt;li&gt;åƒåœ¾æ”¶é›†å®šæ—¶å™¨ï¼šåœ¨åƒåœ¾æ”¶é›†æ—¶é—´å†…&lt;strong&gt;ä¸å¯è¾¾è·¯ç”±&lt;/strong&gt;æ²¡æœ‰æ”¶åˆ°æ¥è‡ªåŒä¸€é‚»å±…çš„æ›´æ–°ï¼Œåˆ™å½»åº•åˆ é™¤è¯¥è·¯ç”±ï¼Œé»˜è®¤120ç§’&lt;code&gt;ä¸€æ¡è·¯ç”±ä»å¤±æ•ˆåˆ°è¢«æ¸…é™¤éœ€è¦å¤šé•¿æ—¶é—´ï¼Ÿ300ç§’=180è€åŒ–å®šæ—¶å™¨+120åƒåœ¾æ”¶é›†å®šæ—¶å™¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŠ‘åˆ¶å®šæ—¶å™¨ï¼šå½“RIPè®¾å¤‡æ”¶åˆ°å¯¹ç«¯çš„è·¯ç”±æ›´æ–°ï¼Œ&lt;strong&gt;å…¶costä¸º16&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¯¹åº”è·¯ç”±è¿›å…¥æŠ‘åˆ¶çŠ¶æ€&lt;/strong&gt;ï¼Œå¹¶å¯åŠ¨æŠ‘åˆ¶å®šæ—¶å™¨ã€‚ä¸ºäº†&lt;strong&gt;é˜²æ­¢è·¯ç”±éœ‡è¡&lt;/strong&gt;ï¼Œåœ¨æŠ‘åˆ¶å®šæ—¶å™¨è¶…æ—¶ä¹‹å‰ï¼Œå³ä½¿å†æ”¶åˆ°å¯¹ç«¯è·¯ç”±costå°äº16çš„æ›´æ–°ï¼Œä¹Ÿä¸æ¥å—ï¼Œå½“æŠ‘åˆ¶å®šæ—¶å™¨è¶…æ—¶åï¼Œå°±é‡æ–°å…è®¸æ¥å—å¯¹ç«¯å‘é€çš„è·¯ç”±æ›´æ–°æŠ¥æ–‡ï¼Œé»˜è®¤0ç§’ï¼ˆ&lt;code&gt;è™½ç„¶å­˜åœ¨ä½†æ˜¯é»˜è®¤æ²¡æœ‰å¼€å¯ï¼Œé™¤éå°†æ—¶é—´ä¿®æ”¹ä¸ºé0æ‰èƒ½å‘æŒ¥å…¶ä½œç”¨&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å‰3ä¸ªå®šæ—¶å™¨çš„å…³ç³»&lt;/strong&gt;ï¼š&lt;br&gt;
RIPçš„æ›´æ–°ä¿¡æ¯å‘å¸ƒæ˜¯ç”±æ›´æ–°å®šæ—¶å™¨æ§åˆ¶çš„ï¼Œæ¯30ç§’å‘é€ä¸€æ¬¡ã€‚&lt;br&gt;
æ¯ä¸€æ¡è·¯ç”±è¡¨é¡¹å¯¹åº”ä¸¤ä¸ªå®šæ—¶å™¨ï¼šè€åŒ–å®šæ—¶å™¨å’Œåƒåœ¾æ”¶é›†å®šæ—¶å™¨ã€‚&lt;br&gt;
å½“å­¦åˆ°ä¸€æ¡è·¯ç”±å¹¶æ·»åŠ åˆ°è·¯ç”±è¡¨ä¸­æ—¶ï¼Œè€åŒ–å®šæ—¶å™¨å¯åŠ¨ï¼Œå¦‚æœåœ¨180ç§’åæ²¡æœ‰æ”¶åˆ°é‚»å±…å‘æ¥çš„æ›´æ–°æŠ¥æ–‡ï¼Œåˆ™æŠŠè¯¥è·¯ç”±çš„åº¦é‡å€¼ç½®ä¸º16ï¼ˆè¡¨ç¤ºè·¯ç”±ä¸å¯è¾¾ï¼‰ï¼Œ&lt;br&gt;
å¹¶å¯åŠ¨åƒåœ¾æ”¶é›†å®šæ—¶å™¨ï¼Œå¦‚æœåœ¨120ç§’å†…ä»ç„¶æ²¡æœ‰æ”¶åˆ°æ›´æ–°æŠ¥æ–‡ï¼Œåƒåœ¾æ”¶é›†å®šæ—¶å™¨è¶…æ—¶ååœ¨è·¯ç”±ä¸­åˆ é™¤è¯¥è¡¨é¡¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;é˜²ç¯&#34;&gt;é˜²ç¯&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;è·¯ç”±ä¸­æ¯’ï¼ˆè·¯ç”±æ¡ç›®å¤±æ•ˆåè®¾ç½®ä¸º16æ¡ï¼‰ä¸æ˜¯é˜²æ­¢çš„æœºåˆ¶ï¼Œè€Œæ˜¯é€šå‘Šè·¯ç”±æ¡ç›®å¤±æ•ˆçš„æ–¹æ³•&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ°´å¹³åˆ†å‰²ï¼šä»æŸä¸ªæ¥å£å­¦åˆ°çš„è·¯ç”±ï¼Œä¸ä¼šä»è¯¥æ¥å£å†å‘å›ç»™é‚»å±…è®¾å¤‡&lt;code&gt;å¹¿æ’­å’Œç‚¹åˆ°ç‚¹é»˜è®¤å¼€å¯ï¼ˆNBMAé»˜è®¤ä¸å¼€å¯ï¼‰ï¼Œä½†æ˜¯ä¸å¯é ï¼Œå› ä¸ºå‘é€æ–¹æ— æ³•ç¡®è®¤æ¥æ”¶æ–¹æ˜¯å¦æ”¶åˆ°è·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ¯’æ€§åè½¬ï¼šä»æŸä¸ªæ¥å£å­¦åˆ°è·¯ç”±åï¼Œå°†è¯¥è·¯ç”±çš„å¼€é”€è®¾ç½®ä¸º16ï¼Œå¹¶ä»åŸæ¥å£å‘å›é‚»å±…è®¾å¤‡ï¼Œæ¸…é™¤å¯¹æ–¹è·¯ç”±è¡¨ä¸­çš„æ— ç”¨è·¯ç”±&lt;code&gt;æ¥å£ä¸‹å¦‚æœåŒæ—¶å¼€å¯æ°´å¹³åˆ†å‰²å’Œæ¯’æ€§é€†è½¬ï¼Œåªæœ‰æ¯’æ€§é€†è½¬ç”Ÿæ•ˆ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœ€å¤§è·³æ•°ï¼š16è·³å³ä¸å¯è¾¾&lt;/li&gt;
&lt;li&gt;è§¦å‘æ›´æ–°ï¼šè·¯ç”±ä¿¡æ¯å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç«‹å³å‘é‚»å±…å‘é€è§¦å‘æ›´æ–°æŠ¥æ–‡ï¼Œé€šçŸ¥å˜åŒ–çš„è·¯ç”±ä¿¡æ¯&lt;br&gt;
&lt;code&gt;è§¦å‘æ›´æ–°å’Œæ›´æ–°å®šæ—¶å™¨å­˜åœ¨æ—¶é—´å·®ï¼Œè¿™ä¸ªæœ€åæ˜¯é€šè¿‡æœ€å¤§æ¡æ•°è§£å†³ç¯è·¯é—®é¢˜&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611541711315.png&#34; alt=&#34;è§¦å‘æ›´æ–°å’Œæœ€å¤§è·³æ•°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
sw1çš„lo0å¤±æ•ˆä¹‹åå‘é€è§¦å‘æ›´æ–°ç»™sw2(16è·³)ï¼Œç°åœ¨sw2åŒæ—¶ç»™sw3å’Œsw4å‘ï¼Œç»“æœsw3æ”¶åˆ°ååˆ é™¤ï¼Œæ­¤æ—¶sw4è¿˜æœªæ”¶åˆ°ï¼Œä½†æ˜¯æ›´æ–°å®šæ—¶å™¨åˆ°æ—¶é—´äº†ï¼Œå‘é€äº†æ›´æ–°æŠ¥æ–‡ï¼Œå¯¼è‡´sw3åˆå­¦åˆ°äº†sw1çš„lo0è·¯ç”±(2è·³)ï¼Œå³sw3è®¤ä¸ºä»sw4å¯ä»¥åˆ°è¾¾sw1(3è·³)ï¼Œç„¶åå°±å¼€å§‹å‘é€æ›´æ–°æŠ¥æ–‡ç»™sw2ï¼Œsw2è®¤ä¸ºä»sw3å¯ä»¥åˆ°è¾¾sw1(4è·³)ï¼Œsw2åˆç»™sw1/2/3å‘é€(5è·³)ï¼Œå¯¼è‡´å‡ºç¯ï¼Œè·³æ•°ä¸æ–­å¢åŠ ......æœ€ååˆ°è¾¾16æ¡ä¹‹åä¸å¯è¾¾&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ—é‡æ”¾ä¿æŠ¤é»˜è®¤å…³é—­&#34;&gt;æŠ—é‡æ”¾ä¿æŠ¤ï¼ˆé»˜è®¤å…³é—­ï¼‰&lt;/h2&gt;
&lt;p&gt;å‡è®¾è¿è¡ŒRIPçš„æ¥å£çŠ¶æ€å˜ä¸ºDownä¹‹å‰å‘é€çš„æœ€åçš„RIPæŠ¥æ–‡çš„Identificationä¸ºX&lt;code&gt;æ­¤éƒ¨åˆ†åœ¨IPå¤´éƒ¨ï¼Œè€Œä¸æ˜¯RIPå¤´éƒ¨&lt;/code&gt;ï¼Œè¯¥æ¥å£çŠ¶æ€å˜ä¸ºUpåï¼Œå†æ¬¡å‘é€RIPæŠ¥æ–‡çš„Identificationä¼šå˜ä¸º0ã€‚å¦‚æœå¯¹æ–¹æ²¡æœ‰æ”¶åˆ°è¿™ä¸ªIdentificationä¸º0çš„RIPæŠ¥æ–‡ï¼Œé‚£ä¹ˆåç»­çš„RIPæŠ¥æ–‡éƒ½å°†è¢«ä¸¢å¼ƒï¼Œç›´åˆ°æ”¶åˆ°Identificationä¸ºXï¼‹1çš„RIPæŠ¥æ–‡ã€‚è¿™æ ·å°±ä¼šå¯¼è‡´åŒæ–¹çš„RIPè·¯ç”±ä¿¡æ¯ä¸åŒæ­¥ã€ä¸¢å¤±ã€‚&lt;br&gt;
ä½¿èƒ½Replay-protectåŠŸèƒ½åï¼Œå½“æ¥å£ä»Downå˜ä¸ºUpä¹‹åï¼Œå†æ¬¡å‘é€RIPæŠ¥æ–‡çš„Identificationä¼šé¡ºæ¬¡åŠ ä¸€ï¼Œä»è€Œé¿å…äº†ä¸Šè¿°æƒ…å†µçš„å‘ç”Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;å•æ’­&#34;&gt;å•æ’­&lt;/h2&gt;
&lt;p&gt;éœ€è¦å°†ç«¯å£silentåå¹¶æŒ‡å®šä¸€ä¸ªpeerï¼Œé‚£ä¹ˆæ­¤ç«¯å£å°†ä¸ä¼šä»¥ç»„æ’­å’Œå¹¿æ’­çš„æ–¹å¼å‘é€æŠ¥æ–‡ï¼Œä½†æ˜¯è¿˜å¯ä»¥æ¥æ”¶&lt;/p&gt;
">IGPåè®®-è·¯ç”±åŸºç¡€+RIP</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/er-ceng-xie-yi-arp/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#arp&#34;&gt;ARP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#arp%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;ARPæŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#arp%E6%94%BB%E5%87%BB&#34;&gt;ARPæ”»å‡»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-arp%E6%B3%9B%E6%B4%AA%E6%94%BB%E5%87%BB%E6%8B%92%E7%BB%9D%E6%9C%8D%E5%8A%A1%E6%94%BB%E5%87%BBdos&#34;&gt;1. ARPæ³›æ´ªæ”»å‡»ï¼ˆæ‹’ç»æœåŠ¡æ”»å‡»Dosï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-arp%E6%AC%BA%E9%AA%97%E6%94%BB%E5%87%BB%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB&#34;&gt;2. ARPæ¬ºéª—æ”»å‡»ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mac%E5%9C%B0%E5%9D%80%E6%BC%82%E7%A7%BB&#34;&gt;MACåœ°å€æ¼‚ç§»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E5%BF%B5&#34;&gt;æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mac%E5%9C%B0%E5%9D%80%E6%BC%82%E7%A7%BB%E6%A3%80%E6%B5%8B&#34;&gt;MACåœ°å€æ¼‚ç§»æ£€æµ‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%87%E7%A8%8B&#34;&gt;è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%B2%E6%AD%A2mac%E5%9C%B0%E5%9D%80%E6%BC%82%E7%A7%BB&#34;&gt;é˜²æ­¢MACåœ°å€æ¼‚ç§»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%8C%E5%B1%82%E7%8E%AF%E8%B7%AF%E4%B8%8E%E4%B8%89%E5%B1%82%E7%8E%AF%E8%B7%AF%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;äºŒå±‚ç¯è·¯ä¸ä¸‰å±‚ç¯è·¯çš„åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8E%AF%E8%B7%AF%E5%8E%9F%E5%9B%A0&#34;&gt;ç¯è·¯åŸå› &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%8C%E5%B1%82%E8%AE%BE%E5%A4%87%E5%92%8C%E4%B8%89%E5%B1%82%E8%AE%BE%E5%A4%87%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%A1%8C%E4%B8%BA%E5%8C%BA%E5%88%AB&#34;&gt;äºŒå±‚è®¾å¤‡å’Œä¸‰å±‚è®¾å¤‡çš„å·¥ä½œè¡Œä¸ºåŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%8C%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%B7%A5%E4%BD%9C%E8%A1%8C%E4%B8%BA&#34;&gt;äºŒå±‚äº¤æ¢æœºå·¥ä½œè¡Œä¸º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E5%B1%82%E8%AE%BE%E5%A4%87%E5%B7%A5%E4%BD%9C%E8%A1%8C%E4%B8%BA&#34;&gt;ä¸‰å±‚è®¾å¤‡å·¥ä½œè¡Œä¸º&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8E%AF%E8%B7%AF%E7%9A%84%E5%BD%B1%E5%93%8D&#34;&gt;ç¯è·¯çš„å½±å“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%B2%E7%8E%AF%E6%9C%BA%E5%88%B6&#34;&gt;é˜²ç¯æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%92%8C%E8%B7%AF%E7%94%B1%E5%99%A8%E6%94%B6%E5%88%B0%E6%9C%AA%E7%9F%A5%E8%A1%A8%E9%A1%B9%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86&#34;&gt;äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA&#34;&gt;äº¤æ¢æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E5%A6%82%E4%BD%95%E8%AF%86%E5%88%AB%E4%BA%8C%E5%B1%82%E8%BD%AC%E5%8F%91%E5%92%8C%E4%B8%89%E5%B1%82%E8%BD%AC%E5%8F%91&#34;&gt;äº¤æ¢æœºå¦‚ä½•è¯†åˆ«äºŒå±‚è½¬å‘å’Œä¸‰å±‚è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8E%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;ä¸‰å±‚äº¤æ¢æœºä¸è·¯ç”±å™¨çš„åŒºåˆ«&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A1%AC%E4%BB%B6&#34;&gt;ç¡¬ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F&#34;&gt;æ•°æ®çš„å¤„ç†æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%9F%E8%83%BD&#34;&gt;åŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#icmp%E7%9A%84%E5%B8%B8%E8%A7%81%E6%94%BB%E5%87%BB%E4%B8%8E%E9%98%B2%E6%82%A3&#34;&gt;ICMPçš„å¸¸è§æ”»å‡»ä¸é˜²æ‚£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#icmp%E6%B3%9B%E6%B4%AA%E6%94%BB%E5%87%BB&#34;&gt;ICMPæ³›æ´ªæ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ping-of-death-%E6%94%BB%E5%87%BB&#34;&gt;Ping of Death æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#large-icmp-%E6%94%BB%E5%87%BB&#34;&gt;Large-ICMP æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#icmp-unreachable-%E6%94%BB%E5%87%BB&#34;&gt;ICMP-Unreachable æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#icmp-redirect-%E6%94%BB%E5%87%BB&#34;&gt;ICMP-Redirect æ”»å‡»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;arp&#34;&gt;ARP&lt;/h1&gt;
&lt;h2 id=&#34;arpæŠ¥æ–‡æ ¼å¼&#34;&gt;ARPæŠ¥æ–‡æ ¼å¼&lt;/h2&gt;
&lt;p&gt;æŠ¥æ–‡çš„é•¿åº¦æ˜¯42å­—èŠ‚ã€‚å‰14å­—èŠ‚çš„å†…å®¹è¡¨ç¤ºä»¥å¤ªç½‘é¦–éƒ¨ï¼Œå28å­—èŠ‚çš„å†…å®¹è¡¨ç¤ºARPè¯·æ±‚æˆ–åº”ç­”æŠ¥æ–‡çš„å†…å®¹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611465717333.png&#34; alt=&#34;ARPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥å¤ªç½‘ç›®çš„MACï¼šä»¥å¤ªç½‘ç›®çš„MACåœ°å€ï¼Œå‘é€ARPè¯·æ±‚æŠ¥æ–‡æ—¶ï¼Œè¯¥å­—æ®µä¸ºå¹¿æ’­çš„MACåœ°å€0xffff-ffff-ffff&lt;/li&gt;
&lt;li&gt;ä»¥å¤ªç½‘æºMACï¼šä»¥å¤ªç½‘æºMACåœ°å€&lt;/li&gt;
&lt;li&gt;å¸§ç±»å‹ï¼šæ•°æ®çš„ç±»å‹ï¼Œå¯¹äºARPè¯·æ±‚æˆ–åº”ç­”æ¥è¯´ï¼Œè¯¥å­—æ®µçš„å€¼ä¸º0x0806&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶ç±»å‹ï¼šå¯¹äºä»¥å¤ªç½‘ï¼Œè¯¥å­—æ®µçš„å€¼ä¸º1&lt;/li&gt;
&lt;li&gt;åè®®ç±»å‹ï¼šå‘é€æ–¹è¦æ˜ å°„çš„åè®®åœ°å€ç±»å‹ï¼Œå¯¹äºIPåœ°å€ï¼Œè¯¥å­—æ®µçš„å€¼ä¸º0x0800&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶åœ°å€é•¿åº¦ï¼šå¯¹äºARPè¯·æ±‚æˆ–åº”ç­”æ¥è¯´ï¼Œè¯¥å­—æ®µå€¼ä¸º6&lt;/li&gt;
&lt;li&gt;åè®®åœ°å€é•¿åº¦ï¼šå¯¹äºARPè¯·æ±‚æˆ–åº”ç­”æ¥è¯´ï¼Œè¯¥å­—æ®µå€¼ä¸º4ã€‚&lt;/li&gt;
&lt;li&gt;OPï¼šæ“ä½œç±»å‹ï¼Œ1-ARPè¯·æ±‚ï¼Œ2-ARPåº”ç­”ï¼Œ3-RARPè¯·æ±‚ï¼Œ4-RARPåº”ç­”&lt;/li&gt;
&lt;li&gt;æºMACï¼šè¯¥æºMACåœ°å€ä¸ä»¥å¤ªç½‘é¦–éƒ¨ä¸­çš„ä»¥å¤ªç½‘æºMACç›¸åŒ&lt;/li&gt;
&lt;li&gt;æºIPï¼šæºIPåœ°å€&lt;/li&gt;
&lt;li&gt;ç›®çš„MACï¼šç›®çš„MACåœ°å€ï¼Œå‘é€ARPè¯·æ±‚æŠ¥æ–‡æ—¶ï¼Œè¯¥å­—æ®µä¸ºå…¨0çš„MACåœ°å€0x0000-0000-0000ã€‚&lt;/li&gt;
&lt;li&gt;ç›®çš„IPï¼šç›®çš„IPåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ­£å‘ARPï¼šå°†IPè§£ææˆMAC&lt;/li&gt;
&lt;li&gt;åå‘ARPï¼ˆRARPï¼‰ï¼šå°†MACè§£ææˆIPï¼Œç”¨äºæ— ç›˜å·¥ä½œç«™&lt;/li&gt;
&lt;li&gt;ä»£ç†ARPï¼ˆARP Proxyï¼‰ï¼š&lt;br&gt;
ä¸¤ä¸ªäº’è®¿çš„èŠ‚ç‚¹åœ¨åŒä¸€ç½‘æ®µï¼Œä½†å¹¿æ’­çš„ARPæŠ¥æ–‡æ— æ³•åˆ°è¾¾ï¼Œéœ€è¦ä½¿ç”¨ä»£ç†ARP
&lt;ol&gt;
&lt;li&gt;Vlané—´ä»£ç†ï¼šç”¨äºsuper vlan&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611465047212.jpg&#34; alt=&#34;Vlané—´ä»£ç†&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;Vlanå†…ä»£ç†ï¼šåŒä¸€å¹¿æ’­åŸŸï¼Œä½†æ˜¯é…ç½®äº†äºŒå±‚æˆ–è€…ä¸‰å±‚éš”ç¦»ï¼ŒåŒæ–¹éƒ½éœ€è¦é€šè¿‡ç½‘å…³è®¿é—®ï¼ŒåŒæ–¹å°è£…çš„ç›®çš„macä¹Ÿæ˜¯ç½‘å…³çš„mac&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611465064034.jpg&#34; alt=&#34;Vlanå†…ä»£ç†&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;è·¯ç”±å¼ä»£ç†ï¼šPC1è®¿é—®PC2ï¼ŒPC1é¦–å…ˆä¼šåˆ¤æ–­PC2çš„IPæ˜¯å¦å’Œè‡ªå·±åœ¨åŒä¸€ä¸ªå¹¿æ’­åŸŸï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå¹¿æ’­åŸŸï¼Œé‚£ä¹ˆPC1ä¼šå‘ä¸­é—´çš„è·¯ç”±å™¨å‘é€ARPè¯·æ±‚ã€‚å¦‚æœè·¯ç”±å™¨å¼€å¯ä»£ç†ARPçš„åŠŸèƒ½åï¼Œæ”¶åˆ°PC1çš„ARPè¯·æ±‚ï¼Œä¼šæ£€æŸ¥è‡ªå·±çš„è·¯ç”±è¡¨ä¸­è¯¥è·¯ç”±æ˜¯å¦å¯è¾¾ï¼Œå¦‚æœå¯è¾¾ï¼Œè·¯ç”±å™¨ä¼šå°†è‡ªå·±çš„Macå›å¤ç»™PC1&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611465337689.jpg&#34; alt=&#34;è·¯ç”±å¼ä»£ç†&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å…è´¹ARPï¼šIPåœ°å€å†²çªæ£€æµ‹ï¼›ç”¨äºé€šå‘Šä¸€ä¸ªæ–°çš„MACåœ°å€ï¼›åœ¨VRRPå¤‡ä»½ç»„ä¸­ç”¨æ¥é€šå‘Šä¸»å¤‡å‘ç”Ÿå˜æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;MACåœ°å€è¡¨å’ŒARPè¡¨çš„åŒºåˆ«&lt;/strong&gt;ï¼Ÿ&lt;br&gt;
MACåœ°å€è¡¨ï¼Œè€åŒ–æ—¶é—´300s(5m)ï¼ŒäºŒå±‚è½¬å‘ï¼Œæ¥å£å’ŒMACå…³è”ï¼›ARPåœ°å€è¡¨ï¼šè€åŒ–æ—¶é—´1200s(20m)ï¼ŒIPå’ŒMACå…³è”&lt;br&gt;
&lt;strong&gt;äº¤æ¢æœºçš„ä¸€ä¸ªæ¥å£æ˜¯å¦å¯ä»¥å…³è”å¤šä¸ªMAC&lt;/strong&gt;ï¼Ÿ&lt;br&gt;
å¯ä»¥ã€‚äº¤æ¢æœºAæ¥å£1è¿æ¥äº¤æ¢æœºBæ¥å£2ï¼Œäº¤æ¢æœºBä¸Šè¿æ¥nå°è®¾å¤‡ï¼Œæ­¤æ—¶äº¤æ¢æœºAçš„æ¥å£1å¯ä»¥å­¦ä¹ åˆ°äº¤æ¢æœºBä¸Šè¿æ¥çš„é‚£nå°è®¾å¤‡çš„macåœ°å€&lt;br&gt;
&lt;strong&gt;äº¤æ¢æœºçš„å¤šä¸ªæ¥å£æ˜¯å¦å¯ä»¥å…³è”ä¸€ä¸ªMAC&lt;/strong&gt;ï¼Ÿ&lt;br&gt;
ä¸å¯ä»¥ã€‚å¦åˆ™macåœ°å€éœ‡è¡(flapping)&lt;br&gt;
&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼šä¸€ä¸ªæ¥å£å¯¹åº”å¤šä¸ªmacï¼Œä¸€ä¸ªmacåªèƒ½å¯¹åº”ä¸€ä¸ªæ¥å£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç‰¹æ®Šåº”ç”¨&lt;/strong&gt;ï¼šåœ¨ä¸»æœºæ²¡æœ‰é…ç½®ç½‘å…³çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä»£ç†ARPå®ç°å¯¹å¤–ç½‘çš„è®¿é—®ï¼Œå³ä½¿ç”¨ä»£ç†ARPæ¥å®ç°VRRPçš„åŠŸèƒ½ï¼Œè§ä¸‹å›¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611490841175.jpg&#34; alt=&#34;ä»£ç†ARPç‰¹æ®Šåº”ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;arpæ”»å‡»&#34;&gt;ARPæ”»å‡»&lt;/h2&gt;
&lt;h3 id=&#34;1-arpæ³›æ´ªæ”»å‡»æ‹’ç»æœåŠ¡æ”»å‡»dos&#34;&gt;1. ARPæ³›æ´ªæ”»å‡»ï¼ˆæ‹’ç»æœåŠ¡æ”»å‡»Dosï¼‰&lt;/h3&gt;
&lt;p&gt;æ”»å‡»è€…å‘é€å¤§é‡çš„ARPæŠ¥æ–‡ï¼Œä¾µå è®¾å¤‡ARPè¡¨é¡¹èµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ï¼Œä»è€Œä½¿æ­£å¸¸ç”¨æˆ·ä¸šåŠ¡å—åˆ°å½±å“ã€‚&lt;br&gt;
å¯ä»¥é€šè¿‡é…ç½®ARPè¡¨é¡¹é™åˆ¶ã€ARP Missæ¶ˆæ¯é™é€Ÿã€ARPè¡¨é¡¹ä¸¥æ ¼å­¦ä¹ ã€ARPæŠ¥æ–‡é™é€Ÿæ¥é˜²æ­¢ARPæ³›æ´ªæ”»å‡»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-arpæ¬ºéª—æ”»å‡»ä¸­é—´äººæ”»å‡»&#34;&gt;2. ARPæ¬ºéª—æ”»å‡»ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰&lt;/h3&gt;
&lt;p&gt;æ”»å‡»è€…é€šè¿‡å‘é€ä¼ªé€ çš„ARPæŠ¥æ–‡ï¼Œæ¶æ„ä¿®æ”¹è®¾å¤‡æˆ–ç½‘ç»œå†…å…¶ä»–ç”¨æˆ·ä¸»æœºçš„ARPè¡¨é¡¹ï¼Œé€ æˆç”¨æˆ·æˆ–ç½‘ç»œçš„æŠ¥æ–‡é€šä¿¡å¼‚å¸¸ã€‚&lt;br&gt;
å¯ä»¥é€šè¿‡é…ç½®ARPè¡¨é¡¹å›ºåŒ–ã€ARPè¡¨é¡¹ä¸¥æ ¼å­¦ä¹ ã€å‘é€å…è´¹ARPæŠ¥æ–‡ã€åŠ¨æ€ARPæ£€æµ‹æ¥é˜²æ­¢ARPæ¬ºéª—æ”»å‡»ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;macåœ°å€æ¼‚ç§»&#34;&gt;MACåœ°å€æ¼‚ç§»&lt;/h1&gt;
&lt;h2 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h2&gt;
&lt;p&gt;è®¾å¤‡ä¸Šä¸€ä¸ªVLANå†…æœ‰ä¸¤ä¸ªç«¯å£å­¦ä¹ åˆ°åŒä¸€ä¸ªMACåœ°å€ï¼Œåå­¦ä¹ åˆ°çš„MACåœ°å€è¡¨é¡¹è¦†ç›–åŸMACåœ°å€è¡¨é¡¹çš„ç°è±¡ã€‚&lt;br&gt;
æ­£å¸¸æƒ…å†µä¸‹ï¼Œç½‘ç»œä¸­ä¸ä¼šåœ¨çŸ­æ—¶é—´å†…å‡ºç°å¤§é‡MACåœ°å€æ¼‚ç§»çš„æƒ…å†µã€‚å‡ºç°è¿™ç§ç°è±¡ä¸€èˆ¬éƒ½æ„å‘³ç€ç½‘ç»œä¸­å­˜åœ¨ç¯è·¯ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹å‘Šè­¦ä¿¡æ¯å’Œæ¼‚ç§»è®°å½•ï¼Œå¿«é€Ÿå®šä½å’Œæ’é™¤ç¯è·¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;macåœ°å€æ¼‚ç§»æ£€æµ‹&#34;&gt;MACåœ°å€æ¼‚ç§»æ£€æµ‹&lt;/h2&gt;
&lt;h3 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨MACåœ°å€å‡ºæ¥å£è·³å˜çš„ç°è±¡ï¼Œæ£€æµ‹MACåœ°å€æ˜¯å¦å‘ç”Ÿæ¼‚ç§»&lt;/p&gt;
&lt;h3 id=&#34;è¿‡ç¨‹&#34;&gt;è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;åœ¨å‘ç”ŸMACåœ°å€æ¼‚ç§»æ—¶ï¼Œå¯ä»¥ä¸ŠæŠ¥åŒ…æ‹¬MACåœ°å€ã€VLANï¼Œä»¥åŠè·³å˜çš„æ¥å£ç­‰ä¿¡æ¯çš„å‘Šè­¦ã€‚&lt;br&gt;
å…¶ä¸­è·³å˜çš„æ¥å£å³ä¸ºå¯èƒ½å‡ºç°ç¯è·¯çš„æ¥å£&lt;/p&gt;
&lt;h2 id=&#34;é˜²æ­¢macåœ°å€æ¼‚ç§»&#34;&gt;é˜²æ­¢MACåœ°å€æ¼‚ç§»&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºç«¯å£é…ç½®é™æ€MAC&lt;/li&gt;
&lt;li&gt;ä¸ºæ¥å£é…ç½®MACåœ°å€å­¦ä¹ ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;ç¦æ­¢ç›¸åŒçš„ä¼˜å…ˆçº§çš„æ¥å£å‘ç”ŸMACåœ°å€æ¼‚ç§»&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;äºŒå±‚ç¯è·¯ä¸ä¸‰å±‚ç¯è·¯çš„åŒºåˆ«&#34;&gt;äºŒå±‚ç¯è·¯ä¸ä¸‰å±‚ç¯è·¯çš„åŒºåˆ«&lt;/h1&gt;
&lt;h2 id=&#34;ç¯è·¯åŸå› &#34;&gt;ç¯è·¯åŸå› &lt;/h2&gt;
&lt;p&gt;äºŒå±‚ç¯è·¯æ˜¯ç”±äºç‰©ç†æ‹“æ‰‘å‡ºç°ç¯è·¯ï¼Œå¦‚3å°äº¤æ¢æœºå‘ˆä¸‰è§’å½¢è¿æ¥ã€‚&lt;br&gt;
ä¸‰å±‚ç¯è·¯ä¸€èˆ¬ç‰©ç†æ‹“æ‰‘æœ‰ç¯è·¯ï¼Œå¹¶ä¸”è®¾å¤‡ä¹‹é—´è·¯ç”±è¡¨å½¢æˆäº’æŒ‡ï¼ˆç‰©ç†æ‹“æ‰‘ä¸æˆç¯ï¼Œ2 å°è®¾å¤‡ä½¿ç”¨é™æ€è·¯ç”±äº’æŒ‡ä¹Ÿå¯èƒ½æˆç¯ï¼Œè¿™ç§ç‰¹æ®Šæƒ…å†µé™¤å¤–ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;äºŒå±‚è®¾å¤‡å’Œä¸‰å±‚è®¾å¤‡çš„å·¥ä½œè¡Œä¸ºåŒºåˆ«&#34;&gt;äºŒå±‚è®¾å¤‡å’Œä¸‰å±‚è®¾å¤‡çš„å·¥ä½œè¡Œä¸ºåŒºåˆ«&lt;/h2&gt;
&lt;h3 id=&#34;äºŒå±‚äº¤æ¢æœºå·¥ä½œè¡Œä¸º&#34;&gt;äºŒå±‚äº¤æ¢æœºå·¥ä½œè¡Œä¸º&lt;/h3&gt;
&lt;p&gt;æ”¶åˆ°çš„æ•°æ®å¸§æŸ¥çœ‹äºŒå±‚å¤´éƒ¨ï¼Œæ ¹æ®&lt;strong&gt;ç›®çš„MACåœ°å€è½¬å‘&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¹¿æ’­ï¼š&lt;br&gt;
ç›®çš„MACä¸ºå…¨1&lt;br&gt;
æ”¶åˆ°å¹¿æ’­æŠ¥æ–‡åé™¤äº†æ¥æ”¶çš„ç«¯å£å¤–ï¼Œå‘å…¶ä½™æ‰€æœ‰ç«¯å£è½¬å‘ ï¼ˆæ³›æ´ªï¼‰&lt;/li&gt;
&lt;li&gt;ç»„æ’­ï¼š&lt;br&gt;
ç›®çš„MACçš„ç¬¬8ä½ä¸º1&lt;br&gt;
é¦–å…ˆåˆ¤æ–­ç›®çš„MACæ˜¯å¦æœ¬æœºè¦æ¥å—ï¼Œå¦‚æ”¶åˆ°STPçš„BPDUï¼Œè€Œè‡ªèº«ä¹Ÿè¿è¡ŒSTPï¼Œæ­¤æŠ¥æ–‡ä¸Šé€åè®®å¤„ç†ï¼Œä¸åšè½¬å‘ï¼›&lt;br&gt;
å¦‚æœäº¤æ¢æœºè‡ªèº«æ²¡æœ‰è¿è¡ŒSTPï¼Œåä¸ºçš„äº¤æ¢è®¾å¤‡ä¹Ÿå¯ä»¥è¯†åˆ«STPçš„æ•°æ®å¸§ï¼Œä¹Ÿä¸åšè½¬å‘&lt;br&gt;
å‡å¦‚æ­¤æŠ¥æ–‡è‡ªèº«ä¸éœ€è¦æ¥å—ï¼Œåˆ™å¤„ç†æ–¹å¼ä¸ºæ³›æ´ªï¼Œå¦‚è¿è¡Œäº†IGMP SNOOPINGåˆ™æ ¹æ®snoopingè¡¨é¡¹è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;å•æ’­ï¼š&lt;br&gt;
ç›®çš„MACçš„ç¬¬8ä½ä¸º0&lt;br&gt;
å¦‚æœç›®çš„MACåœ¨è‡ªèº«MACè¡¨ä¸­ä¸å­˜åœ¨ï¼Œå³æœªçŸ¥å•æ’­ï¼Œå¤„ç†æ–¹å¼ä¸ºæ³›æ´ª&lt;br&gt;
å¦‚æœç›®çš„MACåœ¨è‡ªèº« MACè¡¨ä¸­å­˜åœ¨ï¼Œåˆ™å‘MACè¡¨ä¸­çš„æ¥å£è½¬å‘&lt;br&gt;
å¦‚æœè¯¥æ¥å£ç­‰äºæŠ¥æ–‡çš„æ¥æ”¶ç«¯å£ï¼Œåˆ™ä¸¢å¼ƒ&lt;br&gt;
æ‰€ä»¥å•æ’­æŠ¥æ–‡çš„å¤„ç†æ–¹å¼ä¸­æœ‰ä¸‰ç§å½¢ä¸ºï¼šè½¬å‘ï¼Œæ³›æ´ªï¼Œä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸‰å±‚è®¾å¤‡å·¥ä½œè¡Œä¸º&#34;&gt;ä¸‰å±‚è®¾å¤‡å·¥ä½œè¡Œä¸º&lt;/h3&gt;
&lt;p&gt;æ”¶åˆ°æ•°æ®åŒ…æŸ¥çœ‹ä¸‰å±‚ç›®çš„IPï¼Œæ ¹æ®&lt;strong&gt;ç›®çš„IPåœ°å€è½¬å‘&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¹¿æ’­ï¼š&lt;br&gt;
ç›®çš„IPä¸ºå…¨ 1&lt;br&gt;
æ”¶åˆ°å¹¿æ’­åŒ…ï¼Œè·¯ç”±å™¨ä¼šäº¤ç»™ç›¸åº”çš„åè®®å»å¤„ç†ï¼Œæ¯”å¦‚DHCPã€ RIPã€ARPç­‰éƒ½æ˜¯å¹¿æ’­çš„&lt;/li&gt;
&lt;li&gt;ç»„æ’­ï¼š&lt;br&gt;
ç›®çš„IPä¸º224.0.0.0-239.0.0.0&lt;br&gt;
å¼€å¯ç›¸å…³åè®®åˆ™è½¬å‘ï¼Œå¦åˆ™æŸ¥çœ‹æœ¬è·¯ç”±å™¨æ˜¯å¦åŠ å…¥è¯¥ç»„ï¼Œå¦‚æœåŠ å…¥äº†å°±æ¥æ”¶ï¼Œæ²¡æœ‰åŠ å…¥å°±ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;å•æ’­ï¼š&lt;br&gt;
ç›®çš„IPåœ¨è·¯ç”±è¡¨ä¸­å­˜åœ¨åˆ™æŒ‰å‡ºç«¯å£è½¬å‘ï¼Œ&lt;br&gt;
ç›®çš„IPåœ¨è·¯ç”±è¡¨ä¸­ä¸å­˜åœ¨åˆ™ä¸¢å¼ƒï¼Œ&lt;br&gt;
ç›®çš„IPæ˜¯è‡ªå·±çš„åœ°å€ï¼Œåˆ™è¯»å–åè®®å·ä¸Šé€åè®®å¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç¯è·¯çš„å½±å“&#34;&gt;ç¯è·¯çš„å½±å“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;äºŒå±‚ç¯è·¯ï¼š&lt;br&gt;
å¹¿æ’­é£æš´ã€æ•°æ®å¸§å¤åˆ¶å’ŒMACåœ°å€éœ‡è¡&lt;br&gt;
ä¾‹å¦‚äº¤æ¢æœºæ”¶åˆ°å¹¿æ’­å¸§ã€ç»„æ’­å¸§ã€æœªçŸ¥å•æ’­å¸§ï¼Œä¼šé‡‡ç”¨æ³›æ´ªå½¢å¼å¤„ç†ï¼Œæ•°æ®å¸§åœ¨è½¬å‘æ—¶å€™äº§ç”Ÿäº†æ‹·è´å¤åˆ¶ï¼Œæ•°æ®å¸§æ— ä¼‘æ­¢è¢«è½¬å‘ï¼Œæœ€ç»ˆå¯¼è‡´æ•´ä¸ªç½‘ç»œå¸¦å®½èµ„æºè¢«è€—å°½&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚ç¯è·¯ï¼š&lt;br&gt;
æ•°æ®åŒ…ä¼šåœ¨è®¾å¤‡ä¹‹é—´æœ‰é™çš„äº’ç›¸è½¬å‘ï¼Œå› ä¸ºåœ¨ä¸‰å±‚IPå¤´éƒ¨å­˜åœ¨TTLå­—æ®µï¼Œæ‰€ä»¥æŠ¥æ–‡ä¸ä¼šæ— ä¼‘æ­¢è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é˜²ç¯æœºåˆ¶&#34;&gt;é˜²ç¯æœºåˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;äºŒå±‚é˜²ç¯&lt;br&gt;
STPã€SMART-LINKç­‰æŠ€æœ¯ï¼Œæˆ–ä½¿ç”¨LACPé“¾è·¯æ†ç»‘ã€è®¾å¤‡å †å ç­‰æŠ€æœ¯ï¼Œä½¿ç‰©ç†æ‹“æ‰‘ä¸Šæ²¡æœ‰ç¯è·¯&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚é˜²ç¯ï¼š&lt;br&gt;
åªè¦ä¾é è·¯ç”±åè®®è‡ªèº«çš„é˜²ç¯æœºåˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;äºŒå±‚ç¯è·¯è¾ƒæ˜“äº§ç”Ÿä¸”ç¯è·¯äº§ç”Ÿçš„åæœååˆ†ä¸¥é‡ï¼Œéœ€è¦è¿è¡Œç ´ç¯æœºåˆ¶ç»è¿‡è®¡ç®—ï¼Œé˜»å¡æŸäº›ç«¯å£å®ç°é¢„é˜²ã€‚&lt;br&gt;
ä¸‰å±‚ç¯è·¯ä¸å®¹æ˜“äº§ç”Ÿä¸”åæœå¹¶ä¸ååˆ†ä¸¥é‡ï¼Œæ¯ç§è·¯ç”±åè®®éƒ½æœ‰æ¯”è¾ƒå®Œå–„çš„é˜²ç¯æœºåˆ¶ï¼Œä¸‰å±‚ç¯è·¯æ¯”è¾ƒå®¹æ˜“å‘ç”Ÿåœ¨ç‰¹æ®Šçš„åœºæ™¯ä¸‹ï¼Œå¦‚åŒç‚¹åŒå‘è·¯ç”±å¼•å…¥ç­‰&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&#34;&gt;äº¤æ¢æœºå’Œè·¯ç”±å™¨æ”¶åˆ°æœªçŸ¥è¡¨é¡¹å¦‚ä½•å¤„ç†&lt;/h1&gt;
&lt;h2 id=&#34;äº¤æ¢æœº&#34;&gt;äº¤æ¢æœº&lt;/h2&gt;
&lt;p&gt;æ ¹æ®æ”¶åˆ°çš„å¸§ä¸­&lt;strong&gt;ç›®çš„MAC&lt;/strong&gt;æŸ¥æ‰¾è®¾å¤‡çš„MACè¡¨é¡¹è¿›è¡Œè½¬å‘ã€‚&lt;br&gt;
å¦‚æœæ”¶åˆ°å¸§çš„ç›®çš„MACä¸åœ¨äº¤æ¢æœºçš„MACè¡¨é¡¹ä¸­ï¼Œäº¤æ¢æœºä¼šå‘é™¤äº†æ”¶åˆ°è¯¥å¸§çš„åŒVLANæ‰€æœ‰ç«¯å£è¿›è¡Œæ³›æ´ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;è·¯ç”±å™¨&#34;&gt;è·¯ç”±å™¨&lt;/h2&gt;
&lt;p&gt;è·¯ç”±å™¨æ˜¯æ ¹æ®æ”¶åˆ°æŠ¥æ–‡çš„&lt;strong&gt;ç›®çš„IP&lt;/strong&gt;æŸ¥æ‰¾æœ¬åœ°çš„è·¯ç”±è¡¨è¿›è¡Œè½¬å‘ã€‚&lt;br&gt;
å¦‚æœæ”¶åˆ°æŠ¥æ–‡çš„ç›®çš„IPæ— æ³•æ‰¾åˆ°ç›¸åº”çš„è·¯ç”±è¡¨é¡¹ï¼Œåˆ™è·¯ç”±å™¨ä¼šå°†è¯¥æŠ¥æ–‡ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h1 id=&#34;äº¤æ¢æœºå¦‚ä½•è¯†åˆ«äºŒå±‚è½¬å‘å’Œä¸‰å±‚è½¬å‘&#34;&gt;äº¤æ¢æœºå¦‚ä½•è¯†åˆ«äºŒå±‚è½¬å‘å’Œä¸‰å±‚è½¬å‘&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;äº¤æ¢æœºæ ¹æ®æ”¶åˆ°çš„&lt;strong&gt;å•æ’­å¸§çš„ç›®çš„MAC&lt;/strong&gt;æ¥åˆ¤æ–­æ˜¯è¿›è¡ŒäºŒå±‚è½¬å‘æˆ–ä¸‰å±‚è½¬å‘ï¼Œå½“ç›®çš„MACæ˜¯Vlanifå¯¹åº”çš„MACæ—¶å°±æ˜¯ä¸‰å±‚è½¬å‘ï¼Œå¦åˆ™å°±æ˜¯äºŒå±‚è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¶åˆ°ç»„æ’­å¸§&lt;/strong&gt;ï¼Œçœ‹è‡ªèº«äº¤æ¢æœºæ˜¯å¦è¿è¡Œç›¸åº”çš„ç»„æ’­åè®®ï¼Œæœ‰è¿è¡Œå°±äº¤ç»™ç›¸åº”çš„åè®®å¤„ç†ï¼Œä¾‹å¦‚ç›®çš„macåœ°å€ä¸º01-80-c2-00-00-00æäº¤ç»™stpåè®®å¤„ç†ï¼›ç›®çš„macåœ°å€ä¸º01-80-c2-00-00-14ï¼ˆ15ï¼‰æäº¤ç»™isisåè®®å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¶åˆ°ç»„æ’­æ•°æ®&lt;/strong&gt;ï¼Œå¦‚æœæœ‰è¿è¡ŒPIMç»„æ’­åè®®ï¼Œå°±æ ¹æ®ï¼ˆsï¼Œgï¼‰è¡¨é¡¹å‘ä¸‹æ¸¸æ¥å£è½¬å‘ï¼Œå¦‚æœåœ¨äº¤æ¢ æœºä¸Šæ²¡æœ‰è¿è¡ŒPIMåè®®ï¼Œä½†æ˜¯ä½¿èƒ½äº†igmp-snoopingåŠŸèƒ½ï¼Œæ ¹æ®snoopingè¡¨è±¡ä¸­çš„æˆå‘˜ç«¯å£è½¬å‘æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ”¶åˆ°å¹¿æ’­&lt;/strong&gt;ï¼Œç›®çš„IPä¸ºå…¨1ã€‚äº¤æ¢æœºä¼šäº¤ç»™ç›¸åº”çš„åè®®å»å¤„ç†ï¼Œæ¯”å¦‚DHCPã€RIPã€ARP ç­‰ï¼Œä¸‰å±‚è®¾å¤‡æ˜¯éš”ç¦»å¹¿æ’­åŸŸï¼Œä¸ä¼šä¸¢å¼ƒå¹¿æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä¸‰å±‚äº¤æ¢æœºä¸è·¯ç”±å™¨çš„åŒºåˆ«&#34;&gt;ä¸‰å±‚äº¤æ¢æœºä¸è·¯ç”±å™¨çš„åŒºåˆ«&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;äº¤æ¢è°‹å¿«ï¼Œè·¯ç”±è°‹è½¬&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¡¬ä»¶&#34;&gt;ç¡¬ä»¶&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¸‰å±‚äº¤æ¢æœºåœ¨ç½‘ç»œæ”¶æ•›ä¸Šæ…¢äºè·¯ç”±å™¨å¹¶ä¸”æŠµæŠ—ç½‘ç»œéœ‡è¡çš„èƒ½åŠ›ä¹Ÿå¼±&lt;/code&gt;&lt;br&gt;
ä¸‰å±‚äº¤æ¢æœºæ˜¯é€šè¿‡äº¤æ¢èŠ¯ç‰‡è½¬å‘æ•°æ®çš„ï¼Œè·¯ç”±å™¨åˆ™æ˜¯é€šè¿‡cpuè½¬å‘æ•°æ®çš„&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®çš„å¤„ç†æ–¹å¼&#34;&gt;æ•°æ®çš„å¤„ç†æ–¹å¼&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ä¸‰å±‚äº¤æ¢æœºåœ¨æ•°æ®è½¬å‘ä¸Šçš„é€Ÿåº¦è¦ä¼˜äºè·¯ç”±å™¨&lt;/code&gt;&lt;br&gt;
ä¸‰å±‚äº¤æ¢æœºçš„é¦–åŒ…é€šè¿‡cpuè½¬å‘ï¼ŒåŒæ—¶é€šè¿‡arpåè®®å»ºç«‹äº¤æ¢èŠ¯ç‰‡ç¡¬ä»¶è¡¨é¡¹ï¼ˆmacåœ°å€ä¸ipåœ°å€çš„æ˜ å°„è¡¨ï¼‰ï¼Œåç»­æŠ¥æ–‡é€šè¿‡äº¤æ¢èŠ¯ç‰‡ç›´æ¥ç¡¬ä»¶è½¬å‘ï¼Œå³&lt;code&gt;ä¸€æ¬¡è·¯ç”±ï¼Œå¤šæ¬¡äº¤æ¢&lt;/code&gt;ï¼Œäº¤æ¢æœºçš„ç¡¬ä»¶ä¸‰å±‚è¡¨é¡¹ä¸­åªåŒ…å«äº†ç›®çš„åœ°å€ã€ç›®çš„ipå¯¹åº”çš„macåœ°å€ã€å‡ºå£vlanåŠç«¯å£ã€‚&lt;br&gt;
è·¯ç”±å™¨é€šè¿‡è·¯ç”±è¡¨é€‰æ‹©è·¯ç”±åï¼Œå°†è¯¥è·¯ç”±ä¸‹å‘åˆ°FIBï¼ˆè½¬å‘ä¿¡æ¯è¡¨ï¼‰è¡¨ä¸­ï¼Œæ•°æ®åˆ°è¾¾è·¯ç”±å™¨æ—¶ï¼Œé€šè¿‡FIBè¡¨çš„æœ€é•¿åŒ¹é…åŸåˆ™æŸ¥è¡¨è½¬å‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŠŸèƒ½&#34;&gt;åŠŸèƒ½&lt;/h2&gt;
&lt;p&gt;è·¯ç”±å™¨æä¾›åŒ…æ‹¬åˆ†ç»„è¿‡æ»¤ã€åˆ†ç»„è½¬å‘ã€ä¼˜å…ˆçº§ã€å¤ç”¨ã€åŠ å¯†ã€ å‹ç¼©å’Œé˜²ç«å¢™ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”æ¥å£ç±»å‹ä¸°å¯Œï¼Œæ”¯æŒçš„ä¸‰å±‚åŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒè´Ÿè½½åˆ†æ‹…ã€é“¾è·¯å¤‡ä»½ã€natè½¬æ¢ç­‰ï¼Œè·¯ç”±å™¨åœ¨å¤§å‹ç½‘ç»œä¸­çš„åè®®è®¡ç®—ï¼Œè·¯ç”±è¡¨å¤§å°ï¼Œæ”¶æ•›æ—¶é—´ç­‰éƒ½ä¼˜äºä¸‰å±‚äº¤æ¢æœºã€‚&lt;br&gt;
ä¸‰å±‚äº¤æ¢æœºçš„ä¼˜ç‚¹åœ¨äºå¯ä»¥åŠ å¿«å±€åŸŸç½‘å†…æ•°æ®çš„äº¤æ¢ï¼Œå¹¶ä¸”åŠ å…¥è·¯ç”±åŠŸèƒ½ä¹Ÿæ˜¯ä¸ºè¿™ä¸ªç›®çš„æœåŠ¡çš„ã€‚ä¸€èˆ¬å°†ä¸‰å±‚äº¤æ¢æœºè¿ç”¨äºç½‘ç»œçš„æ ¸å¿ƒå±‚å’Œæ±‡èšå±‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;icmpçš„å¸¸è§æ”»å‡»ä¸é˜²æ‚£&#34;&gt;ICMPçš„å¸¸è§æ”»å‡»ä¸é˜²æ‚£&lt;/h1&gt;
&lt;h2 id=&#34;icmpæ³›æ´ªæ”»å‡»&#34;&gt;ICMPæ³›æ´ªæ”»å‡»&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åˆ©ç”¨é¢‘ç‡æå¿«çš„icmpæŠ¥æ–‡ï¼Œè®©è¢«æ”»å‡»è€…ç–²äºåº”ä»˜&lt;/code&gt;&lt;br&gt;
æ”»å‡»è€…å‘é€é€Ÿåº¦æå¿«çš„ICMPæŠ¥æ–‡ï¼Œè¢«æ”»å‡»è€…å°±ä¼šå¾’åŠ³çš„å›å¤å¤§é‡ICMPæŠ¥æ–‡ç»™è™šå‡åœ°å€ï¼Œæœ€ç»ˆæ¶ˆè€—è‡ªèº«çš„ç³»ç»Ÿèµ„æºï¼Œæœ€ç»ˆå¯¼è‡´æœåŠ¡å™¨åœæ­¢ç›¸åº”ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¾å¤‡é’ˆå¯¹ICMPæ³›æ´ªæ”»å‡»è¿›è¡ŒCARé™é€Ÿï¼Œä¿è¯CPUä¸è¢«æ”»å‡»ï¼Œä¿è¯ç½‘ç»œçš„æ­£å¸¸è¿è¡Œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ping-of-death-æ”»å‡»&#34;&gt;Ping of Death æ”»å‡»&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åˆ©ç”¨éå¸¸è§„å·¨åŒ…ä½¿è¢«æ”»å‡»è€…æ— æ³•ç»„åŒ…&lt;/code&gt;&lt;br&gt;
æ”»å‡»è€…å‘é€å¤§äº65535å­—èŠ‚çš„ipæ•°æ®åŒ…ç»™å¯¹æ–¹ï¼Œè¢«æ”»å‡»è€…æ¥æ”¶åˆ°å…¨éƒ¨åˆ†æ®µå¹¶é‡ç»„æŠ¥æ–‡æ—¶æ€»çš„é•¿åº¦è¶…è¿‡äº†65535å­—èŠ‚ï¼Œå¯¼è‡´å†…å­˜æº¢å‡ºï¼Œç³»ç»Ÿä¼šå‡ºç°å†…å­˜åˆ†é…é”™è¯¯è€Œå¯¼è‡´TCP/IPå †æ ˆå´©æºƒï¼Œå¯¼è‡´æ­»æœº&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦åœ¨é˜²ç«å¢™ä¸Šé…ç½®å…è®¸é€šè¿‡çš„ICMPæŠ¥æ–‡çš„æœ€å¤§é•¿åº¦ï¼Œåœ¨é˜²ç«å¢™æ”¶åˆ°å¤§äºæ­¤é•¿åº¦çš„æ•°æ®åŒ…æ–‡ä¹‹åå°†ç›´æ¥ä¸¢å¼ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;large-icmp-æ”»å‡»&#34;&gt;Large-ICMP æ”»å‡»&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åˆ©ç”¨å·¨åŒ…åˆ†ç‰‡åéœ€è¦ç»„åŒ…ï¼Œä½¿è¢«æ”»å‡»è€…ç–²äºåº”ä»˜&lt;/code&gt;&lt;br&gt;
åŒPing of Deathç±»ä¼¼ï¼Œä¹Ÿæ˜¯åˆ©ç”¨ä¸€äº›å¤§å°ºå¯¸çš„ICMPæŠ¥æ–‡å¯¹ç³»ç»Ÿè¿›è¡Œçš„ä¸€ç§æ”»å‡»ï¼Œä¸ping of death ä¸åŒçš„æ˜¯ï¼ŒLarge-ICMPæŠ¥æ–‡çš„é•¿åº¦ä¸ä¼šè¶…è¿‡IP æŠ¥æ–‡çš„æœ€å¤§é•¿åº¦65535ã€‚&lt;br&gt;
ä½†æ­¤æ•°æ®åŒ…åœ¨ä¼ è¾“çš„è¿‡ç¨‹ä¸­ä¼šè¢«åˆ†ç‰‡æˆ–åœ¨åˆ†ç‰‡ä¹‹åå‘å‡ºï¼Œä¸»æœºæ”¶åˆ°ä¹‹åå°†è¿›è¡Œæ•°æ®åŒ…çš„é‡ç»„ï¼Œ é‡ç»„æ•°æ®åŒ…çš„è¿‡ç¨‹éå¸¸æ¶ˆè€—CPUèµ„æºï¼Œå¯¼è‡´ä¸»æœºçš„èµ„æºè¢«å¤§é‡å ç”¨&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ç”¨åˆ†ç‰‡æŠ¥æ–‡æ”»å‡»é˜²èŒƒï¼Œè®¾å¤‡å®æ—¶æ£€æµ‹å‡ºåˆ†ç‰‡æŠ¥æ–‡å¹¶äºˆä»¥ä¸¢å¼ƒæˆ–è€…é™é€Ÿå¤„ç†ï¼Œå®ç°å¯¹æœ¬è®¾å¤‡çš„ä¿æŠ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;icmp-unreachable-æ”»å‡»&#34;&gt;ICMP-Unreachable æ”»å‡»&lt;/h2&gt;
&lt;p&gt;æ”»å‡»è€…å‘ç›®æ ‡ä¸»æœºå‘é€è™šå‡çš„ICMP-UnreachableæŠ¥æ–‡ï¼Œå¹²æ‰°äº†ç›®æ ‡ä¸»æœºçš„è·¯ç”±ä¿¡æ¯ï¼Œå½±å“äº†æŠ¥æ–‡å‘é€ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼€å¯ICMPä¸å¯è¾¾æŠ¥æ–‡æ”»å‡»é˜²èŒƒåŠŸèƒ½ï¼Œå³æ”¶åˆ°ICMPä¸å¯è¾¾æŠ¥æ–‡å°†ç›´æ¥å¿½ç•¥ï¼Œä¾æ—§è®¤ä¸ºè¯¥ä¸»æœºå¯è¾¾&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;icmp-redirect-æ”»å‡»&#34;&gt;ICMP-Redirect æ”»å‡»&lt;/h2&gt;
&lt;p&gt;å’ŒICMP-Unreachableæ”»å‡»ç±»ä¼¼ï¼Œæ”»å‡»è€…è·¨è¶Šç½‘æ®µå‘å¦å¤–ä¸€ä¸ªç½‘ç»œçš„ç›®æ ‡ä¸»æœºå‘é€è™šå‡çš„é‡å®šå‘æŠ¥æ–‡ï¼Œä»¥æ”¹å˜ç›®æ ‡ä¸»æœºçš„è·¯ç”±è¡¨ï¼Œå¹²æ‰°ç›®æ ‡ä¸»æœºçš„è·¯ç”±ä¿¡æ¯ï¼Œå½±å“æŠ¥æ–‡å‘é€&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯åŠ¨ICMPé‡å®šå‘æ”»å‡»é˜²èŒƒåï¼Œè®¾å¤‡å°†å¯¹ICMPé‡å®šå‘æŠ¥æ–‡è¿›è¡Œä¸¢å¼ƒï¼Œå¹¶è®°å½•æ”»å‡»æ—¥å¿—&lt;/p&gt;
&lt;/blockquote&gt;
">äºŒå±‚åè®®-æœ€åè¡¥å……</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/er-ceng-xie-yi-vlan/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%A7%E6%A0%BC%E5%BC%8F&#34;&gt;å¸§æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%93%BE%E8%B7%AF%E7%B1%BB%E5%9E%8B&#34;&gt;æ¥å£çš„é“¾è·¯ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-access%E6%8E%A5%E5%8F%A3&#34;&gt;1. Accessæ¥å£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-trunk%E6%8E%A5%E5%8F%A3&#34;&gt;2. Trunkæ¥å£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-hybrid%E6%8E%A5%E5%8F%A3&#34;&gt;3. Hybridæ¥å£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-qinq%E6%8E%A5%E5%8F%A38021q-in-8021q&#34;&gt;4. QinQæ¥å£ï¼ˆ802.1Q-in-802.1Qï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vlan%E5%88%92%E5%88%86&#34;&gt;VLANåˆ’åˆ†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%92%E5%88%86%E6%96%B9%E5%BC%8F&#34;&gt;åˆ’åˆ†æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8C%B9%E9%85%8D%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;åŒ¹é…ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vlan-mappingvlan-translation%E6%88%96vlan%E6%98%A0%E5%B0%84&#34;&gt;VLAN Mappingï¼ˆVLAN Translationæˆ–VLANæ˜ å°„ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#qinq&#34;&gt;QinQ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F&#34;&gt;å®ç°æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B0%81%E8%A3%85%E6%96%B9%E5%BC%8F&#34;&gt;å°è£…æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vlan%E8%81%9A%E5%90%88super-vlan&#34;&gt;VLANèšåˆï¼ˆSuper VLANï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mux-vlan&#34;&gt;Mux-Vlan&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#smart-link%E5%92%8Cmonitor-link&#34;&gt;Smart Linkå’ŒMonitor Link&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#smart-link%E5%A4%87%E4%BB%BD%E9%93%BE%E8%B7%AF&#34;&gt;Smart Link(å¤‡ä»½é“¾è·¯)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#monitor-link%E7%9B%91%E6%8E%A7%E9%93%BE%E8%B7%AF&#34;&gt;Monitor Link(ç›‘æ§é“¾è·¯)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%8C%E5%B1%82%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82&#34;&gt;äºŒå±‚ï¼šæ•°æ®é“¾è·¯å±‚&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ethernet-ii-%E4%BB%A5%E5%A4%AA%E5%B8%A7&#34;&gt;Ethernet â…¡ ä»¥å¤ªå¸§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#8023-llc-snap%E4%BB%A5%E5%A4%AA%E5%B8%A7&#34;&gt;802.3 LLC SNAPä»¥å¤ªå¸§&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vlan%E7%BB%88%E7%BB%93&#34;&gt;VLANç»ˆç»“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vlan-damping&#34;&gt;VLAN Damping&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#voice-vlan%E8%AF%AD%E9%9F%B3vlan&#34;&gt;Voice VLAN(è¯­éŸ³vlan)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%A4%E7%A7%8D%E5%B8%B8%E8%A7%81%E7%BB%84%E7%BD%91%E6%96%B9%E6%A1%88&#34;&gt;ä¸¤ç§å¸¸è§ç»„ç½‘æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AF%86%E5%88%AB%E8%AF%AD%E9%9F%B3%E6%95%B0%E6%8D%AE%E6%B5%81%E7%9A%84%E6%96%B9%E5%BC%8F&#34;&gt;è¯†åˆ«è¯­éŸ³æ•°æ®æµçš„æ–¹å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E5%9F%BA%E4%BA%8Emac%E5%9C%B0%E5%9D%80&#34;&gt;1. åŸºäºMACåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%9F%BA%E4%BA%8Evlan&#34;&gt;2. åŸºäºVLAN&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B6%E4%BB%96&#34;&gt;å…¶ä»–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;å¸§æ ¼å¼&#34;&gt;å¸§æ ¼å¼&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611120140933.png&#34; alt=&#34;å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;TPIDï¼šè¡¨ç¤ºå¸§ç±»å‹ï¼Œå–å€¼ä¸º**0x8100(å›ºå®šå€¼)**æ—¶è¡¨ç¤ºIEEE 802.1Qçš„VLANæ•°æ®å¸§ã€‚å¦‚æœä¸æ”¯æŒ802.1Qçš„è®¾å¤‡æ”¶åˆ°è¿™æ ·çš„å¸§ï¼Œä¼šå°†å…¶ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;PRIï¼šè¡¨ç¤ºæ•°æ®å¸§çš„802.1pä¼˜å…ˆçº§ï¼Œå–å€¼èŒƒå›´ä¸º0ï½7ï¼Œå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚å½“ç½‘ç»œé˜»å¡æ—¶ï¼Œäº¤æ¢æœºä¼˜å…ˆå‘é€ä¼˜å…ˆçº§é«˜çš„æ•°æ®å¸§&lt;/li&gt;
&lt;li&gt;CFIï¼šCFIå–å€¼ä¸º0è¡¨ç¤ºMACåœ°å€ä»¥æ ‡å‡†æ ¼å¼è¿›è¡Œå°è£…ï¼Œä¸º1è¡¨ç¤ºä»¥éæ ‡å‡†æ ¼å¼å°è£…(ä¾‹å¦‚ä»¤ç‰Œç¯)ã€‚&lt;strong&gt;åœ¨ä»¥å¤ªç½‘ä¸­ï¼ŒCFIçš„å€¼ä¸º0&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;VIDï¼šVLAN IDå–å€¼èŒƒå›´æ˜¯0ï½4095ã€‚ç”±äº0å’Œ4095ä¸ºåè®®ä¿ç•™å–å€¼ï¼Œæ‰€ä»¥VLAN IDçš„æœ‰æ•ˆå–å€¼èŒƒå›´æ˜¯&lt;strong&gt;1ï½4094&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ¥å£çš„é“¾è·¯ç±»å‹&#34;&gt;æ¥å£çš„é“¾è·¯ç±»å‹&lt;/h1&gt;
&lt;h2 id=&#34;1-accessæ¥å£&#34;&gt;1. Accessæ¥å£&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼š&lt;br&gt;
Accessæ¥å£ä¸€èˆ¬ç”¨äºå’Œ&lt;strong&gt;ä¸èƒ½è¯†åˆ«Tagçš„ç”¨æˆ·ç»ˆç«¯&lt;/strong&gt;ï¼ˆå¦‚ç”¨æˆ·ä¸»æœºã€æœåŠ¡å™¨ç­‰ï¼‰ç›¸è¿ï¼Œæˆ–è€…&lt;strong&gt;ä¸éœ€è¦åŒºåˆ†ä¸åŒVLANæˆå‘˜&lt;/strong&gt;æ—¶ä½¿ç”¨&lt;br&gt;
ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç§è‡ªæ›´æ”¹æ¥å£ç”¨é€”ï¼Œæ¥å…¥å…¶ä»–äº¤æ¢è®¾å¤‡ï¼Œ&lt;strong&gt;å¯ä»¥é…ç½®æ¥å£ä¸¢å¼ƒå…¥æ–¹å‘å¸¦Tagçš„æŠ¥æ–‡&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š&lt;br&gt;
Accessæ¥å£å¤§éƒ¨åˆ†æƒ…å†µ&lt;strong&gt;åªèƒ½æ”¶å‘Untaggedå¸§&lt;/strong&gt;ï¼Œä¸”&lt;strong&gt;åªèƒ½ä¸ºUntaggedå¸§æ·»åŠ å”¯ä¸€VLANçš„Tag&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;åä¸ºçš„VLANæ ‡ç­¾å®ç°æ–¹å¼å’Œæ€ç§‘ä¸åŒï¼Œåä¸ºçš„Accessç«¯å£æ”¶åˆ°åŸå§‹æ•°æ®å¸§åä¼šæ‰“ä¸Šç«¯å£æ‰€å±PVIDçš„VLANæ ‡ç­¾ï¼Œè€Œæ€ç§‘åªæœ‰Trunkç«¯å£æ‰ä¼šæ‰“æ ‡ç­¾&lt;/code&gt;&lt;br&gt;
å¿…é¡»é…ç½®ç¼ºçœVLANï¼Œè¯¥Accessæ¥å£ä¹Ÿå°±åŠ å…¥äº†è¯¥VLANï¼ŒAccessç«¯å£åªèƒ½å±äºä¸€ä¸ªVLAN&lt;/li&gt;
&lt;li&gt;æ•°æ®å¤„ç†ï¼š
&lt;ul&gt;
&lt;li&gt;å…¥æ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Accessç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;æ— æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œä¼š&lt;strong&gt;æ‰“ä¸Š&lt;/strong&gt;ç«¯å£PVIDçš„VLAN&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Accessç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œæ£€æŸ¥æ•°æ®å¸§æ ‡ç­¾ä¸­çš„VLAN IDå’Œæ¥å£çš„PVIDæ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´åˆ™æ¥æ”¶æ•°æ®å¸§ï¼Œä¸ä¸€è‡´åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‡ºæ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Accessç«¯å£å‘é€&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§æ—¶ï¼Œä¼š&lt;strong&gt;å…ˆå‰¥ç¦»&lt;/strong&gt;æ•°æ®å¸§ä¸­çš„&lt;strong&gt;VLANæ ‡ç­¾&lt;/strong&gt;ï¼Œè¿˜åŸæˆåŸå§‹æ•°æ®å¸§åå‘é€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-trunkæ¥å£&#34;&gt;2. Trunkæ¥å£&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼š&lt;br&gt;
Trunkæ¥å£ä¸€èˆ¬ç”¨äº&lt;strong&gt;è¿æ¥äº¤æ¢æœºã€è·¯ç”±å™¨ã€APä»¥åŠå¯åŒæ—¶æ”¶å‘Taggedå¸§å’ŒUntaggedå¸§çš„è¯­éŸ³ç»ˆç«¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š&lt;br&gt;
å®ƒå¯ä»¥å…è®¸å¤šä¸ªVLANçš„å¸§å¸¦Tagé€šè¿‡ï¼Œä½†åªå…è®¸ä¸€ä¸ªVLANçš„å¸§ä»è¯¥ç±»æ¥å£ä¸Šå‘å‡ºæ—¶ä¸å¸¦Tagï¼ˆå³å‰¥é™¤Tagï¼‰&lt;/li&gt;
&lt;li&gt;æ•°æ®å¤„ç†ï¼š
&lt;ul&gt;
&lt;li&gt;å…¥æ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Trunkç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;æ— æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œä¼š&lt;strong&gt;æ‰“ä¸Š&lt;/strong&gt;ç«¯å£PVIDçš„VLAN&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Trunkç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œå°†æ ‡ç­¾ä¸­çš„VLAN IDå’ŒTrunkç«¯å£å…è®¸é€šè¿‡çš„VLANåˆ—è¡¨åšæ¯”å¯¹ï¼Œå¦‚æœå…è®¸é€šè¿‡åˆ™æ¥æ”¶æ•°æ®å¸§ï¼Œå¦åˆ™ä¸¢å¼ƒæ•°æ®å¸§&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‡ºæ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Trunkç«¯å£è½¬å‘ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œå°†æ ‡ç­¾ä¸­çš„VLAN IDå’ŒTrunkç«¯å£å…è®¸é€šè¿‡çš„VLANåˆ—è¡¨åšæ¯”å¯¹ï¼Œå¦‚æœå…è®¸é€šè¿‡åˆ™è½¬å‘æ•°æ®å¸§ï¼Œå¦åˆ™ä¸¢å¼ƒæ•°æ®å¸§&lt;code&gt;åä¸ºè®¾å¤‡Trunkç«¯å£é»˜è®¤åªå…è®¸é€šè¿‡VLAN1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-hybridæ¥å£&#34;&gt;3. Hybridæ¥å£&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼š&lt;br&gt;
Hybridæ¥å£&lt;strong&gt;æ—¢å¯ä»¥ç”¨äºè¿æ¥ä¸èƒ½è¯†åˆ«Tagçš„ç”¨æˆ·ç»ˆç«¯&lt;/strong&gt;ï¼ˆå¦‚ç”¨æˆ·ä¸»æœºã€æœåŠ¡å™¨ç­‰ï¼‰å’Œ&lt;strong&gt;ç½‘ç»œè®¾å¤‡&lt;/strong&gt;ï¼ˆå¦‚Hubã€å‚»ç“œäº¤æ¢æœºï¼‰ï¼Œ&lt;strong&gt;ä¹Ÿå¯ä»¥ç”¨äºè¿æ¥äº¤æ¢æœºã€è·¯ç”±å™¨ä»¥åŠå¯åŒæ—¶æ”¶å‘Taggedå¸§å’ŒUntaggedå¸§çš„è¯­éŸ³ç»ˆç«¯ã€AP&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š&lt;code&gt;=1ä¸ªTrunk+nä¸ªAccess&lt;/code&gt;&lt;br&gt;
å®ƒå¯ä»¥å…è®¸å¤šä¸ªVLANçš„å¸§å¸¦Tagé€šè¿‡ï¼Œä¸”å…è®¸ä»è¯¥ç±»æ¥å£å‘å‡ºçš„å¸§æ ¹æ®éœ€è¦é…ç½®æŸäº›VLANçš„å¸§å¸¦Tagï¼ˆå³ä¸å‰¥é™¤Tagï¼‰&lt;code&gt;ç±»ä¼¼Trunk&lt;/code&gt;ã€æŸäº›VLANçš„å¸§ä¸å¸¦Tagï¼ˆå³å‰¥é™¤Tagï¼‰&lt;code&gt;ç±»ä¼¼å¤šä¸ªAccess&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ•°æ®å¤„ç†ï¼š
&lt;ul&gt;
&lt;li&gt;å…¥æ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Hybridç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;æ— æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œä¼š&lt;strong&gt;æ‰“ä¸Š&lt;/strong&gt;ç«¯å£PVIDçš„VLAN&lt;strong&gt;æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Hybridç«¯å£æ”¶åˆ°ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œå°†æ ‡ç­¾ä¸­çš„VLAN IDå’ŒHybridç«¯å£çš„Tagged Listã€Untageed Liståšå¯¹æ¯”ï¼Œå¦‚æœVLAN IDå­˜åœ¨äºåˆ—è¡¨ä¸­ï¼Œæ¥æ”¶å¸¦æ ‡ç­¾çš„æ•°æ®å¸§ï¼Œå¦åˆ™ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‡ºæ–¹å‘ï¼š
&lt;ul&gt;
&lt;li&gt;Hybridç«¯å£å‘é€ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œå¦‚æœæ ‡ç­¾ä¸­çš„VLAN IDåœ¨Hybridç«¯å£çš„&lt;strong&gt;Untagged List&lt;/strong&gt;åˆ—è¡¨ä¸­ï¼Œåˆ™&lt;strong&gt;å‰¥ç¦»VLANæ ‡ç­¾&lt;/strong&gt;è¿˜åŸæˆæ™®é€šæ•°æ®å¸§åè½¬å‘&lt;/li&gt;
&lt;li&gt;Hybridç«¯å£å‘é€ä¸€ä¸ª&lt;strong&gt;å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ï¼Œå¦‚æœæ ‡ç­¾ä¸­çš„VLAN IDåœ¨Hybridç«¯å£&lt;br&gt;
Tagged Liståˆ—è¡¨ä¸­ï¼Œåˆ™&lt;strong&gt;è½¬å‘å¸¦æ ‡ç­¾&lt;/strong&gt;çš„æ•°æ®å¸§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Hybridæ¥å£å’ŒTrunkæ¥å£åœ¨å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸‹å¯ä»¥é€šç”¨ï¼Œä½†åœ¨æŸäº›åº”ç”¨åœºæ™¯ä¸‹ï¼Œ&lt;strong&gt;å¿…é¡»ä½¿ç”¨Hybridæ¥å£ï¼š&lt;/strong&gt;&lt;br&gt;
æ¯”å¦‚åœ¨çµæ´»QinQä¸­ï¼ŒæœåŠ¡æä¾›å•†ç½‘ç»œçš„å¤šä¸ªVLANçš„æŠ¥æ–‡åœ¨è¿›å…¥ç”¨æˆ·ç½‘ç»œå‰ï¼Œéœ€è¦å‰¥ç¦»å¤–å±‚VLAN Tagï¼Œæ­¤æ—¶Trunkæ¥å£ä¸èƒ½å®ç°è¯¥åŠŸèƒ½ï¼Œå› ä¸ºTrunkæ¥å£åªèƒ½ä½¿è¯¥æ¥å£ç¼ºçœVLANçš„æŠ¥æ–‡ä¸å¸¦VLAN Tagé€šè¿‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;4-qinqæ¥å£8021q-in-8021q&#34;&gt;4. QinQæ¥å£ï¼ˆ802.1Q-in-802.1Qï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;QinQæ¥å£ä¹Ÿè¢«ç§°ä¸ºDot1q-tunnelæ¥å£&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯ï¼š&lt;br&gt;
ä¸€èˆ¬ç”¨äº&lt;strong&gt;ç§ç½‘ä¸å…¬ç½‘ä¹‹é—´çš„è¿æ¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹ç‚¹ï¼š&lt;br&gt;
å®ƒå¯ä»¥ç»™å¸§&lt;strong&gt;åŠ ä¸ŠåŒå±‚Tag&lt;/strong&gt;ï¼Œå³åœ¨åŸæ¥Tagçš„åŸºç¡€ä¸Šï¼Œç»™å¸§åŠ ä¸Šä¸€ä¸ªæ–°çš„Tagï¼Œä»è€Œå¯ä»¥æ”¯æŒå¤šè¾¾4094Ã—4094ä¸ªVLANï¼Œæ»¡è¶³ç½‘ç»œå¯¹VLANæ•°é‡çš„éœ€æ±‚ã€‚å¤–å±‚çš„Tagé€šå¸¸è¢«ç§°ä½œå…¬ç½‘Tagï¼Œç”¨æ¥æ ‡è¯†å…¬ç½‘çš„VLANï¼›å†…å±‚Tagé€šå¸¸è¢«ç§°ä½œç§ç½‘Tagï¼Œç”¨æ¥æ ‡è¯†ç§ç½‘çš„VLANã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»¥å¤ªç½‘é“¾è·¯åŒ…æ‹¬&lt;strong&gt;æ¥å…¥é“¾è·¯&lt;/strong&gt;ï¼ˆAccess Linkï¼‰å’Œ&lt;strong&gt;å¹²é“é“¾è·¯&lt;/strong&gt;ï¼ˆTrunk Linkï¼‰&lt;br&gt;
&lt;strong&gt;æ¥å…¥é“¾è·¯&lt;/strong&gt;ç”¨äºè¿æ¥äº¤æ¢æœºå’Œç”¨æˆ·ç»ˆç«¯ï¼ˆå¦‚ç”¨æˆ·ä¸»æœºã€æœåŠ¡å™¨ã€å‚»ç“œäº¤æ¢æœºç­‰ï¼‰ï¼Œ&lt;strong&gt;åªå¯ä»¥æ‰¿è½½1ä¸ªVLAN&lt;/strong&gt;çš„æ•°æ®å¸§ã€‚&lt;br&gt;
&lt;strong&gt;å¹²é“é“¾è·¯&lt;/strong&gt;ç”¨äºäº¤æ¢æœºé—´äº’è¿æˆ–è¿æ¥äº¤æ¢æœºä¸è·¯ç”±å™¨ï¼Œå¯ä»¥&lt;strong&gt;æ‰¿è½½å¤šä¸ªä¸åŒVLANçš„æ•°æ®å¸§&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨æ¥å…¥é“¾è·¯ä¸Šä¼ è¾“çš„å¸§éƒ½æ˜¯Untaggedå¸§ï¼Œåœ¨å¹²é“é“¾è·¯ä¸Šä¼ è¾“çš„æ•°æ®å¸§å¿…é¡»éƒ½æ‰“ä¸ŠTagã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;vlanåˆ’åˆ†&#34;&gt;VLANåˆ’åˆ†&lt;/h1&gt;
&lt;h2 id=&#34;åˆ’åˆ†æ–¹å¼&#34;&gt;åˆ’åˆ†æ–¹å¼&lt;/h2&gt;
&lt;p&gt;VLANåˆ’åˆ†æ–¹å¼å¯ä»¥åŸºäºæ¥å£ã€MACåœ°å€ã€å­ç½‘ã€ç½‘ç»œå±‚åè®®ã€åŒ¹é…ç­–ç•¥&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºæ¥å£&lt;br&gt;
é¢„å…ˆç»™äº¤æ¢æœºçš„&lt;strong&gt;æ¯ä¸ªæ¥å£é…ç½®ä¸åŒçš„PVID&lt;/strong&gt;ï¼Œå½“ä¸€ä¸ªæ•°æ®å¸§è¿›å…¥äº¤æ¢æœºæ—¶ï¼Œå¦‚æœæ²¡æœ‰å¸¦VLANæ ‡ç­¾ï¼Œè¯¥æ•°æ®å¸§å°±ä¼šè¢«æ‰“ä¸Šæ¥å£æŒ‡å®šPVIDçš„Tag&lt;/li&gt;
&lt;li&gt;åŸºäºåè®®&lt;br&gt;
é¢„å…ˆ&lt;strong&gt;é…ç½®ä»¥å¤ªç½‘å¸§ä¸­çš„åè®®åŸŸå’ŒVLAN IDçš„æ˜ å°„å…³ç³»è¡¨&lt;/strong&gt;ï¼Œå¦‚æœæ”¶åˆ°çš„æ˜¯Untaggedå¸§ï¼Œå°±ä¾æ®è¯¥è¡¨ç»™æ•°æ®å¸§æ·»åŠ æŒ‡å®šVLANçš„Tag&lt;/li&gt;
&lt;li&gt;åŸºäºå­ç½‘&lt;br&gt;
é¢„å…ˆ&lt;strong&gt;é…ç½®IPåœ°å€å’ŒVLAN IDæ˜ å°„å…³ç³»è¡¨&lt;/strong&gt;ï¼Œå½“äº¤æ¢æœºæ”¶åˆ°çš„æ˜¯Untaggedå¸§ï¼Œå°±ä¾æ®è¯¥è¡¨ç»™æ•°æ®å¸§æ·»åŠ æŒ‡å®šVLANçš„Tag&lt;/li&gt;
&lt;li&gt;åŸºäºMACåœ°å€&lt;br&gt;
é¢„å…ˆ&lt;strong&gt;é…ç½®MACåœ°å€å’ŒVLAN IDæ˜ å°„å…³ç³»è¡¨&lt;/strong&gt;ï¼Œå½“äº¤æ¢æœºæ”¶åˆ°çš„æ˜¯Untaggedå¸§æ—¶ï¼Œå°±ä¾æ®è¯¥è¡¨ç»™æ•°æ®å¸§æ·»åŠ æŒ‡å®šVLANçš„Tag&lt;/li&gt;
&lt;li&gt;åŸºäºåŒ¹é…ç­–ç•¥ï¼ˆMACåœ°å€ã€IPåœ°å€ã€æ¥å£ï¼‰&lt;br&gt;
æ ¹æ®é…ç½®çš„ç­–ç•¥åˆ’åˆ†VLANï¼Œèƒ½&lt;strong&gt;å®ç°å¤šç§ç»„åˆçš„åˆ’åˆ†æ–¹å¼&lt;/strong&gt;ï¼ŒåŒ…æ‹¬æ¥å£ã€MACåœ°å€ã€IPåœ°å€ç­‰ã€‚é¢„å…ˆ&lt;strong&gt;é…ç½®ç­–ç•¥&lt;/strong&gt;ï¼Œå¦‚æœæ”¶åˆ°çš„æ˜¯Untaggedå¸§ï¼Œä¸”åŒ¹é…é…ç½®çš„ç­–ç•¥æ—¶ï¼Œç»™æ•°æ®å¸§æ·»åŠ æŒ‡å®šVLANçš„Tag&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŒ¹é…ä¼˜å…ˆçº§&#34;&gt;åŒ¹é…ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;p&gt;å¦‚æœå…¥æ–¹å‘Untaggedå¸§åŒæ—¶åŒ¹é…å¤šç§åˆ’åˆ†VLANçš„æ–¹å¼ï¼Œåˆ™ä¼˜å…ˆçº§é¡ºåºä»é«˜è‡³ä½ä¾æ¬¡æ˜¯ï¼š&lt;code&gt;åŒ¹é…ç­–ç•¥ &amp;gt; MACåœ°å€ &amp;gt; å­ç½‘ &amp;gt; åè®® &amp;gt; æ¥å£&lt;/code&gt;&lt;br&gt;
å¦‚æœæŠ¥æ–‡åŒæ—¶åŒ¹é…äº†åŸºäºMACåœ°å€å’Œå­ç½‘åˆ’åˆ†VLANï¼Œç¼ºçœæƒ…å†µä¸‹ï¼Œä¼˜å…ˆåŸºäºMACåœ°å€åˆ’åˆ†VLANï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ”¹å˜åŸºäºMACåœ°å€åˆ’åˆ†VLANå’ŒåŸºäºå­ç½‘åˆ’åˆ†VLANçš„ä¼˜å…ˆçº§ï¼Œä»è€Œå†³å®šä¼˜å…ˆåˆ’åˆ†VLANçš„æ–¹å¼ã€‚&lt;br&gt;
åŸºäºæ¥å£åˆ’åˆ†VLANçš„ä¼˜å…ˆçº§æœ€ä½ï¼Œä½†æ˜¯æœ€å¸¸ç”¨çš„VLANåˆ’åˆ†æ–¹å¼ã€‚&lt;/p&gt;
&lt;h1 id=&#34;vlan-mappingvlan-translationæˆ–vlanæ˜ å°„&#34;&gt;VLAN Mappingï¼ˆVLAN Translationæˆ–VLANæ˜ å°„ï¼‰&lt;/h1&gt;
&lt;p&gt;é€šè¿‡ä¿®æ”¹æŠ¥æ–‡æºå¸¦çš„VLAN Tagæ¥å®ç°ä¸åŒVLANçš„ç›¸äº’æ˜ å°„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611137634730.png&#34; alt=&#34;VLAN Mapping&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä½¿ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤ä¸ªVLANç›¸åŒçš„äºŒå±‚ç”¨æˆ·ç½‘ç»œé€šè¿‡éª¨å¹²ç½‘ç»œäº’è”ï¼Œä¸ºäº†å®ç°ç”¨æˆ·ä¹‹é—´çš„äºŒå±‚äº’é€šï¼Œä»¥åŠäºŒå±‚åè®®ï¼ˆä¾‹å¦‚MSTPç­‰ï¼‰çš„ç»Ÿä¸€éƒ¨ç½²ï¼Œéœ€è¦å®ç°ä¸¤ä¸ªç”¨æˆ·ç½‘ç»œçš„æ— ç¼è¿æ¥ï¼Œæ­¤æ—¶å°±éœ€è¦éª¨å¹²ç½‘å¯ä»¥ä¼ è¾“æ¥è‡ªç”¨æˆ·ç½‘ç»œçš„å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡ã€‚è€Œåœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œéª¨å¹²ç½‘çš„VLANè§„åˆ’å’Œç”¨æˆ·ç½‘ç»œçš„VLANè§„åˆ’æ˜¯ä¸ä¸€è‡´çš„ï¼Œæ‰€ä»¥åœ¨éª¨å¹²ç½‘ä¸­æ— æ³•ç›´æ¥ä¼ è¾“ç”¨æˆ·ç½‘ç»œçš„å¸¦æœ‰VLAN Tagçš„äºŒå±‚æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç”±äºè§„åˆ’çš„å·®å¼‚ï¼Œå¯¼è‡´ä¸¤ä¸ªç›´æ¥ç›¸è¿çš„äºŒå±‚ç½‘ç»œä¸­éƒ¨ç½²çš„VLAN IDä¸ä¸€è‡´ã€‚ä½†æ˜¯ç”¨æˆ·åˆå¸Œæœ›å¯ä»¥æŠŠä¸¤ä¸ªç½‘ç»œä½œä¸ºå•ä¸ªäºŒå±‚ç½‘ç»œè¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œä¾‹å¦‚ç”¨æˆ·äºŒå±‚äº’é€šå’ŒäºŒå±‚åè®®çš„ç»Ÿä¸€éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;qinq&#34;&gt;QinQ&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ä½œç”¨ï¼šä½¿ç§ç½‘ VLAN é€ä¼ å…¬ç½‘
&lt;ul&gt;
&lt;li&gt;æ‰©å±• VLANï¼Œå¯¹ç”¨æˆ·è¿›è¡Œéš”ç¦»å’Œæ ‡è¯†ä¸å†å—åˆ°é™åˆ¶&lt;/li&gt;
&lt;li&gt;QinQ å†…å¤–å±‚æ ‡ç­¾å¯ä»¥ä»£è¡¨ä¸åŒçš„ä¿¡æ¯ï¼Œå¦‚å†…å±‚æ ‡ç­¾ä»£è¡¨ç”¨æˆ·ï¼Œå¤–å±‚æ ‡ç­¾ä»£è¡¨ä¸šåŠ¡ï¼Œ æ›´åˆ©äºä¸šåŠ¡çš„éƒ¨ç½²&lt;/li&gt;
&lt;li&gt;QinQ å°è£…ã€ç»ˆç»“çš„æ–¹å¼å¾ˆä¸°å¯Œï¼Œå¸®åŠ©è¿è¥å•†å®ç°ä¸šåŠ¡ç²¾ç»†åŒ–è¿è¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åŸç† ï¼šæ‰“ä¸ŠåŒå±‚æ ‡ç­¾ï¼Œä½¿ç§ç½‘çš„ VLAN é€ä¼ åˆ°å…¬ç½‘ï¼Œå¤–å±‚æ”¾çš„æ˜¯å…¬ç½‘çš„æ ‡ç­¾ï¼Œå†…å±‚æ”¾ çš„æ˜¯ç§ç½‘çš„æ ‡ç­¾ï¼Œåœ¨å…¬ç½‘ä¸Šå‰¥ç¦»å…¬ç½‘æ ‡ç­¾ï¼Œä¸¤è¾¹è®¾å¤‡å°±å¯ä»¥è·¨å…¬ç½‘äº’è®¿äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®ç°æ–¹å¼&#34;&gt;å®ç°æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åŸºæœ¬QinQ&lt;br&gt;
åŸºæœ¬QinQæ˜¯&lt;strong&gt;åŸºäºç«¯å£&lt;/strong&gt;æ–¹å¼å®ç°çš„ã€‚å½“ç«¯å£ä¸Šé…ç½®äº†åŸºæœ¬QinQåŠŸèƒ½åï¼Œä¸è®ºä»è¯¥ç«¯å£æ”¶åˆ°æŠ¥æ–‡&lt;strong&gt;æ˜¯å¦å¸¦æœ‰VLAN Tag&lt;/strong&gt;ï¼Œè®¾å¤‡éƒ½ä¼šä¸ºè¯¥æŠ¥æ–‡&lt;strong&gt;æ‰“ä¸Šæœ¬ç«¯å£ç¼ºçœVLANçš„Tag&lt;/strong&gt;ã€‚&lt;br&gt;
å¦‚æœæ”¶åˆ°çš„æ˜¯å¸¦æœ‰VLAN Tagçš„æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å°±æˆä¸ºå¸¦åŒTagçš„æŠ¥æ–‡ã€‚&lt;br&gt;
å¦‚æœæ”¶åˆ°çš„æ˜¯ä¸å¸¦VLAN Tagçš„æŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡å°±æˆä¸ºå¸¦æœ‰æœ¬ç«¯å£ç¼ºçœVLAN Tagçš„æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;çµæ´»QinQ&lt;br&gt;
çµæ´»QinQæ˜¯&lt;strong&gt;åŸºäºç«¯å£ä¸VLANç›¸ç»“åˆ&lt;/strong&gt;çš„æ–¹å¼å®ç°çš„ï¼Œå³ç«¯å£å¯¹æ¥æ”¶çš„æŠ¥æ–‡ï¼Œå¯ä»¥é€šè¿‡å•å±‚VLAN tagè½¬å‘ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŒå±‚VLAN tagè½¬å‘ã€‚&lt;br&gt;
æŒ‡å®šæ¡ä»¶ï¼šå…¥æ–¹å‘æŠ¥æ–‡&lt;strong&gt;VLANçš„èŒƒå›´&lt;/strong&gt;æˆ–&lt;strong&gt;VLAN+802.1Pä¼˜å…ˆçº§&lt;/strong&gt;ã€‚ä»…æŒ‡å®šæŠ¥æ–‡802.1Pä¼˜å…ˆçº§æ—¶ï¼Œä¸å…³æ³¨å…¥æŠ¥æ–‡å¤–å±‚VLANçš„å…·ä½“å€¼ï¼Œåªè¦å¤–å±‚VLANçš„802.1Pä¼˜å…ˆçº§åŒ¹é…å°±ä¼šæ‰“ä¸ŠVLAN tag&lt;br&gt;
å¦å¤–å¯¹äºä»åŒä¸€ä¸ªç«¯å£æ”¶åˆ°çš„æŠ¥æ–‡ï¼Œè¿˜å¯ä»¥æ ¹æ®VLANçš„ä¸åŒè¿›è¡Œä¸åŒçš„æ“ä½œï¼ŒåŒ…æ‹¬ï¼š
&lt;ol&gt;
&lt;li&gt;ä¸ºå…·æœ‰ä¸åŒå†…å±‚VLAN IDçš„æŠ¥æ–‡æ·»åŠ ä¸åŒçš„å¤–å±‚VLAN Tag&lt;/li&gt;
&lt;li&gt;æ ¹æ®æŠ¥æ–‡å†…å±‚VLANçš„802.1pä¼˜å…ˆçº§æ ‡è®°å¤–å±‚VLANçš„802.1pä¼˜å…ˆçº§å’Œæ·»åŠ ä¸åŒçš„å¤–å±‚VLAN Tag&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åŸºäºæµçš„çµæ´»QinQ&lt;br&gt;
åŸºäºæµçš„çµæ´»QinQé€šè¿‡å…¨å±€é…ç½®æµåˆ†ç±»ã€æµè¡Œä¸ºï¼Œå†å°†æµç­–ç•¥ç»‘å®šæµåˆ†ç±»å’Œæµè¡Œä¸ºæ¥å®ç°&lt;br&gt;
ç›¸å¯¹çµæ´»QinQï¼ŒåŸºäºæµçš„çµæ´»QinQè¿˜å¯ä»¥æ ¹æ®å…¥æŠ¥æ–‡çš„å†…å±‚VLANçš„å±æ€§æ¥åŠ VLAN tagï¼Œé…ç½®èŒƒå›´æ›´åŠ çµæ´»ã€‚å¦‚ï¼šå†…å±‚VLANã€å†…å±‚VLAN+802.1Pã€å¤–å±‚VLANã€å¤–å±‚VLAN+802.1Pç­‰å±æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å°è£…æ–¹å¼&#34;&gt;å°è£…æ–¹å¼&lt;/h2&gt;
&lt;p&gt;QinQå°è£…æ˜¯æŒ‡å¦‚ä½•æŠŠå•å±‚QæŠ¥æ–‡è½¬æ¢æˆåŒå±‚QæŠ¥æ–‡ï¼Œå°è£…ä¸»è¦å‘ç”Ÿåœ¨&lt;strong&gt;åŸåŸŸç½‘é¢å‘ç”¨æˆ·çš„UPE&lt;sub&gt;é è¿‘ç”¨æˆ·ä¾§çš„PEè®¾å¤‡ï¼Œä¸»è¦ä½œä¸ºç”¨æˆ·æ¥å…¥VPNçš„æ±‡èšè®¾å¤‡&lt;/sub&gt;æ¥å£ä¸Šè¿›è¡Œ&lt;/strong&gt;ã€‚&lt;br&gt;
æ ¹æ®ä¸åŒçš„å°è£…æ•°æ®ï¼ŒQinQå¯ä»¥åˆ†ä¸ºå‡ ç§ä¸åŒç±»å‹ï¼ŒåŒ…æ‹¬åŸºäºæ¥å£çš„QinQå’ŒåŸºäºæµçš„QinQä¸¤å¤§ç±»ï¼Œå¦å¤–ï¼Œè¿˜å¯ä»¥åœ¨è·¯ç”±å­æ¥å£ä¸Šè¿›è¡Œç‰¹æ®Šçš„QinQå°è£…ï¼Œå…·ä½“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºæ¥å£çš„QinQå°è£…ï¼ˆåŸºæœ¬QinQï¼‰&lt;br&gt;
åŸºäºæ¥å£çš„å°è£…æ˜¯æŒ‡&lt;strong&gt;è¿›å…¥ä¸€ä¸ªæ¥å£çš„æ‰€æœ‰æµé‡å…¨éƒ¨å°è£…ä¸€ä¸ªç›¸åŒçš„å¤–å±‚VLAN Tag&lt;/strong&gt;ï¼Œå°è£…æ–¹å¼ä¸å¤Ÿçµæ´»ï¼Œç”¨æˆ·ä¸šåŠ¡åŒºåˆ†ä¸å¤Ÿç»†è‡´ï¼Œè¿™ç§å°è£…æ–¹å¼ä¹Ÿç§°ä½œ&lt;strong&gt;QinQäºŒå±‚éš§é“&lt;/strong&gt;&lt;br&gt;
åŸºäºç«¯å£çš„QinQé€šè¿‡é…ç½®ç«¯å£ç±»å‹ä¸ºdot1q-tunnelå®ç°ï¼Œå½“ç«¯å£ç±»å‹ä¸ºdot1q-tunnelæ—¶ï¼Œè¯¥ç«¯å£åŠ å…¥çš„VLAN&lt;strong&gt;ä¸æ”¯æŒäºŒå±‚ç»„æ’­åŠŸèƒ½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŸºäºæµçš„QinQå°è£…ï¼ˆåŸºäºæµçš„çµæ´»QinQï¼‰&lt;br&gt;
åŸºäºæµçš„QinQå°è£…å¯ä»¥å¯¹è¿›å…¥æ¥å£çš„æ•°æ®é¦–å…ˆ&lt;strong&gt;è¿›è¡Œæµåˆ†ç±»&lt;/strong&gt;ï¼Œç„¶åå¯¹äºä¸åŒçš„æ•°æ®æµé€‰æ‹©æ˜¯å¦å°è£…å¤–å±‚Tagã€å°è£…ä½•ç§å¤–å±‚Tagï¼Œå› æ­¤è¿™ç§å°è£…æ–¹å¼ä¹Ÿç§°ä½œ&lt;strong&gt;äºŒå±‚çµæ´»QinQ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨è·¯ç”±å­æ¥å£ä¸Šè¿›è¡ŒQinQå°è£…&lt;br&gt;
QinQå°è£…ä¸€èˆ¬åœ¨äºŒå±‚æ¥å£ä¸Šè¿›è¡Œï¼Œä½†æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼ŒQinQä¹Ÿå¯ä»¥åœ¨è·¯ç”±å­æ¥å£ä¸Šè¿›è¡Œå°è£…ã€‚&lt;br&gt;
å½“MPLS/IPæ ¸å¿ƒç½‘é‡‡ç”¨PWE3/VLL/VPLSé€ä¼ ä¸šåŠ¡æ•°æ®æ—¶ï¼ŒNPEä¸Šçš„è·¯ç”±å­æ¥å£å¯ä»¥æ ¹æ®ç”¨æˆ·VLAN IDå°è£…å¤–å±‚VLAN IDï¼Œé€šè¿‡å¤–å±‚VLAN IDæ¥å…¥VLL/PWE3ã€‚æ­¤ç§æ–¹æ³•å¯ä»¥é€šè¿‡ä¸€ä¸ªå­æ¥å£æ¥é€ä¼ å¤šä¸ªæ ‡è¯†ç”¨æˆ·çš„VLAN IDï¼Œè¿™ç§å­æ¥å£ä¹Ÿå«&lt;strong&gt;QinQ Stackingå­æ¥å£&lt;/strong&gt;ã€‚&lt;br&gt;
è¿™ç§å°è£…æ–¹å¼ä¹Ÿæ˜¯åŸºäºæµçš„QinQå°è£…æ–¹å¼ï¼Œä½†QinQ Stackingå­æ¥å£åªèƒ½å’ŒL2VPN(PWE3/VLL/VPLS)ä¸šåŠ¡ç»“åˆèµ·æ¥æ‰æœ‰æ„ä¹‰ï¼Œ&lt;strong&gt;ä¸æ”¯æŒä¸‰å±‚è½¬å‘åŠŸèƒ½&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;vlanèšåˆsuper-vlan&#34;&gt;VLANèšåˆï¼ˆSuper VLANï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»è¦åŠŸèƒ½å°±æ˜¯&lt;strong&gt;èŠ‚çº¦IPåœ°å€(å¯ç”¨super vlanåï¼Œä¸åŒçš„VLANå¯ä»¥å…±ç”¨ä¸€ä¸ªç½‘å…³IPï¼Œæ­£å¸¸çš„VLANï¼Œä¸€ä¸ªVLANå°±éœ€è¦ä¸€ä¸ªç½‘å…³IP)&lt;/strong&gt;ï¼Œéš”ç¦»å¹¿æ’­é£æš´ï¼Œæ§åˆ¶ç«¯å£äºŒå±‚äº’è®¿&lt;/li&gt;
&lt;li&gt;Super VLANä¸‹å…³è”å¤šä¸ªSub VLANï¼ŒSub VLANä¹‹é—´äºŒå±‚éš”ç¦»ã€‚æ‰€æœ‰Sub VLANå…±ç”¨Super VLANçš„VLANIFæ¥å£IPåœ°å€ä¸å¤–ç½‘é€šä¿¡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡Super VLANçš„VLANIFæ¥å£ä¸‰å±‚äº’é€šï¼Œä»è€ŒèŠ‚çº¦IPåœ°å€&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºç”¨æˆ·å¤šï¼ŒVLANå¤šï¼Œå¤§é‡VLANçš„IPåœ°å€åœ¨åŒä¸€ä¸ªç½‘æ®µï¼Œä½†æ˜¯åˆè¦å®ç°ä¸åŒVLANä¹‹é—´äºŒå±‚éš”ç¦»çš„åœºæ™¯ã€‚VLANä¹‹é—´å¦‚æœæœ‰äº’è®¿çš„éœ€æ±‚ï¼Œå¯ä»¥å¯¹Super VLANå¼€å¯ARPä»£ç†ã€‚å¸¸è§çš„åœºæ™¯æœ‰å®¾é¦†é…’åº—ï¼Œå°åŒºå®½å¸¦æ¥å…¥ç­‰&lt;/li&gt;
&lt;li&gt;æ³¨æ„äº‹é¡¹
&lt;ol&gt;
&lt;li&gt;VLAN 1ä¸èƒ½é…ç½®ä¸ºSuper VLAN&lt;/li&gt;
&lt;li&gt;é…ç½®æŸVLANä¸ºSuper VLANåï¼Œè¯¥VLANç±»å‹æ”¹å˜ä¸ºsuperï¼Œä¸å…è®¸ä»»ä½•ç‰©ç†æ¥å£åŠ å…¥è¯¥VLAN&lt;/li&gt;
&lt;li&gt;å¦‚æœè¦å®ç°Vlanä¹‹é—´çš„äº’é€šï¼Œéœ€è¦å¼€å¯Vlané—´çš„ARPä»£ç†&lt;code&gt;arp-proxy inter-sub-vlan-proxy enable&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸MUX VLANéš”ç¦»åŠŸèƒ½ç›¸æ¯”ï¼ŒSuper VLANå±äºä¸‰å±‚åŠŸèƒ½ï¼Œéœ€è¦ä¸‰å±‚äº¤æ¢æœºæ”¯æŒï¼ŒMUX VLANå±äºäºŒå±‚äº¤æ¢æœºåŠŸèƒ½ã€‚&lt;br&gt;
Super VLANçš„é…ç½®è¾ƒä¸ºç®€å•ï¼ŒMUX VLANé…ç½®è¾ƒä¸ºå¤æ‚ï¼Œä½†å¯¹ç”¨æˆ·é—´çš„è®¿é—®æ§åˆ¶çµæ´»æ€§ä¸å¦‚MUX VLANï¼ŒSuper VLANå†…éœ€è¦æŸ¥è¯¢éƒ¨åˆ†æš‚æ—¶ç¦»çº¿çš„ç”¨æˆ·æ—¶ï¼Œç½‘å…³éœ€è¦åœ¨æ¯ä¸ªå­VLANå†…å¹¿æ’­å‘é€æŠ¥æ–‡ï¼Œå¯èƒ½è¾ƒå¤§çš„æ¶ˆè€—è®¾å¤‡CPUèµ„æºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;mux-vlan&#34;&gt;Mux-Vlan&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;å®ç°Vlanä¹‹é—´çš„éš”ç¦»&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Mux-Vlanåˆ’åˆ†è¡¨&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611151220809.png&#34; alt=&#34;Mux-Vlanåˆ’åˆ†è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;é€šä¿¡åŸç†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611151256368.png&#34; alt=&#34;é€šä¿¡åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611151400210.png&#34; alt=&#34;ç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ ¹æ®MUX VLANç‰¹æ€§ï¼Œä¼ä¸šå¯ä»¥ç”¨&lt;strong&gt;Principal portè¿æ¥ä¼ä¸šæœåŠ¡å™¨&lt;/strong&gt;ã€&lt;strong&gt;Separate portè¿æ¥ä¼ä¸šå®¢æˆ·&lt;/strong&gt;ã€&lt;strong&gt;Group portè¿æ¥ä¼ä¸šå‘˜å·¥&lt;/strong&gt;ã€‚è¿™æ ·å°±èƒ½å¤Ÿå®ç°ä¼ä¸šå®¢æˆ·ã€ä¼ä¸šå‘˜å·¥éƒ½èƒ½å¤Ÿè®¿é—®ä¼ä¸šæœåŠ¡å™¨ï¼Œè€Œä¼ä¸šå‘˜å·¥å†…éƒ¨å¯ä»¥é€šä¿¡ã€ä¼ä¸šå®¢æˆ·é—´ä¸èƒ½é€šä¿¡ã€ä¼ä¸šå®¢æˆ·å’Œä¼ä¸šå‘˜å·¥ä¹‹é—´ä¸èƒ½é€šä¿¡çš„ç›®çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;smart-linkå’Œmonitor-link&#34;&gt;Smart Linkå’ŒMonitor Link&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613825844109.png&#34; alt=&#34;Smart Linkå’ŒMonitor Link&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;smart-linkå¤‡ä»½é“¾è·¯&#34;&gt;Smart Link(å¤‡ä»½é“¾è·¯)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;åœ¨æ¥å£ä¸‹é…ç½®Smart Linkä¹‹å‰ï¼Œéœ€è¦å…³é—­è¯¥æ¥å£ä¸‹çš„ç”Ÿæˆæ ‘åè®®ï¼ˆSTPã€RSTPå’ŒMSTPï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›®çš„&lt;br&gt;
Smart Link&lt;strong&gt;å¸¸ç”¨äºåŒä¸Šè¡Œç»„ç½‘&lt;/strong&gt;ï¼Œæä¾›å¯é é«˜æ•ˆçš„å¤‡ä»½å’Œå¿«é€Ÿçš„åˆ‡æ¢æœºåˆ¶ã€‚å°†ä¸€å°ä¸‹æ¸¸è®¾å¤‡åŒæ—¶è¿æ¥åˆ°ä¸¤å°ä¸Šæ¸¸è®¾å¤‡ï¼Œå¯é™ä½å•ç‚¹æ•…éšœå¯¹ç½‘ç»œçš„å½±å“ï¼Œæé«˜äº†å¯é æ€§ã€‚&lt;/li&gt;
&lt;li&gt;æ¥å£è§’è‰²
&lt;ol&gt;
&lt;li&gt;ä¸»æ¥å£&lt;br&gt;
ä¸»æ¥å£åˆå«Masteræ¥å£ï¼Œå½“ä¸¤ä¸ªæ¥å£éƒ½å¤„äºå¾…å‘½çŠ¶æ€æ—¶ï¼Œä¸»æ¥å£å°†&lt;strong&gt;ä¼˜å…ˆè¿›å…¥è½¬å‘çŠ¶æ€&lt;/strong&gt;ï¼Œä½†ä¸»æ¥å£å¹¶ä¸ä¸€ç›´å¤„äºè½¬å‘çŠ¶æ€ï¼Œå‘ç”Ÿé“¾è·¯åˆ‡æ¢åï¼Œå¦‚æœä»æ¥å£å·²ç»å¤„äºè½¬å‘çŠ¶æ€ï¼Œé‚£ä¹ˆå³ä½¿ä¸»æ¥å£é“¾è·¯æ¢å¤æ­£å¸¸ï¼Œä¹Ÿåªèƒ½å¤„äºå¾…å‘½çŠ¶æ€ï¼ˆé»˜è®¤ä¸æ”¯æŒæŠ¢å ï¼‰ï¼Œç›´åˆ°å†è¿›è¡Œä¸€æ¬¡é“¾è·¯åˆ‡æ¢ï¼ˆå¦‚æœé…ç½®å›åˆ‡åŠŸèƒ½ï¼Œå›åˆ‡æ—¶é—´&lt;sub&gt;(é…ç½®å›åˆ‡åŠŸèƒ½åé»˜è®¤ä¸º60ç§’)&lt;/sub&gt;åˆ°æ—¶ï¼Œä¼šåˆ‡æ¢åˆ°ä¸»é“¾è·¯ï¼‰&lt;/li&gt;
&lt;li&gt;ä»æ¥å£&lt;br&gt;
ä»æ¥å£åˆå«Slaveæ¥å£ï¼Œå½“ä¸¤ä¸ªæ¥å£éƒ½å¤„äºå¾…å‘½çŠ¶æ€æ—¶ï¼Œä»æ¥å£ä¿æŒå¾…å‘½çŠ¶æ€ã€‚ä»æ¥å£å¹¶ä¸ä¸€ç›´å¤„äºå¾…å‘½çŠ¶æ€ï¼Œå½“å‘ç”Ÿé“¾è·¯åˆ‡æ¢åï¼Œä»æ¥å£å°†åˆ‡æ¢åˆ°è½¬å‘çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç»„ç½‘æ–¹å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1613824105102.png&#34; alt=&#34;ç»„ç½‘æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
SwitchDé‡‡ç”¨åŒä¸Šè¡Œæ–¹å¼åˆ†åˆ«è¿æ¥åˆ°SwitchBå’ŒSwitchCï¼Œè¿™æ ·SwitchDåˆ°è¾¾SwitchAçš„é“¾è·¯å°±å¯ä»¥æœ‰ä¸¤æ¡ï¼ˆSwitchD-&amp;gt;SwitchB-&amp;gt;SwitchAå’ŒSwitchD-&amp;gt;SwitchC-&amp;gt;SwitchAï¼‰ï¼Œä½†æ˜¯ç½‘ç»œä¸­çš„ç¯è·¯ä¼šäº§ç”Ÿç½‘ç»œé£æš´ã€‚åœ¨SwitchAä¸Šé…ç½®Smart Linkï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¯å®ç°Interface2æ‰€åœ¨é“¾è·¯ä½œä¸ºInterface1æ‰€åœ¨é“¾è·¯çš„å¤‡ä»½ã€‚&lt;br&gt;
ä¼˜ç‚¹ï¼š
&lt;ol&gt;
&lt;li&gt;èƒ½å¤Ÿå®ç°åœ¨åŒä¸Šè¡Œç»„ç½‘çš„ä¸¤æ¡é“¾è·¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸€æ¡é“¾è·¯å¤„äºè½¬å‘çŠ¶æ€ï¼Œè€Œå¦ä¸€æ¡å¤„äºé˜»å¡å¾…å‘½çŠ¶æ€ï¼Œä»è€Œå¯é¿å…ç¯è·¯çš„ä¸åˆ©å½±å“&lt;/li&gt;
&lt;li&gt;é…ç½®å’Œä½¿ç”¨æ›´ä¸ºç®€æ´ï¼Œä¾¿äºç”¨æˆ·æ“ä½œ&lt;/li&gt;
&lt;li&gt;å½“ä¸»ç”¨é“¾è·¯å‘ç”Ÿæ•…éšœåï¼Œæµé‡ä¼šåœ¨æ¯«ç§’çº§çš„æ—¶é—´å†…è¿…é€Ÿåˆ‡æ¢åˆ°å¤‡ç”¨é“¾è·¯ä¸Šï¼Œæå¤§é™åº¦åœ°ä¿è¯äº†æ•°æ®çš„æ­£å¸¸è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;FlushæŠ¥æ–‡&lt;br&gt;
&lt;strong&gt;å½“Smart Linkç»„å‘ç”Ÿé“¾è·¯åˆ‡æ¢æ—¶&lt;/strong&gt;ï¼ŒåŸæœ‰çš„è½¬å‘è¡¨é¡¹å°†ä¸é€‚ç”¨äºæ–°çš„æ‹“æ‰‘ç½‘ç»œï¼Œéœ€è¦æ•´ç½‘è¿›è¡ŒMACè¡¨é¡¹å’ŒARPè¡¨é¡¹çš„æ›´æ–°ã€‚è¿™æ—¶ï¼ŒSmart Linkç»„é€šè¿‡å‘é€FlushæŠ¥æ–‡é€šçŸ¥å…¶ä»–è®¾å¤‡è¿›è¡ŒMACå’ŒARPè¡¨é¡¹çš„åˆ·æ–°æ“ä½œã€‚å½“é“¾è·¯å‘ç”Ÿåˆ‡æ¢æ—¶ï¼ŒSwitchDä¼šå‘é€FlushæŠ¥æ–‡é€šçŸ¥SwitchBã€SwitchCå’ŒSwitchAè¿›è¡ŒMACå’ŒARPè¡¨é¡¹çš„æ›´æ–°ã€‚&lt;code&gt;Flush æŠ¥æ–‡æ˜¯ç»„æ’­æŠ¥æ–‡ï¼Œç»„æ’­åœ°å€01-0F-E2-00-00-04&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1611153184049.png&#34; alt=&#34;FlushæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ§åˆ¶VLANï¼ˆControl VLANï¼‰
&lt;ol&gt;
&lt;li&gt;å‘é€æ§åˆ¶VLAN&lt;br&gt;
å‘é€æ§åˆ¶VLANæ˜¯Smart Linkç»„ç”¨äºå¹¿æ’­FlushæŠ¥æ–‡çš„VLANã€‚å¦‚æœåœ¨SwitchDä¸Šå¼€å¯äº†FlushæŠ¥æ–‡å‘é€åŠŸèƒ½ï¼Œå½“å‘ç”Ÿé“¾è·¯åˆ‡æ¢æ—¶ï¼Œè®¾å¤‡ä¼šåœ¨å‘é€æ§åˆ¶VLANå†…å¹¿æ’­å‘é€FlushæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ¥æ”¶æ§åˆ¶VLAN&lt;br&gt;
æ¥æ”¶æ§åˆ¶VLANæ˜¯ä¸Šæ¸¸è®¾å¤‡ç”¨äºæ¥æ”¶å¹¶å¤„ç†FlushæŠ¥æ–‡çš„VLANã€‚å¦‚æœä¸Šæ¸¸è®¾å¤‡SwitchAã€SwitchBå’ŒSwitchCèƒ½å¤Ÿè¯†åˆ«FlushæŠ¥æ–‡ï¼Œå¹¶å¼€å¯äº†FlushæŠ¥æ–‡æ¥æ”¶å¤„ç†åŠŸèƒ½ï¼Œå½“å‘ç”Ÿé“¾è·¯åˆ‡æ¢æ—¶ï¼Œä¸Šæ¸¸è®¾å¤‡ä¼šå¤„ç†æ”¶åˆ°çš„å±äºæ¥æ”¶æ§åˆ¶VLANçš„FlushæŠ¥æ–‡ï¼Œè¿›è€Œåˆ·æ–°MACè¡¨å’ŒARPè¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è´Ÿè½½åˆ†æ‹…&lt;br&gt;
Smart Linkæ”¯æŒé…ç½®å¤šä¸ªè´Ÿè½½åˆ†æ‹…VLANå®ä¾‹ã€‚å½“Smart Link ç»„çš„ä¸»ä»é“¾è·¯å‡æ­£å¸¸æ—¶ï¼ŒSmart link&lt;strong&gt;å…è®¸ä¸¤æ¡é“¾è·¯å¯ä»¥è½¬å‘ä¸åŒçš„æ•°æ®æµé‡&lt;/strong&gt;ã€‚&lt;strong&gt;è´Ÿè½½åˆ†æ‹…æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªæ¥å£å‡å¤„äºè½¬å‘çŠ¶æ€&lt;/strong&gt;ï¼Œä»æ¥å£è½¬å‘è´Ÿè½½åˆ†æ‹…å®ä¾‹æµé‡ï¼ˆå¯¹è´Ÿè½½åˆ†æ‹…å®ä¾‹çš„æ•°æ®æµé‡è¿›è¡Œè½¬å‘ï¼Œå¯¹éè´Ÿè½½åˆ†æ‹…å®ä¾‹çš„æ•°æ®æµé‡è¿›è¡Œé˜»å¡ï¼‰ï¼Œä¸»æ¥å£è½¬å‘éè´Ÿè½½åˆ†æ‹…çš„å®ä¾‹æµé‡ï¼ˆä¸ä»æ¥å£ç›¸åï¼‰ã€‚å½“å…¶ä¸­ä¸€æ¡é“¾è·¯æ•…éšœæ—¶ï¼ŒSmart Linkç»„ä¼šè‡ªåŠ¨å°†æ‰€æœ‰çš„æµé‡åˆ‡æ¢åˆ°å¦ä¸€æ¡é“¾è·¯ä¸Š&lt;/li&gt;
&lt;li&gt;Smart Linkå®ä¾‹&lt;br&gt;
Smart Linkç»„çš„å¤‡é“¾è·¯é€šè¿‡ç»‘å®šä¸åŒçš„å®ä¾‹æ¥å®ç°è´Ÿè½½åˆ†æ‹…ã€‚Smart Linkå¼•ç”¨MSTPçš„å®ä¾‹ï¼Œæ¯ä¸ªå®ä¾‹ç”¨æ¥ç»‘å®šè‹¥å¹²VLANï¼Œä¸åŒçš„å®ä¾‹ç»‘å®šä¸åŒçš„VLAN&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;monitor-linkç›‘æ§é“¾è·¯&#34;&gt;Monitor Link(ç›‘æ§é“¾è·¯)&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1613824816996.png&#34; alt=&#34;Monitor Linkç»„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰&lt;br&gt;
é€šè¿‡&lt;strong&gt;ç›‘æ§è®¾å¤‡çš„ä¸Šè¡Œæ¥å£&lt;/strong&gt;ï¼Œæ ¹æ®å…¶Up/DownçŠ¶æ€çš„å˜åŒ–æ¥&lt;strong&gt;è§¦å‘ä¸‹è¡Œæ¥å£Up/DownçŠ¶æ€çš„å˜åŒ–&lt;/strong&gt;ï¼Œä»è€Œè§¦å‘ä¸‹æ¸¸è®¾å¤‡ä¸Šçš„æ‹“æ‰‘åè®®è¿›è¡Œé“¾è·¯çš„åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»„æˆ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Monitor Linkç»„&lt;br&gt;
Monitor Linkç»„ä¹Ÿå«ç›‘æ§é“¾è·¯ç»„ï¼Œç”±ä¸Šè¡Œæ¥å£å’Œä¸‹è¡Œæ¥å£å…±åŒç»„æˆã€‚&lt;strong&gt;ç»„çš„æˆå‘˜å¯ä»¥æ˜¯å•æ¥å£ã€é™æ€èšåˆç»„ã€æ‰‹å·¥èšåˆç»„æˆ–Smart Linkç»„ï¼Œå…¶ä¸­Smart Linkç»„åªèƒ½ä½œä¸ºä¸Šè¡Œæ¥å£&lt;/strong&gt;ã€‚&lt;code&gt;ä¸‹è¡Œæ¥å£çš„çŠ¶æ€éšä¸Šè¡Œæ¥å£çš„å˜åŒ–è€Œå˜åŒ–&lt;/code&gt;ã€‚Interface1å’ŒInterface2ç»„æˆäº†ä¸€ä¸ªMonitor Linkç»„ï¼›Interface3å’ŒInterface4ç»„æˆäº†ä¸€ä¸ªMonitor Linkç»„ã€‚&lt;/li&gt;
&lt;li&gt;ä¸Šè¡Œæ¥å£&lt;br&gt;
ä¸Šè¡Œæ¥å£åˆç§°ä¸ºUplinkæ¥å£ï¼Œæ˜¯Monitor Linkç»„ä¸­&lt;code&gt;å—ç›‘æ§è€…&lt;/code&gt;ï¼Œ&lt;strong&gt;ä¸Šè¡Œæ¥å£æ•…éšœåˆ™è¡¨ç¤ºè¯¥Monitor Linkç»„æ•…éšœ&lt;/strong&gt;ï¼Œ&lt;strong&gt;è¯¥ç»„çš„ä¸‹è¡Œæ¥å£å°†éƒ½ä¼šè¢«å¼ºåˆ¶è®¾ä¸ºDownçŠ¶æ€&lt;/strong&gt;ã€‚Interface1å’ŒInterface3ä¸ºä¸Šè¡Œæ¥å£ã€‚&lt;code&gt;ä¸Šè¡Œé“¾è·¯ä¹Ÿå¯ä»¥æ˜¯Smart Linkç»„ï¼Œå½“ä¸Šè¡Œé“¾è·¯æ˜¯Smart Linkç»„æ—¶ï¼Œåªæœ‰å½“Smart Linkç»„çš„ä¸¤ä¸ªæ¥å£éƒ½å¤„äºInactiveçŠ¶æ€ï¼ˆåŒ…æ‹¬Downï¼‰æ—¶ï¼Œæ‰èƒ½è®¤ä¸ºè¯¥ä¸Šè¡Œé“¾è·¯æ•…éšœ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸‹è¡Œæ¥å£&lt;br&gt;
ä¸‹è¡Œæ¥å£åˆç§°ä¸ºDownlinkæ¥å£ï¼Œæ˜¯Monitor Linkç»„ä¸­&lt;code&gt;ç›‘æ§è€…&lt;/code&gt;ï¼Œä¸‹è¡Œæ¥å£æ•…éšœä¸å½±å“ä¸Šè¡Œæ¥å£ï¼Œä¹Ÿä¸å½±å“å…¶ä»–ä¸‹è¡Œæ¥å£ã€‚Interface2å’ŒInterface4ä¸ºä¸‹è¡Œæ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºæœ¬åŸç†&lt;br&gt;
é…ç½®Monitor Linkç»„åï¼Œ&lt;strong&gt;ä¸Šè¡Œæ¥å£å°†è¢«å®æ—¶ç›‘æ§&lt;/strong&gt;ï¼Œä¸€æ—¦ä¸Šè¡Œæ¥å£å‡ºç°æ•…éšœï¼ŒåŒ…æ‹¬é“¾è·¯æ•…éšœã€OAMçš„å•é€šæ•…éšœã€OAMçš„è¿æ¥æ— æ³•å»ºç«‹ç­‰ï¼Œå…¶æ‰€åœ¨ç»„çš„æ‰€æœ‰Upçš„ä¸‹è¡Œæ¥å£éƒ½ä¼šè¢«å¼ºåˆ¶è®¾ä¸ºERROR-DOWNçŠ¶æ€ã€‚å½“ä¸Šè¡Œé“¾è·¯æ¢å¤æ­£å¸¸æ—¶ï¼Œæ¢å¤ä¸‹è¡Œæ¥å£ã€‚&lt;br&gt;
å¦‚æœInterface1æ‰€åœ¨çš„ä¸Šè¡Œé“¾è·¯å‘ç”Ÿæ•…éšœï¼ŒMonitor Linkä¼šå°†Interface2å¼ºåˆ¶è®¾ä¸ºERROR-DOWNçŠ¶æ€ã€‚ä»è€ŒSwitchCå¯ä»¥æ„ŸçŸ¥ç»ç”±SwitchBåˆ°è¾¾SwitchAçš„è¿™æ¡é“¾è·¯å‘ç”Ÿæ•…éšœã€‚å½“Interface1æ‰€åœ¨çš„ä¸Šè¡Œé“¾è·¯æ¢å¤æ­£å¸¸åï¼ŒMonitor Linkä¼šå–æ¶ˆå¯¹Interface2å¼ºåˆ¶è®¾å®šçš„ERROR-DOWNçŠ¶æ€ï¼Œå¼€å¯Interface2&lt;br&gt;
&lt;strong&gt;å½“ä¸Šè¡Œæ¥å£æ˜¯Smart Linkç»„æ—¶&lt;/strong&gt;ï¼Œåªæœ‰å½“Smart Linkç»„çš„&lt;strong&gt;ä¸¤ä¸ªæ¥å£éƒ½å¤„äºInactiveçŠ¶æ€&lt;/strong&gt;ï¼ˆåŒ…æ‹¬Downï¼‰æ—¶ï¼Œ&lt;strong&gt;æ‰èƒ½è®¤ä¸ºè¯¥ä¸Šè¡Œæ¥å£æ•…éšœ&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;å½“ä¸‹è¡Œæ¥å£æ˜¯èšåˆç»„æ—¶&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸Šè¡Œæ•…éšœå°†ä¼šå¼ºåˆ¶å°†èšåˆç»„ä¸­çš„æ‰€æœ‰æ¥å£è®¾ä¸ºERROR-DOWNçŠ¶æ€&lt;/strong&gt;ï¼ŒåŒæ ·ï¼Œæ¢å¤æ—¶ä¹Ÿæ˜¯å¯¹èšåˆç»„çš„æ‰€æœ‰æ¥å£è¿›è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;äºŒå±‚æ•°æ®é“¾è·¯å±‚&#34;&gt;äºŒå±‚ï¼šæ•°æ®é“¾è·¯å±‚&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å½“Typeå­—æ®µå€¼&amp;lt;=1500(0x5DC)æ—¶ä¸º802.3ï¼Œ&amp;gt;=1536(0x0600)ä¸ºEthernet â…¡ ä»¥å¤ªå¸§&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ethernet-ii-ä»¥å¤ªå¸§&#34;&gt;Ethernet â…¡ ä»¥å¤ªå¸§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586671980508.png&#34; alt=&#34;Ethernet â…¡ ä»¥å¤ªå¸§&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;Typeå€¼å¯¹åº”çš„åè®®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586672267977.png&#34; alt=&#34;Typeå€¼å¯¹åº”çš„åè®®&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8023-llc-snapä»¥å¤ªå¸§&#34;&gt;802.3 LLC SNAPä»¥å¤ªå¸§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586672668442.png&#34; alt=&#34;802.3 LLC SNAPä»¥å¤ªå¸§&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;vlanç»ˆç»“&#34;&gt;VLANç»ˆç»“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®šä¹‰&lt;br&gt;
æŒ‡è®¾å¤‡å¯¹æ¥æ”¶åˆ°çš„æŠ¥æ–‡ä¸­çš„VLANæ ‡ç­¾è¿›è¡Œè¯†åˆ«ï¼Œæ ¹æ®åç»­çš„è½¬å‘è¡Œä¸ºå¯¹æŠ¥æ–‡ä¸­çš„å•å±‚æˆ–åŒå±‚VLANæ ‡ç­¾è¿›è¡Œå‰¥é™¤ï¼Œç„¶åè¿›è¡Œä¸‰å±‚è½¬å‘æˆ–å…¶ä»–å¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¿™äº›VLANæ ‡ç­¾åªåœ¨ç»ˆç»“ä¹‹å‰ç”Ÿæ•ˆï¼Œä¹‹åçš„ä¸‰å±‚è½¬å‘æˆ–å…¶ä»–å¤„ç†ä¸å†ä¾æ®æŠ¥æ–‡ä¸­çš„è¿™äº›æ ‡ç­¾ã€‚&lt;/li&gt;
&lt;li&gt;VLANç»ˆç»“çš„å®è´¨åŒ…å«ä¸¤ä¸ªæ–¹é¢ï¼š&lt;br&gt;
å¯¹æ¥å£æ¥æ”¶åˆ°æŠ¥æ–‡ï¼Œå‰¥é™¤VLANæ ‡ç­¾åè¿›è¡Œä¸‰å±‚è½¬å‘æˆ–å…¶ä»–å¤„ç†ã€‚&lt;br&gt;
å¯¹æ¥å£å‘å‡ºçš„æŠ¥æ–‡ï¼Œåˆå°†ç›¸åº”çš„VLANæ ‡ç­¾æ·»åŠ åˆ°æŠ¥æ–‡ä¸­åå†å‘é€ã€‚&lt;/li&gt;
&lt;li&gt;åˆ†ç±»&lt;br&gt;
æ ¹æ®å¯¹æ‰€ç»ˆç»“çš„VLANæŠ¥æ–‡å¤„ç†æ–¹å¼çš„ä¸åŒï¼ŒVLANç»ˆç»“åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š
&lt;ol&gt;
&lt;li&gt;Dot1qç»ˆç»“ï¼š&lt;br&gt;
å¯¹æ¥æ”¶åˆ°çš„å¸¦æœ‰ä¸€å±‚æˆ–ä¸¤å±‚VLAN Tagçš„æŠ¥æ–‡ï¼Œå‰¥é™¤æŠ¥æ–‡çš„æœ€å¤–ä¸€å±‚VLAN Tagï¼›&lt;br&gt;
å¯¹ä»æ¥å£å‘å‡ºçš„æŠ¥æ–‡ï¼Œæ·»åŠ ä¸€å±‚VLAN Tagã€‚&lt;/li&gt;
&lt;li&gt;QinQç»ˆç»“ï¼š&lt;br&gt;
å¯¹æ¥æ”¶åˆ°çš„å¸¦æœ‰ä¸¤å±‚VLAN Tagçš„æŠ¥æ–‡ï¼Œå‰¥é™¤æŠ¥æ–‡çš„ä¸¤å±‚VLAN Tagï¼›&lt;br&gt;
å¯¹ä»æ¥å£å‘å‡ºçš„æŠ¥æ–‡ï¼Œæ·»åŠ ä¸¤å±‚VLAN Tagã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;VLANç»ˆç»“&lt;strong&gt;ä¸€èˆ¬åœ¨å­æ¥å£ä¸Šè¿›è¡Œ&lt;/strong&gt;ï¼Œå¦‚æœå­æ¥å£æ˜¯å¯¹æŠ¥æ–‡ä¸­çš„å•å±‚VLANæ ‡ç­¾ç»ˆç»“ï¼Œè¯¥å­æ¥å£å°±ç§°ä¸ºDot1qç»ˆç»“å­æ¥å£ï¼›å¦‚æœ&lt;strong&gt;å­æ¥å£æ˜¯å¯¹æŠ¥æ–‡ä¸­çš„åŒå±‚VLANæ ‡ç­¾ç»ˆç»“&lt;/strong&gt;ï¼Œè¯¥å­æ¥å£å°±ç§°ä¸ºQinQç»ˆç»“å­æ¥å£ã€‚&lt;br&gt;
&lt;code&gt;Dot1qç»ˆç»“å­æ¥å£å’ŒQinQç»ˆç»“å­æ¥å£ä¸æ”¯æŒé€ä¼ ä¸å¸¦VLAN Tagçš„æŠ¥æ–‡ï¼Œæ”¶åˆ°ä¸å¸¦VLAN Tagçš„æŠ¥æ–‡ä¼šç›´æ¥ä¸¢å¼ƒ&lt;/code&gt;&lt;br&gt;
4. ç›®çš„ï¼ˆé€‚åº”åœºæ™¯ï¼‰&lt;br&gt;
åˆ’åˆ†VLANåï¼ŒVLANå†…çš„ä¸»æœºå¯ä»¥äºŒå±‚äº’é€šï¼Œè€ŒVLANé—´çš„ä¸»æœºä¸èƒ½äºŒå±‚äº’é€šã€‚å¯ä»¥åœ¨Routerä¸Šé€šè¿‡VLANIFæ¥å®ç°VLANé—´çš„ä¸‰å±‚äº’é€šï¼Œä½†&lt;strong&gt;å½“Routerçš„ä¸‰å±‚ä»¥å¤ªç½‘æ¥å£æœ‰é™&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªä½¿ç”¨ä¸€ä¸ªæ¥å£æ¥å…¥ç”¨æˆ·æˆ–ç½‘ç»œæ—¶&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸€ä¸ªæ¥å£ä¸Šéœ€è¦ä¼ è¾“å¤šä¸ªVLANæŠ¥æ–‡&lt;/strong&gt;ï¼ŒVLANIFæ— æ³•å®ç°ã€‚æ­¤æ—¶ï¼Œå¯å°†ä¸€ä¸ªä¸‰å±‚ä»¥å¤ªç½‘æ¥å£è™šæ‹Ÿæˆå¤šä¸ªé€»è¾‘å­æ¥å£ï¼ˆç›¸å¯¹å­æ¥å£è€Œè¨€ï¼Œè¿™ä¸ªä¸‰å±‚ä»¥å¤ªç½‘æ¥å£ç§°ä¸ºä¸»æ¥å£ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;vlan-damping&#34;&gt;VLAN Damping&lt;/h2&gt;
&lt;p&gt;å¦‚æœæŒ‡å®šVLANå·²ç»åˆ›å»ºå¯¹åº”çš„VLANIFæ¥å£ï¼Œå½“VLANä¸­æ‰€æœ‰æ¥å£çŠ¶æ€å˜ä¸ºDownè€Œå¼•èµ·VLANçŠ¶æ€å˜ä¸ºDownæ—¶ï¼ŒVLANä¼šå‘VLANIFæ¥å£ä¸ŠæŠ¥æ¥å£DownçŠ¶æ€ï¼Œä»è€Œå¼•èµ·VLANIFæ¥å£çŠ¶æ€å˜åŒ–ã€‚&lt;br&gt;
ä¸ºé¿å…ç”±äºVLANIFæ¥å£çŠ¶æ€å˜åŒ–å¼•èµ·çš„ç½‘ç»œéœ‡è¡ï¼Œå¯ä»¥åœ¨VLANIFæ¥å£ä¸Šå¯åŠ¨VLAN DampingåŠŸèƒ½ï¼ŒæŠ‘åˆ¶VLANIFæ¥å£çŠ¶æ€å˜ä¸ºDownçš„æ—¶é—´ã€‚&lt;br&gt;
å½“ä½¿èƒ½VLAN DampingåŠŸèƒ½ï¼ŒVLANä¸­æœ€åä¸€ä¸ªå¤„äºUpçŠ¶æ€çš„æ¥å£å˜ä¸ºDownåï¼Œä¼šæŠ‘åˆ¶ä¸€å®šæ—¶é—´ï¼ˆæŠ‘åˆ¶æ—¶é—´å¯é…ç½®ï¼‰å†ä¸ŠæŠ¥ç»™VLANIFæ¥å£ã€‚å¦‚æœåœ¨æŠ‘åˆ¶æ—¶é—´å†…VLANä¸­æœ‰æ¥å£Upï¼Œåˆ™VLANIFæ¥å£çŠ¶æ€ä¿æŒUpçŠ¶æ€ä¸å˜ã€‚å³VLAN DampingåŠŸèƒ½å¯ä»¥é€‚å½“å»¶è¿ŸVLANå‘VLANIFæ¥å£ä¸ŠæŠ¥æ¥å£DownçŠ¶æ€çš„æ—¶é—´ï¼Œä»è€ŒæŠ‘åˆ¶ä¸å¿…è¦çš„è·¯ç”±éœ‡è¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;voice-vlanè¯­éŸ³vlan&#34;&gt;Voice VLAN(è¯­éŸ³vlan)&lt;/h2&gt;
&lt;p&gt;Voice VLANæ˜¯ä¸ºç”¨æˆ·çš„è¯­éŸ³æµä¸“é—¨åˆ’åˆ†çš„VLAN&lt;br&gt;
é€šè¿‡é…ç½®Voice VLANï¼Œäº¤æ¢æœºå¯è¯†åˆ«è¯­éŸ³æµï¼Œå°†è¯­éŸ³æµåŠ å…¥åˆ°Voice VLANä¸­ä¼ è¾“ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„QoSä¿éšœï¼Œå½“ç½‘ç»œå‘ç”Ÿæ‹¥å¡æ—¶å¯ä»¥ä¼˜å…ˆä¿è¯è¯­éŸ³æµçš„ä¼ è¾“&lt;/p&gt;
&lt;h3 id=&#34;ä¸¤ç§å¸¸è§ç»„ç½‘æ–¹æ¡ˆ&#34;&gt;ä¸¤ç§å¸¸è§ç»„ç½‘æ–¹æ¡ˆ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1615095732049.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615095739746.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¯†åˆ«è¯­éŸ³æ•°æ®æµçš„æ–¹å¼&#34;&gt;è¯†åˆ«è¯­éŸ³æ•°æ®æµçš„æ–¹å¼&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼ŒIPç”µè¯åˆ†ä¸ºä¸¤å¤§ç±»ï¼šå‘é€å¸¦Tagè¯­éŸ³æŠ¥æ–‡çš„IPç”µè¯ï¼ˆå¦‚Cisco 7960ï¼‰ã€å‘é€untaggedè¯­éŸ³æŠ¥æ–‡çš„IPç”µè¯ï¼ˆå¦‚åä¸ºMC850ï¼‰&lt;br&gt;
è‹¥è¦æé«˜è¯­éŸ³æ•°æ®æµçš„ä¼ è¾“ä¼˜å…ˆçº§ï¼Œé¦–å…ˆè¦èƒ½è¯†åˆ«å‡ºè¯­éŸ³æ•°æ®æµï¼Œè¯†åˆ«å‡ºè¯­éŸ³æ•°æ®æµåï¼Œå†å¯¹è¯­éŸ³æ•°æ®æµæå‡ä¼˜å…ˆçº§åä¼ è¾“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;1-åŸºäºmacåœ°å€&#34;&gt;1. åŸºäºMACåœ°å€&lt;/h4&gt;
&lt;p&gt;è®¾å¤‡å¯ä»¥æ ¹æ®è¿›å…¥æ¥å£çš„æ•°æ®æŠ¥æ–‡ä¸­çš„&lt;strong&gt;æºMACåœ°å€&lt;/strong&gt;å­—æ®µæ¥åˆ¤æ–­è¯¥æ•°æ®æµæ˜¯å¦ä¸ºè¯­éŸ³æ•°æ®æµã€‚æºMACåœ°å€åŒ¹é…ç³»ç»Ÿè®¾ç½®çš„è¯­éŸ³è®¾å¤‡çš„ç»„ç»‡&lt;strong&gt;å”¯ä¸€æ ‡è¯†ç¬¦OUI&lt;/strong&gt;çš„æŠ¥æ–‡è¢«è®¤ä¸ºæ˜¯è¯­éŸ³æ•°æ®æµï¼Œ&lt;strong&gt;ç”¨æˆ·éœ€è¦é¢„å…ˆè®¾ç½®OUI&lt;/strong&gt;ï¼Œ&lt;strong&gt;é€‚ç”¨äºIPç”µè¯ä¸Šé€untaggedè¯­éŸ³æŠ¥æ–‡çš„åœºæ™¯&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;æ ¹æ®OUIè¯†åˆ«IPç”µè¯æœºçš„åŸç†å°±æ˜¯æ ¹æ®IPç”µè¯å‚å•†ç”³è¯·çš„MACåœ°å€æ®µæ¥è¯†åˆ«å“ªäº›æŠ¥æ–‡æ˜¯ç”µè¯æœºå‘é€çš„ï¼Œä»¥æ­¤æ¥åˆ¤æ–­å“ªäº›æŠ¥æ–‡å±äºè¯­éŸ³æŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
Voice VLANä¸­çš„OUI&lt;strong&gt;æœ‰åˆ«äºä¸Šè¿°çš„é€šå¸¸æ„ä¹‰çš„OUI&lt;/strong&gt;ï¼Œè¿™ä¸ªOUIæ˜¯ç”±&lt;strong&gt;ç”¨æˆ·æ¥é…ç½®çš„&lt;/strong&gt;ï¼Œè€Œä¸”&lt;strong&gt;å¯ä»¥ä½¿ç”¨æ©ç &lt;/strong&gt;ï¼Œå³&lt;strong&gt;ä¸éœ€è¦ä¸€å®šæ˜¯24ä½æ©ç çš„&lt;/strong&gt;ï¼Œæ©ç é•¿åº¦ç”¨æˆ·å¯ä»¥è‡ªå·±æŒ‡å®šã€‚OUIçš„å€¼ä¸ºvoice-vlan mac-addresså‘½ä»¤ä¸­çš„mac-addresså’Œmaskå‚æ•°ç›¸ä¸çš„ç»“æœã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615097091211.png&#34; alt=&#34;åŸºäºMACåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
äº¤æ¢æœºæ¥æ”¶åˆ°PCå’ŒIPç”µè¯å‘å‡ºçš„&lt;strong&gt;untaggedæŠ¥æ–‡&lt;/strong&gt;åä¼šåšå¦‚ä¸‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæºMACåŒ¹é…äº¤æ¢æœºä¸Šé…ç½®çš„OUIï¼ˆæºMACåœ°å€ä¸é…ç½®çš„OUIæ©ç è¿›è¡Œä¸è¿ç®—åç­‰äºOUIè§†ä¸ºåŒ¹é…ï¼‰ï¼Œåˆ™ä¸ºè¯¥æŠ¥æ–‡åŠ ä¸ŠVoice VLANçš„Tagï¼Œå¹¶æå‡æŠ¥æ–‡ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸åŒ¹é…ï¼Œå°±ä¼šä¸ºå…¶åŠ ä¸ŠPVIDçš„VLAN Tagï¼Œä»è€Œä¿è¯è¯­éŸ³æŠ¥æ–‡çš„ä¼˜å…ˆå‘é€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åŸºäºMACåœ°å€æ¨¡å¼ä¸‹ï¼Œæ¥å£åŠ å…¥Voice VLANçš„æ–¹å¼å¯åˆ†ä¸ºæ‰‹åŠ¨æ¨¡å¼å’Œè‡ªåŠ¨æ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è‡ªåŠ¨æ¨¡å¼&lt;/strong&gt;ï¼šå½“è¯­éŸ³è®¾å¤‡å‘å‡ºçš„æŠ¥æ–‡ä¸­&lt;strong&gt;æºMACåœ°å€åŒ¹é…é…ç½®çš„OUI&lt;/strong&gt;æ—¶ï¼Œç³»ç»Ÿä¼šå°†è¿æ¥è¯­éŸ³è®¾å¤‡çš„æ¥å£è‡ªåŠ¨åŠ å…¥åˆ°Voice VLANä¸­&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰‹åŠ¨æ¨¡å¼&lt;/strong&gt;ï¼šå½“ä½¿èƒ½Voice VLANåŠŸèƒ½åï¼Œå¿…é¡»é€šè¿‡&lt;strong&gt;æ‰‹å·¥å°†è¿æ¥è¯­éŸ³è®¾å¤‡çš„æ¥å£åŠ å…¥åˆ°Voice VLAN&lt;/strong&gt;ä¸­ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯Voice VLANåŠŸèƒ½ç”Ÿæ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ¹æ®&lt;strong&gt;ä½¿èƒ½äº†Voice VLANåŠŸèƒ½çš„æ¥å£&lt;/strong&gt;å¯¹æ¥æ”¶åˆ°çš„æ•°æ®åŒ…çš„&lt;strong&gt;è¿‡æ»¤æœºåˆ¶&lt;/strong&gt;å¯ä»¥å°†Voice VLANçš„å·¥ä½œæ¨¡å¼åˆ†ä¸ºå®‰å…¨æ¨¡å¼å’Œæ™®é€šæ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨æ¨¡å¼&lt;/strong&gt;ï¼šåªå…è®¸æ”¶åˆ°çš„&lt;strong&gt;æºåœ°å€ä¸OUIåŒ¹é…çš„è¯­éŸ³æŠ¥æ–‡é€šè¿‡&lt;/strong&gt;ï¼Œè¯¥Voice VLANå†…çš„&lt;strong&gt;éè¯­éŸ³æŠ¥æ–‡å°†è¢«ç›´æ¥ä¸¢å¼ƒ&lt;/strong&gt;ï¼Œå…¶ä»–VLANå†…çš„æŠ¥æ–‡æ­£å¸¸è½¬å‘ã€‚åªæœ‰å½“é€šè¿‡å‘½ä»¤&lt;code&gt;voice-vlan remark-mode mac-address&lt;/code&gt;æŒ‡å®š&lt;strong&gt;è¯­éŸ³æŠ¥æ–‡åŸºäºMACåœ°å€æå‡ä¼˜å…ˆçº§&lt;/strong&gt;æ—¶ï¼Œå®‰å…¨æ¨¡å¼æ‰ä¼šç”Ÿæ•ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šæ¨¡å¼&lt;/strong&gt;ï¼šä½¿èƒ½äº†Voice VLANåŠŸèƒ½çš„&lt;strong&gt;å…¥æ¥å£å…è®¸åŒæ—¶ä¼ è¾“è¯­éŸ³æŠ¥æ–‡å’Œéè¯­éŸ³æŠ¥æ–‡&lt;/strong&gt;ï¼Œå®¹æ˜“å—åˆ°æ¶æ„æ•°æ®æµé‡çš„æ”»å‡»ã€‚ä¸å»ºè®®å°†è¯­éŸ³å’Œæ•°æ®ä¸šåŠ¡è§„åˆ’åœ¨åŒä¸€ä¸ªVLANé‡Œé¢ã€‚å¦‚ç¡®æœ‰æ­¤éœ€è¦ï¼Œè¯·ç¡®è®¤Voice VLANå·¥ä½œåœ¨æ™®é€šæ¨¡å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-åŸºäºvlan&#34;&gt;2. åŸºäºVLAN&lt;/h4&gt;
&lt;p&gt;è‹¥æœ‰å¤§é‡IPç”µè¯æ¥å…¥äº¤æ¢æœºï¼Œé…ç½®IPç”µè¯çš„OUIå°±å¯èƒ½ä¼šéå¸¸ç¹çã€‚å¯åœ¨äº¤æ¢æœºä¸Šé…ç½®åŸºäºVLANæ¥æå‡è¯­éŸ³æŠ¥æ–‡çš„ä¼˜å…ˆçº§ï¼Œæ­¤æ—¶è®¾å¤‡ä¼šæ ¹æ®è¿›å…¥æ¥å£çš„&lt;strong&gt;æŠ¥æ–‡çš„VLAN ID&lt;/strong&gt;æ¥åˆ¤æ–­è¯¥æ•°æ®æŠ¥æ–‡æ˜¯å¦ä¸ºè¯­éŸ³æŠ¥æ–‡ã€‚&lt;strong&gt;å½“VLAN IDåŒ¹é…ç³»ç»Ÿé…ç½®çš„Voice VLANå&lt;/strong&gt;ï¼Œåˆ™è®¤ä¸ºæ˜¯è¯­éŸ³æ•°æ®æµã€‚è¿™ç§æ–¹å¼&lt;strong&gt;å®ç°çš„å‰æ&lt;/strong&gt;æ˜¯&lt;strong&gt;IPç”µè¯æ”¯æŒè·å–äº¤æ¢æœºä¸Šé…ç½®çš„Voice VLANä¿¡æ¯&lt;/strong&gt;çš„åŠŸèƒ½ï¼Œåœ¨å¤§é‡IPç”µè¯æ¥å…¥çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç®€åŒ–é…ç½®&lt;/p&gt;
&lt;p&gt;IPç”µè¯è·å–äº¤æ¢æœºä¸ŠVoice VLANä¿¡æ¯çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä»¥ä¸‹ä»¥IPç”µè¯é€šè¿‡LLDPè·å–äº¤æ¢æœºVoice VLANä¿¡æ¯ä¸ºä¾‹ä»‹ç»ä¸€ä¸‹å®ç°è¿‡ç¨‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1615097479146.png&#34; alt=&#34;åŸºäºVLAN&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPç”µè¯ä¸Šçº¿ä¼šä¸»åŠ¨å‘é€LLDPæŠ¥æ–‡ï¼Œä»¥è·å–äº¤æ¢æœºä¸Šé…ç½®çš„Voice VLANä¿¡æ¯&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºæ”¶åˆ°IPç”µè¯å‘é€çš„LLDPæŠ¥æ–‡ï¼Œä¼šåœ¨ç›¸å…³å­—æ®µå¡«å……Voice VLANä¿¡æ¯å‘ç»™IPç”µè¯&lt;/li&gt;
&lt;li&gt;IPç”µè¯æ”¶åˆ°æºå¸¦Voice VLANä¿¡æ¯çš„LLDPæŠ¥æ–‡åï¼Œå†æ¬¡å‘é€è¯­éŸ³æŠ¥æ–‡æ—¶å°±ä¼šå¸¦Tagå‘é€&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºæ”¶åˆ°å¸¦Tagçš„è¯­éŸ³æŠ¥æ–‡ï¼Œå¦‚æœTagå’Œäº¤æ¢æœºä¸Šé…ç½®çš„Voice VLANåŒ¹é…ï¼Œåˆ™ä¸ºå…¶æå‡ä¼˜å…ˆçº§åè½¬å‘&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºæ”¶åˆ°untaggedæŠ¥æ–‡ï¼Œä»ç„¶ä¼šåŠ å…¥åˆ°PVIDæ‰€åœ¨çš„VLANä¸­ã€‚è¿™æ ·ï¼Œå½“å‘ç”Ÿç½‘ç»œæ‹¥å¡çš„æ—¶å€™äº¤æ¢æœºå°±èƒ½ä¿è¯è¯­éŸ³æŠ¥æ–‡çš„ä¼˜å…ˆå‘é€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ä¸¤ç§æ–¹å¼ä¸»è¦åŒºåˆ«åœ¨äºï¼š&lt;br&gt;
å½“IPç”µè¯ä¸Šé€çš„æ˜¯&lt;strong&gt;untaggedè¯­éŸ³æŠ¥æ–‡&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;å¿…é¡»é…ç½®OUI&lt;/strong&gt;ï¼Œæ‰èƒ½æŠŠè¯­éŸ³æŠ¥æ–‡å’Œæ•°æ®æŠ¥æ–‡åŒºåˆ†å¼€æ¥&lt;br&gt;
å¦‚æœIPç”µè¯ä¸Šé€çš„æ˜¯&lt;strong&gt;å¸¦Tagè¯­éŸ³æŠ¥æ–‡&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;å¯é…ç½®åŸºäºVLANçš„Voice VLAN&lt;/strong&gt;ï¼Œè¿™æ ·åœ¨å¤§é‡IPç”µè¯æ¥å…¥çš„æƒ…å†µä¸‹ï¼Œå°±ä¸ç”¨é…ç½®ç¹ççš„OUIï¼Œ&lt;strong&gt;ç®€åŒ–é…ç½®&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨VLANçš„ç›®çš„ï¼šåˆ’åˆ†å¹¿æ’­åŸŸï¼Œå‡å°å¹¿æ’­é£æš´çš„èŒƒå›´&lt;/li&gt;
&lt;li&gt;VlanIDçš„é…ç½®èŒƒå›´ä¸º1åˆ°4094&lt;/li&gt;
&lt;li&gt;Hybridæœ€å¤§çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥å®šä¹‰&lt;code&gt;Untageed List&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¼ºçœVLANåˆç§°PVIDï¼ˆPort Default VLAN IDï¼‰&lt;/li&gt;
&lt;li&gt;é“¾è·¯ç±»å‹åå•†åè®®LNPç”¨æ¥åŠ¨æ€åå•†ä»¥å¤ªç½‘æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºAccessæˆ–è€…Trunk
&lt;ol&gt;
&lt;li&gt;ä»¥å¤ªç½‘æ¥å£çš„é“¾è·¯ç±»å‹åå•†ä¸ºAccessï¼Œç¼ºçœæƒ…å†µä¸‹åŠ å…¥VLAN1&lt;/li&gt;
&lt;li&gt;ä»¥å¤ªç½‘æ¥å£çš„é“¾è·¯ç±»å‹åå•†ä¸ºTrunkï¼Œç¼ºçœæƒ…å†µä¸‹åŠ å…¥VLAN1ï½4094&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Vlanåˆ’åˆ†æ€»ä½“åˆ†ä¸ºä¸¤å¤§ç±»ï¼šé™æ€åˆ’åˆ†ï¼ˆæ¥å£ï¼‰å’ŒåŠ¨æ€åˆ’åˆ†ï¼ˆç»ˆç«¯ï¼Œä¾‹å¦‚MACåœ°å€ã€å­ç½‘ã€åè®®å’Œç­–ç•¥ï¼Œ&lt;code&gt;åä¸ºè®¾å¤‡è¦æƒ³ä½¿ç”¨åŠ¨æ€åˆ’åˆ†ï¼Œæ¥å£ç±»å‹å¿…é¡»æ˜¯Hybrid&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ä»£ç†ARPï¼Œåˆ†ä¸ºä¸‰å±‚ä»£ç†ARPï¼ˆè·¯ç”±ARPï¼‰ã€VLANé—´çš„ä»£ç†ARPã€VLANå†…çš„ä»£ç†ARP&lt;/li&gt;
&lt;li&gt;Hybridä½¿ç”¨åœºæ™¯ï¼š
&lt;ol&gt;
&lt;li&gt;åŠ¨æ€VLANåˆ’åˆ†&lt;/li&gt;
&lt;li&gt;çµæ´»QinQå’ŒåŸºäºæµçš„çµæ´»QinQ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç‰©ç†æ¥å£æœ€å¤šå¯ä»¥åˆ’åˆ†4096ä¸ªå­æ¥å£ã€‚å› ä¸ºåœ¨å­æ¥å£ä¸‹åŒºåˆ†æµé‡ä½¿ç”¨çš„æ˜¯Dot1qï¼Œä¹Ÿå°±æ˜¯vlanIDï¼Œå› æ­¤ç‰©ç†æ¥å£åˆ’åˆ†å­æ¥å£çš„æ•°é‡å’Œvlanä¸€æ ·&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰VLanIFæ¥å£çš„MACåœ°å€=äº¤æ¢æœºçš„èƒŒæ¿MACï¼Œå³æ‰€æœ‰çš„VLanIFä½¿ç”¨åŒä¸€ä¸ªMac&lt;/li&gt;
&lt;li&gt;ä¸‰å±‚äº¤æ¢æœºæ”¶åˆ°æ•°æ®å¸§ä¹‹åå¦‚ä½•åˆ¤æ–­è¿›è¡ŒäºŒå±‚è½¬å‘è¿˜æ˜¯ä¸‰å±‚è½¬å‘ï¼Ÿ&lt;br&gt;
æŸ¥çœ‹ç›®æ ‡Macã€‚å¦‚æœç›®æ ‡Macä¸ºæœ¬åœ°æ¥å£çš„Macåœ°å€ï¼Œåˆ™è¿›è¡Œä¸‰å±‚è½¬å‘ï¼Œè¿™è¡¨æ˜è¿™ä¸ªæ•°æ®å¸§æ˜¯å‘ç»™æˆ‘è‡ªå·±çš„ï¼›å¦‚æœç›®æ ‡Macä¸æ˜¯æœ¬åœ°æ¥å£åœ°å€ï¼Œåˆ™è¿›è¡ŒäºŒå±‚è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;Smart Linkä¸ç”Ÿæˆæ ‘STPçš„åŒºåˆ«ï¼Ÿ&lt;br&gt;
Smart Linkæ²¡æœ‰æŠ¥æ–‡äº¤äº’ï¼Œåªæ˜¯æœ¬åœ°çŠ¶æ€åˆ‡æ¢ï¼Œåˆ‡æ¢é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯åªèƒ½ç”¨åœ¨å•å°è®¾å¤‡ä¸Š&lt;/li&gt;
&lt;/ol&gt;
">äºŒå±‚åè®®-VLAN</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/er-ceng-xie-yi-mstp/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#mstp%E5%87%BA%E7%8E%B0%E7%9A%84%E8%83%8C%E6%99%AF&#34;&gt;MSTPå‡ºç°çš„èƒŒæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%8C%E4%B8%80%E4%B8%AAmst%E5%9F%9F%E7%9A%84%E6%9D%A1%E4%BB%B6%E9%87%8D%E7%82%B9star&#34;&gt;åŒä¸€ä¸ªMSTåŸŸçš„æ¡ä»¶ï¼ˆé‡ç‚¹ï¼‰:star:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%AF%E8%AF%AD%E4%BB%A5%E5%8F%8A%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB%E5%9B%BE%E8%B0%B1&#34;&gt;æœ¯è¯­ä»¥åŠä¹‹é—´çš„å…³ç³»å›¾è°±&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cist%E4%B8%AD%E7%9A%84%E9%80%89%E4%B8%BE%E8%BF%87%E7%A8%8B&#34;&gt;CISTä¸­çš„é€‰ä¸¾è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mstp%E6%8B%93%E6%89%91%E8%AE%A1%E7%AE%97&#34;&gt;MSTPæ‹“æ‰‘è®¡ç®—&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%85%88%E7%BA%A7%E5%90%91%E9%87%8F&#34;&gt;ä¼˜å…ˆçº§å‘é‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%AF%94%E8%BE%83%E5%8E%9F%E5%88%99cist%E9%80%89%E4%B8%BE%E7%9A%84%E9%A1%BA%E5%BA%8F%E9%87%8D%E7%82%B9star&#34;&gt;æ¯”è¾ƒåŸåˆ™ï¼ˆCISTé€‰ä¸¾çš„é¡ºåºï¼‰ï¼ˆé‡ç‚¹ï¼‰:star:&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cist%E7%9A%84%E8%AE%A1%E7%AE%97&#34;&gt;CISTçš„è®¡ç®—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#msti%E7%9A%84%E8%AE%A1%E7%AE%97&#34;&gt;MSTIçš„è®¡ç®—&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#msti%E7%9A%84%E7%89%B9%E7%82%B9&#34;&gt;MSTIçš„ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8-mstp&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ MSTP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
å¤šç”Ÿæˆæ ‘åè®®MSTPï¼Œåè®®æ ‡å‡†IEEE 802.1sï¼Œé€šè¿‡ç”Ÿæˆå¤šä¸ªç”Ÿæˆæ ‘ï¼Œæ¥è§£å†³ä»¥å¤ªç½‘ç¯è·¯é—®é¢˜ã€‚&lt;br&gt;
BPDUåŒ…ç»„æ’­åœ°å€ï¼š&lt;code&gt;01-80-C2-00-00-00&lt;/code&gt;&lt;br&gt;
MSTPçš„æŠ¥æ–‡æ˜¯é€šè¿‡802.3ï¼ˆVlanï¼‰æ‰¿è½½çš„ã€‚&lt;/p&gt;
&lt;h1 id=&#34;mstpå‡ºç°çš„èƒŒæ™¯&#34;&gt;MSTPå‡ºç°çš„èƒŒæ™¯&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;RSTPå’ŒSTPè¿˜å­˜åœ¨&lt;strong&gt;åŒä¸€ä¸ªç¼ºé™·&lt;/strong&gt;ï¼šç”±äºå±€åŸŸç½‘å†…æ‰€æœ‰çš„VLANå…±äº«ä¸€æ£µç”Ÿæˆæ ‘ï¼Œå› æ­¤æ— æ³•åœ¨VLANé—´å®ç°æ•°æ®æµé‡çš„è´Ÿè½½å‡è¡¡ï¼Œé“¾è·¯è¢«é˜»å¡åå°†ä¸æ‰¿è½½ä»»ä½•æµé‡ï¼Œè¿˜æœ‰å¯èƒ½é€ æˆéƒ¨åˆ†VLANçš„æŠ¥æ–‡æ— æ³•è½¬å‘&lt;/li&gt;
&lt;li&gt;MSTPå…¼å®¹STPå’ŒRSTPï¼Œæ—¢å¯ä»¥å¿«é€Ÿæ”¶æ•›ï¼Œåˆæä¾›äº†æ•°æ®è½¬å‘çš„å¤šä¸ªå†—ä½™è·¯å¾„ï¼Œåœ¨æ•°æ®è½¬å‘è¿‡ç¨‹ä¸­å®ç°VLANæ•°æ®çš„è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;MSTPæŠŠä¸€ä¸ªäº¤æ¢ç½‘ç»œåˆ’åˆ†æˆå¤šä¸ªåŸŸï¼Œæ¯ä¸ªåŸŸå†…å½¢æˆå¤šæ£µç”Ÿæˆæ ‘ï¼Œç”Ÿæˆæ ‘ä¹‹é—´å½¼æ­¤ç‹¬ç«‹ã€‚æ¯æ£µç”Ÿæˆæ ‘å«åšä¸€ä¸ªå¤šç”Ÿæˆæ ‘å®ä¾‹MSTIï¼Œæ¯ä¸ªåŸŸå«åšä¸€ä¸ªMSTåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”Ÿæˆæ ‘å®ä¾‹æ˜¯å¤šä¸ªVLANçš„ä¸€ä¸ªé›†åˆã€‚é€šè¿‡å°†å¤šä¸ªVLANæ†ç»‘åˆ°ä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥èŠ‚çœé€šä¿¡å¼€é”€å’Œèµ„æºå ç”¨ç‡ã€‚MSTPå„ä¸ªå®ä¾‹æ‹“æ‰‘çš„è®¡ç®—ç›¸äº’ç‹¬ç«‹ï¼Œåœ¨è¿™äº›å®ä¾‹ä¸Šå¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ã€‚å¯ä»¥æŠŠå¤šä¸ªç›¸åŒæ‹“æ‰‘ç»“æ„çš„VLANæ˜ å°„åˆ°ä¸€ä¸ªå®ä¾‹é‡Œï¼Œè¿™äº›VLANåœ¨ç«¯å£ä¸Šçš„è½¬å‘çŠ¶æ€å–å†³äºç«¯å£åœ¨å¯¹åº”MSTPå®ä¾‹çš„çŠ¶æ€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› æ­¤ï¼Œ&lt;strong&gt;MSTPçš„ç›®çš„æœ‰ä¸¤ä¸ª&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½¢æˆå¤šæ£µæ— ç¯è·¯çš„æ ‘ï¼Œè§£å†³å¹¿æ’­é£æš´å¹¶å®ç°å†—ä½™å¤‡ä»½&lt;/li&gt;
&lt;li&gt;å¤šæ£µç”Ÿæˆæ ‘åœ¨VLANé—´å®ç°è´Ÿè½½å‡è¡¡ï¼Œä¸åŒVLANçš„æµé‡æŒ‰ç…§ä¸åŒçš„è·¯å¾„è½¬å‘ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h1&gt;
&lt;p&gt;MSTPçš„æŠ¥æ–‡æ˜¯é€šè¿‡RSTPæŠ¥æ–‡æ¥æ‰¿è½½çš„ï¼Œå› æ­¤&lt;code&gt;BPDU Type=02&lt;/code&gt;ï¼Œåªä¸è¿‡æ˜¯å¤šäº†ä¸€ä¸ªMSTæ‰©å±•ï¼Œæ‰©å±•ä¸­åŒ…å«MSTPçš„å†…å®¹ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610959610216.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ— è®ºæ˜¯åŸŸå†…çš„MST BPDUè¿˜æ˜¯åŸŸé—´çš„ï¼Œå‰36ä¸ªå­—èŠ‚å’ŒRST BPDUç›¸åŒã€‚ä»&lt;strong&gt;ç¬¬37ä¸ªå­—èŠ‚å¼€å§‹æ˜¯MSTPä¸“æœ‰å­—æ®µ&lt;/strong&gt;ï¼Œæœ€åçš„MSTIé…ç½®ä¿¡æ¯å­—æ®µç”±è‹¥å¹²MSTIé…ç½®ä¿¡æ¯ç»„è¿æ¥è€Œæˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Version 3 Lengthï¼šMSTPçš„BPDUçš„é•¿åº¦&lt;/li&gt;
&lt;li&gt;MST Configuration Identifierï¼šMSTé…ç½®æ ‡è¯†ï¼Œè¡¨ç¤ºMSTåŸŸçš„æ ‡ç­¾ä¿¡æ¯ï¼ŒåŒ…å«4ä¸ªå­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;CIST Internal Root Path Costï¼šCISTå†…éƒ¨è·¯å¾„å¼€é”€æŒ‡ä»æœ¬ç«¯å£åˆ°IST Masteräº¤æ¢è®¾å¤‡çš„ç´¯è®¡è·¯å¾„å¼€é”€ã€‚CISTå†…éƒ¨è·¯å¾„å¼€é”€æ ¹æ®é“¾è·¯å¸¦å®½è®¡ç®—&lt;/li&gt;
&lt;li&gt;CIST Bridge Identifierï¼šCISTçš„æŒ‡å®šäº¤æ¢è®¾å¤‡ID&lt;/li&gt;
&lt;li&gt;CIST Remaining Hopsï¼šBPDUæŠ¥æ–‡åœ¨CISTä¸­çš„å‰©ä½™è·³æ•°&lt;/li&gt;
&lt;li&gt;MSTI Configuration Messagesï¼šMSTIé…ç½®ä¿¡æ¯ã€‚æ¯ä¸ªMSTIçš„é…ç½®ä¿¡æ¯å 16 bytesï¼Œå¦‚æœæœ‰nä¸ªMSTIå°±å ç”¨nÃ—16bytes&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;åŒä¸€ä¸ªmståŸŸçš„æ¡ä»¶é‡ç‚¹star&#34;&gt;åŒä¸€ä¸ªMSTåŸŸçš„æ¡ä»¶ï¼ˆé‡ç‚¹ï¼‰â­ï¸&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;éƒ½å¯åŠ¨äº†MSTP&lt;/li&gt;
&lt;li&gt;å…·æœ‰ç›¸åŒçš„åŸŸå&lt;/li&gt;
&lt;li&gt;å…·æœ‰ç›¸åŒçš„VLANåˆ°ç”Ÿæˆæ ‘å®ä¾‹æ˜ å°„é…ç½®&lt;/li&gt;
&lt;li&gt;å…·æœ‰ç›¸åŒçš„MSTPä¿®è®¢çº§åˆ«é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å³&lt;strong&gt;MSTé…ç½®æ ‡è¯†&lt;/strong&gt;å¿…é¡»ä¸€è‡´ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610977630582.png&#34; alt=&#34;MSTé…ç½®æ ‡è¯†&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¼˜å…ˆçº§åªèƒ½æ˜¯4096çš„å€æ•°çš„åŸå› ï¼š&lt;br&gt;
&lt;code&gt;RootID&lt;/code&gt; = &lt;code&gt;PRI(2B)&lt;/code&gt;+&lt;code&gt;èƒŒæ¿MAC(6B)&lt;/code&gt; = &lt;code&gt;PRI(4bit)&lt;/code&gt;+&lt;code&gt;SYSID(12bitï¼Œè¿™ä¸€å—å°±æ˜¯VlanIDï¼Œæœ€å¤§4096)&lt;/code&gt;+&lt;code&gt;MAC(6B)&lt;/code&gt;&lt;br&gt;
è®¾ç½®ä¼˜å…ˆçº§æ—¶primaryä»£è¡¨ä¼˜å…ˆçº§ä¸º0ï¼Œsecondaryä»£è¡¨ä¼˜å…ˆçº§ä¸º4096&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;æœ¯è¯­ä»¥åŠä¹‹é—´çš„å…³ç³»å›¾è°±&#34;&gt;æœ¯è¯­ä»¥åŠä¹‹é—´çš„å…³ç³»å›¾è°±&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610977943667.png&#34; alt=&#34;å›¾1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610981803137.png&#34; alt=&#34;å›¾2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤šç”Ÿæˆæ ‘å®ä¾‹MSTI&lt;br&gt;
æ‰€æœ‰è¿è¡ŒSTP/RSTP/MSTPçš„äº¤æ¢è®¾å¤‡ç»MSTPåè®®è®¡ç®—åå½¢æˆçš„æ ‘çŠ¶ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;å¤šç”Ÿæˆæ ‘åŸŸMSTåŸŸ&lt;br&gt;
ç”±äº¤æ¢ç½‘ç»œä¸­çš„å¤šå°äº¤æ¢è®¾å¤‡ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç½‘æ®µæ‰€æ„æˆ&lt;/li&gt;
&lt;li&gt;å…¬å…±ç”Ÿæˆæ ‘CST&lt;br&gt;
è¿æ¥äº¤æ¢ç½‘ç»œå†…æ‰€æœ‰MSTåŸŸçš„ä¸€æ£µç”Ÿæˆæ ‘&lt;br&gt;
å¦‚æœæŠŠæ¯ä¸ªMSTåŸŸçœ‹ä½œæ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒCSTå°±æ˜¯è¿™äº›èŠ‚ç‚¹é€šè¿‡STPæˆ–RSTPåè®®è®¡ç®—ç”Ÿæˆçš„ä¸€æ£µç”Ÿæˆæ ‘&lt;br&gt;
å¦‚å›¾1æ‰€ç¤ºï¼Œé»‘è‰²çº¿æ¡è¿æ¥å„ä¸ªåŸŸæ„æˆCST&lt;/li&gt;
&lt;li&gt;å†…éƒ¨ç”Ÿæˆæ ‘IST&lt;br&gt;
å„MSTåŸŸå†…çš„ä¸€æ£µç”Ÿæˆæ ‘&lt;br&gt;
ISTæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„MSTIï¼ŒMSTIçš„IDä¸º0ï¼Œé€šå¸¸ç§°ä¸ºMSTI0ï¼ŒISTæ˜¯CISTåœ¨MSTåŸŸä¸­çš„ä¸€ä¸ªç‰‡æ®µ&lt;br&gt;
å¦‚å›¾1æ‰€ç¤ºï¼Œæ·±è“è‰²çº¿æ¡åœ¨åŸŸä¸­è¿æ¥è¯¥åŸŸçš„æ‰€æœ‰äº¤æ¢è®¾å¤‡æ„æˆIST&lt;/li&gt;
&lt;li&gt;å•ç”Ÿæˆæ ‘SSTï¼šä¸¤ç§æƒ…å†µ
&lt;ol&gt;
&lt;li&gt;è¿è¡ŒSTPæˆ–RSTPçš„äº¤æ¢è®¾å¤‡åªèƒ½å±äºä¸€ä¸ªç”Ÿæˆæ ‘&lt;/li&gt;
&lt;li&gt;MSTåŸŸä¸­åªæœ‰ä¸€ä¸ªäº¤æ¢è®¾å¤‡ï¼Œè¿™ä¸ªäº¤æ¢è®¾å¤‡æ„æˆå•ç”Ÿæˆæ ‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å…¬å…±å†…éƒ¨ç”Ÿæˆæ ‘CISTï¼šæ‰€æœ‰MSTåŸŸçš„IST+CST&lt;/li&gt;
&lt;li&gt;åŸŸæ ¹ï¼ŒISTåŸŸæ ¹å’ŒMSTIåŸŸæ ¹
&lt;ul&gt;
&lt;li&gt;ISTåŸŸæ ¹å¦‚å›¾1æ‰€ç¤ºï¼Œåœ¨MSTåŸŸä¸­ISTç”Ÿæˆæ ‘ä¸­è·ç¦»æ€»æ ¹æœ€è¿‘çš„äº¤æ¢è®¾å¤‡æ˜¯ISTåŸŸæ ¹&lt;/li&gt;
&lt;li&gt;MSTIåŸŸæ ¹æ˜¯æ¯ä¸ªå¤šç”Ÿæˆæ ‘å®ä¾‹çš„æ ‘æ ¹ï¼Œå¦‚å›¾2æ‰€ç¤ºï¼ŒåŸŸä¸­ä¸åŒçš„MSTIæœ‰å„è‡ªçš„åŸŸæ ¹ï¼Œ&lt;code&gt;ä¸€ä¸ªMSTåŸŸå†…å¯ä»¥ç”Ÿæˆå¤šæ£µç”Ÿæˆæ ‘ï¼Œæ¯æ£µç”Ÿæˆæ ‘éƒ½ç§°ä¸ºä¸€ä¸ªMSTI&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ€»æ ¹&lt;br&gt;
å…¨ç½‘ä¸­BIDæœ€å°çš„ä¸ºæ€»æ ¹&lt;/li&gt;
&lt;li&gt;ä¸»æ¡¥&lt;br&gt;
åŸŸå†…è·ç¦»æ€»æ ¹æœ€è¿‘çš„äº¤æ¢è®¾å¤‡ï¼Œå¦‚å›¾1ä¸­çš„é»„è‰²äº¤æ¢æœºï¼Œ&lt;code&gt;å¦‚æœæ€»æ ¹åœ¨MSTåŸŸä¸­ï¼Œåˆ™æ€»æ ¹ä¸ºè¯¥åŸŸçš„ä¸»æ¡¥&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;cistä¸­çš„é€‰ä¸¾è¿‡ç¨‹&#34;&gt;CISTä¸­çš„é€‰ä¸¾è¿‡ç¨‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆé€‰ä¸¾æ€»æ ¹&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªåŒºåŸŸéœ€è¦é€‰ä¸¾åŸŸæ ¹ã€‚åŸŸæ ¹æ˜¯åˆ°è¾¾æ€»æ ¹è·ç¦»æœ€çŸ­çš„è®¾å¤‡ï¼Œæ¯ä¸ªåŒºåŸŸåªèƒ½é€‰ä¸¾ä¸€ä¸ªåŸŸæ ¹ã€‚å¦‚æœè¯¥åŒºåŸŸä¸­å­˜åœ¨æ€»æ ¹ï¼Œé‚£ä¹ˆæ€»æ ¹åŒæ—¶ä¹Ÿæ˜¯è¯¥åŒºåŸŸçš„åŸŸæ ¹&lt;/li&gt;
&lt;li&gt;éæ€»æ ¹å’ŒåŸŸæ ¹çš„è®¾å¤‡éœ€è¦é€‰ä¸¾ä¸€ä¸ªåˆ°è¾¾æ€»æ ¹è·ç¦»æœ€çŸ­çš„RP&lt;/li&gt;
&lt;li&gt;æ¯æ¡é“¾è·¯éœ€è¦é€‰ä¸¾DP&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;mstpæ‹“æ‰‘è®¡ç®—&#34;&gt;MSTPæ‹“æ‰‘è®¡ç®—&lt;/h1&gt;
&lt;p&gt;MSTPå¯ä»¥å°†æ•´ä¸ªäºŒå±‚ç½‘ç»œåˆ’åˆ†ä¸º&lt;strong&gt;å¤šä¸ªMSTåŸŸ&lt;/strong&gt;ï¼Œå„ä¸ª&lt;strong&gt;åŸŸä¹‹é—´&lt;/strong&gt;é€šè¿‡è®¡ç®—&lt;strong&gt;ç”ŸæˆCST&lt;/strong&gt;ã€‚&lt;strong&gt;åŸŸå†…åˆ™é€šè¿‡è®¡ç®—ç”Ÿæˆå¤šæ£µç”Ÿæˆæ ‘&lt;/strong&gt;ï¼Œ&lt;strong&gt;æ¯æ£µç”Ÿæˆæ ‘éƒ½è¢«ç§°ä¸ºæ˜¯ä¸€ä¸ªå¤šç”Ÿæˆæ ‘å®ä¾‹&lt;/strong&gt;ã€‚&lt;strong&gt;å…¶ä¸­å®ä¾‹0è¢«ç§°ä¸ºISTï¼Œå…¶ä»–çš„å¤šç”Ÿæˆæ ‘å®ä¾‹ä¸ºMSTI&lt;/strong&gt;ã€‚MSTPåŒSTPä¸€æ ·ï¼Œä½¿ç”¨é…ç½®æ¶ˆæ¯è¿›è¡Œç”Ÿæˆæ ‘çš„è®¡ç®—ï¼Œåªæ˜¯é…ç½®æ¶ˆæ¯ä¸­æºå¸¦çš„æ˜¯è®¾å¤‡ä¸ŠMSTPçš„é…ç½®ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¼˜å…ˆçº§å‘é‡&#34;&gt;ä¼˜å…ˆçº§å‘é‡&lt;/h2&gt;
&lt;p&gt;MSTIå’ŒCISTéƒ½æ˜¯æ ¹æ®ä¼˜å…ˆçº§å‘é‡æ¥è®¡ç®—çš„ï¼Œè¿™äº›ä¼˜å…ˆçº§å‘é‡ä¿¡æ¯éƒ½åŒ…å«åœ¨MST BPDUä¸­ã€‚å„äº¤æ¢è®¾å¤‡äº’ç›¸äº¤æ¢MST BPDUæ¥ç”ŸæˆMSTIå’ŒCISTã€‚&lt;br&gt;
å‚ä¸CISTè®¡ç®—çš„ä¼˜å…ˆçº§å‘é‡ä¸ºï¼š&lt;code&gt;{ æ ¹äº¤æ¢è®¾å¤‡IDï¼Œå¤–éƒ¨è·¯å¾„å¼€é”€ï¼ŒåŸŸæ ¹IDï¼Œå†…éƒ¨è·¯å¾„å¼€é”€ï¼ŒæŒ‡å®šäº¤æ¢è®¾å¤‡IDï¼ŒæŒ‡å®šç«¯å£IDï¼Œæ¥æ”¶ç«¯å£ID }&lt;/code&gt;&lt;br&gt;
å‚ä¸MSTIè®¡ç®—çš„ä¼˜å…ˆçº§å‘é‡ä¸ºï¼š&lt;code&gt;{ åŸŸæ ¹IDï¼Œå†…éƒ¨è·¯å¾„å¼€é”€ï¼ŒæŒ‡å®šäº¤æ¢è®¾å¤‡IDï¼ŒæŒ‡å®šç«¯å£IDï¼Œæ¥æ”¶ç«¯å£ID }&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¯”è¾ƒåŸåˆ™cisté€‰ä¸¾çš„é¡ºåºé‡ç‚¹star&#34;&gt;æ¯”è¾ƒåŸåˆ™ï¼ˆCISTé€‰ä¸¾çš„é¡ºåºï¼‰ï¼ˆé‡ç‚¹ï¼‰â­ï¸&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ç¡®å®šè®¾å¤‡è§’è‰²å’Œç«¯å£è§’è‰²ï¼›åŒä¸€å‘é‡æ¯”è¾ƒï¼Œå€¼æœ€å°çš„å‘é‡å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒCISTçš„æ€»æ ¹çš„BIDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­åˆ°è¾¾æ€»æ ¹çš„ERPC(å¤–éƒ¨æ ¹è·¯å¾„å¼€é”€)ï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­åŸŸæ ¹çš„BIDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­åˆ°è¾¾åŸŸæ ¹çš„IRPCï¼ˆå†…éƒ¨æ ¹è·¯å¾„å¼€é”€ï¼‰ï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­BPDUåŒ…å‘é€è€…çš„BIDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­BPDUåŒ…å‘é€è€…çš„PORT IDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCISTä¸­BPDUåŒ…æ¥æ”¶è€…çš„PORT IDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœç«¯å£æ¥æ”¶åˆ°çš„BPDUå†…åŒ…å«çš„é…ç½®æ¶ˆæ¯&lt;strong&gt;ä¼˜äº&lt;/strong&gt;ç«¯å£ä¸Šä¿å­˜çš„é…ç½®æ¶ˆæ¯ï¼Œåˆ™ç«¯å£ä¸ŠåŸæ¥ä¿å­˜çš„é…ç½®æ¶ˆæ¯&lt;strong&gt;è¢«æ–°æ”¶åˆ°çš„é…ç½®æ¶ˆæ¯æ›¿ä»£&lt;/strong&gt;ã€‚ç«¯å£åŒæ—¶æ›´æ–°äº¤æ¢è®¾å¤‡ä¿å­˜çš„å…¨å±€é…ç½®æ¶ˆæ¯ã€‚åä¹‹ï¼Œæ–°æ”¶åˆ°çš„BPDUè¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;cistçš„è®¡ç®—&#34;&gt;CISTçš„è®¡ç®—&lt;/h2&gt;
&lt;p&gt;ç»è¿‡æ¯”è¾ƒé…ç½®æ¶ˆæ¯åï¼Œåœ¨æ•´ä¸ªç½‘ç»œä¸­é€‰æ‹©ä¸€ä¸ªä¼˜å…ˆçº§æœ€é«˜çš„äº¤æ¢è®¾å¤‡ä½œä¸ºCISTçš„æ ‘æ ¹ã€‚&lt;br&gt;
åœ¨æ¯ä¸ªMSTåŸŸå†…MSTPé€šè¿‡è®¡ç®—ç”ŸæˆISTï¼›åŒæ—¶MSTPå°†æ¯ä¸ªMSTåŸŸä½œä¸ºå•å°äº¤æ¢è®¾å¤‡å¯¹å¾…ï¼Œé€šè¿‡è®¡ç®—åœ¨MSTåŸŸé—´ç”ŸæˆCSTã€‚&lt;br&gt;
CSTå’ŒISTæ„æˆäº†æ•´ä¸ªäº¤æ¢è®¾å¤‡ç½‘ç»œçš„CISTã€‚&lt;/p&gt;
&lt;h2 id=&#34;mstiçš„è®¡ç®—&#34;&gt;MSTIçš„è®¡ç®—&lt;/h2&gt;
&lt;p&gt;åœ¨MSTåŸŸå†…ï¼ŒMSTPæ ¹æ®VLANå’Œç”Ÿæˆæ ‘å®ä¾‹çš„æ˜ å°„å…³ç³»ï¼Œé’ˆå¯¹ä¸åŒçš„VLANç”Ÿæˆä¸åŒçš„ç”Ÿæˆæ ‘å®ä¾‹ã€‚&lt;br&gt;
æ¯æ£µç”Ÿæˆæ ‘ç‹¬ç«‹è¿›è¡Œè®¡ç®—ï¼Œè®¡ç®—è¿‡ç¨‹ä¸STPè®¡ç®—ç”Ÿæˆæ ‘çš„è¿‡ç¨‹ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mstiçš„ç‰¹ç‚¹&#34;&gt;MSTIçš„ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªMSTIç‹¬ç«‹è®¡ç®—è‡ªå·±çš„ç”Ÿæˆæ ‘ï¼Œäº’ä¸å¹²æ‰°&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªMSTIçš„ç”Ÿæˆæ ‘è®¡ç®—æ–¹æ³•ä¸STPåŸºæœ¬ç›¸åŒ&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªMSTIçš„ç”Ÿæˆæ ‘å¯ä»¥æœ‰ä¸åŒçš„æ ¹ï¼Œä¸åŒçš„æ‹“æ‰‘&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªMSTIåœ¨è‡ªå·±çš„ç”Ÿæˆæ ‘å†…å‘é€BPDU&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªMSTIçš„æ‹“æ‰‘é€šè¿‡å‘½ä»¤é…ç½®å†³å®š&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªç«¯å£åœ¨ä¸åŒMSTIä¸Šçš„ç”Ÿæˆæ ‘å‚æ•°å¯ä»¥ä¸åŒ&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªç«¯å£åœ¨ä¸åŒMSTIä¸Šçš„è§’è‰²ã€çŠ¶æ€å¯ä»¥ä¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨è¿è¡ŒMSTPåè®®çš„ç½‘ç»œä¸­ï¼Œä¸€ä¸ªVLANæŠ¥æ–‡å°†æ²¿ç€å¦‚ä¸‹è·¯å¾„è¿›è¡Œè½¬å‘ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨MSTåŸŸå†…ï¼Œæ²¿ç€å…¶å¯¹åº”çš„MSTIè½¬å‘&lt;/li&gt;
&lt;li&gt;åœ¨MSTåŸŸé—´ï¼Œæ²¿ç€CSTè½¬å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;MSTPæ‹“æ‰‘å˜åŒ–å¤„ç†ä¸RSTPæ‹“æ‰‘å˜åŒ–å¤„ç†è¿‡ç¨‹ç±»ä¼¼&lt;/code&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨-mstp&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨ MSTP&lt;/h2&gt;
&lt;p&gt;MSTP çš„ä½œç”¨ä¸»è¦æ˜¯ç”¨æ¥è´Ÿè½½ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹è¿›è¡Œ VLAN å†…æµé‡çš„è´Ÿè½½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;STP
&lt;ul&gt;
&lt;li&gt;å½¢æˆ&lt;strong&gt;ä¸€æ£µ&lt;/strong&gt;æ— ç¯è·¯çš„æ ‘ï¼Œè§£å†³å¹¿æ’­é£æš´å¹¶å®ç°å†—ä½™å¤‡ä»½ï¼Œæ”¶æ•›é€Ÿåº¦è¾ƒ&lt;strong&gt;æ…¢&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ— éœ€åŒºåˆ†ç”¨æˆ·æˆ–ä¸šåŠ¡æµé‡ï¼Œæ‰€æœ‰VLAN å…±äº«ä¸€æ£µç”Ÿæˆæ ‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RSTP
&lt;ul&gt;
&lt;li&gt;å½¢æˆ&lt;strong&gt;ä¸€æ£µ&lt;/strong&gt;æ— ç¯è·¯çš„æ ‘ï¼Œè§£å†³å¹¿æ’­é£æš´å¹¶å®ç°å†—ä½™å¤‡ä»½ï¼Œæ”¶æ•›é€Ÿåº¦&lt;strong&gt;å¿«&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ— éœ€åŒºåˆ†ç”¨æˆ·æˆ–ä¸šåŠ¡æµé‡ï¼Œæ‰€æœ‰VLAN å…±äº«ä¸€æ£µç”Ÿæˆæ ‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MSTP
&lt;ul&gt;
&lt;li&gt;å½¢æˆ&lt;strong&gt;å¤šæ£µ&lt;/strong&gt;æ— ç¯è·¯çš„æ ‘ï¼Œè§£å†³å¹¿æ’­é£æš´å¹¶å®ç°å†—ä½™å¤‡ä»½ï¼Œæ”¶æ•›é€Ÿåº¦&lt;strong&gt;å¿«&lt;/strong&gt;ï¼Œå¤šæ£µç”Ÿæˆæ ‘åœ¨VLANé—´å®ç°&lt;strong&gt;è´Ÿè½½å‡è¡¡&lt;/strong&gt;ï¼Œä¸åŒVLANçš„æµé‡æŒ‰ç…§ä¸åŒçš„è·¯å¾„è½¬å‘&lt;/li&gt;
&lt;li&gt;éœ€è¦&lt;strong&gt;åŒºåˆ†ç”¨æˆ·æˆ–ä¸šåŠ¡æµé‡ï¼Œå¹¶å®ç°è´Ÿè½½åˆ†æ‹…&lt;/strong&gt;ã€‚ä¸åŒçš„VLANé€šè¿‡ä¸åŒçš„ç”Ÿæˆæ ‘è½¬å‘æµé‡ï¼Œ&lt;strong&gt;æ¯æ£µç”Ÿæˆæ ‘ä¹‹é—´ç›¸äº’ç‹¬ç«‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">äºŒå±‚åè®®-MSTP</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/er-ceng-xie-yi-stp-he-rstp-de-qu-bie/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%AB%AF%E5%8F%A3%E8%A7%92%E8%89%B2%E5%92%8C%E5%8D%8F%E8%AE%AE%E6%A0%87%E5%87%86&#34;&gt;1. ç«¯å£è§’è‰²å’Œåè®®æ ‡å‡†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E7%AB%AF%E5%8F%A3%E7%8A%B6%E6%80%81&#34;&gt;2. ç«¯å£çŠ¶æ€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84%E4%B8%BB%E8%A6%81%E6%98%AFflag%E4%BD%8D%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;3. æŠ¥æ–‡ç»“æ„ï¼ˆä¸»è¦æ˜¯Flagä½çš„åŒºåˆ«ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#stp&#34;&gt;STP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rstp&#34;&gt;RSTP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E5%BF%AB%E9%80%9F%E6%94%B6%E6%95%9B%E6%9C%BA%E5%88%B6&#34;&gt;4. å¿«é€Ÿæ”¶æ•›æœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%9B%B4%E8%BF%9E%E6%95%85%E9%9A%9C&#34;&gt;1. ç›´è¿æ•…éšœ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E9%9D%9E%E7%9B%B4%E8%BF%9E%E6%95%85%E9%9A%9C&#34;&gt;2. éç›´è¿æ•…éšœ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%AC%A1%E4%BC%98bpdu%E5%85%B3%E8%81%94pa%E5%8D%8F%E5%95%86&#34;&gt;3. æ¬¡ä¼˜BPDU~å…³è”PAåå•†~&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-pa%E5%8D%8F%E5%95%86&#34;&gt;4. P/Aåå•†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3&#34;&gt;5. è¾¹ç¼˜ç«¯å£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E7%89%B9%E7%82%B9&#34;&gt;1. ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E4%B8%8D%E8%B6%B3&#34;&gt;2. ä¸è¶³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF&#34;&gt;3. ä½¿ç”¨åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E4%BF%9D%E6%8A%A4%E6%9C%BA%E5%88%B6&#34;&gt;4. è¾¹ç¼˜ç«¯å£ä¿æŠ¤æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#5-%E6%8B%93%E6%89%91%E5%8F%98%E6%9B%B4&#34;&gt;5. æ‹“æ‰‘å˜æ›´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#stp%E6%8B%93%E6%89%91%E5%8F%98%E5%8C%96%E5%A4%84%E7%90%86&#34;&gt;STPæ‹“æ‰‘å˜åŒ–å¤„ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rstp%E6%8B%93%E6%89%91%E5%8F%98%E5%8C%96%E5%A4%84%E7%90%86&#34;&gt;RSTPæ‹“æ‰‘å˜åŒ–å¤„ç†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85&#34;&gt;è¡¥å……&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#bpdu%E5%8C%85%E7%9A%84%E5%8F%91%E9%80%81&#34;&gt;BPDUåŒ…çš„å‘é€ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%80%89%E4%B8%BE%E4%BE%9D%E6%AC%A1%E9%80%89%E4%B8%BE&#34;&gt;é€‰ä¸¾ï¼ˆä¾æ¬¡é€‰ä¸¾ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%A0%B9%E6%A1%A5rb&#34;&gt;1. æ ¹æ¡¥RB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E6%A0%B9%E7%AB%AF%E5%8F%A3rp&#34;&gt;2. æ ¹ç«¯å£RP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3dp%E4%B8%8Erp%E7%9B%B8%E5%90%8C&#34;&gt;3. æŒ‡å®šç«¯å£DPï¼ˆä¸RPç›¸åŒï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-ap%E7%9A%84%E9%80%89%E4%B8%BE%E9%98%BB%E5%A1%9E%E7%AB%AF%E5%8F%A3&#34;&gt;4. APçš„é€‰ä¸¾(é˜»å¡ç«¯å£)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#cst&#34;&gt;CST&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A1%E6%97%B6%E5%99%A8timer&#34;&gt;è®¡æ—¶å™¨ï¼ˆTimerï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rstp%E5%92%8Cstp%E7%9A%84%E5%85%BC%E5%AE%B9%E4%BA%92%E6%93%8D%E4%BD%9C&#34;&gt;RSTPå’ŒSTPçš„å…¼å®¹ï¼ˆäº’æ“ä½œï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%8A%E8%BF%9E%E6%8E%A5%E7%94%A8%E6%88%B7pc%E7%9A%84%E7%AB%AF%E5%8F%A3%E9%85%8D%E7%BD%AE%E4%B8%BA%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E9%82%A3%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E8%BF%98%E8%A6%81%E7%BB%A7%E7%BB%AD%E5%8F%91%E9%80%81bpdu%E4%B8%BE%E5%87%BA%E4%B8%80%E4%B8%AA%E7%94%A8%E5%88%B0%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E5%8F%91%E9%80%81%E7%9A%84bpdu%E7%9A%84%E5%9C%BA%E6%99%AF&#34;&gt;æŠŠè¿æ¥ç”¨æˆ·PCçš„ç«¯å£é…ç½®ä¸ºè¾¹ç¼˜ç«¯å£ï¼Œé‚£ä¸ºä»€ä¹ˆè¾¹ç¼˜ç«¯å£è¿˜è¦ç»§ç»­å‘é€BPDUï¼Œä¸¾å‡ºä¸€ä¸ªç”¨åˆ°è¾¹ç¼˜ç«¯å£å‘é€çš„BPDUçš„åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%B4%E6%97%B6%E7%8E%AF%E8%B7%AF%E7%9A%84%E5%AD%98%E5%9C%A8%E6%97%B6%E9%97%B4&#34;&gt;ä¸´æ—¶ç¯è·¯çš„å­˜åœ¨æ—¶é—´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E6%9E%9C%E4%BA%A4%E6%8D%A2%E6%9C%BA%E4%B8%8A%E5%85%B3%E9%97%ADstp%E5%9C%A8%E6%9F%90%E4%B8%80%E7%AB%AF%E5%8F%A3%E5%88%86%E5%88%AB%E5%BC%80%E5%90%AFstp-%E5%85%B3%E9%97%ADstp-%E5%BC%80%E5%90%AFep%E5%93%AA%E7%A7%8Dforwarding%E7%9A%84%E5%BF%AB&#34;&gt;å¦‚æœäº¤æ¢æœºä¸Šå…³é—­STPï¼Œåœ¨æŸä¸€ç«¯å£åˆ†åˆ«å¼€å¯stpã€å…³é—­stpã€å¼€å¯EPï¼Œå“ªç§forwardingçš„å¿«ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E6%9E%9C%E6%8A%8A%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E5%8E%BB%E6%8E%89%E7%AB%AF%E5%8F%A3%E4%B8%8D%E5%90%AC%E7%9A%84updown%E7%94%A8%E4%BB%80%E4%B9%88%E8%A7%A3%E5%86%B3tc%E5%AF%B9%E7%BD%91%E7%BB%9C%E7%9A%84%E5%BD%B1%E5%93%8D&#34;&gt;å¦‚æœæŠŠè¾¹ç¼˜ç«¯å£å»æ‰ï¼Œç«¯å£ä¸å¬çš„up/downï¼Œç”¨ä»€ä¹ˆè§£å†³TCå¯¹ç½‘ç»œçš„å½±å“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#stp%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88%E4%B8%8Eip%E7%BD%91%E7%BB%9C%E6%AF%94%E8%BE%83%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BA%8C%E5%B1%82%E9%9C%80%E8%A6%81stp&#34;&gt;STPçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸IPç½‘ç»œæ¯”è¾ƒä¸ºä»€ä¹ˆäºŒå±‚éœ€è¦STP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BE%B9%E7%BC%98%E7%AB%AF%E5%8F%A3%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89%E4%B8%B4%E6%97%B6%E7%8E%AF%E8%B7%AF%E5%87%BA%E7%8E%B0%E7%8E%AF%E8%B7%AF%E7%9A%84%E5%9C%BA%E6%99%AF%E5%B7%B2%E6%9C%89%E7%AB%AF%E5%8F%A3%E7%9A%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B&#34;&gt;è¾¹ç¼˜ç«¯å£ä¸ºä»€ä¹ˆä¼šæœ‰ä¸´æ—¶ç¯è·¯ï¼Œå‡ºç°ç¯è·¯çš„åœºæ™¯ï¼Œå·²æœ‰ç«¯å£çš„æ¼”å˜è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%A8%E6%94%B6%E6%95%9B%E6%97%B6%E9%97%B4%E4%B8%8Arstp%E7%9B%B8%E5%AF%B9%E4%BA%8Estp%E6%9C%89%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8A%BF&#34;&gt;åœ¨æ”¶æ•›æ—¶é—´ä¸Šï¼ŒRSTPç›¸å¯¹äºSTPæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rstp%E6%94%B6%E6%95%9B%E6%AF%94stp%E5%9D%97%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9C%BA%E5%88%B6%E6%9C%89%E5%93%AA%E4%BA%9B&#34;&gt;RSTPæ”¶æ•›æ¯”STPå—çš„åŸºæœ¬æœºåˆ¶æœ‰å“ªäº›ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E6%8D%A2%E6%9C%BA%E6%80%8E%E4%B9%88%E5%8C%BA%E5%88%86%E6%98%AFap%E8%BF%98%E6%98%AFbp&#34;&gt;äº¤æ¢æœºæ€ä¹ˆåŒºåˆ†æ˜¯APè¿˜æ˜¯BP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88rstp%E5%BF%85%E9%A1%BB%E8%A6%81p2p&#34;&gt;ä¸ºä»€ä¹ˆrstpå¿…é¡»è¦p2p?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AD%A6%E4%B9%A0%E7%8A%B6%E6%80%81%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B9%9F%E9%9C%80%E8%A6%8115%E7%A7%92%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9C%89%E5%AD%A6%E4%B9%A0%E7%8A%B6%E6%80%81&#34;&gt;å­¦ä¹ çŠ¶æ€ä¸ºä»€ä¹ˆä¹Ÿéœ€è¦15ç§’ï¼Œä¸ºä»€ä¹ˆè¦æœ‰å­¦ä¹ çŠ¶æ€ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;1-ç«¯å£è§’è‰²å’Œåè®®æ ‡å‡†&#34;&gt;1. ç«¯å£è§’è‰²å’Œåè®®æ ‡å‡†&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;STPï¼š
&lt;ul&gt;
&lt;li&gt;RPã€AP(çŠ¶æ€Blockingï¼Œæ˜¯RPçš„å¤‡ä»½ï¼ŒçŠ¶æ€åˆ‡æ¢éœ€è¦2ä¸ªè½¬å‘å»¶æ—¶)ã€DP&lt;/li&gt;
&lt;li&gt;åè®®æ ‡å‡†ä¸ºIEEE 802.1D&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RSTPï¼š
&lt;ul&gt;
&lt;li&gt;RPã€APã€DPã€BPã€EP&lt;/li&gt;
&lt;li&gt;APæ˜¯RPçš„å¤‡ä»½ï¼ŒRPå¤±æ•ˆåï¼ŒAPç«‹å³å˜ä¸ºRPï¼›&lt;br&gt;
BPæ˜¯DPçš„å¤‡ä»½ï¼ŒDPç«¯å£å¤±æ•ˆåï¼Œå³3ä¸ªhelloæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œç„¶åBPå£éœ€è¦ç­‰å¾…ä¸€ä¸ªè½¬å‘å»¶æ—¶æ‰èƒ½åˆ‡æ¢åˆ°DPå£ï¼Œåˆ‡æ¢åˆ°DPå£ä¹‹åï¼Œè¿˜éœ€è¦ä¸€ä¸ªè½¬å‘å»¶æ—¶æ‰èƒ½åˆ‡æ¢åˆ°forwardingçŠ¶æ€&lt;/li&gt;
&lt;li&gt;EPç«¯å£å˜ä¸ºè½¬å‘çŠ¶æ€ä¸éœ€è¦ç»è¿‡ä¸¤ä¸ªforwarding daly&lt;/li&gt;
&lt;li&gt;åè®®æ ‡å‡†ä¸ºIEEE 802.1wï¼Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2-ç«¯å£çŠ¶æ€&#34;&gt;2. ç«¯å£çŠ¶æ€&lt;/h1&gt;
&lt;p&gt;STPçš„Forwardingè½¬å‘æµé‡å’ŒBPDUã€Learningå­¦ä¹ Macåœ°å€ä½†ä¸è½¬å‘æµé‡ã€Listeningè½¬å‘BPDUä½†ä¸è½¬å‘æµé‡ã€Blockingä¸è½¬å‘BPDUå’Œæµé‡ä½†æ˜¯èƒ½æ¥æ”¶BPDUã€Disabledå•¥ä¹Ÿä¸å¹²ã€‚&lt;br&gt;
RSTPçš„çŠ¶æ€æŠŠSTPçš„5ç§çŠ¶æ€ç¼©å‡ä¸º3ç§ã€‚æ ¹æ®ç«¯å£æ˜¯å¦è½¬å‘ç”¨æˆ·æµé‡å’Œå­¦ä¹  MACåœ°å€æ¥åˆ’åˆ† :&lt;br&gt;
å¦‚æœä¸è½¬å‘ç”¨æˆ·æµé‡ä¹Ÿä¸å­¦ä¹ MACåœ°å€ï¼Œé‚£ä¹ˆç«¯å£çŠ¶æ€å°±æ˜¯ DiscardingçŠ¶æ€ï¼›&lt;br&gt;
å¦‚æœä¸è½¬å‘ç”¨æˆ·æµé‡ä½†æ˜¯å­¦ä¹ MACåœ°å€ï¼Œé‚£ä¹ˆç«¯å£çŠ¶æ€å°±æ˜¯ LearningçŠ¶æ€ï¼›&lt;br&gt;
å¦‚æœæ—¢è½¬å‘ç”¨æˆ·æµé‡åˆå­¦ä¹ MACåœ°å€ï¼Œé‚£ä¹ˆç«¯å£çŠ¶æ€å°±æ˜¯ ForwardingçŠ¶ã€‚&lt;br&gt;
LearningçŠ¶æ€ï¼š&lt;code&gt;éå¿…é¡»é˜¶æ®µï¼Œå¦‚æœæ²¡æœ‰æ­¤é˜¶æ®µï¼Œå¯èƒ½å‡ºç°å¤§é‡æœªçŸ¥å•æ’­å¸§çš„æ³›æ´ª&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;STPç«¯å£çŠ¶æ€&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;RSTPç«¯å£çŠ¶æ€&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç«¯å£åœ¨æ‹“æ‰‘ä¸­çš„è§’è‰²&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Forwarding&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Forwarding&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RPå’ŒDP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Learning&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Learning&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RPå’ŒDP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Listening&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Discarding&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RPå’ŒDP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Blocking&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Discarding&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;APå’ŒBP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Disabled&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Discarding&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Disableç«¯å£&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;3-æŠ¥æ–‡ç»“æ„ä¸»è¦æ˜¯flagä½çš„åŒºåˆ«&#34;&gt;3. æŠ¥æ–‡ç»“æ„ï¼ˆä¸»è¦æ˜¯Flagä½çš„åŒºåˆ«ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;stp&#34;&gt;STP&lt;/h2&gt;
&lt;p&gt;BPDU Verison=00&lt;br&gt;
BPDU Type=00ï¼ˆé…ç½®BPDUï¼Œæ¯”å¦‚TCA BPDUã€TC BPDUï¼‰å’Œ80ï¼ˆTCN BPDUï¼‰&lt;br&gt;
BPDU Flagså¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610866823408.png&#34; alt=&#34;STP&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æœ€é«˜ä½ä¸ºTCAï¼ˆç¡®è®¤æ¥æ”¶åˆ°TCNï¼‰ï¼›æœ€ä½ä½ä¸ºTCï¼ˆé€šå‘Šæ‹“æ‰‘æ”¹å˜ï¼‰ï¼Œåªæœ‰STPé…ç½®BPDUåŒ…æ‰å…è®¸å°†TCAå’ŒTCç½®ä½&lt;/p&gt;
&lt;h2 id=&#34;rstp&#34;&gt;RSTP&lt;/h2&gt;
&lt;p&gt;BPDU Verison=02ï¼ˆ01æ²¡æœ‰ä½¿ç”¨ï¼Œ03æ˜¯MSTPï¼‰&lt;br&gt;
BPDU Type=02ï¼ˆRSTP/MSTP BPDUï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610866844250.png&#34; alt=&#34;RSTP&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬4å’Œ5ä½ç»„åˆï¼š
&lt;ul&gt;
&lt;li&gt;00è¡¨ç¤ºå‘é€bpduçš„ç«¯å£çš„ç«¯å£çŠ¶æ€ä¸ºdiscarding&lt;/li&gt;
&lt;li&gt;01è¡¨ç¤ºå‘é€bpduçš„ç«¯å£çš„ç«¯å£çŠ¶æ€ä¸ºlearning&lt;/li&gt;
&lt;li&gt;11è¡¨ç¤ºå‘é€bpduçš„ç«¯å£çš„ç«¯å£çŠ¶æ€ä¸ºforwarding&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬2å’Œ3ä½ç»„åˆï¼š
&lt;ul&gt;
&lt;li&gt;00è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºunknown&lt;/li&gt;
&lt;li&gt;01è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºAP/BP
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;äº¤æ¢æœºæ€ä¹ˆåŒºåˆ†æ˜¯APè¿˜æ˜¯BPï¼šæ ¹æ®ç«¯å£æ”¶åˆ°æ›´ä¼˜çš„è½¬å‘BIDçš„æ¥åˆ¤æ–­&lt;/code&gt;&lt;br&gt;
å¦‚æœæ”¶åˆ°çš„æ›´ä¼˜çš„BPDUçš„BIDä¸æ˜¯è‡ªå·±ï¼Œé‚£ä¹ˆè¿™ä¸ªç«¯å£æ˜¯APï¼ˆè¯´æ˜è‡ªå·±ä¸æ˜¯RBï¼Œè‡ªå·±ç”¨æ¥è½¬å‘çš„ç«¯å£æ˜¯RPï¼Œé‚£ä¹ˆå¤‡ä»½çš„APï¼‰ï¼›å¦åˆ™å°±æ˜¯BPï¼ˆè¯´æ˜è‡ªå·±æ˜¯RBï¼Œé‚£ä¹ˆè‡ªå·±ç”¨æ¥è½¬å‘çš„ç«¯å£æ˜¯DPï¼Œé‚£ä¹ˆå¤‡ä»½çš„æ˜¯BPï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;10è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºRP&lt;/li&gt;
&lt;li&gt;11è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºDP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TACæ˜¯æ— ä½œç”¨çš„ï¼ŒåŸå› æ˜¯RSTPä¸­æ— TCN&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;4-å¿«é€Ÿæ”¶æ•›æœºåˆ¶&#34;&gt;4. å¿«é€Ÿæ”¶æ•›æœºåˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;1-ç›´è¿æ•…éšœ&#34;&gt;1. ç›´è¿æ•…éšœ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1616166496271.png&#34; alt=&#34;ç›´è¿æ•…éšœ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡è®¾ï¼šSW1å’ŒSW3ä¹‹é—´çš„é“¾è·¯æ–­å¼€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;STPå¤„ç†ï¼šsw3çš„APå˜ä¸ºRPï¼ŒçŠ¶æ€ä»blockingéœ€è¦ç»è¿‡ä¸¤ä¸ªè½¬å‘å»¶æ—¶å˜ä¸ºforwardingçŠ¶æ€ï¼Œ&lt;code&gt;å³éœ€è¦30ç§’çš„æ”¶æ•›æ—¶é—´&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RSTPå¤„ç†ï¼šsw3çš„APå˜ä¸ºRPä¹‹åï¼ŒçŠ¶æ€ä¼šç«‹å³å˜æˆforwarding&lt;code&gt;å³æ”¶æ•›æ—¶é—´å¾ˆçŸ­&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-éç›´è¿æ•…éšœ&#34;&gt;2. éç›´è¿æ•…éšœ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1616166509648.png&#34; alt=&#34;éç›´è¿æ•…éšœ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡è®¾ï¼šSW1å’ŒSW3ä¹‹é—´æ’å…¥ä¸€å°HUBï¼ŒHUBä¸SW1ä¹‹é—´æ•…éšœï¼ˆæ²¡æœ‰ç”Ÿæˆæ ‘åŠŸèƒ½ï¼Œåªæ˜¯é€ä¼ æŠ¥æ–‡ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;STPå¤„ç†ï¼šéœ€è¦è¿›è¿‡MaxAgeä¹‹åæ‰æ„Ÿå—åˆ°æ•…éšœï¼Œç„¶åAPå˜ä¸ºRPã€çŠ¶æ€ä»blockingéœ€è¦ç»è¿‡ä¸¤ä¸ªè½¬å‘å»¶æ—¶å˜ä¸ºforwardingçŠ¶æ€&lt;code&gt;å‘ç°é—®é¢˜20ç§’ï¼ŒçŠ¶æ€è½¬æ¢30ç§’ï¼Œå³æ”¶æ•›æ—¶é—´éœ€è¦50ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RSTPå¤„ç†ï¼šè¿ç»­ä¸¢å¤±3ä¸ªBPDUåŒ…åè¯´æ˜é“¾è·¯æ•…éšœï¼Œç„¶åAPå˜ä¸ºRPä¹‹åã€çŠ¶æ€ä¼šç«‹å³å˜æˆforwarding&lt;code&gt;å‘ç°é—®é¢˜6ç§’ï¼ŒçŠ¶æ€è½¬æ¢æ—¶é—´å¿½ç•¥ä¸è®¡ï¼Œå³æ”¶æ•›æ—¶é—´6ç§’ï¼ˆåä¸ºå°±è¿™ä¸ªåœºæ™¯éœ€è¦æ—¶é—´å› å­ï¼Œå³18ç§’ï¼‰ã€‚ä¸ºä»€ä¹ˆéœ€è¦æ—¶é—´å› å­ï¼Ÿä¸ºäº†é˜²æ­¢å› ä¸ºé“¾è·¯é˜»å¡å¯¼è‡´æ²¡æœ‰æ”¶åˆ°BPDUæŠ¥æ–‡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-æ¬¡ä¼˜bpduå…³è”paåå•†&#34;&gt;3. æ¬¡ä¼˜BPDU&lt;sub&gt;å…³è”PAåå•†&lt;/sub&gt;&lt;/h2&gt;
&lt;p&gt;å½“ä¸€ä¸ªç«¯å£æ”¶åˆ°ä¸Šæ¸¸çš„æŒ‡å®šæ¡¥å‘æ¥çš„BPDUæŠ¥æ–‡æ—¶ï¼Œè¯¥ç«¯å£ä¼šå°†è‡ªèº«å­˜å‚¨çš„BPDUä¸æ”¶åˆ°çš„BPDUè¿›è¡Œæ¯”è¾ƒã€‚&lt;br&gt;
å¦‚æœè¯¥ç«¯å£å­˜å‚¨çš„BPDUçš„ä¼˜å…ˆçº§é«˜äºæ”¶åˆ°çš„BPDUï¼Œé‚£ä¹ˆè¯¥ç«¯å£ä¼šç›´æ¥ä¸¢å¼ƒæ”¶åˆ°çš„BPDUï¼Œ&lt;strong&gt;ç«‹å³å›åº”&lt;/strong&gt;è‡ªèº«å­˜å‚¨çš„ BPDUã€STPéœ€è¦20ç§’ä¹‹åå›å¤ã€‘ã€‚å½“ä¸Šæ¸¸è®¾å¤‡æ”¶åˆ°ä¸‹æ¸¸è®¾å¤‡å›åº”çš„BPDUåï¼Œä¸Šæ¸¸è®¾å¤‡ä¼šæ ¹æ®æ”¶åˆ°çš„BPDUæŠ¥æ–‡ä¸­ç›¸åº”çš„å­—æ®µç«‹å³æ›´æ–°è‡ªå·±å­˜å‚¨çš„BPDUã€‚ç”±æ­¤ï¼ŒRSTP å¤„ç†æ¬¡ä¼˜BPDUæŠ¥æ–‡ä¸å†ä¾èµ–äºä»»ä½•å®šæ—¶å™¨é€šè¿‡è¶…æ—¶è§£å†³æ‹“æ‰‘æ”¶æ•›ï¼Œä»è€ŒåŠ å¿«äº†æ‹“æ‰‘æ”¶æ•›ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1616166526263.png&#34; alt=&#34;éç›´è¿æ•…éšœ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡è®¾ï¼šSW1å’ŒSW2ä¹‹é—´çš„é“¾è·¯æ–­å¼€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;STPå¤„ç†ï¼šç”±äºsw2ä¸Šæ²¡æœ‰APï¼Œåªæœ‰RPå’ŒDPï¼ŒRP downä¹‹åï¼Œè®¤ä¸ºæ ¹æ¡¥æ•…éšœï¼Œå› æ­¤è®¤ä¸ºè‡ªå·±æ˜¯æ ¹æ¡¥ï¼Œå‘é€æ¬¡ä¼˜BPDUï¼Œsw3çš„APæ”¶åˆ°æ¬¡ä¼˜BPDUï¼Œsw3å‘ç°è·Ÿæœ¬åœ°çš„ä¸ä¸€è‡´ä¸”æ²¡æœ‰æœ¬åœ°ç¼“å­˜çš„æ›´ä¼˜ï¼Œç›´æ¥ä¸¢å¼ƒæ‰ï¼Œç»è¿‡MaxAgeä¹‹åæ‰æ„Ÿå—åˆ°sw1å’Œsw2ä¹‹é—´çš„é“¾è·¯æ•…éšœï¼Œåˆ™sw3çš„APå˜ä¸ºDPåå‘é€BDPUï¼Œsw2ä¼šä»DPå˜ä¸ºRP&lt;code&gt;å‘ç°é—®é¢˜20ç§’ï¼ŒçŠ¶æ€è½¬æ¢30ç§’ï¼Œå³æ”¶æ•›æ—¶é—´éœ€è¦50ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RSTPå¤„ç†ï¼šsw3çš„&lt;strong&gt;APæ”¶åˆ°æ¬¡ä¼˜BDPUåç›´æ¥å˜ä¸ºDPå£&lt;/strong&gt;ï¼Œé©¬ä¸Šå‘é€æ›´ä¼˜çš„BPDU(ä¸éœ€è¦ç»è¿‡å»¶æ—¶)&lt;code&gt;è§¦å‘PAåå•†ï¼Œå³æ”¶æ•›æ—¶é—´å¾ˆå¿«&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-paåå•†&#34;&gt;4. P/Aåå•†&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;çµé­‚æ‹·é—®&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;strong&gt;1. å‘é€&lt;/strong&gt;proposalç½®ä½çš„BDPUåŒ…çš„åœºæ™¯ï¼šDPå£å¤„åœ¨Discardingæˆ–è€…LearningçŠ¶æ€&lt;br&gt;
&lt;strong&gt;2. å“åº”&lt;/strong&gt;proposalç½®ä½çš„BDPUåŒ…çš„åœºæ™¯ï¼šåªæœ‰åœ¨P2Pçš„é“¾è·¯ç±»å‹ï¼ŒåŒæ—¶æ˜¯RPç«¯å£è§’è‰²æƒ…å†µä¸‹ï¼Œæ‰ä¼šå“åº”proposalç½®ä½çš„BDPUåŒ…&lt;br&gt;
&lt;strong&gt;3. ä»€ä¹ˆæ˜¯P2Pçš„é“¾è·¯ç±»å‹&lt;/strong&gt;ï¼šé€šè¿‡ç«¯å£çš„åŒå·¥æ¨¡å¼æ¥åˆ¤æ–­ï¼Œå…¨åŒå·¥çš„ç«¯å£é“¾è·¯ç±»å‹ä¸ºP2Pï¼ŒåŠåŒå·¥ä¸ºShare(å…±äº«å‹)&lt;br&gt;
ã€å¦‚æœä¸€ç«¯ä¸ºP2Pï¼Œä¸€ç«¯ä¸ºShareï¼Œåˆ™éœ€è¦ç»è¿‡30ç§’è½¬å‘å»¶æ—¶ï¼Œç«¯å£çŠ¶æ€æ‰èƒ½ç”±Discardingå˜ä¸ºForwardingï¼Œæ­¤æ—¶P/Aæœºåˆ¶ä¸ç”Ÿæ•ˆã€‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1616332634653.jpg&#34; alt=&#34;P/A æœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
P/A æœºåˆ¶åå•†è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å› ä¸ºSW3çš„DPå£ä¸æ˜¯forwardingçŠ¶æ€ï¼Œé‚£ä¹ˆä¼šè§¦å‘PAæœºåˆ¶ï¼ŒSW3ä¼šå‘é€proposal=1çš„BPDUç»™SW2ï¼Œå…¶ä¸­çš„BIDæ˜¯ä½¿ç”¨SW1çš„ï¼Œå³æ›´ä¼˜çš„BPDU&lt;/li&gt;
&lt;li&gt;SW2æ”¶åˆ°ä¹‹åï¼Œå‘ç°è‡ªå·±çš„BPDUä¸æ˜¯æœ€ä¼˜çš„ï¼Œç„¶åå°†éEPå…¨éƒ¨é˜»å¡æ‰ï¼Œç„¶åå°†æ”¶åˆ°æ›´ä¼˜BPDUæŠ¥æ–‡çš„DPå£è½¬æ¢æˆRPå£ï¼Œå¹¶è½¬æ¢æˆForwardingçŠ¶æ€ï¼Œæœ€åå‘é€Agreement=1çš„BPDUç»™SW3&lt;/li&gt;
&lt;li&gt;SW3æ”¶åˆ°å›åº”ä¹‹åï¼Œå°†è¯¥DPçš„çŠ¶æ€è½¬æ¢æˆForwardingçŠ¶æ€&lt;/li&gt;
&lt;li&gt;ç„¶åSW3çš„DPå£å› ä¸ºè¿˜å¤„åœ¨DiscardingçŠ¶æ€ï¼Œä¼šç»§ç»­å¾€ä¸‹è¿›è¡ŒPAåå•†ï¼ŒçŸ¥é“å‘é€çš„proposal=1çš„BPDUæ²¡æœ‰å›åº”åˆ™ç»“æŸï¼Œä¾‹å¦‚è¿™ä¸ªDPå£æ¥çš„æ˜¯ä¸€ä¸ªPCï¼Œæ— æ³•æ”¶åˆ°Agreement=1çš„BPDUï¼Œè¯¥PAåå•†ç»“æŸï¼Œè¯¥DPå£ä¼šè¿›è¿‡ä¸¤ä¸ªè½¬å‘å»¶æ—¶ä»DiscardingçŠ¶æ€å˜ä¸ºForwardingçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä»¥ä¸ŠP/A è¿‡ç¨‹å¯ä»¥å‘ä¸‹æ¸¸ç»§ç»­ä¼ é€’ã€‚&lt;br&gt;
äº‹å®ä¸Šå¯¹äºSTPï¼ŒDPçš„é€‰æ‹©å¯ä»¥å¾ˆå¿«å®Œæˆ&lt;sub&gt;å³ç«¯å£è§’è‰²å¯ä»¥åœ¨çŸ­æ—¶é—´å†…ç¡®å®š&lt;/sub&gt;ï¼Œä¸»è¦çš„&lt;strong&gt;é€Ÿåº¦ç“¶é¢ˆ&lt;/strong&gt;åœ¨äºï¼š&lt;code&gt;ä¸ºäº†é¿å…ç¯è·¯ï¼Œå¿…é¡»ç­‰å¾…è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œä½¿å…¨ç½‘çš„ç«¯å£çŠ¶æ€å…¨éƒ¨ç¡®å®šï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¦ç­‰å¾…è‡³å°‘ä¸€ä¸ªForward Delayæ‰€æœ‰ç«¯å£æ‰èƒ½è¿›è¡Œè½¬å‘&lt;/code&gt;ã€‚è€ŒRSTPçš„ä¸»è¦ç›®çš„å°±æ˜¯æ¶ˆé™¤è¿™ä¸ªç“¶é¢ˆï¼Œé€šè¿‡&lt;code&gt;é˜»å¡è‡ªå·±çš„éæ ¹ç«¯å£æ¥ä¿è¯ä¸ä¼šå‡ºç°ç¯è·¯&lt;/code&gt;ã€‚è€Œä½¿ç”¨ P/A æœºåˆ¶åŠ å¿«äº†ä¸Šæ¸¸ç«¯å£è½¬åˆ°ForwardingçŠ¶æ€çš„é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¢å¼ºå‹çš„P/Aåå•†&lt;/strong&gt;ï¼ˆåä¸ºç§æœ‰æ–¹æ¡ˆï¼‰ï¼šå‘é€çš„æ¯ä¸ªBPDUéƒ½ä¼šå°†Agreement=1ï¼Œå³å‘é€æ–¹ä¹Ÿä¼šå°†Agreementç½®ä½ï¼Œæ”¶åˆ°æ­¤BPDUçš„ç«¯å£ç«‹åˆ»è¿›å…¥è½¬å‘çŠ¶æ€&lt;/p&gt;
&lt;h2 id=&#34;5-è¾¹ç¼˜ç«¯å£&#34;&gt;5. è¾¹ç¼˜ç«¯å£&lt;/h2&gt;
&lt;h3 id=&#34;1-ç‰¹ç‚¹&#34;&gt;1. ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å…¥è®¾å¤‡è¿›å…¥ForwardingçŠ¶æ€ï¼Œ&lt;strong&gt;é¿å…ç­‰å¾…30ç§’å»¶è¿Ÿï¼Œç›´æ¥è½¬å‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;EPè¿›å…¥ForwardingçŠ¶æ€æ—¶ä¸äº§ç”ŸTC BPDUï¼Œå³ä¸ä¼šè§¦å‘æ‹“æ‰‘æ”¹å˜&lt;/li&gt;
&lt;li&gt;EPä¸è½¬å‘TC BPDUåŒ…ï¼Œä½†æ˜¯EPå¯ä»¥å¾€å¤–å‘BPDU&lt;code&gt;ä¸ºä»€ä¹ˆè¿˜ä¼šå‘é€bpduï¼Ÿå› ä¸ºéœ€è¦è®©ä¸‹æ¸¸è®¾å¤‡æ„ŸçŸ¥åˆ°äº¤æ¢æœºçš„å­˜åœ¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°TC BPDUä¸åˆ é™¤MACåœ°å€è¡¨&lt;/li&gt;
&lt;li&gt;è¿›è¡ŒP/Aåå•†æ—¶ä¸ä¼šè¢«é˜»å¡EP&lt;/li&gt;
&lt;li&gt;æ”¶åˆ°BPDUåï¼Œä¼šå˜ä¸ºæ™®é€šç«¯å£ï¼Œæ‰§è¡ŒSTPè®¡ç®—&lt;code&gt;è¾¹ç¼˜ç«¯å£ä¹Ÿä¼šå‘é€é…ç½®BPDU&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-ä¸è¶³&#34;&gt;2. ä¸è¶³&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸´æ—¶ç¯è·¯&lt;br&gt;
ï¼ˆ2ä¸ªç«¯å£ç›´æ¥è¿èµ·æ¥ï¼Œæˆ–è€…ä¸‹æ¸¸æ¥å…¥çš„äº¤æ¢æœºä¸æ”¯æŒç”Ÿæˆæ ‘ï¼‰&lt;br&gt;
ä¸´æ—¶ç¯è·¯æŒç»­0-2ç§’ï¼Œæ”¶åˆ°å¯¹æ–¹ç«¯å£å‘å‡ºçš„BPDUååŒæ—¶è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œè¿›è¡Œç”Ÿæˆæ ‘çš„é€‰ä¸¾ï¼Œå†³å‡ºä¸€ä¸ªDPå’Œä¸€ä¸ªBPï¼ŒDPåœ¨30ç§’ä¹‹åè¿›å…¥è½¬å‘çŠ¶æ€ï¼ŒBPç»´æŒé˜»å¡çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUåï¼Œä¼šä¸§å¤±è¾¹ç¼˜ç«¯å£çš„ç‰¹æ€§ï¼Œå˜æˆæ™®é€šç«¯å£å¹¶è¿›è¡Œç”Ÿæˆæ ‘è®¡ç®—ï¼Œå¼•èµ·ç½‘ç»œéœ‡è¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-ä½¿ç”¨åœºæ™¯&#34;&gt;3. ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¤§å‹å…¬å¸å†…ç½‘æœ‰å¾ˆå¤šç”µè„‘ï¼Œä¸Šä¸‹ç­æ—¶äº§ç”Ÿå¤§é‡çš„TCï¼Œé€ æˆæ‰€æœ‰äº¤æ¢æœºçš„MACåœ°å€è¡¨é¢‘ç¹åˆ é™¤ï¼Œä»¥è‡³äºæŒç»­æ³›æ´ªæ‰€æœ‰çš„æ•°æ®å¸§ï¼Œå¯ç”¨è¾¹ç¼˜ç«¯å£å¯ä»¥æ”¹å–„ç½‘ç»œå“è´¨&lt;/li&gt;
&lt;li&gt;æ¥DHCPå®¢æˆ·ç«¯çš„ç«¯å£ï¼Œä½¿å…¶èƒ½å¿«é€Ÿå¾—åˆ°åœ°å€&lt;/li&gt;
&lt;li&gt;æ¥é‡è¦æœåŠ¡å™¨å’ŒIPç”µè¯æ¥å£ï¼Œå¦åˆ™åœ¨ç”Ÿæˆæ ‘æ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°†è¢«é˜»å¡æ‰ï¼Œ30ç§’åæ‰èƒ½å†æ¬¡æä¾›æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-è¾¹ç¼˜ç«¯å£ä¿æŠ¤æœºåˆ¶&#34;&gt;4. è¾¹ç¼˜ç«¯å£ä¿æŠ¤æœºåˆ¶&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;rstpåœ¨åŠ å¿«æ”¶æ•›é€Ÿåº¦çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†ä¸å°‘é£é™©ï¼Œæ‰€ä»¥è®¾è®¡äº†å¾ˆå¤šä¿æŠ¤æœºåˆ¶æ¥è§„é¿è¿™äº›é£é™©ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºäº†åŠ å¿«æ”¶æ•›ï¼Œè®¾è®¡äº†EPï¼Œä½†æ˜¯è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUä¹‹åä¼šå˜ä¸ºæ™®é€šç«¯å£ï¼Œè§¦å‘TCï¼Œå› æ­¤è®¾è®¡äº†BPDUä¿æŠ¤ï¼Œæ¥é˜²æ­¢EPå±æ€§çš„æ”¹å˜ï¼Œä»è€Œé˜²æ­¢TCå¼•å‘çš„ç½‘ç»œä¸ç¨³å®š&lt;/li&gt;
&lt;li&gt;ä¸ºäº†åŠ å¿«æ”¶æ•›ï¼ŒRPå¤±æ•ˆåï¼ŒAPå˜ä¸ºRPï¼Œä¸”ä¸éœ€è¦ç­‰å¾…ä¸¤ä¸ªè½¬å‘å»¶æ—¶ç«¯å£å°±è¿›å…¥è½¬å‘çŠ¶æ€ï¼Œè¿™æ ·è®¾è®¡åœ¨é“¾è·¯æ‹¥å¡æ—¶ï¼Œå¯èƒ½å¯¼è‡´ç¯è·¯çš„å‡ºç°ï¼Œæ‰€ä»¥è®¾è®¡äº†ç¯è·¯ä¿æŠ¤&lt;/li&gt;
&lt;li&gt;ä¸ºäº†åŠ å¿«æ”¶æ•›ï¼Œæ‰€æœ‰çš„è®¾å¤‡éƒ½å¯ä»¥å‘é€TC BPDUæŠ¥æ–‡ï¼Œè¿™å¸¦æ¥çš„é£é™©å°±æ˜¯æ‰€æœ‰çš„è®¾å¤‡éƒ½å¯ä»¥é€šè¿‡å‘é€TC BPDUæ¥è®©å…¶ä»–è®¾å¤‡åˆ é™¤macè¡¨é¡¹ï¼Œä¸ºäº†è§„é¿è¿™ä¸ªé£å‘ï¼Œæ‰€ä»¥è®¾è®¡TC BPDUé˜²æŠ¤&lt;/li&gt;
&lt;li&gt;å› ä¸ºæ”¶æ•›æ›´å¿«ï¼ŒæŠ¢æ ¹ä¹Ÿæ›´åŠ å¿«é€Ÿï¼Œæ‰€ä»¥è®¾è®¡äº†æ ¹ä¿æŠ¤&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;BPDUä¿æŠ¤ï¼ˆå…¨å±€é…ç½®ï¼Œä½œç”¨äºè¾¹ç¼˜ç«¯å£ï¼‰ï¼š&lt;code&gt;EPæ”¶åˆ°BPDUåä¼šè¢«Error-Down&lt;/code&gt;&lt;br&gt;
åœ¨äº¤æ¢è®¾å¤‡ä¸Šï¼Œé€šå¸¸å°†ç›´æ¥ä¸ç”¨æˆ·ç»ˆç«¯æˆ–æ–‡ä»¶æœåŠ¡å™¨ç­‰éäº¤æ¢è®¾å¤‡ç›¸è¿çš„ç«¯å£é…ç½®ä¸ºEPã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼ŒEPä¸ä¼šæ”¶åˆ°BPDUã€‚å¦‚æœæœ‰äººä¼ªé€ BPDUæ¶æ„æ”»å‡»äº¤æ¢è®¾å¤‡ï¼Œå½“EPæ¥æ”¶åˆ°BPDUæ—¶ï¼Œäº¤æ¢è®¾å¤‡ä¼šè‡ªåŠ¨å°†EPè®¾ç½®ä¸ºéè¾¹ç¼˜ç«¯å£ï¼Œå¹¶é‡æ–°è¿›è¡Œç”Ÿæˆæ ‘è®¡ç®—ï¼Œä»è€Œå¼•èµ·ç½‘ç»œéœ‡è¡ã€‚&lt;br&gt;
äº¤æ¢è®¾å¤‡ä¸Šå¯åŠ¨äº†BPDUä¿æŠ¤åŠŸèƒ½åï¼Œå¦‚æœEPæ”¶åˆ°BPDUï¼ŒEPå°†è¢«Error-Downï¼Œä½†æ˜¯EPå±æ€§ä¸å˜ï¼ŒåŒæ—¶é€šçŸ¥ç½‘ç®¡ç³»ç»Ÿã€‚&lt;br&gt;
&lt;strong&gt;æ¢å¤æ–¹å¼æœ‰ä¸¤ç§&lt;/strong&gt;ï¼š1. æ‰‹åŠ¨æ¢å¤ï¼ˆshutdown/undo shutdownï¼‰;2. è‡ªåŠ¨æ¢å¤ï¼ˆerror-down auto-recovery cause bpdu-protection interval æ—¶é•¿ï¼‰&lt;code&gt;è¿™ä¸ªå‘½ä»¤ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ï¼Œä¸ºä»€ä¹ˆä¸æŠŠbpdu-protectionæ”¾åœ¨å‰é¢ï¼Ÿå› ä¸ºå¯¼è‡´ç«¯å£error-downçš„æ–¹å¼ä¸æ­¢æœ‰bpduä¿æŠ¤ï¼Œè¿˜æœ‰monitor-linkã€auto-defendã€l2-loop-occurredç­‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ ¹ä¿æŠ¤ï¼ˆåªèƒ½åœ¨DPå£ä¸‹å¼€å¯ï¼‰ï¼š&lt;code&gt;åœ¨DPå¼€å¯æ ¹ä¿æŠ¤ï¼Œä¿è¯æ ¹æ¡¥ä¸è¢«æŠ¢å &lt;/code&gt;&lt;br&gt;
ç”±äºç»´æŠ¤äººå‘˜çš„é”™è¯¯é…ç½®æˆ–ç½‘ç»œä¸­çš„æ¶æ„æ”»å‡»ï¼Œç½‘ç»œä¸­åˆæ³•æ ¹æ¡¥æœ‰å¯èƒ½ä¼šæ”¶åˆ°ä¼˜å…ˆçº§æ›´é«˜çš„BPDUï¼Œä½¿å¾—åˆæ³•æ ¹æ¡¥å¤±å»æ ¹åœ°ä½ï¼Œä»è€Œå¼•èµ·ç½‘ç»œæ‹“æ‰‘ç»“æ„çš„é”™è¯¯å˜åŠ¨ã€‚è¿™ç§ä¸åˆæ³•çš„æ‹“æ‰‘å˜åŒ–ï¼Œä¼šå¯¼è‡´åŸæ¥åº”è¯¥é€šè¿‡é«˜é€Ÿé“¾è·¯çš„æµé‡è¢«ç‰µå¼•åˆ°ä½é€Ÿé“¾è·¯ä¸Šï¼Œé€ æˆç½‘ç»œæ‹¥å¡ã€‚&lt;br&gt;
å¯¹äºå¯ç”¨æ ¹ä¿æŠ¤åŠŸèƒ½çš„DPï¼Œå…¶ç«¯å£è§’è‰²åªèƒ½ä¿æŒä¸ºDPã€‚ä¸€æ—¦å¯ç”¨æ ¹ä¿æŠ¤åŠŸèƒ½çš„DPæ”¶åˆ°ä¼˜å…ˆçº§æ›´é«˜çš„BPDU æ—¶ï¼Œç«¯å£çŠ¶æ€å°†è¿›å…¥DiscardingçŠ¶æ€ï¼Œä¸å†è½¬å‘æŠ¥æ–‡ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´ï¼ˆé€šå¸¸ä¸ºä¸¤å€çš„ Forward Delayï¼‰ï¼Œå¦‚æœç«¯å£ä¸€ç›´æ²¡æœ‰å†æ”¶åˆ°ä¼˜å…ˆçº§è¾ƒé«˜çš„BPDUï¼Œç«¯å£ä¼šè‡ªåŠ¨æ¢å¤åˆ°æ­£å¸¸çš„ Forwarding çŠ¶æ€ã€‚&lt;br&gt;
&lt;strong&gt;ã€è¯´æ˜ã€‘&lt;/strong&gt;ï¼š Root ä¿æŠ¤åŠŸèƒ½åªèƒ½åœ¨DPä¸Šé…ç½®ç”Ÿæ•ˆ&lt;/li&gt;
&lt;li&gt;ç¯è·¯ä¿æŠ¤ï¼ˆåœ¨RPæˆ–APä¸‹é…ç½®ï¼Œç¯è·¯ä¿æŠ¤åŠŸèƒ½å’Œæ ¹ä¿æŠ¤åŠŸèƒ½ä¸èƒ½åŒæ—¶é…ç½®åœ¨åŒä¸€ç«¯å£ï¼‰&lt;sub&gt;å…³è”ç›´è¿æ•…éšœå’Œéç›´è¿æ•…éšœ&lt;/sub&gt;ï¼š&lt;code&gt;ä¸ºäº†é˜²æ­¢å•å‘é“¾è·¯æ•…éšœï¼Œåœ¨BPDUåŒ…çš„æ¥æ”¶ç«¯é…ç½®ï¼ˆå¦‚AP/RPï¼‰,å¦‚æœåœ¨è§„å®šæ—¶é—´èŒƒå›´å†…åœ¨å¼€å¯äº†ç¯è·¯é˜²æŠ¤çš„ç«¯å£æ²¡æœ‰æ”¶åˆ°BPDUåŒ…ï¼Œä¼šé€šçŸ¥ç½‘ç®¡ï¼Œå¹¶å°†ç«¯å£discardingï¼Œä½†æ˜¯ç¯è·¯é˜²æŠ¤å®¹æ˜“å‡ºç°è¯¯åˆ¤&lt;/code&gt;&lt;br&gt;
åœ¨è¿è¡ŒRSTPåè®®çš„ç½‘ç»œä¸­ï¼Œæ ¹ç«¯å£å’Œå…¶ä»–é˜»å¡ç«¯å£çŠ¶æ€æ˜¯ä¾é ä¸æ–­æ¥æ”¶æ¥è‡ªä¸Šæ¸¸äº¤æ¢è®¾å¤‡çš„BPDUç»´æŒã€‚å½“ç”±äºé“¾è·¯æ‹¥å¡æˆ–è€…å•å‘é“¾è·¯æ•…éšœï¼ˆå¤šå‡ºç°åœ¨å…‰çº¤ç½‘ç»œä¸­ï¼‰å¯¼è‡´è¿™äº›ç«¯å£æ”¶ä¸åˆ°æ¥è‡ªä¸Šæ¸¸äº¤æ¢è®¾å¤‡çš„BPDUæ—¶ï¼Œæ­¤æ—¶äº¤æ¢è®¾å¤‡ä¼šé‡æ–°é€‰æ‹©æ ¹ç«¯å£ã€‚åŸå…ˆçš„æ ¹ç«¯å£ä¼šè½¬å˜ä¸ºæŒ‡å®šç«¯å£ï¼Œè€ŒåŸå…ˆçš„é˜»å¡ç«¯å£ä¼šè¿ç§»åˆ°è½¬å‘çŠ¶æ€ï¼Œä»è€Œé€ æˆäº¤æ¢ç½‘ç»œä¸­å¯èƒ½äº§ç”Ÿç¯è·¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610889689059.jpg&#34; alt=&#34;ç¯è·¯ä¿æŠ¤&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚å›¾æ‰€ç¤ºï¼Œå½“ BP2-CP1 ä¹‹é—´çš„é“¾è·¯å‘ç”Ÿæ‹¥å¡æ—¶ï¼ˆæˆ–è€…æ˜¯å•å‘é“¾è·¯æ•…éšœï¼‰ ï¼ŒDeviceCç”±äºCP1ï¼ˆRPï¼‰åœ¨è¶…æ—¶æ—¶é—´å†…æ”¶ä¸åˆ°æ¥è‡ªä¸Šæ¸¸è®¾å¤‡çš„ BPDU æŠ¥æ–‡ï¼ŒCP2ï¼ˆAPï¼‰ è½¬å˜æˆäº†RPï¼ŒCP1ï¼ˆRPï¼‰ è½¬å˜æˆDPï¼Œä»è€Œå½¢æˆäº†ç¯è·¯ã€‚&lt;/li&gt;
&lt;li&gt;é˜²TC-BPDUæ”»å‡»ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼š&lt;code&gt;æŒ‡å®šå¤„ç†TCåŒ…çš„é˜ˆå€¼ï¼Œåœ¨è§„å®šæ—¶é—´å†…åªå¤„ç†é˜ˆå€¼èŒƒå›´å†…çš„TCåŒ…ï¼Œè¶…å‡ºçš„æ¬¡æ•°æŒ‰ä¸€æ¬¡å¤„ç†&lt;/code&gt;&lt;br&gt;
äº¤æ¢è®¾å¤‡åœ¨æ¥æ”¶åˆ°TC-BPDU æŠ¥æ–‡åï¼Œä¼šæ‰§è¡ŒMACåœ°å€è¡¨é¡¹å’ŒARPè¡¨é¡¹çš„åˆ é™¤æ“ä½œã€‚å¦‚æœæœ‰äººä¼ªé€ TC-BPDU æŠ¥æ–‡æ¶æ„æ”»å‡»äº¤æ¢è®¾å¤‡æ—¶ï¼Œäº¤æ¢è®¾å¤‡çŸ­æ—¶é—´å†…ä¼šæ”¶åˆ°å¾ˆå¤šTC-BPDUæŠ¥æ–‡ï¼Œé¢‘ç¹çš„åˆ é™¤æ“ä½œä¼šç»™è®¾å¤‡é€ æˆå¾ˆå¤§çš„è´Ÿæ‹…ï¼Œç»™ç½‘ç»œçš„ç¨³å®šå¸¦æ¥å¾ˆå¤§éšæ‚£ã€‚å¯ç”¨é˜²TC-BPDU æŠ¥æ–‡æ”»å‡»åŠŸèƒ½åï¼Œåœ¨å•ä½æ—¶é—´å†…ï¼Œäº¤æ¢è®¾å¤‡å¤„ç†TC -BPDUæŠ¥æ–‡çš„æ¬¡æ•°å¯é…ç½®ã€‚å¦‚æœåœ¨å•ä½æ—¶é—´å†…ï¼Œäº¤æ¢è®¾å¤‡åœ¨æ”¶åˆ°TC-BPDUæŠ¥æ–‡æ•°é‡å¤§äºé…ç½®çš„é˜ˆå€¼ï¼Œé‚£ä¹ˆè®¾å¤‡åªä¼šå¤„ç†é˜ˆå€¼æŒ‡å®šçš„æ¬¡æ•°ã€‚å¯¹äºå…¶ä»–è¶…å‡ºé˜ˆå€¼çš„TC-BPDU æŠ¥æ–‡ï¼Œå®šæ—¶å™¨åˆ°æœŸåè®¾å¤‡åªå¯¹å…¶ç»Ÿä¸€å¤„ç†ä¸€æ¬¡ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹çš„åˆ é™¤MACåœ°å€è¡¨é¡¹å’ŒARPè¡¨é¡¹ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤è®¾å¤‡çš„ç›®çš„ã€‚&lt;/li&gt;
&lt;li&gt;BPDUè¿‡æ»¤ï¼š&lt;code&gt;æ¥å£ä¸å‘é€ä¹Ÿä¸æ¥æ”¶BPDUåŒ…ï¼Œå¦‚æœåº”ç”¨åœ¨EPä¸Šï¼Œå¾ˆå¯èƒ½ä¼šé€ æˆæ°¸ä¹…ç¯è·¯&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;5-æ‹“æ‰‘å˜æ›´&#34;&gt;5. æ‹“æ‰‘å˜æ›´&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;çµé­‚æ‹·é—®&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;TC BPDUåŒ…çš„ä¸»è¦ä½œç”¨&lt;/strong&gt;ï¼šå‘ŠçŸ¥ä¸‹æ¸¸è®¾å¤‡æ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œå¿«é€Ÿåˆ·æ–°MACåœ°å€è¡¨ï¼Œå®ç°å¿«é€Ÿè½¬å‘æ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCN BPDUæŠ¥æ–‡ä¸»è¦ä½œç”¨&lt;/strong&gt;ï¼šç”¨æ¥å‘ä¸Šæ¸¸è®¾å¤‡ä¹ƒè‡³æ ¹æ¡¥é€šçŸ¥æ‹“æ‰‘å˜åŒ–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;TCA BPDUæŠ¥æ–‡ä¸»è¦ä½œç”¨&lt;/strong&gt;ï¼šä¸Šæ¸¸è®¾å¤‡ç”¨æ¥å‘ŠçŸ¥ä¸‹æ¸¸è®¾å¤‡å·²ç»çŸ¥é“æ‹“æ‰‘å˜åŒ–ï¼Œé€šçŸ¥ä¸‹æ¸¸è®¾å¤‡åœæ­¢å‘é€TCN BPDUæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;stpæ‹“æ‰‘å˜åŒ–å¤„ç†&#34;&gt;STPæ‹“æ‰‘å˜åŒ–å¤„ç†&lt;/h2&gt;
&lt;p&gt;åœ¨STPä¸­æ£€æµ‹æ‹“æ‰‘&lt;strong&gt;æ˜¯å¦å‘ç”Ÿå˜åŒ–çš„æ ‡å‡†ï¼ˆå³å‘é€TCNçš„æ¡ä»¶ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éæ ¹æ¡¥çš„DPå£æ”¶åˆ°TCN BPDUåŒ…&lt;/li&gt;
&lt;li&gt;Forwardingç«¯å£è¿›å…¥disableæˆ–è€…blockingçŠ¶æ€ï¼ˆä¾‹å¦‚PCå…³æœºï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç«¯å£è¿›å…¥ForwardingçŠ¶æ€ï¼Œå¹¶ä¸”æœ¬åœ°å·²ç»å­˜åœ¨ä¸€ä¸ªDPï¼ˆä¾‹å¦‚PCå¼€æœºï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610892294546.jpg&#34; alt=&#34;TC å¤„ç†æœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿå˜åŒ–åï¼Œä¸‹æ¸¸è®¾å¤‡ä¼šä¸é—´æ–­åœ°å‘ä¸Šæ¸¸è®¾å¤‡å‘é€TCN BPDUæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è®¾å¤‡æ”¶åˆ°ä¸‹æ¸¸è®¾å¤‡å‘æ¥çš„TCN BPDUæŠ¥æ–‡åï¼Œ&lt;strong&gt;åªæœ‰æŒ‡å®šç«¯å£å¤„ç†&lt;/strong&gt;TCN BPDUæŠ¥æ–‡ï¼Œå…¶å®ƒç«¯å£ä¹Ÿæœ‰å¯èƒ½æ”¶åˆ°TCN BPDUæŠ¥æ–‡ï¼Œä½†ä¸ä¼šå¤„ç†&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è®¾å¤‡ä¼šæŠŠé…ç½®BPDUæŠ¥æ–‡ä¸­çš„Flagsçš„TCAä½è®¾ç½®1ï¼Œç„¶åå‘é€ç»™ä¸‹æ¸¸è®¾å¤‡ï¼Œå‘ŠçŸ¥ä¸‹æ¸¸è®¾å¤‡åœæ­¢å‘é€ TCN BPDUæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è®¾å¤‡å¤åˆ¶ä¸€ä»½TCN BPDUæŠ¥æ–‡ï¼Œå‘æ ¹æ¡¥æ–¹å‘å‘é€&lt;/li&gt;
&lt;li&gt;é‡å¤æ­¥éª¤ 1ã€2ã€3ã€4ï¼Œç›´åˆ°æ ¹æ¡¥æ”¶åˆ°TCN BPDUæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ ¹æ¡¥æŠŠé…ç½®BPDUæŠ¥æ–‡ä¸­çš„Flagsçš„TCä½ç½®1åå‘é€ï¼Œ&lt;strong&gt;é€šçŸ¥ä¸‹æ¸¸è®¾å¤‡ç›´æ¥åˆ é™¤æ¡¥MACåœ°å€è¡¨é¡¹&lt;/strong&gt;&lt;code&gt;è¿ç»­å‘é€35ç§’=è½¬å‘å»¶æ—¶15ç§’+MaxAgeçš„20ç§’ï¼Œå½“ç„¶RBåœ¨å‘TCæ—¶ä¹Ÿä¼šè®¾ç½®MaxAgeä¸º15ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–è®¾å¤‡æ”¶åˆ°TCç½®ä½çš„BPDUåï¼ŒçŸ¥é“ç½‘ç»œæ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œä¼šæ£€æµ‹MACåœ°å€çš„è€åŒ–æ—¶é—´ã€‚&lt;strong&gt;å¦‚æœMACåœ°å€çš„è€åŒ–æ—¶é—´ï¼ˆMaxageï¼‰å¤§äº15ç§’ï¼Œå‡å°†è€åŒ–æ—¶é—´è®¾ç½®ä¸º15ç§’ï¼Œå¦‚æœMACåœ°å€çš„è€åŒ–æ—¶é—´å°äº15ç§’ï¼Œä¿æŒä¸å˜ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;åªæœ‰æ ¹æ¡¥æ‰èƒ½å‘ä»TC BPDUï¼Œå…¶ä½™è®¾å¤‡åªèƒ½å‘é€TCNå’ŒTCA BPDU&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;rstpæ‹“æ‰‘å˜åŒ–å¤„ç†&#34;&gt;RSTPæ‹“æ‰‘å˜åŒ–å¤„ç†&lt;/h2&gt;
&lt;p&gt;åœ¨RSTPä¸­æ£€æµ‹æ‹“æ‰‘æ˜¯å¦å‘ç”Ÿå˜åŒ–&lt;strong&gt;åªæœ‰ä¸€ä¸ªæ ‡å‡†&lt;/strong&gt;ï¼š&lt;code&gt;ä¸€ä¸ªéè¾¹ç¼˜ç«¯å£(åªæœ‰DP)è¿ç§»åˆ°ForwardingçŠ¶æ€&lt;/code&gt;&lt;br&gt;
ä¸€æ—¦æ£€æµ‹åˆ°æ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œå°†è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºæœ¬äº¤æ¢è®¾å¤‡çš„æ‰€æœ‰éè¾¹ç¼˜æŒ‡å®šç«¯å£å¯åŠ¨ä¸€ä¸ªTC While Timerï¼Œè¯¥è®¡æ—¶å™¨å€¼æ˜¯Hello Timeçš„ä¸¤å€&lt;/li&gt;
&lt;li&gt;åœ¨è¿™ä¸ªæ—¶é—´å†…ï¼Œ&lt;strong&gt;æ¸…ç©ºçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„ç«¯å£ä¸Šå­¦ä¹ åˆ°çš„ MAC åœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
åŒæ—¶ï¼Œç”±è¿™äº›ç«¯å£å‘å¤–å‘é€RST BPDUï¼Œå…¶ä¸­TCç½®ä½ã€‚&lt;strong&gt;ä¸€æ—¦TC While Timerè¶…æ—¶ï¼Œåˆ™åœæ­¢å‘é€ RST BPDU&lt;/strong&gt;&lt;code&gt;å³TCç½®ä½çš„BPDUç§°ä¸ºRST BPDU&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–äº¤æ¢è®¾å¤‡æ¥æ”¶åˆ°RST BPDUåï¼Œ&lt;strong&gt;æ¸…ç©ºæ‰€æœ‰ç«¯å£å­¦ä¹ åˆ°MACåœ°å€&lt;/strong&gt;ï¼Œé™¤äº†æ”¶åˆ°RST BPDUçš„ç«¯å£ã€‚ç„¶åä¹Ÿä¸ºè‡ªå·±&lt;strong&gt;æ‰€æœ‰çš„éè¾¹ç¼˜æŒ‡å®šç«¯å£å’Œæ ¹ç«¯å£å¯åŠ¨TC While Timer&lt;/strong&gt;ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç½‘ç»œä¸­å°±ä¼šäº§ç”Ÿ RST BPDU çš„æ³›æ´ª&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;MACåœ°å€æ¸…é™¤æœºåˆ¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å‘ç”Ÿæ‹“æ‰‘æ”¹å˜çš„è®¾å¤‡&lt;/strong&gt;ï¼šåªä¼šå°†&lt;strong&gt;é™¤äº†EP&lt;/strong&gt;ä»¥å¤–çš„å…¶ä»–ç«¯å£çš„MACåœ°å€é©¬ä¸Šæ¸…é™¤&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¥æ”¶åˆ°TC BPDUçš„è®¾å¤‡&lt;/strong&gt;ï¼šä¼šå°†é™¤äº†&lt;strong&gt;EPå’Œæ”¶åˆ°TC BPDUçš„ç«¯å£&lt;/strong&gt;ä¹‹å¤–çš„å…¶ä»–ç«¯å£çš„MACåœ°å€é©¬ä¸Šæ¸…é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¯å°è®¾å¤‡éƒ½èƒ½å‘ä»TC BPDU&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;bpduåŒ…çš„å‘é€&#34;&gt;BPDUåŒ…çš„å‘é€ï¼š&lt;/h2&gt;
&lt;p&gt;åœ¨RSTPä¸­RPã€BPã€APåªèƒ½æ¥å—ä¸èƒ½å‘é€BPDUåŒ…ï¼›DPæ˜¯å‘é€BPDUï¼Œæ”¶æ•›ä»¥åä¸æ¥æ”¶&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®BPDUåŒ…ï¼š
&lt;ul&gt;
&lt;li&gt;STPä¸­åªæœ‰æ ¹æ¡¥ä¼šå‘¨æœŸçš„å‘é€é…ç½®BPDUåŒ…ï¼Œéæ ¹æ¡¥æ¥æ”¶ä»¥åä»æŒ‡å®šç«¯å£è½¬å‘&lt;/li&gt;
&lt;li&gt;RSTPä¸­æ¯å°è®¾å¤‡éƒ½ä¼šå‘¨æœŸå‘é€é…ç½®BPDUåŒ…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;TC BPDUåŒ…ï¼š
&lt;ul&gt;
&lt;li&gt;STPä¸­åªæœ‰æ ¹æ¡¥æ‰ä¼šå‘é€TCç½®ä½çš„é…ç½®BPDUåŒ…ï¼Œè€Œå…¶ä»–çš„éæ ¹æ¡¥åªèƒ½å‘ä»TCN BPDUå’Œæ”¶åˆ°TCN BPDUåå›å¤TCAç½®ä½çš„é…ç½®BPDUåŒ…&lt;/li&gt;
&lt;li&gt;RSTPä¸­æ¯å°è®¾å¤‡éƒ½å¯ä»¥å‘é€TCç½®ä½çš„é…ç½®BPDUåŒ…&lt;code&gt;å› æ­¤RSTPæ²¡æœ‰TCNå’ŒTCAï¼Œå®Œå…¨ä¸éœ€è¦&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é€‰ä¸¾ä¾æ¬¡é€‰ä¸¾&#34;&gt;é€‰ä¸¾ï¼ˆä¾æ¬¡é€‰ä¸¾ï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;1-æ ¹æ¡¥rb&#34;&gt;1. æ ¹æ¡¥RB&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;BIDï¼Œä¸€å…±8å­—èŠ‚=4bitä¼˜å…ˆçº§+12bitæ‰©å±•ç³»ç»ŸID+6å­—èŠ‚çš„èƒŒæ¿æœ€å°MACã€‚æœ¬è´¨ä¸Šï¼Œä¼˜å…ˆçº§èŒƒå›´ä¸º0-15ï¼Œé»˜è®¤æ˜¯8&lt;/code&gt;&lt;br&gt;
æ¯”è¾ƒBIDï¼ˆè¶Šå°è¶Šä¼˜ï¼‰ï¼Œæœ‰ä¸‰éƒ¨åˆ†çº§æˆï¼šä¼˜å…ˆçº§+æ‰©å±•ç³»ç»ŸID+MACï¼Œ&lt;strong&gt;åä¸ºçš„æ‰©å±•ç³»ç»ŸIDæ˜¯0&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜&lt;code&gt;ä¼˜å…ˆçº§ä¸º0ï¼Œä»…æ˜¯æœ€å¤§å¯èƒ½ä¼šæˆä¸ºæ ¹æ¡¥ï¼Œä¸ä¸€å®šæ˜¯æ ¹æ¡¥ï¼Œä¸”è¯¥å€¼å¿…é¡»æ˜¯4096çš„å€æ•°ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º32768ï¼ˆ=8*4096ï¼Œæœ€å¤§æ˜¯15*4096ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;MACåœ°å€è¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-æ ¹ç«¯å£rp&#34;&gt;2. æ ¹ç«¯å£RP&lt;/h3&gt;
&lt;p&gt;PIDç”±ç«¯å£ä¼˜å…ˆçº§+ç«¯å£ç¼–å·ç»„æˆ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹è·¯å¾„å¼€é”€RPCè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å‘é€è®¾å¤‡BIDè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å‘é€ç«¯å£PIDè¶Šå°è¶Šä¼˜ï¼ˆå…ˆçœ‹ä¼˜å…ˆçº§ï¼Œå†çœ‹ç¼–å·ï¼‰&lt;/li&gt;
&lt;li&gt;æ¥æ”¶ç«¯å£PIDè¶Šå°è¶Šä¼˜ï¼ˆå…ˆçœ‹ä¼˜å…ˆçº§ï¼Œå†çœ‹ç¼–å·ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;3-æŒ‡å®šç«¯å£dpä¸rpç›¸åŒ&#34;&gt;3. æŒ‡å®šç«¯å£DPï¼ˆä¸RPç›¸åŒï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹è·¯å¾„å¼€é”€RPCè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å‘é€è®¾å¤‡BIDè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å‘é€ç«¯å£PIDè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¥æ”¶ç«¯å£PIDè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-apçš„é€‰ä¸¾é˜»å¡ç«¯å£&#34;&gt;4. APçš„é€‰ä¸¾(é˜»å¡ç«¯å£)&lt;/h3&gt;
&lt;p&gt;éDPï¼ŒéRPå°±æ˜¯APï¼Œç«¯å£ä¼šè¢«é˜»å¡æ‰&lt;/p&gt;
&lt;h2 id=&#34;cst&#34;&gt;CST&lt;/h2&gt;
&lt;p&gt;STPå’ŒRSTPåªæœ‰ä¸€æ£µæ ‘ï¼Œå°±æ˜¯CSTï¼ˆå…¬å…±ç”Ÿæˆæ ‘ï¼‰ï¼Œä¸ç®¡æœ‰å¤šå°‘ä¸ªVlanï¼Œå› æ­¤äº§ç”ŸMSTPã€‚&lt;/p&gt;
&lt;h2 id=&#34;è®¡æ—¶å™¨timer&#34;&gt;è®¡æ—¶å™¨ï¼ˆTimerï¼‰&lt;/h2&gt;
&lt;p&gt;RSTPæ›´çŸ­çš„BPDUè¶…æ—¶è®¡æ—¶ï¼Œå¦‚æœä¸€ä¸ªç«¯å£è¿ç»­3ä¸ªHello Time(2ç§’)æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ä¸Šæ¸¸è®¾å¤‡å‘é€è¿‡æ¥çš„é…ç½®BPDUï¼Œé‚£ä¹ˆè¯¥è®¾å¤‡è®¤ä¸ºä¸æ­¤é‚»å±…ä¹‹é—´çš„åå•†å¤±è´¥ã€åªéœ€è¦ç­‰å¾…6ç§’ã€‘ã€‚è€Œä¸åƒSTPé‚£æ ·éœ€è¦å…ˆç­‰å¾…ä¸€ä¸ªMax Age(20ç§’)ã€å†åŠ ä¸Š30ç§’çš„è½¬å‘å»¶æ—¶ï¼Œä¸€å…±éœ€è¦50ç§’ã€‘ã€‚&lt;br&gt;
ã€é»˜è®¤æƒ…å†µä¸‹åä¸ºæœ‰ä¸€ä¸ªæ—¶é—´å› å­ï¼Œæ•°å€¼ä¸º3ï¼Œæ‰€ä»¥è¶…æ—¶æ—¶é—´ä¸º18ç§’=&lt;code&gt;2*3*3&lt;/code&gt;ã€‘&lt;/p&gt;
&lt;h2 id=&#34;rstpå’Œstpçš„å…¼å®¹äº’æ“ä½œ&#34;&gt;RSTPå’ŒSTPçš„å…¼å®¹ï¼ˆäº’æ“ä½œï¼‰&lt;/h2&gt;
&lt;p&gt;RSTPå¯ä»¥å’ŒSTPäº’æ“ä½œï¼Œä½†æ­¤æ—¶RSTPä¼šä¸§å¤±å¿«é€Ÿæ”¶æ•›ç­‰ä¼˜åŠ¿ã€‚&lt;br&gt;
å½“ä¸€ä¸ªç½‘æ®µé‡Œæ—¢æœ‰è¿è¡ŒSTPçš„äº¤æ¢è®¾å¤‡ï¼Œåˆæœ‰è¿è¡ŒRSTPçš„äº¤æ¢è®¾å¤‡æ—¶ï¼Œ&lt;strong&gt;STPäº¤æ¢è®¾å¤‡ä¼šå¿½ç•¥RSTPçš„BPDU&lt;/strong&gt;ï¼›è€Œè¿è¡Œ&lt;strong&gt;RSTP&lt;/strong&gt;çš„äº¤æ¢è®¾å¤‡åœ¨æŸç«¯å£ä¸Š&lt;strong&gt;æ”¶åˆ°STPçš„é…ç½®BPDUæ—¶ï¼Œä¼šåœ¨ä¸¤ä¸ªHello Timeæ—¶é—´ä¹‹åæŠŠè‡ªå·±çš„ç«¯å£è½¬æ¢åˆ°STPå·¥ä½œæ¨¡å¼&lt;/strong&gt;ï¼Œå‘é€é…ç½®BPDUã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;æŠŠè¿æ¥ç”¨æˆ·pcçš„ç«¯å£é…ç½®ä¸ºè¾¹ç¼˜ç«¯å£é‚£ä¸ºä»€ä¹ˆè¾¹ç¼˜ç«¯å£è¿˜è¦ç»§ç»­å‘é€bpduä¸¾å‡ºä¸€ä¸ªç”¨åˆ°è¾¹ç¼˜ç«¯å£å‘é€çš„bpduçš„åœºæ™¯&#34;&gt;æŠŠè¿æ¥ç”¨æˆ·PCçš„ç«¯å£é…ç½®ä¸ºè¾¹ç¼˜ç«¯å£ï¼Œé‚£ä¸ºä»€ä¹ˆè¾¹ç¼˜ç«¯å£è¿˜è¦ç»§ç»­å‘é€BPDUï¼Œä¸¾å‡ºä¸€ä¸ªç”¨åˆ°è¾¹ç¼˜ç«¯å£å‘é€çš„BPDUçš„åœºæ™¯&lt;/h2&gt;
&lt;p&gt;äº¤æ¢æœºçš„è¾¹ç¼˜ç«¯å£å‘å‡ºçš„BPDUæ˜¯ç”¨æ¥è®©ä¸‹æ¸¸è®¾å¤‡æ„Ÿå—åˆ°äº¤æ¢æœºçš„å­˜åœ¨ã€‚æ¯”å¦‚ä¸€ä¸ªè®¾å¤‡çš„ä¸¤ä¸ªè¾¹ç¼˜ç«¯å£è¿æ¥åœ¨ä¸€èµ·ï¼Œéœ€è¦é æ£€æµ‹BPDUæ¥é‡æ–°ç¡®å®šç«¯å£è§’è‰²ï¼Œå¦åˆ™å°±å‡ºç°æ°¸ä¹…ç¯è·¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸´æ—¶ç¯è·¯çš„å­˜åœ¨æ—¶é—´&#34;&gt;ä¸´æ—¶ç¯è·¯çš„å­˜åœ¨æ—¶é—´&lt;/h2&gt;
&lt;p&gt;bpduå‘é€æ—¶é—´+ç½‘ç»œä¼ è¾“å»¶æ—¶+CPUå¤„ç†æ—¶é—´&lt;/p&gt;
&lt;h2 id=&#34;å¦‚æœäº¤æ¢æœºä¸Šå…³é—­stpåœ¨æŸä¸€ç«¯å£åˆ†åˆ«å¼€å¯stp-å…³é—­stp-å¼€å¯epå“ªç§forwardingçš„å¿«&#34;&gt;å¦‚æœäº¤æ¢æœºä¸Šå…³é—­STPï¼Œåœ¨æŸä¸€ç«¯å£åˆ†åˆ«å¼€å¯stpã€å…³é—­stpã€å¼€å¯EPï¼Œå“ªç§forwardingçš„å¿«ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å…³é—­stp &amp;gt; å¼€å¯EP &amp;gt; å¼€å¯stp&lt;br&gt;
å…³é—­stpçš„ç«¯å£upåå³å¯ä¼ è¾“æ•°æ®ï¼›è¾¹ç¼˜ç«¯å£ä¸Šè¿è¡Œstpï¼Œæ‰€ä»¥è¿›å…¥è½¬å‘çŠ¶æ€éœ€è¦æ—¶é—´ï¼Œä½†æ˜¯å¾ˆçŸ­ï¼›å¼€å¯stpï¼Œéœ€è¦ç»å†ä¸¤ä¸ªè½¬å‘å»¶æ—¶ä¹‹åæ‰èƒ½è¿›å…¥è½¬å‘çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚æœæŠŠè¾¹ç¼˜ç«¯å£å»æ‰ç«¯å£ä¸å¬çš„updownç”¨ä»€ä¹ˆè§£å†³tcå¯¹ç½‘ç»œçš„å½±å“&#34;&gt;å¦‚æœæŠŠè¾¹ç¼˜ç«¯å£å»æ‰ï¼Œç«¯å£ä¸å¬çš„up/downï¼Œç”¨ä»€ä¹ˆè§£å†³TCå¯¹ç½‘ç»œçš„å½±å“&lt;/h2&gt;
&lt;p&gt;å¼€å¯TC-BPDUåŠŸèƒ½ï¼Œè®¾ç½®è§„å®šæ—¶é—´å†…å¤„ç†TC-BPDUçš„é˜ˆå€¼ï¼Œè¶…å‡ºé˜ˆå€¼ä¹‹å¤–çš„æ¬¡æ•°åœ¨å®šæ—¶å™¨åˆ°æœŸåç»Ÿä¸€è¿›è¡Œä¸€æ¬¡å¤„ç†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;stp tc-protection
stp tc-protection interval interval-value +æŒ‡å®šæ—¶é—´
stp tc-protection threshold threshold +æŒ‡å®šæ—¶é—´å†…å¯ä»¥å¤„ç†çš„æ­¤æ—¶
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;stpçš„ä½œç”¨æ˜¯ä»€ä¹ˆä¸ipç½‘ç»œæ¯”è¾ƒä¸ºä»€ä¹ˆäºŒå±‚éœ€è¦stp&#34;&gt;STPçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿä¸IPç½‘ç»œæ¯”è¾ƒä¸ºä»€ä¹ˆäºŒå±‚éœ€è¦STP&lt;/h2&gt;
&lt;p&gt;STPæ˜¯äºŒå±‚çš„é“¾è·¯ç®¡ç†åè®®ï¼Œæä¾›é“¾è·¯å†—ä½™çš„åŒæ—¶é˜²æ­¢ç½‘ç»œäº§ç”Ÿç¯è·¯&lt;br&gt;
IPç½‘ç»œä¸­ï¼Œä½¿ç”¨å„ç§è·¯ç”±åè®®æ¥ä¼ é€’è·¯ç”±ä¿¡æ¯ï¼Œå„ç§è·¯ç”±åè®®éƒ½æœ‰è‡ªå·±çš„é˜²ç¯æ–¹æ³•ã€‚äºŒå±‚ç½‘ç»œå¦‚æœä¸å¯ç”¨STPï¼Œåœ¨å‡ºç°å†—ä½™è·¯å¾„æ—¶ä¼šå¯¼è‡´ç¯è·¯ã€‚&lt;br&gt;
IPä½¿ç”¨TTLèƒ½é˜²ç¯ï¼Œä½†æ˜¯ä»¥å¤ªå¸§æ²¡æœ‰ç±»ä¼¼TTLçš„å­—æ®µç”¨æ¥é˜²ç¯ï¼Œè€Œä¸”äº¤æ¢æœºå¤„ç†æ•°æ®å¸§çš„æ–¹æ³•å†³å®šäº†æ³›æ´ªæ¯”è¾ƒå¤šï¼Œäº¤æ¢æœºå¤„ç†æœªçŸ¥å•æ’­å¸§ã€ç»„æ’­ã€å¹¿æ’­å‡é‡‡ç”¨æ³›æ´ªçš„æ–¹å¼ï¼Œæ›´å®¹æ˜“é€ æˆæ•°æ®åŒ…ç¯è·¯å’Œå¹¿æ’­é£æš´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¾¹ç¼˜ç«¯å£ä¸ºä»€ä¹ˆä¼šæœ‰ä¸´æ—¶ç¯è·¯å‡ºç°ç¯è·¯çš„åœºæ™¯å·²æœ‰ç«¯å£çš„æ¼”å˜è¿‡ç¨‹&#34;&gt;è¾¹ç¼˜ç«¯å£ä¸ºä»€ä¹ˆä¼šæœ‰ä¸´æ—¶ç¯è·¯ï¼Œå‡ºç°ç¯è·¯çš„åœºæ™¯ï¼Œå·²æœ‰ç«¯å£çš„æ¼”å˜è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;å°†ä¸¤ä¸ªè¾¹ç¼˜ç«¯å£ç›´æ¥æˆ–é—´æ¥è¿æ¥åœ¨ä¸€èµ·&lt;br&gt;
ä¸¤ä¸ªè¾¹ç¼˜ç«¯å£å‡è¿›å…¥è½¬å‘çŠ¶æ€ä¼šå½¢æˆç¯è·¯ï¼Œä½†å¦‚æœEPæ”¶åˆ°BPDUåï¼Œä¼šé˜»å¡ä¸€ä¸ªç«¯å£ï¼Œç¯è·¯æ¶ˆå¤±&lt;/p&gt;
&lt;h2 id=&#34;åœ¨æ”¶æ•›æ—¶é—´ä¸Šrstpç›¸å¯¹äºstpæœ‰å“ªäº›ä¼˜åŠ¿&#34;&gt;åœ¨æ”¶æ•›æ—¶é—´ä¸Šï¼ŒRSTPç›¸å¯¹äºSTPæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;stpæ˜¯åŸºäºå®šæ—¶å™¨çš„ï¼Œstpä¸­ç«¯å£è§’è‰²åˆ¤å®šä¸ºDPå’ŒRPåï¼Œéœ€è¦ç»è¿‡ä¸¤ä¸ªè½¬å‘å»¶æ—¶æ‰èƒ½è¿›å…¥è½¬å‘çŠ¶æ€ï¼Œå…¨ç½‘æ”¶æ•›è‡³å°‘éœ€è¦30ç§’&lt;/li&gt;
&lt;li&gt;rstpæ˜¯åŸºäºP/Aåå•†çš„ï¼Œrstpä¸­ç«¯å£è§’è‰²åˆ¤å®šä¸ºDPåï¼Œåªè¦DPæ”¶åˆ°agreementç½®ä½çš„bpduåï¼Œæ¥å£çŠ¶æ€ç†è§£å˜ä¸ºè½¬å‘çŠ¶æ€ï¼›åˆ¤å®šä¸ºRPåï¼Œå‘é€agreementç½®ä½çš„bpduæ—¶ï¼Œç«¯å£å°±å˜ä¸ºäº†è½¬å‘çŠ¶æ€ï¼Œå…¨ç½‘æ”¶æ•›åªéœ€è¦å‡ ç§’&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;rstpæ”¶æ•›æ¯”stpå—çš„åŸºæœ¬æœºåˆ¶æœ‰å“ªäº›&#34;&gt;RSTPæ”¶æ•›æ¯”STPå—çš„åŸºæœ¬æœºåˆ¶æœ‰å“ªäº›ï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;rstpé‡æ–°å®šä¹‰äº†RPå’ŒAPä¹‹é—´çš„è½¬æ¢ï¼ŒRPå¤±æ•ˆä¹‹åï¼ŒAPé©¬ä¸Šå˜ä¸ºRPï¼Œå¹¶è¿›å…¥è½¬å‘çŠ¶æ€&lt;/li&gt;
&lt;li&gt;rstpä½¿ç”¨P/Aæœºåˆ¶å¯ä»¥å¿«é€Ÿæ”¶æ•›&lt;/li&gt;
&lt;li&gt;rstpæ£€æµ‹åˆ°æ‹“æ‰‘å˜åŒ–åï¼Œä»¥æ‹“æ‰‘å˜åŒ–çš„è®¾å¤‡ä¸ºä¸­å¿ƒå‘å¤–æ³›æ´ªTC BPDUï¼Œæ›´å¿«çš„é€šçŸ¥å…¨ç½‘æ‹“æ‰‘å˜åŒ–&lt;/li&gt;
&lt;li&gt;rstpçš„ç«¯å£åœ¨3ä¸ªhelloæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°é…ç½®BPDUï¼Œè®¤ä¸ºé“¾è·¯å¤±æ•ˆï¼Œé“¾è·¯æ£€æµ‹æ›´å¿«&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;äº¤æ¢æœºæ€ä¹ˆåŒºåˆ†æ˜¯apè¿˜æ˜¯bp&#34;&gt;äº¤æ¢æœºæ€ä¹ˆåŒºåˆ†æ˜¯APè¿˜æ˜¯BP&lt;/h2&gt;
&lt;p&gt;æ ¹æ®ç«¯å£æ”¶åˆ°æ›´ä¼˜çš„è½¬å‘BIDçš„æ¥åˆ¤æ–­ã€‚&lt;br&gt;
å¦‚æœæ”¶åˆ°çš„æ›´ä¼˜çš„BPDUçš„BIDä¸æ˜¯è‡ªå·±ï¼Œé‚£ä¹ˆè¿™ä¸ªç«¯å£æ˜¯APï¼ˆè¯´æ˜è‡ªå·±ä¸æ˜¯RBï¼Œè‡ªå·±ç”¨æ¥è½¬å‘çš„ç«¯å£æ˜¯RPï¼Œé‚£ä¹ˆå¤‡ä»½çš„APï¼‰ï¼›å¦åˆ™å°±æ˜¯BPï¼ˆè¯´æ˜è‡ªå·±æ˜¯RBï¼Œé‚£ä¹ˆè‡ªå·±ç”¨æ¥è½¬å‘çš„ç«¯å£æ˜¯DPï¼Œé‚£ä¹ˆå¤‡ä»½çš„æ˜¯BPï¼‰&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆrstpå¿…é¡»è¦p2p&#34;&gt;ä¸ºä»€ä¹ˆrstpå¿…é¡»è¦p2p?&lt;/h2&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯p2pï¼ŒP/Aåå•†å¾ˆå¤æ‚ï¼Œæ—¶é—´ä¼šå¾ˆé•¿ï¼Œä¾‹å¦‚ä¸€ç«¯æ˜¯shareä¸€ç«¯p2pï¼Œåˆ™éœ€è¦è¿›è¿‡ä¸¤ä¸ªè½¬å‘å»¶æ—¶æ‰æ”¶æ•›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å­¦ä¹ çŠ¶æ€ä¸ºä»€ä¹ˆä¹Ÿéœ€è¦15ç§’ä¸ºä»€ä¹ˆè¦æœ‰å­¦ä¹ çŠ¶æ€&#34;&gt;å­¦ä¹ çŠ¶æ€ä¸ºä»€ä¹ˆä¹Ÿéœ€è¦15ç§’ï¼Œä¸ºä»€ä¹ˆè¦æœ‰å­¦ä¹ çŠ¶æ€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç›‘å¬çŠ¶æ€æœŸé—´ï¼ˆç”Ÿæˆæ ‘æ‹“æ‰‘æ”¹å˜æœŸé—´ï¼‰ï¼Œæ ¹æ¡¥å‘é€TC=1çš„é…ç½®BPDUï¼ŒMACåœ°å€è¡¨ä¼šå—TC BPDUçš„å½±å“è¿›è¡Œæå‰è€åŒ–ï¼Œæ¸…é™¤é”™è¯¯çš„MACåœ°å€ä¿¡æ¯ï¼Œå¯¼è‡´é”™è¯¯çš„MACåœ°å€è€åŒ–ï¼Œä¹Ÿå¯¼è‡´ç©ºé—²çš„MACåœ°å€è€åŒ–ï¼Œå¦‚æœæ­¤æ—¶è¦è½¬å‘æ•°æ®å¸§å°±ä¼šå¯¼è‡´å¤§é‡æœªçŸ¥å•æ’­å¸§çš„æ³›æ´ªç°è±¡ï¼Œå½±å“ç½‘ç»œæ€§èƒ½ã€‚&lt;br&gt;
é€šè¿‡ç»§ç»­ç‰ºç‰²15ç§’çš„æ”¶æ•›æ—¶é—´ï¼Œè®¾è®¡å‡ºå­¦ä¹ çŠ¶æ€èƒ½è®©äº¤æ¢æœºåœ¨æ­¤æœŸé—´é‡æ–°æ„å»ºMACåœ°å€è¡¨é¡¹ï¼Œå‡å°‘å•æ’­å¸§åœ¨STPæ”¶æ•›æœŸé—´äº§ç”Ÿçš„å¤§é‡æ³›æ´ªè¡Œä¸º&lt;code&gt;å³é€šè¿‡ç‰ºç‰²æ”¶æ•›æ—¶é—´ï¼Œæ¥æé«˜ç½‘è·¯çš„è½¬å‘æ€§èƒ½&lt;/code&gt;&lt;br&gt;
åŸºäºä»¥ä¸Šä¸¤ç§åŸå› ï¼ŒSTPçš„æ”¶æ•›æ˜¯å®Œå…¨ä¾èµ–è®¡æ—¶å™¨å®Œæˆçš„ï¼Œæ”¶æ•›é€Ÿåº¦æ…¢ï¼Œä¸ºäº†è§£å†³ä¸´æ—¶ç¯è·¯å’Œæ”¶æ•›æœŸé—´å•æ’­å¸§æ³›æ´ªï¼Œè¢«é€¼æ— å¥ˆéœ€è¦ç­‰å¾…30ç§’ã€‚&lt;/p&gt;
">äºŒå±‚åè®®-STPå’ŒRSTPçš„åŒºåˆ«</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/er-ceng-xie-yi-ppp/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#ppp%E4%BA%8C%E5%B1%82&#34;&gt;PPPï¼ˆäºŒå±‚ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E7%BB%93%E6%9E%84&#34;&gt;æŠ¥æ–‡ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lcp%E6%8A%A5%E6%96%87&#34;&gt;LCPæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ncp%E6%8A%A5%E6%96%87&#34;&gt;NCPæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E9%98%B6%E6%AE%B5%E4%B8%8D%E8%83%BD%E5%8F%AB%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;å·¥ä½œé˜¶æ®µï¼ˆä¸èƒ½å«çŠ¶æ€æœºï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BB%BA%E9%93%BE%E8%BF%87%E7%A8%8B&#34;&gt;å»ºé“¾è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lcp%E5%8D%8F%E5%95%86&#34;&gt;LCPåå•†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ncp%E5%8D%8F%E5%95%86&#34;&gt;NCPåå•†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%99%E6%80%81%E5%8D%8F%E5%95%86ip%E5%9C%B0%E5%9D%80%E4%BA%92%E6%8E%A8%E5%9C%B0%E5%9D%80&#34;&gt;é™æ€åå•†IPåœ°å€(äº’æ¨åœ°å€)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A8%E6%80%81%E5%8D%8F%E5%95%86ip%E5%9C%B0%E5%9D%80%E8%8E%B7%E5%BE%97%E5%9C%B0%E5%9D%80&#34;&gt;åŠ¨æ€åå•†IPåœ°å€(è·å¾—åœ°å€)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81&#34;&gt;è®¤è¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#pap%E8%AE%A4%E8%AF%81%E5%AF%86%E7%A0%81%E8%AE%A4%E8%AF%81%E5%8D%8F%E8%AE%AEpassword-authentication-protocol&#34;&gt;PAPè®¤è¯ï¼ˆå¯†ç è®¤è¯åè®®ï¼ŒPassword Authentication Protocolï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#pap%E9%AA%8C%E8%AF%81%E6%8A%A5%E6%96%87%E5%B8%A7%E6%A0%BC%E5%BC%8F&#34;&gt;PAPéªŒè¯æŠ¥æ–‡å¸§æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#chap%E8%AE%A4%E8%AF%81%E6%8C%91%E6%88%98%E6%8F%A1%E6%89%8B%E8%AE%A4%E8%AF%81%E5%8D%8F%E8%AE%AEchallenge-handshake-authentication-protocol&#34;&gt;CHAPè®¤è¯ï¼ˆæŒ‘æˆ˜æ¡æ‰‹è®¤è¯åè®®ï¼ŒChallenge Handshake Authentication Protocolï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#chap%E7%9A%843%E7%A7%8D%E8%AE%A4%E8%AF%81%E6%96%B9%E5%BC%8F%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93&#34;&gt;CHAPçš„3ç§è®¤è¯æ–¹å¼é…ç½®æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#chap%E6%8A%A5%E6%96%87&#34;&gt;CHAPæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ppp%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5&#34;&gt;PPPåŒæ­¥ä¸å¼‚æ­¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bcp%E5%8D%8F%E8%AE%AE&#34;&gt;BCPåè®®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mp%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;MPåŸºæœ¬åŸç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mp%E6%96%B9%E5%BC%8F%E4%B8%8B%E9%93%BE%E8%B7%AF%E5%8D%8F%E5%95%86%E8%BF%87%E7%A8%8B&#34;&gt;MPæ–¹å¼ä¸‹é“¾è·¯åå•†è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F&#34;&gt;å®ç°æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pppoe&#34;&gt;PPPoE&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;åŸºæœ¬åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4&#34;&gt;é…ç½®æ­¥éª¤&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-%E6%9C%8D%E5%8A%A1%E7%AB%AF%E9%85%8D%E7%BD%AE&#34;&gt;1. æœåŠ¡ç«¯é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%AE%A2%E6%88%B7%E7%AB%AF%E9%85%8D%E7%BD%AE&#34;&gt;2. å®¢æˆ·ç«¯é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%BD%E9%97%AE&#34;&gt;è¿½é—®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#lcp-%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;LCP çš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mru-%E7%9A%84%E4%BD%9C%E7%94%A8%E9%AD%94%E6%9C%AF%E5%AD%97%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;MRU çš„ä½œç”¨ï¼Œé­”æœ¯å­—çš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E4%BD%95%E5%8C%BA%E5%88%86%E8%AE%A4%E8%AF%81%E7%AB%AF%E4%B8%8E%E8%A2%AB%E8%AE%A4%E8%AF%81%E7%AB%AFlcp-%E9%98%B6%E6%AE%B5&#34;&gt;å¦‚ä½•åŒºåˆ†è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯ï¼ˆLCP é˜¶æ®µï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81%E4%B8%ADid%E7%9A%84%E4%BD%9C%E7%94%A8%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E6%A0%87%E8%AF%86&#34;&gt;è®¤è¯ä¸­IDçš„ä½œç”¨ï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œæ ‡è¯†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8C%91%E6%88%98%E6%8A%A5%E6%96%87%E4%B8%AD%E7%9A%84%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;æŒ‘æˆ˜æŠ¥æ–‡ä¸­çš„éšæœºæ•°çš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81%E7%AB%AF%E4%B8%8E%E8%A2%AB%E8%AE%A4%E8%AF%81%E7%AB%AF%E5%90%84%E8%87%AA%E7%9A%84%E5%AF%86%E7%A0%81%E5%A6%82%E4%BD%95%E8%8E%B7%E5%BE%97&#34;&gt;è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯å„è‡ªçš„å¯†ç å¦‚ä½•è·å¾—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A2%AB%E8%AE%A4%E8%AF%81%E7%AB%AF%E7%94%A8%E6%88%B7%E5%90%8D%E7%9A%84%E4%BD%9C%E7%94%A8%E8%AE%A4%E8%AF%81%E7%AB%AF%E5%AF%86%E7%A0%81%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;è¢«è®¤è¯ç«¯ç”¨æˆ·åçš„ä½œç”¨ï¼Ÿè®¤è¯ç«¯å¯†ç çš„ä½œç”¨ï¼Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%80%E4%B9%88%E5%8F%AB%E5%8F%8C%E5%90%91%E8%AE%A4%E8%AF%81&#34;&gt;ä»€ä¹ˆå«åŒå‘è®¤è¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ncp-%E4%B8%AD%E5%8C%85%E5%90%AB%E5%93%AA%E4%BA%9B%E5%8D%8F%E8%AE%AE&#34;&gt;NCP ä¸­åŒ…å«å“ªäº›åè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipcp-%E4%B8%AD%E4%BA%92%E6%8E%A8%E5%9C%B0%E5%9D%80%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;IPCP ä¸­äº’æ¨åœ°å€çš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8C%E6%96%B9%E6%98%AF%E5%90%A6%E9%83%BD%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%BE%97%E5%9C%B0%E5%9D%80&#34;&gt;åŒæ–¹æ˜¯å¦éƒ½å¯ä»¥è‡ªåŠ¨è·å¾—åœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8pppoe&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨PPPOE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#p2p%E7%BD%91%E7%BB%9C%E4%B8%AD%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%AE%BE%E7%BD%AE30%E4%BD%8D%E6%8E%A9%E7%A0%81&#34;&gt;p2pç½‘ç»œä¸­ä¸ºä»€ä¹ˆè¦è®¾ç½®30ä½æ©ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ppp%E4%B8%AD%E8%B7%AF%E7%94%B1%E5%AD%A6%E4%B9%A0&#34;&gt;PPPä¸­è·¯ç”±å­¦ä¹ &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#aaa%E7%9A%84%E5%85%A8%E7%A7%B0%E9%99%A4%E4%BA%86aaa%E5%A4%96%E8%BF%98%E8%83%BD%E7%94%A8%E4%BB%80%E4%B9%88%E6%96%B9%E5%BC%8F%E8%8E%B7%E5%BE%97%E5%AF%86%E7%A0%81&#34;&gt;AAAçš„å…¨ç§°ï¼Œé™¤äº†AAAå¤–è¿˜èƒ½ç”¨ä»€ä¹ˆæ–¹å¼è·å¾—å¯†ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ppp%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E9%9C%80%E8%A6%81arp&#34;&gt;PPPä¸ºä»€ä¹ˆä¸éœ€è¦ARP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;pppäºŒå±‚&#34;&gt;PPPï¼ˆäºŒå±‚ï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ç‚¹åˆ°ç‚¹é“¾è·¯å±‚åè®®ï¼ˆé™¤äº†PPPï¼Œè¿˜æœ‰HDLCå’ŒCisco HDLCï¼‰&lt;/li&gt;
&lt;li&gt;3ä¸ªåè®®ç°‡ï¼š
&lt;ol&gt;
&lt;li&gt;é“¾è·¯æ§åˆ¶åè®®ç°‡LCPï¼šä¸»è¦ç”¨æ¥å»ºç«‹ã€æ‹†é™¤ã€ç›‘æ§PPPæ•°æ®é“¾è·¯ã€‚&lt;br&gt;
è‡ªåŠ¨æ£€æµ‹é“¾è·¯ç¯å¢ƒï¼Œå¦‚æ˜¯å¦å­˜åœ¨ç¯è·¯ï¼›åå•†é“¾è·¯å‚æ•°ï¼Œå¦‚æœ€å¤§æ•°æ®åŒ…é•¿åº¦ã€è®¤è¯åè®®ç­‰ã€‚ä¸å…¶ä»–åè®®ç›¸æ¯”ï¼Œpppåè®®çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯æä¾›è®¤è¯åŠŸèƒ½ï¼Œé“¾è·¯ä¸¤ç«¯å¯ä»¥åå•†ä½¿ç”¨ä½•ç§è®¤è¯åè®®å¹¶å®æ–½è®¤è¯è¿‡ç¨‹ï¼Œåªæœ‰è®¤è¯æˆåŠŸæ‰ä¼šå»ºç«‹è¿æ¥ï¼Œè¿™ä½¿å¾—PPPåè®®å¾ˆé€‚åˆè¢«è¿è¥å•†ç”¨æ¥æ¥å…¥åˆ†æ•£çš„ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ§åˆ¶åè®®ç°‡NCPï¼šä¸»è¦ç”¨æ¥åå•†åœ¨è¯¥æ•°æ®é“¾è·¯ä¸Šæ‰€ä¼ è¾“çš„æ•°æ®åŒ…çš„æ ¼å¼ä¸ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;PPPæ‰©å±•åè®®ç°‡ï¼šä¸»è¦ç”¨äºæä¾›å¯¹PPPåŠŸèƒ½çš„è¿›ä¸€æ­¥æ”¯æŒï¼Œä¾‹å¦‚PPPæä¾›äº†ç”¨äºç½‘ç»œå®‰å…¨æ–¹é¢çš„è®¤è¯åè®®ç°‡CHAPï¼ˆæŒ‘æˆ˜æ¡æ‰‹åè®®ï¼‰å’ŒPAPï¼ˆç®€å•å¯†é’¥è®¤è¯ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æŠ¥æ–‡ç»“æ„&#34;&gt;æŠ¥æ–‡ç»“æ„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610793637770.png&#34; alt=&#34;æŠ¥æ–‡ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;FlagåŸŸï¼šæ ‡è¯†ä¸€ä¸ªç‰©ç†å¸§çš„èµ·å§‹å’Œç»“æŸï¼Œè¯¥å­—èŠ‚ä¸º&lt;strong&gt;0x7E&lt;/strong&gt;ã€‚
&lt;ol&gt;
&lt;li&gt;å¦‚æœåœ¨æ•°æ®ä¸­å‡ºç°0x7Eï¼Œåˆ™é‡‡ç”¨ç¡¬ä»¶å®Œæ¯”ç‰¹å¡«å……(åŸç†è·ŸHDLC) ï¼Œåªè¦å‘ç°5ä¸ªè¿ç»­çš„1ï¼Œåˆ™ç«‹å³å¡«å…¥0&lt;/li&gt;
&lt;li&gt;åœ¨æ•°æ®ä¸­ï¼Œç›´æ¥èƒ½çœ‹åˆ°çš„ç°è±¡æ˜¯æ•°æ®ä¸­çš„0x7Eè¢«æ‹†åˆ†æˆ0x7D+0x5E&lt;/li&gt;
&lt;li&gt;é‚£å¦‚æœæ•°æ®ä¸­å‡ºç°0x7Dæ€ä¹ˆåŠå‘¢ï¼Ÿå†æŠŠ0x7Dæ‹†æˆ0x7D+0x5D&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;AddressåŸŸï¼šAddressåŸŸå¯ä»¥å”¯ä¸€æ ‡è¯†å¯¹ç«¯ã€‚&lt;br&gt;
PPPåè®®æ˜¯è¢«è¿ç”¨åœ¨ç‚¹å¯¹ç‚¹çš„é“¾è·¯ä¸Šï¼Œå› æ­¤ï¼Œä½¿ç”¨PPPåè®®äº’è¿çš„ä¸¤ä¸ªé€šä¿¡è®¾å¤‡æ— é¡»çŸ¥é“å¯¹æ–¹çš„æ•°æ®é“¾è·¯å±‚åœ°å€ã€‚æŒ‰ç…§åè®®çš„è§„å®šå°†è¯¥å­—èŠ‚å¡«å……ä¸ºå…¨1çš„å¹¿æ’­åœ°å€ï¼Œå¯¹äºPPPåè®®æ¥è¯´ï¼Œè¯¥å­—æ®µ&lt;strong&gt;æ— å®é™…æ„ä¹‰&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ControlåŸŸï¼šè¯¥å­—æ®µé»˜è®¤å€¼ä¸º&lt;strong&gt;0x03&lt;/strong&gt;ï¼Œè¡¨æ˜ä¸ºæ— åºå·å¸§ï¼ŒPPPé»˜è®¤æ²¡æœ‰é‡‡ç”¨åºåˆ—å·å’Œç¡®è®¤æ¥å®ç°å¯é ä¼ è¾“ã€‚&lt;br&gt;
Addresså’ŒControlåŸŸä¸€èµ·æ ‡è¯†æ­¤æŠ¥æ–‡ä¸ºPPPæŠ¥æ–‡ï¼Œ&lt;strong&gt;å³PPPæŠ¥æ–‡å¤´ä¸ºFF03&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ProtocolåŸŸï¼šç”¨æ¥åŒºåˆ†PPPæ•°æ®å¸§ä¸­ä¿¡æ¯åŸŸæ‰€æ‰¿è½½çš„æ•°æ®æŠ¥ç±»å‹ã€‚&lt;strong&gt;åªèƒ½ä¸ºå¥‡æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;å¸¸è§çš„åè®®ä»£ç ï¼š
0281ï¼šMPLSå•æ’­
0283ï¼šMPLSç»„æ’­
8021ï¼šIP
8057ï¼šIPv6
C021ï¼šLCP
C023ï¼šPAP
C223ï¼šCHAP
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;InformationåŸŸï¼šä¿¡æ¯åŸŸæœ€å¤§é•¿åº¦æ˜¯1500å­—èŠ‚ï¼Œå…¶ä¸­åŒ…æ‹¬å¡«å……åŸŸçš„å†…å®¹ã€‚ä¿¡æ¯åŸŸçš„æœ€å¤§é•¿åº¦ç§°ä¸ºæœ€å¤§æ¥æ”¶å•å…ƒMRUï¼Œç¼ºçœå€¼ä¸º1500å­—èŠ‚ï¼Œåœ¨å®é™…åº”ç”¨å½“ä¸­å¯æ ¹æ®å®é™…éœ€è¦è¿›è¡ŒMRUçš„åå•†ã€‚&lt;/li&gt;
&lt;li&gt;FCSåŸŸï¼šå¯¹PPPæ•°æ®å¸§ä¼ è¾“çš„æ­£ç¡®æ€§è¿›è¡Œæ£€æµ‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lcpæŠ¥æ–‡&#34;&gt;LCPæŠ¥æ–‡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CodeåŸŸï¼šä»£ç åŸŸçš„é•¿åº¦ä¸º1ä¸ªå­—èŠ‚ï¼Œä¸»è¦æ˜¯ç”¨æ¥æ ‡è¯†LCPæ•°æ®æŠ¥æ–‡çš„ç±»å‹ã€‚&lt;br&gt;
åœ¨é“¾è·¯å»ºç«‹é˜¶æ®µï¼Œæ¥æ”¶æ–¹æ¥æ”¶åˆ°LCPæ•°æ®æŠ¥æ–‡ã€‚å½“å…¶ä»£ç åŸŸçš„å€¼æ— æ•ˆæ—¶ï¼Œå°±ä¼šå‘å¯¹ç«¯å‘é€ä¸€ä¸ªLCPçš„ä»£ç æ‹’ç»æŠ¥æ–‡ï¼ˆCode-RejectæŠ¥æ–‡ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;å¸¸è§codeå€¼ï¼š
0x01ï¼šConfigure-Requestï¼ŒåŒ…å«å‘é€è€…è¯•å›¾ä½¿ç”¨çš„ã€æ²¡æœ‰ä½¿ç”¨é»˜è®¤å€¼çš„å‚æ•°åˆ—è¡¨ã€‚3ç§’é‡ä¼ æ—¶é—´å†…æœªæ”¶åˆ°Configure-Ackï¼Œåˆ™é‡ä¼ Configure-Requestï¼Œæœ€å¤šè¿ç»­é‡ä¼ 10æ¬¡ï¼Œ10æ¬¡ä¹‹åé‡æ–°å»ºç«‹ã€‚
0x02ï¼šConfigure-Ackï¼Œè¡¨ç¤ºå®Œå…¨æ¥å—å¯¹ç«¯å‘é€çš„Configure-Requestçš„å‚æ•°å–å€¼
0x03ï¼šConfigure-Nakï¼Œè¡¨ç¤ºå¯¹ç«¯å‘é€çš„Configure-Requestä¸­çš„å‚æ•°å–å€¼åœ¨æœ¬åœ°ä¸åˆæ³•
0x04ï¼šConfigure-Rejectï¼Œè¡¨ç¤ºå¯¹ç«¯å‘é€çš„Configure-Requestä¸­çš„å‚æ•°æœ¬åœ°ä¸èƒ½è¯†åˆ«

0x05ï¼šTerminate-Requestï¼Œç”¨äºè¯·æ±‚å¯¹ç«¯å…³é—­è¿æ¥ã€‚3ç§’é‡ä¼ æ—¶é—´å†…æœªæ”¶åˆ°Terminate-Ackï¼Œåˆ™é‡ä¼ Terminate-Requestï¼Œæœ€å¤šè¿ç»­é‡ä¼ 2æ¬¡ï¼Œ2æ¬¡ä¹‹åè®¤ä¸ºå¯¹ç«¯ä¸å¯ç”¨ï¼Œè¿æ¥å…³é—­ã€‚
0x06ï¼šTerminate-Ack

0x09ï¼šEcho-Requestï¼ŒLCPå»ºç«‹è¿æ¥ä¹‹åï¼Œä½¿ç”¨Echo-Requestå’ŒEcho-Replyæ£€æµ‹é“¾è·¯çŠ¶æ€ï¼Œ10ç§’å‘é€ä¸€æ¬¡Echo-Request
0x0Aï¼šEcho-Reply
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;IdentifieråŸŸï¼šæ ‡è¯†åŸŸä¸º1ä¸ªå­—èŠ‚ï¼Œç”¨æ¥åŒ¹é…è¯·æ±‚å’Œå“åº”ï¼Œå½“æ ‡è¯†åŸŸå€¼ä¸ºéæ³•æ—¶ï¼Œè¯¥æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;strong&gt;é€šå¸¸ä¸€ä¸ªé…ç½®è¯·æ±‚æŠ¥æ–‡çš„IDæ˜¯ä»0x01å¼€å§‹é€æ­¥åŠ 1çš„&lt;/strong&gt;ã€‚å½“å¯¹ç«¯æ¥æ”¶åˆ°è¯¥é…ç½®è¯·æ±‚æŠ¥æ–‡åï¼Œæ— è®ºä½¿ç”¨ä½•ç§æŠ¥æ–‡å›åº”å¯¹æ–¹ï¼Œä½†å¿…é¡»è¦æ±‚&lt;strong&gt;å›åº”æŠ¥æ–‡ä¸­çš„IDè¦ä¸æ¥æ”¶æŠ¥æ–‡ä¸­çš„IDä¸€è‡´&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;LengthåŸŸï¼šé•¿åº¦åŸŸçš„å€¼å°±æ˜¯&lt;strong&gt;è¯¥LCPæŠ¥æ–‡çš„æ€»å­—èŠ‚æ•°æ®&lt;/strong&gt;ã€‚å®ƒæ˜¯ä»£ç åŸŸã€æ ‡å¿—åŸŸã€é•¿åº¦åŸŸå’Œæ•°æ®åŸŸå››ä¸ªåŸŸé•¿åº¦çš„æ€»å’Œã€‚&lt;br&gt;
é•¿åº¦åŸŸæ‰€æŒ‡ç¤ºå­—èŠ‚æ•°ä¹‹å¤–çš„å­—èŠ‚å°†è¢«å½“ä½œå¡«å……å­—èŠ‚è€Œå¿½ç•¥æ‰ï¼Œè€Œä¸”è¯¥åŸŸçš„å†…å®¹ä¸èƒ½è¶…è¿‡MRUçš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;DataåŸŸï¼šæ•°æ®åŸŸæ‰€åŒ…å«çš„æ˜¯åå•†æŠ¥æ–‡çš„å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹åŒ…å«ä»¥ä¸‹å­—æ®µï¼š&lt;br&gt;
Typeä¸ºåå•†é€‰é¡¹ç±»å‹ã€‚Lengthä¸ºåå•†é€‰é¡¹é•¿åº¦ï¼Œå®ƒæ˜¯æŒ‡DataåŸŸçš„æ€»é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯åŒ…å«Typeã€Lengthå’ŒDataã€‚Dataä¸ºåå•†çš„é€‰é¡¹å…·ä½“å†…å®¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ncpæŠ¥æ–‡&#34;&gt;NCPæŠ¥æ–‡&lt;/h3&gt;
&lt;p&gt;æ­¤éƒ¨åˆ†å’ŒLCPåŸºæœ¬ä¸€è‡´&lt;br&gt;
IPCPï¼Œç”¨äºåå•†æ§åˆ¶IPå‚æ•°ï¼Œä½¿PPPå¯ç”¨äºä¼ è¾“IPæ•°æ®åŒ…ã€‚IPCPä½¿ç”¨å’ŒLCPç›¸åŒçš„åå•†æœºåˆ¶ã€æŠ¥æ–‡ç±»å‹ï¼Œä½†IPCPå¹¶éè°ƒç”¨LCPï¼Œåªæ˜¯å·¥ä½œè¿‡ç¨‹ã€æŠ¥æ–‡ç­‰å’ŒLCPç›¸åŒã€‚&lt;/p&gt;
&lt;h2 id=&#34;å·¥ä½œé˜¶æ®µä¸èƒ½å«çŠ¶æ€æœº&#34;&gt;å·¥ä½œé˜¶æ®µï¼ˆä¸èƒ½å«çŠ¶æ€æœºï¼‰&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ã€æ³¨æ„ã€‘&lt;/strong&gt;ï¼šæ­¤å¤„åˆ—å‡ºçš„æ˜¯PPPçš„å·¥ä½œé˜¶æ®µï¼Œå¹¶éPPPçš„åè®®çŠ¶æ€ï¼Œç”±äºPPPæ˜¯ç”±ä¸€ç»„åè®®ç»„æˆçš„ï¼Œå› æ­¤PPPæœ¬èº«æ²¡æœ‰åè®®çŠ¶æ€ï¼Œåªæœ‰ç‰¹å®šçš„åè®®å¦‚LCPå’ŒNCPç­‰æ‰æœ‰åè®®çŠ¶æ€å’ŒçŠ¶æ€è½¬æ¢ï¼ˆåè®®çŠ¶æ€æœºï¼‰ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Deadï¼šè¿™æ˜¯PPPå·¥ä½œçš„å¼€å§‹å’Œç»“æŸçš„é˜¶æ®µã€‚&lt;br&gt;
å½“ç‰©ç†å±‚å˜ä¸ºå¯ç”¨çŠ¶æ€ä¹‹åï¼ŒPPPè¿›å…¥EstablishçŠ¶æ€&lt;/li&gt;
&lt;li&gt;Establishï¼šPPPåœ¨æ­¤é˜¶æ®µä½¿ç”¨LCPåå•†é“¾è·¯å±‚å‚æ•°ã€‚&lt;br&gt;
é“¾è·¯å±‚å‚æ•°åå•†ä¸æˆåŠŸåˆ™PPPè¿æ¥å»ºç«‹ä¸æˆåŠŸï¼ŒPPPé€€å›åˆ°Deadé˜¶æ®µï¼›é“¾è·¯å±‚å‚æ•°åå•†æˆåŠŸåˆ™PPPè¿›å…¥Authenticateé˜¶æ®µ&lt;/li&gt;
&lt;li&gt;Authenticateé˜¶æ®µï¼šPPPåœ¨æ­¤é˜¶æ®µè®¤è¯å¯¹ç«¯ï¼Œå¤±è´¥åˆ™è¿›å…¥Terminateé˜¶æ®µï¼ŒæˆåŠŸæˆ–è€…æ²¡æœ‰è®¤è¯åˆ™è¿›å…¥Networké˜¶æ®µ&lt;/li&gt;
&lt;li&gt;Networkï¼šPPPåœ¨æ­¤é˜¶æ®µä½¿ç”¨NCPåå•†ç½‘ç»œå±‚å‚æ•°ã€‚&lt;br&gt;
åå•†æˆåŠŸåˆ™PPPè¿æ¥å»ºç«‹æˆåŠŸï¼Œå¼€å§‹ä¼ è¾“ç½‘ç»œå±‚æ•°æ®åŒ…ã€‚å½“ä¸Šå±‚åè®®è®¤ä¸ºåº”å½“å…³é—­æ­¤è¿æ¥æˆ–è€…ç®¡ç†å‘˜æ‰‹åŠ¨å…³é—­PPPé“¾æ¥ï¼Œåˆ™PPPè¿›å…¥Terminateé˜¶æ®µ&lt;/li&gt;
&lt;li&gt;Terminateï¼šPPPåœ¨æ­¤é˜¶æ®µä½¿ç”¨LCPå…³é—­PPPè¿æ¥ã€‚&lt;br&gt;
PPPè¿æ¥å…³é—­åï¼ŒPPPè¿›å…¥Deadé˜¶æ®µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å»ºé“¾è¿‡ç¨‹&#34;&gt;å»ºé“¾è¿‡ç¨‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610795517606.png&#34; alt=&#34;å»ºé“¾è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;PPPåè®®è¿è¡Œæ€»æ˜¯ä»¥Deadé˜¶æ®µå¼€å§‹å’Œç»“æŸã€‚é€šå¸¸å¤„åœ¨è¿™ä¸ªçŠ¶æ€çš„æ—¶é—´å¾ˆçŸ­ï¼Œä»…ä»…æ˜¯æ£€æµ‹åˆ°ç¡¬ä»¶è®¾å¤‡åï¼ˆå³ç¡¬ä»¶è¿æ¥çŠ¶æ€ä¸ºUpï¼‰å°±è¿›å…¥Establishé˜¶æ®µã€‚&lt;/li&gt;
&lt;li&gt;åœ¨Establishé˜¶æ®µï¼ŒPPPé“¾è·¯è¿›è¡ŒLCPåå•†ã€‚åå•†å†…å®¹åŒ…æ‹¬æœ€å¤§æ¥æ”¶å•å…ƒMRUã€è®¤è¯åè®®ã€é­”æœ¯å­—ï¼ˆé˜²ç¯ï¼‰ã€åè®®å­—æ®µå‹ç¼©ã€å¤šé“¾è·¯æ†ç»‘ã€é“¾è·¯è´¨é‡ç›‘æ§ã€åœ°å€å’Œæ§åˆ¶å­—æ®µå‹ç¼©ç­‰é€‰é¡¹ã€‚LCPåå•†æˆåŠŸåè¿›å…¥OpenedçŠ¶æ€ï¼Œè¡¨ç¤ºåº•å±‚é“¾è·¯å·²ç»å»ºç«‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœé…ç½®äº†éªŒè¯ï¼Œå°†è¿›å…¥Authenticateé˜¶æ®µï¼Œå¼€å§‹CHAPæˆ–PAPéªŒè¯ã€‚å¦‚æœæ²¡æœ‰é…ç½®éªŒè¯ï¼Œåˆ™ç›´æ¥è¿›å…¥Networké˜¶æ®µã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºAuthenticateé˜¶æ®µï¼Œå¦‚æœéªŒè¯å¤±è´¥ï¼Œè¿›å…¥Terminateé˜¶æ®µï¼Œæ‹†é™¤é“¾è·¯ï¼ŒLCPçŠ¶æ€è½¬ä¸ºClosedã€‚å¦‚æœéªŒè¯æˆåŠŸï¼Œè¿›å…¥Networké˜¶æ®µï¼Œæ­¤æ—¶LCPçŠ¶æ€ä»ä¸ºOpenedï¼Œè€ŒNCPçŠ¶æ€ä»Initialè½¬åˆ°Startingã€‚&lt;/li&gt;
&lt;li&gt;åœ¨Networké˜¶æ®µï¼ŒPPPé“¾è·¯è¿›è¡ŒNCPåå•†ï¼ŒNCPåå•†åŒ…æ‹¬IPCPï¼ˆIP Control Protocolï¼‰ã€MPLSCPï¼ˆMPLS Control Protocolï¼‰ç­‰åå•†ã€‚IPCPåå•†ä¸»è¦åŒ…æ‹¬åŒæ–¹çš„IPåœ°å€ã€‚é€šè¿‡NCPåå•†æ¥é€‰æ‹©å’Œé…ç½®ä¸€ä¸ªç½‘ç»œå±‚åè®®ã€‚åªæœ‰ç›¸åº”çš„ç½‘ç»œå±‚åè®®åå•†æˆåŠŸåï¼ˆç›¸åº”åè®®çš„NCPåå•†çŠ¶æ€ä¸ºOpenedï¼‰ï¼Œè¯¥ç½‘ç»œå±‚åè®®æ‰å¯ä»¥é€šè¿‡è¿™æ¡PPPé“¾è·¯å‘é€æŠ¥æ–‡ã€‚ä¾‹å¦‚ï¼šIPCPåå•†é€šè¿‡åï¼Œè¿™æ¡PPPé“¾è·¯æ‰å¯ä»¥æ‰¿è½½IPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;PPPè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶ä¸­æ–­è¿æ¥ï¼Œç‰©ç†é“¾è·¯æ–­å¼€ã€è®¤è¯å¤±è´¥ã€è¶…æ—¶å®šæ—¶å™¨æ—¶é—´åˆ°ã€ç®¡ç†å‘˜é€šè¿‡é…ç½®å…³é—­è¿æ¥ç­‰åŠ¨ä½œéƒ½å¯èƒ½å¯¼è‡´è¿›å…¥é“¾è·¯è¿›å…¥Terminateé˜¶æ®µã€‚è¿›å…¥Terminateé˜¶æ®µåä¸”èµ„æºé‡Šæ”¾å®Œï¼Œå³è¿›å…¥Deadé˜¶æ®µã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lcpåå•†&#34;&gt;LCPåå•†&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611391971933.png&#34; alt=&#34;LCPåå•†&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ncpåå•†&#34;&gt;NCPåå•†&lt;/h3&gt;
&lt;p&gt;åå•†ç½‘ç»œå±‚å‚æ•°ä½¿ç”¨&lt;strong&gt;IPCPåå•†&lt;/strong&gt;ï¼Œåˆ†ä¸ºé™æ€åå•†IPåœ°å€ï¼ˆäº’æ¨åœ°å€ï¼‰ã€åŠ¨æ€åå•†IPåœ°å€ï¼ˆè·å¾—åœ°å€ï¼‰&lt;/p&gt;
&lt;h4 id=&#34;é™æ€åå•†ipåœ°å€äº’æ¨åœ°å€&#34;&gt;é™æ€åå•†IPåœ°å€(äº’æ¨åœ°å€)&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611392549998.jpg&#34; alt=&#34;äº’æ¨åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R1å…ˆå‘R2å‘é€configure-Requestï¼Œé‡Œé¢æœ‰ä¸ªå­—æ®µå°±æ˜¯æ¥å£çš„IPåœ°å€ï¼Œä¸å¸¦æ©ç ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å¯¹ç«¯æ”¶åˆ°åï¼Œå¦‚æœè®¤ä¸ºè¿™ä¸ªåœ°å€åˆæ³•çš„ï¼ˆåœ°å€ä¸å†²çªä¸”é0.0.0.0ï¼‰å°±å›å¤ACKï¼Œå›å¤ ACK çš„åŒæ—¶æŠŠ 12.1.1.1ä»¥ä¸€ä¸ª32ä½ä¸»æœºè·¯ç”±æ·»åŠ åˆ°IGPè¡¨é‡Œå»ï¼ŒR2éœ€è¦ping 12.1.1.1çš„æ—¶å€™ï¼Œç›´æ¥ä»æ¥å£è½¬ã€‚&lt;code&gt;è¿™å°±æ˜¯PPPé“¾è·¯ä¸åœ¨åŒä¸€ä¸ªæ®µé‡Œä¹Ÿèƒ½é€šä¿¡çš„åŸå› &lt;/code&gt;&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°Requeståå°±è¿›å…¥NCPçš„Openï¼ŒR2 ä¹Ÿä¼šæŠŠåœ°å€æ¨ç»™ R1ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åŠ¨æ€åå•†ipåœ°å€è·å¾—åœ°å€&#34;&gt;åŠ¨æ€åå•†IPåœ°å€(è·å¾—åœ°å€)&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1611392800674.jpg&#34; alt=&#34;åŠ¨æ€åå•†IPåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;R1æ¥å£ä¸é…IPåœ°å€ï¼Œéœ€è¦æ•²ä¸€æ¡æŒ‡ä»¤ï¼Œ&lt;code&gt;ip address ppp-negotiate&lt;/code&gt;æ‰ä¼šå‘é€configure-Requestï¼Œå› ä¸ºæ¥å£æ²¡æœ‰åœ°å€ï¼Œæ‰€ä»¥åœ°å€å­—æ®µä¼šå¡«å……ä¸º0.0.0.0&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°Requestå&lt;strong&gt;å›å¤NAK&lt;/strong&gt;ï¼ŒNAKä¸­ä¼šåŒ…å«åˆ†é…ç»™å¯¹æ–¹çš„åœ°å€ï¼Œ è¿™å°±éœ€è¦åœ¨è¢«è®¤è¯æ–¹é…ç½®ä¸€æ¡ &lt;code&gt;remote address x.x.x.x ï¼›ppp ipcp remote-address forced&lt;/code&gt; å¯ä»¥è·Ÿä¸€ä¸ªé™æ€çš„IPï¼Œä¹Ÿå¯ä»¥è·Ÿä¸€ä¸ªdhcp poolï¼ŒR1æ”¶åˆ°åä¼šé‡æ–°å‘é€ Requestï¼Œåœ°å€å˜ä¸ºä¹‹å‰åˆ†é…çš„åœ°å€ï¼Œå¯¹ç«¯ä¼šé€ACKï¼Œè¿™ä¸ªè¿‡ç¨‹R2ä¹Ÿä¼šç»™R1å‘ï¼Œç„¶åè¿›å…¥OpençŠ¶æ€&lt;br&gt;
&lt;code&gt;NAKåˆ†é…åœ°å€ä¹‹åï¼Œæ¥ä¸‹æ¥çš„é˜¶æ®µå’Œé™æ€åå•†IPåœ°å€è¿‡ç¨‹ç›¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®¤è¯&#34;&gt;è®¤è¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;PAPæ˜¯ç”±è¢«è®¤è¯ç«¯å‘è¯·æ±‚ï¼ŒCHAPæ˜¯ç”±è®¤è¯ç«¯å‘è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æ¥å£ä¸‹é…ç½®&lt;code&gt;ppp mode PAP/CHAP&lt;/code&gt;çš„ä¸º&lt;strong&gt;è®¤è¯æ–¹&lt;/strong&gt;ï¼Œé…ç½®&lt;code&gt;ppp PAP/CHAP username&lt;/code&gt;ä¸ºè¢«è®¤è¯æ–¹&lt;code&gt;é…ç½®åœ¨ç‰©ç†æ¥å£æˆ–è€…AAAä¸­&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹æ˜¯æ¥å£ä¼˜å…ˆï¼Œæ¥å£æ²¡æœ‰é…ç½®ç”¨æˆ·æˆ–å¯†ç ï¼Œå†æŸ¥å…¨å±€ï¼›&lt;strong&gt;è®¤è¯æ–¹åªä½¿ç”¨å…¨å±€ç”¨æˆ·åå’Œå¯†ç &lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;papè®¤è¯å¯†ç è®¤è¯åè®®password-authentication-protocol&#34;&gt;PAPè®¤è¯ï¼ˆå¯†ç è®¤è¯åè®®ï¼ŒPassword Authentication Protocolï¼‰&lt;/h3&gt;
&lt;p&gt;PAPéªŒè¯åè®®ä¸º&lt;strong&gt;ä¸¤æ¬¡æ¡æ‰‹éªŒè¯&lt;/strong&gt;ï¼Œå£ä»¤ä¸º&lt;strong&gt;æ˜æ–‡&lt;/strong&gt;ã€‚éªŒè¯è¿‡ç¨‹&lt;strong&gt;ä»…åœ¨é“¾è·¯åˆå§‹å»ºç«‹é˜¶æ®µè¿›è¡Œ&lt;/strong&gt;ã€‚&lt;br&gt;
å½“é“¾è·¯å»ºç«‹é˜¶æ®µç»“æŸåï¼Œç”¨æˆ·åå’Œå¯†ç å°†ç”±è¢«éªŒè¯æ–¹é‡å¤åœ°åœ¨é“¾è·¯ä¸Šå‘é€ç»™éªŒè¯æ–¹ï¼Œç›´åˆ°éªŒè¯è¢«é€šè¿‡æˆ–è€…é“¾è·¯è¿æ¥ç»ˆæ­¢ã€‚&lt;br&gt;
å¦‚æœå¿…é¡»åœ¨è¿œç«¯ä¸»æœºä¸Šä½¿ç”¨æ˜æ–‡å¯†ç è¿›è¡Œæ¨¡æ‹Ÿç™»å½•ï¼Œè¿™ç§éªŒè¯æ–¹å¼æ˜¯æœ€åˆé€‚çš„ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610800329875.png&#34; alt=&#34;PAPè®¤è¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¢«éªŒè¯æ–¹æŠŠæœ¬åœ°ç”¨æˆ·åå’Œå£ä»¤å‘é€åˆ°éªŒè¯æ–¹ï¼ŒéªŒè¯æ–¹æ ¹æ®æœ¬åœ°ç”¨æˆ·è¡¨æŸ¥çœ‹æ˜¯å¦æœ‰è¢«éªŒè¯æ–¹çš„ç”¨æˆ·åä»¥åŠå£ä»¤æ˜¯å¦æ­£ç¡®ï¼Œç„¶åè¿”å›ä¸åŒçš„å“åº”ï¼ˆæ¥å—æˆ–æ‹’ç»ï¼‰ã€‚&lt;br&gt;
PAPä¸æ˜¯ä¸€ç§å®‰å…¨çš„éªŒè¯åè®®ã€‚å½“éªŒè¯æ—¶ï¼Œå£ä»¤ä»¥æ˜æ–‡æ–¹å¼åœ¨é“¾è·¯ä¸Šå‘é€ï¼Œå¹¶ä¸”ç”±äºå®ŒæˆPPPé“¾è·¯å»ºç«‹åï¼Œè¢«éªŒè¯æ–¹ä¼šä¸åœåœ°åœ¨é“¾è·¯ä¸Šåå¤å‘é€ç”¨æˆ·åå’Œå£ä»¤ï¼Œç›´åˆ°èº«ä»½éªŒè¯è¿‡ç¨‹ç»“æŸï¼Œæ‰€ä»¥&lt;strong&gt;ä¸èƒ½é˜²æ­¢æ”»å‡»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;papéªŒè¯æŠ¥æ–‡å¸§æ ¼å¼&#34;&gt;PAPéªŒè¯æŠ¥æ–‡å¸§æ ¼å¼&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610800788192.png&#34; alt=&#34;PAPéªŒè¯æŠ¥æ–‡å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Codeï¼šæ ‡è¯†PAPæ•°æ®æŠ¥çš„ç±»å‹
&lt;ul&gt;
&lt;li&gt;1è¡¨ç¤ºæ˜¯Authenticate-RequestæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;2è¡¨ç¤ºæ˜¯Authenticate-AckæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;3è¡¨ç¤ºæ˜¯Authenticate-NakæŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Identifierï¼šæ ‡è¯†è¯·æ±‚æŠ¥æ–‡å’Œåº”ç­”æŠ¥æ–‡çš„åŒ¹é…ã€‚&lt;/li&gt;
&lt;li&gt;Lengthï¼šè¡¨ç¤ºåŒ…æ‹¬Codeã€Identifierã€Lengthå’ŒDataåŸŸåœ¨å†…çš„PAPæŠ¥æ–‡é•¿åº¦ã€‚è¶…å‡ºæ­¤é•¿åº¦çš„æŠ¥æ–‡å°†è¢«è®¤ä¸ºæ˜¯å¡«å……å­—èŠ‚å¹¶è¢«ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;Dataï¼šDataåŸŸçš„å¸§ç”±CodeåŸŸæ¥å†³å®š&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;Authenticate-Request&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610802162354.png&#34; alt=&#34;Authenticate-Request&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;Authenticate-Ackå’ŒAuthenticate-Nak&lt;br&gt;
å¦‚æœåœ¨éªŒè¯-è¯·æ±‚æŠ¥æ–‡ä¸­çš„ç”¨æˆ·åå’Œå¯†ç éƒ½èƒ½è¢«éªŒè¯æ–¹éªŒè¯é€šè¿‡ï¼ŒéªŒè¯æ–¹å¿…é¡»è¿”å›Codeå€¼æ˜¯2çš„Authenticate-AckæŠ¥æ–‡ï¼Œè¡¨ç¤ºéªŒè¯é€šè¿‡ã€‚&lt;br&gt;
å¦‚æœéªŒè¯-è¯·æ±‚æŠ¥æ–‡ä¸­ç”¨æˆ·åæˆ–å¯†ç æœ‰ä¸€é¡¹æ²¡æœ‰é€šè¿‡éªŒè¯ï¼ŒéªŒè¯æ–¹å¿…é¡»è¿”å›Codeå€¼æ˜¯3çš„Authenticate-NakæŠ¥æ–‡ï¼Œè¡¨ç¤ºéªŒè¯å¤±è´¥ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610802240353.png&#34; alt=&#34;Authenticate-Ackå’ŒAuthenticate-Nak&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;chapè®¤è¯æŒ‘æˆ˜æ¡æ‰‹è®¤è¯åè®®challenge-handshake-authentication-protocol&#34;&gt;CHAPè®¤è¯ï¼ˆæŒ‘æˆ˜æ¡æ‰‹è®¤è¯åè®®ï¼ŒChallenge Handshake Authentication Protocolï¼‰&lt;/h3&gt;
&lt;p&gt;CHAPéªŒè¯åè®®ä¸º&lt;strong&gt;ä¸‰æ¬¡æ¡æ‰‹&lt;/strong&gt;éªŒè¯åè®®ã€‚å®ƒ&lt;strong&gt;åªåœ¨ç½‘ç»œä¸Šä¼ è¾“ç”¨æˆ·å&lt;/strong&gt;ï¼Œè€Œå¹¶ä¸ä¼ è¾“ç”¨æˆ·å¯†ç ï¼Œå› æ­¤å®‰å…¨æ€§è¦æ¯”PAPé«˜ã€‚CHAPåè®®æ˜¯åœ¨é“¾è·¯å»ºç«‹çš„å¼€å§‹å°±å®Œæˆçš„ã€‚åœ¨é“¾è·¯å»ºç«‹å®Œæˆåçš„ä»»ä½•æ—¶é—´éƒ½å¯ä»¥é‡å¤å‘é€è¿›è¡Œå†éªŒè¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610802351851.png&#34; alt=&#34;CHAPè®¤è¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
CHAPå•å‘éªŒè¯æ˜¯æŒ‡ä¸€ç«¯ä½œä¸ºéªŒè¯æ–¹ï¼Œå¦ä¸€ç«¯ä½œä¸ºè¢«éªŒè¯æ–¹ã€‚åŒå‘éªŒè¯æ˜¯å•å‘éªŒè¯çš„ç®€å•å åŠ ï¼Œå³ä¸¤ç«¯éƒ½æ˜¯æ—¢ä½œä¸ºéªŒè¯æ–¹åˆä½œä¸ºè¢«éªŒè¯æ–¹ã€‚åœ¨å®é™…åº”ç”¨ä¸­&lt;strong&gt;ä¸€èˆ¬åªé‡‡ç”¨å•å‘éªŒè¯&lt;/strong&gt;ã€‚&lt;br&gt;
CHAPå•å‘éªŒè¯è¿‡ç¨‹åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šéªŒè¯æ–¹é…ç½®äº†ç”¨æˆ·åå’ŒéªŒè¯æ–¹æ²¡æœ‰é…ç½®ç”¨æˆ·åã€‚æ¨èä½¿ç”¨éªŒè¯æ–¹é…ç½®ç”¨æˆ·åçš„æ–¹å¼ï¼Œè¿™æ ·å¯ä»¥å¯¹éªŒè¯æ–¹çš„ç”¨æˆ·åè¿›è¡Œç¡®è®¤ã€‚&lt;br&gt;
&lt;strong&gt;è®¤è¯æ–¹çš„æŠ¥æ–‡æ ¹æ®é…ç½®æƒ…å†µä¸åŒä¼šæœ‰æ‰€æ”¹å˜ï¼Œä½†æ˜¯è¢«è®¤è¯æ–¹åªæœ‰ä¸€ç§æŠ¥æ–‡&lt;/strong&gt;&lt;code&gt;(ID+challengeå€¼+password)ä¸‰è€…çš„hash+ID+ç”¨æˆ·å&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éªŒè¯æ–¹&lt;strong&gt;é…ç½®äº†ç”¨æˆ·å&lt;/strong&gt;çš„éªŒè¯è¿‡ç¨‹
&lt;ol&gt;
&lt;li&gt;éªŒè¯æ–¹ä¸»åŠ¨å‘èµ·éªŒè¯è¯·æ±‚ï¼ŒéªŒè¯æ–¹å‘è¢«éªŒè¯æ–¹å‘é€ä¸€äº›éšæœºäº§ç”Ÿçš„æŠ¥æ–‡ï¼ˆChallengeæŠ¥æ–‡ï¼Œä¿æŠ¥æ–‡ä¸­æºå¸¦éšæœºå€¼ï¼‰ï¼Œå¹¶åŒæ—¶å°†æœ¬ç«¯çš„ç”¨æˆ·åé™„å¸¦ä¸Šä¸€èµ·å‘é€ç»™è¢«éªŒè¯æ–¹ã€‚&lt;code&gt;Challengeä½œç”¨ï¼š1.HASHï¼›2.æŠ—é‡æ”¾&lt;/code&gt;&lt;br&gt;
&lt;code&gt;éªŒè¯æ–¹--ç”¨æˆ·å+ID+challenge--&amp;gt;è¢«éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¢«éªŒè¯æ–¹æ¥åˆ°éªŒè¯æ–¹çš„éªŒè¯è¯·æ±‚åï¼Œå…ˆæ£€æŸ¥æœ¬ç«¯æ¥å£ä¸Šæ˜¯å¦é…ç½®äº†ppp chap passwordå‘½ä»¤ï¼Œ
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;strong&gt;é…ç½®äº†å¯†ç &lt;/strong&gt;ï¼Œåˆ™è¢«éªŒè¯æ–¹ç”¨æŠ¥æ–‡IDã€å‘½ä»¤ä¸­é…ç½®çš„ç”¨æˆ·å¯†ç å’ŒMD5ç®—æ³•å¯¹è¯¥éšæœºæŠ¥æ–‡è¿›è¡ŒåŠ å¯†ï¼Œå°†ç”Ÿæˆçš„å¯†æ–‡å’Œè‡ªå·±çš„ç”¨æˆ·åå‘å›éªŒè¯æ–¹ï¼ˆResponseï¼‰&lt;br&gt;
&lt;code&gt;è¢«éªŒè¯æ–¹--ï¼ˆID+å¯†ç +challengeï¼‰ä¸‰è€…çš„HASH+ID+ç”¨æˆ·å--&amp;gt;éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ¥å£ä¸Š&lt;strong&gt;æœªé…ç½®å¯†ç &lt;/strong&gt;ï¼Œåˆ™æ ¹æ®æ­¤æŠ¥æ–‡ä¸­éªŒè¯æ–¹çš„ç”¨æˆ·ååœ¨æœ¬ç«¯çš„ç”¨æˆ·è¡¨æŸ¥æ‰¾è¯¥ç”¨æˆ·å¯¹åº”çš„å¯†ç ï¼Œç”¨æŠ¥æ–‡IDã€æ­¤ç”¨æˆ·çš„å¯†é’¥ï¼ˆå¯†ç ï¼‰å’Œchallengeè¿›è¡ŒHASHï¼Œå°†ç”Ÿæˆçš„å¯†æ–‡å’Œè¢«éªŒè¯æ–¹è‡ªå·±çš„ç”¨æˆ·åå‘å›éªŒè¯æ–¹ï¼ˆResponseï¼‰&lt;br&gt;
&lt;code&gt;è¢«éªŒè¯æ–¹åœ¨ç”¨æˆ·è¡¨ä¸­æŸ¥æ‰¾éªŒè¯æ–¹ç”¨æˆ·å¯¹åº”çš„å¯†ç ï¼Œè¢«éªŒè¯æ–¹--ï¼ˆID+å¯†ç +challengeï¼‰ä¸‰è€…HASH+ID+æ¥å£ä¸‹ç”¨æˆ·å--&amp;gt;éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;éªŒè¯æ–¹ç”¨è‡ªå·±ä¿å­˜çš„è¢«éªŒè¯æ–¹å¯†ç å’ŒMD5ç®—æ³•å¯¹åŸéšæœºæŠ¥æ–‡åŠ å¯†ï¼Œæ¯”è¾ƒäºŒè€…çš„å¯†æ–‡ï¼Œæ ¹æ®æ¯”è¾ƒç»“æœè¿”å›ä¸åŒçš„å“åº”ã€‚&lt;br&gt;
&lt;code&gt;éªŒè¯æ–¹ï¼ˆåŒæ ·éœ€è¦åœ¨ç”¨æˆ·åˆ—è¡¨ä¸­æŸ¥æ‰¾éªŒè¯æ–¹å‘æ¥çš„ç”¨æˆ·åå¯¹åº”çš„å¯†ç ï¼‰--successæˆ–è€…fail--&amp;gt;è¢«éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;éªŒè¯æ–¹&lt;strong&gt;æ²¡æœ‰é…ç½®ç”¨æˆ·å&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;éªŒè¯æ–¹ä¸»åŠ¨å‘èµ·éªŒè¯è¯·æ±‚ï¼ŒéªŒè¯æ–¹å‘è¢«éªŒè¯æ–¹å‘é€ä¸€äº›éšæœºäº§ç”Ÿçš„æŠ¥æ–‡ï¼ˆChallengeï¼‰&lt;br&gt;
&lt;code&gt;éªŒè¯æ–¹--userï¼ˆç©ºï¼‰+ID+challengeå€¼--&amp;gt;è¢«éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¢«éªŒè¯æ–¹æ¥åˆ°éªŒè¯æ–¹çš„éªŒè¯è¯·æ±‚åï¼Œåˆ©ç”¨æŠ¥æ–‡IDã€ppp chap passwordå‘½ä»¤é…ç½®çš„CHAPå¯†ç å’ŒMD5ç®—æ³•å¯¹è¯¥éšæœºæŠ¥æ–‡è¿›è¡ŒåŠ å¯†ï¼Œå°†ç”Ÿæˆçš„å¯†æ–‡å’Œè‡ªå·±çš„ç”¨æˆ·åå‘å›éªŒè¯æ–¹ï¼ˆResponseï¼‰&lt;br&gt;
&lt;code&gt;è¢«éªŒè¯æ–¹--(ID+challengeå€¼+password)ä¸‰è€…çš„hash+ID+ç”¨æˆ·å--&amp;gt;éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;éªŒè¯æ–¹ç”¨è‡ªå·±ä¿å­˜çš„è¢«éªŒè¯æ–¹å¯†ç å’ŒMD5ç®—æ³•å¯¹åŸéšæœºæŠ¥æ–‡åŠ å¯†ï¼Œæ¯”è¾ƒäºŒè€…çš„å¯†æ–‡ï¼Œæ ¹æ®æ¯”è¾ƒç»“æœè¿”å›ä¸åŒçš„å“åº”ã€‚&lt;br&gt;
&lt;code&gt;éªŒè¯æ–¹--successæˆ–è€…fail--&amp;gt;è¢«éªŒè¯æ–¹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;chapçš„3ç§è®¤è¯æ–¹å¼é…ç½®æ€»ç»“&#34;&gt;CHAPçš„3ç§è®¤è¯æ–¹å¼é…ç½®æ€»ç»“&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;è®¤è¯æ–¹å¿…é¡»é…ç½®AAAå’Œè®¤è¯æ¨¡å¼ï¼Œè¢«è®¤è¯æ–¹å¿…é¡»åœ¨æ¥å£ä¸‹é…ç½®ç”¨æˆ·å&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¤è¯æ–¹æ¥å£ä¸‹é…ç½®ç”¨æˆ·å&lt;br&gt;
&lt;code&gt;é…ç½®çš„ç”¨æˆ·åä»…ä»…åªæ˜¯å‘é€ç»™è¢«è®¤è¯æ–¹ï¼Œè¢«è®¤è¯æ–¹åœ¨æ²¡æœ‰é…ç½®æ¥å£çš„å¯†ç çš„æ—¶å€™æ‰ä¼šä½¿ç”¨åˆ°ï¼Œä½†æ˜¯æ ¡éªŒæ˜¯å¦é€šè¿‡æ˜¯æ ¹æ®è¢«è®¤è¯æ–¹æ¥å£ä¸‹é…ç½®çš„ç”¨æˆ·åå’Œè®¤è¯æ–¹çš„AAAä¸­çš„æ•°æ®&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹æ¥å£ä¸‹é…ç½®ç”¨æˆ·åå’Œ&lt;strong&gt;å¯†ç &lt;/strong&gt;ï¼Œäº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;è®¤è¯æ–¹å‘é€æ¥å£ä¸‹ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹å‘é€æ¥å£ä¸‹ç”¨æˆ·åå’Œå¯†ç &lt;/li&gt;
&lt;li&gt;è®¤è¯æ–¹æ ¹æ®è¢«è®¤è¯æ–¹çš„ç”¨æˆ·åï¼Œä½¿ç”¨AAAçš„æ•°æ®è¿›è¡Œæ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹æ¥å£ä¸‹åªé…ç½®ç”¨æˆ·åï¼Œäº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;è®¤è¯æ–¹è¿˜æ˜¯ä½¿ç”¨æ¥å£ä¸‹ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹æ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾AAAä¸­çš„å¯†ç ï¼Œç„¶åä½¿ç”¨æ¥å£ä¸‹çš„ç”¨æˆ·å&lt;code&gt;å³æœ¬åœ°æ¥å£ç”¨æˆ·åå’ŒAAAä¸­è®¤è¯æ–¹ç”¨æˆ·çš„å¯†ç ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·åå’Œå¯†ç æ˜¯æ— è”ç³»çš„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¤è¯æ–¹æ ¹æ®è¢«è®¤è¯æ–¹æ¥å£ä¸‹ç”¨æˆ·åæŸ¥æ‰¾AAAä¸­å¯†ç &lt;code&gt;å³éœ€è¦è®¤è¯æ–¹çš„ç”¨æˆ·åéœ€è¦åœ¨è¢«è®¤è¯æ–¹çš„AAAä¸­å­˜åœ¨ï¼Œè¢«è®¤è¯æ–¹çš„ç”¨æˆ·åéœ€è¦åœ¨è®¤è¯æ–¹çš„AAAä¸­å­˜åœ¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;è®¤è¯æ–¹æ¥å£ä¸‹æ²¡æœ‰é…ç½®ç”¨æˆ·å&lt;br&gt;
&lt;code&gt;æ­¤æ—¶è¢«è®¤è¯æ–¹æ¥å£ä¸‹å¿…é¡»é…ç½®ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦åˆ™æ— æ³•æ ¹æ®è®¤è¯æ–¹å‘æ¥çš„ä¿¡æ¯æ£€ç´¢åˆ°å¯†ç &lt;/code&gt;&lt;br&gt;
äº¤äº’æ­¥éª¤å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;è®¤è¯æ–¹ç”¨æˆ·åä¸ºç©º&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯æ–¹ä½¿ç”¨æ¥å£ä¸‹ç”¨æˆ·åå’Œå¯†ç &lt;/li&gt;
&lt;li&gt;è®¤è¯æ–¹åœ¨AAAä¸­è¿›è¡Œæ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;chapæŠ¥æ–‡&#34;&gt;CHAPæŠ¥æ–‡&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610805005794.png&#34; alt=&#34;CHAPæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Codeï¼šè¡¨ç¤ºCHAPæ•°æ®æŠ¥æ–‡çš„ç±»å‹
&lt;ul&gt;
&lt;li&gt;1è¡¨ç¤ºChallengeæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;2è¡¨ç¤ºResponseæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;3è¡¨ç¤ºSuccessæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;4è¡¨ç¤ºFailureæŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;ChallengeæŠ¥æ–‡å’ŒResponseæŠ¥æ–‡&lt;br&gt;
ç”¨æ¥å‘èµ·CHAPéªŒè¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610805171398.png&#34; alt=&#34;ChallengeæŠ¥æ–‡å’ŒResponseæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;SuccessæŠ¥æ–‡å’ŒFailureæŠ¥æ–‡&lt;br&gt;
éªŒè¯é€šè¿‡æˆ–éªŒè¯å¤±è´¥&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610805225702.png&#34; alt=&#34;SuccessæŠ¥æ–‡å’ŒFailureæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;pppåŒæ­¥ä¸å¼‚æ­¥&#34;&gt;PPPåŒæ­¥ä¸å¼‚æ­¥&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1610858666098.png&#34; alt=&#34;PPPåŒæ­¥ä¸å¼‚æ­¥&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ­¥ä¼ è¾“&lt;/strong&gt;æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½ä¼ è¾“æ•°æ®ï¼Œå¹¶ä¸”éœ€è¦é‡‡ç”¨é¢å¤–çš„èµ·å§‹ä½å’Œåœæ­¢ä½æ¥æ ‡è®°æ¯ä¸ªå­—èŠ‚çš„å¼€å§‹å’Œç»“æŸã€‚èµ·å§‹ä½ä¸ºäºŒè¿›åˆ¶0ï¼Œåœæ­¢ä½ä¸ºäºŒè¿›åˆ¶1ã€‚åœ¨è¿™ç§ä¼ è¾“æ¨¡å¼ä¸‹ï¼Œå¼€å§‹å’Œåœæ­¢ä½å æ®å‘é€æ•°æ®ç›¸å½“å¤§çš„æ¯”ä¾‹ï¼Œæ¯ä¸ªå­—èŠ‚çš„å‘é€éƒ½éœ€è¦é¢å¤–çš„å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ­¥ä¼ è¾“æ˜¯ä»¥å¸§ä¸ºå•ä½ï¼Œåœ¨é€šä¿¡æ—¶éœ€è¦ä½¿ç”¨æ—¶é’Ÿæ¥åŒæ­¥æœ¬ç«¯å’Œå¯¹ç«¯çš„è®¾å¤‡é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;bcpåè®®&#34;&gt;BCPåè®®&lt;/h2&gt;
&lt;p&gt;æ¡¥æ¥æ§åˆ¶åè®®ï¼Œå®ç°ä»¥å¤ªç½‘æ•°æ®å¸§åœ¨PPPé“¾è·¯ä¸Šä¼ è¾“&lt;br&gt;
å…ˆåå•†LCPï¼Œéœ€è¦ä¿è¯NCPå¯è¾¾ï¼Œå†åå•†BCP&lt;/p&gt;
&lt;h1 id=&#34;mpåŸºæœ¬åŸç†&#34;&gt;MPåŸºæœ¬åŸç†&lt;/h1&gt;
&lt;p&gt;Multilink PPPå…è®¸å°†æŠ¥æ–‡åˆ†ç‰‡ï¼Œåˆ†ç‰‡å°†ä»å¤šä¸ªç‚¹å¯¹ç‚¹é“¾è·¯ä¸Šé€åˆ°åŒä¸€ä¸ªç›®çš„åœ°ã€‚&lt;br&gt;
å¢åŠ å¸¦å®½ï¼Œå°†å¤šä¸ªPPPé“¾è·¯æ†ç»‘ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mpæ–¹å¼ä¸‹é“¾è·¯åå•†è¿‡ç¨‹&#34;&gt;MPæ–¹å¼ä¸‹é“¾è·¯åå•†è¿‡ç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;LCPé˜¶æ®µï¼Œä¹Ÿéœ€è¦éªŒè¯å¯¹ç«¯æ¥å£æ˜¯å¦å·¥ä½œåœ¨MPæ–¹å¼ä¸‹&lt;/li&gt;
&lt;li&gt;NCPé˜¶æ®µï¼Œæ ¹æ®MP-Groupæ¥å£æˆ–æŒ‡å®šè™šæ‹Ÿæ¥å£æ¨¡æ¿çš„å„é¡¹NCPå‚æ•°ï¼ˆå¦‚IPåœ°å€ç­‰ï¼‰è¿›è¡ŒNCPåå•†&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®ç°æ–¹å¼&#34;&gt;å®ç°æ–¹å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è™šæ‹Ÿæ¥å£æ¨¡æ¿æ¨¡å¼&lt;/li&gt;
&lt;li&gt;MP-Groupæ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;pppoe&#34;&gt;PPPoE&lt;/h1&gt;
&lt;p&gt;åœ¨ä»¥å¤ªç½‘ä¸Šé¢æ‰¿è½½PPP åè®®ï¼ŒPPPoE åè®®æä¾›äº†åœ¨ä»¥å¤ªç½‘ç½‘ç»œä¸­å¤šå°ä¸»æœºè¿æ¥åˆ°è¿œç«¯çš„å®½å¸¦æ¥å…¥æœåŠ¡å™¨ä¸Šçš„ä¸€ç§æ ‡å‡†ã€‚ä»¥å¤ªç½‘ä¸æ”¯æŒèº«ä»½è®¤è¯ã€åŠ å¯†ç­‰åŠŸèƒ½ï¼Œæ‰€ä»¥å°†PPPçš„ç‰¹ç‚¹èå…¥åˆ°ä»¥å¤ªç½‘ä¸­ã€‚&lt;br&gt;
&lt;code&gt;PPPoEè®¤è¯é…ç½®åœ¨æ˜¯VTå’Œdialeræ¥å£&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610861914640.png&#34; alt=&#34;PPPoE&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;æŠ¥æ–‡ç±»å‹&#34;&gt;æŠ¥æ–‡ç±»å‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¤´éƒ¨ï¼šä»¥å¤ªç½‘å°è£…çš„ï¼Œç›®çš„MACä¸€èˆ¬ä¸ºå¹¿æ’­æˆ–å•æ’­&lt;/li&gt;
&lt;li&gt;å­—æ®µï¼š
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬å·ã€ç±»å‹ã€ä»£ç è¡¨æ˜æ˜¯PPPoEæŠ¥æ–‡ï¼Œå¹¶è¡¨ç¤ºäº†æŠ¥æ–‡ç±»å‹&lt;/li&gt;
&lt;li&gt;ä¼šè¯IDï¼šä»¥å¤ªç½‘æºç›®MACå®šä¹‰äº†ä¸€ä¸ªPPPoEçš„ä¼šè¯&lt;/li&gt;
&lt;li&gt;é•¿åº¦ï¼šè¡¨æ˜PPPoEçš„è½½è·é•¿åº¦&lt;/li&gt;
&lt;li&gt;è½½è·ï¼šå†…éƒ¨æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;PPPoEæ‹¨å·å¯åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Discoveryå‘ç°é˜¶æ®µï¼šå‘ç°å¯¹æ–¹MACï¼Œç¡®å®šå”¯ä¸€çš„PPPoEä¼šè¯
&lt;ol&gt;
&lt;li&gt;PADI&lt;code&gt;PPPOE Active Discovery Initiation&lt;/code&gt;ï¼šåˆå§‹æŠ¥æ–‡ï¼Œå¹¿æ’­å‘é€ï¼Œä¸»æœºæ¢æµ‹PPPoEæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;PADO&lt;code&gt;PPPOE Active Discovery Offer&lt;/code&gt;ï¼šæä¾›æŠ¥æ–‡ï¼Œå•æ’­ï¼ŒæœåŠ¡å™¨æ”¶åˆ°æ¢æµ‹æŠ¥æ–‡å›åº”çš„&lt;/li&gt;
&lt;li&gt;PADR&lt;code&gt;PPPOE Active Discovery Request&lt;/code&gt;ï¼šè¯·æ±‚æŠ¥æ–‡ï¼Œå•æ’­ï¼Œä¸»æœºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚&lt;/li&gt;
&lt;li&gt;PADS&lt;code&gt;PPPOE Active Discovery Session-confirmation&lt;/code&gt;ï¼šä¼šè¯ç¡®è®¤æŠ¥æ–‡ï¼Œå•æ’­ï¼ŒæœåŠ¡å™¨å‘ä¸»æœºåˆ†é…ä¸€ä¸ªä¼šè¯IDï¼Œåé¢çš„ä¼šè¯å‡ä¸€ç›´ä½¿ç”¨æ­¤IDï¼Œé™¤éæ–­å¼€è¯¥é“¾æ¥&lt;br&gt;
&lt;code&gt;ä¸¾ä¾‹ï¼šå®¶ç”¨è·¯ç”±å™¨æ€§èƒ½æ¯”è¾ƒä½çš„æ—¶å€™ï¼Œé•¿æœŸå¼€æœºå¯¼è‡´ç½‘é€Ÿå˜æ…¢ï¼Œæˆ–è€…ä¸ºäº†é˜²è¾å°„ç­‰ç­‰åŸå› ï¼Œä¼šè®¾ç½®å®šæ—¶å¼€å…³æœºï¼Œæ¯æ¬¡å¼€æœºä¹‹åä¼šè¿›è¡Œé‡æ–°æ‹¨å·ï¼Œé‡æ–°æ‹¨å·ä¹‹åï¼Œä¼šè¯IDå°±ä¼šå˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Sessionä¼šè¯é˜¶æ®µï¼šè¿›è¡ŒPPPåå•†ï¼Œä¼ è¾“PPPæ•°æ®æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Terminateä¼šè¯ç»ˆæ­¢é˜¶æ®µï¼šä¼šè¯å»ºç«‹çš„ä»»æ„æ—¶åˆ»ï¼Œå¯ä»¥å‘é€ç»“æŸæŠ¥æ–‡å…³é—­ä¼šè¯
&lt;ol&gt;
&lt;li&gt;PADT&lt;code&gt;PPPOE Active Discovery Terminate&lt;/code&gt;ï¼šç»ˆæ­¢æŠ¥æ–‡ï¼Œå•æ’­ï¼Œä¸»æœºå‘æœåŠ¡å™¨å‘é€ï¼Œè¡¨ç¤ºæ–­å¼€ä¼šè¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610863435148.png&#34; alt=&#34;åŸºæœ¬åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;è·¯ç”±å™¨ä¸Šæ‹¨å·æ¥å£çš„MTUä¸º1492ï¼Œä¸ºä»€ä¹ˆï¼Ÿä»¥å¤ªç½‘æ‰¿è½½ï¼Œå…¶åè®®ç°‡ä¸ºethernet+pppoe+ppp+ip+payloadï¼Œå¤šäº†pppoeå’Œpppå¤´éƒ¨ï¼Œ6Bçš„pppoeå¤´éƒ¨ï¼ˆ1Bçš„ç‰ˆæœ¬å’Œç±»å‹+1Bçš„code+2Bçš„ä¼šè¯ID+2Bçš„é•¿åº¦ï¼‰ å’Œ 2Bçš„pppå¤´éƒ¨ï¼ˆåªæœ‰å¤´éƒ¨åè®®å­—æ®µï¼Œçœç•¥äº†0x7EFF03ï¼Œå³flag+address+controlï¼‰ã€‚ä¸ºä»€ä¹ˆçœç•¥flagï¼Ÿflagçš„ä½œç”¨æ˜¯æ ‡è¯†æŠ¥æ–‡çš„å¼€å§‹ä¸ç»“æŸï¼Œåœ¨pppoeä¸­å¯ä»¥ä½¿ç”¨é•¿åº¦å­—æ®µæ¥æ ‡è¯†å¼€å§‹ä¸ç»“æŸï¼Œæ‰€ä»¥flagå­—æ®µæ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é…ç½®æ­¥éª¤&#34;&gt;é…ç½®æ­¥éª¤&lt;/h2&gt;
&lt;p&gt;Virtual-templateä¸ºäº†L2å±‚åè®®çš„ä»¥å¤ªç½‘æ‰¿è½½PPPï¼Œå¯ä»¥å°è£…å¤šç§åŒå±‚åè®®çš„è™šæ‹Ÿæ¥å£&lt;br&gt;
dialerè™šæ‹Ÿæ‹¨å·æ¥å£ï¼šç”¨æ¥æ§åˆ¶æ‹¨å·çš„æ¥å£ï¼Œåœ¨è¿™ä¸ªæ¥å£ä¸‹é…ç½®å°è£…åè®®ã€‚pppè®¤è¯ã€ipåœ°å€è‡ªåŠ¨è·å¾—ã€dialeræ¥å£æ‹¨å·ä½¿ç”¨çš„ç”¨æˆ·åã€pppoeè¿æ¥å»ºç«‹çš„ç­‰å¾…æ—¶é—´ã€dialeræ‰€å±çš„ç»„ã€æŒ‡å®šdialeræ¥å£çš„ç¼–å·ã€natåœ°å€è½¬æ¢ç­‰ç­‰çš„é…ç½®ï¼Œéƒ½åœ¨æ˜¯è¯¥æ‹¨å·æ¥å£ä¸‹å®Œæˆçš„&lt;/p&gt;
&lt;h3 id=&#34;1-æœåŠ¡ç«¯é…ç½®&#34;&gt;1. æœåŠ¡ç«¯é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®dhcp server pool&lt;/li&gt;
&lt;li&gt;é…ç½®aaaä¸‹ç”¨æˆ·åã€å¯†ç ï¼ŒæœåŠ¡ç±»å‹ä¸ºPPP&lt;/li&gt;
&lt;li&gt;åˆ›å»ºVirtual-Templateæ¥å£ï¼Œé…ç½®ipåœ°å€ã€remoteåˆ†é…åœ°å€æ± ã€PPPè®¤è¯æ¨¡å¼&lt;/li&gt;
&lt;li&gt;ç‰©ç†æ¥å£è°ƒç”¨pppoe-server bind virtual-template&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;2-å®¢æˆ·ç«¯é…ç½®&#34;&gt;2. å®¢æˆ·ç«¯é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºdialeræ¥å£ï¼ˆåˆ›å»ºPPPoEçš„æ¥å£ï¼‰&lt;/li&gt;
&lt;li&gt;æ¥å£ä¸‹é…ç½®é“¾è·¯å°è£…åè®®pppï¼Œipåœ°å€ä¸ºPPPè‡ªåŠ¨åå•†ï¼ŒæŒ‡å®šdialeræ¥å£æ‹¨å·æ‰€ä½¿ç”¨çš„ç”¨æˆ·å’Œè®¤è¯æ–¹å¼ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è¿½é—®&#34;&gt;è¿½é—®&lt;/h1&gt;
&lt;h2 id=&#34;lcp-çš„ä½œç”¨&#34;&gt;LCP çš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;æ§åˆ¶é“¾è·¯çš„å»ºç«‹ï¼Œç»´æŠ¤ä¸æ‹†é™¤&lt;/p&gt;
&lt;h2 id=&#34;mru-çš„ä½œç”¨é­”æœ¯å­—çš„ä½œç”¨&#34;&gt;MRU çš„ä½œç”¨ï¼Œé­”æœ¯å­—çš„ä½œç”¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æœ€å¤§æ¥æ”¶å•å…ƒï¼Œæ§åˆ¶æŠ¥æ–‡çš„æœ€å¤§æ¥æ”¶å¤§å°ï¼Œä½œç”¨ä¸ MTU ä¸€æ ·ï¼Œåè°ƒæœ€å°çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;é­”æœ¯å­—çš„ä½œç”¨æ˜¯é˜²ç¯&lt;code&gt;å½“æ”¶åˆ°æŠ¥æ–‡çš„é­”æœ¯å­—ä¸å‘é€æŠ¥æ–‡çš„é­”æœ¯å­—ä¸€æ ·æ—¶å°±è®¤ä¸ºæœ‰ç¯è·¯ï¼Œæ­¤æ—¶ä¼šå›å¤ NAKï¼Œå¹¶æºå¸¦ä¸€ä¸ªæ–°çš„é­”æœ¯å­—&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¦‚ä½•åŒºåˆ†è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯lcp-é˜¶æ®µ&#34;&gt;å¦‚ä½•åŒºåˆ†è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯ï¼ˆLCP é˜¶æ®µï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®äº†authehtication-modeå‘½ä»¤çš„ä¸€ç«¯ä¸ºè®¤è¯ç«¯&lt;/li&gt;
&lt;li&gt;åœ¨LCPé˜¶æ®µåå•†è®¤è¯ç±»å‹æ—¶ï¼Œåªæœ‰è®¤è¯ç«¯æ‰ä¼šæºå¸¦è®¤è¯ç±»å‹ï¼Œè¢«è®¤è¯ç«¯ä¸ä¼šæºå¸¦&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®¤è¯ä¸­idçš„ä½œç”¨ä¸ºä»€ä¹ˆè¦è¿›è¡Œæ ‡è¯†&#34;&gt;è®¤è¯ä¸­IDçš„ä½œç”¨ï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œæ ‡è¯†&lt;/h2&gt;
&lt;p&gt;IDç”¨äºæ ‡è¯†ä¼šè¯ï¼Œå¹¶å‚ä¸HASHè¿ç®—ã€‚æ¯ä¸€æ¬¡çš„è®¤è¯é‡Œéƒ½æºå¸¦äº†ä¸èƒ½çš„éšæœºæ•°ï¼Œ éšæœºæ•°ä¹Ÿæ˜¯å‚ä¸HASHè¿ç®—çš„ä¸€ä¸ªå› å­ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨IDæ¥å…³è”ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æŒ‘æˆ˜æŠ¥æ–‡ä¸­çš„éšæœºæ•°çš„ä½œç”¨&#34;&gt;æŒ‘æˆ˜æŠ¥æ–‡ä¸­çš„éšæœºæ•°çš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;é˜²é‡æ”¾æ”»å‡»&lt;/code&gt;&lt;br&gt;
è®¾å¤‡ä¼šä¿å­˜ä¹‹å‰ä½¿ç”¨çš„éšæœºæ•°ï¼Œç¼ºç‚¹æ˜¯è®°å½•æ—¶é—´æ®µæ¯”è¾ƒé•¿çš„æƒ…å†µä¸‹ï¼Œåˆ™ä¿å­˜å’ŒæŸ¥è¯¢çš„å¼€é”€æ¯”è¾ƒå¤§&lt;br&gt;
&lt;code&gt;å¦‚æœå‘ç°æŠ¥æ–‡ä¸­æœ‰ä»¥å‰ä½¿ç”¨è¿‡çš„éšæœºæ•°ï¼Œå°±è®¤ä¸ºæ˜¯é‡æ”¾æ”»å‡»&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯å„è‡ªçš„å¯†ç å¦‚ä½•è·å¾—&#34;&gt;è®¤è¯ç«¯ä¸è¢«è®¤è¯ç«¯å„è‡ªçš„å¯†ç å¦‚ä½•è·å¾—&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è®¤è¯ç«¯ï¼šåªèƒ½åœ¨AAAä¸‹é¢é…ç½®ï¼Œé€šè¿‡è¢«è®¤è¯ç«¯å‘é€è¿‡æ¥çš„Responseæ¶ˆæ¯ä¸­çš„ç”¨æˆ·åæ‰¾åˆ°å…¨å±€AAAä¸‹é¢çš„å¯†ç ã€‚ä¸ä¼šä½¿ç”¨æ¥å£ä¸‹é¢çš„å¯†ç ã€‚&lt;/li&gt;
&lt;li&gt;è¢«è®¤è¯ç«¯ï¼šå¯åœ¨æ¥å£ä¸å…¨å±€ AAAä¸‹é¢é…ç½®ï¼Œæ¥å£ä¼˜äºå…¨å±€ã€‚å½“æ¥å£æ²¡æœ‰é…ç½®å¯†ç æ—¶ï¼Œ&lt;strong&gt;è®¤è¯ç«¯æ¥å£å¿…é¡»é…ç½®ç”¨æˆ·å&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;æ¨¡æ‹Ÿå™¨å®éªŒæ—¶ï¼šè¢«éªŒè¯æ–¹æ¥å£ä¸‹ç”¨æˆ·åå’ŒéªŒè¯æ–¹ç”¨æˆ·åä¸ä¸€è‡´æ—¶æ— æ³•æ­£å¸¸å»ºç«‹è¿æ¥ï¼Œåªæœ‰éªŒè¯æ–¹å’Œè¢«éªŒè¯æ–¹çš„AAAä¸­éƒ½æœ‰ç›¸åŒçš„ç”¨æˆ·ï¼Œä¸”åŒæ–¹æ¥å£ä¸‹å‡é…ç½®è¿™ä¸ªç”¨æˆ·çš„ç”¨æˆ·åæ—¶æ‰èƒ½æ­£å¸¸å»ºç«‹é‚»å±…&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è¢«è®¤è¯ç«¯ç”¨æˆ·åçš„ä½œç”¨è®¤è¯ç«¯å¯†ç çš„ä½œç”¨&#34;&gt;è¢«è®¤è¯ç«¯ç”¨æˆ·åçš„ä½œç”¨ï¼Ÿè®¤è¯ç«¯å¯†ç çš„ä½œç”¨ï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¢«è®¤è¯ç«¯å‘é€çš„ response æ¶ˆæ¯ä¸­ä¼šæºå¸¦æ­¤ç”¨æˆ·åï¼Œè®¤è¯ç«¯æ”¶åˆ°åä¼šç”¨è¿™ä¸ªç”¨æˆ·åæŸ¥åˆ°å…¨å±€AAA æ‰¾åˆ°å¯†ç ï¼Œå®ŒæˆHASHè¿ç®—ã€‚&lt;/li&gt;
&lt;li&gt;è®¤è¯ç«¯å¯†ç åªèƒ½åœ¨å…¨å±€AAAé…ç½®ï¼Œä½¿ç”¨ä¹Ÿæ˜¯å®ŒæˆHASHè¿ç®—ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä»€ä¹ˆå«åŒå‘è®¤è¯&#34;&gt;ä»€ä¹ˆå«åŒå‘è®¤è¯&lt;/h2&gt;
&lt;p&gt;è®¤è¯ç«¯ä¹Ÿæ˜¯è¢«è®¤è¯ç«¯&lt;/p&gt;
&lt;h2 id=&#34;ncp-ä¸­åŒ…å«å“ªäº›åè®®&#34;&gt;NCP ä¸­åŒ…å«å“ªäº›åè®®&lt;/h2&gt;
&lt;p&gt;IPCPã€MPLSCPã€IPV6CPã€OSICPï¼ˆä¸Šå±‚è¿è¡Œ ISIS æ—¶ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;ipcp-ä¸­äº’æ¨åœ°å€çš„ä½œç”¨&#34;&gt;IPCP ä¸­äº’æ¨åœ°å€çš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;ä½¿å¯¹æ–¹èƒ½è·å¾—æœ¬ç«¯çš„è·¯ç”±ï¼Œä»è€Œä½¿å¾—p2pç½‘ç»œä¸­ä¸åœ¨åŒä¸€ä¸ªç½‘æ®µä¹Ÿèƒ½é€šä¿¡&lt;/p&gt;
&lt;h2 id=&#34;åŒæ–¹æ˜¯å¦éƒ½å¯ä»¥è‡ªåŠ¨è·å¾—åœ°å€&#34;&gt;åŒæ–¹æ˜¯å¦éƒ½å¯ä»¥è‡ªåŠ¨è·å¾—åœ°å€&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ï¼ŒåŒæ–¹éƒ½å¯ä»¥é…ç½® remote-address&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨pppoe&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨PPPOE&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªç«™ç‚¹ä¸Šçš„å¤šå°ä¸»æœºè¿æ¥åˆ°åŒä¸€å°è¿œç¨‹æ¥å…¥è®¾å¤‡ï¼ŒåŒæ—¶æ¥å…¥è®¾å¤‡èƒ½å¤Ÿæä¾›ä¸æ‹¨å·ä¸Šç½‘ç±»ä¼¼çš„è®¿é—®æ§åˆ¶å’Œè®¡è´¹åŠŸèƒ½ï¼Œäºæ˜¯äº§ç”Ÿäº†åœ¨ä»¥å¤ªç½‘ä¸Šä¼ è¾“PPPæŠ¥æ–‡çš„æŠ€æœ¯&lt;/p&gt;
&lt;h2 id=&#34;p2pç½‘ç»œä¸­ä¸ºä»€ä¹ˆè¦è®¾ç½®30ä½æ©ç &#34;&gt;p2pç½‘ç»œä¸­ä¸ºä»€ä¹ˆè¦è®¾ç½®30ä½æ©ç &lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;èŠ‚çœIP&lt;/li&gt;
&lt;li&gt;å¯é˜²æ­¢ç¯è·¯ï¼Œå¦‚æœä¸¤ç«¯éƒ½æ˜¯é…ç½®çš„24ä½æ©ç çš„åœ°å€ï¼Œä¸€ç«¯æ˜¯10.1.1.1 åˆ«å¤–ä¸€ç«¯æ˜¯10.1.1.2ï¼Œæ­¤æ—¶åœ¨ä»»æ„ä¸€å°è·¯ç”±ä¸Šping 10.1.1.3 å°±ä¼šäº§ç”Ÿç¯è·¯ã€‚ç¯è·¯åŸå› æ˜¯å› ä¸ºè·¯ç”±è¡¨ä¸­å­˜åœ¨24ä½çš„è·¯ç”±ï¼Œ å‡ºæ¥å£å°±æ˜¯è¿æ¥å¯¹ç«¯çš„æ¥å£ã€‚è€Œp2pç½‘ç»œä¸­åªéœ€è¦å‡ºæ¥å£å°±å¯ä»¥è½¬å‘æ•°æ®åŒ…ï¼Œä½†åœ¨MAä¸­éœ€è¦å¯¹ç«¯çš„MACåœ°å€ï¼Œæ‰€ä»¥åœ¨MAç½‘ç»œä¸­æ²¡æœ‰ç¯è·¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614427782574.png&#34; alt=&#34;PPPçš„ç¯è·¯é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;pppä¸­è·¯ç”±å­¦ä¹ &#34;&gt;PPPä¸­è·¯ç”±å­¦ä¹ &lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1614429487175.png&#34; alt=&#34;PPPä¸­è·¯ç”±å­¦ä¹ &#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1614429624861.png&#34; alt=&#34;AR7çš„è·¯ç”±è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
AR7ä¸Šè·¯ç”±ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1.1.1.0/30ï¼šé€šè¿‡ç›´è¿å½¢æˆçš„ï¼Œä¸‹ä¸€è·³1.1.1.1&lt;/li&gt;
&lt;li&gt;1.1.1.1/32ï¼šæœ¬åœ°æ¥å£çš„&lt;/li&gt;
&lt;li&gt;2.2.2.2/32ï¼šé€šè¿‡IPCPå­¦ä¹ åˆ°çš„&lt;/li&gt;
&lt;li&gt;2.2.2.0/30ï¼šåªèƒ½é€šè¿‡OSPFçš„1ç±»LSAå­¦ä¹ åˆ°ï¼ˆé€šè¿‡p2pçŸ¥é“é‚»å±…ä¸º2.2.2.2ï¼ŒæŸ¥2.2.2.2çš„1ç±»LSAï¼Œé€šè¿‡stubnetçŸ¥é“2.2.2.0/30ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;aaaçš„å…¨ç§°é™¤äº†aaaå¤–è¿˜èƒ½ç”¨ä»€ä¹ˆæ–¹å¼è·å¾—å¯†ç &#34;&gt;AAAçš„å…¨ç§°ï¼Œé™¤äº†AAAå¤–è¿˜èƒ½ç”¨ä»€ä¹ˆæ–¹å¼è·å¾—å¯†ç &lt;/h2&gt;
&lt;p&gt;AAAæ˜¯Authenticationï¼ˆè®¤è¯ï¼‰ã€Authorizationï¼ˆæˆæƒï¼‰å’Œ Accountingï¼ˆè®¡è´¹ï¼‰çš„ç®€ç§°ï¼Œæ˜¯ç½‘ç»œå®‰å…¨çš„ä¸€ç§ç®¡ç†æœºåˆ¶ï¼Œæä¾›äº†è®¤è¯ã€æˆæƒã€è®¡è´¹ä¸‰ç§å®‰å…¨åŠŸèƒ½ã€‚AAAå¯ä»¥é€šè¿‡å¤šç§åè®®æ¥å®ç°ï¼Œç›®å‰è®¾å¤‡æ”¯æŒåŸºäºRADIUSæˆ–HWTACACS æ–¹å¼æ¥å®ç°AAAï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œ&lt;strong&gt;æœ€å¸¸ä½¿ç”¨ RADIUS åè®®&lt;/strong&gt;ã€‚åœ¨è®¤è¯ä¸­æˆ‘ä»¬æ‰€è®²çš„æ˜¯ AAA çš„æœ¬åœ°æ•°æ®åº“è®¤è¯ï¼Œé™¤äº†è¿™ç§å¤–è¿˜æœ‰åŸºäºRADIUSæˆ–HWTACACSï¼ˆHUAWEI Terminal Access Controller Access Control Systemï¼Œåä¸ºç»ˆç«¯è®¿é—®æ§åˆ¶å™¨æ§åˆ¶ç³»ç»Ÿåè®®ï¼‰çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;pppä¸ºä»€ä¹ˆä¸éœ€è¦arp&#34;&gt;PPPä¸ºä»€ä¹ˆä¸éœ€è¦ARP&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨IPCPè§£æï¼Œä¸éœ€è¦ARP&lt;/p&gt;
">äºŒå±‚åè®®-PPP</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/lab-mian-shi-jiang-jie/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%A2%E8%AF%95%E9%A1%BB%E7%9F%A5&#34;&gt;é¢è¯•é¡»çŸ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%A2%E8%AF%95%E6%B5%81%E7%A8%8B&#34;&gt;é¢è¯•æµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7&#34;&gt;é¢è¯•æŠ€å·§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lab%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86&#34;&gt;LABçŸ¥è¯†ç‚¹æ•´ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#rpf%E6%A3%80%E6%9F%A5%E9%A1%BA%E5%BA%8F&#34;&gt;RPFæ£€æŸ¥é¡ºåº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rp%E9%80%89%E4%B8%BE%E9%A1%BA%E5%BA%8F&#34;&gt;RPé€‰ä¸¾é¡ºåº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;é¢è¯•é¡»çŸ¥&#34;&gt;é¢è¯•é¡»çŸ¥&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;LABè€ƒè¯•å‡ºæˆç»©åä¾¿å¯ä»¥é¢„çº¦é¢è¯•ï¼Œç¬¬ä¸€æ¬¡é¢è¯•ä¸éœ€è¦äº¤é’±ï¼Œé¢è¯•è´¹ç”¨åŒ…å«åœ¨LABè€ƒè¯•è´¹ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;LABæˆç»©çš„æœ‰æ•ˆæœŸåªæœ‰ä¸‰ä¸ªæœˆï¼ˆä»LABå‡ºæˆç»©ä¹‹æ—¥å¼€å§‹è®¡ç®—ï¼‰ï¼Œå¿…é¡»è¦åœ¨ä¸‰ä¸ªæœˆå†…è¿›è¡Œä¸€æ¬¡é¢è¯•ï¼ˆç¬¬ä¸€æ¬¡é¢è¯•ä¸ºå…è´¹ï¼ŒåŒ…æ‹¬åœ¨LABè´¹ç”¨ä¸­ï¼‰ã€‚å¦‚æœæ²¡æœ‰çº¦åˆ°é¢è¯•ä½ç½®ï¼Œå¯ä»¥ç»™åä¸ºå‘é‚®ä»¶è¦æ±‚åŠ ä½ç½®ã€‚å¦‚æœä¸€é¢æœªé€šè¿‡ï¼ŒLABæœ‰æ•ˆæœŸä¼šè‡ªåŠ¨å»¶æ—¶ä¸‰ä¸ªæœˆï¼Œåœ¨LABæœ‰æ•ˆæœŸèŒƒå›´å†…å¯ä»¥è¡¥è€ƒé¢è¯•ï¼Œéœ€è¦è´­ä¹°é¢è¯•åˆ¸ï¼Œè´¹ç”¨ä¸º5000äººæ°‘å¸ã€‚å¦‚æœç¬¬äºŒæ¬¡é¢è¯•æœªé€šè¿‡ï¼ŒLABæœ‰æ•ˆæœŸå†å»¶é•¿ä¸‰ä¸ªæœˆï¼Œå¯ä»¥ç»§ç»­è¡¥è€ƒé¢è¯•ã€‚å¦‚æœåœ¨ä¹ä¸ªæœˆå†…é¢è¯•æ²¡æœ‰é€šè¿‡ï¼ŒLABæˆç»©å¤±æ•ˆï¼Œéœ€è¦é‡æ–°è€ƒLAB&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é¢è¯•æµç¨‹&#34;&gt;é¢è¯•æµç¨‹&lt;/h1&gt;
&lt;p&gt;é¢è¯•ä¸ºè¿œç¨‹é¢è¯•ï¼Œç±»ä¼¼äºç¬”è¯•ï¼Œè€ƒè¯•ç¯å¢ƒä¸ºä¸€ä¸ªç‹¬ç«‹çš„å°æˆ¿é—´ï¼Œéœ€è¦å¸¦ä¸Šè€³æœºä¸è€ƒå®˜äº¤æµï¼Œè€Œä¸æ˜¯å’Œè€ƒå®˜é¢å¯¹é¢ï¼Œæ‰€ä»¥ä¸ç”¨ç´§å¼ ã€‚é¢è¯•ç¯å¢ƒä¼šä¸ºä½ æä¾›ä¸€ä¸ªç”»å›¾å’Œè®°äº‹æœ¬å·¥å…·ï¼Œæ–¹ä¾¿ä½ ç”»å›¾å’Œè®°å½•ï¼ˆç”µè„‘å±å¹•ä¸ºè§¦å±ï¼Œå¯ä»¥ç”¨æ‰‹å†™ç¬”æˆ–è€…ç›´æ¥æ‰‹å†™ï¼‰ã€‚ä½ éœ€è¦åœ¨1ä¸ªå°æ—¶å†…å›ç­”ä¸‰é“é¢˜ï¼Œæ¯é“é¢˜çš„å›ç­”æ—¶é—´ä¸º20åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;h1 id=&#34;é¢è¯•æŠ€å·§&#34;&gt;é¢è¯•æŠ€å·§&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å¹³é™å¿ƒæƒ…ï¼Œç»™è‡ªå·±ä¸€ä¸ªæ•´ç†æ€è·¯çš„æ—¶é—´&lt;/li&gt;
&lt;li&gt;å›ç­”é—®é¢˜ï¼Œå…ˆæ˜“åéš¾&lt;/li&gt;
&lt;li&gt;å…ˆåˆ—å¤§çº²ï¼Œå†å¡«ç»†èŠ‚&lt;/li&gt;
&lt;li&gt;å¤šç”»å›¾ï¼Œå°‘è¯´è¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;labçŸ¥è¯†ç‚¹æ•´ç†&#34;&gt;LABçŸ¥è¯†ç‚¹æ•´ç†&lt;/h1&gt;
&lt;h2 id=&#34;rpfæ£€æŸ¥é¡ºåº&#34;&gt;RPFæ£€æŸ¥é¡ºåº&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜å…ˆçº§ä¼˜å…ˆï¼ˆæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œé»˜è®¤æ¨¡å¼ï¼‰
&lt;ol&gt;
&lt;li&gt;å¦‚æœåŒæ—¶å­˜åœ¨å•æ’­å’Œç»„æ’­è·¯ç”±ï¼Œæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¸€æ ·ï¼Œç»„æ’­é™æ€(1)&amp;gt;MBGP(255)&amp;gt;å•æ’­&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½æ˜¯å•æ’­è·¯ç”±ï¼Œæ¯”è¾ƒæ©ç é•¿åº¦ï¼Œæ©ç é•¿åº¦è¶Šé•¿è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœæ©ç é•¿åº¦ä¸€è‡´ï¼Œæ¯”è¾ƒä¸‹ä¸€è·³IPåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ©ç é•¿åº¦ä¼˜å…ˆï¼ˆä¼˜å…ˆæ¯”è¾ƒæ©ç é•¿åº¦ï¼‰
&lt;ol&gt;
&lt;li&gt;å¦‚æœåŒæ—¶å­˜åœ¨å•æ’­å’Œç»„æ’­è·¯ç”±ï¼Œæ¯”è¾ƒæ©ç é•¿åº¦ï¼Œæ©ç é•¿åº¦è¶Šé•¿è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœæ©ç é•¿åº¦ä¸€æ ·ï¼Œæ¯”è¾ƒåè®®ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¸€æ ·ï¼Œç»„æ’­é™æ€(1)&amp;gt;MBGP(255)&amp;gt;å•æ’­&lt;/li&gt;
&lt;li&gt;å¦‚æœéƒ½æ˜¯å•æ’­è·¯ç”±ï¼Œæ¯”è¾ƒä¸‹ä¸€è·³IPåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;rpé€‰ä¸¾é¡ºåº&#34;&gt;RPé€‰ä¸¾é¡ºåº&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç»„æ’­ç»„æ©ç é•¿åº¦ï¼Œæ©ç é•¿åº¦è¶Šé•¿è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœç»„æ©ç é•¿åº¦ä¸€æ ·ï¼Œæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¸€æ ·ï¼Œæ¯”è¾ƒHASHå€¼ï¼ˆç»„åœ°å€+RPåœ°å€+HASH MASKï¼‰ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;å¦‚æœHASHä¸€æ ·ï¼Œæ¯”è¾ƒRPçš„IPåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
">labé¢è¯•è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/cha-hua-hui-nei-rong/"" data-c="
          &lt;h1 id=&#34;ipv4å‘ipv6è¿‡æ¸¡&#34;&gt;IPv4å‘IPv6è¿‡æ¸¡&lt;/h1&gt;
&lt;p&gt;åœ¨IPv4ç½‘ç»œå‘IPv6ç½‘ç»œè¿‡åº¦çš„è¿‡ç¨‹ä¸­ï¼ŒIPv6è¿‡æ¸¡æŠ€æœ¯å¯ä»¥å®ç°IPv6ç½‘ç»œå­¤å²›ä¹‹é—´ï¼ˆIPv4ç½‘ç»œå­¤å²›ä¹‹é—´ï¼‰ã€IPv6ç½‘ç»œå’ŒIPv4ç½‘ç»œä¹‹é—´çš„äº’é€š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610633695351.png&#34; alt=&#34; IPv4å‘IPv6è¿‡æ¸¡æŠ€æœ¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åŒæ ˆåè®®ï¼šè®¾å¤‡å¿…é¡»æ”¯æŒIPv4/IPV6åè®®æ ˆï¼Œè¿æ¥åŒæ ˆç½‘ç»œçš„æ¥å£å¿…é¡»åŒæ—¶é…ç½®IPv4åœ°å€å’ŒIPv6åœ°å€ï¼Œå¸¸ç”¨çš„IPv6çš„è·¯ç”±åè®®OSPFv3ã€ISISå¤šæ‹“æ‰‘ã€å¤šåè®®BGP&lt;/p&gt;
&lt;h1 id=&#34;ipv6overipv4&#34;&gt;IPv6overIPv4&lt;/h1&gt;
&lt;p&gt;IPv6overIPv4æ‰‹åŠ¨éš§é“ï¼Œç”¨äºè§£å†³IPv6å­¤å²›é—®é¢˜ï¼Œç”¨äºä»»ä½•IPv6ç©¿è¶ŠIPv4çš„ç¯å¢ƒï¼Œé€šç”¨æ€§å¥½&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;6over4æ‰‹å·¥éš§é“çš„ä¸€ç§ï¼Œæºåœ°å€å’Œç›®çš„åœ°å€å‡éœ€è¦æ‰‹å·¥æŒ‡å®šï¼Œç”¨äºè¾¹ç•Œè·¯ç”±å™¨ä¸è¾¹ç•Œè·¯ç”±å™¨ï¼Œæˆ–è€…ä¸»æœºä¸è¾¹ç•Œè·¯ç”±å™¨ä¹‹é—´&lt;/li&gt;
&lt;li&gt;è½¬å‘æœºåˆ¶ï¼š&lt;br&gt;
å½“éš§é“è¾¹ç•Œè®¾å¤‡çš„IPv6ä¾§æ”¶åˆ°ä¸€ä¸ªIPv6æŠ¥æ–‡åï¼Œ&lt;br&gt;
æ ¹æ®IPv6æŠ¥æ–‡çš„ç›®çš„åœ°å€æŸ¥æ‰¾IPv6è·¯ç”±è½¬å‘è¡¨ï¼Œå¦‚æœè¯¥æŠ¥æ–‡æ˜¯ä»æ­¤è™šæ‹Ÿéš§é“æ¥å£è½¬å‘å‡ºå»ï¼Œåˆ™æ ¹æ®éš§é“æ¥å£é…ç½®çš„éš§é“æºç«¯å’Œç›®çš„ç«¯çš„IPv4åœ°å€è¿›è¡Œå°è£…ã€‚&lt;br&gt;
å°è£…åçš„æŠ¥æ–‡å˜æˆä¸€ä¸ªIPv4æŠ¥æ–‡ï¼Œäº¤ç»™IPv4åè®®æ ˆå¤„ç†ã€‚&lt;br&gt;
æŠ¥æ–‡é€šè¿‡IPv4ç½‘ç»œè½¬å‘åˆ°éš§é“ç»ˆç‚¹ã€‚&lt;br&gt;
éš§é“ç»ˆç‚¹æ”¶åˆ°éš§é“åè®®æŠ¥æ–‡åï¼Œè¿›è¡Œéš§é“è§£å°è£…ï¼Œå¹¶å°†è§£å°è£…åçš„æŠ¥æ–‡äº¤ç»™IPv6åè®®æ ˆå¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;6to4éš§é“ï¼š6over4è‡ªåŠ¨éš§é“çš„ä¸€ç§ï¼Œæ˜¯ä½¿ç”¨å†…åµŒåœ¨IPv6åœ°å€ä¸­çš„IPv4åœ°å€å»ºç«‹çš„ï¼Œæ”¯æŒrouteråˆ°routerã€hoståˆ°routerã€routeråˆ°hostã€hoståˆ°hostã€‚é‡‡ç”¨6to4ä¸“ç”¨åœ°å€ï¼Œ6to4åœ°å€å¯ä»¥è¡¨ç¤ºä¸º 2002::/16ï¼Œå†…åµŒIPv4åä¸º2002:IPv4::/48&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;vxlan&#34;&gt;VxLAN&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Overlayåœ¨ç½‘ç»œæŠ€æœ¯é¢†åŸŸï¼ŒæŒ‡çš„æ˜¯ä¸€ç§ç½‘ç»œæ¶æ„ä¸Šå åŠ çš„è™šæ‹ŸåŒ–æŠ€æœ¯æ¨¡å¼ï¼Œå…¶å¤§ä½“æ¡†æ¶æ˜¯å¯¹åŸºç¡€ç½‘ç»œä¸è¿›è¡Œå¤§è§„æ¨¡ä¿®æ”¹çš„æ¡ä»¶ä¸‹ï¼Œå®ç°åº”ç”¨åœ¨ç½‘ç»œä¸Šçš„æ‰¿è½½ï¼Œå¹¶èƒ½ä¸å…¶ä»–ç½‘ç»œä¸šåŠ¡åˆ†ç¦»ï¼Œå¹¶ä¸”ä»¥åŸºäºIPçš„åŸºç¡€ç½‘ç»œæŠ€æœ¯ä¸ºä¸»ã€‚OverlayæŠ€æœ¯æ˜¯åœ¨ç°æœ‰çš„ç‰©ç†ç½‘ç»œä¹‹ä¸Šæ„å»ºä¸€ä¸ªè™šæ‹Ÿç½‘ç»œï¼Œä¸Šå±‚åº”ç”¨çŸ¥è¯†è™šæ‹Ÿç½‘ç»œç›¸å…³ï¼ˆæ¯”å¦‚GREéš§é“ç­‰æŠ€æœ¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Overlayç½‘ç»œä¸»è¦ç”±3éƒ¨åˆ†ç»„æˆï¼š
&lt;ol&gt;
&lt;li&gt;è¾¹ç¼˜è®¾å¤‡ï¼šæ˜¯æŒ‡ä¸è™šæ‹Ÿæœºç›´æ¥ç›¸è¿çš„è®¾å¤‡&lt;/li&gt;
&lt;li&gt;æ§åˆ¶å¹³é¢ï¼šä¸»è¦è´Ÿè´£è™šæ‹Ÿéš§é“çš„å»ºç«‹ç»´æŠ¤ä»¥åŠä¸»æœºå¯è¾¾æ€§ä¿¡æ¯çš„é€šå‘Š&lt;/li&gt;
&lt;li&gt;è½¬å‘å¹³é¢ï¼šæ‰¿è½½OverlayæŠ¥æ–‡çš„ç‰©ç†ç½‘ç»œ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;VxLANæ˜¯ä¸šç•ŒOverlayæŠ€æœ¯çš„äº‹å®æ ‡å‡†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610718936187.png&#34; alt=&#34;VxLANæ˜¯ä¸šç•ŒOverlayæŠ€æœ¯çš„äº‹å®æ ‡å‡†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
VxLANåœ¨æ”¯æŒSDNï¼Œå¤šç§Ÿæˆ·ç­‰æ–¹é¢èƒ½åŠ›æ›´å¼ºï¼Œå› æ­¤æˆä¸ºä¸šç•Œçš„æŠ€æœ¯çƒ­ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜ç‚¹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1610719342614.png&#34; alt=&#34;ä¼˜ç‚¹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ¦‚å¿µ
&lt;ol&gt;
&lt;li&gt;Overlayç½‘ç»œå®šä¹‰å°†ä¸€ä¸ªè®¡ç®—ç½‘ç»œæ„å»ºåœ¨å¦ä¸€ä¸ªç½‘ç»œä¹‹ä¸Š&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒæ˜¯å®ç°å°è£…ï¼Œå°†ç½‘ç»œä¸šåŠ¡ä¸åº•å±‚è®¾æ–½è§£è€¦&lt;/li&gt;
&lt;li&gt;å°è£…æŠ€æœ¯ä½¿ç”¨çš„VxLAN&lt;/li&gt;
&lt;li&gt;VxLANéš§é“å°è£…çš„ç«¯ç‚¹å°±å«NVEï¼ˆç½‘ç»œè™šæ‹Ÿè¾¹ç•Œï¼‰ï¼Œè´Ÿè´£åŸå§‹ä»¥å¤ªæŠ¥æ–‡çš„VxLANå°è£…å’Œè§£å°è£…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
">èŒ¶è¯ä¼šå†…å®¹</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/xue-xi-shun-xu/"" data-c="
          &lt;h1 id=&#34;1-labé¢˜-20161111&#34;&gt;1. LABé¢˜-2016.11.11&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5387917&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5387917&#34;&gt; 01. LABé¢è¯•é¢˜è®²è§£ç¬¬ä¸€å¤©-1ã€2021.01.13 å¿«è¿›ç•¥è¿‡ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-990163&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-990163&#34;&gt; 02. LABé¢è¯•é¢˜è®²è§£ç¬¬ä¸€å¤©-2ã€2021.01.13 å¿«è¿›ç•¥è¿‡ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5006961&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5006961&#34;&gt; 03. LABé¢è¯•é¢˜è®²è§£ç¬¬äºŒå¤©-1ã€2021.01.13 å¿«è¿›ç•¥è¿‡ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3805839&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3805839&#34;&gt; 04. LABé¢è¯•é¢˜è®²è§£ç¬¬äºŒå¤©-2ã€2021.01.16ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4171059&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4171059&#34;&gt; 05. LABé¢è¯•é¢˜è®²è§£ç¬¬ä¸‰å¤©ã€2021.01.16ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;2-ä¹¾é¢å ‚æŠ€æœ¯èŒ¶è¯ä¼š-æœ€å&#34;&gt;2. ä¹¾é¢å ‚æŠ€æœ¯èŒ¶è¯ä¼š-æœ€å&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6617978&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6617978&#34;&gt; ä¹¾é¢å ‚å®‰å¾·æŠ€æœ¯å¤§å’–èŒ¶è¯ä¼š-HCIEv3.0-2019.4è€ƒè¯•æ–°åŠ¨æ€1ã€2021.01.14ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8406949&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8406949&#34;&gt; Pv4å‘IPv6è¿‡æ¸¡æŠ€æœ¯ã€2021.01.14ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1005022&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1005022&#34;&gt; VXALNã€2021.01.15ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;ä»¥ä¸‹ä¸ºé¢è¯•é‡ç‚¹å†…å®¹&lt;/strong&gt;&lt;/p&gt;
&lt;h1 id=&#34;3-äºŒå±‚åè®®-20161115&#34;&gt;3. äºŒå±‚åè®®-2016.11.15&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4290331&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4290331&#34;&gt; 06. äºŒå±‚åè®®ç¬¬ä¸€å¤©ï¼šSTPå’ŒRSTPåŒºåˆ«-1ã€2021.01.17ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9675133&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9675133&#34;&gt; 07. äºŒå±‚åè®®ç¬¬äºŒå¤©ï¼šSTPå’ŒRSTPåŒºåˆ«-2ã€2021.01.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4613726&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4613726&#34;&gt; 08. äºŒå±‚åè®®ç¬¬äºŒå¤©ï¼šSTPå’ŒRSTPåŒºåˆ«-3ã€2021.01.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3450580&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3450580&#34;&gt; 09. äºŒå±‚åè®®ç¬¬ä¸‰å¤©ï¼šMSTPã€2021.01.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-864081&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-864081&#34;&gt; 10. äºŒå±‚åè®®ç¬¬ä¸‰å¤©ï¼šVLANç‰¹æ€§ã€2021.01.20ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4581810&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4581810&#34;&gt; 11. äºŒå±‚åè®®ç¬¬å››å¤©ï¼šSuper VLAN&amp;MUX VLAN&amp;Smart-linkã€2021.01.21ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;22-24å·æ•´ç†å¤§é‡äºŒå±‚è¿½é—®å’Œè§†é¢‘ä¸­æ²¡æœ‰çš„çŸ¥è¯†ç‚¹ï¼Œä½œä¸ºäºŒå±‚çš„ç»“å°¾ã€‚äºŒå±‚çŸ¥è¯†ç‚¹å¤šä¸”æ‚ï¼Œä½†ä¸»è¦çš„éƒ¨åˆ†æ˜¯STPã€VLANã€PPPï¼Œå…¶ä»–çš„ä¹Ÿå‡†å¤‡ä¸€ä¸‹ï¼Œä½†é€‚å¯è€Œæ­¢&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;4-igpåè®®-20161118&#34;&gt;4. IGPåè®®-2016.11.18&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2141753&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2141753&#34;&gt; 12. IGPåè®®ç¬¬ä¸€å¤©ï¼šè·¯ç”±åŸºç¡€&amp;RIP-1ã€2021.01.24ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2504764&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2504764&#34;&gt; 13. IGPåè®®ç¬¬ä¸€å¤©ï¼šRIP-2ã€2021.01.25ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5549496&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5549496&#34;&gt; 14. IGPåè®®ç¬¬äºŒå¤©ï¼šOSPF-1ã€2021.01.26ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1546333&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1546333&#34;&gt; 15. IGPåè®®ç¬¬äºŒå¤©ï¼šOSPF-2ã€2021.01.27ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-602433&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-602433&#34;&gt; 16. IGPåè®®ç¬¬ä¸‰å¤©ï¼šOSPF-3ã€2021.01.28ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2335516&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2335516&#34;&gt; 17. IGPåè®®ç¬¬ä¸‰å¤©ï¼šOSPF-4ã€2021.01.30ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9628266&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9628266&#34;&gt; 18. IGPåè®®ç¬¬å››å¤©ï¼šOSPF-5ã€2021.01.30ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-369275&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-369275&#34;&gt; 19. IGPåè®®ç¬¬å››å¤©ï¼šOSPF-6ã€2021.01.31ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3464095&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3464095&#34;&gt; 20. IGPåè®®ç¬¬äº”å¤©ï¼šOSPF-7ã€2021.01.31ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-7756427&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-7756427&#34;&gt; 21. IGPåè®®ç¬¬äº”å¤©ï¼šOSPF-8ã€2021.02.01ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9664665&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9664665&#34;&gt; 22. IGPåè®®ç¬¬å…­å¤©ï¼šé›†æˆIS-IS-1ã€2021.02.06ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-7807323&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-7807323&#34;&gt; 23. IGPåè®®ç¬¬å…­å¤©ï¼šé›†æˆIS-IS-2ã€2021.02.07ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4051428&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4051428&#34;&gt; 24. IGPåè®®ç¬¬å…­å¤©ï¼šé›†æˆIS-IS-3ã€2021.02.08ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6866636&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6866636&#34;&gt; 25. IGPåè®®ç¬¬å…­å¤©ï¼šé›†æˆIS-IS-4ã€2021.02.08ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;5-bgpåè®®-20161126&#34;&gt;5. BGPåè®®-2016.11.26&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4145448&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4145448&#34;&gt; 26. BGPåè®®ç¬¬ä¸€å¤©ï¼šBGP-1ã€2021.02.11ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4459238&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4459238&#34;&gt; 27. BGPåè®®ç¬¬äºŒå¤©ï¼šBGP-2ã€2021.02.11ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2167237&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2167237&#34;&gt; 28. BGPåè®®ç¬¬äºŒå¤©ï¼šBGP-3ã€2021.02.12ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-7109396&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-7109396&#34;&gt; 29. BGPåè®®ç¬¬ä¸‰å¤©ï¼šBGP-4ã€2021.02.12ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;6-ç»„æ’­-20161129&#34;&gt;6. ç»„æ’­-2016.11.29&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1816975&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1816975&#34;&gt; 30. ç»„æ’­ç¬¬ä¸€å¤©ï¼šç»„æ’­åŸºç¡€&amp;IGMPV1ã€V2ã€2021.02.13ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-113199&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-113199&#34;&gt; 31. ç»„æ’­ç¬¬äºŒå¤©ï¼šIGMPV3ã€2021.02.13ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3436695&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3436695&#34;&gt; 32. ç»„æ’­ç¬¬äºŒå¤©ï¼šIGMP Snooping&amp;Proxyã€2021.02.14ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2618433&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2618433&#34;&gt; 33. ç»„æ’­ç¬¬ä¸‰å¤©ï¼šç»„æ’­PIM-DMã€2021.02.14ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2802948&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2802948&#34;&gt; 34. ç»„æ’­ç¬¬ä¸‰å¤©ï¼šç»„æ’­PIM-SM&amp;MSDPã€2021.02.15ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;7-ç‰¹æ€§-20161208&#34;&gt;7. ç‰¹æ€§-2016.12.08&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-510931&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-510931&#34;&gt; 35. DHCP&amp;DHCP Snooping&amp;DAI&amp;IPæºé˜²æŠ¤ã€2021.02.16ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-939047&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-939047&#34;&gt; 36. FTPä¸»è¢«æ¨¡å¼ã€2021.02.16ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;8-ipv6-20161211&#34;&gt;8. IPv6-2016.12.11&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3821974&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3821974&#34;&gt; 37. IPV6ç¬¬ä¸€å¤©ï¼šIPV6åŸºç¡€-1ã€2021.02.17ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3211735&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3211735&#34;&gt; 38. IPV6ç¬¬ä¸€å¤©ï¼šIPV6åŸºç¡€-2ã€2021.02.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4486786&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4486786&#34;&gt; 39. IPV6ç¬¬äºŒå¤©ï¼šIPV6éš§é“æŠ€æœ¯-1ã€2021.02.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4460586&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4460586&#34;&gt; 40. IPV6ç¬¬äºŒå¤©ï¼šIPV6éš§é“æŠ€æœ¯-2&amp;ç§»åŠ¨IPV6ç‰¹æ€§ã€2021.02.18ã€‘&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;9-æ–°åŠ -201907&#34;&gt;9. æ–°åŠ -2019.07&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-7576731&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-7576731&#34;&gt; 41. ä¹¾é¢å ‚é¢è¯•-å †å &lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8788454&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8788454&#34;&gt; 42. ä¹¾é¢å ‚é¢è¯•-è·¯ç”±æ’¤é”€&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3371124&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3371124&#34;&gt; 43. ä¹¾é¢å ‚é¢è¯•èµ„æ–™-V3ç›¸æ¯”V2å¢åŠ &lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8183660&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8183660&#34;&gt; 44. ä¹¾é¢å ‚é¢è¯•èµ„æ–™-LSAé—®é¢˜&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1846009&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1846009&#34;&gt; 45. ä¹¾é¢å ‚é¢è¯•èµ„æ–™-PPP&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5639549&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5639549&#34;&gt; 46. ä¹¾é¢å ‚é¢è¯•-è·¨åŸŸ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
">å­¦ä¹ é¡ºåº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-lian-xi-ji-lu/"" data-c="
          &lt;ul&gt;
&lt;li&gt;20201202
&lt;ul&gt;
&lt;li&gt;20201202/TS-A_20201202_64.7z&lt;/li&gt;
&lt;li&gt;20201202/TS-Aå·®å¼‚&lt;/li&gt;
&lt;li&gt;20201202/TS-B_20201202_89.7z&lt;/li&gt;
&lt;li&gt;20201202/TS-Bå·®å¼‚&lt;/li&gt;
&lt;li&gt;20201202/ts_Aé…ç½®å¯¼å‡º.7z&lt;/li&gt;
&lt;li&gt;20201202/ts_Bé…ç½®å¯¼å‡º.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201206
&lt;ul&gt;
&lt;li&gt;20201206/TS_A_1206.7z&lt;/li&gt;
&lt;li&gt;20201206/TS_A_1206å¯¼å‡ºé…ç½®.7z&lt;/li&gt;
&lt;li&gt;20201206/TS_B_1206.7z&lt;/li&gt;
&lt;li&gt;20201206/TS_B_1206å¯¼å‡ºé…ç½®.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201214
&lt;ul&gt;
&lt;li&gt;20201214/B.7z&lt;/li&gt;
&lt;li&gt;20201214/TAC1.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201215
&lt;ul&gt;
&lt;li&gt;20201215/A.7z&lt;/li&gt;
&lt;li&gt;20201215/LABv2.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201216
&lt;ul&gt;
&lt;li&gt;20201216/A@60.7z&lt;/li&gt;
&lt;li&gt;20201216/B@72.7z&lt;/li&gt;
&lt;li&gt;20201216/LABv2@115.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201217
&lt;ul&gt;
&lt;li&gt;20201217/LABv1.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201218
&lt;ul&gt;
&lt;li&gt;20201218/LABv1.7z&lt;/li&gt;
&lt;li&gt;20201218/LABv2.7z&lt;/li&gt;
&lt;li&gt;20201218/TSA.7z&lt;/li&gt;
&lt;li&gt;20201218/TSB.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201219
&lt;ul&gt;
&lt;li&gt;20201219/LABv1.7z&lt;/li&gt;
&lt;li&gt;20201219/LABv2.7z&lt;/li&gt;
&lt;li&gt;20201219/TSA.7z&lt;/li&gt;
&lt;li&gt;20201219/TSB.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201220
&lt;ul&gt;
&lt;li&gt;20201220/LABv1@108min.7z&lt;/li&gt;
&lt;li&gt;20201220/LABv2@84min.7z&lt;/li&gt;
&lt;li&gt;20201220/TSA@57min.7z&lt;/li&gt;
&lt;li&gt;20201220/TSB@72min.7z&lt;/li&gt;
&lt;li&gt;20201220/å¯¼å‡ºé…ç½®2020-12-20.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201221
&lt;ul&gt;
&lt;li&gt;20201221/LABv1@96min.7z&lt;/li&gt;
&lt;li&gt;20201221/å·®åˆ«&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201222
&lt;ul&gt;
&lt;li&gt;20201222/LABv1@111min.7z&lt;/li&gt;
&lt;li&gt;20201222/LABv2@93.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201223
&lt;ul&gt;
&lt;li&gt;20201223/tac1.txt&lt;/li&gt;
&lt;li&gt;20201223/tac2.txt&lt;/li&gt;
&lt;li&gt;20201223/tac3.txt&lt;/li&gt;
&lt;li&gt;20201223/tac4.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201224
&lt;ul&gt;
&lt;li&gt;20201224/LABv1@100min.7z&lt;/li&gt;
&lt;li&gt;20201224/LABv2@97min.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201225
&lt;ul&gt;
&lt;li&gt;20201225/TSA@64min.7z&lt;/li&gt;
&lt;li&gt;20201225/TSB@88min.7z&lt;/li&gt;
&lt;li&gt;20201225/å¯¼å‡ºé…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201226
&lt;ul&gt;
&lt;li&gt;20201226/LABv1.7z&lt;/li&gt;
&lt;li&gt;20201226/LABv2.7z&lt;/li&gt;
&lt;li&gt;20201226/tac5-1.txt&lt;/li&gt;
&lt;li&gt;20201226/tac5-2.txt&lt;/li&gt;
&lt;li&gt;20201226/tac6-1.txt&lt;/li&gt;
&lt;li&gt;20201226/tac6-2.txt&lt;/li&gt;
&lt;li&gt;20201226/tac6-3.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201227
&lt;ul&gt;
&lt;li&gt;20201227/tac1.txt&lt;/li&gt;
&lt;li&gt;20201227/tac2.txt&lt;/li&gt;
&lt;li&gt;20201227/tac3.txt&lt;/li&gt;
&lt;li&gt;20201227/TSA.7z&lt;/li&gt;
&lt;li&gt;20201227/TSB.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201228
&lt;ul&gt;
&lt;li&gt;20201228/LABv1.7z&lt;/li&gt;
&lt;li&gt;20201228/LABv2xx.7z&lt;/li&gt;
&lt;li&gt;20201228/tac4-2.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201229
&lt;ul&gt;
&lt;li&gt;20201229/LABv1@102min.7z&lt;/li&gt;
&lt;li&gt;20201229/LABv2@92min.7z&lt;/li&gt;
&lt;li&gt;20201229/tac5-1.txt&lt;/li&gt;
&lt;li&gt;20201229/tac5-2.txt&lt;/li&gt;
&lt;li&gt;20201229/tac6-1.txt&lt;/li&gt;
&lt;li&gt;20201229/TSA@52min.7z&lt;/li&gt;
&lt;li&gt;20201229/TSB@77min.7z&lt;/li&gt;
&lt;li&gt;20201229/å¯¼å‡ºé…ç½®20201229.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201230
&lt;ul&gt;
&lt;li&gt;20201230/LABv1@110min.7z&lt;/li&gt;
&lt;li&gt;20201230/LABv2@95min.7z&lt;/li&gt;
&lt;li&gt;20201230/tac1.txt&lt;/li&gt;
&lt;li&gt;20201230/tac2.txt&lt;/li&gt;
&lt;li&gt;20201230/tac3.txt&lt;/li&gt;
&lt;li&gt;20201230/tac6-2.txt&lt;/li&gt;
&lt;li&gt;20201230/tac6-3.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20201231
&lt;ul&gt;
&lt;li&gt;20201231/tac4-2.txt&lt;/li&gt;
&lt;li&gt;20201231/tac5-1.txt&lt;/li&gt;
&lt;li&gt;20201231/tac5-2.txt&lt;/li&gt;
&lt;li&gt;20201231/tac6-1.txt&lt;/li&gt;
&lt;li&gt;20201231/tac6-2.txt&lt;/li&gt;
&lt;li&gt;20201231/tac6-3.txt&lt;/li&gt;
&lt;li&gt;20201231/TSA.7z&lt;/li&gt;
&lt;li&gt;20201231/TSB.7z&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20210101
&lt;ul&gt;
&lt;li&gt;20210101/LABv1@107min.7z&lt;/li&gt;
&lt;li&gt;20210101/LABv2@96min.7z&lt;/li&gt;
&lt;li&gt;20210101/TSA@54min.7z&lt;/li&gt;
&lt;li&gt;20210101/TSB@62min.7z&lt;/li&gt;
&lt;li&gt;20210101/é…ç½®å¯¼å‡º20210101&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20210102
&lt;ul&gt;
&lt;li&gt;20210102/tac1.txt&lt;/li&gt;
&lt;li&gt;20210102/tac2.txt&lt;/li&gt;
&lt;li&gt;20210102/tac3.txt&lt;/li&gt;
&lt;li&gt;20210102/tac4.txt&lt;/li&gt;
&lt;li&gt;20210102/tac5-1.txt&lt;/li&gt;
&lt;li&gt;20210102/tac5-2.txt&lt;/li&gt;
&lt;li&gt;20210102/tac6-1.txt&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20210103
&lt;ul&gt;
&lt;li&gt;20210103/LABv1@97min.7z&lt;/li&gt;
&lt;li&gt;20210103/LABv2@89min.7z&lt;/li&gt;
&lt;li&gt;20210103/TSA@59min.7z&lt;/li&gt;
&lt;li&gt;20210103/TSB@74min.7z&lt;/li&gt;
&lt;li&gt;20210103/é…ç½®å¯¼å‡º20210103&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20210104
&lt;ul&gt;
&lt;li&gt;20210104/tac1.txt&lt;/li&gt;
&lt;li&gt;20210104/tac2.txt&lt;/li&gt;
&lt;li&gt;20210104/tac3.txt&lt;/li&gt;
&lt;li&gt;20210104/tac6-2.txt&lt;/li&gt;
&lt;li&gt;20210104/tac6-3.txt&lt;/li&gt;
&lt;li&gt;20210104/tacæçº²æ•´ç†.md&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;20210105
&lt;ul&gt;
&lt;li&gt;20210105/LABv1@101min.7z&lt;/li&gt;
&lt;li&gt;20210105/LABv2@94min.7z&lt;/li&gt;
&lt;li&gt;20210105/tacæçº²æ•´ç†.md&lt;/li&gt;
&lt;li&gt;20210105/TSA@51min.7z&lt;/li&gt;
&lt;li&gt;20210105/TSB@68min.7z&lt;/li&gt;
&lt;li&gt;20210105/é…ç½®å¯¼å‡º20210105&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">HCIE å®éªŒç»ƒä¹ è®°å½•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/tac-ti-gang-jin-jie/"" data-c="
          &lt;h1 id=&#34;tac1&#34;&gt;TAC1&lt;/h1&gt;
&lt;p&gt;AR29æ— æ³•è®¿é—®AR28&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæ— è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé‚»å±…ï¼šæ— é‚»å±…&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR27çš„è·¯ç”±å’Œé‚»å±…ï¼šéƒ½æœ‰&lt;/li&gt;
&lt;li&gt;å¯¹æ¯”AR27å’ŒAR29çš„ospfè¿›ç¨‹ä¿¡æ¯ï¼šAR29é…ç½®æ­£ç¡®&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé”™è¯¯æƒ…å†µï¼šæ— ä»»ä½•é”™è¯¯&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§ï¼šä»AR27çš„arpåˆ—è¡¨ä¸­è·å–åœ°å€ï¼Œä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ARPåˆ—è¡¨å’ŒäºŒå±‚å•æ’­æµ‹è¯•ï¼šæ— è¡¨é¡¹ä¸”ä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ¥å£çŠ¶æ€ï¼šç‰©ç†å’Œåè®®éƒ½æ­£å¸¸&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
LSW6çš„vlané…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;LSW6é…ç½®mux-vlan&lt;/li&gt;
&lt;li&gt;AR29ä¸AR28çš„ospfè¿›ç¨‹ä¸‹çš„åŒºåŸŸè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR29ä¸AR28çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤&lt;/li&gt;
&lt;li&gt;AR29ä¸AR28äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac2&#34;&gt;TAC2&lt;/h1&gt;
&lt;p&gt;AR29æ— æ³•è®¿é—®AR33&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-2&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæ— è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé‚»å±…ï¼šæ— é‚»å±…&lt;/li&gt;
&lt;li&gt;å°è¯•æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§ï¼šlldpå’Œarpå‡è·å–ä¸åˆ°ä¸‰å±‚åœ°å€&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé”™è¯¯æƒ…å†µï¼šhelloæ—¶é—´ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯ï¼šhelloæ—¶é—´å’ŒåŒºåŸŸç±»å‹ä¸ä¸€è‡´ï¼Œè·å–ä¸‰å±‚åœ°å€&lt;/li&gt;
&lt;li&gt;æµ‹è¯•ä¸‰å±‚çš„è¿é€šæ€§&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR33çš„helloæ—¶é—´å’ŒospfåŒºåŸŸç±»å‹é…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-2&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR33çš„loopback0æ¥å£åœ°å€æ²¡æœ‰å®£å‘Šè¿›ospfåŒºåŸŸ2&lt;/li&gt;
&lt;li&gt;AR33å’ŒAR29ä¹‹é—´çš„ospfåŒºåŸŸè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR33ä¸AR29äº’è”æ¥å£çš„ospfè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR33ä¸AR29äº’è”æ¥å£çš„mtuä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR33ä¸AR29çš„ospfè¿›ç¨‹ä¸‹é…ç½®è·¯ç”±è¿‡æ»¤&lt;/li&gt;
&lt;li&gt;AR33ä¸AR29çš„äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac3&#34;&gt;TAC3&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®AR28&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-3&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæ— &lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé‚»å±…ï¼šæ­£å¸¸&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šåªæœ‰1ç±»lsa&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹1ç±»lsaï¼šæ²¡æœ‰æè¿°loopback0&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹AR27çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“å’Œç›¸åº”çš„ä¸€ç±»lsaï¼šæœ‰æè¿°loopback0ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æµ‹è¯•AR28çš„è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR32çš„loopback0æ¥å£çš„è·¯ç”±ï¼šå­˜åœ¨&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR28çš„ospfçš„åŒºåŸŸ0ä¸­é…ç½®åŒºåŸŸé—´è·¯ç”±æ±‡æ€»åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Š&lt;br&gt;
AR28çš„ospfè¿›ç¨‹ä¸‹ä½¿ç”¨filterå‘½ä»¤è¿‡æ»¤æ‰äº†loopback0çš„3ç±»lsaï¼Œå¯ä»¥é…ç½®åœ¨åŒºåŸŸ0çš„å‡ºæ–¹å‘æˆ–è€…åŒºåŸŸ1çš„å…¥æ–¹å‘&lt;br&gt;
AR28åœ¨g2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out summary acl xxxï¼Œè¿‡æ»¤æ‰äº†3ç±»lsa&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-3&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR28ä¸AR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤&lt;/li&gt;
&lt;li&gt;AR28ä¸AR32äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac4-1&#34;&gt;TAC4-1&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®isisåŒºåŸŸæ‰€æœ‰è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-4&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šéƒ½ä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæ²¡æœ‰isisåŒºåŸŸçš„è·¯ç”±ï¼Œä½†å­˜åœ¨AR28çš„loopback0ï¼Œå³ospfé‚»å±…æ­£å¸¸&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šæ²¡æœ‰5ç±»lsa&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR27çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šæ²¡æœ‰5ç±»lsa&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31å’ŒAR34çš„è·¯ç”±è¡¨ï¼šæœ‰ospfåŒºåŸŸçš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31ã€AR34ã€AR32æ˜¯å¦å­˜åœ¨æµé‡è¿‡æ»¤ç­–ç•¥ï¼šæ— ACLï¼Œæ— traffic-policy&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR28çš„ospfè¿›ç¨‹ä¸‹æ²¡æœ‰å¼•å…¥isisæˆ–è€…å¼•å…¥é”™è¯¯çš„isisè¿›ç¨‹&lt;br&gt;
AR28åœ¨ospfåŒºåŸŸä¸‹é…ç½®å¤–éƒ¨è·¯ç”±æ±‡æ€»å¹¶æ·»åŠ å…³é”®å­—not-advertise&lt;br&gt;
AR28åœ¨ospfè¿›ç¨‹ä¸‹ä½¿ç”¨filter-policyå‘½ä»¤è¿‡æ»¤æ‰å‡ºæ–¹å‘çš„5ç±»lsa&lt;br&gt;
AR28åœ¨g0/0/0å’Œg2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out aseï¼Œè¿‡æ»¤5ç±»lsa&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-4&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR28å’ŒAR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤&lt;/li&gt;
&lt;li&gt;AR28ã€AR30ç›¸å…³æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac4-2&#34;&gt;TAC4-2&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®isisåŒºåŸŸæ‰€æœ‰è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-5&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šéƒ½ä¸é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæ²¡æœ‰isisåŒºåŸŸçš„è·¯ç”±ï¼Œä½†å­˜åœ¨AR28çš„loopback0ï¼Œå³ospfé‚»å±…æ­£å¸¸&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šæ²¡æœ‰5ç±»lsa&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR27çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šæœ‰5ç±»lsa&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR27çš„è·¯ç”±è¡¨å¹¶æµ‹è¯•ä¸isisåŒºåŸŸçš„è¿é€šæ€§ï¼šæœ‰ï¼Œå¹¶ä¸”é€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31å’ŒAR34çš„è·¯ç”±è¡¨ï¼šæœ‰ospfåŒºåŸŸè·¯ç”±ï¼Œä¸»è¦æ˜¯æœ‰AR32çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31ã€AR34ã€AR32æ˜¯å¦å­˜åœ¨æµé‡è¿‡æ»¤ï¼šæ— ACLï¼Œæ— traffic-policy&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR28åœ¨g2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out aseï¼Œè¿‡æ»¤5ç±»lsa&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-5&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR28å’ŒAR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤&lt;/li&gt;
&lt;li&gt;AR28ã€AR30ç›¸å…³æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac5-1&#34;&gt;TAC5-1&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®isisåŒºåŸŸéƒ¨åˆ†è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-6&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šæ— æ³•è®¿é—®AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæœ‰&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31å’ŒAR34çš„è·¯ç”±è¡¨ï¼šæœ‰ï¼Œè·¯ç”±æ§åˆ¶å±‚é¢æ— é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä¸å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ªï¼šéƒ½é€š&lt;/li&gt;
&lt;li&gt;å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ªï¼šç¬¬äºŒè·³æ— æ³•å›æ˜¾ï¼Œæ•…éšœåœ¨AR28äºAR31ä¹‹é—´&lt;/li&gt;
&lt;li&gt;å•æ’­æµ‹è¯•å‰åAR31çš„g0/0/2æ¥å£çš„æ”¶æŠ¥æƒ…å†µï¼šæ²¡æœ‰æ”¶åˆ°æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR28çš„g0/0/2æ¥å£çš„å‡ºæ–¹å‘ä¸Šé’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡é…ç½®è¿‡æ»¤ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-6&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR31çš„g0/0/2ã€g0/0/1å’ŒAR34çš„g0/0/1æ¥å£ä¸‹é…ç½®æµé‡è¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac5-2&#34;&gt;TAC5-2&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®isisåŒºåŸŸéƒ¨åˆ†è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-7&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šæ— æ³•è®¿é—®AR34çš„loopback0å’Œg0/0/0&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥è·¯ç”±è¡¨ï¼šæœ‰&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR34çš„è·¯ç”±è¡¨ï¼šé»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31çš„è·¯ç”±è¡¨ï¼šæœ‰ï¼Œè·¯ç”±æ§åˆ¶æ— é—®é¢˜&lt;/li&gt;
&lt;li&gt;ä¸å¸¦æºè·¯ç”±è¿½è¸ªï¼šé€šï¼Œä¸¤æ¡ç­‰ä»·è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¸¦æºè·¯ç”±è¿½è¸ªï¼šg0/0/0ç¬¬3è·³æ— æ³•å›æ˜¾ï¼Œlo 0ç¬¬ä¸‰è·³ç¼ºå°‘ä¸€æ¡è·¯ç”±ï¼Œæ•…éšœåœ¨AR34äºAR31ä¹‹é—´&lt;/li&gt;
&lt;li&gt;å•æ’­æµ‹è¯•å‰åAR34çš„g0/0/0çš„æ”¶æŠ¥æƒ…å†µï¼šæ²¡æ”¶åˆ°&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR30çš„g0/0/0æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡çš„è¿‡æ»¤ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-7&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR34çš„g0/0/0å­˜åœ¨æµé‡è¿‡æ»¤ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac6-1&#34;&gt;TAC6-1&lt;/h1&gt;
&lt;p&gt;AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-8&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šåªæœ‰AR30&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ¥å£çš„costå€¼ï¼šä¸€æ ·&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé‚»å±…ï¼šåªæœ‰AR30&lt;/li&gt;
&lt;li&gt;æµ‹è¯•ä¸‰å±‚è¿é€šæ€§ï¼šæ­£å¸¸&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé”™è¯¯æƒ…å†µï¼šåŒºåŸŸIDé”™è¯¯&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31å’ŒAR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šåŒºåŸŸIDç¡®å®é”™è¯¯ï¼ŒAR31åªæœ‰l1çš„lsp&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±…ï¼šçº§åˆ«ä¸ºlevel-1ï¼Œæ— é‚»å±…&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR31çš„isisåŒºåŸŸIDé…ç½®é”™è¯¯ï¼Œisisçº§åˆ«é…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-8&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;p&gt;ä¸AR31ä¸AR28ä¹‹é—´çš„é‚»å±…æœ‰å…³ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AR28çš„g0/0/2æ¥å£ä¸‹æ²¡æœ‰ä½¿èƒ½isis&lt;/li&gt;
&lt;li&gt;AR28å’ŒAR31çš„isisè¿›ç¨‹ä¸‹domainè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£çš„mtuä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£çš„isisè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸AR31å’ŒAR34ä¹‹é—´çš„é‚»å±…æœ‰å…³ï¼š&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;AR31å’ŒAR34çš„äº’è”æ¥å£ä¸‹isisè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR31ä¸AR34çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä»–å› ç´ ï¼š&lt;/p&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;AR31çš„isisè¿›ç¨‹ä¸‹é…ç½®ä¸å‘å¸ƒATTç½®1çš„lsp&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹é’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹è®¾ç½®è´Ÿè½½åˆ†æ‹…çš„ç­‰ä»·è·¯ç”±çš„æœ€å¤§æ¡æ•°ä¸º1&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac6-2&#34;&gt;TAC6-2&lt;/h1&gt;
&lt;p&gt;AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-9&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šåªæœ‰AR30çš„&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ¥å£costå€¼ï¼šéƒ½ä¸€æ ·&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé‚»å±…ï¼šä¸¤ä¸ªéƒ½å­˜åœ¨&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šAR31çš„lspçš„ATTæœªç½®1&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR34çš„isisè¿›ç¨‹ä¿¡æ¯ï¼šlevel-1&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31çš„isisé‚»å±…ï¼šæ²¡æœ‰AR28&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR31çš„isisçº§åˆ«é…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-9&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;p&gt;ä¸AR31å’ŒAR28çš„isisé‚»å±…æœ‰å…³:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AR28çš„g0/0/2æ¥å£ä¸‹æ²¡æœ‰ä½¿èƒ½isis&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31çš„isisä¸‹çš„domainè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£çš„mtuä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£é“¾è·¯ç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31äº’è”æ¥å£isisè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR28ä¸AR31çš„isisè¿›ç¨‹ä¸‹é…ç½®çš„costç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä»–å› ç´ ï¼š&lt;/p&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;AR31çš„isisè¿›ç¨‹ä¸‹é…ç½®ä¸å‘å¸ƒATTç½®1çš„lsp&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹é’ˆå¯¹ä¸‹ä¸€è·³è®¾ç½®ä¸åŒçš„weight&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹è®¾ç½®è´Ÿè½½åˆ†æ‹…çš„ç­‰ä»·è·¯ç”±çš„æœ€å¤§æ¡æ•°ä¸º1&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;tac6-3&#34;&gt;TAC6-3&lt;/h1&gt;
&lt;p&gt;AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;æ­¥éª¤-10&#34;&gt;æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ•…éšœé‡ç°ï¼šåªæœ‰AR30&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥æ¥å£çš„costå€¼ï¼šç›¸åŒ&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé‚»å±…ï¼šåªæœ‰AR30&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§ï¼šé€š&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥isisé”™è¯¯æƒ…å†µï¼šåŒºåŸŸIDé…ç½®é”™è¯¯&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31å’ŒAR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼šåŒºåŸŸIDä¸ä¸€æ ·&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±…ï¼šlevel-1-2ï¼Œæœ‰AR28&lt;/li&gt;
&lt;li&gt;ç»“è®º&lt;br&gt;
AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é«˜å¯èƒ½æ€§-10&#34;&gt;é«˜å¯èƒ½æ€§&lt;/h2&gt;
&lt;p&gt;ä¸AR34å’ŒAR31ä¹‹é—´çš„é‚»å±…ç›¸å…³ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;AR31ä¸AR34çš„äº’è”æ¥å£çš„isisè®¤è¯ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;AR31ä¸AR34çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä»–å› ç´ ï¼š&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;AR31çš„isisè¿›ç¨‹ä¸‹é…ç½®ä¸å‘å¸ƒATTç½®1çš„lsp&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹é’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight&lt;/li&gt;
&lt;li&gt;AR34çš„isisè¿›ç¨‹ä¸‹è®¾ç½®è´Ÿè½½åˆ†æ‹…çš„ç­‰ä»·è·¯ç”±çš„æœ€å¤§æ¡æ•°ä¸º1&lt;/li&gt;
&lt;/ol&gt;
">TAC æçº²è¿›é˜¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-suo-you-shi-yan-dui-bi-jiu-cuo-2/"" data-c="
          &lt;h1 id=&#34;lab&#34;&gt;LAB&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;labä¸­ä½¿ç”¨æ˜ç»†ç­–ç•¥çš„æ€»ç»“
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;labv1ä¸­å…¨éƒ¨ä½¿ç”¨æ˜ç»†è·¯ç”±&lt;/strong&gt;ã€‚åŒ…å«RR1å’ŒP1ä¸Šipv4ã€ipv6çš„isisæ¸—é€ã€ASBRä¸Šçš„å°†isisçš„lo0çš„è·¯ç”±å¼•å…¥bgpï¼ˆå…è®¸æœ¬ASå†…çš„&lt;code&gt;172.16.1.x&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;labv2&lt;/strong&gt;ä¸­åªæœ‰ä¸€ä¸ªåœ°æ–¹ä½¿ç”¨æ˜ç»†ï¼Œå…¶ä»–åœ°æ–¹ä¸ç”¨æ˜ç»†ã€‚åœ¨å®æ–½æ–¹æ¡ˆäºŒæ—¶ï¼Œéœ€è¦&lt;strong&gt;å°†BGPçš„è·¯ç”±å¼•å…¥IGP&lt;/strong&gt;ï¼ˆisisï¼‰æ—¶ä½¿ç”¨æ˜ç»†è·¯ç”±ï¼ˆå…è®¸å¯¹æ–¹ASå†…çš„&lt;code&gt;172.16.1.x&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RR2/P2åŒç‚¹åŒå‘å¼•å…¥ï¼Œ&lt;code&gt;route-policy I2O&lt;/code&gt;ä¸­ä¸éœ€è¦å†™&lt;code&gt;apply cost-type xxxx&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;labä¸­bfdæœ€å°æ•…éšœæ£€æµ‹æ—¶é—´é‚£ä¸ªå€¼ä¸º40ï¼ŒåŸå› æ˜¯&lt;code&gt;40*3&amp;lt;150&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;labv1ä¸­çš„Qosä¸­çš„PE4çš„g0/0/1ä¸Šçš„å‘½ä»¤&lt;code&gt;trust 8021p override&lt;/code&gt;ï¼Œä¸èƒ½å¿˜è®°&lt;strong&gt;override&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ts&#34;&gt;TS&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;tsaä¸­çš„vrrpä¸­ï¼Œvrrp6çš„link-localåœ°å€å‡æ”¹ä¸º&lt;code&gt;FF80::1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;tsbçš„AR18çš„&lt;code&gt;t 0/0/100&lt;/code&gt; ä¸Šéœ€è¦æ·»åŠ &lt;code&gt;ipv6 address FE80::18 link-local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;tsaçš„sw3ä¸­çš„e0/0/1æ¥å£ä¸‹å…³äºstp in 0çš„é…ç½®åˆ é™¤ï¼Œe0/0/21å’Œe0/0/22é€šè¿‡ä¿®æ”¹costå€¼æ¥å®ç°ï¼Œæ”¹ä¸º10ä¸‡&lt;code&gt;100000&lt;/code&gt;å§&lt;/li&gt;
&lt;li&gt;tsbä¸­AR7çš„bgpä¸­çš„ipv6éœ€è¦åå°„ï¼ŒAR9çš„bgpä¸­çš„ipv6åˆ é™¤æ— æ•ˆåœ°å€&lt;code&gt;2002:100:9:1::1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
">HCIE æ‰€æœ‰å®éªŒå¯¹æ¯”çº é”™2</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/tac-ti-gang-gao-ke-neng-bu-chong/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;
TAC1:AR29æ— æ³•è®¿é—®AR28
-----------
LSW6çš„äº¤æ¢æœºé…ç½®é”™è¯¯
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æ— è·¯ç”±
3. æ£€æŸ¥ospfé‚»å±… # æ— é‚»å±… 
4. æ£€æŸ¥AR27çš„é‚»å±…ä¸è·¯ç”± # æœ‰é‚»å±…æœ‰è·¯ç”±
5. å¯¹æ¯”AR27/AR29çš„ospfé…ç½® # é…ç½®æ­£ç¡®
6. æ£€æŸ¥ospfé”™è¯¯ä¿¡æ¯ # æ— é”™è¯¯
7. æµ‹è¯•ä¸‰å±‚è¿é€šæ€§ # ä¸é€š
8. æŸ¥çœ‹ARPåˆ—è¡¨å’ŒäºŒå±‚è¿é€šæ€§ # æ— Macä¸”ä¸é€š
9. æ£€æŸ¥æ¥å£çŠ¶æ€ # æ­£å¸¸
------------
1. LSW6é…ç½®mux-vlan
2. AR29çš„ospfåŒºåŸŸè®¤è¯é”™è¯¯
    #interface xxxï¼Œundo ospf authentication-modeï¼›å…ˆåˆ é™¤æ¥å£ä¸‹è®¤è¯
    #ospf xxï¼Œarea 0ï¼Œauthentication-mode md5 1 cipher xxx
3. AR29/AR28çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤ 
    # ospf xx ï¼Œundo filter-policy {import|export}
4. LSW6/AR29/AR28äº’è”æ¥å£å­˜åœ¨æµé‡è¿‡æ»¤ 
    # interface xx , undo {traccfic-filter|traffic-policy} {outbound|inbound}






TAC2: AR29æ— æ³•è®¿é—®AR33
------------
AR33çš„åŒºåŸŸç±»å‹é…ç½®é”™è¯¯ï¼Œhelloæ—¶é—´é…ç½®é”™è¯¯
    # undo nssaï¼Œundo ospf timer hello
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æ— è·¯ç”±
3. æ£€æŸ¥ospfé‚»å±… # æ— é‚»å±…
4. æ£€æŸ¥æ¥å£å®£å‘Šæƒ…å†µ #æ¥å£æ­£å¸¸å®£å‘Šã€mtu=1500ã€‘
5. æµ‹è¯•ä¸‰å±‚è¿é€šæ€§ # ä¸‰å±‚é€šï¼Œä¸‰å±‚åœ°å€è·å–é€šè¿‡arpæˆ–è€…lldpã€‚å¦‚æœè·å–ä¸åˆ°ï¼Œæ­¤æ­¥éª¤æ”¾åœ¨ç¬¬7æ­¥ä¹‹åï¼Œç¬¬7æ­¥çš„è°ƒè¯•ä¿¡æ¯å¯ä»¥è·å–åˆ°ä¸‰å±‚åœ°å€
6. æ£€æŸ¥ospfé”™è¯¯ä¿¡æ¯ # helloæ—¶é—´æŠ¥é”™
7. æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
------------
1. AR33çš„lo0æ²¡æœ‰å®£å‘Šè¿›ospf
2. AR29çš„ospfåŒºåŸŸè®¤è¯é”™è¯¯
3. AR29/AR33äº’è”æ¥å£ä¸‹ospfè®¤è¯ä¸ä¸€è‡´
4. AR29/AR33äº’è”æ¥å£çš„MTUä¸ä¸€è‡´
5. AR29/AR33çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤
6. AR29/AR33äº’è”æ¥å£å­˜åœ¨æµé‡è¿‡æ»¤






TAC3: AR32æ— æ³•è®¿é—®AR28
------------
AR28åœ¨åŒºåŸŸ0ä¸­é…ç½®äº†åŒºåŸŸé—´è·¯ç”±æ±‡æ€»å¹¶åŠ å…³é”®å­—not-advertiseï¼Œè¿‡æ»¤æ‰3ç±»lsa
AR28åœ¨ospfåŒºåŸŸä¸­ä½¿ç”¨filterå‘½ä»¤é’ˆå¯¹è‡ªèº«loopback0æ¥å£çš„3ç±»lsaè¿›è¡Œè¿‡æ»¤(a0çš„å‡ºæ–¹å‘æˆ–è€…a1çš„å…¥æ–¹å‘)
AR28çš„g2/0/0é…ç½®ospf filter-lsa-out summary acl xxxï¼Œè¿‡æ»¤3ç±»lsa
    # ospf filter-lsa-out
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æ— 
3. æ£€æŸ¥ospfé‚»å±… # æ— 
4. æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # æ— 3ç±»lsa
5. æŸ¥çœ‹1ç±»lsa #æ— lo0è—è§†
6. åœ¨AR27ä¸ŠæŸ¥çœ‹1ç±»lsa #æœ‰lo0æè¿°
7. åœ¨AR32ä¸Šæµ‹è¯•AR28æ˜¯å¦å­˜åœ¨AR32çš„lo0è·¯ç”± #é€š
	ping -a 10.5.1.32 10.5.232.28
------------
1. AR28/AR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤
2. AR28/AR32äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤






TAC4-1: AR32æ— æ³•è®¿é—®ISISæ‰€æœ‰
------------
AR28åœ¨g2/0/0é…ç½®ospf filter-lsa-out aseè¿‡æ»¤5ç±»lsa
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æ— 
3. æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # æ— 5ç±»lsa
4. åœ¨AR27ä¸ŠæŸ¥çœ‹ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # æœ‰5ç±»lsa
5. æŸ¥çœ‹AR27çš„è·¯ç”±è¡¨å¹¶æµ‹è¯•ä¸ISISå†…è®¾å¤‡é€šè¿æƒ…å†µ # æœ‰è·¯ç”±ï¼Œèƒ½é€š
6. æŸ¥çœ‹AR31/AR34çš„è·¯ç”±è¡¨ # æœ‰è·¯ç”±
7. æŸ¥çœ‹AR31/AR34/AR32æ˜¯å¦å­˜åœ¨æµé‡è¿‡æ»¤ # æ— aclï¼Œæ— traffic-policy
------------
1. AR28çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤
2. AR28/AR30äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤






TAC4-2: AR32æ— æ³•è®¿é—®ISISæ‰€æœ‰
------------
AR28åœ¨ospfè¿›ç¨‹ä¸‹æ²¡æœ‰å¼•å…¥isisè·¯ç”±æˆ–è€…å¼•å…¥é”™è¯¯çš„isisè¿›ç¨‹å·
AR28åœ¨ospfè¿›ç¨‹ä¸‹é…ç½®äº†å¤–éƒ¨è·¯ç”±æ±‡æ€»å¹¶æ·»åŠ å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Šï¼Œè¿‡æ»¤æ‰äº†5ç±»lsa
    # undo asbr-summary 10.5.0.0 255.255.0.0
AR28åœ¨ospfè¿›è¡Œä¸‹ä½¿ç”¨filter-policyå‘½ä»¤è¿‡æ»¤æ‰äº†å‡ºæ–¹å‘çš„5ç±»lsa
    # undo filter-policy export
AR28æ­£ç¡®çš„å¼•å…¥äº†isisè·¯ç”±ï¼Œä½†åœ¨g2/0/0å’Œg0/0/0é…ç½®ospf filter-lsa-out aseè¿‡æ»¤5ç±»lsa
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æ— 
3. æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # æ— 5ç±»lsa
4. åœ¨AR27ä¸ŠæŸ¥çœ‹ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # æ— 5ç±»lsa
5. æŸ¥çœ‹AR31/AR34çš„è·¯ç”±è¡¨ # æœ‰è·¯ç”±
6. æŸ¥çœ‹AR31/AR34/AR32æ˜¯å¦å­˜åœ¨æµé‡è¿‡æ»¤ # æ²¡æœ‰aclå’Œtraffic-policy
------------
1. AR28/AR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤
2. AR28/AR30äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤




TAC5-1: AR32æ— æ³•è®¿é—®ISISéƒ¨åˆ†
  x AR31çš„æ‰€æœ‰å’ŒAR34çš„g0/0/1
------------
AR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„lo0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ # æœ‰è·¯ç”±
3. æŸ¥çœ‹AR31/AR34çš„è·¯ç”±è¡¨ #è‡³æ­¤è·¯ç”±æ§åˆ¶æ²¡é—®é¢˜
4. ä¸å¸¦æºè·¯ç”±è¿½è¸ª # é€š
5. å¸¦æºè·¯ç”±è¿½è¸ª # 1è·³åæ— æ³•å›æ˜¾
6. æŸ¥çœ‹AR31çš„g0/0/2æ˜¯å¦æ”¶åˆ°pingåŒ…  # æ”¶ä¸åˆ°
7. åœ¨AR34ä¸Šåå‘æµ‹è¯• # é€š
------------
1. AR31çš„g0/0/2å’Œg0/0/1ã€AR34çš„g0/0/1æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤






TAC5-2: AR32æ— æ³•è®¿é—®ISISéƒ¨åˆ†
  x AR34çš„g0/0/0å’Œlo0
------------
AR30çš„g0/0/0æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„lo0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥
-----------
1. æ•…éšœé‡ç°
2. æ£€æŸ¥è·¯ç”±è¡¨ #æœ‰
3. æŸ¥çœ‹AR34çš„è·¯ç”±è¡¨ # è‡³æ­¤34ã€32è·¯ç”±æ§åˆ¶æ²¡é—®é¢˜ã€‘
4. æŸ¥çœ‹AR31çš„è·¯ç”±è¡¨ # 31å’Œ28éƒ½æ­£å¸¸
4. ä¸å¸¦æºè·¯ç”±è¿½è¸ª # é€š
5. å¸¦æºè·¯ç”±è¿½è¸ª #2è·³åæ— æ³•å›æ˜¾
6. æŸ¥çœ‹AR34çš„g0/0/0æ˜¯å¦æ”¶åˆ°pingåŒ…  # æ”¶ä¸åˆ°
7. åœ¨AR34ä¸Šåå‘æµ‹è¯• # é€š
------------
1. AR34çš„g0/0/0ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤






TAC6-1: AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±
------------
AR31çš„isisåŒºåŸŸIDé”™è¯¯ï¼Œisisçº§åˆ«é”™è¯¯
    # undo network-entity 49.0005.xxxxxx.......ï¼Œis-level level-1-2
-----------
1. æ•…éšœé‡ç°ï¼ˆæ£€æŸ¥è·¯ç”±è¡¨ï¼‰
2. æ£€æŸ¥æ¥å£çš„costå€¼ # ç›¸åŒ
3. æ£€æŸ¥isisé‚»å±… # åªæœ‰AR30
4. æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§ # é€š
5. æ£€æŸ¥isisé”™è¯¯ä¿¡æ¯ # åŒºåŸŸIDé”™è¯¯
6. æ£€æŸ¥AR34/AR31çš„è‡ªèº«çš„isisé“¾è·¯çŠ¶æ€æ•°æ®åº“ # åŒºåŸŸIDä¸åŒä¹‹å¤–ï¼Œ31åªæœ‰level-1çº§åˆ«çš„lsp
7. æ£€æŸ¥AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±… # levelçº§åˆ«é”™è¯¯ï¼Œæ²¡æœ‰AR28
------------
ä¸é»˜è®¤è·¯ç”±äº§ç”Ÿç›´æ¥ç›¸å…³ï¼š
1. AR31ä¸Šisisé…ç½®å¼ºåˆ¶ATTä¸èƒ½ç½®1
    # undo attached-bit advertise
2. AR34çš„isisé’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight
    # undo nexthop 10.5.x.x
3. AR34çš„isisé…ç½®æœ€å¤§è´Ÿè½½
    # undo maximum load-balancing
ä¸AR28ä¹‹é—´çš„é‚»å±…ç›¸å…³ï¼š
4. AR28çš„g0/0/2æ²¡æœ‰ä½¿èƒ½isis
    # int g0/0/2 ï¼Œisis enable xx
5. AR28çš„isisè¿›ç¨‹ä¸­é…ç½®domainè®¤è¯
    # undo domain-authentication-mode
6. AR28ä¸AR31äº’è”æ¥å£mtuä¸ä¸€è‡´
    # AR28ï¼šint g0/0/2 , mtu 1497 
7. AR28ä¸AR31äº’è”æ¥å£é“¾è·¯ç±»å‹ä¸ä¸€è‡´
    # int g0/0/2 , undo isis circuit-type
8. AR28ä¸AR31çš„äº’è”æ¥å£é…ç½®isisè®¤è¯
    # int xxxï¼Œundo isis authentication-mode
9. AR28ä¸AR31çš„isisè¿›ç¨‹ä¸‹costç±»å‹ä¸ä¸€è‡´
    # isis xxxï¼Œcost-style xx
ä¸AR34ä¹‹é—´çš„é‚»å±…ç›¸å…³ï¼š
10. AR31ä¸AR34çš„äº’è”æ¥å£é…ç½®isisè®¤è¯
    # int xxxï¼Œundo isis authentication-mode
11. AR31ä¸AR34çš„isisè¿›ç¨‹ä¸‹costç±»å‹ä¸ä¸€è‡´
    # isis xxxï¼Œcost-style xx

# ä¸‹é¢çš„å˜ç§å¯æ ¹æ®æŸä¸ªé‚»å±…çš„æœ‰æ— é€‚å½“åˆ å‡é«˜å¯èƒ½æ€§






TAC6-2: AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±
------------
AR31çš„isisåŒºåŸŸIDé”™è¯¯
-----------
1. æ•…éšœé‡ç°ï¼ˆæ£€æŸ¥è·¯ç”±è¡¨ï¼‰
2. æ£€æŸ¥æ¥å£çš„costå€¼ # ç›¸åŒ
3. æ£€æŸ¥isisé‚»å±… # åªæœ‰AR30
4. æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§ # é€š
5. æ£€æŸ¥isisé”™è¯¯ä¿¡æ¯ # åŒºåŸŸIDé”™è¯¯
6. æ£€æŸ¥AR34/AR31çš„è‡ªèº«çš„isisé“¾è·¯çŠ¶æ€æ•°æ®åº“ #åŒºåŸŸIDé”™è¯¯ï¼Œ31æœ‰level-2çš„lsp
7. æ£€æŸ¥AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±…  # level-1-2ï¼Œæœ‰AR28ï¼Œé«˜å¯èƒ½æ¶‰åŠAR28åˆ é™¤
------------
1. AR31ä¸AR34çš„äº’è”æ¥å£é…ç½®isisè®¤è¯
2. AR31ä¸AR34isisè¿›ç¨‹ä¸‹costç±»å‹ä¸ä¸€è‡´
3. AR31ä¸Šisisé…ç½®å¼ºåˆ¶ATTä¸èƒ½ç½®1
4. AR34çš„isisé’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight
5. AR34çš„isisé…ç½®æœ€å¤§è´Ÿè½½






TAC6-3: AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±
------------
AR31çš„isisçº§åˆ«é”™è¯¯
-----------
1. æ•…éšœé‡ç°ï¼ˆæ£€æŸ¥è·¯ç”±è¡¨ï¼‰
2. æ£€æŸ¥æ¥å£çš„costå€¼ # ç›¸åŒ
3. æ£€æŸ¥isisé‚»å±… #æ­£å¸¸
4. æ£€æŸ¥isisçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ # ATTä½æ²¡æœ‰ç½®1
5. æ£€æŸ¥AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±… # level-1ï¼Œåªæœ‰AR34
------------
1. AR28çš„g0/0/2æ²¡æœ‰ä½¿èƒ½isis
2. AR28çš„isisè¿›ç¨‹ä¸­é…ç½®domainè®¤è¯
3. AR28ä¸AR31äº’è”æ¥å£mtuä¸ä¸€è‡´
4. AR28ä¸AR31é“¾è·¯ç±»å‹ä¸ä¸€è‡´
5. AR28ä¸AR31ã€AR31ä¸AR34çš„äº’è”æ¥å£é…ç½®isisè®¤è¯
6. AR28ã€AR31ã€AR34çš„isisè¿›ç¨‹ä¸‹costç±»å‹ä¸ä¸€è‡´
7. AR31ä¸Šisisé…ç½®å¼ºåˆ¶ATTä¸èƒ½ç½®1
8. AR34çš„isisé’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight
9. AR34çš„isisé…ç½®æœ€å¤§è´Ÿè½½
&lt;/code&gt;&lt;/pre&gt;
">TAC æçº²+é«˜å¯èƒ½è¡¥å……</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-suo-you-shi-yan-dui-bi-jiu-cuo/"" data-c="
          &lt;h1 id=&#34;labv1&#34;&gt;labv1ï¼š&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å°†isisçš„loopback0å¼•å…¥bgp&lt;br&gt;
v1ä½¿ç”¨æ˜ç»†çš„å‰ç¼€åˆ—è¡¨ï¼Œåˆ†åˆ«åªå…è®¸è‡ªå·±åŸŸå†…çš„é€šè¿‡ï¼ˆv2ä½¿ç”¨çš„æ˜¯aclï¼‰&lt;/li&gt;
&lt;li&gt;CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;br&gt;
CE1/2åˆ†åˆ«åœ¨è‡ªå·±çš„master VRRPä¸Šé’ˆå¯¹å»å¾€ISPå’Œå¯¹æ–¹çš„é“¾è·¯å¼€å¯track&lt;/li&gt;
&lt;li&gt;RR2å’ŒP2çš„isiså’Œospfè·¯ç”±åŒç‚¹åŒå‘å¼•å…¥æ—¶ï¼š&lt;br&gt;
ospféœ€è¦å¼€å¯default cost inherit-metricï¼ŒåŒæ—¶ç­–ç•¥I2O per no 10ä¸­éœ€è¦åŠ apply cost-type type-1&lt;/li&gt;
&lt;li&gt;MPLS VPN æ–¹æ¡ˆä¸€ï¼š&lt;br&gt;
PEé’ˆå¯¹RRï¼Œåœ¨vpnv4ä¸­ä¸éœ€è¦ä¸‹ä¸€è·³ä¸å˜ï¼Œå’ŒV2ä¸åŒçš„åªæœ‰ä¸€ç‚¹å°±æ˜¯å¼€å¯labelèƒ½åŠ›&lt;br&gt;
V1å’ŒV2éƒ½éœ€è¦undoæ‰ipv4 unicastçš„RRä¹‹é—´çš„é‚»å±…&lt;br&gt;
RRåœ¨vpnv4ä¸­é’ˆå¯¹PEçš„åå°„&lt;br&gt;
RR1ä¸éœ€è¦é’ˆå¯¹RR2çš„allow-as-loopï¼ŒRR2ä¸Šæ‰åšï¼ˆå› ä¸ºè¦æ±‚4ã€5ï¼‰&lt;/li&gt;
&lt;li&gt;QoS:&lt;br&gt;
ä½¿ç”¨aclé«˜çº§è§„åˆ™æŒ‡å®šip desï¼Œä¸æ˜¯åŸºæœ¬è§„åˆ™æŒ‡å®šsource&lt;/li&gt;
&lt;li&gt;VRRPï¼š&lt;br&gt;
SW1/2ä¸CE1/2äº’è”æ¥å£æ”¾è¡Œå‡ºv 1æ‰€æœ‰çš„v&lt;/li&gt;
&lt;li&gt;isis ipv6&lt;br&gt;
è·¯ç”±æ¸—é€ä½¿ç”¨å‰ç¼€åˆ—è¡¨åªæ”¾è¡Œloop0çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;labv2&#34;&gt;labv2&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;IPv6ç»„æ’­ï¼š&lt;br&gt;
PE1çš„e0/0/0ä¹Ÿéœ€è¦isis ipv6 enable&lt;/li&gt;
&lt;li&gt;åŒlabv1ä¸­çš„2ã€3ã€6ã€7&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;tsa&#34;&gt;tsa&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;AR12ä¿®æ”¹äº†aså·ä¹‹åï¼Œè¿˜éœ€è¦ä¿®æ”¹æ›´æ–°æºä¸ºlo0&lt;/li&gt;
&lt;li&gt;AR9çš„ipv6ä¸éœ€è¦åå°„ã€AR7ä¸éœ€è¦å®£å‘ŠIPv6ã€ä¸è€ƒipv6 BGPã€‘&lt;/li&gt;
&lt;li&gt;LSW3çš„E0/0/1éœ€è¦undo stp in 0 cost&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;tsb&#34;&gt;tsb&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;loop 0æ¥å£çš„pimä¸éœ€è¦å¼€å¯ï¼Œåªæœ‰AR7å’ŒAR9éœ€è¦å¼€å¯&lt;/li&gt;
&lt;li&gt;AR9ä¸Šåˆ é™¤ipv6ä¸­å®£å‘Šçš„&lt;code&gt;network 2002:100:9:1::1 128&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;telnetï¼š&lt;br&gt;
éƒ½ä¸éœ€è¦ospf network-type broadcastå’Œundo fr inarp&lt;br&gt;
ä¿®æ”¹osfpé…ç½®ä¸­çš„é‚»å±…peeråœ°å€ AR17 AR18&lt;/li&gt;
&lt;/ol&gt;
">HCIE æ‰€æœ‰å®éªŒå¯¹æ¯”çº é”™1</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-labv1-yao-qiu-zheng-li/"" data-c="
          &lt;h1 id=&#34;labv1&#34;&gt;LabV1&lt;/h1&gt;
&lt;h2 id=&#34;1-l2vrrp&#34;&gt;1. L2+VRRP&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºPC2çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02çš„å…è´¹ARPã€‚PC2ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-ipv4-igp&#34;&gt;2. IPv4 IGP&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰ã€AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‘&lt;/li&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-mpls-vpn&#34;&gt;3. MPLS VPN&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;/li&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œåœ¨AS100ã€AS200å†…å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»ï¼ŒRR1æ˜¯PE1ã€PE2ã€P1ã€ASBR1ã€ASBR2çš„åå°„å™¨ï¼ŒRR2æ˜¯PE3ã€PE4ã€P2ã€ASBR3ã€ASBR4çš„åå°„å™¨ã€‚ASBR1-ASBR3ã€ASBR2-ASBR4å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚&lt;/li&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆä¸€ï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚MPLSä¸èƒ½å‡ºç°æ¬¡ä¼˜è·¯å¾„ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-feature&#34;&gt;4. Feature&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”3Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;li&gt;CE4-PE4çš„Qosè§„åˆ™å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1607328085867.png&#34; alt=&#34;Qos&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨CE4çš„g0/0/1å‡ºæ–¹å‘å¯¹æµé‡è¿›è¡Œ802.1pæ ‡è®°ã€‚åœ¨PE4çš„g0/0/1çš„å…¥æ–¹å‘ï¼Œç»§æ‰¿CE4çš„802.1på€¼&lt;/li&gt;
&lt;li&gt;PE4çš„g0/0/0å’Œg0/0/2åŒ¹é…DSCPå€¼ï¼Œæ ¹æ®è¡¨1ï¼Œé…ç½®æ‹¥å¡ç®¡ç†å’Œæ‹¥å¡é¿å…&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
int ip 1
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 cost 20 
# PE2
int g0/0/0
    isis ipv6 cost 20
int g0/0/2
    isis ipv6 cost 1500
# RR1
int ip 1
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 cost 860
# P1
int g0/0/2
    isis ipv6 cost 1500
int g0/0/0
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 cost 1000
# ASBR1
int g0/0/1
    isis ipv6 cost 860
int g0/0/0
    isis ipv6 cost 100
# ASBR2
int g0/0/1
    isis ipv6 cost 1000
int g0/0/0
    isis ipv6 cost 100
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;53-ipv6-bgp&#34;&gt;5.3 IPv6 BGP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒASBR1-ASBR3é€šè¿‡ç›´è¿é“¾è·¯å»ºç«‹eBGP4+é‚»å±…ï¼ŒPE1ã€PE2ã€P1æ˜¯RR1çš„BGP4+å®¢æˆ·ç«¯ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨ASBR1å°†ISIS IPv6çš„è·¯ç”±å¯¼å…¥BGP4+ï¼Œåªå‘ASBR3é€šå‘Šå‰ç¼€ä¸ºxxxxxxxxxxçš„è·¯ç”±ï¼Œä¸èƒ½ä½¿ç”¨route-policyï¼Œå°†ASBR3çš„loopback0é€šå‘Šå…¥BGP4+&lt;/li&gt;
&lt;li&gt;PE1ã€PE2å­¦ä¹ åˆ°ASBR3 loopback0çš„BGP4+æ˜ç»†è·¯ç”±&lt;/li&gt;
&lt;li&gt;è¯·åœ¨PE1ä½¿èƒ½æŸç‰¹æ€§ï¼Œä»¥ç¡®ä¿PE1åœ¨å¯åŠ¨è¿‡ç¨‹ï¼ˆä»ç‰©ç†æ¥å£upï¼Œåˆ°åè®®xxå»ºç«‹ï¼‰ä¸­ï¼ŒPE2-ASBR3çš„IPv6 pingä¸ä¸¢åŒ…&lt;/li&gt;
&lt;/ol&gt;
">HCIE å®éªŒLABv1è¦æ±‚æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-labv2-yao-qiu-zheng-li/"" data-c="
          &lt;h2 id=&#34;1-l2vrrp&#34;&gt;1. L2+VRRP&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºPC2çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02çš„å…è´¹ARPã€‚PC2ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å¹³å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#PE1
10.1.13.1 30
2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300 127
# RR1
10.1.13.2 30
2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1301 127
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3
10.2.33.1 30
# CE3
10.2.33.2 30
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-ipv4-igp&#34;&gt;2. IPv4 IGP&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
ip-trunk 1
isis cost 1500

# RR1
ip-trunk 1
isis cost 1500
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3-mpls-vpn&#34;&gt;3. MPLS VPN&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;/li&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;ASBR1-ASBR3ï¼ŒASBR2-ASBR4ä¹‹é—´é€šè¿‡ç›´è¿æ¥å£å»ºç«‹BGPé‚»å±…å…³ç³»ã€‚åœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚å‡è®¾AS100å’ŒAS200ä¸­çš„loopback0åœ°å€ä¸º172.16.1.Y/32ã€‚å½“Yä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR1-ASBR3ï¼›å½“Yä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR2-ASBR4.ä¿è¯é…æœ‰æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆäºŒï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚PE1-RR1ã€PE2-RR1ã€PE3-RR2ã€PE4-RR2ä¹‹é—´å»ºç«‹MP-IBGPè¿æ¥çš„æºæ¥å£ä¸ºloopback0ã€‚RR1-RR2ä¹‹é—´å»ºç«‹MP-EBGPé‚»å±…çš„æºæ¥å£ä¸ºloopback0ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-feature&#34;&gt;4. Feature&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”5Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;code&gt;åœ¨WANé‚£é“é¢˜ä¸­å·²ç»é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
int ip 1
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 cost 20 
# PE2
int g0/0/0
    isis ipv6 cost 20
int g0/0/2
    isis ipv6 cost 1500
# RR1
int ip 1
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 cost 860
# P1
int g0/0/2
    isis ipv6 cost 1500
int g0/0/0
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 cost 1000
# ASBR1
int g0/0/1
    isis ipv6 cost 860
int g0/0/0
    isis ipv6 cost 100
# ASBR2
int g0/0/1
    isis ipv6 cost 1000
int g0/0/0
    isis ipv6 cost 100
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;53-ipv6-multicast&#34;&gt;5.3 IPv6 Multicast&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒAS100ä¸­ï¼Œç›¸é‚»è®¾å¤‡å»ºç«‹PIM IPv6 SMçš„é‚»å±…å…³ç³»ã€‚PE1çš„E0/0/0é™æ€åŠ å…¥ç»„FF1E::AA&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
int E0/0/0   
	ipv6 addr 3000:E85A:8CA2:BF40:C45A:89EE:CBDF:ADD1/112
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ASBR1çš„loopback0ã€ASBR2çš„loopback0ä¸ºC-BSRä¸”éƒ½ä¸ºFF1E::/112çš„C-RPã€‚ASBR1çš„loopback0æˆä¸ºBSRï¼ŒASBR2çš„loopback0æˆä¸ºFF1E::/112çš„RP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1 
2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5
# ASBR2
2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ— è®ºå“ªä¸ªC-RPæˆä¸ºRPï¼Œéƒ½è¦ç¡®ä¿PIM IPv6åŸŸç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹æ— æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
">HCIE å®éªŒLabv2è¦æ±‚æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-labv2-bu-zou-jian-hua/"" data-c="
          &lt;h1 id=&#34;labv2&#34;&gt;LabV2&lt;/h1&gt;
&lt;h2 id=&#34;1-l2vrrp&#34;&gt;1. L2+VRRP&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1/SW2
int eth-trunk 12
    load-balance src-dst-mac
    trunkport g0/0/23 0/0/24
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1/SW:SW3/SW4
port-group group-member g0/0/1 g0/0/12 eth 12:g0/0/1 g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºPC2çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02çš„å…è´¹ARPã€‚PC2ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1
int g0/0/2.10
    vrrp vrid 1 virtual-ip 10.3.1.254
    vrrp vrid 1 priority 120
    vrrp vrid 1 preempt-mode timer delay 60
    arp broadcast enable
int g0/0/2.20
    vrrp vrid 2 virtual-ip 10.3.2.254
    arp broadcast enable
# CE2
int g0/0/2.10
    vrrp vrid 1 virtual-ip 10.3.1.254
    arp broadcast enable
int g0/0/2.20
    vrrp vrid 2 virtual-ip 10.3.2.254
    vrrp vrid 2 priority 120
    vrrp vrid 2 preempt-mode timer delay 60
    arp broadcast enable
# SW1/SW2 : æ”¾è¡Œé™¤vlan1æ‰€æœ‰vlan
vlan batch 10 20
int g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
# SW3:SW4
vlan batch 10 20
int e0/0/1  
    port link access
    port default vlan 10:20  
# æµ‹è¯•------------------
# CE1/2
dis vrrp bri
# PC1/2
ping 10.3.2.254
ping 10.3.1.254
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1/SW2/SW3/SW4
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
# SW1
stp instance 10 root primary
stp instance 20 secondary primary
# SW2
stp instance 10 root secondary 
stp instance 20 root primary
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1/SW2:SW3/SW4
stp edged-port default
port-group group-member eth 12 g0/0/1 g0/0/12:g0/0/1 g0/0/2
    stp edged-port disable
# æ£€æŸ¥
# SW1/2/3/4
dis stp bri 
# sw1ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan20çš„root
# sw2ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan10çš„root
# sw3ç«¯å£g0/0/1æ˜¯vlan10çš„rootï¼Œg0/0/2æ˜¯vlan20çš„root
# sw4ç«¯å£g0/0/1æ˜¯vlan20çš„rootï¼Œg0/0/2æ˜¯vlan10çš„root
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#PE1/RR1
ipv6 
int ip-trunk 1
    ipv6 enable 
    ip addr 10.1.13.1/2 30
    ipv6 addr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300/1 127
int s0/0/1
    link-protocol hdlc
    ip-trunk 1
int s0/0/2
    link-protocol hdlc
    ip-trunk 1
# æµ‹è¯•-----------------------
# RR1
ping 10.1.13.1
ping ipv6 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;code&gt;æ³¨æ„PE3çš„mpæ¥å£éœ€è¦å…ˆç»‘å®šVPN1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3/CE3
int mp-group 0/0/1
    dis cu conf vpn
    ip binding vpn-instance VPN1 # CE3ä¸éœ€è¦é…ç½®
    ip add 10.2.33.1/2 30
    q
int p4/0/0
    ppp mp mp-group 0/0/1
int p6/0/0
    ppp mp mp-group 0/0/1
# æµ‹è¯•
# CE3
ping 10.2.33.1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-ipv4-igp&#34;&gt;2. IPv4 IGP&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1/CE2/CE3/CE4
router id 172.17.1.1/2/3/4
# PE1/PE2/RR1/P1/ASBR1/ASBR2/ASBR3/ASBR4/RR2/P2/PE3/PE4
router id 172.16.1.1/20/3/4/5/6/7/8/9/10/11/2 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1/CE2
int g0/0/2.10
    ospf enable 1 a 0
int g0/0/2.20
    ospf enable 1 a 0
ospf 1 router-id 172.17.1.1/2
    a 0
        network 172.17.1.1/2 0.0.0.0
        network 10.2.12.1/2 0.0.0.0
        network 10.3.1.1/2 0.0.0.0
        network 10.3.2.1/2 0.0.0.0
        q
    silent-int g0/0/2.10
    silent-int g0/0/2.20
# æ£€æŸ¥-------------------
# CE1/2
dis ospf peer bri
dis ospf int 
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;code&gt;PE4ä¸èƒ½å®£å‘Šlo0ï¼ŒåŸå› ä¸ºæ¬¡ä¼˜è·¯å¾„ï¼Œæ¶‰åŠè€ƒç‚¹5&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR2/P2/PE3/PE4
ospf 1 router-id  172.16.1.9/10/11/12
    a 0
        network 172.16.1.9/10/11 0.0.0.0   # PE4ä¸èƒ½å®£å‘Šlo0
        network 10.1.91/112.1/2 0.0.0.0
        network 10.1.119/102.1/2 0.0.0.0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3/PE4
int g0/0/0
    ospf network-type p2p
# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis ospf int 
dis ospf peer bri
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE4
ip ip-prefix L0 permit 172.16.1.2 32
route-policy L0 permit node 10
    if-match ip-prefix L0
    apply tag 2
ospf 1
    import-route direct type 1 route-policy L0   
# æ£€æŸ¥-----------------
# P2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1501ï¼Œtagä¸º2
# RR2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1511ï¼Œtagä¸º2
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1/PE2/RR1/P1/ASBR1/ASBR2/ASBR3/ASBR4/RR2/P2
int loo 0
    isis  enable 
int ip 1:g0/0/0:g0/0/1:g0/0/2
    isis  enable 
    isis cost xxxx
# æ£€æŸ¥-----------------
dis isis int
dis isis peer
# RR1
dis ip rou pro isis # æœ‰1/20/4/5/6çš„è·¯ç”±
# ASBR3
dis ip rou pro isis # æœ‰8/9/10çš„è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR2/P2
int g0/0/0
    isis circuit-type p2p
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# P1
isis 1
    timer lsp-generation 1 50 50
    flash-flood
    timer spf 1 100 100
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-mpls-vpn&#34;&gt;3. MPLS VPN&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;code&gt;CE4çš„OSPFéœ€è¦åšvrf-lite&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE4
ospf 1 router-id  172.17.1.4 vpn-instance VPN1
	vpn-instance-capability simple
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#PE1/PE2
ip vpn-instance HUB
	# å¦‚æœæ²¡æœ‰é…ç½®RDï¼Œåˆ™éœ€è¦è‡ªè¡Œé…ç½®ï¼š
	# route-distinguisher 100:134/234
    vpn-target 200:1 export
ip vpn-instance VPN1
	# å¦‚æœæ²¡æœ‰é…ç½®RDï¼Œåˆ™éœ€è¦è‡ªè¡Œé…ç½®ï¼š
	route-distinguisher 100:11/12
    vpn-target 100:1 200:1 import
# PE3/PE4
ip vpn-instance VPN1
	# å¦‚æœæ²¡æœ‰é…ç½®RDï¼Œåˆ™éœ€è¦è‡ªè¡Œé…ç½®ï¼š
	# route-distinguisher 100:13/14
    vpn-target 100:1 export
    vpn-target 200:1 import
# CE4çš„RDå€¼å’ŒPE4ç›¸åŒ
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#CE1/CE2
bgp  65000
    router-id 172.17.1.1/2
    peer 10.2.11/22.2 as 100
    peer 10.2.11/22.6 as 100
    import ospf 1
#PE1/PE2
bgp 100
    router-id 172.16.1.1/20
    ipv4-family vpn-instance VPN1
        peer 10.2.11/22.1 as 65000
    ipv4-family vpn-instance HUB
        peer 10.2.11/22.5 as 65000
        peer 10.2.11/22.5 allow-as-loop
# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis bgp vpnv4 all peer
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3
ospf 2 vpn-instance VPN1
    a 1
        network 10.2.33.1 0.0.0.0
# CE3
ospf 1 router-id 172.17.1.3 #ä¸éœ€è¦ç»‘å®šVPN
    area 1
        net 10.2.33.2 0.0.0.0
        net 172.17.1.3 0.0.0.0
        net 10.3.3.3 0.0.0.0
# PE4
ospf 2 vpn-instance VPN1
    a 0
        net 10.2.44.1 0.0.0.0
# CE4
ospf 1 vpn-instance VPN1
    area 0
        net 10.2.44.2 0.0.0.0
        net 172.17.1.4 0.0.0.0
        net 10.4.4.4 0.0.0.0
# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis ospf peer bri
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
å¦‚å›¾4ï¼Œåœ¨AS100ã€AS200å†…å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»ï¼ŒRR1æ˜¯PE1ã€PE2ã€P1ã€ASBR1ã€ASBR2çš„åå°„å™¨ï¼ŒRR2æ˜¯PE3ã€PE4ã€P2ã€ASBR3ã€ASBR4çš„åå°„å™¨ã€‚ASBR1-ASBR3ã€ASBR2-ASBR4å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# MPLS--------------------
# AS100å’ŒAS200å†…æ‰€æœ‰è®¾å¤‡
mpls lsr-id 172.16.1.1/20/3/4/5/6/7/8/9/10/11/2
mpls
mpls ldp
int ip 1:g0/0/0:g0/0/1:g0/0/2  # ASä¹‹é—´çš„æ¥å£åªå¼€å¯mpls
    mpls 
    mpls ldp
# æ£€æŸ¥------
dis mpls int
dis mpls ldp int
dis mpls ldp peer

# BGP------------------------
# ---------IBGP
# PE1/PE2/P1/ASBR1/ASBR2ï¼šASBR3/ASBR4/P2/PE3/PE4
bgp 100ï¼š200  # åªéœ€è¦é…ç½®RRæ›´æ–°æº
    router-id 172.16.1.1/20/4/5/6ï¼š7/8/10/11/2
    peer 172.16.1.3:9 as 100ï¼š200
    peer 172.16.1.3ï¼š9 connect lo 0
# RR1ï¼šRR2
bgp 100  # éœ€è¦æ›´æ–°æº+åå°„
    router-id 172.16.1.3ï¼š9
    peer 172.16.1.1/20/4/5/6ï¼š7/8/10/11/12 as 100ï¼š200 # é…ç½®é‚»å±…
    peer 172.16.1.1/20/4/5/6ï¼š7/8/10/11/12 co lo 0 # é…ç½®æ›´æ–°æº
    peer 172.16.1.1/20/4/5/6ï¼š7/8/10/11/12 re # é…ç½®åå°„å™¨

# ASBR1/ASBR2ï¼šASBR3/ASBR4
bgp 100:200 # ASBRé’ˆå¯¹RRçš„ä¸‹ä¸€è·³è‡ªæˆ‘
	peer 172.16.1.3ï¼š9 next-hop-local

# ----------EBGP
# ASBR1/ASBR2/ASBR3/ASBR4
bgp 100/200  # åªéœ€è¦æŒ‡å®šASå·
    peer 10.1.57/68.2/1  as 200/100
    
# RR1/2
bgp 100/200 
	# æ›´æ–°æº + ebgpå¤šè·³ 
	# å…³é—­ipv4ä¸­çš„é‚»å±… + vpnv4ä¸­undo policyã€ä¸‹ä¸€è·³ä¸å˜
    peer 172.16.1.9/3 as 200/100
    peer 172.16.1.9/3 co lo 0
    peer 172.16.1.9/3 ebgp-max-hop # é…ç½®EBGPå¤šè·³
    ipv4-family unicast
        undo peer 172.16.1.9/3 enable  # å…³é—­RRä¹‹é—´çš„ipv4é‚»å±…
    ipv4-family vpnv4
        undo policy vpn-target # è¿™ä¸ªå¿…é¡»undoæ‰
        peer 172.16.1.9/3 enable # RRä¹‹é—´
        peer 172.16.1.9/3 next-hop-invariable
        
# ----------RR2:å…è®¸4ã€5è¦æ±‚ä¸­çš„è·¯ç”±å›å»
bgp 100/200
    ipv4-family vpnv4
        peer 172.16.1.3 allow-as-loop  # å…è®¸è·¯ç”±å›å»  

# æ£€æŸ¥-----------------
# RR1/2:ASBR1/2/3/4
dis bgp peer  # 5ä¸ªé‚»å±…å»ºç«‹
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;ASBR1-ASBR3ï¼ŒASBR2-ASBR4ä¹‹é—´é€šè¿‡ç›´è¿æ¥å£å»ºç«‹BGPé‚»å±…å…³ç³»ã€‚åœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚å‡è®¾AS100å’ŒAS200ä¸­çš„loopback0åœ°å€ä¸º172.16.1.Y/32ã€‚å½“Yä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR1-ASBR3ï¼›å½“Yä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR2-ASBR4.ä¿è¯é…æœ‰æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;code&gt;åšæœ¬é¢˜ä¹‹å‰å…ˆåšç¬¬9é¢˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1/ASBR2/ASBR3/ASBR4
acl 2000 
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
# ASBR1/ASBR3
route-policy AB permit node 10
    if-match acl 2000
    apply cost 200
route-policy AB permit node 20
    if-match acl 2001
    apply cost 100
bgp 100/200
    import-route isis 1 route-policy AB
# ASBR2/ASBR4
route-policy AB permit node 10
    if-match acl 2000
    apply cost 100
route-policy AB permit node 20
    if-match acl 2001
    apply cost 200
bgp 100/200
    import-route isis 1 route-policy AB
# æ£€æŸ¥-----------------
# 4å°ASBR
dis bgp rou # å¥‡æ•°è·¯ç”±èµ°1/3ï¼Œåä¹‹äº¦ç„¶ã€‚ä¾‹å¦‚ASBR1ä¸Š172.16.1.1çš„ä¸‹ä¸€è·³0.0.0.0ï¼ˆé»˜è®¤ä¸ºASBR3ï¼‰,172.16.1.2çš„ä¸‹ä¸€è·³å°±æ˜¯172.16.1.6
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR2/P2
ip ip-prefix 172 permit 172.16.0.0 16 greater-equal 32
# RR2
route-policy O2I deny node 10
    if-match tag 100
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 200
route-policy I2O deny node 10
    if-match tag 101
route-policy I2O permit node 20
    if-match ip-prefix 172
    apply cost-type type-1
    apply tag 201
route-policy OASE permit node 10
    if-match tag 2
    apply preference 14
# P2
route-policy O2I deny node 10
    if-match tag 201
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 101
route-policy I2O deny node 10
    if-match tag 200
route-policy I2O permit node 20
    if-match ip-prefix 172
    apply cost-type type-1
    apply tag 100
route-policy OASE permit node 10
    if-match tag 2
    apply preference 14  
# RR2/P2
ospf 1
	default cost inherit-metric
    import-route isis 1 type 1 route-policy I2O 
    preference ase route-policy OASE
isis 1
    import-route ospf 1 inherit-cost route-policy O2I
# æ£€æŸ¥-----------------
# RR2/P2
dis route-policy  # æ­¤æ—¶åŒ¹é…çš„è·¯ç”±æ¡æ•°ä¸åº”è¯¥æœ‰0
# P2
dis ip rou # åˆ°è¾¾PE4(172.16.1.2)çš„è·¯ç”±åº”è¯¥ä¸ºO_ASEï¼Œæ¥å£ä¸ºg0/0/2ï¼Œå³OSPFçš„å¤–éƒ¨è·¯ç”±è€Œä¸æ˜¯ISISçš„è·¯ç”±
# PE4
dis ip rou pro ospf # åˆ°è¾¾P2(172.16.1.10)ä¸ºg0/0/2æ¥å£
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆäºŒï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚PE1-RR1ã€PE2-RR1ã€PE3-RR2ã€PE4-RR2ä¹‹é—´å»ºç«‹MP-IBGPè¿æ¥çš„æºæ¥å£ä¸ºloopback0ã€‚RR1-RR2ä¹‹é—´å»ºç«‹MP-EBGPé‚»å±…çš„æºæ¥å£ä¸ºloopback0ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# --------è·¯ç”±å¤„ç†
# RR1/P1ï¼šisisçš„è·¯ç”±æ³„éœ²
ip ip-prefix 172 permit 172.16.0.0 16 gr 32
isis 1
    import isis level-2 into level-1 filter-policy ip-prefix 172
# PE3/PE4ï¼švpnè·¯ç”±çš„ç›¸äº’å¼•å…¥
bgp 200
    ipv4-family vpn-instance VPN1
        import ospf 2
ospf 2
    import bgp type 1

# ASBR1/2/3/4ï¼šå°†bgpè·¯ç”±å¯¼å…¥IGPåŒæ—¶ä¼˜é€‰IGPï¼Œä¿®æ”¹bgpä¼˜å…ˆçº§
ip ip-prefix 172 permit 172.16.0.0 16 great 32 
route-policy 172 permit node 10
    if-match ip-prefix 172
    apply tag 1234
route-policy AB deny node 5  # é‡è¦
    if-match tag 1234
isis
    import-route bgp inherit-cost route-policy 172
bgp 100/200
	preference 12 255 255

# -------vpnv4é‚»å±…
# PE1/2/3/4 
bgp 100  #  PEä¸Šåªéœ€è¦en
    ipv4-family vpnv4
        peer 172.16.1.3/9 enable
        
# RR1ï¼šRR2 
bgp 100/200  # RRä¸Šéœ€è¦en + re + ne
    ipv4-family vpnv4
        peer 172.16.1.1/20:11/2 enable # RRå’ŒPEä¹‹é—´
        peer 172.16.1.1/20:11/2 re
        peer 172.16.1.1/20:11/2 next-hop-invariable 

# -----------æ ‡ç­¾èƒ½åŠ›ï¼ˆåªåœ¨ASBRä¹‹é—´ï¼‰
# ASBR1/2/3/4
mpls
    lsp-trigger bgp-label-route ip-prefix 172
route-policy MPLS permit no 10
    apply mpls-label 
bgp 100/200  # ASBRä¹‹é—´
    peer 10.1.57/68.2/1 route-policy MPLS export
    peer 10.1.57/68.2/1 label-route-capability
            
# æ£€æŸ¥-----------------
# RR1/P1
dis ip rou pro isis  # æ˜¯å¦å­¦ä¹ åˆ°isis level2çš„è·¯ç”±ï¼Œä¸»è¦æ˜¯192.168.1.11/2
# RR1/2
dis bgp vpnv4 all peer #å„æœ‰3ä¸ªé‚»å±…
dis bgp peer # æŸ¥çœ‹ä¸¤ä¸ªRRä¹‹é—´çš„é‚»å±…
# RR2/PE3/PE4:RR1/PE1/PE2
dis bgp vpnv4 all rou  # æ˜¯å¦å­¦åˆ°CE1/2/3/4ä¸Šçš„è·¯ç”±10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1/2ï¼šä¿®æ”¹eBGPçš„ä¼˜å…ˆçº§
bgp 65000
    preference 120 255 255
ospf 1
    import bgp type 1  # å¼•å…¥ä¹‹å‰å…ˆåšPE1/2ä¸Šé¢çš„soo
# PE1/PE2ï¼šä¸ºäº†é˜²ç¯ï¼Œéœ€è¦é…ç½®sooå±æ€§
bgp 100
    ipv4-family vpn-instance HUB
        peer 10.2.11/22.5 soo 100:12
    ipv4-family vpn-instance VPN1
        peer 10.2.11/22.1 soo 100:12
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;13&#34;&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3/4
acl 2000
    rule permit source 10.3.0.0 0.0.254.0
acl 2001
    rule permit source 10.3.1.0 0.0.254.0
ip ip-prefix NH-PE1 permit 172.16.1.1 32
ip ip-prefix NH-PE2 permit 172.16.1.20 32
route-policy AB permit node 10
    if-match acl 2000
    if-match ip next-hop ip-prefix NH-PE2
    apply local-preference 200   # æœ¬åœ°ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼Œcostè¶Šå°è¶Šä¼˜
route-policy AB permit node 20
    if-match acl 2001
    if-match ip next-hop ip-prefix NH-PE1
    apply local-preference 200
route-policy AB permit node 30  # æ”¾è¡Œå…¶ä»–è·¯ç”±
bgp 200
    ipv4-family vpnv4
    peer 172.16.1.9 route-policy AB import  # ä»åå°„å™¨æ¥çš„è·¯ç”±åº”ç”¨ä¸Šé¢çš„æ¡ä»¶
    
# æ£€æŸ¥-----------------
# PE3/4
dis bgp vpnv4 all rou #10.3.1.0ä¸‹ä¸€è·³ä¸º172.16.1.1ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200ï¼›10.3.2.0ä¸‹ä¸€æ¡ä¸º172.16.1.20ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200

# æ•´ä¸ªå¤§é¢˜æœ€åçš„æµ‹è¯•
# CE3/4
tracert -a 10.3.3.3 10.4.4.4 # CE4ï¼š9hop
tracert -a 10.3.3.3 10.3.1.10 # PC1ï¼š8hop
tracert -a 10.3.3.3 10.3.2.20 # PC2ï¼š8hop

# CE4
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.3.3  # CE3ï¼š9hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.1.10 # PC1ï¼š8hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.2.20 # PC2ï¼š8hop
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-feature&#34;&gt;4. Feature&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1
bfd # å¼€å¯å…¨å±€bfd
bfd huawei bind peer-ip 100.0.1.2 int g2/0/1 one-arm-echo 
    discriminator local 1  # é…ç½®æœ¬åœ°è®¾å¤‡æ ‡ç¤ºä¸º1
    min-echo-rx-interval 40 # 40çš„3å€å°äº150
    commit
    q
ip route-static 0.0.0.0 0.0.0.0 100.0.1.2 track bfd-session huawei

# æ£€æµ‹---------
dis bfd session all
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”5Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE2
nqa test-instance huawei huawei
    test-type icmp
    destination-address ipv4 200.0.2.2
    frequency 5
    start now
ip route-static 0.0.0.0 0.0.0.0 200.0.2.2 track nqa huawei huawei

# æ£€æµ‹---------
dis nqa history
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1:CE2
ospf 1
    default-route-advertise
bgp 65000
    network 0.0.0.0
int g0/0/2.10:20
	# åˆ†åˆ«åœ¨è‡ªå·±çš„master VRRPä¸Šé’ˆå¯¹å»å¾€ISPå’Œå¯¹æ–¹çš„é“¾è·¯å¼€å¯track
    vrrp vrid 1:2 track int g0/0/0 reduced 15
    vrrp vrid 1:2 track int g2/0/1:2 reduced 15
    
# PE3/PE4
ospf 2
    default-route-advertise
    
# æ£€æµ‹--------
# CE3
dis ip rou   # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
# CE4
dis ip rou vpn-instance VPN1 # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚   åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚ Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  CE1/CE2
acl 2000
    rule deny source 10.3.2.10 0
    rule permit source 10.3.0.0 0.0.255.255
nat address-group 1 102.0.1.2 102.0.1.6
int g2/0/1:2
    nat outbound 2000 address-group 1
    nat server protocol tcp global 102.0.1.1 www inside 10.3.2.10 www
    nat server protocol tcp global 102.0.1.1 ftp inside 10.3.2.10 ftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1/CE2
time-range WORKING 8:00 to 18:00 working-day
acl 3000
    rule permit tcp desination-port range 6881 6999 timer-range WORKING
traffic classifiter HUAWEI
    if-match acl 3000
traffic behavior HUAWEI
    car cir 1000
traffic policy HUAWEI
    classifier HUAWEI behavior HUAWEI
interface g2/0/1:2
    traffic-policy HUAWEI outbound

# æ£€æŸ¥-----
dis traffic policy user-defied
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;code&gt;åœ¨WANé‚£é“é¢˜ä¸­å·²ç»é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1/PE2/RR1/P1/ASBR1/ASBR2
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int ip 1:g0/0/0:g0/0/2
    isis ipv6 enable 
    isis ipv6 cost xx
# RR1/P1ï¼šISISè·¯ç”±æ¸—é€
ip ip-prefix 66 permit 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA0 128 gr 128
isis 1
    ipv6 import-route isis level-2 into level-1 filter-policy ipv6-prefix 66

# æ£€æŸ¥---------
dis ipv6 rou pro isis # å¯ä»¥æŸ¥çœ‹åˆ°AS100å†…æ‰€æœ‰å…¶ä»–è®¾å¤‡ç¯å›å£è·¯ç”±ï¼Œå»ºè®®åœ¨PE2ä¸ŠæŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;53-ipv6-multicast&#34;&gt;5.3 IPv6 Multicast&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒAS100ä¸­ï¼Œç›¸é‚»è®¾å¤‡å»ºç«‹PIM IPv6 SMçš„é‚»å±…å…³ç³»ã€‚PE1çš„E0/0/0é™æ€åŠ å…¥ç»„FF1E::AA&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1/PE2/RR1/P1/ASBR1/ASBR2
multicast ipv6 routing-enabel
int loo 0
    pim ipv6 sm
int ip 1:g0/0/1:g0/0/2:g0/0/3
	ipv6 enable
    pim ipv6 sm
# PE1
int E0/0/0   
	ipv6 enable
	ipv6 addr 3000:E85A:8CA2:BF40:C45A:89EE:CBDF:ADD1/112
    isis ipv6 enable
    pim ipv6 sm  # å…ˆå¼€å¯
    pim ipv6 silent  # ä¿éšœå®‰å…¨
    mld enable   # åå¼€å¯
    mld static-group FF1E::AA  # é™æ€åŠ ç»„
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ASBR1çš„loopback0ã€ASBR2çš„loopback0ä¸ºC-BSRä¸”éƒ½ä¸ºFF1E::/112çš„C-RPã€‚ASBR1çš„loopback0æˆä¸ºBSRï¼ŒASBR2çš„loopback0æˆä¸ºFF1E::/112çš„RP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1/ASBR2
acl ipv6 2000
    rule permit source FF1E::AA/112  # å®šä¹‰RPçš„æœåŠ¡ç»„èŒƒå›´
acl ipv6 3000
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5/128 destination FF1E::AA/112
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6/128 destination FF1E::AA/112
# ASBR1/ASBR2 :bsrä¼˜å…ˆçº§æ˜¯è¶Šå¤§è¶Šä¼˜  rpä¼˜å…ˆçº§æ˜¯è¶Šå°è¶Šä¼˜
pim-ipv6
    c-bsr priority 200/100
    c-bsr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5/6
    c-rp 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5/6 group-po 2000 pri 200/100
    crp-policy 3000
    
# æ£€æŸ¥--------------
# PE1
dis pim ipv6 bsr-info  # BSRåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼ŒC-RPæ•°é‡2ä¸ª
dis pim ipv6 rp-info  # RPåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼›ä¸‹ä¸€ä¸ªRPåœ°å€ä¸ºxxxxxxDCA6ï¼Œä¼˜å…ˆçº§ä¸º100
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ— è®ºå“ªä¸ªC-RPæˆä¸ºRPï¼Œéƒ½è¦ç¡®ä¿PIM IPv6åŸŸç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹æ— æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
pim-ipv6
    spt-switch-threshold infinity
#ASBR1/2
dis pim ipv6 rou  # åªæœ‰ï¼ˆ*ï¼ŒFF1E::AAï¼‰
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒLABv2æ­¥éª¤ç®€åŒ–</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-zong-jie/"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1608428682287.png&#34; alt=&#34;è€ƒç‚¹æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;é¢˜ç›®ä¸€&#34;&gt;é¢˜ç›®ä¸€&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR29çš„loopback0å£æ— æ³•è®¿é—®AR28çš„loopback0å£&lt;br&gt;
&lt;code&gt;ç›´è¿ä¸é€šï¼Œå¹¿æ’­åŸŸçš„é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
LSW6ä¸Šè¿æ¥AR29ä¸AR28çš„æ¥å£VLANåˆ’åˆ†é”™è¯¯ï¼Œå¯¼è‡´AR29ä¸AR28ç”¨äºå»ºç«‹OSPFé‚»å±…å…³ç³»çš„æ¥å£ä¸åœ¨åŒä¸€ä¸ªå¹¿æ’­åŸŸä¸­ã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥è·¯ç”±è¡¨
2.3 æ£€æŸ¥OSPFé‚»å±…æƒ…å†µ
2.4 æ£€æŸ¥AR27çš„é‚»å±…å’Œè·¯ç”±
2.5 å¯¹æ¯”æ£€æŸ¥AR27/AR29çš„OSPFé…ç½®
2.6 æ£€æŸ¥é‚»å±…å»ºç«‹è¿‡ç¨‹çš„é”™è¯¯æŠ¥æ–‡
2.7 æµ‹è¯•ä¸‰å±‚åœ°å€è¿é€šæ€§
2.8 æ£€æŸ¥ARPæ˜ å°„è¡¨
2.9 æ£€æŸ¥äº’è”æ¥å£çŠ¶æ€
ä¸‰ã€æ•…éšœå¤„ç†
3.1 LSW6ä¸Švlanåˆ’åˆ†é”™è¯¯çš„æ•…éšœå¤„ç†ï¼Œéœ€åœ¨LSW6ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªè§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 LSW6ä¸Šé…ç½®äº†MuxVlan
3.2.2 LSW6å’ŒAR28ä¸Šé…ç½®äº†è¿‡æ»¤ç­–ç•¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é¢˜ç›®äºŒ&#34;&gt;é¢˜ç›®äºŒ&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-2&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR29çš„loopback0å£æ— æ³•è®¿é—®AR33çš„loopback0å£&lt;br&gt;
&lt;code&gt;ç›´è¿èƒ½é€šï¼ŒOSPFé…ç½®é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”1&#34;&gt;è§£ç­”1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
1. AR29ä¸AR33çš„OSPFåŒºåŸŸç±»å‹ä¸åŒ¹é…ï¼ŒAR29é…ç½®ä¸ºæ™®é€šåŒºåŸŸç±»å‹ï¼Œè€ŒAR33é…ç½®ä¸ºNSSAç±»å‹ï¼›
2. AR29å’ŒAR33çš„Helloé—´éš”ä¸ä¸€è‡´ï¼ŒAR29é…ç½®ä¸º10ç§’ï¼ŒAR33é…ç½®ä¸º15ç§’ã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥è·¯ç”±è¡¨
2.3 æ£€æŸ¥OSPFé‚»å±…æƒ…å†µ
2.4 æ£€æŸ¥æ¥å£å®£å‘Šæƒ…å†µ
2.5 æµ‹è¯•ä¸‰å±‚åœ°å€è¿é€šæ€§
2.6 æ£€æŸ¥é‚»å±…å»ºç«‹è¿‡ç¨‹çš„é”™è¯¯æŠ¥æ–‡
2.7 æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
3.1 AR33ä¸ŠOSPFåŒºåŸŸç±»å‹å’Œhelloæ—¶é—´é…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨AR33ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 AR33ä¸Šloopback0æ¥å£æ²¡æœ‰åŠ å…¥åˆ°ospfè¿›ç¨‹
3.2.2 AR29æˆ–AR33åœ¨OSPFè¿›ç¨‹ä¸‹é…ç½®äº†è¿‡æ»¤ç­–ç•¥
3.2.3 AR33ä¸AR29çš„äº’è”æ¥å£å­˜åœ¨è¿‡æ»¤ç­–ç•¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”2&#34;&gt;è§£ç­”2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;AR29å’ŒAR33çš„Helloé—´éš”ä¸ä¸€è‡´ï¼ŒAR29é…ç½®ä¸º10ç§’ï¼ŒAR33é…ç½®ä¸º15ç§’
# æ’éšœæ­¥éª¤å’Œå˜ç§3ç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡æœ€åçš„è°ƒè¯•ä¿¡æ¯æ‰¾åˆ°é”™ç‚¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”3&#34;&gt;è§£ç­”3&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;AR29ä¸AR33çš„OSPFåŒºåŸŸç±»å‹ä¸åŒ¹é…ï¼ŒAR29é…ç½®ä¸ºæ™®é€šåŒºåŸŸç±»å‹ï¼Œè€ŒAR33é…ç½®ä¸ºNSSAç±»å‹
# æ’éšœæ­¥éª¤å’Œå˜ç§3ç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡æœ€åçš„è°ƒè¯•ä¿¡æ¯æ‰¾åˆ°é”™ç‚¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é¢˜ç›®ä¸‰&#34;&gt;é¢˜ç›®ä¸‰&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-3&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR32çš„loopback0ä¸AR28çš„loopback0å£æ— æ³•è®¿é—®&lt;br&gt;
&lt;code&gt;OSPFåŒºåŸŸé—´è·¯ç”±ä¼ é€’ä½¿ç”¨3ç±»LSA&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”1-2&#34;&gt;è§£ç­”1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
1.1 AR28ä¸ŠOSPFè¿›ç¨‹ä¸­é…ç½®filter-policy importå‘½ä»¤ï¼Œé’ˆå¯¹loopback0æ¥å£çš„è·¯ç”±è¿›è¡Œè¿‡æ»¤ï¼›
1.2 AR28åœ¨åŒºåŸŸ0ä¸­é…ç½®äº†åŒºåŸŸé—´è·¯ç”±æ±‡æ€»ï¼Œå¹¶åŠ ä¸Šäº†not-advertiseï¼Œè¿‡æ»¤æ‰äº†3ç±»LSAï¼›
1.3 AR28ä¸Šä½¿ç”¨filterå‘½ä»¤è°ƒç”¨ACLæˆ–è€…piefix-listï¼Œé’ˆå¯¹loopback0æ¥å£çš„3ç±»LSAè¿›è¡Œè¿‡æ»¤ï¼ˆå¯ä»¥é…ç½®åœ¨åŒºåŸŸ0çš„exportæ–¹å‘æˆ–è€…åŒºåŸŸ1çš„importæ–¹å‘ï¼‰ï¼›
1.4 AR28çš„g2/0/0æ¥å£ä¸Šé…ç½®äº†ospf filter-lsa-out summary acl xxxï¼Œè¿‡æ»¤3ç±»LSAæ³›æ´ªã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥è·¯ç”±è¡¨
2.3 æ£€æŸ¥OSPFé‚»å±…æƒ…å†µ
2.4 æŸ¥çœ‹OSPFçš„LSDB
2.5 æŸ¥çœ‹1ç±»LSA
2.6 åœ¨AR27ä¸ŠæŸ¥çœ‹1ç±»LSA
ä¸‰ã€æ•…éšœå¤„ç†
3.1 AR28ä¸Šé…ç½®äº†è·¯ç”±è¿‡æ»¤ç­–ç•¥
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 èƒ½æ”¶åˆ°è·¯ç”±ï¼Œä½†æ— æ³•pingé€šï¼Œåˆ™å¯èƒ½æ˜¯AR28æˆ–AR32ä¸Šåšäº†æµé‡è¿‡æ»¤ç­–ç•¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”2-2&#34;&gt;è§£ç­”2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ–¹æ³•è§å˜ç§1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”3-2&#34;&gt;è§£ç­”3&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ–¹æ³•è§å˜ç§1
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é¢˜ç›®å››&#34;&gt;é¢˜ç›®å››&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-4&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR32çš„loopback0æ— æ³•è®¿é—®ISISåŒºåŸŸå†…çš„ä»»ä½•è®¾å¤‡&lt;br&gt;
&lt;code&gt;OSPFçš„å¤–éƒ¨è·¯ç”±ä¼ é€’æ˜¯ä½¿ç”¨5ç±»LSA&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”1-3&#34;&gt;è§£ç­”1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
AR28åœ¨ä¸AR32ç›´è¿çš„g2/0/0æ¥å£ä¸Šé…ç½®äº†ospf filter-lsa-out aseï¼Œåœ¨å‡ºæ–¹å‘ä¸Šè¿‡æ»¤æ‰5ç±»LSAã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥è·¯ç”±è¡¨
2.3 æŸ¥çœ‹OSPFçš„LSDB
2.4 åœ¨AR27ä¸ŠæŸ¥çœ‹OSPFçš„LSDB
2.5 åœ¨AR27æ£€æŸ¥è·¯ç”±è¡¨
ä¸‰ã€è§£å†³æ–¹æ¡ˆ
3.1 AR32åœ¨g2/0/0æ¥å£çš„å‡ºæ–¹å‘ä¸Šè¿‡æ»¤æ‰5ç±»LSA
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 AR32çš„OSPFè¿›ç¨‹ä¸‹é…ç½®äº†è·¯ç”±è¿‡æ»¤ç­–ç•¥
3.2.2 åœ¨AR32/AR28/AR30/AR31/AR34çš„æ¥å£ä¸Šé…ç½®äº†æµé‡è¿‡æ»¤ç­–ç•¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”2-3&#34;&gt;è§£ç­”2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
1.1 AR28åœ¨OSPFåŒºåŸŸä¸‹æ²¡æœ‰å¼•å…¥ISISè·¯ç”±ï¼ˆæˆ–è€…å¼•å…¥é”™è¯¯çš„ISISè¿›è¡Œå·ï¼‰ï¼›
1.2 AR28æ­£ç¡®å¼•å…¥äº†ISISè·¯ç”±ï¼Œä½†æ˜¯é…ç½®äº†è¿‡æ»¤5ç±»LSAç­–ç•¥
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥è·¯ç”±è¡¨
2.3 æŸ¥çœ‹OSPFçš„LSDB
2.4 åœ¨AR27ä¸ŠæŸ¥çœ‹OSPFçš„LSDB
2.5 æŸ¥çœ‹AR31çš„è·¯ç”±è¡¨
ä¸‰ã€è§£å†³æ–¹æ¡ˆ
3.1 AR28åœ¨OSPFåŒºåŸŸä¸‹æ²¡æœ‰å¼•å…¥ISISè·¯ç”±ï¼ˆæˆ–è€…å¼•å…¥é”™è¯¯çš„ISISè¿›è¡Œå·ï¼‰æˆ–è€…åœ¨å¼•å…¥ISISè·¯ç”±æƒ…å†µä¸‹é…ç½®è¿‡æ»¤5ç±»LSAç­–ç•¥
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 åœ¨AR28/AR32/AR27äº’è”æ¥å£ä¸‹é…ç½®äº†è¿‡æ»¤ç­–ç•¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é¢˜ç›®äº”&#34;&gt;é¢˜ç›®äº”&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-5&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR34æ²¡æœ‰å­¦ä¹ åˆ°ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±ï¼Œåªä»AS30å­¦ä¹ åˆ°ä¸€æ¡&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”1-4&#34;&gt;è§£ç­”1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
1.1 AR31é…ç½®äº†é”™è¯¯çš„åŒºåŸŸIDï¼›
1.2 AR31é…ç½®äº†é”™è¯¯çš„ISISç±»å‹ã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æŸ¥çœ‹ISISé‚»å±…å…³ç³»
2.3 æŸ¥çœ‹é‚»å±…å»ºç«‹è¿‡ç¨‹ä¸­çš„é”™åŒ…æƒ…å†µ
2.4 æŸ¥çœ‹ISISåè®®çš„è·¯ç”±çº§åˆ«
2.5 åœ¨AR34/AR31ä¸ŠæŸ¥çœ‹è‡ªèº«LSP
2.6 æŸ¥çœ‹AR31çš„ISISé…ç½®
ä¸‰ã€æ•…éšœå¤„ç†
3.1 AR31åŒºåŸŸIDé…ç½®é”™è¯¯å’ŒISISç±»å‹é…ç½®é”™è¯¯
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 AR28çš„g0/0/2æ¥å£æ²¡æœ‰ä½¿èƒ½ISIS
3.2.2 AR28çš„g0/0/2æ¥å£é…ç½®äº†ISISè®¤è¯
3.2.3 AR31çš„ISISè¿›ç¨‹ä¸‹é…ç½®äº†ç¦æ­¢ATTç½®1çš„å‘½ä»¤
3.2.4 AR34åœ¨ISISè¿›ç¨‹ä¸‹ï¼Œé’ˆå¯¹ä¸‹ä¸€è·³è®¾ç½®ä¸åŒçš„weight
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”2-4&#34;&gt;è§£ç­”2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› åˆ¤æ–­
AR31é…ç½®äº†é”™è¯¯çš„ISISè·¯ç”±å™¨çº§åˆ«ï¼ˆLevel-1ï¼‰ï¼Œåº”è¯¥é…ç½®ä¸ºçº§åˆ«Level-1-2ã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æ£€æŸ¥é‚»å±…å…³ç³»
2.3 æŸ¥çœ‹ISISæ•°æ®åº“
2.4 æŸ¥çœ‹AR31çš„é‚»å±…æƒ…å†µ
2.5 æ£€æŸ¥AR31å’ŒAR28çš„è¿é€šæ€§
2.6 æŸ¥çœ‹AR31çš„ISISé…ç½®
2.7 æŸ¥çœ‹AR31çš„g0/0/2ä¸ŠISISçš„ä¿¡æ¯
ä¸‰ã€æ•…éšœå¤„ç†
3.1 AR31çš„è·¯ç”±å™¨ç±»å‹é…ç½®é”™è¯¯ï¼Œå¯ä»¥åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æˆåŠŸæ’é™¤æ•…éšœï¼Œå­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 AR28ä¸AR31ç›´è¿çš„æ¥å£æ²¡æœ‰ä½¿èƒ½ISIS
3.2.2 AR28ä¸AR31ç›´è¿çš„æ¥å£é…ç½®äº†isisè®¤è¯
3.2.3 AR31çš„ISISè¿›ç¨‹ä¸‹é…ç½®äº†ä¸äº§ç”ŸATTç½®1çš„LSPçš„å‘½ä»¤
3.2.4 åœ¨AR34çš„è¿›ç¨‹ä¸‹ï¼Œé’ˆå¯¹ä¸‹ä¸€è·³é…ç½®äº†ä¸åŒçš„weightå€¼
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”3-3&#34;&gt;è§£ç­”3&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
AR31é…ç½®äº†é”™è¯¯çš„åŒºåŸŸIDï¼Œå¯¼è‡´AR31ä¸AR34æ— æ³•å»ºç«‹ISISé‚»å±…å…³ç³»ã€‚
äºŒã€æ•…éšœåˆ†æ
2.1 ç¡®è®¤æ•…éšœå­˜åœ¨
2.2 æ£€æŸ¥ISISé‚»å±…
2.3 æŸ¥çœ‹ISISé…ç½®å‚æ•°
2.4 æ£€æŸ¥ä¸‰å±‚æ˜¯å¦äº’é€š
2.5 æ£€æŸ¥AR31çš„é‚»å±…
2.6 æŸ¥çœ‹AR31çš„ISISå‚æ•°
2.7 æŸ¥çœ‹AR31ä¸ŠISISæ¥å£ä¿¡æ¯
2.8 æŸ¥çœ‹é‚»å±…å»ºç«‹è¿‡ç¨‹ä¸­çš„é”™åŒ…æƒ…å†µ
2.9 å¯¹æ¯”æŸ¥åŒºåŸŸé…ç½®ä¿¡æ¯
ä¸‰ã€æ•…éšœå¤„ç†
3.1 AR31åŒºåŸŸIDé…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 AR31çš„ISISè¿›ç¨‹ä¸‹é…ç½®äº†ä¸äº§ç”ŸATTç½®1çš„LSPçš„å‘½ä»¤
3.2.2 åœ¨AR34çš„è¿›ç¨‹ä¸‹ï¼Œé’ˆå¯¹ä¸‹ä¸€è·³é…ç½®äº†ä¸åŒçš„weightå€¼
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é¢˜ç›®å…­&#34;&gt;é¢˜ç›®å…­&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-6&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;p&gt;AR32çš„loopback0æ— æ³•è®¿é—®ISISåŒºåŸŸçš„éƒ¨åˆ†è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”1-5&#34;&gt;è§£ç­”1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
AR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡è¿‡æ»¤ç­–ç•¥
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æŸ¥çœ‹è·¯ç”±è¡¨
2.3 æŸ¥çœ‹AR31å’ŒAR34çš„è·¯ç”±è¡¨
2.4 ä¸å¸¦æºè¿½è¸ªè·¯ç”±
2.5 å¸¦æºè¿½è¸ªè·¯ç”±
2.6 æŸ¥çœ‹AR31çš„g0/0/2æ˜¯å¦æ”¶åˆ°pingåŒ…
2.7 æŸ¥çœ‹AR31å’ŒAR34ä¸Šæ˜¯å¦è°ƒç”¨ACL
2.8 åœ¨AR34ä¸Šæµ‹è¯•ä¸AR32çš„è¿é€šæ€§
ä¸‰ã€æ•…éšœå¤„ç†
3.1 AR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡è¿‡æ»¤ç­–ç•¥
3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™æœ‰å¯èƒ½å­˜åœ¨ä»¥ä¸‹å‡ ç§é«˜å¯èƒ½æ€§ï¼š
3.2.1 å¦‚æœåœ¨pingæµ‹è¯•åï¼ŒæŸäº›åœ°å€è¿˜æ˜¯æ— æ³•è®¿é—®ï¼Œåˆ™å­˜åœ¨ä½¿ç”¨é«˜çº§ACLè¿‡æ»¤æŠ¥æ–‡çš„å¯èƒ½ï¼Œéœ€è¦åˆ é™¤è¿™äº›é«˜çº§ACL
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§£ç­”2-5&#34;&gt;è§£ç­”2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 
AR30åœ¨g0/0/0å£å‡ºæ–¹å‘ï¼Œåšäº†åŸºäºæºåœ°å€ä¸ºAR32çš„loopback0çš„æµé‡è¿‡æ»¤ç­–ç•¥
äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
2.2 æŸ¥çœ‹è·¯ç”±è¡¨
2.3 æŸ¥çœ‹AR34çš„è·¯ç”±è¡¨
2.4 æŸ¥çœ‹AR31è·¯ç”±è¡¨
2.5 ä¸å¸¦æºå’Œå¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ª10.5.1.34
2.6 æŸ¥çœ‹AR34çš„g0/0/0æ˜¯å¦æ”¶åˆ°pingåŒ…
2.7 æŸ¥çœ‹AR34æ˜¯å¦é…ç½®ç­–ç•¥
2.8 æµ‹è¯•é’ˆå¯¹åå‘è®¿é—®æ•°æ®åŒ…æ˜¯å¦æœ‰è¿‡æ»¤è¡Œä¸º
ä¸‰ã€æ•…éšœå¤„ç†
3.1 ç™»é™†R30è·¯ç”±å™¨ï¼Œåˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
ç»è¿‡ä¸Šè¿°æ“ä½œåï¼Œè‹¥R32å¯ä»¥æ­£å¸¸è®¿é—®R31æ‰€æœ‰æ¥å£å’ŒR34 G0/0/1å£ï¼Œè¯´æ˜æ•…éšœæ’é™¤ï¼Œå…¶ä»–é«˜å¯èƒ½æ€§ã€‚
é«˜å¯èƒ½æ€§ä¸€ï¼šå¦‚æœåœ¨pingæµ‹è¯•åï¼ŒæŸäº›åœ°å€è¿˜æ˜¯æ— æ³•è®¿é—®ï¼Œåˆ™å­˜åœ¨ä½¿ç”¨é«˜çº§ACLè¿‡æ»¤æŠ¥æ–‡çš„å¯èƒ½ï¼Œéœ€è¦åˆ é™¤è¿™äº›é«˜çº§ACLã€‚
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTACæ€»ç»“</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-6/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­å…­&#34;&gt;è¯Šæ–­å…­&lt;/h1&gt;
&lt;p&gt;AR34æ²¡æœ‰ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±&lt;/p&gt;
&lt;h2 id=&#34;tac6-1å˜ç§1&#34;&gt;TAC6-1:å˜ç§1&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯å’Œisisè¿›ç¨‹çº§åˆ«é…ç½®é”™è¯¯ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
æŸ¥çœ‹AR34çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display ip routing-table
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 14       Routes : 14       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„è·¯ç”±è¡¨ä¸­åªå­˜åœ¨ä¸€æ¡æŒ‡å‘AR30çš„é»˜è®¤è·¯ç”±ï¼Œç¼ºå°‘æŒ‡å‘AR31çš„é»˜è®¤è·¯ç”±ã€‚

2.2 æ£€æŸ¥æ¥å£çš„costå€¼
æ¥å£ä¸‹çš„costå€¼ä¼šå½±å“ç­‰ä»·é»˜è®¤è·¯ç”±çš„äº§ç”Ÿï¼Œæ£€æŸ¥AR34ä¸AR31ã€AR30äº’è”æ¥å£ä¸‹çš„costå€¼æ˜¯å¦ä¸€è‡´ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis interface verbose

                       Interface information for ISIS(1)
                       ---------------------------------
 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/0         001         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/0 Interfac
e
  SNPA Address                : 00e0-fc83-528a
  IP Address                  : 10.5.134.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/1         002         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/1 Interfac
e
  SNPA Address                : 00e0-fc83-528b
  IP Address                  : 10.5.234.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 Loop0           001         Up                 Down         1500 L1/L2 -- 
  Circuit MT State            : Standard 
  Circuit Parameters          : passive 
  Description                 : HUAWEI, AR Series, LoopBack0 Interface
  SNPA Address                : 0000-0000-0000
  IP Address                  : 10.5.1.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L12   10
  Hello Timer Value           :        10
  DIS Hello Timer Value       :
  Hello Multiplier Value      :         3
  Cost                        :  L1     0  L2     0
  Ipv6 Cost                   :  L1     0  L2     0
  Retransmit Timer Value      :  L12    5
  LSP-Throttle Timer          :  L12   50
  Bandwidth-Value             :  Low          0  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR30äº’è”çš„æ¥å£GE0/0/0æ¥å£çš„costå€¼ä¸º10ï¼Œä¸AR31äº’è”çš„æ¥å£GE0/0/1æ¥å£çš„costå€¼ä¹Ÿä¸º10ï¼Œå³è¿™ä¸¤ä¸ªæ¥å£ä¸‹costå€¼ç›¸ç­‰ã€‚

2.3 æ£€æŸ¥isisé‚»å±…
ç”±äºAR34ä¸AR31ã€AR30ä¹‹é—´è¿è¡Œisisåè®®ï¼ŒæŸ¥çœ‹AR34ä¸Šçš„isisé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis peer 

                          Peer information for ISIS(1)

  System Id     Interface          Circuit Id       State HoldTime Type     PRI
-------------------------------------------------------------------------------
0000.0000.0030  GE0/0/0            0000.0000.0030.01 Up   7s       L1       64 

Total Peer(s): 1

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸Šåªå­˜åœ¨AR30çš„level-1çº§åˆ«çš„é‚»å±…ï¼Œæ— AR31æ— ä»»ä½•é‚»å±…å…³ç³»ã€‚

2.4 æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§
isisé‚»å±…çš„å»ºç«‹ä¾èµ–ä¸‰å±‚çš„è¿é€šæ€§ï¼Œæ£€æŸ¥AR31ä¸AR34ä¹‹é—´ä¸‰å±‚é€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# ä»AR31ä¸Šè·å–AR31çš„g0/0/1æ¥å£çš„åœ°å€
&amp;lt;AR31&amp;gt;display ip interface brief 
*down: administratively down
^down: standby
(l): loopback
(s): spoofing
The number of interface that is UP in Physical is 4
The number of interface that is DOWN in Physical is 1
The number of interface that is UP in Protocol is 4
The number of interface that is DOWN in Protocol is 1

Interface                         IP Address/Mask      Physical   Protocol  
GigabitEthernet0/0/0              unassigned           down       down      
GigabitEthernet0/0/1              10.5.234.31/24       up         up        
GigabitEthernet0/0/2              10.5.231.31/24       up         up        
LoopBack0                         10.5.1.31/32         up         up(s)     
NULL0                             unassigned           up         up(s)     

# åœ¨AR34ä¸Šæµ‹è¯•ä¸AR31çš„è¿é€šæ€§
&amp;lt;AR34&amp;gt;ping 10.5.234.31
  PING 10.5.234.31: 56  data bytes, press CTRL_C to break
    Reply from 10.5.234.31: bytes=56 Sequence=1 ttl=255 time=70 ms
    Reply from 10.5.234.31: bytes=56 Sequence=2 ttl=255 time=20 ms
    Reply from 10.5.234.31: bytes=56 Sequence=3 ttl=255 time=20 ms
    Reply from 10.5.234.31: bytes=56 Sequence=4 ttl=255 time=40 ms
    Reply from 10.5.234.31: bytes=56 Sequence=5 ttl=255 time=20 ms

  --- 10.5.234.31 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 20/34/70 ms
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR31ä¹‹é—´çš„ä¸‰å±‚é€šä¿¡æ­£å¸¸ã€‚

2.5 æ£€æŸ¥isisé”™è¯¯æƒ…å†µ
åœ¨AR34ä¸Šæ£€æŸ¥å…¶ä¸AR31äº’è”æ¥å£çš„isisæŠ¥é”™æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis error interface GigabitEthernet 0/0/1
Statistics of errored packets for GE0/0/1:
--------------------------------------------------------------------
LSP packet errors:
Longer LSP              : 0           Smaller LSP             : 0           
Mismatched Level        : 0           Invalid Sysid           : 0           
Zero Sequence Number    : 0           Illegal IS Type         : 0           
Zero Checksum           : 0           Incorrect Checksum      : 0           
Bad Authentication      : 0           Bad Auth Count          : 0           
More Protocol TLV       : 0           Bad Nbr TLV             : 0           
Bad Extended IS TLV     : 0           Bad IF Addr TLV         : 0           
Bad Reach TLV           : 0           Bad Inter Domain TLV    : 0           
Mismatched Area Id(L1)  : 0           Bad TLV Length          : 0          
Bad Alias TLV           : 0           Bad Area TLV            : 0           
Bad SRLG TLV            : 0           Unknown Adjacency       : 0           
Bad Protocol ID         : 0           Bad Version             : 0           
Zero Lifetime           : 0           Bad Ext Reach TLV       : 0           
Bad TE Router ID TLV    : 0           Bad TE Sub TLV          : 0           

Hello packet errors:
Bad Packet Length       : 0           Reserved CircType       : 0           
Repeated System ID      : 0           Bad Circuit Type        : 0           
Longer packet           : 0           More Area Addr          : 0           
Longer Area Addr        : 0           Bad Area Addr TLV       : 0           
More IF Addr            : 0           Bad Formatted IF TLV    : 0           
More Nbr SNPA(LAN)      : 0           Invalid Sysid           : 0           
Bad TLV Length          : 0           Zero HoldingTime        : 0           
Unusable IP Addr        : 0           Repeated IPv4 Addr      : 0           
Mismatched Area Addr(L1): 129         Mismatched Proto        : 0           
SNPA Conflicted(LAN)    : 0           Mismatched Level        : 0           
Mismatched Max Area Addr: 0           Bad Authentication      : 0           
More Auth TLV           : 0           3-Way Option Error(P2P) : 0           
No Area Addr TLV        : 0           Bad Protocol ID         : 0           
Bad Version             : 0           Invalid IPv6 Addr       : 0           
More IPv6 IF Addr       : 0           Duplicate IPv6 Addr     : 0           
More Optional Checksum  : 0           Bad Optional Checksum   : 0           
--------------------------------------------------------------------

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œâ€œMismatched Area Addr(L1): 129 â€è¡¨æ˜AR31ä¸AR34ä¹‹é—´æœ‰äº¤äº’level-1çº§åˆ«çš„helloæŠ¥æ–‡ï¼Œä½†æ•…éšœçš„åŸå› æ˜¯isisçš„åŒºåŸŸIDä¸ä¸€è‡´ã€‚

2.6 æŸ¥çœ‹AR31å’ŒAR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
ä¸ºç¡®è®¤AR31å’ŒAR34ä¹‹é—´isisåŒºåŸŸIDä¸ä¸€è‡´çš„æƒ…å†µï¼Œéœ€è¦è¿›ä¸€æ­¥æŸ¥çœ‹AR31å’ŒAR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
&amp;lt;AR34&amp;gt;display isis lsdb verbose

                        Database information for ISIS(1)
                        --------------------------------

                          Level-1 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0030.00-00  0x00000009   0xe6e6        648           102     1/0/0   
 SOURCE       0000.0000.0030.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.30
 INTF ADDR    10.5.230.30
 INTF ADDR    10.5.134.30
 NBR  ID      0000.0000.0030.01  COST: 10        
 IP-Internal  10.5.1.30       255.255.255.255  COST: 0         
 IP-Internal  10.5.230.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        

0000.0000.0030.01-00  0x00000002   0xdb1e        648           55      0/0/0   
 SOURCE       0000.0000.0030.01
 NLPID        IPV4
 NBR  ID      0000.0000.0030.00  COST: 0         
 NBR  ID      0000.0000.0034.00  COST: 0         

0000.0000.0034.00-00* 0x00000007   0xd2ea        605           102     0/0/0   
 SOURCE       0000.0000.0034.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.34
 INTF ADDR    10.5.134.34
 INTF ADDR    10.5.234.34
 NBR  ID      0000.0000.0030.01  COST: 10        
 IP-Internal  10.5.1.34       255.255.255.255  COST: 0         
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        

Total LSP(s): 3
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload
           
# AR31çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
&amp;lt;AR31&amp;gt;display isis lsdb verbose 

                        Database information for ISIS(1)
                        --------------------------------

                          Level-1 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0031.00-00* 0x00000005   0x20b5        618           88      0/0/0   
 SOURCE       0000.0000.0031.00
 NLPID        IPV4
 AREA ADDR    49.0006 
 INTF ADDR    10.5.1.31
 INTF ADDR    10.5.234.31
 INTF ADDR    10.5.231.31
 IP-Internal  10.5.1.31       255.255.255.255  COST: 0         
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.231.0      255.255.255.0    COST: 10        

Total LSP(s): 1
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„åŒºåŸŸIDä¸º49.0005ï¼ŒAR31çš„åŒºåŸŸIDä¸º49.0006ï¼ŒåŒºåŸŸIDä¸ç›¸åŒå½±å“level-1çº§åˆ«é‚»å±…çš„å»ºç«‹ï¼Œä½†æ˜¯ä¸å½±å“level-2çº§åˆ«é‚»å±…çš„å»ºç«‹ï¼Œå› æ­¤AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯ã€‚åŒæ—¶è¿˜å‘ç°ï¼ŒAR34ä¸Šåªæ”¶åˆ°æ¥è‡ªAR30çš„ATTç½®1çš„lspï¼Œå¹¶æœªæ”¶åˆ°ä»»ä½•æ¥è‡ªAR31çš„lspã€‚AR34ä¸Šå¦‚æœè¦äº§ç”ŸæŒ‡å‘AR31çš„é»˜è®¤è·¯ç”±ï¼Œä¸ä»…éœ€è¦AR34ä¸AR31ä¹‹é—´å»ºç«‹level-1çº§åˆ«çš„é‚»å±…ï¼Œè¿˜éœ€è¦AR31ä¸AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„é‚»å±…ï¼Œå› æ­¤AR31çš„isisçº§åˆ«åªèƒ½ä¸ºlevel-1-2ï¼Œä½†æ˜¯ä¸Šé¢ç»“æœæ˜¾ç¤ºçš„AR31çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“åªäº§ç”Ÿlevel-1çº§åˆ«çš„lspï¼Œåˆæ­¥æ–­å®šAR31çš„isisçº§åˆ«ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚

2.7 æŸ¥çœ‹AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±…
ä¸ºç¡®è®¤AR31çš„isisçº§åˆ«æ˜¯å¦é”™è¯¯ï¼Œéœ€è¦æŸ¥çœ‹AR31çš„isisè¿›ç¨‹ä¿¡æ¯ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# isisè¿›ç¨‹ä¿¡æ¯
&amp;lt;AR31&amp;gt;display isis brief 

                     ISIS Protocol Information for ISIS(1)
                     -------------------------------------
SystemId: 0000.0000.0031      System Level: L1    
Area-Authentication-mode: NULL
Domain-Authentication-mode: NULL
Ipv6 is not enabled
ISIS is in invalid restart status
ISIS is in protocol hot standby state: Real-Time Backup

Interface: 10.5.234.31(GE0/0/1)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.231.31(GE0/0/2)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.1.31(Loop0)
Cost: L1 0         L2 0                 Ipv6 Cost: L1 0    L2 0    
State: IPV4 Up                          IPV6 Down
Type: P2P                               MTU: 1500      
Priority: L1 64   L2  64   
Timers:     Csnp: L12 10  , Retransmit: L12 5   , Hello: 10  ,
Hello Multiplier: 3            , LSP-Throttle Timer: L12 50  

# isisé‚»å±…
&amp;lt;AR31&amp;gt;dis isis peer

&amp;lt;AR31&amp;gt;
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„isisçº§åˆ«ä¸ºlevel-1ï¼Œé…ç½®é”™è¯¯ï¼Œå› æ­¤æ— æ³•ä¸AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„é‚»å±…ï¼Œéœ€è¦ä¿®æ”¹æˆlevel-1-2ã€‚

2.8 ç»“è®º
é€šè¿‡ä¸Šè¿°åˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯å’Œisisè¿›ç¨‹çº§åˆ«é…ç½®é”™è¯¯ã€‚

ä¸‰ã€æ•…éšœè§£å†³
3.1 AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯å’Œisisè¿›ç¨‹çº§åˆ«é…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
undo network-entity 49.0006.0000.0000.0031.00 //åˆ é™¤é”™è¯¯çš„åŒºåŸŸID
network-entity 49.0005.0000.0000.0031.00 //é…ç½®æ­£ç¡®çš„åŒºåŸŸID
is-level level-1-2 //ä¿®æ”¹isisçº§åˆ«ä¸ºlevel-1-2

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR28å»ºç«‹level-2çº§åˆ«çš„é‚»å±…ï¼Œä¸AR34å»ºç«‹level-1çº§åˆ«çš„é‚»å±…
éœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR31å»ºç«‹level-1çº§åˆ«çš„é‚»å±…
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦æ”¶åˆ°æ¥è‡ªAR31çš„ATTä½ç½®1çš„lsp
display ip routing-table //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½è§£å†³æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
ä¸AR31å’ŒAR28ä¹‹é—´çš„isisé‚»å±…ç›¸å…³ï¼š
3.2.1 AR28çš„g0/0/2æ¥å£ä¸‹æ²¡æœ‰ä½¿èƒ½isisï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/2
display this
isis enable {isisè¿›ç¨‹ID}

3.2.2 AR28çš„isisè¿›ç¨‹ä¸‹é…ç½®domainè®¤è¯ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/2
undo isis authentication-mode
isis xx
domain-authentication-mode md5 1 cipher xx

3.2.3 AR28ä¸AR31äº’è”æ¥å£ä¸‹isisè®¤è¯ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/2
undo isis authentication-mode

3.2.4 AR28ä¸AR31äº’è”æ¥å£ä¸‹çš„mtuä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/2
mtu 1497

3.2.5 AR28ä¸AR31äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/2
isis circuit-type xxx

3.2.6 AR28ä¸AR31çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
isis xx
cost-style xxx

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR28å»ºç«‹level-2çº§åˆ«çš„é‚»å±…

ä¸AR31å’ŒAR34ä¹‹é—´çš„isisé‚»å±…ç›¸å…³ï¼š
3.2.7 AR31ä¸AR34äº’è”æ¥å£ä¸‹çš„isisè®¤è¯ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
interface GigabitEthernet 0/0/1
undo isis authentication-mode

3.2.8 AR31ä¸AR34çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
isis xx
cost-style xxx

éœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR31å»ºç«‹level-1çº§åˆ«çš„é‚»å±…


å…¶ä»–å› ç´ ï¼š
3.2.9 AR31çš„isisè¿›ç¨‹ä¸‹è®¾ç½®å¼ºåˆ¶ATTä¸èƒ½ç½®1ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
isis xx
undo attached-bit advertise

3.2.10 AR34çš„isisè¿›ç¨‹ä¸‹é’ˆå¯¹ä¸‹ä¸€è·³è®¾ç½®ä¸åŒçš„weightï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
isis xx
undo nexthop 10.5.x.x

3.2.11 AR34åœ¨isisè¿›ç¨‹ä¸‹è®¾ç½®æœ€å¤§è´Ÿè½½ä¸º1ï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view
isis xx
undo maximum load-balancing

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR28å»ºç«‹level-2çº§åˆ«çš„é‚»å±…ï¼Œä¸AR34å»ºç«‹level-1çº§åˆ«çš„é‚»å±…
éœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹æ˜¯å¦ä¸AR31å»ºç«‹level-1çº§åˆ«çš„é‚»å±…
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦æ”¶åˆ°æ¥è‡ªAR31çš„ATTä½ç½®1çš„lsp
display ip routing-table //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //å›åˆ°ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac6-2å˜ç§2&#34;&gt;TAC6-2:å˜ç§2&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-2&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯ï¼Œä¸AR34çš„åŒºåŸŸIDä¸ä¸€è‡´ï¼Œå¯¼è‡´AR31ä¸AR34ä¹‹é—´æ— æ³•å»ºç«‹level-1çš„isisé‚»å±…ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
æŸ¥çœ‹AR34çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 14       Routes : 14       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„è·¯ç”±è¡¨ä¸­åªå­˜åœ¨ä¸€æ¡æŒ‡å‘AR30çš„é»˜è®¤è·¯ç”±ï¼Œç¼ºå°‘æŒ‡å‘AR31çš„é»˜è®¤è·¯ç”±ï¼Œæ•…éšœå­˜åœ¨ã€‚

2.2 æ£€æŸ¥æ¥å£çš„costå€¼
æ¥å£ä¸‹çš„costå€¼ä¼šå½±å“ç­‰ä»·é»˜è®¤è·¯ç”±çš„äº§ç”Ÿï¼Œé¦–å…ˆæ£€æŸ¥AR34ä¸AR31ã€AR30äº’è”æ¥å£ä¸‹çš„costå€¼ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis interface verbose

                       Interface information for ISIS(1)
                       ---------------------------------
 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/0         001         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/0 Interfac
e
  SNPA Address                : 00e0-fc83-528a
  IP Address                  : 10.5.134.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/1         002         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/1 Interfac
e
  SNPA Address                : 00e0-fc83-528b
  IP Address                  : 10.5.234.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 Loop0           001         Up                 Down         1500 L1/L2 -- 
  Circuit MT State            : Standard 
  Circuit Parameters          : passive 
  Description                 : HUAWEI, AR Series, LoopBack0 Interface
  SNPA Address                : 0000-0000-0000
  IP Address                  : 10.5.1.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L12   10
  Hello Timer Value           :        10
  DIS Hello Timer Value       :
  Hello Multiplier Value      :         3
  Cost                        :  L1     0  L2     0
  Ipv6 Cost                   :  L1     0  L2     0
  Retransmit Timer Value      :  L12    5
  LSP-Throttle Timer          :  L12   50
  Bandwidth-Value             :  Low          0  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR31äº’è”çš„GE0/0/1ã€ä¸AR30äº’è”çš„GE0/0/0æ¥å£çš„costå€¼å‡ä¸º10ã€‚

2.3 æ£€æŸ¥isisé‚»å±…
AR34ä¸AR31ã€AR30ä¹‹é—´è¿è¡Œisisè·¯ç”±åè®®ï¼Œæ£€æŸ¥AR34ä¸Šçš„isisé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis peer 

                          Peer information for ISIS(1)

  System Id     Interface          Circuit Id       State HoldTime Type     PRI
-------------------------------------------------------------------------------
0000.0000.0030  GE0/0/0            0000.0000.0030.01 Up   9s       L1       64 

Total Peer(s): 1
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34åªå’ŒAR30ä¹‹é—´å»ºç«‹level-1çº§åˆ«çš„é‚»å±…ï¼Œç¼ºå°‘äº†ä¸AR31ä¹‹é—´çš„isisé‚»å±…å…³ç³»ã€‚

2.4 æ£€æŸ¥ä¸‰å±‚è¿é€šæ€§
isisé‚»å±…çš„å»ºç«‹ä¾èµ–ä¸‰å±‚çš„è¿é€šæ€§ï¼Œæ£€æŸ¥AR34ä¸AR31ä¹‹é—´ä¸‰å±‚é€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# è·å–AR31ä¸AR34äº’è”æ¥å£çš„åœ°å€
&amp;lt;AR31&amp;gt;display ip interface brief 
*down: administratively down
^down: standby
(l): loopback
(s): spoofing
The number of interface that is UP in Physical is 4
The number of interface that is DOWN in Physical is 1
The number of interface that is UP in Protocol is 4
The number of interface that is DOWN in Protocol is 1

Interface                         IP Address/Mask      Physical   Protocol  
GigabitEthernet0/0/0              unassigned           down       down      
GigabitEthernet0/0/1              10.5.234.31/24       up         up        
GigabitEthernet0/0/2              10.5.231.31/24       up         up        
LoopBack0                         10.5.1.31/32         up         up(s)     
NULL0                             unassigned           up         up(s)     
&amp;lt;AR31&amp;gt;

# æµ‹è¯•ä¸‰å±‚é€šä¿¡æƒ…å†µ
&amp;lt;AR34&amp;gt;ping 10.5.234.31
  PING 10.5.234.31: 56  data bytes, press CTRL_C to break
    Reply from 10.5.234.31: bytes=56 Sequence=1 ttl=255 time=70 ms
    Reply from 10.5.234.31: bytes=56 Sequence=2 ttl=255 time=10 ms
    Reply from 10.5.234.31: bytes=56 Sequence=3 ttl=255 time=10 ms
    Reply from 10.5.234.31: bytes=56 Sequence=4 ttl=255 time=10 ms
    Reply from 10.5.234.31: bytes=56 Sequence=5 ttl=255 time=10 ms

  --- 10.5.234.31 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 10/22/70 ms

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR31ä¸‰å±‚é€šä¿¡æ­£å¸¸ã€‚

2.5 æ£€æŸ¥isisæŠ¥é”™æƒ…å†µ
åœ¨AR34ä¸Šæ£€æŸ¥ä¸AR31äº’è”æ¥å£ä¸‹çš„isisæŠ¥é”™æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis error interface GigabitEthernet 0/0/1
Statistics of errored packets for GE0/0/1:
--------------------------------------------------------------------
LSP packet errors:
Longer LSP              : 0           Smaller LSP             : 0           
Mismatched Level        : 0           Invalid Sysid           : 0           
Zero Sequence Number    : 0           Illegal IS Type         : 0           
Zero Checksum           : 0           Incorrect Checksum      : 0           
Bad Authentication      : 0           Bad Auth Count          : 0           
More Protocol TLV       : 0           Bad Nbr TLV             : 0           
Bad Extended IS TLV     : 0           Bad IF Addr TLV         : 0           
Bad Reach TLV           : 0           Bad Inter Domain TLV    : 0           
Mismatched Area Id(L1)  : 0           Bad TLV Length          : 0          
Bad Alias TLV           : 0           Bad Area TLV            : 0           
Bad SRLG TLV            : 0           Unknown Adjacency       : 0           
Bad Protocol ID         : 0           Bad Version             : 0           
Zero Lifetime           : 0           Bad Ext Reach TLV       : 0           
Bad TE Router ID TLV    : 0           Bad TE Sub TLV          : 0           

Hello packet errors:
Bad Packet Length       : 0           Reserved CircType       : 0           
Repeated System ID      : 0           Bad Circuit Type        : 0           
Longer packet           : 0           More Area Addr          : 0           
Longer Area Addr        : 0           Bad Area Addr TLV       : 0           
More IF Addr            : 0           Bad Formatted IF TLV    : 0           
More Nbr SNPA(LAN)      : 0           Invalid Sysid           : 0           
Bad TLV Length          : 0           Zero HoldingTime        : 0           
Unusable IP Addr        : 0           Repeated IPv4 Addr      : 0           
Mismatched Area Addr(L1): 85          Mismatched Proto        : 0           
SNPA Conflicted(LAN)    : 0           Mismatched Level        : 0           
Mismatched Max Area Addr: 0           Bad Authentication      : 0           
More Auth TLV           : 0           3-Way Option Error(P2P) : 0           
No Area Addr TLV        : 0           Bad Protocol ID         : 0           
Bad Version             : 0           Invalid IPv6 Addr       : 0           
More IPv6 IF Addr       : 0           Duplicate IPv6 Addr     : 0           
More Optional Checksum  : 0           Bad Optional Checksum   : 0           
--------------------------------------------------------------------

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œâ€œMismatched Area Addr(L1): 85 â€è¡¨æ˜AR34ä¸AR31ä¹‹é—´æœ‰äº¤äº’Level-1çº§åˆ«çš„helloæŠ¥æ–‡çš„èƒ½åŠ›ï¼Œé‚»å±…æœªå»ºç«‹çš„åŸå› æ˜¯isisçš„åŒºåŸŸIDä¸ä¸€è‡´ã€‚

2.6 æŸ¥çœ‹AR34ä¸AR31çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
ä¸ºäº†ç¡®è®¤AR34ä¸AR31ä¹‹é—´åŒºåŸŸIDæ˜¯å¦ä¸€è‡´ï¼Œéœ€è¦å¯¹æ¯”æŸ¥çœ‹AR31ä¸AR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR34
&amp;lt;AR34&amp;gt;display isis lsdb verbose

                        Database information for ISIS(1)
                        --------------------------------

                          Level-1 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0030.00-00  0x00000007   0xeae4        1011          102     1/0/0   
 SOURCE       0000.0000.0030.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.30
 INTF ADDR    10.5.230.30
 INTF ADDR    10.5.134.30
 NBR  ID      0000.0000.0030.01  COST: 10        
 IP-Internal  10.5.1.30       255.255.255.255  COST: 0         
 IP-Internal  10.5.230.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        

0000.0000.0030.01-00  0x00000002   0xdb1e        1011          55      0/0/0   
 SOURCE       0000.0000.0030.01
 NLPID        IPV4
 NBR  ID      0000.0000.0030.00  COST: 0         
 NBR  ID      0000.0000.0034.00  COST: 0         

0000.0000.0034.00-00* 0x00000006   0xd4e9        1119          102     0/0/0   
 SOURCE       0000.0000.0034.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.34
 INTF ADDR    10.5.134.34
 INTF ADDR    10.5.234.34
 NBR  ID      0000.0000.0030.01  COST: 10        
 IP-Internal  10.5.1.34       255.255.255.255  COST: 0         
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        

Total LSP(s): 3
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload

# AR31
&amp;lt;AR31&amp;gt;display isis lsdb verbose

                        Database information for ISIS(1)
                        --------------------------------

                          Level-1 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0031.00-00* 0x00000008   0x5474        1037          88      1/0/0   
 SOURCE       0000.0000.0031.00
 NLPID        IPV4
 AREA ADDR    49.0006 
 INTF ADDR    10.5.1.31
 INTF ADDR    10.5.231.31
 INTF ADDR    10.5.234.31
 IP-Internal  10.5.1.31       255.255.255.255  COST: 0         
 IP-Internal  10.5.231.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        

Total LSP(s): 1
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload


                          Level-2 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0028.00-00  0x00000009   0x1829        974           97      0/0/0   
 SOURCE       0000.0000.0028.00
 NLPID        IPV4
 AREA ADDR    49.0006 
 INTF ADDR    10.5.230.28
 INTF ADDR    10.5.231.28
 NBR  ID      0000.0000.0030.02  COST: 10        
 NBR  ID      0000.0000.0031.02  COST: 10        
 IP-Internal  10.5.230.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.231.0      255.255.255.0    COST: 10        

0000.0000.0028.00-01  0x00000005   0xb97e        974           89      0/0/0   
 SOURCE       0000.0000.0028.00
 IP-External  10.5.1.28       255.255.255.255  COST: 64        
 IP-External  10.5.128.0      255.255.255.0    COST: 64        
 IP-External  10.5.232.0      255.255.255.0    COST: 64        
 IP-External  10.5.1.32       255.255.255.255  COST: 64        
 IP-External  10.5.1.27       255.255.255.255  COST: 64        

0000.0000.0030.00-00  0x00000007   0xb8b8        984           126     0/0/0   
 SOURCE       0000.0000.0030.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.30
 INTF ADDR    10.5.230.30
 INTF ADDR    10.5.134.30
 NBR  ID      0000.0000.0030.02  COST: 10        
 IP-Internal  10.5.1.30       255.255.255.255  COST: 0         
 IP-Internal  10.5.230.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.1.34       255.255.255.255  COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 20        

0000.0000.0030.02-00  0x00000002   0x8381        984           55      0/0/0   
 SOURCE       0000.0000.0030.02
 NLPID        IPV4
 NBR  ID      0000.0000.0030.00  COST: 0         
 NBR  ID      0000.0000.0028.00  COST: 0         

0000.0000.0031.00-00* 0x00000008   0x5fa4        1036          102     0/0/0   
 SOURCE       0000.0000.0031.00
 NLPID        IPV4
 AREA ADDR    49.0006 
 INTF ADDR    10.5.1.31
 INTF ADDR    10.5.231.31
 INTF ADDR    10.5.234.31
 NBR  ID      0000.0000.0031.02  COST: 10        
 IP-Internal  10.5.1.31       255.255.255.255  COST: 0         
 IP-Internal  10.5.231.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        

0000.0000.0031.02-00* 0x00000002   0x8c76        1036          55      0/0/0   
 SOURCE       0000.0000.0031.02
 NLPID        IPV4
 NBR  ID      0000.0000.0031.00  COST: 0         
 NBR  ID      0000.0000.0028.00  COST: 0         

Total LSP(s): 6
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„åŒºåŸŸIDä¸º49.0005ï¼Œè€ŒAR31çš„åŒºåŸŸIDä¸º49.0006ï¼ŒåŒºåŸŸIDä¸ç›¸åŒæ— æ³•å»ºç«‹level-1çº§åˆ«é‚»å±…çš„å»ºç«‹ï¼Œä½†æ˜¯ä¸å½±å“level-2çº§åˆ«é‚»å±…çš„å»ºç«‹ã€‚åŒæ—¶ä¹Ÿçœ‹åˆ°AR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ä¸­åªæ¥å—åˆ°äº†æ¥è‡ªAR30çš„ATTä½ç½®1çš„lspï¼Œå¹¶æœªæ”¶åˆ°æ¥è‡ªAR31çš„ATTä½ç½®1çš„lspï¼Œå› æ­¤æ— æ³•äº§ç”ŸæŒ‡å‘AR31çš„é»˜è®¤è·¯ç”±ã€‚

2.7 æŸ¥çœ‹AR31çš„isisè¿›ç¨‹ä¿¡æ¯ä¸é‚»å±…
AR31æƒ³è¦äº§ç”ŸATTç½®1çš„lspï¼Œä¸ä»…éœ€è¦ä¸AR34å»ºç«‹level-1çº§åˆ«çš„isisé‚»å±…ï¼ŒåŒæ ·è¿˜éœ€è¦ä¸ä¸åŒåŒºåŸŸçš„AR28å»ºç«‹level-2çº§åˆ«çš„isisé‚»å±…ï¼Œå› æ­¤AR34çš„isisçº§åˆ«åªèƒ½ä¸ºlevel-1-2ï¼ŒæŸ¥çœ‹isisè¿›ç¨‹ä¿¡æ¯ï¼Œç¡®è®¤AR31çš„isisçº§åˆ«æ˜¯å¦é…ç½®æ­£ç¡®ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# isisè¿›ç¨‹ä¿¡æ¯
&amp;lt;AR31&amp;gt;display isis brief 

                     ISIS Protocol Information for ISIS(1)
                     -------------------------------------
SystemId: 0000.0000.0031      System Level: L12   
Area-Authentication-mode: NULL
Domain-Authentication-mode: NULL
Ipv6 is not enabled
ISIS is in invalid restart status
ISIS is in protocol hot standby state: Real-Time Backup

Interface: 10.5.234.31(GE0/0/1)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.231.31(GE0/0/2)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.1.31(Loop0)
Cost: L1 0         L2 0                 Ipv6 Cost: L1 0    L2 0    
State: IPV4 Up                          IPV6 Down
Type: P2P                               MTU: 1500      
Priority: L1 64   L2  64   
Timers:     Csnp: L12 10  , Retransmit: L12 5   , Hello: 10  ,
Hello Multiplier: 3            , LSP-Throttle Timer: L12 50

# isisé‚»å±…æƒ…å†µ
&amp;lt;AR31&amp;gt;display isis peer 

                          Peer information for ISIS(1)

  System Id     Interface          Circuit Id       State HoldTime Type     PRI
-------------------------------------------------------------------------------
0000.0000.0028  GE0/0/2            0000.0000.0031.02 Up   28s      L2       64 

Total Peer(s): 1

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„isisçº§åˆ«ç¡®å®ä¸ºlevel-1-2ï¼ŒåŒæ—¶ä¸AR28æˆåŠŸå»ºç«‹level-2çº§åˆ«çš„isisé‚»å±…ã€‚

2.8 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯ï¼Œä¸AR34çš„åŒºåŸŸIDä¸ä¸€è‡´ï¼Œå¯¼è‡´AR31ä¸AR34ä¹‹é—´æ— æ³•å»ºç«‹level-1çš„isisé‚»å±…ã€‚


ä¸‰ã€æ•…éšœè§£å†³
3.1 AR31çš„åŒºåŸŸIDé…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo network-entity 49.0006.0000.0000.0031.00 //åˆ é™¤é”™è¯¯çš„åŒºåŸŸID
network-entity 49.0005.0000.0000.0031.00 //é…ç½®æ­£ç¡®çš„åŒºåŸŸID

æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹AR34ä¸AR31ä¹‹é—´çš„isisé‚»å±…æ˜¯å¦æ­£å¸¸
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨æ¥è‡ªAR31çš„ATTä½ç½®1çš„lsp
display ip routing-table //æŸ¥çœ‹ç­‰ä»·é»˜è®¤è·¯ç”±æƒ…å†µï¼Œæ•…éšœæ˜¯å¦æ’é™¤

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœ
3.2.1 AR31åœ¨isisè¿›ç¨‹ä¸‹é…ç½®ATTä½ä¸èƒ½ç½®1çš„å‘½ä»¤ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo attached-bit advertise //åˆ é™¤ATTä¸ç½®1çš„é…ç½®

3.2.2 AR34åœ¨isisè¿›ç¨‹ä¸‹å¯¹ä¸åŒçš„ä¸‹ä¸€è·³è®¾å¤‡ä¸åŒçš„weightï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo nexthop 10.5.x.x //åˆ é™¤é’ˆå¯¹ä¸‹ä¸€è·³è®¾ç½®weight
 
3.2.3 AR34åœ¨isisè¿›ç¨‹ä¸‹é…ç½®æœ€å¤§è´Ÿè½½ä¸º1ï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo maximum load-balancing //åˆ é™¤æœ€å¤§è´Ÿè½½è®¾ç½®

3.2.4 AR34ä¸AR31äº’è”æ¥å£çš„isisè®¤è¯ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/1 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo isis authentication-mode //åˆ é™¤æ¥å£è®¤è¯
isis authentication-mode {AR31å’ŒAR34ä¹‹é—´ä½¿ç”¨ç›¸åŒçš„è®¤è¯} //æˆ–è€…ä¿®æ”¹æˆä¸€è‡´çš„è®¤è¯

3.2.5 AR34ä¸AR31çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR31å’ŒAR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
cost-style {AR34ä¸AR31ä¹‹é—´ç›¸åŒçš„costç±»å‹} //ä¿®æ”¹costç±»å‹

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac6-2å˜ç§3&#34;&gt;TAC6-2:å˜ç§3&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-3&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR31çš„isisçº§åˆ«é…ç½®é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•ä¸AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„isisé‚»å±…ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
æŸ¥çœ‹AR34çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 16       Routes : 16       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.31/32  ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.231.0/24  ISIS-L1 15   20          D   10.5.234.31     GigabitEthernet
0/0/1
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„è·¯ç”±è¡¨ä¸­åªå­˜åœ¨ä¸€æ¡æŒ‡å‘AR30çš„é»˜è®¤è·¯ç”±ï¼Œç¼ºå°‘æŒ‡å‘AR31çš„é»˜è®¤è·¯ç”±ï¼Œæ•…éšœå­˜åœ¨ã€‚

2.2 æ£€æŸ¥æ¥å£çš„costå€¼
AR34ä¸AR31ã€AR30äº’è”æ¥å£ä¸‹çš„costå€¼ä¼šå½±å“ç­‰ä»·é»˜è®¤è·¯ç”±çš„äº§ç”Ÿï¼Œåœ¨AR34ä¸Šæ£€æŸ¥è¿™ä¸¤ä¸ªæ¥å£ä¸‹çš„costå€¼ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis interface verbose

                       Interface information for ISIS(1)
                       ---------------------------------
 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/0         001         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/0 Interfac
e
  SNPA Address                : 00e0-fc83-528a
  IP Address                  : 10.5.134.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 GE0/0/1         002         Up                 Down         1497 L1/L2 No/No 
  Circuit MT State            : Standard 
  Description                 : HUAWEI, AR Series, GigabitEthernet0/0/1 Interfac
e
  SNPA Address                : 00e0-fc83-528b
  IP Address                  : 10.5.234.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L1    10  L2    10
  Hello Timer Value           :  L1    10  L2    10
  DIS Hello Timer Value       :  L1     3  L2     3
  Hello Multiplier Value      :  L1     3  L2     3
  LSP-Throttle Timer          :  L12    50
  Cost                        :  L1    10  L2    10
  Ipv6 Cost                   :  L1    10  L2    10
  Priority                    :  L1    64  L2    64
  Retransmit Timer Value      :  L12    5
  Bandwidth-Value             :  Low 1000000000  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO

 Interface       Id      IPV4.State          IPV6.State      MTU  Type  DIS   
 Loop0           001         Up                 Down         1500 L1/L2 -- 
  Circuit MT State            : Standard 
  Circuit Parameters          : passive 
  Description                 : HUAWEI, AR Series, LoopBack0 Interface
  SNPA Address                : 0000-0000-0000
  IP Address                  : 10.5.1.34
  IPV6 Link Local Address     :
  IPV6 Global Address(es)     :
  Csnp Timer Value            :  L12   10
  Hello Timer Value           :        10
  DIS Hello Timer Value       :
  Hello Multiplier Value      :         3
  Cost                        :  L1     0  L2     0
  Ipv6 Cost                   :  L1     0  L2     0
  Retransmit Timer Value      :  L12    5
  LSP-Throttle Timer          :  L12   50
  Bandwidth-Value             :  Low          0  High          0
  Static Bfd                  :  NO
  Dynamic Bfd                 :  NO
  Fast-Sense Rpr              :  NO
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR31äº’è”çš„GE0/0/1æ¥å£ã€ä¸AR30äº’è”çš„GE0/0/0æ¥å£çš„costå€¼å‡ä¸º10ã€‚

2.3 æ£€æŸ¥isisé‚»å±…
AR34ä¸AR31ã€AR30ä¹‹é—´è¿è¡Œisisè·¯ç”±åè®®ï¼Œæ£€æŸ¥AR34ä¸Šçš„isisé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis peer 

                          Peer information for ISIS(1)

  System Id     Interface          Circuit Id       State HoldTime Type     PRI
-------------------------------------------------------------------------------
0000.0000.0030  GE0/0/0            0000.0000.0030.01 Up   9s       L1       64 
0000.0000.0031  GE0/0/1            0000.0000.0031.01 Up   8s       L1       64 

Total Peer(s): 2
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸AR31ã€AR30ä¹‹é—´å‡å­˜åœ¨level-1çº§åˆ«çš„isisé‚»å±…ã€‚

2.4 æ£€æŸ¥isisçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
AR34ä¸Šæƒ³è¦äº§ç”Ÿé»˜è®¤è·¯ç”±ï¼Œéœ€è¦isisæ¥æ”¶åˆ°ATTä½ç½®1çš„lspï¼ŒæŸ¥çœ‹AR34çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ç¡®è®¤æ˜¯å¦å­˜åœ¨æ¥è‡ªAR31çš„ATTç½®1çš„lspï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display isis lsdb verbose

                        Database information for ISIS(1)
                        --------------------------------

                          Level-1 Link State Database

LSPID                 Seq Num      Checksum      Holdtime      Length  ATT/P/OL
-------------------------------------------------------------------------------
0000.0000.0030.00-00  0x0000000a   0xe4e7        942           102     1/0/0   
 SOURCE       0000.0000.0030.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.30
 INTF ADDR    10.5.230.30
 INTF ADDR    10.5.134.30
 NBR  ID      0000.0000.0030.01  COST: 10        
 IP-Internal  10.5.1.30       255.255.255.255  COST: 0         
 IP-Internal  10.5.230.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        

0000.0000.0030.01-00  0x00000003   0xd91f        942           55      0/0/0   
 SOURCE       0000.0000.0030.01
 NLPID        IPV4
 NBR  ID      0000.0000.0030.00  COST: 0         
 NBR  ID      0000.0000.0034.00  COST: 0         

0000.0000.0031.00-00  0x00000007   0xdfb         837           102     0/0/0   
 SOURCE       0000.0000.0031.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.31
 INTF ADDR    10.5.234.31
 INTF ADDR    10.5.231.31
 NBR  ID      0000.0000.0031.01  COST: 10        
 IP-Internal  10.5.1.31       255.255.255.255  COST: 0         
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.231.0      255.255.255.0    COST: 10        

0000.0000.0031.01-00  0x00000003   0xe018        836           55      0/0/0   
 SOURCE       0000.0000.0031.01
 NLPID        IPV4
 NBR  ID      0000.0000.0031.00  COST: 0         
 NBR  ID      0000.0000.0034.00  COST: 0         

0000.0000.0034.00-00* 0x0000000a   0xee3         762           113     0/0/0   
 SOURCE       0000.0000.0034.00
 NLPID        IPV4
 AREA ADDR    49.0005 
 INTF ADDR    10.5.1.34
 INTF ADDR    10.5.134.34
 INTF ADDR    10.5.234.34
 NBR  ID      0000.0000.0030.01  COST: 10        
 NBR  ID      0000.0000.0031.01  COST: 10        
 IP-Internal  10.5.1.34       255.255.255.255  COST: 0         
 IP-Internal  10.5.134.0      255.255.255.0    COST: 10        
 IP-Internal  10.5.234.0      255.255.255.0    COST: 10        

Total LSP(s): 5
    *(In TLV)-Leaking Route, *(By LSPID)-Self LSP, +-Self LSP(Extended), 
           ATT-Attached, P-Partition, OL-Overload

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œæ¥è‡ªAR31çš„lspçš„ATTä½å‡ä¸ºç½®1ã€‚è¦æƒ³äº§ç”ŸATTä½ç½®1çš„lspï¼Œéœ€è¦AR31ä¸AR34ä¹‹é—´å»ºç«‹level-1çº§åˆ«çš„isisé‚»å±…ï¼ŒåŒæ—¶è¿˜éœ€è¦AR31ä¸ä¸åŒåŒºåŸŸçš„AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„é‚»å±…ï¼Œå³AR31çš„isisçº§åˆ«åªèƒ½ä¸ºlevel-1-2ã€‚

2.5 æŸ¥çœ‹AR31çš„isisè¿›ç¨‹ä¿¡æ¯å’Œé‚»å±…
ä¸ºç¡®è®¤AR31çš„isisçº§åˆ«æ˜¯å¦æ­£ç¡®ï¼Œéœ€è¦æŸ¥çœ‹AR31çš„isisè¿›ç¨‹ä¿¡æ¯ï¼ŒåŒæ—¶æŸ¥çœ‹AR31ä¸AR28ä¹‹é—´çš„isisé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# isisè¿›ç¨‹ä¿¡æ¯
&amp;lt;AR31&amp;gt;display isis brief 

                     ISIS Protocol Information for ISIS(1)
                     -------------------------------------
SystemId: 0000.0000.0031      System Level: L1    
Area-Authentication-mode: NULL
Domain-Authentication-mode: NULL
Ipv6 is not enabled
ISIS is in invalid restart status
ISIS is in protocol hot standby state: Real-Time Backup

Interface: 10.5.234.31(GE0/0/1)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.231.31(GE0/0/2)
Cost: L1 10        L2 10                Ipv6 Cost: L1 10   L2 10   
State: IPV4 Up                          IPV6 Down
Type: BROADCAST                         MTU: 1497      
Priority: L1 64   L2 64   
Timers:     Csnp: L1 10    L2 10    ,Retransmit: L12 5   , Hello: L1 10 L2 10  ,
 
Hello Multiplier: L1 3    L2 3     , LSP-Throttle Timer: L12 50  

Interface: 10.5.1.31(Loop0)
Cost: L1 0         L2 0                 Ipv6 Cost: L1 0    L2 0    
State: IPV4 Up                          IPV6 Down
Type: P2P                               MTU: 1500      
Priority: L1 64   L2  64   
Timers:     Csnp: L12 10  , Retransmit: L12 5   , Hello: 10  ,
Hello Multiplier: 3            , LSP-Throttle Timer: L12 50  

# isisé‚»å±…
&amp;lt;AR31&amp;gt;display isis peer 

                          Peer information for ISIS(1)

  System Id     Interface          Circuit Id       State HoldTime Type     PRI
-------------------------------------------------------------------------------
0000.0000.0034  GE0/0/1            0000.0000.0031.01 Up   25s      L1       64 

Total Peer(s): 1

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„isisçº§åˆ«ä¸ºlevel-1ï¼Œé…ç½®é”™è¯¯ï¼ŒåŒæ—¶AR31ä¸Šæ— æ³•äº§ç”Ÿlevel-2çš„lspï¼Œå› æ­¤ï¼Œæ— æ³•ä¸AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„isisé‚»å±…å…³ç³»ã€‚

2.6 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR31çš„isisçº§åˆ«é…ç½®é”™è¯¯ï¼Œå¯¼è‡´æ— æ³•ä¸AR28ä¹‹é—´å»ºç«‹level-2çº§åˆ«çš„isisé‚»å±…ã€‚

ä¸‰ã€æ•…éšœè§£å†³
3.1 AR31çš„isisçº§åˆ«é…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
is-level level-1-2 //ä¿®æ”¹æ­£ç¡®çš„isisçº§åˆ«

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤éœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›ç¨‹æ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹AR34ä¸AR28ä¹‹é—´æ˜¯å¦å»ºç«‹level-2çº§åˆ«çš„é‚»å±…
åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›ç¨‹æ£€æŸ¥ï¼š
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ATTä½ç½®1çš„æ¥è‡ªAR31çš„lsp
display ip routing-table //æŸ¥çœ‹ç­‰ä»·é»˜è®¤è·¯ç”±æƒ…å†µï¼Œæ•…éšœæ˜¯å¦æ’é™¤

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
ä¸AR31å’ŒAR28ä¹‹é—´çš„isisé‚»å±…ç›¸å…³ï¼š
3.2.1 AR28çš„GigabitEthernet 0/0/2æ²¡æœ‰ä½¿èƒ½isisï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/2 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
isis enable {isisè¿›ç¨‹id} //æ¥å£ä¸‹ä½¿èƒ½isis

3.2.2 AR28çš„isisè¿›ç¨‹ä¸‹é…ç½®domainè®¤è¯(AR31æ²¡æœ‰é…ç½®)ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo domain-authentication-mode //åˆ é™¤domainè®¤è¯

3.2.3 AR28ä¸AR31äº’è”æ¥å£ä¸‹çš„mtuä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/2 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
mtu 1497 //ä¿®æ”¹AR28çš„æ¥å£ä¸‹mtuå€¼ï¼Œä¿æŒä¸AR31ä¸€è‡´

3.2.4 AR28ä¸AR31äº’è”æ¥å£ä¸‹é“¾è·¯ç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/2 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo isis circuit-type //åˆ é™¤æ¥å£ä¸‹é“¾è·¯ç±»å‹çš„è®¾ç½®ï¼Œä¿æŒä¸AR31ä¸€è‡´çš„å¹¿æ’­ç±»å‹

3.2.5 AR28ä¸AR31äº’è”æ¥å£ä¸‹isisè®¤è¯ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR28å’ŒAR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/2 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo isis authentication-mode //åˆ é™¤æ¥å£è®¤è¯

3.2.6 AR28ä¸AR31çš„isisè¿›ç¨‹ä¸‹çš„costç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR28å’ŒAR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
cost-style {ç›¸åŒçš„costç±»å‹} //ä¿®æ”¹æˆç›¸åŒçš„costç±»å‹

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤éœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›ç¨‹æ£€æŸ¥ï¼š
display isis peer //æŸ¥çœ‹AR34ä¸AR28ä¹‹é—´æ˜¯å¦å»ºç«‹level-2çº§åˆ«çš„é‚»å±…
åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›ç¨‹æ£€æŸ¥ï¼š
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ATTä½ç½®1çš„æ¥è‡ªAR31çš„lsp
display ip routing-table //æŸ¥çœ‹ç­‰ä»·é»˜è®¤è·¯ç”±æƒ…å†µï¼Œæ•…éšœæ˜¯å¦æ’é™¤

ä¸ä¸èƒ½äº§ç”ŸATTä½ç½®1çš„lspæœ‰å…³ï¼š
3.2.7 AR31åœ¨isisè¿›ç¨‹ä¸‹é…ç½®ATTä½ä¸ç½®1çš„å‘½ä»¤ï¼Œéœ€è¦åœ¨AR31ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo attached-bit advertise //åˆ é™¤ATTä½ä¸ç½®1çš„å‘½ä»¤

3.2.8 AR34åœ¨isisè¿›ç¨‹ä¸‹é’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weightï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo nexthop 10.5.x.x //åˆ é™¤é’ˆå¯¹ä¸‹ä¸€è·³é…ç½®ä¸åŒçš„weight

3.2.9 AR34åœ¨isisè¿›ç¨‹ä¸‹é…ç½®æœ€å¤§è´Ÿè½½ä¸º1ï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
isis {isisè¿›ç¨‹ID} //è¿›å…¥isisè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo maximum load-balancing //åˆ é™¤æœ€å¤§è´Ÿè½½è®¾ç½®

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤éœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›ç¨‹æ£€æŸ¥ï¼š
display isis lsdb verbose //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ATTä½ç½®1çš„æ¥è‡ªAR31çš„lsp
display ip routing-table //æŸ¥çœ‹ç­‰ä»·é»˜è®¤è·¯ç”±æƒ…å†µï¼Œæ•…éšœæ˜¯å¦æ’é™¤

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ•…éšœæ’é™¤ï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼

&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-6</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-5/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­äº”&#34;&gt;è¯Šæ–­äº”&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®isisåŒºåŸŸéƒ¨åˆ†è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;tac5-1å˜ç§1&#34;&gt;TAC5-1:å˜ç§1&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR30çš„g0/0/0æ¥å£çš„å‡ºæ–¹å‘ä¸Šå­˜åœ¨ç€é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡çš„è¿‡æ»¤è§„åˆ™ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
ç”±äºæœªç¡®å®šä¸èƒ½è®¿é—®å“ªäº›è®¾å¤‡ï¼Œéœ€è¦è¿›è¡Œé€ä¸€æµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.134.30
  PING 10.5.134.30: 56  data bytes, press CTRL_C to break
    Reply from 10.5.134.30: bytes=56 Sequence=1 ttl=254 time=40 ms
    Reply from 10.5.134.30: bytes=56 Sequence=2 ttl=254 time=30 ms
    Reply from 10.5.134.30: bytes=56 Sequence=3 ttl=254 time=30 ms
    Reply from 10.5.134.30: bytes=56 Sequence=4 ttl=254 time=40 ms
    Reply from 10.5.134.30: bytes=56 Sequence=5 ttl=254 time=20 ms

  --- 10.5.134.30 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 20/32/40 ms
....çœç•¥éƒ¨åˆ†èƒ½å¤Ÿæ­£å¸¸é€šä¿¡çš„æµ‹è¯•ç»“æœ
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.1.34
  PING 10.5.1.34: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.34 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.134.34
  PING 10.5.134.34: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.134.34 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32æ— æ³•è®¿é—®AR34çš„g0/0/0æ¥å£å’Œloopback0æ¥å£ï¼Œæ•…éšœå­˜åœ¨ã€‚

2.2 æ£€æŸ¥è·¯ç”±è¡¨
AR32æƒ³è¦è®¿é—®ä¸Šè¿°ä¸¤ä¸ªæ¥å£ï¼Œé¦–å…ˆéœ€è¦åœ¨è·¯ç”±è¡¨ä¸­å­˜åœ¨ä¸Šè¿°æ¥å£åœ°å€çš„è·¯ç”±ï¼Œæ£€æŸ¥AR32çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 18       Routes : 18       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.28/32  OSPF    10   1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.30/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.31/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.32/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.34/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.128.0/24  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.134.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.230.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.231.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.232.0/24  Direct  0    0           D   10.5.232.32     GigabitEthernet
0/0/0
    10.5.232.32/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.232.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.234.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR34çš„ä¸Šè¿°ä¸¤ä¸ªæ¥å£åœ°å€çš„è·¯ç”±ï¼ŒåŒæ—¶å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±ï¼Œè¿™è¯´æ˜AR28å’ŒAR32çš„ospfé‚»å±…æ­£å¸¸ï¼Œå¹¶ä¸”AR28ä¸Šæ­£ç¡®çš„å°†isisåŒºåŸŸçš„è·¯ç”±å¼•å…¥ospfè¿›ç¨‹ä¸‹ã€‚

2.3 æ£€æŸ¥AR34çš„è·¯ç”±è¡¨
é€šä¿¡æ˜¯åŒå‘çš„ï¼Œä¸ä»…éœ€è¦AR32ä¸Šå­˜åœ¨å¯¹æ–¹çš„è·¯ç”±ï¼ŒåŒæ ·éœ€è¦AR34ä¸Šå­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼ŒæŸ¥çœ‹AR34çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 16       Routes : 17       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
                    ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.31/32  ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.231.0/24  ISIS-L1 15   20          D   10.5.234.31     GigabitEthernet
0/0/1
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34ä¸Šå¹¶ä¸å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±ï¼Œåˆ†åˆ«æŒ‡å‘AR31å’ŒAR30ã€‚

2.4 æŸ¥çœ‹AR31çš„è·¯ç”±è¡¨
ç”±äºAR30æ— æ³•çš„ç™»å½•ï¼Œåªèƒ½æŸ¥çœ‹AR31çš„è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR31&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 20       Routes : 20       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.28/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.30/32  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
      10.5.1.31/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.32/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.34/32  ISIS-L1 15   10          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.128.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.134.0/24  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.230.0/24  ISIS-L1 15   30          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.231.0/24  Direct  0    0           D   10.5.231.31     GigabitEthernet
0/0/2
    10.5.231.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
   10.5.231.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
     10.5.232.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.234.0/24  Direct  0    0           D   10.5.234.31     GigabitEthernet
0/0/1
    10.5.234.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œè¿™è¯´æ˜AR34ä¸AR30ã€AR31ä¹‹é—´çš„level-1çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28ä¸AR30ã€AR31ä¹‹é—´çš„level-2çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28ä¸Šå°†ospfåŒºåŸŸè·¯ç”±æˆåŠŸè¿›å…¥isisè¿›ç¨‹ã€‚è‡³æ­¤ï¼Œè·¯ç”±æ§åˆ¶å±‚é¢ä¸å­˜åœ¨é—®é¢˜ï¼Œä¸‹é¢éœ€è¦æ£€æŸ¥æ•°æ®å±‚é¢çš„é—®é¢˜ã€‚

2.5 ä¸å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ª
åœ¨AR34ä¸Šï¼Œä»¥AR34ä¸Šæ— æ³•è®¿é—®çš„ä¸¤ä¸ªæ¥å£åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œè¿›è¡Œè·¯ç”±è¿½è¸ªï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;tracert 10.5.134.34

 traceroute to  10.5.134.34(10.5.134.34), max hops: 30 ,packet length: 40,press 
CTRL_C to break 

 1 10.5.232.28 30 ms  20 ms  10 ms 

 2 10.5.230.30 30 ms  20 ms  30 ms 

 3 10.5.134.34 50 ms  20 ms  20 ms 

&amp;lt;AR32&amp;gt;tracert 10.5.1.34

 traceroute to  10.5.1.34(10.5.1.34), max hops: 30 ,packet length: 40,press CTRL
_C to break 

 1 10.5.232.28 30 ms  20 ms  30 ms 

 2 10.5.230.30 20 ms 10.5.231.31 30 ms 10.5.230.30 20 ms 

 3 10.5.234.34 30 ms 10.5.134.34 40 ms 10.5.234.34 30 ms 
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34åœ¨ä¸å¸¦æºåœ°å€çš„æƒ…å†µä¸‹èƒ½å¤Ÿæ­£å¸¸è®¿é—®ä¸Šè¿°ä¸¤ä¸ªæ¥å£ï¼Œå¹¶ä¸”è®¿é—®AR34çš„loopback0æ¥å£çš„ä¸¤æ¡ç­‰ä»·è·¯ç”±å‡æ­£å¸¸ã€‚

2.6 å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ª
åœ¨AR34ä¸Šï¼Œä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œä»¥AR34ä¸Šæ— æ³•è®¿é—®çš„ä¸¤ä¸ªæ¥å£åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œè¿›è¡Œè·¯ç”±è¿½è¸ªï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.134.34

 traceroute to  10.5.134.34(10.5.134.34)
, max hops: 30 ,packet length: 40,press CTRL_C to break 

 1 10.5.232.28 20 ms  20 ms  30 ms 

 2 10.5.230.30 30 ms  20 ms  20 ms 

 3  *  *  * 

&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.1.34

 traceroute to  10.5.1.34(10.5.1.34), max hops: 30 ,packet length: 40,press CTRL
_C to break 

 1 10.5.232.28 20 ms  20 ms  10 ms 

 2 10.5.231.31 40 ms 10.5.230.30 30 ms 10.5.231.31 20 ms 

 3  * 10.5.234.34 40 ms  * 

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34åœ¨å¸¦æœ‰æºåœ°å€çš„æƒ…å†µä¸‹è¿›è¡Œè·¯ç”±è¿½è¸ªï¼Œè¿½è¸ªAR34çš„g0/0/0æ¥å£æ—¶ï¼Œåœ¨ç¬¬ä¸‰è·³å‡ºç°æ— æ³•æ­£å¸¸å›æ˜¾çš„æƒ…å†µï¼Œè¿½è¸ªloopback0æ¥å£æ—¶ï¼Œç¬¬ä¸‰è·³ä¸­ä¸¤æ¡ç­‰ä»·çš„é»˜è®¤è·¯ç”±ï¼Œç»è¿‡AR30çš„é‚£æ¡æ²¡æœ‰æ­£å¸¸å›æ˜¾ã€‚ç§ç§è¿¹è±¡è¡¨æ˜AR34ä¸AR30ä¹‹é—´å­˜åœ¨é’ˆå¯¹AR32çš„loopback0æ¥å£çš„æµé‡è¿‡æ»¤

2.7 æ£€æŸ¥AR34çš„g0/0/0æ¥å£æµ‹è¯•å‰åçš„æ¥æ”¶æŠ¥æ–‡æƒ…å†µ
åœ¨AR32ä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œä»¥AR34çš„g0/0/0æ¥å£åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œæ‰§è¡Œpingæµ‹è¯•ï¼Œè§‚å¯Ÿæµ‹è¯•å‰åAR34çš„g0/0/0æ¥å£ä¸‹çš„æ¥æ”¶æŠ¥æ–‡æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# æµ‹è¯•å‰AR34çš„g0/0/0æ¥å£æƒ…å†µ
&amp;lt;AR34&amp;gt;display interface GigabitEthernet 0/0/0
GigabitEthernet0/0/0 current state : UP
Line protocol current state : UP
Last line protocol up time : 2021-01-02 16:44:00 UTC-08:00
Description:HUAWEI, AR Series, GigabitEthernet0/0/0 Interface
Route Port,The Maximum Transmit Unit is 1500
Internet Address is 10.5.134.34/24
IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, Hardware address is 00e0-fc83-528a
Last physical up time   : 2021-01-02 16:44:00 UTC-08:00
Last physical down time : 2021-01-02 16:43:50 UTC-08:00
Current system time: 2021-01-02 17:06:16-08:00
Port Mode: FORCE COPPER
Speed : 1000,  Loopback: NONE
Duplex: FULL,  Negotiation: ENABLE
Mdi   : AUTO
Last 300 seconds input rate 7576 bits/sec, 0 packets/sec
Last 300 seconds output rate 1208 bits/sec, 0 packets/sec
Input peak rate 12112 bits/sec,Record time: 2021-01-02 16:49:09
Output peak rate 7456 bits/sec,Record time: 2021-01-02 16:44:09

Input:  957 packets, 1245067 bytes
  Unicast:                  5,  Multicast:                 950
  Broadcast:                2,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0

# æµ‹è¯•
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.1.34
  PING 10.5.1.34: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.34 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss

# æµ‹è¯•åAR34çš„g0/0/0æ¥å£æƒ…å†µ
&amp;lt;AR34&amp;gt;display interface GigabitEthernet 0/0/0
GigabitEthernet0/0/0 current state : UP
Line protocol current state : UP
Last line protocol up time : 2021-01-02 16:44:00 UTC-08:00
Description:HUAWEI, AR Series, GigabitEthernet0/0/0 Interface
Route Port,The Maximum Transmit Unit is 1500
Internet Address is 10.5.134.34/24
IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, Hardware address is 00e0-fc83-528a
Last physical up time   : 2021-01-02 16:44:00 UTC-08:00
Last physical down time : 2021-01-02 16:43:50 UTC-08:00
Current system time: 2021-01-02 17:07:15-08:00
Port Mode: FORCE COPPER
Speed : 1000,  Loopback: NONE
Duplex: FULL,  Negotiation: ENABLE
Mdi   : AUTO
Last 300 seconds input rate 7576 bits/sec, 0 packets/sec
Last 300 seconds output rate 1208 bits/sec, 0 packets/sec
Input peak rate 12112 bits/sec,Record time: 2021-01-02 16:49:09
Output peak rate 7456 bits/sec,Record time: 2021-01-02 16:44:09

Input:  1000 packets, 1301877 bytes
  Unicast:                  5,  Multicast:                 993
  Broadcast:                2,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34çš„g0/0/0æ¥å£åœ¨Inputæ–¹å‘ä¸Šçš„UnicastæŠ¥æ–‡æ•°é‡åœ¨æµ‹è¯•å‰åä¸€è‡´ï¼Œå³AR34ä¸Šå¹¶æ²¡æœ‰æ”¶åˆ°å•æ’­æµ‹è¯•æŠ¥æ–‡ï¼Œå› æ­¤æ–­å®šæµé‡è¿‡æ»¤ç­–ç•¥çš„ä½ç½®åœ¨AR30çš„g0/0/0æ¥å£ä¸‹ã€‚

2.8 æ£€æŸ¥æ˜¯å¦å­˜åœ¨åå‘æµé‡ç­–ç•¥
åœ¨AR34ä¸Šä»¥loopback0æ¥å£åœ°å€ä¸ºæºï¼Œä»¥AR32çš„loopback0æ¥å£åœ°å€ä¸ºç›®çš„ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨åæ–¹å‘çš„æµé‡è¿‡æ»¤ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;tracert -a 10.5.1.34 10.5.1.32

 traceroute to  10.5.1.32(10.5.1.32), max hops: 30 ,packet length: 40,press CTRL
_C to break 

 1 10.5.234.31 20 ms  20 ms  20 ms 

 2 10.5.231.28 20 ms  30 ms 10.5.230.28 20 ms 

 3 10.5.232.32 20 ms  30 ms  30 ms 
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34èƒ½å¤ŸæˆåŠŸè®¿é—®AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œå¹¶ä¸”ä¸¤æ¡ç­‰ä»·é»˜è®¤è·¯ç”±å‡æ­£å¸¸ã€‚

2.9 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR30çš„g0/0/0æ¥å£çš„å‡ºæ–¹å‘ä¸Šå­˜åœ¨ç€é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡çš„è¿‡æ»¤è§„åˆ™ã€‚


ä¸‰ã€æ•…éšœè§£å†³
3.1 AR30çš„g0/0/0æ¥å£çš„å‡ºæ–¹å‘ä¸Šå­˜åœ¨ç€é’ˆå¯¹AR32çš„loopback0æ¥å£æµé‡çš„è¿‡æ»¤è§„åˆ™ï¼Œéœ€è¦åœ¨AR30ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/0  //è¿›å…¥æ¥å£è§†å›¾
display this  //æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy outbound  //åˆ é™¤å‡ºæ–¹å‘çš„æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-filter outbound

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping -a 10.5.1.32 10.5.1.34 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 AR34çš„g0/0/0æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤ç­–ç•¥
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/0  //è¿›å…¥æ¥å£è§†å›¾
display this  //æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy outbound  //åˆ é™¤å‡ºæ–¹å‘çš„æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-filter outbound
undo traffic-filter inbound
undo traffic-filter inbound

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ï¼Œéœ€è¦åœ¨AR34ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping -a 10.5.1.32 10.5.1.34 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æ’é™¤äº†æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac5-2å˜ç§2&#34;&gt;TAC5-2:å˜ç§2&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-2&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
ç”±äºæœªçŸ¥å“ªäº›è®¾å¤‡æ— æ³•è®¿é—®ï¼Œéœ€è¦åœ¨AR32ä¸Šé€ä¸€è¿›è¡Œæµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.230.30
  PING 10.5.230.30: 56  data bytes, press CTRL_C to break
    Reply from 10.5.230.30: bytes=56 Sequence=1 ttl=254 time=50 ms
    Reply from 10.5.230.30: bytes=56 Sequence=2 ttl=254 time=30 ms
    Reply from 10.5.230.30: bytes=56 Sequence=3 ttl=254 time=20 ms
    Reply from 10.5.230.30: bytes=56 Sequence=4 ttl=254 time=30 ms
    Reply from 10.5.230.30: bytes=56 Sequence=5 ttl=254 time=30 ms

  --- 10.5.230.30 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 20/32/50 ms
.......çœç•¥éƒ¨åˆ†èƒ½å¤Ÿpingé€šçš„ç»“æœ
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.231.31
  PING 10.5.231.31: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.231.31 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.1.31
  PING 10.5.231.31: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.231.31 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.234.31
  PING 10.5.231.31: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.231.31 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.234.34
  PING 10.5.231.31: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.231.31 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32æ— æ³•è®¿é—®AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£ï¼Œæ•…éšœå­˜åœ¨ã€‚

2.2 æ£€æŸ¥AR32çš„è·¯ç”±è¡¨
AR32æƒ³è¦è®¿é—®AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£ï¼Œé¦–å…ˆéœ€è¦åœ¨è·¯ç”±è¡¨ä¸­æœ‰å…¶è·¯ç”±ï¼ŒæŸ¥çœ‹AR32çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 18       Routes : 18       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.28/32  OSPF    10   1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.30/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.31/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.32/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.34/32  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.128.0/24  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.134.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.230.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.231.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.232.0/24  Direct  0    0           D   10.5.232.32     GigabitEthernet
0/0/0
    10.5.232.32/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.232.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.234.0/24  O_ASE   150  1           D   10.5.232.28     GigabitEthernet
0/0/0
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£çš„è·¯ç”±ï¼Œå¹¶ä¸”å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±ï¼Œè¡¨æ˜ä¸AR28çš„ospfé‚»å±…æ­£å¸¸ï¼Œå¹¶ä¸”AR28ä¸Šæ­£ç¡®çš„å°†isisåŒºåŸŸçš„è·¯ç”±å¼•å…¥ospfè¿›ç¨‹ä¸­ã€‚

2.3 æ£€æŸ¥AR31å’ŒAR34çš„è·¯ç”±è¡¨
é€šä¿¡æ˜¯åŒå‘çš„ï¼Œä¸ä»…éœ€è¦AR32çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£çš„è·¯ç”±ï¼ŒåŒæ ·éœ€è¦AR31å’ŒAR34çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œæ£€æŸ¥AR31å’ŒAR34çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR31çš„è·¯ç”±è¡¨
&amp;lt;AR31&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 20       Routes : 20       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.28/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.30/32  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
      10.5.1.31/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.32/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.34/32  ISIS-L1 15   10          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.128.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.134.0/24  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.230.0/24  ISIS-L1 15   30          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.231.0/24  Direct  0    0           D   10.5.231.31     GigabitEthernet
0/0/2
    10.5.231.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
   10.5.231.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
     10.5.232.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.234.0/24  Direct  0    0           D   10.5.234.31     GigabitEthernet
0/0/1
    10.5.234.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

# AR34çš„è·¯ç”±è¡¨
&amp;lt;AR34&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 16       Routes : 17       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
                    ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.31/32  ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.231.0/24  ISIS-L1 15   20          D   10.5.234.31     GigabitEthernet
0/0/1
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼ŒAR34çš„è·¯ç”±è¡¨ä¸­è™½ç„¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤æ¡ç­‰ä»·çš„é»˜è®¤è·¯ç”±ï¼Œåˆ†åˆ«æŒ‡å‘AR31å’ŒAR30ï¼Œè¿™è¡¨æ˜AR34ä¸AR31ã€AR30ä¹‹é—´çš„level-1çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28ä¸AR31ã€AR30ä¹‹é—´çš„level-2çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28ä¸Šæ­£ç¡®çš„å°†ospfåŒºåŸŸçš„è·¯ç”±å¼•å…¥isisè¿›ç¨‹ä¸‹ã€‚è‡³æ­¤ï¼Œè·¯ç”±æ§åˆ¶å±‚é¢ä¸å­˜åœ¨é—®é¢˜ï¼Œæ¥ä¸‹æ¥éœ€è¦æ£€æŸ¥æ•°æ®å±‚é¢çš„é—®é¢˜ã€‚

2.4 ä¸å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ª
åœ¨AR32ä¸Šä¸å¸¦æºè¿½è¸ªAR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£çš„è·¯ç”±ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;tracert 10.5.231.31

 traceroute to  10.5.231.31(10.5.231.31), max hops: 30 ,packet length: 40,press 
CTRL_C to break 

 1 10.5.232.28 20 ms  20 ms  20 ms 

 2 10.5.231.31 30 ms  30 ms  30 ms 
&amp;lt;AR32&amp;gt;tracert 10.5.1.31

 traceroute to  10.5.1.31(10.5.1.31), max hops: 30 ,packet length: 40,press CTRL
_C to break 

 1 10.5.232.28 20 ms  30 ms  20 ms 

 2 10.5.231.31 20 ms  20 ms  20 ms 
&amp;lt;AR32&amp;gt;tracert 10.5.234.31

 traceroute to  10.5.234.31(10.5.234.31), max hops: 30 ,packet length: 40,press 
CTRL_C to break 

 1 10.5.232.28 30 ms  20 ms  20 ms 

 2 10.5.231.31 20 ms  20 ms  20 ms 
&amp;lt;AR32&amp;gt;tracert 10.5.234.34

 traceroute to  10.5.234.34(10.5.234.34), max hops: 30 ,packet length: 40,press 
CTRL_C to break 

 1 10.5.232.28 20 ms  30 ms  20 ms 

 2 10.5.231.31 20 ms  20 ms  20 ms 

 3 10.5.234.34 30 ms  20 ms  40 ms 
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32åœ¨ä¸å¸¦æºåœ°å€çš„æƒ…å†µä¸‹å‡èƒ½æ­£å¸¸è¿½è¸ªåˆ°AR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£çš„è·¯ç”±ã€‚

2.5 å¸¦æºè¿›è¡Œè·¯ç”±è¿½è¸ª
åœ¨AR32ä¸Šä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œè¿½è¸ªAR31çš„æ‰€æœ‰æ¥å£å’ŒAR34çš„g0/0/1æ¥å£çš„è·¯ç”±ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.231.31

 traceroute to  10.5.231.31(10.5.231.31)
, max hops: 30 ,packet length: 40,press CTRL_C to break 

 1 10.5.232.28 10 ms  10 ms  10 ms 

 2  *  *  * 
 
&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.1.31

 traceroute to  10.5.1.31(10.5.1.31), max hops: 30 ,packet length: 40,press CTRL
_C to break 

 1 10.5.232.28 20 ms  20 ms  30 ms 

 2  *  *  * 
 
&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.234.31

 traceroute to  10.5.234.31(10.5.234.31)
, max hops: 30 ,packet length: 40,press CTRL_C to break 

 1 10.5.232.28 20 ms  10 ms  10 ms 

 2  *  * 
 
&amp;lt;AR32&amp;gt;tracert -a 10.5.1.32 10.5.234.34

 traceroute to  10.5.234.34(10.5.234.34)
, max hops: 30 ,packet length: 40,press CTRL_C to break 

 1 10.5.232.28 10 ms  10 ms  10 ms 

 2  *  * 
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œåœ¨AR32å¸¦æºåœ°å€çš„æƒ…å†µä¸‹ï¼Œè·¯ç”±è¿½è¸ªç¬¬äºŒè·³å‡ºç°æ— æ³•æ­£å¸¸å›æ˜¾çš„çŠ¶å†µï¼Œè¿™è¡¨æ˜AR28ä¸AR31ä¹‹é—´å­˜åœ¨ç€é’ˆå¯¹AR32çš„loopback0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥ã€‚

2.6 æŸ¥çœ‹AR31çš„g0/0/2æ¥å£åœ¨æµ‹è¯•å‰åæ¥æ”¶æŠ¥æ–‡æƒ…å†µ
åœ¨AR32ä¸Šä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œä»¥AR31çš„g0/0/2æ¥å£åœ°å€ä¸ºç›®çš„åœ°å€ï¼Œæ‰§è¡Œpingæµ‹è¯•ï¼ŒæŸ¥çœ‹AR31çš„g0/0/2æ¥å£åœ¨æµ‹è¯•å‰åçš„æ¥æ”¶æŠ¥æ–‡æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# æµ‹è¯•ä¹‹å‰AR31çš„g0/0/2æ¥å£æƒ…å†µ
&amp;lt;AR31&amp;gt;display interface GigabitEthernet 0/0/2
GigabitEthernet0/0/2 current state : UP
Line protocol current state : UP
Last line protocol up time : 2021-01-02 17:18:42 UTC-08:00
Description:HUAWEI, AR Series, GigabitEthernet0/0/2 Interface
Route Port,The Maximum Transmit Unit is 1500
Internet Address is 10.5.231.31/24
IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, Hardware address is 00e0-fcba-5c14
Last physical up time   : 2021-01-02 17:18:42 UTC-08:00
Last physical down time : 2021-01-02 17:18:34 UTC-08:00
Current system time: 2021-01-02 18:02:14-08:00
Port Mode: COMMON COPPER
Speed : 1000,  Loopback: NONE
Duplex: FULL,  Negotiation: ENABLE
Mdi   : AUTO
Last 300 seconds input rate 1224 bits/sec, 0 packets/sec
Last 300 seconds output rate 7512 bits/sec, 0 packets/sec
Input peak rate 7624 bits/sec,Record time: 2021-01-02 17:18:48
Output peak rate 12344 bits/sec,Record time: 2021-01-02 17:24:43

Input:  309 packets, 407959 bytes
  Unicast:                 16,  Multicast:                 290
  Broadcast:                3,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0
  
# æ‰§è¡Œæµ‹è¯•
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.231.31
  PING 10.5.231.31: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.231.31 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
# æµ‹è¯•ä¹‹åAR31çš„g0/0/2æ¥å£æƒ…å†µ
&amp;lt;AR31&amp;gt;display interface GigabitEthernet 0/0/2
GigabitEthernet0/0/2 current state : UP
Line protocol current state : UP
Last line protocol up time : 2021-01-02 17:18:42 UTC-08:00
Description:HUAWEI, AR Series, GigabitEthernet0/0/2 Interface
Route Port,The Maximum Transmit Unit is 1500
Internet Address is 10.5.231.31/24
IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, Hardware address is 00e0-fcba-5c14
Last physical up time   : 2021-01-02 17:18:42 UTC-08:00
Last physical down time : 2021-01-02 17:18:34 UTC-08:00
Current system time: 2021-01-02 18:03:26-08:00
Port Mode: COMMON COPPER
Speed : 1000,  Loopback: NONE
Duplex: FULL,  Negotiation: ENABLE
Mdi   : AUTO
Last 300 seconds input rate 1224 bits/sec, 0 packets/sec
Last 300 seconds output rate 7504 bits/sec, 0 packets/sec
Input peak rate 7624 bits/sec,Record time: 2021-01-02 17:18:48
Output peak rate 12344 bits/sec,Record time: 2021-01-02 17:24:43

Input:  316 packets, 418557 bytes
  Unicast:                 16,  Multicast:                 297
  Broadcast:                3,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„g0/0/2æ¥å£åœ¨æµ‹è¯•å‰åinputæ–¹å‘ä¸Šçš„UnicastæŠ¥æ–‡æ•°é‡æ²¡å˜ï¼Œè¡¨æ˜AR31çš„g0/0/2æ¥å£æ²¡æœ‰æ”¶åˆ°å•æ’­æµ‹è¯•æŠ¥æ–‡ï¼Œå³æµé‡è¿‡æ»¤ç­–ç•¥è®¾ç½®åœ¨äº†AR28çš„g0/0/2æ¥å£ä¸‹ã€‚

2.7 æŸ¥çœ‹æ˜¯å¦å­˜åœ¨åå‘æµé‡è¿‡æ»¤
åœ¨AR34ä¸Šä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œä»¥AR32çš„loopback0æ¥å£åœ°å€ä¸ºç›®çš„åœ°å€ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨åæ–¹å‘çš„æµé‡è¿‡æ»¤ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR34&amp;gt;ping -a 10.5.1.34 10.5.1.32
  PING 10.5.1.32: 56  data bytes, press CTRL_C to break
    Reply from 10.5.1.32: bytes=56 Sequence=1 ttl=253 time=40 ms
    Reply from 10.5.1.32: bytes=56 Sequence=2 ttl=253 time=30 ms
    Reply from 10.5.1.32: bytes=56 Sequence=3 ttl=253 time=40 ms
    Reply from 10.5.1.32: bytes=56 Sequence=4 ttl=253 time=30 ms
    Reply from 10.5.1.32: bytes=56 Sequence=5 ttl=253 time=30 ms

  --- 10.5.1.32 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 30/34/40 ms
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR34èƒ½å¤Ÿæ­£å¸¸è®¿é—®AR32çš„loopback0æ¥å£ï¼Œå³ä¸å­˜åœ¨åæ–¹å‘çš„æµé‡è¿‡æ»¤ã€‚

2.8 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥ã€‚

ä¸‰ã€æ•…éšœè§£å†³
3.1 AR28çš„g0/0/2æ¥å£åœ¨å‡ºæ–¹å‘ä¸Šé…ç½®äº†é’ˆå¯¹AR32çš„loopback0æ¥å£çš„æµé‡è¿‡æ»¤ç­–ç•¥ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/2  //è¿›å…¥æ¥å£è§†å›¾
display this  //æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy outbound  //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-filter outbound

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping -a 10.5.1.32 10.5.231.31 //æ£€æŸ¥æ•…éšœæ˜¯å¦æ’é™¤
ping -a 10.5.1.32 10.5.1.31
ping -a 10.5.1.32 10.5.234.31
ping -a 10.5.1.32 10.5.234.34


3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§ï¼š
3.2.1 AR31çš„g0/0/2ã€g0/0/1å’ŒAR34çš„g0/0/1æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface xxx //è¿›å…¥æ¥å£è§†å›¾
display this  //æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy outbound  //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-filter outbound
undo traffic-policy inbound
undo traffic-filter inbound

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping -a 10.5.1.32 10.5.231.31 //æ£€æŸ¥æ•…éšœæ˜¯å¦æ’é™¤
ping -a 10.5.1.32 10.5.1.31
ping -a 10.5.1.32 10.5.234.31
ping -a 10.5.1.32 10.5.234.34


3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸçš„æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-5</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-4/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­å››&#34;&gt;è¯Šæ–­å››&lt;/h1&gt;
&lt;p&gt;AR32çš„loopback0æ— æ³•è®¿é—®ISISåŒºåŸŸå†…çš„ä»»ä½•è®¾å¤‡&lt;/p&gt;
&lt;h2 id=&#34;tac4-1å˜ç§1&#34;&gt;TAC4-1:å˜ç§1&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

1.1 AR28çš„ospfè¿›ç¨‹ä¸‹æ²¡æœ‰å¼•å…¥isisæˆ–è€…å¼•å…¥é”™è¯¯çš„isisè¿›ç¨‹IDï¼›
1.2 AR28çš„ospfè¿›ç¨‹ä¸‹é…ç½®äº†å¤–éƒ¨è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Šï¼›
1.3 AR28çš„ospfè¿›ç¨‹ä¸‹ä½¿ç”¨filter-policyå‘½ä»¤é’ˆå¯¹å‡ºæ–¹å‘çš„5ç±»lsaè¿›è¡Œäº†è¿‡æ»¤ï¼›
1.4 AR28åœ¨GigabitEthernet0/0/0å’ŒGigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®äº†ospf filter-lsa-out aseã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
AR32ä¸èƒ½è®¿é—®isisåŒºåŸŸæ‰€æœ‰è®¾å¤‡ï¼Œä¸ºç¡®å®šæ•…éšœæ˜¯å¦å­˜åœ¨ï¼Œéœ€è¦åœ¨AR32ä¸Šé€ä¸€è¿›è¡Œæµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.1.34
  PING 10.5.1.34: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.34 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
.....çœç•¥éƒ¨åˆ†å·²ç»æµ‹è¯•ï¼Œä½†æ˜¯æ— æ³•pingé€šçš„ç»“æœ
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„loopback0æ¥å£ç¡®å®æ— æ³•è®¿é—®isisåŒºåŸŸçš„ä»»ä½•è®¾å¤‡ï¼Œæ•…éšœç¡®å®å­˜åœ¨ã€‚

2.2 æ£€æŸ¥è·¯ç”±è¡¨
AR32æƒ³è¦è®¿é—®isisåŒºåŸŸçš„è®¾å¤‡ï¼Œé¦–å…ˆéœ€è¦åœ¨è·¯ç”±è¡¨ä¸Šå­˜åœ¨ISISåŒºåŸŸè®¾å¤‡çš„è·¯ç”±ï¼ŒæŸ¥çœ‹AR32çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 11       Routes : 11       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.28/32  OSPF    10   1           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.32/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.128.0/24  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.232.0/24  Direct  0    0           D   10.5.232.32     GigabitEthernet
0/0/0
    10.5.232.32/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.232.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32ä¸Šå¹¶ä¸å­˜åœ¨isisåŒºåŸŸçš„ä»»ä½•è·¯ç”±ï¼Œä½†æ˜¯å­˜åœ¨AR28çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œè¯´æ˜AR32ä¸AR28ä¹‹é—´çš„ospfé‚»å±…æ­£å¸¸ã€‚

2.3 æ£€æŸ¥ospfçš„é“¾è·¯çŠ¶æ€æ•°æ®åº“
isisåŒºåŸŸçš„è·¯ç”±æ•°æ®ospfçš„å¤–éƒ¨è·¯ç”±ï¼Œospfä¼ é€’å¤–éƒ¨è·¯ç”±ä½¿ç”¨5ç±»lsaï¼ŒæŸ¥çœ‹AR32çš„ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨5ç±»lsaï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ospf lsdb

	 OSPF Process 1 with Router ID 10.5.1.32
		 Link State Database 

		         Area: 0.0.0.1
 Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric
 Router    10.5.1.32       10.5.1.32          505  48    80000006       1
 Router    10.5.1.28       10.5.1.28          514  36    80000004       1
 Network   10.5.232.32     10.5.1.32          505  32    80000002       0
 Sum-Net   10.5.128.0      10.5.1.28          552  28    80000001       1
 Sum-Net   10.5.1.28       10.5.1.28          552  28    80000001       0
 Sum-Net   10.5.1.27       10.5.1.28          508  28    80000001       1
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“ä¸­ä¸å­˜åœ¨ä»»ä½•5ç±»lsaã€‚

2.4 æŸ¥çœ‹AR27çš„ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“
ç”±äº5ç±»lsaæ˜¯åœ¨æ•´ä¸ªåŒºåŸŸå†…æ³›æ´ªçš„ï¼ŒAR27å’ŒAR28ä¹‹é—´åŒæ ·è¿è¡Œospfè·¯ç”±åè®®ï¼ŒæŸ¥çœ‹AR27ä¸Šæ˜¯å¦å­˜åœ¨5ç±»lsaï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR27&amp;gt;display ospf lsdb 

	 OSPF Process 1 with Router ID 10.5.1.27
		 Link State Database 

		         Area: 0.0.0.0
 Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric
 Router    10.5.1.27       10.5.1.27          625  48    80000006       1
 Router    10.5.1.28       10.5.1.28          617  48    80000008       1
 Network   10.5.128.28     10.5.1.28          617  32    80000002       0
 Sum-Net   10.5.1.32       10.5.1.28          629  28    80000001       1
 Sum-Net   10.5.232.0      10.5.1.28          666  28    80000001       1
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR27ä¸Šä¹Ÿä¸å­˜åœ¨ç›¸åº”çš„5ç±»lsaã€‚ç›®å‰æ¨æ–­æ˜¯AR28ä¸Šæ²¡æœ‰ä¸Šå°†isisçš„è·¯ç”±å¼•å…¥ospfå‡ºç°äº†é—®é¢˜ã€‚

2.5 æŸ¥çœ‹AR34å’ŒAR31çš„è·¯ç”±è¡¨
é€šä¿¡æ˜¯åŒå‘çš„ï¼Œä¸ä»…éœ€è¦AR32ä¸Šå­˜åœ¨isisåŒºåŸŸè®¾å¤‡çš„è·¯ç”±ï¼ŒåŒæ ·éœ€è¦isisåŒºåŸŸè®¾å¤‡ä¸Šå­˜åœ¨AR32çš„loopback0æ¥å£çš„è·¯ç”±ï¼ŒæŸ¥çœ‹AR34å’ŒAR31çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR31çš„è·¯ç”±è¡¨
&amp;lt;AR31&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 20       Routes : 20       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.28/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.30/32  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
      10.5.1.31/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.32/32  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
      10.5.1.34/32  ISIS-L1 15   10          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.128.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.134.0/24  ISIS-L1 15   20          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.230.0/24  ISIS-L1 15   30          D   10.5.234.34     GigabitEthernet
0/0/1
     10.5.231.0/24  Direct  0    0           D   10.5.231.31     GigabitEthernet
0/0/2
    10.5.231.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
   10.5.231.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/2
     10.5.232.0/24  ISIS-L2 15   74          D   10.5.231.28     GigabitEthernet
0/0/2
     10.5.234.0/24  Direct  0    0           D   10.5.234.31     GigabitEthernet
0/0/1
    10.5.234.31/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

# AR34çš„è·¯ç”±è¡¨
&amp;lt;AR34&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 16       Routes : 17       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
                    ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.30/32  ISIS-L1 15   10          D   10.5.134.30     GigabitEthernet
0/0/0
      10.5.1.31/32  ISIS-L1 15   10          D   10.5.234.31     GigabitEthernet
0/0/1
      10.5.1.34/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.134.0/24  Direct  0    0           D   10.5.134.34     GigabitEthernet
0/0/0
    10.5.134.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.134.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.230.0/24  ISIS-L1 15   20          D   10.5.134.30     GigabitEthernet
0/0/0
     10.5.231.0/24  ISIS-L1 15   20          D   10.5.234.31     GigabitEthernet
0/0/1
     10.5.234.0/24  Direct  0    0           D   10.5.234.34     GigabitEthernet
0/0/1
    10.5.234.34/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.234.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR31çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼ŒAR34ä¸Šè™½ç„¶ä¸å­˜åœ¨ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤æ¡æŒ‡å‘AR31ã€AR30çš„ç­‰ä»·é»˜è®¤è·¯ç”±ï¼Œè¿™è¯´æ˜AR34ä¸AR30ã€AR31ä¹‹é—´çš„level-1çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28ä¸AR30ã€AR31ä¹‹é—´çš„level-2çº§åˆ«çš„isisé‚»å±…æ­£å¸¸ï¼ŒAR28å·²ç»æ­£ç¡®çš„å°†ospfåŒºåŸŸçš„è·¯ç”±å¼•å…¥isisè¿›ç¨‹ä¸­ã€‚

2.6 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œè¯´æ˜AR28ä¸Šçš„ospfæ²¡æœ‰å°†5ç±»lsaå‘é€ç»™AR32ï¼Œä¸»è¦æœ‰ä»¥ä¸‹4ä¸­åŸå› ï¼š
2.6.1 AR28çš„ospfè¿›ç¨‹ä¸‹æ²¡æœ‰å¼•å…¥isisæˆ–è€…å¼•å…¥é”™è¯¯çš„isisè¿›ç¨‹IDï¼›
2.6.2 AR28çš„ospfè¿›ç¨‹ä¸‹é…ç½®äº†å¤–éƒ¨è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Šï¼›
2.6.3 AR28çš„ospfè¿›ç¨‹ä¸‹ä½¿ç”¨filter-policyå‘½ä»¤é’ˆå¯¹å‡ºæ–¹å‘çš„5ç±»lsaè¿›è¡Œäº†è¿‡æ»¤ï¼›
2.6.4 AR28åœ¨GigabitEthernet0/0/0å’ŒGigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®äº†ospf filter-lsa-out aseã€‚

ä¸‰ã€æ•…éšœè§£å†³
3.1 é’ˆå¯¹ä¸Šè¿°ä¸åŒçš„é—®é¢˜ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä¸åŒçš„å‘½ä»¤ï¼Œè¯¦ç»†æƒ…å†µå¦‚ä¸‹ï¼š
3.1.1 AR28çš„ospfè¿›ç¨‹ä¸‹æ²¡æœ‰å¼•å…¥isisæˆ–è€…å¼•å…¥é”™è¯¯çš„isisè¿›ç¨‹ID
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
import-route isis {æ­£ç¡®çš„isisè¿›ç¨‹ID} //å¼•å…¥æ­£ç¡®çš„isisè¿›ç¨‹

3.1.2 AR28çš„ospfè¿›ç¨‹ä¸‹é…ç½®äº†å¤–éƒ¨è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo asbr-summary 10.5.0.0 255.255.0.0 //åˆ é™¤åŒºåŸŸé—´è·¯ç”±æ±‡æ€»

3.1.3 AR28çš„ospfè¿›ç¨‹ä¸‹ä½¿ç”¨filter-policyå‘½ä»¤é’ˆå¯¹å‡ºæ–¹å‘çš„5ç±»lsaè¿›è¡Œäº†è¿‡æ»¤
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo filte-policy export //åˆ é™¤è·¯ç”±è¿‡æ»¤è§„åˆ™

3.1.4 AR28åœ¨GigabitEthernet0/0/0å’ŒGigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®äº†ospf filter-lsa-out ase
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface xxx //è¿›å…¥æ¥å£è§†å›¾
undo ospf filter-lsa-out ase //åˆ é™¤å¯¹5ç±»lsaçš„è¿‡æ»¤

æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ospf lsdb //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨5ç±»lsa
display ip routing-table //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨isisåŒºåŸŸè®¾å¤‡çš„è·¯ç”±
ping -a 10.5.1.32 10.5.1.34 //æŸ¥çœ‹æ•…éšœæ˜¯å¦æ’é™¤
ping -a 10.5.1.32 10.5.1.31

3.2 å¦‚æœæ‰§è¡Œä¸Šè¿°å‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 AR28ä¸AR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
undo filte-policy export //åˆ é™¤è·¯ç”±è¿‡æ»¤è§„åˆ™
undo filte-policy import

3.2.2 AR28ä¸AR27ã€AR32äº’è”æ¥å£ã€ä»¥åŠisisåŒºåŸŸè®¾å¤‡æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤
display traffic-policy applied-record //æŸ¥çœ‹è°ƒç”¨æµé‡è¿‡æ»¤è§„åˆ™çš„æ¥å£
display acl all
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface {è°ƒç”¨æµé‡è¿‡æ»¤ç­–ç•¥çš„æ¥å£ID} //è¿›å…¥æ¥å£è§†å›¾
undo traffic-policy inbound //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-policy outbound
undo traffic-filter inbound
undo traffic-filter outbound

æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ospf lsdb //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨5ç±»lsa
display ip routing-table //æŸ¥çœ‹æ˜¯å¦å­˜åœ¨isisåŒºåŸŸè®¾å¤‡çš„è·¯ç”±
ping -a 10.5.1.32 10.5.1.34 //æŸ¥çœ‹æ•…éšœæ˜¯å¦æ’é™¤
ping -a 10.5.1.32 10.5.1.31

3.3 å¦‚æœæ‰§è¡Œä¸Šè¿°å‘½ä»¤æˆåŠŸæµ‹æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç»§ç»­åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //å›åˆ°ç”¨æˆ·è§†å›¾
save //ä¿å­˜å½“å‰é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac4-2å˜ç§2&#34;&gt;TAC4-2:å˜ç§2&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-2&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# AR27ä¸Šå­˜åœ¨5ç±»lsaï¼Œåˆ é™¤ç›¸å…³çš„å¯èƒ½æ€§
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-4</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-3/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­ä¸‰&#34;&gt;è¯Šæ–­ä¸‰&lt;/h1&gt;
&lt;p&gt;AR32æ— æ³•è®¿é—®AR28çš„loopback0å£&lt;/p&gt;
&lt;h2 id=&#34;tac3-1å˜ç§1&#34;&gt;TAC3-1:å˜ç§1&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;AR32æ— æ³•è®¿é—®AR28
ä¸€ã€æ•…éšœæ ¹å› 

1.1 AR28åœ¨ospfçš„åŒºåŸŸ0ä¸­é…ç½®äº†åŒºåŸŸé—´è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Šï¼›
1.2 AR28åœ¨ospfçš„åŒºåŸŸä¸­ä½¿ç”¨filterå‘½ä»¤é’ˆå¯¹loopback0æ¥å£çš„3ç±»lsaè¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥é…ç½®åœ¨åŒºåŸŸ0çš„å‡ºæ–¹å‘æˆ–è€…åŒºåŸŸ1çš„å…¥æ–¹å‘ï¼›
1.3 AR28åœ¨GigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out summary acl xxxï¼Œè¿‡å»æ‰3ç±»lsaã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
åœ¨AR32ä¸Šä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œæµ‹è¯•ä¸AR28çš„loopback0æ¥å£çš„è¿é€šæ€§ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.1.28
  PING 10.5.1.28: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.28 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32ä¸AR28çš„loopback0æ¥å£ä¹‹é—´çš„é€šä¿¡å­˜åœ¨é—®é¢˜ã€‚

2.2 æ£€æŸ¥è·¯ç”±è¡¨
AR32è¦æƒ³è®¿é—®AR28çš„loopback0æ¥å£ï¼Œé¦–å…ˆéœ€è¦çˆ±è·¯ç”±è¡¨ä¸­å­˜åœ¨å…¶è·¯ç”±ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 10       Routes : 10       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.27/32  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
      10.5.1.32/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.128.0/24  OSPF    10   2           D   10.5.232.28     GigabitEthernet
0/0/0
     10.5.232.0/24  Direct  0    0           D   10.5.232.32     GigabitEthernet
0/0/0
    10.5.232.32/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.232.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„è·¯ç”±è¡¨ä¸­ä¸å­˜åœ¨AR28çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ã€‚

2.3 æŸ¥çœ‹ospfé‚»å±…
ç”±äºAR28ä¸AR32ä¹‹é—´è¿è¡Œçš„æ˜¯ospfè·¯ç”±åè®®ï¼Œæ£€æŸ¥AR28ä¸AR32ä¹‹é—´çš„ospfé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ospf peer brief 

	 OSPF Process 1 with Router ID 10.5.1.32
		  Peer Statistic Information
 ----------------------------------------------------------------------------
 Area Id          Interface                        Neighbor id      State    
 0.0.0.1          GigabitEthernet0/0/0             10.5.1.28        Full        
 ----------------------------------------------------------------------------
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32ä¸AR28ä¹‹é—´å»ºç«‹äº†æ­£å¸¸çš„ospfé‚»å±…å…³ç³»ã€‚

2.4 æ£€æŸ¥ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“
ospfè¦æƒ³è®¡ç®—å‡ºç›¸åº”çš„è·¯ç”±ï¼Œé¦–å…ˆéœ€è¦æ”¶åˆ°ç›¸åº”çš„lsaï¼ŒæŸ¥çœ‹AR32çš„ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨ç›¸åº”çš„lsaï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ospf lsdb

	 OSPF Process 1 with Router ID 10.5.1.32
		 Link State Database 

		         Area: 0.0.0.1
 Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric
 Router    10.5.1.32       10.5.1.32           34  48    80000007       1
 Router    10.5.1.28       10.5.1.28           44  36    80000005       1
 Network   10.5.232.32     10.5.1.32           34  32    80000003       0
 Sum-Net   10.5.128.0      10.5.1.28           83  28    80000002       1
 Sum-Net   10.5.1.27       10.5.1.28           51  28    80000002       1
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32ä¸Šåªå­˜åœ¨AR28å‘é€çš„1ç±»lsaã€‚

2.5 æŸ¥çœ‹1ç±»lsaçš„è¯¦ç»†ä¿¡æ¯
åœ¨AR34ä¸ŠæŸ¥çœ‹æ¥æ”¶åˆ°AR28å‘é€çš„1ç±»lsaçš„è¯¦ç»†ä¿¡æ¯ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;display ospf lsdb router 10.5.1.28

	 OSPF Process 1 with Router ID 10.5.1.32
		         Area: 0.0.0.1
		 Link State Database 


  Type      : Router
  Ls id     : 10.5.1.28
  Adv rtr   : 10.5.1.28  
  Ls age    : 128 
  Len       : 36 
  Options   :  ASBR  ABR  E  
  seq#      : 80000005 
  chksum    : 0xa126
  Link count: 1
   * Link ID: 10.5.232.32  
     Data   : 10.5.232.28  
     Link Type: TransNet     
     Metric : 1
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œè¿™æ¡lsaä¸­åªå­˜åœ¨æè¿°TransNetç±»å‹çš„AR28çš„GigabitEthernet2/0/0ï¼Œå¹¶ä¸å­˜åœ¨AR28çš„loopback0æ¥å£çš„ä»»ä½•æè¿°ä¿¡æ¯ã€‚

2.6 æŸ¥çœ‹AR27çš„ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“å’Œç›¸åº”çš„lsaä¿¡æ¯
AR27ä¸AR28ä¹‹é—´ä¹Ÿè¿è¡Œospfè·¯ç”±åè®®ï¼Œä¸ºç¡®è®¤AR28æ˜¯å¦å°†loopback0æ¥å£å®£å‘Šè¿›ospfï¼Œéœ€è¦æŸ¥çœ‹AR27çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“è¿›è¡Œç¡®è®¤ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR27çš„ospfé“¾è·¯çŠ¶æ€æ•°æ®åº“
&amp;lt;AR27&amp;gt;display ospf lsdb 

	 OSPF Process 1 with Router ID 10.5.1.27
		 Link State Database 

		         Area: 0.0.0.0
 Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric
 Router    10.5.1.27       10.5.1.27          338  48    80000008       1
 Router    10.5.1.28       10.5.1.28          338  48    80000007       1
 Network   10.5.128.27     10.5.1.27          338  32    80000002       0
 Sum-Net   10.5.1.32       10.5.1.28          332  28    80000002       1
 Sum-Net   10.5.232.0      10.5.1.28          370  28    80000002       1
 

		 AS External Database
 Type      LinkState ID    AdvRouter          Age  Len   Sequence   Metric
 External  10.5.230.0      10.5.1.28          376  36    80000002       1
 External  10.5.231.0      10.5.1.28          376  36    80000002       1
 External  10.5.1.31       10.5.1.28          356  36    80000002       1
 External  10.5.1.30       10.5.1.28          356  36    80000002       1
 External  10.5.1.34       10.5.1.28          356  36    80000002       1
 External  10.5.134.0      10.5.1.28          356  36    80000002       1
 External  10.5.234.0      10.5.1.28          356  36    80000002       1

# AR27ä¸Šæ”¶åˆ°çš„AR28å‘é€çš„1ç±»lsaè¯¦æƒ…
&amp;lt;AR27&amp;gt;display ospf lsdb router 10.5.1.28 

	 OSPF Process 1 with Router ID 10.5.1.27
		         Area: 0.0.0.0
		 Link State Database 


  Type      : Router
  Ls id     : 10.5.1.28
  Adv rtr   : 10.5.1.28  
  Ls age    : 436 
  Len       : 48 
  Options   :  ASBR  ABR  E  
  seq#      : 80000007 
  chksum    : 0x84da
  Link count: 2
   * Link ID: 10.5.128.27  
     Data   : 10.5.128.28  
     Link Type: TransNet     
     Metric : 1
   * Link ID: 10.5.1.28    
     Data   : 255.255.255.255 
     Link Type: StubNet      
     Metric : 0 
     Priority : Medium
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR27ä¸Šä¸ç»å­˜åœ¨AR28å‘é€çš„1ç±»lsaï¼Œå¹¶ä¸”è¯¥1ç±»lsaé™¤äº†å­˜åœ¨æè¿°TransNetç±»å‹çš„GigabitEthernet0/0/0æ¥å£ä¿¡æ¯ï¼Œè¿˜å­˜åœ¨æè¿°StubNetç±»å‹çš„loopback0æ¥å£ä¿¡æ¯ï¼Œè¿™è¡¨æ˜AR28ä¸Šå·²ç»å°†loopback0æ¥å£å®£å‘Šè¿›åŒºåŸŸ0ä¸­ã€‚ï¼ˆAR28çš„GigabitEthernet0/0/0æ¥å£åœ°å€ä¸º10.5.128.28ï¼‰

2.7 æ£€æŸ¥AR28çš„è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR32çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±
é€šä¿¡æ˜¯åŒå‘çš„ï¼Œåœ¨AR32ä¸Šï¼Œä»¥loopback0æ¥å£åœ°å€ä¸ºæºåœ°å€ï¼Œæµ‹è¯•ä¸AR28çš„GigabitEthernet0/0/0æ¥å£çš„é€šä¿¡æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR32&amp;gt;ping -a 10.5.1.32 10.5.128.28
  PING 10.5.128.28: 56  data bytes, press CTRL_C to break
    Reply from 10.5.128.28: bytes=56 Sequence=1 ttl=255 time=30 ms
    Reply from 10.5.128.28: bytes=56 Sequence=2 ttl=255 time=10 ms
    Reply from 10.5.128.28: bytes=56 Sequence=3 ttl=255 time=20 ms
    Reply from 10.5.128.28: bytes=56 Sequence=4 ttl=255 time=20 ms
    Reply from 10.5.128.28: bytes=56 Sequence=5 ttl=255 time=20 ms

  --- 10.5.128.28 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 10/20/30 ms
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR32çš„loopback0æ¥å£èƒ½å¤Ÿæ­£å¸¸è®¿é—®AR28çš„GigabitEthernet0/0/0ï¼Œè¿™ä¹Ÿè¡¨æ˜AR32çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR28çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ã€‚

2.8 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼ŒAR32å’ŒAR28å¤„äºä¸åŒçš„ospfåŒºåŸŸï¼Œospfä¸åŒåŒºåŸŸé—´çš„è·¯ç”±ä¼ é€’ä½¿ç”¨3ç±»lsaï¼Œè€ŒAR32ä¸Šå¹¶ä¸å­˜åœ¨AR28å‘é€çš„3ç±»lsaï¼Œè¯´æ˜AR28è¿‡æ»¤æ‰å‘å¾€AR32çš„3ç±»lsaï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹3ç§æ–¹å¼å®ç°ï¼š
2.8.1 AR28åœ¨ospfçš„åŒºåŸŸ0ä¸­é…ç½®äº†åŒºåŸŸé—´è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertiseï¼Œæ±‡æ€»åä¸é€šå‘Šï¼›
2.8.2 AR28åœ¨ospfçš„åŒºåŸŸä¸­ä½¿ç”¨filterå‘½ä»¤é’ˆå¯¹loopback0æ¥å£çš„3ç±»lsaè¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥é…ç½®åœ¨åŒºåŸŸ0çš„å‡ºæ–¹å‘æˆ–è€…åŒºåŸŸ1çš„å…¥æ–¹å‘ï¼›
2.8.3 AR28åœ¨GigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out summary acl xxxï¼Œè¿‡å»æ‰3ç±»lsaã€‚

ä¸‰ã€æ•…éšœè§£å†³
3.1 é’ˆå¯¹ä¸åŒçš„æ•…éšœåŸå› ï¼Œéœ€è¦åœ¨AR28ä¸Šæ‰§è¡Œä¸åŒçš„å‘½ä»¤ï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š
3.1.1 AR28åœ¨ospfçš„åŒºåŸŸ0ä¸­é…ç½®äº†åŒºåŸŸé—´è·¯ç”±æ±‡æ€»å¹¶åŠ äº†å…³é”®å­—not-advertise
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 0 //è¿›å…¥åŒºåŸŸ0
abr-summary 10.5.1.28 255.255.255.255 //åˆ é™¤not-advertiseå…³é”®å­—

3.1.2 AR28åœ¨ospfçš„åŒºåŸŸä¸­ä½¿ç”¨filterå‘½ä»¤é’ˆå¯¹loopback0æ¥å£çš„3ç±»lsaè¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥é…ç½®åœ¨åŒºåŸŸ0çš„å‡ºæ–¹å‘æˆ–è€…åŒºåŸŸ1çš„å…¥æ–¹å‘ï¼›
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 0 //è¿›å…¥åŒºåŸŸ0
undo filter export //åˆ é™¤å‡ºæ–¹å‘é’ˆå¯¹3ç±»lsaçš„è¿‡æ»¤
area 1 //è¿›å…¥åŒºåŸŸ1
undo filter import //åˆ é™¤å…¥æ–¹å‘é’ˆå¯¹3ç±»lsaçš„è¿‡æ»¤

3.1.3 AR28åœ¨GigabitEthernet2/0/0æ¥å£ä¸‹é…ç½®ospf filter-lsa-out summary acl xxxï¼Œè¿‡å»æ‰3ç±»lsaã€‚
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 2/0/0 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo ospf filter-lsa-out //åˆ é™¤æ¥å£ä¸‹å¯¹3ç±»lsaçš„è¿‡æ»¤

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ip routing-table //æŸ¥çœ‹è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±
ping -a 10.5.1.32 10.5.1.28 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 AR28æˆ–è€…AR32çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤ï¼Œéœ€è¦åœ¨AR28æˆ–è€…AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo filter-policy import //åˆ é™¤è·¯ç”±è¿‡æ»¤ç­–ç•¥
undo filter-policy export

3.2.2 AR28å’ŒAR32äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤ï¼Œéœ€è¦åœ¨AR28æˆ–è€…AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface {AR28å’ŒAR32äº’è”æ¥å£ID} //è¿›å…¥æ¥å£è§†å›¾
undo traffic-policy outbound //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-policy inbound
undo traffic-filter outbound
undo traffic-filter inbound

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œéœ€è¦åœ¨AR32ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ip routing-table //æŸ¥çœ‹è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±
ping -a 10.5.1.32 10.5.1.28 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.3 å¦‚æœé€šè¿‡æ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœé€šè¿‡æ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac3-2å˜ç§2&#34;&gt;TAC3-2:å˜ç§2&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-2&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ–¹æ³•è§å˜ç§1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;tac3-3å˜ç§3&#34;&gt;TAC3-3:å˜ç§3&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-3&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ–¹æ³•è§å˜ç§1
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-3</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac-2/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­äºŒ&#34;&gt;è¯Šæ–­äºŒ&lt;/h1&gt;
&lt;p&gt;AR29çš„loopback0å£æ— æ³•è®¿é—®AR33çš„loopback0å£&lt;/p&gt;
&lt;h2 id=&#34;tac2-1å˜ç§1&#34;&gt;TAC2-1:å˜ç§1&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

AR29ä¸AR33ä¹‹é—´çš„ospfçš„helloæ—¶é—´ä¸ä¸€è‡´ã€ospfçš„åŒºåŸŸç±»å‹ä¸ä¸€è‡´å¯¼è‡´AR29ä¸AR33ä¹‹é—´æ— æ³•å»ºç«‹ospfé‚»å±…ï¼Œä»è€ŒAR29ä¸AR33ä¹‹é—´çš„loopback0æ¥å£æ— æ³•æ­£å¸¸é€šä¿¡ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
åœ¨AR29ä¸Šï¼Œæµ‹è¯•AR29å’ŒAR33çš„loopback0æ¥å£ä¹‹é—´çš„é€šä¿¡æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;ping -a 10.5.1.29 10.5.1.33
  PING 10.5.1.33: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.33 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29æ— æ³•è®¿é—®AR33çš„loopback0æ¥å£ï¼Œæ•…éšœç¡®å®å­˜åœ¨ã€‚

2.2 æ£€æŸ¥è·¯ç”±è¡¨
AR29æƒ³è¦è®¿é—®AR33çš„loopback0æ¥å£ï¼Œé¦–å…ˆéœ€è¦åœ¨è·¯ç”±è¡¨ä¸­å­˜åœ¨å¯¹æ–¹çš„è·¯ç”±ï¼ŒæŸ¥çœ‹AR29çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 11       Routes : 11       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.29/32  Direct  0    0           D   127.0.0.1       LoopBack0
     10.5.128.0/24  Direct  0    0           D   10.5.128.29     GigabitEthernet
0/0/0
    10.5.128.29/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.128.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.233.0/24  Direct  0    0           D   10.5.233.29     GigabitEthernet
0/0/1
    10.5.233.29/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.233.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29çš„è·¯ç”±è¡¨ä¸­å¹¶ä¸å­˜åœ¨AR33çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ã€‚

2.3 æ£€æŸ¥ospfé‚»å±…
ç”±äºAR33ä¹‹é—´è¿è¡Œospfè·¯ç”±åè®®ï¼ŒæŸ¥çœ‹AR29ä¸AR33çš„ospfé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ospf peer brief 

	 OSPF Process 1 with Router ID 10.5.1.29
		  Peer Statistic Information
 ----------------------------------------------------------------------------
 Area Id          Interface                        Neighbor id      State    
 ----------------------------------------------------------------------------
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸Šå¹¶ä¸å­˜åœ¨AR33çš„ospfé‚»å±…ã€‚

2.4 æ£€æŸ¥æ¥å£å®£å‘Šæƒ…å†µ
æŸ¥çœ‹AR29æ˜¯å¦å°†ç›¸å…³æ¥å£å®£å‘Šè¿›ospfåŒºåŸŸ2ä¸­ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ospf interface all

	 OSPF Process 1 with Router ID 10.5.1.29
		 Interfaces 

 Area: 0.0.0.0          (MPLS TE not enabled)

 Interface: 10.5.128.29 (GigabitEthernet0/0/0)
 Cost: 1       State: DR        Type: Broadcast    MTU: 1500  
 Priority: 1
 Designated Router: 10.5.128.29
 Backup Designated Router: 0.0.0.0
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 
 
 Area: 0.0.0.2          (MPLS TE not enabled)

 Interface: 10.5.233.29 (GigabitEthernet0/0/1)
 Cost: 1       State: DR        Type: Broadcast    MTU: 1500  
 Priority: 1
 Designated Router: 10.5.233.29
 Backup Designated Router: 0.0.0.0
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

 Interface: 10.5.1.29 (LoopBack0)
 Cost: 0       State: P-2-P     Type: P2P       MTU: 1500  
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29å·²ç»å°†ä¸AR33çš„äº’è”æ¥å£GigabitEthernet0/0/1å®£å‘Šè¿›ospfåŒºåŸŸ2ä¸­ï¼ŒåŒæ—¶ä¹Ÿå°†LoopBack0æ¥å£å®£å‘Šè¿›åŒºåŸŸ2ä¸­ã€‚

2.5 è·å–AR33ä¸‰å±‚åœ°å€
ospfé‚»å±…çš„å»ºç«‹ä¾èµ–ä¸‰å±‚çš„æ­£å¸¸é€šä¿¡ï¼Œæ£€æŸ¥AR33ä¸AR29ä¹‹é—´çš„ä¸‰å±‚é€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œæ£€æŸ¥ä¸‰å±‚çš„è¿é€šæ€§é¦–å…ˆéœ€è¦å›å»å¯¹æ–¹çš„ä¸‰å±‚åœ°å€ï¼ŒæŸ¥çœ‹ARPåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨æˆ–è€…æŸ¥çœ‹lldpé‚»å±…ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display arp
IP ADDRESS      MAC ADDRESS     EXPIRE(M) TYPE        INTERFACE   VPN-INSTANCE 
                                          VLAN/CEVLAN PVC                      
------------------------------------------------------------------------------
10.5.128.29     00e0-fcc1-1b22            I -         GE0/0/0
10.5.233.29     00e0-fcc1-1b23            I -         GE0/0/1
------------------------------------------------------------------------------
Total:3         Dynamic:1       Static:0     Interface:2   

&amp;lt;AR29&amp;gt;display lldp neighbor 
Error: Global LLDP is not enabled.
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒARPåˆ—è¡¨ä¸­å¹¶ä¸å­˜åœ¨AR33çš„ä¸‰å±‚åœ°å€ï¼ŒAR29ä¸Šä¹Ÿå¹¶æœªå¼€å¯LLDPã€‚

2.6 æ£€æŸ¥ospfé”™è¯¯æƒ…å†µ
åœ¨AR29ä¸ŠæŸ¥çœ‹AR29ä¸AR33äº’è”æ¥å£ä¸‹çš„ospfæŠ¥é”™æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ospf error interface GigabitEthernet 0/0/1

	 OSPF Process 1 with Router ID 10.5.1.29
		 OSPF error statistics 

 Interface: GigabitEthernet0/0/1 (10.5.233.29)
General packet errors:
 0     : Bad version                    0     : Bad checksum
 0     : Bad area id                    0     : Bad authentication type
 0     : Bad authentication key         0     : Unknown neighbor
 0     : Bad net segment                0     : Extern option mismatch
 0     : Router id confusion

HELLO packet errors:
 0     : Netmask mismatch               56    : Hello timer mismatch
 0     : Dead timer mismatch            0     : Invalid Source Address

DD packet errors:
 0     : MTU option mismatch

LS REQ packet errors:
 0     : Bad request

LS UPD packet errors:
 0     : LSA checksum bad

Receive Grace LSA errors:
 0     : Number of invalid LSAs         0     : Number of policy failed LSAs
 0     : Number of wrong period LSAs

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼Œâ€œ56    : Hello timer mismatchâ€è¡¨æ˜AR29ä¸AR33çš„ospfçš„helloæ—¶é—´ä¸ä¸€è‡´ã€‚

2.7 æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
ç”±äºAR33æ— æ³•ç™»é™†ï¼Œåªèƒ½åœ¨AR29ä¸ŠæŸ¥çœ‹è°ƒè¯•ä¿¡æ¯æ¥ç¡®è®¤AR33ä¸AR29ä¹‹é—´çš„ospfçš„helloæ—¶é—´æ˜¯å¦ä¸€è‡´ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# å¼€å¯è°ƒè¯•æ¨¡å¼
&amp;lt;AR29&amp;gt;terminal monitor 
Info: Current terminal monitor is on.
&amp;lt;AR29&amp;gt;terminal debugging 
Info: Current terminal debugging is on.

# æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
&amp;lt;AR29&amp;gt;debugging ospf packet hello interface GigabitEthernet 0/0/1

# AR29ç»™å‘é€çš„helloæŠ¥æ–‡
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.1-08:00 AR29 RM/6/RMDEBUG:
 FileID: 0xd0178025 Line: 559 Level: 0x20
 OSPF 1: SEND Packet. Interface: GigabitEthernet0/0/1
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.2-08:00 AR29 RM/6/RMDEBUG:  Source Address: 10.5.233.29

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.3-08:00 AR29 RM/6/RMDEBUG:  Destination Address: 224.0.
0.5
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.4-08:00 AR29 RM/6/RMDEBUG:  Ver# 2, Type: 1 (Hello)
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.5-08:00 AR29 RM/6/RMDEBUG:  Length: 44, Router: 10.5.1.
29
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.6-08:00 AR29 RM/6/RMDEBUG:  Area: 0.0.0.2, Chksum: 0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.7-08:00 AR29 RM/6/RMDEBUG:  AuType: 02
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.8-08:00 AR29 RM/6/RMDEBUG:  Key(ascii): * * * * * * * *

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.9-08:00 AR29 RM/6/RMDEBUG:  Net Mask: 255.255.255.0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.10-08:00 AR29 RM/6/RMDEBUG:  Hello Int: 10, Option: _E_

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.11-08:00 AR29 RM/6/RMDEBUG:  Rtr Priority: 1, Dead Int:
 40
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.12-08:00 AR29 RM/6/RMDEBUG:  DR: 10.5.233.29
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.13-08:00 AR29 RM/6/RMDEBUG:  BDR: 0.0.0.0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:04:51.856.14-08:00 AR29 RM/6/RMDEBUG:  # Attached Neighbors: 0

# AR33ç»™å‘é€çš„helloæŠ¥æ–‡  
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.1-08:00 AR29 RM/6/RMDEBUG:
 FileID: 0xd0178024 Line: 2236 Level: 0x20
 OSPF 1: RECV Packet. Interface: GigabitEthernet0/0/1
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.2-08:00 AR29 RM/6/RMDEBUG:  Source Address: 10.5.233.33

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.3-08:00 AR29 RM/6/RMDEBUG:  Destination Address: 224.0.
0.5
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.4-08:00 AR29 RM/6/RMDEBUG:  Ver# 2, Type: 1 (Hello)
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.5-08:00 AR29 RM/6/RMDEBUG:  Length: 44, Router: 10.5.1.
33
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.6-08:00 AR29 RM/6/RMDEBUG:  Area: 0.0.0.2, Chksum: 0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.7-08:00 AR29 RM/6/RMDEBUG:  AuType: 02
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.8-08:00 AR29 RM/6/RMDEBUG:  Key(ascii): * * * * * * * *

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.9-08:00 AR29 RM/6/RMDEBUG:  Net Mask: 255.255.255.0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.10-08:00 AR29 RM/6/RMDEBUG:  Hello Int: 15, Option: _N_

&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.11-08:00 AR29 RM/6/RMDEBUG:  Rtr Priority: 1, Dead Int:
 60
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.12-08:00 AR29 RM/6/RMDEBUG:  DR: 10.5.233.33
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.13-08:00 AR29 RM/6/RMDEBUG:  BDR: 0.0.0.0
&amp;lt;AR29&amp;gt;
Jan  2 2021 12:05:00.626.14-08:00 AR29 RM/6/RMDEBUG:  # Attached Neighbors: 0

#å…³é—­è°ƒè¯•ä¿¡æ¯è¾“å‡º
&amp;lt;AR29&amp;gt;undo terminal debugging 
Info: Current terminal debugging is off.
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29çš„helloæ—¶é—´ä¸º10ç§’ï¼ˆ Hello Int: 10ï¼‰ï¼ŒAR33çš„helloæ—¶é—´ä¸º15ç§’ï¼ˆHello Int: 15ï¼‰ï¼›AR29çš„ospfåŒºåŸŸç±»å‹ä¸ºæ™®é€šåŒºåŸŸï¼ˆOption: _E_ï¼‰ï¼ŒAR33çš„ospfåŒºåŸŸä¸ºnssaåŒºåŸŸï¼ˆOption: _N_ï¼‰ã€‚AR33ä¸AR29çš„RouterIDä¸å†²çªã€å‡ä¸ºospfåŒºåŸŸ2ã€è®¤è¯é€šè¿‡ã€ç½‘æ®µä¸€è‡´ã€‚å³AR29ä¸AR33ä¹‹é—´æ— æ³•å»ºç«‹ospfé‚»å±…çš„å› ç´ æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯helloæ—¶é—´ä¸ä¸€è‡´ï¼ŒäºŒæ˜¯ospfåŒºåŸŸç±»å‹ä»¥ä¸€è‡´ã€‚åŒæ—¶è·å–åˆ°AR33çš„ä¸‰å±‚åœ°å€ä¸º10.5.233.33ã€‚

2.8 æµ‹è¯•ä¸‰å±‚çš„è¿é€šæ€§
ospfé‚»å±…å»ºç«‹çš„å‰æä¸ºä¸‰å±‚é€šä¿¡æ­£å¸¸ï¼Œæµ‹è¯•AR29ä¸AR33çš„ä¸‰å±‚é€šä¿¡æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;ping 10.5.233.33
  PING 10.5.233.33: 56  data bytes, press CTRL_C to break
    Reply from 10.5.233.33: bytes=56 Sequence=1 ttl=255 time=20 ms
    Reply from 10.5.233.33: bytes=56 Sequence=2 ttl=255 time=30 ms
    Reply from 10.5.233.33: bytes=56 Sequence=3 ttl=255 time=10 ms
    Reply from 10.5.233.33: bytes=56 Sequence=4 ttl=255 time=20 ms
    Reply from 10.5.233.33: bytes=56 Sequence=5 ttl=255 time=30 ms

  --- 10.5.233.33 ping statistics ---
    5 packet(s) transmitted
    5 packet(s) received
    0.00% packet loss
    round-trip min/avg/max = 10/22/30 ms
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸AR33çš„ä¸‰å±‚é€šä¿¡æ­£å¸¸ã€‚

2.9 ç»“è®º
é€šè¿‡ä¸Šè¿°åˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºAR29ä¸AR33ä¹‹é—´çš„ospfçš„helloæ—¶é—´ä¸ä¸€è‡´ã€ospfçš„åŒºåŸŸç±»å‹ä¸ä¸€è‡´å¯¼è‡´AR29ä¸AR33ä¹‹é—´æ— æ³•å»ºç«‹ospfé‚»å±…ï¼Œä»è€ŒAR29ä¸AR33ä¹‹é—´çš„loopback0æ¥å£æ— æ³•æ­£å¸¸é€šä¿¡ã€‚


ä¸‰ã€æ•…éšœè§£å†³
3.1 AR29ä¸AR33ä¹‹é—´çš„ospfçš„helloæ—¶é—´ä¸ä¸€è‡´ã€ospfçš„åŒºåŸŸç±»å‹ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR33ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 2 //è¿›å…¥åŒºåŸŸ2
undo nssa //åˆ é™¤nssaæ— è¯­é…ç½®
interface GigabitEthernet 0/0/1 //è¿›å…¥æ¥å£è§†å›¾
undo ospf timer hello //åˆ é™¤ospfçš„helloæ—¶é—´é…ç½®

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ospf peer brief //æ£€æŸ¥AR33ä¸AR29ä¹‹é—´çš„ospfé‚»å±…æ˜¯å¦æ­£å¸¸
display ip routing-table //æ£€æŸ¥A29çš„è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR33çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±
ping -a 10.5.1.29 10.5.1.33 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 AR33çš„loopback0æ¥å£æ²¡æœ‰å®£å‘Šè¿›åŒºåŸŸ2ï¼Œéœ€è¦åœ¨AR33ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 2 //è¿›å…¥åŒºåŸŸ2
network 10.5.1.33 0.0.0.0 //å°†loopback0æ¥å£åœ°å€å®£å‘Šè¿›åŒºåŸŸ2

3.2.2 AR29ä¸AR33çš„ospfåŒºåŸŸè®¤è¯ä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/1 //è¿›å…¥æ¥å£è§†å›¾
undo ospf authentication-mode //æ¥å£è®¤è¯ä¼˜å…ˆäºåŒºåŸŸè®¤è¯ï¼Œåˆ é™¤æ¥å£è®¤è¯
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 2 //è¿›å…¥åŒºåŸŸ2
authentication-mode MD5 1 cipher {ä¸AR33ç›¸åŒçš„å¯†ç } //ä¿®æ”¹åŒºåŸŸè®¤è¯å¯†ç 

3.2.3 AR29ä¸AR33äº’è”æ¥å£çš„mtuä¸ä¸€è‡´ï¼Œéœ€è¦åœ¨AR33ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/1 //è¿›å…¥æ¥å£è§†å›¾
mtu 1500 //ä¿®æ”¹mtuå€¼

3.2.4 AR29ä¸AR33çš„ospfè¿›ç¨‹ä¸‹è¡¨å­˜åœ¨è·¯ç”±è¿‡æ»¤ç­–ç•¥ï¼Œéœ€è¦åœ¨AR33å’ŒAR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo filter-policy import //åˆ é™¤è·¯ç”±è¿‡æ»¤ç­–ç•¥
undo filter-policy export

3.2.5 AR29ä¸AR33çš„äº’è”æ¥å£ä¸‹å­˜åœ¨æµé‡è¿‡æ»¤ç­–ç•¥ï¼Œéœ€è¦åœ¨AR33å’ŒAR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/1 //è¿›å…¥æ¥å£è§†å›¾
display this //æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy inbound //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-policy outbound 
undo traffic-filter inbound 
undo traffic-filter outbound 

æ‰§è¡Œå®Œä»¥ä¸Šå‘½ä»¤ä¹‹åéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
display ospf peer brief //æ£€æŸ¥AR33ä¸AR29ä¹‹é—´çš„ospfé‚»å±…æ˜¯å¦æ­£å¸¸
display ip routing-table //æ£€æŸ¥A29çš„è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR33çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±
ping -a 10.5.1.29 10.5.1.33 //æŸ¥çœ‹æ•…éšœæ˜¯å¦è§£å†³

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //è¿”å›ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;tac2-2å˜ç§2&#34;&gt;TAC2-2:å˜ç§2&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-2&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ­¥éª¤å’Œå˜ç§3ç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡æœ€åçš„è°ƒè¯•ä¿¡æ¯æ‰¾åˆ°é”™ç‚¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;tac2-3å˜ç§3&#34;&gt;TAC2-3:å˜ç§3&lt;/h2&gt;
&lt;h2 id=&#34;è§£ç­”-3&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ’éšœæ­¥éª¤å’Œå˜ç§3ç›¸åŒï¼Œéƒ½æ˜¯é€šè¿‡æœ€åçš„è°ƒè¯•ä¿¡æ¯æ‰¾åˆ°é”™ç‚¹
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-2</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-tac/"" data-c="
          &lt;h1 id=&#34;è¯Šæ–­ä¸€&#34;&gt;è¯Šæ–­ä¸€&lt;/h1&gt;
&lt;p&gt;AR29çš„loopback0å£æ— æ³•è®¿é—®AR28çš„loopback0å£&lt;/p&gt;
&lt;h2 id=&#34;è§£ç­”&#34;&gt;è§£ç­”&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä¸€ã€æ•…éšœæ ¹å› 

LSW6ä¸Švlané…ç½®é”™è¯¯ï¼Œå¯¼è‡´AR29ä¸AR28å¤„äºä¸åŒçš„å¹¿æ’­åŸŸä¸­ï¼Œæ— æ³•å»ºç«‹æ­£å¸¸çš„ospfé‚»å±…å…³ç³»ã€‚

äºŒã€æ•…éšœåˆ†æ
2.1 æ•…éšœé‡ç°
åœ¨AR29ä¸Šï¼Œä»¥AR29çš„loopback0åœ°å€ä¸ºæºï¼Œæµ‹è¯•ä¸AR28çš„loopback0æ¥å£çš„è¿é€šæ€§ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;ping -a 10.5.1.29 10.5.1.28
  PING 10.5.1.28: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.1.28 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸AR28çš„loopback0æ¥å£ä¹‹é—´ç¡®å®æ— æ³•é€šä¿¡ï¼Œæ•…éšœå­˜åœ¨ã€‚

2.2 æ£€æŸ¥è·¯ç”±è¡¨
AR29è¦æƒ³è®¿é—®AR28çš„loopback0æ¥å£ï¼Œé¦–å…ˆéœ€è¦åœ¨è·¯ç”±è¡¨ä¸­å­˜åœ¨åˆ°è¾¾å¯¹æ–¹æ¥å£çš„è·¯ç”±ï¼ŒæŸ¥çœ‹AR29çš„è·¯ç”±è¡¨ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ip routing-table 
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 12       Routes : 12       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

      10.5.1.29/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.33/32  OSPF    10   1           D   10.5.233.33     GigabitEthernet
0/0/1
     10.5.128.0/24  Direct  0    0           D   10.5.128.29     GigabitEthernet
0/0/0
    10.5.128.29/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.128.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.233.0/24  Direct  0    0           D   10.5.233.29     GigabitEthernet
0/0/1
    10.5.233.29/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
   10.5.233.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/1
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸Šå¹¶ä¸å­˜åœ¨åˆ°è¾¾AR28çš„loopback0æ¥å£çš„è·¯ç”±ã€‚

2.3 æ£€æŸ¥ospfé‚»å±…
AR28ä¸AR29ä¹‹é—´è¿è¡Œospfè·¯ç”±åè®®ï¼Œæ£€æŸ¥AR28ä¸AR29ä¹‹é—´çš„ospfé‚»å±…æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ospf peer brief 

	 OSPF Process 1 with Router ID 10.5.1.29
		  Peer Statistic Information
 ----------------------------------------------------------------------------
 Area Id          Interface                        Neighbor id      State    
 0.0.0.2          GigabitEthernet0/0/1             10.5.1.33        Full        
 ----------------------------------------------------------------------------
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸Šä¸å­˜åœ¨ä¸AR28çš„é‚»å±…å…³ç³»ã€‚

2.4 æ£€æŸ¥AR27çš„ospfé‚»å±…ä¸è·¯ç”±
AR27å’ŒAR28ã€AR29å¤„äºospfåŒä¸€åŒºåŸŸä¸­ï¼ŒæŸ¥çœ‹AR27çš„ospfé‚»å±…å’Œè·¯ç”±æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR27çš„ospfé‚»å±…
&amp;lt;AR27&amp;gt;display ospf peer brief 

	 OSPF Process 1 with Router ID 10.5.1.27
		  Peer Statistic Information
 ----------------------------------------------------------------------------
 Area Id          Interface                        Neighbor id      State    
 0.0.0.0          GigabitEthernet0/0/0             10.5.1.28        Full        
 ----------------------------------------------------------------------------

# AR27çš„è·¯ç”±è¡¨
&amp;lt;AR27&amp;gt;display ip routing-table
Route Flags: R - relay, D - download to fib
------------------------------------------------------------------------------
Routing Tables: Public
         Destinations : 19       Routes : 19       

Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface

        0.0.0.0/0   Static  60   0           D   10.5.128.27     GigabitEthernet
0/0/0
      10.5.1.27/32  Direct  0    0           D   127.0.0.1       LoopBack0
      10.5.1.28/32  OSPF    10   1           D   10.5.128.28     GigabitEthernet
0/0/0
      10.5.1.30/32  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
      10.5.1.31/32  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
      10.5.1.32/32  OSPF    10   2           D   10.5.128.28     GigabitEthernet
0/0/0
      10.5.1.34/32  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
     10.5.128.0/24  Direct  0    0           D   10.5.128.27     GigabitEthernet
0/0/0
    10.5.128.27/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
   10.5.128.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet
0/0/0
     10.5.134.0/24  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
     10.5.230.0/24  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
     10.5.231.0/24  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
     10.5.232.0/24  OSPF    10   2           D   10.5.128.28     GigabitEthernet
0/0/0
     10.5.234.0/24  O_ASE   150  1           D   10.5.128.28     GigabitEthernet
0/0/0
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR27ä¸AR28å»ºç«‹äº†æ­£å¸¸çš„ospfé‚»å±…å…³ç³»ï¼Œå¹¶ä¸”AR27çš„è·¯ç”±è¡¨ä¸­å­˜åœ¨AR28çš„loopback0æ¥å£åœ°å€çš„è·¯ç”±ï¼Œè¿™è¯´æ˜AR28ä¸AR27ä¹‹é—´çš„ospfé…ç½®æ˜¯æ­£ç¡®çš„ã€‚

2.5 å¯¹æ¯”æŸ¥çœ‹AR27ä¸AR29çš„ospfé…ç½®
AR27çš„ospfé…ç½®ä¸ºæ­£ç¡®çš„ï¼Œé€šè¿‡ä¸å…¶å¯¹æ¯”ï¼ŒæŸ¥çœ‹AR29çš„ospfæ˜¯å¦æ­£ç¡®ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# AR27çš„ospfé…ç½®
&amp;lt;AR27&amp;gt;display ospf brief

	 OSPF Process 1 with Router ID 10.5.1.27
		 OSPF Protocol Information

 RouterID: 10.5.1.27        Border Router: 
 Multi-VPN-Instance is not enabled
 Global DS-TE Mode: Non-Standard IETF Mode
 Graceful-restart capability: disabled
 Helper support capability  : not configured
 Applications Supported: MPLS Traffic-Engineering 
 Spf-schedule-interval: max 10000ms, start 500ms, hold 1000ms
 Default ASE parameters: Metric: 1 Tag: 1 Type: 2
 Route Preference: 10 
 ASE Route Preference: 150 
 SPF Computation Count: 7     
 RFC 1583 Compatible
 Retransmission limitation is disabled
 Area Count: 1   Nssa Area Count: 0 
 ExChange/Loading Neighbors: 0
 Process total up interface count: 2
 Process valid up interface count: 1
 
 Area: 0.0.0.0          (MPLS TE not enabled)
 Authtype: MD5   Area flag: Normal
 SPF scheduled Count: 7     
 ExChange/Loading Neighbors: 0
 Router ID conflict state: Normal
 Area interface up count: 2

 Interface: 10.5.128.27 (GigabitEthernet0/0/0)
 Cost: 1       State: DR        Type: Broadcast    MTU: 1500  
 Priority: 1
 Designated Router: 10.5.128.27
 Backup Designated Router: 10.5.128.28
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

 Interface: 10.5.1.27 (LoopBack0)
 Cost: 0       State: P-2-P     Type: P2P       MTU: 1500  
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

# AR29çš„ospfé…ç½®
&amp;lt;AR29&amp;gt;display ospf brief 

	 OSPF Process 1 with Router ID 10.5.1.29
		 OSPF Protocol Information

 RouterID: 10.5.1.29        Border Router:  AREA 
 Multi-VPN-Instance is not enabled
 Global DS-TE Mode: Non-Standard IETF Mode
 Graceful-restart capability: disabled
 Helper support capability  : not configured
 Applications Supported: MPLS Traffic-Engineering 
 Spf-schedule-interval: max 10000ms, start 500ms, hold 1000ms
 Default ASE parameters: Metric: 1 Tag: 1 Type: 2
 Route Preference: 10 
 ASE Route Preference: 150 
 SPF Computation Count: 7     
 RFC 1583 Compatible
 Retransmission limitation is disabled
 Area Count: 2   Nssa Area Count: 0 
 ExChange/Loading Neighbors: 0
 Process total up interface count: 3
 Process valid up interface count: 2
 
 Area: 0.0.0.0          (MPLS TE not enabled)
 Authtype: MD5   Area flag: Normal
 SPF scheduled Count: 7     
 ExChange/Loading Neighbors: 0
 Router ID conflict state: Normal
 Area interface up count: 2

 Interface: 10.5.128.29 (GigabitEthernet0/0/0)
 Cost: 1       State: DR        Type: Broadcast    MTU: 1500  
 Priority: 1
 Designated Router: 10.5.128.29
 Backup Designated Router: 0.0.0.0
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

 Interface: 10.5.1.29 (LoopBack0)
 Cost: 0       State: P-2-P     Type: P2P       MTU: 1500  
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 
 
 Area: 0.0.0.2          (MPLS TE not enabled)
 Authtype: MD5   Area flag: Normal
 SPF scheduled Count: 6     
 ExChange/Loading Neighbors: 0
 Router ID conflict state: Normal
 Area interface up count: 1

 Interface: 10.5.233.29 (GigabitEthernet0/0/1)
 Cost: 1       State: BDR       Type: Broadcast    MTU: 1500  
 Priority: 1
 Designated Router: 10.5.233.33
 Backup Designated Router: 10.5.233.29
 Timers: Hello 10 , Dead 40 , Poll  120 , Retransmit 5 , Transmit Delay 1 

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR27å’ŒAR29çš„GigabitEthernet0/0/0æ¥å£å‡å®£å‘Šè¿›ospfåŒºåŸŸ0ä¸­ï¼Œcostå€¼å‡ä¸º1ï¼Œé“¾è·¯ç±»å‹å‡ä¸ºBroadcastï¼Œmtuå‡ä¸º1500ï¼Œhelloæ—¶é—´å‡ä¸º10ç§’ï¼›LoopBack0ä¹Ÿå‡å®£å‘Šè¿›åŒºåŸŸ0ä¸­ï¼Œcostå‡ä¸º0ï¼Œé“¾è·¯ç±»å‹å‡ä¸ºP2Pï¼Œmtuå‡ä¸º1500ï¼Œhelloæ—¶é—´å‡ä¸º10ç§’ã€‚è¿™è¯´æ˜AR29çš„ospfé…ç½®æ­£ç¡®ã€‚

2.6 æ£€æŸ¥ospfé”™è¯¯æƒ…å†µ
æ£€æŸ¥AR29ä¸LSW6ç›¸è¿çš„æ¥å£ä¸‹ospfé”™è¯¯æƒ…å†µï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display ospf error interface GigabitEthernet 0/0/0

	 OSPF Process 1 with Router ID 10.5.1.29
		 OSPF error statistics 

 Interface: GigabitEthernet0/0/0 (10.5.128.29)
General packet errors:
 0     : Bad version                    0     : Bad checksum
 0     : Bad area id                    0     : Bad authentication type
 0     : Bad authentication key         0     : Unknown neighbor
 0     : Bad net segment                0     : Extern option mismatch
 0     : Router id confusion

HELLO packet errors:
 0     : Netmask mismatch               0     : Hello timer mismatch
 0     : Dead timer mismatch            0     : Invalid Source Address

DD packet errors:
 0     : MTU option mismatch

LS REQ packet errors:
 0     : Bad request

LS UPD packet errors:
 0     : LSA checksum bad

Receive Grace LSA errors:
 0     : Number of invalid LSAs         0     : Number of policy failed LSAs
 0     : Number of wrong period LSAs

&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29ä¸Šæ²¡æœ‰å‡ºç°ä»»ä½•é”™è¯¯ï¼Œå‡ºç°è¿™ç§æƒ…å†µåªæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯é‚»å±…æ­£å¸¸å»ºç«‹ï¼ŒäºŒæ˜¯AR29æ²¡æœ‰æ”¶åˆ°ä»»ä½•æŠ¥æ–‡ï¼Œæ˜¾ç„¶ç›®å‰æƒ…å†µæ˜¯AR29æ²¡æœ‰æ”¶åˆ°ä»»ä½•æŠ¥æ–‡ã€‚

2.7 æ£€æŸ¥ä¸‰å±‚çš„è¿é€šæ€§
ospfé‚»å±…çš„å»ºç«‹ä¾èµ–ä¸‰å±‚çš„è¿é€šæ€§ï¼Œæµ‹è¯•AR29ä¸AR28ä¹‹é—´ä¸‰å±‚æ˜¯å¦æ­£å¸¸é€šä¿¡ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# é€šè¿‡æŸ¥çœ‹AR27çš„ARPåˆ—è¡¨è·å–åˆ°AR28çš„GigabitEthernet0/0/0æ¥å£ä¿¡æ¯
&amp;lt;AR27&amp;gt;display arp
IP ADDRESS      MAC ADDRESS     EXPIRE(M) TYPE        INTERFACE   VPN-INSTANCE 
                                          VLAN/CEVLAN PVC                      
------------------------------------------------------------------------------
10.5.128.27     00e0-fc0e-3f2e            I -         GE0/0/0
10.5.128.28     00e0-fc61-5aef  1         D-0         GE0/0/0
------------------------------------------------------------------------------
Total:2         Dynamic:1       Static:0     Interface:1   

# æµ‹è¯•ä¸‰å±‚è¿é€šæ€§
&amp;lt;AR29&amp;gt; ping 10.5.128.28
  PING 10.5.128.28: 56  data bytes, press CTRL_C to break
    Request time out
    Request time out
    Request time out
    Request time out
    Request time out

  --- 10.5.128.28 ping statistics ---
    5 packet(s) transmitted
    0 packet(s) received
    100.00% packet loss
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR28ä¸AR29ä¹‹é—´çš„ä¸‰å±‚æ— æ³•æ­£å¸¸é€šä¿¡ã€‚

2.8 æ£€æŸ¥ARPåˆ—è¡¨å¹¶è¿›è¡Œå•æ’­æµ‹è¯•
ä¸‰å±‚æ­£å¸¸é€šä¿¡çš„å‰ææ˜¯è·å–åˆ°å¯¹æ–¹æ¥å£çš„Macåœ°å€ï¼Œæ£€æŸ¥AR29çš„ARPåˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨ç›¸åº”çš„è¡¨é¡¹ï¼ŒåŒæ—¶è¿›è¡Œå•æ’­æµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
# ARPåˆ—è¡¨
&amp;lt;AR29&amp;gt;display arp
IP ADDRESS      MAC ADDRESS     EXPIRE(M) TYPE        INTERFACE   VPN-INSTANCE 
                                          VLAN/CEVLAN PVC                      
------------------------------------------------------------------------------
10.5.128.29     00e0-fcc1-1b22            I -         GE0/0/0
10.5.233.29     00e0-fcc1-1b23            I -         GE0/0/1
10.5.233.33     00e0-fc64-44f6  18        D-0         GE0/0/1
------------------------------------------------------------------------------
Total:3         Dynamic:1       Static:0     Interface:2   

# å•æ’­æµ‹è¯•
&amp;lt;AR29&amp;gt;arp-ping mac 00e0-fc61-5aef interface GigabitEthernet 0/0/0
  OutInterface: GigabitEthernet0/0/0 MAC[00-E0-FC-61-5A-EF], press CTRL_C to bre
ak
Error: Request timed out.
Error: Request timed out.
Error: Request timed out.

    ----- ARP-Ping MAC statistics -----
    3 packet(s) transmitted
    0 packet(s) received
    MAC[00-E0-FC-61-5A-EF]  not be used
&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29çš„ARPåˆ—è¡¨ä¸­å¹¶ä¸å­˜åœ¨AR28çš„GigabitEthernet0/0/0æ¥å£çš„Macåœ°å€è¡¨é¡¹ï¼ŒåŒæ—¶å•æ’­æµ‹è¯•ä¹Ÿå¤±è´¥ï¼Œè¿™è¡¨æ˜AR28ä¸AR29çš„äºŒå±‚ä¹Ÿæ— æ³•æ­£å¸¸é€šä¿¡ã€‚

2.9 æ£€æŸ¥æ¥å£çŠ¶æ€
æŸ¥çœ‹AR29çš„GigabitEthernet0/0/0çš„æ¥å£çŠ¶æ€æ˜¯å¦æ­£å¸¸ï¼Œç»“æœå¦‚ä¸‹ï¼š
&amp;quot;&amp;quot;&amp;quot;
&amp;lt;AR29&amp;gt;display interface GigabitEthernet 0/0/0
GigabitEthernet0/0/0 current state : UP
Line protocol current state : UP
Last line protocol up time : 2021-01-02 10:23:01 UTC-08:00
Description:HUAWEI, AR Series, GigabitEthernet0/0/0 Interface
Route Port,The Maximum Transmit Unit is 1500
Internet Address is 10.5.128.29/24
IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, Hardware address is 00e0-fcc1-1b22
Last physical up time   : 2021-01-02 10:23:01 UTC-08:00
Last physical down time : 2021-01-02 10:22:53 UTC-08:00
Current system time: 2021-01-02 10:50:04-08:00
Port Mode: FORCE COPPER
Speed : 1000,  Loopback: NONE
Duplex: FULL,  Negotiation: ENABLE
Mdi   : AUTO
Last 300 seconds input rate 424 bits/sec, 0 packets/sec
Last 300 seconds output rate 72 bits/sec, 0 packets/sec
Input peak rate 568 bits/sec,Record time: 2021-01-02 10:23:28
Output peak rate 432 bits/sec,Record time: 2021-01-02 10:44:09

Input:  734 packets, 87346 bytes
  Unicast:                  0,  Multicast:                 734
  Broadcast:                0,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0

  CRC:                      0,  Giants:                      0
  Jabbers:                  0,  Throttles:                   0
  Runts:                    0,  Symbols:                     0
  Ignoreds:                 0,  Frames:                      0

Output:  159 packets, 14754 bytes
  Unicast:                  3,  Multicast:                 150
  Broadcast:                6,  Jumbo:                       0
  Discard:                  0,  Total Error:                 0

  Collisions:               0,  ExcessiveCollisions:         0
  Late Collisions:          0,  Deferreds:                   0

    Input bandwidth utilization threshold : 100.00%
    Output bandwidth utilization threshold: 100.00%
    Input bandwidth utilization  :    0%
    Output bandwidth utilization :    0%


&amp;quot;&amp;quot;&amp;quot;
ç»“æœæ˜¾ç¤ºï¼ŒAR29çš„GigabitEthernet0/0/0æ¥å£åœ¨ç‰©ç†ä¸Šå’Œåè®®ä¸Šå‡æ˜¯upçŠ¶æ€ï¼Œè¯´æ˜AR29çš„ç‰©ç†å±‚æ­£å¸¸ã€‚

2.10 ç»“è®º
é€šè¿‡ä»¥ä¸Šåˆ†æï¼Œæ•…éšœçš„æ ¹æœ¬åŸå› ä¸ºLSW6ä¸Švlané…ç½®é”™è¯¯ï¼Œå¯¼è‡´AR29ä¸AR28å¤„äºä¸åŒçš„å¹¿æ’­åŸŸä¸­ï¼Œæ— æ³•å»ºç«‹æ­£å¸¸çš„ospfé‚»å±…å…³ç³»ã€‚


ä¸‰ã€æ•…éšœè§£å†³
3.1 LSW6ä¸Švlané…ç½®é”™è¯¯ï¼Œéœ€è¦åœ¨LSW6ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
display port vlan active //æŸ¥çœ‹æ¥å£Ethernet 0/0/2çš„vlanID
interface Ethernet 0/0/3 //è¿›å…¥æ¥å£è§†å›¾
port link-type access //è®¾ç½®æ¥å£æ¨¡å¼ä¸ºaccess
port default vlan {Ethernet 0/0/2æ¥å£çš„vlanID} //é…ç½®æ­£ç¡®çš„vlanID

æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping 10.5.128.28 //æ£€æŸ¥ä¸‰å±‚çš„è¿é€šæ€§
display ospf peer brief //æŸ¥çœ‹ospfé‚»å±…æ˜¯å¦æ­£å¸¸
display ip routing-table //æŸ¥çœ‹è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±
ping -a 10.5.1.29 10.5.1.28 //æ£€æŸ¥æ•…éšœæ˜¯å¦æ’é™¤

3.2 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™å­˜åœ¨ä»¥ä¸‹é«˜å¯èƒ½æ€§æ•…éšœï¼š
3.2.1 LSW6ä¸Šé…ç½®äº†mux-vlanï¼Œéœ€è¦åœ¨LSW6ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
display mux-vlan //æŸ¥çœ‹é…ç½®äº†mux-vlançš„æ¥å£
interface {é…ç½®äº†mux-vlançš„æ¥å£} //è¿›å…¥æ¥å£è§†å›¾
undo port mux-vlan enable //åˆ é™¤mux-vlané…ç½®

3.2.2 AR29çš„ospfåŒºåŸŸè®¤è¯é”™è¯¯ï¼Œéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/0 //è¿›å…¥æ¥å£è§†å›¾
undo ospf authentication-mode //æ¥å£è®¤è¯ç”±äºåŒºåŸŸè®¤è¯ï¼Œéœ€è¦å…ˆåˆ é™¤æ¥å£è®¤è¯
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
area 0 //è¿›å…¥åŒºåŸŸ0
authentication-mode md5 1 cipher {AR28çš„åŒºåŸŸ0è®¤è¯å¯†ç } //ä¿®æ”¹æ¥å£è®¤è¯

3.2.3 AR29ä¸AR28çš„ospfè¿›ç¨‹ä¸‹å­˜åœ¨è·¯ç”±è¿‡æ»¤ï¼Œéœ€è¦åœ¨AR28å’ŒAR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
ospf {ospfè¿›ç¨‹ID} //è¿›å…¥ospfè¿›ç¨‹ä¸‹
display this // æŸ¥çœ‹å½“å‰é…ç½®
undo filter-policy import //åˆ é™¤è·¯ç”±è¿‡æ»¤ç­–ç•¥
undo filter-policy export

3.2.4 AR29ä¸AR28çš„GigabitEthernet 0/0/0æ¥å£ä¸‹é…ç½®æµé‡è¿‡æ»¤ç­–ç•¥ï¼Œéœ€è¦åœ¨AR28å’ŒAR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
system-view //è¿›å…¥ç³»ç»Ÿè§†å›¾
interface GigabitEthernet 0/0/0 //è¿›å…¥æ¥å£è§†å›¾
display this // æŸ¥çœ‹å½“å‰é…ç½®
undo traffic-policy inbound //åˆ é™¤æµé‡è¿‡æ»¤ç­–ç•¥
undo traffic-policy outbound
undo traffic-filter inbound
undo traffic-filter outbound

æ‰§è¡Œå®Œä¸Šè¿°å‘½ä»¤ä¹‹åéœ€è¦åœ¨AR29ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œæ£€æŸ¥ï¼š
ping 10.5.128.28 //æ£€æŸ¥ä¸‰å±‚çš„è¿é€šæ€§
display ospf peer brief //æŸ¥çœ‹ospfé‚»å±…æ˜¯å¦æ­£å¸¸
display ip routing-table //æŸ¥çœ‹è·¯ç”±è¡¨ä¸­æ˜¯å¦å­˜åœ¨AR28çš„loopback0æ¥å£çš„è·¯ç”±
ping -a 10.5.1.29 10.5.1.28 //æ£€æŸ¥æ•…éšœæ˜¯å¦æ’é™¤

3.3 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æˆåŠŸæ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦åœ¨æ‰§è¡Œè¿‡å‘½ä»¤çš„è®¾å¤‡ä¸Šç»§ç»­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
return //å›åˆ°ç”¨æˆ·è§†å›¾
save //ä¿å­˜ä¿®æ”¹ä¹‹åçš„é…ç½®

3.4 å¦‚æœæ‰§è¡Œä»¥ä¸Šå‘½ä»¤æœªèƒ½æ’é™¤æ•…éšœï¼Œåˆ™éœ€è¦ç”¨æˆ·æä¾›å®Œæ•´çš„è®¾å¤‡é…ç½®ä¿¡æ¯æˆ–è€…æ´¾é£ä¸€çº¿å·¥ç¨‹å¸ˆåˆ°è¾¾ç”¨æˆ·ç°åœºè¿›è¡Œç°åœºæ’éšœï¼ŒåŒæ—¶æ‹¨æ‰“åä¸º400æœåŠ¡çƒ­çº¿è¯·æ±‚åä¸ºä¸“å®¶çš„ååŠ©ï¼Œè°¢è°¢ï¼
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTAC-1</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-labv2-bu-zou-fen-jie/"" data-c="
          &lt;h1 id=&#34;lab-v2&#34;&gt;Lab V2&lt;/h1&gt;
&lt;h2 id=&#34;1-l2vrrp&#34;&gt;1. L2+VRRP&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
int eth-trunk 12
    load-balance src-dst-mac
    trunkport g0/0/23 0/0/24
    dis eth 12
# SW2
int eth-trunk 12
    load-balance src-dst-mac
    trunkport g0/0/23 0/0/24
    dis eth 12
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
port-group group-member g0/0/1 g0/0/12 eth-trunk 12
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
# SW2
port-group group-member g0/0/1 g0/0/12 eth-trunk 12
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
# SW3
port-group group-member g0/0/1 g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
# SW4
port-group group-member g0/0/1 g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01&lt;code&gt;vridä¸º1&lt;/code&gt;çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­ï¼ˆPC1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºServer1çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02&lt;code&gt;vridä¸º2&lt;/code&gt;çš„å…è´¹ARPã€‚Server1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­ï¼ˆServer1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;br&gt;
ã€æ³¨æ„ã€‘æ­¤å¤„åšå®Œä¸é€šæ˜¯å¯¹çš„ï¼Œéœ€è¦å°†SW1/SW2é¢å¯¹CE1/CE2çš„æ¥å£é…ç½®ä¸ºtrunkï¼Œå¹¶å…è®¸Vlan10/20é€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 2/3/4-----------------------------------
# CE1
dis ip int bri
int g0/0/2.10
    dis th
    vrrp vrid 1 virtual-ip 10.3.1.254
    vrrp vrid 1 priority 120
    vrrp vrid 1 preempt-mode timer delay 60
    arp broadcast enable
int g0/0/2.20
    dis th
    vrrp vrid 2 virtual-ip 10.3.2.254
    arp broadcast enable

# CE2
dis ip int bri
int g0/0/2.10
    dis th
    vrrp vrid 1 virtual-ip 10.3.1.254
    arp broadcast enable
int g0/0/2.20
    dis th
    vrrp vrid 2 virtual-ip 10.3.2.254
    vrrp vrid 2 priority 120
    vrrp vrid 2 preempt-mode timer delay 60
    arp broadcast enable

# SW1
vlan batch 10 20
dis port vlan active
int g0/0/2
    port link-type trunk
    port trunk allow-pass vlan 10 20

# SW2
vlan batch 10 20
dis port vlan active
int g0/0/2
    port link-type trunk
    port trunk allow-pass vlan 10 20

# SW3
vlan batch 10 20
dis port vlan active
int e0/0/1  
    port link access
    port default vlan 10

# SW4
vlan batch 10 20
dis port vlan active
int e0/0/1
    port link access
    port default vlan 20

# æµ‹è¯•------------------
# CE1/2
dis vrrp bri
# PC1/2
ping 10.3.2.254
ping 10.3.1.254
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q
stp instance 10 root primary
stp instance 20 secondary primary

# SW2
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q
stp instance 10 root secondary 
stp instance 20 root primary

# SW3
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q

# SW4
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
stp edged-port default
port-group group-member eth 12 g0/0/1 g0/0/12
    stp edged-port disable

# SW2
stp edged-port default
port-group group-member eth 12 g0/0/1 g0/0/12
    stp edged-port disable

# SW3
stp edged-port default
port-group group-member g0/0/1 g0/0/2
    stp edged-port disable

# SW4
stp edged-port default
port-group group-member g0/0/1 g0/0/2
    stp edged-port disable

# æ£€æŸ¥
# SW1/2/3/4
dis stp bri 
# sw1ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan20å’Œvlan10çš„root
# sw2ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan10çš„root
# sw3ç«¯å£g0/0/1æ˜¯vlan10çš„rootï¼Œg0/0/2æ˜¯vlan20çš„root
# sw4ç«¯å£g0/0/1æ˜¯vlan20çš„rootï¼Œg0/0/2æ˜¯vlan10çš„root
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#PE1
ipv6 
int ip-trunk 1
    ipv6 enable 
    ip addr 10.1.13.1 30
    ipv6 addr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300 127
    q
int s0/0/1
    link-protocol hdlc
    ip-trunk 1
int s0/0/2
    link-protocol hdlc
    ip-trunk 1
    q

# RR1
ipv6
int ip-trunk 1
    ipv6 enable 
    ip addr 10.1.13.2 30
    ipv6 addr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1301 127
    q
int s0/0/1
    link-protocol hdlc
    ip-trunk 1
int s0/0/2
    link-protocol hdlc
    ip-trunk 1
    q

# æµ‹è¯•-----------------------
# RR1
ping 10.1.13.1
ping ipv6 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;br&gt;
&lt;code&gt;æ³¨æ„PE3çš„mpæ¥å£éœ€è¦å…ˆç»‘å®šVPN1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3
int mp-group 0/0/1
    dis cu conf vpn
    ip binding vpn-instance VPN1
    ip add 10.2.33.1 30
    q
int p4/0/0
    ppp mp mp-group 0/0/1
int p6/0/0
    ppp mp mp-group 0/0/1

# CE3
int mp-group 0/0/1
    ip add 10.2.33.2 30
    q
int p4/0/0
    ppp mp mp-group 0/0/1
int p6/0/0
    ppp mp mp-group 0/0/1

# æµ‹è¯•
# CE3
ping 10.2.33.1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-ipv4-igp&#34;&gt;2. IPv4 IGP&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 2---------------------------
# CE1
dis ip int br
router id 172.17.1.1
# CE2
dis ip int br
router id 172.17.1.2

# PE1
dis ip int br
router id 172.16.1.1
# PE2
dis ip int br
router id 172.16.1.20
# RR1
dis ip int br
router id 172.16.1.3
# P1
dis ip int br
router id 172.16.1.4
# ASBR1
dis ip int br
router id 172.16.1.5
# ASBR2
dis ip int br
router id 172.16.1.6

# ASBR3
dis ip int br
router id 172.16.1.7
# ASBR4
dis ip int br
router id 172.16.1.8
# RR2
dis ip int br
router id 172.16.1.9
# P2
dis ip int br
router id 172.16.1.10
# PE3
dis ip int br
router id 172.16.1.11
# PE4
dis ip int br
router id 172.16.1.2

# CE3
dis ip int br
router id 172.17.1.3
# CE4
dis ip int br
router id 172.17.1.4
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1
dis ip int bri
ospf 1 router-id 172.17.1.1
    a 0
        network 172.17.1.1 0.0.0.0 # lo0
        network 10.2.12.1 0.0.0.0 # g0/0/0
        network 10.3.1.1 0.0.0.0 # g0/0/2çš„å­æ¥å£10 
        network 10.3.2.1 0.0.0.0 # g0/0/2çš„å­æ¥å£20
        q
    silent-int g0/0/2.10
    silent-int g0/0/2.20

# CE2
dis ip int bri
ospf 1 router-id 172.17.1.2
    a 0
        network 172.17.1.2 0.0.0.0 # lo0
        network 10.2.12.2 0.0.0.0 # g0/0/0
        network 10.3.1.2 0.0.0.0 # g0/0/2çš„å­æ¥å£10 
        network 10.3.2.2 0.0.0.0 # g0/0/2çš„å­æ¥å£20
        q
    silent-int g0/0/2.10
    silent-int g0/0/2.20

# æ£€æŸ¥-------------------
# CE1/2
dis ospf peer bri
dis ospf int 
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;br&gt;
&lt;code&gt;PE4ä¸èƒ½å®£å‘Šlo0ï¼ŒåŸå› ä¸ºæ¬¡ä¼˜è·¯å¾„ï¼Œæ¶‰åŠè€ƒç‚¹5&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR2
dis ip int bri
ospf 1 router-id  172.16.1.9
    a 0
        network 172.16.1.9 0.0.0.0  # lo 0
        network 10.1.91.1 0.0.0.0 #g0/0/0
        network 10.1.119.1 0.0.0.0 #g0/0/2

# P2
dis ip int bri
ospf 1 router-id  172.16.1.10
    a 0
        network 172.16.1.10 0.0.0.0  # lo 0
        network 10.1.91.2 0.0.0.0 #g0/0/0
        network 10.1.102.1 0.0.0.0 #g0/0/2

# PE3
dis ip int bri
ospf 1 router-id  172.16.1.11
    a 0
        network 172.16.1.11 0.0.0.0  # lo 0
        network 10.1.112.1 0.0.0.0 #g0/0/0
        network 10.1.119.2 0.0.0.0 #g0/0/2

# PE4
dis ip int bri
ospf 1 router-id  172.16.1.2
    a 0    # ä¸èƒ½å®£å‘Šlo0ï¼ŒåŸå› ä¸ºæ¬¡ä¼˜è·¯å¾„ï¼Œæ¶‰åŠè€ƒç‚¹5
        network 10.1.112.2 0.0.0.0 #g0/0/0
        network 10.1.102.2 0.0.0.0 #g0/0/2

# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis ospf int 
dis ospf peer bri
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3
int g0/0/0
    ospf network-type p2p
# PE4
int g0/0/0
    ospf network-type p2p
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE4
ip ip-prefix L0 permit 172.16.1.2 32
route-policy L0 permit node 10
    if-match ip-prefix L0
    apply tag 2  # ç”¨äºåé¢åŒå‘è·¯ç”±å¼•å…¥é˜²æ­¢æ¬¡ä¼˜è·¯å¾„
ospf 1
    import-route direct type 1 route-policy L0   

# æ£€æŸ¥-----------------
# P2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1501ï¼Œtagä¸º2
# RR2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1511ï¼Œtagä¸º2
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1/2----------------------
# PE1
dis cu conf isis # is-level level-1 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
dis isis int
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
int ip-trunk 1
    dis th
    isis  enable 
    isis cost 1500
dis isis int
dis isis peer # 2ä¸ª

# PE2
dis cu conf isis # is-level level-1 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# RR1
dis cu conf isis # is-level level-1-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
dis isis int
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
int ip-trunk 1
    dis th
    isis  enable 
    isis cost 1500
dis isis int
dis isis peer # 4ä¸ª

# P1
dis cu conf isis # is-level level-1-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 4ä¸ª

# ASBR1
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR3
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR4
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# RR2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# P2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª


# æ£€æŸ¥-----------------
# RR1
dis ip rou pro isis # æœ‰1/20/4/5/6çš„è·¯ç”±
# ASBR3
dis ip rou pro isis # æœ‰8/9/10çš„è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR2
int g0/0/0
    isis circuit-type p2p
# P2
int g0/0/0
    isis circuit-type p2p
dis isis peer
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# P1
isis 1
    timer lsp-generation 1 50 50
    flash-flood
    timer spf 1 100 100
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-mpls-vpn&#34;&gt;3. MPLS VPN&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;code&gt;CE4çš„OSPFéœ€è¦åšvrf-lite&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;dis cu conf vpn
ospf 1 router-id  172.17.1.4 vpn-instance VPN1
	vpn-instance-capability simple
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#PE1
dis cu conf vpn
ip vpn-instance HUB
    vpn-target 200:1 export
    q
ip vpn-instance VPN1
    vpn-target 100:1 200:1 import # 200:1çš„ä½œç”¨ï¼šå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±
dis cu int# æŸ¥çœ‹intg0/0/1.1å’Œg0/0/1.2åˆ†åˆ«ç»‘å®šVPN1å’ŒHUBï¼Œå¹¶ä¸”éƒ½å·²ç»é…ç½®arp broadcast enable

#PE2
dis cu conf vpn
ip vpn-instance HUB 
    vpn-target 200:1 export
    q
ip vpn-instance VPN1
    vpn-target 100:1 200:1 import 
dis cu int# æŸ¥çœ‹intg0/0/1.1å’Œg0/0/1.2åˆ†åˆ«ç»‘å®šVPN1å’ŒHUBï¼Œå¹¶ä¸”éƒ½å·²ç»é…ç½®arp broadcast enable

# PE3
ip vpn-instance VPN1
    vpn-target 100:1 export
    vpn-target 200:1 import

# PE4
ip vpn-instance VPN1
    vpn-target 100:1 export
    vpn-target 200:1 import
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#CE1
dis ip int bri
bgp  65000
    router-id 172.17.1.1
    peer 10.2.11.2 as 100
    peer 10.2.11.6 as 100
    import ospf 1

#PE1
bgp 100
    dis ip int bri
    router-id 172.16.1.1
    ipv4-family vpn-instance VPN1
        peer 10.2.11.1 as 65000
    ipv4-family vpn-instance HUB
        peer 10.2.11.5 as 65000
        peer 10.2.11.5 allow-as-loop

#CE2
dis ip int bri
bgp  65000
    router-id 172.17.1.2
    peer 10.2.22.2 as 100
    peer 10.2.22.6 as 100
    import ospf 1

#PE2
bgp 100
    dis ip int bri
    router-id 172.16.1.20
    ipv4-family vpn-instance VPN1
        peer 10.2.22.1 as 65000
    ipv4-family vpn-instance HUB
        peer 10.2.22.5 as 65000
        peer 10.2.22.5 allow-as-loop

# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis bgp vpnv4 all peer
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3
ospf 2 vpn-instance VPN1
    a 1
        dis ip int bri # æŸ¥çœ‹MPå£
        network 10.2.33.1 0.0.0.0
# CE3
dis ip int bri 
ospf 1 router-id 172.17.1.3
    area 1 # åŒæ—¶éœ€è¦å®£å‘Šæ‰€æœ‰ç¯å›å£
        net 10.2.33.2 0.0.0.0
        net 172.17.1.3 0.0.0.0
        net 10.3.3.3 0.0.0.0
dis ospf peer bri

# PE4
ospf 2 vpn-instance VPN1
    a 0
        dis ip int bri # æŸ¥çœ‹g0/0/1å£
        net 10.2.44.1 0.0.0.0
# CE4
dis cu int  # é…ç½®åœ°å€çš„3ä¸ªæ¥å£éƒ½éœ€è¦ç»‘å®šVPN1
dis ip int bri 
ospf 1 vpn-instance VPN1
    area 0 # åŒæ—¶éœ€è¦å®£å‘Šæ‰€æœ‰ç¯å›å£
        net 10.2.44.2 0.0.0.0
        net 172.17.1.4 0.0.0.0
        net 10.4.4.4 0.0.0.0
# æ£€æŸ¥
# PE3/PE4/CE3/CE4
dis ospf peer bri
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
å¦‚å›¾4ï¼Œåœ¨AS100ã€AS200å†…å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»ï¼ŒRR1æ˜¯PE1ã€PE2ã€P1ã€ASBR1ã€ASBR2çš„åå°„å™¨ï¼ŒRR2æ˜¯PE3ã€PE4ã€P2ã€ASBR3ã€ASBR4çš„åå°„å™¨ã€‚ASBR1-ASBR3ã€ASBR2-ASBR4å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# MPLS--------------------
# AS100å’ŒAS200å†…æ‰€æœ‰è®¾å¤‡
mpls lsr-id 172.16.1.1/20/3/4/5/6/7/8/9/10/11/2
mpls
mpls ldp
# AS100å’ŒAS200å†…æ‰€æœ‰è®¾å¤‡çš„äº’è”æ¥å£å…¨éƒ¨å¼€å¯mpls ldpï¼Œå°†éœ€è¦å¼€å¯mplsæ¥å£çš„é…ç½®å†™å…¥è®°äº‹æœ¬ï¼Œç„¶ååœ¨ç›¸åº”è®¾å¤‡ä¸Šç²˜è´´é…ç½®
# PE1
int ip 1
    mpls 
    mpls ldp
int g0/0/0
    mpls 
    mpls ldp
# PE2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
# RR1
int ip 1
    mpls 
    mpls ldp
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# P1
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
# ASBR1ï¼šæ³¨æ„è¿™æ˜¯option Cæ–¹æ¡ˆï¼ŒASä¹‹é—´çš„æ¥å£ä¸èƒ½é…ç½®
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR3
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR4
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
#RR2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#P2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#PE3
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#PE4
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp

# æ£€æŸ¥-----------------
# AS100/200å†…æ‰€æœ‰è®¾å¤‡
dis mpls ldp peer


# BGP
# PE1/PE2/P1/ASBR1/ASBR2
bgp 100
    router-id 172.16.1.1/20/4/5/6
    peer 172.16.1.3 as 100
    peer 172.16.1.3 connect lo 0
# RR1
bgp 100
    router-id 172.16.1.3
    peer 172.16.1.1 as 100 # é…ç½®é‚»å±…
    peer 172.16.1.20 as 100
    peer 172.16.1.4 as 100
    peer 172.16.1.5 as 100
    peer 172.16.1.6 as 100
    dis th
    peer 172.16.1.1 co lo 0 # é…ç½®æ›´æ–°æº
    peer 172.16.1.20 co lo 0
    peer 172.16.1.4 co lo 0
    peer 172.16.1.5 co lo 0
    peer 172.16.1.6 co lo 0
    peer 172.16.1.1 re # é…ç½®åå°„å™¨
    peer 172.16.1.20 re
    peer 172.16.1.4 re
    peer 172.16.1.5 re
    peer 172.16.1.6 re

# ASBR1
bgp 100
    dis th
    peer 172.16.1.3 next-hop-local
    peer 10.1.57.2  as 200

# ASBR2
bgp 100
    dis th
    peer 172.16.1.3 next-hop-local
    peer 10.1.68.2 as 200

# ASBR3
bgp 200
    router-id 172.16.1.7
    peer 10.1.57.1  as 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 next-hop-local

# ASBR4
bgp 200
    router-id 172.16.1.8
    peer 10.1.68.1 as 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 next-hop-local

# P2/PE3/PE4
bgp 200
    router-id 172.16.1.10/11/2
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0

# RR2
bgp 200
    router-id 172.16.1.9
    peer 172.16.1.7 as 200 # é…ç½®é‚»å±…
    peer 172.16.1.8 as 200
    peer 172.16.1.10 as 200
    peer 172.16.1.11 as 200
    peer 172.16.1.2 as 200
	peer 172.16.1.7 co lo 0 # æ›´æ–°æº
    peer 172.16.1.8 co lo 0 
    peer 172.16.1.10 co lo 0 
    peer 172.16.1.11 co lo 0 
    peer 172.16.1.2 co lo 0 
	peer 172.16.1.7 re # åå°„å™¨
    peer 172.16.1.8 re 
    peer 172.16.1.10 re 
    peer 172.16.1.11 re
    peer 172.16.1.2 re

# æ£€æŸ¥-----------------
# RR1/2
dis bgp peer  # 5ä¸ªé‚»å±…å»ºç«‹
# ASBR1/2/3/4
dis bgp peer # 2ä¸ªé‚»å±…

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;ASBR1-ASBR3ï¼ŒASBR2-ASBR4ä¹‹é—´é€šè¿‡ç›´è¿æ¥å£å»ºç«‹BGPé‚»å±…å…³ç³»ã€‚åœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚å‡è®¾AS100å’ŒAS200ä¸­çš„loopback0åœ°å€ä¸º172.16.1.Y/32ã€‚å½“Yä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR1-ASBR3ï¼›å½“Yä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR2-ASBR4.ä¿è¯é…æœ‰æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;br&gt;
&lt;code&gt;åšæœ¬é¢˜ä¹‹å‰å…ˆåšç¬¬9é¢˜&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1
acl 2000   # 4å°ASBRçš„ACLéƒ½æ˜¯ç›¸åŒçš„ï¼Œå»ºè®®å¤åˆ¶ï¼Œä¸åŒçš„æ˜¯route-policy
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 200
route-policy AB permit node 20
    if-match acl 2001
    apply cost 100
bgp 100
    import-route isis 1 route-policy AB
# ASBR3
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 200
route-policy AB permit node 20
    if-match acl 2001
    apply cost 100
bgp 200
    import-route isis 1 route-policy AB


# ASBR2
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 100
route-policy AB permit node 20
    if-match acl 2001
    apply cost 200
bgp 100
    import-route isis 1 route-policy AB
# ASBR4
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 100
route-policy AB permit node 20
    if-match acl 2001
    apply cost 200
bgp 200
    import-route isis 1 route-policy AB

# æ£€æŸ¥-----------------
# 4å°ASBR
dis bgp rou # å¥‡æ•°è·¯ç”±èµ°1/3ï¼Œåä¹‹äº¦ç„¶ã€‚ä¾‹å¦‚ASBR1ä¸Š172.16.1.1çš„ä¸‹ä¸€è·³0.0.0.0ï¼ˆé»˜è®¤ä¸ºASBR3ï¼‰,172.16.1.2çš„ä¸‹ä¸€è·³å°±æ˜¯172.16.1.6

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;## RR2
ip ip-prefix 172 permit 172.16.0.0 16 greater-equal 32  # åŒ¹é…172çš„ä¸»æœºè·¯ç”±

route-policy O2I deny node 10
    if-match tag 100
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 200
route-policy I2O deny node 10
    if-match tag 101
route-policy I2O permit node 20
    if-match ip-prefix 172
    apply cost-type type-1
    apply tag 201

route-policy OASE permit node 10
    if-match tag 2 # ä¸PE4å¼•å…¥æ—¶æŒ‡å®šçš„tagä¸€è‡´
    apply preference 14 #é’ˆå¯¹PE4å¼•å…¥çš„ospfå¤–éƒ¨è·¯ç”±è®¾ç½®ä¼˜å…ˆçº§ä¸º14
    
ospf 1
    import-route isis 1 type 1 route-policy I2O 
    preference ase route-policy OASE
isis 1
    import-route ospf 1 inherit-cost route-policy O2I

dis route-policy # æ­¤æ—¶æŸ¥çœ‹åŒ¹é…åˆ°çš„è·¯ç”±æ˜¯ä¸æ˜¯æœ‰0ï¼Œæœ‰åˆ™éœ€è¦æŠŠdenyé‡æ–°é…ç½®ä¸€ä¸‹
dis cu conf routr-policy
undo route-policy O2I node 10
route-policy O2I deny node 10
    if-match tag 300
undo route-policy I2O node 10
route-policy I2O deny node 10
    if-match tag 201


# P2
ip ip-prefix 172 permit 172.16.0.0 16 greater-equal 32

route-policy I2O permit node 20
    if-match ip-prefix 172
    apply tag 100
route-policy I2O deny node 10
    if-match tag 200
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 101
route-policy O2I deny node 10
    if-match tag 201
    
route-policy OASE permit node 10
    if-match tag 2 # ä¸PE4å¼•å…¥æ—¶æŒ‡å®šçš„tagä¸€è‡´
    apply preference 14   # é’ˆå¯¹PE4å¼•å…¥çš„ospfå¤–éƒ¨è·¯ç”±è®¾ç½®ä¼˜å…ˆçº§ä¸º14ï¼ˆospfä¸º10ï¼Œisisä¸º15ï¼‰
    
ospf 1
    import-route isis 1 type 1 route-policy I2O 
    preference ase route-policy OASE
isis 1
    import-route ospf 1 inherit-cost route-policy O2I

dis route-policy  # æ­¤æ—¶æŸ¥çœ‹åŒ¹é…åˆ°çš„è·¯ç”±æ˜¯ä¸æ˜¯æœ‰0ï¼Œå› ä¸ºè·¯ç”±ä¹‹å‰å·²ç»è¿‡å»äº†ï¼Œéœ€è¦æŠŠdenyé‡æ–°é…ç½®ä¸€ä¸‹
dis cu conf routr-policy
undo route-policy O2I node 10
route-policy O2I deny node 10
    if-match tag 301
undo route-policy I2O node 10
route-policy I2O deny node 10
    if-match tag 200

# æ£€æŸ¥-----------------
# RR2/P2
dis route-policy  # æ­¤æ—¶åŒ¹é…çš„è·¯ç”±æ¡æ•°ä¸åº”è¯¥æœ‰0
# P2
dis ip rou # åˆ°è¾¾PE4(172.16.1.2)çš„è·¯ç”±åº”è¯¥ä¸ºO_ASEï¼Œæ¥å£ä¸ºg0/0/2ï¼Œå³OSPFçš„å¤–éƒ¨è·¯ç”±è€Œä¸æ˜¯ISISçš„è·¯ç”±
# PE4
dis ip rou pro ospf # åˆ°è¾¾P2(172.16.1.10)ä¸ºg0/0/2æ¥å£
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆäºŒï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚PE1-RR1ã€PE2-RR1ã€PE3-RR2ã€PE4-RR2ä¹‹é—´å»ºç«‹MP-IBGPè¿æ¥çš„æºæ¥å£ä¸ºloopback0ã€‚RR1-RR2ä¹‹é—´å»ºç«‹MP-EBGPé‚»å±…çš„æºæ¥å£ä¸ºloopback0ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR1/P1ï¼šé…ç½®isisçš„è·¯ç”±æ³„éœ²
ip ip-prefix 172 permit 172.16.0.0 16 gr 32
isis 1
    import isis level-2 into level-1 filter-policy ip-prefix 172

# PE3ã€PE4ï¼šè·¯ç”±çš„ç›¸äº’å¼•å…¥
# PE3/4
bgp 200
	#è¾¹ç¼˜è®¾å¤‡è·¯ç”±çš„åŒå‘å¼•å…¥ï¼Œä½¿CE3/4å­¦åˆ°ç›¸åº”çš„è·¯ç”±
    ipv4-family vpn-instance VPN1
        import ospf 2
ospf 2
    import bgp type 1

# ASBR1/2/3/4ï¼šå¼€å¯è·¯ç”±å¸¦æ ‡ç­¾èƒ½åŠ›ï¼Œå°†bgpè·¯ç”±å¯¼å…¥IGPåŒæ—¶ä¼˜é€‰IGP
int g0/0/2  # ASBRäº’è”æ¥å£å¼€å¯mpls
    mpls
    q
ip ip-prefix 172 permit 172.16.0.0 16 great 32 #å°†å¯¹ç«¯172çš„ä¸»æœºè·¯ç”±å¼•å…¥æœ¬ASå†…éƒ¨IGP
route-policy 172 permit node 10
    if-match ip-prefix 172
    apply tag 1234
route-policy AB deny node 5  # é˜²æ­¢å°†BGPå¼•å…¥IGPæ—¶å‡ºç¯
    if-match tag 1234
isis   # IGPå¼•å…¥BGPçš„è·¯ç”±
    import-route bgp inherit-cost route-policy 172
bgp 100/200
    preference 12 255 255  # ä¿®æ”¹bgpä¼˜å…ˆçº§ï¼Œä¿è¯IGPä¼˜é€‰ã€‚ebgpçš„ä¼˜å…ˆçº§12å°äºISISçš„ä¼˜å…ˆçº§15ï¼Œä¼˜é€‰bgpï¼›ibgpçš„ä¼˜å…ˆçº§255å¤§äºISISçš„ä¼˜å…ˆçº§ï¼Œä¼˜é€‰ISISï¼›æœ¬åœ°ä¼˜å…ˆçº§ä¸º255
IGPæ ‡ç­¾
route-policy MPLS permit no 10 # å‘ebgpé‚»å±…é€šå‘Šè·¯ç”±æ—¶å¸¦æ ‡ç­¾
    apply mpls-label  
    
# ASBR1
mpls
    lsp-trigger bgp-label-route ip-prefix 172  # è®©LDPä¸ºæ¥è‡ªBGPçš„å¸¦æ ‡ç­¾çš„è·¯ç”±åˆ†é…
bgp 100
    peer 10.1.57.2 route-policy MPLS export
    peer 10.1.57.2 label-route-capability  # é’ˆå¯¹é‚»å±…å¼€å¯å…¬ç½‘è·¯ç”±å¸¦æ ‡ç­¾èƒ½åŠ›
# ASBR3
mpls
    lsp-trigger bgp-label-route ip-prefix 172  # è®©LDPä¸ºæ¥è‡ªBGPçš„å¸¦æ ‡ç­¾çš„è·¯ç”±åˆ†é…
bgp 200
    peer 10.1.57.1 route-policy MPLS export
    peer 10.1.57.1 label-route-capability
# ASBR2
mpls
    lsp-trigger bgp-label-route ip-prefix 172  # è®©LDPä¸ºæ¥è‡ªBGPçš„å¸¦æ ‡ç­¾çš„è·¯ç”±åˆ†é…
bgp 100
    peer 10.1.68.2 route-policy MPLS export
    peer 10.1.68.2 label-route-capability
# ASBR4
mpls
    lsp-trigger bgp-label-route ip-prefix 172  # è®©LDPä¸ºæ¥è‡ªBGPçš„å¸¦æ ‡ç­¾çš„è·¯ç”±åˆ†é…
bgp 200
    peer 10.1.68.1 route-policy MPLS export
    peer 10.1.68.1  label-route-capability

# PE1/2
bgp 100
    ipv4-family vpnv4
        peer 172.16.1.3 enable
# RR1
bgp 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 ebgp-max-hop
    ipv4-family unicast
        undo peer 172.16.1.9 enable  # å…³é—­RRä¹‹é—´çš„ipv4é‚»å±…ï¼Œé˜²æ­¢è·¯ç”±é€‰è·¯é”™è¯¯
    ipv4-family vpnv4
        undo policy vpn-target 
        peer 172.16.1.9 enable
        peer 172.16.1.9 next-hop-invariable
        peer 172.16.1.9 allow-as-loop
        peer 172.16.1.1 enable
        peer 172.16.1.1 re
        peer 172.16.1.1 next-hop-invariable # ä¸ä¿®æ”¹ä¸‹ä¸€è·³
        peer 172.16.1.20 enable
        peer 172.16.1.20 re
        peer 172.16.1.20 next-hop-in
# PE3/4
bgp 200
    ipv4-family vpnv4
        peer 172.16.1.9 enable


# RR2
bgp 200
    peer 172.16.1.3 as 100
    peer 172.16.1.3 co lo 0
    peer 172.16.1.3 ebgp-max-hop
    ipv4-family unicast
        undo peer 172.16.1.9 enable 
    ipv4-family vpnv4
        undo policy vpn-target 
        peer 172.16.1.3 enable
        peer 172.16.1.3 next-hop-in
        peer 172.16.1.3 allow-as-loop
        peer 172.16.1.11 enable
        peer 172.16.1.11 re
        peer 172.16.1.11 next-hop-in
        peer 172.16.1.2 enable
        peer 172.16.1.2 re
        peer 172.16.1.2 next-hop-in

# æ£€æŸ¥-----------------
# RR1/2
dis bgp vpnv4 all peer #å„æœ‰3ä¸ªé‚»å±…
dis bgp peer # æŸ¥çœ‹ä¸¤ä¸ªRRä¹‹é—´çš„é‚»å±…
# RR2/PE3/PE4
dis bgp vpnv4 all rou  # æ˜¯å¦å­¦åˆ°CE1/2/3/4ä¸Šçš„è·¯ç”±10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4
# RR1/PE1/PE2
dis bgp vpnv4 all rou  # æ˜¯å¦å­¦åˆ°CE1/2/3/4ä¸Šçš„è·¯ç”±10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4
# RR1/P1
dis ip rou pro isis  # æŸ¥çœ‹æ—¶å€™å­¦ä¹ åˆ°isis level2çš„è·¯ç”±ï¼Œä¸»è¦æ˜¯192.168.1.11/2
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§ï¼ˆå’Œ4ã€5è¦æ±‚é‡åˆï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1/2ï¼šä¿®æ”¹eBGPçš„ä¼˜å…ˆçº§
bgp 65000
    preference 120 255 255
    
ospf 1
    import bgp type 1  # å¼•å…¥ä¹‹å‰å…ˆåšPE1/2ä¸Šé¢çš„soo
# PE1ï¼šä¸ºäº†é˜²ç¯ï¼Œéœ€è¦é…ç½®sooå±æ€§
bgp 100
    ipv4-family vpn-instance HUB
        peer 10.2.11.5 soo 100:12
    ipv4-family vpn-instance VPN1
        peer 10.2.11.1 soo 100:12
# PE2ï¼šä¸ºäº†é˜²ç¯ï¼Œéœ€è¦é…ç½®Sooå±æ€§
bgp 100
    ipv4-family vpn-instance HUB
        peer 10.2.22.5 soo 100:12
    ipv4-family vpn-instance VPN1
        peer 10.2.22.1 soo 100:12
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;13&#34;&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE3/4
acl 2000
    rule permit source 10.3.0.0 0.0.254.255
acl 2001
    rule permit source 10.3.1.0 0.0.254.255
ip ip-prefix NH-PE1 permit 172.16.1.1 32
ip ip-prefix NH-PE2 permit 172.16.1.20 32
route-policy AB permit node 10
    if-match acl 2000
    if-match ip next-hop ip-prefix NH-PE2
    apply local-preference 200   # æœ¬åœ°ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼Œcostè¶Šå°è¶Šä¼˜
route-policy AB permit node 20
    if-match acl 2001
    if-match ip next-hop ip-prefix NH-PE1
    apply local-preference 200
route-policy AB permit node 30  # æ”¾è¡Œå…¶ä»–è·¯ç”±
bgp 200
    ipv4-family vpnv4
    peer 172.16.1.9 route-policy AB import  # ä»åå°„å™¨æ¥çš„è·¯ç”±åº”ç”¨ä¸Šé¢çš„æ¡ä»¶

# æ£€æŸ¥-----------------
# PE3/4
dis bgp vpnv4 all rou #10.3.1.0ä¸‹ä¸€è·³ä¸º172.16.1.1ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200ï¼›10.3.2.0ä¸‹ä¸€æ¡ä¸º172.16.1.20ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200

# æ•´ä¸ªå¤§é¢˜æœ€åçš„æµ‹è¯•
# CE3/4
tracert -a 10.3.3.3 10.4.4.4 # CE4ï¼š9hop
tracert -a 10.3.3.3 10.3.1.10 # PC1ï¼š8hop
tracert -a 10.3.3.3 10.3.2.20 # PC2ï¼š8hop

# CE4
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.3.3  # CE3ï¼š9hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.1.10 # PC1ï¼š8hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.2.20 # PC2ï¼š8hop

# PC1/2
tracert 10.3.3.3 # 3hop
tracert 10.4.4.4

# PC1
tracert 10.3.2.20 # 2hop
# PC2
tracert 10.3.1.10 # 2hop
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-feature&#34;&gt;4. Feature&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE1
bfd # å¼€å¯å…¨å±€bfd
    q
bfd huawei bind peer-ip 100.0.1.2 int g2/0/1 one-arm-echo 
    discriminator local 1  # é…ç½®æœ¬åœ°è®¾å¤‡æ ‡ç¤ºä¸º1
    min-echo-rx-interval 40 # 40çš„3å€å°äº150
    commit
    q
ip route-static 0.0.0.0 0.0.0.0 100.0.1.2 track bfd-session huawei
# æ£€æµ‹---------
dis bfd session all
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”5Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE2
nqa test-instance huawei huawei
    test-type icmp
    destination-address ipv4 200.0.2.2
    frequency 5
    start now
    q
ip route-static 0.0.0.0 0.0.0.0 200.0.2.2 track nqa huawei huawei
# æ£€æµ‹---------
dis nqa history
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä½¿ç”¨ospfç»“åˆbgpä¸‹å‘é»˜è®¤
# CE1:2
ospf 1
    default-route-advertise
bgp 65000
    network 0.0.0.0
int g0/0/2.10:20  # åˆ†åˆ«åœ¨è‡ªå·±çš„master VRRPä¸Šé’ˆå¯¹å»å¾€ISPå’Œå¯¹æ–¹çš„é“¾è·¯å¼€å¯track
    vrrp vrid 1:2 track int g0/0/0 reduced 15
    vrrp vrid 1:2 track int g2/0/1:2 reduced 15
# PE3/4
ospf 2 
    default-route-advertise
# æ£€æµ‹--------
# CE3
dis ip rou   # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
# CE4
dis ip rou vpn-instance VPN1 # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚&lt;br&gt;
åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚&lt;br&gt;
Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  CE1
acl 2999
    rule deny source 10.3.2.10 0
    rule permit source 10.3.0.0 0.0.255.255
nat address-group 1 102.0.1.2 102.0.1.6
int g2/0/1
    nat outbound 2999 address-group 1
    nat server protocol tcp global 102.0.1.1 www inside 10.3.2.10 www
    nat server protocol tcp global 102.0.1.1 ftp inside 10.3.2.10 ftp
#  CE2
acl 2999
    rule deny source 10.3.2.10 0
    rule permit source 10.3.0.0 0.0.255.255
nat address-group 1 102.0.1.2 102.0.1.6
int g2/0/2
    nat outbound 2999 address-group 1
    nat server protocol tcp global 102.0.1.1 www inside 10.3.2.10 www
    nat server protocol tcp global 102.0.1.1 ftp inside 10.3.2.10 ftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1/2/3--------------
# CE1
time-range WORKING 8:00 to 18:00 working-day
acl 3000
    rule permit tcp desination-port range 6881 6999 timer-range WORKING
traffic classifiter HUAWEI
    if-match acl 3000
traffic behavior HUAWEI
    car cir 1000
traffic policy HUAWEI
    classifier HUAWEI behavior HUAWEI
interface g2/0/1
    traffic-policy HUAWEI outbound
# CE2
time-range WORKING 8:00 to 18:00 working-day
acl 3000
    rule permit tcp desination-port range 6881 6999 timer-range WORKING
traffic classifiter HUAWEI 
    if-match acl 3000
traffic behavior HUAWEI
    car cir 1000
traffic policy HUAWEI
    classifier HUAWEI behavior HUAWEI
interface g2/0/2
    traffic-policy HUAWEI outbound

# æ£€æŸ¥-----
dis traffic policy user-defied
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
&lt;code&gt;åœ¨WANé‚£é“é¢˜ä¸­å·²ç»é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int ip 1
    isis ipv6 enable 
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 20 

# PE2
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 20
int g0/0/2
    isis ipv6 enable 
    isis ipv6 cost 1500

# RR1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int ip 1
    isis ipv6 enable 
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 860

# P1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/2
    isis ipv6 enable 
    isis ipv6 cost 1500
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 1000

# ASBR1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 860
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 100

# ASBR2
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 1000
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 100
    
# RR1/P1
isis 1
    ipv6 import-route isis level-2 into level-1    # è·¯ç”±æ¸—é€ï¼Œä¿è¯ASå†…ç¯å›å£äº’é€šï¼Œå¯ä»¥åšä¸v1ç›¸åŒçš„ç­–ç•¥è¿›è¡Œé˜²ç¯ï¼Œæ­¤å¤„ä¸åšäº†

# æ£€æŸ¥---------
dis ipv6 rou pro isis # å¯ä»¥æŸ¥çœ‹åˆ°AS100å†…æ‰€æœ‰å…¶ä»–è®¾å¤‡ç¯å›å£è·¯ç”±ï¼Œå»ºè®®åœ¨PE2ä¸ŠæŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;53-ipv6-multicast&#34;&gt;5.3 IPv6 Multicast&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒAS100ä¸­ï¼Œç›¸é‚»è®¾å¤‡å»ºç«‹PIM IPv6 SMçš„é‚»å±…å…³ç³»ã€‚PE1çš„E0/0/0é™æ€åŠ å…¥ç»„FF1E::AA&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
multicast ipv6 routing-enabel
int E0/0/0   
	ipv6 enable
	ipv6 addr 3000:E85A:8CA2:BF40:C45A:89EE:CBDF:ADD1/112
    pim ipv6 sm  # å…ˆå¼€å¯
    pim ipv6 silent  # ä¿éšœå®‰å…¨
    mld enable   # åå¼€å¯
    mld static-group FF1E::AA  # é™æ€åŠ ç»„
int loo 0
    pim ipv6 sm
int ip 1
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
	pim ipv6 sm

# PE2
multicast ipv6 routing-enabel
int loo 0
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
    pim ipv6 sm
int g0/0/2
	ipv6 enable
    pim ipv6 sm

# RR1
multicast ipv6 routing-enabel
int loo 0
	ipv6 enable
    pim ipv6 sm
int ip 1
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
    pim ipv6 sm
int g0/0/1
	ipv6 enable
    pim ipv6 sm

# P1
multicast ipv6 routing-enabel
int loo 0
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
    pim ipv6 sm
int g0/0/1
	ipv6 enable
    pim ipv6 sm
int g0/0/2
	ipv6 enable
    pim ipv6 sm

# ASBR1
multicast ipv6 routing-enabel
int loo 0
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
    pim ipv6 sm
int g0/0/1
	ipv6 enable
    pim ipv6 sm

# ASBR2
multicast ipv6 routing-enabel
int loo 0
	ipv6 enable
    pim ipv6 sm
int g0/0/0
	ipv6 enable
    pim ipv6 sm
int g0/0/2
	ipv6 enable
    pim ipv6 sm

#--------æ£€æŸ¥
# æ‰€æœ‰é…ç½®è®¾å¤‡
dis pim ipv6 neighbor 

&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ASBR1çš„loopback0ã€ASBR2çš„loopback0ä¸ºC-BSRä¸”éƒ½ä¸ºFF1E::/112çš„C-RPã€‚ASBR1çš„loopback0æˆä¸ºBSRï¼ŒASBR2çš„loopback0æˆä¸ºFF1E::/112çš„RP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1/ASBR2
acl ipv6 2000
    rule permit source FF1E::AA/112  # å®šä¹‰RPçš„æœåŠ¡ç»„èŒƒå›´
acl ipv6 3100
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5/128 destination FF1E::AA/112
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6 128 destination FF1E::AA/112

# ASBR1 :bsrä¼˜å…ˆçº§æ˜¯è¶Šå¤§è¶Šä¼˜  rpä¼˜å…ˆçº§æ˜¯è¶Šå°è¶Šä¼˜
pim-ipv6
    c-bsr priority 200
    c-bsr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5
    c-rp 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5 group-po 2000 pri 200
    crp-policy 3100
# ASBR2
pim-ipv6
    c-bsr priority 100
    c-bsr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6
    c-rp 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6 group-po 2000 pri 100
    crp-policy 3100
# æ£€æŸ¥--------------
# PE1
dis pim ipv6 bsr-info  # BSRåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼ŒC-RPæ•°é‡2ä¸ª
dis pim ipv6 rp-info  # RPåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼›ä¸‹ä¸€ä¸ªRPåœ°å€ä¸ºxxxxxxDCA6ï¼Œä¼˜å…ˆçº§ä¸º100
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ— è®ºå“ªä¸ªC-RPæˆä¸ºRPï¼Œéƒ½è¦ç¡®ä¿PIM IPv6åŸŸç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹æ— æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
pim-ipv6
    spt-switch-threshold infinity
# æ£€æŸ¥--------------
#ASBR1/2
dis pim ipv6 rou  # åªæœ‰ï¼ˆ*ï¼ŒFF1E::AAï¼‰
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒLABv2æ­¥éª¤åˆ†è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-labv1/"" data-c="
          &lt;p&gt;äºŒå±‚ã€WANã€ç”Ÿæˆæ ‘ã€IPv4 IGPã€BGPå’ŒV2ç›¸åŒï¼ŒåŒºåˆ«æ˜¯isiså’ŒospfåŒå‘å¼•å…¥v1æ”¾åœ¨isisé¢˜ä¸­ï¼Œv2æ”¾åœ¨mpls vpné¢˜ä¸­(ç¬¬9é¢˜ï¼Œå·²ç»å°†å…¶æå‰åˆ°isisä¸­)&lt;code&gt;ä¸»è¦åŒºåˆ«æ˜¯è·¨åŸŸéƒ¨åˆ†ï¼ŒBGPæ²¡åŒºåˆ«&lt;/code&gt;ï¼Œä¸‹é¢ä¸»è¦æ˜¯åŒºåˆ«ç‚¹&lt;/p&gt;
&lt;h1 id=&#34;v1&#34;&gt;V1&lt;/h1&gt;
&lt;h2 id=&#34;mpls-vpnv1-mpls&#34;&gt;MPLS VPN&lt;sub&gt;V1-MPLS&lt;/sub&gt;&lt;/h2&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;åœ¨ASBRä¸Šï¼Œå°†isisçš„loopback0çš„è·¯ç”±å¼•å…¥BGP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# V2æ˜¯æ‰“tagï¼ŒV1æ˜¯æ˜ç»†ï¼ˆå…è®¸æœ¬åŒºåŸŸå†…çš„ï¼‰
# ASBR1/2
ip ip-prefix 172 permit 172.16.1.1/20/3/4/5/6 32
route-policy 172 permit no 10
    if-match ip-prefix 172
bgp 100
    import isis 1 route-policy 172
# ASBR3/4
ip ip-prefix 172 permit 172.16.1.7/8/9/10/11/2 32
route-policy 172 permit no 10
    if-match ip-prefix 172
bgp 200
    import isis 1 route-policy 172
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;9&#34;&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 9--------------------è¦æ±‚ç›¸åŒï¼ŒASBRä¹‹é—´è¿˜æ˜¯åªèƒ½å¼€å¯mpls
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;10&#34;&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹ï¼Œ&lt;strong&gt;é€šè¿‡MPLS BGP VPNè·¨åŸŸOptionCæ–¹æ¡ˆä¸€&lt;/strong&gt;ï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚MPLSåŸŸä¸èƒ½å‡ºç°æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  -----------è·¯ç”±å¤„ç†
# RR1/P1ï¼šisisè·¯ç”±æ¸—é€
# è·¯ç”±æ¸—é€V2æ˜¯å…¨éƒ¨ï¼ŒV1åªæ¸—é€ASBR1/2çš„
ip ip-prefix ASBR12 permit 172.16.1.5 32
ip ip-prefix ASBR12 permit 172.16.1.6 32
isis 1
    import isis level-2 into level-1 filter-policy ip-prefix ASBR12

# PE3/PE4:vpnè·¯ç”±çš„ç›¸äº’å¼•å…¥(ä¸v2ç›¸åŒ)
bgp 200
    ipv4-family vpn-instance VPN1
    import-route ospf 2
ospf 2
    import-route bgp type 1

# ä¸éœ€è¦ï¼šå°†bgpè·¯ç”±å¯¼å…¥IGPåŒæ—¶ä¼˜é€‰IGPï¼Œä¿®æ”¹bgpä¼˜å…ˆçº§


# ---------vpnv4é‚»å±…ï¼šæ¯”V2å¤šå¼€å¯äº†labelèƒ½åŠ›
# PE1/2ï¼šPE3/4
bgp 100
	# æ¯”v2å¤šlabel
    peer 172.16.1.3:9 label-route-capability 
    ipv4-family vpnv4
        peer 172.16.1.3:9 enable
        
# RR1ï¼šRR2
bgp 100:200
	# æ¯”v2å¤šlabel
    peer 172.16.1.1/20:11/2 label-route-capability 
    ipv4-family vpnv4
        peer 172.16.1.1/20:11/2 enable
        peer 172.16.1.1/20:11/2 re
        peer 172.16.1.1/20:11/2 next-hop-invariable

#  -----------æ ‡ç­¾èƒ½åŠ›
# ä¸V2ç›¸æ¯”ï¼š
# 1. ä¸éœ€è¦ï¼šå¼€å¯mplsè¿›ç¨‹ä¸‹çš„æ ‡ç­¾æºå¸¦èƒ½åŠ›
# 2. ASBRéœ€è¦å¼€å¯é’ˆå¯¹RRçš„label
# 3. ASBRçš„EBGPé‚»å±…ä¹‹é—´å˜æˆ label+policy
# 4. ASBRä¸RRä¹‹é—´ label+åŒå±‚æ ‡ç­¾
# ASBR1/2ï¼šASBR3/4
route-policy mpls1 permit node 10  # ASBRçš„EBGPé‚»å±…ä¹‹é—´
    apply mpls-label
route-policy mpls2 permit node 10  #ASBRä¸RRä¹‹é—´
    if-match mpls-label
    apply mpls-label  # å¦‚æœæœ‰æ ‡ç­¾ï¼Œå†ç»™ä¸ªæ ‡ç­¾
bgp 100:200
	# å¯¹ebgpé‚»å±…åŠ æ ‡ç­¾
    peer 10.1.57/68.2 label-route-capability
    peer 10.1.57/68.2 route-policy mpls1 export  
	# å¯¹RRæœ‰æ ‡ç­¾å†åŠ ä¸€å±‚
    peer 172.16.1.3:9 label-route-capability 
    peer 172.16.1.3:9 route-policy mpls2 export  
    
# RR1ï¼šRR2
bgp 100:200
    peer 172.16.1.5/6:7/8 label-route-capability

# æ£€æŸ¥------
# RR1/RR2/PE1/PE2/PE3/PE4
dis bgp vpnv4 all peer
# RR/PE/CE
dis bgp vpnv4 all rou  # éœ€è¦æœ‰10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;11&#34;&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§ï¼ˆå’Œ4ã€5è¦æ±‚é‡åˆï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ•´ä¸ªå¤§é¢˜æœ€åçš„æµ‹è¯•
# CE3/4
tracert -a 10.3.3.3 10.4.4.4 # CE4ï¼š9hop
tracert -a 10.3.3.3 10.3.1.10 # PC1ï¼š8hop
tracert -a 10.3.3.3 10.3.2.20 # PC2ï¼š8hop
# CE4
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.3.3  # CE3ï¼š9hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.1.10 # PC1ï¼š8hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.2.20 # PC2ï¼š8hop
# PC1/2
tracert 10.3.3.3 # 3hop
tracert 10.4.4.4
# PC1
tracert 10.3.2.20 # 2hop
# PC2
tracert 10.3.1.10 # 2hop
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-featurev1-hav1-nat&#34;&gt;4. Feature&lt;sub&gt;V1-HA+V1-NAT&lt;/sub&gt;&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”3Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;code&gt;åªæœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œå°±æ˜¯å°†&amp;quot;é—´éš”5ç§’&amp;quot;æ”¹ä¸º&amp;quot;é—´éš”3ç§’&amp;quot;ï¼Œé…ç½®æ–¹æ³•ç›¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CE4-PE4çš„Qosè§„åˆ™å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1607328085867.png&#34; alt=&#34;Qos&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨CE4çš„g0/0/1å‡ºæ–¹å‘å¯¹æµé‡è¿›è¡Œ802.1pæ ‡è®°ã€‚åœ¨PE4çš„g0/0/1çš„å…¥æ–¹å‘ï¼Œç»§æ‰¿CE4çš„802.1på€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# CE4
acl 3001
    rule permit ip destination 10.3.1.0 0.0.0.255
traffic classifier re
    if-match acl 3001  
traffic behavior re
    remark 8021p 5

acl 3002
    rule permit  ip destination  10.3.2.0 0.0.0.255
traffic classifier si
    if-match acl 3002
traffic behavior si
    remark 8021p 4

acl 3003
    rule permit  ip destination  10.3.3.0 0.0.0.255
traffic classifier mo
    if-match acl 3003
traffic behavior mo
    remark 8021p 3

acl 3004
    rule permit  ip destination  10.3.4.0 0.0.0.255
traffic classifier of
    if-match acl 3004 
traffic behavior of
    remark 8021p 2

traffic behavior BE  # å…¶ä»–
    remark 8021p 0

traffic policy Qos
    classifier re behavior re
    classifier si behavior si
    classifier mo behavior mo
    classifier of behavior of
    classifier default-class behavior BE

int g0/0/1
    traffic-policy Qos outbound

# PE4
qos map-table dot1p-dscp  # åœ¨PE4çš„g0/0/1çš„å…¥æ–¹å‘ä¸Šï¼Œç»§æ‰¿CE4çš„802.1på€¼ï¼Œå¹¶å°†802.1pæ˜ å°„ä¸ºDSCPã€‚dis thä¹‹ååªæ˜¾ç¤º5ï¼Œå…¶ä»–ä¸ºé»˜è®¤ï¼Œå¯ä»¥åªé…ç½®5
    input 5 output 46
    # input 4 output 32
    # input 3 output 24
    # input 2 output 16
    # input 0 output 0
int g0/0/1
    trust 8021p
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;PE4çš„g0/0/0å’Œg0/0/2åŒ¹é…DSCPå€¼ï¼Œæ ¹æ®è¡¨1ï¼Œé…ç½®æ‹¥å¡ç®¡ç†å’Œæ‹¥å¡é¿å…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE4
drop-profile cs4
    wred dscp
    dscp cs4 low-limit 70 high-limit 100 discard-percentage 50
drop-profile cs3
    wred dscp
    dscp cs3 low-limit 50 high-limit 90 discard-percentage 50
drop-profile cs2
    wred dscp
    dscp cs2 low-limit 50 high-limit 80 discard-percentage 50
drop-profile default
    wred dscp
    dscp default low-limit 50 high-limit 80 discard-percentage 50
qos queue-profile QP
    schedule wfq 0 to 4 pq 5  # å¿…é¡»å…ˆåš
    queue 4 weight 63
    queue 4 drop-profile cs4
    queue 3 weight 21
    queue 3 drop-profile cs3
    queue 2 weight 9
    queue 2 drop-profile cs2
    queue 0 weight 1
    queue 0 drop-profile default
int g0/0/0
    qos queue-profile QP
int g0/0/2
    qos queue-profile QP   

# æ£€æŸ¥------
dis qos queue-profile QP
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;53-ipv6-bgp&#34;&gt;5.3 IPv6 BGP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒASBR1-ASBR3é€šè¿‡ç›´è¿é“¾è·¯å»ºç«‹eBGP4+é‚»å±…ï¼ŒPE1ã€PE2ã€P1æ˜¯RR1çš„BGP4+å®¢æˆ·ç«¯ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# --------ASBR1/3ä¹‹é—´çš„EBGP
# ASBR1/ASBR3
ipv6 #å¼€å¯IPv6ï¼Œéœ€è¦åœ¨ASBR3ä¸Šåš
bgp 100
    peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:5700/1 as 200/100
    ipv6-family unicast
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:5700/1 enable  # ipv6éœ€è¦æ‰‹åŠ¨en

#-----------------IBGP+åå°„ 
# ASBR1/ASBR2/P1/PE1/PE2
bgp 100
    peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA3 as 100
    peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA3 co lo 0
    ipv6-family unicast
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA3 enable

# ASBR1/ASBR2 ï¼šè®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘
bgp 100
    ipv6-family unicast
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA3 next-hop-local

# RR1
bgp 100
    peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA1/2/4/5/6 as 100
     peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA1/2/4/5/6 co lo 0
    ipv6-family unicast
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA1/2/3/4/6 enable
        # æ³¨æ„ASBRä¸éœ€è¦è®¾ç½®åå°„å®¢æˆ·ç«¯
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA1/2/4 reflect-client

# æ£€æŸ¥-----------
# ASBR1/3
dis bgp ipv6 peer 
# RR1
dis bgp ipv6 peer
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨ASBR1å°†ISIS IPv6çš„è·¯ç”±å¯¼å…¥BGP4+ï¼Œåªå‘ASBR3é€šå‘Šå‰ç¼€ä¸ºxxxxxxxxxxï¼ˆloo0ï¼‰çš„è·¯ç”±ï¼Œä¸èƒ½ä½¿ç”¨route-policyï¼Œå°†ASBR3çš„loopback0é€šå‘Šå…¥BGP4+&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ASBR1ï¼šæ‰€æœ‰lo æ¥å£åœ°å€
ip ipv6-prefix 66 permit 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA0 124 gr 128 
bgp 100
    ipv6-family unicast
        import isis 1   # éœ€è¦å¼•å…¥isisè·¯ç”±
        peer 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:5700 ipv6-prefix 66 export

# ASBR3ï¼šBGPä¸­å®£å‘Šlo 0
bgp 200
    ipv6-family unicast
        network  2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA7 128

# æ£€æŸ¥--------
# ASBR1/3
dis bgp ipv6 rou # æœ‰DCA1-7çš„åœ°å€
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;PE1ã€PE2å­¦ä¹ åˆ°ASBR3 loopback0çš„BGP4+æ˜ç»†è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RR1/P1 ï¼š IPv6çš„è·¯ç”±æ¸—é€
ip ip-prefix 66 permit 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA0 124 gr 128 
isis 1
    ipv6 import-route isis level-2 into level-1 filter-policy ipv6-prefix 66

# æ£€æŸ¥---------
dis bgp ipv6 rou #æœ‰DCA7çš„æ˜ç»†è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;è¯·åœ¨PE1ä½¿èƒ½æŸç‰¹æ€§ï¼Œä»¥ç¡®ä¿PE1åœ¨å¯åŠ¨è¿‡ç¨‹ï¼ˆä»ç‰©ç†æ¥å£upï¼Œåˆ°åè®®xxå»ºç«‹ï¼‰ä¸­ï¼ŒPE2-ASBR3çš„IPv6 pingä¸ä¸¢åŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
switchover mode nonstop-routing
isis
    graceful-restart
    set-overload on-startup wait-for-bgp
bgp 100
    ipv6-family unicast
        auto-frr   
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒLABv1</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-zhi-xing-ming-ling-subprocess/"" data-c="
          &lt;p&gt;subprocessç”¨æ¥ç”Ÿæˆå­è¿›ç¨‹ï¼Œå¹¶å¯ä»¥é€šè¿‡ç®¡é“è¿æ¥ä»–ä»¬çš„&lt;strong&gt;è¾“å…¥/è¾“å‡º/é”™è¯¯&lt;/strong&gt;ï¼Œä»¥åŠè·å¾—ä»–ä»¬çš„è¿”å›å€¼ã€‚&lt;br&gt;
subprocessç”¨æ¥æ›¿æ¢å¤šä¸ªæ—§æ¨¡å—å’Œå‡½æ•°ï¼š&lt;code&gt;os.systemã€os.spawn*ã€os.popen*ã€popen2.*ã€commands.*&lt;/code&gt;ã€‚åœ¨pythonä¸­ï¼Œé€šè¿‡æ ‡å‡†åº“ä¸­çš„subprocessåŒ…æ¥forkä¸€ä¸ªå­è¿›ç¨‹ï¼Œå¹¶ä¸”è¿è¡Œä¸€ä¸ªå¤–éƒ¨çš„ç¨‹åºã€‚subprocessåŒ…ä¸­å®šä¹‰æœ‰æ•°ä¸ªåˆ›å»ºå­è¿›ç¨‹çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åˆ†åˆ«ä»¥ä¸åŒçš„æ–¹å¼åˆ›å»ºå­è¿›ç¨‹ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ¥ä»ä¸­é€‰å–ä¸€ä¸ªä½¿ç”¨ã€‚å¦å¤–subprocessè¿˜æä¾›äº†ä¸€äº›ç®¡ç†æ ‡å‡†æµ(standard stream)å’Œç®¡é“(pipe)çš„å·¥å…·ï¼Œä»è€Œ&lt;code&gt;åœ¨è¿›ç¨‹é—´ä½¿ç”¨æ–‡æœ¬é€šä¿¡&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ—§æ¨¡å—çš„ä½¿ç”¨&#34;&gt;æ—§æ¨¡å—çš„ä½¿ç”¨&lt;/h1&gt;
&lt;h2 id=&#34;ossystem&#34;&gt;os.system()&lt;/h2&gt;
&lt;p&gt;æ‰§è¡Œæ“ä½œç³»ç»Ÿçš„å‘½ä»¤ï¼Œå°†ç»“æœè¾“å‡ºåˆ°å±å¹•ï¼Œåªè¿”å›å‘½ä»¤æ‰§è¡ŒçŠ¶æ€&lt;code&gt;0æˆåŠŸï¼Œé0å¤±è´¥&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import os
&amp;gt;&amp;gt;&amp;gt; a = os.system(&amp;quot;df -Th&amp;quot;)
Filesystem   Type  Size Used Avail Use% Mounted on
/dev/sda3   ext4  1.8T 436G 1.3T 26% /
tmpfs     tmpfs  16G   0  16G  0% /dev/shm
/dev/sda1   ext4  190M 118M  63M 66% /boot
&amp;gt;&amp;gt;&amp;gt; a
0     
# 0 è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸ

# æ‰§è¡Œé”™è¯¯çš„å‘½ä»¤
&amp;gt;&amp;gt;&amp;gt; res = os.system(&amp;quot;list&amp;quot;)
sh: list: command not found
&amp;gt;&amp;gt;&amp;gt; res
32512    # è¿”å›é 0 è¡¨ç¤ºæ‰§è¡Œé”™è¯¯
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ospopen&#34;&gt;os.popen()&lt;/h2&gt;
&lt;p&gt;æ‰§è¡Œæ“ä½œç³»ç»Ÿçš„å‘½ä»¤ï¼Œä¼šå°†ç»“æœä¿å­˜åœ¨å†…å­˜å½“ä¸­ï¼Œå¯ä»¥ç”¨&lt;code&gt;read()&lt;/code&gt;æ–¹æ³•è¯»å–å‡ºæ¥&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;import os
&amp;gt;&amp;gt;&amp;gt; res = os.popen(&amp;quot;ls -l&amp;quot;)
# å°†ç»“æœä¿å­˜åˆ°å†…å­˜ä¸­
&amp;gt;&amp;gt;&amp;gt; print res
&amp;lt;open file &#39;ls -l&#39;, mode &#39;r&#39; at 0x7f02d249c390&amp;gt;
# ç”¨read()è¯»å–å†…å®¹
&amp;gt;&amp;gt;&amp;gt; print res.read()
total 267508
-rw-r--r-- 1 root root  260968 Jan 27 2016 AliIM.exe
-rw-------. 1 root root   1047 May 23 2016 anaconda-ks.cfg
-rw-r--r-- 1 root root  9130958 Nov 18 2015 apache-tomcat-8.0.28.tar.gz
-rw-r--r-- 1 root root     0 Oct 31 2016 badblocks.log
drwxr-xr-x 5 root root   4096 Jul 27 2016 certs-build
drwxr-xr-x 2 root root   4096 Jul 5 16:54 Desktop
-rw-r--r-- 1 root root   2462 Apr 20 11:50 Face_24px.ico
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;subprocessçš„ä½¿ç”¨&#34;&gt;subprocessçš„ä½¿ç”¨&lt;/h1&gt;
&lt;h2 id=&#34;subprocessæ¨¡å—ä¸­çš„å¸¸ç”¨å‡½æ•°&#34;&gt;subprocessæ¨¡å—ä¸­çš„å¸¸ç”¨å‡½æ•°&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;subprocess.run()&lt;br&gt;
æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œç­‰å¾…å‘½ä»¤æ‰§è¡Œå®Œæˆåè¿”å›ä¸€ä¸ªåŒ…å«æ‰§è¡Œç»“æœçš„CompletedProcessç±»çš„å®ä¾‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.run(args, *, stdin=None, input=None, stdout=None, stderr=None, shell=False, timeout=None, check=False, universal_newlines=False)

# åº”ç”¨ä¸¾ä¾‹ï¼š
&amp;gt;&amp;gt;&amp;gt; import subprocess
# python è§£æåˆ™ä¼ å…¥å‘½ä»¤çš„æ¯ä¸ªå‚æ•°çš„åˆ—è¡¨
&amp;gt;&amp;gt;&amp;gt; subprocess.run([&amp;quot;df&amp;quot;,&amp;quot;-h&amp;quot;])
Filesystem      Size Used Avail Use% Mounted on
/dev/mapper/VolGroup-LogVol00
           289G  70G 204G 26% /
tmpfs         64G   0  64G  0% /dev/shm
/dev/sda1       283M  27M 241M 11% /boot
CompletedProcess(args=[&#39;df&#39;, &#39;-h&#39;], returncode=0)
# éœ€è¦äº¤ç»™Linux shellè‡ªå·±è§£æï¼Œåˆ™:ä¼ å…¥å‘½ä»¤å­—ç¬¦ä¸²ï¼Œshell=True
&amp;gt;&amp;gt;&amp;gt; subprocess.run(&amp;quot;df -h|grep /dev/sda1&amp;quot;,shell=True)
/dev/sda1       283M  27M 241M 11% /boot
CompletedProcess(args=&#39;df -h|grep /dev/sda1&#39;, returncode=0)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;subprocess.CompletedProcess&lt;/code&gt;ç±»ä»‹ç»&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œ&lt;code&gt;subprocess.run()&lt;/code&gt;å‡½æ•°æ˜¯Python3.5ä¸­æ–°å¢çš„ä¸€ä¸ªé«˜çº§å‡½æ•°ï¼Œå…¶è¿”å›å€¼æ˜¯ä¸€ä¸ª&lt;code&gt;subprocess.CompletedPorcess&lt;/code&gt;ç±»çš„å®ä¾‹ï¼Œå› æ­¤ï¼Œ&lt;code&gt;subprocess.completedPorcess&lt;/code&gt;ç±»ä¹Ÿæ˜¯Python 3.5ä¸­æ‰å­˜åœ¨çš„ã€‚å®ƒè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå·²ç»“æŸè¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œå®ƒæ‰€åŒ…å«çš„å±æ€§å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;1. args&lt;/strong&gt;ï¼š ç”¨äºåŠ è½½è¯¥è¿›ç¨‹çš„å‚æ•°ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªåˆ—è¡¨æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²&lt;br&gt;
&lt;strong&gt;2. returncode&lt;/strong&gt;ï¼š å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œé€€å‡ºçŠ¶æ€ç ä¸º0åˆ™è¡¨ç¤ºè¿›ç¨‹æˆåŠŸè¿è¡Œäº†ï¼›ä¸€ä¸ªè´Ÿå€¼-Nè¡¨ç¤ºè¿™ä¸ªå­è¿›ç¨‹è¢«ä¿¡å·Nç»ˆæ­¢äº†&lt;br&gt;
&lt;strong&gt;3. stdout&lt;/strong&gt;ï¼š ä»å­è¿›ç¨‹æ•è·çš„stdoutã€‚è¿™é€šå¸¸æ˜¯ä¸€ä¸ªå­—èŠ‚åºåˆ—ï¼Œå¦‚æœrun()å‡½æ•°è¢«è°ƒç”¨æ—¶æŒ‡å®š&lt;code&gt;universal_newlines=True&lt;/code&gt;ï¼Œåˆ™è¯¥å±æ€§å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœrun()å‡½æ•°è¢«è°ƒç”¨æ—¶æŒ‡å®š&lt;code&gt;stderr=subprocess.STDOUT&lt;/code&gt;ï¼Œé‚£ä¹ˆstdoutå’Œstderrå°†ä¼šè¢«æ•´åˆåˆ°è¿™ä¸€ä¸ªå±æ€§ä¸­ï¼Œä¸”stderrå°†ä¼šä¸ºNone&lt;br&gt;
&lt;strong&gt;4. stderr&lt;/strong&gt;ï¼š ä»å­è¿›ç¨‹æ•è·çš„stderrã€‚å®ƒçš„å€¼ä¸stdoutä¸€æ ·ï¼Œæ˜¯ä¸€ä¸ªå­—èŠ‚åºåˆ—æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœstderræ²¡æœ‰è¢«æ•è·çš„è¯ï¼Œå®ƒçš„å€¼å°±ä¸ºNone&lt;br&gt;
&lt;strong&gt;5. check_returncode()&lt;/strong&gt;ï¼š å¦‚æœreturncodeæ˜¯ä¸€ä¸ªé0å€¼ï¼Œåˆ™è¯¥æ–¹æ³•ä¼šæŠ›å‡ºä¸€ä¸ª&lt;code&gt;CalledProcessError&lt;/code&gt;å¼‚å¸¸&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;subprocess.call()&lt;br&gt;
æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œè¿”å›å‘½ä»¤æ‰§è¡Œç»“æœå’ŒçŠ¶æ€ï¼Œå…¶åŠŸèƒ½ç±»ä¼¼äº&lt;code&gt;os.system(cmd)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.call(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None)

# åº”ç”¨ä¸¾ä¾‹ï¼š
&amp;gt;&amp;gt;&amp;gt; res = subprocess.call([&amp;quot;ls&amp;quot;,&amp;quot;-l&amp;quot;])
æ€»ç”¨é‡ 28
-rw-r--r-- 1 root root   0 6æœˆ 16 10:28 1
drwxr-xr-x 2 root root 4096 6æœˆ 22 17:48 _1748
-rw-------. 1 root root 1264 4æœˆ 28 20:51 anaconda-ks.cfg
drwxr-xr-x 2 root root 4096 5æœˆ 25 14:45 monitor
-rw-r--r-- 1 root root 13160 5æœˆ  9 13:36 npm-debug.log
# å‘½ä»¤æ‰§è¡ŒçŠ¶æ€
&amp;gt;&amp;gt;&amp;gt; res
0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;subprocess.check_call()&lt;br&gt;
æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå¦‚æœæ‰§è¡ŒæˆåŠŸåˆ™è¿”å›ç»“æœå’ŒçŠ¶æ€ç ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚å…¶åŠŸèƒ½ç­‰ä»·äº&lt;code&gt;subprocess.run(..., check=True)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.check_call(args, *, stdin=None, stdout=None, stderr=None, shell=False, timeout=None)

# åº”ç”¨ä¸¾ä¾‹ï¼š
&amp;gt;&amp;gt;&amp;gt; subprocess.check_call([&amp;quot;ls&amp;quot;,&amp;quot;-l&amp;quot;])
æ€»ç”¨é‡ 28
-rw-r--r-- 1 root root   0 6æœˆ 16 10:28 1
drwxr-xr-x 2 root root 4096 6æœˆ 22 17:48 _1748
-rw-------. 1 root root 1264 4æœˆ 28 20:51 anaconda-ks.cfg
drwxr-xr-x 2 root root 4096 5æœˆ 25 14:45 monitor
-rw-r--r-- 1 root root 13160 5æœˆ  9 13:36 npm-debug.log
0
&amp;gt;&amp;gt;&amp;gt; subprocess.check_call([&amp;quot;lm&amp;quot;,&amp;quot;-l&amp;quot;])
Traceback (most recent call last):
 File &amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;
 File &amp;quot;/usr/lib64/python2.7/subprocess.py&amp;quot;, line 537, in check_call
  retcode = call(*popenargs, **kwargs)
 File &amp;quot;/usr/lib64/python2.7/subprocess.py&amp;quot;, line 524, in call
  return Popen(*popenargs, **kwargs).wait()
 File &amp;quot;/usr/lib64/python2.7/subprocess.py&amp;quot;, line 711, in __init__
  errread, errwrite)
 File &amp;quot;/usr/lib64/python2.7/subprocess.py&amp;quot;, line 1327, in _execute_child
  raise child_exception
OSError: [Errno 2] No such file or directory
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;subprocess.check_output()&lt;br&gt;
æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œå¦‚æœæ‰§è¡ŒçŠ¶æ€ç ä¸º0åˆ™è¿”å›å‘½ä»¤æ‰§è¡Œç»“æœï¼Œè€Œä¸æ˜¯æ‰“å°ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.check_output(args, *, stdin=None, stderr=None, shell=False, universal_newlines=False, timeout=None)

# åº”ç”¨ä¸¾ä¾‹ï¼š
&amp;gt;&amp;gt;&amp;gt; res = subprocess.check_output(&amp;quot;pwd&amp;quot;)
&amp;gt;&amp;gt;&amp;gt; res
b&#39;/root\n&#39; # ç»“æœä»¥å­—èŠ‚å½¢å¼è¿”å›
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;subprocess.getoutput(cmd)&lt;br&gt;
æ¥æ”¶å­—ç¬¦ä¸²æ ¼å¼çš„å‘½ä»¤ï¼Œæ‰§è¡Œå‘½ä»¤å¹¶è¿”å›æ‰§è¡Œç»“æœï¼Œå…¶åŠŸèƒ½ç±»ä¼¼äº&lt;code&gt;os.popen(cmd).read()&lt;/code&gt;å’Œ&lt;code&gt;commands.getoutput(cmd)&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.getstatusoutput(cmd)

# åº”ç”¨ä¸¾ä¾‹ï¼š
&amp;gt;&amp;gt;&amp;gt; subprocess.getoutput(&#39;pwd&#39;)
&#39;/root&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;subprocess.getstatusoutput(cmd)	&lt;br&gt;
æ‰§è¡Œcmdå‘½ä»¤ï¼Œè¿”å›ä¸€ä¸ªå…ƒç»„&lt;code&gt;(å‘½ä»¤æ‰§è¡ŒçŠ¶æ€, å‘½ä»¤æ‰§è¡Œç»“æœè¾“å‡º)&lt;/code&gt;ï¼Œå…¶åŠŸèƒ½ç±»ä¼¼äº&lt;code&gt;commands.getstatusoutput()&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;subprocess.getoutput(cmd)

# åº”ç”¨ä¸¾ä¾‹ï¼š
#æ‰§è¡Œæ­£ç¡®
&amp;gt;&amp;gt;&amp;gt; subprocess.getstatusoutput(&#39;pwd&#39;)
(0, &#39;/root&#39;)
#æ‰§è¡Œé”™è¯¯
&amp;gt;&amp;gt;&amp;gt; subprocess.getstatusoutput(&#39;pd&#39;)
(127, &#39;/bin/sh: pd: command not found&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¸¸ç”¨å‡½æ•°ä¸­å‚æ•°è¯´æ˜&#34;&gt;å¸¸ç”¨å‡½æ•°ä¸­å‚æ•°è¯´æ˜&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;args&lt;br&gt;
è¦æ‰§è¡Œçš„shellå‘½ä»¤ï¼Œé»˜è®¤åº”è¯¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åºåˆ—ï¼Œåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ é€šå¸¸éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚&lt;code&gt;[&#39;df&#39;, &#39;-Th&#39;]&lt;/code&gt;æˆ–&lt;code&gt;(&#39;df&#39;, &#39;-Th&#39;)&lt;/code&gt;ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨executeableå‚æ•°æ¥æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼›ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚&lt;code&gt;&#39;df -Th&#39;&lt;/code&gt;ï¼Œä½†æ˜¯æ­¤æ—¶éœ€è¦æŠŠshellå‚æ•°çš„å€¼ç½®ä¸ºTrueã€‚&lt;/li&gt;
&lt;li&gt;shell&lt;br&gt;
å¦‚æœshellä¸ºTrueï¼Œé‚£ä¹ˆæŒ‡å®šçš„å‘½ä»¤å°†é€šè¿‡shellæ‰§è¡Œã€‚å¦‚æœéœ€è¦è®¿é—®æŸäº›shellçš„ç‰¹æ€§ï¼Œå¦‚ç®¡é“ã€æ–‡ä»¶åé€šé…ç¬¦ã€ç¯å¢ƒå˜é‡æ‰©å±•åŠŸèƒ½ï¼Œè¿™å°†æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚å½“ç„¶ï¼Œpythonæœ¬èº«ä¹Ÿæä¾›äº†è®¸å¤šç±»ä¼¼shellçš„ç‰¹æ€§çš„å®ç°ï¼Œå¦‚globã€fnmatchã€os.walk()ã€os.path.expandvars()ã€os.expanduser()å’Œshutilç­‰ã€‚&lt;/li&gt;
&lt;li&gt;check&lt;br&gt;
å¦‚æœcheckå‚æ•°çš„å€¼æ˜¯Trueï¼Œä¸”æ‰§è¡Œå‘½ä»¤çš„è¿›ç¨‹ä»¥é0çŠ¶æ€ç é€€å‡ºï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ªCalledProcessErrorçš„å¼‚å¸¸ï¼Œä¸”è¯¥å¼‚å¸¸å¯¹è±¡ä¼šåŒ…å« å‚æ•°ã€é€€å‡ºçŠ¶æ€ç ä»¥åŠstdoutå’Œstderr(å¦‚æœå®ƒä»¬æœ‰è¢«æ•è·çš„è¯)ã€‚&lt;/li&gt;
&lt;li&gt;universal_newlines&lt;br&gt;
è¯¥å‚æ•°å½±å“çš„æ˜¯è¾“å…¥ä¸è¾“å‡ºçš„æ•°æ®æ ¼å¼ï¼Œæ¯”å¦‚å®ƒçš„å€¼é»˜è®¤ä¸ºFalseï¼Œæ­¤æ—¶stdoutå’Œstderrçš„è¾“å‡ºæ˜¯å­—èŠ‚åºåˆ—ï¼›å½“è¯¥å‚æ•°çš„å€¼è®¾ç½®ä¸ºTrueæ—¶ï¼Œstdoutå’Œstderrçš„è¾“å‡ºæ˜¯å­—ç¬¦ä¸²&lt;/li&gt;
&lt;li&gt;stdin,stdout,stderr&lt;br&gt;
åˆ†åˆ«è¡¨ç¤ºç¨‹åºçš„æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ã€‚æœ‰æ•ˆçš„å€¼å¯ä»¥æ˜¯PIPEï¼Œå­˜åœ¨çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå­˜åœ¨çš„æ–‡ä»¶å¯¹è±¡æˆ–Noneï¼Œå¦‚æœä¸ºNoneéœ€ä»çˆ¶è¿›ç¨‹ç»§æ‰¿è¿‡æ¥ï¼Œstdoutå¯ä»¥æ˜¯PIPEï¼Œè¡¨ç¤ºå¯¹å­è¿›ç¨‹åˆ›å»ºä¸€ä¸ªç®¡é“ï¼Œstderrå¯ä»¥æ˜¯STDOUTï¼Œè¡¨ç¤ºæ ‡å‡†é”™è¯¯æ•°æ®åº”è¯¥ä»åº”ç”¨ç¨‹åºä¸­æ•è·å¹¶ä½œä¸ºæ ‡å‡†è¾“å‡ºæµstdoutçš„æ–‡ä»¶å¥æŸ„ã€‚&lt;/li&gt;
&lt;li&gt;input
&lt;ul&gt;
&lt;li&gt;run()å‡½æ•°&lt;br&gt;
é»˜è®¤ä¸ä¼šæ•è·å‘½ä»¤æ‰§è¡Œç»“æœçš„æ­£å¸¸è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºï¼Œå¦‚æœæˆ‘ä»¬å‘è·å–è¿™äº›å†…å®¹éœ€è¦ä¼ é€’subprocess.PIPEï¼Œç„¶åå¯ä»¥é€šè¿‡è¿”å›çš„CompletedProcessç±»å®ä¾‹çš„stdoutå’Œstderrå±æ€§æˆ–æ•è·ç›¸åº”çš„å†…å®¹&lt;/li&gt;
&lt;li&gt;call()å’Œcheck_call()å‡½æ•°&lt;br&gt;
è¿”å›çš„æ˜¯å‘½ä»¤æ‰§è¡Œçš„çŠ¶æ€ç ï¼Œè€Œä¸æ˜¯CompletedProcessç±»å®ä¾‹ï¼Œæ‰€ä»¥å¯¹äºå®ƒä»¬è€Œè¨€ï¼Œstdoutå’Œstderrä¸é€‚åˆèµ‹å€¼ä¸ºsubprocess.PIPE&lt;/li&gt;
&lt;li&gt;check_output()å‡½æ•°&lt;br&gt;
é»˜è®¤å°±ä¼šè¿”å›å‘½ä»¤æ‰§è¡Œç»“æœï¼Œæ‰€ä»¥ä¸ç”¨è®¾ç½®stdoutçš„å€¼ï¼Œå¦‚æœå¸Œæœ›åœ¨ç»“æœä¸­æ•è·é”™è¯¯ä¿¡æ¯ï¼Œå¯ä»¥æ‰§è¡Œstderr=subprocess.STDOUT&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;subprocess.run()ã€subprocess.call()ã€subprocess.check_call()å’Œsubprocess.check_output()éƒ½æ˜¯é€šè¿‡å¯¹subprocess.Popençš„å°è£…æ¥å®ç°çš„é«˜çº§å‡½æ•°ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬éœ€è¦æ›´å¤æ‚åŠŸèƒ½æ—¶ï¼Œå¯ä»¥é€šè¿‡subprocess.Popenæ¥å®Œæˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;subprocesspopençš„æ„é€ å‡½æ•°&#34;&gt;subprocess.Popençš„æ„é€ å‡½æ•°&lt;/h2&gt;
&lt;p&gt;è¯¥ç±»ç”¨äºåœ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹ä¸­æ‰§è¡Œä¸€ä¸ªå­ç¨‹åºã€‚ä¸Šé¢ä»‹ç»çš„è¿™äº›å‡½æ•°éƒ½æ˜¯åŸºäºsubprocess.Popenç±»å®ç°çš„ï¼Œé€šè¿‡ä½¿ç”¨è¿™äº›è¢«å°è£…åçš„é«˜çº§å‡½æ•°å¯ä»¥å¾ˆæ–¹é¢çš„å®Œæˆä¸€äº›å¸¸è§çš„éœ€æ±‚ã€‚ç”±äºsubprocessæ¨¡å—åº•å±‚çš„è¿›ç¨‹åˆ›å»ºå’Œç®¡ç†æ˜¯ç”±Popenç±»æ¥å¤„ç†çš„ï¼Œå› æ­¤ï¼Œå½“æ— æ³•é€šè¿‡ä¸Šé¢å“ªäº›é«˜çº§å‡½æ•°æ¥å®ç°ä¸€äº›ä¸å¤ªå¸¸è§çš„åŠŸèƒ½æ—¶å°±å¯ä»¥é€šè¿‡subprocess.Popenç±»æä¾›çš„çµæ´»çš„apiæ¥å®Œæˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ„é€ å‡½æ•°
class subprocess.Popen(
    args, 
    bufsize=-1, 
    executable=None, 
    stdin=None, 
    stdout=None, 
    stderr=None,     
    preexec_fn=None, 
    close_fds=True, 
    shell=False, 
    cwd=None, 
    env=None, 
    universal_newlines=False,
    startup_info=None, 
    creationflags=0, 
    restore_signals=True, 
    start_new_session=False, 
    pass_fds=()
    )
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‚æ•°è¯´æ˜&#34;&gt;å‚æ•°è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;args&lt;br&gt;
è¦æ‰§è¡Œçš„shellå‘½ä»¤ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯å‘½ä»¤å„ä¸ªå‚æ•°ç»„æˆçš„åºåˆ—ã€‚å½“è¯¥å‚æ•°çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œè¯¥å‘½ä»¤çš„è§£é‡Šè¿‡ç¨‹æ˜¯ä¸å¹³å°ç›¸å…³çš„ï¼Œå› æ­¤é€šå¸¸å»ºè®®å°†argså‚æ•°ä½œä¸ºä¸€ä¸ªåºåˆ—ä¼ é€’ã€‚&lt;/li&gt;
&lt;li&gt;bufsize&lt;br&gt;
æŒ‡å®šç¼“å­˜ç­–ç•¥ï¼Œ0è¡¨ç¤ºä¸ç¼“å†²ï¼Œ1è¡¨ç¤ºè¡Œç¼“å†²ï¼Œå…¶ä»–å¤§äº1çš„æ•°å­—è¡¨ç¤ºç¼“å†²åŒºå¤§å°ï¼Œè´Ÿæ•°è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤ç¼“å†²ç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;stdin, stdout, stderr&lt;br&gt;
åˆ†åˆ«è¡¨ç¤ºç¨‹åºæ ‡å‡†è¾“å…¥ã€è¾“å‡ºã€é”™è¯¯å¥æŸ„ã€‚&lt;/li&gt;
&lt;li&gt;preexec_fn&lt;br&gt;
ç”¨äºæŒ‡å®šä¸€ä¸ªå°†åœ¨å­è¿›ç¨‹è¿è¡Œä¹‹å‰è¢«è°ƒç”¨çš„å¯æ‰§è¡Œå¯¹è±¡ï¼Œåªåœ¨Unixå¹³å°ä¸‹æœ‰æ•ˆã€‚&lt;/li&gt;
&lt;li&gt;close_fds&lt;br&gt;
å¦‚æœè¯¥å‚æ•°çš„å€¼ä¸ºTrueï¼Œåˆ™é™¤äº†0,1å’Œ2ä¹‹å¤–çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦éƒ½å°†ä¼šåœ¨å­è¿›ç¨‹æ‰§è¡Œä¹‹å‰è¢«å…³é—­ã€‚&lt;/li&gt;
&lt;li&gt;shell&lt;br&gt;
è¯¥å‚æ•°ç”¨äºæ ‡è¯†æ˜¯å¦ä½¿ç”¨shellä½œä¸ºè¦æ‰§è¡Œçš„ç¨‹åºï¼Œå¦‚æœshellå€¼ä¸ºTrueï¼Œåˆ™å»ºè®®å°†argså‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ä¼ é€’è€Œä¸è¦ä½œä¸ºä¸€ä¸ªåºåˆ—ä¼ é€’ã€‚&lt;/li&gt;
&lt;li&gt;cwd&lt;br&gt;
å¦‚æœè¯¥å‚æ•°å€¼ä¸æ˜¯Noneï¼Œåˆ™è¯¥å‡½æ•°å°†ä¼šåœ¨æ‰§è¡Œè¿™ä¸ªå­è¿›ç¨‹ä¹‹å‰æ”¹å˜å½“å‰å·¥ä½œç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;env&lt;br&gt;
ç”¨äºæŒ‡å®šå­è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚æœenv=Noneï¼Œé‚£ä¹ˆå­è¿›ç¨‹çš„ç¯å¢ƒå˜é‡å°†ä»çˆ¶è¿›ç¨‹ä¸­ç»§æ‰¿ã€‚å¦‚æœ&lt;code&gt;env!=None&lt;/code&gt;ï¼Œå®ƒçš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæ˜ å°„å¯¹è±¡ã€‚&lt;/li&gt;
&lt;li&gt;universal_newlines&lt;br&gt;
å¦‚æœè¯¥å‚æ•°å€¼ä¸ºTrueï¼Œåˆ™è¯¥æ–‡ä»¶å¯¹è±¡çš„stdinï¼Œstdoutå’Œstderrå°†ä¼šä½œä¸ºæ–‡æœ¬æµè¢«æ‰“å¼€ï¼Œå¦åˆ™ä»–ä»¬å°†ä¼šè¢«ä½œä¸ºäºŒè¿›åˆ¶æµè¢«æ‰“å¼€ã€‚&lt;/li&gt;
&lt;li&gt;startupinfoå’Œcreationflags&lt;br&gt;
è¿™ä¸¤ä¸ªå‚æ•°åªåœ¨Windowsä¸‹æœ‰æ•ˆï¼Œå®ƒä»¬å°†è¢«ä¼ é€’ç»™åº•å±‚çš„CreateProcess()å‡½æ•°ï¼Œç”¨äºè®¾ç½®å­è¿›ç¨‹çš„ä¸€äº›å±æ€§ï¼Œå¦‚ä¸»çª—å£çš„å¤–è§‚ï¼Œè¿›ç¨‹ä¼˜å…ˆçº§ç­‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;subprocesspopenç±»çš„å®ä¾‹å¯è°ƒç”¨çš„æ–¹æ³•&#34;&gt;subprocess.Popenç±»çš„å®ä¾‹å¯è°ƒç”¨çš„æ–¹æ³•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Popen.poll()	&lt;br&gt;
ç”¨äºæ£€æŸ¥å­è¿›ç¨‹ï¼ˆå‘½ä»¤ï¼‰æ˜¯å¦å·²ç»æ‰§è¡Œç»“æŸï¼Œæ²¡ç»“æŸè¿”å›Noneï¼Œç»“æŸåè¿”å›çŠ¶æ€ç ã€‚&lt;/li&gt;
&lt;li&gt;Popen.wait(timeout=None)	&lt;br&gt;
ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå¹¶è¿”å›çŠ¶æ€ç ï¼›å¦‚æœåœ¨timeoutæŒ‡å®šçš„ç§’æ•°ä¹‹åè¿›ç¨‹è¿˜æ²¡æœ‰ç»“æŸï¼Œå°†ä¼šæŠ›å‡ºä¸€ä¸ª&lt;code&gt;TimeoutExpired&lt;/code&gt;å¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;Popen.communicate(input=None, timeout=None)	&lt;br&gt;
è¯¥æ–¹æ³•å¯ç”¨æ¥ä¸è¿›ç¨‹è¿›è¡Œäº¤äº’ï¼Œæ¯”å¦‚å‘é€æ•°æ®åˆ°stdinï¼Œä»stdoutå’Œstderrè¯»å–æ•°æ®ï¼Œç›´åˆ°åˆ°è¾¾æ–‡ä»¶æœ«å°¾ã€‚
&lt;ul&gt;
&lt;li&gt;è¯¥æ–¹æ³•ä¸­çš„å¯é€‰å‚æ•°inputåº”è¯¥æ˜¯å°†è¢«å‘é€ç»™å­è¿›ç¨‹çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å‘é€ç»™å­è¿›ç¨‹ï¼Œè¯¥å‚æ•°åº”è¯¥æ˜¯Noneã€‚inputå‚æ•°çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯&lt;strong&gt;å­—èŠ‚ä¸²&lt;/strong&gt;ï¼Œå¦‚æœuniversal_newlineså‚æ•°å€¼ä¸ºTrueï¼Œåˆ™inputå‚æ•°çš„æ•°æ®ç±»å‹å¿…é¡»æ˜¯å­—ç¬¦ä¸²ã€‚&lt;/li&gt;
&lt;li&gt;è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå…ƒç»„(stdout_data, stderr_data)ï¼Œè¿™äº›æ•°æ®å°†ä¼šæ˜¯å­—èŠ‚ä¸²æˆ–å­—ç¬¦ä¸²ï¼ˆå¦‚æœuniversal_newlinesçš„å€¼ä¸ºTrueï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨timeoutæŒ‡å®šçš„ç§’æ•°åè¯¥è¿›ç¨‹è¿˜æ²¡æœ‰ç»“æŸï¼Œå°†ä¼šæŠ›å‡ºä¸€ä¸ªTimeoutExpiredå¼‚å¸¸ã€‚æ•è·è¿™ä¸ªå¼‚å¸¸ï¼Œç„¶åé‡æ–°å°è¯•é€šä¿¡ä¸ä¼šä¸¢å¤±ä»»ä½•è¾“å‡ºçš„æ•°æ®ã€‚ä½†æ˜¯è¶…æ—¶ä¹‹åå­è¿›ç¨‹å¹¶æ²¡æœ‰è¢«æ€æ­»ï¼Œä¸ºäº†åˆç†çš„æ¸…é™¤ç›¸åº”çš„å†…å®¹ï¼Œä¸€ä¸ªå¥½çš„åº”ç”¨åº”è¯¥æ‰‹åŠ¨æ€æ­»è¿™ä¸ªå­è¿›ç¨‹æ¥ç»“æŸé€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œè¯»å–çš„æ•°æ®æ˜¯ç¼“å†²åœ¨å†…å­˜ä¸­çš„ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ•°æ®å¤§å°éå¸¸å¤§æˆ–è€…æ˜¯æ— é™çš„ï¼Œå°±ä¸åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Popen.send_signal(signal)	&lt;br&gt;
å‘é€æŒ‡å®šçš„ä¿¡å·ç»™è¿™ä¸ªå­è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;Popen.terminate()	&lt;br&gt;
åœæ­¢è¯¥å­è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;Popen.kill()	&lt;br&gt;
æ€æ­»è¯¥å­è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;Popen.pid&lt;br&gt;
è·å–å­è¿›ç¨‹çš„è¿›ç¨‹IDã€‚&lt;/li&gt;
&lt;li&gt;Popen.returncode&lt;br&gt;
è·å–è¿›ç¨‹çš„è¿”å›ç ã€‚å¦‚æœè¿›ç¨‹æœªç»“æŸï¼Œå°†è¿”å›Noneã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸¾ä¾‹&#34;&gt;ä¸¾ä¾‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;stdout&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; import subprocess
&amp;gt;&amp;gt;&amp;gt; res = subprocess.Popen(&amp;quot;ls /tmp/yum.log&amp;quot;, shell=True, stdout=subprocess.PIPE) # ä½¿ç”¨ç®¡é“
&amp;gt;&amp;gt;&amp;gt; res.stdout.read()  # æ ‡å‡†è¾“å‡º
b&#39;/tmp/yum.log\n&#39;
res.stdout.close()  # å…³é—­
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;stderr&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; res = subprocess.Popen(&amp;quot;lm -l&amp;quot;,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
# æ ‡å‡†è¾“å‡ºä¸ºç©º
&amp;gt;&amp;gt;&amp;gt; res.stdout.read()
b&#39;&#39;
#æ ‡å‡†é”™è¯¯ä¸­æœ‰é”™è¯¯ä¿¡æ¯
&amp;gt;&amp;gt;&amp;gt; res.stderr.read()
b&#39;/bin/sh: lm: command not found\n&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;poll()&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; res = subprocess.Popen(&amp;quot;sleep 10;echo &#39;hello&#39;&amp;quot;,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; print(res.poll())
None
&amp;gt;&amp;gt;&amp;gt; print(res.poll())
None
&amp;gt;&amp;gt;&amp;gt; print(res.poll())
0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;wait()&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;&amp;gt;&amp;gt;&amp;gt; obj = subprocess.Popen(&amp;quot;sleep 10;echo &#39;hello&#39;&amp;quot;,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; obj.wait()
# ä¸­é—´ä¼šä¸€ç›´ç­‰å¾…
0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;terminate()&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;&amp;gt;&amp;gt;&amp;gt; res = subprocess.Popen(&amp;quot;sleep 20;echo &#39;hello&#39;&amp;quot;,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; res.terminate() # ç»“æŸè¿›ç¨‹
&amp;gt;&amp;gt;&amp;gt; res.stdout.read()
b&#39;&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;pid&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import subprocess
&amp;gt;&amp;gt;&amp;gt; res = subprocess.Popen(&amp;quot;sleep 5;echo &#39;hello&#39;&amp;quot;,shell=True,stdout=subprocess.PIPE,stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; res.pid # è·å–è¿™ä¸ªlinux shell çš„ è¿›ç¨‹å·
3668
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;communicateè¿›ç¨‹äº¤äº’&lt;br&gt;
å¤šæ¬¡äº¤äº’ä¸€æ¬¡è¾“å‡ºï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; obj = subprocess.Popen([&amp;quot;python&amp;quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; obj.stdin.write(&#39;print(1) \n&#39;)
&amp;gt;&amp;gt;&amp;gt; obj.stdin.write(&#39;print(2) \n&#39;)
&amp;gt;&amp;gt;&amp;gt; obj.stdin.write(&#39;print(3) \n&#39;)
&amp;gt;&amp;gt;&amp;gt; out,err = obj.communicate()
&amp;gt;&amp;gt;&amp;gt; print(out)
1
2
3

&amp;gt;&amp;gt;&amp;gt; print(err)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€æ¬¡äº¤äº’å¹¶è¾“å‡ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; obj = subprocess.Popen([&amp;quot;python&amp;quot;], stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; out,err = obj.communicate(input=&#39;print(1) \n&#39;)
&amp;gt;&amp;gt;&amp;gt; print(out)
1

&amp;gt;&amp;gt;&amp;gt; print(err)
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;ç®¡é“&lt;br&gt;
å®ç°ç±»ä¼¼&lt;code&gt;df -Th | grep data&lt;/code&gt;å‘½ä»¤çš„åŠŸèƒ½ï¼Œå®é™…ä¸Šå°±æ˜¯å®ç°shellä¸­ç®¡é“çš„å…±åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# p1çš„è¾“å‡º=p2çš„è¾“å…¥ï¼Œåˆ©ç”¨çš„æ˜¯å­è¿›ç¨‹ä¹‹é—´çš„äº¤äº’åŠŸèƒ½
&amp;gt;&amp;gt;&amp;gt; p1 = subprocess.Popen([&#39;df&#39;, &#39;-Th&#39;], stdout=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; p2 = subprocess.Popen([&#39;grep&#39;, &#39;data&#39;], stdin=p1.stdout, stdout=subprocess.PIPE)
&amp;gt;&amp;gt;&amp;gt; out,err = p2.communicate()
&amp;gt;&amp;gt;&amp;gt; print(out)
/dev/vdb1      ext4      493G  4.8G  463G   2% /data
/dev/vdd1      ext4     1008G  420G  537G  44% /data1
/dev/vde1      ext4      985G  503G  432G  54% /data2

&amp;gt;&amp;gt;&amp;gt; print(err)
None
&lt;/code&gt;&lt;/pre&gt;
">Pythonä¹‹æ‰§è¡Œå‘½ä»¤ï¼ˆsubprocessï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/linux-xi-tong-bei-fen-yu-hui-fu/"" data-c="
          &lt;h1 id=&#34;tarå‘½ä»¤&#34;&gt;tarå‘½ä»¤&lt;/h1&gt;
&lt;p&gt;å‰¯æœ¬æ¨¡å¼ï¼Œæœ¬æœºå¤‡ä»½æ•´ä¸ªç³»ç»Ÿï¼Œä»¥åè¿˜åŸè¿˜æ˜¯è¿˜åŸåˆ°æœ¬æœº&lt;code&gt;æ³¨æ„å­˜æ”¾å¤‡ä»½çš„ç›®å½•ä¸‹è¦æœ‰å……è¶³çš„å¯ç”¨ç©ºé—´ç”¨äºå¤‡ä»½ï¼Œå¯ä»¥ç›´æ¥æŒ‚åœ¨å…¶ä»–äº‘å­˜å‚¨ç”¨äºå¤‡ä»½&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŒæœºå¤‡ä»½ä¸æ¢å¤&#34;&gt;åŒæœºå¤‡ä»½ä¸æ¢å¤&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨tar.gzæ ¼å¼æˆ–è€…tar.bz2æ ¼å¼ï¼ˆè¿™é‡Œæ˜¯ä»¥å¤‡æ³¨åˆ°æ ¹ç›®å½•ä¸‹ä¸ºä¾‹ï¼‰ï¼Œæ³¨æ„ï¼Œè¦æ’é™¤å¤‡ä»½æ–‡ä»¶ï¼Œä¸ç„¶ä¼šé™·å…¥æ— é™å¾ªç¯ç›´è‡³æ’‘æ»¡æ‰€æœ‰çš„å¯ç”¨ç©ºé—´ï¼Œå¦‚æœæœ‰æŒ‚åœ¨ç½‘ç»œå­˜å‚¨ï¼Œä¹Ÿéœ€è¦æ’é™¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-------------------å¤‡ä»½ç³»ç»Ÿ
tar cvpzf /system_backup.tar.gz / --exclude=/system_backup.tar.gz --exclude=/proc --exclude=/lost+found  --exclude=/mnt --exclude=/sys
# æˆ–
tar cvpjf /system_backup.tar.bz2 / --exclude=/system_backup.tar.bz2 --exclude=/proc --exclude=/lost+found  --exclude=/mnt --exclude=/sys

#-------------------æ¢å¤ç³»ç»Ÿ
tar xvpfz /system_backup.tar.gz -C /
# æˆ–
tar xvpfj /system_backup.tar.bz2 -C /
#åˆ›å»ºå¤‡ä»½æ—¶æ’é™¤çš„ç›®å½•ï¼ˆæ‰€æœ‰ç¾¤ç»„å’Œæ‰€æœ‰è€…å‡ä¸ºrootï¼Œæƒé™777ï¼‰
mkdir proc
mkdir lost+found
mkdir mnt
mkdir sys
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¼‚æœºæ¢å¤ä¸å¤‡ä»½&#34;&gt;å¼‚æœºæ¢å¤ä¸å¤‡ä»½&lt;/h2&gt;
&lt;p&gt;/tmpç›®å½•å¦‚æœæ²¡æœ‰é‡è¦é…ç½®æ–‡ä»¶ä¹Ÿæ˜¯å¯ä»¥æ’é™¤çš„ï¼Œ/devç›®å½•åˆ™å­˜æ”¾é©±åŠ¨æ–‡ä»¶ï¼Œä¸¤å°æœºå™¨ä¸åŒï¼Œå¿…é¡»æ’é™¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. ç”Ÿæˆå¤‡ä»½ä¸»æœºA
tar cvpzf /mnt/system_backup.tar.gz / --exclude=/mnt/system_backup.tar.gz --exclude=/proc --exclude=/lost+found --exclude=/mnt --exclude=/sys --exclude=/dev --exclude=/tmp --exclude=/media

# 2. å°†å¤‡ä»½ä¸Šä¼ åˆ°ç›®æ ‡ä¸»æœºB(éœ€è¦æ¢å¤çš„ä¸»æœº)
scp /mnt/system_backup.tar.gz root@192.168.0.166:/mnt

# 3. åœ¨ç›®æ ‡æœºBä¸Šç”¨ISOã€LiveCDç­‰å¯åŠ¨ï¼ˆç±»ä¼¼windows PEï¼‰ï¼ŒæŒ‚è½½ç£ç›˜ï¼ˆè¿™é‡Œä»¥æŒ‚è½½åˆ°/mediaæ–‡ä»¶å¤¹ä¸ºä¾‹ï¼‰
sudo -s  
cd /media/&amp;lt;å¯¹åº”çš„uuidå·&amp;gt;
# å¤‡ä»½é‡è¦é…ç½®æ–‡ä»¶/boot/gurb/gurb.cfg /etc/fstabï¼Œè®°å½•é‡Œé¢çš„UUID

# åˆ é™¤é‡å¤æ–‡ä»¶
# é™¤äº†ä¸Šé¢å¤‡ä»½ç³»ç»Ÿæ—¶æ’é™¤çš„ä¸€äº›æ–‡ä»¶å¤¹å¤–ï¼Œæ¯”å¦‚è¯´dev mnt media sysè¿™äº›æ–‡ä»¶å¤¹ï¼Œå…¶ä»–å…¨éƒ¨åˆ é™¤ã€‚
rm -rf root home usr lib lib64 etc var bin sbin opt boot run selinux vmlinuz initrd.img

# è¿˜åŸå¤‡ä»½
mount /dev/vda1 /mnt/1
# è¿™é‡Œæ³¨æ„åƒä¸‡ä¸è¦å†™/ç›®å½•ï¼Œä¼šæŠŠç°æœ‰çš„ç³»ç»ŸææŒ‚ï¼ï¼ï¼åº”è¯¥æ˜¯æŒ‚è½½çš„ç›®å½•
tar xvpfz system_backup.tar.gz -C /mnt/1
cd /mnt/1       #æ­¤æ—¶ä½ å¯ä»¥çœ‹åˆ°æ ¹ç›®å½•çš„ç»“æ„ï¼Œä½†æ˜¯ç¼–è¾‘fstabæ–‡ä»¶å‘ç°æ˜¯ç°æœ‰ç³»ç»Ÿçš„fstab
chroot ./       #æ‰§è¡Œchrootåä¼šä»¥./ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œè¿™æ—¶ç¼–è¾‘çš„æ–‡ä»¶å°±æ˜¯çœŸæ­£çš„ç›®æ ‡æºæ–‡ä»¶äº†ã€‚


# è¿˜åŸåä¿®æ”¹/etc/fstabé‡Œçš„UUIDä¸ºåˆšåˆšå¤‡ä»½çš„æ–‡ä»¶é‡Œé¢çš„ä¿¡æ¯ï¼Œæ³¨æ„åˆ†åŒºæ ¼å¼ä¹Ÿè¦å¯¹åº”ã€‚
# ä¿®æ”¹/boot/gurb/gurb.cfgé‡Œçš„UUIDä¸ºåˆšåˆšå¤‡ä»½çš„æ–‡ä»¶é‡Œé¢çš„ä¿¡æ¯ã€‚
# ä¿®æ”¹ç½‘å¡ã€IPé…ç½®æ–‡ä»¶ï¼Œä»¥é˜²æ— æ³•åˆ†é…IPã€‚ï¼ˆå¦‚æœæ˜¯è™šæ‹Ÿæœºè®°å¾—æ·»åŠ ç½‘å¡ï¼Œé…ç½®ä¸­ç­‰æ€§èƒ½çš„æ˜¾å¡ï¼‰
# å¦‚æœæœ‰ä¾èµ–äºåŸæœ‰å¹³å°çš„æœåŠ¡ï¼Œå¦‚å†…å»ºNTPï¼ŒAgentç­‰ç›‘æ§ç¨‹åºï¼Œå…³é—­æœåŠ¡ï¼Œå…³é—­å¼€æœºè‡ªå¯ï¼›
# æŸ¥çœ‹/etc/rc2.dç›®å½•ä¸­çš„Så¼€å¤´çš„æœåŠ¡éƒ½æ˜¯ä¼šå¼€æœºè‡ªåŠ¨è¿è¡Œçš„ï¼›é‡Œé¢æ˜¯è½¯é“¾æ¥ï¼Œæƒ³æ·»åŠ çš„è¯è‡ªå·±å»ºä¸€ä¸ªé“¾æ¥æ–‡ä»¶å°±å¯ä»¥ï¼ŒSä»£è¡¨startï¼Œåé¢æ•°å­—æ˜¯å¯åŠ¨é¡ºåºï¼Œåˆ é™¤è½¯é“¾æ¥ã€‚
# åŒæ—¶åˆ é™¤/etc/init.d/ä¸‹å¯¹åº”çš„è„šæœ¬ã€‚
vim /etc/init.d/rc.local
exit      #é€€å‡ºchroot
cd ~
umount /mnt/1

# ä¸€åˆ‡å®Œæˆåå°±å¯ä»¥é‡å¯äº†ï¼Œä¸å‡ºæ„å¤–å°±æ­£å¸¸å¯åŠ¨ç³»ç»Ÿäº†ï¼ˆå¯åŠ¨ååŸæ¥å®‰è£…ç³»ç»Ÿæ—¶è®¾ç½®çš„è´¦æˆ·ç­‰å…¨éƒ¨æ¶ˆå¤±ï¼›è´¦æˆ·å’Œæºä¸»æœºä¸€è‡´ï¼‰ã€‚
# è‹¥å¼€æœºGrubæç¤ºâ€œboot error 15 :Error 15 file not foundâ€
#       è§£å†³æ–¹æ³•ï¼šè¯·æ£€æŸ¥GRUBç›¸å…³æ–‡ä»¶çš„å†…æ ¸æ–‡ä»¶æ‰€åœ¨ä½ç½®ã€‚é€šå¸¸ä¸/bootåˆ†åŒºæœ‰å…³ã€‚
# è‹¥å¼€æœºGrubæç¤ºâ€œdracut:dono&#39;t how to hand root=f078â€
#       è§£å†³æ–¹æ³•ï¼šå°†root=UUIDæ”¹æˆroot=/dev/sdaXè¿™ç§æ ¼å¼ã€‚
# è‹¥å¼€æœºç³»ç»Ÿæç¤º/usr/libexec/gconf-sanity-check-2é€€å‡ºçŠ¶æ€256çš„è§£å†³
#       è§£å†³æ–¹æ³•ï¼šchmod 777 /tmp
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;rsyncå‘½ä»¤&#34;&gt;rsyncå‘½ä»¤&lt;/h1&gt;
&lt;p&gt;æ³¨æ„ç›®æ ‡åˆ†åŒºçš„æ ¼å¼æœ€å¥½æ˜¯NTFSã€FATã€EXTä¹‹ç±»çš„æ ¼å¼ï¼Œé¿å…é‡åˆ°å¤§äº4Gçš„æ–‡ä»¶æ— æ³•å¤‡ä»½çš„é—®é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#æœ€å¥½æœ‰å…¶ä»–åˆ†åŒºæˆ–å¤–æ¥å­˜å‚¨è®¾å¤‡ï¼ŒæŒ‚è½½å¥½ï¼Œdf -lhçœ‹æŒ‚è½½ç‚¹ã€‚
#å¤‡ä»½
rsync -Pa / /media/usb/backup_20201206 --exclude=/media/* --exclude=/sys/* --exclude=/proc/* --exclude=/mnt/* --exclude=/tmp/*

#æ¢å¤
rsync -Pa /media/usb/backup_20170410 /
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ddå‘½ä»¤&#34;&gt;ddå‘½ä»¤&lt;/h1&gt;
&lt;p&gt;æ‰‡åŒºå…‹éš†ï¼Œç›®æ ‡åˆ†åŒºè¦æ¯”å¤‡ä»½åˆ†åŒºè¦å¤§ï¼Œå³ä½¿æ²¡æœ‰ä½¿ç”¨çš„ç©ºé—´ä¹Ÿä¼šè¢«åŸæ ·å…‹éš†ä¸‹æ¥ï¼Œä¼š&lt;strong&gt;æ¯”è¾ƒæ…¢&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#å¤‡ä»½
df -h   #æŸ¥çœ‹ç³»ç»Ÿæ‰€åœ¨åˆ†åŒº
dd if=/dev/sda1 of=/dev/sdb3     #å¤‡ä»½sda1åˆ°sdb3ä¸­

#æ¢å¤
dd if=/dev/sdb3 of=/dev/sda1     #æ¢å¤sdb3åˆ°sdb1ä¸­
&lt;/code&gt;&lt;/pre&gt;
">Linuxç³»ç»Ÿå¤‡ä»½ä¸æ¢å¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-lab-yao-qiu-yu-zhu-yi-dian/"" data-c="
          &lt;h1 id=&#34;v2&#34;&gt;V2&lt;/h1&gt;
&lt;h2 id=&#34;1-l2vrrp&#34;&gt;1. L2+VRRP&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01&lt;code&gt;vridä¸º1&lt;/code&gt;çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­ï¼ˆPC1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºServer1çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02&lt;code&gt;vridä¸º2&lt;/code&gt;çš„å…è´¹ARPã€‚Server1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­ï¼ˆServer1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;br&gt;
ã€æ³¨æ„ã€‘æ­¤å¤„åšå®Œä¸é€šæ˜¯å¯¹çš„ï¼Œéœ€è¦å°†SW1/SW2é¢å¯¹CE1/CE2çš„æ¥å£é…ç½®ä¸ºtrunkï¼Œå¹¶å…è®¸Vlan10/20é€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2-ipv4-igp&#34;&gt;2. IPv4 IGP&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. PE4çš„lo0å£ä¸èƒ½å®£å‘Šè¿›ospfåŒºåŸŸ0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. PE1çš„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨looæ‰èƒ½è¿›å…¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-mpls-vpn~v0-bgp-v2-mplséƒ¨åˆ†-1-v2-mplséƒ¨åˆ†-2~&#34;&gt;3. MPLS VPN~v0-BGP + V2-MPLSéƒ¨åˆ†-1 + V2-MPLSéƒ¨åˆ†-2~&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;code&gt;CE4çš„OSPFéœ€è¦åšvrf-lite&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
å¦‚å›¾4ï¼Œåœ¨AS100ã€AS200å†…å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»ï¼ŒRR1æ˜¯PE1ã€PE2ã€P1ã€ASBR1ã€ASBR2çš„åå°„å™¨ï¼ŒRR2æ˜¯PE3ã€PE4ã€P2ã€ASBR3ã€ASBR4çš„åå°„å™¨ã€‚ASBR1-ASBR3ã€ASBR2-ASBR4å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ASBR1-ASBR3ï¼ŒASBR2-ASBR4ä¹‹é—´é€šè¿‡ç›´è¿æ¥å£å»ºç«‹BGPé‚»å±…å…³ç³»ã€‚åœ¨ASBRä¸Šï¼Œåœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚å‡è®¾AS100å’ŒAS200ä¸­çš„loopback0åœ°å€ä¸º172.16.A.Y/32ã€‚å½“Yä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR1-ASBR3ï¼›å½“Yä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR2-ASBR4.ä¿è¯é…æœ‰æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œ&lt;strong&gt;å„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆäºŒ&lt;/strong&gt;ï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚PE1-RR1ã€PE2-RR1ã€PE3-RR2ã€PE4-RR2ä¹‹é—´å»ºç«‹MP-IBGPè¿æ¥çš„æºæ¥å£ä¸ºloopback0ã€‚RR1-RR2ä¹‹é—´å»ºç«‹MP-EBGPé‚»å±…çš„æºæ¥å£ä¸ºloopback0ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§ï¼ˆå’Œ4ã€5è¦æ±‚é‡åˆï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;4-feature&#34;&gt;4. Feature&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”3Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
&lt;code&gt;åœ¨WANé‚£é“é¢˜ä¸­å·²ç»é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;53-ipv6-multicast&#34;&gt;5.3 IPv6 Multicast&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒAS100ä¸­ï¼Œç›¸é‚»è®¾å¤‡å»ºç«‹PIM IPv6 SMçš„é‚»å±…å…³ç³»ã€‚PE1çš„e0/0/0é™æ€åŠ å…¥ç»„FF1E::AA&lt;/li&gt;
&lt;/ol&gt;
">HCIE å®éªŒLABè¦æ±‚ä¸æ³¨æ„ç‚¹</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-lab/"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1607225084557.png&#34; alt=&#34;å®éªŒLAB&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;v2&#34;&gt;V2&lt;/h1&gt;
&lt;h2 id=&#34;1-l2vrrpv0-äºŒå±‚&#34;&gt;1. L2+VRRP&lt;sub&gt;v0-äºŒå±‚&lt;/sub&gt;&lt;/h2&gt;
&lt;h3 id=&#34;11-é“¾è·¯èšåˆ&#34;&gt;1.1 é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‡è®¾S1ä¸æ”¯æŒLACPï¼ŒS1å’ŒS2äº’è”çš„æ¥å£éœ€è¦åˆæˆä¸€ä¸ªäºŒå±‚é€»è¾‘æ¥å£ï¼Œé€»è¾‘æ¥å£çš„æˆå‘˜é“¾è·¯æ ¹æ®æº-ç›®çš„MACè¿›è¡Œè´Ÿè½½åˆ†æ‹…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
int eth-trunk 12
    load-balance src-dst-mac
    trunkport g0/0/23 0/0/24
    dis eth 12

# SW2
int eth-trunk 12
    load-balance src-dst-mac
    trunkport g0/0/23 0/0/24
    dis eth 12
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;12-link-type&#34;&gt;1.2 Link-type&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4äº’è”æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºtrunkï¼Œå…è®¸é™¤VLAN1å¤–çš„æ‰€æœ‰vlané€šè¿‡&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.1.254ï¼Œä¸ºPC1çš„ç½‘å…³ï¼ŒCE1ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.1.254ï¼ŒæºMACä¸º00-00-5E-00-01-01&lt;code&gt;vridä¸º1&lt;/code&gt;çš„å…è´¹ARPã€‚PC1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN10ä¸­ï¼ˆPC1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;CE1ã€CE2çš„VRRPè™šæ‹ŸIPåœ°å€10.3.2.254ï¼Œä¸ºServer1çš„ç½‘å…³ï¼ŒCE2ä¼šå‘¨æœŸæ€§å‘é€Sender IPä¸º10.3.2.254ï¼ŒæºMACä¸º00-00-5E-00-01-02&lt;code&gt;vridä¸º2&lt;/code&gt;çš„å…è´¹ARPã€‚Server1ä¸ç½‘å…³ä¹‹é—´çš„æ•°æ®åŒ…å°è£…åœ¨VLAN20ä¸­ï¼ˆServer1æ”¶å‘untagçš„å¸§ï¼‰&lt;/li&gt;
&lt;li&gt;VRRPçš„masterè®¾å¤‡é‡å¯æ—¶ï¼Œåœ¨g0/0/2å˜ä¸ºup 1åˆ†é’Ÿåï¼Œæ‰èƒ½é‡æ–°æˆä¸ºmaster&lt;br&gt;
ã€æ³¨æ„ã€‘æ­¤å¤„åšå®Œä¸é€šæ˜¯å¯¹çš„ï¼Œéœ€è¦å°†SW1/SW2é¢å¯¹CE1/CE2çš„æ¥å£é…ç½®ä¸ºtrunkï¼Œå¹¶å…è®¸Vlan10/20é€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1--------------------------------
# SW1
port-group group-member g0/0/1 g0/0/12 eth-trunk 12
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1

# SW2
port-group group-member g0/0/1 g0/0/12 eth-trunk 12
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1

# SW3
port-group group-member g0/0/1 g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1


# SW4
port-group group-member g0/0/1 g0/0/2
    port link-type trunk
    port trunk allow-pass vlan all
    undo port trunk allow-pass vlan 1

# 2/3/4-----------------------------------
# CE1
dis ip int bri
int g0/0/2.10
    dis th
    vrrp vrid 1 virtual-ip 10.3.1.254
    vrrp vrid 1 priority 120
    vrrp vrid 1 preempt-mode timer delay 60
    arp broadcast enable
int g0/0/2.20
    dis th
    vrrp vrid 2 virtual-ip 10.3.2.254
    arp broadcast enable

# CE2
dis ip int bri
int g0/0/2.10
    dis th
    vrrp vrid 1 virtual-ip 10.3.1.254
    arp broadcast enable
int g0/0/2.20
    dis th
    vrrp vrid 2 virtual-ip 10.3.2.254
    vrrp vrid 2 priority 120
    vrrp vrid 2 preempt-mode timer delay 60
    arp broadcast enable

# SW1
vlan batch 10 20
dis port vlan active
int g0/0/2
    port link-type trunk
    port trunk allow-pass vlan 10 20

# SW2
vlan batch 10 20
dis port vlan active
int g0/0/2
    port link-type trunk
    port trunk allow-pass vlan 10 20

# SW3
vlan batch 10 20
dis port vlan active
int e0/0/1   # æ­¤å¤„é…ç½®ä¸‹è”æ¥å£ï¼Œä¸»è¦æ˜¯PC1æ”¶å‘untagçš„å¸§
    port link access
    port default vlan 10

# SW4
vlan batch 10 20
dis port vlan active
int e0/0/1
    port link access
    port default vlan 20

# æµ‹è¯•------------------
# CE1/2
dis vrrp bri
# PC1/2
ping 10.3.2.254
ping 10.3.1.254
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;13-mstp&#34;&gt;1.3 MSTP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;S1ã€S2ã€S3ã€S4éƒ½è¿è¡ŒMSTPã€‚Vlan 10åœ¨instance 10ï¼ŒS1ä½œä¸ºprimary rootï¼ŒS2ä½œä¸ºsecondary rootã€‚Vlan 20åœ¨instance 20ï¼ŒS2ä½œä¸ºprimary rootï¼ŒS1ä½œä¸ºsecondary rootã€‚MSTPçš„region nameæ˜¯HUAWEIï¼ŒRevision-level 12ã€‚&lt;/li&gt;
&lt;li&gt;é™¤äº†äº¤æ¢æœºçš„äº’è”ç«¯å£ï¼Œå…¶ä»–ç«¯å£è¦ç¡®ä¿ä¸å‚ä¸MSTPè®¡ç®—ï¼Œç”±disabledä¼šç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1-----------------------------------------------------
# SW1
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q
stp instance 10 root primary
stp instance 20 secondary primary

# SW2
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q
stp instance 10 root secondary 
stp instance 20 root primary

# SW3
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q

# SW4
stp mode mstp
stp region-configuration
    instance 10 vlan 10
    instance 20 vlan 20
    region-name HUAWEI
    revision-level 12
    active region-configuration
    q

# 2---------------------------------------------
# SW1
stp edged-port default
port-group group-member eth 12 g0/0/1 g0/0/12
    stp edged-port disable

# SW2
stp edged-port default
port-group group-member eth 12 g0/0/1 g0/0/12
    stp edged-port disable

# SW3
stp edged-port default
port-group group-member g0/0/1 g0/0/2
    stp edged-port disable

# SW4
stp edged-port default
port-group group-member g0/0/1 g0/0/2
    stp edged-port disable

# æ£€æŸ¥
# SW1/2/3/4
dis stp bri 
# sw1ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan20çš„root
# sw2ç«¯å£å‡æ˜¯forwardingï¼Œeth12ä¸ºvlan10çš„root
# sw3ç«¯å£g0/0/1æ˜¯vlan10çš„rootï¼Œg0/0/2æ˜¯vlan20çš„root
# sw4ç«¯å£g0/0/1æ˜¯vlan20çš„rootï¼Œg0/0/2æ˜¯vlan10çš„root
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;14-wan&#34;&gt;1.4 WAN&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PE1-RR1çš„äº’è”Serialæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨HDLCï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ã€IPv6åœ°å€è¯·æŒ‰ç…§å›¾1ã€å›¾5é…ç½®&lt;/li&gt;
&lt;li&gt;PE3-CE3çš„äº’è”POSæ¥å£ï¼Œç»‘å®šä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œæˆå‘˜é“¾è·¯é‡‡ç”¨PPPï¼Œé€»è¾‘æ¥å£çš„IPv4åœ°å€ï¼Œè¯·æŒ‰ç…§å›¾1é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1-----------------------------------------
#PE1
ipv6 
int ip-trunk 1
    ipv6 enable 
    ip addr 10.1.13.1 30
    ipv6 addr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300 127
    q
int s0/0/1
    link-protocol hdlc
    ip-trunk 1
int s0/0/2
    link-protocol hdlc
    ip-trunk 1
    q

# RR1
ipv6
int ip-trunk 1
    ipv6 enable 
    ip addr 10.1.13.2 30
    ipv6 addr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1301 127
    q
int s0/0/1
    link-protocol hdlc
    ip-trunk 1
int s0/0/2
    link-protocol hdlc
    ip-trunk 1
    q

# æµ‹è¯•-----------------------
# RR1
ping 10.1.13.1
ping ipv6 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:1300

# 2--------------------------------------------
# PE3
int mp-group 0/0/1
    dis cu conf vpn
    ip binding vpn-instance VPN1
    ip add 10.2.33.1 30
    q
int p4/0/0
    ppp mp mp-group 0/0/1
int p6/0/0
    ppp mp mp-group 0/0/1

# CE3
int mp-group 0/0/1
    ip add 10.2.33.2 30
    q
int p4/0/0
    ppp mp mp-group 0/0/1
int p6/0/0
    ppp mp mp-group 0/0/1

# æµ‹è¯•
# CE3
ping 10.2.33.1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-ipv4-igp~v0-igp-v0-åŒç‚¹åŒå‘å¼•å…¥23-5~&#34;&gt;2. IPv4 IGP~v0-IGP + v0-åŒç‚¹åŒå‘å¼•å…¥(2.3-5)~&lt;/h2&gt;
&lt;h3 id=&#34;21-åŸºæœ¬é…ç½®&#34;&gt;2.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡çš„æ¥å£IPv4åœ°å€æŒ‰ç…§å›¾1é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;Route-idä¸loopback0çš„IPv4åœ°å€ç›¸åŒã€‚MPLSåŸŸå„è®¾å¤‡çš„loopback0ä¸º172.16.0.0/16çš„32ä½ä¸»æœºåœ°å€ï¼ˆå·²é¢„é…ç½®ï¼‰ï¼Œæœªæ¥æ‰©å®¹çš„MPLSåŸŸå„è®¾å¤‡çš„loopback0ï¼Œä»172.16.0.0/16å»å¯ç”¨çš„ä¸»æœºåœ°å€ï¼Œæ¯”å¦‚172.16.1.21/32å¯èƒ½åˆ†å¸ƒåœ¨AS100ï¼Œä¹Ÿå¯èƒ½åˆ†å¸ƒåœ¨AS200ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 2---------------------------
# CE1
dis ip int br
router id 172.17.1.1
# CE2
dis ip int br
router id 172.17.1.2

# PE1
dis ip int br
router id 172.16.1.1
# PE2
dis ip int br
router id 172.16.1.20
# RR1
dis ip int br
router id 172.16.1.3
# P1
dis ip int br
router id 172.16.1.4
# ASBR1
dis ip int br
router id 172.16.1.5
# ASBR2
dis ip int br
router id 172.16.1.6

# ASBR3
dis ip int br
router id 172.16.1.7
# ASBR4
dis ip int br
router id 172.16.1.8
# RR2
dis ip int br
router id 172.16.1.9
# P2
dis ip int br
router id 172.16.1.10
# PE3
dis ip int br
router id 172.16.1.11
# PE4
dis ip int br
router id 172.16.1.2

# CE3
dis ip int br
router id 172.17.1.3
# CE4
dis ip int br
router id 172.17.1.4
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;22-ospf&#34;&gt;2.2 OSPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1å’ŒCE2ä¹‹é—´çš„é“¾è·¯ï¼ŒåŠè¯¥ä¸¤å°è®¾å¤‡çš„loopback0é€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;CE1çš„g0/0/2.10å’Œg0/0/2.20ã€CE2çš„g0/0/2.10å’Œg0/0/2.20ï¼Œç›´è¿ç½‘æ®µé€šå‘Šå…¥OSPFåŒºåŸŸ0ï¼Œè¿™äº›æ¥å£ä¸èƒ½æ”¶å‘OSPFæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;RR2ã€P2ã€PE3ã€PE4åœ¨OSPFåŒºåŸŸ0ä¸­ï¼Œcostå¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;PE3-PE4çš„OSPFé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;PE4ä¸Šå°†loopback0åœ°å€å¼•å…¥OSPFã€‚AS200ä¸­ï¼Œå„OSPFç½‘å…ƒåˆ°PE4 loopback0çš„è·¯ç”±ï¼Œè¦ç´¯åŠ å†…éƒ¨cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1/2--------------------------------------
# CE1
int g0/0/2.10
    ospf enable 1 a 0
int g0/0/2.20
    ospf enable 1 a 0
dis ip int bri
ospf 1 router-id 172.17.1.1
    a 0
        network 172.17.1.1 0.0.0.0 # lo0
        network 10.2.12.1 0.0.0.0 # g0/0/0
        network 10.3.1.1 0.0.0.0 # g0/0/2çš„å­æ¥å£10 
        network 10.3.2.1 0.0.0.0 # g0/0/2çš„å­æ¥å£20
        q
    silent-int g0/0/2.10
    silent-int g0/0/2.20

# CE2
int g0/0/2.10
    ospf enable 1 a 0
int g0/0/2.20
    ospf enable 1 a 0
dis ip int bri
ospf 1 router-id 172.17.1.2
    a 0
        network 172.17.1.2 0.0.0.0 # lo0
        network 10.2.12.2 0.0.0.0 # g0/0/0
        network 10.3.1.2 0.0.0.0 # g0/0/2çš„å­æ¥å£10 
        network 10.3.2.2 0.0.0.0 # g0/0/2çš„å­æ¥å£20
        q
    silent-int g0/0/2.10
    silent-int g0/0/2.20

# æ£€æŸ¥-------------------
# CE1/2
dis ospf peer bri
dis ospf int 

# 3/4---------------------------
# RR2
dis ip int bri
ospf 1 router-id  172.16.1.9
    a 0
        network 172.16.1.9 0.0.0.0  # lo 0
        network 10.1.91.1 0.0.0.0 #g0/0/0
        network 10.1.119.1 0.0.0.0 #g0/0/2

# P2
dis ip int bri
ospf 1 router-id  172.16.1.10
    a 0
        network 172.16.1.10 0.0.0.0  # lo 0
        network 10.1.91.2 0.0.0.0 #g0/0/0
        network 10.1.102.1 0.0.0.0 #g0/0/2

# PE3
dis ip int bri
ospf 1 router-id  172.16.1.11
    a 0
        network 172.16.1.11 0.0.0.0  # lo 0
        network 10.1.112.1 0.0.0.0 #g0/0/0
        network 10.1.119.2 0.0.0.0 #g0/0/2

# PE4
dis ip int bri
ospf 1 router-id  172.16.1.2
    a 0    # ä¸èƒ½å®£å‘Šlo0ï¼ŒåŸå› ä¸ºæ¬¡ä¼˜è·¯å¾„ï¼Œæ¶‰åŠè€ƒç‚¹5
        network 10.1.112.2 0.0.0.0 #g0/0/0
        network 10.1.102.2 0.0.0.0 #g0/0/2

# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis ospf int 
dis ospf peer bri

# 4--------------------------------
# PE3
int g0/0/0
    ospf network-type p2p
# PE4
int g0/0/0
    ospf network-type p2p

# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis ospf int 
dis ospf peer bri

# 5-------------------------
# PE4
ip ip-prefix L0 permit 172.16.1.2 32
route-policy L0 permit node 10
    if-match ip-prefix L0
    apply tag 2  # ç”¨äºåé¢åŒå‘è·¯ç”±å¼•å…¥é˜²æ­¢æ¬¡ä¼˜è·¯å¾„
ospf 1
    import-route direct type 1 route-policy L0   

# æ£€æŸ¥-----------------
# P2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1501ï¼Œtagä¸º2
# RR2
dis ip rou 172.16.1.2 verbose  # 172.16.1.2çš„costå˜ä¸º1511ï¼Œtagä¸º2
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;23-isis&#34;&gt;2.3 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;AS100å†…loopback0å’Œäº’è”ç½‘æ¥å£å…¨éƒ¨å¼€å¯ISISåè®®ï¼Œå…¶ä¸­PE1ã€PE2çš„è·¯ç”±ç±»å‹ä¸ºL1ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒRR1ã€P1è·¯ç”±ç±»å‹ä¸ºL12ï¼ŒåŒºåŸŸå·ä¸º49.0001ï¼ŒASBR1ã€ASBR2è·¯ç”±ç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0002ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;AS200å†…ï¼ŒRR2ã€P2ã€ASBR3ã€ASBR4çš„loopback0å’Œäº’è”æ¥å£å…¨éƒ¨å¼€å¯isisåè®®ï¼ŒISç±»å‹ä¸ºL2ï¼ŒåŒºåŸŸå·ä¸º49.0003ã€‚å„ç½‘å…ƒsystem-idå”¯ä¸€ï¼Œcost-styleä¸ºwideï¼Œcostå€¼å¦‚å›¾2é…ç½®ï¼ˆå·²é¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;RR2-P2çš„ISISé“¾è·¯ç±»å‹ä¸ºP2P&lt;/li&gt;
&lt;li&gt;P1çš„ISISè¿›ç¨‹ï¼Œäº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1/2----------------------
# PE1
dis cu conf isis # is-level level-1 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
dis isis int
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
int ip-trunk 1
    dis th
    isis  enable 
    isis cost 1500
dis isis int
dis isis peer # 2ä¸ª

# PE2
dis cu conf isis # is-level level-1 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# RR1
dis cu conf isis # is-level level-1-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
dis isis int
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
int ip-trunk 1
    dis th
    isis  enable 
    isis cost 1500
dis isis int
dis isis peer # 4ä¸ª

# P1
dis cu conf isis # is-level level-1-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 4ä¸ª

# ASBR1
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR3
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# ASBR4
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# RR2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª

# P2
dis cu conf isis # is-level level-2 # å¦‚æœæœ‰æ­¤é…ç½®ï¼Œåˆ™ä¸å†è¿›è¡Œé…ç½®
int loo 0  # æ­¤å¤„loä¸èƒ½è¿›å…¥ç¯å›å£ï¼Œéœ€è¦ä½¿ç”¨loo
    isis  enable 
dis isis int
dis isis peer # 2ä¸ª


# æ£€æŸ¥-----------------
# RR1
dis ip rou pro isis # æœ‰1/20/4/5/6çš„è·¯ç”±
# ASBR3
dis ip rou pro isis # æœ‰8/9/10çš„è·¯ç”±

# 3-----------------
# RR2
int g0/0/0
    isis circuit-type p2p
# P2
int g0/0/0
    isis circuit-type p2p
dis isis peer

# 4----------------------------
äº§ç”ŸLSPçš„æœ€å¤§å»¶è¿Ÿæ—¶é—´æ˜¯1Sï¼Œåˆå§‹å»¶è¿Ÿä¸º50msï¼Œé€’å¢æ—¶é—´ä¸º50msã€‚ä½¿èƒ½LSPçš„å¿«é€Ÿæ‰©æ•£ç‰¹æ€§ã€‚SPFè®¡ç®—é—´éš”ä¸º1sï¼Œåˆå§‹å»¶è¿Ÿä¸º100msï¼Œé€’å¢æ—¶é—´ä¸º100msã€‚
# P1
isis 1
    timer lsp-generation 1 50 50
    flash-flood
    timer spf 1 100 100
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-mpls-vpn~v0-bgp-v2-mplséƒ¨åˆ†-1-v2-mplséƒ¨åˆ†-2~&#34;&gt;3. MPLS VPN~v0-BGP + V2-MPLSéƒ¨åˆ†-1 + V2-MPLSéƒ¨åˆ†-2~&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CE1ã€CE2ä¸ºVPN1çš„Hub-CEï¼ŒPE1ã€PE2ä¸ºHub-CEï¼ŒCE3ã€CE4ä¸ºVPN1çš„spokeç«™ç‚¹ï¼ŒPE3ã€PE4ä¸ºSpokePE&lt;/li&gt;
&lt;li&gt;CE4ä½Multi-VPN-instance CEï¼ŒCE4çš„VPNå®ä¾‹VPN1ï¼Œé€šè¿‡g0/0/1è¿æ¥PE4&lt;code&gt;CE4çš„OSPFéœ€è¦åšvrf-lite&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆç†è®¾ç½®VPN1å‚æ•°ï¼Œä½¿å¾—Spokeç«™ç‚¹äº’è®¿çš„æ•°æ®å¿…é¡»ç»è¿‡Hub-CEè®¾å¤‡ï¼Œå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±ï¼ˆPE3ä¸ŠVPN1çš„RDä¸º100:13ï¼ŒExportRTä¸º100:1ï¼ŒImportRTä¸º200:1ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE1é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE1ï¼ŒCE1é€šè¿‡g0/0/1.2å‘PE1é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE1ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼ŒCE2é€šè¿‡g0/0/1.1å’Œg0/0/1.2å»ºç«‹ç›´è¿EBGPé‚»å±…æ¥å…¥PE2ï¼ŒCE2é€šè¿‡g0/0/1.2å‘PE2é€šå‘Šçš„BGP updateä¸­ï¼ŒæŸäº›è·¯ç”±çš„as pathä¸­æœ‰200ã€‚åœ¨CE2ä¸Šï¼Œå°†OSPFè·¯ç”±å¯¼å…¥BGP&lt;/li&gt;
&lt;li&gt;CE3é€šè¿‡OSPFåŒºåŸŸ1æ¥å…¥PE3é€šè¿‡PE3-CE3çš„é€»è¾‘æ¥å£äº’é€šï¼Œé€šå‘ŠCE3çš„å„ç¯å›å£ï¼›CE4é€šè¿‡OSPFåŒºåŸŸ0æ¥å…¥PE4ï¼Œé€šè¿‡PE4-CE4çš„g0/0/1.1æ¥å£äº’é€šï¼Œé€šå‘ŠCE4çš„å„ç¯å›å£&lt;/li&gt;
&lt;li&gt;å¦‚å›¾3ï¼ŒAS100ã€AS200å†…å„ç½‘å…ƒé…ç½®MPLS LSR IDï¼Œå…¨å±€ä½¿èƒ½MPLSï¼ŒMPLS LDPï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚AS100ã€AS200å†…å„ç›´è¿é“¾è·¯å»ºç«‹LDPé‚»å±…ã€‚ï¼ˆé™¤PE1-RR1ä¹‹å¤–çš„é€»è¾‘é“¾è·¯å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
å¦‚å›¾4ï¼Œåœ¨AS100ã€AS200å†…å»ºç«‹IBGP IPv4é‚»å±…å…³ç³»ï¼ŒRR1æ˜¯PE1ã€PE2ã€P1ã€ASBR1ã€ASBR2çš„åå°„å™¨ï¼ŒRR2æ˜¯PE3ã€PE4ã€P2ã€ASBR3ã€ASBR4çš„åå°„å™¨ã€‚ASBR1-ASBR3ã€ASBR2-ASBR4å»ºç«‹EBGP IPv4é‚»å±…å…³ç³»ï¼ˆå·²é¢„é…ç½®ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ASBR1-ASBR3ï¼ŒASBR2-ASBR4ä¹‹é—´é€šè¿‡ç›´è¿æ¥å£å»ºç«‹BGPé‚»å±…å…³ç³»ã€‚åœ¨ASBRä¸Šï¼Œåœ¨ASBRä¸Šï¼Œå°†ISISçš„loopback0è·¯ç”±å¼•å…¥BGPã€‚å‡è®¾AS100å’ŒAS200ä¸­çš„loopback0åœ°å€ä¸º172.16.A.Y/32ã€‚å½“Yä¸ºå¥‡æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR1-ASBR3ï¼›å½“Yä¸ºå¶æ•°æ—¶ï¼Œå¯¹ç«¯è®¾å¤‡è®¿é—®æœ¬ASè®¾å¤‡çš„loopback0ï¼Œä¼˜é€‰ASBR2-ASBR4.ä¿è¯é…æœ‰æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;åœ¨RR2ã€P2ä¸Šï¼ŒISISå’ŒOSPFåŒå‘å¼•å…¥å‰ç¼€ä¸º172.16.0.0/16çš„ä¸»æœºè·¯ç”±ã€‚è¢«å¼•å…¥çš„åè®®çš„costè¦ç»§æ‰¿åˆ°å¼•å…¥åçš„åè®®ä¸­ï¼ŒP2å’ŒPE4çš„loopback0äº’è®¿èµ°æœ€ä¼˜è·¯å¾„ã€‚é…ç½®è¦æ±‚æœ‰æœ€å¥½çš„æ‰©å±•æ€§&lt;/li&gt;
&lt;li&gt;å¦‚å›¾4ï¼Œå„ç«™ç‚¹é€šè¿‡MPLS BGP VPN è·¨åŸŸ Option C æ–¹æ¡ˆäºŒï¼Œèƒ½å¤Ÿç›¸äº’å­¦ä¹ è·¯ç”±ã€‚PE1-RR1ã€PE2-RR1ã€PE3-RR2ã€PE4-RR2ä¹‹é—´å»ºç«‹MP-IBGPè¿æ¥çš„æºæ¥å£ä¸ºloopback0ã€‚RR1-RR2ä¹‹é—´å»ºç«‹MP-EBGPé‚»å±…çš„æºæ¥å£ä¸ºloopback0ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé…ç½®EBGPçš„åè®®ä¼˜å…ˆçº§ä¸º120&lt;/li&gt;
&lt;li&gt;åœ¨CE1ã€CE2ä¸Šé¢ï¼Œå°†BGPå¯¼å…¥OSPFã€‚ä¿è¯é…ç½®æœ‰æœ€å¥½çš„æ‰©å±•æ€§ï¼ˆå’Œ4ã€5è¦æ±‚é‡åˆï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨PE3ã€PE4ä¸Šä¿®æ”¹BGP local preferenceå±æ€§ã€‚å®ç°CE3ã€CE4è®¿é—®ç›´è¿çš„10.3.x.0/24ç½‘æ®µæ—¶ï¼Œè‹¥xä¸ºå¥‡æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE1ï¼Œè‹¥xä¸ºå¶æ•°ï¼ŒPE3ã€PE4ä¼˜é€‰ä¸‹ä¸€è·³ä¸ºPE2ï¼Œä¸ç”¨è€ƒè™‘æ¥å›è·¯å¾„æ˜¯å¦ä¸€è‡´&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 3--------------------------
#PE1
dis cu conf vpn
ip vpn-instance HUB
    vpn-target 200:1 export
    q
ip vpn-instance VPN1
    vpn-target 100:1 200:1 import # 200:1çš„ä½œç”¨ï¼šå½“CE1-PE1é“¾è·¯æ–­å¼€çš„æƒ…å†µä¸‹ï¼ŒPE1ä»ç„¶å¯ä»¥å­¦ä¹ åˆ°CE1çš„ä¸šåŠ¡è·¯ç”±
dis cu int# æŸ¥çœ‹intg0/0/1.1å’Œg0/0/1.2åˆ†åˆ«ç»‘å®šVPN1å’ŒHUBï¼Œå¹¶ä¸”éƒ½å·²ç»é…ç½®arp broadcast enable

#PE2
dis cu conf vpn
ip vpn-instance HUB 
    vpn-target 200:1 export
    q
ip vpn-instance VPN1
    vpn-target 100:1 200:1 import 
dis cu int# æŸ¥çœ‹intg0/0/1.1å’Œg0/0/1.2åˆ†åˆ«ç»‘å®šVPN1å’ŒHUBï¼Œå¹¶ä¸”éƒ½å·²ç»é…ç½®arp broadcast enable

# PE3
ip vpn-instance VPN1
    vpn-target 100:1 export
    vpn-target 200:1 import

# PE4
ip vpn-instance VPN1
    vpn-target 100:1 export
    vpn-target 200:1 import

# 4/5----------------------
#CE1
dis ip int bri
bgp  65000
    router-id 172.17.1.1
    peer 10.2.11.2 as 100
    peer 10.2.11.6 as 100
    import ospf 1

#PE1
bgp 100
    dis ip int bri
    router-id 172.16.1.1
    ipv4-family vpn-instance VPN1
        peer 10.2.11.1 as 65000
    ipv4-family vpn-instance HUB
        peer 10.2.11.5 as 65000
        peer 10.2.11.5 allow-as-loop

#CE2
dis ip int bri
bgp  65000
    router-id 172.17.1.2
    peer 10.2.22.2 as 100
    peer 10.2.22.6 as 100
    import ospf 1

#PE2
bgp 100
    dis ip int bri
    router-id 172.16.1.20
    ipv4-family vpn-instance VPN1
        peer 10.2.22.1 as 65000
    ipv4-family vpn-instance HUB
        peer 10.2.22.5 as 65000
        peer 10.2.22.5 allow-as-loop

# æ£€æŸ¥-----------------
# æ‰€æœ‰è®¾å¤‡
dis bgp vpnv4 all peer


# 6/2--------------------------
# PE3
ospf 2 vpn-instance VPN1
    a 1
        dis ip int bri # æŸ¥çœ‹MPå£
        network 10.2.33.1 0.0.0.0
# CE3
dis ip int bri 
ospf 1 router-id 172.17.1.3
    area 1 # åŒæ—¶éœ€è¦å®£å‘Šæ‰€æœ‰ç¯å›å£
        net 10.2.33.2 0.0.0.0
        net 172.17.1.3 0.0.0.0
        net 10.3.3.3 0.0.0.0
dis ospf peer bri

# PE4
ospf 2 vpn-instance VPN1
    a 0
        dis ip int bri # æŸ¥çœ‹g0/0/1å£
        net 10.2.44.1 0.0.0.0
# CE4
dis cu int  # é…ç½®åœ°å€çš„3ä¸ªæ¥å£éƒ½éœ€è¦ç»‘å®šVPN1
dis ip int bri 
ospf 1 vpn-instance VPN1
    area 0 # åŒæ—¶éœ€è¦å®£å‘Šæ‰€æœ‰ç¯å›å£
        net 10.2.44.2 0.0.0.0
        net 172.17.1.4 0.0.0.0
        net 10.4.4.4 0.0.0.0
        q
    vpn-instance-capability simple
dis ospf peer bri

# 7.2 BGP------------------æ­¤éƒ¨åˆ†æœ€å¥½åœ¨è®°äº‹æœ¬ä¸­å†™å¥½é…ç½®
# PE1/PE2/P1/ASBR1/ASBR2
bgp 100
    router-id 172.16.1.1/20/4/5/6
    peer 172.16.1.3 as 100
    peer 172.16.1.3 connect lo 0
# RR1
bgp 100
    router-id 172.16.1.3
    peer 172.16.1.1 as 100 # é…ç½®é‚»å±…
    peer 172.16.1.20 as 100
    peer 172.16.1.4 as 100
    peer 172.16.1.5 as 100
    peer 172.16.1.6 as 100
    dis th
    peer 172.16.1.1 co lo 0 # é…ç½®æ›´æ–°æº
    peer 172.16.1.20 co lo 0
    peer 172.16.1.4 co lo 0
    peer 172.16.1.5 co lo 0
    peer 172.16.1.6 co lo 0
    peer 172.16.1.1 re # é…ç½®åå°„å™¨
    peer 172.16.1.20 re
    peer 172.16.1.4 re
    peer 172.16.1.5 re
    peer 172.16.1.6 re

# ASBR1
bgp 100
    dis th
    peer 172.16.1.3 next-hop-local
    peer 10.1.57.2  as 200

# ASBR2
bgp 100
    dis th
    peer 172.16.1.3 next-hop-local
    peer 10.1.68.2 as 200

# ASBR3
bgp 200
    router-id 172.16.1.7
    peer 10.1.57.1  as 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 next-hop-local

# ASBR4
bgp 200
    router-id 172.16.1.8
    peer 10.1.68.1 as 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 next-hop-local

# P2/PE3/PE4
bgp 200
    router-id 172.16.1.10/11/2
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0

# RR2
bgp 200
    router-id 172.16.1.9
    peer 172.16.1.7 as 200 # é…ç½®é‚»å±…
    peer 172.16.1.8 as 200
    peer 172.16.1.10 as 200
    peer 172.16.1.11 as 200
    peer 172.16.1.2 as 200
	peer 172.16.1.7 co lo 0 # æ›´æ–°æº
    peer 172.16.1.8 co lo 0 
    peer 172.16.1.10 co lo 0 
    peer 172.16.1.11 co lo 0 
    peer 172.16.1.2 co lo 0 
	peer 172.16.1.7 re # åå°„å™¨
    peer 172.16.1.8 re 
    peer 172.16.1.10 re 
    peer 172.16.1.11 re
    peer 172.16.1.2 re

# æ£€æŸ¥-----------------
# RR1/2
dis bgp peer  # 5ä¸ªé‚»å±…å»ºç«‹
# ASBR1/2/3/4
dis bgp peer # 2ä¸ªé‚»å±…

# 7.1 MPLS--------------------
# AS100å’ŒAS200å†…æ‰€æœ‰è®¾å¤‡
mpls lsr-id 172.16.1.1/20/3/4/5/6/7/8/9/10/11/2
mpls
mpls ldp
# AS100å’ŒAS200å†…æ‰€æœ‰è®¾å¤‡çš„äº’è”æ¥å£å…¨éƒ¨å¼€å¯mpls ldpï¼Œå°†éœ€è¦å¼€å¯mplsæ¥å£çš„é…ç½®å†™å…¥è®°äº‹æœ¬ï¼Œç„¶ååœ¨ç›¸åº”è®¾å¤‡ä¸Šç²˜è´´é…ç½®
# PE1
int ip 1
    mpls 
    mpls ldp
int g0/0/0
    mpls 
    mpls ldp
# PE2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
# RR1
int ip 1
    mpls 
    mpls ldp
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# P1
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
# ASBR1ï¼šæ³¨æ„è¿™æ˜¯option Cæ–¹æ¡ˆï¼ŒASä¹‹é—´çš„æ¥å£ä¸èƒ½é…ç½®
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR3
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
# ASBR4
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
#RR2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#P2
int g0/0/0
    mpls 
    mpls ldp
int g0/0/1
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#PE3
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp
#PE4
int g0/0/0
    mpls 
    mpls ldp
int g0/0/2
    mpls 
    mpls ldp

# æ£€æŸ¥-----------------
# AS100/200å†…æ‰€æœ‰è®¾å¤‡
dis mpls ldp peer

# 8-----------------------
# ASBR1
acl 2000   # 4å°ASBRçš„ACLéƒ½æ˜¯ç›¸åŒçš„ï¼Œå»ºè®®å¤åˆ¶ï¼Œä¸åŒçš„æ˜¯route-policy
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 200
route-policy AB permit node 20
    if-match acl 2001
    apply cost 100
bgp 100
    import-route isis 1 route-policy AB
# ASBR3
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 200
route-policy AB permit node 20
    if-match acl 2001
    apply cost 100
bgp 200
    import-route isis 1 route-policy AB


# ASBR2
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 100
route-policy AB permit node 20
    if-match acl 2001
    apply cost 200
bgp 100
    import-route isis 1 route-policy AB
# ASBR4
acl 2000
    rule permit source 172.16.1.0 0.0.0.254
acl 2001
    rule permit source 172.16.1.1 0.0.0.254
route-policy AB permit node 10
    if-match acl 2000
    apply cost 100
route-policy AB permit node 20
    if-match acl 2001
    apply cost 200
bgp 200
    import-route isis 1 route-policy AB

# æ£€æŸ¥-----------------
# 4å°ASBR
dis bgp rou # å¥‡æ•°è·¯ç”±èµ°1/3ï¼Œåä¹‹äº¦ç„¶ã€‚ä¾‹å¦‚ASBR1ä¸Š172.16.1.1çš„ä¸‹ä¸€è·³0.0.0.0ï¼ˆé»˜è®¤ä¸ºASBR3ï¼‰,172.16.1.2çš„ä¸‹ä¸€è·³å°±æ˜¯172.16.1.6


# 9--------------------
## RR2
ip ip-prefix 172 permit 172.16.0.0 16 greater-equal 32  # åŒ¹é…172çš„ä¸»æœºè·¯ç”±

route-policy O2I deny node 10
    if-match tag 100
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 200
route-policy I2O deny node 10
    if-match tag 101
route-policy I2O permit node 20
    if-match ip-prefix 172
    apply tag 201

route-policy OASE permit node 10
    if-match tag 2 # ä¸PE4å¼•å…¥æ—¶æŒ‡å®šçš„tagä¸€è‡´
    apply preference 14   # é’ˆå¯¹PE4å¼•å…¥çš„ospfå¤–éƒ¨è·¯ç”±è®¾ç½®ä¼˜å…ˆçº§ä¸º14ï¼ˆospfä¸º10ï¼Œisisä¸º15ï¼‰
ospf 1
    import-route isis 1 type 1 route-policy I2O 
    preference ase route-policy OASE
isis 1
    import-route ospf 1 inherit-cost route-policy O2I

dis route-policy  # æ­¤æ—¶æŸ¥çœ‹åŒ¹é…åˆ°çš„è·¯ç”±æ˜¯ä¸æ˜¯æœ‰0ï¼Œå› ä¸ºè·¯ç”±ä¹‹å‰å·²ç»è¿‡å»äº†ï¼Œéœ€è¦æŠŠdenyé‡æ–°é…ç½®ä¸€ä¸‹
dis cu conf routr-policy
undo route-policy O2I node 10
route-policy O2I deny node 10
    if-match tag 300
undo route-policy I2O node 10
route-policy I2O deny node 10
    if-match tag 201


# P2
ip ip-prefix 172 permit 172.16.0.0 16 greater-equal 32

route-policy I2O permit node 20
    if-match ip-prefix 172
    apply tag 100
route-policy I2O deny node 10
    if-match tag 200
route-policy O2I permit node 20
    if-match ip-prefix 172
    apply tag 101
route-policy O2I deny node 10
    if-match tag 201
route-policy OASE permit node 10
    if-match tag 2 # ä¸PE4å¼•å…¥æ—¶æŒ‡å®šçš„tagä¸€è‡´
    apply preference 14   # é’ˆå¯¹PE4å¼•å…¥çš„ospfå¤–éƒ¨è·¯ç”±è®¾ç½®ä¼˜å…ˆçº§ä¸º14ï¼ˆospfä¸º10ï¼Œisisä¸º15ï¼‰
ospf 1
    import-route isis 1 type 1 route-policy I2O 
    preference ase route-policy OASE
isis 1
    import-route ospf 1 inherit-cost route-policy O2I

dis route-policy  # æ­¤æ—¶æŸ¥çœ‹åŒ¹é…åˆ°çš„è·¯ç”±æ˜¯ä¸æ˜¯æœ‰0ï¼Œå› ä¸ºè·¯ç”±ä¹‹å‰å·²ç»è¿‡å»äº†ï¼Œéœ€è¦æŠŠdenyé‡æ–°é…ç½®ä¸€ä¸‹
dis cu conf routr-policy
undo route-policy O2I node 10
route-policy O2I deny node 10
    if-match tag 301
undo route-policy I2O node 10
route-policy I2O deny node 10
    if-match tag 200

# æ£€æŸ¥-----------------
# RR2/P2
dis route-policy  # æ­¤æ—¶åŒ¹é…çš„è·¯ç”±æ¡æ•°ä¸åº”è¯¥æœ‰0
# P2
dis ip rou # åˆ°è¾¾PE4(172.16.1.2)çš„è·¯ç”±åº”è¯¥ä¸ºO_ASEï¼Œæ¥å£ä¸ºg0/0/2ï¼Œå³OSPFçš„å¤–éƒ¨è·¯ç”±è€Œä¸æ˜¯ISISçš„è·¯ç”±
# PE4
dis ip rou pro ospf # åˆ°è¾¾P2(172.16.1.10)ä¸ºg0/0/2æ¥å£


# 10-------------------------
# ASBR1/2/3/4
int g0/0/2  # ASBRäº’è”æ¥å£å¼€å¯mpls
    mpls
    q
route-policy MPLS permit no 10 # å‘ebgpé‚»å±…é€šå‘Šè·¯ç”±æ—¶å¸¦æ ‡ç­¾
    apply mpls-label  
ip ip-prefix 172 permit 172.16.0.0 16 great 32 #å°†å¯¹ç«¯172çš„ä¸»æœºè·¯ç”±å¼•å…¥æœ¬ASå†…éƒ¨IGP
route-policy 172 permit node 10
    if-match ip-prefix 172
    apply tag 1234
route-policy AB deny node 5  # é˜²æ­¢å°†BGPå¼•å…¥IGPæ—¶å‡ºç¯
    if-match tag 1234
isis   # IGPå¼•å…¥BGPçš„è·¯ç”±
    import-route bgp inherit-cost route-policy 172
mpls
    lsp-trigger bgp-label-route ip-prefix 172  # è®©LDPä¸ºæ¥è‡ªBGPçš„å¸¦æ ‡ç­¾çš„è·¯ç”±åˆ†é…IGPæ ‡ç­¾

# ASBR1
bgp 100
    peer 10.1.57.2 route-policy MPLS export
    peer 10.1.57.2 label-route-capability  # é’ˆå¯¹é‚»å±…å¼€å¯å…¬ç½‘è·¯ç”±å¸¦æ ‡ç­¾èƒ½åŠ›
    preference 12 255 255  # ä¿®æ”¹bgpä¼˜å…ˆçº§ï¼Œä¿è¯IGPä¼˜é€‰ã€‚ebgpçš„ä¼˜å…ˆçº§12å°äºISISçš„ä¼˜å…ˆçº§15ï¼Œä¼˜é€‰bgpï¼›ibgpçš„ä¼˜å…ˆçº§255å¤§äºISISçš„ä¼˜å…ˆçº§ï¼Œä¼˜é€‰ISISï¼›æœ¬åœ°ä¼˜å…ˆçº§ä¸º255
# ASBR3
bgp 200
    peer 10.1.57.1 route-policy MPLS export
    peer 10.1.57.1 label-route-capability
    preference 12 255 255
# ASBR2
bgp 100
    peer 10.1.68.2 route-policy MPLS export
    peer 10.1.68.2 label-route-capability
    preference 12 255 255
# ASBR4
bgp 200
    peer 10.1.68.1 route-policy MPLS export
    peer 10.1.68.1  label-route-capability
    preference 12 255 255

# PE1/2
bgp 100
    ipv4-family vpnv4
        peer 172.16.1.3 enable
# RR1
bgp 100
    peer 172.16.1.9 as 200
    peer 172.16.1.9 co lo 0
    peer 172.16.1.9 ebgp-max-hop
    ipv4-family unicast
        undo peer 172.16.1.9 enable  # å…³é—­RRä¹‹é—´çš„ipv4é‚»å±…ï¼Œé˜²æ­¢è·¯ç”±é€‰è·¯é”™è¯¯
    ipv4-family vpnv4
        undo policy vpn-target 
        peer 172.16.1.9 enable
        peer 172.16.1.9 next-hop-invariable
        peer 172.16.1.9 allow-as-loop
        peer 172.16.1.1 enable
        peer 172.16.1.1 re
        peer 172.16.1.1 next-hop-invariable # ä¸ä¿®æ”¹ä¸‹ä¸€è·³
        peer 172.16.1.20 enable
        peer 172.16.1.20 re
        peer 172.16.1.20 next-hop-in
# PE3/4
bgp 200
    ipv4-family vpnv4
        peer 172.16.1.9 enable
    ipv4-family vpn-instance VPN1   # è¾¹ç¼˜è®¾å¤‡è·¯ç”±çš„åŒå‘å¼•å…¥ï¼Œä½¿CE3/4å­¦åˆ°ç›¸åº”çš„è·¯ç”±
        import ospf 2
ospf 2
    import bgp type 1

# RR1/P1ï¼šé…ç½®isisçš„è·¯ç”±æ³„éœ²
ip ip-prefix 172 permit 172.16.0.0 16 gr 32
isis 1
    import isis level-2 into level-1 filter-policy ip-prefix 172

# RR2
bgp 200
    peer 172.16.1.3 as 100
    peer 172.16.1.3 co lo 0
    peer 172.16.1.3 ebgp-max-hop
    ipv4-family unicast
        undo peer 172.16.1.9 enable 
    ipv4-family vpnv4
        undo policy vpn-target 
        peer 172.16.1.3 enable
        peer 172.16.1.3 next-hop-in
        peer 172.16.1.3 allow-as-loop
        peer 172.16.1.11 enable
        peer 172.16.1.11 re
        peer 172.16.1.11 next-hop-in
        peer 172.16.1.2 enable
        peer 172.16.1.2 re
        peer 172.16.1.2 next-hop-in

# æ£€æŸ¥-----------------
# RR1/2
dis bgp vpnv4 all peer #å„æœ‰3ä¸ªé‚»å±…
dis bgp peer # æŸ¥çœ‹ä¸¤ä¸ªRRä¹‹é—´çš„é‚»å±…
# RR2/PE3/PE4
dis bgp vpnv4 all rou  # æ˜¯å¦å­¦åˆ°CE1/2/3/4ä¸Šçš„è·¯ç”±10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4
# RR1/PE1/PE2
dis bgp vpnv4 all rou  # æ˜¯å¦å­¦åˆ°CE1/2/3/4ä¸Šçš„è·¯ç”±10.3.1.0ã€10.3.2.0ã€10.3.3.3ã€10.4.4.4
# RR1/P1
dis ip rou pro isis  # æŸ¥çœ‹æ—¶å€™å­¦ä¹ åˆ°isis level2çš„è·¯ç”±ï¼Œä¸»è¦æ˜¯192.168.1.11/2

# 11/12--------------------------
# CE1/2ï¼šä¿®æ”¹eBGPçš„ä¼˜å…ˆçº§
bgp 65000
    preference 120 255 255
ospf 1
    import bgp type 1  # å¼•å…¥ä¹‹å‰å…ˆåšPE1/2ä¸Šé¢çš„soo
# PE1ï¼šä¸ºäº†é˜²ç¯ï¼Œéœ€è¦é…ç½®sooå±æ€§
bgp 100
    ipv4-family vpn-instance HUB
        peer 10.2.11.5 soo 100:12
    ipv4-family vpn-instance VPN1
        peer 10.2.11.1 soo 100:12
# PE2ï¼šä¸ºäº†é˜²ç¯ï¼Œéœ€è¦é…ç½®Sooå±æ€§
bgp 100
    ipv4-family vpn-instance HUB
        peer 10.2.22.5 soo 100:12
    ipv4-family vpn-instance VPN1
        peer 10.2.22.1 soo 100:12

# 13------------------
# PE3/4
acl 2000
    rule permit source 10.3.0.0 0.0.254.0
acl 2001
    rule permit source 10.3.1.0 0.0.254.0
ip ip-prefix NH-PE1 permit 172.16.1.1 32
ip ip-prefix NH-PE2 permit 172.16.1.20 32
route-policy AB permit node 10
    if-match acl 2000
    if-match ip next-hop ip-prefix NH-PE2
    apply local-preference 200   # æœ¬åœ°ä¼˜å…ˆçº§è¶Šå¤§è¶Šä¼˜ï¼Œcostè¶Šå°è¶Šä¼˜
route-policy AB permit node 20
    if-match acl 2001
    if-match ip next-hop ip-prefix NH-PE1
    apply local-preference 200
route-policy AB permit node 30  # æ”¾è¡Œå…¶ä»–è·¯ç”±
bgp 200
    ipv4-family vpnv4
    peer 172.16.1.9 route-policy AB import  # ä»åå°„å™¨æ¥çš„è·¯ç”±åº”ç”¨ä¸Šé¢çš„æ¡ä»¶

# æ£€æŸ¥-----------------
# PE3/4
dis bgp vpnv4 all rou #10.3.1.0ä¸‹ä¸€è·³ä¸º172.16.1.1ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200ï¼›10.3.2.0ä¸‹ä¸€æ¡ä¸º172.16.1.20ï¼Œæœ¬åœ°ä¼˜å…ˆçº§ä¸º200

# æ•´ä¸ªå¤§é¢˜æœ€åçš„æµ‹è¯•
# CE3/4
tracert -a 10.3.3.3 10.4.4.4 # CE4ï¼š9hop
tracert -a 10.3.3.3 10.3.1.10 # PC1ï¼š8hop
tracert -a 10.3.3.3 10.3.2.20 # PC2ï¼š8hop

# CE4
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.3.3  # CE3ï¼š9hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.1.10 # PC1ï¼š8hop
tracert -vpn-instance VPN1 -a 10.4.4.4 10.3.2.20 # PC2ï¼š8hop

# PC1/2
tracert 10.3.3.3 # 3hop
tracert 10.4.4.4

# PC1
tracert 10.3.2.20 # 2hop
# PC2
tracert 10.3.1.10 # 2hop
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-featurev0-feature&#34;&gt;4. Feature&lt;sub&gt;V0-feature&lt;/sub&gt;&lt;/h2&gt;
&lt;h3 id=&#34;41-ha&#34;&gt;4.1 HA&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CE1é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º100.0.1.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE1-ISPé“¾è·¯çš„BFDçŠ¶æ€ç»‘å®šï¼ˆCE1çš„å¯¹ç«¯è®¾å¤‡ä¸æ”¯æŒBFDï¼‰ï¼Œæ„ŸçŸ¥æ•…éšœçš„æ—¶é—´è¦å°äº150ms&lt;/li&gt;
&lt;li&gt;CE2é…ç½®é™æ€çš„é»˜è®¤è·¯ç”±è®¿é—®ISPï¼Œä¸‹ä¸€è·³IPä¸º200.0.2.2.è¯¥é»˜è®¤è·¯ç”±è¦ä¸CE2-ISPé“¾è·¯çš„NQA ICMPæµ‹è¯•ç»‘å®šï¼Œé—´éš”5Sæµ‹è¯•æ‰§è¡Œ1æ¬¡&lt;/li&gt;
&lt;li&gt;CE3ã€CE4èƒ½å¤Ÿé€šè¿‡é»˜è®¤è·¯ç”±è®¿é—®ISPã€‚CE1-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE1ä»èƒ½è®¿é—®ISPï¼›CE2-ISPçš„é“¾è·¯æ–­å¼€æ—¶ï¼ŒCE2ä»èƒ½è®¿é—®ISP&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1---------------------------
# ISP
int g2/0/1
    ip addr 100.0.1.2 30

# CE1
int g2/0/1
    ip addr 100.0.1.1 30
bfd # å¼€å¯å…¨å±€bfd
    q
bfd huawei bind peer-ip 100.0.1.2 int g2/0/1 one-arm-echo 
    discriminator local 1  # é…ç½®æœ¬åœ°è®¾å¤‡æ ‡ç¤ºä¸º1
    min-echo-rx-interval 40 # 40çš„3å€å°äº150
    commit
    q
ip route-static 0.0.0.0 0.0.0.0 100.0.1.2 track bfd-session huawei
# æ£€æµ‹---------
dis bfd session all

# 2---------------------------
# ISP
int g2/0/2
    ip addr 200.0.2.2 30

# CE2
int g2/0/2
    ip addr 200.0.2.1 30
    q
nqa test-instance huawei huawei
    test-type icmp
    destination-address ipv4 200.0.2.2
    frequency 5
    start now
    q
ip route-static 0.0.0.0 0.0.0.0 200.0.2.2 track nqa huawei huawei
# æ£€æµ‹---------
dis nqa history

# 3--------------
# ä½¿ç”¨ospfç»“åˆbgpä¸‹å‘é»˜è®¤
# CE1/2
ospf 1
    default-route-advertise
bgp 65000
    network 0.0.0.0
# PE3/4
ospf 2 
    default-route-advertise
# æ£€æµ‹--------
# CE3
dis ip rou   # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
# CE4
dis ip rou vpn-instance VPN1 # æŸ¥çœ‹æ˜¯å¦æœ‰é»˜è®¤è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;42-nat&#34;&gt;4.2 NAT&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/1è®¿é—®ISPã€‚&lt;br&gt;
åœ¨CE2ä¸Šï¼Œ10.3.0.0/16ï¼ˆä¸å«10.3.2.10ï¼‰çš„å†…ç½‘åœ°å€è½¬æ¢ä¸º102.0.1.2-102.0.1.6ï¼Œé€šè¿‡g2/0/2è®¿é—®ISPã€‚&lt;br&gt;
Server1æ‹¥æœ‰å•ç‹¬çš„å…¬ç½‘åœ°å€102.0.1.1ï¼Œå¯¹ISPæä¾›FTPå’ŒHTTPæœåŠ¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  CE1
acl 2999
    rule deny source 10.3.2.10 0
    rule permit source 10.3.0.0 0.0.255.255
nat address-group 1 102.0.1.2 102.0.1.6
int g2/0/1
    nat outbound 2999 address-group 1
    nat server protocol tcp global 102.0.1.1 www inside 10.3.2.10 www
    nat server protocol tcp global 102.0.1.1 ftp inside 10.3.2.10 ftp
#  CE2
acl 2999
    rule deny source 10.3.2.10 0
    rule permit source 10.3.0.0 0.0.255.255
nat address-group 1 102.0.1.2 102.0.1.6
int g2/0/2
    nat outbound 2999 address-group 1
    nat server protocol tcp global 102.0.1.1 www inside 10.3.2.10 www
    nat server protocol tcp global 102.0.1.1 ftp inside 10.3.2.10 ftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;43-qos&#34;&gt;4.3 Qos&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨CE1çš„g2/0/1ã€CE2çš„g2/0/2çš„å‡ºæ–¹å‘ï¼Œå‘¨ä¸€è‡³å‘¨äº”çš„8:00-18:00ï¼Œå¯¹TCPç›®çš„ç«¯å£å·ä¸º6881-6999çš„æµé‡ï¼Œæ‰¿è¯ºçš„å¹³å‡é€Ÿç‡ä¸º1Mbps&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1/2/3--------------
# CE1
time-range WORKING 8:00 to 18:00 working-day
acl 3000
    rule permit tcp desination-port range 6881 6999 timer-range WORKING
traffic classifiter HUAWEI operator or
    if-match acl 3000
traffic behavior HUAWEI
    car cir 1000
traffic policy HUAWEI
    classifier HUAWEI behavior HUAWEI
interface g2/0/1
    traffic-policy HUAWEI outbound
# CE2
time-range WORKING 8:00 to 18:00 working-day
acl 3000
    rule permit tcp desination-port range 6881 6999 timer-range WORKING
traffic classifiter HUAWEI 
    if-match acl 3000
traffic behavior HUAWEI
    car cir 1000
traffic policy HUAWEI
    classifier HUAWEI behavior HUAWEI
interface g2/0/2
    traffic-policy HUAWEI outbound

# æ£€æŸ¥-----
dis traffic policy user-defied
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-ipv6&#34;&gt;5. IPv6&lt;/h2&gt;
&lt;h3 id=&#34;51-åŸºæœ¬é…ç½®&#34;&gt;5.1 åŸºæœ¬é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›¸å…³è®¾å¤‡æ¥å£çš„IPv6åœ°å€ï¼ŒæŒ‰ç…§å›¾6é…ç½®ï¼ˆé™¤PE1-RR1çš„é€»è¾‘æ¥å£å¤–ï¼Œå·²é¢„é…ç½®ï¼‰&lt;br&gt;
&lt;code&gt;åœ¨WANé‚£é“é¢˜ä¸­å·²ç»é…ç½®&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;52-ipv6-isis&#34;&gt;5.2 IPv6 ISIS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾6ï¼ŒPE1ã€PE2ã€RR1ã€P1ã€ASBR1ã€ASBR2è¿è¡Œisisåè®®ï¼Œå„ç›´è¿ç½‘æ®µé€šå‘Šå…¥isisï¼Œé…ç½®å„é“¾è·¯cost&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# PE1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int ip 1
    isis ipv6 enable 
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 20 

# PE2
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 20
int g0/0/2
    isis ipv6 enable 
    isis ipv6 cost 1500

# RR1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int ip 1
    isis ipv6 enable 
    isis ipv6 cost 1550
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 860

# P1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/2
    isis ipv6 enable 
    isis ipv6 cost 1500
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 80
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 1000

# ASBR1
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 860
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 100

# ASBR2
ipv6
isis 
    ipv6 enable topology ipv6 
int loo 0
    isis ipv6 enable
int g0/0/1
    isis ipv6 enable 
    isis ipv6 cost 1000
int g0/0/0
    isis ipv6 enable 
    isis ipv6 cost 100

# æ£€æŸ¥---------
dis ipv6 rou pro isis # å¯ä»¥æŸ¥çœ‹åˆ°AS100å†…æ‰€æœ‰å…¶ä»–è®¾å¤‡ç¯å›å£è·¯ç”±ï¼Œå»ºè®®åœ¨PE2ä¸ŠæŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;53-ipv6-multicast&#34;&gt;5.3 IPv6 Multicast&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚å›¾7ï¼ŒAS100ä¸­ï¼Œç›¸é‚»è®¾å¤‡å»ºç«‹PIM IPv6 SMçš„é‚»å±…å…³ç³»ã€‚PE1çš„e0/0/0é™æ€åŠ å…¥ç»„FF1E::AA&lt;/li&gt;
&lt;li&gt;ASBR1çš„loopback0ã€ASBR2çš„loopback0ä¸ºC-BSRä¸”éƒ½ä¸ºFF1E::/112çš„C-RPã€‚ASBR1çš„loopback0æˆä¸ºBSRï¼ŒASBR2çš„loopback0æˆä¸ºFF1E::/112çš„RP&lt;/li&gt;
&lt;li&gt;æ— è®ºå“ªä¸ªC-RPæˆä¸ºRPï¼Œéƒ½è¦ç¡®ä¿PIM IPv6åŸŸç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹æ— æ¬¡ä¼˜è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1------------------------
# RR1/P1
isis 1
    ipv6 import-route isis level-2 into level-1    # è·¯ç”±æ¸—é€ï¼Œä¿è¯ASå†…ç¯å›å£äº’é€šï¼Œå¯ä»¥åšä¸v1ç›¸åŒçš„ç­–ç•¥è¿›è¡Œé˜²ç¯ï¼Œæ­¤å¤„ä¸åšäº†

# PE1
multicast ipv6 routing-enabel
int g0/0/0
    pim ipv6 sm  # å…ˆå¼€å¯
    pim ipv6 silent  # ä¿éšœå®‰å…¨
    mld enable   # åå¼€å¯
    mld static-group FF1E::AA  # é™æ€åŠ ç»„
int loo 0
    pim ipv6 sm
int ip 1
    pim ipv6 sm

# PE2
int loo 0
    pim ipv6 sm
int g0/0/0
    pim ipv6 sm
int g0/0/2
    pim ipv6 sm

# RR1
int ip 1
    pim ipv6 sm
int g0/0/0
    pim ipv6 sm
int g0/0/1
    pim ipv6 sm

# P1
int g0/0/0
    pim ipv6 sm
int g0/0/1
    pim ipv6 sm
int g0/0/2
    pim ipv6 sm

# ASBR1
int g0/0/0
    pim ipv6 sm
int g0/0/1
    pim ipv6 sm

# ASBR2
int g0/0/0
    pim ipv6 sm
int g0/0/2
    pim ipv6 sm

# 2--------------------
# ASBR1/ASBR2
acl ipv6 2000
    rule permit source FF1E::AA/112  # å®šä¹‰RPçš„æœåŠ¡ç»„èŒƒå›´
acl ipv6 3100
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5/128 destination FF1E::AA/112
    rule permit ipv6 source 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6 128 destination FF1E::AA/112

# ASBR1
pim-ipv6
    c-bsr priority 200
    c-bsr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5
    c-rp 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA5 group-po 2000 pri 200
    crp-policy 3100
# ASBR2
pim-ipv6
    c-bsr priority 100
    c-bsr 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6
    c-rp 2000:EAD8:99EF:CC3E:B2AD:9EFF:A2DD:DCA6 group-po 2000 pri 100
    crp-policy 3100
# æ£€æŸ¥--------------
# PE1
dis pim ipv6 bsr-info  # BSRåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼ŒC-RPæ•°é‡2ä¸ª
dis pim ipv6 rp-info  # RPåœ°å€ä¸ºxxxxxxDCA5ï¼Œä¼˜å…ˆçº§ä¸º200ï¼›ä¸‹ä¸€ä¸ªRPåœ°å€ä¸ºxxxxxxDCA6ï¼Œä¼˜å…ˆçº§ä¸º100

# 3------------------
# PE1
pim-ipv6
    spt-switch-threshold infinity
# æ£€æŸ¥--------------
#ASBR1/2
dis pim ipv6 rou  # åªæœ‰ï¼ˆ*ï¼ŒFF1E::AAï¼‰
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒLABv2</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-ts_plana-yao-qiu-zheng-li/"" data-c="
          &lt;h1 id=&#34;1-eth-trunk&#34;&gt;1. eth-trunk&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3178905&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3178905&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site1ä¸­ï¼ŒLSW1-LSW2ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯è¦æ±‚åšeth-trunkçš„æ†ç»‘ï¼Œå¹¶ä¸”æ­¤eth-trunkè¦æ±‚åšsrc-dst-ipè´Ÿè½½ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;2-mstp&#34;&gt;2. MSTP&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4027591&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4027591&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;site1ä¸­ï¼ŒCLIENT1å±äºVLAN12ï¼ŒCLIENT2å±äºVLAN34ï¼›MSTPä¸­çš„VLAN12å±äºinstance1ï¼Œvlan34å±äºinstance2ï¼›ä¸¤ä¸ªinstanceçš„ä¸»å¤‡æ ¹æ¡¥åˆ†åˆ«åœ¨SW1å’ŒSW2ä¸Šï¼Œå¹¶ä¸”è¦æ±‚CLIENT1è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW1-R1ï¼›åŒæ—¶è¦æ±‚CLIENT2è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW2-R1;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;3-bgp-adv&#34;&gt;3. BGP ADV&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4115695&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4115695&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;R1è®¿é—®VLAN12æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW1-LSW3;è®¿é—®VLAN34æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW2-LSW3ï¼›åªå…è®¸åœ¨AS300ä¸­å®ç°ï¼Œå¹¶ä¸”ç¡®ä¿ä½ çš„è§£å†³æ–¹æ¡ˆä¸è¦å½±å“AS100 AS300ä»¥å¤–çš„å…¶ä»–AS;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;4-ospf&#34;&gt;4. OSPF&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-130612&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-130612&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AS100ä¸­æ‰€æœ‰è®¾å¤‡éƒ½è¿è¡Œäº†OSPFï¼Œä½†æ˜¯éƒ¨åˆ†è®¾å¤‡çš„é‚»å±…å…³ç³»æœ‰é—®é¢˜ï¼Œè§£å†³æ­¤é—®é¢˜&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;5-mux-vlan&#34;&gt;5. mux-vlan&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5968381&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5968381&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site4ä¸­ï¼ŒAR24ã€AR25ã€AR26åœ¨ä¸€ä¸ªç½‘æ®µä¸­ï¼ŒåŒæ—¶éƒ½è¿è¡Œäº†ISISåè®®ï¼Œè¦æ±‚AR26èƒ½å’ŒAR24ã€AR25éƒ½èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼Œä½†æ˜¯AR24ä¸AR25ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼›é€šè¿‡LSW8çš„äºŒå±‚VLANæŠ€æœ¯ä»¥åŠå…¶ä»–è®¾å¤‡æ’é™¤é”™è¯¯ç‚¹æ¥å®ç°æ­¤è¦æ±‚ï¼š æ³¨æ„ï¼›é…ç½®è¿‡ç¨‹ä¸­ä¸èƒ½åœ¨LSW8ä¸Šåˆ é™¤å’Œå¢åŠ æ–°çš„VLANï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;6-mpls-vpn&#34;&gt;6. MPLS-VPN&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8305299&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8305299&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site1ä¸Site4ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨site1é‡Œçš„CLIENTSæ— æ³•å’Œsite4é‡Œçš„CLIENTé€šä¿¡ï¼Œè¯·è§£å†³æ­¤é—®é¢˜ï¼›æ³¨æ„ï¼šä¸è¦åˆ é™¤ç°æœ‰é…ç½®ï¼Œå¯ä¿®æ”¹è§£å†³&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;7-vrrp&#34;&gt;7. VRRP&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-5414498&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-5414498&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸­AR10ä¸AR11è¦ä¸ºLSW4çš„PC4æä¾›ç¬¬ä¸€è·³ç½‘å…³å†—ä½™æœåŠ¡ï¼Œè™šæ‹Ÿç½‘å…³åœ°å€ä¸º10.2.129.254å’Œ10.2.129.253ï¼›åœ¨é…ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ï¼ŒVRRPé…ç½®åçš„çŠ¶æ€ä¿¡æ¯å¦‚ä¸‹ï¼›  ä¸ºäº†åŠ é€ŸVRRPçš„æ”¶æ•›ï¼Œä½¿ç”¨BFDè·Ÿè¸ªä¸Šè¡Œé“¾è·¯çŠ¶æ€ä»¥åŠVRRPçš„é‚»å±…å…³ç³»ï¼›(æœ€ç»ˆç»“æœè¦å’Œä¸‹é¢çš„ä¿¡æ¯ä¸€è‡´)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;&amp;lt;AR10&amp;gt;display vrrp
  GigabitEthernet0/0/0 | Virtual Router 1
    State : Master
    Virtual IP : 10.2.129.254
    Master IP : 10.2.129.10
    PriorityRun : 200
    PriorityConfig : 200
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$z&amp;lt;@sHH2C5Kh[\s6#]}C2I`kl%$%$
    Virtual MAC : 0000-5e00-0101
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 1 Prioritu reduced:120
    BFD-session static : UP
    Create time : 2014-07-17 20:59:30 UTC-05:13
    Last change time : 2014-07-17 20:59:41 UTC-05:13

  GigabitEthernet0/0/0 | Virtual Router 2
    State : Backup
    Virtual IP : 10.2.129.253
    Master IP : 10.2.129.11
    PriorityRun : 100
    PriorityConfig : 100
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$$&amp;gt;13KX6vBGrR0d~&amp;amp;FZ;QI`m`%$%$
    Virtual MAC : 0000-5e00-0102
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 2 Prioritu increased:120
    BFD-session static : UP
    Create time : 2014-07-17 20:59:30 UTC-05:13
    Last change time : 2014-07-17 21:00:38 UTC-05:13

&amp;lt;AR11&amp;gt;display vrrp
  GigabitEthernet0/0/0 | Virtual Router 1
    State : Backup
    Virtual IP : 10.2.129.254
    Master IP : 10.2.129.10
    PriorityRun : 100
    PriorityConfig : 100
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s 
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$}/TEU.6A&amp;quot;ML/\e!^KvqEId;F%$%$
    Virtual MAC : 0000-5e00-0101
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 2 Prioritu increased:120
    BFD-session static : UP
    Create time : 2014-07-17 21:19:52 UTC-05:13
    Last change time : 2014-07-17 21:21:05 UTC-05:13

  GigabitEthernet0/0/0 | Virtual Router 2
    State : Master
    Virtual IP : 10.2.129.253
    Master IP : 10.2.129.11
    PriorityRun : 200
    PriorityConfig : 200
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$#tW6O)PNIKiC7uP:)c^7IdYN%$%$
    Virtual MAC : 0000-5e00-0102
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 1 Prioritu reduced:120
    BFD-session static : UP
    Create time : 2014-07-17 21:19:52 UTC-05:13
    Last change time : 2014-07-17 21:20:00 UTC-05:13
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;8-dhcp&#34;&gt;8. DHCP&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-2235563&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-2235563&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸­ï¼ŒAR10 AR11æ˜¯DHCPæœåŠ¡å™¨å¹¶ä¸”ç›¸äº’å¤‡ä»½ï¼Œè¦æ±‚CLIENT7èƒ½é€šè¿‡DHCPæœåŠ¡å™¨è·å–åˆ°åœ°å€10.2.129.100ï¼›è¦æ±‚CLIENT8åªèƒ½è·å–æŒ‡å®šåœ°å€ä¸º10.2.129.101ï¼›ç°åœ¨CLIENT8æœ‰æ—¶æ— æ³•è·å–åœ°å€ï¼Œè¯·è§£å†³ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;9-sham-link&#34;&gt;9. sham-link&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8779768&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8779768&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸Site3ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨AR10ä¸AR20ä¸Šé¢çš„å®¢æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰éƒ½èƒ½äº’é€šï¼›è¯·è§£å†³æ­¤é—®é¢˜ï¼›å¹¶ä¸”è¦æ±‚å½“AS100è¿æ¥æ­£å¸¸çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®¢æˆ·çš„æ•°æ®åŒ…é€šä¿¡å¿…é¡»ç»è¿‡AS100ï¼›ä½†æ˜¯AS100å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸¤ä¸ªç«™ç‚¹å¯ä»¥é€šè¿‡å¤‡ä»½é“¾è·¯è¿›è¡Œé€šä¿¡&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;10-ipv6&#34;&gt;10. IPv6&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3274707&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3274707&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸Site3é…ç½®äº†IPV6ï¼Œå¹¶ä¸”è¿è¡ŒOSPFV3åè®®ï¼›å‚ä¸çš„è®¾å¤‡æœ‰AR10ã€AR11ã€AR18ã€AR20ï¼›AR18ä¸AR20ä¹‹é—´é€šè¿‡tunnelç›¸é€šï¼›ç°åœ¨ç¯å¢ƒä¸­çš„IPV6 CLIENT 13ã€IPV6 CLIENT 9 ã€IPV6 CLIENT10æ— æ³•å®ç°äº’ç›¸é€šä¿¡ï¼Œè¯·è§£å†³&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;11-telnet&#34;&gt;11. Telnet&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1147666&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1147666&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site3ä¸­ï¼ŒAR16 AR17 AR18å¸§ä¸­ç»§ç½‘ç»œä¸­è¿è¡Œospfï¼Œä½¿ç”¨é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼›è¦æ±‚AR18èƒ½é€šè¿‡telnetè¿œç¨‹ç®¡ç†AR16ã€AR17ï¼›ç°åœ¨AR18æ— æ³•è¿œç¨‹ç®¡ç†ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›è¦æ±‚AR16çš„telnetè®¤è¯æ–¹å¼ä¸ºAAAï¼ŒAR16ä¸Šå­˜åœ¨ä¸¤ä¸ªç”¨æˆ·ï¼Œadminç”¨æˆ·çº§åˆ«ä¸º15çº§ï¼Œguestç”¨æˆ·çº§åˆ«ä¸º1çº§è¦æ±‚ä¸¤ä¸ªç”¨æˆ·éƒ½èƒ½è®¤è¯telnetç™»å½•ï¼›è¦æ±‚AR17çš„è®¤è¯æ–¹æ³•ä¸ºpasswordï¼›æ‰€æœ‰telnetåˆ°AR17çš„ç”¨æˆ·çº§åˆ«æ— éœ€æ±‚ï¼Œä½†æ˜¯èƒ½æ”¯æŒå‘½ä»¤è¦æ±‚æˆªå›¾ä¸€è‡´&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;12-qos&#34;&gt;12. Qos&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3088117&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3088117&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site3ä¸­AR20ä¸Šä¸€ä¸ªç”¨æˆ·ï¼ˆ loopback0æ¨¡æ‹Ÿï¼‰å’ŒAR18çš„ä¸€ä¸ªç”¨æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰è¦è¿›è¡Œè¯­éŸ³é€šä¿¡ï¼Œä½¿ç”¨çš„éŸ³é¢‘ç¼–ç G.711ï¼Œæ¯è·¯è¯­éŸ³éœ€è¦64Kbpsçš„å¸¦å®½ï¼Œç›®å‰ä»AR20åˆ°AR18çš„è¯­éŸ³è´¨é‡ä¸å¤Ÿå¥½ï¼Œéœ€è¦åœ¨AR19ä¸Šéƒ¨ç½²QOSï¼›ä»¥ä¿è¯è¯­éŸ³æµé‡çš„æœåŠ¡è´¨é‡ï¼ˆåå‘æµé‡ä¸è¦æ±‚ï¼‰&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;13-nat&#34;&gt;13. NAT&lt;/h1&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6729229&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6729229&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site5ä¸­é€šè¿‡å®‰å…¨æ¥å…¥AS,client11ç°åœ¨æ— æ³•é€šè¿‡ç½‘å…³AR27è®¿é—®åˆ°å…¬ç½‘AS100ã€AS200ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹&lt;/p&gt;
">HCIE å®éªŒTS_PlanAè¦æ±‚æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-ts_-yu-planb-zhi-jian-de-chong-yao-qu-bie/"" data-c="
          &lt;h1 id=&#34;æ‹“æ‰‘çš„åŒºåˆ«&#34;&gt;æ‹“æ‰‘çš„åŒºåˆ«&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä¸è€ƒBGPã€IPv6 BGPã€msdpã€ospf&lt;/li&gt;
&lt;li&gt;site2å¤šäº†AR116&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è€ƒé¢˜çš„å…·ä½“åŒºåˆ«&#34;&gt;è€ƒé¢˜çš„å…·ä½“åŒºåˆ«&lt;/h1&gt;
&lt;p&gt;åªè®°å½•åœ¨planBæ’é”™æ­¥éª¤ä¸‹&lt;code&gt;ä¸å®¹æ˜“å‘ç°&lt;/code&gt;çš„é—®é¢˜æˆ–è€…&lt;code&gt;å®¹æ˜“æ¼æ‰&lt;/code&gt;çš„é—®é¢˜&lt;/p&gt;
&lt;h2 id=&#34;eth-trunkmstpbgp-adv&#34;&gt;eth-trunk+MSTP+BGP ADV&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;SW2çš„æ‰€æœ‰ä¸Šè”æ¥å£çš„stp costé…ç½®åˆ é™¤ï¼Œå¦åˆ™ALTEæ¥å£ä¸èƒ½DISCARDING&lt;/li&gt;
&lt;li&gt;AR1éœ€è¦bgp 100éœ€è¦åˆ›å»ºvpn-instance 1ï¼ˆå¼•å…¥ç›´è¿ã€å»ºç«‹é‚»å±…(sw1çš„vlan100å’Œsw2çš„vlan200)ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mux-vlan&#34;&gt;mux-vlan&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR26ä¿®æ”¹is-level level-2&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mpls-vpn&#34;&gt;MPLS-VPN&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿™ä¸ªç”¨çš„æ˜¯OptionAï¼Œä¸PlanBçš„æ’é”™æ–¹å¼ä¸åŒï¼Œéœ€è¦æŸ¥çœ‹æ‰€æœ‰çš„ASBRï¼ˆAR23/4/5/2/1ï¼‰çš„VPNé…ç½®&lt;code&gt;dis cu conf vpn&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é™¤äº†AR23ï¼Œå…¶ä½™å‡ ä¸ªARå‡éœ€è¦æ·»åŠ RT200:100&lt;/li&gt;
&lt;li&gt;AR2åœ¨vpn-instance 1ä¸­æ²¡æœ‰é…ç½®AR4/5çš„é‚»å±…&lt;/li&gt;
&lt;li&gt;ASBRè®¾å¤‡åªéœ€è¦é…ç½®åŸŸå†…çš„mplså’Œmpls ldp&lt;/li&gt;
&lt;li&gt;AR4/5çš„bgpä¸­çš„vpnv4éœ€è¦&lt;code&gt;policy vpn-target&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AR9çš„mpls lsr-idé”™è¯¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;AR23çš„&lt;code&gt;acl 2001&lt;/code&gt;éœ€è¦æ·»åŠ &lt;code&gt;rule permit&lt;/code&gt;æ¥å…è®¸æ‰€æœ‰é€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;vrrp&#34;&gt;VRRP&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®å¤åˆ¶åˆ°è®°äº‹æœ¬ä¸­ä¿®æ”¹ã€‚é…ç½®å®Œä¹‹åvrrpåœ¨AR10ä¸­vrid1æœ‰5è¡Œé…ç½®ï¼Œvrid2æœ‰4è¡Œï¼ŒAR11ç›¸å&lt;/li&gt;
&lt;li&gt;vrrpv6çš„åœ°å€çš„æœ€åä¸€ä½ä¸º254ï¼Œç„¶åä¿®æ”¹AR10çš„ä¼˜å…ˆçº§&lt;code&gt;vrrp6 vrid 1 priority 200&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;AR116çš„bfdé…ç½®æ˜¯æ­£ç¡®çš„ï¼Œç„¶åAR10/11çš„bfd1æ˜¯é…ç½®ä¸AR116ä¹‹é—´çš„bfdï¼Œbfd2æ˜¯è¿™ä¸¤è€…ä¹‹é—´&lt;/li&gt;
&lt;li&gt;æ¥å£g0/0/0é…ç½®bfdå‘½ä»¤å‚è€ƒ&lt;code&gt;vrrp vrid 1 track bfd-session session-name 1 reduced 120&lt;/code&gt;ï¼Œæ ¹æ®è¦æ±‚è¿›è¡Œé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;dhcp&#34;&gt;DHCP&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®å¤åˆ¶åˆ°è®°äº‹æœ¬ä¸­ä¿®æ”¹ã€‚AR10å‚è€ƒAR11è¿›è¡Œé…ç½®ï¼ˆç¬¬äºŒä¸ªmacé…ç½®é”™è¯¯ï¼‰&lt;/li&gt;
&lt;li&gt;sw4éœ€è¦é…ç½®æ¥å£1/3&lt;code&gt;dhcp snooping trusted&lt;/code&gt;ä¸”åˆ é™¤ç«¯å£5çš„é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;sham-link&#34;&gt;sham-link&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆè§£å†³ospf 100çš„é‚»å±…é—®é¢˜ï¼Œospf100çš„AR6/7/8ï¼ŒAR8çš„router-idé”™è¯¯å’Œè®¤è¯é…ç½®&lt;/li&gt;
&lt;li&gt;AR7çš„bgp100ä¸­ipv4-family vpnv4çš„åå°„ï¼ˆä¸è¦å¿˜äº†lo 1ç»‘å®švpn2ï¼‰&lt;/li&gt;
&lt;li&gt;AR6çš„g2/0/0çš„ipä¸º10.2.128.9ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹ospf110ä¸­çš„a 1å®£å‘Š&lt;/li&gt;
&lt;li&gt;AR10/11éœ€è¦å°†ä¸Šè”æ¥å£çš„IPå®£å‘Šè¿›ospf110&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv6&#34;&gt;IPv6&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR11ä¸éœ€è¦æ·»åŠ è·¯ç”±æ±‡æ€»&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;telnet&#34;&gt;Telnet&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AR16çš„acl2001&lt;/li&gt;
&lt;li&gt;åœ¨æ¥å£ä¸‹é…ç½®ospfçš„drä¼˜å…ˆçº§ï¼Œç¡®ä¿AR18ä¸ºDR&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;qos&#34;&gt;Qos&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è§„åˆ™ä¸­çš„tcpæ”¹ä¸ºudp&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;nat&#34;&gt;NAT&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ­¤ç‰ˆæœ¬æ— é™æ€è·¯ç”±éœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼Œä¸”æŒ‡å‘AR9çš„IP&lt;/li&gt;
&lt;li&gt;æµ‹è¯•æ—¶åªæµ‹è¯•AS200ï¼Œæ— æ³•æµ‹è¯•AS100ä¸­çš„åœ°å€&lt;/li&gt;
&lt;/ol&gt;
">HCIE-TS_PlanAä¸PlanBä¹‹é—´çš„é‡è¦åŒºåˆ«</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-ts_plana/"" data-c="
          &lt;p&gt;&lt;code&gt;ä¸è€ƒBGPã€IPv6 BGPã€msdp&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;tsæ’é”™plana&#34;&gt;TSæ’é”™&lt;sup&gt;PlanA&lt;/sup&gt;&lt;/h1&gt;
&lt;h2 id=&#34;eth-trunksite1çš„sw12&#34;&gt;eth-trunk&lt;sub&gt;site1çš„sw1/2&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site1ä¸­ï¼ŒLSW1-LSW2ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯è¦æ±‚åšeth-trunkçš„æ†ç»‘ï¼Œå¹¶ä¸”æ­¤eth-trunkè¦æ±‚åšsrc-dst-ipè´Ÿè½½ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
dis eth-trunk
int eth 12
dis th
undo trunkport e0/0/18
mode lacp-static
load-balance src-dst-ip
trunkport eth 0/0/18 to 0/0/20

# sw2
dis eth-trunk
int eth 12
dis  th
load-balance src-dst-ip
trunkport eth 0/0/20
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mstpbgp-advsite1çš„sw123bgp100çš„ar1&#34;&gt;MSTP+BGP ADV&lt;sub&gt;site1çš„sw1/2/3,bgp100çš„AR1&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ä¸­ï¼ŒCLIENT1å±äºVLAN12ï¼ŒCLIENT2å±äºVLAN34ï¼›MSTPä¸­çš„VLAN12å±äºinstance1ï¼Œvlan34å±äºinstance2ï¼›ä¸¤ä¸ªinstanceçš„ä¸»å¤‡æ ¹æ¡¥åˆ†åˆ«åœ¨SW1å’ŒSW2ä¸Šï¼Œå¹¶ä¸”è¦æ±‚CLIENT1è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW1-R1ï¼›åŒæ—¶è¦æ±‚CLIENT2è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW2-R1;&lt;/li&gt;
&lt;li&gt;R1è®¿é—®VLAN12æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW1-LSW3;è®¿é—®VLAN34æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW2-LSW3ï¼›åªå…è®¸åœ¨AS300ä¸­å®ç°ï¼Œå¹¶ä¸”ç¡®ä¿ä½ çš„è§£å†³æ–¹æ¡ˆä¸è¦å½±å“AS100 AS300ä»¥å¤–çš„å…¶ä»–AS;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
dis th
int e0/0/21
dis th
port trunk all vlan all
dis cu conf mst
bgp 300
dis th
undo network 10.1.12.0 255.255.255.0
network 10.1.12.0 255.255.255.0

# sw2
dis th
stp instance 2 root primary
int e0/0/22
dis th
port trunk all vlan all
q
dis cu conf mst
    stp region-configuration # ä½¿ç”¨sw1çš„é…ç½®
    region-name HCIE
    instance 1 vlan 12
    instance 2 vlan 34
    active region-configuration
bgp 300
dis th
network 10.1.12.0 255.255.255.0 route-policy MED
undo network 10.1.34.0 255.255.255.0
network 10.1.34.0 255.255.255.0


# sw3
dis th
stp mode mstp
int e0/0/21
dis th
port trunk all vlan all
int e0/0/22
dis th
port trunk all vlan all
dis cu conf mst
int e0/0/1
dis th
undo stp cost 
port link-type access
port default vlan 12
int e0/0/2
dis th
port link-type access
port default vlan 12
int e0/0/3
dis th
port link-type access
port default vlan 34
int e0/0/4
dis th
port link-type access
port default vlan 34

# AR1
int g2/0/2
dis th
int g2/0/1
dis th
ip binding vpn-instance 1
bgp 100
dis th
ipv4-family vpn-instance 1
peer 10.1.100.100 as 300  # sw1
peer 10.1.200.200 as 300  # sw2
import-route direct
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mux-vlansite4çš„ar242526å’Œsw8&#34;&gt;mux-vlan&lt;sub&gt;site4çš„AR24/25/26å’Œsw8&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site4ä¸­ï¼ŒAR24ã€AR25ã€AR26åœ¨ä¸€ä¸ªç½‘æ®µä¸­ï¼ŒåŒæ—¶éƒ½è¿è¡Œäº†ISISåè®®ï¼Œè¦æ±‚AR26èƒ½å’ŒAR24ã€AR25éƒ½èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼Œä½†æ˜¯AR24ä¸AR25ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼›é€šè¿‡LSW8çš„äºŒå±‚VLANæŠ€æœ¯ä»¥åŠå…¶ä»–è®¾å¤‡æ’é™¤é”™è¯¯ç‚¹æ¥å®ç°æ­¤è¦æ±‚ï¼š æ³¨æ„ï¼›é…ç½®è¿‡ç¨‹ä¸­ä¸èƒ½åœ¨LSW8ä¸Šåˆ é™¤å’Œå¢åŠ æ–°çš„VLANï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw8
dis mux-vlan
vlan 100
undo subordinate group 30  50
subordinate separate 50
port-group group-member g0/0/1 g0/0/2
port link-type access
port default vlan 50
port mux-vlan enable
q
int g0/0/3
dis th
port default vlan 100
port mux-vlan enable

# AR24
isis 100
dis th
int g0/0/0
dis th
isis authen md5 cipher hcie

# AR25
isis 100
dis th
int g0/0/0
dis th
isis authen md5 cipher hcie

# AR26
isis 100
dis th
is-level level-2
int g0/0/0
dis th
isis authen md5 cipher hcie
isis dis-pri 127
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mpls-vpnas100å’Œas200çš„æ‰€æœ‰è®¾å¤‡&#34;&gt;MPLS-VPN&lt;sub&gt;AS100å’ŒAS200çš„æ‰€æœ‰è®¾å¤‡&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site1ä¸Site4ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨site1é‡Œçš„CLIENTSæ— æ³•å’Œsite4é‡Œçš„CLIENTé€šä¿¡ï¼Œè¯·è§£å†³æ­¤é—®é¢˜ï¼›æ³¨æ„ï¼šä¸è¦åˆ é™¤ç°æœ‰é…ç½®ï¼Œå¯ä¿®æ”¹è§£å†³&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
dis cu conf vpn # ä¸»è¦æŸ¥çœ‹RDå’ŒRTå€¼
ip vpn-instance 1
vpn-target 200:100
dis bgp vpnv4 all rou

# AR2
dis cu conf vpn # ä¸»è¦æŸ¥çœ‹RDå’ŒRTå€¼
ip vpn-instance 1
vpn-target 200:100
bgp 100
dis th
ipv4-family vpnv4
policy vpn-target
ipv4-family vpn-instance 1
peer 200.100.24.4 as 200
peer 200.100.25.5 as 200
q
q
dis bgp vpnv4 all rou

# AR4
dis cu conf vpn # ä¸»è¦æŸ¥çœ‹RDå’ŒRTå€¼
ip vpn-instance 1
vpn-target 200:100
bgp 200
dis th
ipv4-family vpnv4
policy vpn-target
int g0/0/1
mpls
mpls ldp
q
dis bgp vpnv4 all rou

# AR5
dis cu conf vpn # ä¸»è¦æŸ¥çœ‹RDå’ŒRTå€¼
ip vpn-instance 1
vpn-target 200:100
bgp 200
dis th
ipv4-family vpnv4
policy vpn-target

#AR9
dis cu | i mpls
undo mpls
y
mpls lsr-id 200.1.1.9
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
int g0/0/2
mpls
mpls ldp

# AR23
dis cu conf vpn # ä¸»è¦æŸ¥çœ‹RDå’ŒRTå€¼
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32
tracert lsp -a 200.1.1.23 ip 200.1.1.5 32
dis bgp vpnv4 all rou
isis 100
import bgp
bgp 200
dis th
dis cu conf route
acl 2000
dis th
rule permit source 10.1.34.0 0
rule permit source 10.1.1.1 0
acl 2001
dis th
rule permit
dis bgp vpnv4 all rou

# AR26
dis ip rou pro isis
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;vrrpsite2çš„ar1011&#34;&gt;VRRP&lt;sub&gt;site2çš„AR10/11&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸­AR10ä¸AR11è¦ä¸ºLSW4çš„PC4æä¾›ç¬¬ä¸€è·³ç½‘å…³å†—ä½™æœåŠ¡ï¼Œè™šæ‹Ÿç½‘å…³åœ°å€ä¸º10.2.129.254å’Œ10.2.129.253ï¼›åœ¨é…ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ï¼ŒVRRPé…ç½®åçš„çŠ¶æ€ä¿¡æ¯å¦‚ä¸‹ï¼›  ä¸ºäº†åŠ é€ŸVRRPçš„æ”¶æ•›ï¼Œä½¿ç”¨BFDè·Ÿè¸ªä¸Šè¡Œé“¾è·¯çŠ¶æ€ä»¥åŠVRRPçš„é‚»å±…å…³ç³»ï¼›(æœ€ç»ˆç»“æœè¦å’Œä¸‹é¢çš„ä¿¡æ¯ä¸€è‡´)&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR10
int g0/0/0
dis th
vrrp vrid 1 authentication-mode md5 hcie
vrrp vrid 2 authentication-mode md5 hcie
vrrp vrid 2 virtual-ip 10.2.129.253
undo vrrp vrid 2 virtual-ip 10.2.129.251
vrrp vrid 1 preempt-mode timer delay 1
vrrp vrid 2 preempt-mode timer delay 1
vrrp6 vrid 1 virtual-ip FE80::1 link-local
vrrp6 vrid 1 virtual-ip 2002:10:2:129::254
vrrp6 vrid 1 priority 200
q
dis cu | i bfd
undo bfd 2
bfd 2 bind peer-ip 10.2.129.11 source-ip 10.2.129.10 auto
undo bfd 1
bfd 1 bind peer-ip 10.2.128.2 source-ip 10.2.128.1 auto
int g0/0/0
vrrp vrid 1 track bfd-session session-name 1 reduced 120
vrrp vrid 2 track bfd-session session-name 2 increased 120

# AR11
int g0/0/0
dis th
vrrp vrid 1 authentication-mode md5 hcie
vrrp vrid 2 authentication-mode md5 hcie
vrrp vrid 2 priority 200
vrrp vrid 2 preempt-mode timer delay 1
undo vrrp6 vrid 1
vrrp6 vrid 1 virtual-ip FE80::2 link-local
vrrp6 vrid 1 virtual-ip 2002:10:2:129::254
dis cu | i bfd
undo bfd 1
bfd 1 bind peer-ip 10.2.128.6 source-ip 10.2.128.5 auto
int g0/0/0
vrrp vrid 1 track bfd-session session-name 1 increased 120
vrrp vrid 2 track bfd-session session-name 2 reduced 120

# AR116
dis cu | i bfd
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;dhcpsite2çš„ar1011å’Œsw4&#34;&gt;DHCP&lt;sub&gt;site2çš„AR10/11å’ŒSW4&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸­ï¼ŒAR10 AR11æ˜¯DHCPæœåŠ¡å™¨å¹¶ä¸”ç›¸äº’å¤‡ä»½ï¼Œè¦æ±‚CLIENT7èƒ½é€šè¿‡DHCPæœåŠ¡å™¨è·å–åˆ°åœ°å€10.2.129.100ï¼›è¦æ±‚CLIENT8åªèƒ½è·å–æŒ‡å®šåœ°å€ä¸º10.2.129.101ï¼›ç°åœ¨CLIENT8æœ‰æ—¶æ— æ³•è·å–åœ°å€ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR10
dis cu conf ip-pool # å°†é…ç½®å¤åˆ¶åˆ°è®°äº‹æœ¬è¿›è¡Œä¿®æ”¹
    1. ç½‘å…³é”™è¯¯ï¼Œä¿®æ”¹ä¸º254
    2. ç½‘ç»œé”™è¯¯ï¼Œä¿®æ”¹ä¸º10.2.129.0/24
    3. ç¼ºå°‘æ’é™¤åœ°å€
    2. ä¸¤ä¸ªmacé”™è¯¯
undo ip pool hcie
    åˆ·å…¥é…ç½®
dhcp enable
int g0/0/0
dhcp select global

# AR11
dis cu conf ip-pool # å°†é…ç½®å¤åˆ¶åˆ°è®°äº‹æœ¬è¿›è¡Œä¿®æ”¹
    1. ç¬¬äºŒä¸ªmacé”™è¯¯
undo ip pool hcie
    åˆ·å…¥é…ç½®
dhcp enable
int g0/0/0
dhcp select global

# sw4
int e0/0/1
dhcp snooping trusted
int e0/0/3
dhcp snooping trusted
int e0/0/5
undo dhcp snooping trusted
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sham-linkas100çš„ar61378site3çš„ar20&#34;&gt;sham-link&lt;sub&gt;AS100çš„AR6/13/7/8ï¼Œsite3çš„AR20&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸Site3ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨AR10ä¸AR20ä¸Šé¢çš„å®¢æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰éƒ½èƒ½äº’é€šï¼›è¯·è§£å†³æ­¤é—®é¢˜ï¼›å¹¶ä¸”è¦æ±‚å½“AS100è¿æ¥æ­£å¸¸çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®¢æˆ·çš„æ•°æ®åŒ…é€šä¿¡å¿…é¡»ç»è¿‡AS100ï¼›ä½†æ˜¯AS100å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸¤ä¸ªç«™ç‚¹å¯ä»¥é€šè¿‡å¤‡ä»½é“¾è·¯è¿›è¡Œé€šä¿¡ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR8
ospf 100
dis th
ospf 100 router-id 100.1.1.8
return
reset ospf proccess
ospf 100
a 0
network 100.1.78.8 0.0.0.0
authentication-mode md5 1 cipher hcie
osfp 110
dis th
a 0
undo sham-link 100.1.136.13 100.1.136.6
a 1
undo network 100.1.136.13 0.0.0.0
sham-link 100.1.136.6 100.1.136.13



# AR7
ospf 100
dis th
a 0
undo authentication-mode  
int g0/0/1
dis th
undo ospf timer hello 
bgp 100
dis th
ipv4-famliy vpnv4
peer 100.1.1.6 reflect-client
peer 100.1.1.13 reflect-client

# AR6
ospf 110
dis th
a 1
undo network 10.2.128.6 0.0.0.0
network 10.2.128.9 0.0.0.0
int lo 1
dis th
ip binding vpn-instance 2
ip address 100.1.136.6 255.255.255.255
bgp 100
dis th

# AR13
osfp 110
dis th
a 1
undo sham-link 100.1.136.6 100.1.136.13
sham-link 100.1.136.13 100.1.136.6
int lo 1
dis th
bgp 100
dis th
ipv4-famliy vpn-instance 2
network 100.1.136.13 255.255.255.255

# AR116
ospf 110
dis th

# AR10
ospf 110
dis th
a 1
network 10.2.128.1 0.0.0.0
q
tracert -a 10.2.1.10 10.3.1.20

# AR11
int s3/0/1
dis th
ospf cost 100
ospf 110
dis th
a 1
network 10.2.128.5 0.0.0.0

# AR20
int s3/0/0
dis th
ospf cost 100
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ipv6as100çš„ar1011site3çš„ar2018&#34;&gt;IPv6&lt;sub&gt;AS100çš„AR10/11ï¼Œsite3çš„AR20/18&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸Site3é…ç½®äº†IPV6ï¼Œå¹¶ä¸”è¿è¡ŒOSPFV3åè®®ï¼›å‚ä¸çš„è®¾å¤‡æœ‰AR10ã€AR11ã€AR18ã€AR20ï¼›AR18ä¸AR20ä¹‹é—´é€šè¿‡tunnelç›¸é€šï¼›ç°åœ¨ç¯å¢ƒä¸­çš„IPV6 CLIENT 13ã€IPV6 CLIENT 9 ã€IPV6 CLIENT10æ— æ³•å®ç°äº’ç›¸é€šä¿¡ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR18
int t 0/0/100
dis th
undo ospfv3 1 area 0.0.0.1
ospfv3 1 area 0.0.0.0
ospfv3
dis th
undo silent-interface t 0/0/100

# AR20
int t 0/0/100
dis th
gre key 123
ospfv3
dis th
a 0
abr-summary 2002:10:3:209:: 64
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;telnetsite3çš„ar161718&#34;&gt;Telnet&lt;sub&gt;site3çš„AR16/17/18&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site3ä¸­ï¼ŒAR16 AR17 AR18å¸§ä¸­ç»§ç½‘ç»œä¸­è¿è¡Œospfï¼Œä½¿ç”¨é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼›è¦æ±‚AR18èƒ½é€šè¿‡telnetè¿œç¨‹ç®¡ç†AR16ã€AR17ï¼›ç°åœ¨AR18æ— æ³•è¿œç¨‹ç®¡ç†ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›è¦æ±‚AR16çš„telnetè®¤è¯æ–¹å¼ä¸ºAAAï¼ŒAR16ä¸Šå­˜åœ¨ä¸¤ä¸ªç”¨æˆ·ï¼Œadminç”¨æˆ·çº§åˆ«ä¸º15çº§ï¼Œguestç”¨æˆ·çº§åˆ«ä¸º1çº§è¦æ±‚ä¸¤ä¸ªç”¨æˆ·éƒ½èƒ½è®¤è¯telnetç™»å½•ï¼›è¦æ±‚AR17çš„è®¤è¯æ–¹æ³•ä¸ºpasswordï¼›æ‰€æœ‰telnetåˆ°AR17çš„ç”¨æˆ·çº§åˆ«æ— éœ€æ±‚ï¼Œä½†æ˜¯èƒ½æ”¯æŒå‘½ä»¤è¦æ±‚æˆªå›¾ä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR16
aaa
dis th
local-user admin privilege level 15
local-user admin password cipher hcie
local-user guest password cipher hcie
local-user admin service-type telnet
user-interface vty 0 4
dis th
authentication-mode aaa
acl 2001
rule 5 permit source 10.3.1.18 0
int s3/0/0
dis th
ospf dr-priority 0

# AR17
user-interface vty 0 4
dis th
# user privilege level 0 # è¿™æ˜¯é»˜è®¤çº§åˆ«ï¼Œå¦‚æœæ²¡æœ‰å°±å¯¹äº†
set authentication password cipher hcie
int s3/0/0
dis th
ospf dr-priority 0

# AR18
int s3/0/0
dis th
ospf dr-priority 255
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;qossite3çš„ar19&#34;&gt;Qos&lt;sub&gt;site3çš„AR19&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site3ä¸­AR20ä¸Šä¸€ä¸ªç”¨æˆ·ï¼ˆ loopback0æ¨¡æ‹Ÿï¼‰å’ŒAR18çš„ä¸€ä¸ªç”¨æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰è¦è¿›è¡Œè¯­éŸ³é€šä¿¡ï¼Œä½¿ç”¨çš„éŸ³é¢‘ç¼–ç G.711ï¼Œæ¯è·¯è¯­éŸ³éœ€è¦64Kbpsçš„å¸¦å®½ï¼Œç›®å‰ä»AR20åˆ°AR18çš„è¯­éŸ³è´¨é‡ä¸å¤Ÿå¥½ï¼Œéœ€è¦åœ¨AR19ä¸Šéƒ¨ç½²QOSï¼›ä»¥ä¿è¯è¯­éŸ³æµé‡çš„æœåŠ¡è´¨é‡ï¼ˆåå‘æµé‡ä¸è¦æ±‚ï¼‰ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR19
dis cu  # å¤åˆ¶åˆ°è®°äº‹æœ¬è¿›è¡Œä¿®æ”¹

acl name UDP 3999  
dis th
rule 1 permit udp source 10.3.1.20 0 destination 10.3.1.18 0 destination-port range 16384 32767  # ç”±tcpæ”¹ä¸ºudp

traffic behavior cbq
dis th
undo queue llq 
queue llq bandwidth 64

traffic behavior remark
dis th
undo remark dscp
remark dscp ef

int g0/0/0  # AR20åˆ°AR18ï¼Œåå‘æµé‡æ— éœ€æ±‚ï¼Œåˆ™g0/0/0ä¸ºå…¥æ–¹å‘ï¼Œs3/0/0ä¸ºå‡ºæ–¹å‘
dis th
undo traffic-policy outbound
traffic-policy remark-ef inbound 

int s3/0/0
dis th
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;natar279&#34;&gt;NAT&lt;sub&gt;AR27/9&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site5ä¸­é€šè¿‡å®‰å…¨æ¥å…¥AS,client11ç°åœ¨æ— æ³•é€šè¿‡ç½‘å…³AR27è®¿é—®åˆ°å…¬ç½‘AS100ã€AS200ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR27
dis cu | i  route
ip route-static 0.0.0.0 0.0.0.0 s3/0/0 # æˆ–è€…æŒ‡å‘200.1.209.9
dis cu conf acl # è§„åˆ™å·ä¸º2000
dis cu conf nat  # åœ¨æ¥å£ä¸‹è°ƒç”¨åœ°å€ç»„ï¼Œç»„å·ä¸º1
int s3/0/0
dis th
ppp chap password cipher hcie
nat outbound 2000 address-group 1
q
dis nat out # æœ‰ä¸€æ¡s3/0/0

# AR9
int s3/0/0
dis th
isis enable 200
ppp authentication-mode chap
aaa
dis th
local-user hcie password cipher hcie
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTS_PlanA</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-ts_planb-yao-qiu-zheng-li/"" data-c="
          &lt;h1 id=&#34;æ•´ä½“è¦æ±‚&#34;&gt;æ•´ä½“è¦æ±‚&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰è®¾å¤‡ç™»å½•å¯†ç ä¸ºhcie&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰FRç¯å¢ƒä¸­è¦ä½¿ç”¨é™æ€çš„MAPæ˜ å°„&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰FRè®¾å¤‡ä¸å…è®¸åšä»»ä½•ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰çš„ç­–ç•¥æ˜¯ä¸èƒ½åˆ é™¤çš„ï¼Œä½†æ˜¯å¯ä»¥æ–°å¢æˆ–è€…ä¿®æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é¢˜ç›®è¦æ±‚&#34;&gt;é¢˜ç›®è¦æ±‚&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1605853424451.PNG&#34; alt=&#34;TS_PlanB&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;1-mstp&#34;&gt;1. MSTP&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4517720&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4517720&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;site1ä¸­ï¼ŒCLIENT1å±äºVLAN12ï¼ŒCLIENT2å±äºVLAN34ï¼›&lt;br&gt;
MSTPä¸­çš„VLAN12å±äºinstance1ï¼Œvlan34å±äºinstance2ï¼›&lt;br&gt;
ä¸¤ä¸ªinstanceçš„ä¸»å¤‡æ ¹æ¡¥åˆ†åˆ«åœ¨SW1å’ŒSW2ä¸Šï¼Œå¹¶ä¸”è¦æ±‚CLIENT1è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW1-R1ï¼›åŒæ—¶è¦æ±‚CLIENT2è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW2-R1;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;SW1/2/3ä¸Šçš„mstpé…ç½®ï¼šdis cu conf mst
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;2-eth-trunk&#34;&gt;2. eth-trunk&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-4823503&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-4823503&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site1ä¸­ï¼ŒLSW1-LSW2ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯è¦æ±‚åšeth-trunkçš„æ†ç»‘ï¼Œå¹¶ä¸”æ­¤eth-trunkè¦æ±‚åšsrc-dst-ipè´Ÿè½½ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;3-bgp-adv&#34;&gt;3. BGP ADV&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-7116089&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-7116089&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;R1è®¿é—®VLAN12æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW1-LSW3;&lt;br&gt;
è®¿é—®VLAN34æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW2-LSW3ï¼›&lt;br&gt;
åªå…è®¸åœ¨AS300ä¸­å®ç°ï¼Œå¹¶ä¸”ç¡®ä¿ä½ çš„è§£å†³æ–¹æ¡ˆä¸è¦å½±å“AS100 AS300ä»¥å¤–çš„å…¶ä»–AS;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;4-mux-vlan&#34;&gt;4. mux-vlan&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8336030&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8336030&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site4ä¸­ï¼ŒAR24ã€AR25ã€AR26åœ¨ä¸€ä¸ªç½‘æ®µä¸­ï¼ŒåŒæ—¶éƒ½è¿è¡Œäº†ISISåè®®ï¼Œè¦æ±‚AR26èƒ½å’ŒAR24ã€AR25éƒ½èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼Œä½†æ˜¯AR24ä¸AR25ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼›&lt;br&gt;
é€šè¿‡LSW8çš„äºŒå±‚VLANæŠ€æœ¯ä»¥åŠå…¶ä»–è®¾å¤‡æ’é™¤é”™è¯¯ç‚¹æ¥å®ç°æ­¤è¦æ±‚ï¼š&lt;br&gt;
æ³¨æ„ï¼šé…ç½®è¿‡ç¨‹ä¸­ä¸èƒ½åœ¨LSW8ä¸Šåˆ é™¤å’Œå¢åŠ æ–°çš„VLANï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;5-mpls-vpn&#34;&gt;5. MPLS-VPN&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9608182&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9608182&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site1ä¸Site4ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨site1é‡Œçš„CLIENTSæ— æ³•å’Œsite4é‡Œçš„CLIENTé€šä¿¡ï¼Œè¯·è§£å†³æ­¤é—®é¢˜ï¼›&lt;br&gt;
æ³¨æ„ï¼šä¸è¦åˆ é™¤ç°æœ‰é…ç½®ï¼Œå¯ä¿®æ”¹è§£å†³ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. AS100ä¸­çš„AR7 å’Œ AS200ä¸­çš„AR9 çš„mpls lsr-idé”™è¯¯
2. AR23ä¸­isis 100å’Œbgp 200ä¸­çš„vpn-instance 1çš„è·¯ç”±ç›¸äº’å¼•å…¥ï¼ŒåŒæ—¶æ³¨æ„acl 2000
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;6-sham-link&#34;&gt;6. sham-link&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6309673&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6309673&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸Site3ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨AR10ä¸AR20ä¸Šé¢çš„å®¢æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰éƒ½èƒ½äº’é€šï¼›è¯·è§£å†³æ­¤é—®é¢˜ï¼›&lt;br&gt;
å¹¶ä¸”è¦æ±‚å½“AS100è¿æ¥æ­£å¸¸çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®¢æˆ·çš„æ•°æ®åŒ…é€šä¿¡å¿…é¡»ç»è¿‡AS100ï¼›ä½†æ˜¯AS100å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸¤ä¸ªç«™ç‚¹å¯ä»¥é€šè¿‡å¤‡ä»½é“¾è·¯è¿›è¡Œé€šä¿¡ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. AR6å’ŒAR13çš„lo 2ç»‘å®šbgp100ä¸­vpn-instance 2ï¼Œä¸”bgp 100ä¸­çš„å®£å‘Šlo 2åœ°å€ï¼ŒåŒæ—¶å¼•å…¥ospf 110ï¼Œospf 110çš„area 1ä¸­å®£å‘Šçš„lo 2åœ°å€åˆ é™¤ï¼Œå¹¶å¼•å…¥bgp
2. æ³¨æ„ã€ä¸å½±å“æ­¤é¢˜ã€‘ï¼šAR11å’ŒAR20ç›¸è¿çš„ä¸²å£åœ¨IPv6ä¸­ï¼Œå®£å‘Šè¿›ospfv3çš„åŒºåŸŸ0ï¼Œè€Œä¸æ˜¯åŒºåŸŸ1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;7-vrrp&#34;&gt;7. vrrp&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6260217&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6260217&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸­AR10ä¸AR11è¦ä¸ºLSW4çš„PC4æä¾›ç¬¬ä¸€è·³ç½‘å…³å†—ä½™æœåŠ¡ï¼Œè™šæ‹Ÿç½‘å…³åœ°å€ä¸º10.2.129.254å’Œ10.2.129.253ï¼›  ä¸ºäº†åŠ é€ŸVRRPçš„æ”¶æ•›ï¼Œä½¿ç”¨BFDè·Ÿè¸ªä¸Šè¡Œé“¾è·¯çŠ¶æ€ä»¥åŠVRRPçš„é‚»å±…å…³ç³»ï¼›(æœ€ç»ˆç»“æœè¦å’Œä¸‹é¢çš„ä¿¡æ¯ä¸€è‡´)&lt;br&gt;
åœ¨é…ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ï¼ŒVRRPé…ç½®åçš„çŠ¶æ€ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;&amp;lt;AR10&amp;gt;display vrrp
  GigabitEthernet0/0/0 | Virtual Router 1
    State : Master
    Virtual IP : 10.2.129.254
    Master IP : 10.2.129.10
    PriorityRun : 200
    PriorityConfig : 200
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$z&amp;lt;@sHH2C5Kh[\s6#]}C2I`kl%$%$
    Virtual MAC : 0000-5e00-0101
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 1 Prioritu reduced:120
    BFD-session static : UP
    Create time : 2014-07-17 20:59:30 UTC-05:13
    Last change time : 2014-07-17 20:59:41 UTC-05:13

  GigabitEthernet0/0/0 | Virtual Router 2
    State : Backup
    Virtual IP : 10.2.129.253
    Master IP : 10.2.129.11
    PriorityRun : 100
    PriorityConfig : 100
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$$&amp;gt;13KX6vBGrR0d~&amp;amp;FZ;QI`m`%$%$
    Virtual MAC : 0000-5e00-0102
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 2 Prioritu increased:120
    BFD-session static : UP
    Create time : 2014-07-17 20:59:30 UTC-05:13
    Last change time : 2014-07-17 21:00:38 UTC-05:13

&amp;lt;AR11&amp;gt;display vrrp
  GigabitEthernet0/0/0 | Virtual Router 1
    State : Backup
    Virtual IP : 10.2.129.254
    Master IP : 10.2.129.10
    PriorityRun : 100
    PriorityConfig : 100
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s 
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$}/TEU.6A&amp;quot;ML/\e!^KvqEId;F%$%$
    Virtual MAC : 0000-5e00-0101
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 2 Prioritu increased:120
    BFD-session static : UP
    Create time : 2014-07-17 21:19:52 UTC-05:13
    Last change time : 2014-07-17 21:21:05 UTC-05:13

  GigabitEthernet0/0/0 | Virtual Router 2
    State : Master
    Virtual IP : 10.2.129.253
    Master IP : 10.2.129.11
    PriorityRun : 200
    PriorityConfig : 200
    MasterPriority : 200
    Preempt : YES   Delay Time : 1 s
    TimerRun : 1 s
    TimerConfig : 1 s
    Auth type : MD5   Auth key : %$%$#tW6O)PNIKiC7uP:)c^7IdYN%$%$
    Virtual MAC : 0000-5e00-0102
    Check TTL : YES
    Config type : normal-vrrp
    Backup-forward : disabled
    Track BFD : 1 Prioritu reduced:120
    BFD-session static : UP
    Create time : 2014-07-17 21:19:52 UTC-05:13
    Last change time : 2014-07-17 21:20:00 UTC-05:13
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;8-telnet&#34;&gt;8. Telnet&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8579640&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8579640&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site3ä¸­ï¼ŒAR16 AR17 AR18å¸§ä¸­ç»§ç½‘ç»œä¸­è¿è¡Œospfï¼Œä½¿ç”¨é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼›&lt;br&gt;
è¦æ±‚AR18èƒ½é€šè¿‡telnetè¿œç¨‹ç®¡ç†AR16ã€AR17ï¼›ç°åœ¨AR18æ— æ³•è¿œç¨‹ç®¡ç†ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›&lt;br&gt;
è¦æ±‚AR16çš„telnetè®¤è¯æ–¹å¼ä¸ºAAAï¼ŒAR16ä¸Šå­˜åœ¨ä¸¤ä¸ªç”¨æˆ·ï¼Œadminç”¨æˆ·çº§åˆ«ä¸º15çº§ï¼Œguestç”¨æˆ·çº§åˆ«ä¸º1çº§è¦æ±‚ä¸¤ä¸ªç”¨æˆ·éƒ½èƒ½è®¤è¯telnetç™»å½•ï¼›&lt;br&gt;
è¦æ±‚AR17çš„è®¤è¯æ–¹æ³•ä¸ºpasswordï¼›æ‰€æœ‰telnetåˆ°AR17çš„ç”¨æˆ·çº§åˆ«æ— éœ€æ±‚ï¼Œä½†æ˜¯èƒ½æ”¯æŒå‘½ä»¤è¦æ±‚æˆªå›¾ä¸€è‡´ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;9-ipv6&#34;&gt;9. IPv6&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-8704870&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-8704870&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸Site3é…ç½®äº†IPV6ï¼Œå¹¶ä¸”è¿è¡ŒOSPFV3åè®®ï¼›&lt;br&gt;
å‚ä¸çš„è®¾å¤‡æœ‰AR10ã€AR11ã€AR18ã€AR20ï¼›AR18ä¸AR20ä¹‹é—´é€šè¿‡tunnelç›¸é€šï¼›&lt;br&gt;
ç°åœ¨ç¯å¢ƒä¸­çš„IPV6 CLIENT 13ã€IPV6 CLIENT 9 ã€IPV6 CLIENT16æ— æ³•å®ç°äº’ç›¸é€šä¿¡ï¼Œè¯·è§£å†³ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. site3--ä¸¤ä¸ªé‚»å±…å’ŒT0/0/100æ˜¯åœ¨ospfv3çš„åŒºåŸŸ0ä¸­ã€AR18ä¸AR20ç›¸è¿çš„ä¸²å£å®£å‘Šåœ¨åŒºåŸŸ0ã€‘
2. site2--ä¸¤ä¸ªé‚»å±…æ˜¯åœ¨ospfv3çš„åŒºåŸŸ1ä¸­ã€AR11ä¸AR20ç›¸è¿çš„ä¸²å£å®£å‘Šåœ¨åŒºåŸŸ1ã€‘
3. AR18çš„ipv6åœ°å€é…ç½®é”™è¯¯
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;10-bgp&#34;&gt;10. BGP&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-3962275&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-3962275&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦æ±‚AS100ä¸­AR12çš„loopback0å£èƒ½å¤Ÿè®¿é—®AS200ä¸­çš„AR9çš„loopback0å£ï¼›ä½†æ˜¯ç°åœ¨ä¸¤ä¸ªloopbackå£åœ°å€æ— æ³•è®¿é—®ï¼›è¯·è§£å†³è¯¥é—®é¢˜ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;11-nat&#34;&gt;11. NAT&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-748863&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-748863&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site5ä¸­é€šè¿‡å®‰å…¨æ¥å…¥ASï¼Œclient11ç°åœ¨æ— æ³•é€šè¿‡ç½‘å…³AR27è®¿é—®åˆ°å…¬ç½‘AS100ã€AS200ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. AR9çš„s3/0/0æ¥å£å®£å‘Šè¿›ISIS 200
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;12-dhcp&#34;&gt;12. DHCP&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9129768&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9129768&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site2ä¸­ï¼ŒAR10 AR11æ˜¯DHCPæœåŠ¡å™¨å¹¶ä¸”ç›¸äº’å¤‡ä»½ï¼Œè¦æ±‚CLIENT7èƒ½é€šè¿‡DHCPæœåŠ¡å™¨è·å–åˆ°åœ°å€10.2.129.100ï¼›&lt;br&gt;
è¦æ±‚CLIENT8åªèƒ½è·å–æŒ‡å®šåœ°å€ä¸º10.2.129.101ï¼›&lt;br&gt;
ç°åœ¨CLIENT8æœ‰æ—¶æ— æ³•è·å–åœ°å€ï¼Œè¯·è§£å†³ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;13-ospf&#34;&gt;13. OSPF&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-1858775&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-1858775&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AS100ä¸­æ‰€æœ‰è®¾å¤‡éƒ½è¿è¡Œäº†OSPFï¼Œä½†æ˜¯éƒ¨åˆ†è®¾å¤‡çš„é‚»å±…å…³ç³»æœ‰é—®é¢˜ï¼Œè§£å†³æ­¤é—®é¢˜ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;14-msdp&#34;&gt;14. msdp&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-867428&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-867428&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AS100ä¸AS200è¦éƒ¨ç½²åŸŸé—´ç»„æ’­ï¼›&lt;br&gt;
AR7æ˜¯AS100ä¸­çš„RPï¼ŒAR9æ˜¯AS200ä¸­çš„RPï¼›&lt;br&gt;
AS100ä¸­AR22ä¸Šæœ‰ä¸€å°è§†é¢‘æœåŠ¡å™¨ï¼ŒAS200ä¸­AR23ä¸Šæœ‰ä¸€ä¸ªç»„æ’­æ¥æ”¶è€…è¦åŠ å…¥ç»„239.1.1.1ï¼Œç°åœ¨å®¢æˆ·æ— æ³•æ”¶åˆ°ç»„æ’­æ•°æ®ï¼Œæ— æ³•è§‚çœ‹ç›¸åº”çš„è§†é¢‘ï¼›è¯·è§£å†³è¯¥é—®é¢˜ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. AS200ä¸­çš„AR9å’ŒAS100ä¸­çš„AR7çš„msdp
2. AR22ä¸‹è”æ¥å£åˆ é™¤igmpï¼ŒAR23ä¸‹è”æ¥å£å…ˆå¼€å¯pim smï¼Œå†å¼€å¯igmpï¼Œä½†ä¸åŠ ç»„
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;15-qos&#34;&gt;15. QoS&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-6346526&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-6346526&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Site3ä¸­AR20ä¸Šä¸€ä¸ªç”¨æˆ·ï¼ˆ loopback0æ¨¡æ‹Ÿï¼‰å’ŒAR18çš„ä¸€ä¸ªç”¨æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰è¦è¿›è¡Œè¯­éŸ³é€šä¿¡ï¼Œä½¿ç”¨çš„éŸ³é¢‘ç¼–ç G.711ï¼Œæ¯è·¯è¯­éŸ³éœ€è¦64Kbpsçš„å¸¦å®½ï¼Œç›®å‰ä»AR20åˆ°AR18çš„è¯­éŸ³è´¨é‡ä¸å¤Ÿå¥½ï¼Œéœ€è¦åœ¨AR19ä¸Šéƒ¨ç½²QOSï¼›&lt;br&gt;
ä»¥ä¿è¯è¯­éŸ³æµé‡çš„æœåŠ¡è´¨é‡ï¼ˆåå‘æµé‡ä¸è¦æ±‚ï¼‰ï¼›&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;16-ipv6-bgp&#34;&gt;16. IPv6 BGP&lt;/h2&gt;
&lt;ul class=&#34;contains-task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input class=&#34;task-list-item-checkbox&#34; checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34; id=&#34;task-item-9159548&#34;&gt;&lt;label class=&#34;task-list-item-label&#34; for=&#34;task-item-9159548&#34;&gt; å·²å®Œæˆ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AS200ä¸­AR9 AR4 AR5ä¸Šé¢å„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼ŒAS100ä¸­æœ‰AR2 AR7ä¸Šå„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼Œè¦æ±‚è¿™å‡ ä¸ªç«™ç‚¹éƒ½èƒ½äº’é€šï¼Œå¹¶ä¸”è¦æ±‚åŒå‘è·¯å¾„è¦ä¼˜é€‰AR2-AR4ä¹‹é—´çš„é“¾è·¯ï¼Œä¸€æ—¦ä¸»ç”¨é“¾è·¯å‡ºç°é—®é¢˜åœ¨ä½¿ç”¨å¤‡ç”¨é“¾è·¯AR2-AR5ï¼›&lt;br&gt;
ç°åœ¨è¿™å‡ ä¸ªç«™ç‚¹ä¹‹é—´çš„äº’é€šå­˜åœ¨éƒ¨åˆ†é—®é¢˜ï¼Œè¯·è§£å†³ï¼›&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. AS100--AR7çš„bgp100ä¸­å®£å‘Šlo1çš„IPv6åœ°å€
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTS_PlanBè¦æ±‚æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-lab-ts_planb-cuo-dian-zheng-li/"" data-c="
          &lt;p&gt;è§£é¢˜çš„æ­¥éª¤æ€»ç»“å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹å…¨å±€é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å±€éƒ¨æ˜¾ç¤ºé…ç½®å‘½ä»¤
dis th # åœ¨å…¨å±€æ¨¡å¼ä¸‹æ‰§è¡Œ
# æŸ¥çœ‹å½“å‰è®¾å¤‡æ‰€æœ‰é…ç½®
display  current-configuration
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æŸ¥çœ‹åè®®é…ç½®ï¼ˆæœ‰è¿‡æ»¤è§„åˆ™éœ€è¦æŸ¥çœ‹ç›¸åº”çš„è¿‡æ»¤è§„åˆ™ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;dis cu conf stp/ospf/bgp/msdp...
dis stp instance 1 bri # stpå®ä¾‹
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æŸ¥çœ‹åè®®è¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;dis mux-vlan
dis eth-trunk 12
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æŸ¥çœ‹æ¥å£é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;dis cu int g0/0/0...
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mstpeth-trunkbgp-adv&#34;&gt;MSTP+Eth-Trunk+BGP ADV&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ä¸­ï¼ŒCLIENT1å±äºVLAN12ï¼ŒCLIENT2å±äºVLAN34ï¼›MSTPä¸­çš„VLAN12å±äºinstance1ï¼Œvlan34å±äºinstance2ï¼›ä¸¤ä¸ªinstanceçš„ä¸»å¤‡æ ¹æ¡¥åˆ†åˆ«åœ¨SW1å’ŒSW2ä¸Šï¼Œå¹¶ä¸”è¦æ±‚CLIENT1è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW1-R1ï¼ŒCLIENT2è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW2-R1&lt;/li&gt;
&lt;li&gt;site1ä¸­ï¼ŒLSW1-LSW2ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯è¦æ±‚åšeth-trunkçš„æ†ç»‘ï¼Œå¹¶ä¸”æ­¤eth-trunkè¦æ±‚åšsrc-dst-ipè´Ÿè½½&lt;/li&gt;
&lt;li&gt;R1è®¿é—®VLAN12æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW1-LSW3ï¼Œè®¿é—®VLAN34æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW2-LSW3ï¼›åªå…è®¸åœ¨AS300ä¸­å®ç°ï¼Œå¹¶ä¸”ç¡®ä¿ä½ çš„è§£å†³æ–¹æ¡ˆä¸è¦å½±å“AS100ã€AS300ä»¥å¤–çš„å…¶ä»–AS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾å¤‡&#34;&gt;è®¾å¤‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ï¼šSW1/2/3&lt;/li&gt;
&lt;li&gt;AS100ï¼šAR1&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å»ºè®®&#34;&gt;å»ºè®®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæŸ¥çœ‹sw3ä¸Šçš„éƒ¨åˆ†å…¨å±€é…ç½®ã€stpé…ç½®ï¼Œå†æŸ¥çœ‹4ä¸ªæ¥å£çš„é…ç½®&lt;/li&gt;
&lt;li&gt;sw1ä¸sw2åŒæ—¶æ“ä½œï¼Œå…ˆæŸ¥çœ‹éƒ¨åˆ†å…¨å±€é…ç½®ï¼Œå†æŸ¥çœ‹stpé…ç½®ã€æŸ¥çœ‹æ¥å£é…ç½®ã€eth-trunké…ç½®ï¼Œæœ€åæŸ¥çœ‹bgpé…ç½®&lt;/li&gt;
&lt;li&gt;AR1ä¸Šå…ˆæŸ¥çœ‹bgpé…ç½®ï¼Œå†æŸ¥çœ‹æ¥å£é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ“ä½œ&#34;&gt;æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…¨å±€é…ç½®
# sw1
dis th
stp en
stp ins 1 root pri

dis cu conf mst

dis eth-trunk 12
int Eth-Trunk 12
dis th
load-balance src-dst-ip 
dis cu int eth-t 12

dis cu conf bgp
bgp 300
dis th # MEDç­–ç•¥é…ç½®ç»™å¤‡ä»½è·¯ç”±ï¼Œå³10.1.34.0
undo network 10.1.23.0 255.255.255.0
undo network 10.1.12.0 255.255.255.0
network 10.1.12.0 255.255.255.0   

int e0/0/21
dis th
port trunk allow vlan all  # mstpå…³é”®ç°è±¡æ­¥éª¤

# sw2
dis th

dis cu conf mst

dis eth-trunk 12
int Eth-Trunk 12
dis th
undo trunkport e0/0/18
undo trunkport e0/0/20
undo trunkport e0/0/21
mode lacp-static
load-balance src-dst-ip 
trunkport e0/0/18
trunkport e0/0/20 # å› ä¸ºint e0/0/19æœ‰é…ç½®ï¼Œæ‰€ä»¥éœ€è¦åˆ é™¤å…¶é…ç½®æ‰èƒ½æ·»åŠ 
int e0/0/19
dis th
port hybrid vlan 1
eth-trunk 12
dis cu int eth-t 12

dis cu conf bgp
bgp 300
dis th # MEDç­–ç•¥é…ç½®ç»™å¤‡ä»½è·¯ç”±ï¼Œå³10.1.12.0
network 10.1.12.0 255.255.255.0 route-policy MED 
undo network 10.1.34.0 255.255.255.0
network 10.1.34.0 255.255.255.0

int e0/0/22
dis th
port trunk allow vlan all   # mstpå…³é”®ç°è±¡æ­¥éª¤

# sw3
dis th
stp mode mstp

dis cu conf mst
    stp region-configuration # ä½¿ç”¨sw1çš„é…ç½®
    region-name HCIE
    instance 1 vlan 12
    instance 2 vlan 34
    active region-configuration

int e0/0/2
dis th
port default vlan 34
undo stp ins 2 cost
int eth 0/0/21
dis th
undo stp instance 1 cost
stp instance 2 cost 3000000
port trunk allow vlan all
int eth 0/0/22
dis th
undo stp instance 2 cost
stp instance 1 cost 8000000

# AR1
dis cu conf bgp
bgp 100
dis th
ipv4-family vpn-instance 1
undo peer 10.1.100.100   # 10.1.100.100ï¼Œ10.1.200.200çš„aså·å‡ä¸º300
peer 10.1.100.100 as-number 300

int g2/0/1
dis th
ip binding vpn-instance 1
ip address 10.1.100.1 255.255.255.0 
int g2/0/2
dis th
ip binding vpn-instance 1
ip address 10.1.200.1 255.255.255.0 

#-----------------------------------------------------
# æ£€æŸ¥
# Eth-Trunk
# SW1/2
dis eth-t 12 # WorkingMode: STATICï¼›Hash arithmetic: According to SIP-XOR-DIPï¼›e0/0/18.19.20çš„çŠ¶æ€å‡ä¸ºSelect

# BGP ADV
# AR1
dis bgp vpnv4 vpn-ins 1 peer # ä¸¤ä¸ªé‚»å±…éƒ½Established
dis bgp vpnv4 vpn-ins 1 rou # 10.1.12.0ï¼ˆ10.1.100.100çš„MEDä¸º0ï¼‰å’Œ10.1.34.0ï¼ˆ10.1.200.200çš„MEDä¸º0ï¼‰å‡å‡ºç°ä¸¤æ¡è·¯ç”±çš„è´Ÿè½½
tracert -vpn-instance 1 10.1.12.11 # 10.1.100.100--10.1.12.11
tracert -vpn-instance 1 10.1.34.22 # 10.1.200.200--10.1.34.22

# MSTP
# client1/2
tracert 10.1.1.1 #client1:10.1.12.1--10.1.1.1ï¼›client2:10.1.34.1--10.1.1.1
# SW3
dis stp bri
dis stp instance 1 bri
dis stp instance 2 bri
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;mux-vlanmpls-vpnospfbgpipv6-bgp&#34;&gt;Mux-Vlan+MPLS-VPN+OSPF+BGP+IPv6 BGP&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-2&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site4ä¸­ï¼ŒAR24ã€AR25ã€AR26åœ¨ä¸€ä¸ªç½‘æ®µä¸­ï¼ŒåŒæ—¶éƒ½è¿è¡Œäº†ISISåè®®ï¼Œè¦æ±‚AR26èƒ½å’ŒAR24ã€AR25éƒ½èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼Œä½†æ˜¯AR24ä¸AR25ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»åœ¨AR24å’ŒAR25ä¸Šè™½ç„¶èƒ½çœ‹åˆ°å½¼æ­¤çš„é‚»å±…å…³ç³»ï¼Œä½†æ˜¯ä¸æ˜¯åœ¨R26-SW8-R24-R25è¿™ä¸€ç½‘æ®µä¸Šæˆä¸ºé‚»å±…å…³ç³»ï¼Œè€Œæ˜¯åœ¨R24-R25-SW7è¿™ä¸€ç½‘æ®µä¸Šæˆä¸ºé‚»å±…ï¼Œç¬¦åˆé¢˜ç›®è¦æ±‚ã€‚é€šè¿‡LSW8çš„äºŒå±‚VLANæŠ€æœ¯ä»¥åŠå…¶ä»–è®¾å¤‡æ’é™¤é”™è¯¯ç‚¹æ¥å®ç°æ­¤è¦æ±‚ï¼Œã€æ³¨æ„ã€‘é…ç½®è¿‡ç¨‹ä¸­ä¸èƒ½åœ¨LSW8ä¸Šåˆ é™¤å’Œå¢åŠ æ–°çš„VLAN&lt;/li&gt;
&lt;li&gt;site1ä¸Site4ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨site1é‡Œçš„CLIENTæ— æ³•å’Œsite4é‡Œçš„CLIENTé€šä¿¡ï¼Œè§£å†³æ­¤é—®é¢˜ï¼Œã€æ³¨æ„ã€‘ä¸è¦åˆ é™¤ç°æœ‰é…ç½®ï¼Œå¯ä¿®æ”¹è§£å†³&lt;/li&gt;
&lt;li&gt;AS100ä¸­æ‰€æœ‰è®¾å¤‡éƒ½è¿è¡Œäº†OSPFï¼Œä½†æ˜¯éƒ¨åˆ†è®¾å¤‡çš„é‚»å±…å…³ç³»æœ‰é—®é¢˜ï¼Œè§£å†³æ­¤é—®é¢˜&lt;/li&gt;
&lt;li&gt;è¦æ±‚AS100ä¸­AR12çš„loopback0å£èƒ½å¤Ÿè®¿é—®AS200ä¸­çš„AR9çš„loopback0å£ï¼Œä½†æ˜¯ç°åœ¨ä¸¤ä¸ªloopbackå£åœ°å€æ— æ³•è®¿é—®ï¼Œè¯·è§£å†³è¯¥é—®é¢˜&lt;/li&gt;
&lt;li&gt;AS200ä¸­AR9 AR4 AR5ä¸Šé¢å„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼ŒAS100ä¸­æœ‰AR2 AR7ä¸Šå„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼Œè¦æ±‚è¿™å‡ ä¸ªç«™ç‚¹éƒ½èƒ½äº’é€šï¼Œå¹¶ä¸”è¦æ±‚åŒå‘è·¯å¾„è¦ä¼˜é€‰AR2-AR4ä¹‹é—´çš„é“¾è·¯ï¼Œä¸€æ—¦ä¸»ç”¨é“¾è·¯å‡ºç°é—®é¢˜åœ¨ä½¿ç”¨å¤‡ç”¨é“¾è·¯AR2-AR5ï¼›ç°åœ¨è¿™å‡ ä¸ªç«™ç‚¹ä¹‹é—´çš„äº’é€šå­˜åœ¨éƒ¨åˆ†é—®é¢˜ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾å¤‡-2&#34;&gt;è®¾å¤‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site4çš„SW8ã€AR26/25/24&lt;/li&gt;
&lt;li&gt;AS100çš„AR1/2/3/6/7/8/13/12&lt;/li&gt;
&lt;li&gt;AS200çš„AR9&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å»ºè®®-2&#34;&gt;å»ºè®®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åšé€šsite4ä¸­çš„mux-vlan&lt;/li&gt;
&lt;li&gt;AS100ä¸­çš„OSPF&lt;/li&gt;
&lt;li&gt;AS100ä¸­çš„BGPã€MPLS&lt;/li&gt;
&lt;li&gt;AS200ä¸­çš„ISISã€BGPã€MPLS&lt;/li&gt;
&lt;li&gt;AR1å’ŒAR23ä¹‹é—´çš„VPN&lt;/li&gt;
&lt;li&gt;AR12å’ŒAR9ä¹‹é—´çš„é€šä¿¡ï¼ˆä¸»è¦æ¶‰åŠroute-policyï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ“ä½œ-2&#34;&gt;æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-----------------------------Mux-Vlan------------------------
# åè®®è¿è¡ŒçŠ¶æ€
# sw8
dis mux-vlan
int e0/0/1
dis th
undo port mux-vlan enable
port default vlan 1
int e0/0/2
dis th
undo port mux-vlan enable
port default vlan 1
vlan 100
dis th
undo subordinate separate
undo subordinate group 50
subordinate separate 50
q
port-group group-member e0/0/1 e0/0/2
port link access
port default vlan 50
port mux-vlan enable
q

# AR24
dis cu conf isis
int g0/0/0
dis th
isis authentication-mode md5 cipher hcie
undo mtu


# AR25
dis cu conf isis
isis 100
dis th
undo domain-authentication-mode
int g0/0/0
dis th
isis authentication-mode md5 cipher hcie

# AR26
dis cu conf isis
int g0/0/0
dis th
isis authentication-mode md5 cipher hcie
isis dis-pri  127

#-----------------------------------------------------
# æ£€æŸ¥
# sw8
dis mux-vlan # 100ï¼ˆe0/0/3ï¼‰ä¸ºprincipalï¼Œ50ä¸ºéš”ç¦»å‹ä»ä¸”æœ‰ä¸¤ä¸ªæ¥å£ï¼ˆe/0/0/1å’Œe/0/0/2ï¼‰
# AR24/25/26
dis isis peer  #AR24/25/26ç›¸äº’å»ºç«‹é‚»å±…
# AR26
dis ip rou pro isis # å»å¾€10.4.128.23/24çš„ä¸¤æ¡è·¯ç”±è´Ÿè½½


#-----------------------------OSPF------------------------
# AR1
dis cu conf ospf
dis cu | in ip-pre
undo ip ip-prefix 2
ip ip-prefix 2 permit 100.1.1.2 32
ip ip-prefix 2 permit 0.0.0.0 0 less-equal 32
dis cu | in ip-pre
ospf 100
dis th
a 1
undo network 100.1.16.1 0.0.0.0
a 0 
network 100.1.16.1 0.0.0.0
dis ospf peer bri # æ­¤æ—¶AR1å’ŒAR6ã€AR2å‡å»ºç«‹é‚»å±…

# AR2ï¼ˆæ— é—®é¢˜ï¼Œé—®é¢˜å‘ç”Ÿåœ¨é‚»å±…èº«ä¸Šï¼‰
dis cu conf ospf
dis ospf peer bri 
int g0/0/0
dis th
int g0/0/1
dis th
int g0/0/2
dis th

# AR3
dis cu conf ospf
dis ospf peer bri 
int g0/0/0
dis th
undo ospf timer dead
int g0/0/1
dis th
undo ospf timer dead
dis ospf peer bri

# AR13ï¼ˆåªçœ‹100ï¼Œæ— é—®é¢˜ï¼‰
dis cu conf ospf
dis ospf peer bri

# AR8
dis cu conf ospf
ospf 100
a 0
network 100.1.78.8 0.0.0.0
dis ospf peer bri
int g0/0/1
dis th

# AR7
dis cu conf ospf
ospf 100 router-id 100.1.1.7
return
reset ospf process
y
sys
ospf 100
dis th
a 0
undo authentication-mode
dis ospf peer bri
int g0/0/1
dis th
ospf timer hello 10
dis ospf peer bri

# AR6ï¼ˆæ— é—®é¢˜ï¼‰
dis cu conf ospf
dis ospf peer bri

#-----------------------------------------------------
# æ£€æŸ¥
# AR1/2/3/13/8/7/6
dis ospf peer bri  # ç›´è¿çš„è·¯ç”±å™¨å‡ä¸ºospfé‚»å±…


#-----------------------------BGP100------------------------
# ç”±äºä»¥AR7ä¸ºåå°„ä¸­å¿ƒï¼Œæ‰€ä»¥å…ˆçœ‹AR7
# AR7
dis cu conf bgp
bgp 100
dis th
undo peer 100.1.1.12
peer 100.1.1.12 as-number 100
peer 100.1.1.12 connect-interface LoopBack0
ipv4-family unicast
dis th
peer 100.1.1.6 reflect-client
peer 100.1.1.12 reflect-client
peer 100.1.1.13 reflect-client
q
ipv6-family unicast 
network 2002:100:7:1::1 128
q
dis th
ipv4-family vpnv4
peer 100.1.1.2 reflect-client
peer 100.1.1.13 reflect-client
q
dis th
dis bgp peer # AR8/12å‡ºé—®é¢˜
int g0/0/1
dis th
mpls
mpls ldp
int g2/0/0
dis th
mpls
mpls ldp
q
dis bgp peer
dis ip rou # å¯ä»¥çœ‹åˆ°100.1.1.8æ˜¯ç›´è¿è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºlo 1ï¼Œæ­¤ç°è±¡ä¸å¯¹
undo mpls
y
mpls lsr-id 100.1.1.7
mpls
mpls ldp
int lo 1
undo ip addr
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
int g0/0/2
mpls
mpls ldp
int g2/0/0
mpls
mpls ldp
q
dis bgp peer # AR12è¿˜ä¸è¡Œ


# AR12
dis cu conf bgp
bgp 100
dis th
undo peer 100.1.1.7 connect-interface 
peer 100.1.1.7 connect-interface lo 0
ipv4-family unicast
undo reflector cluster-id 
q
dis bgp peer

#-----------------------------------------------------
# æ£€æŸ¥
# æ­¤éƒ¨åˆ†é€šè¿‡åšå®Œbgp200ä¸€èµ·æ£€æŸ¥

#-----------------------------BGP200ï¼ˆå’ŒISISï¼‰------------------------
# AR23æµ‹è¯•
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32
tracert lsp -a 200.1.1.23 ip 200.1.1.5 32 #æ­¤æ—¶ä¸é€šï¼Œè¯´æ˜AR9ä¸Šå­˜åœ¨é—®é¢˜

# AR9
dis cu | in mpls
dis ip int bri # 200.200.200.9æ˜¯lo 1çš„åœ°å€
undo mpls
mpls lsr-id 200.1.1.9
mpls
mpls ldp
q
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
int g0/0/2
mpls
mpls ldp
dis cu conf bgp  
bgp 200
dis th
undo network 200.1.1.9 255.255.255.255
ipv6-family unicast 
dis th
peer 2002:200:1:1::4 reflect-client 
peer 2002:200:1:1::5 reflect-client 

# AR4
dis cu conf isis
dis cu conf acl-basic
acl 2000
dis th
undo rule 5
rule 5 permit source 200.1.1.9 0
q
dis cu conf bgp
bgp 200
dis th
ipv4-family unicast
dis th
undo import-route isis 2000
import-route isis 200
undo network 200.1.1.4 255.255.255.255

# AR5
dis cu conf isis
dis cu conf bgp
bgp 200
dis th
ipv4-family unicast
undo network 200.1.1.5 255.255.255.255
peer 200.1.1.9 next-hop-local
q
dis th

# AR23
dis cu conf isis
isis 100
dis th
import-route bgp
dis cu conf bgp
bgp 200
dis th
ipv4-family vpn-instance 1
undo import-route isis 200
import-route isis 100
dis cu conf route-policy 
acl 2000
dis th
rule permit source 10.1.34.0 0
rule permit source 10.1.1.1 0
q
dis bgp vpnv4 all rou  # åªèƒ½æŸ¥çœ‹åˆ°10.4çš„è·¯ç”±ï¼Œæ²¡æœ‰10.1çš„è·¯ç”±ï¼Œæ­¤æ—¶å›æŸ¥AR2ä¸Šæœ‰æ²¡æœ‰
dis cu | in vpn

# AR1
dis cu | in vpn
ip vpn-instance 1
# å¦‚æœå¯ä»¥åˆ é™¤ç°æœ‰é…ç½®ï¼ŒåŠ å…¥åé¢è¿™ä¸€è¡Œï¼šundo vpn-target 200:10
vpn-target 200:100 
dis th
q
dis bgp vpnv4 all rou

# AR4
dis mpls interface
int p 5/0/0
dis th

# AR2
dis mpls interface
int p 5/0/0
dis th
mpls
# å¦‚æœæ²¡è¯´ä¸èƒ½åˆ é™¤ç°æœ‰é…ç½®ï¼Œè¿˜éœ€è¦å¦‚ä¸‹æ“ä½œ
# int g2/0/0
# dis th
# undo mpls ldp

# AR23æµ‹è¯•
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32
tracert lsp -a 200.1.1.23 ip 200.1.1.5 32 


#-----------------------------BGP------------------------ 
# AR2
dis cu conf bgp
dis cu cong route-policy
route-policy AS-PATH permit node 1 
apply as-path 100 100 additive   # åŸé¢˜ä¸­ä¸º100 200ï¼Œé‚£ä¹ˆè¿™äº›è·¯ç”±å°±æ— æ³•ä¼ é€’åˆ°as200ä¸­
acl 200
dis th
rule 25 permit source 100.1.1.7 0
rule 30 permit source 100.1.225.0 0.0.0.255 # æŠŠå…¶ä¸­çš„denyå…¨éƒ¨æ”¹ä¸ºpermit
bgp 100
dis th  # LPæ˜¯å°†å¼•å…¥çš„è·¯ç”±çš„æœ¬åœ°ä¼˜å…ˆçº§è®¾ç½®ä¸º200ï¼ŒAS-PATHæ˜¯å°†å‘å¸ƒå‡ºå»çš„è·¯ç”±æ·»åŠ è·¯å¾„å±æ€§
ipv4-family unicast
dis th
undo  peer 200.100.24.4 route-policy LP export
peer 200.100.24.4 route-policy LP import
undo peer 200.100.25.5 route-policy AS-PATH import
peer 200.100.25.5 route-policy AS-PATH export
ipv6-family unicast
dis th
undo peer 2002:200:100:24::4 route-policy LP export
peer 2002:200:100:24::4 route-policy LP import
undo peer 2002:200:100:25::5 route-policy AS-PATH import
peer 2002:200:100:25::5 route-policy AS-PATH export

#-----------------------------------------------------
# æ£€æŸ¥
# AR24/25
dis ip rou pro isis  # å·²ç»æœ‰10.1.12å’Œ10.1.34çš„è·¯ç”±
# AR26
dis ip rou pro isis # å·²ç»æœ‰10.1.12ã€10.1.34ã€10.1.1.1çš„è·¯ç”±ï¼Œå¹¶ä¸”å…¨éƒ¨ä¸ºä¸¤æ¡è·¯ç”±
# client12
tracert 10.1.12.11 # é€š
tracert 10.1.34.22 # é€š
# client 1
tracert 10.4.126.12 # é€š
# client 2
tracert 10.4.126.12 # é€š
# AR12
ping -a 100.1.1.12 200.1.1.9 # é€š
#AR9
ping -a 200.1.1.9 100.1.1.12 # é€š
# IPv6 BGP
# AR9/2
dis bgp ipv6 peer # å‡æœ‰åˆ°è¾¾AR4/5çš„é‚»å±…
# AR7
tracert ipv6 -a 2002:100:7:1::1 2002:200:9:1::1 # (lo 1åœ°å€)ç¬¬2è·³ä¸ºAR4
# AR9
tracert ipv6 -a 2002:200:9:1::1 2002:100:7:1::1 # ç¬¬1è·³ä¸ºAR4
# AR4
int p 5/0/0
shutdown
# AR7
tracert ipv6 -a 2002:100:7:1::1 2002:200:9:1::1 # ç¬¬2è·³ä¸ºAR5
# AR9
tracert ipv6 -a 2002:200:9:1::1 2002:100:7:1::1 # ç¬¬1è·³ä¸ºAR5
# AR4
int p 5/0/0
undo shutdown

&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;sham-linkvrrpdhcp&#34;&gt;Sham-Link+VRRP+DHCP&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-3&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸Site3ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨AR10ä¸AR20ä¸Šé¢çš„å®¢æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰éƒ½èƒ½äº’é€šï¼Œè¯·è§£å†³æ­¤é—®é¢˜ï¼›å¹¶ä¸”è¦æ±‚å½“AS100è¿æ¥æ­£å¸¸çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®¢æˆ·çš„æ•°æ®åŒ…é€šä¿¡å¿…é¡»ç»è¿‡AS100ï¼›ä½†æ˜¯AS100å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸¤ä¸ªç«™ç‚¹å¯ä»¥é€šè¿‡å¤‡ä»½é“¾è·¯è¿›è¡Œé€šä¿¡&lt;/li&gt;
&lt;li&gt;Site2ä¸­AR10ä¸AR11è¦ä¸ºLSW4çš„PC4æä¾›ç¬¬ä¸€è·³ç½‘å…³å†—ä½™æœåŠ¡ï¼Œè™šæ‹Ÿç½‘å…³åœ°å€ä¸º10.2.129.254å’Œ10.2.129.253ï¼›åœ¨é…ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ï¼ŒVRRPé…ç½®åçš„çŠ¶æ€ä¿¡æ¯å¦‚ä¸‹ï¼š ä¸ºäº†åŠ é€ŸVRRPçš„æ”¶æ•›ï¼Œä½¿ç”¨BFDè·Ÿè¸ªä¸Šè¡Œé“¾è·¯çŠ¶æ€ä»¥åŠVRRPçš„é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Site2ä¸­ï¼ŒAR10 AR11æ˜¯DHCPæœåŠ¡å™¨å¹¶ä¸”ç›¸äº’å¤‡ä»½ã€‚è¦æ±‚CLIENT7èƒ½é€šè¿‡DHCPæœåŠ¡å™¨è·å–åˆ°åœ°å€10.2.129.100ï¼›è¦æ±‚CLIENT8åªèƒ½è·å–æŒ‡å®šåœ°å€ä¸º10.2.129.101ï¼›ç°åœ¨CLIENT8æœ‰æ—¶æ— æ³•è·å–åœ°å€ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾å¤‡-3&#34;&gt;è®¾å¤‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2çš„AR10/11&lt;/li&gt;
&lt;li&gt;AS100çš„AR6/13&lt;/li&gt;
&lt;li&gt;Site3çš„AR20&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å»ºè®®-3&#34;&gt;å»ºè®®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;VRRP&lt;/li&gt;
&lt;li&gt;DHCP&lt;/li&gt;
&lt;li&gt;Sham-Link&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ“ä½œ-3&#34;&gt;æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-----------------------------VRRP------------------------
# AR10
dis vrrp bri
int g0/0/0 
dis th
vrrp vrid 1 authentication-mode md5 hcie
vrrp vrid 2 authentication-mode md5 hcie
vrrp vrid 2 virtual-ip 10.2.129.253
undo vrrp vrid 2 virtual-ip 10.2.129.251
vrrp vrid 1 preempt-mode timer delay 1
q
dis bfd session all
dis cu |  in bfd  # ç¼ºå°‘&amp;quot;session-name 2 increased 120&amp;quot;éœ€è¦åœ¨æ¥å£ä¸‹é…ç½®
undo bfd 2
bfd 2 bind peer-ip 10.2.129.11 source-ip 10.2.129.10 auto
int g0/0/0
vrrp vrid 2 track bfd-session session-name 2 increased 120
dis bfd session all

# AR11
dis vrrp bri
int g0/0/0 
dis th
vrrp vrid 1 authentication-mode md5 hcie
vrrp vrid 2 authentication-mode md5 hcie
vrrp vrid 2 preempt-mode timer delay 1
vrrp vrid 2 priority 200
dis bfd session all
dis cu |  in bfd
dis bfd session all

# AR6
dis bfd session all
dis cu |  in bfd
bfd 1 bind peer-ip 10.2.128.11 vpn-instance 2 source-ip 10.2.128.6 auto
dis bfd session all

#-----------------------------------------------------
# æ£€æŸ¥
# AR6/10/11
dis bfd session all # ä¸¤ä¸ªç›¸é‚»ä¼šè¯å‡å»ºç«‹
# AR10/11
dis vrrp # å¯¹ç…§é…ç½®è¦æ±‚è¿›è¡Œçº é”™

#-----------------------------DHCP------------------------
# AR10
dis cu | i pool
ip pool HCIE
dis th  # å¤åˆ¶åˆ°è®°äº‹æœ¬è¿›è¡Œä¿®æ”¹
q
undo ip pool HCIE
y
ip pool HCIE
 gateway-list 10.2.129.254 
 network 10.2.129.0 mask 255.255.255.0 
 excluded-ip-address 10.2.129.102 10.2.129.200
 static-bind ip-address 10.2.129.101 mac-address 5489-98cf-3513
 static-bind ip-address 10.2.129.100 mac-address 5489-98cf-0549 
 dns-list 8.8.8.8 
 domain-name huawei.com
q
dhcp enable
int g0/0/0
dhcp select global

# AR11
dis cu | i pool
ip pool HCIE
dis th
q
undo ip pool HCIE
y
ip pool HCIE
 gateway-list 10.2.129.253
 network 10.2.129.0 mask 255.255.255.0 
 excluded-ip-address 10.2.129.1 10.2.129.99
 static-bind ip-address 10.2.129.101 mac-address 5489-98cf-3513
 static-bind ip-address 10.2.129.100 mac-address 5489-98cf-0549 
 dns-list 8.8.8.8 
 domain-name huawei.com
q
dhcp enable
int g0/0/0
dhcp select global

# sw4
int e0/0/1
dis th  # éœ€è¦æœ‰dhcp snooping trusted
int e0/0/3
dis th # éœ€è¦æœ‰dhcp snooping trusted
int e0/0/4
dis th
port hybrid untagged vlan 1
int e0/0/5
dis th
port hybrid untagged vlan 1

#-----------------------------------------------------
# æ£€æŸ¥
# Client7/8
åŸºç¡€é…ç½®--IPv4--DHCP--åº”ç”¨
å‘½ä»¤è¡Œ--ipconfig  # 7çš„åœ°å€ä¸º10.2.129.100ï¼Œ8çš„åœ°å€ä¸º10.2.129.101


#-----------------------------Sham-Link------------------------
# Sham-Linké…ç½®åœ¨AS100ä¸­çš„AR6/13(ASBR)
# AR6
int lo 2
dis th
ip binding vpn-instance 2
ip address 100.1.136.6 255.255.255.255
dis cu conf ospf
ospf 110
dis th
a 0
undo sham-link 100.1.136.6 100.1.136.13
a 1
sham-link 100.1.136.6 100.1.136.13
q
q
dis cu conf bgp 
bgp 100
ipv4-family vpn-instance 2 
network 100.1.136.6 255.255.255.255
dis mpls ldp int

int s3/0/0
dis th
dis ospf peer bri #110ä¸Šgå£2ä¸ªé‚»å±…


# AR13
int lo 2
dis th
dis cu conf ospf
ospf 110
dis th
import bgp
a 1
undo network 100.1.136.13 0.0.0.0
undo sham-link 100.1.136.13 100.1.136.100
sham-link 100.1.136.13 100.1.136.6
q
q
dis cu conf bgp 
bgp 100
ipv4-family vpn-instance 2 
undo network 100.1.136.0 255.255.255.0
network 100.1.136.13 255.255.255.255
import-route ospf 110
dis mpls ldp int # g2/0/1æœªå¼€å¯ldp
int g2/0/1
mpls ldp

# AR10
int s3/0/0
dis th
ospf network-type broadcast
dis ospf peer bri #110ä¸Šså£ä¸¤ä¸ªé‚»å±…ï¼Œgå£1ä¸ª

# AR11
int s3/0/0
dis th
fr map ip 10.2.128.10 110 broadcast
undo ip addr
ip address 10.2.128.11 255.255.255.0
dis ospf peer bri  # 110ä¸Šså£ä¸¤ä¸ªé‚»å±…ï¼Œgå£1ä¸ª
int s3/0/1
dis th
aaa
dis th
local-user hcie password cipher hcie
int s3/0/1
dis th
dis ip int bri #  s3/0/1UP

# AR20
int s3/0/0
dis th
ppp chap password cipher hcie
ospf cost 100
dis ip int bri #  s3/0/0UP

#-----------------------------------------------------
# æ£€æŸ¥
# æµ‹è¯•lo 0æ˜¯å¦é€š
# AR10
tracert -a 10.2.1.10 10.3.1.20 #7è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 #7è·³ï¼Œé€š
# æµ‹è¯•å¤‡ä»½é“¾è·¯
# AR6
int s3/0/0
shutdown
# AR10
tracert -a 10.2.1.10 10.3.1.20 #2è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 # 2è·³ï¼Œé€š
# æ¢å¤åé“¾è·¯
# AR6
int s3/0/0
un shutdown
# AR10
tracert -a 10.2.1.10 10.3.1.20 #7è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 # 7è·³ï¼Œé€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;telnetipv6qos&#34;&gt;Telnet+IPv6+QoS&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-4&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site3ä¸­ï¼ŒAR16 AR17 AR18å¸§ä¸­ç»§ç½‘ç»œä¸­è¿è¡Œospfï¼Œä½¿ç”¨é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼›è¦æ±‚AR18èƒ½é€šè¿‡telnetè¿œç¨‹ç®¡ç†AR16ã€AR17ï¼›ç°åœ¨AR18æ— æ³•è¿œç¨‹ç®¡ç†ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›è¦æ±‚AR16çš„telnetè®¤è¯æ–¹å¼ä¸ºAAAï¼ŒAR16ä¸Šå­˜åœ¨ä¸¤ä¸ªç”¨æˆ·ï¼Œadminç”¨æˆ·çº§åˆ«ä¸º15çº§ï¼Œguestç”¨æˆ·çº§åˆ«ä¸º1çº§ï¼Œè¦æ±‚ä¸¤ä¸ªç”¨æˆ·éƒ½èƒ½è®¤è¯telnetç™»å½•ï¼›è¦æ±‚AR17çš„è®¤è¯æ–¹æ³•ä¸ºpasswordï¼›æ‰€æœ‰telnetåˆ°AR17çš„ç”¨æˆ·çº§åˆ«æ— éœ€æ±‚ï¼Œä½†æ˜¯èƒ½æ”¯æŒå‘½ä»¤è¦æ±‚æˆªå›¾ä¸€è‡´ã€‚&lt;/li&gt;
&lt;li&gt;Site2ä¸Site3é…ç½®äº†IPV6ï¼Œå¹¶ä¸”è¿è¡ŒOSPFV3åè®®ï¼›å‚ä¸çš„è®¾å¤‡æœ‰AR10ã€AR11ã€AR18ã€AR20ï¼›AR18ä¸AR20ä¹‹é—´é€šè¿‡tunnelç›¸é€šï¼›ç°åœ¨ç¯å¢ƒä¸­çš„IPV6 CLIENT 13ã€IPV6 CLIENT 9 ã€IPV6 CLIENT16æ— æ³•å®ç°äº’ç›¸é€šä¿¡ï¼Œè¯·è§£å†³&lt;/li&gt;
&lt;li&gt;Site3ä¸­AR20ä¸Šä¸€ä¸ªç”¨æˆ·ï¼ˆ loopback0æ¨¡æ‹Ÿï¼‰å’ŒAR18çš„ä¸€ä¸ªç”¨æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰è¦è¿›è¡Œè¯­éŸ³é€šä¿¡ï¼Œä½¿ç”¨çš„éŸ³é¢‘ç¼–ç G.711ï¼Œæ¯è·¯è¯­éŸ³éœ€è¦64Kbpsçš„å¸¦å®½ï¼Œç›®å‰ä»AR20åˆ°AR18çš„è¯­éŸ³è´¨é‡ä¸å¤Ÿå¥½ï¼Œéœ€è¦åœ¨AR19ä¸Šéƒ¨ç½²QOSï¼›ä»¥ä¿è¯è¯­éŸ³æµé‡çš„æœåŠ¡è´¨é‡ï¼ˆåå‘æµé‡ä¸è¦æ±‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾å¤‡-4&#34;&gt;è®¾å¤‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site2çš„AR10/11&lt;/li&gt;
&lt;li&gt;site3çš„AR16/17/18/19/20&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å»ºè®®-4&#34;&gt;å»ºè®®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Telnet&lt;/li&gt;
&lt;li&gt;IPv6&lt;/li&gt;
&lt;li&gt;Qos&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ“ä½œ-4&#34;&gt;æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-----------------------------Telnet------------------------
# AR16ï¼ˆSPOKEï¼‰
int s3/0/0
dis th
ospf dr-priority 0
undo ospf timer hello
ospf network-type broadcast
fr map ip 10.3.129.17 608 broadcast
ping 10.3.129.17
ping 10.3.129.18
aaa 
dis th
local-user admin password cipher hcie
local-user admin privilege level 15
local-user admin service-type telnet
local-user guest password cipher hcie
q
user-interface vty 0 4
dis th
authentication-mode aaa

# AR17ï¼ˆSPOKEï¼‰
int s3/0/0
dis th
ospf dr-priority 0
ping 10.3.129.16
ping 10.3.129.18
user-interface vty 0 4
dis th
user privilege level 0
set authentication password cipher hcie

# AR18ï¼ˆHUBï¼‰
int s3/0/0
dis th
undo fr inarp
ospf dr-priority 100
ospf network-type broadcast
fr map ip 10.3.129.17 807 broadcast
ping 10.3.129.16
ping 10.3.129.17

#-----------------------------------------------------
# æ£€æŸ¥
# AR18ï¼ˆè¾“å…¥å¯†ç åçš„ç•Œé¢ï¼Œä¸éœ€è¦sysï¼‰
telnet 10.3.1.16
admin
hcie
sys
q
q
telnet 10.3.1.16
guest
hcie
sys  # æŠ¥é”™æ‰å¯¹
dis local-user
q
telnet 10.3.1.17
hcie
sys   # æŠ¥é”™æ‰å¯¹
q

#-----------------------------IPv6------------------------
# AR10
dis cu conf ospfv3

# AR11
dis cu conf ospfv3
a 1
undo abr-summary 2002:10:2:131::13 128
abr-summary 2002:10:2:131::13 128

# AR18
dis cu conf ospfv3
ospfv3 1
dis th
undo silent-interface Tunnel0/0/100
int tun 0/0/100
dis th
undo ipv6 address 2002:100:101::18/64
ipv6 address 2002:100:100::18/64
undo ospfv3 1 area 0.0.0.1
ospfv3 1 area 0.0.0.0
tunnel-protocol gre # ä¸‹é¢4è¡Œé…ç½®ç›´æ¥å¤åˆ¶AR20çš„æœ€å4è¡Œï¼Œç„¶åä¿®æ”¹ä¸€ä¸‹ç›®çš„åœ°å€ä¸º20
source LoopBack0
destination 10.3.1.20
gre key 123

# AR20
dis cu conf ospfv3
ospfv3 1
dis th
undo silent-interface Tunnel0/0/100
a 1
undo abr-summary 2002:10:3:18::18 128
abr-summary 2002:10:3:18::18 128
int tun 0/0/100
dis th
undo ipv6 address FE80::18 link-local
ipv6 address FE80::20 link-local
undo ospfv3 1 area 0.0.0.1
ospfv3 1 area 0.0.0.0

#-----------------------------------------------------
# æ£€æŸ¥
# AR18/20/10/11
dis ospfv3 peer # AR18/20åœ¨a0ä¸­ä¸ºé‚»å±…ï¼›AR20\11\10åœ¨a1ä¸­ä¸ºé‚»å±…
# client13ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR10çš„g0/0/1çš„åœ°å€
ping 2002:10:3:18::16
ping 2002:10:3:209::9  # å…¨é€š
# client 9ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR20çš„g0/0/1çš„åœ°å€
ping 2002:10:3:18::16
ping 2002:10:2:131::13 # å…¨é€š
# client 16ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR18çš„g0/0/0çš„åœ°å€ï¼ŒåŒæ—¶å°†IPv6åœ°å€æœ€åä¸€ä½æ”¹ä¸º16
ping 2002:10:3:209::9
ping 2002:10:2:131::13 # å…¨é€š


#-----------------------------Qos------------------------
# AR19
dis cu  # ç„¶åå°†é…ç½®å¤åˆ¶åˆ°è®°äº‹æœ¬è¿›è¡ŒæŸ¥çœ‹ä¿®æ”¹
acl name UDP 3999  
undo rule 5
rule 1 permit udp source 10.3.1.20 0 destination 10.3.1.18 0 destination-port range 16384 32767

traffic behavior cbq
dis th
undo queue llq 
queue llq bandwidth 64

traffic behavior remark
dis th
undo remark dscp
remark dscp ef

traffic policy cbq
dis th
undo classifier match-ef
classifier match-udp behavior cbq

traffic policy remark-ef
dis th
undo classifier match-udp
classifier match-ef behavior remark

int g0/0/0  # AR20åˆ°AR18ï¼Œåå‘æµé‡æ— éœ€æ±‚ï¼Œåˆ™g0/0/0ä¸ºå…¥æ–¹å‘ï¼Œs3/0/0ä¸ºå‡ºæ–¹å‘
dis th
undo traffic-policy outbound
traffic-policy remark-ef inbound 

int s3/0/0
dis th
undo traffic-policy inbound  
traffic-policy cbq outbound

#-----------------------------------------------------
# æ£€æŸ¥
# æ­¤é¢˜åªèƒ½æ£€æŸ¥é…ç½®ï¼Œå³æµé‡æ–¹å‘ã€è§„åˆ™ç­‰
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;natmsdp&#34;&gt;NAT+msdp&lt;/h1&gt;
&lt;h2 id=&#34;è¦æ±‚-5&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site5ä¸­é€šè¿‡å®‰å…¨æ¥å…¥ASï¼Œclient11ç°åœ¨æ— æ³•é€šè¿‡ç½‘å…³AR27è®¿é—®åˆ°å…¬ç½‘AS100ã€AS200&lt;/li&gt;
&lt;li&gt;AS100ä¸AS200è¦éƒ¨ç½²åŸŸé—´ç»„æ’­ï¼›AR7æ˜¯AS100ä¸­çš„RPï¼ŒAR9æ˜¯AS200ä¸­çš„RPï¼›AS100ä¸­AR22ä¸Šæœ‰ä¸€å°è§†é¢‘æœåŠ¡å™¨ï¼ŒAS200ä¸­AR23ä¸Šæœ‰ä¸€ä¸ªç»„æ’­æ¥æ”¶è€…è¦åŠ å…¥ç»„239.1.1.1ï¼Œç°åœ¨å®¢æˆ·æ— æ³•æ”¶åˆ°ç»„æ’­æ•°æ®ï¼Œæ— æ³•è§‚çœ‹ç›¸åº”çš„è§†é¢‘ï¼›è¯·è§£å†³è¯¥é—®é¢˜ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è®¾å¤‡-5&#34;&gt;è®¾å¤‡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;AS100çš„AR22/7&lt;/li&gt;
&lt;li&gt;AS200çš„AR9&lt;/li&gt;
&lt;li&gt;site5çš„AR27&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å»ºè®®-5&#34;&gt;å»ºè®®&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;NAT&lt;/li&gt;
&lt;li&gt;msdp&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ“ä½œ-5&#34;&gt;æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-----------------------------NAT------------------------
# AR27
int s3/0/0
dis th
ppp chap password cipher hcie
q
dis cu | i  route
undo ip route-static 0.0.0.0 0.0.0.0 GigabitEthernet0/0/0
ip route-static 0.0.0.0 0.0.0.0 s3/0/0
dis cu conf acl # è§„åˆ™å·ä¸º2000
dis cu conf nat  # åœ¨æ¥å£ä¸‹è°ƒç”¨åœ°å€ç»„ï¼Œç»„å·ä¸º1
nat outbound 2000 address-group 1
q
dis nat out # æœ‰ä¸€æ¡s3/0/0

# AR9
int s3/0/0
dis th
isis enable 200
ppp authentication-mode chap
aaa
dis th
local-user hcie password cipher hcie
local-user hcie service-type ppp

#-----------------------------------------------------
# æ£€æŸ¥
ping 200.1.1.23/9/4/5
ping 100.1.1.1/2/3/6/7/8/13/21/22/12  # 1/3/6/13ä¸é€šï¼Œä¸AR2ä¸Šçš„acl 2000è§„åˆ™æœ‰å…³

#-----------------------------msdp------------------------
# AR22
int g0/0/1
dis th
undo igmp enable
undo igmp static-group 239.1.1.1
pim sm
int g0/0/0
dis th
dis ospf int  #å·²ç»å®£å‘Šè¿›ï¼Œä¸”ä¸ºDR

# AR7
dis cu conf pim
pim 
dis th
c-bsr lo 0
dis pim neighbor # ç¼ºå°‘é‚»å±…AR2
int g0/0/2
dis th
pim sm
q
dis pim neighbor # 4ä¸ªé‚»å±…é½äº†
dis pim rp # RPä¸º100.1.1.7
dis cu conf msdp
msdp
peer 200.1.1.9 password cipher hcie
dis msdp bri  # 200.1.1.9å·²ç»UP

# AR9ï¼ˆAS200é‡‡ç”¨é™æ€çš„æ–¹å¼æŒ‡å®šRPï¼‰
dis cu conf pim
pim 
dis th
static-rp 200.1.1.9
dis cu conf msdp
msdp
dis th
peer 100.1.1.7 connect-interface LoopBack0
peer 100.1.1.7 password cipher hcie
dis msdp bri  # 100.1.1.7å·²ç»UP

# AR4
dis cu conf pim
pim 
dis th
static-rp 200.1.1.9
dis pim nei # ç¼ºå°‘AR2
int p 5/0/0
dis th
pim sm
dis pim nei # AR2çš„poså£é…ç½®pim smä¹‹åé‚»å±…é½å…¨

# AR5
dis cu conf pim

# AR23
dis cu conf pim
pim 
dis th
static-rp 200.1.1.9
dis pim nei
int g0/0/1
dis th
undo igmp static-group 239.1.1.1
pim sm
igmp enable

# AR2
int p 5/0/0
dis th
pim sm
dis pim nei # AR4çš„poså£é…ç½®pim smä¹‹åé‚»å±…é½å…¨
dis cu conf acl-basic 
acl 2000
dis th
rule 30 permit source 100.1.225.0 0.0.0.255


#-----------------------------------------------------
# æ£€æŸ¥
# Client6ï¼šç»„æ’­---åŠ å…¥
# AR22ï¼šping multicast 239.1.1.1
# AR9
dis msdp sa-cache å‡ºç° (100.1.225.254, 239.1.1.1)
# AR23/9/4/2/7/21/22
dis pim routing-table #éƒ½å‡ºç° (100.1.225.254, 239.1.1.1)
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTS_PlanBé”™ç‚¹æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-shi-yan-fu-xi-ji-hua-2-ge-yue/"" data-c="
          &lt;h1 id=&#34;tsæ’é”™planb&#34;&gt;TSæ’é”™&lt;sup&gt;PlanB&lt;/sup&gt;&lt;/h1&gt;
&lt;h2 id=&#34;mstpsite1çš„sw123&#34;&gt;MSTP&lt;sub&gt;site1çš„sw1/2/3&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ä¸­ï¼ŒCLIENT1å±äºVLAN12ï¼ŒCLIENT2å±äºVLAN34&lt;/li&gt;
&lt;li&gt;MSTPä¸­çš„VLAN12å±äºinstance1ï¼Œvlan34å±äºinstance2&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªinstanceçš„ä¸»å¤‡æ ¹æ¡¥åˆ†åˆ«åœ¨SW1å’ŒSW2ä¸Š&lt;/li&gt;
&lt;li&gt;å¹¶ä¸”è¦æ±‚CLIENT1è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW1-R1ï¼ŒCLIENT2è®¿é—®R1æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯SW3-SW2-R1&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…¨å±€é…ç½®
sys
dis th
# sw1çš„stpæ˜¯å…³é—­çš„ï¼Œéœ€è¦å°†å…¶æ‰“å¼€
stp en
# sw1çš„stpæ˜¯å®ä¾‹1/2çš„å¤‡ä»½æ ¹ï¼Œéœ€è¦å°†å…¶ä¿®æ”¹ä¸ºå®ä¾‹1çš„ä¸»æ ¹
stp ins 1 root pri
# sw3çš„ç”Ÿæˆæ ‘æ¨¡å¼ä¸ºstpï¼Œéœ€è¦å°†å…¶ä¿®æ”¹ä¸ºmstp
stp mode mstp

# stpé…ç½®è¯¦æƒ…
dis current-configuration configuration mst-region
# sw3çš„å®ä¾‹ä¸vlanå¯¹åº”é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨sw1çš„é…ç½®é‡æ–°åˆ·ä¸€é
stp region-configuration
region-name HCIE
instance 1 vlan 12
instance 2 vlan 34
active region-configuration

# sw3ä¸Šstpå®ä¾‹æŸ¥çœ‹
dis stp instance 1 brief
dis stp instance 2 brief

# æ­¤æ—¶ç»“æœä¸å¯¹ï¼Œéœ€è¦å»åšEth-Trunk

# åœ¨sw3ä¸ŠæŸ¥çœ‹stpå®ä¾‹çš„é…ç½®
dis stp instance 1 brief
dis stp instance 2 brief  # stæ ¹æ¡¥ç­‰ä»ç„¶ä¸å¯¹ï¼Œéœ€è¦æŸ¥çœ‹æ¥å£é…ç½®
dis cu int eth 0/0/21
dis cu int eth 0/0/22 # åœ¨sw3ä¸Šç”±äºä¸èƒ½åˆ é™¤é…ç½®ï¼Œåˆ™éœ€è¦å°†costå€¼æ”¹ä¸ºç›¸åçš„å€¼
int eth 0/0/21
undo stp instance 1 cost
stp instance 2 cost 3000000
int eth 0/0/22
undo stp instance 2 cost
stp instance 1 cost 8000000
# æˆ–è€…
# int eth 0/0/21
# stp instance 1 cost 8000000
# int eth 0/0/22
# stp instance 2 cost 3000000

# åœ¨sw3æŸ¥çœ‹ä¸‹è”æ¥å£å±äºç›¸åº”çš„vlan
dis cu int e0/0/1  # å±äºvlan12ï¼Œæ²¡æœ‰é—®é¢˜
dis cu int e0/0/2  # æ­¤æ¥å£vlané”™è¯¯ï¼Œå¹¶ä¸”éœ€è¦åˆ é™¤é…ç½®çš„stpçš„costå€¼
int e0/0/2
port default vlan 34
undo stp ins 2 cost
# å†æ¬¡æŸ¥çœ‹stpå®ä¾‹é…ç½®
dis stp instance 1 brief
dis stp instance 2 brief 

# åœ¨client1å’Œclientä¸ŠæŸ¥çœ‹è·¯ç”±æƒ…å†µ
tracert 10.1.1.1  # åªèƒ½å‘ç°ç¬¬ä¸€æ¡å¯¹äº†ï¼Œä½†æ˜¯æ— æ³•åˆ°è¾¾ç›®çš„åœ°å€

# æ­¤æ—¶ç»“æœä¸å¯¹ï¼Œéœ€è¦å»åšBGP ADV

# åœ¨client1å’Œclient2ä¸ŠæŸ¥çœ‹è·¯ç”±æƒ…å†µ
tracert 10.1.1.1 # client1ï¼ˆ10.1.12.1--10.1.1.1ï¼‰ï¼›client2ï¼ˆ10.1.34.1--10.1.1.1ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;eth-trunksite1çš„sw12&#34;&gt;Eth-Trunk&lt;sub&gt;site1çš„sw1/2&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ä¸­ï¼ŒLSW1-LSW2ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯è¦æ±‚åšeth-trunkçš„æ†ç»‘ï¼Œå¹¶ä¸”æ­¤eth-trunkè¦æ±‚åšsrc-dst-ipè´Ÿè½½&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹eth-trunkçš„é…ç½®è¯¦æƒ…
dis eth-trunk 12
# sw1çš„è´Ÿè½½å‡è¡¡æ¨¡å¼ä¸å¯¹ï¼Œéœ€è¦ä¿®æ”¹ä¸ºsrc-dst-ipè´Ÿè½½
int Eth-Trunk 12
load-balance src-dst-ip 
# sw2çš„å·¥ä½œæ¨¡å¼å’Œç‰©ç†ç«¯å£å‡ä¸å¯¹ï¼Œéœ€è¦å·¥ä½œæ¨¡å¼ä¿®æ”¹ä¸ºlacp-staticã€è´Ÿè½½æ¨¡å¼ä¸ºsrc-dst-ipã€ç«¯å£ä¿®æ”¹ä¸ºe0/0/18~20
int Eth-Trunk 12
undo trunkport e0/0/18
undo trunkport e0/0/20
undo trunkport e0/0/21
mode lacp-static
load-balance src-dst-ip 
trunkport e0/0/18
trunkport e0/0/20
int e0/0/19 # åœ¨åŠ å…¥e0/0/19çš„æ—¶å€™æ— æ³•åŠ å…¥ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªç«¯å£æœ‰é…ç½®
port hybrid vlan 1    # æˆ–è€…åœ¨é…ç½®è§†å›¾ä¸‹æ‰§è¡Œclear conf int Ethernet0/0/19ï¼Œç„¶åæŠŠè¯¥æ¥å£undo shutdown
eth-trunk 12  # æˆ–è€…åœ¨Eth-Trunk 12é…ç½®è§†å›¾ä¸‹è¿›è¡Œæ·»åŠ 

# æŸ¥çœ‹eth-trunkå½“å‰é…ç½®ã€æ— é”™è¯¯ã€‘
dis current-configuration int eth-t 12 

# æŸ¥çœ‹sw1ä¸Šä¸sw3ç›¸è¿çš„æ¥å£é…ç½®
dis current-configuration interface Ethernet0/0/21  # ä¸å…è®¸vlan12é€šè¿‡
# éœ€è¦æ”¾è¡Œæ‰€æœ‰
int e0/0/21
port trunk allow vlan all

# æŸ¥çœ‹sw2ä¸Šä¸sw3ç›¸è¿çš„æ¥å£é…ç½®
dis current-configuration interface Ethernet0/0/22 # ä¸å…è®¸vlan34é€šè¿‡
# éœ€è¦æ”¾è¡Œæ‰€æœ‰
int e0/0/22
port trunk allow vlan all

# è¿”å›å®éªŒMSTP ï¼Œç„¶ååœ¨sw3ä¸ŠæŸ¥çœ‹stpå®ä¾‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;bgp-advas100çš„ar1è´Ÿè½½å‡è¡¡æ¶‰åŠsite1çš„sw12&#34;&gt;BGP ADV&lt;sub&gt;AS100çš„AR1ï¼Œè´Ÿè½½å‡è¡¡æ¶‰åŠsite1çš„sw1/2&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R1è®¿é—®VLAN12æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW1-LSW3ï¼Œè®¿é—®VLAN34æ—¶ç»è¿‡çš„è·¯å¾„æ˜¯R1-LSW2-LSW3&lt;/li&gt;
&lt;li&gt;åªå…è®¸åœ¨AS300ä¸­å®ç°ï¼Œå¹¶ä¸”ç¡®ä¿ä½ çš„è§£å†³æ–¹æ¡ˆä¸è¦å½±å“AS100ã€AS300ä»¥å¤–çš„å…¶ä»–AS&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹å½“å‰bgpé…ç½®
dis cu conf bgp

# AR1ä¸Šçš„vpnå®ä¾‹1ä¸­çš„é‚»å±…10.1.100.100çš„aså·ä¸º300
bgp 100
ipv4-family vpn-instance 1
undo peer 10.1.100.100
peer 10.1.100.100 as-number 300

# æŸ¥çœ‹ä¸‹è”æ¥å£é…ç½®
dis cu int g2/0/1
dis cu int g2/0/2
# g2/0/1ç»‘å®šçš„æ˜¯vpnå®ä¾‹2ï¼Œg2/0/2ç»‘å®šçš„æ˜¯vpnå®ä¾‹3ï¼Œå‡éœ€è¦ä¿®æ”¹ä¸ºå®ä¾‹1
int g2/0/1
ip binding vpn-instance 1
ip address 10.1.100.1 255.255.255.0 
int g2/0/2
ip binding vpn-instance 1
ip address 10.1.200.1 255.255.255.0 

# æŸ¥çœ‹vpnå®ä¾‹1çš„é‚»å±…çŠ¶å†µ
dis bgp vpnv4 vpn-ins 1 peer # ä¸¤ä¸ªé‚»å±…éƒ½Established

# æŸ¥çœ‹è·¯ç”±æƒ…å†µ
dis bgp vpnv4 vpn-ins 1 rou
# æ­¤æ—¶èƒ½å¤ŸæŸ¥çœ‹åˆ°10.1.12.0/24çš„è·¯ç”±åªæœ‰1æ¡è·¯å¾„ï¼Œ10.1.34.0/24çš„è·¯ç”±æœ‰2æ¡è·¯å¾„ã€‚éœ€è¦å¯¹10.1.12.0/24è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œå³æ­¤æ¡è·¯ç”±ä¹Ÿéœ€è¦æœ‰ä¸¤æ¡è·¯å¾„

# sw1
dis cu con bgp
bgp 300
dis th  
# network 10.1.23.0 255.255.255.0è¿™æ¡é…ç½®å¤šä½™ï¼Œéœ€è¦åˆ é™¤
ipv4-family unicast
undo network 10.1.23.0 255.255.255.0
# è·¯ç”±10.1.12.0å®£å‘Šæ—¶æ·»åŠ äº†ç­–ç•¥ï¼Œå¦‚æœè¦è¿›è¡Œè´Ÿè½½ï¼Œåˆ™éœ€è¦åˆ é™¤è¿™äº›è·¯ç”±ç­–ç•¥
undo network 10.1.12.0 255.255.255.0
network 10.1.12.0 255.255.255.0
# æ­¤æ—¶åœ¨AR1ä¸ŠæŸ¥çœ‹è·¯ç”±
# å¦‚æœè¿˜æ˜¯åŸæ¥çš„æ¨¡æ ·ï¼Œå¯èƒ½æ˜¯è·¯ç”±æœªæ”¶æ•›å®Œæ¯•ï¼Œä¸ç”¨ç®¡ï¼Œç»§ç»­å»æŸ¥çœ‹sw2çš„é…ç½®
# sw2
dis cu con bgp
bgp 300
dis th  
# æ­¤è¿›ç¨‹ä¸‹å°‘å®£å‘Šäº†10.1.12.0ï¼ŒåŒæ—¶éœ€è¦å»æ‰å…³äºMEDå€¼çš„ç­–ç•¥
ipv4-family unicast
network 10.1.12.0 255.255.255.0 route-policy MED
undo network 10.1.34.0 255.255.255.0
network 10.1.34.0 255.255.255.0
# æ­¤æ—¶åœ¨AR1ä¸ŠæŸ¥çœ‹è·¯ç”±
# 10.1.12.0ï¼ˆ10.1.100.100çš„MEDä¸º0ï¼‰å’Œ10.1.34.0ï¼ˆ10.1.200.200çš„MEDä¸º0ï¼‰å‡å‡ºç°ä¸¤æ¡è·¯ç”±çš„è´Ÿè½½

# è¿”å›å®éªŒMSTPï¼Œåœ¨client1/2ä¸Šæ‰§è¡Œtracert 10.1.1.1
# æ­¤æ—¶ä»Clientåˆ°ARçš„è·¯ç”±æ²¡æœ‰é—®é¢˜äº†ï¼Œéœ€è¦æŸ¥çœ‹ARåˆ°Clientçš„è·¯ç”±
# AR1
tracert -vpn-instance 1 10.1.12.11  # ï¼ˆ10.1.100.100--10.1.12.11ï¼‰
tracert -vpn-instance 1 10.1.34.22  # ï¼ˆ10.1.200.200--10.1.34.22ï¼‰

# æ­¤æ—¶è·¯ç”±æ­£ç¡®ï¼ŒMSTPã€Eth-Trunkã€BGP ADVè¿™3é¢˜å·²ç»åšå®Œ
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;mux-vlansite4çš„sw8ar262524&#34;&gt;Mux-Vlan&lt;sub&gt;site4çš„sw8ï¼ŒAR26/25/24&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site4ä¸­ï¼ŒAR24ã€AR25ã€AR26åœ¨ä¸€ä¸ªç½‘æ®µä¸­ï¼ŒåŒæ—¶éƒ½è¿è¡Œäº†ISISåè®®ï¼Œè¦æ±‚AR26èƒ½å’ŒAR24ã€AR25éƒ½èƒ½å½¢æˆé‚»å±…å…³ç³»ï¼Œä½†æ˜¯AR24ä¸AR25ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»&lt;code&gt;åœ¨AR24å’ŒAR25ä¸Šè™½ç„¶èƒ½çœ‹åˆ°å½¼æ­¤çš„é‚»å±…å…³ç³»ï¼Œä½†æ˜¯ä¸æ˜¯åœ¨R26-SW8-R24-R25è¿™ä¸€ç½‘æ®µä¸Šæˆä¸ºé‚»å±…å…³ç³»ï¼Œè€Œæ˜¯åœ¨R24-R25-SW7è¿™ä¸€ç½‘æ®µä¸Šæˆä¸ºé‚»å±…ï¼Œç¬¦åˆé¢˜ç›®è¦æ±‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡LSW8çš„äºŒå±‚VLANæŠ€æœ¯ä»¥åŠå…¶ä»–è®¾å¤‡æ’é™¤é”™è¯¯ç‚¹æ¥å®ç°æ­¤è¦æ±‚ã€‚ ã€æ³¨æ„ã€‘é…ç½®è¿‡ç¨‹ä¸­ä¸èƒ½åœ¨LSW8ä¸Šåˆ é™¤å’Œå¢åŠ æ–°çš„VLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨sw8ä¸ŠæŸ¥çœ‹mux-vlanæƒ…å†µ
dis mux-vlan
# åœ¨sw8ä¸Šï¼Œéœ€è¦åœ¨e0/0/3ä¸Šé…ç½®ä¸»vlanï¼ˆvlan 100ï¼Œprincipalï¼‰ï¼Œe/0/0/1å’Œe/0/0/2é…ç½®éš”ç¦»å‹ä»vlanï¼ˆvlan 50ï¼Œseparateï¼‰
# ç›®å‰ï¼Œåªæœ‰e0/0/2æ˜¯éš”ç¦»å‹mux-vlanï¼Œä¸ç¬¦åˆè¦æ±‚
# ç»§ç»­æŸ¥çœ‹ä¸Šè”æ¥å£e/0/0/1å’Œe/0/0/2çš„é…ç½®
dis cu int e0/0/1
dis cu int e0/0/2
dis cu int e0/0/3
# æ¢å¤ä¸Šè¿°æ¥å£åŸå§‹çŠ¶æ€
int e0/0/1
undo port mux-vlan enable
port default vlan 1
int e0/0/2
undo port mux-vlan enable
port default vlan 1
# é…ç½®ä¸»vlan
vlan 100
dis th
undo subordinate separate
undo subordinate group 50
subordinate separate 50
# é…ç½®ç«¯å£
q
port-group group-member e0/0/1 e0/0/2
port link access
port default vlan 50
port mux-vlan enable
q
# æŸ¥çœ‹sw8ä¸Šçš„mux-vlané…ç½®
dis mux-vlan # æ­¤æ—¶å·²ç»ç¬¦åˆè¦æ±‚

# åœ¨AR26ä¸Šè¿›è¡Œæµ‹è¯•
dis cu int g0/0/0
ping 10.4.129.25
ping 10.4.129.24  # ping AR24å’ŒAR25å‡èƒ½é€š
# åœ¨AR24ä¸Šè¿›è¡Œæµ‹è¯•
ping 10.4.129.26  # é€š
ping 10.4.129.25  # ä¸é€š
# åœ¨AR25ä¸Šè¿›è¡Œæµ‹è¯•
ping 10.4.129.26  # é€š
ping 10.4.129.24  # ä¸é€š
# å‡ºç°ä»¥ä¸Šç°è±¡ï¼Œè¯´æ˜mux-vlanå®éªŒå·²ç»å®Œæˆ
# ä½†æ˜¯ISISè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œä¸‹é¢è¿›è¡ŒISISæ’é”™

# AR26/25/24
dis cu conf isis
# å¯ä»¥æŸ¥çœ‹åˆ°AR25é…ç½®äº†åŸŸè®¤è¯ï¼Œå…¶ä»–ä¸¤å°å‡æ²¡æœ‰é…ç½®ï¼Œåˆ é™¤AR25çš„è®¤è¯
# åœ¨AR25ä¸Šæ‰§è¡Œ
isis 100
undo domain-authentication-mode
dis isis peer # æ­¤æ—¶å¹¶æœªæŸ¥çœ‹åˆ°g0/0/0æ¥å£ä¸Šçš„é‚»å±…
# æŸ¥çœ‹3å°è·¯ç”±å™¨çš„g0/0/0çš„æ¥å£é…ç½®
dis cu int g0/0/0 # è¿™3å°æ¥å£é…ç½®çš„æ¥å£è®¤è¯å‡ä¸ä¸€æ ·ï¼Œéœ€è¦è¿›è¡Œç»Ÿä¸€ï¼Œåˆ·ä¸€ä¸‹é…ç½®
int g0/0/0
isis authentication-mode md5 cipher hcie
# æŸ¥çœ‹é‚»å±…çŠ¶æ€
dis isis peer  #AR24å’ŒAR26æœªå»ºç«‹é‚»å±…
# AR26
int g0/0/0
dis th  # æ­¤æ¥å£ä¸‹é…ç½®äº†mtuï¼Œéœ€è¦åˆ é™¤
undo mtu 
# æŸ¥çœ‹é‚»å±…çŠ¶æ€å’Œè·¯ç”±æƒ…å†µ
dis isis peer  #AR24/25/26ç›¸äº’å»ºç«‹é‚»å±…
dis ip rou pro isis  # ä½†æ˜¯åœ¨AR26ä¸Šå»å¾€AR23ï¼ˆ10.4.128.0/24ï¼‰çš„ä¸¤æ¡è·¯ç”±å¹¶ä¸æ˜¯è´Ÿè½½çš„
# å› ä¸ºAR26æ˜¯hubï¼ŒAR25/26ä¸ºä¸¤ä¸ªspokeï¼Œåˆ™éœ€è¦ä¿®æ”¹AR26çš„ä¼˜å…ˆçº§ï¼Œä¿è¯å…¶ä¸ºDIS
# ï¼ˆå¦‚æœå·²ç»é€‰æ‹©AR26ä¸ºDISï¼Œå¯èƒ½çœ‹åˆ°å·²ç»è´Ÿè½½ï¼Œä½†æ˜¯ä¸‹é¢è¿™ä¸€æ­¥å¿…é¡»åšï¼Œä»¥é˜²ä¸‡ä¸€ï¼‰
# AR26
int g0/0/0
isis dis-pri  127  # è¿™ä¸€æ­¥æ˜¯ä¸ºä¸‹ä¸€ä¸ªå®éªŒMPLS-VPNåšå‡†å¤‡
# æŸ¥çœ‹è·¯ç”±æƒ…å†µ
dis ip rou pro isis # å·²ç»å®ç°å»å¾€10.4.128.23/24çš„ä¸¤æ¡è·¯ç”±çš„è´Ÿè½½
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;mpls-vpnå’Œospfas100çš„ar12367813-as200çš„ar23945-site4çš„ar262425&#34;&gt;MPLS-VPNï¼ˆå’ŒOSPFï¼‰&lt;sub&gt;AS100çš„AR1/2/3/6/7/8/13ã€AS200çš„AR23/9/4/5ã€site4çš„AR26/24/25&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site1ä¸Site4ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨site1é‡Œçš„CLIENTæ— æ³•å’Œsite4é‡Œçš„CLIENTé€šä¿¡ï¼Œè§£å†³æ­¤é—®é¢˜ã€‚ã€æ³¨æ„ã€‘ä¸è¦åˆ é™¤ç°æœ‰é…ç½®ï¼Œå¯ä¿®æ”¹è§£å†³&lt;/li&gt;
&lt;li&gt;ã€OSPFã€‘AS100ä¸­æ‰€æœ‰è®¾å¤‡éƒ½è¿è¡Œäº†OSPFï¼Œä½†æ˜¯éƒ¨åˆ†è®¾å¤‡çš„é‚»å±…å…³ç³»æœ‰é—®é¢˜ï¼Œè§£å†³æ­¤é—®é¢˜ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹ospfé…ç½®æƒ…å†µ
dis cu conf ospf
# AR1ä¸Šçš„ç­–ç•¥æŸ¥çœ‹
dis cu | in ip-pre  # ä¸åº”è¯¥denyæ‰100.1.1.2 32
undo ip ip-prefix 2
ip ip-prefix 2 permit 100.1.1.2 32  # å…è®¸æ¥è‡ªAR2çš„è·¯ç”±
ip ip-prefix 2 permit 0.0.0.0 0 less-equal 32  # å…è®¸æ‰€æœ‰
dis cu | in ip-pre
dis ospf peer bri  # æŸ¥çœ‹é‚»å±…æƒ…å†µï¼Œåªæœ‰AR2ä¸€ä¸ªé‚»å±…ï¼Œç»§ç»­æ’æŸ¥ospf
dis cu conf ospf # 100.1.16.1åº”è¯¥å®£å‘Šåœ¨åŒºåŸŸ0ä¸­
ospf 100
dis th
a 1
undo network 100.1.16.1 0.0.0.0
a 0 
network 100.1.16.1 0.0.0.0
q
dis th
dis ospf peer bri # æ­¤æ—¶AR1å’ŒAR6ã€AR2å‡å»ºç«‹é‚»å±…
# AR2
dis cu conf ospf  # æ­£å¸¸
# AR3
dis cu conf ospf  # æ­£å¸¸
# AR6
dis cu conf ospf # æ­£å¸¸
# AR7
dis cu conf ospf # router-idé”™è¯¯ï¼Œåº”è¯¥ä¸º100.1.1.7ï¼›åŒºåŸŸ0æœ‰è®¤è¯ï¼Œéœ€è¦å»æ‰
ospf 100 router-id 100.1.1.7
return
reset ospf pr
y
ospf 100
a 0
undo authentication-mode  
dis ospf peer bri # æ­¤æ—¶AR7å’ŒAR2\6\21å‡å»ºç«‹é‚»å±…ï¼Œä½†æ˜¯å’ŒAR8è¿˜æ²¡æœ‰å»ºç«‹é‚»å±…ï¼Œæ¥ä¸‹æ¥æŸ¥çœ‹å¯¹åº”æ¥å£
dis cu int g0/0/1  # æ­¤æ¥å£ä¸‹é…ç½®äº†ospfçš„helloå’Œdeadæ—¶é—´ï¼ŒæŸ¥çœ‹AR8ä¸‹é¢æ˜¯å¦é…ç½®
# AR8
dis cu int g0/0/1  # æ­¤æ¥å£ä¸‹æ²¡æœ‰é…ç½®ospfçš„helloå’Œdeadæ—¶é—´ï¼Œéœ€è¦åˆ é™¤AR7ç›¸åº”é…ç½®
# AR7
int g0/0/1
ospf timer hello 10  # ä¿®æ”¹helloæ—¶é—´ä¸ºé»˜è®¤ï¼Œåˆ™deadæ—¶é—´ä¹Ÿä¼šç›¸åº”çš„ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥undoæ‰
# æŸ¥çœ‹æ¥å£æ˜¯å¦å®£å‘Š
dis ospf int  # å¯ä»¥çœ‹åˆ°100.1.78.7å·²ç»å®£å‘Šï¼Œå†å»AR8ä¸ŠæŸ¥çœ‹
# AR8
dis ospf int # 100.1.78.8æ²¡æœ‰å®£å‘Šï¼Œéœ€è¦è¿›è¡Œå®£å‘Š
ospf 100
a 0
network 100.1.78.8 0.0.0.0
dis ospf peer bri   # æ­¤æ—¶AR8å’ŒAR3\7\13å‡å»ºç«‹é‚»å±…ï¼Œå»AR7ä¸Šç¡®è®¤
# AR7
dis ospf peer bri  # æ­¤æ—¶AR7å’ŒAR2\8\6\21å‡å»ºç«‹é‚»å±…
# AR3
dis ospf peer bri # å’ŒAR8\13å»ºç«‹é‚»å±…ï¼Œä½†æ˜¯ç¼ºå°‘AR2
dis cu int g0/0/1 # æ­¤æ¥å£ä¸‹é…ç½®äº†deadæ—¶é—´ï¼Œå»AR2ç›¸åº”æ¥å£ä¸‹æŸ¥çœ‹
# AR2
dis cu int g0/0/1  # æ­¤æ¥å£ä¸‹æœªé…ç½®deadæ—¶é—´ï¼Œéœ€è¦å»æ‰AR3ä¸Šçš„deadæ—¶é—´
# AR3
int g0/0/0
undo ospf timer dead  # æ­¤æ­¥è¯¯æ“ä½œ
int g0/0/1
undo ospf timer dead
dis ospf peer bri # æ­£å¸¸å’ŒAR2\8\13å»ºç«‹é‚»å±…
# æ­¤æ—¶AR1\2\3\13\6\7\8ä¹‹é—´å‡å·²å»ºç«‹ospfé‚»å±…å…³ç³»ï¼ŒAR7æ˜¯ä¸­å¿ƒï¼Œä¹Ÿæ˜¯è·¯ç”±åå°„å™¨

# æŸ¥çœ‹AR7ä¸Šçš„bgpé‚»å±…æƒ…å†µ
dis bgp peer  # å¯ä»¥æŸ¥çœ‹åˆ°R8ï¼ˆIdleï¼‰æœªèƒ½Established
ping -a 100.1.1.7 100.1.1.8  # é€š
# AR8
ping -a 100.1.1.8 100.1.1.7 # ä¸é€š
# AR7/8 
dis ospf int  # é‚»å±…æ­£å¸¸
# AR7ä¸ŠæŸ¥çœ‹è·¯ç”±è¡¨
dis ip rou # å¯ä»¥çœ‹åˆ°100.1.1.8æ˜¯ç›´è¿è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºlo 1ï¼Œæ­¤ç°è±¡ä¸å¯¹
int lo 1
dis th
undo ip address 100.1.1.8 255.255.255.255 # æ­¤åœ°å€å¼€å¯LSRï¼Œæ— æ³•å»æ‰ï¼Œéœ€è¦å…³æ‰mpls
q
dis cu | in mpls
undo mpls
y
mpls lsr-id 100.1.1.7
mpls
mpls ldp
int lo 1
undo ip addr
dis bgp peer # æŸ¥çœ‹100.1.1.8é‚»å±…æƒ…å†µ
# æ¥ä¸‹æ¥é…ç½®mpls
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
int g0/0/2
mpls
mpls ldp
q
dis bgp vpnv4 all peer # æ­¤æ—¶æœ‰AR1/2/6/13çš„é‚»å±…
bgp 100
dis th # å¯ä»¥æŸ¥çœ‹åˆ°åªæœ‰AR1\6é…ç½®äº†åå°„å®¢æˆ·ç«¯ï¼ŒAR2\13éœ€è¦ç›¸åº”çš„é…ç½®
ipv4-family vpnv4
peer 100.1.1.2 reflect-client
peer 100.1.1.13 reflect-client

# AR23
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32
tracert lsp -a 200.1.1.23 ip 200.1.1.5 32 #æ­¤æ—¶ä¸é€šï¼Œè¯´æ˜AR9ä¸Šå­˜åœ¨é—®é¢˜
# AR9
dis cu | in mpls  # mplsçš„lsr-idä¸º200.200.200.9
dis ip int bri # æ˜¯lo 1çš„åœ°å€
undo mpls
mpls lsr-id 200.1.1.9
mpls
mpls ldp
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
int g0/0/2
mpls
mpls ldp # å†å»AR23ä¸Štracert
# AR23
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32 # ä¸é€š
tracert lsp -a 200.1.1.23 ip 200.1.1.5 32 # é€š
# æ’æŸ¥AR4
dis cu con isis # æ­£å¸¸ï¼Œä½†æ˜¯å¯ä»¥çœ‹åˆ°å¼•ç”¨äº†ä¸€æ¡è¿‡æ»¤å™¨
dis cu conf acl-basic  #  å¯ä»¥çœ‹åˆ°å°†æ¥è‡ª200.1.1.9çš„æ•°æ®denyäº†ï¼Œéœ€è¦å»æ‰è¿™æ¡è§„åˆ™
acl 2000
undo rule 5
rule 5 permit source 200.1.1.9 0
dis th # å†å»AR23æµ‹è¯•
# AR23
tracert lsp -a 200.1.1.23 ip 200.1.1.4 32 # é€š

# AR4/5/9
dis cu con bgp
# AR4ä¸Šbgpå¼•å…¥isisçš„è·¯ç”±æ˜¯ï¼Œè¿›ç¨‹å·å†™çš„2000ï¼Œåº”è¯¥ä¸º200
bgp 200
ipv4-fa uni
undo import-route isis 2000
import-route isis 200  # å› ä¸ºå¼•å…¥isisè·¯ç”±äº†ï¼Œå®£å‘Š200.1.1.4åˆ™æ˜¯å¤šä½™çš„
undo network 200.1.1.4 255.255.255.255
# AR5
bgp 200
ipv4-fa uni
undo network 200.1.1.5 255.255.255.255
ipv4-fa vpnv4
peer 200.1.1.9 next-hop-local  # AR4å’ŒAR5å‡ä¸ºè¾¹ç•Œè®¾å¤‡ï¼Œæ‰€æœ‰åˆ°è¾¾AR9å‡éœ€è¦è®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘
# AR9
bgp 200
ipv4-fa uni
undo network 200.1.1.9 255.255.255.255
dis bgp rou # æ­¤æ—¶å¯ä»¥çœ‹åˆ°å»å¾€100.1.1.2/8/4/5/23ç­‰ï¼ˆæ‰€æœ‰çš„è·¯ç”±ï¼‰çš„è·¯ç”±å‡æœ‰ä¸¤æ¡
# AR23ä½œä¸ºè¾¹ç•Œï¼Œéœ€è¦æŸ¥çœ‹æ˜¯å¦è·¯ç”±åŒå‘é‡å‘å¸ƒ
dis cu conf isis # isis100æ²¡æœ‰å¼•å…¥bgp
isis 100
import-route bgp
dis cu conf bgp
bgp 200
ipv4-f vpn-i 1
undo import-route isis 200
import-route isis 100
dis cu conf route-policy  # æŸ¥çœ‹è§„åˆ™ç´¢å¼•
dis cu conf acl  # å¯ä»¥çœ‹åˆ°åªé€šè¿‡10.1.12.0ï¼Œè¿˜éœ€è¦å…è®¸10.1.34.0
acl 2000
rule permit source 10.1.34.0 0
rule permit source 10.1.1.1 0  # AR1ä¸Šçš„lo1ï¼Œè¿™ä¸ªä¹Ÿç»‘å®šäº†vpnå®ä¾‹1
dis bgp vpnv4 all rou  # åªèƒ½æŸ¥çœ‹åˆ°10.4çš„è·¯ç”±ï¼Œæ²¡æœ‰10.1çš„è·¯ç”±ï¼Œæ­¤æ—¶å›æŸ¥AR2ä¸Šæœ‰æ²¡æœ‰
# AR2
dis bgp vpnv4 all rou # AR2ä¸Šè·¯ç”±æ˜¯å…¨çš„ï¼ŒæŸ¥çœ‹AR9
# AR9
dis bgp vpnv4 all rou  # AR9ä¸Šè·¯ç”±æ˜¯å…¨çš„ï¼Œæœ€åç¡®è®¤é—®é¢˜è¿˜æ˜¯åœ¨AR23ä¸Š
# AR23
dis cu | in vpn  # å¯ä»¥æŸ¥çœ‹åˆ°vpnå®ä¾‹1ä¸­çš„vpn-targetå‡ä¸º200:100ã€dis cu conf vpn-instanceã€‘
# ç„¶åæŸ¥çœ‹AR1
ip vpn 1
dis th  # å¯¼å‡ºä¸º200:10ï¼Œå¯¼å…¥ä¸º200:10ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ 200:100çš„é…ç½®
vpn-target 200:100 
# AR1
dis bgp vpnv4 all rou # AR1ä¸Šå·²ç»æœ‰10.1.12å’Œ10.1.34çš„è·¯ç”±
# AR23
dis bgp vpnv4 all rou # AR23ä¸Šå·²ç»æœ‰10.1.12å’Œ10.1.34çš„è·¯ç”±
# AR26
dis ip rou pro isis # AR26ä¸Šä»ç„¶æ²¡æœ‰10.1.12å’Œ10.1.34çš„è·¯ç”±ï¼Œä¸»è¦åŸå› æ˜¯AR2ä¸Šçš„poså£æ²¡æœ‰å®£å‘Šmplsï¼Œä½†æ˜¯AR4ä¸Šå·²ç»å®£å‘Šäº†
# AR4
dis mpls int
dis cu p 5/0/0
# AR2
dis mpls interface
dis cu p 5/0/0
int p 5/0/0/
mpls
# AR24
dis ip rou pro isis  # å·²ç»æœ‰10.1.12å’Œ10.1.34çš„è·¯ç”±
# AR26
dis ip rou pro isis  # å·²ç»æœ‰10.1.12ã€10.1.34ã€10.1.1.1çš„è·¯ç”±ï¼Œå¹¶ä¸”å…¨éƒ¨ä¸ºè´Ÿè½½ï¼ˆä¸¤æ¡è·¯ç”±ï¼‰ã€å¦‚æœæ­¤å¤„ä¸å¯¹ï¼Œéœ€è¦åœ¨AR23ä¸Šæ‰§è¡Œisis 100ï¼›isis dis-pri 127ã€‘
# client12
tracert 10.1.12.11 # é€š
tracert 10.1.34.22 # é€š
# client 1
tracert 10.4.126.12 # é€š
# client 2
tracert 10.4.126.12 # é€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;sham-linksite2çš„ar1011as100çš„ar613site3çš„ar20&#34;&gt;Sham-link&lt;sub&gt;Site2çš„AR10/11ï¼ŒAS100çš„AR6/13ï¼ŒSite3çš„AR20&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸Site3ä¸ºåŒä¸€ä¸ªVPNå®¢æˆ·çš„ä¸¤ä¸ªç«™ç‚¹ï¼Œç°åœ¨AR10ä¸AR20ä¸Šé¢çš„å®¢æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰éƒ½èƒ½äº’é€šï¼Œè¯·è§£å†³æ­¤é—®é¢˜ï¼›&lt;/li&gt;
&lt;li&gt;å¹¶ä¸”è¦æ±‚å½“AS100è¿æ¥æ­£å¸¸çš„æ—¶å€™ï¼Œä¸¤ä¸ªå®¢æˆ·çš„æ•°æ®åŒ…é€šä¿¡å¿…é¡»ç»è¿‡AS100ï¼›&lt;/li&gt;
&lt;li&gt;ä½†æ˜¯AS100å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œä¸¤ä¸ªç«™ç‚¹å¯ä»¥é€šè¿‡å¤‡ä»½é“¾è·¯è¿›è¡Œé€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹AR13/6çš„lo2åœ°å€
# AR6
dis cu int lo 2  # åœ°å€é…ç½®é”™
int lo 2
ip binding vpn-instance 2
ip address 100.1.136.6 255.255.255.255
# AR13
dis cu int lo 2  # æ­£å¸¸
# AR13/6
dis cu conf ospf  # å¯ä»¥AR13çœ‹åˆ°sham-linkåœ¨è¿›ç¨‹110ä¸‹çš„åŒºåŸŸ1ä¸­ï¼Œä½†æ˜¯AR6å´å®£å‘Šåœ¨åŒºåŸŸ0ä¸­ï¼Œéœ€è¦ä¿®æ”¹ï¼›AR13çš„åŒºåŸŸ1ä¸­å®£å‘Šäº†100.1.136.13ä¸”sham-linkçš„ç›®çš„åœ°å€ä¸º100.1.136.6ï¼Œè¿™ä¸ªéœ€è¦åˆ é™¤ï¼ˆå¼•èµ·ç½‘ç»œéœ‡è¡ï¼‰
# AR6
ospf 110
a 0
undo sham-link 100.1.136.6 100.1.136.13
a 1
sham-link 100.1.136.6 100.1.136.13 # lo 2çš„åœ°å€
dis ospf sham-link  # çŠ¶æ€ä»ç„¶ä¸ºDown
# AR13
ospf 110
a 1
undo network 100.1.136.13 0.0.0.0
undo sham-link 100.1.136.13 100.1.136.100
sham-link 100.1.136.13 100.1.136.6
dis ospf sham-link  # çŠ¶æ€ä»ç„¶ä¸ºDown

# AR6çš„bgpé…ç½®
dis cu conf bgp  # æ²¡é”™ï¼Œå·²ç»å°†100.1.136.6/32å®£å‘Šï¼Œå¦‚æœé…ç½®ä¸­æ²¡æœ‰å®£å‘Šåˆ™éœ€è¦å®£å‘Š
bgp 100
ipv4-family vpn 2
network 100.1.136.6 255.255.255.255
# AR13
dis cu conf bgp  # åœ°å€æ²¡é”™ï¼Œæ©ç é”™äº†
bgp 100
ipv4-family vpn 2
undo network 100.1.136.0 255.255.255.0
network 100.1.136.13 255.255.255.255
dis cu int g2/0/1 # æ­¤æ¥å£çš„ldpæ²¡æœ‰å¼€å¯
int g2/0/1
mpls ldp   
dis mpls ldp int  # å¯ä»¥æŸ¥çœ‹åˆ°å¼€å¯ldpçš„æœ‰2/0/0å’Œ2/0/1
dis ospf sham-link  # å·²ç»æˆåŠŸupï¼Œè·å–åˆ°NeighborID
# AR6
dis ospf sham-link  # å·²ç»æˆåŠŸupï¼Œè·å–åˆ°NeighborID

# ä¸‹é¢éœ€è¦åœ¨AR6/13ä¸Šåšè·¯ç”±åŒå‘å¼•å…¥
# AR6
dis cu conf bgp # å®ä¾‹2å·²ç»å¼•å…¥ospf110çš„è·¯ç”±
dis cu conf ospf # ospf110å·²ç»å¼•å…¥BGPè·¯ç”±
# AR13 
dis cu conf bgp  #  å®ä¾‹2æ²¡æœ‰å¼•å…¥ospfè·¯ç”±
bgp 100
ipv4-family vpn-instance 2 
import-route ospf 110
dis cu conf ospf  # ospf110æ²¡æœ‰å¼•å…¥è·¯ç”±
ospf 110
import-route bgp

# æŸ¥çœ‹AR6/10/11çš„ä¸²å£é…ç½®
dis cu int s3/0/0 # AR10ç¼ºå°‘ospf network-type broadcastï¼›AR11çš„åœ°å€æ©ç ä¸º16ä½ï¼Œå…¶ä»–ä¸º24ä¸ºï¼Œfr mapæ²¡æœ‰åŠ broadcast
# AR10
int s3/0/0
ospf network-type broadcast
# AR11
int s3/0/0
undo ip address 10.2.128.11 255.255.0.0
ip address 10.2.128.11 255.255.255.0
fr map ip 10.2.128.10 110 broadcast

# æŸ¥çœ‹AR6/10/11çš„ospfé‚»å±…
dis ospf peer bri # 3ä¸ªè·¯ç”±å™¨åœ¨S3/0/0ä¸Šå‡æœ‰å…¶ä»–ä¸¤ä¸ªospfé‚»å±…ï¼ˆAR10æœ‰3ä¸ªé‚»å±…ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºg0/0/0çš„ï¼‰

# åœ¨AR10å’ŒAR20ä¸ŠæŸ¥çœ‹é‚»å±…æƒ…å†µ
dis ip rou pro ospf #AR10ä¸Šå·²ç»æœ‰10.3çš„è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºAR6çš„10.2.128.6ï¼›AR20ä¸Šå·²ç»æœ‰10.2çš„è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºAR19ä¸Š10.3.192.19

# æŸ¥çœ‹AR11/20å¤‡ä»½é“¾è·¯
dis ip int bri # AR11çš„s3/0/1å’ŒAR20çš„s3/0/0æ¥å£åè®®ä¸Šæ˜¯downçŠ¶æ€
# AR11
dis cu int s3/0/1
#AR20
dis cu int s3/0/0 # å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªæ¥å£pppçš„chapè®¤è¯æ–¹å¼ä¸ä¸€æ ·ï¼Œä¸”æ­¤æ¥å£æ²¡æœ‰é…ç½®costå€¼
# AR11
aaa
dis th
local-user hcie password cipher hcie
dis ip int bri # s3/0/1æ¥å£UP
dis ospf peer bri  #æœ‰4ä¸ªé‚»å±…
# AR20
int s3/0/0
ppp chap password cipher hcie
ospf cost 100
dis ip int bri # s3/0/0æ¥å£UP

# æµ‹è¯•lo 0æ˜¯å¦é€š
# AR10
tracert -a 10.2.1.10 10.3.1.20 #7è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 # 7è·³ï¼Œé€š
# æµ‹è¯•å¤‡ä»½é“¾è·¯
# AR6
int s3/0/0
shutdown
# AR10
tracert -a 10.2.1.10 10.3.1.20 #2è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 # 2è·³ï¼Œé€š
# AR6
int s3/0/0
un shutdown
# AR10
tracert -a 10.2.1.10 10.3.1.20 #7è·³ï¼Œé€š
# AR20
tracert -a 10.3.1.20 10.2.1.10 # 7è·³ï¼Œé€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;vrrpsite2çš„ar1011&#34;&gt;VRRP&lt;sub&gt;Site2çš„AR10/11&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸­AR10ä¸AR11è¦ä¸ºLSW4çš„PC4æä¾›ç¬¬ä¸€è·³ç½‘å…³å†—ä½™æœåŠ¡ï¼Œè™šæ‹Ÿç½‘å…³åœ°å€ä¸º10.2.129.254å’Œ10.2.129.253ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨é…ç½®æ­£ç¡®çš„æƒ…å†µä¸‹ï¼ŒVRRPé…ç½®åçš„çŠ¶æ€ä¿¡æ¯å¦‚ä¸‹ï¼š  ä¸ºäº†åŠ é€ŸVRRPçš„æ”¶æ•›ï¼Œä½¿ç”¨BFDè·Ÿè¸ªä¸Šè¡Œé“¾è·¯çŠ¶æ€ä»¥åŠVRRPçš„é‚»å±…å…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹AR10/11æ¥å£g0/0/0çš„é…ç½®
int g0/0/0
dis th  
# AR11ä¸Šæ²¡æœ‰é…ç½®vrrp1çš„éªŒè¯ï¼ŒåŒæ—¶ä¹ŸæŠŠvrrp2çš„éªŒè¯æ”¹ä¸€ä¸‹
# AR11/10
vrrp vrid 1 authentication-mode md5 hcie  
vrrp vrid 2 authentication-mode md5 hcie  
# AR10çš„vrrp2è™šæ‹ŸIPä¸å¯¹
vrrp vrid 2 virtual-ip 10.2.129.253
undo vrrp vrid 2 virtual-ip 10.2.129.251
# ç»§ç»­æŸ¥çœ‹é…ç½®
dis vrrp
# AR10çš„delay timeéœ€è¦é…ç½®ï¼Œvrrp2ç¼ºå°‘increased 120
vrrp vrid 1 preempt-mode timer delay 1
vrrp vrid 2 track bfd-session session-name 2 increased 120
# AR11çš„delay timeéœ€è¦é…ç½®ï¼ŒAR11çš„ä¼˜å…ˆçº§ä¸å¯¹
vrrp vrid 2 preempt-mode timer delay 1
vrrp vrid 2 priority 200
# æ­¤æ—¶ï¼ŒAR10ä¸Šçš„vrrp1å’ŒAR11ä¸Šçš„vrrp2æœ‰5è¡Œé…ç½®ï¼›AR10ä¸Šçš„vrrp2å’ŒAR11ä¸Šçš„vrrp1æœ‰4è¡Œé…ç½®

# æŸ¥çœ‹AR10/11/6ä¸Šçš„BFD
dis bfd se al # AR10/6ä¸Š1ä¸ªup,AR11ä¸Šä¸¤ä¸ªdown
dis cu | i bfd
# AR10å’ŒAR6ä¹‹é—´æ²¡é—®é¢˜ï¼›AR10å’ŒAR11ä¹‹é—´ï¼ŒAR10çš„bfdä¸­peer-ipé…ç½®é”™è¯¯ï¼›AR6ä¸AR11ä¹‹é—´ï¼ŒAR6ç¼ºå°‘é‚»å±…AR11çš„é…ç½®
# AR10
undo bfd 2
bfd 2 bind peer-ip 10.2.129.11 source-ip 10.2.129.10 auto
commit
# AR6
bfd 1 bind peer-ip 10.2.128.11 vpn-instance 2 source-ip 10.2.128.6 auto
commit
# æŸ¥çœ‹AR10/11/6ä¸Šçš„BFD
dis bfd se all #æ¯å°ä¸Šé¢çš„ä¸¤ä¸ªä¼šè¯éƒ½up
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;dhcpsite2çš„ar1011&#34;&gt;DHCP&lt;sub&gt;Site2çš„AR10/11&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸­ï¼ŒAR10 AR11æ˜¯DHCPæœåŠ¡å™¨å¹¶ä¸”ç›¸äº’å¤‡ä»½&lt;/li&gt;
&lt;li&gt;è¦æ±‚CLIENT7èƒ½é€šè¿‡DHCPæœåŠ¡å™¨è·å–åˆ°åœ°å€10.2.129.100ï¼›&lt;/li&gt;
&lt;li&gt;è¦æ±‚CLIENT8åªèƒ½è·å–æŒ‡å®šåœ°å€ä¸º10.2.129.101ï¼›ç°åœ¨CLIENT8æœ‰æ—¶æ— æ³•è·å–åœ°å€ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR10/11ä¸ŠæŸ¥çœ‹åœ°å€æ± 
dis cu | i pool
ip pool HCIE
dis th
# AR10çš„ç½‘å…³åœ°å€ã€ç½‘æ®µä¸å¯¹ï¼Œclient18çš„åœ°å€ä¸å¯¹ã€åˆ·é…ç½®ä¿®æ”¹ã€‘
undo ip pool HCIE
y
    ip pool HCIE
    gateway-list 10.2.129.254 
    network 10.2.129.0 mask 255.255.255.0 
    excluded-ip-address 10.2.129.102 10.2.129.200
    static-bind ip-address 10.2.129.100 mac-address 5489-98cf-0549 
    static-bind ip-address 10.2.129.101 mac-address 5489-98cf-3513 
    dns-list 8.8.8.8 
    domain-name huawei.com
q
dhcp enable
int g0/0/0
dhcp select global
# AR11
undo ip pool HCIE
y
    ip pool HCIE
    gateway-list 10.2.129.253 
    network 10.2.129.0 mask 255.255.255.0 
    excluded-ip-address 10.2.129.1 10.2.129.99 
    static-bind ip-address 10.2.129.100 mac-address 5489-98cf-0549 
    static-bind ip-address 10.2.129.101 mac-address 5489-98cf-3513 
    dns-list 8.8.8.8 
    domain-name huawei.com
q
dhcp enable
int g0/0/0
dhcp select global
# SW4
int e0/0/1
dis th
int e0/0/3
dis th
int e0/0/4
dis th 
port hybrid untagged vlan 1  # taggedä¸èƒ½undoï¼Œåªèƒ½ä½¿ç”¨untagged
int e0/0/5
dis th
port hybrid untagged vlan 1

# æµ‹è¯•
# client7/8åŸºç¡€é…ç½®--DHCP--åº”ç”¨--å‘½ä»¤è¡Œ--ipconfig  å¯ä»¥è·å¾—æ­£ç¡®çš„åœ°å€ã€é€‰æ‹©DHCPä¹‹ååˆ«å¿˜äº†åº”ç”¨ã€‘
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;telnetsite3çš„ar161718&#34;&gt;Telnet&lt;sub&gt;Site3çš„AR16/17/18&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site3ä¸­ï¼ŒAR16 AR17 AR18å¸§ä¸­ç»§ç½‘ç»œä¸­è¿è¡Œospfï¼Œä½¿ç”¨é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼›&lt;/li&gt;
&lt;li&gt;è¦æ±‚AR18èƒ½é€šè¿‡telnetè¿œç¨‹ç®¡ç†AR16ã€AR17ï¼›ç°åœ¨AR18æ— æ³•è¿œç¨‹ç®¡ç†ï¼›è§£å†³æ­¤é—®é¢˜å·²æ»¡è¶³ä»¥ä¸‹è¡¨é¡¹ï¼›&lt;/li&gt;
&lt;li&gt;è¦æ±‚AR16çš„telnetè®¤è¯æ–¹å¼ä¸ºAAAï¼ŒAR16ä¸Šå­˜åœ¨ä¸¤ä¸ªç”¨æˆ·ï¼Œadminç”¨æˆ·çº§åˆ«ä¸º15çº§ï¼Œguestç”¨æˆ·çº§åˆ«ä¸º1çº§ï¼Œè¦æ±‚ä¸¤ä¸ªç”¨æˆ·éƒ½èƒ½è®¤è¯telnetç™»å½•ï¼›&lt;/li&gt;
&lt;li&gt;è¦æ±‚AR17çš„è®¤è¯æ–¹æ³•ä¸ºpasswordï¼›æ‰€æœ‰telnetåˆ°AR17çš„ç”¨æˆ·çº§åˆ«æ— éœ€æ±‚ï¼Œä½†æ˜¯èƒ½æ”¯æŒå‘½ä»¤è¦æ±‚æˆªå›¾ä¸€è‡´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR16/17/18æŸ¥çœ‹s3/0/0çš„é…ç½®
int s3/0/0
dis th
# AR16(spoke)
ospf dr-priority 0
fr map ip 10.3.129.17 608 broadcast
undo ospf timer hello
ospf network-type broadcast

# AR17(spoke)
ospf dr-priority 0

# AR18ï¼ˆHuBï¼‰
ospf dr-priority 100
undo fr inarp
fr map ip 10.3.129.17 807 broadcast
ospf network-type broadcast

# æµ‹è¯•FR
# AR16
ping 10.3.129.18 # é€š
ping 10.3.129.17 # é€š
# AR17
ping 10.3.129.16 # é€š
ping 10.3.129.18 # é€š
# AR18
ping 10.3.129.16 # é€š
ping 10.3.129.17 # é€š

# ç»§ç»­å®Œæˆtelneté…ç½®
# AR16
aaa
dis th
local-user admin privilege level 15
local-user admin password cipher hcie
local-user guest password cipher hcie
local-user admin service-type telnet
user-interface vty 0 4
dis th
authentication-mode aaa
# æµ‹è¯•AR18
telnet 10.3.1.16
admin
hcie
q
telnet 10.3.1.16
guest
hcie
dis local-user
sys  # å› ä¸ºç­‰çº§ä¸å¤Ÿè€ŒæŠ¥é”™
q
# AR17
user-interface vty 0 4
user privilege level 0
set authentication password cipher hcie
# æµ‹è¯•AR18
telnet 10.3.1.17
hcie
sys   # å› ä¸ºç­‰çº§ä¸å¤Ÿè€ŒæŠ¥é”™
q
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ipv6site2çš„ar1011site3çš„ar1820&#34;&gt;IPv6&lt;sub&gt;site2çš„AR10/11ï¼Œsite3çš„AR18/20&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site2ä¸Site3é…ç½®äº†IPV6ï¼Œå¹¶ä¸”è¿è¡ŒOSPFV3åè®®ï¼›&lt;/li&gt;
&lt;li&gt;å‚ä¸çš„è®¾å¤‡æœ‰AR10ã€AR11ã€AR18ã€AR20ï¼›&lt;/li&gt;
&lt;li&gt;AR18ä¸AR20ä¹‹é—´é€šè¿‡tunnelç›¸é€šï¼›&lt;/li&gt;
&lt;li&gt;ç°åœ¨ç¯å¢ƒä¸­çš„IPV6 CLIENT 13ã€IPV6 CLIENT 9 ã€IPV6 CLIENT16æ— æ³•å®ç°äº’ç›¸é€šä¿¡ï¼Œè¯·è§£å†³&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR18/20/10/11
dis cu conf ospfv3
# AR18
ospfv3 1
undo silent-interface Tunnel0/0/100
int tun 0/0/100
dis th
undo ipv6 address 2002:100:101::18/64
ipv6 address 2002:100:100::18/64
undo ospfv3 1 area 0.0.0.1
ospfv3 1 area 0.0.0.0
tunnel-protocol gre
source LoopBack0
destination 10.3.1.20
gre key 123
# AR20
ospfv3 1
undo silent-interface Tunnel0/0/100
a 1
undo abr-summary 2002:10:3:18::18 128
abr-summary 2002:10:3:18::18 128
int tun 0/0/100
dis th
undo ipv6 address FE80::18 link-local
ipv6 address FE80::20 link-local
undo ospfv3 1 area 0.0.0.1
ospfv3 1 area 0.0.0.0
# AR11
ospfv3 1
a 1
undo abr-summary 2002:10:2:131::13 128
abr-summary 2002:10:2:131::13 128
# AR18/20/10/11
dis ospfv3 peer # AR18/20åœ¨a0ä¸­ä¸ºé‚»å±…ï¼›AR20\11\10åœ¨a1ä¸­ä¸ºé‚»å±…
# æµ‹è¯•
client13ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR10çš„g0/0/1çš„åœ°å€
client9ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR20çš„g0/0/1çš„åœ°å€
client16ï¼Œå°†å…¶ç½‘å…³æ”¹æˆAR18çš„g0/0/0çš„åœ°å€ï¼ŒåŒæ—¶å°†IPv6åœ°å€æœ€åä¸€ä½æ”¹ä¸º16
# client13
ping 2002:10:3:18::16
ping 2002:10:3:209::9  # å…¨é€š
# client 9
ping 2002:10:3:18::16
ping 2002:10:2:131::13 # å…¨é€š
# client 16
ping 2002:10:3:209::9
ping 2002:10:2:131::13 # å…¨é€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;bgpas100çš„ar1272-as200çš„ar9&#34;&gt;BGP&lt;sub&gt;AS100çš„AR12/7/2ã€AS200çš„AR9&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è¦æ±‚AS100ä¸­AR12çš„loopback0å£èƒ½å¤Ÿè®¿é—®AS200ä¸­çš„AR9çš„loopback0å£ï¼›ä½†æ˜¯ç°åœ¨ä¸¤ä¸ªloopbackå£åœ°å€æ— æ³•è®¿é—®ï¼›è¯·è§£å†³è¯¥é—®é¢˜ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹AR12çš„bgpæƒ…å†µ
dis bgp peer # ä¸AR7çš„é‚»å±…ä¸ºidle
dis cu conf bgp # å‘ç°peer100.1.1.7é€šè¿‡lo1å»ºç«‹ï¼Œåœ¨æŸ¥çœ‹æ¥å£æƒ…å†µï¼›åŒæ—¶éœ€è¦å»æ‰åå°„åœ°å€ç°‡
dis ip int bri # åº”è¯¥æ˜¯lo 0
bgp 100
undo peer 100.1.1.7 connect-interface
peer 100.1.1.7 connect-interface lo 0
undo reflector cluster-id
# æŸ¥çœ‹R7
bgp 100
dis th  # 100.1.1.12çš„aså·ä¸º100
undo peer 100.1.1.12
peer 100.1.1.12 as-number 100 
peer 100.1.1.12 connect-interface LoopBack0
peer 100.1.1.12 reflect-client
dis bgp peer # AR12çš„é‚»å±…establish
ping -a 100.1.1.7 100.1.1.12
# AR7
dis bgp peer # AR7å·²ç»establish
ping -a 100.1.1.12 100.1.1.7
# æŸ¥çœ‹è¾¹ç•Œè®¾å¤‡AR2æœ‰æ²¡æœ‰é’ˆå¯¹AR7åšä¸‹ä¸€è·³è‡ªæˆ‘ï¼›AR4/5æœ‰æ²¡æœ‰é’ˆå¯¹AR9åšä¸‹ä¸€è·³è‡ªæˆ‘
# AR2/4/5
dis cu conf bgp  # AR2ä¸Šæœ‰AR7çš„ä¸‹ä¸€è·³è‡ªæˆ‘ï¼›AR4/5ä¸Šæœ‰AR9çš„ä¸‹ä¸€è·³è‡ªæˆ‘
# AR9ä¸Šæœ‰æ²¡æœ‰é…ç½®R4/R5çš„åå°„å®¢æˆ·ç«¯
dis cu conf bgp # å·²ç»é…ç½®
# AR2 
dis cu conf bgp  # å‘ç°é’ˆå¯¹200.100.24.4ï¼ˆLPï¼‰å’Œ200.100.25.5ï¼ˆAS-PATHï¼‰çš„ä¸¤æ¡route-policyã€è¿™ä¸ªé”™ç‚¹ä¹Ÿæ¶‰åŠIPv6ã€‘
dis cu conf route-policy
route-policy AS-PATH permit node 1 
apply as-path 100 100 additive
dis th
acl 200
dis th
rule 25 permit source 100.1.1.7 0
rule 30 permit source 100.1.225.0 0.0.0.255 # è¿™ä¸ªæ˜¯å½±å“ç»„æ’­çš„
dis th 
bgp 100
ipv4-family unicast
undo peer 200.100.24.4 route-policy LP export
peer 200.100.24.4 route-policy LP import
undo peer 200.100.25.5 route-policy AS-PATH import
peer 200.100.25.5 route-policy AS-PATH export
ipv6-family unicast
undo peer 2002:200:100:24::4 route-policy LP export
peer 2002:200:100:24::4 route-policy LP import
undo peer 2002:200:100:25::5 route-policy AS-PATH import
peer 2002:200:100:25::5 route-policy AS-PATH export
# æµ‹è¯•
# AR12
ping -a 100.1.1.12 200.1.1.9 # é€š
#AR9
ping -a 200.1.1.9 100.1.1.12 # é€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;natsite5çš„ar27-as200çš„ar9&#34;&gt;NAT&lt;sub&gt;site5çš„AR27ã€AS200çš„AR9&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;site5ä¸­é€šè¿‡å®‰å…¨æ¥å…¥ASï¼Œclient11ç°åœ¨æ— æ³•é€šè¿‡ç½‘å…³AR27è®¿é—®åˆ°å…¬ç½‘AS100ã€AS200&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR27/AR9
int s3/0/0
dis th # ä¸¤å°è·¯ç”±å™¨çš„è®¤è¯æ–¹å¼ä¸ä¸€æ ·
# AR9
ppp authentication-mode chap
isis enable 200
aaa
dis th
local-user hcie service-type ppp
local-user hcie password cipher hcie
q

# AR27
ppp chap password cipher hcie
dis cu | i route  # å¯ä»¥æŸ¥çœ‹åˆ°é…ç½®é»˜è®¤è·¯ç”±ï¼Œæ¥å£ä¸ºg0/0/0
undo ip route-static 0.0.0.0 0.0.0.0 GigabitEthernet0/0/0
ip route-static 0.0.0.0 0.0.0.0 s3/0/0
dis cu conf acl # acl2000ä¸ºå…¨é€šè§„åˆ™
dis cu | in nat
int s3/0/0
nat outbound 2000 address-group 1
dis nat out

# æµ‹è¯•
# client11
ping 200.1.1.9 #é€š
ping 200.1.1.23 #é€š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;qossite3çš„ar19&#34;&gt;QoS&lt;sub&gt;site3çš„AR19&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site3ä¸­AR20ä¸Šä¸€ä¸ªç”¨æˆ·ï¼ˆ loopback0æ¨¡æ‹Ÿï¼‰å’ŒAR18çš„ä¸€ä¸ªç”¨æˆ·ï¼ˆloopback0æ¨¡æ‹Ÿï¼‰è¦è¿›è¡Œè¯­éŸ³é€šä¿¡ï¼Œä½¿ç”¨çš„éŸ³é¢‘ç¼–ç G.711ï¼Œæ¯è·¯è¯­éŸ³éœ€è¦64Kbpsçš„å¸¦å®½ï¼Œç›®å‰ä»AR20åˆ°AR18çš„è¯­éŸ³è´¨é‡ä¸å¤Ÿå¥½ï¼Œéœ€è¦åœ¨AR19ä¸Šéƒ¨ç½²QOSï¼›ä»¥ä¿è¯è¯­éŸ³æµé‡çš„æœåŠ¡è´¨é‡ï¼ˆåå‘æµé‡ä¸è¦æ±‚ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR19
dis cu  # å¤åˆ¶åˆ°è®°äº‹æœ¬ä¸­æŸ¥çœ‹

acl name UDP 3999  
rule 1 permit udp source 10.3.1.20 0 destination 10.3.1.18 0 destination-port range 16384 32767
undo rule 5

traffic behavior remark
dis th
undo remark dscp
remark dscp ef

traffic behavior cbq
undo queue llq 
queue llq bandwidth 64

interface Serial3/0/0
dis th
undo traffic-policy inbound  # åˆ é™¤é…ç½®çš„æ—¶å€™ä¸èƒ½åŠ è§„åˆ™åç§°ï¼Œåªèƒ½åŠ æµé‡æ–¹å‘
traffic-policy cbq outbound
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;msdpas100çš„ar227&#34;&gt;msdp&lt;sub&gt;AS100çš„AR22/7&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;AS100ä¸AS200è¦éƒ¨ç½²åŸŸé—´ç»„æ’­ï¼›&lt;/li&gt;
&lt;li&gt;AR7æ˜¯AS100ä¸­çš„RPï¼ŒAR9æ˜¯AS200ä¸­çš„RPï¼›&lt;/li&gt;
&lt;li&gt;AS100ä¸­AR22ä¸Šæœ‰ä¸€å°è§†é¢‘æœåŠ¡å™¨ï¼ŒAS200ä¸­AR23ä¸Šæœ‰ä¸€ä¸ªç»„æ’­æ¥æ”¶è€…è¦åŠ å…¥ç»„239.1.1.1ï¼Œç°åœ¨å®¢æˆ·æ— æ³•æ”¶åˆ°ç»„æ’­æ•°æ®ï¼Œæ— æ³•è§‚çœ‹ç›¸åº”çš„è§†é¢‘ï¼›è¯·è§£å†³è¯¥é—®é¢˜ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR22
int g0/0/1
dis th
undo igmp enable
undo igmp static-group 239.1.1.1
pim sm
# æŸ¥çœ‹g0/0/0æœ‰æ²¡æœ‰å®£å‘Šè¿›ospfçš„a1
dis cu int g0/0/0 # åœ°å€ä¸º100.1.212.22
dis ospf int  #å·²ç»å®£å‘Šè¿›ï¼Œä¸”ä¸ºDR

# AR7
pim
dis th
c-bsr lo 0
dis pim neighbor # ç¼ºå°‘AR2çš„é‚»å±…
int g0/0/2
dis th
pim sm
q
dis pim neighbor # 4ä¸ªé‚»å±…é½å…¨
dis pim rp # RPä¸º100.1.1.7
dis pim routing-table # æ²¡æœ‰
# AR22
ping multicast 239.1.1.1
# AR7
dis pim routing-table #å‡ºç°
msdp
dis th
peer 200.1.1.9 password cipher hcie
# AR9
msdp
dis th
peer 100.1.1.7 connect-interface LoopBack0
peer 100.1.1.7 password cipher hcie
dis msdp bri  # 100.1.1.7å·²ç»UP
# AR7
dis msdp bri  # 200.1.1.9å·²ç»UP
# AR5
pim 
dis th # static-rp 200.1.1.9æ­£ç¡®
# AR4
pim 
dis th # static-rp 100.1.1.7é”™è¯¯
static-rp 200.1.1.9
#AR9
pim 
dis th # static-rp 200.200.200.9é”™è¯¯
static-rp 200.1.1.9
# AR23
pim
static-rp 200.1.1.9
# AR4
dis pim neighbor #ç¼ºå°‘AR2çš„é‚»å±…
int p 5/0/0
dis th
pim sm
# AR2
int p 5/0/0
dis th
pim sm
dis pim neighbor # 5ä¸ªé‚»å±…
# AR4
dis pim neighbor # 3ä¸ªé‚»å±…é½äº†
# AR23
dis pim neighbor # 1ä¸ªé‚»å±…é½äº†
int g0/0/1
dis th
undo igmp static-group 239.1.1.1
pim sm
igmp enable
# client6
ç»„æ’­--åŠ å…¥
# AR22
ping multicast 239.1.1.1
# AR7/9/23
dis pim routing-table #éƒ½å‡ºç° (100.1.225.254, 239.1.1.1)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ipv6-bgpas200çš„ar9-as100çš„ar7&#34;&gt;IPv6 BGP&lt;sub&gt;AS200çš„AR9ã€AS100çš„AR7&lt;/sub&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;AS200ä¸­AR9 AR4 AR5ä¸Šé¢å„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼ŒAS100ä¸­æœ‰AR2 AR7ä¸Šå„æœ‰ä¸€ä¸ªIPV6å®¢æˆ·ç«™ç‚¹ï¼ˆloopback1æ¨¡æ‹Ÿï¼‰ï¼Œè¦æ±‚è¿™å‡ ä¸ªç«™ç‚¹éƒ½èƒ½äº’é€šï¼Œå¹¶ä¸”è¦æ±‚åŒå‘è·¯å¾„è¦ä¼˜é€‰AR2-AR4ä¹‹é—´çš„é“¾è·¯ï¼Œä¸€æ—¦ä¸»ç”¨é“¾è·¯å‡ºç°é—®é¢˜åœ¨ä½¿ç”¨å¤‡ç”¨é“¾è·¯AR2-AR5ï¼›ç°åœ¨è¿™å‡ ä¸ªç«™ç‚¹ä¹‹é—´çš„äº’é€šå­˜åœ¨éƒ¨åˆ†é—®é¢˜ï¼Œè¯·è§£å†³ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR9
bgp 200
dis th
ipv6-family unicast 
peer 2002:200:1:1::4 reflect-client 
peer 2002:200:1:1::5 reflect-client 

# AR7
bgp 100
dis th
ipv6-family unicast 
network 2002:100:7:1::1 128

# AR2ä¸Šçš„é”™è¯¯å‰é¢å·²ç»æ’é™¤ï¼Œå³å…³äºä¸¤æ¡route-policyçš„é…ç½®

# æŸ¥çœ‹
# AR9/2
dis bgp ipv6 peer # å‡æœ‰åˆ°è¾¾AR4/5çš„é‚»å±…
# AR7
tracert ipv6 -a 2002:100:7:1::1 2002:200:9:1::1 # ç¬¬2è·³ä¸ºAR4
# AR9
tracert ipv6 -a 2002:200:9:1::1 2002:100:7:1::1 # ç¬¬1è·³ä¸ºAR4
# AR4
int p 5/0/0
shutdown
# AR7
tracert ipv6 -a 2002:100:7:1::1 2002:200:9:1::1 # ç¬¬2è·³ä¸ºAR5
# AR9
tracert ipv6 -a 2002:200:9:1::1 2002:100:7:1::1 # ç¬¬1è·³ä¸ºAR5
# AR4
int p 5/0/0
undo shutdown
&lt;/code&gt;&lt;/pre&gt;
">HCIE å®éªŒTS_PlanB</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-wen-jian-jian-kong-watchdog-he-pyinotify/"" data-c="
          &lt;p&gt;åœ¨pythonä¸­æ–‡ä»¶ç›‘æ§ä¸»è¦æœ‰ä¸¤ä¸ªåº“ï¼špyinotify&lt;code&gt;ä¾èµ–äºLinuxå¹³å°çš„inotifyï¼ŒLinuxå¹³å°æ¨èä½¿ç”¨æ­¤æ¨¡å—ï¼ŒåŠŸèƒ½æ¯”watchdogå¼ºå¤§ä¸”å…¨é¢&lt;/code&gt;ã€watchdogã€‚&lt;/p&gt;
&lt;h1 id=&#34;watchdogæ¨¡å—&#34;&gt;watchdogæ¨¡å—&lt;/h1&gt;
&lt;p&gt;ä¸»è¦æœ‰3ä¸ªè§’è‰²ï¼šobserverã€event_handlerã€è¢«ç›‘æ§çš„æ–‡ä»¶å¤¹ã€‚ä¸‰è€…åŸæœ¬æ˜¯ç‹¬ç«‹çš„ï¼Œä¸»è¦é€šè¿‡&lt;code&gt;observer.schedule&lt;/code&gt;å‡½æ•°å°†ä¸‰è€…ä¸²èµ·æ¥ï¼Œobserverä¸æ–­æ£€æµ‹è°ƒç”¨å¹³å°ä¾èµ–ä»£ç å¯¹ç›‘æ§æ–‡ä»¶å¤¹è¿›è¡Œå˜åŠ¨æ£€æµ‹ï¼Œå½“å‘ç°æ”¹å˜æ—¶ï¼Œé€šçŸ¥event_handlerå¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;watchdogçš„3ä¸ªè§’è‰²&#34;&gt;watchdogçš„3ä¸ªè§’è‰²&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Observer&lt;br&gt;
ä¸»è¦ä½œç”¨æ˜¯å½“ä½œå¯åŠ¨å’Œå…³é—­ç›‘æ§ç¨‹åºï¼Œç»™äºˆæ–‡ä»¶å¤¹è·¯å¾„åï¼ŒObserverä¼šç›‘æ§æ–‡ä»¶å¤¹çš„å˜åŒ–å¹¶ä¸”åé¦ˆå˜åŒ–ã€‚&lt;br&gt;
ä½¿ç”¨&lt;code&gt;from watchdog.observers import Observer&lt;/code&gt;å‘½ä»¤å¯¼å…¥ã€‚&lt;/li&gt;
&lt;li&gt;events&lt;br&gt;
watchdogçš„åŠ¨ä½œæ¨¡å—ï¼Œå…·ä½“ä½œç”¨æ˜¯æ ¹æ®Observeræ¨¡å—åé¦ˆçš„äº‹ä»¶åˆ†é…ä¸ä¸€æ ·çš„æ“ä½œåŠ¨ä½œæ–¹æ³•ï¼Œç„¶åç¨‹åºå†ç»§æ‰¿è¿™ä¸ªæ–¹æ³•å¼€å§‹æ‰§è¡Œæ‰€éœ€çš„ä»£ç ã€‚&lt;br&gt;
ä½¿ç”¨&lt;code&gt;from watchdog.events import *&lt;/code&gt;å‘½ä»¤å¯¼å…¥ã€‚&lt;/li&gt;
&lt;li&gt;ç›‘æ§æ–‡ä»¶å¤¹è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä»£ç å®ä¾‹&#34;&gt;ä»£ç å®ä¾‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æœ¬æ¨¡å—çš„åŠŸèƒ½:&amp;lt;æ£€æµ‹æ–‡ä»¶æˆ–ç›®å½•å˜åŒ–&amp;gt;

# å¯¼å…¥watchdogå¯¹åº”æ¨¡å—
from watchdog.observers import Observer
from watchdog.events import *
# å¯¼å…¥æ—¶é—´æ¨¡å—
import time

class FileEventHandler(FileSystemEventHandler):
    # åˆå§‹åŒ–
    def __init__(self):
        FileSystemEventHandler.__init__(self)

    # ç§»åŠ¨ç›®å½•æˆ–æ–‡ä»¶
    def on_moved(self, event):
        now=time.strftime(&amp;quot;%Y-%m-%d %H:%M;%S&amp;quot;,time.localtime())
        if event.is_directory:
            print(f&amp;quot;{now} ç§»åŠ¨ç›®å½•ä»{event.src_path}åˆ°{event.dest_path}&amp;quot;)
        else:
            print(f&amp;quot;{now} ç§»åŠ¨æ–‡ä»¶ä»{event.src_path}åˆ°{event.dest_path}&amp;quot;)

    # åˆ›å»ºç›®å½•æˆ–æ–‡ä»¶
    def on_created(self, event):
        now=time.strftime(&amp;quot;%Y-%m-%d %H:%M;%S&amp;quot;,time.localtime())
        if event.is_directory:
            print(f&amp;quot;{now} åˆ›å»ºç›®å½•{event.src_path}&amp;quot;)
        else:
            print(f&amp;quot;{now} åˆ›å»ºæ–‡ä»¶{event.src_path}&amp;quot;)

    # åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶
    def on_deleted(self, event):
        now=time.strftime(&amp;quot;%Y-%m-%d %H:%M;%S&amp;quot;,time.localtime())
        if event.is_directory:
            print(&amp;quot;{now} åˆ é™¤ç›®å½•{0}&amp;quot;.format(event.src_path))
        else:
            print(&amp;quot;{now} åˆ é™¤æ–‡ä»¶{0}&amp;quot;.format(event.src_path))

    # ä¿®æ”¹ç›®å½•æˆ–æ–‡ä»¶
    def on_modified(self, event):
        now=time.strftime(&amp;quot;%Y-%m-%d %H:%M;%S&amp;quot;,time.localtime())
        if event.is_directory:
            print(&amp;quot;{now} ä¿®æ”¹ç›®å½•{0}&amp;quot;.format(event.src_path))
        else:
            print(&amp;quot;{now} ä¿®æ”¹æ–‡ä»¶{0}&amp;quot;.format(event.src_path))

if __name__ == &amp;quot;__main__&amp;quot;:
    # å®ä¾‹åŒ–Observerå¯¹è±¡
    observer = Observer()
    event_handler = FileEventHandler()
    # è®¾ç½®ç›‘å¬ç›®å½•
    dis_dir = &amp;quot;F:\è¿…é›·ä¸‹è½½&amp;quot;
    observer.schedule(event_handler,dis_dir,recursive=True) # recursive=Trueï¼Œå¯ä»¥ç›´æ¥å†™Trueï¼Œè¡¨ç¤ºé€’å½’å­ç›®å½•
    print(f&amp;quot;ç›‘æ§ç›®å½• {dis_dir}&amp;quot;)
    observer.start()
    # try:
    #     while True:
    #         # è®¾ç½®ç›‘å¬é¢‘ç‡(é—´éš”å‘¨æœŸæ—¶é—´)
    #         time.sleep(1)
    # except KeyboardInterrupt:
    #     observer.stop()
    observer.join()
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;pyinotifyæ¨¡å—&#34;&gt;pyinotifyæ¨¡å—&lt;/h1&gt;
&lt;p&gt;ä¾èµ–äºLinuxå†…æ ¸çš„inotifyåŠŸèƒ½ï¼Œinotifyæ˜¯ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„é€šçŸ¥å™¨ï¼Œå…¶é€šçŸ¥æ¥å£ä»å†…æ ¸ç©ºé—´åˆ°ç”¨æˆ·ç©ºé—´é€šè¿‡ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚&lt;br&gt;
Notifieræ˜¯pyinotifyæ¨¡å—æœ€é‡è¦çš„ç±»ï¼Œç”¨æ¥è¯»å–é€šçŸ¥å’Œå¤„ç†äº‹ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒNotifierå¤„ç†äº‹ä»¶çš„æ–¹å¼æ˜¯æ‰“å°äº‹ä»¶ã€‚&lt;br&gt;
Notifierç±»åœ¨åˆå§‹åŒ–æ—¶æ¥å—å¤šä¸ªå‚æ•°ï¼Œä½†æ˜¯åªæœ‰WatchManagerå¯¹è±¡æ˜¯å¿…é¡»ä¼ é€’çš„å‚æ•°ï¼ŒWatchManagerå¯¹è±¡ä¿å­˜äº†éœ€è¦ç›‘è§†çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä»¥åŠç›‘è§†æ–‡ä»¶å’Œç›®å½•çš„å“ªäº›äº‹ä»¶ï¼ŒNotifierç±»æ ¹æ®WatchManagerå¯¹è±¡ä¸­çš„é…ç½®æ¥å†³å®šå¦‚ä½•å¤„ç†äº‹ä»¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#!/usr/bin/env python3
 
import pyinotify

# åˆ›å»ºWatchManagerå¯¹è±¡ 
wm = pyinotify.WatchManager()
# æ·»åŠ è¦ç›‘æ§çš„ç›®å½•ï¼Œä»¥åŠè¦ç›‘æ§çš„äº‹ä»¶ï¼Œè¿™é‡ŒALL_EVENTè¡¨ç¤ºæ‰€æœ‰äº‹ä»¶         
wm.add_watch(&#39;/tmp&#39;,pyinotify.ALL_EVENTS)  
# äº¤ç»™Notifierè¿›è¡Œå¤„ç†
notifier = pyinotify.Notifier(wm)
# å¾ªç¯å¤„ç†äº‹ä»¶      
notifier.loop()                            
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;äº‹ä»¶æ ‡å¿—&#34;&gt;äº‹ä»¶æ ‡å¿—&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢åˆ—ä¸¾çš„æ˜¯äº‹ä»¶æ ‡å¿—ä½ï¼Œå¯ä»¥ç”¨&#39;ä¸&#39;æ¥å…³è”ç›‘æ§å¤šä¸ªäº‹ä»¶ï¼Œä¾‹å¦‚&lt;code&gt;multi_event = pyinotify.IN_OPEN | pyinotify.IN_CLOSE_NOWRITE&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IN_ACCESS&lt;br&gt;
è¢«ç›‘æ§é¡¹ç›®æˆ–è€…è¢«ç›‘æ§ç›®å½•ä¸­çš„æ–‡ä»¶è¢«&lt;strong&gt;è®¿é—®&lt;/strong&gt;ï¼Œæ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶è¢«è¯»å–&lt;/li&gt;
&lt;li&gt;IN_MODIFY	&lt;br&gt;
è¢«ç›‘æ§é¡¹ç›®æˆ–è€…è¢«ç›‘æ§ç›®å½•ä¸­çš„æ–‡ä»¶è¢«&lt;strong&gt;ä¿®æ”¹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_ATTRIB	&lt;br&gt;
è¢«ç›‘æ§é¡¹ç›®æˆ–è€…è¢«ç›‘æ§ç›®å½•ä¸­çš„æ–‡ä»¶çš„&lt;strong&gt;å±æ€§è¢«ä¿®æ”¹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_CLOSE_WRITE	&lt;br&gt;
ä¸€ä¸ª&lt;strong&gt;å¯å†™&lt;/strong&gt;çš„æ–‡ä»¶æˆ–è€…ç›®å½•&lt;strong&gt;è¢«å…³é—­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_CLOSE_NOWRITE	&lt;br&gt;
ä¸€ä¸ª&lt;strong&gt;åªè¯»&lt;/strong&gt;çš„æ–‡ä»¶æˆ–è€…ç›®å½•&lt;strong&gt;è¢«å…³é—­&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_OPEN	&lt;br&gt;
æ–‡ä»¶æˆ–è€…ç›®å½•&lt;strong&gt;è¢«æ‰“å¼€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_MOVED_FROM	&lt;br&gt;
è¢«ç›‘æ§é¡¹ç›®æˆ–è€…ç›®å½•ä¸­çš„æ–‡ä»¶&lt;strong&gt;è¢«ç§»é™¤ç›‘æ§åŒºåŸŸ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_MOVED_TO	&lt;br&gt;
æ–‡ä»¶æˆ–ç›®å½•&lt;strong&gt;è¢«ç§»å…¥ç›‘æ§åŒºåŸŸ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_MOVE_SELF&lt;br&gt;
&lt;strong&gt;è‡ªç§»åŠ¨&lt;/strong&gt;ï¼Œå³ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶åœ¨æ‰§è¡Œæ—¶ç§»åŠ¨è‡ªå·±&lt;/li&gt;
&lt;li&gt;IN_CREATE	&lt;br&gt;
åœ¨æ‰€ç›‘æ§çš„ç›®å½•ä¸­&lt;strong&gt;åˆ›å»ºå­ç›®å½•æˆ–æ–‡ä»¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_DELETE	&lt;br&gt;
åœ¨æ‰€ç›‘æ§çš„ç›®å½•ä¸­&lt;strong&gt;åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IN_DELETE_SELF&lt;br&gt;
è‡ªåˆ é™¤ï¼Œå³ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶åœ¨æ‰§è¡Œæ—¶åˆ é™¤è‡ªå·±&lt;/li&gt;
&lt;li&gt;IN_CLOSE&lt;br&gt;
æ–‡ä»¶&lt;strong&gt;è¢«å…³é—­&lt;/strong&gt;ï¼Œç­‰åŒäº&lt;code&gt;(IN_CLOSE_WRITE | IN_CLOSE_NOWRITE)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;IN_MOVE	&lt;br&gt;
æ–‡ä»¶&lt;strong&gt;è¢«ç§»åŠ¨&lt;/strong&gt;ï¼Œç­‰åŒäº&lt;code&gt;(IN_MOVED_FROM | IN_MOVED_TO)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;IN_UNMOUNT&lt;br&gt;
å®¿ä¸»æ–‡ä»¶ç³»ç»Ÿ&lt;strong&gt;è¢«umount&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;äº‹ä»¶å¤„ç†&#34;&gt;äº‹ä»¶å¤„ç†&lt;/h2&gt;
&lt;p&gt;å‰é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯é»˜è®¤çš„äº‹ä»¶å¤„ç†æ–¹å¼ï¼šæ‰“å°åœ¨å±å¹•ä¸Šï¼Œè€Œå¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å®šåˆ¶äº‹ä»¶çš„å¤„ç†æ–¹å¼ï¼Œæ¥å®ç°ç‰¹æ®Šçš„åŠŸèƒ½ã€‚å®šåˆ¶äº‹ä»¶éœ€è¦ç»§æ‰¿ProcessEventç±»ï¼Œé’ˆå¯¹éœ€è¦å¤„ç†çš„äº‹ä»¶ç¼–å†™&lt;code&gt;process_äº‹ä»¶å(self,event)&lt;/code&gt;å‡½æ•°å³å¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import pyinotify
 
 # ç›‘æ§å¤šä¸ªäº‹ä»¶ï¼šæ–‡ä»¶è¢«æ‰“å¼€æˆ–è€…åªè¯»æ–‡ä»¶è¢«å…³é—­
multi_event = pyinotify.IN_OPEN | pyinotify.IN_CLOSE_NOWRITE
# åˆ›å»ºWatchManagerå¯¹è±¡
wm = pyinotify.WatchManager()                                   
 
 # å®šåˆ¶åŒ–äº‹ä»¶å¤„ç†ç±»ï¼Œæ³¨æ„ç»§æ‰¿
class MyEventHandler(pyinotify.ProcessEvent): 
    # å¿…é¡»ä¸ºprocess_äº‹ä»¶åç§°ï¼Œeventè¡¨ç¤ºäº‹ä»¶å¯¹è±¡                  
    def process_IN_OPEN(self,event): 
        # event.pathname è¡¨ç¤ºè§¦å‘äº‹ä»¶çš„æ–‡ä»¶è·¯å¾„                         
        print(&#39;OPEN&#39;,event.pathname)                            
    def process_IN_CLOSE_NOWRITE(self,event):
        print(&#39;CLOSE_NOWRITE&#39;,event.pathname)
# å®ä¾‹åŒ–æˆ‘ä»¬å®šåˆ¶åŒ–åçš„äº‹ä»¶å¤„ç†ç±»
handler = MyEventHandler() 
# åœ¨notifierå®ä¾‹åŒ–æ—¶ä¼ å…¥ï¼Œnotifierä¼šè‡ªåŠ¨æ‰§è¡Œ                                     
notifier = pyinotify.Notifier(wm,handler)                       
# æ·»åŠ ç›‘æ§çš„ç›®å½•åŠäº‹ä»¶
wm.add_watch(&#39;/tmp&#39;,multi_event)                                
notifier.loop()
&lt;/code&gt;&lt;/pre&gt;
">Pythonä¹‹æ–‡ä»¶ç›‘æ§ï¼ˆwatchdogå’Œpyinotifyï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-gua-zai-wang-luo-cun-chu/"" data-c="
          &lt;p&gt;é™¤äº†ä½¿ç”¨mountå‘½ä»¤æŒ‚è½½Sambaã€NFSã€iSCSIç­‰å¸¸è§„å­˜å‚¨åè®®åˆ†äº«çš„å­˜å‚¨ç©ºé—´å¤–ï¼Œé€šå¸¸éœ€è¦å°†ä¾‹å¦‚FTPã€sFTPä»¥åŠå„ç§ç½‘ç›˜èµ„æºæŒ‚è½½åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œä¸ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿æ“ä½œï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸ºäº†å¤‡ä»½æ•°æ®ã€‚&lt;br&gt;
ä¸‹é¢ä»‹ç»è¿™äº›éå­˜å‚¨å…±äº«åè®®çš„æŒ‚è½½æ–¹å¼&lt;/p&gt;
&lt;h1 id=&#34;ftp&#34;&gt;FTP&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…curlftpfs
yum -y install curlftpfs
# æŒ‚è½½
mkdir /mnt/ftp
curlftpfs -o codepage=utf8 ftp://root:123456@192.168.3.12 /mnt/ftp
# å¸è½½
fusermount -u /mnt/ftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;sftp&#34;&gt;sFTP&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…SSHFS
yum install sshfs
# æŒ‚è½½
mkdir /mnt/sftp
sshfs root@192.168.3.19:/testsFTP /mnt/sftp  # ç„¶åè¾“å…¥å¯†ç 
# å¦‚æœæƒ³è¦å¼€æœºåå°±æŒ‚è½½ï¼Œå¯åœ¨/etc/local.rcæ–‡ä»¶ä¸­æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼š
# sshfs -o IdentityFile=ç§˜é’¥æ–‡ä»¶ä½ç½® root@192.168.3.19:/testsFTP /mnt/sftp
# å¸è½½
umount /mnt/sftp
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;webdav&#34;&gt;WebDav&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…davfs2
yum install -y davfs2
# æŒ‚è½½
mkdir /mnt/webdav
mount -t davfs https://cainiao.net/ /mnt/webdav
# å¸è½½
unmount /mnt/webdav
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ç½‘ç›˜ç­‰èµ„æº&#34;&gt;ç½‘ç›˜ç­‰èµ„æº&lt;/h1&gt;
&lt;p&gt;åªèƒ½å€ŸåŠ©rcloneç­‰å·¥å…·ï¼Œå½“ç„¶rcloneä¹Ÿå¯ä»¥æŒ‚è½½ä»¥ä¸Šç½‘ç»œå­˜å‚¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. å®˜ç½‘ä¸‹è½½rpmå®‰è£…åŒ…ä¸Šä¼ åˆ°éœ€è¦æŒ‚è½½ç½‘ç»œå­˜å‚¨çš„æœåŠ¡å™¨
2. å®‰è£…ï¼šyum -y localinstall rclone.......
3. ç”Ÿæˆrcloneé…ç½®æ–‡ä»¶ï¼šrclone configï¼Œé€‰æ‹©è‡ªå·±éœ€è¦æŒ‚åœ¨çš„å­˜å‚¨ç±»å‹ï¼Œç„¶åæŒ‰ç…§è¦æ±‚å¡«å†™å‚æ•°
4. åˆ›å»ºæŒ‚è½½æ–‡ä»¶å¤¹
5. æŒ‚è½½ï¼šrclone mount sFTP:/testsFTP /mnt/123 &amp;amp;
6. å¸è½½ï¼šfusermount -u /mnt/123
&lt;/code&gt;&lt;/pre&gt;
">Centos7æŒ‚è½½ç½‘ç»œå­˜å‚¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-xiu-gai-mac-di-zhi/"" data-c="
          &lt;ul&gt;
&lt;li&gt;ç½‘å¡åç§°ï¼šens32&lt;/li&gt;
&lt;li&gt;åŸMACåœ°å€ï¼š00:0c:29:3e:6e:74&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹åMACåœ°å€ï¼š00:01:23:0a:0b:cd&lt;/li&gt;
&lt;li&gt;åŸIPåœ°å€ï¼š192.168.3.8/24&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@source ~]# ip a
1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: ens32: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:0c:29:3e:6e:74 brd ff:ff:ff:ff:ff:ff
    inet 192.168.3.8/24 brd 192.168.3.255 scope global dynamic ens32
       valid_lft 604648sec preferred_lft 604648sec
[root@source ~]# 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ä¸´æ—¶ä¿®æ”¹&#34;&gt;ä¸´æ—¶ä¿®æ”¹&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ifconfig ens32 down
ifconfig ens32 hw ether 00:01:23:0a:0b:cd
ifconfig ens32 up
# é‡å¯ç½‘ç»œä¸å¤±æ•ˆï¼Œä½†æ˜¯é‡å¯ç³»ç»Ÿå¤±æ•ˆ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@source ~]# ip a
1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: ens32: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:01:23:0a:0b:cd brd ff:ff:ff:ff:ff:ff
    inet 192.168.3.8/24 brd 192.168.3.255 scope global dynamic ens32
       valid_lft 604181sec preferred_lft 604181sec
[root@source ~]# 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ°¸ä¹…ä¿®æ”¹&#34;&gt;æ°¸ä¹…ä¿®æ”¹&lt;/h1&gt;
&lt;h2 id=&#34;æ–¹å¼ä¸€å¼€æœºæ‰§è¡Œå‘½ä»¤&#34;&gt;æ–¹å¼ä¸€ï¼šå¼€æœºæ‰§è¡Œå‘½ä»¤&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;&amp;gt;/etc/rc.d/rc.local &amp;lt;&amp;lt;EOF
ifconfig ens32 down
ifconfig ens32 hw ether 00:01:23:0a:0b:cd
ifconfig ens32 up
EOF
chmod +x  /etc/rc.d/rc.local
reboot -h now
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@source ~]# ip a
1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: ens32: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:01:23:0a:0b:cd brd ff:ff:ff:ff:ff:ff
    inet 192.168.3.8/24 brd 192.168.3.255 scope global dynamic ens32
       valid_lft 604734sec preferred_lft 604734sec
[root@source ~]# 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ–¹æ‹¾äºŒä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;æ–¹æ‹¾äºŒï¼šä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/sysconfig/network-scripts/ifcfg-ens32
    # å¦‚æœæœ‰HWADDRè¿™ä¸€è¡Œåˆ™æ³¨é‡Šæ‰ï¼Œè¿½åŠ å¦‚ä¸‹ä¸€è¡Œ
    MACADDR=00:01:23:0a:0b:cd
    å®Œæ•´é…ç½®å¦‚ä¸‹ï¼š
    # TYPE=Ethernet
    # BOOTPROTO=dhcp
    # NAME=ens32
    # DEVICE=ens32
    # ONBOOT=yes
    # MACADDR=00:01:23:0a:0b:cd
systemctl restart network
# æˆ–è€…
# ifconfig ens32 down &amp;amp;&amp;amp; ifconfig ens32 up
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç»“æœï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@source ~]# ip a
1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
2: ens32: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 00:01:23:0a:0b:cd brd ff:ff:ff:ff:ff:ff
    inet 192.168.3.15/24 brd 192.168.3.255 scope global dynamic ens32
       valid_lft 604668sec preferred_lft 604668sec
[root@source ~]# 
&lt;/code&gt;&lt;/pre&gt;
">Centos7ä¿®æ”¹macåœ°å€</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-da-wen-jian-du-qu/"" data-c="
          &lt;p&gt;å¤§æ–‡ä»¶ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å…¥å†…å­˜ï¼Œå¯¼è‡´ä»£ç è¿è¡Œç¼“æ…¢ï¼Œå¯ä»¥å°è¯•æŒ‰è¡Œæˆ–è€…åˆ†ç‰‡è¯»å–ï¼Œä½¿ç”¨æ–‡ä»¶çš„å¯è¿­ä»£æ–¹å¼å°†æ–‡ä»¶çš„å†…å®¹æŒ‰è¡Œæˆ–è€…æŒ‰å—è¯»å…¥å†…å­˜ï¼Œå†é€è¡Œæˆ–è€…é€å—å†™å…¥æ–°æ–‡ä»¶ï¼Œæœ€åç”¨æ–°æ–‡ä»¶è¦†ç›–æºæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æŒ‰è¡Œè¯»å–&#34;&gt;æŒ‰è¡Œè¯»å–&lt;/h1&gt;
&lt;p&gt;ä¸»è¦é’ˆå¯¹ç±»ä¼¼txtã€csvç­‰æœ‰æ¢è¡Œçš„æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ–¹æ³•ä¸€ï¼š
import os
with open(&amp;quot;123.csv&amp;quot;) as rf,open(&amp;quot;.123.csv&amp;quot;,&amp;quot;w&amp;quot;) as wf:
    # å¯¹å¯è¿­ä»£å¯¹è±¡fé€è¡Œæ“ä½œï¼Œé˜²æ­¢å†…å­˜æº¢å‡º
    for line in rf:
        # é€è¡Œè¯»å–
        line=line.replace(&#39;str1&#39;,&#39;str2&#39;)
        # å¯¹è¯»å…¥çš„æ•°æ®è¿›è¡Œæ“ä½œ
        linex=line.replace(&amp;quot;1&amp;quot;,&amp;quot;A&amp;quot;)# å°†1æ›¿æ¢æˆA
        print(linex)
        # å†™å…¥ç¼“å­˜æ–‡ä»¶
        wf.write(linex)
# æ›¿æ¢åŸæ–‡ä»¶
os.remove(&amp;quot;123.csv&amp;quot;)
os.rename(&amp;quot;.123.csv&amp;quot;,&amp;quot;123.csv&amp;quot;)

# æ–¹æ³•äºŒï¼š
import os
with open(&amp;quot;123.csv&amp;quot;) as rf,open(&amp;quot;.123.csv&amp;quot;,&amp;quot;w&amp;quot;) as wf:
    while True:
        # é€è¡Œè¯»å–
        line=rf.readline()
        # å¯¹è¯»å…¥çš„æ•°æ®è¿›è¡Œæ“ä½œ
        linex = line.replace(&amp;quot;A&amp;quot;, &amp;quot;1&amp;quot;)  # å°†Aæ›¿æ¢æˆ1
        print(linex)
        # å†™å…¥ç¼“å­˜æ–‡ä»¶
        wf.write(linex)
        # åˆ°æ–‡ä»¶ç»“å°¾åˆ™è·³å‡ºå¾ªç¯
        if not line:
            break
# æ›¿æ¢åŸæ–‡ä»¶
os.remove(&amp;quot;123.csv&amp;quot;)
os.rename(&amp;quot;.123.csv&amp;quot;,&amp;quot;123.csv&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é€å—è¯»å–&#34;&gt;é€å—è¯»å–&lt;/h1&gt;
&lt;p&gt;ä¸»è¦é’ˆå¯¹ç±»ä¼¼pcapã€binç­‰ä¸æ¢è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶ç­‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è¯»å–csvã€txtç­‰æ–‡æœ¬æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;import os
with open(&amp;quot;123.iso&amp;quot;,&amp;quot;rb&amp;quot;) as rf,open(&amp;quot;.123.iso&amp;quot;,&amp;quot;wb&amp;quot;) as wf:
    while True:
        # é€å—è¯»å–
        block=rf.read(1024)
        # å¯¹è¯»å…¥çš„æ•°æ®è¿›è¡Œæ“ä½œ
        blockx = block.replace(b&amp;quot;\x00\x00&amp;quot;, b&amp;quot;\xab\xcd&amp;quot;)  # å°†00:00æ›¿æ¢æˆab:cd
        print(blockx)
        # å†™å…¥ç¼“å­˜æ–‡ä»¶
        wf.write(blockx)
        # åˆ°æ–‡ä»¶ç»“å°¾åˆ™è·³å‡ºå¾ªç¯
        if not block:
            break
# æ›¿æ¢åŸæ–‡ä»¶
os.remove(&amp;quot;123.iso&amp;quot;)
os.rename(&amp;quot;.123.iso&amp;quot;,&amp;quot;123.iso&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
">Pythonä¹‹å¤§æ–‡ä»¶è¯»å–</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/linux-gao-bing-fa-diao-you-zong-jie/"" data-c="
          &lt;p&gt;é«˜å¹¶å‘è°ƒä¼˜ä¸»è¦æ¶‰åŠ3æ–¹é¢ï¼Œå•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ã€å†…æ ¸TCPå‚æ•°æ–¹é¢å’ŒIOäº‹ä»¶åˆ†é…æœºåˆ¶ï¼Œä¸‹é¢ä»è¿™3æ–¹é¢è¿›è¡Œè°ƒä¼˜ï¼š&lt;br&gt;
&lt;code&gt;å¦‚éå¿…é¡»ï¼Œå…³æ‰æˆ–å¸è½½iptablesé˜²ç«å¢™ï¼Œå¹¶é˜»æ­¢kernelåŠ è½½iptablesæ¨¡å—ã€‚è¿™äº›æ¨¡å—ä¼šå½±å“å¹¶å‘æ€§èƒ½&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;å•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶&#34;&gt;å•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ulimit -n 65535
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†rootå¯åŠ¨çš„å•ä¸€è¿›ç¨‹çš„æœ€å¤§å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°è®¾ç½®ä¸º65535ä¸ªã€‚å¦‚æœç³»ç»Ÿå›æ˜¾ç±»ä¼¼äº&lt;code&gt;Operationnotpermitted&lt;/code&gt;ä¹‹ç±»çš„è¯ï¼Œè¯´æ˜ä¸Šè¿°é™åˆ¶ä¿®æ”¹å¤±è´¥ï¼Œå®é™…ä¸Šæ˜¯å› ä¸ºåœ¨ä¸­æŒ‡å®šçš„æ•°å€¼è¶…è¿‡äº†Linuxç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°çš„&lt;strong&gt;è½¯é™åˆ¶æˆ–ç¡¬é™åˆ¶&lt;/strong&gt;ã€‚å› æ­¤ï¼Œå°±éœ€è¦ä¿®æ”¹Linuxç³»ç»Ÿå¯¹ç”¨æˆ·çš„å…³äº&lt;code&gt;æ‰“å¼€æ–‡ä»¶æ•°çš„è½¯é™åˆ¶å’Œç¡¬é™åˆ¶&lt;/code&gt;ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹limits.confæ–‡ä»¶ï¼Œå¹¶æ·»åŠ ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/security/limits.conf
    * soft nofile 65535
    * hard nofile 65535
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;*&lt;/code&gt;å·è¡¨ç¤ºä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„é™åˆ¶ï¼›&lt;code&gt;softæˆ–hard&lt;/code&gt;æŒ‡å®šè¦ä¿®æ”¹è½¯é™åˆ¶è¿˜æ˜¯ç¡¬é™åˆ¶ï¼›&lt;code&gt;65536&lt;/code&gt;åˆ™æŒ‡å®šäº†æƒ³è¦ä¿®æ”¹çš„æ–°çš„é™åˆ¶å€¼ï¼Œå³æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°(è¯·æ³¨æ„è½¯é™åˆ¶å€¼è¦å°äºæˆ–ç­‰äºç¡¬é™åˆ¶)ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/pam.d/login
    session required /lib64/security/pam_limits.so
    # session required /lib/security/pam_limits.so # 32ä½ç³»ç»Ÿ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ç”¨æˆ·å®Œæˆç³»ç»Ÿç™»å½•åï¼Œåº”è¯¥è°ƒç”¨&lt;code&gt;pam_limits.so&lt;/code&gt;æ¨¡å—æ¥è®¾ç½®ç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·å¯ä½¿ç”¨çš„å„ç§èµ„æºæ•°é‡çš„æœ€å¤§é™åˆ¶(åŒ…æ‹¬ç”¨æˆ·å¯æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶)ï¼Œè€Œ&lt;code&gt;pam_limits.so&lt;/code&gt;æ¨¡å—å°±ä¼šä»&lt;code&gt;/etc/security/limits.conf&lt;/code&gt;æ–‡ä»¶ä¸­è¯»å–é…ç½®æ¥è®¾ç½®è¿™äº›é™åˆ¶å€¼ã€‚&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æŸ¥çœ‹Linuxç³»ç»Ÿçº§çš„æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat /proc/sys/fs/file-max
    395312
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™è¡¨æ˜è¿™å°Linuxç³»ç»Ÿæœ€å¤šå…è®¸åŒæ—¶æ‰“å¼€&lt;code&gt;395312&lt;/code&gt;ä¸ªæ–‡ä»¶(å³åŒ…å«æ‰€æœ‰ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°æ€»å’Œ)ï¼Œ&lt;strong&gt;æ˜¯Linuxç³»ç»Ÿçº§ç¡¬é™åˆ¶&lt;/strong&gt;ï¼Œæ‰€æœ‰ç”¨æˆ·çº§çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶éƒ½ä¸åº”è¶…è¿‡è¿™ä¸ªæ•°å€¼ã€‚é€šå¸¸è¿™ä¸ªç³»ç»Ÿçº§ç¡¬é™åˆ¶æ˜¯Linuxç³»ç»Ÿåœ¨å¯åŠ¨æ—¶æ ¹æ®ç³»ç»Ÿç¡¬ä»¶èµ„æºçŠ¶å†µè®¡ç®—å‡ºæ¥çš„æœ€ä½³çš„æœ€å¤§åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œ&lt;strong&gt;å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦ï¼Œä¸åº”è¯¥ä¿®æ”¹æ­¤é™åˆ¶&lt;/strong&gt;ï¼Œé™¤éæƒ³ä¸ºç”¨æˆ·çº§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶è®¾ç½®è¶…è¿‡æ­¤é™åˆ¶çš„å€¼ã€‚&lt;br&gt;
ä¿®æ”¹æ­¤ç¡¬é™åˆ¶çš„æ–¹æ³•æ˜¯ä¿®æ”¹&lt;code&gt;/etc/sysctl.conf&lt;/code&gt;æ–‡ä»¶å†…&lt;code&gt;fs.file-max = 650000&lt;/code&gt;ï¼Œè¿™æ˜¯è®©Linuxåœ¨å¯åŠ¨å®Œæˆåå¼ºè¡Œå°†ç³»ç»Ÿçº§æ‰“å¼€æ–‡ä»¶æ•°ç¡¬é™åˆ¶è®¾ç½®ä¸º&lt;code&gt;650000&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å†…æ ¸tcpå‚æ•°æ–¹é¢&#34;&gt;å†…æ ¸TCPå‚æ•°æ–¹é¢&lt;/h1&gt;
&lt;p&gt;Linuxç³»ç»Ÿä¸‹ï¼ŒTCPè¿æ¥æ–­å¼€åï¼Œä¼šä»¥&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€ä¿ç•™ä¸€å®šçš„æ—¶é—´ï¼Œç„¶åæ‰ä¼šé‡Šæ”¾ç«¯å£ã€‚å½“å¹¶å‘è¯·æ±‚è¿‡å¤šçš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿå¤§é‡çš„&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€çš„è¿æ¥ï¼Œæ— æ³•åŠæ—¶æ–­å¼€çš„è¯ï¼Œä¼š&lt;code&gt;å ç”¨å¤§é‡çš„ç«¯å£èµ„æºå’ŒæœåŠ¡å™¨èµ„æº&lt;/code&gt;ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–TCPçš„å†…æ ¸å‚æ•°ï¼Œæ¥åŠæ—¶å°†&lt;code&gt;TIME_WAIT&lt;/code&gt;çŠ¶æ€çš„ç«¯å£æ¸…ç†æ‰ã€‚&lt;br&gt;
ä¸‹é¢çš„æ–¹æ³•&lt;strong&gt;åªå¯¹æ‹¥æœ‰å¤§é‡TIME_WAITçŠ¶æ€çš„è¿æ¥å¯¼è‡´ç³»ç»Ÿèµ„æºæ¶ˆè€—æœ‰æ•ˆ&lt;/strong&gt;ï¼Œå¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œæ•ˆæœå¯èƒ½ä¸æ˜æ˜¾ã€‚å¯ä»¥ä½¿ç”¨netstatå‘½ä»¤å»æŸ¥TIME_WAITçŠ¶æ€çš„è¿æ¥çŠ¶æ€ï¼Œè¾“å…¥ä¸‹é¢çš„ç»„åˆå‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰TCPè¿æ¥çš„çŠ¶æ€å’Œå¯¹åº”çš„è¿æ¥æ•°é‡ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;netstat -n | awk &#39;/^tcp/ {++S[$NF]} END {for (a in S) print a, S[a]}&#39;
    # è¾“å‡ºç±»ä¼¼ä¸‹é¢çš„ç»“æœï¼š
    # LAST_ACK16
    # SYN_RECV348
    # ESTABLISHED70
    # FIN_WAIT1229
    # FIN_WAIT230
    # CLOSING33
    # TIME_WAIT18098
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åªç”¨å…³å¿ƒ&lt;code&gt;TIME_WAIT&lt;/code&gt;çš„ä¸ªæ•°ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæœ‰18000å¤šä¸ª&lt;code&gt;TIME_WAIT&lt;/code&gt;ï¼Œè¿™æ ·å°±å ç”¨äº†18000å¤šä¸ªç«¯å£ã€‚è¦çŸ¥é“ç«¯å£çš„æ•°é‡åªæœ‰65535ä¸ªï¼Œå ç”¨ä¸€ä¸ªå°‘ä¸€ä¸ªï¼Œä¼šä¸¥é‡çš„å½±å“åˆ°åç»§çš„æ–°è¿æ¥ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±æœ‰å¿…è¦è°ƒæ•´ä¸‹Linuxçš„TCPå†…æ ¸å‚æ•°ï¼Œè®©ç³»ç»Ÿæ›´å¿«çš„é‡Šæ”¾TIME_WAITè¿æ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/sysctl.conf
    net.ipv4.tcp_syncookies= 1
    net.ipv4.tcp_tw_reuse= 1
    net.ipv4.tcp_tw_recycle= 1
    net.ipv4.tcp_fin_timeout= 30
    # ----------------------------
    net.ipv4.tcp_keepalive_time= 1200
    net.ipv4.ip_local_port_range= 1024 65535
    net.ipv4.tcp_max_syn_backlog= 8192
    net.ipv4.tcp_max_tw_buckets= 5000
sysctl -p
# net.ipv4.tcp_syncookies= 1ï¼šè¡¨ç¤ºå¼€å¯SYNCookiesã€‚å½“å‡ºç°SYNç­‰å¾…é˜Ÿåˆ—æº¢å‡ºæ—¶ï¼Œå¯ç”¨cookiesæ¥å¤„ç†ï¼Œå¯é˜²èŒƒå°‘é‡SYNæ”»å‡»ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ã€‚
# net.ipv4.tcp_tw_reuse= 1ï¼šè¡¨ç¤ºå¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAITsocketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ã€‚
# net.ipv4.tcp_tw_recycle= 1ï¼šè¡¨ç¤ºå¼€å¯TCPè¿æ¥ä¸­TIME-WAITsocketsçš„å¿«é€Ÿå›æ”¶ã€‚é»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ã€‚
# net.ipv4.tcp_fin_timeoutï¼šä¿®æ”¹ç³»çµ±é»˜è®¤çš„TIMEOUTæ—¶é—´ã€‚
# net.ipv4.tcp_keepalive_time= 1200ï¼šè¡¨ç¤ºå½“keepaliveèµ·ç”¨çš„æ—¶å€™ï¼ŒTCPå‘é€keepaliveæ¶ˆæ¯çš„é¢‘åº¦ã€‚ç¼ºçœæ˜¯2å°æ—¶ï¼Œæ”¹ä¸º20åˆ†é’Ÿã€‚
# ip_local_port_range= 1024 65535ï¼šè¡¨ç¤ºç”¨äºå‘å¤–è¿æ¥çš„ç«¯å£èŒƒå›´ã€‚ç¼ºçœæƒ…å†µä¸‹å¾ˆå°ï¼Œæ”¹ä¸º1024åˆ°65535ã€‚
# net.ipv4.tcp_max_syn_backlog= 8192ï¼šè¡¨ç¤ºSYNé˜Ÿåˆ—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º1024ï¼ŒåŠ å¤§é˜Ÿåˆ—é•¿åº¦ä¸º8192ï¼Œå¯ä»¥å®¹çº³æ›´å¤šç­‰å¾…è¿æ¥çš„ç½‘ç»œè¿æ¥æ•°ã€‚
# net.ipv4.tcp_max_tw_buckets= 5000ï¼šè¡¨ç¤ºç³»ç»ŸåŒæ—¶ä¿æŒTIME_WAITçš„æœ€å¤§æ•°é‡ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼ŒTIME_WAITå°†ç«‹åˆ»è¢«æ¸…é™¤å¹¶æ‰“å°è­¦å‘Šä¿¡æ¯ã€‚é»˜è®¤ä¸º180000ï¼Œæ”¹ä¸º5000ã€‚æ­¤é¡¹å‚æ•°å¯ä»¥æ§åˆ¶TIME_WAITçš„æœ€å¤§æ•°é‡ï¼Œåªè¦è¶…å‡ºå°±æ¸…é™¤ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å‰4è¡Œ&lt;/strong&gt;è°ƒæ•´ä¹‹åï¼Œé™¤äº†ä¼šè¿›ä¸€æ­¥æå‡æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ä¹‹å¤–ï¼Œè¿˜èƒ½å¤Ÿé˜²å¾¡å°æµé‡ç¨‹åº¦çš„DoSã€CCå’ŒSYNæ”»å‡»ã€‚æ­¤å¤–ï¼Œå¦‚æœè¿æ¥æ•°æœ¬èº«å°±å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹TCPçš„å¯ä½¿ç”¨ç«¯å£èŒƒå›´ï¼Œè¿›ä¸€æ­¥æå‡æœåŠ¡å™¨çš„å¹¶å‘èƒ½åŠ›ï¼ŒåŠ å…¥&lt;strong&gt;å4è¡Œ&lt;/strong&gt;å‚æ•°ï¼Œå»ºè®®åªåœ¨æµé‡éå¸¸å¤§çš„æœåŠ¡å™¨ä¸Šå¼€å¯ï¼Œä¼šæœ‰æ˜¾è‘—çš„æ•ˆæœã€‚ä¸€èˆ¬çš„æµé‡å°çš„æœåŠ¡å™¨ä¸Šï¼Œæ²¡æœ‰å¿…è¦å»è®¾ç½®&lt;strong&gt;å4è¡Œ&lt;/strong&gt;å‚æ•°ã€‚&lt;br&gt;
&lt;strong&gt;å†…æ ¸å…¶ä»–TCPå‚æ•°è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;net.ipv4.tcp_max_syn_backlog= 65535
# è®°å½•çš„é‚£äº›å°šæœªæ”¶åˆ°å®¢æˆ·ç«¯ç¡®è®¤ä¿¡æ¯çš„è¿æ¥è¯·æ±‚çš„æœ€å¤§å€¼ã€‚å¯¹äºæœ‰128Må†…å­˜çš„ç³»ç»Ÿè€Œè¨€ï¼Œç¼ºçœå€¼æ˜¯1024ï¼Œå°å†…å­˜çš„ç³»ç»Ÿåˆ™æ˜¯128ã€‚

 net.core.netdev_max_backlog= 32768
# æ¯ä¸ªç½‘ç»œæ¥å£æ¥æ”¶æ•°æ®åŒ…çš„é€Ÿç‡æ¯”å†…æ ¸å¤„ç†è¿™äº›åŒ…çš„é€Ÿç‡å¿«æ—¶ï¼Œå…è®¸é€åˆ°é˜Ÿåˆ—çš„æ•°æ®åŒ…çš„æœ€å¤§æ•°ç›®ã€‚

net.core.somaxconn= 32768
# ä¾‹å¦‚webåº”ç”¨ä¸­listenå‡½æ•°çš„backlogé»˜è®¤ä¼šç»™æˆ‘ä»¬å†…æ ¸å‚æ•°çš„net.core.somaxconné™åˆ¶åˆ°128ï¼Œè€Œnginxå®šä¹‰çš„NGX_LISTEN_BACKLOGé»˜è®¤ä¸º511ï¼Œæ‰€ä»¥æœ‰å¿…è¦è°ƒæ•´è¿™ä¸ªå€¼ã€‚

net.core.wmem_default= 8388608
net.core.wmem_max= 16777216 
# æœ€å¤§socketå†™buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼873200

net.core.rmem_default= 8388608
net.core.rmem_max= 16777216 
#æœ€å¤§socketè¯»buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼873200

net.ipv4.tcp_wmem= 8192 436600 873200
# TCPå†™buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:8192 436600 873200

net.ipv4.tcp_rmem = 32768 436600 873200
# TCPè¯»buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:32768 436600 873200

net.ipv4.tcp_timestsmps= 0
# æ—¶é—´æˆ³å¯ä»¥é¿å…åºåˆ—å·çš„å·ç»•ã€‚ä¸€ä¸ª1Gbpsçš„é“¾è·¯è‚¯å®šä¼šé‡åˆ°ä»¥å‰ç”¨è¿‡çš„åºåˆ—å·ã€‚æ—¶é—´æˆ³èƒ½å¤Ÿè®©å†…æ ¸æ¥å—è¿™ç§â€œå¼‚å¸¸â€çš„æ•°æ®åŒ…ã€‚è¿™é‡Œéœ€è¦å°†å…¶å…³æ‰ã€‚

net.ipv4.tcp_synack_retries= 2
# ä¸ºäº†æ‰“å¼€å¯¹ç«¯çš„è¿æ¥ï¼Œå†…æ ¸éœ€è¦å‘é€ä¸€ä¸ªSYNå¹¶é™„å¸¦ä¸€ä¸ªå›åº”å‰é¢ä¸€ä¸ªSYNçš„ACKã€‚ä¹Ÿå°±æ˜¯æ‰€è°“ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ç¬¬äºŒæ¬¡æ¡æ‰‹ã€‚è¿™ä¸ªè®¾ç½®å†³å®šäº†å†…æ ¸æ”¾å¼ƒè¿æ¥ä¹‹å‰å‘é€SYN+ACKåŒ…çš„æ•°é‡ã€‚

net.ipv4.tcp_syn_retries= 2
# åœ¨å†…æ ¸æ”¾å¼ƒå»ºç«‹è¿æ¥ä¹‹å‰å‘é€SYNåŒ…çš„æ•°é‡ã€‚

net.ipv4.tcp_tw_reuse= 1
# å¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAITsocketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ã€‚

net.ipv4.tcp_mem= 94500000 91500000 92700000
# æœ‰3ä¸ªå€¼ï¼Œæ„æ€åˆ†åˆ«æ˜¯æ˜¯:
#   net.ipv4.tcp_mem[0]:ä½äºæ­¤å€¼ï¼ŒTCPæ²¡æœ‰å†…å­˜å‹åŠ›ã€‚
#   net.ipv4.tcp_mem[1]:åœ¨æ­¤å€¼ä¸‹ï¼Œè¿›å…¥å†…å­˜å‹åŠ›é˜¶æ®µã€‚
#   net.ipv4.tcp_mem[2]:é«˜äºæ­¤å€¼ï¼ŒTCPæ‹’ç»åˆ†é…socketã€‚
# ä¸Šè¿°å†…å­˜å•ä½æ˜¯é¡µï¼Œè€Œä¸æ˜¯å­—èŠ‚ã€‚å¯å‚è€ƒçš„ä¼˜åŒ–å€¼æ˜¯786432 1048576 1572864

net.ipv4.tcp_max_orphans= 3276800
# ç³»ç»Ÿä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªTCPå¥—æ¥å­—ä¸è¢«å…³è”åˆ°ä»»ä½•ä¸€ä¸ªç”¨æˆ·æ–‡ä»¶å¥æŸ„ä¸Šã€‚
# å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œè¿æ¥å°†å³åˆ»è¢«å¤ä½å¹¶æ‰“å°å‡ºè­¦å‘Šä¿¡æ¯ã€‚
# è¿™ä¸ªé™åˆ¶ä»…ä»…æ˜¯ä¸ºäº†é˜²æ­¢ç®€å•çš„DoSæ”»å‡»ï¼Œä¸èƒ½è¿‡åˆ†ä¾é å®ƒæˆ–è€…äººä¸ºåœ°å‡å°è¿™ä¸ªå€¼ï¼Œæ›´åº”è¯¥å¢åŠ è¿™ä¸ªå€¼(å¦‚æœå¢åŠ äº†å†…å­˜ä¹‹å)ã€‚

net.ipv4.tcp_fin_timeout= 30
# å¦‚æœå¥—æ¥å­—ç”±æœ¬ç«¯è¦æ±‚å…³é—­ï¼Œè¿™ä¸ªå‚æ•°å†³å®šäº†å®ƒä¿æŒåœ¨FIN-WAIT-2çŠ¶æ€çš„æ—¶é—´ã€‚
# å¯¹ç«¯å¯ä»¥å‡ºé”™å¹¶æ°¸è¿œä¸å…³é—­è¿æ¥ï¼Œç”šè‡³æ„å¤–å½“æœºã€‚ç¼ºçœå€¼æ˜¯60ç§’ã€‚2.2 å†…æ ¸çš„é€šå¸¸å€¼æ˜¯180ç§’ï¼Œä½ å¯ä»¥æŒ‰è¿™ä¸ªè®¾ç½®ï¼Œä½†è¦è®°ä½çš„æ˜¯ï¼Œå³ä½¿ä½ çš„æœºå™¨æ˜¯ä¸€ä¸ªè½»è½½çš„WEBæœåŠ¡å™¨ï¼Œä¹Ÿæœ‰å› ä¸ºå¤§é‡çš„æ­»å¥—æ¥å­—è€Œå†…å­˜æº¢å‡ºçš„é£é™©ï¼ŒFIN-WAIT-2çš„å±é™©æ€§æ¯”FIN-WAIT-1è¦å°ï¼Œå› ä¸ºå®ƒæœ€å¤šåªèƒ½åƒæ‰1.5Kå†…å­˜ï¼Œä½†æ˜¯å®ƒä»¬çš„ç”Ÿå­˜æœŸé•¿äº›ã€‚
# åŒæ—¶è¿˜æ¶‰åŠåˆ°ä¸€ä¸ªTCP æ‹¥å¡ç®—æ³•çš„é—®é¢˜ï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹æœ¬æœºæä¾›çš„æ‹¥å¡ç®—æ³•æ§åˆ¶æ¨¡å—ï¼šsysctlnet.ipv4.tcp_available_congestion_control
# å¯¹äºå‡ ç§ç®—æ³•çš„åˆ†æï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒä¸‹ï¼šTCPæ‹¥å¡æ§åˆ¶ç®—æ³•çš„ä¼˜ç¼ºç‚¹ã€é€‚ç”¨ç¯å¢ƒã€æ€§èƒ½åˆ†æï¼Œæ¯”å¦‚é«˜å»¶æ—¶å¯ä»¥è¯•ç”¨hyblaï¼Œä¸­ç­‰å»¶æ—¶å¯ä»¥è¯•ç”¨htcpç®—æ³•ç­‰ã€‚
# å¦‚æœæƒ³è®¾ç½®TCPæ‹¥å¡ç®—æ³•ä¸ºhyblaï¼šnet.ipv4.tcp_congestion_control=hybla
# é¢å¤–çš„ï¼Œå¯¹äºå†…æ ¸ç‰ˆé«˜äºäº3.7.1çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å¯tcp_fastopenï¼šnet.ipv4.tcp_fastopen= 3
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ioäº‹ä»¶åˆ†é…æœºåˆ¶&#34;&gt;IOäº‹ä»¶åˆ†é…æœºåˆ¶&lt;/h1&gt;
&lt;p&gt;åœ¨å¼€å‘æ”¯æŒé«˜å¹¶å‘TCPè¿æ¥çš„Linuxåº”ç”¨ç¨‹åºæ—¶ï¼Œåº”å°½é‡ä½¿ç”¨&lt;code&gt;epollæˆ–AIOæŠ€æœ¯&lt;/code&gt;æ¥å®ç°å¹¶å‘çš„TCPè¿æ¥ä¸Šçš„I/Oæ§åˆ¶ï¼Œè¿™å°†ä¸ºæå‡ç¨‹åºå¯¹é«˜å¹¶å‘TCPè¿æ¥çš„æ”¯æŒæä¾›æœ‰æ•ˆçš„I/Oä¿è¯ã€‚&lt;br&gt;
&lt;strong&gt;åŸå› å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ç”¨çš„I/OæŠ€æœ¯æœ‰åŒæ­¥I/Oï¼Œéé˜»å¡å¼åŒæ­¥I/Oï¼Œä»¥åŠå¼‚æ­¥I/Oã€‚&lt;br&gt;
åœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ï¼Œå¦‚æœä½¿ç”¨åŒæ­¥I/Oï¼Œè¿™ä¼šä¸¥é‡é˜»å¡ç¨‹åºçš„è¿è½¬ï¼Œé™¤éä¸ºæ¯ä¸ªTCPè¿æ¥çš„I/Oåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚&lt;br&gt;
ä½†æ˜¯ï¼Œè¿‡å¤šçš„çº¿ç¨‹åˆä¼šå› ç³»ç»Ÿå¯¹çº¿ç¨‹çš„è°ƒåº¦é€ æˆå·¨å¤§å¼€é”€ã€‚&lt;br&gt;
å› æ­¤ï¼Œåœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ä½¿ç”¨åŒæ­¥I/Oæ˜¯ä¸å¯å–çš„ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡å¼åŒæ­¥I/Oæˆ–å¼‚æ­¥I/Oã€‚&lt;br&gt;
éé˜»å¡å¼åŒæ­¥I/Oçš„æŠ€æœ¯åŒ…æ‹¬ä½¿ç”¨select()ã€poll()ã€epollç­‰æœºåˆ¶ï¼Œå¼‚æ­¥I/Oçš„æŠ€æœ¯å°±æ˜¯ä½¿ç”¨AIOã€‚&lt;/li&gt;
&lt;li&gt;ä»I/Oäº‹ä»¶åˆ†æ´¾æœºåˆ¶æ¥çœ‹ï¼Œä½¿ç”¨select()æ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºå®ƒæ‰€æ”¯æŒçš„å¹¶å‘è¿æ¥æ•°æœ‰é™(é€šå¸¸åœ¨1024ä¸ªä»¥å†…)ã€‚&lt;br&gt;
å¦‚æœè€ƒè™‘æ€§èƒ½ï¼Œpoll()ä¹Ÿæ˜¯ä¸åˆé€‚çš„ï¼Œå°½ç®¡å®ƒå¯ä»¥æ”¯æŒçš„è¾ƒé«˜çš„TCPå¹¶å‘æ•°ï¼Œä½†æ˜¯ç”±äºå…¶é‡‡ç”¨â€œè½®è¯¢â€æœºåˆ¶ï¼Œå½“å¹¶å‘æ•°è¾ƒé«˜æ—¶ï¼Œå…¶è¿è¡Œæ•ˆç‡ç›¸å½“ä½ï¼Œå¹¶å¯èƒ½å­˜åœ¨I/Oäº‹ä»¶åˆ†æ´¾ä¸å‡ï¼Œå¯¼è‡´éƒ¨åˆ†TCPè¿æ¥ä¸Šçš„I/Oå‡ºç°â€œé¥¥é¥¿â€ç°è±¡ã€‚&lt;br&gt;
è€Œå¦‚æœä½¿ç”¨epollæˆ–AIOï¼Œåˆ™æ²¡æœ‰ä¸Šè¿°é—®é¢˜(æ—©æœŸLinuxå†…æ ¸çš„AIOæŠ€æœ¯å®ç°æ˜¯é€šè¿‡åœ¨å†…æ ¸ä¸­ä¸ºæ¯ä¸ªI/Oè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å®ç°çš„ï¼Œè¿™ç§å®ç°æœºåˆ¶åœ¨é«˜å¹¶å‘TCPè¿æ¥çš„æƒ…å½¢ä¸‹ä½¿ç”¨å…¶å®ä¹Ÿæœ‰ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ä½†åœ¨æœ€æ–°çš„Linuxå†…æ ¸ä¸­ï¼ŒAIOçš„å®ç°å·²ç»å¾—åˆ°æ”¹è¿›)ã€‚&lt;/li&gt;
&lt;/ol&gt;
">Linuxé«˜å¹¶å‘è°ƒä¼˜æ€»ç»“</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/frp-shi-yong-zong-jie/"" data-c="
          &lt;h1 id=&#34;å¸¸ç”¨é…ç½®å‚æ•°è¯¦è§£&#34;&gt;å¸¸ç”¨é…ç½®å‚æ•°è¯¦è§£&lt;/h1&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯frpsini&#34;&gt;æœåŠ¡ç«¯&lt;sub&gt;frps.ini&lt;/sub&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é€šç”¨é…ç½®
[common] # æ ‡è¯†å¤´ 
bind_addr = 0.0.0.0 # æœåŠ¡å™¨IPï¼Œä¸æŒ‡å®šé»˜è®¤0.0.0.0ï¼Œæ”¯æŒIPV6
bind_port = 7000 # æœåŠ¡ç«¯å£ï¼Œå³FRPé€šè®¯ç«¯å£
kcp_bind_port = 7000 # KCPé€šè®¯ç«¯å£ã€‚ç”¨äºå’Œå®¢æˆ·ç«¯å†…ç½‘ç©¿é€ä¼ è¾“æ•°æ®çš„ç«¯å£ã€‚ ä¹Ÿå¯ä»¥å’Œbind_portå…±ç”¨ç«¯å£ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™kcpåœ¨frpsä¸­è¢«ç¦ç”¨
bind_udp_port = 7001 # UDPé€šè®¯ç«¯å£ã€‚ä»¥å¸®åŠ©ä½¿UDPæ‰“æ´ç©¿é€NAT
proxy_bind_addr = 127.0.0.1   # ä»£ç†ç›‘å¬åœ°å€ï¼Œé»˜è®¤å’Œbind_addrç›¸åŒ
token = 12345678 # å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡çš„èº«ä»½éªŒè¯ä»¤ç‰Œ
heartbeat_timeout = 90 # å¿ƒè·³æ£€æµ‹è¶…æ—¶æ—¶é—´ï¼Œä¸å»ºè®®ä¿®æ”¹é»˜è®¤é…ç½®ï¼Œé»˜è®¤å€¼ä¸º90
allow_ports = 2000-3000,3001,3003,4000-50000  # æŒ‡å®šå…è®¸å®¢æˆ·ç«¯ä½¿ç”¨çš„ç«¯å£èŒƒå›´ï¼ŒæœªæŒ‡å®šåˆ™æ²¡æœ‰é™åˆ¶
max_pool_count = 5 # æ¯ä¸ªå†…ç½‘ç©¿é€æœåŠ¡é™åˆ¶æœ€å¤§è¿æ¥æ± ä¸Šé™ã€‚é¿å…å¤§é‡èµ„æºå ç”¨ã€‚
max_ports_per_client = 0  # æ¯ä¸ªå®¢æˆ·ç«¯æœ€å¤§å¯ä»¥ä½¿ç”¨çš„ç«¯å£ï¼Œ0è¡¨ç¤ºæ— é™åˆ¶
authentication_timeout = 900 #å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯æ—¶é—´ç›¸å·®éªŒè¯ã€‚å‡å¦‚å®¢æˆ·ç«¯è®¾å¤‡çš„æ—¶é—´å’ŒæœåŠ¡ç«¯çš„æ—¶é—´ç›¸å·®å¤§äºè®¾å®šå€¼ï¼Œé‚£ä¹ˆæ‹’ç»å®¢æˆ·ç«¯è¿æ¥ã€‚å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™ä¸éªŒè¯æ—¶é—´ï¼Œé»˜è®¤å€¼ä¸º900ç§’ 
subdomain_host = frps.com # è‡ªå®šä¹‰å­åŸŸåï¼Œéœ€è¦åœ¨dnsä¸­å°†åŸŸåè§£æä¸ºæ³›åŸŸå
tcp_mux = true # æ˜¯å¦ä½¿ç”¨tcpå¤ç”¨ï¼Œé»˜è®¤ä¸ºtrueã€‚frpåªå¯¹åŒä¸€å®¢æˆ·ç«¯çš„è¿æ¥è¿›è¡Œå¤ç”¨ï¼›

# ä»ªè¡¨ç›˜
dashboard_addr = 0.0.0.0 # ç»‘å®šæœåŠ¡ç«¯IP
dashboard_port = 7500 # WEBç«¯å£
dashboard_user = admin # ç”¨æˆ·åã€‚è‡ªå®šä¹‰WEBç®¡ç†ç”¨æˆ·åï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼æ˜¯admin
dashboard_pwd = admin # ç™»å½•å¯†ç ï¼Œè‡ªå®šä¹‰WEBç®¡ç†å¯†ç ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼æ˜¯admin
assets_dir = ./static           # ä»ªè¡¨ç›˜é¡µé¢æ–‡ä»¶ç›®å½•ï¼Œåªé€‚ç”¨äºè°ƒè¯•

# æ—¥å¿—
log_file = /etc/frp/log/frps.log # æ—¥å¿—å­˜æ”¾è·¯å¾„
log_level = info # æ—¥å¿—è®°å½•ç±»åˆ«ï¼Œå¯é€‰ï¼štrace, debug, info, warn, error 
log_max_days = 7 # æœ€å¤šä¿å­˜å¤šå°‘å¤©æ—¥å¿—

# è™šæ‹Ÿä¸»æœº
vhost_http_port = 80 # æ”¯æŒhttpï¼Œå¿…é¡»æŒ‡å®šhttpç«¯å£ç›‘å¬ï¼ŒæŒ‡å®šç«¯å£ä¸ºhttpç½‘é¡µåè®®ï¼Œç«¯å£å¯ä»¥å’Œbind_portç›¸åŒ
vhost_https_port = 443 # æ”¯æŒhttpsï¼Œå¿…é¡»æŒ‡å®šhttpsç«¯å£ç›‘å¬ï¼ŒæŒ‡å®šç«¯å£ä¸ºhttpsç½‘é¡µåè®®
vhost_http_timeout = 60 # åç«¯è™šæ‹Ÿä¸»æœºå“åº”è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º60s
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯frpcini&#34;&gt;å®¢æˆ·ç«¯&lt;sub&gt;frpc.ini&lt;/sub&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[common] # æ ‡è¯†å¤´
server_addr = 1.2.3.4 #frpsæœåŠ¡ç«¯IP
server_port = 7000 # frpsæœåŠ¡ç«¯é€šè®¯ç«¯å£ï¼Œå®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡ç«¯å†…ç½‘ç©¿é€ä¼ è¾“æ•°æ®çš„ç«¯å£ï¼Œè¯·æ”¹ä¸ºæœåŠ¡ç«¯å·²é…ç½®çš„å¯¹åº”ç«¯å£
token = 12345678 # å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é€šä¿¡çš„èº«ä»½éªŒè¯ä»¤ç‰Œ
pool_count = 5 # é™åˆ¶æœ¬å®¢æˆ·ç«¯å†…ç½‘ç©¿é€å¯ä»¥åˆ›å»ºçš„æ€»è¿æ¥æ± ä¸Šé™ï¼Œé¿å…å¤§é‡èµ„æºå ç”¨ã€‚é»˜è®¤ä¸º0ä¸é™åˆ¶ã€‚æ³¨æ„ï¼šå‡å¦‚æœåŠ¡ç«¯å·²é…ç½®äº†é™åˆ¶ï¼Œè€Œå®¢æˆ·ç«¯è®¾ç½®çš„é«˜äºæœåŠ¡ç«¯çš„ï¼Œåˆ™ä»¥æœåŠ¡ç«¯çš„ä¸ºå‡†ã€‚ 
tcp_mux = true # æ˜¯å¦å¯ç”¨tcpå¤ç”¨ï¼Œé»˜è®¤ä¸ºtrue
user = your_name # frpcçš„ç”¨æˆ·åï¼Œç”¨äºåŒºåˆ«ä¸ç”¨frpcçš„ä»£ç†ï¼Œå°†æ˜¾ç¤ºä¸º {åç§°}.{å¯¹åº”æœåŠ¡åç§°}ã€‚è¯·å¡«å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼Œä¸è¦ç”¨ä¸­æ–‡å¡«å†™
login_fail_exit = true # é¦–æ¬¡ç™»å½•å¤±è´¥æ—¶é€€å‡ºç¨‹åºï¼Œå¦åˆ™è¿ç»­é‡æ–°ç™»å½•åˆ°frps
protocol = tcp # ç”¨äºè¿æ¥æœåŠ¡å™¨çš„åè®®ï¼Œæ”¯æŒtcpã€kcpã€websocket
dns_server = 8.8.8.8 # ä¸ºfrpå®¢æˆ·ç«¯æŒ‡å®šä¸€ä¸ªå•ç‹¬çš„DNSæœåŠ¡å™¨
start = ssh,dns # è¦å¯ç”¨çš„ä»£ç†çš„åå­—ï¼ˆæ­¤ä»£ç†éœ€è¦åœ¨ä¸‹é¢è¿›è¡Œé…ç½®ï¼‰ï¼Œé»˜è®¤ä¸ºç©ºè¡¨ç¤ºæ‰€æœ‰ä»£ç†
# å¦‚æœè¦é€šè¿‡httpæˆ–socks5ä»£ç†è¿æ¥frpsï¼Œå¯ä»¥åœ¨æ­¤å¤„æˆ–åœ¨å…¨å±€ç¯å¢ƒå˜é‡ä¸­è®¾ç½®ä»£ç†ï¼Œåªæ”¯æŒtcpåè®®
# http_proxy = http://user:passwd@192.168.1.128:8080
# http_proxy = socks5://user:passwd@192.168.1.128:1080

# ç®¡ç†åœ°å€ï¼Œç”¨äºé€šè¿‡http apiæ§åˆ¶frpcçš„åŠ¨ä½œ
admin_addr = 127.0.0.1
admin_port = 7400
admin_user = admin
admin_passwd = admin

#æ—¥å¿—
log_file = /etc/frp/log/frpc.log # æ—¥å¿—å­˜æ”¾è·¯å¾„
log_level = info # æ—¥å¿—è®°å½•ç±»åˆ«ï¼Œå¯é€‰ï¼štrace, debug, info, warn, error 
log_max_days = 7 # æœ€å¤šä¿å­˜å¤šå°‘å¤©æ—¥å¿—

# å¿ƒè·³æ£€æŸ¥
heartbeat_interval = 30   # å¤±è´¥é‡è¯•æ¬¡æ•°
heartbeat_timeout = 90    # è¶…æ—¶æ—¶é—´

# ------------------------------------------------------------------
#ã€ä¸Šé¢ç”¨äºæ€»ä½“å¯¹æ¥frpsæœåŠ¡ç«¯å„å‚æ•°ï¼Œä¸‹é¢çš„ç”¨äºå®¢æˆ·ç«¯ç©¿é€å„åº”ç”¨çš„é…ç½®å‚æ•°ã€‘ 
# ------------------------------------------------------------------

[name] # å¯¹åº”ç©¿é€æœåŠ¡åç§°ï¼Œæ¯ä¸ªç©¿é€æœåŠ¡éƒ½éœ€è¦ä¸€ä¸ªæ­¤æœåŠ¡çš„åç§°ï¼Œä¸èƒ½å’Œå…¶ä»–å·²å»ºç«‹çš„ç›¸åŒã€‚å¦‚æœé…ç½®user=your_nameï¼Œåˆ™æ˜¾ç¤ºä¸ºyour_name.name
type = tcp # ç©¿é€åè®®ç±»å‹ï¼Œå¯é€‰ï¼štcpï¼Œudpï¼Œhttpï¼Œhttpsï¼Œstcpï¼Œxtcpã€‚ä½ è¦ç©¿é€ä»€ä¹ˆåº”ç”¨è¦ææ¸…æ¥šï¼Œæ­¤åº”ç”¨æ˜¯ç”¨ä»€ä¹ˆåè®®çš„
local_ip = 127.0.0.1 # æœ¬åœ°ç›‘å¬IPã€‚å¯ä»¥æ˜¯æœ¬åœ°çš„å±€åŸŸç½‘IPï¼Œä¹Ÿå¯ä»¥æ˜¯æœ¬æœºçš„127.0.0.1ã€‚ä¾‹å¦‚ä½ çš„å±€åŸŸç½‘æ˜¯äº’é€šçš„ï¼Œä½ å¯ä»¥åœ¨æœ¬è®¾å¤‡å»ºç«‹ç©¿é€å±€åŸŸç½‘å…¶ä»–IPçš„åº”ç”¨
local_port = 22 # æœ¬åœ°ç›‘å¬ç«¯å£ï¼Œç”¨äºç›‘å¬æœ¬åœ°è®¾å¤‡éœ€è¦ç©¿é€çš„ç«¯å£ï¼Œæ¯”å¦‚æˆ‘è¦ç©¿é€åˆ°æœ¬æœºçš„SSHç«¯å£ï¼Œè€ŒSSHç«¯å£ä¸º22ï¼Œåˆ™è¿™æ ·ç†è§£
remote_port = 6001 # è¿œç¨‹ç›‘å¬ç«¯å£ã€‚ç”¨äºfrpsæœåŠ¡ç«¯çš„ï¼Œåˆ†é…å»ºç«‹ç©¿é€åˆ°å†…ç½‘å¯¹åº”åº”ç”¨çš„å…¬ç½‘ç«¯å£ã€‚éœ€è¦frpsæœåŠ¡ç«¯å·²å¼€æ”¾æ­¤ç«¯å£ç»™frpcå®¢æˆ·ç«¯å…è®¸å¯¹æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚æˆ‘å¯ä»¥è¿æ¥åˆ°æ­¤(frpsæœåŠ¡ç«¯IPï¼šç«¯å£)ï¼Œåˆ™å¯ä»¥ç©¿é€åˆ°æˆ‘çš„å†…ç½‘å¯¹åº”åº”ç”¨æœåŠ¡ã€‚ 
use_encryption = false #ç©¿é€é€šè®¯åŠ å¯†ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„é€šä¿¡ä¿¡æ¯ï¼Œé»˜è®¤ä¸ºä¸åŠ å¯†
use_compression = false # ç©¿é€é€šè®¯å‹ç¼©ï¼Œé»˜è®¤ä¸å¼€å¯
custom_domains = demo.com # åˆ†é…è‡ªå®šä¹‰åŸŸåè®¿é—®ç©¿é€æœåŠ¡ã€‚ç”¨äºä½ çš„ç©¿é€æœåŠ¡çš„å”¯ä¸€è®¿é—®åŸŸåï¼Œå‡å¦‚æ²¡æœ‰åŸŸåï¼Œåˆ™æ­¤å¤„è¯·å¡«ä¸ºfrpsæœåŠ¡ç«¯çš„æœåŠ¡å™¨(IP)ã€‚è‡ªå·±æœ‰å¤šä¸ªåŸŸåï¼Œå¯ä»¥é…ç½®ä¸åŒç©¿é€åº”ç”¨æœåŠ¡ï¼Œç”¨ä¸åŒåŸŸåï¼Œåªéœ€è¦å°†å¯¹åº”åŸŸåè§£æåˆ°frpsæœåŠ¡ç«¯çš„æœåŠ¡å™¨(IP)æ—¢å¯
subdomain = abc123 # å‡å¦‚frpsæœåŠ¡ç«¯å·²ç»é…ç½®äº†subdomain_hostå‚æ•°åŸŸåï¼Œå¹¶ä¸”å·²ç»æ³›(*)è§£æåˆ°frpsæœåŠ¡ç«¯çš„æœåŠ¡å™¨(VPS)IPï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­¤å‚æ•°ï¼Œå¦åˆ™ä¸èƒ½ç”¨

# è´Ÿè½½å‡è¡¡é…ç½®
group = test_group          # è´Ÿè½½å‡è¡¡ç»„åï¼Œä¼šå°†åŒä¸€ç»„å†…çš„å®¢æˆ·ç«¯è¿›è¡Œè´Ÿè½½
group_key = 123456          # è´Ÿè½½å‡è¡¡ç»„å¯†é’¥

# ä¸ºHTTPåè®®ï¼Œæ·»åŠ HTTPç”¨æˆ·åå’Œå¯†ç å®‰å…¨è®¤è¯ã€ä»…æ”¯æŒhttp,httpsç±»å‹åè®®ã€‘
http_user = admin # è‡ªå®šä¹‰ç”¨æˆ·å
http_pwd = admin # è‡ªå®šä¹‰å¯†ç 
locations = /,/pic  # æŒ‡å®šç”¨äºè·¯ç”±çš„URLå‰ç¼€
host_header_rewrite = example.com # é…ç½®httpåŒ…å¤´åŸŸåé‡å†™
header_X-From-Where = frp # æ·»åŠ åŒ…å¤´ä¿¡æ¯X-From-Where: frp
sk = abcdefg #æ­¤å‚æ•°ç”¨äºè¿›ä¸€æ­¥éªŒè¯ï¼Œæœ¬åœ°è®¿é—®ç©¿é€æœåŠ¡çš„å®‰å…¨è¿æ¥ï¼Œéœ€è¦åŒæ–¹frpcå®¢æˆ·ç«¯éƒ½éœ€è¦é…ç½®ï¼Œä»…é€‚ç”¨äºstcpå’Œxtcpåè®®ç±»å‹

# ------------------------------------------------------------------
#ã€å®¢æˆ·ç«¯é’ˆå¯¹ä¸åŒçš„æœåŠ¡é…ç½®ä¸¾ä¾‹ã€‘ 
# ------------------------------------------------------------------

#  #åŸæ¥ http è¯·æ±‚ä¸­çš„ host å­—æ®µ test.yourdomain.com è½¬å‘åˆ°åç«¯æœåŠ¡æ—¶ä¼šè¢«æ›¿æ¢ä¸º dev.yourdomain.com
[web]
type = http
local_port = 80
http_user = admin
http_pwd = admin
custom_domains = test.yourdomain.com
host_header_rewrite = dev.yourdomain.comã€‚

# # web.yourdomain.com è¿™ä¸ªåŸŸåä¸‹æ‰€æœ‰ä»¥ /news ä»¥åŠ /about ä½œä¸ºå‰ç¼€çš„ URL è¯·æ±‚éƒ½ä¼šè¢«è½¬å‘åˆ° web02ï¼Œå…¶ä½™çš„è¯·æ±‚ä¼šè¢«è½¬å‘åˆ° web01
[web01]
type = http
local_port = 80
custom_domains = web.yourdomain.com
locations = /
[web02]
type = http
local_port = 81
custom_domains = web.yourdomain.com
locations = /news,/about  

#æ˜ å°„æœ¬åœ° 6000-6005, 6007 è¿™6ä¸ªç«¯å£ï¼Œå®é™…è¿æ¥æˆåŠŸåä¼šåˆ›å»º 6 ä¸ª proxyï¼Œå‘½åä¸º test_tcp_0, test_tcp_1 ... test_tcp_5ã€‚ä¸»è¦é…ç½®å¦‚ä¸‹
[range:test_tcp]
type = tcp
local_ip = 127.0.0.1
local_port = 6000-6006,6007
remote_port = 6000-6006,6007

# æœåŠ¡å™¨ä¸ºå®¢æˆ·ç«¯éšæ„æŒ‡å®šsshç«¯å£
[ssh_random]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 0 # å¦‚æœæ­¤å¤„è®¾ç½®ä¸º0ï¼ŒnameæœåŠ¡ç«¯å°†éšæœºåˆ†é…ç«¯å£

# æŒ‡å®šèŒƒå›´å†…éšæœºåˆ†é…ï¼ŒUDPå’ŒTCPå‡å¯
[range:tcp_port]
type = tcp
local_ip = 127.0.0.1
local_port = 6010-6020,6022,6024-6028
remote_port = 6010-6020,6022,6024-6028
use_encryption = false
use_compression = false
[range:udp_port]
type = udp
local_ip = 127.0.0.1
local_port = 6010-6020
remote_port = 6010-6020
use_encryption = false
use_compression = false


# è®¾ç½®dns
[dns]
type = udp
local_ip = 114.114.114.114
local_port = 53
remote_port = 6002
use_encryption = false
use_compression = false

# ä½¿ç”¨æ’ä»¶è·å–è¿æ¥
[plugin_unix_domain_socket]
type = tcp
remote_port = 6003
plugin = unix_domain_socket
plugin_unix_path = /var/run/docker.sock

[plugin_http_proxy]
type = tcp
remote_port = 6004
plugin = http_proxy
plugin_http_user = abc
plugin_http_passwd = abc

[plugin_socks5]
type = tcp
remote_port = 6005
plugin = socks5
plugin_user = abc
plugin_passwd = abc

[plugin_static_file]
type = tcp
remote_port = 6006
plugin = static_file
plugin_local_path = /var/www/blog
plugin_strip_prefix = static
plugin_http_user = abc
plugin_http_passwd = abc

# SCTP
[secret_tcp]
type = stcp # å¦‚æœç±»å‹ä¸ºsecret tcpï¼Œåˆ™è¿œç¨‹ç«¯å£æ— æ•ˆã€‚æƒ³è¦è¿æ¥æœ¬åœ°ç«¯å£çš„ç”¨æˆ·åº”è¯¥éƒ¨ç½²å¦ä¸€ä¸ªå¸¦æœ‰stcpä»£ç†çš„frpcï¼Œè§’è‰²æ˜¯visitor
sk = abcdefg
local_ip = 127.0.0.1
local_port = 22
use_encryption = false
use_compression = false

# åœ¨stcpæœåŠ¡å™¨å’Œstcp visitorä¸­ï¼Œfrpcçš„ç”¨æˆ·åº”è¯¥æ˜¯ç›¸åŒçš„
# frpc role visitor -&amp;gt; frps -&amp;gt; frpc role server
[secret_tcp_visitor]
role = visitor
type = stcp
server_name = secret_tcp # è¦è®¿é—®çš„æœåŠ¡å™¨åç§°
sk = abcdefg
bind_addr = 127.0.0.1
bind_port = 9000
use_encryption = false
use_compression = false

# P2P+XTCP
[p2p_tcp]
type = xtcp
sk = abcdefg
local_ip = 127.0.0.1
local_port = 22
use_encryption = false
use_compression = false

[p2p_tcp_visitor]
role = visitor
type = xtcp
server_name = p2p_tcp
sk = abcdefg
bind_addr = 127.0.0.1
bind_port = 9001
use_encryption = false
use_compression = false
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é…ç½®ä¾‹å­&#34;&gt;é…ç½®ä¾‹å­&lt;/h1&gt;
&lt;p&gt;ç¯å¢ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¢æˆ·ç«¯ï¼šlinuxï¼Œå±€åŸŸç½‘åœ°å€ä¸º192.168.1.250ï¼Œå…¬ç½‘åœ°å€ä¸º1.1.1.250&lt;/li&gt;
&lt;li&gt;è¢«è¿œç¨‹ç«¯ï¼šwin10ï¼Œå±€åŸŸç½‘åœ°å€ä¸º192.168.1.111&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ç«¯ï¼šwin10ï¼Œå…¬ç½‘åœ°å€ä¸º2.2.2.250&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯é…ç½®frpcini&#34;&gt;å®¢æˆ·ç«¯é…ç½®frpc.ini&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[common]
server_addr=192.168.1.250
server_port=7000
token=123@456

[RDP]
type=tcp
local_ip=127.0.0.1
local_port=3389
remote_port=33389
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯é…ç½®frpsini&#34;&gt;æœåŠ¡ç«¯é…ç½®frps.ini&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[common]
bind_addr=0.0.0.0
bind_port=7000
token=123@456

dashboard_port=7500
dashboard_user=admin
dashboard_user=admin@123456
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# äºŒè¿›åˆ¶æ–‡ä»¶ä½ç½®ï¼š/usr/bin/frps
# é…ç½®æ–‡ä»¶ä½ç½®ï¼š/etc/frp/frps.ini
# systemdæ–‡ä»¶ä½ç½®ï¼š/usr/lib/systemd/system/frps.service
systemctl start frps
netstat -tulnp   # å¯ä»¥æŸ¥çœ‹åˆ°ç›‘å¬çš„ç«¯å£
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®¿é—®ç«¯ä½¿ç”¨&#34;&gt;è®¿é—®ç«¯ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;è®¿é—®ç«¯ä½¿ç”¨åœ°å€&lt;code&gt;1.1.1.250:33389&lt;/code&gt;è¿›è¡Œè¿œç¨‹&lt;/p&gt;
">FRPä½¿ç”¨æ€»ç»“</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/che-di-guan-bi-win10-de-geng-xin/"" data-c="
          &lt;p&gt;&lt;code&gt;å¯ä»¥å€ŸåŠ©Dism++æˆ–è€…Windows Update Blocker&lt;/code&gt;&lt;br&gt;
æœ‰çš„ç®€åŒ–ç³»ç»Ÿï¼Œé€šè¿‡å®˜æ–¹æ›´æ–°ä¹‹åä¼šå¯¼è‡´ç³»ç»ŸæŠ¥é”™ï¼Œäºæ˜¯éœ€è¦å…³é—­å®˜æ–¹çš„æ›´æ–°ï¼Œéœ€è¦æ›´æ–°çš„æ—¶å€™é€šè¿‡æ‰‹åŠ¨æ‰“è¡¥ä¸ã€‚ä¸‹é¢è¯´ä¸€ä¸‹å…³é—­æ›´æ–°çš„æ–¹æ³•ï¼Œä¸»è¦åˆ†ä¸º4ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…³é—­æœåŠ¡ï¼ŒåŒ…å«æœåŠ¡å…³é—­å’Œæ³¨å†Œè¡¨ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;å…³é—­ç»„ç­–ç•¥&lt;/li&gt;
&lt;li&gt;åˆ é™¤ä¸‹è½½çš„è¡¥ä¸æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å…³é—­æ›´æ–°è®¡åˆ’&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æœåŠ¡å…³é—­&#34;&gt;æœåŠ¡å…³é—­&lt;/h1&gt;
&lt;p&gt;cmdå‘½ä»¤services.mscæ‰“å¼€æœåŠ¡ç®¡ç†ï¼Œå‘½ä»¤regeditæ‰“å¼€æ³¨å†Œè¡¨ï¼ˆæ³¨å†Œè¡¨ä¸­å¯¹åº”çš„ä½ç½®ä¸ºï¼š&lt;code&gt;è®¡ç®—æœº\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\&lt;/code&gt;ï¼‰&lt;br&gt;
æ¶‰åŠåˆ°çš„æœåŠ¡ä¸»è¦æœ‰4ä¸ªï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Windows Updateï¼ŒæœåŠ¡åç§°&lt;code&gt;wuauserv&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Background Intelligent Transfer Serviceï¼ŒæœåŠ¡åç§°&lt;code&gt;BITS&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Update Orchestrator Serviceï¼ŒæœåŠ¡åç§°&lt;code&gt;UsoSvc&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;Windows Update Medic Serviceï¼ŒæœåŠ¡åç§°&lt;code&gt;WaaSMedicSvc&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹ä¸Šé¢æœåŠ¡è¿›è¡Œæ“ä½œï¼Œå°†&lt;code&gt;å¸¸è§„&lt;/code&gt;é€‰é¡¹å¡ä¸­çš„&lt;code&gt;å¯åŠ¨ç±»å‹&lt;/code&gt;è®¾ç½®ä¸º&lt;code&gt;ç¦ç”¨&lt;/code&gt;ï¼Œç„¶ååœæ­¢ï¼›å°†&lt;code&gt;æ¢å¤&lt;/code&gt;é€‰é¡¹å¡ä¸­çš„å‰3ä¸ªé€‰é¡¹å‡è®¾ç½®ä¸º&lt;code&gt;æ— æ“ä½œ&lt;/code&gt;ã€‚å¦‚æœé‡åˆ°ç¦æ­¢æ“ä½œï¼ˆä¸»è¦æ˜¯Update Orchestrator Servic å’Œ Windows Update Medic Serviceï¼‰ï¼Œå¯åœ¨æ³¨å†Œè¡¨ä¸­æ‰¾åˆ°&lt;code&gt;wuauserv&lt;/code&gt;ï¼Œå°†&lt;code&gt;start&lt;/code&gt;çš„å€¼æ”¹ä¸º4ï¼Œ å°†&lt;code&gt;FailureActions&lt;/code&gt;ä¸­çš„&lt;code&gt;ç¬¬0010å’Œ0018è¡Œ&lt;/code&gt;çš„å·¦èµ·&lt;code&gt;ç¬¬5ä¸ª&lt;/code&gt;æ•°å€¼ç”±åŸæ¥çš„&lt;code&gt;01æ”¹ä¸º00&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ç­–ç•¥ä¿®æ”¹&#34;&gt;ç­–ç•¥ä¿®æ”¹&lt;/h1&gt;
&lt;p&gt;cmdå‘½ä»¤gpedit.mscæ‰“å¼€ç»„ç­–ç•¥ç¼–è¾‘å™¨&lt;br&gt;
è®¡ç®—æœºé…ç½®--&amp;gt;ç®¡ç†æ¨¡æ¿--&amp;gt;windowsç»„ä»¶--&amp;gt;windowsæ›´æ–°&lt;br&gt;
--&amp;gt;é…ç½®è‡ªåŠ¨æ›´æ–°--&amp;gt;å·²ç¦ç”¨&lt;br&gt;
--&amp;gt;åˆ é™¤ä½¿ç”¨æ‰€æœ‰Windowsæ›´æ–°åŠŸèƒ½çš„è®¿é—®æƒé™--&amp;gt;å·²å¯ç”¨&lt;/p&gt;
&lt;h1 id=&#34;åˆ é™¤æ–‡ä»¶&#34;&gt;åˆ é™¤æ–‡ä»¶&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;cmdæ‰§è¡Œ&lt;code&gt;net stop wuauserv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ é™¤&lt;code&gt;C:\windows\softwareDistribution\&lt;/code&gt;ä¸‹é¢çš„æ–‡ä»¶å¤¹&lt;code&gt;Download&lt;/code&gt;å’Œ&lt;code&gt;DataStore&lt;/code&gt;ä¸­çš„æ‰€æœ‰å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å…³é—­æ›´æ–°è®¡åˆ’&#34;&gt;å…³é—­æ›´æ–°è®¡åˆ’&lt;/h1&gt;
&lt;p&gt;cmdå‘½ä»¤taskschd.mscæ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åº&lt;br&gt;
ä»»åŠ¡è®¡åˆ’ç¨‹åºåº“--&amp;gt;Microsoft--&amp;gt;Windows--&amp;gt;WindowsUpdateï¼ŒæŠŠé‡Œé¢çš„é¡¹ç›®é€‰æ‹©å³é”®ç¦ç”¨ï¼ˆåªèƒ½ç¦ç”¨Scheduled Startï¼‰&lt;/p&gt;
">å½»åº•å…³é—­win10çš„æ›´æ–°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-hou-tai-qi-dong-fu-wu/"" data-c="
          &lt;p&gt;åå°å¯åŠ¨å®ç°æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼šç¬¬ä¸€ç§æ˜¯åœ¨å‰ç«¯å¯åŠ¨ï¼Œç„¶åå°†ç•Œé¢éšè—ï¼›ç¬¬äºŒç§æ˜¯å°†éœ€è¦åå°å¯åŠ¨çš„è½¯ä»¶æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡ï¼Œç„¶åå¯åŠ¨ï¼Œæ­¤ç§æ–¹æ³•æ¯”è¾ƒå¸¸ç”¨ã€‚&lt;br&gt;
ä¸‹é¢ä¸¾ä¾‹è¿‡ç¨‹ä¸­ä»¥FRPå®¢æˆ·ç«¯çš„åå°å¯åŠ¨ä¸ºä¾‹è¿›è¡Œé…ç½®ã€‚&lt;br&gt;
&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%B8%80srvanyui&#34;&gt;æ–¹æ³•ä¸€ï¼šSrvanyUI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%BA%8Cwinsw&#34;&gt;æ–¹æ³•äºŒï¼šWinSW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%B8%89nssm&#34;&gt;æ–¹æ³•ä¸‰ï¼šNSSM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸€srvanyui&#34;&gt;æ–¹æ³•ä¸€ï¼šSrvanyUI&lt;/h1&gt;
&lt;p&gt;ä¸‹è½½è½¯ä»¶SrvanyUIï¼Œç„¶åå°†éœ€è¦å¯åŠ¨çš„è½¯ä»¶æ³¨å†Œä¸ºè‡ªå»ºæœåŠ¡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ³¨å†Œä¸ºç³»ç»ŸæœåŠ¡æˆ–è€…é©±åŠ¨æœåŠ¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1602916048925.png&#34; alt=&#34;SrvanyUI&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šä¸ä»…å¯ä»¥æ³¨å†Œè‡ªå®šä¹‰æœåŠ¡ï¼Œè¿˜å¯ä»¥ç®¡ç†ç³»ç»Ÿè‡ªå¸¦çš„æœåŠ¡ï¼Œæ¯”è¾ƒæ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–å¼€æœºè‡ªå¯è½¯ä»¶SrvanyUI&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;æ–¹æ³•äºŒwinsw&#34;&gt;æ–¹æ³•äºŒï¼šWinSW&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;githubä¸Šä¸‹è½½æœ€æ–°çš„WinSW&lt;a href=&#34;https://github.com/winsw/winsw/releases/&#34;&gt;https://github.com/winsw/winsw/releases/&lt;/a&gt;ã€winswå¯ä»¥è¿è¡Œåœ¨.NET2å’Œ.NET4ä¸¤ä¸ªç‰ˆæœ¬ä¸Šï¼Œå½“ç„¶å¦‚æœä½¿ç”¨Win10ç­‰æ¯”è¾ƒæ–°çš„ç³»ç»Ÿï¼Œæœ€å¥½ä¸‹è½½æ›´æ–°ç‰ˆæœ¬çš„.NETã€‘&lt;/li&gt;
&lt;li&gt;ä¸‹è½½å®Œæˆåï¼Œé‡å‘½åä¸º&lt;strong&gt;winsw.exe&lt;/strong&gt;ï¼Œå¹¶æ”¾åœ¨frpç›¸åŒçš„ç›®å½•ä¸­&lt;/li&gt;
&lt;li&gt;ç¼–å†™é…ç½®æ–‡ä»¶ã€åœ¨frpç›¸åŒç›®å½•ä¸­åˆ›å»º&lt;strong&gt;winsw.xml&lt;/strong&gt;ï¼Œå¹¶åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼ˆéƒ¨åˆ†è‡ªè¡Œä¿®æ”¹ï¼‰ã€‘&lt;br&gt;
è¯¦ç»†å‚æ•°è¯·å‚è€ƒ&lt;a href=&#34;https://www.jianshu.com/p/1ee1a8526cc6&#34;&gt;https://www.jianshu.com/p/1ee1a8526cc6&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;service&amp;gt;
    &amp;lt;!--  æŒ‡å®šåœ¨Windowsç³»ç»Ÿå†…éƒ¨ä½¿ç”¨çš„è¯†åˆ«æœåŠ¡çš„ID   --&amp;gt;
    &amp;lt;!--  åœ¨ç³»ç»Ÿä¸­å®‰è£…çš„æ‰€æœ‰æœåŠ¡ä¸­ï¼Œè¿™å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå®ƒåº”è¯¥å®Œå…¨ç”±å­—æ¯æ•°å­—å­—ç¬¦ç»„æˆ   --&amp;gt;
    &amp;lt;id&amp;gt;frpc&amp;lt;/id&amp;gt;
    &amp;lt;!--  æœåŠ¡çš„ç®€çŸ­åç§°ï¼Œå®ƒå¯ä»¥åŒ…å«ç©ºæ ¼å’Œå…¶ä»–å­—ç¬¦  --&amp;gt;
    &amp;lt;!--  å°½é‡ç®€çŸ­ï¼Œå°±åƒidä¸€æ ·ï¼Œåœ¨ç³»ç»Ÿçš„æ‰€æœ‰æœåŠ¡åç§°ä¸­ï¼Œä¹Ÿè¦ä¿æŒå”¯ä¸€   --&amp;gt;
    &amp;lt;name&amp;gt;frpc&amp;lt;/name&amp;gt;
    &amp;lt;!--  è¯¥æœåŠ¡å¯è¯»æè¿°   --&amp;gt;
    &amp;lt;!--  å½“é€‰ä¸­è¯¥æœåŠ¡æ—¶ï¼Œå®ƒå°†æ˜¾ç¤ºåœ¨WindowsæœåŠ¡ç®¡ç†å™¨ä¸­   --&amp;gt;
    &amp;lt;description&amp;gt;å¯åŠ¨å†…ç½‘ç©¿é€æœåŠ¡&amp;lt;/description&amp;gt;
    &amp;lt;!--  è¯¥å…ƒç´ æŒ‡å®šè¦å¯åŠ¨çš„å¯æ‰§è¡Œæ–‡ä»¶ --&amp;gt;
    &amp;lt;!--  å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶çš„åç§°ï¼Œç„¶åä»ç¯å¢ƒå˜é‡PATHä¸­æœç´¢ --&amp;gt;
    &amp;lt;executable&amp;gt;C:\frp\frpc.exe&amp;lt;/executable&amp;gt;
    &amp;lt;!--  è¯¥å…ƒç´ æŒ‡å®šè¦ä¼ é€’ç»™å¯æ‰§è¡Œæ–‡ä»¶çš„å‚æ•°   --&amp;gt;
    &amp;lt;!--  å¦‚æœæœ‰å¿…è¦ï¼ŒWinswä¼šç»™æ¯ä¸€ä¸ªå‚æ•°å¤–åŠ å¼•å·ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…åŒé‡å¼•å·ï¼Œå°½é‡ä¸è¦åœ¨å‚æ•°ä¸­ä½¿ç”¨å¼•å·  --&amp;gt;
    &amp;lt;arguments&amp;gt;-c C:\frp\frpc.ini&amp;lt;/arguments&amp;gt;
    &amp;lt;onfailure action=&amp;quot;restart&amp;quot; delay=&amp;quot;60 sec&amp;quot;/&amp;gt;
    &amp;lt;onfailure action=&amp;quot;restart&amp;quot; delay=&amp;quot;120 sec&amp;quot;/&amp;gt;
    &amp;lt;logmode&amp;gt;reset&amp;lt;/logmode&amp;gt;
&amp;lt;/service&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ³¨å†ŒæœåŠ¡ã€‚ç¼–å†™å¥½é…ç½®æ–‡ä»¶ä¹‹åï¼Œè®°å¾—æŠŠé…ç½®æ–‡ä»¶å’Œå¯æ‰§è¡Œæ–‡ä»¶æ”¾åœ¨ä¸€èµ·ï¼Œè¿™æ ·winswæ‰èƒ½æ­£ç¡®è¯†åˆ«é…ç½®æ–‡ä»¶ï¼Œç„¶ååœ¨å½“å‰ç›®å½•ä¸‹æ‰“å¼€cmdçª—å£ï¼ˆshift+å³é”®--&amp;gt;é€‰æ‹©åœ¨æ­¤æ‰“å¼€å‘½ä»¤æç¤ºç¬¦ï¼‰ï¼Œç„¶åè¾“å…¥å‘½ä»¤&lt;code&gt;winsw install&lt;/code&gt;ï¼Œå¦‚æœè¿”å›å€¼ä¸º0ï¼Œè¯´æ˜å·²å°†ç¨‹åºæ³¨å†Œä¸ºæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¯åŠ¨
winsw start   
# åœæ­¢
winsw stop 
# å¸è½½
winsw uninstall           
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸‰nssm&#34;&gt;æ–¹æ³•ä¸‰ï¼šNSSM&lt;/h1&gt;
&lt;p&gt;NSSMæ˜¯ä¸€ä¸ªæœåŠ¡å°è£…ç¨‹åº,å®ƒå¯ä»¥å°†æ™®é€šexeç¨‹åºå°è£…æˆæœåŠ¡,ä½¿ä¹‹åƒwindowsæœåŠ¡ä¸€æ ·è¿è¡Œã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½&lt;a href=&#34;http://www.nssm.cc/download&#34;&gt;http://www.nssm.cc/download&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æŠŠä¸‹è½½çš„nssmæ–‡ä»¶æ”¾å…¥frpå®¢æˆ·ç«¯ç›®å½•ï¼Œç„¶ååœ¨å½“å‰ç›®å½•ä¸‹æ‰“å¼€cmdçª—å£ï¼Œæ‰§è¡Œ&lt;code&gt;nssm install&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é…ç½®å¦‚ä¸‹ï¼š(é»˜è®¤å¼€æœºè‡ªå¯)&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1602917656266.png&#34; alt=&#34;NSSM&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ›å»ºservernameæœåŠ¡
nssm install frpc
# å¯åŠ¨æœåŠ¡
nssm start frpc
# åœæ­¢æœåŠ¡
nssm stop frpc
# é‡å¯æœåŠ¡
nssm restart frpc
# å¸è½½æœåŠ¡
nssm remove frpc
&lt;/code&gt;&lt;/pre&gt;
">windowsåå°å¯åŠ¨æœåŠ¡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-la-ji-wen-jian-qing-li/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%80%90%E9%A1%B9%E6%9F%A5%E7%9C%8B%E5%90%8E%E5%88%A0%E9%99%A4&#34;&gt;é€é¡¹æŸ¥çœ‹ååˆ é™¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%80%E7%BB%88%E8%84%9A%E6%9C%AC&#34;&gt;æœ€ç»ˆè„šæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
è¿™é‡Œåªåˆ é™¤æœ€åŸºæœ¬çš„æ—¥å¿—ã€ç¼“å­˜ç­‰ï¼Œè‡³äºè‡ªå·±éƒ¨ç½²çš„æœåŠ¡äº§ç”Ÿçš„ç¼“å­˜ã€æ—¥å¿—ç­‰ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;é€é¡¹æŸ¥çœ‹ååˆ é™¤&#34;&gt;é€é¡¹æŸ¥çœ‹ååˆ é™¤&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;åˆ é™¤ç”¨æˆ·åé—ç•™ä¸‹çš„åƒåœ¾æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;find / -nouser 
find / -nouser -exec rm â€“rf {} \;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åˆ é™¤coreæ–‡ä»¶&lt;br&gt;
åœ¨ç³»ç»Ÿä¸‹è¿è¡ŒæŸä¸ªç¨‹åºå‡ºé”™çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†æ®‹ç•™åœ¨å†…å­˜ä¸­çš„æ•°æ®å­˜æˆcoreæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;find / -type f -name core
find /  -type f -name core -exec rm -rf {} \;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ¸…é™¤yumç¼“å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum clean all
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ç³»ç»Ÿæ—¥å¿—æ¸…ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ty=`date +%Y`
find /var/log -name &amp;quot;*-$ty*&amp;quot; -exec rm -rf {} \;
for logfile in `find /var/log -type f -name &amp;quot;*log&amp;quot;`
do
cat /dev/null &amp;gt; $logfile
done
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;åˆ é™¤ç¼“å­˜æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;rm -rf /var/cache/*
rm -rf /var/tmp/*
rm -rf /tmp/*
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;é‡Šæ”¾å†…å­˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo 3 &amp;gt; /proc/sys/vm/drop_caches
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;åˆ é™¤å‘½ä»¤æ‰§è¡Œè®°å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;history -c
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æœ€ç»ˆè„šæœ¬&#34;&gt;æœ€ç»ˆè„šæœ¬&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;find / -nouser -exec rm â€“rf {} \;
find /  -type f -name core -exec rm -rf {} \;
yum clean all
ty=`date +%Y`
find /var/log -name &amp;quot;*-$ty*&amp;quot; -exec rm -rf {} \;
for logfile in `find /var/log -type f -name &amp;quot;*log&amp;quot;`
do
cat /dev/null &amp;gt; $logfile
done
rm -rf /var/cache/*
rm -rf /var/tmp/*
rm -rf /tmp/*
echo 3 &amp;gt; /proc/sys/vm/drop_caches
history -c
&lt;/code&gt;&lt;/pre&gt;
">Centos7åƒåœ¾æ–‡ä»¶æ¸…ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-bi-shi-fu-xi-ji-hua/"" data-c="
          &lt;h1 id=&#34;ç¬¬ä¸€é˜¶æ®µ0920-1008&#34;&gt;ç¬¬ä¸€é˜¶æ®µï¼ˆ0920-1008ï¼‰&lt;/h1&gt;
&lt;p&gt;é€šè¯»ä¸¤éé¢˜åº“&lt;/p&gt;
&lt;h1 id=&#34;ç¬¬äºŒé˜¶æ®µ1008-1021&#34;&gt;ç¬¬äºŒé˜¶æ®µï¼ˆ1008-1021ï¼‰&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨æ¨¡æ‹Ÿè€ƒè¯•è½¯ä»¶å°†é¢˜åº“ä¸­å…¨éƒ¨é¢˜è¿›è¡Œæµ‹è¯•ï¼Œæœªèƒ½è®°ä½çš„æˆªå›¾ä¿å­˜ï¼Œç„¶åçœ‹å›¾å¤ä¹ ï¼Œåœ¨è¿›è¡Œåˆ·é¢˜ï¼Œç›´è‡³å…¨éƒ¨é€šå…³&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬1æ¬¡&lt;sup&gt;20201009&lt;/sup&gt;ï¼šç¬¬1å¥—124é¢˜ï¼Œç¬¬2å¥—83é¢˜&lt;/li&gt;
&lt;li&gt;ç¬¬2æ¬¡&lt;sup&gt;20201011&lt;/sup&gt;ï¼šç¬¬1å¥—ï¼ˆå°äºï¼‰61é¢˜ï¼Œç¬¬2å¥—58é¢˜&lt;/li&gt;
&lt;li&gt;ç¬¬3æ¬¡&lt;sup&gt;20201012&lt;/sup&gt;ï¼šç¬¬1å¥—32é¢˜ï¼Œç¬¬2å¥—28é¢˜&lt;/li&gt;
&lt;li&gt;ç¬¬4æ¬¡&lt;sup&gt;20201013&lt;/sup&gt;ï¼šç¬¬1å¥—3é¢˜ï¼Œç¬¬2å¥—13é¢˜&lt;br&gt;
2020.1021ï¼Œå‘¨ä¸‰è€ƒè¯•ï¼Œæˆç»©å¦‚ä¸‹ï¼š&lt;br&gt;
900åˆ†é€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
">HCIE ç¬”è¯•å¤ä¹ è®¡åˆ’ï¼ˆ1ä¸ªæœˆ0920-1021ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/mongodb-xue-xi-bi-ji-zheng-li/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C&#34;&gt;MongoDBçš„åŸºæœ¬æ“ä½œ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E7%9A%84%E7%AE%80%E4%BB%8B%E5%92%8C%E5%AE%89%E8%A3%85%E5%90%AF%E5%8A%A8&#34;&gt;MongoDBçš„ç®€ä»‹å’Œå®‰è£…å¯åŠ¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%80%E4%BB%8B&#34;&gt;ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%89%E8%A3%85&#34;&gt;å®‰è£…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%B8%80%E5%9F%BA%E4%BA%8Eyum%E6%BA%90&#34;&gt;æ–¹æ³•ä¸€ï¼šåŸºäºyumæº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%BA%8C%E5%9F%BA%E4%BA%8E%E6%96%87%E4%BB%B6&#34;&gt;æ–¹æ³•äºŒï¼šåŸºäºæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE&#34;&gt;é…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E5%8D%95%E4%BE%8B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&#34;&gt;æœ€ç®€å•çš„å•ä¾‹é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%AF%E5%8A%A8&#34;&gt;å¯åŠ¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bin%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E5%87%A0%E4%B8%AA%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E&#34;&gt;binç›®å½•ä¸‹çš„å‡ ä¸ªæ–‡ä»¶è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E5%90%AF%E5%8A%A8%E4%BC%98%E5%8C%96&#34;&gt;MongoDBæœåŠ¡å™¨çš„å¯åŠ¨ä¼˜åŒ–&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%90%AF%E5%8A%A8%E4%BC%98%E5%8C%96%E8%AF%B4%E6%98%8E&#34;&gt;mongodbå¯åŠ¨ä¼˜åŒ–è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%8C%96&#34;&gt;ä¼˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8&#34;&gt;MongoDBå®¢æˆ·ç«¯åŸºç¡€ä½¿ç”¨&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E7%9A%84%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E4%BB%8B%E7%BB%8D&#34;&gt;mongodbçš„åŸºç¡€æ¦‚å¿µä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%A2%E6%88%B7%E7%AB%AF&#34;&gt;å®¢æˆ·ç«¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C&#34;&gt;æ•°æ®æ“ä½œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E9%9B%86%E5%90%88%E7%9A%84%E5%A4%9A%E7%A7%8D%E6%9F%A5%E8%AF%A2%E6%96%B9%E5%BC%8F&#34;&gt;MongoDBé›†åˆçš„å¤šç§æŸ¥è¯¢æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E7%B4%A2%E5%BC%95%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%BB%BA%E7%AB%8B&#34;&gt;MongoDBç´¢å¼•æŸ¥è¯¢ä¸å»ºç«‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E7%9B%91%E6%8E%A7%E5%91%BD%E4%BB%A4&#34;&gt;MongoDBæ•°æ®åº“çš„ç›‘æ§å‘½ä»¤&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86&#34;&gt;MongoDBå‰¯æœ¬é›†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E7%9A%84%E6%90%AD%E5%BB%BA&#34;&gt;MongoDBå‰¯æœ¬é›†çš„æ­å»º&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&#34;&gt;mongodbå‰¯æœ¬é›†é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%AF%E5%8A%A83%E4%B8%AAmongodb%E6%9C%8D%E5%8A%A1%E5%99%A8&#34;&gt;å¯åŠ¨3ä¸ªmongodbæœåŠ¡å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%8A%E5%85%B6%E7%8A%B6%E6%80%81%E6%9F%A5%E7%9C%8B&#34;&gt;mongodbå‰¯æœ¬é›†çš„åˆå§‹åŒ–åŠå…¶çŠ¶æ€æŸ¥çœ‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E6%95%85%E9%9A%9C%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2&#34;&gt;MongoDBå‰¯æœ¬é›†æ•…éšœè‡ªåŠ¨åˆ‡æ¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;MongoDBå‰¯æœ¬é›†çš„ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%89%AF%E6%9C%AC%E9%9B%86%E7%9A%84%E4%BC%B8%E7%BC%A9&#34;&gt;MongoDBå‰¯æœ¬é›†çš„ä¼¸ç¼©&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E7%9A%84%E5%A4%87%E4%BB%BD%E5%92%8C%E6%81%A2%E5%A4%8D&#34;&gt;MongoDBçš„å¤‡ä»½å’Œæ¢å¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#python%E6%93%8D%E4%BD%9Cmongodb&#34;&gt;Pythonæ“ä½œMongoDB&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#python%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9Cmongodb&#34;&gt;Pythonç®€å•æ“ä½œMongoDB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#python%E8%8E%B7%E5%8F%96mongodb%E7%9A%84%E7%8A%B6%E6%80%81%E4%BF%A1%E6%81%AF&#34;&gt;Pythonè·å–MongoDBçš„çŠ¶æ€ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E8%A7%92%E8%89%B2&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤è§’è‰²&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A43%E7%A7%8D%E8%A7%92%E8%89%B2&#34;&gt;mongodbåˆ†ç‰‡é›†ç¾¤3ç§è§’è‰²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E8%A7%92%E8%89%B2%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB&#34;&gt;åˆ†ç‰‡é›†ç¾¤è§’è‰²ä¹‹é—´çš„ä¾èµ–å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AE&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤é…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E4%B9%8Bconfigsvr&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹configsvr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E4%B9%8Brouter&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹router&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E4%B9%8Bsharedsvr&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹sharedsvr&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mongodb%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4%E4%BD%BF%E7%94%A8&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
å‚è€ƒ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mongodb.org.cn/&#34;&gt;https://www.mongodb.org.cn/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.runoob.com/mongodb/mongodb-tutorial.html&#34;&gt;https://www.runoob.com/mongodb/mongodb-tutorial.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/chenmh/p/8681867.html&#34;&gt;https://www.cnblogs.com/chenmh/p/8681867.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;mongodbçš„åŸºæœ¬æ“ä½œ&#34;&gt;MongoDBçš„åŸºæœ¬æ“ä½œ&lt;/h1&gt;
&lt;h2 id=&#34;mongodbçš„ç®€ä»‹å’Œå®‰è£…å¯åŠ¨&#34;&gt;MongoDBçš„ç®€ä»‹å’Œå®‰è£…å¯åŠ¨&lt;/h2&gt;
&lt;h3 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;mongodbæ˜¯ä¸ªéå…³ç³»å‹æ•°æ®åº“ï¼Œä½†æ“ä½œè·Ÿå…³ç³»å‹æ•°æ®æœ€ç±»ä¼¼ï¼ˆmysqlæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼‰&lt;/li&gt;
&lt;li&gt;mongodbæ˜¯é¢å‘æ–‡æ¡£å­˜å‚¨çš„éå…³ç³»å‹æ•°æ®åº“ï¼Œæ•°æ®ä»¥jsonçš„æ ¼å¼è¿›è¡Œå­˜å‚¨&lt;/li&gt;
&lt;li&gt;mongodbå¯ç”¨æ¥æ°¸ä¹…å­˜å‚¨ï¼Œä¹Ÿå¯ç”¨æ¥ç¼“å­˜æ•°æ®&lt;/li&gt;
&lt;li&gt;mongodbæä¾›å‰¯æœ¬é›†å’Œåˆ†ç‰‡é›†ç¾¤åŠŸèƒ½ï¼Œæ“ä½œç®€å•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;h4 id=&#34;æ–¹æ³•ä¸€åŸºäºyumæº&#34;&gt;æ–¹æ³•ä¸€ï¼šåŸºäºyumæº&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®yumæº&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/yum.repos.d/mongo.repo
    # ç¤¾åŒºç‰ˆ
    [mongodb-org-4.2]
    name=MongoDB Repository
    baseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.2/x86_64/
    gpgcheck=0
    enabled=1
    # gpgkey=https://www.mongodb.org/static/pgp/server-4.2.asc

    # ä¼ä¸šç‰ˆ
    [mongodb-enterprise-4.2]
    name=MongoDB Enterprise Repository
    baseurl=https://repo.mongodb.com/yum/redhat/$releasever/mongodb-enterprise/4.2/$basearch/
    gpgcheck=0
    enabled=1
    # gpgkey=https://www.mongodb.org/static/pgp/server-4.2.asc
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¤¾åŒºç‰ˆå’Œä¼ä¸šç‰ˆï¼ŒäºŒé€‰ä¸€ï¼Œè¿™é‡Œé€‰æ‹©ç¤¾åŒºç‰ˆ
yum install -y mongodb-org*
# å¦‚æœæŒ‡å®šç‰ˆæœ¬å’Œç»„ä»¶åŒ…ï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤
# yum install -y mongodb-org-4.2.6 mongodb-org-server-4.2.6 mongodb-org-shell-4.2.6 mongodb-org-mongos-4.2.6 mongodb-org-tools-4.2.6
# ä¼ä¸šç‰ˆå®‰è£…ï¼š
# yum install -y mongodb-enterprise
# yum install -y mongodb-enterprise-4.2.6 mongodb-enterprise-server-4.2.6 mongodb-enterprise-shell-4.2.6 mongodb-enterprise-mongos-4.2.6 mongodb-enterprise-tools-4.2.6
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥æŒ‡å®šä»»ä½•å¯ç”¨çš„MongoDBç‰ˆæœ¬ã€‚ä½†æ˜¯&lt;code&gt;yum&lt;/code&gt; ï¼Œå½“æœ‰æ–°ç‰ˆæœ¬å¯ç”¨æ—¶ï¼Œå°†å‡çº§è½¯ä»¶åŒ…ã€‚ä¸ºé˜²æ­¢æ„å¤–å‡çº§ï¼Œè¯·å›ºå®šåŒ…è£…ã€‚è¦å›ºå®šåŒ…ï¼Œ&lt;code&gt;exclude&lt;/code&gt;è¯·åœ¨&lt;code&gt;/etc/yum.conf&lt;/code&gt;æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹æŒ‡ä»¤ï¼š&lt;code&gt;exclude=mongodb-org,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ–¹æ³•äºŒåŸºäºæ–‡ä»¶&#34;&gt;æ–¹æ³•äºŒï¼šåŸºäºæ–‡ä»¶&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ˜¯å±€åŸŸç½‘ç¯å¢ƒï¼Œå¯ä»¥ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„rpmæ–‡ä»¶è¿›è¡Œå®‰è£…&lt;/li&gt;
&lt;li&gt;ä¸‹è½½å‹ç¼©åŒ…è¿›è¡Œè§£å‹è¿è¡Œï¼Œç¤¾åŒºç‰ˆåœ°å€ï¼š&lt;a href=&#34;https://www.mongodb.com/try/download/community&#34;&gt;https://www.mongodb.com/try/download/community&lt;/a&gt;å’Œ&lt;a href=&#34;https://www.mongodb.com/download-center/community/releases&#34;&gt;https://www.mongodb.com/download-center/community/releases&lt;/a&gt;ï¼Œä¼ä¸šç‰ˆåœ°å€ï¼š&lt;a href=&#34;https://www.mongodb.com/try/download/enterprise&#34;&gt;https://www.mongodb.com/try/download/enterprise&lt;/a&gt;å’Œ&lt;a href=&#34;https://www.mongodb.com/download-center/enterprise/releases&#34;&gt;https://www.mongodb.com/download-center/enterprise/releases&lt;/a&gt;ï¼Œé€‰æ‹©è‡ªå·±æƒ³è¦çš„ç‰ˆæœ¬å’Œå®‰è£…æ–¹å¼ï¼Œç„¶åè¿›è¡Œä¸‹è½½å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä»¥å®‰è£…äºŒè¿›åˆ¶æ–‡ä»¶ä¸ºä¾‹ï¼ˆè§£å‹å³è¿è¡Œï¼‰
cd /usr/local/src
wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel70-4.4.1.tgz
tar -zxvf mongodb-linux-x86_64-rhel70-4.4.1.tgz
mv mongodb-linux-x86_64-rhel70-4.4.1/bin/* /usr/bin
# éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ
ll -h /usr/bin | grep mongo
mongod --help
mongod --version
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;h4 id=&#34;æœ€ç®€å•çš„å•ä¾‹é…ç½®æ–‡ä»¶&#34;&gt;æœ€ç®€å•çš„å•ä¾‹é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ›å»ºæ•°æ®å’Œæ—¥å¿—ç›®å½•
mkdir -p /data/mongodb/27017/
vim /data/mongodb/27017/mongodb.conf
  # æ—¥å¿—
  systemLog:
    destination: file
    logAppend: true
    path: /data/mongodb/27017/mongodb.log
  # å­˜å‚¨
  storage:
    dbPath: /data/mongodb/27017/
    journal:
      enabled: true
  # è¿›ç¨‹
  processManagement:
    fork: true
  # ç½‘ç»œ
  net:
    port: 27017
    bindIp: 0.0.0.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ã€æ³¨æ„äº‹é¡¹ã€‘&lt;/strong&gt;ï¼šå¦‚æœæ˜¯å…¬ç½‘æœåŠ¡å™¨ï¼Œå»ºè®®ç›‘å¬åœ¨127.0.0.1&lt;/p&gt;
&lt;h3 id=&#34;å¯åŠ¨&#34;&gt;å¯åŠ¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨mongodbæœåŠ¡å™¨ï¼š&lt;code&gt;/usr/local/mongodb/bin/mongod -f /data/mongodb/27017/mongodb.conf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;mongodbçš„å¯åŠ¨éªŒè¯ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ll -h /data/mongodb/27017/ #æ•°æ®æ–‡ä»¶æŸ¥çœ‹
ps auxf  | grep mongo   #è¿›ç¨‹æŸ¥çœ‹
netstat -tulnp|grep mongo #ç«¯å£æŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;mongodbçš„å…³é—­ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;kill å…³é—­ #ä¸å»ºè®®ï¼Œåç»­ä»‹ç»æ­£ç¡®çš„å…³é—­æ–¹æ³•
kill -9å’Œçªç„¶æ–­ç”µå¯èƒ½ä¼šå¯¼è‡´mongodbæ•°æ®çš„ä¸¢å¤±
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;binç›®å½•ä¸‹çš„å‡ ä¸ªæ–‡ä»¶è¯´æ˜&#34;&gt;binç›®å½•ä¸‹çš„å‡ ä¸ªæ–‡ä»¶è¯´æ˜&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;mongoï¼šå®¢æˆ·ç«¯ç¨‹åºï¼Œè¿æ¥MongoDB&lt;/li&gt;
&lt;li&gt;mongodï¼šæœåŠ¡ç«¯ç¨‹åºï¼Œå¯åŠ¨MongoDB&lt;/li&gt;
&lt;li&gt;mongodumpï¼šå¤‡ä»½ç¨‹åº&lt;/li&gt;
&lt;li&gt;mongoexportï¼šæ•°æ®å¯¼å‡ºç¨‹åº&lt;/li&gt;
&lt;li&gt;mongofilesï¼šGridFSå·¥å…·ï¼Œå†…å»ºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;mongoimportï¼šæ•°æ®å¯¼å…¥ç¨‹åº&lt;/li&gt;
&lt;li&gt;mongorestoreï¼šæ•°æ®æ¢å¤ç¨‹åº&lt;/li&gt;
&lt;li&gt;mongosï¼šæ•°æ®åˆ†ç‰‡ç¨‹åºï¼Œæ”¯æŒæ•°æ®çš„æ¨ªå‘æ‰©å±•&lt;/li&gt;
&lt;li&gt;mongostatï¼šç›‘è§†ç¨‹åº&lt;br&gt;
ä»4.4ç‰ˆæœ¬å¼€å§‹ï¼Œmongostatç­‰ç›¸å…³å·¥å…·ä¸å†éšç€æ•°æ®åº“å®‰è£…åŒ…ä¸€èµ·å‘å¸ƒäº†ï¼Œå°†å•ç‹¬ä½œä¸ºä¸€ä¸ªå®‰è£…åŒ…å‘å¸ƒ&lt;a href=&#34;https://docs.mongodb.com/database-tools&#34;&gt;MongoDB Database Tools project&lt;/a&gt;ï¼Œæ¶‰åŠå·¥å…·å¦‚ä¸‹ï¼šmongoimportã€mongoexportã€mongodumpã€mongorestoreã€mongotopã€mongostatã€bsondumpã€‚å¦‚éœ€è¦ä½¿ç”¨ï¼Œéœ€è¦å•ç‹¬ä¸‹è½½å®‰è£…ï¼Œæœ‰rpmåŒ…å’ŒtaråŒ…ä¸¤ç§ã€‚å®‰è£…ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯å¤åˆ¶æ–‡ä»¶åˆ°binç›®å½•ä¸‹å°±è¡Œäº†ã€‚&lt;br&gt;
å·¥å…·çš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /usr/local/src
wget https://repo.mongodb.org/yum/redhat/7/mongodb-org/4.2/x86_64/RPMS/mongodb-org-tools-4.2.9-1.el7.x86_64.rpm
yum localinstall -y mongodb-org-tools-4.2.9-1.el7.x86_64.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbæœåŠ¡å™¨çš„å¯åŠ¨ä¼˜åŒ–&#34;&gt;MongoDBæœåŠ¡å™¨çš„å¯åŠ¨ä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;mongodbæä¾›ä¸€ä¸ªmongoå®¢æˆ·ç«¯ï¼Œç±»ä¼¼äºmysqlæä¾›çš„å®¢æˆ·ç«¯å‘½ä»¤&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mongo 127.0.0.1:27017
mongo #é»˜è®¤è¿æ¥åˆ°127.0.0.1:27017
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mongodbå¯åŠ¨ä¼˜åŒ–è¯´æ˜&#34;&gt;mongodbå¯åŠ¨ä¼˜åŒ–è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;WARNING&lt;/strong&gt;: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine ---&amp;gt;&lt;code&gt;å»ºè®®ä½¿ç”¨xfsçš„æ–‡ä»¶ç³»ç»Ÿ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WARNING&lt;/strong&gt;: Access control is not enabled for the database.Read and write access to data and configuration is unrestricted. ---&amp;gt;&lt;code&gt;å»ºè®®è¿›è¡Œç”¨æˆ·æƒé™è®¾ç½®&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;WARNING: You are running this process as the root user, which is not recommended. ---&amp;gt;&lt;code&gt;ä¸å»ºè®®ä»¥rootç”¨æˆ·è¿è¡Œï¼ˆæ­¤å»ºè®®å¯ä»¥ä¸ç†ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;WARNING: /sys/kernel/mm/transparent_hugepage/enabled is &#39;always&#39;.We suggest setting it to &#39;never&#39; ---&amp;gt;&lt;code&gt;å»ºè®®ç¦æ­¢Linuxçš„æœ€å¤§å†…å­˜é¡µ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;WARNING: /sys/kernel/mm/transparent_hugepage/defrag is &#39;always&#39;.We suggest setting it to &#39;never&#39; ---&amp;gt;&lt;code&gt;å»ºè®®ç¦æ­¢Linuxçš„æœ€å¤§å†…å­˜é¡µ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;WARNING: soft rlimits too low. rlimits set to 3895 processes, 65535 files. Number of processes should be at least 32767.5 : 0.5 times number of files.---&amp;gt;&lt;code&gt;å»ºè®®å°†ç”¨æˆ·è¿›ç¨‹æ•°ä¿®æ”¹ä¸º65535&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¼˜åŒ–&#34;&gt;ä¼˜åŒ–&lt;/h3&gt;
&lt;p&gt;å…·ä½“çš„ç³»ç»Ÿå†…æ ¸å‚æ•°è®¾ç½®å¯ä»¥é€šè¿‡å‘½ä»¤&lt;code&gt;ulimit -a&lt;/code&gt;è¿›è¡ŒæŸ¥çœ‹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€æ–‡ä»¶æ•°å’Œå†…æ ¸è¿›ç¨‹æ•°é™åˆ¶æ”¾å¼€æ–¹å¼å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/security/limits.conf
    * - nofile 102400
    * - nproc 65536
# éœ€è¦é‡æ–°ç™»å½•
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¦æ­¢å†…å­˜å·¨å¤§é¡µ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/rc.local
    echo &#39;never&#39; &amp;gt;/sys/kernel/mm/transparent_hugepage/enabled
    echo &#39;never&#39; &amp;gt;/sys/kernel/mm/transparent_hugepage/defrag 
chmod +x /etc/rc.d/rc.local #centos7é»˜è®¤rc.localæ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œéœ€è¦æ”¯æŒæ‰§è¡Œæƒé™
# /etc/rc.d/rc.local ç”¨äºæ·»åŠ å¼€æœºå¯åŠ¨å‘½ä»¤ï¼Œ/etc/rc.localæ˜¯/etc/rc.d/rc.localçš„è½¯è¿æ¥
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¿®æ”¹centos7é»˜è®¤çš„è¿›ç¨‹æ•°é™åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/security/limits.d/20-nproc.conf
    *          soft    nproc     65536  # ä¿®æ”¹ä¸º65536
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ä½¿ç”¨æ™®é€šç”¨æˆ·å¯åŠ¨mongodb&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;useradd mongodb -s /sbin/nologin
chown -R mongodb:mongodb /data/mongodb/ /usr/local/mongodb/
su - mongodb -s /bin/bash  #  - æ”¹å˜å·¥ä½œç›®å½•ä¸ºmongodbçš„ç”¨æˆ·ç›®å½•ï¼›-s æŒ‡å®šè¦æ‰§è¡Œçš„ shell 
mongod -f /data/mongodb/27017/mongodb.conf 
# æ£€æŸ¥æ˜¯å¦å¯åŠ¨æˆåŠŸ
logout # å›åˆ°rootç¯å¢ƒ
ps auxf  | grep mongo
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbå®¢æˆ·ç«¯åŸºç¡€ä½¿ç”¨&#34;&gt;MongoDBå®¢æˆ·ç«¯åŸºç¡€ä½¿ç”¨&lt;/h2&gt;
&lt;h3 id=&#34;mongodbçš„åŸºç¡€æ¦‚å¿µä»‹ç»&#34;&gt;mongodbçš„åŸºç¡€æ¦‚å¿µä»‹ç»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;databaseï¼šæ•°æ®åº“&lt;/li&gt;
&lt;li&gt;collectionï¼šé›†åˆï¼Œç±»ä¼¼äºmysqlä¸­çš„è¡¨&lt;/li&gt;
&lt;li&gt;filedï¼šç±»ä¼¼äºmysqlä¸­å­—æ®µ&lt;/li&gt;
&lt;li&gt;documentï¼šæ¯è¡Œçš„è®°å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;p&gt;mongoå®¢æˆ·ç«¯çš„å‘½ä»¤è‡ªåŠ¨æç¤ºåŠŸèƒ½ï¼ˆä½¿ç”¨tabé”®ï¼‰&lt;br&gt;
æŸ¥è¯¢æ‰€æœ‰çš„åº“ï¼Œé»˜è®¤è‡ªå¸¦ä¸‰ä¸ªåº“&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;show dbs
show databases
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mongoå®¢æˆ·ç«¯æä¾›ä¸€ä¸ª&lt;strong&gt;æ­£ç¡®å…³é—­mongodbæœåŠ¡å™¨çš„æ–¹æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;use admin
db.shutdownServer()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ•°æ®æ“ä½œ&#34;&gt;æ•°æ®æ“ä½œ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# mongodbåˆ›å»ºåº“ã€åˆ›å»ºé›†åˆã€æ’å…¥æ•°æ®(key valueçš„å­—å…¸æ–¹å¼æ’å…¥)
use shijiange  #useå³å¯ï¼Œæ— éœ€æ˜¾å¼åˆ›å»ºæ•°æ®åº“
db.myuser.insert({ name: &#39;shijiange1&#39;, age:28 }) #æ— éœ€æ˜¾ç¤ºåˆ›å»ºcollection
db.myuser.insert( {&#39;name&#39;: &#39;shijiange2&#39;, age: 27} )
db.myuser.insert( {&#39;name&#39;: &#39;shijiange3&#39;, age: 26} )
show dbs
    # admin      0.000GB
    # config     0.000GB
    # local      0.000GB
    # shijiange  0.000GB
show collections
    # myuser
show tables
    # myuser

#---------------------------------------------------------------------------

# æŸ¥è¯¢é›†åˆæ•°æ®ï¼Œé»˜è®¤æœ‰ä¸ª_id
use shijiange
db.myuser.find()     #æŸ¥è¯¢æ‰€æœ‰æ•°æ®
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b33842e21a0f61eddeef6&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange1&amp;quot;, &amp;quot;age&amp;quot; : 28 }
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b341c4bffd59d8b427d3a&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange2&amp;quot;, &amp;quot;age&amp;quot; : 27 }
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b34234bffd59d8b427d3b&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange3&amp;quot;, &amp;quot;age&amp;quot; : 26 }
db.myuser.find( { name: &#39;shijiange1&#39; } )
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b33842e21a0f61eddeef6&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange1&amp;quot;, &amp;quot;age&amp;quot; : 28 }
db.myuser.find( { age: 26 } )
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b34234bffd59d8b427d3b&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange3&amp;quot;, &amp;quot;age&amp;quot; : 26 }

#---------------------------------------------------------------------------

# åˆ é™¤é›†åˆæ•°æ®
use shijiange
db.myuser.remove({ name: &#39;shijiange2&#39; }) #æœ‰æ¡ä»¶çš„åˆ é™¤
db.myuser.find()
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b33842e21a0f61eddeef6&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange1&amp;quot;, &amp;quot;age&amp;quot; : 28 }
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b34234bffd59d8b427d3b&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange3&amp;quot;, &amp;quot;age&amp;quot; : 26 }
db.myuser.remove( {} )      #åˆ é™¤æ•°æ®
db.myuser.drop()      #åˆ é™¤é›†åˆ

# é›†åˆçš„fieldè™½ç„¶ä¸éœ€è¦å›ºå®šï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ä¸è¿™æ ·å­ä½¿ç”¨
db.myuser.insert( {age: 28} )
db.myuser.insert( {&#39;location&#39;: &#39;hangzhou&#39;} )
db.myuser.find()

# æ›´æ–°é›†åˆæ•°æ®
use shijiange;
db.myuser.update({ &#39;location&#39;: &#39;hangzhou&#39; }, { $set: { &#39;location&#39;: &#39;shanghai&#39; } })
db.myuser.update({ age: 28 }, {$set: { age: 30 }})

# åˆ é™¤æ•°æ®åº“
use shijiange
db.dropDatabase()
# ã€æ³¨æ„ã€‘ï¼šmongodbè‡ªå¸¦çš„ä¸‰ä¸ªåº“ä¸è¦åŠ¨
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbé›†åˆçš„å¤šç§æŸ¥è¯¢æ–¹å¼&#34;&gt;MongoDBé›†åˆçš„å¤šç§æŸ¥è¯¢æ–¹å¼&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# collectionæ•°æ®å‡†å¤‡
use shijiange
db.myuser.insert( {name:&amp;quot;shijiange1&amp;quot;, age: 20} )
db.myuser.insert( {name:&amp;quot;shijiange2&amp;quot;, age: 28} )
db.myuser.insert( {name:&amp;quot;shijiange3&amp;quot;, age: 38} )
db.myuser.insert( {name:&amp;quot;zhangsan1&amp;quot;, age: 58} )
db.myuser.insert( {name:&amp;quot;zhangsan2&amp;quot;, age: 68} )
db.myuser.insert( {name:&amp;quot;zhangsan3&amp;quot;, age: 25} )

# prettyæ˜“è¯»çš„æ–¹å¼
db.myuser.find().pretty()

# æŸ¥è¯¢æ•°æ®æ€»å…±çš„è®°å½•æ•°
db.myuser.find().count()

# limité™åˆ¶æ¡æ•°æŸ¥è¯¢
db.myuser.find()
db.myuser.find().limit(2)    #æŸ¥çœ‹å‰é¢ä¸¤æ¡è®°å½•
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b39cefe38c3fe6a2b7f3e&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange1&amp;quot;, &amp;quot;age&amp;quot; : 20 }
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b39cefe38c3fe6a2b7f3f&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange2&amp;quot;, &amp;quot;age&amp;quot; : 28 }

# ä½¿ç”¨skipè·³è¿‡è®°å½•
db.myuser.find().skip(2).limit(2)
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b39cefe38c3fe6a2b7f40&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;shijiange3&amp;quot;, &amp;quot;age&amp;quot; : 38 }
    # { &amp;quot;_id&amp;quot; : ObjectId(&amp;quot;5f5b39cefe38c3fe6a2b7f41&amp;quot;), &amp;quot;name&amp;quot; : &amp;quot;zhangsan1&amp;quot;, &amp;quot;age&amp;quot; : 58 }

# mongodbåˆ†é¡µæŸ¥è¯¢ï¼ˆæ¯æ¬¡æ˜¾ç¤ºä¸¤æ¡ï¼Œé€’è¿›æ˜¾ç¤ºï¼‰
db.myuser.find().skip(0).limit(2)
db.myuser.find().skip(2).limit(2)
db.myuser.find().skip(4).limit(2)

# ä½¿ç”¨sortè¿›è¡Œæ’åº
db.myuser.find().sort({ age: 1 }) #æŒ‰ageå‡åº
db.myuser.find().sort({ age: -1 }) #æŒ‰ageé™åº

# æ ¹æ®å­—æ®µè¿›è¡Œæ•°å­—æ¯”è¾ƒæŸ¥è¯¢
db.myuser.find({ age: {$lt: 30} })
    # $gt:å¤§äºï¼›$lt:å°äºï¼›$gte:å¤§äºæˆ–ç­‰äºï¼›$lte:å°äºæˆ–ç­‰äº

# æŸ¥è¯¢å¤šç§æ¡ä»¶çš„ç»„åˆ
db.myuser.find( {name: &#39;shijiange1&#39;} )
db.myuser.find( {name: &#39;shijiange2&#39;} )
db.myuser.find({ $or: [ {name: &#39;shijiange1&#39;},{name: &#39;shijiange2&#39;} ] })
db.myuser.find({ $and: [ {name: &#39;shijiange1&#39;},{age: 20} ] })

# mongodbæ­£åˆ™æŸ¥è¯¢ï¼Œæ”¯æŒæ™®é€šæ­£åˆ™å’Œæ‰©å±•æ­£åˆ™
db.myuser.find({ name: {$regex: &amp;quot;shijiange[1-9]&amp;quot;} }) #æ™®é€šæ­£åˆ™è¿‡æ»¤
db.myuser.find( {&amp;quot;name&amp;quot;:{$regex:&amp;quot;(zhangsan)&amp;quot;}} )   #æ”¯æŒåˆ†ç»„æ­£åˆ™
db.myuser.find({ $and: [ {name:  {$regex: &amp;quot;shijiange[1-9]&amp;quot;}},{age: 20} ] })
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbç´¢å¼•æŸ¥è¯¢ä¸å»ºç«‹&#34;&gt;MongoDBç´¢å¼•æŸ¥è¯¢ä¸å»ºç«‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# mongodbæ•°æ®å‡†å¤‡
use shijiange
for(i=1; i&amp;lt;=500000;i++){
  db.myuser.insert( {name:&#39;mytest&#39;+i, age:i} )
}

# mongodbæœ‰æ…¢æŸ¥è¯¢çš„æ¦‚å¿µï¼Œé»˜è®¤æ˜¯è¶…è¿‡100msä¼šè®°å½•æ…¢æ—¥å¿—mongodb.log
db.getProfilingStatus()
    # { &amp;quot;was&amp;quot; : 0, &amp;quot;slowms&amp;quot; : 100, &amp;quot;sampleRate&amp;quot; : 1 } # 100ä¸º100ms
# æŸ¥è¯¢ageä¸º9999çš„ï¼ŒæŸ¥çœ‹æ‰«æçš„è¡Œæ•°
# tail -f /data/mongodb/27017/mongodb.log  # åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­æ‰§è¡Œ
db.myuser.find( {age:9999} )
db.myuser.find( {age:9999} ).explain(true) #ä½¿ç”¨explainå¯ä»¥æŸ¥çœ‹æ˜¯å¦å…¨è¡¨æ‰«æ
# æ¯æŸ¥è¯¢ä¸€æ¬¡ï¼Œä¼šå¤šå‡ºå¦‚ä¸‹ä¸€æ¡æ—¥å¿—è®°å½•ï¼š
# {&amp;quot;t&amp;quot;:{&amp;quot;$date&amp;quot;:&amp;quot;2020-09-11T17:24:01.364+08:00&amp;quot;},&amp;quot;s&amp;quot;:&amp;quot;I&amp;quot;,  &amp;quot;c&amp;quot;:&amp;quot;COMMAND&amp;quot;,  &amp;quot;id&amp;quot;:51803,   &amp;quot;ctx&amp;quot;:&amp;quot;conn3&amp;quot;,&amp;quot;msg&amp;quot;:&amp;quot;Slow query&amp;quot;,&amp;quot;attr&amp;quot;:{&amp;quot;type&amp;quot;:&amp;quot;command&amp;quot;,&amp;quot;ns&amp;quot;:&amp;quot;shijiange.myuser&amp;quot;,&amp;quot;appName&amp;quot;:&amp;quot;MongoDB Shell&amp;quot;,&amp;quot;command&amp;quot;:{&amp;quot;find&amp;quot;:&amp;quot;myuser&amp;quot;,&amp;quot;filter&amp;quot;:{&amp;quot;age&amp;quot;:9999.0},&amp;quot;lsid&amp;quot;:{&amp;quot;id&amp;quot;:{&amp;quot;$uuid&amp;quot;:&amp;quot;b6e162bc-a7d7-4efb-9d6f-e717606b8f67&amp;quot;}},&amp;quot;$db&amp;quot;:&amp;quot;shijiange&amp;quot;},&amp;quot;planSummary&amp;quot;:&amp;quot;COLLSCAN&amp;quot;,&amp;quot;keysExamined&amp;quot;:0,&amp;quot;docsExamined&amp;quot;:500000,&amp;quot;cursorExhausted&amp;quot;:true,&amp;quot;numYields&amp;quot;:500,&amp;quot;nreturned&amp;quot;:1,&amp;quot;queryHash&amp;quot;:&amp;quot;3838C5F3&amp;quot;,&amp;quot;planCacheKey&amp;quot;:&amp;quot;3838C5F3&amp;quot;,&amp;quot;reslen&amp;quot;:164,&amp;quot;locks&amp;quot;:{&amp;quot;ReplicationStateTransition&amp;quot;:{&amp;quot;acquireCount&amp;quot;:{&amp;quot;w&amp;quot;:501}},&amp;quot;Global&amp;quot;:{&amp;quot;acquireCount&amp;quot;:{&amp;quot;r&amp;quot;:501}},&amp;quot;Database&amp;quot;:{&amp;quot;acquireCount&amp;quot;:{&amp;quot;r&amp;quot;:501}},&amp;quot;Collection&amp;quot;:{&amp;quot;acquireCount&amp;quot;:{&amp;quot;r&amp;quot;:501}},&amp;quot;Mutex&amp;quot;:{&amp;quot;acquireCount&amp;quot;:{&amp;quot;r&amp;quot;:1}}},&amp;quot;storage&amp;quot;:{},&amp;quot;protocol&amp;quot;:&amp;quot;op_msg&amp;quot;,&amp;quot;durationMillis&amp;quot;:137}}

# æ·»åŠ ç´¢å¼•ï¼ŒåŠ å¿«æŸ¥è¯¢
db.myuser.getIndexes()    #è·å–å½“å‰ç´¢å¼•ï¼Œé»˜è®¤æœ‰_idçš„ç´¢å¼•ï¼Œæ‰€ä»¥ç”¨_idæŸ¥æ˜¯æ¯”è¾ƒå¿«
db.myuser.ensureIndex( {age:1} )  #å¢åŠ ageçš„å‡åºç´¢å¼•
db.myuser.getIndexes()
db.myuser.find( {age:9999} )
db.myuser.find( {age:9999} ).explain(true)
db.myuser.dropIndex( {age:1} )  #åˆ é™¤ç´¢å¼•

# ä½¿ç”¨æ­£åˆ™çš„è¯ï¼Œç´¢å¼•æ— æ•ˆæœ
db.myuser.find( {&amp;quot;name&amp;quot;:&amp;quot;mytest1&amp;quot;} )
db.myuser.ensureIndex( {name:1} )   #æ·»åŠ ç´¢å¼•
db.myuser.find( {&amp;quot;name&amp;quot;:&amp;quot;mytest6&amp;quot;} )
db.myuser.find( {&amp;quot;name&amp;quot;:/99999/} )
db.myuser.find( {&amp;quot;name&amp;quot;:/99999/} ).explain(true)  #ä½¿ç”¨æ­£åˆ™ï¼Œå…¨è¡¨æ‰«æï¼Œä¹Ÿæ˜¯æ…¢

# mongodbå»ºç«‹å”¯ä¸€ç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•å¯¹åº”çš„å€¼ä¸èƒ½é‡å¤
use shijiange
db.myuser.insert( {userid:1} )
db.myuser.insert( {userid:1} ) # æ­¤æ—¶æ²¡æœ‰å»ºç«‹å”¯ä¸€ç´¢å¼•ï¼Œæ˜¯å¯ä»¥æ’å…¥é‡å¤å€¼çš„
db.myuser.remove({})   #æ¸…ç©ºæ•°æ®
db.myuser.ensureIndex( {userid:1},{unique:true} )  #åˆ›å»ºå”¯ä¸€ç´¢å¼•
db.myuser.insert( {userid:1} )
db.myuser.insert( {userid:2} )
db.myuser.insert( {userid:1} )      #å› ä¸ºæ˜¯å”¯ä¸€ç´¢å¼•ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mongodbæ•°æ®åº“çš„ç›‘æ§å‘½ä»¤&#34;&gt;MongoDBæ•°æ®åº“çš„ç›‘æ§å‘½ä»¤&lt;/h1&gt;
&lt;p&gt;mongostatå¯ä»¥å®æ—¶ç›‘æ§mongodbçš„çŠ¶æ€ï¼Œä¸€ç›´åˆ·æ–°è¾“å‡º&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mongostat --help
mongostat  -h 127.0.0.1:27017
mongostat  # é»˜è®¤ç›‘æ§127.0.0.1:27017

# æµ‹è¯•è„šæœ¬
use shijiange
for(i=1; i&amp;lt;=300000;i++){
  db.myuser.insert( {name:&#39;mytest&#39;+i, age:i} )
}

# mongodbç›‘æ§ä¹‹serverStatusã€‚serverStatuså¯ç”¨æ¥è·å–mongodbçš„çŠ¶æ€ä¿¡æ¯
db.serverStatus()   #æŸ¥çœ‹æ‰€æœ‰çš„ç›‘æ§ä¿¡æ¯
db.serverStatus().network #å•ç‹¬æŸ¥çœ‹ç½‘ç»œæµé‡ä¿¡æ¯
db.serverStatus().opcounters #ç»Ÿè®¡å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„æ¬¡æ•°
db.serverStatus().connections #è¿æ¥

# ä½¿ç”¨éäº¤äº’å¼shellè¿›è¡Œè·å–
echo &#39;db.serverStatus()&#39; | mongo
echo &#39;db.serverStatus().opcounters&#39; | mongo
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mongodbå‰¯æœ¬é›†&#34;&gt;MongoDBå‰¯æœ¬é›†&lt;/h1&gt;
&lt;p&gt;mongodbå•å°æœåŠ¡å™¨ï¼Œæ•°æ®ä¼šæœ‰ä¸¢å¤±çš„é£é™©ï¼Œä¸”å•å°æœåŠ¡å™¨æ— æ³•åšé«˜å¯ç”¨æ€§ã€‚&lt;br&gt;
mongodbå‰¯æœ¬é›†èƒ½å¤Ÿé¢„é˜²æ•°æ®ä¸¢å¤±ï¼Œå¤šå°mongodbæ•°æ®ä¸€è‡´ï¼Œmongodbå‰¯æœ¬é›†èƒ½å¤Ÿåœ¨æœ‰é—®é¢˜çš„æ—¶å€™è‡ªåŠ¨åˆ‡æ¢ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mongodbå‰¯æœ¬é›†çš„æ­å»º&#34;&gt;MongoDBå‰¯æœ¬é›†çš„æ­å»º&lt;/h2&gt;
&lt;p&gt;å®éªŒç¯å¢ƒä»‹ç»ï¼šä½¿ç”¨3å°æœåŠ¡å™¨å®æˆ˜mongodbå‰¯æœ¬é›†ï¼Œ&lt;strong&gt;ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®è‡³å°‘ä¸‰å°æœåŠ¡å™¨&lt;/strong&gt;&lt;br&gt;
3å°æœåŠ¡å™¨çš„ipä¸ºï¼š192.168.1.202ã€192.168.1.203ã€192.168.1.204&lt;/p&gt;
&lt;h3 id=&#34;mongodbå‰¯æœ¬é›†é…ç½®æ–‡ä»¶&#34;&gt;mongodbå‰¯æœ¬é›†é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ–‡ä»¶
vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
      destination: file
      logAppend: true
      path: /data/mongodb/27017/mongodb.log
    # å­˜å‚¨
    storage:
      dbPath: /data/mongodb/27017/
      journal:
        enabled: true
    # è¿›ç¨‹
    processManagement:  
      fork: true
    # ç½‘ç»œ
    net:   
      port: 27017
      bindIp: 0.0.0.0
    # å‰¯æœ¬é›†
    replication:   
      replSetName: shijiange # ç›®å‰MongoDBæä¾›äº†ä¸‰ç§Replicationæ–¹å¼ï¼šMatser/Matser, Matser/Slave,Replica Sets
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯åŠ¨3ä¸ªmongodbæœåŠ¡å™¨&#34;&gt;å¯åŠ¨3ä¸ªmongodbæœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;éœ€è¦å¯¹åº”æ›´æ”¹ç«¯å£ã€æ•°æ®ç›®å½•ã€æ—¥å¿—è·¯å¾„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 192.168.1.202ã€192.168.1.203ã€192.168.1.204
su - mongodb -s /bin/bash
mongod -f /data/mongodb/27017/mongodb.conf  
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mongodbå‰¯æœ¬é›†çš„åˆå§‹åŒ–åŠå…¶çŠ¶æ€æŸ¥çœ‹&#34;&gt;mongodbå‰¯æœ¬é›†çš„åˆå§‹åŒ–åŠå…¶çŠ¶æ€æŸ¥çœ‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 192.168.1.202ï¼Œåªéœ€è¦åœ¨å…¶ä¸­ä¸€å°ä¸Šè¿›è¡Œåˆå§‹åŒ–å³å¯
mongo
use admin
config = { _id:&amp;quot;shijiange&amp;quot;, members:[
  {_id:0,host:&amp;quot;192.168.1.202:27017&amp;quot;},
  {_id:1,host:&amp;quot;192.168.1.203:27017&amp;quot;},
  {_id:2,host:&amp;quot;192.168.1.204:27017&amp;quot;}]
}
rs.initiate( config ) #å‰¯æœ¬é›†åˆå§‹åŒ–ï¼Œéœ€è¦ä¸€å®šæ—¶é—´
rs.status()  #å‰¯æœ¬é›†çŠ¶æ€ï¼Œä¸€ä¸ªPRIMARYï¼ˆ192.168.1.202ï¼‰ï¼Œå…¶å®ƒSECONDARYã€‚PRIMARYæ˜¯ä¸»ï¼Œåªæœ‰PRIMARYèƒ½å†™å…¥

# æµ‹è¯•å‰¯æœ¬é›†çš„æ•°æ®åŒæ­¥
# åœ¨PRIMARYé‚£å°æœºå™¨ä¸Š
mongo
use shijiange
db.myuser.insert( {name:&amp;quot;shijiange1&amp;quot;, age: 20} )
db.myuser.insert( {name:&amp;quot;shijiange2&amp;quot;, age: 28} )
db.myuser.insert( {name:&amp;quot;shijiange3&amp;quot;, age: 38} )
db.myuser.insert( {name:&amp;quot;zhangsan1&amp;quot;, age: 58} )
db.myuser.insert( {name:&amp;quot;zhangsan2&amp;quot;, age: 68} )
db.myuser.insert( {name:&amp;quot;zhangsan3&amp;quot;, age: 25} )

# åœ¨SECONDARYæœºå™¨ä¸ŠæŸ¥çœ‹
rs.secondaryOk() #4.4ç‰ˆæœ¬æ˜¯rs.secondaryOk()ï¼Œ4.0ç‰ˆæœ¬æ˜¯rs.slaveOk()ã€‚SECONDARYéœ€è¦å£°æ˜æ˜¯slaveæ‰èƒ½æŸ¥çœ‹æ•°æ®ã€ä»åº“æ— æ³•æ’å…¥æ•°æ®ã€‘
use shijiange
db.myuser.find()

# æŸ¥çœ‹slaveçš„å»¶æ—¶æƒ…å†µï¼ˆæ‰€æœ‰æœºå™¨éƒ½å¯ä»¥æ‰§è¡Œï¼‰
rs.printSlaveReplicationInfo()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbå‰¯æœ¬é›†æ•…éšœè‡ªåŠ¨åˆ‡æ¢&#34;&gt;MongoDBå‰¯æœ¬é›†æ•…éšœè‡ªåŠ¨åˆ‡æ¢&lt;/h2&gt;
&lt;p&gt;mongodbçš„å‰¯æœ¬é›†å½“primaryæŒ‚äº†ï¼Œä¼šæŒ‘é€‰å…¶ä¸­çš„ä¸€å°secondaryå‡ä¸ºä¸»ã€‚æŒ‘é€‰å…¶ä¸­ä¸€å°secondaryå‡çº§ä¸ºprimaryçš„æ¡ä»¶æ˜¯å‰©ä¸‹çš„é›†ç¾¤å°æ•°&amp;gt;=2ï¼Œå¦‚æœé›†ç¾¤åªå‰©ä¸‹ä¸€ä¸ªå®ä¾‹çš„è¯ï¼Œä¼šæœ‰å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#mongodbå‰¯æœ¬é›†è‡ªåŠ¨åˆ‡æ¢æ¼”ç¤º
mongo #è¿æ¥åˆ°primary
use admin
db.shutdownServer() #å…³é—­ä¸»mongodbï¼Œä¼šæœ‰å…¶å®ƒmongodbæå‡ä¸ºä¸»ã€‚æ’å…¥æ•°æ®æ­£å¸¸

# å…³é—­ç¬¬äºŒå°
mongo
use admin
db.shutdownServer() #å…³é—­ä¸¤å°mongodbçš„è¯ï¼Œå‰©ä¸‹ä¸€å°ä¸ä¼šæå‡ä¸ºprimaryï¼Œæ’å…¥æ•°æ®å°†å¼‚å¸¸

# åŒæ—¶å¯åŠ¨192.168.1.202å’Œ192.168.1.203ï¼Œæ²¡æœ‰å›ºå®šçš„ä¸»ï¼Œå¯é€šè¿‡ä¼˜å…ˆçº§æŒ‡å®šprimary
mongod -f /data/mongodb/27017/mongodb.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbå‰¯æœ¬é›†çš„ä¼˜å…ˆçº§&#34;&gt;MongoDBå‰¯æœ¬é›†çš„ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;p&gt;primaryçš„é€‰ä¸¾ä¾èµ–äºå„ä¸ªå®ä¾‹çš„ä¼˜å…ˆæƒé‡ï¼Œé»˜è®¤æƒé‡éƒ½æ˜¯1ã€‚å‰¯æœ¬é›†çš„ä¸»æŒ‘é€‰æƒé‡æœ€é«˜çš„ï¼Œæƒé‡ä¸€æ ·çš„æ— æ³•æ§åˆ¶è°ä¸ºä¸»ã€‚&lt;br&gt;
è®¾ç½®å„ä¸ªå®ä¾‹çš„ä¼˜å…ˆæƒé‡ï¼ŒæŒ‘é€‰è‡ªå·±æƒ³è¦çš„å®ä¾‹ä¸ºä¸»ï¼Œ&lt;strong&gt;åªæœ‰primaryå¯ä»¥æ›´æ”¹æƒé‡é…ç½®&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;conf = rs.config()   #è·å–å‰¯æœ¬é›†çš„é…ç½®ï¼Œé»˜è®¤æƒé‡éƒ½æ˜¯1
conf.members[0].priority = 5 #ç´¢å¼•å·ä»0å¼€å§‹ï¼Œæ¯æ¬¡é€’å¢1ï¼Œç±»ä¼¼æ•°ç»„ï¼ˆç›®å‰è¿™å°ä¸ºprimaryï¼‰
conf.members[1].priority = 10  
conf.members[2].priority = 15 # è®©è¿™å°å˜æˆprimary
rs.reconfig(conf)   #æ›´æ–°mongodbå‰¯æœ¬é›†çš„é…ç½®ï¼Œä¼˜å…ˆæƒé‡æœ€é«˜çš„æå‡ä¸ºprimaryï¼Œå…³é—­å¯åŠ¨åä¹Ÿä¸ºä¸»
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbå‰¯æœ¬é›†çš„ä¼¸ç¼©&#34;&gt;MongoDBå‰¯æœ¬é›†çš„ä¼¸ç¼©&lt;/h2&gt;
&lt;p&gt;mongodbå‰¯æœ¬é›†çš„æ‰©å±•éå¸¸å¥½ï¼Œå¾€å‰¯æœ¬é›†é‡Œæ·»åŠ å®ä¾‹å’Œç§»é™¤å®ä¾‹éƒ½éå¸¸æ–¹ä¾¿ã€‚å¾€mongodbå‰¯æœ¬é›†æ·»åŠ å®ä¾‹æ•°æ®èƒ½å¤Ÿè‡ªåŠ¨åŒæ­¥ï¼Œæ— éœ€äººå·¥å¹²é¢„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¾€ç°æœ‰mongodbå‰¯æœ¬é›†ä¸­æ·»åŠ å®ä¾‹
# åˆ›å»ºmongodb_4(192.168.1.205)å®ä¾‹ï¼Œé…ç½®å’Œå‰ä¸‰å°æœºå™¨ä¸€æ ·ï¼ˆè™šæ‹Ÿæœºå…‹éš†ï¼‰ï¼Œæ³¨æ„å‰¯æœ¬é›†åç§°è¦ä¿æŒä¸€è‡´replSetName: shijiange
# è¿æ¥primaryï¼ˆ192.168.1.202ï¼‰
mongo
use admin
rs.add(&#39;192.168.1.205:27017&#39;) #æ•°æ®æ˜¯è‡ªåŠ¨åŒæ­¥
# rs.addçš„ä¼˜å…ˆæƒé‡é»˜è®¤ä¸º1ï¼Œidæ˜¯é¡ºåºé€’å¢çš„

# ä»mongodbå‰¯æœ¬é›†ä¸­ç§»é™¤å®ä¾‹ï¼Œä¸å¯ç§»é™¤primary
use admin
rs.remove(&#39;192.168.1.204:27017&#39;)  # çŠ¶æ€ç”±secondaryå˜æˆother

# å‰¯æœ¬é›†ç»è¿‡æ·»åŠ åˆ é™¤åé¡ºåºä¼šä¹±ï¼Œè®¾ç½®æƒé‡éœ€è¦æ³¨æ„
rs.config() #è·å–åˆ°åï¼Œéœ€è¦æ³¨æ„æ¯ä¸ªå®ä¾‹çš„ä½ç½®ã€‚idä¸æ”¹å˜ï¼Œå³ç§»é™¤2ä¹‹åï¼Œ3ä¸ä¼šå˜æˆ2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbçš„å¤‡ä»½å’Œæ¢å¤&#34;&gt;MongoDBçš„å¤‡ä»½å’Œæ¢å¤&lt;/h2&gt;
&lt;p&gt;å•å°æœåŠ¡å™¨ä¸€å®šéœ€è¦å¤‡ä»½ï¼Œmongodumpå·¥å…·ç”¨æ¥å¤‡ä»½æ•°æ®ï¼Œmongorestoreå·¥å…·ç”¨æ¥æ¢å¤æ•°æ®ã€‚&lt;br&gt;
mongodbå¤‡ä»½è¯´æ˜éœ€è¦æŒ‡å®šipå’Œç«¯å£ï¼Œå•å°æœåŠ¡å™¨ç›´æ¥ä½¿ç”¨mongodumpè¿›è¡Œå¤‡ä»½ï¼Œå‰¯æœ¬é›†éœ€è¦è¿æ¥åˆ°primaryä¸Šå¤‡ä»½ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ•°æ®æ¸…ç©ºï¼Œå¯åŠ¨å•å°mongodb(192.168.1.202)
vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
    destination: file
    logAppend: true
    path: /data/mongodb/27017/mongodb.log
    # å­˜å‚¨
    storage:
    dbPath: /data/mongodb/27017/
    journal:
        enabled: true
    # è¿›ç¨‹
    processManagement:
    fork: true
    # ç½‘ç»œ
    net:
    port: 27017
    bindIp: 0.0.0.0

mongod -f /data/mongodb/27017/mongodb.conf
mongo
use shijiange
db.myuser.insert( {name:&amp;quot;shijiange1&amp;quot;, age: 20} )
db.myuser.insert( {name:&amp;quot;shijiange2&amp;quot;, age: 28} )
db.myuser.insert( {name:&amp;quot;shijiange3&amp;quot;, age: 38} )
db.myuser.insert( {name:&amp;quot;zhangsan1&amp;quot;, age: 58} )
db.myuser.insert( {name:&amp;quot;zhangsan2&amp;quot;, age: 68} )
db.myuser.insert( {name:&amp;quot;zhangsan3&amp;quot;, age: 25} )

# mongodbæ•°æ®åº“çš„å¤‡ä»½ï¼Œå¤‡ä»½æ‰€æœ‰åº“
mkdir -p /data/mongodbbackup/
mongodump -h 127.0.0.1:27017 -o /data/mongodbbackup/  # å¤‡ä»½æ‰€æœ‰çš„åº“
ll -h /data/mongodbbackup/
    # drwxr-xr-x 2 root root 69 9æœˆ  14 17:20 admin
    # drwxr-xr-x 2 root root 53 9æœˆ  14 17:20 shijiange

# mongodbæ•°æ®åº“çš„æ¢å¤
# å…ˆåˆ é™¤ä¹‹å‰çš„æ•°æ®
mongorestore -h 127.0.0.1:27017 /data/mongodbbackup/
# æµ‹è¯•æ•°æ®æ˜¯å¦æ¢å¤æˆåŠŸ
mongo
show dbs
use shijiange
db.myuser.find()
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;pythonæ“ä½œmongodb&#34;&gt;Pythonæ“ä½œMongoDB&lt;/h1&gt;
&lt;p&gt;mongodbå¯ä»¥ä½¿ç”¨javaã€pythonã€phpç­‰è¯­è¨€å»æ“ä½œï¼Œè¿ç»´ä½¿ç”¨Pythonå±…å¤šï¼Œä»‹ç»ä½¿ç”¨pythonæ“ä½œMongodbæ•°æ®åº“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;pythonç®€å•æ“ä½œmongodb&#34;&gt;Pythonç®€å•æ“ä½œMongoDB&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä½¿ç”¨pythonæ“ä½œmongodbï¼Œéœ€è¦ä½¿ç”¨pipå®‰è£…pymongoæ¨¡å—
# centos7(python2)
yum -y install epel-release python2-pip
pip install pymongo
# windows(python3)
pip install pymongo

# è¿æ¥ä»£ç ï¼Œå•å®ä¾‹çš„è¿æ¥ä»£ç 
import pymongo 
client = pymongo.MongoClient( &#39;192.168.1.202&#39;, 27017 )
shijiange=client.shijiange
myuser = shijiange.myuser
for item in myuser.find():
  print(item)
    # runfile(&#39;C:/Users/Administrator/.spyder-py3/temp.py&#39;, wdir=&#39;C:/Users/Administrator/.spyder-py3&#39;)
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355cc7bc18dcf8165033&#39;), &#39;name&#39;: &#39;shijiange1&#39;, &#39;age&#39;: 20.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355cc7bc18dcf8165034&#39;), &#39;name&#39;: &#39;shijiange2&#39;, &#39;age&#39;: 28.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355cc7bc18dcf8165035&#39;), &#39;name&#39;: &#39;shijiange3&#39;, &#39;age&#39;: 38.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355cc7bc18dcf8165036&#39;), &#39;name&#39;: &#39;zhangsan1&#39;, &#39;age&#39;: 58.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355cc7bc18dcf8165037&#39;), &#39;name&#39;: &#39;zhangsan2&#39;, &#39;age&#39;: 68.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f355dc7bc18dcf8165038&#39;), &#39;name&#39;: &#39;zhangsan3&#39;, &#39;age&#39;: 25.0}

# pymongoå‰¯æœ¬é›†çš„è¿æ¥ä»£ç ï¼Œä»£ç æ”¯æŒè‡ªåŠ¨åˆ‡æ¢
import pymongo
client = pymongo.MongoClient( [&#39;192.168.1.203:27017&#39;, &#39;192.168.1.205:27017&#39;] )
shijiange = client.shijiange
myuser = shijiange.myuser
myvar = {&#39;age&#39;:20, &#39;name&#39;: &#39;shijiange&#39;}
myuser.insert(myvar)
for item in myuser.find():
  print(item)
    # runfile(&#39;C:/Users/Administrator/.spyder-py3/temp.py&#39;, wdir=&#39;C:/Users/Administrator/.spyder-py3&#39;)
    # {&#39;_id&#39;: ObjectId(&#39;5f5f3076d0a7709cefe0eea6&#39;), &#39;name&#39;: &#39;shijiange1&#39;, &#39;age&#39;: 20.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f3076d0a7709cefe0eea7&#39;), &#39;name&#39;: &#39;shijiange2&#39;, &#39;age&#39;: 28.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f3076d0a7709cefe0eea9&#39;), &#39;name&#39;: &#39;zhangsan1&#39;, &#39;age&#39;: 58.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f3076d0a7709cefe0eea8&#39;), &#39;name&#39;: &#39;shijiange3&#39;, &#39;age&#39;: 38.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f3076d0a7709cefe0eeaa&#39;), &#39;name&#39;: &#39;zhangsan2&#39;, &#39;age&#39;: 68.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f307dd0a7709cefe0eeab&#39;), &#39;name&#39;: &#39;zhangsan3&#39;, &#39;age&#39;: 25.0}
    # {&#39;_id&#39;: ObjectId(&#39;5f5f86463670b531ec7837c6&#39;), &#39;age&#39;: 20, &#39;name&#39;: &#39;shijiange&#39;}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;pythonè·å–mongodbçš„çŠ¶æ€ä¿¡æ¯&#34;&gt;Pythonè·å–MongoDBçš„çŠ¶æ€ä¿¡æ¯&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨Pythonå»ç›‘æ§mongodbçŠ¶æ€ï¼Œè·å–mongodbçš„serverStatusçŠ¶æ€ä¿¡æ¯ï¼Œä¸€èˆ¬çŠ¶æ€ä¿¡æ¯éœ€è¦æ¯ä¸ªå®ä¾‹éƒ½è¿›è¡Œç›‘æ§&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è·å–çŠ¶æ€ä¿¡æ¯
import pymongo 
client = pymongo.MongoClient(&#39;192.168.1.202&#39;,27017)
db = client.admin
serverStatus = db.command(&#39;serverStatus&#39;)
print(serverStatus)

# æ¯ä¸ªçŠ¶æ€ä¿¡æ¯å•ç‹¬æ‰“å°
import pymongo
client = pymongo.MongoClient(&#39;192.168.1.202&#39;,27017)
db = client.admin
serverStatus = db.command(&#39;serverStatus&#39;)
for key,value in serverStatus.items():
  print(key, value)
  print()

# MongoDBå»ºè®®çš„ç›‘æ§æ–¹å‘
# connectionsï¼Œè¿æ¥ä¿¡æ¯ï¼›network ï¼Œæµé‡ä¿¡æ¯ï¼›opcountersï¼Œå¢åˆ æ”¹æŸ¥ä¿¡æ¯
# çŠ¶æ€ä¿¡æ¯è·å–
import pymongo 
client = pymongo.MongoClient(&#39;192.168.1.202&#39;,27017)
db = client.admin
serverStatus = db.command(&#39;serverStatus&#39;)
print(serverStatus[&#39;connections&#39;])
print(serverStatus[&#39;network&#39;])
print(serverStatus[&#39;opcounters&#39;])
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤&lt;/h1&gt;
&lt;p&gt;mongodbåˆ†ç‰‡ä¸€èˆ¬ç”¨å¾—æ¯”è¾ƒå°‘ï¼Œéœ€è¦è¾ƒå¤šçš„æœåŠ¡å™¨ï¼Œè¿˜æœ‰ä¸‰ç§çš„è§’è‰²ï¼Œä¸€èˆ¬æŠŠmongodbçš„å‰¯æœ¬é›†åº”ç”¨å¾—å¥½å°±è¶³å¤Ÿç”¨äº†ï¼Œå¯æ­å»ºå¤šå¥—mongodbå‰¯æœ¬é›†ã€‚&lt;br&gt;
mongodbåˆ†ç‰‡æŠ€æœ¯ï¼Œmongodbå‰¯æœ¬é›†å¯ä»¥&lt;strong&gt;è§£å†³æ•°æ®å¤‡ä»½ã€è¯»æ€§èƒ½&lt;/strong&gt;çš„é—®é¢˜ï¼Œä½†ç”±äº&lt;strong&gt;mongodbå‰¯æœ¬é›†æ˜¯æ¯ä»½æ•°æ®éƒ½ä¸€æ¨¡ä¸€æ ·çš„ï¼Œæ— æ³•è§£å†³æ•°æ®é‡è¿‡å¤§é—®é¢˜&lt;/strong&gt;ã€‚&lt;br&gt;
mongodbåˆ†ç‰‡æŠ€æœ¯&lt;strong&gt;èƒ½å¤ŸæŠŠæ•°æ®åˆ†æˆä¸¤ä»½å­˜å‚¨&lt;/strong&gt;ï¼Œå‡å¦‚shijiange.myuseré‡Œé¢æœ‰1äº¿æ¡æ•°æ®ï¼Œåˆ†ç‰‡èƒ½å¤Ÿå®ç°5åƒä¸‡å·¦å³å­˜å‚¨åœ¨data1ï¼Œ5åƒä¸‡å·¦å³å­˜å‚¨åœ¨data2ï¼Œdata1ã€data2éœ€è¦ä½¿ç”¨å‰¯æœ¬é›†çš„å½¢å¼ï¼Œé¢„é˜²æ•°æ®ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤è§’è‰²&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤è§’è‰²&lt;/h2&gt;
&lt;h3 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤3ç§è§’è‰²&#34;&gt;mongodbåˆ†ç‰‡é›†ç¾¤3ç§è§’è‰²&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;routerè§’è‰²ï¼šmongodbçš„è·¯ç”±ï¼Œæä¾›å…¥å£ï¼Œä½¿å¾—åˆ†ç‰‡é›†ç¾¤å¯¹å¤–é€æ˜ã€‚routerä¸å­˜å‚¨æ•°æ®&lt;/li&gt;
&lt;li&gt;configsvrè§’è‰²ï¼šmongodbçš„é…ç½®è§’è‰²ï¼Œå­˜å‚¨å…ƒæ•°æ®ä¿¡æ¯ã€‚åˆ†ç‰‡é›†ç¾¤åç«¯æœ‰å¤šä»½å­˜å‚¨ï¼Œè¯»å–æ•°æ®è¯¥å»å“ªä¸ªå­˜å‚¨ä¸Šè¯»å–ï¼Œä¾èµ–äºé…ç½®è§’è‰²ã€‚é…ç½®è§’è‰²&lt;strong&gt;å»ºè®®ä½¿ç”¨å‰¯æœ¬é›†&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;shardsvrè§’è‰²ï¼šmongodbçš„å­˜å‚¨è§’è‰²ï¼Œå­˜å‚¨çœŸæ­£çš„æ•°æ®ã€‚&lt;strong&gt;å»ºè®®ä½¿ç”¨å‰¯æœ¬é›†&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ†ç‰‡é›†ç¾¤è§’è‰²ä¹‹é—´çš„ä¾èµ–å…³ç³»&#34;&gt;åˆ†ç‰‡é›†ç¾¤è§’è‰²ä¹‹é—´çš„ä¾èµ–å…³ç³»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å½“ç”¨æˆ·é€šè¿‡routerè§’è‰²&lt;strong&gt;æ’å…¥æ•°æ®&lt;/strong&gt;æ—¶ï¼Œéœ€è¦ä»configsvrçŸ¥é“è¿™ä»½æ•°æ®æ’å…¥åˆ°å“ªä¸ªèŠ‚ç‚¹ï¼Œç„¶åæ‰§è¡Œæ’å…¥åŠ¨ä½œæ’å…¥æ•°æ®åˆ°sharedsvr&lt;/li&gt;
&lt;li&gt;å½“ç”¨æˆ·é€šè¿‡routerè§’è‰²&lt;strong&gt;è·å–æ•°æ®&lt;/strong&gt;æ—¶ï¼Œéœ€è¦ä»configsvrçŸ¥é“è¿™ä»½æ•°æ®æ˜¯å­˜å‚¨åœ¨å“ªä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†å»sharedsvrè·å–æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤é…ç½®&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤é…ç½®&lt;/h2&gt;
&lt;p&gt;mongodbåˆ†ç‰‡é›†ç¾¤çš„&lt;strong&gt;æ­å»ºè¯´æ˜&lt;/strong&gt;ï¼šä½¿ç”¨åŒä¸€ä»½mongodbäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¿®æ”¹å¯¹åº”çš„é…ç½®å°±èƒ½å®ç°åˆ†ç‰‡é›†ç¾¤çš„æ­å»º&lt;br&gt;
mongodbåˆ†ç‰‡é›†ç¾¤å®æˆ˜ç¯å¢ƒæ­å»ºè¯´æ˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;routerï¼šä½¿ç”¨&lt;code&gt;192.168.1.202&lt;/code&gt;æ¥æ­å»º&lt;/li&gt;
&lt;li&gt;configsvrï¼šä½¿ç”¨&lt;code&gt;192.168.1.203&lt;/code&gt;å’Œ&lt;code&gt;192.168.1.204&lt;/code&gt;æ¥æ­å»º&lt;/li&gt;
&lt;li&gt;shardsvrï¼šä½¿ç”¨&lt;code&gt;192.168.1.205&lt;/code&gt;ã€&lt;code&gt;192.168.1.206&lt;/code&gt;ã€&lt;code&gt;192.168.1.207&lt;/code&gt;ã€&lt;code&gt;192.168.1.208&lt;/code&gt;æ¥æ­å»ºï¼Œ&lt;code&gt;192.168.1.205&lt;/code&gt;å’Œ&lt;code&gt;192.168.1.206&lt;/code&gt;ä¸ºä¸€ä¸ªé›†ç¾¤ï¼Œ&lt;code&gt;192.168.1.207&lt;/code&gt;å’Œ&lt;code&gt;192.168.1.208&lt;/code&gt;ä¸ºä¸€ä¸ªé›†ç¾¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤ä¹‹configsvr&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹configsvr&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 192.168.1.203å’Œ192.168.1.204
vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
      destination: file
      logAppend: true
      path: /data/mongodb/27017/mongodb.log
    # å­˜å‚¨
    storage:
      dbPath: /data/mongodb/27017/
      journal:
        enabled: true
    # è¿›ç¨‹
    processManagement:
      fork: true
    # ç½‘ç»œ
    net:
      port: 27017
      bindIp: 0.0.0.0
    # å‰¯æœ¬é›†
    replication:
      replSetName: shijiangeconf
    # åˆ†ç‰‡è§’è‰²  
    sharding:
      clusterRole: configsvr
# mongodbé…ç½®æœåŠ¡é›†ç¾¤çš„å¯åŠ¨è·Ÿå•ä¾‹çš„å¯åŠ¨æ–¹å¼ä¸€è‡´ï¼Œéƒ½æ˜¯ä½¿ç”¨mongod
mongod -f /data/mongodb/27017/mongodb.conf

# åˆ†ç‰‡é›†ç¾¤çš„é…ç½®è§’è‰²å‰¯æœ¬é›†æ­å»º
mongo
config = { _id:&amp;quot;shijiangeconf&amp;quot;, 
  configsvr: true,
  members:[
    {_id:0,host:&amp;quot;192.168.1.203:27017&amp;quot;},
    {_id:1,host:&amp;quot;192.168.1.204:27017&amp;quot;}
  ]
}
rs.initiate(config)
# åœ¨SECONDARYæœºå™¨ä¸ŠæŸ¥çœ‹
rs.secondaryOk() #4.4ç‰ˆæœ¬æ˜¯rs.secondaryOk()ï¼Œ4.0ç‰ˆæœ¬æ˜¯rs.slaveOk()

# éªŒè¯æ˜¯å¦æ­å»ºæˆåŠŸ(192.168.1.203ã€192.168.1.204)
mongo
rs.status()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤ä¹‹router&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹router&lt;/h3&gt;
&lt;p&gt;routeræœ€é‡è¦çš„é…ç½®ï¼šæŒ‡å®šconfigsvrçš„åœ°å€ï¼Œä½¿ç”¨&lt;code&gt;configsvrå‰¯æœ¬é›†id(replSetName)/ip:port&lt;/code&gt;çš„æ–¹å¼æŒ‡å®šã€‚å¦‚æœé…ç½®å¤šä¸ªrouterï¼Œä»»ä½•ä¸€ä¸ªéƒ½èƒ½æ­£å¸¸çš„è·å–æ•°æ®ã€‚&lt;br&gt;
&lt;strong&gt;ä½¿ç”¨mongoså¯åŠ¨ï¼Œè€Œä¸æ˜¯mongod&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
      destination: file
      logAppend: true
      path: /data/mongodb/27017/mongodb.log
    # è¿›ç¨‹
    processManagement:
      fork: true
    # ç½‘ç»œ
    net:
      port: 27017
      bindIp: 0.0.0.0
    # åˆ†ç‰‡è§’è‰²
    sharding:
      configDB: shijiangeconf/192.168.1.203:27017,192.168.1.204:27017
# routerçš„å¯åŠ¨
mongos -f /data/mongodb/27017/mongodb.conf

# routerçš„éªŒè¯ï¼šéœ€è¦ç­‰åˆ°æ•°æ®è§’è‰²æ­å»ºå®Œæ‰èƒ½å¤Ÿè¿›è¡ŒéªŒè¯
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤ä¹‹sharedsvr&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä¹‹sharedsvr&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ•°æ®è§’è‰²shijiangedata1ï¼š192.168.1.205å’Œ192.168.1.206
vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
      destination: file
      logAppend: true
      path: /data/mongodb/29017/mongodb.log
    # å­˜å‚¨
    storage:
      dbPath: /data/mongodb/29017/
      journal:
        enabled: true
    # è¿›ç¨‹
    processManagement:
      fork: true
    # ç½‘ç»œ
    net:
      port: 27017
      bindIp: 0.0.0.0
    # å‰¯æœ¬é›†
    replication:
      replSetName: shijiangedata1
    # åˆ†ç‰‡
    sharding:
      clusterRole: shardsvr
# æ•°æ®è§’è‰²shijiangedata2ï¼š192.168.1.207å’Œ192.168.1.208
vim /data/mongodb/27017/mongodb.conf
    # æ—¥å¿—
    systemLog:
      destination: file
      logAppend: true
      path: /data/mongodb/29017/mongodb.log
    # å­˜å‚¨
    storage:
      dbPath: /data/mongodb/29017/
      journal:
        enabled: true
    # è¿›ç¨‹
    processManagement:
      fork: true
    # ç½‘ç»œ
    net:
      port: 27017
      bindIp: 0.0.0.0
    # å‰¯æœ¬é›†
    replication:
      replSetName: shijiangedata2
    # åˆ†ç‰‡
    sharding:
      clusterRole: shardsvr

# å¯åŠ¨4ä¸ªæ•°æ®å®ä¾‹
mongod -f /data/mongodb/27017/mongodb.conf

# æ•°æ®è§’è‰²shjiangedata1ï¼š192.168.1.205å’Œ192.168.1.206
mongo
config = { _id:&amp;quot;shijiangedata1&amp;quot;, 
  members:[
    {_id:0,host:&amp;quot;192.168.1.205:27017&amp;quot;},
    {_id:1,host:&amp;quot;192.168.1.206:27017&amp;quot;}
  ]
}
rs.initiate(config)
# åœ¨SECONDARYæœºå™¨ä¸ŠæŸ¥çœ‹
rs.secondaryOk() #4.4ç‰ˆæœ¬æ˜¯rs.secondaryOk()ï¼Œ4.0ç‰ˆæœ¬æ˜¯rs.slaveOk()

# æ•°æ®è§’è‰²shjiangedata2ï¼š192.168.1.207å’Œ192.168.1.208
mongo
config = { _id:&amp;quot;shijiangedata2&amp;quot;, 
  members:[
    {_id:0,host:&amp;quot;192.168.1.207:27017&amp;quot;},
    {_id:1,host:&amp;quot;192.168.1.208:27017&amp;quot;}
  ]
}
rs.initiate(config)
# åœ¨SECONDARYæœºå™¨ä¸ŠæŸ¥çœ‹
rs.secondaryOk() #4.4ç‰ˆæœ¬æ˜¯rs.secondaryOk()ï¼Œ4.0ç‰ˆæœ¬æ˜¯rs.slaveOk()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mongodbåˆ†ç‰‡é›†ç¾¤ä½¿ç”¨&#34;&gt;MongoDBåˆ†ç‰‡é›†ç¾¤ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åœ¨routeè·¯ç”±è§’è‰²ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ†ç‰‡é›†ç¾¤æ·»åŠ æ•°æ®è§’è‰²ï¼Œè¿æ¥åˆ°è·¯ç”±è§’è‰²é‡Œé¢é…ç½®ï¼Œæ•°æ®è§’è‰²ä¸ºå‰¯æœ¬é›†çš„æ–¹å¼
# åœ¨è§’è‰²route(192.168.1.202)ä¸Šæ‰§è¡Œ
mongo
sh.addShard(&amp;quot;shijiangedata1/192.168.1.205:27017,192.168.1.206:27017&amp;quot;)
sh.addShard(&amp;quot;shijiangedata2/192.168.1.207:27017,192.168.1.208:27017&amp;quot;)
sh.status()

# é»˜è®¤æ·»åŠ æ•°æ®æ²¡æœ‰åˆ†ç‰‡å­˜å‚¨ï¼Œæ“ä½œéƒ½æ˜¯åœ¨è·¯ç”±è§’è‰²é‡Œé¢
use shijiange
for(i=1; i&amp;lt;=500;i++){
  db.myuser.insert( {name:&#39;mytest&#39;+i, age:i} )
}
# æ­¤æ—¶åªæœ‰åœ¨shijiangedata2ï¼ˆæˆ–shijiangedata1ï¼‰ä¸Šæœ‰æ•°æ®
db.dropDatabase() #éªŒè¯å®Œååˆ é™¤

# é’ˆå¯¹æŸä¸ªæ•°æ®åº“çš„æŸä¸ªè¡¨ä½¿ç”¨hashåˆ†ç‰‡å­˜å‚¨ï¼Œåˆ†ç‰‡å­˜å‚¨å°±ä¼šåŒä¸€ä¸ªcolloectionåˆ†é…ä¸¤ä¸ªæ•°æ®è§’è‰²
use admin  # æ­¤æ“ä½œåªèƒ½ä½¿ç”¨adminç”¨æˆ·æ‰§è¡Œ
db.runCommand( { enablesharding :&amp;quot;shijiange&amp;quot;});
db.runCommand( { shardcollection : &amp;quot;shijiange.myuser&amp;quot;,key : {_id: &amp;quot;hashed&amp;quot;} } )

# æ’å…¥æ•°æ®æ ¡éªŒï¼Œåˆ†å¸ƒåœ¨ä¸¤ä¸ªæ•°æ®è§’è‰²ä¸Š
use shijiange
for(i=1; i&amp;lt;=500;i++){
  db.myuser.insert( {name:&#39;mytest&#39;+i, age:i} )
}
# æ­¤æ—¶åœ¨shijiangedata2ï¼ˆ268æ¡ï¼‰å’Œshijiangedata1ï¼ˆ232æ¡ï¼‰ä¸Šå„æœ‰250æ¡æ•°æ®
&lt;/code&gt;&lt;/pre&gt;
">MongoDBå­¦ä¹ ç¬”è®°æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/geng-huan-pip-yuan/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#windows&#34;&gt;windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#linux&#34;&gt;Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%91%E8%8E%93%E6%B4%BE&#34;&gt;æ ‘è“æ´¾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
ä»¥é˜¿é‡Œçš„é•œåƒæºä¸ºä¾‹ï¼Œä¸»è¦ç”¨äºæ›¿æ¢å›½å†…çš„pipæºå’Œæ›¿æ¢ç”¨äºå†…éƒ¨ç½‘ç»œçš„pipæº&lt;/p&gt;
&lt;h1 id=&#34;windows&#34;&gt;windows&lt;/h1&gt;
&lt;p&gt;win+R --&amp;gt; %APPDATA%ï¼ˆæˆ–è€…%USERPROFILE%ï¼Œè¿™ä¸¤ä¸ªç›®å½•å‡å¯ï¼‰ --&amp;gt; æ–°å»ºç›®å½•pipå¹¶è¿›å…¥ --&amp;gt; æ–°å»ºæ–‡ä»¶pip.iniï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;[global]
timeout=6000
trusted-host=mirrors.aliyun.com
index-url=https://mirrors.aliyun.com/pypi/simple/
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;linux&#34;&gt;Linux&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt; ~/.pip/pip.conf &amp;lt;&amp;lt;EOF
[global]
timeout=6000
trusted-host=mirrors.aliyun.com
index-url=https://mirrors.aliyun.com/pypi/simple/
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ ‘è“æ´¾&#34;&gt;æ ‘è“æ´¾&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/etc/pip.conf &amp;lt;&amp;lt;EOF
[global]
timeout=6000
trusted-host=mirrors.aliyun.com
index-url=https://mirrors.aliyun.com/pypi/simple/
EOF
&lt;/code&gt;&lt;/pre&gt;
">æ›´æ¢pipæº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/jin-yong-ipv6/"" data-c="
          &lt;p&gt;æœ‰çš„æ—¶å€™åœ¨ä½¿ç”¨wgetä¸‹è½½æ–‡ä»¶çš„æ—¶å€™ï¼Œé»˜è®¤ä½¿ç”¨ipv6åœ°å€è¿›è¡Œè§£æï¼Œå¯¼è‡´æ— æ³•è§£æåŸŸåæˆ–è€…ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œæ­¤æ—¶ä¾¿éœ€è¦ç¦ç”¨ipv6åœ°å€ï¼Œå…·ä½“æ–¹æ³•å¦‚ä¸‹ï¼š&lt;br&gt;
æ°¸ä¹…ç”Ÿæ•ˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¼–è¾‘å†…æ ¸å‚æ•°
vi /etc/sysctl.conf
    # å…¨éƒ¨ç½‘å¡ç¦ç”¨ipv6
    net.ipv6.conf.all.disable_ipv6 =1
    net.ipv6.conf.default.disable_ipv6 =1
    # æŒ‡å®šç½‘å¡(enp0s3)ç¦ç”¨ipv6\
    net.ipv6.conf.enp0s3.disable_ipv6 =1

# ç¼–è¾‘ç½‘ç»œå…¨å±€å‚æ•°
vi /etc/sysconfig/network
    NETWORKING_IPV6=no

# ç¼–è¾‘ç½‘å¡é…ç½®å‚æ•°
vi /etc/sysconfig/network-scripts/ifcfg-en0
    IPV6INIT=no

# éƒ¨åˆ†æœºå™¨å»è¦å…³é—­ipv6é˜²ç«å¢™
systemctl disable ip6tables.service

# ä½¿é…ç½®çš„å†…æ ¸å‚æ•°ç”Ÿæ•ˆ
sysctl -p
# ç„¶åé‡å¯ç½‘ç»œå³å¯
systemctl restart network
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸´æ—¶ç”Ÿæ•ˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo 1&amp;gt;/proc/sys/net/ipv6/conf/all/disable_ipv6
echo 1&amp;gt;/proc/sys/net/ipv6/conf/default/disable_ipv6
# æˆ–è€…
sysctl -w net.ipv6.conf.all.disable_ipv6=1
sysctl -w net.ipv6.conf.default.disable_ipv6=1
&lt;/code&gt;&lt;/pre&gt;
">centos7ç¦ç”¨IPv6</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos-guan-li-huan-jing-bian-liang/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F&#34;&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%B4%E6%97%B6%E7%94%9F%E6%95%88&#34;&gt;ä¸´æ—¶ç”Ÿæ•ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%92%88%E5%AF%B9%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%E6%B0%B8%E4%B9%85%E7%94%9F%E6%95%88&#34;&gt;é’ˆå¯¹å½“å‰ç”¨æˆ·ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%92%88%E5%AF%B9%E6%89%80%E6%9C%89%E7%94%A8%E6%88%B7%E6%B0%B8%E4%B9%85%E7%94%9F%E6%95%88&#34;&gt;é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8etcprofiled&#34;&gt;æ¨èä½¿ç”¨/etc/profile.d&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bash_profile%E5%92%8Cbashrc&#34;&gt;.bash_profileå’Œ.bashrc&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#etcprofile&#34;&gt;/etc/profile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#etcbashrc%E6%8E%A8%E8%8D%90&#34;&gt;/etc/bashrcï¼ˆæ¨èï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#~bash_profile&#34;&gt;~/.bash_profile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#~bashrc%E6%8E%A8%E8%8D%90&#34;&gt;~/.bashrcï¼ˆæ¨èï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#~bash_logout&#34;&gt;~/.bash_logout&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%90%AF%E5%8A%A8%E6%96%87%E4%BB%B6%E7%9A%84%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F&#34;&gt;å¯åŠ¨æ–‡ä»¶çš„åŠ è½½é¡ºåº&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%9A%84%E7%99%BB%E9%99%86shell&#34;&gt;äº¤äº’å¼çš„ç™»é™†shell&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%99%BB%E9%99%86%E8%BF%87%E7%A8%8B&#34;&gt;ç™»é™†è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%99%BB%E5%87%BA%E8%BF%87%E7%A8%8B&#34;&gt;ç™»å‡ºè¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%9E%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%99%BB%E9%99%86shell&#34;&gt;éäº¤äº’å¼ç™»é™†shell&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%99%BB%E9%99%86%E8%BF%87%E7%A8%8B-2&#34;&gt;ç™»é™†è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B6%E4%BB%96%E6%83%85%E5%86%B5&#34;&gt;å…¶ä»–æƒ…å†µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;è®¾ç½®ç¯å¢ƒå˜é‡&#34;&gt;è®¾ç½®ç¯å¢ƒå˜é‡&lt;/h1&gt;
&lt;p&gt;ä»¥å®‰è£…è½¯ä»¶SoftAä¸ºä¾‹ï¼Œè·¯å¾„ä¸º/usr/local/SoftA/bin/softaã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸´æ—¶ç”Ÿæ•ˆ&#34;&gt;ä¸´æ—¶ç”Ÿæ•ˆ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;export PATH=$PATH:/usr/local/SoftA/bin
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é’ˆå¯¹å½“å‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆ&#34;&gt;é’ˆå¯¹å½“å‰ç”¨æˆ·ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim ~/.bash_profile
vim ~/.bashrc
    # ä¿®æ”¹æ–‡ä»¶ä¸­PATH ä¸€è¡Œï¼ŒPATH=$PATH:$HOME/binä¹‹åæ·»åŠ  ï¼ˆæ³¨æ„ä»¥å†’å·åˆ†éš”ï¼‰
    # ä¿®æ”¹å®Œä¹‹åå¦‚ä¸‹ï¼š
    PATH=$PATH:$HOME/bin:/usr/local/SoftA/bin
    export PATH
# source ~/.bash_profile
source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·æ°¸ä¹…ç”Ÿæ•ˆ&#34;&gt;é’ˆå¯¹æ‰€æœ‰ç”¨æˆ·ï¼ˆæ°¸ä¹…ç”Ÿæ•ˆï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/profile
vim /etc/bashrc
    # æ–‡ä»¶æœ«å°¾è¿½åŠ 
    PATH=$PATH:/usr/local/SoftA/bin
    export PATH
# source /etc/profile
source /etc/bashrc
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ¨èä½¿ç”¨etcprofiled&#34;&gt;æ¨èä½¿ç”¨/etc/profile.d&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;/etc/profile&lt;/code&gt;å’Œ&lt;code&gt;/etc/profile.d&lt;/code&gt;çš„åŒºåˆ«ï¼šä¸¤ä¸ªéƒ½æ˜¯è®¾ç½®ç¯å¢ƒå˜é‡çš„ï¼Œ&lt;code&gt;/etc/profile.d/&lt;/code&gt;æ¯”&lt;code&gt;/etc/profile&lt;/code&gt;å¥½ç»´æŠ¤ï¼Œä¸æƒ³è¦ä»€ä¹ˆå˜é‡ç›´æ¥åˆ é™¤&lt;code&gt;/etc/profile.d/&lt;/code&gt;ä¸‹å¯¹åº”çš„shellè„šæœ¬å³å¯ï¼Œä¸ç”¨åƒ/etc/profileéœ€è¦æ”¹åŠ¨æ­¤æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/profile.d/softa.sh
    # è®¾ç½®SoftAçš„ç¯å¢ƒå˜é‡
    SOFTA_HOME=/usr/local/SoftA
    PATH=$SOFTA_HOME/bin:$PATH
    export SOFTA_HOME PATH
chmod 755 /etc/profile.d/softa.sh
/etc/profile.d/softa.sh
echo $SOFTA_HOME
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;bash_profileå’Œbashrc&#34;&gt;.bash_profileå’Œ.bashrc&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;â€œprofileâ€ç³»åˆ—æ–‡ä»¶çš„ä¸»è¦ç›®çš„åœ¨äºä¸ºâ€œç™»å½•shellâ€è®¾ç½®ç¯å¢ƒå˜é‡å’Œå¯åŠ¨ç¨‹åºï¼›è€Œâ€œrcâ€ç³»åˆ—æ–‡ä»¶çš„ä¸»è¦ç›®çš„åœ¨äºè®¾ç½®åŠŸèƒ½å’Œåˆ«å&lt;/code&gt;&lt;br&gt;
&lt;code&gt;crontabé‡Œé¢æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œ.bashrcè®¾ç½®çš„ç¯å¢ƒå˜é‡ä¼šç”Ÿæ•ˆï¼Œè€Œ.bash_profileä¸ä¼š&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;etcprofile&#34;&gt;/etc/profile&lt;/h2&gt;
&lt;p&gt;æ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«æ‰§è¡Œï¼Œå¹¶ä»/etc/profile.dç›®å½•çš„é…ç½®æ–‡ä»¶ä¸­æœé›†shellçš„è®¾ç½®&lt;br&gt;
æ¨èä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå› ä¸ºæ‰€æœ‰ç”¨æˆ·çš„shelléƒ½æœ‰æƒä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡ï¼Œç¼ºç‚¹æ˜¯å¯èƒ½ä¼šç»™ç³»ç»Ÿå¸¦æ¥å®‰å…¨æ€§é—®é¢˜ã€‚ è¿™é‡Œæ˜¯é’ˆå¯¹æ‰€æœ‰çš„ç”¨æˆ·çš„ï¼Œæ‰€æœ‰çš„shell&lt;br&gt;
&lt;strong&gt;éœ€è¦æ³¨æ„çš„æ˜¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨/etc/profileé‡Œè®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡æ—¶ï¼Œè·¯å¾„æœ«å°¾ä¸èƒ½ä»¥&amp;quot;/&amp;quot;ç»“å°¾ï¼Œå¦åˆ™å°†å¯¼è‡´æ•´ä¸ªPATHå˜é‡å‡ºé”™&lt;/li&gt;
&lt;li&gt;é…ç½®å¥½ç¯å¢ƒå˜é‡åï¼Œè¦è®°å¾—exportè¾“å‡ºè¿™ä¸ªå˜é‡ï¼Œå¦åˆ™å¦‚ä¸‹sourceåæ— æ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;etcbashrcæ¨è&#34;&gt;/etc/bashrcï¼ˆæ¨èï¼‰&lt;/h2&gt;
&lt;p&gt;ä¸ºæ¯ä¸€ä¸ªè¿è¡Œbash shellçš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶ï¼Œå½“bash shellè¢«æ‰“å¼€æ—¶,è¯¥æ–‡ä»¶è¢«è¯»å–&lt;/p&gt;
&lt;h2 id=&#34;~bash_profile&#34;&gt;~/.bash_profile&lt;/h2&gt;
&lt;p&gt;æ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯ï¼Œå½“ç”¨æˆ·&lt;strong&gt;ç™»å½•æ—¶&lt;/strong&gt;ï¼Œè¯¥æ–‡ä»¶&lt;strong&gt;ä»…ä»…æ‰§è¡Œä¸€æ¬¡&lt;/strong&gt;ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä»–è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶&lt;br&gt;
&lt;code&gt;äº¤äº’å¼ã€loginæ–¹å¼è¿›å…¥bashè¿è¡Œçš„ï¼Œé€šå¸¸ä¼šè°ƒç”¨~/.bashrc&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;~bashrcæ¨è&#34;&gt;~/.bashrcï¼ˆæ¨èï¼‰&lt;/h2&gt;
&lt;p&gt;è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºä½ çš„bash shellçš„bashä¿¡æ¯ï¼Œå½“&lt;strong&gt;ç™»å½•æ—¶ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„shell&lt;/strong&gt;æ—¶,è¯¥è¯¥æ–‡ä»¶è¢«è¯»å–&lt;br&gt;
&lt;code&gt;~/.bashrcæ˜¯äº¤äº’å¼ã€non-loginæ–¹å¼è¿›å…¥bashè¿è¡Œçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼˜å…ˆæŠŠå˜é‡è®¾ç½®åœ¨.bashrcé‡Œé¢ï¼Œæ¯”å¦‚åœ¨crontabé‡Œé¢æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œ.bashrcè®¾ç½®çš„ç¯å¢ƒå˜é‡ä¼šç”Ÿæ•ˆï¼Œè€Œ.bash_profileä¸ä¼š&lt;/code&gt;&lt;br&gt;
ä¿®æ”¹.bashrcæ–‡ä»¶,è¿™ç§æ–¹æ³•æ›´ä¸ºå®‰å…¨ï¼Œå®ƒå¯ä»¥æŠŠä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡çš„æƒé™æ§åˆ¶åˆ°ç”¨æˆ·çº§åˆ«ï¼Œè¿™é‡Œæ˜¯é’ˆå¯¹æŸä¸€ä¸ªç‰¹å®šçš„ç”¨æˆ·ï¼Œå¦‚æœéœ€è¦ç»™æŸä¸ªç”¨æˆ·æƒé™ï¼Œä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡ï¼Œåªéœ€è¦ä¿®æ”¹å…¶ä¸ªäººç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„.bashrcæ–‡ä»¶å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;~bash_logout&#34;&gt;~/.bash_logout&lt;/h2&gt;
&lt;p&gt;å½“æ¯æ¬¡**é€€å‡ºç³»ç»Ÿ(é€€å‡ºbash shell)**æ—¶ï¼Œæ‰§è¡Œè¯¥æ–‡ä»¶&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡åå­—çš„ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°å°†startupæ–‡ä»¶åˆ†ä¸ºâ€œprofileâ€ä¸â€œrcâ€ä¸¤ä¸ªç³»åˆ—ï¼Œå…¶å®ä»–ä»¬çš„åŠŸèƒ½éƒ½å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯ä½¿ç”¨çš„åœºæ™¯ä¸åŒï¼Œè¿™ä¹Ÿæ˜¯æœ€å®¹æ˜“å¿½ç•¥çš„åœ°æ–¹ã€‚&lt;br&gt;
æ‰€è°“çš„ä¸åŒåœºæ™¯ï¼Œå…¶å®å°±æ˜¯shellçš„è¿è¡Œæ¨¡å¼ã€‚è¿è¡Œä¸­çš„bashæœ‰â€œäº¤äº’â€å’Œâ€œç™»é™†â€ä¸¤ç§å±æ€§ï¼Œè€Œæ‰§è¡Œâ€œprofileâ€ç³»åˆ—è¿˜æ˜¯â€œrcâ€ç³»åˆ—ï¼Œå°±ä¸shellçš„è¿™ä¸¤ä¸ªå±æ€§æœ‰å…³ã€‚&lt;br&gt;
åŸç†ä¸Šè®²ï¼Œâ€œç™»é™†shellâ€å¯åŠ¨æ—¶ä¼šåŠ è½½â€œprofileâ€ç³»åˆ—çš„startupæ–‡ä»¶ï¼Œè€Œâ€œäº¤äº’å¼éç™»é™†shellâ€å¯åŠ¨æ—¶ä¼šåŠ è½½â€œrcâ€ç³»åˆ—çš„startupæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å¯åŠ¨æ–‡ä»¶çš„åŠ è½½é¡ºåº&#34;&gt;å¯åŠ¨æ–‡ä»¶çš„åŠ è½½é¡ºåº&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1598841315874.png&#34; alt=&#34;å¯åŠ¨æ–‡ä»¶çš„åŠ è½½é¡ºåº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;äº¤äº’å¼çš„ç™»é™†shell&#34;&gt;äº¤äº’å¼çš„ç™»é™†shell&lt;/h2&gt;
&lt;h3 id=&#34;ç™»é™†è¿‡ç¨‹&#34;&gt;ç™»é™†è¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ/etc/profileæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ~/.bash_profileæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¹¶æ‰§è¡Œ~/.bash_loginæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¹¶æ‰§è¡Œ~/.profileæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç™»å‡ºè¿‡ç¨‹&#34;&gt;ç™»å‡ºè¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ~/.bash_logoutæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ/etc/bash.bash_logoutæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;éäº¤äº’å¼ç™»é™†shell&#34;&gt;éäº¤äº’å¼ç™»é™†shell&lt;/h2&gt;
&lt;h3 id=&#34;ç™»é™†è¿‡ç¨‹-2&#34;&gt;ç™»é™†è¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ/etc/profileæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¯»å–å¹¶æ‰§è¡Œ~/.bash_profileæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¹¶æ‰§è¡Œ~/.bash_loginæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™è¯»å–å¹¶æ‰§è¡Œ~/.profileæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…¶ä»–æƒ…å†µ&#34;&gt;å…¶ä»–æƒ…å†µ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å›¾å½¢æ¨¡å¼ç™»å½•æ—¶ï¼Œé¡ºåºè¯»å–ï¼š/etc/profileå’Œ~/.profile&lt;/li&gt;
&lt;li&gt;å›¾å½¢æ¨¡å¼ç™»å½•åï¼Œæ‰“å¼€ç»ˆç«¯æ—¶ï¼Œé¡ºåºè¯»å–ï¼š/etc/bash.bashrcå’Œ~/.bashrc&lt;/li&gt;
&lt;li&gt;æ–‡æœ¬æ¨¡å¼ç™»å½•æ—¶ï¼Œé¡ºåºè¯»å–ï¼š/etc/bash.bashrcï¼Œ/etc/profileå’Œ~/.bash_profile&lt;/li&gt;
&lt;li&gt;ä»å…¶å®ƒç”¨æˆ·suåˆ°è¯¥ç”¨æˆ·ï¼Œåˆ™åˆ†ä¸¤ç§æƒ…å†µï¼š
&lt;ol&gt;
&lt;li&gt;å¦‚æœå¸¦-lå‚æ•°ï¼ˆæˆ–-å‚æ•°ï¼Œâ€“loginå‚æ•°ï¼‰ï¼Œå¦‚ï¼šsu -l usernameï¼Œåˆ™bashæ˜¯loninçš„ï¼Œå®ƒå°†é¡ºåºè¯»å–ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼š/etc/bash.bashrcï¼Œ/etc/profileå’Œ~ /.bash_profileã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰å¸¦-lå‚æ•°ï¼Œåˆ™bashæ˜¯non-loginçš„ï¼Œå®ƒå°†é¡ºåºè¯»å–ï¼š/etc/bash.bashrcå’Œ~/.bashrc&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æ³¨é”€æ—¶ï¼Œæˆ–é€€å‡ºsuç™»å½•çš„ç”¨æˆ·ï¼Œå¦‚æœæ˜¯longinæ–¹å¼ï¼Œé‚£ä¹ˆbashä¼šè¯»å–ï¼š~/.bash_logout&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œè‡ªå®šä¹‰çš„shellæ–‡ä»¶æ—¶ï¼Œè‹¥ä½¿ç”¨â€œbash -l a.shâ€çš„æ–¹å¼ï¼Œåˆ™bashä¼šè¯»å–è¡Œï¼š/etc/profileå’Œ~/.bash_profileï¼Œè‹¥ä½¿ç”¨å…¶å®ƒæ–¹å¼ï¼Œå¦‚ï¼šbash a.shï¼Œ ./a.shï¼Œsh a.shï¼ˆè¿™ä¸ªä¸å±äºbash shellï¼‰ï¼Œåˆ™ä¸ä¼šè¯»å–ä¸Šé¢çš„ä»»ä½•æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1598840866352.png&#34; alt=&#34;æ€»ç»“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸Šå›¾è§£é‡Šï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;â€œç›´æ¥æ‰§è¡Œâ€è¡¨ç¤ºæ­¤æ–‡ä»¶è¢«ç³»ç»Ÿç›´æ¥è°ƒç”¨ï¼Œå®ƒçš„æ‰§è¡Œæ˜¯æ— æ¡ä»¶çš„ï¼›&lt;/li&gt;
&lt;li&gt;â€œæ¡ä»¶æ‰§è¡Œâ€è¡¨ç¤ºæ­¤æ–‡ä»¶è¢«ç³»ç»Ÿè°ƒç”¨æ˜¯æœ‰å…ˆå†³æ¡ä»¶çš„ï¼ˆæ²¡æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„æ–‡ä»¶å¯ç”¨ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;â€œå¼•ç”¨æ‰§è¡Œâ€è¡¨ç¤ºæ­¤æ–‡ä»¶ä¸æ˜¯è¢«ç³»ç»Ÿç›´æ¥è°ƒç”¨çš„ï¼Œè€Œæ˜¯è¢«å…¶ä»–æ–‡ä»¶æ˜¾å¼è°ƒç”¨çš„ï¼›&lt;/li&gt;
&lt;li&gt;åé¢çš„æ•°å­—è¡¨ç¤ºæ–‡ä»¶è¢«è°ƒç”¨çš„é¡ºåºï¼Œæ•°å­—è¶Šå¤§è°ƒç”¨è¶Šé åï¼›&lt;/li&gt;
&lt;li&gt;â€œéäº¤äº’éç™»é™†â€shellçš„é…ç½®æ–‡ä»¶å¯ä»¥ç”±BASH_ENVç¯å¢ƒå˜é‡æŒ‡å®šï¼›&lt;/li&gt;
&lt;/ol&gt;
">CentOS7ç®¡ç†ç¯å¢ƒå˜é‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/nginx-xue-xi-zheng-li/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AD%A6%E4%B9%A0%E7%9B%AE%E5%BD%95&#34;&gt;å­¦ä¹ ç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E4%BB%8B%E7%BB%8D&#34;&gt;nginxä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85&#34;&gt;nginxç¼–è¯‘å®‰è£…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%B8%80%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85&#34;&gt;æ–¹æ³•ä¸€ï¼šæºç ç¼–è¯‘å®‰è£…&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D&#34;&gt;æ“ä½œå‘½ä»¤ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%B3%95%E4%BA%8Cyum%E6%BA%90%E5%AE%89%E8%A3%85%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8&#34;&gt;æ–¹æ³•äºŒï¼šyumæºå®‰è£…ï¼ˆæ¨èä½¿ç”¨ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8%E9%97%AE%E9%A2%98&#34;&gt;å¯èƒ½å­˜åœ¨é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E6%95%B4%E5%90%88php&#34;&gt;nginxæ•´åˆphp&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E4%B8%8Ephp%E5%90%88%E4%BD%9C%E7%9A%84%E6%96%B9%E5%BC%8F%E8%AF%B4%E6%98%8E&#34;&gt;nginxä¸phpåˆä½œçš„æ–¹å¼è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85php&#34;&gt;ç¼–è¯‘å®‰è£…php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BF%AE%E6%94%B9nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%95%B4%E5%90%88php&#34;&gt;ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œæ•´åˆphp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E4%BF%A1%E5%8F%B7%E6%8E%A7%E5%88%B6&#34;&gt;nginxä¿¡å·æ§åˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BF%A1%E5%8F%B7%E6%8E%A7%E5%88%B6%E9%80%89%E9%A1%B9&#34;&gt;ä¿¡å·æ§åˆ¶é€‰é¡¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE&#34;&gt;nginxè™šæ‹Ÿä¸»æœºé…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&#34;&gt;nginxé…ç½®æ–‡ä»¶ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3&#34;&gt;é…ç½®æ–‡ä»¶è¯¦è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3&#34;&gt;ä»£ç†æœåŠ¡é…ç½®è¯¦è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3&#34;&gt;å‚æ•°è¯¦è§£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE%E4%B8%BE%E4%BE%8B&#34;&gt;å¸¸ç”¨é…ç½®ä¸¾ä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3&#34;&gt;è´Ÿè½½å‡è¡¡é…ç½®è¯¦è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%83%AD%E5%A4%87&#34;&gt;çƒ­å¤‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BD%AE%E8%AF%A2&#34;&gt;è½®è¯¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A0%E6%9D%83%E8%BD%AE%E8%AF%A2&#34;&gt;åŠ æƒè½®è¯¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ip_hash&#34;&gt;ip_hash&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%BE%E4%BE%8B&#34;&gt;é…ç½®æ–‡ä»¶ä¸¾ä¾‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B%E5%AD%901-%E5%9F%BA%E4%BA%8E%E5%9F%9F%E5%90%8D%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA&#34;&gt;ä¾‹å­1: åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B%E5%AD%902-%E5%9F%BA%E4%BA%8E%E7%AB%AF%E5%8F%A3%E7%9A%84%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE&#34;&gt;ä¾‹å­2: åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºé…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2&#34;&gt;nginxæ—¥å¿—åˆ‡å‰²&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BB%E8%A6%81%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0&#34;&gt;ä¸»è¦é…ç½®å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2%E7%94%B1%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E5%AE%8C%E6%88%90&#34;&gt;æ—¥å¿—åˆ‡å‰²ï¼ˆç”±å®šæ—¶ä»»åŠ¡å®Œæˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E4%B8%8Egzip%E8%AE%BE%E7%BD%AE%E5%8E%8B%E7%BC%A9%E7%AE%A1%E7%90%86&#34;&gt;nginxä¸gzipè®¾ç½®ï¼ˆå‹ç¼©ç®¡ç†ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%8B%E7%BB%8D&#34;&gt;ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%82%E6%95%B0&#34;&gt;å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#location%E8%AF%A6%E8%A7%A3&#34;&gt;locationè¯¦è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#location%E8%AF%AD%E6%B3%95&#34;&gt;locationè¯­æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B&#34;&gt;å·¥ä½œæµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B&#34;&gt;ä¸¾ä¾‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%97%A0%E6%AD%A3%E5%88%99&#34;&gt;æ— æ­£åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%89%E6%AD%A3%E5%88%99&#34;&gt;æœ‰æ­£åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9B%B4%E9%95%BF%E5%8C%B9%E9%85%8D&#34;&gt;æ›´é•¿åŒ¹é…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#name%E7%9A%84%E7%94%A8%E6%B3%95&#34;&gt;@nameçš„ç”¨æ³•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%BC%E5%90%88&#34;&gt;ç»¼åˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#url%E5%B0%BE%E9%83%A8%E7%9A%84%E9%9C%80%E4%B8%8D%E9%9C%80%E8%A6%81&#34;&gt;URLå°¾éƒ¨çš„/éœ€ä¸éœ€è¦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rewrite%E8%AF%AD%E6%B3%95%E8%AF%A6%E8%A7%A3&#34;&gt;Rewriteè¯­æ³•è¯¦è§£&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9A%E4%B9%89&#34;&gt;å®šä¹‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AF%AD%E6%B3%95&#34;&gt;è¯­æ³•&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#flag%E6%A0%87%E5%BF%97%E4%BD%8D&#34;&gt;flagæ ‡å¿—ä½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99&#34;&gt;å¸¸ç”¨æ­£åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B-2&#34;&gt;ä¸¾ä¾‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B1&#34;&gt;ä¾‹1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B2&#34;&gt;ä¾‹2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#if%E6%8C%87%E4%BB%A4%E4%B8%8E%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F&#34;&gt;ifæŒ‡ä»¤ä¸å…¨å±€å˜é‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B%E5%AD%90&#34;&gt;ä¾‹å­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F&#34;&gt;å…¨å±€å˜é‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BE%8B%E5%AD%90-2&#34;&gt;ä¾‹å­&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E4%BA%8Eecshop%E7%9A%84rewrite%E5%AE%9E%E6%88%98&#34;&gt;åŸºäºecshopçš„Rewriteå®æˆ˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE&#34;&gt;nginxç¼“å­˜é…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#expires%E5%8F%82%E6%95%B0&#34;&gt;expireså‚æ•°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#304not-modified&#34;&gt;304(Not Modified)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1nginxapache%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB&#34;&gt;nginxåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼ˆnginx+apacheåŠ¨é™åˆ†ç¦»ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86&#34;&gt;åå‘ä»£ç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1&#34;&gt;è´Ÿè½½å‡è¡¡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E8%BF%9E%E6%8E%A5memcached&#34;&gt;nginxè¿æ¥memcached&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#memcached&#34;&gt;memcached&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%89%E8%A3%85&#34;&gt;å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B&#34;&gt;ä½¿ç”¨æ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E8%BF%9E%E6%8E%A5memcached-2&#34;&gt;nginxè¿æ¥memcached&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3-2&#34;&gt;å‚æ•°è¯¦è§£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE&#34;&gt;é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E5%8F%B0memcache&#34;&gt;å¤šå°memcache&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E5%9D%97ngx_http_consistent_hash%E7%9A%84%E5%AE%89%E8%A3%85&#34;&gt;ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆngx_http_consistent_hashï¼‰çš„å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AEmemcache%E9%9B%86%E7%BE%A4&#34;&gt;é…ç½®memcacheé›†ç¾¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%9E%B6%E8%AE%BE&#34;&gt;é«˜æ€§èƒ½çš„æœåŠ¡å™¨çš„æ¶è®¾&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0%E8%B0%83%E6%95%B4&#34;&gt;å†…æ ¸å‚æ•°è°ƒæ•´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BD%91%E7%BB%9C&#34;&gt;ç½‘ç»œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%B2%E7%81%AB%E5%A2%99%E5%BB%BA%E8%AE%AE%E5%85%B3%E6%8E%89&#34;&gt;é˜²ç«å¢™(å»ºè®®å…³æ‰)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%87%E4%BB%B6&#34;&gt;æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%9B%E7%A8%8B%E6%9C%80%E5%A4%A7%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6&#34;&gt;è¿›ç¨‹æœ€å¤§æ–‡ä»¶æè¿°ç¬¦&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx%E5%8F%82%E6%95%B0%E8%B0%83%E6%95%B4&#34;&gt;nginxå‚æ•°è°ƒæ•´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#php-fpm%E5%8F%82%E6%95%B0%E8%B0%83%E6%95%B4&#34;&gt;php-fpmå‚æ•°è°ƒæ•´&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://nginx.org/en/docs/&#34;&gt;http://nginx.org/en/docs/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.nginx.cn/doc/index.html&#34;&gt;https://www.nginx.cn/doc/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://tengine.taobao.org/book/#&#34;&gt;http://tengine.taobao.org/book/#&lt;/a&gt; or &lt;a href=&#34;http://tengine.taobao.org/&#34;&gt;http://tengine.taobao.org/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.cnblogs.com/dsh942642/p/7181388.html&#34;&gt;https://www.cnblogs.com/dsh942642/p/7181388.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å­¦ä¹ ç›®å½•&#34;&gt;å­¦ä¹ ç›®å½•&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€ç¯‡
&lt;ol&gt;
&lt;li&gt;nginxä»‹ç»&lt;/li&gt;
&lt;li&gt;nginxç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;nginxæ•´åˆphp&lt;/li&gt;
&lt;li&gt;nginxä¿¡å·æ§åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¯‡
&lt;ol&gt;
&lt;li&gt;nginxè™šæ‹Ÿä¸»æœºé…ç½®&lt;/li&gt;
&lt;li&gt;nginxæ—¥å¿—åˆ‡å‰²&lt;/li&gt;
&lt;li&gt;nginxä¸gzipè®¾ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å®æˆ˜ç¯‡
&lt;ol&gt;
&lt;li&gt;nginxä¸æµè§ˆå™¨ç¼“å­˜é…ç½®&lt;/li&gt;
&lt;li&gt;nginxä¸rewriteè§„åˆ™&lt;/li&gt;
&lt;li&gt;nginxä¸memcached&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–ç¯‡
&lt;ol&gt;
&lt;li&gt;nginxè¿ç»­æ•°ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;nginxåå‘ä»£ç†&lt;/li&gt;
&lt;li&gt;nginxé›†ç¾¤ä¸è´Ÿè½½å¹³è¡¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;nginxä»‹ç»&#34;&gt;nginxä»‹ç»&lt;/h1&gt;
&lt;p&gt;Nginx (&amp;quot;engine x&amp;quot;) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œ åå‘ä»£ç† æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª IMAP/POP3/SMTP ä»£ç†æœåŠ¡å™¨ã€‚ Nginx æ˜¯ç”± Igor Sysoev ä¸ºä¿„ç½—æ–¯è®¿é—®é‡ç¬¬äºŒçš„ Rambler.ru ç«™ç‚¹å¼€å‘çš„&lt;/p&gt;
&lt;h1 id=&#34;nginxç¼–è¯‘å®‰è£…&#34;&gt;nginxç¼–è¯‘å®‰è£…&lt;/h1&gt;
&lt;h2 id=&#34;æ–¹æ³•ä¸€æºç ç¼–è¯‘å®‰è£…&#34;&gt;æ–¹æ³•ä¸€ï¼šæºç ç¼–è¯‘å®‰è£…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…ä¾èµ–
yum -y install pcre pcre-devel gcc gcc-c++ autoconf automake make zip*
# ä¸‹è½½æºç å¹¶è§£å‹
cd /usr/local/src
wget http://nginx.org/download/nginx-1.18.0.tar.gz
tar zxvf nginx-1.18.0.tar.gz
cd nginx-1.18.0
# ç¼–è¯‘å®‰è£…
./configure --prefix=/usr/local/nginx
make &amp;amp;&amp;amp; make install
# å¯åŠ¨
cd /usr/local/nginx
 ./sbin/nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ“ä½œå‘½ä»¤ä»‹ç»&#34;&gt;æ“ä½œå‘½ä»¤ä»‹ç»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;-?,-hï¼šæ˜¾ç¤ºè¯¥å¸®åŠ©ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;-vï¼šæ‰“å°ç‰ˆæœ¬å·å¹¶é€€å‡º&lt;/li&gt;
&lt;li&gt;-Vï¼šæ‰“å°ç‰ˆæœ¬å·ä¸ç¼–è¯‘ä¿¡æ¯å¹¶é€€å‡º&lt;/li&gt;
&lt;li&gt;-tï¼šæµ‹è¯•é…ç½®å¹¶é€€å‡º&lt;/li&gt;
&lt;li&gt;-Tï¼šæµ‹è¯•é…ç½®ã€è½¬å‚¨å¹¶é€€å‡º&lt;/li&gt;
&lt;li&gt;-qï¼šæµ‹è¯•é…ç½®æ—¶åªæ˜¾ç¤ºé”™è¯¯&lt;/li&gt;
&lt;li&gt;-s signalï¼šå‘é€ä¿¡å·ç»™ä¸»è¿›ç¨‹ï¼ŒåŒ…æ‹¬stopã€ quitã€ reopenã€ reload&lt;/li&gt;
&lt;li&gt;-p prefixï¼šæŒ‡å®šnginxæœåŠ¡å™¨è·¯å¾„å‰ç¼€ (é»˜è®¤ï¼š/usr/local/nginx/)&lt;/li&gt;
&lt;li&gt;-c filenameï¼šæŒ‡å®šnginxé…ç½®æ–‡ä»¶è·¯å¾„ (é»˜è®¤ï¼šconf/nginx.conf)&lt;/li&gt;
&lt;li&gt;-g directivesï¼šæŒ‡å®šnginxé™„åŠ é…ç½®æ–‡ä»¶è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ–¹æ³•äºŒyumæºå®‰è£…æ¨èä½¿ç”¨&#34;&gt;æ–¹æ³•äºŒï¼šyumæºå®‰è£…ï¼ˆæ¨èä½¿ç”¨ï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®yumæº
vim /etc/yum.repos.d/nginx.repo
    [nginx-stable]
    name=nginx stable repo
    baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
    gpgcheck=1
    enabled=1
    gpgkey=https://nginx.org/keys/nginx_signing.key
    [nginx-mainline]
    name=nginx mainline repo
    baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
    gpgcheck=1
    enabled=0
    gpgkey=https://nginx.org/keys/nginx_signing.key
yum makecache
# å®‰è£…
yum -y install nginx
# ç‰ˆæœ¬æŸ¥çœ‹
nginx -v  # nginx version: nginx/1.18.0
# å¼€æœºè‡ªå¯ä¸å¯åŠ¨
systemctl enable nginx &amp;amp;&amp;amp; systemctl start nginx &amp;amp;&amp;amp; systemctl status nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¯èƒ½å­˜åœ¨é—®é¢˜&#34;&gt;å¯èƒ½å­˜åœ¨é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä¸èƒ½ç»‘å®š80ç«¯å£,80ç«¯å£å·²ç»è¢«å ç”¨(æœ‰æ—¶æ˜¯è‡ªå·±è£…äº†apache,nginxç­‰,è¿˜æœ‰æ›´å¤šæƒ…å†µæ˜¯æ“ä½œç³»ç»Ÿè‡ªå¸¦äº†apacheå¹¶ä½œä¸ºæœåŠ¡å¯åŠ¨)&lt;br&gt;
è§£å†³ï¼šä½¿ç”¨&lt;code&gt;netstat -tulnp&lt;/code&gt;æŸ¥çœ‹ï¼Œ æŠŠå ç”¨80ç«¯å£çš„è½¯ä»¶æˆ–æœåŠ¡å…³é—­å³å¯&lt;/p&gt;
&lt;h1 id=&#34;nginxæ•´åˆphp&#34;&gt;nginxæ•´åˆphp&lt;/h1&gt;
&lt;p&gt;apacheä¸€èˆ¬æ˜¯æŠŠphpå½“åšè‡ªå·±çš„ä¸€ä¸ªæ¨¡å—æ¥å¯åŠ¨çš„ï¼Œè€Œnginxåˆ™æ˜¯æŠŠhttpè¯·æ±‚å˜é‡(å¦‚get,user_agentç­‰)è½¬å‘ç»™phpè¿›ç¨‹ï¼Œå³phpç‹¬ç«‹è¿›ç¨‹ï¼Œä¸nginxè¿›è¡Œé€šä¿¡ï¼Œç§°ä¸º fastcgiè¿è¡Œæ–¹å¼ï¼Œå› æ­¤ï¼Œä¸ºapacheæ‰€ç¼–è¯‘çš„phpæ˜¯ä¸èƒ½ç”¨äºnginxçš„ã€‚&lt;br&gt;
æ³¨æ„: æˆ‘ä»¬ç¼–è¯‘çš„PHP è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼šè¿æ¥mysql, gd, ttf, ä»¥fpm(fascgi)æ–¹å¼è¿è¡Œ&lt;br&gt;
&lt;code&gt;./configure --prefix=/usr/local/fastphp --with-mysql=mysqlnd --enable-mysqlnd --with-gd --enable-gd-native-ttf --enable-gd-jis-conv --enable-fpm&lt;/code&gt;&lt;br&gt;
è®¾è®¡åˆ°å…·ä½“é€‰é¡¹ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;./configure -help | grep mysql&lt;/code&gt;æŸ¥çœ‹&lt;/p&gt;
&lt;h2 id=&#34;nginxä¸phpåˆä½œçš„æ–¹å¼è¯´æ˜&#34;&gt;nginxä¸phpåˆä½œçš„æ–¹å¼è¯´æ˜&lt;/h2&gt;
&lt;p&gt;nginx+phpçš„é…ç½®æ¯”è¾ƒç®€å•ï¼Œæ ¸å¿ƒå°±ä¸€å¥è¯ï¼šæŠŠè¯·æ±‚çš„ä¿¡æ¯è½¬å‘ç»™9000ç«¯å£çš„PHPè¿›ç¨‹ï¼Œè®©PHPè¿›ç¨‹å¤„ç† æŒ‡å®šç›®å½•ä¸‹çš„PHPæ–‡ä»¶ã€‚å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¢°åˆ°phpæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æŠŠæ ¹ç›®å½•å®šä½åˆ° html&lt;/li&gt;
&lt;li&gt;æŠŠè¯·æ±‚ä¸Šä¸‹æ–‡è½¬äº¤ç»™9000ç«¯å£PHPè¿›ç¨‹&lt;/li&gt;
&lt;li&gt;å¹¶å‘Šè¯‰PHPè¿›ç¨‹ï¼Œå½“å‰çš„è„šæœ¬æ˜¯&lt;code&gt;$document_root$fastcgi_scriptname&lt;/code&gt;ã€æ³¨ï¼šPHPä¼šå»æ‰¾è¿™ä¸ªè„šæœ¬å¹¶å¤„ç†ï¼Œæ‰€ä»¥è„šæœ¬çš„ä½ç½®è¦æŒ‡å¯¹ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç¼–è¯‘å®‰è£…php&#34;&gt;ç¼–è¯‘å®‰è£…php&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y libxml* libpng* mariadb* gd gd-devel freetype
cd /usr/local/src
wget https://www.php.net/distributions/php-7.4.9.tar.gz
tar zxf php-7.4.9.tar.gz
cd php-7.4.9
./configure --prefix=/usr/local/php \
--enable-mysqlnd \
--with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd \
--without-sqlite3 \
--enable-gd --enable-gd-jis-conv --enable-fpm
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¿®æ”¹nginxé…ç½®æ–‡ä»¶æ•´åˆphp&#34;&gt;ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼Œæ•´åˆphp&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cp /usr/local/src/php-7.4.9/php.ini-development /usr/local/php/lib/php.ini
cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf
cp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.conf
/usr/local/php/sbin/php-fpm     # å¯åŠ¨php-fpm
systemctl start mariadb  # å¯åŠ¨mysqlæ•°æ®åº“
vim /usr/local/nginx/conf/nginx.conf
    # åœ¨serverä¸‹é¢ï¼Œå–æ¶ˆæ³¨é‡Šåä¿®æ”¹
    location ~ \.php$ {
        root           html;
        fastcgi_pass   127.0.0.1:9000;
        fastcgi_index  index.php;
        # ä¿®æ”¹ä¸‹é¢è¿™ä¸€è¡Œ
        fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;
        include        fastcgi_params;
        }
./sbin/nginx -s reload
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxä¿¡å·æ§åˆ¶&#34;&gt;nginxä¿¡å·æ§åˆ¶&lt;/h1&gt;
&lt;p&gt;å¦‚æœä¸ä¹ æƒ¯æˆ–è€…ä¸å–œæ¬¢ä½¿ç”¨killå‘½ä»¤çš„è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨nginxè‡ªå¸¦çš„å‘½ä»¤è¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¿¡å·æ§åˆ¶é€‰é¡¹&#34;&gt;ä¿¡å·æ§åˆ¶é€‰é¡¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;TERM, INTï¼šç«‹åˆ»å…³é—­ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;QUITï¼šä¼˜é›…çš„å…³é—­è¿›ç¨‹,å³ç­‰è¯·æ±‚ç»“æŸåå†å…³é—­&lt;/li&gt;
&lt;li&gt;HUPï¼šæ”¹å˜é…ç½®æ–‡ä»¶,å¹³æ»‘çš„é‡è¯»é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;USR1ï¼šé‡è¯»æ—¥å¿—ï¼Œåœ¨æ—¥å¿—æŒ‰æœˆ/æ—¥åˆ†å‰²æ—¶æœ‰ç”¨&lt;/li&gt;
&lt;li&gt;USR2ï¼šå¹³æ»‘çš„å‡çº§&lt;/li&gt;
&lt;li&gt;WINCHï¼šä¼˜é›…å…³é—­æ—§çš„è¿›ç¨‹(é…åˆUSR2æ¥è¿›è¡Œå‡çº§)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä½¿ç”¨æ–¹æ³•&#34;&gt;ä½¿ç”¨æ–¹æ³•&lt;/h2&gt;
&lt;p&gt;ä¸»è¿›ç¨‹å·æŸ¥è¯¢å‘½ä»¤ï¼š &lt;code&gt;ps aux | grep nginx | grep master&lt;/code&gt;&lt;br&gt;
è¿›ç¨‹å·è·å–ä¹Ÿå¯ä»¥è¯»å–nginxåœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šçš„pidæ–‡ä»¶ï¼Œé»˜è®¤æ˜¯&lt;code&gt;cat /usr/local/nginx/logs/nginx.pid&lt;/code&gt;&lt;br&gt;
ä½¿ç”¨æ–¹å¼ï¼š&lt;code&gt;kill -ä¿¡å·é€‰é¡¹ nginxçš„ä¸»è¿›ç¨‹å·&lt;/code&gt;ï¼Œä¾‹å¦‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‡è¯»é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;kill -HUP 5415
æˆ–è€…
kill -HUP `cat /usr/local/nginx/logs/nginx.pid`
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å†™å…¥æ–°çš„æ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;kill -USR1 5415
æˆ–è€…
kill -USR1 `cat /usr/local/nginx/logs/nginx.pid`
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxè™šæ‹Ÿä¸»æœºé…ç½®&#34;&gt;nginxè™šæ‹Ÿä¸»æœºé…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;nginxé…ç½®æ–‡ä»¶ç»“æ„&#34;&gt;nginxé…ç½®æ–‡ä»¶ç»“æ„&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å…¨å±€å—ï¼šé…ç½®å½±å“nginxå…¨å±€çš„æŒ‡ä»¤ã€‚ä¸€èˆ¬æœ‰è¿è¡ŒnginxæœåŠ¡å™¨çš„ç”¨æˆ·ç»„ï¼Œnginxè¿›ç¨‹pidå­˜æ”¾è·¯å¾„ï¼Œæ—¥å¿—å­˜æ”¾è·¯å¾„ï¼Œé…ç½®æ–‡ä»¶å¼•å…¥ï¼Œå…è®¸ç”Ÿæˆworker processæ•°ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;eventså—ï¼šé…ç½®å½±å“nginxæœåŠ¡å™¨æˆ–ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥ã€‚æœ‰æ¯ä¸ªè¿›ç¨‹çš„æœ€å¤§è¿æ¥æ•°ï¼Œé€‰å–å“ªç§äº‹ä»¶é©±åŠ¨æ¨¡å‹å¤„ç†è¿æ¥è¯·æ±‚ï¼Œæ˜¯å¦å…è®¸åŒæ—¶æ¥å—å¤šä¸ªç½‘è·¯è¿æ¥ï¼Œå¼€å¯å¤šä¸ªç½‘ç»œè¿æ¥åºåˆ—åŒ–ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;httpå—ï¼šå¯ä»¥åµŒå¥—å¤šä¸ªserverï¼Œé…ç½®ä»£ç†ï¼Œç¼“å­˜ï¼Œæ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®ã€‚å¦‚æ–‡ä»¶å¼•å…¥ï¼Œmime-typeå®šä¹‰ï¼Œæ—¥å¿—è‡ªå®šä¹‰ï¼Œæ˜¯å¦ä½¿ç”¨sendfileä¼ è¾“æ–‡ä»¶ï¼Œè¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•è¿æ¥è¯·æ±‚æ•°ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;serverå—ï¼šé…ç½®è™šæ‹Ÿä¸»æœºçš„ç›¸å…³å‚æ•°ï¼Œä¸€ä¸ªhttpä¸­å¯ä»¥æœ‰å¤šä¸ªserverã€‚&lt;/li&gt;
&lt;li&gt;locationå—ï¼šé…ç½®è¯·æ±‚çš„è·¯ç”±ï¼Œä»¥åŠå„ç§é¡µé¢çš„å¤„ç†æƒ…å†µã€‚&lt;br&gt;
&lt;code&gt;serverç»§æ‰¿ mainï¼Œlocation ç»§æ‰¿ serverï¼Œ upstream æ—¢ä¸ä¼šç»§æ‰¿å…¶ä»–çš„é…ç½®ï¼Œä¹Ÿä¸ä¼šè¢«ç»§æ‰¿&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;...              #å…¨å±€å—

events {         #eventså—
   ...
}

http      #httpå—
{
    ...   #httpå…¨å±€å—
    server        #serverå—
    { 
        ...       #serverå…¨å±€å—
        location [PATTERN]   #locationå—
        {
            ...
        }
        location [PATTERN] 
        {
            ...
        }
    }
    server
    {
      ...
    }
    ...     #httpå…¨å±€å—
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶è¯¦è§£&#34;&gt;é…ç½®æ–‡ä»¶è¯¦è§£&lt;/h3&gt;
&lt;p&gt;nginxé…ç½®æ–‡ä»¶åšå¤§ç²¾æ·±ï¼Œè¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»éƒ¨åˆ†å¸¸ç”¨å‚æ•°ï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤šå‚æ•°ä»¥åŠä½¿ç”¨æ–¹æ³•ï¼Œè¯·å‚è€ƒç½‘ç«™&lt;a href=&#34;http://nginx.org/en/docs/&#34;&gt;http://nginx.org/en/docs/&lt;/a&gt;æˆ–è€…&lt;a href=&#34;https://www.nginx.cn/doc/index.html&#34;&gt;https://www.nginx.cn/doc/index.html&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#ã€æ³¨æ„ã€‘ï¼šæ¯ä¸ªæŒ‡ä»¤å¿…é¡»æœ‰åˆ†å·ç»“æŸ

# --------------------------- å…¨å±€å— --------------------------
# é…ç½®ç”¨æˆ·æˆ–è€…ç»„ï¼Œé»˜è®¤ä¸ºnobody nobody
user root root;  
# å…è®¸ç”Ÿæˆçš„è¿›ç¨‹æ•°ï¼Œé»˜è®¤ä¸º1ã€‚å¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼Œä½†å¤ªå¤§æ— ç›Šï¼Œå› ä¸ºè¦äº‰å¤ºCPUï¼Œä¸€èˆ¬è®¾ç½®ä¸ºCPUé€»è¾‘æ ¸å¿ƒæ•°
worker_processes 1;  
# æŒ‡å®šnginxè¿›ç¨‹è¿è¡Œæ–‡ä»¶å­˜æ”¾åœ°å€
pid /nginx/pid/nginx.pid;   
#åˆ¶å®šæ—¥å¿—è·¯å¾„ï¼Œçº§åˆ«ï¼ˆçº§åˆ«å‚æ•°å¯çœç•¥ï¼Œé»˜è®¤ä¸ºcritï¼‰ã€‚è¿™ä¸ªè®¾ç½®å¯ä»¥æ”¾å…¥å…¨å±€å—ã€httpå—ã€serverå—ï¼Œçº§åˆ«ä»¥æ­¤ä¸ºï¼šdebug|info|notice|warn|error|crit|alert|emerg
error_log log/error.log debug;  

# --------------------------- eventså— --------------------------
events {
    # è®¾ç½®ç½‘è·¯è¿æ¥åºåˆ—åŒ–ï¼Œé˜²æ­¢æƒŠç¾¤ç°è±¡å‘ç”Ÿï¼Œé»˜è®¤ä¸ºon
    #   æƒŠç¾¤ç°è±¡ï¼šä¸€ä¸ªç½‘è·¯è¿æ¥åˆ°æ¥ï¼Œå¤šä¸ªç¡çœ çš„è¿›ç¨‹è¢«åŒæ—¶å«é†’ï¼Œä½†åªæœ‰ä¸€ä¸ªè¿›ç¨‹èƒ½è·å¾—é“¾æ¥ï¼Œè¿™æ ·ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½
    accept_mutex on;   
    # è®¾ç½®ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦åŒæ—¶æ¥å—å¤šä¸ªç½‘ç»œè¿æ¥ï¼Œé»˜è®¤ä¸ºoff
    multi_accept on;  
    # äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œé»˜è®¤ä¸ºepollï¼Œselect|poll|kqueue|epoll|resig|/dev/poll|eventport
    use epoll;      
    # æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º512
    worker_connections  1024;    
}

# --------------------------- httpå— --------------------------
http {

    # --------------------------- httpå—ï¼šhttpå…¨å±€å— --------------------------
    # æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨
    include       mime.types;   
    # é»˜è®¤æ–‡ä»¶ç±»å‹ï¼Œé»˜è®¤ä¸ºtext/plain
    default_type  application/octet-stream; 
    # å–æ¶ˆæœåŠ¡æ—¥å¿—
    access_log off;     
    # è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ï¼Œå…¶ä¸­ï¼š
    #   1. $remote_addr ä¸ $http_x_forwarded_forï¼šç”¨ä»¥è®°å½•å®¢æˆ·ç«¯çš„ipåœ°å€ï¼›
    #   2.$remote_userï¼šç”¨æ¥è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°ï¼›
    #   3.$time_localï¼šç”¨æ¥è®°å½•è®¿é—®æ—¶é—´ä¸æ—¶åŒºï¼›
    #   4.$requestï¼šç”¨æ¥è®°å½•è¯·æ±‚çš„urlä¸httpåè®®ï¼›
    #   5.$statusï¼šç”¨æ¥è®°å½•è¯·æ±‚çŠ¶æ€ï¼›æˆåŠŸæ˜¯200ï¼›
    #   6.$body_bytes_s entï¼šè®°å½•å‘é€ç»™å®¢æˆ·ç«¯æ–‡ä»¶ä¸»ä½“å†…å®¹å¤§å°ï¼›
    #   7.$http_refererï¼šç”¨æ¥è®°å½•ä»é‚£ä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„ï¼›
    #   8.$http_user_agent ï¼šè®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯ï¼›
    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;
                                 &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;
                                 &#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&#39;;
    # combinedä¸ºæ—¥å¿—æ ¼å¼çš„é»˜è®¤å€¼ï¼Œå¯ä»¥åœ¨å…¨å±€å—ã€httpå—ã€serverå—è®¾ç½®
    access_log log/access.log main; 
    # å…è®¸sendfileæ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºoffï¼Œå¯ä»¥åœ¨httpå—ï¼Œserverå—ï¼Œlocationå—ã€‚ 
    sendfile on;   
    # æ¯ä¸ªè¿›ç¨‹æ¯æ¬¡è°ƒç”¨ä¼ è¾“æ•°é‡ä¸èƒ½å¤§äºè®¾å®šçš„å€¼ï¼Œé»˜è®¤ä¸º0ï¼Œå³ä¸è®¾ä¸Šé™ã€‚
    sendfile_max_chunk 100k;  
    #è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º75sï¼Œå¯ä»¥åœ¨httpï¼Œserverï¼Œlocationå—ã€‚
    keepalive_timeout 65;  
    # é…ç½®çƒ­å¤‡æˆ–è€…è´Ÿè½½å‡è¡¡ç­‰
    upstream mysvr {   
      server 127.0.0.1:7878;
      server 192.168.10.121:3333 backup;  #çƒ­å¤‡
    }
    # é”™è¯¯é¡µ
    error_page 404 https://www.baidu.com; 
    # å…³äºç¼“å­˜tcp_nopushã€å‹ç¼©gzipç­‰å‚æ•°ï¼Œå¯è¯¦ç»†å‚è€ƒå®˜ç½‘è¯´æ˜

    # --------------------------- httpå—ï¼šserverå— --------------------------
    server {
        # --------------------------- httpå—ï¼šserverå…¨å±€å— --------------------
        # å•è¿æ¥è¯·æ±‚ä¸Šé™æ¬¡æ•°
        keepalive_requests 120; 
        # ç›‘å¬ç«¯å£
        listen       4545;   
        # ç›‘å¬åœ°å€   
        server_name  127.0.0.1;      
        # è®¾ç½®ç¼–ç æ ¼å¼ä¸ºutf-8
        charset utf-8;

        # --------------------------- httpå—ï¼šlocationå— ----------------- 
        #è¯·æ±‚çš„urlè¿‡æ»¤ï¼Œæ­£åˆ™åŒ¹é…ï¼Œ~ä¸ºåŒºåˆ†å¤§å°å†™ï¼Œ~*ä¸ºä¸åŒºåˆ†å¤§å°å†™ã€‚
        location  ~*^.+$ { 
            # æ ¹ç›®å½•      
           root path;  
           # è®¾ç½®é»˜è®¤é¡µ
           index vv.txt;  
           # è¯·æ±‚è½¬å‘mysvr å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨
           proxy_pass  http://mysvr;  
           # æ‹’ç»çš„ip
           deny 127.0.0.1;  
           # å…è®¸çš„ip 
           allow 172.18.5.54;           
        } 
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä»£ç†æœåŠ¡é…ç½®è¯¦è§£&#34;&gt;ä»£ç†æœåŠ¡é…ç½®è¯¦è§£&lt;/h4&gt;
&lt;h5 id=&#34;å‚æ•°è¯¦è§£&#34;&gt;å‚æ•°è¯¦è§£&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŸºæœ¬æŒ‡ä»¤&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;proxy_passï¼šè®¾ç½®ä»£ç†æœåŠ¡å™¨çš„åè®®å’Œåœ°å€ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_pass URL&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_hide_headerï¼šç”¨äºè®¾ç½®NginxæœåŠ¡å™¨å‘é€httpå“åº”æ—¶ï¼Œéšè—ä¸€äº›å¤´åŸŸä¿¡æ¯ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_hide_header field&lt;/code&gt;ï¼Œfieldä¸ºéœ€è¦éšè—çš„å¤´åŸŸï¼Œå¯ç”¨äºhttpã€serverã€localtion&lt;/li&gt;
&lt;li&gt;proxy_pass_headerï¼šé»˜è®¤NginxæœåŠ¡å™¨åœ¨å‘é€å“åº”æŠ¥æ–‡æ—¶ï¼ŒæŠ¥æ–‡ä¸åŒ…å«date server X-accelç­‰æ¥è‡ªè¢«ä»£ç†æœåŠ¡å™¨çš„å¤´åŸŸä¿¡æ¯ï¼Œè¯¥æŒ‡ä»¤å¯ä»¥è®¾ç½®è¿™äº›å¤´åŸŸä¿¡æ¯å·²è¢«å‘é€ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_pass_header filed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_pass_request_bodyï¼šé…ç½®æ˜¯å¦å°†å®¢æˆ·ç«¯è¯·æ±‚ä½“å‘é€ç»™ä»£ç†æœåŠ¡å™¨ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_pass_request_body on | off&lt;/code&gt;ï¼Œå¯ç”¨äºhttpã€serverã€localtion&lt;/li&gt;
&lt;li&gt;proxy_pass_request_headerï¼šé…ç½®æ˜¯å¦å°†å®¢æˆ·ç«¯çš„è¯·æ±‚å¤´å‘é€ç»™ä»£ç†æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;proxy_set_headerï¼šç”¨äºæ›´æ”¹NginxæœåŠ¡å™¨æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯è¯·æ±‚çš„è¯·æ±‚å¤´ï¼Œç„¶åå°†æ–°çš„è¯·æ±‚å¤´å‘é€ç»™è¢«ä»£ç†æœåŠ¡å™¨ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_set_header filed value&lt;/code&gt;ï¼Œfieldä¸ºè¦æ›´æ”¹çš„ä¿¡æ¯æ‰€åœ¨çš„å¤´åŸŸï¼Œvalueä¸ºè¦æ›´æ”¹åçš„å€¼&lt;/li&gt;
&lt;li&gt;proxy_set_bodyï¼šæ›´æ”¹NginxæœåŠ¡å™¨æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯è¯·æ±‚çš„è¯·æ±‚ä½“ä¿¡æ¯ï¼Œç„¶åå°†æ–°çš„è¯·æ±‚ä½“å‘é€ç»™è¢«ä»£ç†çš„æœåŠ¡å™¨ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_set_body value&lt;/code&gt;ï¼Œvalueä¸ºæ›´æ”¹çš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;proxy_bindï¼šå¼ºåˆ¶å°†ä¸ä»£ç†ä¸»æœºçš„è¿æ¥ç»‘å®šåˆ°æŒ‡å®šçš„ipä¸»æœºã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_bind address&lt;/code&gt; ï¼Œaddressä¸ºIPåœ°å€&lt;/li&gt;
&lt;li&gt;proxy_connect_timoutï¼šç”¨äºé…ç½®NginxæœåŠ¡å™¨ä¸åç«¯è¢«ä»£ç†æœåŠ¡å™¨å°è¯•è¿æ¥çš„è¶…æ—¶æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_connect_timout time&lt;/code&gt;ï¼Œé»˜è®¤æ—¶é—´60ç§’&lt;/li&gt;
&lt;li&gt;proxy_read_timeoutï¼šç”¨äºé…ç½®NginxæœåŠ¡å™¨å‘åç«¯è¢«ä»£ç†æœåŠ¡å™¨(ç»„)å‘å‡ºreadè¯·æ±‚åï¼Œç­‰å¾…å“åº”çš„è¶…æ—¶æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_read_timeout time&lt;/code&gt;ï¼Œé»˜è®¤æ—¶é—´60ç§’&lt;/li&gt;
&lt;li&gt;proxy_send_timeoutï¼šç”¨äºé…ç½®NginxæœåŠ¡å™¨å‘åç«¯è¢«ä»£ç†æœåŠ¡å™¨(ç»„)å‘å‡ºwriteè¯·æ±‚åï¼Œç­‰å¾…å“åº”çš„è¶…æ—¶æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_send_timeout time&lt;/code&gt;ï¼Œé»˜è®¤æ—¶é—´60ç§’&lt;/li&gt;
&lt;li&gt;proxy_http_versionï¼šç”¨äºè®¾ç½®NginxæœåŠ¡å™¨æä¾›ä»£ç†æœåŠ¡å™¨çš„HTTPåè®®ç‰ˆæœ¬ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_http_version 1.0|1.1|2.0&lt;/code&gt;ï¼Œé»˜è®¤æ˜¯1.0&lt;/li&gt;
&lt;li&gt;proxy_methodï¼šç”¨äºè®¾ç½®NginxæœåŠ¡å™¨è¯·æ±‚ä»£ç†æœåŠ¡å™¨ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œè®¾ç½®äº†è¿™ä¸ªå®¢æˆ·ç«¯çš„è¯·æ±‚æ–¹æ³•å°†ä¼šè¢«å¿½ç•¥ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_method POST|GET&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_ignore_client_abortï¼šç”¨äºè®¾ç½®åœ¨å®¢æˆ·ç«¯ä¸­æ–­ç½‘ç»œè¯·æ±‚çš„æ—¶å€™ï¼ŒNginxæœåŠ¡å™¨æ˜¯å¦ä¸­æ–­å¯¹è¢«ä»£ç†æœåŠ¡å™¨çš„è¯·æ±‚ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_ignore_client_abort on | off&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_ignore_headersï¼šç”¨äºè®¾ç½®ä¸€äº›HTTPå“åº”å¤´çš„å¤´åŸŸã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_ignore_headers filed ...&lt;/code&gt;ï¼Œfiledä¸ºè¦è®¾ç½®çš„HTTPç›¸åº”å¤´çš„å¤´åŸŸä¿¡æ¯ï¼Œä¾‹å¦‚&amp;quot;X-Accel-Redirect&amp;quot;ã€&amp;quot;X-Accel-Expires&amp;quot;ã€&amp;quot;Expores&amp;quot;ã€&amp;quot;Cache-Control&amp;quot;ã€&amp;quot;Set-Cookie&amp;quot;&lt;/li&gt;
&lt;li&gt;proxy_headers_hash_max_sizeï¼šå­˜æ”¾HTTPæŠ¥æ–‡å¤´çš„å“ˆå¸Œè¡¨çš„å®¹é‡ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_headers_hash_max_size size&lt;/code&gt;ï¼Œé»˜è®¤å¤§å°512&lt;/li&gt;
&lt;li&gt;proxy_headers_hash_bucket_sizeï¼šNginxæœåŠ¡å™¨ç”³è¯·å­˜æ”¾HTTPæŠ¥æ–‡å¤´çš„å“ˆå¸Œè¡¨å®¹é‡çš„å•ä½å¤§å°ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_headers_hash_max_size 64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_next_upstreamï¼šå¦‚æœNginxå®šä¹‰äº†upstreamåç«¯æœåŠ¡å™¨ç»„ï¼Œå¦‚æœç»„å†…æœ‰å¼‚å¸¸æƒ…å†µï¼Œå°†è¯·æ±‚é¡ºæ¬¡äº¤ç»™ä¸‹ä¸€ä¸ªç»„å†…æœåŠ¡å™¨å¤„ç†ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_next_upstream error|timeout|invalid_header|http_500 502 503 504 404|off&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_ssl_session_reuseï¼šè¯¥æŒ‡ä»¤ç”¨äºé…ç½®æ˜¯å¦ä½¿ç”¨åŸºäºSSLå®‰å…¨åè®®çš„ä¼šè¯è¿æ¥ï¼ˆhtts://ï¼‰è¢«ä»£ç†æœåŠ¡å™¨ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_ssl_session_reuse on | off&lt;/code&gt;ï¼Œé»˜è®¤on&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ProxyBufferæŒ‡ä»¤&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;proxy_bufferingï¼šç”¨äºé…ç½®æ˜¯å¦å¯ç”¨æˆ–è€…å…³é—­proxybuffã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_buffering on | off&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_buffersï¼šç”¨äºé…ç½®æ¥æ”¶ä¸€æ¬¡è¢«ä»£ç†æœåŠ¡å™¨å“åº”æ•°æ®çš„Proxy Bufferä¸ªæ•°å’Œæ¯ä¸ªBufferçš„å¤§å°ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_buffers number size&lt;/code&gt;ï¼Œsizeä¸€èˆ¬è®¾ç½®ä¸ºå†…å­˜é¡µå¤§å°ï¼Œæ ¹æ®å¹³å°çš„ä¸åŒï¼Œå–å€¼å¯èƒ½ä¸º4KBæˆ–è€…8KBï¼Œä¾‹å¦‚ï¼š&lt;code&gt;proxy_buffers 8 4KB|8KB&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_buffer_sizeï¼šç”¨äºé…ç½®ä»è¢«ä»£ç†æœåŠ¡å™¨è·å–çš„ç¬¬ä¸€éƒ¨åˆ†å“åº”æ•°æ®çš„å¤§å°ï¼Œé»˜è®¤ä¸º4kæˆ–è€…8kï¼Œä¿æŒä¸proxy_buffersæŒ‡ä»¤ä¸­çš„sizeå˜é‡ç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;proxy_busy_buffers_sizeï¼šç”¨äºé™åˆ¶åŒæ—¶å¤„äºBUSYçŠ¶æ€çš„Proxy Bufferçš„æ€»å¤§å°ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_busy_buffers_size size&lt;/code&gt;ï¼Œsizeä¸ºè®¾ç½®å¤„äºBUSYçŠ¶æ€çš„ç¼“å­˜åŒºæ€»å¤§å°ã€‚é»˜è®¤ä¸º8KBæˆ–è€…16KBã€‚&lt;/li&gt;
&lt;li&gt;proxy_temp_pathï¼šç”¨äºé…ç½®ç£ç›˜ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œç”¨äºä¸´æ—¶å­˜æ”¾è¢«ä»£ç†æœåŠ¡å™¨çš„å¤§ä½“ç§¯å“åº”æ•°æ®ã€‚å¦‚æœProxy Bufferè¢«è£…æ»¡åï¼Œå“åº”æ•°æ®ä»ç„¶æ²¡æœ‰è¢«NginxæœåŠ¡å™¨å®Œå…¨æ¥æ”¶ï¼Œä¹‹åå“åº”çš„æ•°æ®å°±ä¼šè¢«ä¸´æ—¶å­˜æ”¾åœ¨è¯¥æ–‡ä»¶ä¸­ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_temp_path path [level1 [level2 [level3]]]&lt;/code&gt;ï¼Œpathä¸ºç£ç›˜ä¸Šä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„è·¯å¾„ï¼ŒlevelNç¼“å­˜æ–‡ä»¶å­˜æ”¾åœ¨è®¾ç½®çš„è·¯å¾„çš„ç¬¬å‡ çº§hashç›®å½•ä¸­&lt;/li&gt;
&lt;li&gt;proxy_max_temp_file_sizeï¼šç”¨äºè®¾ç½®æ‰€æœ‰ä¸´æ—¶æ–‡ä»¶çš„æ€»å¤§å°ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_max_temp_file_size size&lt;/code&gt;ï¼Œé»˜è®¤æ˜¯1024M&lt;/li&gt;
&lt;li&gt;proxy_temp_file_write_sizeï¼šç”¨äºé…ç½®åŒæ—¶å†™å…¥ä¸´æ—¶æ–‡ä»¶çš„æ•°æ®é‡çš„æ€»å¤§å°ï¼Œè¯­æ³•ï¼š&lt;code&gt;proxy_temp_file_write_size size&lt;/code&gt;ï¼Œé»˜è®¤è®¾ç½®æ ¹æ®å¹³å°çš„ä¸åŒï¼Œå¯ä»¥ä¸º8KBæˆ–è€…16KBï¼Œä¸€èˆ¬ä¸å¹³å°çš„å†…å­˜ä¹Ÿå¤§å°ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Proxy CacheæŒ‡ä»¤&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;proxy_cacheï¼šç”¨äºé…ç½®ä¸€å—å…¬ç”¨çš„å†…å­˜åŒºåŸŸçš„åç§°ï¼Œè¯¥åŒºåŸŸå¯ä»¥å­˜æ”¾ç¼“å­˜çš„ç´¢å¼•æ•°æ®ã€‚è¿™äº›æ•°æ®åœ¨NginxæœåŠ¡å™¨å¯åŠ¨æ—¶ç”±ç¼“å­˜ç´¢å¼•é‡å»ºè¿›ç¨‹è´Ÿè´£å»ºç«‹ï¼Œåœ¨NginxæœåŠ¡å™¨çš„æ•´ä¸ªè¿è¡Œè¿‡ç¨‹ä¸­ç”±ç¼“å­˜ç®¡ç†è¿›ç¨‹è´Ÿè´£å®šæ—¶æ£€æŸ¥è¿‡æœŸæ•°æ®ã€æ£€ç´¢ç­‰ç®¡ç†å·¥ä½œã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_cache zone | off&lt;/code&gt;ï¼Œzoneä¸ºè®¾ç½®ç”¨äºå­˜æ”¾ç¼“å­˜ç´¢å¼•çš„å†…å­˜åŒºåŸŸçš„åç§°ï¼Œoffä¸ºå…³é—­proxy_cacheåŠŸèƒ½ï¼ˆé»˜è®¤è®¾ç½®ä¸ºonï¼‰&lt;/li&gt;
&lt;li&gt;proxy_cache_bypassï¼šç”¨äºé…ç½®Nginxåœ¨å“åº”å®¢æˆ·ç«¯æ—¶ä¸ä»ç¼“å­˜ä¸­è·å–æ•°æ®çš„æ¡ä»¶ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_cache_bypass string ...&lt;/code&gt;ï¼Œstringä¸ºæ¡ä»¶å˜é‡ï¼Œæ”¯æŒé…ç½®å¤šä¸ªï¼Œå½“è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡ä»¤ä¸ä¸ºç©ºæˆ–è€…ä¸ç­‰äº0æ—¶ï¼Œå“åº”æ•°æ®ä¸ä»ç¼“å­˜ä¸­è·å–ã€‚&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;proxy_cache_bypass $cookie_nocache $arg_nocache $arg_comment $http_pragma $http_authorization&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;proxy_cache_keyï¼šç”¨äºé…ç½®NginxæœåŠ¡å™¨åœ¨å†…å­˜ä¸­ä¸ºç¼“å­˜æ•°æ®å»ºç«‹ç´¢å¼•æ—¶ä½¿ç”¨çš„å…³é”®å­—&lt;/li&gt;
&lt;li&gt;proxy_cache_lock_timeoutï¼šç”¨äºé…ç½®å¼€å¯é”åŠŸèƒ½ä»¥åé”çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º5sã€‚&lt;/li&gt;
&lt;li&gt;proxy_cache_in_usesï¼šå½“å®¢æˆ·ç«¯å‘è¢«ä»£ç†çš„æœåŠ¡å™¨å‘é€ç›¸åŒçš„è¯·æ±‚è¾¾åˆ°è¯¥æŒ‡ä»¤è®¾å®šçš„æ¬¡æ•°åï¼ŒNginxæœåŠ¡å™¨æ‰å¯¹è¯¥å…¶æ›´å¹´æœŸçš„å“åº”æ•°æ®åšç¼“å­˜ï¼Œé»˜è®¤ä¸º1ã€‚&lt;/li&gt;
&lt;li&gt;proxy_cache_pathï¼šç”¨äºè®¾ç½®NginxæœåŠ¡å™¨å­˜å‚¨ç¼“å­˜æ•°æ®çš„è·¯å¾„ä»¥åŠå’Œç¼“å­˜ç´¢å¼•ç›¸å…³çš„å†…å®¹ï¼Œè¯­æ³•ï¼š&lt;code&gt;proxy_cache_path path [levels=levels] keys_zone=name:size1 [inactive=time1] [max_size=size2] [loader_files=number] [loader_sleep=time2] [loader_threshold=time3]&lt;/code&gt;ï¼Œ
&lt;ol&gt;
&lt;li&gt;pathï¼šè®¾ç½®ç¼“å­˜å­˜æ”¾çš„æ ¹è·¯å¾„&lt;/li&gt;
&lt;li&gt;levelsï¼šè®¾ç½®ç›¸å¯¹äºpathæŒ‡å®šç›®å½•çš„ç¬¬å‡ çº§hashç›®å½•ä¸­ç¼“å­˜æ•°æ®ã€‚&lt;code&gt;levels=1&lt;/code&gt;è¡¨ç¤ºä¸€çº§hashç›®å½•ï¼Œ&lt;code&gt;levels=1:2&lt;/code&gt;ï¼Œè¡¨ç¤ºä¸¤çº§ç›®å½•ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¯¥ç›®å½•æ˜¯åŸºäºè¯·æ±‚URLé€šè¿‡å“ˆå¸Œç®—æ³•å¾—åˆ°çš„&lt;/li&gt;
&lt;li&gt;name:size1ï¼šNginxæœåŠ¡å™¨çš„ç¼“å­˜ç´¢å¼•é‡å»ºè¿›ç¨‹åœ¨å†…å­˜ä¸­ä¸ºç¼“å­˜æ•°æ®å»ºç«‹ç´¢å¼•ï¼Œè¿™ä¸€å¯¹å˜é‡ç”¨æ¥è®¾ç½®å­˜æ”¾ç¼“å­˜ç´¢å¼•çš„å†…å­˜åŒºåŸŸçš„åç§°å’Œå¤§å°t&lt;/li&gt;
&lt;li&gt;time1ï¼šè®¾ç½®å¼ºåˆ¶æ›´æ–°ç¼“å­˜æ•°æ®çš„æ—¶é—´ï¼Œå½“ç¼“å­˜æ•°æ®åœ¨è®¾å®šçš„æ—¶é—´å†…æ²¡æœ‰è¢«è®¿é—®æ—¶ï¼ŒNginxæœåŠ¡å™¨å°±å¼ºåˆ¶ä»ç¡¬ç›˜ä¸Šå°†å…¶åˆ é™¤ï¼Œä¸‹æ¬¡å®¢æˆ·ç«¯è®¿é—®è¯¥æ•°æ®æ—¶é‡æ–°ç¼“å­˜ï¼Œé»˜è®¤ä¸º10&lt;/li&gt;
&lt;li&gt;size2ï¼šè®¾ç½®ç¼“å­˜æ•°æ®å¤§å°ï¼Œå½“ç¼“å­˜çš„å¤§å°è¶…è¿‡è¯¥å˜é‡çš„è®¾ç½®æ—¶ï¼Œç´¢å¼•ç®¡ç†è¿›ç¨‹å°†æ ¹æ®æœ€è¿‘æœ€å°‘è¢«è®¿é—®çš„ç­–ç•¥åˆ é™¤ç¼“å­˜&lt;/li&gt;
&lt;li&gt;numberï¼šè®¾ç½®ç¼“å­˜ç´¢å¼•é‡å»ºè¿›ç¨‹æ¯æ¬¡åŠ è½½çš„æ•°æ®å…ƒç´ çš„æ•°é‡ä¸Šé™ï¼Œé»˜è®¤ä¸º100&lt;/li&gt;
&lt;li&gt;time2ï¼šè®¾ç½®ç¼“å­˜ç´¢å¼•é‡å»ºè¿›ç¨‹åœ¨ä¸€æ¬¡éå†ç»“æŸåä¸‹ä¸€æ¬¡éå†å¼€å§‹ä¹‹é—´æš‚åœçš„æ—¶é•¿ï¼Œé»˜è®¤ä¸º50ms&lt;/li&gt;
&lt;li&gt;time3ï¼šè®¾ç½®éå†ä¸€æ¬¡ç£ç›˜ç¼“å­˜æºæ•°æ®çš„æ—¶é—´ä¸Šé™ï¼Œé»˜è®¤ä¸º200ms&lt;br&gt;
æŒ‡ä»¤æ¯”è¾ƒå¤æ‚ï¼Œä¸€èˆ¬éœ€è¦è®¾ç½®å‰é¢3ä¸ªæŒ‡ä»¤çš„æƒ…å½¢æ¯”è¾ƒå¤šï¼Œåé¢å‡ ä¸ªå˜é‡ä¸NginxæœåŠ¡å™¨ç¼“å­˜ç´¢å¼•é‡å»ºè¿›ç¨‹ä»¥åŠç®¡ç†è¿›ç¨‹æ€§èƒ½æœ‰å…³ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¿æŒé»˜è®¤è®¾ç½®å°±å¯ä»¥äº†ã€‚ä¾‹å¦‚ï¼š&lt;code&gt;proxy_cache_path /data/nginx/cache/a levels=1 keys_zone=a:10m;&lt;/code&gt;æˆ–è€…&lt;code&gt;proxy_cache_path /data/nginx/cache/b levels=2:2 keys_zone=b:100m;&lt;/code&gt;æˆ–è€…&lt;code&gt;proxy_cache_path /data/nginx/cache/c levels=1:1:2 keys_zone=c:1000m;&lt;/code&gt;ã€‚ã€æ³¨ï¼šã€‘&lt;strong&gt;è¯¥æŒ‡ä»¤åªèƒ½æ”¾åœ¨httpå—ä¸­&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;proxy_cache_use_staleï¼šæŒ‡å®šåœ¨å“ªç§æƒ…å†µä¸‹ï¼Œå½“è¢«ä»£ç†çš„æœåŠ¡å™¨æ— æ³•è®¿é—®æˆ–è€…è®¿é—®é”™è¯¯ç­‰ç°è±¡æ—¶ï¼ŒNginxæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨å†å²ç¼“å­˜å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_cache_use_stale error | timeout | invalid_header | updating | http_500 | off ...&lt;/code&gt;ï¼Œé»˜è®¤ä¸ºoff&lt;/li&gt;
&lt;li&gt;proxy_cache_validï¼šè¯¥æŒ‡ä»¤å¯ä»¥é’ˆå¯¹ä¸èƒ½çš„HTTPå“åº”çŠ¶æ€è®¾ç½®ä¸åŒçš„ç¼“å­˜æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_cache_valid [code ...] time&lt;/code&gt;ï¼Œcodeä¸ºè®¾ç½®HTTPå“åº”çš„çŠ¶æ€ç ï¼Œé»˜è®¤åªä¸ºå“åº”ç æ˜¯200ã€301ã€302çš„å“åº”æ•°æ®åšç¼“å­˜ï¼Œå¯ä»¥ä½¿ç”¨anyï¼Œè¡¨ç¤ºç¼“å­˜æ‰€æœ‰è¯¥æŒ‡ä»¤ä¸­æœªè®¾å®šçš„å…¶ä»–å“åº”æ•°æ®ï¼›timeä¸ºç¼“å­˜æ—¶é—´ã€‚ä¸¾ä¾‹ï¼š&lt;code&gt;proxy_cache_valid 200 302 10m;&lt;/code&gt;æˆ–&lt;code&gt;proxy_cache_valid 301 1h;&lt;/code&gt;æˆ–&lt;code&gt;proxy_cache_valid any 10m;&lt;/code&gt; ï¼Œç¬¬ä¸‰ä¸ªä¾‹å­è¡¨ç¤ºå¯¹è¿”å›çŠ¶æ€ä¸ºä¸æ˜¯200ã€301ã€302çš„å“åº”æ•°æ®ç¼“å­˜10åˆ†é’Ÿ&lt;/li&gt;
&lt;li&gt;proxy_no_cacheï¼šé…ç½®åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¸ä½¿ç”¨cacheåŠŸèƒ½ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_no_cache string ...&lt;/code&gt;ï¼Œstringå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªå˜é‡ï¼Œå½“stringçš„å€¼ä¸ä¸ºç©ºæˆ–è€…ä¸ä¸º0æ—¶ï¼Œä¸å¯ç”¨cacheåŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;proxy_storeï¼šé…ç½®æ˜¯å¦åœ¨æœ¬åœ°ç£ç›˜ç¼“å­˜æ¥è‡ªè¢«ä»£ç†æœåŠ¡å™¨çš„å“åº”æ•°æ®ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_store on | off | string&lt;/code&gt;ï¼Œ&lt;code&gt;on | off&lt;/code&gt;è®¾ç½®æ˜¯å¦å¼€å¯Proxy StoreåŠŸèƒ½ï¼Œå¦‚æœå¼€å¯,ç¼“å­˜æ–‡ä»¶ä¼šå­˜æ”¾åˆ°aliasæŒ‡ä»¤æˆ–rootæŒ‡ä»¤è®¾ç½®çš„æœ¬åœ°è·¯å¾„ï¼Œé»˜è®¤ä¸ºoffï¼›stringä¸ºè‡ªå®šä¹‰ç¼“å­˜æ–‡ä»¶å­˜æ”¾è·¯å¾„ï¼Œä½¿ç”¨è¯¥é…ç½®æ—¶ï¼Œé»˜è®¤å¼€å¯Proxy Store&lt;/li&gt;
&lt;li&gt;proxy_store_accessï¼šç”¨äºè®¾ç½®ç”¨æˆ·æˆ–ç”¨æˆ·ç»„å¯¹Proxy Storeç¼“å­˜æ–‡ä»¶çš„è®¿é—®æƒé™ã€‚è¯­æ³•ï¼š&lt;code&gt;proxy_store_access users:permissions ...&lt;/code&gt;ï¼Œuserså¯ä»¥è®¾ç½®ä¸ºuserã€groupæˆ–è€…allï¼›permissionè®¾ç½®æ–¹ä½æƒé™ã€‚ä¸¾ä¾‹ï¼š&lt;code&gt;proxy_store on;proxy_store_access user:rw group:rw all:r;root /data/www;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¸¸ç”¨é…ç½®ä¸¾ä¾‹&#34;&gt;å¸¸ç”¨é…ç½®ä¸¾ä¾‹&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;å½“ä»£ç†é‡åˆ°çŠ¶æ€ç ä¸º404æ—¶ï¼Œæˆ‘ä»¬æŠŠ404é¡µé¢å¯¼å‘ç™¾åº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#é”™è¯¯é¡µ
error_page 404 https://www.baidu.com; 
#å¦‚æœè¢«ä»£ç†æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç ä¸º400æˆ–è€…å¤§äº400ï¼Œè®¾ç½®çš„error_pageé…ç½®èµ·ä½œç”¨ã€‚é»˜è®¤ä¸ºoffã€‚
proxy_intercept_errors on;    
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬çš„ä»£ç†åªå…è®¸æ¥å—getï¼Œpostè¯·æ±‚æ–¹æ³•çš„ä¸€ç§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#æ”¯æŒå®¢æˆ·ç«¯çš„è¯·æ±‚æ–¹æ³•ï¼špost/get
proxy_method get;    
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è®¾ç½®æ”¯æŒçš„httpåè®®ç‰ˆæœ¬&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#NginxæœåŠ¡å™¨æä¾›ä»£ç†æœåŠ¡çš„httpåè®®ç‰ˆæœ¬1.0ï¼Œ1.1ï¼Œé»˜è®¤è®¾ç½®ä¸º1.0ç‰ˆæœ¬
proxy_http_version 1.0 ; 
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¦‚æœnginxæœåŠ¡å™¨ç»™2å°webæœåŠ¡å™¨åšä»£ç†ï¼Œè´Ÿè½½å‡è¡¡ç®—æ³•é‡‡ç”¨è½®è¯¢ï¼Œé‚£ä¹ˆå½“ä¸€å°æœºå™¨webç¨‹åºiiså…³é—­ï¼Œä¹Ÿå°±æ˜¯è¯´webä¸èƒ½è®¿é—®ï¼Œé‚£ä¹ˆnginxæœåŠ¡å™¨åˆ†å‘è¯·æ±‚è¿˜æ˜¯ä¼šç»™è¿™å°ä¸èƒ½è®¿é—®çš„webæœåŠ¡å™¨ï¼Œå¦‚æœè¿™é‡Œçš„å“åº”è¿æ¥æ—¶é—´è¿‡é•¿ï¼Œå°±ä¼šå¯¼è‡´å®¢æˆ·ç«¯çš„é¡µé¢ä¸€ç›´åœ¨ç­‰å¾…å“åº”ï¼Œå¯¹ç”¨æˆ·æ¥è¯´ä½“éªŒå°±å¤§æ‰“æŠ˜æ‰£ï¼Œä¸ºäº†é¿å…è¿™æ ·çš„æƒ…å†µå‘ç”Ÿã€‚è¿™é‡Œæˆ‘é…å¼ å›¾æ¥è¯´æ˜ä¸‹é—®é¢˜ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1599035925345.jpg&#34; alt=&#34;ä»£ç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚æœè´Ÿè½½å‡è¡¡ä¸­å…¶ä¸­web2å‘ç”Ÿè¿™æ ·çš„æƒ…å†µï¼Œnginxé¦–å…ˆä¼šå»web1è¯·æ±‚ï¼Œä½†æ˜¯nginxåœ¨é…ç½®ä¸å½“çš„æƒ…å†µä¸‹ä¼šç»§ç»­åˆ†å‘è¯·æ±‚é“web2ï¼Œç„¶åç­‰å¾…web2å“åº”ï¼Œç›´åˆ°å“åº”æ—¶é—´è¶…æ—¶ï¼Œæ‰ä¼šæŠŠè¯·æ±‚é‡æ–°åˆ†å‘ç»™web1ï¼Œè¿™é‡Œçš„å“åº”æ—¶é—´å¦‚æœè¿‡é•¿ï¼Œç”¨æˆ·ç­‰å¾…çš„æ—¶é—´å°±ä¼šè¶Šé•¿ã€‚&lt;br&gt;
ä¸‹é¢çš„é…ç½®æ˜¯è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nginxæœåŠ¡å™¨ä¸è¢«ä»£ç†çš„æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤60ç§’
proxy_connect_timeout 1;   
# nginxæœåŠ¡å™¨æƒ³è¢«ä»£ç†æœåŠ¡å™¨ç»„å‘å‡ºreadè¯·æ±‚åï¼Œç­‰å¾…å“åº”çš„è¶…æ—¶é—´ï¼Œé»˜è®¤ä¸º60ç§’
proxy_read_timeout 1; 
# nginxæœåŠ¡å™¨æƒ³è¢«ä»£ç†æœåŠ¡å™¨ç»„å‘å‡ºwriteè¯·æ±‚åï¼Œç­‰å¾…å“åº”çš„è¶…æ—¶é—´ï¼Œé»˜è®¤ä¸º60ç§’
proxy_send_timeout 1; 
#å®¢æˆ·ç«¯æ–­ç½‘æ—¶ï¼ŒnginxæœåŠ¡å™¨æ˜¯å¦ç»ˆç«¯å¯¹è¢«ä»£ç†æœåŠ¡å™¨çš„è¯·æ±‚ã€‚é»˜è®¤ä¸ºoff
proxy_ignore_client_abort on;  
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨upstreamæŒ‡ä»¤é…ç½®ä¸€ç»„æœåŠ¡å™¨ä½œä¸ºè¢«ä»£ç†æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ä¸­çš„è®¿é—®ç®—æ³•éµå¾ªé…ç½®çš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨è¯¥æŒ‡ä»¤é…ç½®åœ¨å‘ç”Ÿå“ªäº›å¼‚å¸¸æƒ…å†µæ—¶ï¼Œå°†è¯·æ±‚é¡ºæ¬¡äº¤ç”±ä¸‹ä¸€ç»„æœåŠ¡å™¨å¤„ç†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#åå‘ä»£ç†upstreamä¸­è®¾ç½®çš„æœåŠ¡å™¨ç»„ï¼Œå‡ºç°æ•…éšœæ—¶ï¼Œè¢«ä»£ç†æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€å€¼ã€‚error|timeout|invalid_header|http_500|http_502|http_503|http_504|http_404|off
proxy_next_upstream timeout;  
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;errorï¼šå»ºç«‹è¿æ¥æˆ–å‘è¢«ä»£ç†çš„æœåŠ¡å™¨å‘é€è¯·æ±‚æˆ–è¯»å–å“åº”ä¿¡æ¯æ—¶æœåŠ¡å™¨å‘ç”Ÿé”™è¯¯&lt;/li&gt;
&lt;li&gt;timeoutï¼šå»ºç«‹è¿æ¥ï¼Œæƒ³è¢«ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚æˆ–è¯»å–å“åº”ä¿¡æ¯æ—¶æœåŠ¡å™¨å‘ç”Ÿè¶…æ—¶&lt;/li&gt;
&lt;li&gt;invalid_headerï¼šè¢«ä»£ç†æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;offï¼šæ— æ³•å°†è¯·æ±‚åˆ†å‘ç»™è¢«ä»£ç†çš„æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;http_400ï¼Œ....ï¼šè¢«ä»£ç†æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€ç ä¸º400ã€500ã€502ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;å¦‚æœæƒ³é€šè¿‡httpè·å–å®¢æˆ·çš„çœŸæ˜¯ipè€Œä¸æ˜¯è·å–ä»£ç†æœåŠ¡å™¨çš„ipåœ°å€ï¼Œé‚£ä¹ˆè¦åšå¦‚ä¸‹çš„è®¾ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#åªè¦ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­è®¿é—®çš„åŸŸåç»‘å®šäº† VIPï¼ŒVIPä¸‹é¢æœ‰RSï¼Œå°±ç”¨$host ï¼Œhostæ˜¯è®¿é—®URLä¸­çš„åŸŸåå’Œç«¯å£ï¼Œä¾‹å¦‚www.taobao.com:80
proxy_set_header Host $host; 
#æŠŠæºIP ã€$remote_addr,å»ºç«‹HTTPè¿æ¥headeré‡Œé¢çš„ä¿¡æ¯ã€‘èµ‹å€¼ç»™X-Real-IPï¼Œè¿™æ ·åœ¨ä»£ç ä¸­ $X-Real-IPæ¥è·å–æºIP
proxy_set_header X-Real-IP $remote_addr; 
#åœ¨nginx ä½œä¸ºä»£ç†æœåŠ¡å™¨æ—¶ï¼Œè®¾ç½®çš„IPåˆ—è¡¨ï¼Œä¼šæŠŠç»è¿‡çš„æœºå™¨ipï¼Œä»£ç†æœºå™¨ipéƒ½è®°å½•ä¸‹æ¥ï¼Œç”¨ ã€ï¼Œã€‘éš”å¼€ï¼Œä»£ç ä¸­ç”¨ echo $x-forwarded-for |awk -F, &#39;{print $1}&#39; æ¥ä½œä¸ºæºIP 
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;è´Ÿè½½å‡è¡¡é…ç½®è¯¦è§£&#34;&gt;è´Ÿè½½å‡è¡¡é…ç½®è¯¦è§£&lt;/h4&gt;
&lt;p&gt;é…ç½®æ¨¡æ¿å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr {Â 
      server 192.168.10.121:3333;
      server 192.168.10.122:3333;
    }
 server {
        ....
        location  ~*^.+$ {         
           proxy_pass  http://mysvr;  #è¯·æ±‚è½¬å‘mysvr å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨         
        }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…³äºnginxè´Ÿè½½å‡è¡¡é…ç½®çš„å‡ ä¸ªçŠ¶æ€å‚æ•°è®²è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;downï¼Œè¡¨ç¤ºå½“å‰çš„serveræš‚æ—¶ä¸å‚ä¸è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;backupï¼Œé¢„ç•™çš„å¤‡ä»½æœºå™¨ã€‚å½“å…¶ä»–æ‰€æœ‰çš„ébackupæœºå™¨å‡ºç°æ•…éšœæˆ–è€…å¿™çš„æ—¶å€™ï¼Œæ‰ä¼šè¯·æ±‚backupæœºå™¨ï¼Œå› æ­¤è¿™å°æœºå™¨çš„å‹åŠ›æœ€è½»&lt;/li&gt;
&lt;li&gt;max_failsï¼Œå…è®¸è¯·æ±‚å¤±è´¥çš„æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1ã€‚å½“è¶…è¿‡æœ€å¤§æ¬¡æ•°æ—¶ï¼Œè¿”å›proxy_next_upstreamæ¨¡å—å®šä¹‰çš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;fail_timeoutï¼Œåœ¨ç»å†äº†max_failsæ¬¡å¤±è´¥åï¼Œæš‚åœæœåŠ¡çš„æ—¶é—´ã€‚max_failså¯ä»¥å’Œfail_timeoutä¸€èµ·ä½¿ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr { 
      server 127.0.0.1:7878 weight=2 max_fails=2 fail_timeout=2;
      server 192.168.10.121:3333 weight=1 max_fails=2 fail_timeout=1;    
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;çƒ­å¤‡&#34;&gt;çƒ­å¤‡&lt;/h5&gt;
&lt;p&gt;å¦‚æœæœ‰2å°æœåŠ¡å™¨ï¼Œå½“ä¸€å°æœåŠ¡å™¨å‘ç”Ÿäº‹æ•…æ—¶ï¼Œæ‰å¯ç”¨ç¬¬äºŒå°æœåŠ¡å™¨ç»™æä¾›æœåŠ¡ã€‚æœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„é¡ºåºï¼šAAAAAAçªç„¶AæŒ‚å•¦ï¼ŒBBBBBBBBBBBBBB.....&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr { 
      server 127.0.0.1:7878; 
      server 192.168.10.121:3333 backup;  #çƒ­å¤‡     
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;è½®è¯¢&#34;&gt;è½®è¯¢&lt;/h5&gt;
&lt;p&gt;nginxé»˜è®¤å°±æ˜¯è½®è¯¢å…¶æƒé‡éƒ½é»˜è®¤ä¸º1ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚çš„é¡ºåºï¼šABABABABAB....&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr { 
      server 127.0.0.1:7878;
      server 192.168.10.121:3333;       
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;åŠ æƒè½®è¯¢&#34;&gt;åŠ æƒè½®è¯¢&lt;/h5&gt;
&lt;p&gt;æ ¹æ®é…ç½®çš„æƒé‡çš„å¤§å°è€Œåˆ†å‘ç»™ä¸åŒæœåŠ¡å™¨ä¸åŒæ•°é‡çš„è¯·æ±‚ã€‚å¦‚æœä¸è®¾ç½®ï¼Œåˆ™é»˜è®¤ä¸º1ã€‚ä¸‹é¢æœåŠ¡å™¨çš„è¯·æ±‚é¡ºåºä¸ºï¼šABBABBABBABBABB....&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr { 
      server 127.0.0.1:7878 weight=1;
      server 192.168.10.121:3333 weight=2;
      }
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;ip_hash&#34;&gt;ip_hash&lt;/h5&gt;
&lt;p&gt;nginxä¼šè®©ç›¸åŒçš„å®¢æˆ·ç«¯ipè¯·æ±‚ç›¸åŒçš„æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;upstream mysvr { 
      server 127.0.0.1:7878; 
      server 192.168.10.121:3333;
      ip_hash;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é…ç½®æ–‡ä»¶ä¸¾ä¾‹&#34;&gt;é…ç½®æ–‡ä»¶ä¸¾ä¾‹&lt;/h4&gt;
&lt;h5 id=&#34;ä¾‹å­1-åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœº&#34;&gt;ä¾‹å­1: åŸºäºåŸŸåçš„è™šæ‹Ÿä¸»æœº&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;server {
    listen 80;  #ç›‘å¬ç«¯å£
    server_name a.com; #ç›‘å¬åŸŸå

    location / {
            root a.com;   #æ ¹ç›®å½•ï¼Œæ­¤å¤„ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹äº/usr/local/nginxï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„
            index index.html;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;ä¾‹å­2-åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºé…ç½®&#34;&gt;ä¾‹å­2: åŸºäºç«¯å£çš„è™šæ‹Ÿä¸»æœºé…ç½®&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;server {
    listen 8080;
    server_name 192.168.1.204;

    location / {
            root /var/www/html8080;  # æ ¹ç›®å½•ï¼Œæ­¤å¤„ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„
            index index.html;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxæ—¥å¿—åˆ‡å‰²&#34;&gt;nginxæ—¥å¿—åˆ‡å‰²&lt;/h1&gt;
&lt;h2 id=&#34;ä¸»è¦é…ç½®å‚æ•°&#34;&gt;ä¸»è¦é…ç½®å‚æ•°&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;access_log&lt;br&gt;
combinedä¸ºæ—¥å¿—æ ¼å¼çš„é»˜è®¤å€¼ï¼Œå¯ä»¥åœ¨å…¨å±€å—ã€httpå—ã€serverå—è®¾ç½®ï¼Œæ ¼å¼ä¸ºï¼š&lt;code&gt;access_log logs/host.access.log main;&lt;/code&gt;,è¯´æ˜å®ƒçš„è®¿é—®æ—¥å¿—çš„æ–‡ä»¶æ˜¯logs/host.access.log ,ä½¿ç”¨çš„æ ¼å¼ä¸º&amp;quot;main&amp;quot;æ ¼å¼ã€‚é™¤äº†mainæ ¼å¼ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰å…¶ä»–æ ¼å¼.&lt;/li&gt;
&lt;li&gt;log_format&lt;br&gt;
å®šä¹‰æ—¥å¿—æ ¼å¼ï¼Œä¾¿äºä¸‹é¢å¼•ç”¨ï¼Œä¸»è¦å‚æ•°å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;$remote_addr ä¸ $http_x_forwarded_forï¼šç”¨ä»¥è®°å½•å®¢æˆ·ç«¯çš„ipåœ°å€ï¼›&lt;/li&gt;
&lt;li&gt;$remote_userï¼šç”¨æ¥è®°å½•å®¢æˆ·ç«¯ç”¨æˆ·åç§°ï¼›&lt;/li&gt;
&lt;li&gt;$time_localï¼šç”¨æ¥è®°å½•è®¿é—®æ—¶é—´ä¸æ—¶åŒºï¼›&lt;/li&gt;
&lt;li&gt;$requestï¼šç”¨æ¥è®°å½•è¯·æ±‚çš„urlä¸httpåè®®ï¼›&lt;/li&gt;
&lt;li&gt;$statusï¼šç”¨æ¥è®°å½•è¯·æ±‚çŠ¶æ€ï¼›æˆåŠŸæ˜¯200ï¼›&lt;/li&gt;
&lt;li&gt;$body_bytes_s entï¼šè®°å½•å‘é€ç»™å®¢æˆ·ç«¯æ–‡ä»¶ä¸»ä½“å†…å®¹å¤§å°ï¼›&lt;/li&gt;
&lt;li&gt;$http_refererï¼šç”¨æ¥è®°å½•ä»é‚£ä¸ªé¡µé¢é“¾æ¥è®¿é—®è¿‡æ¥çš„ï¼›&lt;/li&gt;
&lt;li&gt;$http_user_agent ï¼šè®°å½•å®¢æˆ·ç«¯æµè§ˆå™¨çš„ç›¸å…³ä¿¡æ¯ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;log_format  main  &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;
                            &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;
                            &#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&#39;;
# å¼•ç”¨
server {
    listen 80;
    server_name a.com; 
    access_log logs/z.com.access.log main;
    location / {
            root a.com; 
            index index.html;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mainæ ¼å¼æ˜¯æˆ‘ä»¬å®šä¹‰å¥½ä¸€ç§æ—¥å¿—çš„æ ¼å¼ï¼Œå¹¶èµ·ä¸ªåå­—mainï¼Œä¾¿äºå¼•ç”¨ã€‚&lt;br&gt;
ä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œmainç±»å‹çš„æ—¥å¿—ï¼Œè®°å½•çš„remote_addr.... http_x_forwarded_forç­‰é€‰é¡¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ—¥å¿—åˆ‡å‰²ç”±å®šæ—¶ä»»åŠ¡å®Œæˆ&#34;&gt;æ—¥å¿—åˆ‡å‰²ï¼ˆç”±å®šæ—¶ä»»åŠ¡å®Œæˆï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¾‘è„šæœ¬&lt;code&gt;/root/backup.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#!/bin/bash
# åŸå§‹æ—¥å¿—æ–‡ä»¶
LOGPATH=/usr/local/nginx/logs/z.com.access.log
# å¤‡ä»½æ—¥å¿—ç›®å½•
BASEPATH=/data/$(date -d yesterday +%Y%m)
mkdir -p $BASEPATH
# è·å–æ˜¨å¤©çš„æ—¥æœŸå¹¶ç”Ÿæˆå¤‡ä»½æ–‡ä»¶å
bak=$BASEPATH/$(date -d yesterday +%d-%H:%M).zcom.access.log
# å¤‡ä»½
mv $LOGPATH $bak
touch $LOGPATH
kill -USR1 `cat /usr/local/nginx/logs/nginx.pid`
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è®¾ç½®å®šæ—¶ä»»åŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;crontab -e
    01 00 * * * /root/backup.sh  # æ¯å¤©0æ—¶1åˆ†(å»ºè®®åœ¨02-04ç‚¹ä¹‹é—´,ç³»ç»Ÿè´Ÿè½½å°)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxä¸gzipè®¾ç½®å‹ç¼©ç®¡ç†&#34;&gt;nginxä¸gzipè®¾ç½®ï¼ˆå‹ç¼©ç®¡ç†ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h2&gt;
&lt;p&gt;gzipæ˜¯ä¸€ç§å‹ç¼©æŠ€æœ¯ï¼Œç»è¿‡gzipå‹ç¼©åçš„é¡µé¢å¤§å°å¯ä»¥å˜æˆåŸæ¥çš„30%æˆ–è€…æ›´å°ã€‚ç”¨æˆ·æµè§ˆé¡µé¢çš„æ—¶å€™é€Ÿåº¦ä¹Ÿä¼šæ›´å¿«ï¼Œgzipçš„å‹ç¼©é¡µé¢éœ€è¦æœåŠ¡ç«¯äºæµè§ˆå™¨åŒæ—¶æ”¯æŒï¼ŒæœåŠ¡ç«¯å‹ç¼©ä¼ åˆ°æµè§ˆå™¨è¿›è¡Œè§£å‹å¹¶è§£æï¼Œç°åœ¨å¤§å¤šæ•°çš„æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒè§£ægzipè¿‡çš„é¡µé¢ï¼Œgzipä½¿ç”¨ç¯å¢ƒï¼šhttpå—ã€serverå—ã€locationå—ã€if(x)ï¼Œä¸€èˆ¬æŠŠå®ƒå®šä¹‰åœ¨nginx.confçš„http{â€¦..}ä¹‹é—´&lt;/p&gt;
&lt;h2 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h2&gt;
&lt;p&gt;æµè§ˆå™¨è¯·æ±‚ ----&amp;gt; å£°æ˜å¯ä»¥æ¥å—gzipå‹ç¼©(æˆ–deflateå‹ç¼©æˆ–compressæˆ–sdchå‹ç¼©) ----&amp;gt; æœåŠ¡å™¨å›åº” ----&amp;gt; æŠŠå†…å®¹ç”¨gzipæ–¹å¼å‹ç¼©å‘ç»™æµè§ˆå™¨ ----&amp;gt;æµè§ˆè§£ç gzip ----&amp;gt; æ˜¾ç¤ºæ”¶gzipå‹ç¼©å†…å®¹&lt;br&gt;
&lt;strong&gt;ä»httpåè®®çš„è§’åº¦çœ‹&lt;/strong&gt;ï¼š&lt;strong&gt;è¯·æ±‚å¤´&lt;/strong&gt;å£°æ˜ &lt;code&gt;Accept-Encoding:gzip,deflate,sdch&lt;/code&gt; (æ˜¯æŒ‡å‹ç¼©ç®—æ³•,å…¶ä¸­sdchæ˜¯googleå€¡å¯¼çš„ä¸€ç§å‹ç¼©æ–¹å¼ï¼Œç›®å‰æ”¯æŒçš„æœåŠ¡å™¨å°šä¸å¤š)ï¼Œ&lt;strong&gt;å“åº”å¤´&lt;/strong&gt;å“åº”:Content-Encoding:gzipã€Content-Length:36093&lt;br&gt;
&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šå›¾ç‰‡/mp3è¿™æ ·çš„äºŒè¿›åˆ¶æ–‡ä»¶,ä¸å¿…å‹ç¼©ï¼Œå› ä¸ºå‹ç¼©ç‡æ¯”è¾ƒå°ï¼Œæ¯”å¦‚100-&amp;gt;80å­—èŠ‚ï¼Œè€Œä¸”å‹ç¼©ä¹Ÿæ˜¯è€—è´¹CPUèµ„æºçš„ã€‚æ¯”è¾ƒå°çš„æ–‡ä»¶ä¹Ÿä¸å¿…å‹ç¼©ã€‚&lt;br&gt;
&lt;code&gt;Nginxå®ç°èµ„æºå‹ç¼©çš„åŸç†æ˜¯é€šè¿‡ngx_http_gzip_moduleæ¨¡å—æ‹¦æˆªè¯·æ±‚ï¼Œå¹¶å¯¹éœ€è¦åšgzipçš„ç±»å‹åšgzipï¼Œngx_http_gzip_moduleæ˜¯Nginxé»˜è®¤é›†æˆçš„ï¼Œä¸éœ€è¦é‡æ–°ç¼–è¯‘ï¼Œç›´æ¥å¼€å¯å³å¯&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‚æ•°&#34;&gt;å‚æ•°&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;åŠ ç²—é€‰é¡¹ä¸ºå¸¸ç”¨é€‰é¡¹&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;gzip on|off&lt;/strong&gt;ï¼›&lt;br&gt;
æ‰“å¼€æˆ–å…³é—­gzip&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_buffers 32 4k&lt;/strong&gt;|16 8k|4 8k;&lt;br&gt;
è®¾ç½®ç”¨äºå¤„ç†è¯·æ±‚å‹ç¼©çš„ç¼“å†²åŒºæ•°é‡å’Œå¤§å°ã€‚æ¯”å¦‚32 4Kè¡¨ç¤ºæŒ‰ç…§å†…å­˜é¡µå¤§å°ä»¥4Kä¸ºå•ä½ï¼ˆå³ä¸€ä¸ªç³»ç»Ÿä¸­å†…å­˜é¡µä¸º4Kï¼‰ï¼Œç”³è¯·32å€çš„å†…å­˜ç©ºé—´ã€‚å»ºè®®æ­¤é¡¹ä¸è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_comp_level 6&lt;/strong&gt;ï¼›&lt;br&gt;
è®¾ç½®gzipå‹ç¼©çº§åˆ«(1-9)ï¼Œçº§åˆ«è¶Šåº•å‹ç¼©é€Ÿåº¦è¶Šå¿«æ–‡ä»¶å‹ç¼©æ¯”è¶Šå°ï¼Œåä¹‹é€Ÿåº¦è¶Šæ…¢æ–‡ä»¶å‹ç¼©æ¯”è¶Šå¤§ï¼Œ&lt;strong&gt;å¸¸ç”¨å€¼ä¸º6&lt;/strong&gt;ã€‚&lt;br&gt;
éšç€å‹ç¼©çº§åˆ«çš„å‡é«˜ï¼Œå‹ç¼©æ¯”æœ‰æ‰€æé«˜ï¼Œä½†åˆ°äº†çº§åˆ«6åï¼Œå¾ˆéš¾å†æé«˜ï¼›éšç€å‹ç¼©çº§åˆ«çš„å‡é«˜ï¼Œå¤„ç†æ—¶é—´æ˜æ˜¾å˜æ…¢ï¼›gzipå¾ˆæ¶ˆè€—cpuçš„æ€§èƒ½ï¼Œé«˜å¹¶å‘æƒ…å†µä¸‹cpuè¾¾åˆ°100%ã€‚&lt;br&gt;
ä¸æ˜¯å‹ç¼©çº§åˆ«è¶Šé«˜è¶Šå¥½ï¼Œå…¶å®&lt;code&gt;gzip_comp_level 1&lt;/code&gt;çš„å‹ç¼©èƒ½åŠ›å·²ç»å¤Ÿç”¨äº†ï¼Œåé¢çº§åˆ«è¶Šé«˜ï¼Œå‹ç¼©çš„æ¯”ä¾‹å…¶å®å¢é•¿ä¸å¤§ï¼Œåè€Œå¾ˆåƒå¤„ç†æ€§èƒ½ã€‚å‹ç¼©ä¸€å®šè¦å’Œé™æ€èµ„æºç¼“å­˜ç›¸ç»“åˆï¼Œç¼“å­˜å‹ç¼©åçš„ç‰ˆæœ¬ï¼Œå¦åˆ™æ¯æ¬¡éƒ½å‹ç¼©é«˜è´Ÿè½½ä¸‹æœåŠ¡å™¨è‚¯å®šåƒä¸ä½ã€‚&lt;/li&gt;
&lt;li&gt;gzip_disable msie6;&lt;br&gt;
é€šè¿‡è¡¨è¾¾å¼ï¼Œè¡¨æ˜å“ªäº›UAå¤´ä¸ä½¿ç”¨gzipå‹ç¼©ã€‚(IE5.5å’ŒIE6 SP1ä½¿ç”¨msie6å‚æ•°æ¥ç¦æ­¢gzipå‹ç¼© )æŒ‡å®šå“ªäº›ä¸éœ€è¦gzipå‹ç¼©çš„æµè§ˆå™¨(å°†å’ŒUser-Agentsè¿›è¡ŒåŒ¹é…)ï¼Œä¾èµ–äºPCREåº“&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_min_length 200&lt;/strong&gt;;&lt;br&gt;
å½“è¿”å›å†…å®¹å¤§äºæ­¤å€¼æ—¶æ‰ä¼šä½¿ç”¨gzipè¿›è¡Œå‹ç¼©ï¼Œä»¥Kä¸ºå•ä½ï¼Œå½“å€¼ä¸º0æ—¶ï¼Œæ‰€æœ‰é¡µé¢éƒ½è¿›è¡Œå‹ç¼©&lt;/li&gt;
&lt;li&gt;gzip_http_version 1.0|1.1;&lt;br&gt;
ç”¨äºè¯†åˆ«httpåè®®çš„ç‰ˆæœ¬ï¼Œæ—©æœŸçš„æµè§ˆå™¨ä¸æ”¯æŒgzipå‹ç¼©ï¼Œç”¨æˆ·ä¼šçœ‹åˆ°ä¹±ç ï¼Œæ‰€ä»¥ä¸ºäº†æ”¯æŒå‰æœŸç‰ˆæœ¬åŠ äº†æ­¤é€‰é¡¹ã€‚é»˜è®¤åœ¨http/1.0çš„åè®®ä¸‹ä¸å¼€å¯gzipå‹ç¼©&lt;/li&gt;
&lt;li&gt;gzip_proxied any;&lt;br&gt;
Nginxåšä¸ºåå‘ä»£ç†çš„æ—¶å€™å¯ç”¨ï¼š
&lt;ul&gt;
&lt;li&gt;offï¼šå…³é—­æ‰€æœ‰çš„ä»£ç†ç»“æœæ•°æ®å‹ç¼©&lt;/li&gt;
&lt;li&gt;expiredï¼šå¦‚æœheaderä¸­åŒ…å«â€Expiresâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;no-cacheï¼šå¦‚æœheaderä¸­åŒ…å«â€Cache-Control:no-cacheâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;no-storeï¼šå¦‚æœheaderä¸­åŒ…å«â€Cache-Control:no-storeâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;privateï¼šå¦‚æœheaderä¸­åŒ…å«â€Cache-Control:privateâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;no_last_modifiedï¼šå¯ç”¨å‹ç¼©ï¼Œå¦‚æœheaderä¸­åŒ…å«â€Last_Modifiedâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;no_etagï¼šå¯ç”¨å‹ç¼©ï¼Œå¦‚æœheaderä¸­åŒ…å«â€œETagâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;authï¼šå¯ç”¨å‹ç¼©ï¼Œå¦‚æœheaderä¸­åŒ…å«â€œAuthorizationâ€å¤´ä¿¡æ¯ï¼Œå¯ç”¨å‹ç¼©&lt;/li&gt;
&lt;li&gt;anyï¼šæ— æ¡ä»¶å‹ç¼©æ‰€æœ‰ç»“æœæ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_types text/html&lt;/strong&gt; | &lt;strong&gt;application/x-javascript&lt;/strong&gt; | &lt;strong&gt;text/css&lt;/strong&gt; | application/xml;&lt;br&gt;
è®¾ç½®éœ€è¦å‹ç¼©çš„MIMEç±»å‹ï¼Œå¦‚æœä¸åœ¨è®¾ç½®ç±»å‹èŒƒå›´å†…çš„è¯·æ±‚ä¸è¿›è¡Œå‹ç¼©ï¼Œå¯¹åº”çš„è¯¦ç»†ç±»å‹ï¼Œå¯ä»¥åœ¨conf/mime.typesä¸­æŸ¥çœ‹&lt;/li&gt;
&lt;li&gt;gzip_vary on|off;&lt;br&gt;
æ˜¯å¦ä¼ è¾“gzipå‹ç¼©æ ‡å¿—ï¼Œå¢åŠ å“åº”å¤´â€Vary: Accept-Encodingâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;locationè¯¦è§£&#34;&gt;locationè¯¦è§£&lt;/h1&gt;
&lt;p&gt;location æœ‰â€å®šä½â€çš„æ„æ€, æ ¹æ®Uriæ¥è¿›è¡Œä¸åŒçš„å®šä½ï¼Œåœ¨è™šæ‹Ÿä¸»æœºçš„é…ç½®ä¸­æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œlocationå¯ä»¥æŠŠç½‘ç«™çš„ä¸åŒéƒ¨åˆ†ï¼Œå®šä½åˆ°ä¸åŒçš„å¤„ç†æ–¹å¼ä¸Šã€‚æ¯”å¦‚, .phpæ–‡ä»¶åˆ™è°ƒç”¨PHPè§£é‡Šå™¨ï¼Œè¿™æ—¶å°±éœ€è¦location&lt;/p&gt;
&lt;h2 id=&#34;locationè¯­æ³•&#34;&gt;locationè¯­æ³•&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;location [=|~|~*|^~] patt {...}&lt;/code&gt;ï¼Œä¸­æ‹¬å·å¯ä»¥ä¸å†™ä»»ä½•å‚æ•°ï¼Œæ­¤æ—¶ç§°ä¸ºä¸€èˆ¬åŒ¹é…ã€‚pattå¯ä»¥æ˜¯ç›®å½•ã€æ–‡ä»¶ã€æ­£åˆ™è¡¨è¾¾å¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;=&lt;/strong&gt;&lt;br&gt;
ä¸¥æ ¼åŒ¹é…ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰ã€‚åªæœ‰è¯·æ±‚çš„ url è·¯å¾„ä¸åé¢çš„å­—ç¬¦ä¸²å®Œå…¨ç›¸ç­‰æ—¶ï¼Œæ‰ä¼šå‘½ä¸­ã€‚å¦‚æœè¿™ä¸ªæŸ¥è¯¢åŒ¹é…ï¼Œé‚£ä¹ˆå°†åœæ­¢æœç´¢å¹¶ç«‹å³å¤„ç†æ­¤è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;~&lt;/strong&gt;&lt;br&gt;
åŒºåˆ†å¤§å°å†™åŒ¹é…(å¯ç”¨æ­£åˆ™è¡¨è¾¾å¼)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;~*&lt;/strong&gt;&lt;br&gt;
ä¸åŒºåˆ†å¤§å°å†™åŒ¹é…(å¯ç”¨æ­£åˆ™è¡¨è¾¾å¼)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;^~&lt;/strong&gt;&lt;br&gt;
è¡¨ç¤ºå¦‚æœè¯¥ç¬¦å·åé¢çš„å­—ç¬¦æ˜¯æœ€ä½³åŒ¹é…ï¼Œé‡‡ç”¨è¯¥è§„åˆ™ï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ï¼Œä¸€èˆ¬ç”¨æ¥åŒ¹é…ç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@ name&lt;/strong&gt;&lt;br&gt;
å®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰å‘½åçš„ locationï¼Œä¸»è¦ç”¨äºå†…éƒ¨é‡å®šå‘ï¼Œä¸èƒ½ç”¨æ¥å¤„ç†æ­£å¸¸çš„è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å·¥ä½œæµç¨‹&#34;&gt;å·¥ä½œæµç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1599099608853.jpg&#34; alt=&#34;å·¥ä½œæµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
locationå‘½ä¸­è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆåˆ¤æ–­ç²¾ç¡®åŒ¹é…ï¼Œå¦‚æœå‘½ä¸­ï¼Œç«‹å³è¿”å›ç»“æœå¹¶ç»“æŸè§£æè¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­æ™®é€šå‘½ä¸­ï¼Œå¦‚æœæœ‰å¤šä¸ªå‘½ä¸­ï¼Œè®°å½•ä¸‹æ¥æœ€é•¿çš„å‘½ä¸­ç»“æœã€æ³¨æ„ï¼šä»…ä»…æ˜¯è®°å½•ï¼Œå¹¶æ²¡æœ‰ç»“æŸè§£æè¿‡ç¨‹ï¼Œæœ€é•¿çš„ä¸ºå‡†ã€‘&lt;/li&gt;
&lt;li&gt;ç»§ç»­åˆ¤æ–­æ­£åˆ™è¡¨è¾¾æ˜¯çš„ç»“æœï¼ŒæŒ‰ç…§é…ç½®ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„é¡ºåºä¸ºå‡†ï¼Œç”±ä¸Šè‡³ä¸‹å¼€å§‹åŒ¹é…ï¼Œä¸€æ—¦åŒ¹é…æˆåŠŸåˆ™ç«‹å³è¿”å›ç»“æœï¼Œå¹¶ç»“æŸè§£æè¿‡ç¨‹&lt;br&gt;
ã€æ³¨æ„ï¼šæ™®é€šåŒ¹é…çš„é¡ºåºæ— æ‰€è°“ï¼Œæ˜¯å› ä¸ºæŒ‰ç…§å‘½ä¸­çš„é•¿çŸ­æ¥ç¡®å®šï¼›æ­£åˆ™åŒ¹é…é¡ºåºæœ‰æ‰€è°“ï¼Œå› ä¸ºæ˜¯ä»å‰å¾€åå¼€å§‹åŒ¹é…ã€‘&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ä¼˜å…ˆçº§ï¼šç²¾ç¡®åŒ¹é…&amp;gt;æ­£åˆ™åŒ¹é…&amp;gt;æ™®é€šåŒ¹é…ï¼›åŒ¹é…é¡ºåºï¼šç²¾ç¡®åŒ¹é…&amp;gt;æ™®é€šåŒ¹é…&amp;gt;æ­£åˆ™åŒ¹é…&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸¾ä¾‹&#34;&gt;ä¸¾ä¾‹&lt;/h2&gt;
&lt;h3 id=&#34;æ— æ­£åˆ™&#34;&gt;æ— æ­£åˆ™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;location = / {
   root  /var/www/html/;
   index index.htm index.html;
}
location / {
   root  /usr/local/nginx/html;
   index index.html index.htm;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;locationé…ç½®å¦‚ä¸Š,è‹¥è®¿é—®&lt;code&gt;http://xxx.com/&lt;/code&gt;ï¼Œå®šä½çš„æµç¨‹æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç²¾å‡†åŒ¹é…å‘½ä¸­&amp;quot;/&amp;quot;ï¼Œå¾—åˆ°indexé¡µä¸º&lt;code&gt;index.htm&lt;/code&gt;ï¼Œæ‰€ä»¥è¯·æ±‚çš„åœ°å€å˜ä¸º&lt;code&gt;http://xxx.com/index.htm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å†æ¬¡åŒ¹é…&lt;code&gt;/index.htm&lt;/code&gt;ï¼Œæ­¤æ¬¡å†…éƒ¨è½¬è·³uriå·²ç»æ˜¯&lt;code&gt;/index.htm&lt;/code&gt;ï¼Œå‘½ä¸­æ™®é€šåŒ¹é…&lt;code&gt;/&lt;/code&gt;ï¼Œæ ¹ç›®å½•ä¸º&lt;code&gt;/usr/local/nginx/html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆç»“æœè®¿é—®äº†&lt;code&gt;/usr/local/nginx/html/index.htm&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æœ‰æ­£åˆ™&#34;&gt;æœ‰æ­£åˆ™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;location / {
  root  /usr/local/nginx/html;
  index index.html index.htm;
}
location ~ image {
  root  /var/www/;
  index index.html;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœè®¿é—®&lt;code&gt;http://xx.com/image/logo.png&lt;/code&gt;ï¼Œæ­¤æ—¶uriä¸º&lt;code&gt;/image/logo.png&lt;/code&gt;å‘½ä¸­äº†æ™®é€šåŒ¹é…&lt;code&gt;/&lt;/code&gt;ï¼Œä¹Ÿå‘½ä¸­äº†æ­£åˆ™åŒ¹é…&lt;code&gt;~ image&lt;/code&gt;ï¼Œä½†æ˜¯æ ¹æ®ä¸Šè¿°å›¾ç‰‡ä¸­åŒ¹é…è¿‡ç¨‹åˆ†æ,æœ€ç»ˆæ˜¯æ­£åˆ™åŒ¹é…ç”Ÿæ•ˆã€‚æ‰€ä»¥æœ€ç»ˆè®¿é—®åœ°å€ä¸º&lt;code&gt;/var/www/image/logo.png&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ›´é•¿åŒ¹é…&#34;&gt;æ›´é•¿åŒ¹é…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;location / {
            root   /usr/local/nginx/html;
            index  index.html index.htm;
        }
location /foo {
            root /var/www/html;
            index index.html;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¿é—® &lt;code&gt;http://xxx.com/foo&lt;/code&gt;ï¼Œ å¯¹äºuriæ¥è¯´ï¼Œ&lt;code&gt;/foo&lt;/code&gt;ä¸¤ä¸ªlocationçš„pattéƒ½èƒ½åŒ¹é…ä»–ä»¬ï¼Œå³&lt;code&gt;/&lt;/code&gt;èƒ½ä»å·¦å‰ç¼€åŒ¹é… &lt;code&gt;/foo&lt;/code&gt;, &lt;code&gt;/foo&lt;/code&gt;ä¹Ÿèƒ½å·¦å‰ç¼€åŒ¹é…&lt;code&gt;/foo&lt;/code&gt;ï¼Œæ­¤æ—¶çœŸæ­£è®¿é—®&lt;code&gt;/var/www/html/index.html&lt;/code&gt;ï¼ŒåŸå› ï¼š&lt;code&gt;/foo&lt;/code&gt;åŒ¹é…çš„æ›´é•¿ï¼Œå› æ­¤ä½¿ç”¨ä¹‹&lt;/p&gt;
&lt;h3 id=&#34;nameçš„ç”¨æ³•&#34;&gt;@nameçš„ç”¨æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;location / {
  try_files $uri $uri/ @custom
}
location @custom {
  # ...do something
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“è®¿é—®urlæ‰¾ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶å°±é‡å®šå‘åˆ°æˆ‘ä»¬è‡ªå®šä¹‰çš„å‘½ålocationï¼ˆæ­¤å¤„ä¸º customï¼‰ã€‚å‘½å locationä¸­ä¸èƒ½å†åµŒå¥—å…¶å®ƒçš„å‘½ålocationã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»¼åˆ&#34;&gt;ç»¼åˆ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åªåŒ¹é…&amp;quot;/&amp;quot;.
location = / { 
 [ configuration A ]  
} 
 # åŒ¹é…ä»»ä½•è¯·æ±‚ï¼Œå› ä¸ºæ‰€æœ‰è¯·æ±‚éƒ½æ˜¯ä»¥&amp;quot;/&amp;quot;å¼€å§‹ï¼Œä½†æ˜¯æ›´é•¿å­—ç¬¦åŒ¹é…æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ä¼šä¼˜å…ˆåŒ¹é… 
location / { 
 [ configuration B ]  
} 
# åŒ¹é…ä»»ä½•ä»¥ /images/ å¼€å§‹çš„è¯·æ±‚ï¼Œå¹¶åœæ­¢åŒ¹é…å…¶å®ƒlocation 
location ^~ /images/ { 
 [ configuration C ]  
} 
# åŒ¹é…ä»¥ gifã€jpgã€jpegç»“å°¾çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‰€æœ‰ /images/ ç›®å½•çš„è¯·æ±‚å°†ç”± [Configuration C]å¤„ç†.   
location ~* \.(gif|jpg|jpeg)$ { 
 [ configuration D ]  
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;/&lt;/strong&gt;ï¼šç²¾ç¡®åŒ¹é…åˆ°ç¬¬1ä¸ªlocationï¼ŒåŒ¹é…åœæ­¢ï¼Œä½¿ç”¨configurationA&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;/some/other/url&lt;/strong&gt;ï¼šé¦–å…ˆå‰ç¼€éƒ¨åˆ†å­—ç¬¦ä¸²åŒ¹é…åˆ°äº†ç¬¬2ä¸ªlocationï¼Œç„¶åè¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œæ˜¾ç„¶æ²¡æœ‰åŒ¹é…ä¸Šï¼Œåˆ™ä½¿ç”¨ç¬¬2ä¸ªlocationçš„é…ç½®configurationB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;/images /1.jpg&lt;/strong&gt;ï¼šé¦–å…ˆå‰ç¼€éƒ¨åˆ†å­—ç¬¦ä¸²åŒ¹é…åˆ°äº†ç¬¬2ä¸ªlocationï¼Œä½†æ˜¯æ¥ç€å¯¹ç¬¬3ä¸ªlocationä¹Ÿå‰ç¼€åŒ¹é…ä¸Šäº†ï¼Œè€Œä¸”è¿™æ—¶å·²ç»æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢å¯¹è¿™ä¸ªurlçš„æœ€å¤§å­—ç¬¦ä¸²åŒ¹é…äº†ï¼Œå¹¶ä¸”locationå¸¦æœ‰ &amp;quot;^~&amp;quot; å‰ç¼€ï¼Œåˆ™ä¸å†è¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œæœ€ç»ˆä½¿ç”¨configurationC&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;/some/other/path/to/1.jpg&lt;/strong&gt;ï¼šé¦–å…ˆå‰ç¼€éƒ¨åˆ†åŒæ ·å­—ç¬¦ä¸²åŒ¹é…åˆ°äº†ç¬¬2ä¸ªlocationï¼Œç„¶åè¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œè¿™æ—¶æ­£åˆ™åŒ¹é…æˆåŠŸï¼Œåˆ™ä½¿ç”¨congifurationD&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;urlå°¾éƒ¨çš„éœ€ä¸éœ€è¦&#34;&gt;URLå°¾éƒ¨çš„/éœ€ä¸éœ€è¦&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;location ä¸­çš„å­—ç¬¦æœ‰æ²¡æœ‰/éƒ½æ²¡æœ‰å½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´/user/å’Œ/useræ˜¯ä¸€æ ·çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœURLç»“æ„æ˜¯https://domain.com/çš„å½¢å¼ï¼Œå°¾éƒ¨æœ‰æ²¡æœ‰/éƒ½ä¸ä¼šé€ æˆé‡å®šå‘ã€‚å› ä¸ºæµè§ˆå™¨åœ¨å‘èµ·è¯·æ±‚çš„æ—¶å€™ï¼Œé»˜è®¤åŠ ä¸Šäº†/ï¼Œè™½ç„¶å¾ˆå¤šæµè§ˆå™¨åœ¨åœ°å€æ é‡Œä¹Ÿä¸ä¼šæ˜¾ç¤º/ï¼Œè¿™ä¸€ç‚¹ï¼Œå¯ä»¥è®¿é—®baiduéªŒè¯ä¸€ä¸‹ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœURLçš„ç»“æ„æ˜¯https://domain.com/some-dir/ï¼Œå°¾éƒ¨å¦‚æœç¼ºå°‘/å°†å¯¼è‡´é‡å®šå‘ã€‚å› ä¸ºæ ¹æ®çº¦å®šï¼ŒURLå°¾éƒ¨çš„/è¡¨ç¤ºç›®å½•ï¼Œæ²¡æœ‰/è¡¨ç¤ºæ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œè®¿é—®/some-dir/æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨å»è¯¥ç›®å½•ä¸‹æ‰¾å¯¹åº”çš„é»˜è®¤æ–‡ä»¶ï¼›è®¿é—®/some-dirçš„è¯ï¼ŒæœåŠ¡å™¨ä¼šå…ˆå»æ‰¾some-diræ–‡ä»¶ï¼Œæ‰¾ä¸åˆ°çš„è¯ä¼šå°†some-dirå½“æˆç›®å½•ï¼Œé‡å®šå‘åˆ°/some-dir/ï¼Œå»è¯¥ç›®å½•ä¸‹æ‰¾é»˜è®¤æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;rewriteè¯­æ³•è¯¦è§£&#34;&gt;Rewriteè¯­æ³•è¯¦è§£&lt;/h1&gt;
&lt;h2 id=&#34;å®šä¹‰&#34;&gt;å®šä¹‰&lt;/h2&gt;
&lt;p&gt;rewriteåŠŸèƒ½å°±æ˜¯ä½¿ç”¨nginxæä¾›çš„å…¨å±€å˜é‡æˆ–è‡ªå·±è®¾ç½®çš„å˜é‡ï¼Œç»“åˆæ­£åˆ™è¡¨è¾¾å¼å’Œæ ‡å¿—ä½å®ç°urlé‡å†™ä»¥åŠé‡å®šå‘ã€‚rewriteåªèƒ½æ”¾åœ¨ serverã€ locationã€ ifä¸­ï¼Œå¹¶ä¸”&lt;strong&gt;åªèƒ½å¯¹åŸŸååè¾¹çš„é™¤å»ä¼ é€’çš„å‚æ•°å¤–çš„å­—ç¬¦ä¸²&lt;/strong&gt;èµ·ä½œç”¨ã€‚ä¾‹å¦‚ &lt;code&gt;http://seanlook.com/a/we/index.php?id=1&amp;amp;u=str&lt;/code&gt;åªå¯¹&lt;code&gt;/a/we/index.php&lt;/code&gt;é‡å†™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯­æ³•&#34;&gt;è¯­æ³•&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rewrite regex replacement [flag];&lt;/code&gt;&lt;br&gt;
å¦‚æœç›¸å¯¹åŸŸåæˆ–å‚æ•°å­—ç¬¦ä¸²èµ·ä½œç”¨ï¼Œå¯ä»¥ä½¿ç”¨å…¨å±€å˜é‡åŒ¹é…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨proxy_passåå‘ä»£ç†ã€‚rewriteå’ŒlocationåŠŸèƒ½æœ‰ç‚¹åƒï¼Œéƒ½èƒ½å®ç°è·³è½¬ï¼Œä¸»è¦åŒºåˆ«åœ¨äºrewriteæ˜¯åœ¨åŒä¸€åŸŸåå†…æ›´æ”¹è·å–èµ„æºçš„è·¯å¾„ï¼Œè€Œlocationæ˜¯å¯¹ä¸€ç±»è·¯å¾„åšæ§åˆ¶è®¿é—®æˆ–åå‘ä»£ç†ï¼Œå¯ä»¥proxy_passåˆ°å…¶ä»–æœºå™¨ã€‚&lt;br&gt;
å¾ˆå¤šæƒ…å†µä¸‹rewriteä¹Ÿä¼šå†™åœ¨locationé‡Œï¼Œå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰§è¡Œserverå—çš„rewriteæŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;æ‰§è¡ŒlocationåŒ¹é…&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œé€‰å®šçš„locationä¸­çš„rewriteæŒ‡ä»¤&lt;br&gt;
å¦‚æœå…¶ä¸­æŸæ­¥URIè¢«é‡å†™ï¼Œåˆ™é‡æ–°å¾ªç¯æ‰§è¡Œ1-3ï¼Œç›´åˆ°æ‰¾åˆ°çœŸå®å­˜åœ¨çš„æ–‡ä»¶ï¼›å¾ªç¯è¶…è¿‡10æ¬¡ï¼Œåˆ™è¿”å›500é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;flagæ ‡å¿—ä½&#34;&gt;flagæ ‡å¿—ä½&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;last : ç›¸å½“äºApacheçš„[L]æ ‡è®°ï¼Œè¡¨ç¤ºå®Œæˆrewrite&lt;/li&gt;
&lt;li&gt;break : åœæ­¢æ‰§è¡Œå½“å‰è™šæ‹Ÿä¸»æœºçš„åç»­rewriteæŒ‡ä»¤é›†&lt;/li&gt;
&lt;li&gt;redirect : è¿”å›302ä¸´æ—¶é‡å®šå‘ï¼Œåœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„åœ°å€&lt;/li&gt;
&lt;li&gt;permanent : è¿”å›301æ°¸ä¹…é‡å®šå‘ï¼Œåœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„åœ°å€&lt;br&gt;
å› ä¸º301å’Œ302ä¸èƒ½ç®€å•çš„åªè¿”å›çŠ¶æ€ç ï¼Œè¿˜å¿…é¡»æœ‰é‡å®šå‘çš„URLï¼Œè¿™å°±æ˜¯returnæŒ‡ä»¤æ— æ³•è¿”å›301ã€302çš„åŸå› äº†ã€‚è¿™é‡Œlastå’ŒbreakåŒºåˆ«æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼š&lt;/li&gt;
&lt;li&gt;lastä¸€èˆ¬å†™åœ¨serverå’Œifä¸­ï¼Œè€Œbreakä¸€èˆ¬ä½¿ç”¨åœ¨locationä¸­&lt;/li&gt;
&lt;li&gt;lastä¸ç»ˆæ­¢é‡å†™åçš„urlåŒ¹é…ï¼Œå³æ–°çš„urlä¼šå†ä»serverèµ°ä¸€éåŒ¹é…æµç¨‹ï¼Œè€Œbreakç»ˆæ­¢é‡å†™åçš„åŒ¹é…&lt;/li&gt;
&lt;li&gt;breakå’Œlastéƒ½èƒ½ç»„ç»‡ç»§ç»­æ‰§è¡Œåé¢çš„rewriteæŒ‡ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¸¸ç”¨æ­£åˆ™&#34;&gt;å¸¸ç”¨æ­£åˆ™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;. ï¼š åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦
? ï¼š é‡å¤0æ¬¡æˆ–1æ¬¡
+ ï¼š é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡
* ï¼š é‡å¤0æ¬¡æˆ–æ›´å¤šæ¬¡
\d ï¼šåŒ¹é…æ•°å­—
^ ï¼š åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹
$ ï¼š åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ
{n} ï¼š é‡å¤næ¬¡
{n,} ï¼š é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡
[c] ï¼š åŒ¹é…å•ä¸ªå­—ç¬¦c
[a-z] ï¼š åŒ¹é…a-zå°å†™å­—æ¯çš„ä»»æ„ä¸€ä¸ª
å°æ‹¬å·()ä¹‹é—´åŒ¹é…çš„å†…å®¹ï¼Œå¯ä»¥åœ¨åé¢é€šè¿‡$1æ¥å¼•ç”¨ï¼Œ$2è¡¨ç¤ºçš„æ˜¯å‰é¢ç¬¬äºŒä¸ª()é‡Œçš„å†…å®¹ã€‚
æ­£åˆ™é‡Œé¢å®¹æ˜“è®©äººå›°æƒ‘çš„æ˜¯\è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸¾ä¾‹-2&#34;&gt;ä¸¾ä¾‹&lt;/h2&gt;
&lt;h3 id=&#34;ä¾‹1&#34;&gt;ä¾‹1&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;http {
    # å®šä¹‰imageæ—¥å¿—æ ¼å¼
    log_format imagelog &#39;[$time_local] &#39; $image_file &#39; &#39; $image_type &#39; &#39; $body_bytes_sent &#39; &#39; $status;
    # å¼€å¯é‡å†™æ—¥å¿—
    rewrite_log on;
    
    server {
        root /home/www;
        
        location / {
            # é‡å†™è§„åˆ™ä¿¡æ¯
            error_log logs/rewrite.log notice;
            # æ³¨æ„è¿™é‡Œè¦ç”¨â€˜&#39;å•å¼•å·å¼•èµ·æ¥ï¼Œé¿å…{}
            rewrite &#39;^/images/([a-z]{2})/([a-z0-9]{5})/(.*)\.(png|jpg|gif)$&#39; /data?file=$3.$4;
            # æ³¨æ„ä¸èƒ½åœ¨ä¸Šé¢è¿™æ¡è§„åˆ™åé¢åŠ ä¸Šâ€œlastâ€å‚æ•°ï¼Œå¦åˆ™ä¸‹é¢çš„setæŒ‡ä»¤ä¸ä¼šæ‰§è¡Œ
            set $image_file $3;
            set $image_type $4;
            }
        
        location /data {
            # æŒ‡å®šé’ˆå¯¹å›¾ç‰‡çš„æ—¥å¿—æ ¼å¼ï¼Œæ¥åˆ†æå›¾ç‰‡ç±»å‹å’Œå¤§å°
            access_log logs/images.log mian;
            root /data/images;
            # åº”ç”¨å‰é¢å®šä¹‰çš„å˜é‡ã€‚åˆ¤æ–­é¦–å…ˆæ–‡ä»¶åœ¨ä¸åœ¨ï¼Œä¸åœ¨å†åˆ¤æ–­ç›®å½•åœ¨ä¸åœ¨ï¼Œå¦‚æœè¿˜ä¸åœ¨å°±è·³è½¬åˆ°æœ€åä¸€ä¸ªurlé‡Œ
            try_files /$arg_file /image404.html;
            }
        location = /image404.html {
            # å›¾ç‰‡ä¸å­˜åœ¨è¿”å›ç‰¹å®šçš„ä¿¡æ¯
            return 404 &amp;quot;image not found\n&amp;quot;;
        }
}

# å¯¹å½¢å¦‚/images/ef/uh7b3/test.pngçš„è¯·æ±‚ï¼Œé‡å†™åˆ°/data?file=test.pngï¼Œ
# äºæ˜¯åŒ¹é…åˆ°location /dataï¼Œå…ˆçœ‹/data/images/test.pngæ–‡ä»¶å­˜ä¸å­˜åœ¨ï¼Œ
# å¦‚æœå­˜åœ¨åˆ™æ­£å¸¸å“åº”ï¼Œ
# å¦‚æœä¸å­˜åœ¨åˆ™é‡å†™tryfilesåˆ°æ–°çš„image404 locationï¼Œç›´æ¥è¿”å›404çŠ¶æ€ç ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¾‹2&#34;&gt;ä¾‹2&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;rewrite ^/images/(.*)_(\d+)x(\d+)\.(png|jpg|gif)$ /resizer/$1.$4?width=$2&amp;amp;height=$3? last;
# å¯¹å½¢å¦‚/images/bla_500x400.jpgçš„æ–‡ä»¶è¯·æ±‚ï¼Œ
# é‡å†™åˆ°/resizer/bla.jpg?width=500&amp;amp;height=400åœ°å€ï¼Œå¹¶ä¼šç»§ç»­å°è¯•åŒ¹é…locationã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ifæŒ‡ä»¤ä¸å…¨å±€å˜é‡&#34;&gt;ifæŒ‡ä»¤ä¸å…¨å±€å˜é‡&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;if (condition){é‡å†™æ¨¡å¼}&lt;/code&gt;ï¼Œå¯¹ç»™å®šçš„æ¡ä»¶conditionè¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœä¸ºçœŸï¼Œå¤§æ‹¬å·å†…çš„rewriteæŒ‡ä»¤å°†è¢«æ‰§è¡Œï¼Œifæ¡ä»¶å¯ä»¥æ˜¯å¦‚ä¸‹ä»»ä½•å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“è¡¨è¾¾å¼åªæ˜¯ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœ&lt;strong&gt;å€¼ä¸ºç©ºæˆ–ä»»ä½•ä»¥0å¼€å¤´çš„å­—ç¬¦ä¸²&lt;/strong&gt;éƒ½ä¼šå½“åšfalse&lt;/li&gt;
&lt;li&gt;ç›´æ¥æ¯”è¾ƒå˜é‡å’Œå†…å®¹æ—¶ï¼Œä½¿ç”¨=æˆ–!=&lt;/li&gt;
&lt;li&gt;~ æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…&lt;/li&gt;
&lt;li&gt;~* ä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…&lt;/li&gt;
&lt;li&gt;!~ åŒºåˆ†å¤§å°å†™çš„ä¸åŒ¹é…&lt;/li&gt;
&lt;li&gt;-få’Œ!-f ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;-då’Œ!-d ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç›®å½•&lt;/li&gt;
&lt;li&gt;-eå’Œ!-e ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ–‡ä»¶æˆ–ç›®å½•&lt;/li&gt;
&lt;li&gt;-xå’Œ!-x ç”¨æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ&lt;br&gt;
é‡å†™æ¨¡å¼ä¸­å¸¸ç”¨æŒ‡ä»¤ï¼š&lt;/li&gt;
&lt;li&gt;setï¼šè®¾ç½®å˜é‡ç”¨çš„, å¯ä»¥ç”¨æ¥è¾¾åˆ°å¤šæ¡ä»¶åˆ¤æ–­æ—¶ä½œæ ‡å¿—ç”¨ï¼Œè¾¾åˆ°apacheä¸‹çš„rewrite_conditionçš„æ•ˆæœ&lt;/li&gt;
&lt;li&gt;returnï¼šè¿”å›çŠ¶æ€ç &lt;/li&gt;
&lt;li&gt;breakï¼šè·³å‡ºrewrite&lt;/li&gt;
&lt;li&gt;rewriteï¼šé‡å†™&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¾‹å­&#34;&gt;ä¾‹å­&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¦‚æœUAåŒ…å«&amp;quot;MSIE&amp;quot;ï¼Œrewriteè¯·æ±‚åˆ°/msid/ç›®å½•ä¸‹ï¼Œå³å¦‚æœç”¨æˆ·è®¾å¤‡ä¸ºIEæµè§ˆå™¨çš„æ—¶å€™ï¼Œé‡å®šå‘
if ($http_user_agent ~ MSIE) {
    rewrite ^(.*)$ /msie/$1 break;
    } 
 
# IEæµè§ˆå™¨è®¿é—®æ—¶ï¼Œè·³è½¬åˆ°ie.htm
if ($http_user_agent ~ MSIE) {
    rewrite ^.*$ /ie.htm;
    break;  # ä¸breakä¼šå¯¼è‡´å¾ªç¯é‡å®šå‘
    }

# åˆ¤æ–­IEå¹¶é‡å†™ï¼Œä¸”ä¸ç”¨breakï¼Œç”¨setå˜é‡æ¥è¾¾åˆ°ç›®çš„ã€åˆ¤æ–­æ˜¯IEæµè§ˆå™¨ä¸”æ–¹ä½çš„ä¸æ˜¯ie.htmlï¼Œåˆ™è¿›è¡Œé‡å†™ã€‘
if ($http_user_agent ~* msie) {
    set $isie 1;
    }
if ($fastcgi_script_name = ie.html) {
    set $isie 0;
    }
if ($isie 1) {
    rewrite ^.*$ ie.html;   # $isieçš„å€¼ä¸º1åˆ™é‡å†™
    }

 # å¦‚æœcookieåŒ¹é…æ­£åˆ™ï¼Œè®¾ç½®å˜é‡$idç­‰äºæ­£åˆ™å¼•ç”¨éƒ¨åˆ†
if ($http_cookie ~* &amp;quot;id=([^;]+)(?:;|$)&amp;quot;) {
    set $id $1;
    } 
 
 # å¦‚æœæäº¤æ–¹æ³•ä¸ºPOSTï¼Œåˆ™è¿”å›çŠ¶æ€405ï¼ˆMethod not allowedï¼‰ã€‚returnä¸èƒ½è¿”å›301ã€302
if ($request_method = POST) {
    return 405;
    } 
 
 # é™é€Ÿï¼Œ$slowå¯ä»¥é€šè¿‡setæŒ‡ä»¤è®¾ç½®
if ($slow) {
    limit_rate 10k;
    } 
 
# å¦‚æœè¯·æ±‚çš„æ–‡ä»¶åä¸å­˜åœ¨ï¼Œåˆ™åå‘ä»£ç†åˆ°localhost ã€‚è¿™é‡Œçš„breakä¹Ÿæ˜¯åœæ­¢rewriteæ£€æŸ¥
if (!-f $request_filename){
    break;
    proxy_pass http://127.0.0.1;
    } 
 
# å¦‚æœquery stringä¸­åŒ…å«&amp;quot;post=140&amp;quot;ï¼Œæ°¸ä¹…é‡å®šå‘åˆ°example.com
if ($args ~ post=140){
    rewrite ^ http://example.com/ permanent;
    }
 
 # ç¦æ­¢192.168.1.100è®¿é—®
if  ($remote_addr = 192.168.1.100) {
    return 403;
    }

# å½“è®¿é—®çš„æ–‡ä»¶ä¸å­˜åœ¨æ—¶ï¼Œé‡å®šå‘è‡³404.html
if (!-e $document_root$fastcgi_script_name) {
    rewrite ^.*$ /404.html break;
    } 
# ä»¥ xx.com/dsafsd.htmlè¿™ä¸ªä¸å­˜åœ¨é¡µé¢ä¸ºä¾‹ï¼Œè§‚å¯Ÿè®¿é—®æ—¥å¿—, æ—¥å¿—ä¸­æ˜¾ç¤ºçš„è®¿é—®è·¯å¾„ä¾ç„¶æ˜¯&amp;quot;GET /dsafsd.html HTTP/1.1&amp;quot;
# æç¤º: æœåŠ¡å™¨å†…éƒ¨çš„rewriteå’Œ302è·³è½¬ä¸ä¸€æ ·. 
#         è·³è½¬çš„è¯URLéƒ½å˜äº†ï¼Œå˜æˆé‡æ–°httpè¯·æ±‚404.htmlï¼Œè€Œå†…éƒ¨rewrite, ä¸Šä¸‹æ–‡æ²¡å˜,
#         å°±æ˜¯è¯´ fastcgi_script_name ä»ç„¶æ˜¯ dsafsd.htmlï¼Œå› æ­¤ä¼šå¾ªç¯é‡å®šå‘ã€‚

 # é˜²ç›—é“¾
location ~* \.(gif|jpg|png|swf|flv)$ {
    valid_referers none blocked www.123.com www.abc.com;
    if ($invalid_referer) {
        return 404;
        } 
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å…¨å±€å˜é‡&#34;&gt;å…¨å±€å˜é‡&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$args ï¼š #è¿™ä¸ªå˜é‡ç­‰äºè¯·æ±‚è¡Œä¸­çš„å‚æ•°ï¼ŒåŒ$query_string
$content_length ï¼š è¯·æ±‚å¤´ä¸­çš„Content-lengthå­—æ®µã€‚
$content_type ï¼š è¯·æ±‚å¤´ä¸­çš„Content-Typeå­—æ®µã€‚
$document_root ï¼š å½“å‰è¯·æ±‚åœ¨rootæŒ‡ä»¤ä¸­æŒ‡å®šçš„å€¼ã€‚
$host ï¼š è¯·æ±‚ä¸»æœºå¤´å­—æ®µï¼Œå¦åˆ™ä¸ºæœåŠ¡å™¨åç§°ã€‚
$http_user_agent ï¼š å®¢æˆ·ç«¯agentä¿¡æ¯
$http_cookie ï¼š å®¢æˆ·ç«¯cookieä¿¡æ¯
$limit_rate ï¼š è¿™ä¸ªå˜é‡å¯ä»¥é™åˆ¶è¿æ¥é€Ÿç‡ã€‚
$request_method ï¼š å®¢æˆ·ç«¯è¯·æ±‚çš„åŠ¨ä½œï¼Œé€šå¸¸ä¸ºGETæˆ–POSTã€‚
$remote_addr ï¼š å®¢æˆ·ç«¯çš„IPåœ°å€ã€‚
$remote_port ï¼š å®¢æˆ·ç«¯çš„ç«¯å£ã€‚
$remote_user ï¼š å·²ç»ç»è¿‡Auth Basic ModuleéªŒè¯çš„ç”¨æˆ·åã€‚
$request_filename ï¼š å½“å‰è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„ï¼Œç”±rootæˆ–aliasæŒ‡ä»¤ä¸URIè¯·æ±‚ç”Ÿæˆã€‚
$scheme ï¼š HTTPæ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰ã€‚
$server_protocol ï¼š è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œé€šå¸¸æ˜¯HTTP/1.0æˆ–HTTP/1.1ã€‚
$server_addr ï¼š æœåŠ¡å™¨åœ°å€ï¼Œåœ¨å®Œæˆä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨åå¯ä»¥ç¡®å®šè¿™ä¸ªå€¼ã€‚
$server_name ï¼š æœåŠ¡å™¨åç§°ã€‚
$server_port ï¼š è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨çš„ç«¯å£å·ã€‚
$request_uri ï¼š åŒ…å«è¯·æ±‚å‚æ•°çš„åŸå§‹URIï¼Œä¸åŒ…å«ä¸»æœºåï¼Œå¦‚ï¼šâ€/foo/bar.php?arg=bazâ€ã€‚
$uri ï¼š ä¸å¸¦è¯·æ±‚å‚æ•°çš„å½“å‰URIï¼Œ$uriä¸åŒ…å«ä¸»æœºåï¼Œå¦‚â€/foo/bar.htmlâ€ã€‚
$document_uri ï¼š ä¸$uriç›¸åŒã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¾‹å­-2&#34;&gt;ä¾‹å­&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;http://localhost:88/test1/test2/test.php
    $hostï¼šlocalhost
    $server_portï¼š88
    $request_uriï¼šhttp://localhost:88/test1/test2/test.php
    $document_uriï¼š/test1/test2/test.php
    $document_rootï¼š/var/www/html
    $request_filenameï¼š/var/www/html/test1/test2/test.php
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŸºäºecshopçš„rewriteå®æˆ˜&#34;&gt;åŸºäºecshopçš„Rewriteå®æˆ˜&lt;/h2&gt;
&lt;p&gt;æ³¨æ„ï¼šç”¨urlé‡å†™æ—¶, æ­£åˆ™é‡Œå¦‚æœæœ‰&lt;code&gt;{}&lt;/code&gt;ï¼Œæ­£åˆ™è¦ç”¨åŒå¼•å·åŒ…èµ·æ¥&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;location /ecshop {
    index index.php;
    # å°†&amp;quot;goods-xxxxxxx.html&amp;quot;é‡å†™åˆ°&amp;quot;goods.php?id=xxxxxxx&amp;quot;
    rewrite &amp;quot;goods-(\d{1,7})\.html&amp;quot; /exshop/goods.php?id=$1;  # $1ä¸ºæ­£åˆ™åŒ¹é…çš„åå‘å¼•ç”¨
    # æˆ–è€…
    rewrite goods-([\d]+)\.html$ /ecshop/goods.php?id=$1;

    # ä¸‹é¢ä¸ºå„ä¸ªé¡µé¢çš„é‡å†™é…ç½®
    rewrite article-([\d]+)\.html$ /ecshop/article.php?id=$1;
    rewrite category-(\d+)-b(\d+)\.html /ecshop/category.php?id=$1&amp;amp;brand=$2;
    rewrite category-(\d+)-b(\d+)-min(\d+)-max(\d+)-attr([\d\.]+)\.html /ecshop/category.php?id=$1&amp;amp;brand=$2&amp;amp;price_min=$3&amp;amp;price_max=$4&amp;amp;filter_attr=$5;
    rewrite category-(\d+)-b(\d+)-min(\d+)-max(\d+)-attr([\d+\.])-(\d+)-([^-]+)-([^-]+)\.html /ecshop/category.php?id=$1&amp;amp;brand=$2&amp;amp;price_min=$3&amp;amp;price_max=$4&amp;amp;filter_attr=$5&amp;amp;page=$6&amp;amp;sort=$7&amp;amp;order=$8;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxç¼“å­˜é…ç½®&#34;&gt;nginxç¼“å­˜é…ç½®&lt;/h1&gt;
&lt;p&gt;æé«˜ç½‘ç«™æ€§èƒ½ã€‚å¯¹äºç½‘ç«™çš„å›¾ç‰‡ï¼Œå°¤å…¶æ˜¯æ–°é—»ç«™,ï¼Œå›¾ç‰‡ä¸€æ—¦å‘å¸ƒ,ï¼Œæ”¹åŠ¨çš„å¯èƒ½æ˜¯éå¸¸å°çš„ã€‚èƒ½å¦åœ¨ç”¨æˆ·è®¿é—®ä¸€æ¬¡åï¼Œå›¾ç‰‡ç¼“å­˜åœ¨ç”¨æˆ·çš„æµè§ˆå™¨ç«¯ï¼Œä¸”æ—¶é—´æ¯”è¾ƒé•¿çš„ç¼“å­˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;expireså‚æ•°&#34;&gt;expireså‚æ•°&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨nginxçš„expiresè®¾ç½® ï¼Œå¯ä»¥åœ¨locationå—æˆ–ifå—é‡Œï¼Œæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;expires 30s;
expires 30m;
expires 2h;
expires 30d;
# ã€æ³¨æ„ã€‘ï¼šæœåŠ¡å™¨çš„æ—¥æœŸè¦å‡†ç¡®ï¼Œå¦‚æœæœåŠ¡å™¨çš„æ—¥æœŸè½åäºå®é™…æ—¥æœŸï¼Œå¯èƒ½å¯¼è‡´ç¼“å­˜å¤±æ•ˆ
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;304not-modified&#34;&gt;304(Not Modified)&lt;/h3&gt;
&lt;p&gt;304ä¹Ÿæ˜¯ä¸€ç§å¾ˆå¥½çš„ç¼“å­˜æ‰‹æ®µï¼Œ&lt;em&gt;è¿™ä¸ªä¸éœ€è¦è®¾ç½®&lt;/em&gt;&lt;br&gt;
&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæœåŠ¡å™¨å“åº”æ–‡ä»¶å†…å®¹æ—¶ï¼ŒåŒæ—¶å“åº”&lt;code&gt;Etag&lt;/code&gt;æ ‡ç­¾ï¼ˆå†…å®¹çš„ç­¾åï¼Œå†…å®¹ä¸€å˜ï¼Œä»–ä¹Ÿå˜ï¼‰å’Œ&lt;code&gt;Last_Modified&lt;/code&gt;è¿™2ä¸ªæ ‡ç­¾å€¼ï¼ˆExpiresä¸ºç¼“å­˜å†…å®¹åˆ°æœŸæ—¶é—´ï¼‰ï¼Œæµè§ˆå™¨ä¸‹æ¬¡å»è¯·æ±‚æ—¶ï¼Œå¤´ä¿¡æ¯å‘é€è¿™ä¸¤ä¸ªæ ‡ç­¾, æœåŠ¡å™¨æ£€æµ‹æ–‡ä»¶æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¦‚è¿‡æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œç›´æ¥å¤´ä¿¡æ¯è¿”å›&lt;code&gt;Etag&lt;/code&gt;å’Œ&lt;code&gt;Last_Modified&lt;/code&gt;ã€‚æµè§ˆå™¨çŸ¥é“å†…å®¹æ— æ”¹å˜ï¼Œäºæ˜¯ç›´æ¥è°ƒç”¨æœ¬åœ°ç¼“å­˜ã€‚&lt;br&gt;
è¿™ä¸ªè¿‡ç¨‹ï¼Œä¹Ÿè¯·æ±‚äº†æœåŠ¡å™¨ï¼Œä½†æ˜¯ä¼ ç€çš„å†…å®¹æå°‘ã€‚å¯¹äºå˜åŒ–å‘¨æœŸè¾ƒçŸ­çš„ï¼Œå¦‚é™æ€htmlã€jsã€cssï¼Œæ¯”è¾ƒé€‚äºç”¨è¿™ä¸ªæ–¹å¼ã€‚&lt;/p&gt;
&lt;h1 id=&#34;nginxåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡nginxapacheåŠ¨é™åˆ†ç¦»&#34;&gt;nginxåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼ˆnginx+apacheåŠ¨é™åˆ†ç¦»ï¼‰&lt;/h1&gt;
&lt;p&gt;ç”¨nginxåšåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡éå¸¸ç®€å•ï¼Œæ”¯æŒä¸¤ä¸ªç”¨æ³•&lt;code&gt;proxy&lt;/code&gt;å’Œ&lt;code&gt;upstream&lt;/code&gt;ï¼Œåˆ†åˆ«ç”¨æ¥åšåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ã€‚&lt;br&gt;
è¯¦ç»†çš„é…ç½®å‚è€ƒä¸Šé¢çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åå‘ä»£ç†&#34;&gt;åå‘ä»£ç†&lt;/h2&gt;
&lt;p&gt;ä»¥åå‘ä»£ç†ä¸ºä¾‹ï¼Œnginxä¸è‡ªå·±å¤„ç†phpçš„ç›¸å…³è¯·æ±‚ï¼Œè€Œæ˜¯æŠŠphpçš„ç›¸å…³è¯·æ±‚è½¬å‘ç»™apacheæ¥å¤„ç†ã€‚&lt;br&gt;
ä¸‹å›¾ä¸ºâ€œåŠ¨é™åˆ†ç¦»â€ï¼ŒåŠ¨é™åˆ†ç¦»ä¸æ˜¯ä¸€ä¸ªä¸¥è°¨çš„è¯´æ³•ï¼Œå«&lt;strong&gt;åå‘ä»£ç†&lt;/strong&gt;æ¯”è¾ƒè§„èŒƒã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1599397999403.png&#34; alt=&#34;åŠ¨é™åˆ†ç¦»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸»è¦é…ç½®ï¼š&lt;code&gt;proxy_pass http://192.168.1.200:8080&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;http://&lt;/code&gt;å¿…é¡»æ·»åŠ ï¼Œè¿™æ˜¯æŒ‡æ˜åè®®&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# Apacheé…ç½®
cd /usr/local/httpd
vim conf/httpd.conf
    Listen 8080
    Include conf/extra/httpd-vhosts.conf
    &amp;lt;Directory /&amp;gt;
        Option FollowSymLinks
        AllowOverride all
        Order deny,allow
        Allow from all
    &amp;lt;/Directory&amp;gt;
vim conf/extra/httpd-vhost.conf
    NameVirtualHost *:8080
    &amp;lt;VirtualHost *:8080&amp;gt;
        ServerAdmin webmaster@dummy-host.example.com
        DocumentRoot &amp;quot;/usr/local/nginx/html&amp;quot;
        ServerName &amp;quot;192.168.1.200&amp;quot;
        ServerAlias www.dummy-host.example.com
    &amp;lt;/VirtualHost&amp;gt;

# Nginxé…ç½®
cd /usr/local/nginx
vim conf/nginx.conf
    location ~ \.php$ {
        proxy_pass http://192.168.1.200:8080 # å°†phpæ–‡ä»¶äº¤ç»™apacheå¤„ç†
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;æµ‹è¯•è„šæœ¬test.phpï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;// åŠ¨æ€
&amp;lt;?php  
//phpinfo();
echo rand(1,1000);  //äº§ç”Ÿ1~1000å†…çš„éšæœºæ•°
?&amp;gt;
// é™æ€
&amp;lt;img src=&amp;quot;image/logo.png&amp;quot; /&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è´Ÿè½½å‡è¡¡&#34;&gt;è´Ÿè½½å‡è¡¡&lt;/h2&gt;
&lt;p&gt;åå‘ä»£ç†åç«¯å¦‚æœæœ‰å¤šå°æœåŠ¡å™¨ï¼Œè‡ªç„¶å¯å½¢æˆè´Ÿè½½å‡è¡¡ï¼Œä½†proxy_passéœ€è¦æŒ‡å‘å¤šå°æœåŠ¡å™¨ï¼ŒæŠŠå¤šå°æœåŠ¡å™¨ç”¨&lt;code&gt;upstream&lt;/code&gt;æŒ‡å®šç»‘å®šåœ¨ä¸€èµ·å¹¶èµ·ä¸ªç»„åï¼Œç„¶åproxy_passæŒ‡å‘è¯¥ç»„&lt;br&gt;
é»˜è®¤çš„å‡è¡¡çš„ç®—æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯é’ˆå¯¹åç«¯æœåŠ¡å™¨çš„æŒ‰ç…§é¡ºåºé€ä¸ªè¯·æ±‚ï¼Œä¹Ÿæœ‰å…¶ä»–è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œå¦‚ä¸€è‡´æ€§å“ˆå¸Œç­‰ï¼ˆéœ€è¦å®‰è£…ç¬¬3æ–¹æ¨¡å—ï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim conf/nginx.conf
    upstream imgserver {
        server 192.168.1.200:81 weight=1 fail_timeout=3 max_fails=2;
        server 192.168.1.200:82 weight=1 fail_timeout=3 max_fails=2;
        
    } 
    server {
        listen 81;
        serber_name localhost;
        root html;
        access_log logs/81-access.log main;
    }
    server {
        listen 82;
        serber_name localhost;
        root html;
        access_log logs/82-access.log main;
    }
    location ~* \.(jpg|jpeg|gif|png) {
        # åå‘ä»£ç†å¯¼è‡´äº†åç«¯æœåŠ¡å™¨æ”¶åˆ°çš„æºIPä¸ºå‰ç«¯æœåŠ¡å™¨çš„IPï¼Œè€Œä¸æ˜¯å®¢æˆ·çœŸæ­£çš„IPï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹
        proxy_set_header X-Forwarded-For $remote_addr;
        proxy_pass http://imgserver;
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;nginxè¿æ¥memcached&#34;&gt;nginxè¿æ¥memcached&lt;/h1&gt;
&lt;h2 id=&#34;memcached&#34;&gt;memcached&lt;/h2&gt;
&lt;p&gt;memcachedæ˜¯ä¸€å¥—åˆ†å¸ƒå¼çš„é«˜é€Ÿç¼“å­˜ç³»ç»Ÿï¼Œè¢«è®¸å¤šç½‘ç«™ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install libmemcache* memcache* # å®‰è£…memcachedåŠphpçš„memcachedæ‰©å±•
memcached -d -l 127.0.0.1 -p 11211 -m 500 -u root
    # -dï¼šå®ˆæŠ¤è¿›ç¨‹ã€‚å½“ä»ç»ˆç«¯çª—å£é€€å‡ºçš„æ—¶å€™memcachedè¿˜ä¼šç»§ç»­è¿è¡Œ
    # -lï¼šæŒ‡å®šipåœ°å€ï¼Œè¿™é‡ŒæŒ‡å®šæœ¬åœ°ip
    # -pï¼šæŒ‡å®šç«¯å£å·ï¼Œç«¯å£å·ä¸º11211
    # -mï¼šåˆ†é…å†…å­˜ï¼Œè¿™é‡Œåˆ†é…äº†500Må†…å­˜
    # -uï¼šä½¿ç”¨å“ªä¸ªç”¨æˆ·è¿è¡Œmemcached
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;phpè¿æ¥memecachedçš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¼–è¯‘phpè¿æ¥memecachedçš„æ‰©å±•
vim conf/php.ini
    extension=memcached.so
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ•™ç¨‹&#34;&gt;ä½¿ç”¨æ•™ç¨‹&lt;/h3&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a href=&#34;https://www.runoob.com/Memcached/Memcached-tutorial.html&#34;&gt;https://www.runoob.com/Memcached/Memcached-tutorial.html&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿æ¥ 
telnet 127.0.0.1 11211
# åˆ›å»ºå€¼
add /user1.html 0 0 7 # key=&amp;quot;/user1.html&amp;quot;ï¼Œflag=0ï¼Œexptime=0ï¼Œbytes=7
i am lisi  # value=&amp;quot;i am lisi&amp;quot;
# å¦‚æœæ•°æ®æ·»åŠ æˆåŠŸï¼Œåˆ™è¾“å‡ºSTORED
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;nginxè¿æ¥memcached-2&#34;&gt;nginxè¿æ¥memcached&lt;/h2&gt;
&lt;p&gt;nginxçš„memcached_moduleæ¨¡å—å¯ä»¥ç›´æ¥ä»memcachedæœåŠ¡å™¨ä¸­è¯»å–å†…å®¹åè¾“å‡ºï¼Œåç»­çš„è¯·æ±‚ä¸å†ç»è¿‡åº”ç”¨ç¨‹åºå¤„ç†ï¼Œå¦‚php-fpmã€djangoç­‰ï¼Œå¤§å¤§çš„æå‡åŠ¨æ€é¡µé¢çš„é€Ÿåº¦ã€‚&lt;br&gt;
nginxåªè´Ÿè´£ä»memcachedæœåŠ¡å™¨ä¸­è¯»å–æ•°æ®ï¼Œè¦å¾€memcachedå†™å…¥æ•°æ®è¿˜å¾—éœ€è¦åå°çš„åº”ç”¨ç¨‹åºæ¥å®Œæˆï¼Œä¸»åŠ¨çš„å°†è¦ç¼“å­˜çš„é¡µé¢ç¼“å­˜åˆ°memcachedä¸­ï¼Œå¯ä»¥é€šè¿‡404é‡å®šå‘åˆ°åç«¯å»å¤„ç†çš„ã€‚&lt;br&gt;
ngx_http_memcached_moduleå¯ä»¥æ“ä½œä»»ä½•å…¼ç”¨memcachedåè®®çš„è½¯ä»¶ã€‚å¦‚ttserverã€membaseç­‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1599442580458.jpg&#34; alt=&#34;nginxè¿æ¥memcached&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
memcachedçš„keyå¯ä»¥é€šè¿‡&lt;code&gt;memcached_key&lt;/code&gt;æ¥è®¾ç½®ã€‚å¦‚æœå‘½ä¸­ï¼Œé‚£ä¹ˆç›´æ¥è¾“å‡ºå†…å®¹ï¼Œæ²¡æœ‰å‘½ä¸­å°±æ„å‘³ç€nginxéœ€è¦ä»åº”ç”¨ç¨‹åºè¯·æ±‚é¡µé¢ã€‚åŒæ—¶ï¼Œè¯¥åº”ç”¨ç¨‹åºå°†é”®å€¼å¯¹å†™å…¥åˆ°memcachedï¼Œä»¥ä¾¿ä¸‹ä¸€ä¸ªè¯·æ±‚å¯ä»¥ç›´æ¥ä»memcachedè·å–ã€‚&lt;br&gt;
å¦‚æœé”®å€¼ä¸å­˜åœ¨ï¼Œnginxå°†æŠ¥å‘Š&lt;code&gt;not found&lt;/code&gt;é”™è¯¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ€å¥½çš„æ–¹æ³•æ˜¯&lt;/strong&gt;ä½¿ç”¨&lt;code&gt;error_page&lt;/code&gt;æŒ‡å®šå’Œlocationè¯·æ±‚å¤„ç†ã€‚åŒæ—¶åŒ…å«&lt;code&gt;Bad Gateway&lt;/code&gt;é”™è¯¯å’Œ&lt;code&gt;Gateway Timeout&lt;/code&gt;é”™è¯¯ï¼Œä¾‹å¦‚&lt;code&gt;error_page 404 502 504 = @app;&lt;/code&gt;ã€‚ã€æ³¨æ„ã€‘ï¼šéœ€è¦è®¾ç½®default_typeï¼Œå¦åˆ™å¯èƒ½ä¼šæ˜¾ç¤ºä¸æ­£å¸¸ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å‚æ•°è¯¦è§£-2&#34;&gt;å‚æ•°è¯¦è§£&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;memcached_bindï¼šæŒ‡å®šä»å“ªä¸ªIPæ¥è¿æ¥memcachedæœåŠ¡å™¨ã€‚è¯­æ³•: &lt;code&gt;memcached_bind address | off&lt;/code&gt;ï¼Œé»˜è®¤å€¼noneã€‚é…ç½®æ®µhttp, server, location&lt;/li&gt;
&lt;li&gt;memcached_buffer_sizeï¼šè¯»å–ä»memcachedæœåŠ¡å™¨æ¥æ”¶åˆ°å“åº”çš„ç¼“å†²å¤§å°ï¼Œå°½å¿«çš„å°†å“åº”åŒæ­¥ä¼ ç»™å®¢æˆ·ç«¯ã€‚è¯­æ³•: &lt;code&gt;memcached_buffer_size size&lt;/code&gt;ï¼Œé»˜è®¤å€¼4k|8kã€‚é…ç½®æ®µ: http, server, location&lt;/li&gt;
&lt;li&gt;memcached_connect_timeoutï¼šä¸memcachedæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œé€šå¸¸ä¸è¶…è¿‡75sã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_connect_timeout time&lt;/code&gt;ï¼Œé»˜è®¤å€¼60sã€‚é…ç½®æ®µï¼šhttp, server, location&lt;/li&gt;
&lt;li&gt;memcached_gzip_flagï¼šæµ‹è¯•memcachedæœåŠ¡å™¨å“åº”æ ‡å¿—ï¼Œå¦‚æœè®¾ç½®äº†ï¼Œå°†åœ¨å“åº”å¤´éƒ¨æ·»åŠ äº†Content-Encodingï¼šgzipã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_gzip_flag flag&lt;/code&gt;ï¼Œé»˜è®¤å€¼noneã€‚é…ç½®æ®µï¼šhttp, server, location&lt;/li&gt;
&lt;li&gt;memcached_next_upstreamï¼šæŒ‡å®šåœ¨å“ªäº›çŠ¶æ€ä¸‹è¯·æ±‚å°†è½¬å‘åˆ°å¦å¤–çš„è´Ÿè½½å‡è¡¡æœåŠ¡å™¨ä¸Šï¼Œä»…å½“memcached_passæœ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šæ—¶ä½¿ç”¨ã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_next_upstream error | timeout | invalid_response | not_found | off ...&lt;/code&gt;ï¼Œé»˜è®¤å€¼error timeoutã€‚é…ç½®æ®µ: http, server, location&lt;/li&gt;
&lt;li&gt;memcached_passï¼šæŒ‡å®šmemcachedæœåŠ¡å™¨åœ°å€ã€‚ä½¿ç”¨å˜é‡$memcached_keyä¸ºkeyæŸ¥è¯¢å€¼ï¼Œå¦‚æœæ²¡æœ‰ç›¸åº”çš„å€¼åˆ™è¿”å›error_page 404ã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_pass address:port or socket&lt;/code&gt;ï¼Œé»˜è®¤å€¼noneã€‚é…ç½®æ®µï¼šlocation, if in location&lt;/li&gt;
&lt;li&gt;memcached_read_timeoutï¼šå®šä¹‰ä»memcachedæœåŠ¡å™¨è¯»å–å“åº”è¶…æ—¶æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_read_timeout time&lt;/code&gt;ï¼Œé»˜è®¤å€¼60sã€‚é…ç½®æ®µï¼šhttp, server, location&lt;/li&gt;
&lt;li&gt;memcached_send_timeoutï¼šè®¾ç½®å‘é€è¯·æ±‚åˆ°memcachedæœåŠ¡å™¨çš„è¶…æ—¶æ—¶é—´ã€‚è¯­æ³•ï¼š&lt;code&gt;memcached_send_timeout&lt;/code&gt;ï¼Œé»˜è®¤å€¼60sã€‚é…ç½®æ®µï¼šhttp, server, location&lt;/li&gt;
&lt;li&gt;$memcached_key å˜é‡ï¼šmemcached keyçš„å€¼ï¼Œå¯ä»¥è®¾ç½®ä¸º&lt;code&gt;$request_uri&lt;/code&gt;ã€&lt;code&gt;$uri&lt;/code&gt;ã€&lt;code&gt;$request_method$request_uri&lt;/code&gt;ã€&lt;code&gt;$uri?$args&lt;/code&gt;ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim conf/nginx.conf
    server {
        location / {
            # set            $memcached_key &amp;quot;$uri?$args&amp;quot;;
            set            $memcached_key &amp;quot;$uri&amp;quot;;
            memcached_pass 127.0.0.1:11211;
            # error_page     404 502 504 = @fallback;
            error_page 404 /callback.php
        }
        # location @fallback {
        #     proxy_pass     http://backend;
        # }
    }

vim php.ini
    memcache.hash_strategy=consistent

vim html/callback.php
    &amp;lt;?php
    //print_r($_SERVER);
    //è·å–uriï¼Œç”¨æ¥å½“memcachedçš„key
    $uri = $_SERVER[&#39;REQUEST_URI&#39;];
    //echo $uri

    //æ·»åŠ å¤šå°æœåŠ¡å™¨ï¼Œphpä¹Ÿéœ€è¦æ·»åŠ å’Œnginxä¸€æ ·å¤šçš„æœåŠ¡å™¨
    $mem = new memcache();
    $mem-&amp;gt;addServer(&#39;192.168.1.200&#39;,11211); # æ­¤æ—¶ä¸èƒ½ç”¨localhost
    $mem-&amp;gt;addServer(&#39;192.168.1.200&#39;,11212);
    $mem-&amp;gt;addServer(&#39;192.168.1.200&#39;,11213);

    //æå–uriä¸­çš„uid
    $uid=substr($uri,5,strpos($uri,&amp;quot;.&amp;quot;)-5);
    //echo $uid;
    // è¿æ¥æ•°æ®åº“ï¼ŒæŸ¥è¯¢å¹¶å†™å…¥memcached
    $conn = mysql_connect(&#39;localhost&#39;,&#39;root&#39;,&#39;&#39;);
    $sql = &#39;use test&#39;;
    mysql_query($sql,$conn);
    $sql = &#39;use names utf8&#39;;
    mysql_query($sql,$conn);
    $sql = &#39;select * from user where uid=&#39;.$uid;
    $rs = mysql_query($sql,$conn);
    echo &#39;from mysql query&amp;lt;br /&amp;gt;&#39;;
    $user = mysql_fetch_assoc($rs);
    if (empty($user)){
        echo &amp;quot;no this user&amp;quot;;        
    }else{
        //print_r($user);
        $html = &#39;&amp;lt;h1&amp;gt;&#39;. $user[&#39;username&#39;] .&#39;&amp;lt;/h1&amp;gt;&#39;;
        echo $html
        //$mem = new memcache();
        //$mem-&amp;gt;connect(&#39;localhost&#39;,11211);
        $mem-&amp;gt;add($uri,$html,0,300);
        $mem-&amp;gt;close();
    }
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¤šå°memcache&#34;&gt;å¤šå°memcache&lt;/h2&gt;
&lt;p&gt;å¤šå°memcacheæ—¶ï¼Œnginxä¸phpå¦‚ä½•ä¿æŒé›†ç¾¤ä¸Šçš„ç®—æ³•åŒæ­¥ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬ä¸‰æ–¹æ¨¡å—ngx_http_consistent_hashçš„å®‰è£…&#34;&gt;ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ˆngx_http_consistent_hashï¼‰çš„å®‰è£…&lt;/h3&gt;
&lt;p&gt;Nginx upstreamå¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ã€‚ç¬¬ä¸‰æ–¹æ¨¡å—ngx_http_consistent_hashé€šè¿‡ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•æ¥é€‰æ‹©åˆé€‚çš„åç«¯èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /usr/local/src
wget https://codeload.github.com/replay/ngx_http_consistent_hash/zip/master
unzip master.zip
cd nginx-1.18.0
./configure --prefix=/usr/local/nginx --add-module=/usr/local/src/ngx_http_consistent_hash-master   # --add-moduleåé¢æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—çš„è·¯å¾„
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®memcacheé›†ç¾¤&#34;&gt;é…ç½®memcacheé›†ç¾¤&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim conf/nginx.conf
    upstream mcserver {
        consistent_hash &amp;quot;$request_uri&amp;quot;;
        server 192.168.1.200:11211;  # æ­¤æ—¶ä¸èƒ½ç”¨localhost
        server 192.168.1.200:11212;
        server 192.168.1.200:11213;
    }
    location / {
        set $memcached_key &amp;quot;$uri&amp;quot;;
        memcached_pass mcserver;
        error_page 404 /callback.php;
       }
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;é«˜æ€§èƒ½çš„æœåŠ¡å™¨çš„æ¶è®¾&#34;&gt;é«˜æ€§èƒ½çš„æœåŠ¡å™¨çš„æ¶è®¾&lt;/h1&gt;
&lt;p&gt;ä¸»è¦è®²è§£å¤§é‡è®¿é—®æ•´ä½“ä¼˜åŒ–æ€è·¯ï¼Œå¯¹äºé«˜æ€§èƒ½ç½‘ç«™ ï¼Œè¯·æ±‚é‡å¤§ï¼Œå¦‚ä½•æ”¯æ’‘ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¦å‡å°‘è¯·æ±‚ï¼šå¯¹äºå¼€å‘äººå‘˜ï¼Œåˆå¹¶css, èƒŒæ™¯å›¾ç‰‡, å‡å°‘mysqlæŸ¥è¯¢ç­‰&lt;/li&gt;
&lt;li&gt;å¯¹äºè¿ç»´nginxçš„expiresï¼Œåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜ç­‰ï¼Œå‡å°‘æŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨cdnæ¥å“åº”è¯·æ±‚&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆå‰©ä¸‹çš„ï¼Œä¸å¯é¿å…çš„è¯·æ±‚ï¼Œé€šè¿‡æœåŠ¡å™¨é›†ç¾¤+è´Ÿè½½å‡è¡¡æ¥æ”¯æ’‘ã€‚æ¥åˆ°è¿™æ­¥ï¼Œå°±ä¸è¦å†è€ƒè™‘å‡å°‘è¯·æ±‚è¿™ä¸ªæ–¹å‘äº†ï¼Œè€Œæ˜¯æ€è€ƒå¦‚ä½•æ›´å¥½çš„å“åº”é«˜å¹¶å‘è¯·æ±‚ã€‚æ—¢ç„¶å“åº”æ˜¯ä¸å¯é¿å…çš„ï¼Œå°±æŠŠè¦åšçš„æŠŠå·¥ä½œå†…å®¹â€å¹³å‡â€åˆ†ç»™æ¯å°æœåŠ¡å™¨ï¼Œæœ€ç†æƒ³çš„çŠ¶æ€æ˜¯æ¯å°æœåŠ¡å™¨çš„æ€§èƒ½éƒ½è¢«å……åˆ†åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å†…æ ¸å‚æ•°è°ƒæ•´&#34;&gt;å†…æ ¸å‚æ•°è°ƒæ•´&lt;/h2&gt;
&lt;h3 id=&#34;ç½‘ç»œ&#34;&gt;ç½‘ç»œ&lt;/h3&gt;
&lt;p&gt;net.core.somaxconn = 4096 å…è®¸ç­‰å¾…ä¸­çš„ç›‘å¬&lt;br&gt;
net.ipv4.tcp_tw_recycle = 1  tcpè¿æ¥å¿«é€Ÿå›æ”¶&lt;br&gt;
net.ipv4.tcp_tw_reuse = 1    tcpè¿æ¥é‡ç”¨&lt;br&gt;
net.ipv4.tcp_syncookies = 0  ä¸æŠµå¾¡æ´ªæ°´æ”»å‡»&lt;/p&gt;
&lt;h3 id=&#34;é˜²ç«å¢™å»ºè®®å…³æ‰&#34;&gt;é˜²ç«å¢™(å»ºè®®å…³æ‰)&lt;/h3&gt;
&lt;p&gt;net.nf_conntrack_max = 655350&lt;br&gt;
net.netfilter.nf_conntrack_tcp_timeout_established = 120&lt;/p&gt;
&lt;h3 id=&#34;æ–‡ä»¶&#34;&gt;æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;fs.file-max = 655360   ç³»ç»Ÿæœ€å¤§æ–‡ä»¶æè¿°ç¬¦&lt;/p&gt;
&lt;h3 id=&#34;è¿›ç¨‹æœ€å¤§æ–‡ä»¶æè¿°ç¬¦&#34;&gt;è¿›ç¨‹æœ€å¤§æ–‡ä»¶æè¿°ç¬¦&lt;/h3&gt;
&lt;p&gt;/etc/security/limits.conf&lt;br&gt;
soft nofile 50000&lt;br&gt;
hard nofile 50000&lt;/p&gt;
&lt;h2 id=&#34;nginxå‚æ•°è°ƒæ•´&#34;&gt;nginxå‚æ•°è°ƒæ•´&lt;/h2&gt;
&lt;p&gt;work process  æ‰“å¼€çš„è¿›ç¨‹æ•°é‡,ä¸ºCPUæ ¸å¿ƒæ•°å³å¯&lt;br&gt;
worker_rlimit_nofile 30000; è¿›ç¨‹æ‰“å¼€æ–‡ä»¶çš„æœ€å¤§æ•°é‡&lt;br&gt;
keepalive_timeout  0;&lt;/p&gt;
&lt;h2 id=&#34;php-fpmå‚æ•°è°ƒæ•´&#34;&gt;php-fpmå‚æ•°è°ƒæ•´&lt;/h2&gt;
&lt;p&gt;pm = static&lt;br&gt;
pm.max_children = 32&lt;/p&gt;
">Nginxå­¦ä¹ æ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/shan-chu-mu-lu-xia-de-kong-wen-jian-he-kong-wen-jian-jia/"" data-c="
          &lt;p&gt;è¦å®ç°æ­¤ç›®æ ‡ï¼Œéœ€è¦å…ˆåˆ é™¤ç©ºæ–‡ä»¶ã€‚å¦‚æœå…ˆåˆ é™¤ç©ºæ–‡ä»¶å¤¹ï¼Œåˆ™ä¼šå¯¼è‡´åˆ é™¤ç©ºæ–‡ä»¶ä¹‹åï¼Œæ–°äº§ç”Ÿçš„ç©ºæ–‡ä»¶å¤¹æ— æ³•è¢«åˆ é™¤ï¼Œæˆ–è€…éœ€è¦è¿›è¡ŒäºŒæ¬¡æ“ä½œï¼Œå› æ­¤ä¸ºæé«˜æ•ˆç‡å’Œä»£ç çš„è´¨é‡ï¼Œéœ€è¦å…ˆåˆ é™¤ç©ºæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ é™¤ç©ºæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;for root,dirs,files in os.walk(dir):
    for file in files:
        src_file=os.path.join(root,file)
        if os.path.getsize(src_file) == 0:
            os.remove(src_file)
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åˆ é™¤ç©ºæ–‡ä»¶å¤¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;â€‹dir_list=[]
for root,dirs,files in os.walk(dir):
    dir_list.append(root)
# å…ˆç”Ÿæˆæ–‡ä»¶å¤¹çš„åˆ—è¡¨ï¼Œé‡ç‚¹æ˜¯ä¸‹è¾¹
for root in dir_list[::-1]:  # å…ˆåˆ é™¤ç©ºå­ç›®å½•ï¼Œç„¶åæ‰èƒ½åˆ é™¤ç©ºçš„çˆ¶ç›®å½•
    if not os.listdir(root): # åˆ¤æ–­æ–‡ä»¶å¤¹ä¸­æ–‡ä»¶åˆ—è¡¨é•¿åº¦ä¸º0åˆ™åˆ é™¤æ–‡ä»¶
        os.rmdir(root)
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆå¹¶å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import os
def Remove_Null(dir,size):  # diræŒ‡å®šç›®å½•ï¼ŒsizeæŒ‡å®šè¦åˆ é™¤çš„æ–‡ä»¶å¤§å°
    dir_list=[]
    # åˆ é™¤ç©ºæ–‡ä»¶ï¼Œåˆ é™¤å°äºç­‰äºsizeçš„æ–‡ä»¶
    for root,dirs,files in os.walk(dir):
        dir_list.append(root)
        for file in files:
            src_file=os.path.join(root, file)
            if os.path.getsize(src_file)&amp;lt;=size:
                os.remove(src_file)
    # åˆ é™¤ç©ºç›®å½•
    for root in dir_list[::-1]:
        if not os.listdir(root):
            os.rmdir(root)
&lt;/code&gt;&lt;/pre&gt;
">åˆ é™¤ç›®å½•ä¸‹çš„ç©ºæ–‡ä»¶å’Œç©ºæ–‡ä»¶å¤¹</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/try-yi-chang-chu-li/"" data-c="
          &lt;p&gt;ä¸ºäº†å¤„ç†å¼‚å¸¸ï¼Œä½¿ç”¨&lt;code&gt;try...except&lt;/code&gt;ï¼ŒæŠŠå¯èƒ½å‘ç”Ÿé”™è¯¯çš„è¯­å¥æ”¾åœ¨tryæ¨¡å—é‡Œï¼Œç”¨exceptæ¥å¤„ç†å¼‚å¸¸ã€‚exceptå¯ä»¥å¤„ç†ä¸€ä¸ªä¸“é—¨çš„å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥å¤„ç†ä¸€ç»„åœ†æ‹¬å·ä¸­çš„å¼‚å¸¸ï¼Œå¦‚æœexceptåæ²¡æœ‰æŒ‡å®šå¼‚å¸¸ï¼Œåˆ™é»˜è®¤å¤„ç†æ‰€æœ‰çš„å¼‚å¸¸ã€‚æ¯ä¸€ä¸ªtryï¼Œéƒ½å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªexceptã€‚&lt;br&gt;
åœ¨pythonçš„å¼‚å¸¸ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸‡èƒ½å¼‚å¸¸ï¼šExceptionï¼Œå¯ä»¥æ•è·ä»»æ„å¼‚å¸¸ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;s1 = &#39;hello&#39;
try:
  int(s1)
except Exception,e:
  print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;éœ€è¦è€ƒè™‘åˆ°tryä»£ç å—ä¸­å¯èƒ½å‡ºç°çš„å¤šä¸ªå¼‚å¸¸ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;s1 = &#39;hello&#39;
try:
  int(s1)
except IndexError,e:
  print(e)
except KeyError,e:
  print(e)
except ValueError,e:
  print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¼‚å¸¸çš„ç®€å•ç»“æ„å’Œå¤æ‚ç»“æ„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;try:
ã€€ã€€pass
except Exception as e: #python2 ä¸­è¿˜å¯ä»¥è¿™æ ·å†™ï¼šexcept Exception,e
ã€€ã€€pass
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å®Œæ•´å®åˆ—&lt;/strong&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;try:
  # ä¸»ä»£ç å—
  pass
except KeyError,e:
  # å¼‚å¸¸æ—¶ï¼Œæ‰§è¡Œè¯¥å—
  pass
else:
  # ä¸»ä»£ç å—æ‰§è¡Œå®Œï¼Œæ‰§è¡Œè¯¥å—
  pass
finally:
  # æ— è®ºå¼‚å¸¸ä¸å¦ï¼Œæœ€ç»ˆæ‰§è¡Œè¯¥å—
  pass
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…ˆå®šä¹‰ç‰¹æ®Šæé†’çš„å¼‚å¸¸ï¼Œæœ€åå®šä¹‰Exception,æ¥ç¡®ä¿ç¨‹åºæ­£å¸¸è¿è¡Œã€‚&lt;br&gt;
å…ˆç‰¹æ®Šï¼Œåä¸‡èƒ½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;s1 = &#39;hello&#39;
try:
  int(s1)
except KeyError,e:
  print(&#39;é”®é”™è¯¯&#39;)
except IndexError,e:
  print(&#39;ç´¢å¼•é”™è¯¯&#39;)
except Exception, e:
  print(&#39;é”™è¯¯&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸»åŠ¨è§¦å‘å¼‚å¸¸ï¼š&lt;code&gt;raise Exception(&#39;messages&#39;)&lt;/code&gt;å¯ä»¥è‡ªå®šä¹‰æŠ¥é”™ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;a=2
if a &amp;gt; 1:
  raise ValueError(&#39;å€¼å¤§äº1&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;raise è§¦å‘å¼‚å¸¸&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;try:
  raise Exception(&#39;é”™è¯¯äº†ã€‚ã€‚ã€‚&#39;)
except Exception,e:
  print e
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡ªå®šä¹‰å¼‚å¸¸&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;class XXXXXException(Exception):
  def __init__(self, msg):
    self.message = msg
  def __str__(self):
    return self.message
try:
  raise XXXXXException(&#39;æˆ‘çš„å¼‚å¸¸&#39;)
except XXXXXException,e:
  print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;pythonæ‰€æœ‰çš„æ ‡å‡†å¼‚å¸¸ç±»&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BaseExceptionï¼šæ‰€æœ‰å¼‚å¸¸çš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;SystemExitï¼šè§£é‡Šå™¨è¯·æ±‚é€€å‡º&lt;/li&gt;
&lt;li&gt;KeyboardInterruptï¼šç”¨æˆ·ä¸­æ–­æ‰§è¡Œ(é€šå¸¸æ˜¯è¾“å…¥^C)&lt;/li&gt;
&lt;li&gt;GeneratorExitï¼šç”Ÿæˆå™¨(generator)å‘ç”Ÿå¼‚å¸¸æ¥é€šçŸ¥é€€å‡º&lt;/li&gt;
&lt;li&gt;Exceptionï¼šå¸¸è§„é”™è¯¯çš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;StopIterationï¼šè¿­ä»£å™¨æ²¡æœ‰æ›´å¤šçš„å€¼&lt;/li&gt;
&lt;li&gt;StopAsyncIterationï¼šå¼‚æ­¥è¿­ä»£å™¨å¯¹è±¡åœæ­¢è¿­ä»£&lt;/li&gt;
&lt;li&gt;ArithmeticErrorï¼šæ‰€æœ‰æ•°å€¼è®¡ç®—é”™è¯¯çš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;FloatingPointErrorï¼šæµ®ç‚¹è®¡ç®—é”™è¯¯&lt;/li&gt;
&lt;li&gt;OverflowErrorï¼šæ•°å€¼è¿ç®—è¶…å‡ºæœ€å¤§é™åˆ¶&lt;/li&gt;
&lt;li&gt;ZeroDivisionErrorï¼šé™¤(æˆ–å–æ¨¡)é›¶ (æ‰€æœ‰æ•°æ®ç±»å‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AssertionErrorï¼šæ–­è¨€è¯­å¥å¤±è´¥&lt;/li&gt;
&lt;li&gt;AttributeErrorï¼šå¯¹è±¡æ²¡æœ‰è¿™ä¸ªå±æ€§&lt;/li&gt;
&lt;li&gt;BufferErrorï¼šå½“æ— æ³•æ‰§è¡Œä¸ç¼“å†²åŒºç›¸å…³çš„æ“ä½œæ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;EOFErrorï¼šæ²¡æœ‰å†…å»ºè¾“å…¥,åˆ°è¾¾EOFæ ‡è®°&lt;/li&gt;
&lt;li&gt;ImportErrorï¼šå¯¼å…¥æ¨¡å—/å¯¹è±¡å¤±è´¥
&lt;ul&gt;
&lt;li&gt;ModuleNotFoundErrorï¼šåœ¨æ‰¾ä¸åˆ°æ¨¡å—æ—¶ç”±importå¼•å‘ï¼Œå½“åœ¨ç³»ç»Ÿæ¨¡å—ä¸­æ‰¾ä¸åˆ°æ—¶ä¹Ÿä¼šå¼•å‘æ­¤é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LookupErrorï¼šæ— æ•ˆæ•°æ®æŸ¥è¯¢çš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;IndexErrorï¼šåºåˆ—ä¸­æ²¡æœ‰æ²¡æœ‰æ­¤ç´¢å¼•(index)&lt;/li&gt;
&lt;li&gt;KeyErrorï¼šæ˜ å°„ä¸­æ²¡æœ‰è¿™ä¸ªé”®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MemoryErrorï¼šå†…å­˜æº¢å‡ºé”™è¯¯(å¯¹äºPythonè§£é‡Šå™¨ä¸æ˜¯è‡´å‘½çš„)&lt;/li&gt;
&lt;li&gt;NameErrorï¼šæœªå£°æ˜/åˆå§‹åŒ–å¯¹è±¡ (æ²¡æœ‰å±æ€§)
&lt;ul&gt;
&lt;li&gt;UnboundLocalErrorï¼šè®¿é—®æœªåˆå§‹åŒ–çš„æœ¬åœ°å˜é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OSErrorï¼šæ“ä½œç³»ç»Ÿé”™è¯¯
&lt;ul&gt;
&lt;li&gt;BlockingIOErrorï¼šå½“ä¸€ä¸ªæ“ä½œå°†é˜»å¡ä¸ºéé˜»å¡æ“ä½œè®¾ç½®çš„å¯¹è±¡(å¦‚å¥—æ¥å­—)æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;ChildProcessErrorï¼šå­è¿›ç¨‹ä¸Šçš„æ“ä½œå¤±è´¥æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;ConnectionErrorï¼šè¿æ¥ç›¸å…³é—®é¢˜çš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;BrokenPipeErrorï¼šå½“è¯•å›¾åœ¨ç®¡é“ä¸Šå†™è€Œå¦ä¸€ç«¯å·²å…³é—­æ—¶ï¼Œæˆ–è¯•å›¾åœ¨å·²å…³é—­ä»¥è¿›è¡Œå†™çš„å¥—æ¥å­—ä¸Šå†™æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;ConnectionAbortedErrorï¼šå½“å¯¹ç­‰æ–¹ä¸­æ­¢è¿æ¥å°è¯•æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;ConnectionRefusedErrorï¼šå½“å¯¹ç­‰æ–¹æ‹’ç»è¿æ¥å°è¯•æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;ConnectionResetErrorï¼šå½“å¯¹ç­‰æ–¹é‡ç½®è¿æ¥æ—¶å¼•å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;FileExistsErrorï¼šè¯•å›¾åˆ›å»ºå·²ç»å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½•æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;FileNotFoundErrorï¼šå½“è¯·æ±‚æ–‡ä»¶æˆ–ç›®å½•ä½†ä¸å­˜åœ¨æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;InterruptedErrorï¼šå½“ç³»ç»Ÿè°ƒç”¨è¢«ä¼ å…¥ä¿¡å·ä¸­æ–­æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;IsADirectoryErrorï¼šåœ¨ç›®å½•ä¸Šè¯·æ±‚æ–‡ä»¶æ“ä½œ(å¦‚&lt;code&gt;os.remove()&lt;/code&gt;)æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;NotADirectoryErrorï¼šå½“åœ¨éç›®å½•ä¸Šè¯·æ±‚ç›®å½•æ“ä½œ(å¦‚&lt;code&gt;os.listdir()&lt;/code&gt;)æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;PermissionErrorï¼šè¯•å›¾åœ¨æ²¡æœ‰è¶³å¤Ÿè®¿é—®æƒé™çš„æƒ…å†µä¸‹è¿è¡Œæ“ä½œæ—¶å¼•å‘ï¼Œä¾‹å¦‚æ–‡ä»¶ç³»ç»Ÿæƒé™&lt;/li&gt;
&lt;li&gt;ProcessLookupErrorï¼šå½“ç»™å®šçš„è¿›ç¨‹ä¸å­˜åœ¨æ—¶å¼•å‘&lt;/li&gt;
&lt;li&gt;TimeoutErrorï¼šå½“ç³»ç»ŸåŠŸèƒ½åœ¨ç³»ç»Ÿçº§åˆ«è¶…æ—¶æ—¶å¼•å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ReferenceErrorï¼šå¼±å¼•ç”¨(Weak reference)è¯•å›¾è®¿é—®å·²ç»åƒåœ¾å›æ”¶äº†çš„å¯¹è±¡&lt;/li&gt;
&lt;li&gt;RuntimeErrorï¼šä¸€èˆ¬çš„è¿è¡Œæ—¶é”™è¯¯
&lt;ul&gt;
&lt;li&gt;NotImplementedErrorï¼šå°šæœªå®ç°çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;RecursionErrorï¼šæ­¤å¼‚å¸¸æºè‡ªè¿è¡Œæ—¶é”™è¯¯ã€‚å½“è§£é‡Šå™¨æ£€æµ‹åˆ°è¶…è¿‡äº†æœ€å¤§é€’å½’æ·±åº¦(è¯·å‚è§&lt;code&gt;sys.getrecursionlimit()&lt;/code&gt;)æ—¶ï¼Œå°†å¼•å‘è¯¥äº‹ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;SyntaxErrorï¼šPythonè¯­æ³•é”™è¯¯
&lt;ul&gt;
&lt;li&gt;IndentationErrorï¼šç¼©è¿›é”™è¯¯
&lt;ul&gt;
&lt;li&gt;TabErrorï¼šTabå’Œç©ºæ ¼æ··ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;SystemErrorï¼šä¸€èˆ¬çš„è§£é‡Šå™¨ç³»ç»Ÿé”™è¯¯&lt;/li&gt;
&lt;li&gt;TypeErrorï¼šå¯¹ç±»å‹æ— æ•ˆçš„æ“ä½œ&lt;/li&gt;
&lt;li&gt;ValueErrorï¼šä¼ å…¥æ— æ•ˆçš„å‚æ•°
&lt;ul&gt;
&lt;li&gt;UnicodeErrorï¼šUnicodeç›¸å…³çš„é”™è¯¯
&lt;ul&gt;
&lt;li&gt;UnicodeDecodeErrorï¼šè§£ç æ—¶çš„é”™è¯¯&lt;/li&gt;
&lt;li&gt;UnicodeEncodeErrorï¼šç¼–ç æ—¶é”™è¯¯&lt;/li&gt;
&lt;li&gt;UnicodeTranslateErrorï¼šè½¬æ¢æ—¶é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Warningï¼šè­¦å‘Šçš„åŸºç±»
&lt;ul&gt;
&lt;li&gt;DeprecationWarningï¼šå…³äºè¢«å¼ƒç”¨çš„ç‰¹å¾çš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;PendingDeprecationWarningï¼šå…³äºç‰¹æ€§å°†ä¼šè¢«åºŸå¼ƒçš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;RuntimeWarningï¼šå¯ç–‘çš„è¿è¡Œæ—¶è¡Œä¸º(runtime behavior)çš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;SyntaxWarningï¼šå¯ç–‘çš„è¯­æ³•çš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;UserWarningï¼šç”¨æˆ·ä»£ç ç”Ÿæˆçš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;FutureWarningï¼šå…³äºæ„é€ å°†æ¥è¯­ä¹‰ä¼šæœ‰æ”¹å˜çš„è­¦å‘Š&lt;/li&gt;
&lt;li&gt;ImportWarningï¼šå…³äºæ¨¡å—å¯¼å…¥ä¸­å¯èƒ½é”™è¯¯çš„è­¦å‘Šçš„åŸºç±»&lt;/li&gt;
&lt;li&gt;UnicodeWarningï¼šä¸Unicodeç›¸å…³çš„è­¦å‘Šçš„åŸºç±»&lt;/li&gt;
&lt;li&gt;BytesWarningï¼šä¸å­—èŠ‚å’Œå­—èŠ‚æ•°ç»„ç›¸å…³çš„è­¦å‘Šçš„åŸºç±»&lt;/li&gt;
&lt;li&gt;ResourceWarningï¼šä¸èµ„æºä½¿ç”¨ç›¸å…³çš„è­¦å‘Šçš„åŸºç±»ã€‚è¢«é»˜è®¤è­¦å‘Šè¿‡æ»¤å™¨å¿½ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">tryå¼‚å¸¸å¤„ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/import-dao-ru/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%80%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95%E8%A7%84%E8%8C%83%E7%9A%84%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95&#34;&gt;æœ€å¸¸ç”¨çš„æ–¹æ³•ã€è§„èŒƒçš„å·¥ç¨‹æ–‡ä»¶ç›®å½•ã€‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B6%E4%BB%96%E6%96%B9%E6%B3%95&#34;&gt;å…¶ä»–æ–¹æ³•&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AF%BC%E5%85%A5%E5%90%8C%E7%BA%A7%E6%A8%A1%E5%9D%97&#34;&gt;å¯¼å…¥åŒçº§æ¨¡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AF%BC%E5%85%A5%E4%B8%8B%E7%BA%A7%E6%A8%A1%E5%9D%97&#34;&gt;å¯¼å…¥ä¸‹çº§æ¨¡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AF%BC%E5%85%A5%E4%B8%8A%E7%BA%A7%E6%A8%A1%E5%9D%97&#34;&gt;å¯¼å…¥ä¸Šçº§æ¨¡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AF%BC%E5%85%A5%E9%9A%94%E5%A3%81%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%E7%9A%84%E6%A8%A1%E5%9D%97&#34;&gt;å¯¼å…¥éš”å£æ–‡ä»¶å¤¹ä¸‹çš„æ¨¡å—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
ä»¥ä¸‹ç›®å½•ä½œä¸ºä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;FOO
|-- foo
|----foo.py
|----test.py
|----main
|------model.py
|--bin
|----lib.py
|----bin64
|------model64.py
|--source.py
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æœ€å¸¸ç”¨çš„æ–¹æ³•è§„èŒƒçš„å·¥ç¨‹æ–‡ä»¶ç›®å½•&#34;&gt;æœ€å¸¸ç”¨çš„æ–¹æ³•ã€è§„èŒƒçš„å·¥ç¨‹æ–‡ä»¶ç›®å½•ã€‘&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# 1. åŒçº§ç›®å½•
import test
# 2. å­ç›®å½•ä¸‹
import foo.main.model as model
# 3. çˆ¶ç›®å½•çš„åŒçº§ç›®å½•ä¸‹
import bin.lib as lib
# 4. çˆ¶ç›®å½•çš„åŒçº§ç›®å½•ä¸‹çš„å­ç›®å½•
import bin.bin64.model64 as model64
# 5. å¯¼å…¥ä¸Šçº§ç›®å½•
import source
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å…¶ä»–æ–¹æ³•&#34;&gt;å…¶ä»–æ–¹æ³•&lt;/h1&gt;
&lt;h2 id=&#34;å¯¼å…¥åŒçº§æ¨¡å—&#34;&gt;å¯¼å…¥åŒçº§æ¨¡å—&lt;/h2&gt;
&lt;p&gt;pythonå¯¼å…¥åŒçº§æ¨¡å—ï¼ˆåœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­çš„pyæ–‡ä»¶ï¼‰ç›´æ¥å¯¼å…¥å³å¯ã€‚&lt;br&gt;
ä¾‹å¦‚&lt;code&gt;foo.py&lt;/code&gt;ä¸­å¯¼å…¥&lt;code&gt;test.py&lt;/code&gt;ï¼Œåˆ™ç›´æ¥åœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­åŠ å…¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import test
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¯¼å…¥ä¸‹çº§æ¨¡å—&#34;&gt;å¯¼å…¥ä¸‹çº§æ¨¡å—&lt;/h2&gt;
&lt;p&gt;å¯¼å…¥ä¸‹çº§ç›®å½•æ¨¡å—éœ€åœ¨ä¸‹çº§ç›®å½•ä¸­æ–°å»ºä¸€ä¸ªç©ºç™½çš„&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶å†å¯¼å…¥ã€‚&lt;br&gt;
ä¾‹å¦‚åœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­å¯¼å…¥&lt;code&gt;model.py&lt;/code&gt;ï¼Œåˆ™éœ€è¦åœ¨&lt;code&gt;main&lt;/code&gt;ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶&lt;code&gt;__init__.py&lt;/code&gt;ï¼Œç„¶ååœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­åŠ å…¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ–¹æ³•ä¸€ï¼š
from dir3 import file3

# æ–¹æ³•äºŒï¼š
import dir3.file3
# æˆ–è€…
import dir3.file3 as df3
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¯¼å…¥ä¸Šçº§æ¨¡å—&#34;&gt;å¯¼å…¥ä¸Šçº§æ¨¡å—&lt;/h2&gt;
&lt;p&gt;è¦å¯¼å…¥ä¸Šçº§ç›®å½•ä¸‹æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;sys.path&lt;/code&gt;ã€‚&lt;br&gt;
ä¾‹å¦‚&lt;code&gt;foo.py&lt;/code&gt;ä¸­å¯¼å…¥&lt;code&gt;source.py&lt;/code&gt;ï¼Œåˆ™éœ€è¦åœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­åŠ å…¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys 
sys.path.append(&amp;quot;..&amp;quot;) 
import source
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;sys.path&lt;/code&gt;çš„ä½œç”¨ï¼šå½“ä½¿ç”¨&lt;code&gt;import&lt;/code&gt;è¯­å¥å¯¼å…¥æ¨¡å—æ—¶ï¼Œè§£é‡Šå™¨ä¼šæœç´¢å½“å‰æ¨¡å—æ‰€åœ¨ç›®å½•ä»¥åŠ&lt;code&gt;sys.path&lt;/code&gt;æŒ‡å®šçš„è·¯å¾„å»æ‰¾éœ€è¦&lt;code&gt;import&lt;/code&gt;çš„æ¨¡å—ï¼Œå› æ­¤åœ¨è¿™é‡Œéœ€è¦æŠŠä¸Šçº§ç›®å½•åŠ åˆ°äº†&lt;code&gt;sys.path&lt;/code&gt;é‡Œã€‚&lt;br&gt;
â€œ..â€çš„å«ä¹‰ï¼šç­‰åŒäºlinuxé‡Œçš„â€˜..â€™ï¼Œè¡¨ç¤ºå½“å‰å·¥ä½œç›®å½•çš„ä¸Šçº§ç›®å½•ã€‚å®é™…ä¸Špythonä¸­çš„â€˜.â€™ä¹Ÿå’Œlinuxä¸­ä¸€è‡´ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¯¼å…¥éš”å£æ–‡ä»¶å¤¹ä¸‹çš„æ¨¡å—&#34;&gt;å¯¼å…¥éš”å£æ–‡ä»¶å¤¹ä¸‹çš„æ¨¡å—&lt;/h2&gt;
&lt;p&gt;è¿™å…¶å®æ˜¯å‰é¢ä¸¤ä¸ªæ“ä½œçš„ç»„åˆï¼Œå…¶æ€è·¯æœ¬è´¨ä¸Šæ˜¯å°†ä¸Šçº§ç›®å½•åŠ åˆ°&lt;code&gt;sys.path&lt;/code&gt;é‡Œï¼Œå†æŒ‰ç…§å¯¹ä¸‹çº§ç›®å½•æ¨¡å—çš„æ–¹å¼å¯¼å…¥ï¼ŒåŒæ ·éœ€è¦è¢«å¼•ç”¨æ–‡ä»¶å¤¹ä¸‹æœ‰ç©ºçš„&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ã€‚&lt;br&gt;
ä¾‹å¦‚åœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­å¼•å…¥&lt;code&gt;bin&lt;/code&gt;ç›®å½•ä¸‹çš„&lt;code&gt;lib.py&lt;/code&gt;ï¼Œéœ€è¦åœ¨&lt;code&gt;bin&lt;/code&gt;ç›®å½•ä¸‹æ·»åŠ æ–‡ä»¶&lt;code&gt;__init__.py&lt;/code&gt;ï¼Œç„¶ååœ¨&lt;code&gt;foo.py&lt;/code&gt;ä¸­åŠ å…¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys
sys.path.append(&amp;quot;..&amp;quot;)
from bin import lib
&lt;/code&gt;&lt;/pre&gt;
">importå¯¼å…¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/chuang-jian-zi-ding-yi-yum-yuan-he-rpm-bao-feng-zhuang/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89yum%E6%BA%90&#34;&gt;åˆ›å»ºè‡ªå®šä¹‰yumæº&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%89%E8%A3%85wireshark&#34;&gt;å®‰è£…wireshark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%87%AA%E5%AE%9A%E4%B9%89yum%E6%BA%90&#34;&gt;è‡ªå®šä¹‰yumæº&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
ã€è¯´æ˜ã€‘ï¼šæœ¬ç¯å¢ƒä½¿ç”¨çš„æ˜¯ä¹‹å‰åˆ›å»ºçš„è™šæ‹Ÿæœºé›†ç¾¤éƒ¨ç½²çš„ç¯å¢ƒï¼Œå¦‚æœä¸äº†è§£ï¼Œè¯·å‰å¾€Linuxæˆ–è€…è¿ç»´æ ‡ç­¾ä¸‹é¢å¯»æ‰¾ç›¸åº”çš„æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚&lt;br&gt;
&lt;code&gt;ä»¥æºç å®‰è£…wireshark2.6.16ä¸ºä¾‹ï¼Œåˆ›å»ºç›¸åº”çš„yumæº&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&#34;åˆ›å»ºè‡ªå®šä¹‰yumæº&#34;&gt;åˆ›å»ºè‡ªå®šä¹‰yumæº&lt;/h1&gt;
&lt;h2 id=&#34;å®‰è£…wireshark&#34;&gt;å®‰è£…wireshark&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¿ç•™yumå®‰è£…åçš„rpmåŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir /yum
vim /etc/yum.conf
    [main]
    cachedir=/yum/$basearch/$releasever #ã€å®‰è£…åŒ…ä¿å­˜ä½ç½®ã€‘
    keepcache=1  #ã€é»˜è®¤0æ˜¯ä¸ä¿å­˜å®‰è£…åŒ…ï¼Œæ”¹ä¸º1å³å¯ã€‘
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…ä¾èµ–ç¯å¢ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install gcc* libpcap* bison* byacc* flex* perl-podlators* libgcrypt* glib* gtk* qt5*
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¸‹è½½wiresharkå¹¶è§£å‹ã€ç¼–è¯‘ã€å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /usr/local/src
wget https://1.eu.dl.wireshark.org/src/all-versions/wireshark-2.6.16.tar.xz
tar -Jxvf wireshark-2.6.16.tar.xz
cd wireshark-2.6.16
./configure
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è‡ªå®šä¹‰yumæº&#34;&gt;è‡ªå®šä¹‰yumæº&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…createrepoåŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install createrepo
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç”Ÿæˆrepodataç›®å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /yum
createrepo ./
ls  #æŸ¥çœ‹æ˜¯å¦æœ‰repodataç›®å½•ç”Ÿæˆ
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¿®æ”¹yumé…ç½®æ–‡ä»¶è¿›è¡Œæµ‹è¯•&lt;br&gt;
ä¿®æ”¹ä¹‹å‰éœ€è¦å°†ä¹‹å‰çš„repoæ–‡ä»¶å…¨éƒ¨å¤‡ä»½ï¼ˆåœ¨æœ«å°¾åŠ bakå³å¯ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /etc/yum.repos.d/
find -name &amp;quot;*.repo&amp;quot; -exec mv {} {}bak \;
vim wireshark.repo
    [wireshark]
    name=wireshark
    baseurl=file:///yum/
    gpgcheck=0
    enabled=1
yum clean all
yum makecache
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¦‚æœéœ€è¦æ›´æ–°åˆ™ä½¿ç”¨&lt;code&gt;createrepo --update è·¯å¾„&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;br&gt;
æµ‹è¯•ç¯èŠ‚éœ€è¦å°†æœ¬yumå…±äº«ç»™å…¶ä»–æœºå™¨è¿›è¡Œæµ‹è¯•ï¼Œæˆ–è€…ç›´æ¥æ‰“åŒ…å‘é€ç»™å…¶ä»–æœºå™¨&lt;/li&gt;
&lt;/ol&gt;
">åˆ›å»ºè‡ªå®šä¹‰yumæº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-mpls-zhuan-ti-202008015/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%A6%82%E8%BF%B0&#34;&gt;MPLSæ¦‚è¿°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%A0%E7%BB%9Fip%E8%BD%AC%E5%8F%91&#34;&gt;ä¼ ç»ŸIPè½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E7%9F%A5%E8%AF%86%E7%82%B9&#34;&gt;MPLSçŸ¥è¯†ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E9%87%8D%E7%82%B9&#34;&gt;MPLSé‡ç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%8A%A5%E6%96%87%E8%BD%AC%E5%8F%91&#34;&gt;MPLSæŠ¥æ–‡è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84&#34;&gt;MPLSä½“ç³»ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2&#34;&gt;æ§åˆ¶å¹³é¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BD%AC%E5%8F%91%E5%B9%B3%E9%9D%A2&#34;&gt;è½¬å‘å¹³é¢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%A0%87%E7%AD%BE%E5%B5%8C%E5%A5%97&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92%E5%92%8C%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;è·¯ç”±ä¼ é€’å’Œæ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E6%96%BDmpls-vpn%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%AD%A5%E9%AA%A4&#34;&gt;å®æ–½MPLS VPNçš„åŸºæœ¬æ­¥éª¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp&#34;&gt;LDP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E6%B6%88%E6%81%AF&#34;&gt;LDPæ¶ˆæ¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%B1%BB%E5%9E%8B&#34;&gt;ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%9C%E7%94%A8&#34;&gt;ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%B4%E9%83%A8%E6%A0%BC%E5%BC%8F%E7%B1%BB%E5%9E%8B&#34;&gt;å¤´éƒ¨æ ¼å¼ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E5%8F%91%E7%8E%B0%E6%9C%BA%E5%88%B6&#34;&gt;LDPå‘ç°æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E4%BC%9A%E8%AF%9D%E5%BB%BA%E7%AB%8B%E8%BF%87%E7%A8%8B&#34;&gt;LDPä¼šè¯å»ºç«‹è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;LDPçŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86&#34;&gt;LDPæ ‡ç­¾ç®¡ç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%87%E7%AD%BE%E5%88%86%E5%8F%91%E9%80%9A%E5%91%8A%E6%A8%A1%E5%BC%8F&#34;&gt;æ ‡ç­¾åˆ†å‘ï¼ˆé€šå‘Šï¼‰æ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#dod-%E4%B8%8B%E6%B8%B8%E6%8C%89%E9%9C%80%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8F&#34;&gt;DoD ä¸‹æ¸¸æŒ‰éœ€(è¢«åŠ¨)æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ud%E6%88%96%E8%80%85du%E4%B8%8B%E6%B8%B8%E8%87%AA%E4%B8%BB%E4%B8%BB%E5%8A%A8%E6%A8%A1%E5%BC%8F&#34;&gt;UDï¼ˆæˆ–è€…DUï¼‰ä¸‹æ¸¸è‡ªä¸»(ä¸»åŠ¨)æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D%E6%8E%A7%E5%88%B6%E6%A8%A1%E5%BC%8Flsp%E6%8E%A7%E5%88%B6%E6%A8%A1%E5%BC%8F&#34;&gt;æ ‡ç­¾åˆ†é…æ§åˆ¶æ¨¡å¼ï¼ˆLSPæ§åˆ¶æ¨¡å¼ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%8B%AC%E7%AB%8B%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D%E6%8E%A7%E5%88%B6&#34;&gt;ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9C%89%E5%BA%8F%E6%A0%87%E7%AD%BE%E5%88%86%E9%85%8D%E6%8E%A7%E5%88%B6&#34;&gt;æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%87%E7%AD%BE%E4%BF%9D%E7%95%99%E6%A8%A1%E5%BC%8F&#34;&gt;æ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#llr-%E8%87%AA%E7%94%B1%E6%A0%87%E7%AD%BE%E4%BF%9D%E7%95%99%E6%A8%A1%E5%BC%8F&#34;&gt;LLR è‡ªç”±æ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#clr-%E4%BF%9D%E5%AE%88%E6%A0%87%E7%AD%BE%E4%BF%9D%E7%95%99%E6%A8%A1%E5%BC%8F&#34;&gt;CLR ä¿å®ˆæ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93&#34;&gt;æ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#php%E6%AC%A1%E6%9C%AB%E8%B7%B3%E5%BC%B9%E5%87%BA%E5%80%92%E6%95%B0%E7%AC%AC%E4%BA%8C%E8%B7%B3%E5%BC%B9%E5%87%BA&#34;&gt;PHPæ¬¡æœ«è·³å¼¹å‡ºï¼ˆå€’æ•°ç¬¬äºŒè·³å¼¹å‡ºï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E7%8E%AF%E8%B7%AF%E6%A3%80%E6%B5%8B%E6%9C%BA%E5%88%B6&#34;&gt;LDPç¯è·¯æ£€æµ‹æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%AF%B9ttl%E7%9A%84%E5%A4%84%E7%90%86uniform%E6%A8%A1%E5%BC%8F&#34;&gt;MPLSå¯¹TTLçš„å¤„ç†ï¼ˆUniformæ¨¡å¼ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%9F%E4%B8%80%E6%A8%A1%E5%BC%8F&#34;&gt;ç»Ÿä¸€æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%A1%E9%81%93%E6%A8%A1%E5%BC%8F&#34;&gt;ç®¡é“æ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%B8%E5%BF%83%E7%BD%91%E7%BB%9C%E5%A4%84%E7%90%86%E6%96%B9%E5%BC%8F&#34;&gt;æ ¸å¿ƒç½‘ç»œå¤„ç†æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn&#34;&gt;MPLS VPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#vpn%E6%A8%A1%E5%9E%8B&#34;&gt;VPNæ¨¡å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#overlay-vpn&#34;&gt;Overlay VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#peer-to-peer-vpn&#34;&gt;Peer-to-Peer VPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B1%E4%BA%ABpe&#34;&gt;å…±äº«PE&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%93%E7%94%A8pe&#34;&gt;ä¸“ç”¨PE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;è§£å†³çš„é—®é¢˜&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E9%87%8D%E5%8F%A0&#34;&gt;åœ°å€ç©ºé—´é‡å &lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%93%E7%94%A8pe%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&#34;&gt;ä¸“ç”¨PEçš„è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B1%E4%BA%ABpe%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&#34;&gt;å…±äº«PEçš„è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8C%BA%E5%88%86%E5%86%B2%E7%AA%81%E8%B7%AF%E7%94%B1rdroute-distinguisher&#34;&gt;åŒºåˆ†å†²çªè·¯ç”±ï¼ˆRDï¼ŒRoute Distinguisherï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vpn%E8%B7%AF%E7%94%B1%E7%9A%84%E5%BC%95%E5%85%A5rtroute-target&#34;&gt;VPNè·¯ç”±çš„å¼•å…¥ï¼ˆRTï¼ŒRoute Targetï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%86%B2%E7%AA%81%E8%B7%AF%E7%94%B1%E7%9A%84%E6%9F%A5%E6%89%BE&#34;&gt;å†²çªè·¯ç”±çš„æŸ¥æ‰¾&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86&#34;&gt;å·¥ä½œåŸç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn%E8%B7%AF%E7%94%B1%E7%9A%84%E4%BC%A0%E9%80%92%E8%BF%87%E7%A8%8B&#34;&gt;MPLS VPNè·¯ç”±çš„ä¼ é€’è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ce%E4%B8%8Epe%E4%B9%8B%E9%97%B4%E7%9A%84%E8%B7%AF%E7%94%B1%E4%BA%A4%E6%8D%A2&#34;&gt;1. CEä¸PEä¹‹é—´çš„è·¯ç”±äº¤æ¢&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-vrf%E8%B7%AF%E7%94%B1%E6%B3%A8%E5%85%A5mp-bgp%E7%9A%84%E8%BF%87%E7%A8%8B&#34;&gt;2. VRFè·¯ç”±æ³¨å…¥MP-BGPçš„è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-%E5%85%AC%E7%BD%91%E6%A0%87%E7%AD%BE%E7%9A%84%E5%88%86%E9%85%8D%E8%BF%87%E7%A8%8B&#34;&gt;3. å…¬ç½‘æ ‡ç­¾çš„åˆ†é…è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#4-mp-bgp%E8%B7%AF%E7%94%B1%E6%B3%A8%E5%85%A5vrf%E7%9A%84%E8%BF%87%E7%A8%8B&#34;&gt;4. MP-BGPè·¯ç”±æ³¨å…¥VRFçš„è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E5%8F%91%E8%BF%87%E7%A8%8B&#34;&gt;MPLS VPNæ•°æ®çš„è½¬å‘è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#1-ce%E8%AE%BE%E5%A4%87%E5%88%B0pe%E8%AE%BE%E5%A4%87%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;1. CEè®¾å¤‡åˆ°PEè®¾å¤‡çš„æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2-%E5%85%AC%E7%BD%91%E8%AE%BE%E5%A4%87%E4%B8%8A%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;2. å…¬ç½‘è®¾å¤‡ä¸Šçš„æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3-pe%E8%AE%BE%E5%A4%87%E5%88%B0ce%E8%AE%BE%E5%A4%87%E7%9A%84%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;3. PEè®¾å¤‡åˆ°CEè®¾å¤‡çš„æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93-2&#34;&gt;æ€»ç»“&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92&#34;&gt;è·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;æ•°æ®è½¬å‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%83%A8%E7%BD%B2pe-ce%E8%B7%AF%E7%94%B1%E7%9A%84%E5%B0%8F%E6%8F%90%E7%A4%BA&#34;&gt;éƒ¨ç½²PE-CEè·¯ç”±çš„å°æç¤º&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%98%B2%E7%8E%AF&#34;&gt;é˜²ç¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E5%AE%BF%E4%B8%BB%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84sooeigrp%E5%8D%8F%E8%AE%AE&#34;&gt;å¤šå®¿ä¸»ç¯å¢ƒä¸‹çš„SoOï¼ˆEIGRPåè®®ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E7%90%86&#34;&gt;åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E&#34;&gt;ä¸¾ä¾‹è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84%E9%98%B2%E7%8E%AF&#34;&gt;OSPFçš„é˜²ç¯&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#domain-id&#34;&gt;Domain-ID&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E7%B1%BBlsa%E9%98%B2%E7%8E%AFdown-bit&#34;&gt;ä¸‰ç±»LSAé˜²ç¯ï¼ˆDown bitï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E7%9A%84%E7%8E%AF%E8%B7%AF%E9%A2%84%E9%98%B25%E7%B1%BB7%E7%B1%BBlsa%E9%98%B2%E7%8E%AF&#34;&gt;å¤–éƒ¨è·¯ç”±çš„ç¯è·¯é¢„é˜²(5ç±»/7ç±»LSAé˜²ç¯)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#sham-linkv-link%E8%99%9A%E5%81%87%E9%93%BE%E8%B7%AF&#34;&gt;sham-linkï¼ˆv-linkè™šå‡é“¾è·¯ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ospf%E7%9A%84mecvrf-lite&#34;&gt;OSPFçš„MEC/VRF-LITE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%8E%A5%E5%85%A5mpls-vpn&#34;&gt;BGPæ¥å…¥MPLS VPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%8E%A5%E5%85%A5mpls-vpn%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;BGPæ¥å…¥MPLS VPNè§£å†³çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A6%82%E6%9E%9C%E4%B8%8D%E9%87%87%E7%94%A8%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A6%82%E4%BD%95%E4%BC%A0%E9%80%92%E6%98%8E%E7%BB%86%E8%B7%AF%E7%94%B1%E5%91%A2&#34;&gt;å¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼ï¼Œå¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢ï¼Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0&#34;&gt;é—®é¢˜æè¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AF%B9%E5%BA%94%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&#34;&gt;å¯¹åº”çš„è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls-vpn%E6%95%85%E9%9A%9C%E6%8E%92%E6%9F%A5&#34;&gt;MPLS VPNæ•…éšœæ’æŸ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%80mpls-ldp&#34;&gt;å®éªŒä¸€ï¼šMPLS-LDP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8Cr2%E5%92%8Cr4%E5%BB%BA%E7%AB%8B%E8%BF%9C%E7%AB%AFldp%E4%BC%9A%E8%AF%9D&#34;&gt;å®éªŒäºŒï¼šR2å’ŒR4å»ºç«‹è¿œç«¯LDPä¼šè¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89php&#34;&gt;å®éªŒä¸‰ï¼šPHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%9B%9B%E7%A0%94%E7%A9%B6mpls%E8%A7%A3%E5%86%B3bgp%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E%E7%9A%84%E5%8E%9F%E7%90%86&#34;&gt;å®éªŒå››ï¼šç ”ç©¶MPLSè§£å†³BGPè·¯ç”±é»‘æ´çš„åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%94%E5%9F%BA%E6%9C%ACmpls-vpn%E9%83%A8%E7%BD%B2&#34;&gt;å®éªŒäº”ï¼šåŸºæœ¬MPLS VPNéƒ¨ç½²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%ADospf%E6%8E%A5%E5%85%A5mpls-vpn&#34;&gt;å®éªŒå…­ï¼šOSPFæ¥å…¥MPLS VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%83%E9%85%8D%E7%BD%AEospf%E7%9A%84domain-id&#34;&gt;å®éªŒä¸ƒï¼šé…ç½®ospfçš„domain-id&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%AB%E4%B8%89%E7%B1%BBlsa%E9%98%B2%E7%8E%AF%E9%80%86%E5%90%91%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒå…«ï¼šä¸‰ç±»LSAé˜²ç¯é€†å‘å®éªŒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B9%9D%E5%9C%A8r1%E5%92%8Cr4%E4%B9%8B%E9%97%B4%E9%83%A8%E7%BD%B2-sham-link&#34;&gt;å®éªŒä¹ï¼šåœ¨R1å’ŒR4ä¹‹é—´éƒ¨ç½² sham-link&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E6%9C%AC%E5%AE%9E%E9%AA%8C%E6%98%AF%E4%B8%8B%E4%B8%80%E4%B8%AA%E5%AE%9E%E9%AA%8C%E7%9A%84%E9%A2%84%E9%85%8D%E7%BD%AE&#34;&gt;å®éªŒåï¼šé…ç½®è·¯ç”±åå°„å™¨ï¼ˆæœ¬å®éªŒæ˜¯ä¸‹ä¸€ä¸ªå®éªŒçš„é¢„é…ç½®ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B8%80%E4%BD%BF%E7%94%A8vrf-lite%E5%B0%86%E7%94%A8%E6%88%B7%E6%8E%A5%E5%85%A5mpls-vpnhub-spoke&#34;&gt;å®éªŒåä¸€ï¼šä½¿ç”¨VRF-LITEå°†ç”¨æˆ·æ¥å…¥MPLS VPNï¼ˆhub-spokeï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%86%85%E5%AE%B9&#34;&gt;å®éªŒå†…å®¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%87%8D%E7%82%B9&#34;&gt;é‡ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%BA%8Cbgp%E6%8E%A5%E5%85%A5mpls-vpn&#34;&gt;å®éªŒåäºŒï¼šBGPæ¥å…¥MPLS VPN&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B8%89%E5%A6%82%E6%9E%9C%E4%B8%8D%E9%87%87%E7%94%A8%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E6%96%B9%E5%BC%8F%E5%A6%82%E4%BD%95%E4%BC%A0%E9%80%92%E6%98%8E%E7%BB%86%E8%B7%AF%E7%94%B1%E5%91%A2bgp%E6%8E%A5%E5%85%A5mpls-vpn&#34;&gt;å®éªŒåä¸‰ï¼šå¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼ï¼Œå¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢ï¼Ÿï¼ˆBGPæ¥å…¥MPLS VPNï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%BA%E6%99%AF%E4%B8%80&#34;&gt;åœºæ™¯ä¸€ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%BA%E6%99%AF%E4%BA%8C&#34;&gt;åœºæ™¯äºŒï¼š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%BA%E6%99%AF%E4%B8%89&#34;&gt;åœºæ™¯ä¸‰ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9C%BA%E6%99%AF%E5%9B%9B&#34;&gt;åœºæ™¯å››ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E5%9B%9Bvrf%E4%B8%8B%E7%9A%84%E8%B7%AF%E7%94%B1%E6%93%8D%E6%8E%A7%E4%B8%8A%E4%B8%AA%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%9C%BA%E6%99%AF%E4%B8%89&#34;&gt;å®éªŒåå››ï¼šVRFä¸‹çš„è·¯ç”±æ“æ§ï¼ˆä¸Šä¸ªå®ç°çš„åœºæ™¯ä¸‰ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;mplsæ¦‚è¿°&#34;&gt;MPLSæ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;æœ¬èŠ‚è¯¾ä¸»è¦å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹æ¯”ä¼ ç»ŸIPè½¬å‘ä¸MPLSï¼šIPè½¬å‘å›é¡¾ã€MPLSè½¬å‘ç‰¹ç‚¹ã€MPLSåº”ç”¨åœºæ™¯&lt;/li&gt;
&lt;li&gt;MPLSåŸºæœ¬åŸç†ï¼šMPLSåŸºæœ¬æ„æ¶ã€MPLSæ ‡ç­¾æ ¼å¼ã€MPLSè½¬å‘&lt;/li&gt;
&lt;li&gt;LDPåè®®ï¼šå…±æœ‰æ ‡å‡†åè®®  æ ‡ç­¾åˆ†å‘åè®®&lt;/li&gt;
&lt;li&gt;MPLS VPNä½“ç³»æ„æ¶&lt;/li&gt;
&lt;li&gt;MP-BGPåœ¨MPLS VPNä¸­çš„é‡è¦ä½œç”¨&lt;/li&gt;
&lt;li&gt;MPLS VPNè·¯ç”±éš”ç¦»æ¨¡å‹ï¼ˆvrfï¼‰&lt;/li&gt;
&lt;li&gt;MPLS VPNè·¯ç”±åŒºåˆ†åŸç†ï¼ˆRDï¼‰&lt;/li&gt;
&lt;li&gt;MPLS VPNè·¯ç”±ä¼ é€’åŸç†ï¼ˆRTï¼‰&lt;/li&gt;
&lt;li&gt;MPLS VPNæ•°æ®è½¬å‘åŸç†ï¼ˆlabelï¼‰&lt;/li&gt;
&lt;li&gt;MPLS VPNç¯å¢ƒä¸‹çš„è·¯ç”±åå°„å™¨åŠè·¯ç”±åŒºåˆ†å™¨&lt;/li&gt;
&lt;li&gt;åœ¨MPLS VPNç¯å¢ƒä¸­éƒ¨ç½²ä¸åŒoverlayåŠ¨æ€è·¯ç”±åè®®ï¼ˆåŸºç¡€ç†è®ºåŠå®éªŒï¼‰&lt;/li&gt;
&lt;li&gt;backup link ç¯å¢ƒï¼šEIGRPè·¯ç”±è¿˜åŸã€OSPF sham-link&lt;/li&gt;
&lt;li&gt;å¤šå®¿ä¸»ç¯å¢ƒï¼šEIGRP SOOã€BGP SOO&lt;/li&gt;
&lt;li&gt;vrf-liteç¯å¢ƒä¸‹çš„OSPF&lt;/li&gt;
&lt;li&gt;BGP as-override&lt;/li&gt;
&lt;li&gt;BGP allowas-in&lt;/li&gt;
&lt;li&gt;æ§åˆ¶MPLS VPNä¸­çš„è·¯ç”±æ›´æ–°ï¼šé€šè¿‡RTã€vrfæ¡ä»¶æ€§è·¯ç”±æ§åˆ¶&lt;/li&gt;
&lt;li&gt;MPLS VPNæ¥å…¥äº’è”ç½‘&lt;/li&gt;
&lt;li&gt;MPLS VPNæ•…éšœæ’æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¼ ç»Ÿipè½¬å‘&#34;&gt;ä¼ ç»ŸIPè½¬å‘&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ ç»Ÿè·¯ç”±å¾ªè§„è¹ˆçŸ©ï¼šæ¯è·³éƒ½æ£€æŸ¥æ˜¯å¦æœ‰å»å¾€ç›®æ ‡çš„ï¼Œå¦‚è‹¥æ²¡åˆ™ä¸¢å¼ƒæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ä¼ ç»ŸIPè½¬å‘åœ¨æµé‡å·¥ç¨‹æ–¹é¢çš„ç¼ºé™·ã€‚ä¼ ç»ŸIPç½‘ç»œåŸºäºIGP Metricè®¡ç®—æœ€ä¼˜è·¯å¾„ï¼Œè¿™æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œå¾€å¾€åœ¨ç°å®ç½‘ç»œä¸­è¿˜éœ€è€ƒè™‘å¸¦å®½ã€é“¾è·¯å±æ€§ç­‰å…¶ä»–å› ç´ ã€‚åŸºäº IP çš„æµé‡å·¥ç¨‹æ˜¯åŸºäº IGP é¢å‘ç›®çš„åœ°å€è½¬å‘ï¼Œæ˜¯hop-by-hopçš„è½¬å‘ï¼Œæ— æ³•å®ç°æ ¹æ®æ¥æºæ§åˆ¶æµé‡è½¬å‘ã€‚å¦å¤–åŸºäºIPçš„æµé‡å·¥ç¨‹æ˜¯é¢å‘æ— è¿æ¥çš„ï¼Œä¸èƒ½å®ç°æ˜¾å¼è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsçŸ¥è¯†ç‚¹&#34;&gt;MPLSçŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;MPLSèƒ½å¤Ÿæé«˜è½¬å‘æ•ˆç‡ï¼Œä½†åŒæ—¶å®ƒå°†æ¶ˆè€—æ›´å¤šèµ„æº&lt;/li&gt;
&lt;li&gt;MPLSæ›´å¤šçš„æ˜¯è§£å†³äº†æ¯ä¸ªæ•°æ®åŒ…éƒ½è¦è¿›è¡Œå¤´éƒ¨åˆ†ææˆ–è€…è¿ç®—çš„é—®é¢˜ï¼Œä¸å†å¯¹IPæŠ¥æ–‡åšåˆ†æ&lt;/li&gt;
&lt;li&gt;MPLSçš„æ ‡ç­¾æ ˆï¼Œæ¯”IPå¹´è½»ã€æ¯”IPè½»é‡ã€‚MPLSå¹¶ä¸æ˜¯ä¸€ç§ä¸šåŠ¡æˆ–åº”ç”¨ï¼Œä»–å®é™…ä¸Šæ˜¯ä¸€ç§éš§é“æŠ€æœ¯ï¼Œè¿™ç§æŠ€æœ¯ä¸ä»…æ”¯æŒå¤šç§é«˜å±‚åè®®ä¸ä¸šåŠ¡ï¼Œè€Œä¸”åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä¿è¯ä¿¡æ¯ä¼ è¾“çš„å®‰å…¨æ€§&lt;/li&gt;
&lt;li&gt;å¸§æ¨¡å¼MPLS&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597565321121.png&#34; alt=&#34;å¸§æ¨¡å¼MPLS&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MPLSå¸§æ¨¡å¼å°è£…åœ¨2ã€3å±‚ä¹‹é—´ï¼Œä¿¡å…ƒæ¨¡å¼çš„MPLSå·²ç»æ·˜æ±°&lt;/li&gt;
&lt;li&gt;MPLSå¤´&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597565565322.png&#34; alt=&#34;MPLSå¤´&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;MPLSå¤´éƒ¨æ€»é•¿åº¦ä¸º4bytes (32bits)&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾Labelé•¿åº¦20bitsæ ‡ç­¾å€¼åŸŸ&lt;/li&gt;
&lt;li&gt;EXPï¼ˆExperimental Useï¼‰é•¿åº¦3bitsç”¨äºæ‰©å±•ã€‚ç°åœ¨é€šå¸¸ç”¨åšCoSï¼Œå½“è®¾å¤‡é˜»å¡æ—¶ï¼Œä¼˜å…ˆå‘é€ä¼˜å…ˆçº§é«˜çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Sï¼ˆBottom of Stackï¼‰é•¿åº¦1bitæ ˆåº•æ ‡è¯†ã€‚MPLSæ”¯æŒå¤šå±‚æ ‡ç­¾ï¼Œå³æ ‡ç­¾åµŒå¥—ã€‚Så€¼ä¸º1æ—¶è¡¨æ˜ä¸ºæœ€åº•å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;TTLé•¿åº¦8bits å’ŒIPæŠ¥æ–‡ä¸­çš„TTLï¼ˆTime To Liveï¼‰æ„ä¹‰ç›¸åŒ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡ç­¾ç©ºé—´&lt;/strong&gt;ï¼šæŒ‡æ ‡ç­¾çš„å–å€¼èŒƒå›´ã€‚æ ‡ç­¾ç©ºé—´åˆ’åˆ†å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;0ï½15ï¼šç‰¹æ®Šæ ‡ç­¾
&lt;ul&gt;
&lt;li&gt;0ï¼šIPv4 Explicit NULL Labelï¼ˆæ˜¾ç¤ºç©ºæ ‡ç­¾ï¼‰ï¼Œ&lt;strong&gt;è¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡º&lt;/strong&gt;ï¼ˆå³æ ‡ç­¾è¢«å‰¥æ‰ï¼‰ï¼Œä¸”æŠ¥æ–‡çš„è½¬å‘å¿…é¡»åŸºäºIPv4ã€‚å¦‚æœå‡ºèŠ‚ç‚¹åˆ†é…ç»™&lt;strong&gt;å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹çš„æ ‡ç­¾å€¼ä¸º0&lt;/strong&gt;ï¼Œåˆ™å€’æ•°ç¬¬äºŒè·³LSRéœ€è¦&lt;strong&gt;å°†å€¼ä¸º0çš„æ ‡ç­¾æ­£å¸¸å‹å…¥æŠ¥æ–‡æ ‡ç­¾å€¼é¡¶éƒ¨ï¼Œè½¬å‘ç»™æœ€åä¸€è·³&lt;/strong&gt;ã€‚æœ€åä¸€è·³å‘ç°æŠ¥æ–‡æºå¸¦çš„æ ‡ç­¾å€¼ä¸º0ï¼Œåˆ™å°†æ ‡ç­¾å¼¹å‡ºã€‚&lt;/li&gt;
&lt;li&gt;1ï¼šRouter Alert Labelï¼ˆè­¦å‘Šæ ‡ç­¾ï¼‰ï¼Œåªæœ‰å‡ºç°åœ¨éæ ˆåº•æ—¶æ‰æœ‰æ•ˆã€‚ç±»ä¼¼äºIPæŠ¥æ–‡çš„â€œRouter Alert Optionâ€å­—æ®µï¼ŒèŠ‚ç‚¹æ”¶åˆ°Router Alert Labelæ—¶ï¼Œéœ€è¦å°†å…¶é€å¾€æœ¬åœ°è½¯ä»¶æ¨¡å—è¿›ä¸€æ­¥å¤„ç†ã€‚å®é™…æŠ¥æ–‡è½¬å‘ç”±ä¸‹ä¸€å±‚æ ‡ç­¾å†³å®šã€‚å¦‚æœæŠ¥æ–‡éœ€è¦ç»§ç»­è½¬å‘ï¼Œåˆ™èŠ‚ç‚¹éœ€è¦å°†Router Alert Labelå‹å›æ ‡ç­¾æ ˆé¡¶ã€‚&lt;/li&gt;
&lt;li&gt;2ï¼šIPv6 Explicit NULL Labelï¼ˆæ˜¾ç¤ºç©ºæ ‡ç­¾ï¼‰ï¼Œè¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡ºï¼Œä¸”æŠ¥æ–‡çš„è½¬å‘å¿…é¡»åŸºäºIPv6ã€‚å¦‚æœå‡ºèŠ‚ç‚¹åˆ†é…ç»™å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹çš„æ ‡ç­¾å€¼ä¸º2ï¼Œåˆ™å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹éœ€è¦å°†å€¼ä¸º2çš„æ ‡ç­¾æ­£å¸¸å‹å…¥æŠ¥æ–‡æ ‡ç­¾å€¼é¡¶éƒ¨ï¼Œè½¬å‘ç»™æœ€åä¸€è·³ã€‚æœ€åä¸€è·³å‘ç°æŠ¥æ–‡æºå¸¦çš„æ ‡ç­¾å€¼ä¸º2ï¼Œåˆ™ç›´æ¥å°†æ ‡ç­¾å¼¹å‡ºã€‚&lt;/li&gt;
&lt;li&gt;3ï¼šImplicit NULL Labelï¼ˆéšå¼ç©ºæ ‡ç­¾ï¼‰ï¼Œå€’æ•°&lt;strong&gt;ç¬¬äºŒè·³LSRè¿›è¡Œæ ‡ç­¾äº¤æ¢&lt;/strong&gt;æ—¶ï¼Œå¦‚æœå‘ç°äº¤æ¢åçš„æ ‡ç­¾å€¼ä¸º3ï¼Œåˆ™&lt;strong&gt;å°†æ ‡ç­¾å¼¹å‡º&lt;/strong&gt;ï¼Œ&lt;strong&gt;å¹¶å°†æŠ¥æ–‡å‘ç»™æœ€åä¸€è·³&lt;/strong&gt;ã€‚æœ€åä¸€è·³æ”¶åˆ°è¯¥æŠ¥æ–‡ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;4ï½13ï¼šä¿ç•™&lt;/li&gt;
&lt;li&gt;14ï¼šOAM Router Alert Labelï¼ˆMPLSçš„æ“ä½œç®¡ç†ï¼‰ï¼ŒMPLS OAMé€šè¿‡å‘é€OAMæŠ¥æ–‡æ£€æµ‹å’Œé€šå‘ŠLSPæ•…éšœã€‚OAMæŠ¥æ–‡ä½¿ç”¨MPLSæ‰¿è½½ã€‚OAMæŠ¥æ–‡å¯¹äºTransit LSRå’Œå€’æ•°ç¬¬äºŒè·³LSRæ˜¯é€æ˜çš„ã€‚&lt;/li&gt;
&lt;li&gt;15ï¼šä¿ç•™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;16ï½1023ï¼šé™æ€LSPå’Œé™æ€CR-LSPå…±äº«çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;li&gt;1024åŠä»¥ä¸Šï¼šLDPã€RSVP-TEã€MP-BGPç­‰åŠ¨æ€ä¿¡ä»¤åè®®çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾å¯ä»¥ç”±å¤šç§æ–¹æ³•äº§ç”Ÿï¼šLDPã€MP-BGPã€‚æ ‡ç­¾äº§ç”Ÿçš„ä¾æ®æ˜¯è·¯ç”±ï¼Œä¸ºè·¯ç”±åˆ†é…æ ‡ç­¾ï¼ˆTCP/IPç¯å¢ƒä¸­ï¼‰&lt;/li&gt;
&lt;li&gt;å…¥ç«™LSRä¸Šæœ‰è·¯ç”±è¡¨ï¼ˆRiBï¼‰ï¼Œä½†å…¶å®ä¼šè¢«æ‹·è´ä¸ºè½¬å‘ä¿¡æ¯åº“ï¼ˆFiBï¼‰ã€æ ‡ç­¾ä¿¡æ¯åº“ï¼ˆLiBï¼‰ï¼Œé€’å½’ä¸ºæ ‡ç­¾è½¬å‘ä¿¡æ¯åº“ï¼ˆLFibï¼‰ï¼Œæ ‡ç­¾ä¿¡æ¯åº“å­˜å‚¨çš„æ˜¯æ ‡ç­¾ï¼Œå®é™…ä¸Šï¼Œå¯ä»¥å°†å…¶ç†è§£ä¸ºæ ‡ç­¾ä¸è·¯ç”±çš„æ˜ å°„&lt;/li&gt;
&lt;li&gt;ä¸€æ—¦å¼€å¯äº†LDPï¼Œå®ƒä¼šè‡ªåŠ¨çš„ä¸ºæ¯ä¸ªè·¯ç”±åˆ†é…æ ‡ç­¾å€¼ï¼Œè·¯ç”±åè®®æŠŠè·¯ç”±æ›´æ–°ç»™é‚»å±…ï¼ŒLDPæŠŠæ ‡ç­¾å’Œè·¯ç”±çš„æ˜ å°„ä¿¡æ¯æ›´æ–°ç»™é‚»å±…&lt;code&gt;LDPä¸ºIGPè·¯ç”±åˆ†é…æ ‡ç­¾&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;LDPæ ‡ç­¾å€¼ï¼Œéµå¾ª ç‹¬ç«‹ã€è‡ªä¸»ã€è‡ªç”±çš„åŸåˆ™ã€‚æ¯å°è®¾å¤‡ç‹¬ç«‹åˆ†é…æ ‡ç­¾ï¼Œæ¯å°è®¾å¤‡è‡ªä¸»åˆ†å‘æ ‡ç­¾ï¼Œæ¯å°è®¾å¤‡è‡ªç”±é€‰æ‹©æ ‡ç­¾ä¿ç•™æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾è¡Œä¸ºæ€»ç»“ï¼š
&lt;ol&gt;
&lt;li&gt;å‹å…¥æ ‡ç­¾push&lt;/li&gt;
&lt;li&gt;äº¤æ¢æ ‡ç­¾swap&lt;/li&gt;
&lt;li&gt;å¼¹å‡ºæ ‡ç­¾popï¼ˆremoveï¼Œéšå¼ç©ºæ ‡ç­¾ï¼‰&lt;/li&gt;
&lt;li&gt;UNTAG/No label(æ²¡æœ‰æ ‡ç­¾)å‡ºç°é—®é¢˜ï¼Œåœ¨MPLS VPNçš„ç¯å¢ƒä¸­åªèƒ½ä¸¢å¼ƒæŠ¥æ–‡&lt;code&gt;å…³äºæ ‡ç­¾æ–­è£‚ï¼šæ‰€æœ‰çš„ç¯å›å£é…ç½®32ä½ä¸»æœºè·¯ç”±ï¼Œæ ¸å¿ƒç½‘ä¸è®¸æ±‡æ€»&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Aggregateï¼ˆèšåˆï¼‰ï¼ŒæŠŠæŠ¥æ–‡æ‹¿æ‰MPLSä¹‹åè½¬å‘ç»™ä¸€ä¸ªvpn-instanceæ¥å£&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;åˆ†å‘æ ‡ç­¾çš„åè®®ï¼š
&lt;ol&gt;
&lt;li&gt;LDPï¼ˆæ ‡ç­¾åˆ†å‘åè®®ï¼‰ï¼›æ€ç§‘ç§æœ‰çš„æœ‰TDPï¼ŒSRï¼ˆsegment routingï¼‰&lt;/li&gt;
&lt;li&gt;RSVPï¼ˆèµ„æºé¢„ç•™åè®®ï¼‰&lt;/li&gt;
&lt;li&gt;MP-BGPï¼ˆå¤šåè®®BGPï¼‰ï¼Œæ¥åˆ†å‘æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;é™æ€çš„æ–¹å¼åˆ†å‘æ ‡ç­¾&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;MPLSé‡è¦ç†å¿µï¼šè½¬æ§åˆ†ç¦»
&lt;ol&gt;
&lt;li&gt;æ§åˆ¶å±‚é¢ï¼šè·¯ç”±åè®®ã€æ ‡ç­¾çš„åˆ†å‘åè®®&lt;/li&gt;
&lt;li&gt;è½¬å‘å±‚é¢ï¼šFIBï¼ˆè½¬å‘ä¿¡æ¯åº“ï¼‰ã€LFIBï¼ˆæ ‡ç­¾è½¬å‘ä¿¡æ¯åº“ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœ¯è¯­
&lt;ol&gt;
&lt;li&gt;CEï¼šå®¢æˆ·è¾¹ç•Œè®¾å¤‡ã€‚CE(Customer Edge)ï¼Œç”¨æˆ·è¾¹ç¼˜è®¾å¤‡ï¼ŒæœåŠ¡æä¾›å•†æ‰€è¿æ¥çš„ç”¨æˆ·ç«¯è·¯ç”±å™¨ã€‚CEè·¯ç”±å™¨é€šè¿‡è¿æ¥ä¸€ä¸ªæˆ–å¤šä¸ªPEè·¯ç”±å™¨ï¼Œä¸ºç”¨æˆ·æä¾›æœåŠ¡æ¥å…¥ã€‚CEè·¯ç”±å™¨é€šå¸¸æ˜¯ä¸€å°IPè·¯ç”±å™¨ï¼Œå®ƒä¸è¿æ¥çš„PEè·¯ç”±å™¨å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;code&gt;é€šå¸¸å°±æ˜¯ä¼ ç»Ÿæ“ä½œ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;PEï¼šè¿è¥å•†è¾¹ç•Œè®¾å¤‡ã€‚PE(Provider Edge)ï¼Œå³Provideçš„è¾¹ç¼˜è®¾å¤‡ï¼ŒæœåŠ¡æä¾›å•†éª¨å¹²ç½‘çš„è¾¹ç¼˜è·¯ç”±å™¨ï¼Œå®ƒç›¸å½“äºæ ‡ç­¾è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆLERï¼‰ã€‚PEè·¯ç”±å™¨è¿æ¥CEè·¯ç”±å™¨å’ŒPè·¯ç”±å™¨ï¼Œæ˜¯æœ€é‡è¦çš„ç½‘ç»œèŠ‚ç‚¹ã€‚ç”¨æˆ·çš„æµé‡é€šè¿‡PEè·¯ç”±å™¨æµå…¥ç”¨æˆ·ç½‘ç»œï¼Œæˆ–è€…é€šè¿‡PEè·¯ç”±å™¨æµåˆ°MPLSéª¨å¹²ç½‘ã€‚&lt;code&gt;é€šå¸¸ä¼šä¸ºæ¯ä¸ªä¸CEç›¸è¿çš„éƒ¨åˆ†åšå‡ºç‰¹æ®Šå¤„ç†&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Pï¼šè¿è¥å•†å†…éƒ¨çš„è®¾å¤‡ã€‚ä»…ä»…è´Ÿè´£å¸®åŠ©è½¬å‘æ•°æ®ã€‚P(Provider)ï¼Œæ˜¯æ ¸å¿ƒå±‚è®¾å¤‡ï¼Œæä¾›å•†è·¯ç”±å™¨ï¼ŒæœåŠ¡æä¾›å•†æ˜¯ä¸è¿æ¥ä»»ä½•CEè·¯ç”±å™¨çš„éª¨å¹²ç½‘è·¯ç”±è®¾å¤‡ï¼Œå®ƒç›¸å½“äºæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨ï¼ˆLSRï¼‰&lt;/li&gt;
&lt;li&gt;LSRï¼šæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;LERï¼šæ ‡ç­¾è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆPEï¼‰&lt;/li&gt;
&lt;li&gt;CPEï¼šä¸‰å·¨å¤´ä¸­ä¸¤ä¸ªäº’è”ï¼Œä¸ºåŒä¸€ä¸ªå®¢æˆ·æœåŠ¡&lt;/li&gt;
&lt;li&gt;MCEï¼šMCEåŠŸèƒ½æ˜¯Multi-CEçš„ç®€ç§°ï¼Œå…·æœ‰MCEåŠŸèƒ½çš„äº¤æ¢æœºå¯ä»¥åœ¨BGP/MPLS VPNç»„ç½‘åº”ç”¨ä¸­æ‰¿æ‹…å¤šä¸ªVPNå®ä¾‹çš„CEåŠŸèƒ½ï¼Œå‡å°‘ç”¨æˆ·ç½‘ç»œè®¾å¤‡çš„æŠ•å…¥&lt;/li&gt;
&lt;li&gt;vrfï¼ˆåä¸ºç§°vpn instanceï¼‰ï¼š&lt;strong&gt;åœ¨PEè®¾å¤‡ä¸Šèµ·åˆ°éš”ç¦»ä½œç”¨&lt;/strong&gt;ï¼Œæ¯ä¸€ä¸ªvrfæä¾›ä¸€ä¸ªç‹¬ç«‹çš„è·¯ç”±è¡¨ï¼ŒåŒæ—¶ç”šè‡³èƒ½å¤Ÿæä¾›ç‹¬ç«‹çš„è·¯ç”±åè®®è¿›ç¨‹ã€‚ç”¨ä¸€ä¸ªPEä¸ºå¤šä¸ªç”¨æˆ·æä¾›æœåŠ¡,é€šè¿‡VRFå®ä¾‹å°†è¿æ¥åˆ°åŒä¸€å°PEä¸Šçš„ä¸åŒå®¢æˆ·éš”ç¦»å¼€æ¥&lt;/li&gt;
&lt;li&gt;LSPï¼šæ ‡ç­¾äº¤æ¢é€šé“ï¼ŒLSPæ˜¯ä¸€ä¸ªå•å‘é€šé“ï¼Œä¸æ•°æ®æµçš„æ–¹å‘ä¸€è‡´&lt;/li&gt;
&lt;li&gt;FIBï¼šè½¬å‘ä¿¡æ¯åº“ï¼Œæ¥è‡ªè·¯ç”±è¡¨æ‹·è´&lt;/li&gt;
&lt;li&gt;LIBï¼šæ ‡ç­¾ä¿¡æ¯åº“ï¼Œç”±æ ‡ç­¾åè®®æ ¹æ®è·¯ç”±äº§ç”Ÿçš„&lt;strong&gt;æ ‡ç­¾å’Œè·¯ç”±çš„å¯¹åº”å…³ç³»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;LFIBï¼šæ ‡ç­¾è½¬å‘ä¿¡æ¯åº“ï¼ŒæŠŠFIBå’ŒLIBä¸¤è€…ç»“åˆåœ¨ä¸€èµ·&lt;/li&gt;
&lt;li&gt;FECï¼šè½¬å‘ç­‰ä»·ç±»ã€‚MPLSå°†&lt;strong&gt;å…·æœ‰ç›¸åŒç‰¹å¾çš„æŠ¥æ–‡&lt;/strong&gt;å½’ä¸ºä¸€ç±»ï¼Œç§°ä¸ºè½¬å‘ç­‰ä»·ç±»FECï¼Œå±äºç›¸åŒFECçš„æŠ¥æ–‡åœ¨è½¬å‘è¿‡ç¨‹ä¸­è¢«LSRä»¥ç›¸åŒæ–¹å¼å¤„ç†ã€‚FECå¯ä»¥æ ¹æ®&lt;strong&gt;æºåœ°å€ã€ç›®çš„åœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€VPNã€éš§é“ã€COSç­‰è¦ç´ &lt;/strong&gt;è¿›è¡Œåˆ’åˆ†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿçš„é‡‡ç”¨æœ€é•¿åŒ¹é…ç®—æ³•çš„IPè½¬å‘ä¸­ï¼Œåˆ°åŒä¸€æ¡è·¯ç”±çš„æ‰€æœ‰æŠ¥æ–‡å°±æ˜¯ä¸€ä¸ªè½¬å‘ç­‰ä»·ç±»
&lt;ul&gt;
&lt;li&gt;ä¸€ç»„æˆ–è€…ä¸€ç³»åˆ—æ²¿ç€ç›¸åŒè·¯å¾„è½¬å‘çš„ï¼Œä¸”éƒ½æŒ‰ç…§ç›¸åŒçš„è§„åˆ™æ‰§è¡Œçš„æ•°æ®æµ&lt;/li&gt;
&lt;li&gt;ç›¸åŒçš„è½¬å‘æ–¹å¼ã€ç›¸åŒçš„è½¬å‘è·¯å¾„LSPã€ç›¸åŒçš„è½¬å‘å¾…é‡&lt;/li&gt;
&lt;li&gt;åŒå±ä¸€ä¸ªFECçš„æŠ¥æ–‡æ‹¥æœ‰ç›¸åŒçš„æ ‡ç­¾ï¼Œæ‹¥æœ‰ç›¸åŒæ ‡ç­¾çš„æŠ¥æ–‡ä¸ä¸€å®šåŒå±ä¸€ä¸ªFECï¼Œç”±å…¥ç«™LSRå†³å®šæŠ¥æ–‡å±äºå“ªä¸€ä¸ªFEC&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§ç±»&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å±äºæŸç‰¹å®šç»„çš„ç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;ç›®çš„IPåœ°å€åŒ¹é…äº†æŸä¸€ä¸ªç‰¹å®šå‰ç¼€çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ ¹æ®DCSPå­—æ®µï¼Œæœ‰ç›¸åŒçš„QoSç­–ç•¥çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;MPLS VPNä¸­ï¼Œå±äºåŒä¸€ä¸ªVPNçš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡çš„ç›®çš„IPåœ°å€æ•°æ®BGPå­¦ä¹ åˆ°çš„è·¯ç”±ï¼Œå¹¶ä¸”è¯¥è·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NHLFEï¼šä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨é¡¹ï¼Œç”¨äºæŒ‡å¯¼MPLSæŠ¥æ–‡çš„è½¬å‘ï¼ŒåŒ…æ‹¬Tunnel IDã€å‡ºæ¥å£ã€ä¸‹ä¸€è·³ã€å‡ºæ ‡ç­¾ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚FECåˆ°ä¸€ç»„NHLFEçš„æ˜ å°„ç§°ä¸ºFTNï¼ˆFEC-to-NHLFEï¼‰ï¼Œé€šè¿‡æŸ¥çœ‹FIBè¡¨ä¸­Tunnel IDå€¼ä¸ä¸º0x0çš„è¡¨é¡¹ï¼Œèƒ½å¤Ÿè·å¾—FTNçš„è¯¦ç»†ä¿¡æ¯ï¼ŒFTNåªåœ¨Ingresså­˜åœ¨&lt;/li&gt;
&lt;li&gt;Tunnel IDï¼šä¸ºäº†ç»™ä½¿ç”¨éš§é“çš„ä¸Šå±‚åº”ç”¨ï¼ˆå¦‚VPNã€è·¯ç”±ç®¡ç†ï¼‰æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œç³»ç»Ÿè‡ªåŠ¨ä¸ºéš§é“åˆ†é…äº†ä¸€ä¸ªIDï¼Œä¹Ÿç§°ä¸ºTunnel IDã€‚è¯¥Tunnel IDçš„é•¿åº¦ä¸º32æ¯”ç‰¹ï¼Œåªæ˜¯æœ¬åœ°æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;ILMï¼šå…¥æ ‡ç­¾åˆ°ä¸€ç»„ä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨é¡¹çš„æ˜ å°„ç§°ä¸ºå…¥æ ‡ç­¾æ˜ å°„ILMï¼ŒILMåŒ…æ‹¬Tunnel IDã€å…¥æ ‡ç­¾ã€å…¥æ¥å£ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚ILMåœ¨TransitèŠ‚ç‚¹çš„ä½œç”¨æ˜¯å°†æ ‡ç­¾å’ŒNHLFEç»‘å®šã€‚é€šè¿‡æ ‡ç­¾ç´¢å¼•ILMè¡¨ï¼Œå°±ç›¸å½“äºä½¿ç”¨ç›®çš„IPåœ°å€æŸ¥è¯¢FIBï¼Œèƒ½å¤Ÿå¾—åˆ°æ‰€æœ‰çš„æ ‡ç­¾è½¬å‘ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;mplsé‡ç‚¹&#34;&gt;MPLSé‡ç‚¹&lt;/h1&gt;
&lt;h2 id=&#34;mplsæŠ¥æ–‡è½¬å‘&#34;&gt;MPLSæŠ¥æ–‡è½¬å‘&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä»CEåˆ°Ingress PE&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597587418563.png&#34; alt=&#34;ä»CEåˆ°Ingress PE&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;CEå°†æŠ¥æ–‡å‘ç»™å…¶ç›¸è¿çš„VRFæ¥å£ï¼ŒPEåœ¨æœ¬VRFçš„è·¯ç”±è¡¨ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¾—åˆ°äº†è¯¥è·¯ç”±çš„&lt;strong&gt;å…¬ç½‘ä¸‹ä¸€è·³åœ°å€&lt;/strong&gt;å’Œ&lt;strong&gt;ç§ç½‘æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å†æŠŠè¯¥æŠ¥æ–‡å°è£…ä¸€å±‚ç§ç½‘æ ‡ç­¾åï¼Œåœ¨&lt;strong&gt;å…¬ç½‘çš„æ ‡ç­¾è½¬å‘è¡¨ä¸­æŸ¥æ‰¾ä¸‹ä¸€è·³åœ°å€&lt;/strong&gt;ï¼Œåœ¨&lt;strong&gt;å°è£…ä¸€å±‚å…¬ç½‘æ ‡ç­¾&lt;/strong&gt;åï¼Œäº¤äºˆMPLSè½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Ingress PE--&amp;gt;Egress PE--&amp;gt;CE&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597590091682.png&#34; alt=&#34;ä»Ingress PEåˆ°CE&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;è¯¥æŠ¥æ–‡åœ¨å…¬ç½‘ä¸Šæ²¿ç€LSPè½¬å‘ï¼Œå¹¶æ ¹æ®é€”å¾„çš„æ¯ä¸€å°è®¾å¤‡çš„æ ‡ç­¾è½¬å‘è¡¨è¿›è¡Œæ ‡ç­¾äº¤æ¢&lt;/li&gt;
&lt;li&gt;åœ¨&lt;strong&gt;å€’æ•°ç¬¬äºŒè·³&lt;/strong&gt;å¤„ï¼Œå°†&lt;strong&gt;å¤–å±‚çš„å…¬ç½‘æ ‡ç­¾å¼¹å‡º&lt;/strong&gt;ï¼Œäº¤ç»™ç›®çš„çš„PEè®¾å¤‡&lt;/li&gt;
&lt;li&gt;PEè®¾å¤‡æ ¹æ®&lt;strong&gt;å†…å±‚çš„ç§ç½‘æ ‡ç­¾åˆ¤æ–­è¯¥æŠ¥æ–‡å±äºå“ªä¸€ä¸ªVRF&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼¹å‡ºå†…å±‚ç§ç½‘æ ‡ç­¾&lt;/strong&gt;ï¼Œåœ¨ç›®çš„VRFä¸­æŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œæ ¹æ®ä¸‹ä¸€è·³&lt;strong&gt;å‘ç»™ç›¸åº”çš„CE&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsä½“ç³»ç»“æ„&#34;&gt;MPLSä½“ç³»ç»“æ„&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;MPLSç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597620255352.png&#34; alt=&#34;MPLSç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MPLS VPNä¸­çš„æ•°æ®è½¬å‘æ¨¡å‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPæŠ¥æ–‡å…¥ç«™ï¼Œé€šè¿‡&lt;strong&gt;è·¯ç”±è¡¨&lt;/strong&gt;åšè½¬å‘å†³ç­–ï¼Œå‡ºæ–¹å‘çš„è·¯ç”±ä¸Š&lt;strong&gt;æœ‰æ ‡ç­¾è½¬å‘ä¿¡æ¯&lt;/strong&gt;ï¼Œåˆ™å¯ä»¥&lt;strong&gt;é€‰æ‹©å‹å…¥æ ‡ç­¾&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾æŠ¥æ–‡å…¥ç«™ï¼Œé€šè¿‡&lt;strong&gt;æ ‡ç­¾è½¬å‘è¡¨&lt;/strong&gt;åšå‡ºè½¬å‘å†³ç­–ï¼Œå‡ºæ–¹å‘å¦‚æœ&lt;strong&gt;æœ‰æ ‡ç­¾åˆ™æ‰§è¡Œæ ‡ç­¾äº¤æ¢&lt;/strong&gt;ï¼Œç„¶åè½¬å‘ï¼Œå¦‚æœå‡ºæ–¹å‘&lt;strong&gt;æ²¡æœ‰æ ‡ç­¾&lt;/strong&gt;ï¼Œåˆ™&lt;strong&gt;ç§»é™¤æ ‡ç­¾ç„¶åè·¯ç”±è½¬å‘&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;MPLSä½“ç³»ç»“æ„&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597619000162.png&#34; alt=&#34;MPLSä½“ç³»ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ§åˆ¶å¹³é¢&#34;&gt;æ§åˆ¶å¹³é¢&lt;/h3&gt;
&lt;p&gt;è´Ÿè´£äº§ç”Ÿå’Œç»´æŠ¤è·¯ç”±ä¿¡æ¯ä»¥åŠæ ‡ç­¾ä¿¡æ¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è·¯ç”±ä¿¡æ¯è¡¨RIBï¼šç”±IPè·¯ç”±åè®®ç”Ÿæˆï¼Œç”¨äºé€‰æ‹©è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åˆ†å‘åè®®ï¼šè´Ÿè´£æ ‡ç­¾çš„åˆ†é…ï¼Œæ ‡ç­¾è½¬å‘ä¿¡æ¯è¡¨çš„å»ºç«‹ï¼Œæ ‡ç­¾äº¤æ¢è·¯å¾„çš„å»ºç«‹ã€æ‹†é™¤ç­‰å·¥ä½œ&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾ä¿¡æ¯è¡¨LIBï¼šç”±æ ‡ç­¾åˆ†å‘åè®®ç”Ÿæˆï¼Œç”¨äºç®¡ç†æ ‡ç­¾ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è½¬å‘å¹³é¢&#34;&gt;è½¬å‘å¹³é¢&lt;/h3&gt;
&lt;p&gt;å³æ•°æ®å¹³é¢ï¼Œè´Ÿè´£æ™®é€šIPæŠ¥æ–‡çš„è½¬å‘ä»¥åŠå¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è½¬å‘ä¿¡æ¯è¡¨FIBï¼šä»RIBæå–å¿…è¦çš„è·¯ç”±ä¿¡æ¯ç”Ÿæˆï¼Œè´Ÿè´£æ™®é€šIPæŠ¥æ–‡çš„è½¬å‘&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾è½¬å‘ä¿¡æ¯è¡¨LFIBï¼šç®€ç§°æ ‡ç­¾è½¬å‘è¡¨ï¼Œç”±æ ‡ç­¾åˆ†å‘åè®®åœ¨LSRä¸Šå»ºç«‹LFIBï¼Œè´Ÿè´£å¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsæ ‡ç­¾åµŒå¥—&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å†…å±‚æ ‡ç­¾ï¼ˆæ ˆåº•æ ‡ç­¾ï¼‰&lt;/strong&gt;ï¼šé è¿‘ç”¨æˆ·æ•°æ®ï¼ŒMP-BGPåˆ†é…&lt;br&gt;
&lt;strong&gt;å¤–å±‚æ ‡ç­¾&lt;/strong&gt;ï¼šé è¿‘äºŒå±‚å¤´ï¼ŒLDPåˆ†é…ï¼Œä½œä¸ºMP-BGPè·¯ç”±çš„ä¸‹ä¸€è·³åœ°å€&lt;br&gt;
&lt;code&gt;ä¸€èˆ¬æƒ…å†µä¸º2å±‚ï¼Œè·¨åŸŸçš„ä¸€èˆ¬3å±‚æ ‡ç­¾ï¼ŒCSCæ¶æ„ä¸€èˆ¬4å±‚æ ‡ç­¾&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597620314374.png&#34; alt=&#34;MPLSæ ‡ç­¾åµŒå¥—&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PIDæ ‡è¯†äºŒå±‚å¤´éƒ¨åé¢çš„æŠ¥æ–‡ç±»å‹
&lt;ul&gt;
&lt;li&gt;Ethernet
&lt;ul&gt;
&lt;li&gt;0x0800 IPv4&lt;/li&gt;
&lt;li&gt;0x8847 MPLSå•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8848 MPLSå¤šæ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PPP
&lt;ul&gt;
&lt;li&gt;0x8021 IPv4&lt;/li&gt;
&lt;li&gt;0x8281 MPLSå•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8283 MPLSå¤šæ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Sæ ‡è¯†æ˜¯å¦æ˜¯æ ˆåº•æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åµŒå¥—åº”ç”¨
&lt;ul&gt;
&lt;li&gt;MPLS VPN&lt;/li&gt;
&lt;li&gt;MPLS TE&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±ä¼ é€’å’Œæ•°æ®è½¬å‘&#34;&gt;è·¯ç”±ä¼ é€’å’Œæ•°æ®è½¬å‘&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597660879038.png&#34; alt=&#34;è·¯ç”±ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;MP-BGPè·¨è¶Šæ ¸å¿ƒç½‘ç»œä¼ é€’å®¢æˆ·è·¯ç”±ï¼Œä¸­é—´å­˜åœ¨è·¯ç”±é»‘æ´ï¼Œè·¯ç”±çš„ä¸‹ä¸€è·³æ˜¯PEè®¾å¤‡çš„ç¯å›å£&lt;/li&gt;
&lt;li&gt;VPNè·¯ç”±åœ¨PEè®¾å¤‡ä¸Šäº§ç”Ÿï¼ŒPEï¼ˆPE1ï¼‰è®¾å¤‡é€šè¿‡MP-BGPä¸ºVPNè·¯ç”±åˆ†é…ä¸€ä¸ªæ ‡ç­¾ï¼ˆå†…å±‚ï¼‰ï¼Œè¯¥æ ‡ç­¾éšç€VPNè·¯ç”±è¢«MP-BGPä¼ é€’è‡³è¿œç«¯å¯¹ç­‰ä½“ï¼ˆPE2ï¼‰&lt;/li&gt;
&lt;li&gt;PE2ä¸Šå°±æœ‰è¿œç«¯ç«™ç‚¹çš„è·¯ç”±å’Œæ ‡ç­¾ï¼Œé€šè¿‡LDPåè®®ä¸ºMP-BGPï¼ˆVPNï¼‰è·¯ç”±çš„ä¸‹ä¸€è·³åˆ†é…å¤–å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æ•°æ®ä»å®¢æˆ·å§‹å‘ï¼Œç”±CE2è½¬å‘åˆ°PE2&lt;/li&gt;
&lt;li&gt;PE2æŸ¥æ‰¾vrfè·¯ç”±è¡¨ï¼Œå‹å…¥å†…å±‚æ ‡ç­¾ï¼ŒæŸ¥æ‰¾å…¨å±€è·¯ç”±è¡¨ï¼Œå‹å…¥å¤–å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾æŠ¥æ–‡æ²¿ç€æ ¸å¿ƒç½‘ï¼ˆcore networkï¼‰è½¬å‘ï¼Œé€è·³äº¤æ¢å¤–å±‚æ ‡ç­¾ï¼Œå¤–å±‚æ ‡ç­¾æ¬¡æœ«è·³å¼¹å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®æ–½mpls-vpnçš„åŸºæœ¬æ­¥éª¤&#34;&gt;å®æ–½MPLS VPNçš„åŸºæœ¬æ­¥éª¤&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;MPLS Core/Core network/æ ¸å¿ƒç½‘ çš„IGP&lt;/li&gt;
&lt;li&gt;Core networkçš„LDP&lt;/li&gt;
&lt;li&gt;PEä¹‹é—´éƒ¨ç½²MP-BGPï¼Œå®æ–½VPNv4&lt;/li&gt;
&lt;li&gt;åœ¨PEè®¾å¤‡ä¸Šéƒ¨ç½²VRF/VPN-instance&lt;/li&gt;
&lt;li&gt;åœ¨PE-CEä¹‹é—´éƒ¨ç½²è·¯ç”±äº¤äº’&lt;/li&gt;
&lt;li&gt;å°†vrfçš„è·¯ç”±ä¸MP-BGPåŒå‘é‡åˆ†å¸ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ldp&#34;&gt;LDP&lt;/h1&gt;
&lt;h2 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;LDPæ˜¯ç”¨æ¥åœ¨LSRä¹‹é—´å»ºç«‹LDPä¼šè¯å¹¶äº¤æ¢Label/FECæ˜ å°„ä¿¡æ¯çš„åè®®&lt;/li&gt;
&lt;li&gt;LDP
&lt;ul&gt;
&lt;li&gt;ç”¨UDPå‘ç°é‚»å±…ï¼šç»„æ’­ï¼ˆ&lt;strong&gt;224.0.0.2&lt;/strong&gt;ï¼‰åœ¨é“¾è·¯ä¸Šå‘é€helloæŠ¥æ–‡ï¼Œ&lt;strong&gt;ç›®æ ‡ç«¯å£646&lt;/strong&gt;ï¼Œé€šå‘Šä¼ è¾“åœ°å€&lt;/li&gt;
&lt;li&gt;ç”¨TCPå»ºç«‹é‚»å±…ï¼šç›®æ ‡ç«¯å£646&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ldpæ¶ˆæ¯&#34;&gt;LDPæ¶ˆæ¯&lt;/h2&gt;
&lt;h3 id=&#34;ç±»å‹&#34;&gt;ç±»å‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597668635041.png&#34; alt=&#34;LDPæ¶ˆæ¯ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Discovery messageï¼šå®£å‘Šå’Œç»´æŠ¤ç½‘ç»œä¸­ä¸€ä¸ªLSRçš„å­˜åœ¨&lt;/li&gt;
&lt;li&gt;Session messageï¼šå»ºç«‹ã€ç»´æŠ¤å’Œç»ˆæ­¢LDPé‚»å±…ä¹‹é—´çš„LDPä¼šè¯&lt;/li&gt;
&lt;li&gt;Advertisement messageï¼šç”Ÿæˆã€æ”¹å˜å’Œåˆ é™¤FECçš„æ ‡ç­¾æ˜ å°„&lt;/li&gt;
&lt;li&gt;Notification messageï¼šå®£å‘Šå‘Šè­¦å’Œé”™è¯¯ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä½œç”¨&#34;&gt;ä½œç”¨&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597668992707.png&#34; alt=&#34; LDPæ¶ˆæ¯ä½œç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å¤´éƒ¨æ ¼å¼ç±»å‹&#34;&gt;å¤´éƒ¨æ ¼å¼ç±»å‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671143763.png&#34; alt=&#34;æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671149312.png&#34; alt=&#34;å­—æ®µå«ä¹‰&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ldpå‘ç°æœºåˆ¶&#34;&gt;LDPå‘ç°æœºåˆ¶&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;LDPåŸºæœ¬å‘ç°æœºåˆ¶&lt;br&gt;
å‘ç°ç›´æ¥è¿æ¥åœ¨åŒä¸€é“¾è·¯ä¸Šçš„LSRé‚»å±…&lt;/li&gt;
&lt;li&gt;LDPæ‰©å±•å‘ç°æœºåˆ¶&lt;br&gt;
å‘ç°éç›´è¿çš„LSRé‚»å±…ï¼Œå³è·¨è¶Šè®¾å¤‡çš„LDPä¼šè¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ldpä¼šè¯å»ºç«‹è¿‡ç¨‹&#34;&gt;LDPä¼šè¯å»ºç«‹è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671884262.png&#34; alt=&#34;TCPè¿æ¥å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597671890472.png&#34; alt=&#34;TCPè¿æ¥å…³é—­&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ldpçŠ¶æ€æœº&#34;&gt;LDPçŠ¶æ€æœº&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597673326522.png&#34; alt=&#34;LDPçŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ldpæ ‡ç­¾ç®¡ç†&#34;&gt;LDPæ ‡ç­¾ç®¡ç†&lt;/h2&gt;
&lt;p&gt;0ä»£è¡¨åŸºäºå¹³å°çš„æ ‡ç­¾ï¼ŒåŸºäºå¹³å°çš„æ ‡ç­¾ç©ºé—´ä¸­ï¼ŒLSRä¸ºä¸€ä¸ªç›®çš„ç½‘æ®µåˆ†é…ä¸€ä¸ªæ ‡ç­¾ï¼Œå¹¶å°†è¯¥æ ‡ç­¾&lt;br&gt;
å‘é€ç»™æ‰€æœ‰çš„LDP Peersã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ ‡ç­¾åˆ†å‘é€šå‘Šæ¨¡å¼&#34;&gt;æ ‡ç­¾åˆ†å‘ï¼ˆé€šå‘Šï¼‰æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ç¼ºçœæƒ…å†µä¸‹ï¼Œåä¸ºæ ¹æ®32ä½åœ°å€çš„ä¸»æœºIPè·¯ç”±ï¼ˆä¸åŒ…æ‹¬æ¥å£çš„32ä½åœ°å€çš„ä¸»æœºIPè·¯ç”±ï¼‰è§¦å‘LDPå»ºç«‹LSPï¼›æ€ç§‘ä¸ºæ‰€æœ‰çš„IGPè·¯ç”±åˆ†å‘æ ‡ç­¾ã€‚&lt;br&gt;
ä½¿ç”¨å‘½ä»¤&lt;code&gt;mpls ldp advertisement [dod|du]&lt;/code&gt;è¿›è¡Œä¿®æ”¹&lt;/p&gt;
&lt;h4 id=&#34;dod-ä¸‹æ¸¸æŒ‰éœ€è¢«åŠ¨æ¨¡å¼&#34;&gt;DoD ä¸‹æ¸¸æŒ‰éœ€(è¢«åŠ¨)æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;ï¼ˆæ€ç§‘é‡‡å–çš„æ¨¡å¼ï¼‰&lt;br&gt;
æ¯å°&lt;strong&gt;LSRä¸»åŠ¨å‘LSPä¸­çš„ä¸‹ä¸€è·³LSRè¯·æ±‚&lt;/strong&gt;ç»‘å®šäºç‰¹å®šFECçš„æ ‡ç­¾&lt;br&gt;
æ¯å°LSRåªä¼šä»ä¸‹æ¸¸LSRä¸ºæ¯ä¸€ä¸ªFECæ¥æ”¶åˆ°ä¸€ä¸ªæ†ç»‘çš„æ ‡ç­¾&lt;br&gt;
è¿™é‡Œæ‰€è¯´çš„ä¸‹æ¸¸ï¼Œæ˜¯æŒ‡IPè·¯ç”±è¡¨ä¸­çš„ä¸‹ä¸€è·³è·¯ç”±å™¨&lt;/p&gt;
&lt;h4 id=&#34;udæˆ–è€…duä¸‹æ¸¸è‡ªä¸»ä¸»åŠ¨æ¨¡å¼&#34;&gt;UDï¼ˆæˆ–è€…DUï¼‰ä¸‹æ¸¸è‡ªä¸»(ä¸»åŠ¨)æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;æ¯å°&lt;strong&gt;LSRä¸»åŠ¨å‘é‚»æ¥LSRåˆ†å‘&lt;/strong&gt;æ†ç»‘çš„æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸éœ€è¦é‚»å±…æ¥è¯·æ±‚&lt;/p&gt;
&lt;h3 id=&#34;æ ‡ç­¾åˆ†é…æ§åˆ¶æ¨¡å¼lspæ§åˆ¶æ¨¡å¼&#34;&gt;æ ‡ç­¾åˆ†é…æ§åˆ¶æ¨¡å¼ï¼ˆLSPæ§åˆ¶æ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶&#34;&gt;ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶&lt;/h4&gt;
&lt;p&gt;ï¼ˆæ€ç§‘é‡‡å–çš„æ¨¡å¼ï¼‰&lt;br&gt;
å½“ä½¿ç”¨ç‹¬ç«‹çš„LSPæ§åˆ¶æ—¶ï¼Œæ¯ä¸ªLSRéƒ½å¯ä»¥åœ¨éœ€è¦æ—¶éšæ—¶å‘å…¶é‚»å±…é€šå‘Šæ ‡ç­¾æ˜ å°„ã€‚&lt;br&gt;
ä¾‹å¦‚ï¼Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ä»¥ç‹¬ç«‹çš„ä¸‹æ¸¸æŒ‰éœ€æ¨¡å¼ï¼ˆUDæ¨¡å¼ï¼‰è¿è¡Œæ—¶ï¼ŒLSRå¯ä»¥ç«‹å³å›ç­”å¯¹æ ‡ç­¾æ˜ å°„çš„è¯·æ±‚ï¼Œè€Œæ— éœ€ç­‰å¾…æ¥è‡ªä¸‹ä¸€è·³çš„æ ‡ç­¾æ˜ å°„ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä»¥ç‹¬ç«‹çš„ä¸‹æ¸¸éè¯·æ±‚æ¨¡å¼ï¼ˆDODæ¨¡å¼ï¼‰è¿è¡Œæ—¶ï¼Œåªè¦å‡†å¤‡å¯¹æ ‡ç­¾äº¤æ¢è¯¥FECï¼ŒLSRå°±ä¼šå‘å…¶é‚»å±…é€šå‘ŠFECçš„æ ‡ç­¾æ˜ å°„ã€‚&lt;br&gt;
&lt;code&gt;ä½¿ç”¨ç‹¬ç«‹æ¨¡å¼çš„ç»“æœæ˜¯å¯ä»¥åœ¨æ¥æ”¶ä¸‹æ¸¸æ ‡ç­¾ä¹‹å‰é€šå‘Šä¸Šæ¸¸æ ‡ç­¾&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶&#34;&gt;æœ‰åºæ ‡ç­¾åˆ†é…æ§åˆ¶&lt;/h4&gt;
&lt;p&gt;ï¼ˆåä¸ºé‡‡å–çš„æ¨¡å¼ï¼‰&lt;br&gt;
å½“ä½¿ç”¨LSPé¡ºåºæ§åˆ¶æ—¶ï¼ŒLSRå¯ä»¥ä»…é’ˆå¯¹FECä¸ºå…¶å¯åŠ¨å…·æœ‰FECä¸‹ä¸€è·³æ ‡ç­¾æ˜ å°„çš„FECæˆ–LSRä¸ºå‡ºå£çš„FECå‘èµ·æ ‡ç­¾æ˜ å°„çš„ä¼ è¾“ã€‚&lt;br&gt;
å¯¹äºä¸æ˜¯LSRå‡ºå£ä¸”&lt;strong&gt;ä¸å­˜åœ¨æ˜ å°„&lt;/strong&gt;çš„æ¯ä¸ªFECï¼ŒLSR&lt;strong&gt;å¿…é¡»ç­‰åˆ°æ”¶åˆ°æ¥è‡ªä¸‹æ¸¸LSRçš„æ ‡ç­¾&lt;/strong&gt;ï¼Œç„¶åå†æ˜ å°„FECå¹¶å°†ç›¸åº”çš„æ ‡ç­¾ä¼ é€’ç»™ä¸Šæ¸¸LSRã€‚&lt;br&gt;
å¯¹äºæŸäº›FECï¼ŒLSRå¯èƒ½æ˜¯å‡ºå£ï¼Œè€Œå¯¹äºå…¶ä»–FECï¼ŒLSRå¯èƒ½ä¸æ˜¯å‡ºå£ã€‚å¯¹äºç‰¹å®šçš„FECï¼ŒLSRå¯ä»¥å……å½“å‡ºå£LSRï¼Œåœ¨ä»¥ä¸‹ä»»ä½•æ¡ä»¶ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;FECæ˜¯æŒ‡LSRæœ¬èº«ï¼ˆåŒ…æ‹¬å…¶ç›´æ¥è¿æ¥çš„æ¥å£ä¹‹ä¸€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;FECçš„ä¸‹ä¸€è·³è·¯ç”±å™¨åœ¨æ ‡ç­¾äº¤æ¢ç½‘ç»œä¹‹å¤–ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡è·¨è¶Šè·¯ç”±åŸŸè¾¹ç•Œå³å¯åˆ°è¾¾FECå…ƒç´ ï¼Œä¾‹å¦‚OSPFæ‘˜è¦ç½‘ç»œçš„å¦ä¸€ä¸ªåŒºåŸŸï¼Œæˆ–OSPF ASå¤–éƒ¨å’ŒBGPè·¯ç”±çš„å¦ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ ‡ç­¾ä¿ç•™æ¨¡å¼&#34;&gt;æ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/h3&gt;
&lt;h4 id=&#34;llr-è‡ªç”±æ ‡ç­¾ä¿ç•™æ¨¡å¼&#34;&gt;LLR è‡ªç”±æ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;ï¼ˆåä¸ºã€æ€ç§‘é‡‡å–çš„æ¨¡å¼ï¼‰&lt;br&gt;
ä¿ç•™æ‰€æœ‰æ ‡ç­¾ï¼Œè¢«ä½¿ç”¨çš„ä¿å­˜åˆ°LFIBä¸­&lt;br&gt;
è¿™æ ·å¦‚æœç½‘ç»œå‘ç”Ÿå˜åŒ–ï¼Œå¯ä»¥å¿«é€Ÿæ”¶æ•›&lt;/p&gt;
&lt;h4 id=&#34;clr-ä¿å®ˆæ ‡ç­¾ä¿ç•™æ¨¡å¼&#34;&gt;CLR ä¿å®ˆæ ‡ç­¾ä¿ç•™æ¨¡å¼&lt;/h4&gt;
&lt;p&gt;ï¼ˆæ€ç§‘ LC-ATMæ¥å£ï¼‰&lt;br&gt;
ä¸ä½¿ç”¨çš„æ ‡ç­¾ä¸ä¿ç•™ï¼ŒèŠ‚çœç»´æŠ¤èµ„æº&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ€ç§‘ï¼šDU+Independent+LLRï¼Œå³è‡ªä¸»åˆ†å‘+ç‹¬ç«‹åˆ†é…+è‡ªç”±ä¿ç•™&lt;/li&gt;
&lt;li&gt;åä¸ºï¼šDU+Order+LLRï¼Œå³è‡ªä¸»åˆ†å‘+æœ‰åºåˆ†é…+è‡ªç”±ä¿ç•™ï¼Œåä¸ºé…ç½®ç‹¬ç«‹æ ‡ç­¾åˆ†é…æ§åˆ¶å‘½ä»¤ä¸º&lt;code&gt;mpls ldp &amp;amp;&amp;amp; label distribution control-mode independent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åˆ†å‘æ¨¡å¼ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸‹æ¸¸è‡ªä¸»æ–¹å¼DUï¼šç»™é‚»å±…é€šå‘Šæ ‡ç­¾&lt;br&gt;
å¯¹äºä¸€ä¸ªç‰¹å®šçš„FECï¼ŒLSRæ— éœ€ä»ä¸Šæ¸¸è·å¾—æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯å³è¿›è¡Œæ ‡ç­¾åˆ†å‘ï¼Œè¯¥æ¨¡å¼ä¸ºé»˜è®¤è¡Œä¸º&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸æŒ‰éœ€æ–¹å¼DODï¼š&lt;br&gt;
LSRä¼šä¸»åŠ¨å‘ä¸‹æ¸¸è¯·æ±‚ç‰¹å®šçš„FEC(è·¯ç”±ä¸‹ä¸€è·³)çš„åˆ†é…ä¿¡æ¯ï¼Œä¸‹æ¸¸LSRè·å¾—æ ‡ç­¾è¯·æ±‚æ¶ˆæ¯ä¹‹åæ‰è¿›è¡Œæ ‡ç­¾åˆ†å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾æ†ç»‘/åˆ†é…æ§åˆ¶ï¼ˆLSPæ§åˆ¶æ¨¡å¼ï¼‰ï¼šä¸ºFECåˆ†é…æ ‡ç­¾
&lt;ul&gt;
&lt;li&gt;Independent ç‹¬ç«‹æ§åˆ¶ï¼š&lt;br&gt;
ä¸€æ—¦å‘ç°ä¸€ä¸ªFECï¼Œå°±ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªæœ¬åœ°æ†ç»‘æ ‡ç­¾(åˆ†é…)ï¼Œå³ä½¿è¯¥è·¯ç”±å¹¶ä¸æ˜¯æœ¬åœ°èµ·æºçš„ï¼Œç¼ºç‚¹åœ¨äºå¯èƒ½åœ¨æˆLSPå»ºç«‹ä¸å®Œæ•´çš„æƒ…å†µä¸‹å¼€å§‹è½¬å‘æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Order æœ‰åºæ§åˆ¶(éç‹¬ç«‹æ§åˆ¶)ï¼š&lt;br&gt;
ä»…å½“è‡ªèº«ä¸ºå‡ºç«™LSRï¼Œæˆ–è€…ä»ä¸‹æ¸¸æ”¶åˆ°è¯¥FECçš„æ ‡ç­¾æ‰è¿›è¡Œåˆ†é…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾ä¿ç•™/ä¿æŒæ¨¡å¼ï¼šLSPçš„ä¿æŒ
&lt;ul&gt;
&lt;li&gt;Conservative ä¿å®ˆçš„ CLRï¼š&lt;br&gt;
ä»…å½“é‚»å±…æ˜¯ç›¸åº”è·¯ç”±çš„ä¸‹ä¸€è·³çš„æ—¶å€™æ‰ä¿ç•™&lt;/li&gt;
&lt;li&gt;Liberal è‡ªç”±çš„ LLRï¼š&lt;br&gt;
ç»Ÿç»Ÿä¿ç•™ï¼Œä¸€æ—¦IGPè·¯å¾„åˆ‡æ¢ï¼Œå…¶å®è¡¨æ¡¥å·²ç»å­˜åœ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;phpæ¬¡æœ«è·³å¼¹å‡ºå€’æ•°ç¬¬äºŒè·³å¼¹å‡º&#34;&gt;PHPæ¬¡æœ«è·³å¼¹å‡ºï¼ˆå€’æ•°ç¬¬äºŒè·³å¼¹å‡ºï¼‰&lt;/h2&gt;
&lt;p&gt;åœ¨LSPçš„æœ€åä¸€è·³èŠ‚ç‚¹ï¼Œå·²ä¸å†éœ€è¦åœ¨è¿›è¡Œæ ‡ç­¾äº¤æ¢ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é…ç½®å€’æ•°ç¬¬äºŒè·³å¼¹å‡ºç‰¹æ€§PHPï¼Œåœ¨å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹å¤„å°†æ ‡ç­¾å¼¹å‡ºï¼Œæœ€åä¸€è·³èŠ‚ç‚¹ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–è€…ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘ï¼Œå‡å°‘æœ€åä¸€è·³æ ‡ç­¾äº¤æ¢è´Ÿæ‹…ã€‚&lt;br&gt;
Egress PEå‘å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹åˆ†é…éšå¼ç©ºæ ‡ç­¾ï¼Œå€¼ä¸º3ã€‚&lt;br&gt;
åœ¨æ¬¡æœ«è·³äº¤æ¢ä¸ºéšå¼ç©ºæ ‡ç­¾ï¼Œæ„å‘³ç€åº”å½“å¼¹æ‰è¿™å±‚æ ‡ç­¾ï¼Œå¦‚æœåªæœ‰ä¸€å±‚æ ‡ç­¾ï¼Œåˆ™å˜æˆIPæŠ¥æ–‡äº†ï¼ŒåŒæ—¶è¯·æ³¨æ„ï¼Œè¯¥&lt;strong&gt;è½¬å‘å†³ç­–ç”±LFIBå†³å®š&lt;/strong&gt;ï¼Œè½¬å‘å‡ºæ¥å£ã€äºŒå±‚é‡å†™ä¿¡æ¯å·²ç»å°±ç»ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;ldpç¯è·¯æ£€æµ‹æœºåˆ¶&#34;&gt;LDPç¯è·¯æ£€æµ‹æœºåˆ¶&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;IGPç¯è·¯æ£€æµ‹æœºåˆ¶ï¼šTTLç¯è·¯æ£€æµ‹
&lt;ul&gt;
&lt;li&gt;å¸§æ¨¡å¼ä¸­çš„MPLSä¸­ä½¿ç”¨TTLï¼Œä¿¡æºæ¨¡å¼ä¸­çš„MPLSä¸­ä¸ºTTL&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;LDPç¯è·¯æ£€æµ‹æœºåˆ¶
&lt;ul&gt;
&lt;li&gt;è·ç¦»å‘é‡æ³•&lt;br&gt;
æ ‡ç­¾ç»‘å®šæŠ¥æ–‡ä¸­è®°å½•è·¯å¾„ä¿¡æ¯ï¼Œå³æ ‡ç­¾äº¤æ¢è·¯ç”±å™¨ä¼šæ£€æŸ¥æœ¬è®¾å¤‡çš„IDæ˜¯å¦åŒ…å«åœ¨è·¯å¾„ä¿¡æ¯ä¸­ã€‚è·¯ç”±è·¯å¾„ä¸­æ²¡æœ‰æœ¬è®¾å¤‡çš„IDï¼Œé‚£ä¹ˆæ·»åŠ ï¼Œå¦åˆ™è®¤ä¸ºå‡ºç°äº†ç¯è·¯ï¼Œç»ˆæ­¢LSPå»ºç«‹ã€‚ç±»ä¼¼äºBGPçš„as-pathå‚æ•°&lt;/li&gt;
&lt;li&gt;æœ€å¤§è·³æ•°æ³•&lt;br&gt;
æ ‡ç­¾ç»‘å®šæŠ¥æ–‡ä¸­åŒ…å«è·³æ•°ä¿¡æ¯ï¼Œå³æ¯ç»è¿‡ä¸€ä¸ªå­ç½‘ï¼ˆè®¾å¤‡ï¼‰è·³æ•°å€¼ä¼šå¢åŠ 1ï¼Œä¸€æ—¦è·³æ•°å€¼è¶…è¿‡è§„å®šçš„æœ€å¤§å€¼ï¼Œåˆ™è®¤ä¸ºå‡ºç°ç¯è·¯ï¼Œä»è€Œç»ˆæ­¢LSPå»ºç«‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mplså¯¹ttlçš„å¤„ç†uniformæ¨¡å¼&#34;&gt;MPLSå¯¹TTLçš„å¤„ç†ï¼ˆUniformæ¨¡å¼ï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;ç»Ÿä¸€æ¨¡å¼&#34;&gt;ç»Ÿä¸€æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;Uniformç»Ÿä¸€æ¨¡å¼ï¼ŒIPçš„TTLå’Œæ ‡ç­¾çš„TTLç›¸äº’æ‹·è´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å…¥å£PEä¸åšæ”¹å˜çš„æŠŠIPçš„TTLæ‹·è´åˆ°æ ‡ç­¾TTL&lt;/li&gt;
&lt;li&gt;åœ¨MPLSåŒºåŸŸæŒ‰ç…§å¤–å±‚çš„TTLè¿›è¡Œè½¬å‘ï¼Œåœ¨æ¬¡æœ«è·³ä¸ŠæŠŠæ ‡ç­¾çš„TTLæ‹·è´å›IP&lt;/li&gt;
&lt;li&gt;å¤šå±‚æ ‡ç­¾é»˜è®¤åªå¤„ç†å¤–å±‚æ ‡ç­¾ï¼Œåªæœ‰å¤–å±‚æ ‡ç­¾å¼¹å‡ºä¹‹åå†å¤„ç†å†…å±‚æ ‡ç­¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597849957948.png&#34; alt=&#34;MPLSå¯¹TTLçš„å¤„ç†&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç®¡é“æ¨¡å¼&#34;&gt;ç®¡é“æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;åœ¨å…¥æ¥ç‚¹ï¼ŒIP TTLå€¼å‡1ï¼ŒMPLS TTLå­—æ®µä¸ºå›ºå®šå€¼ï¼Œæ­¤åæŠ¥æ–‡åœ¨MPLSç½‘ç»œä¸­æŒ‰ç…§æ ‡å‡†çš„TTLå¤„ç†æ–¹å¼å¤„ç†ã€‚åœ¨å‡ºèŠ‚ç‚¹ä¼šå°†IP TTLå­—æ®µçš„å€¼å‡1ã€‚&lt;br&gt;
å³IPåˆ†ç»„ç»è¿‡MPLSç½‘ç»œæ—¶ï¼Œæ— è®ºç»è¿‡å¤šå°‘è·³ï¼ŒIP TTLåªæœ‰åœ¨å…¥æ¥ç‚¹å’Œå‡ºèŠ‚ç‚¹æ—¶åˆ†åˆ«å‡1ã€‚&lt;br&gt;
PIPEç®¡é“æ¨¡å¼ï¼Œæ ¸å¿ƒç½‘å¯¹ç”¨æˆ·æ˜¯é€æ˜çš„ï¼Œæ•´ä¸ªMPLSåŒºåŸŸè¢«çœ‹åšä¸€ä¸ªè®¾å¤‡ï¼Œæ ‡ç­¾çš„TTLå’ŒIPçš„TTLæ²¡æœ‰ç›¸äº’æ‹·è´ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597850965516.png&#34; alt=&#34;ç®¡é“æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ ¸å¿ƒç½‘ç»œå¤„ç†æ–¹å¼&#34;&gt;æ ¸å¿ƒç½‘ç»œå¤„ç†æ–¹å¼&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;å¦‚æœæˆ‘ä»¬éœ€è¦éšè—MPLSæ ¸å¿ƒç½‘ï¼Œåˆ™å¼ºåˆ¶è¿›å…¥MPLSæ ¸å¿ƒç½‘çš„æŠ¥æ–‡ï¼Œå°†æ ‡ç­¾ä¸Šçš„TTLå¼ºåˆ¶è®¾ç½®ä¸º255&lt;/code&gt;&lt;br&gt;
æ ¸å¿ƒç½‘ç»œå¤„ç†æ–¹å¼ä¸ºå°†æ ‡ç­¾çš„TTLè®¾ç½®ä¸º255ï¼ŒIPæ ‡ç­¾åœ¨MPLSç½‘ç»œä¸­ä¸æ”¹å˜ï¼Œå½“æ ‡ç­¾å¼¹å‡ºä¹‹åå†é‡æ–°å¯ç”¨IPçš„TTL&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597850414609.png&#34; alt=&#34;æ ¸å¿ƒç½‘å¤„ç†æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;mpls-vpn&#34;&gt;MPLS VPN&lt;/h1&gt;
&lt;h2 id=&#34;vpnæ¨¡å‹&#34;&gt;VPNæ¨¡å‹&lt;/h2&gt;
&lt;h3 id=&#34;overlay-vpn&#34;&gt;Overlay VPN&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597963665156.png&#34; alt=&#34;Overlay VPN&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Overlay VPNå¯ä»¥åœ¨CEè®¾å¤‡ä¸Šå»ºç«‹éš§é“ï¼Œä¹Ÿå¯ä»¥åœ¨PEè®¾å¤‡ä¸Šå»ºç«‹éš§é“ï¼Œç‰¹ç‚¹ï¼š&lt;strong&gt;å®¢æˆ·è·¯ç”±åè®®æ€»æ˜¯åœ¨å®¢æˆ·è®¾å¤‡ä¹‹é—´äº¤æ¢ï¼Œè€Œè¿è¥å•†å¯¹å®¢æˆ·ç½‘ç»œç»“æ„ä¸€æ— æ‰€çŸ¥&lt;/strong&gt;ã€‚å…¸å‹çš„åè®®ï¼šäºŒå±‚â€”â€”å¸§ä¸­ç»§ï¼›ä¸‰å±‚â€”â€”GREä¸IPSecï¼›åº”ç”¨å±‚â€”â€”SSL VPNã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åœ¨CEä¸CEä¹‹é—´å»ºç«‹éš§é“&lt;/strong&gt;ï¼Œå¹¶ç›´æ¥ä¼ é€’è·¯ç”±ä¿¡æ¯ï¼Œè·¯ç”±åè®®æ•°æ®æ€»æ˜¯åœ¨å®¢æˆ·è®¾å¤‡ä¹‹é—´äº¤æ¢ï¼Œè¿è¥å•†å¯¹å®¢æˆ·ç½‘ç»œç»“æ„ä¸€æ— æ‰€çŸ¥
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šä¸åŒçš„å®¢æˆ·åœ°å€ç©ºé—´å¯ä»¥é‡å ï¼Œä¿å¯†æ€§ã€å®‰å…¨æ€§éå¸¸å¥½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šæœ¬è´¨æ˜¯ä¸€ç§â€œé™æ€â€VPNï¼Œæ— æ³•ååº”ç½‘ç»œçš„å®æ—¶å˜åŒ–ï¼Œå¹¶ä¸”å½“æœ‰æ–°å¢ç«™ç‚¹æ—¶ï¼Œéœ€è¦æ‰‹å·¥åœ¨æ‰€æœ‰ç«™ç‚¹ä¸Šå»ºç«‹ä¸æ–°å¢ç«™ç‚¹çš„è¿æ¥ï¼Œé…ç½®ä¸ç»´æŠ¤å¤æ‚ï¼Œä¸æ˜“ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ¨PEä¸Šä¸ºæ¯ä¸€ä¸ªVPNç”¨æˆ·å»ºç«‹ç›¸åº”çš„éš§é“&lt;/strong&gt;ï¼Œè·¯ç”±ä¿¡æ¯åœ¨PEä¸PEä¹‹é—´ä¼ é€’ï¼Œå…¬ç½‘ä¸­çš„Pè®¾å¤‡ä¸çŸ¥é“ç§ç½‘çš„è·¯ç”±ä¿¡æ¯ã€‚
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå®¢æˆ·æŠŠVPNçš„åˆ›å»ºåŠç»´æŠ¤å®Œå…¨äº¤ç»™è¿è¥å•†ï¼Œä¿å¯†æ€§ã€å®‰å…¨æ€§æ¯”è¾ƒå¥½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šä¸åŒçš„VPNç”¨æˆ·ä¸èƒ½å…±äº«ç›¸åŒçš„åœ°å€ç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;peer-to-peer-vpn&#34;&gt;Peer-to-Peer VPN&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;strong&gt;CEè®¾å¤‡ä¸PEè®¾å¤‡ä¹‹é—´äº¤æ¢ç§ç½‘ä¿¡æ¯ï¼Œç”±PEè®¾å¤‡å°†ç§ç½‘ä¿¡æ¯åœ¨è¿è¥å•†ç½‘ç»œä¸­ä¼ æ’­&lt;/strong&gt;ï¼Œå®ç°äº†VPNéƒ¨ç½²åŠè·¯ç”±å‘å¸ƒçš„åŠ¨æ€æ€§ï¼Œè§£å†³äº†Overlay VPNçš„â€œé™æ€â€æ€§è´¨ä¸å¤ªé€‚åˆå¤§è§„æ¨¡åº”ç”¨å’Œéƒ¨ç½²çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…±äº«pe&#34;&gt;å…±äº«PE&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597964004180.png&#34; alt=&#34;å…±äº«PE&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰€æœ‰VPNç”¨æˆ·çš„CEè®¾å¤‡éƒ½è¿åˆ°åŒä¸€å°PEä¸Šï¼ŒPEä¸ä¸åŒçš„CEä¹‹é—´è¿è¡Œä¸åŒçš„è·¯ç”±åè®®ï¼ˆæˆ–è€…æ˜¯ç›¸åŒè·¯ç”±åè®®çš„ä¸åŒè¿›ç¨‹ï¼‰ã€‚ç”±å§‹å‘PEå°†è·¯ç”±å‘å¸ƒåˆ°å…¬ç½‘ä¸Šï¼Œåœ¨æ¥æ”¶ç«¯çš„PEä¸Šå°†è·¯ç”±è¿‡æ»¤åå†å‘ç»™ç›¸åº”çš„CEè®¾å¤‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Peer-to-Peeræ˜¯åœ¨&lt;strong&gt;CEä¸PEä¹‹é—´äº¤æ¢ç§ç½‘è·¯ç”±ä¿¡æ¯&lt;/strong&gt;ï¼Œ&lt;strong&gt;ç„¶åç”±PEå°†ç§ç½‘è·¯ç”±åœ¨è¿è¥å•†ç½‘ç»œä¸­ä¼ æ’­&lt;/strong&gt;ï¼Œç”±äºCEä¸PEä¹‹é—´è¿è¡Œäº†è·¯ç”±åè®®ï¼Œæ‰€ä»¥ç§ç½‘è·¯ç”±ä¼šè‡ªåŠ¨åœ°ä¼ æ’­åˆ°PEä¸Šï¼›ç”±äºPeer-to-Peer VPNå°†ç§ç½‘è·¯ç”±æ³„éœ²åˆ°å…¬ç½‘ä¸Šï¼Œæ‰€ä»¥å¿…é¡»é€šè¿‡ä¸¥æ ¼çš„è·¯ç”±è¿‡æ»¤å’Œé€‰æ‹©æœºåˆ¶æ¥æ§åˆ¶ç§ç½‘è·¯ç”±çš„ä¼ æ’­ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢è¿æ¥åœ¨åŒä¸€å°PEä¸Šçš„ä¸åŒCEä¹‹é—´äº’é€šï¼Œ&lt;strong&gt;å¿…é¡»åœ¨PEä¸Šé…ç½®å¤§é‡çš„ACL&lt;/strong&gt;ï¼Œä½†è¿™ç§æ“ä½œä¹Ÿå¢åŠ äº†ç®¡ç†PEè®¾å¤‡çš„è´Ÿæ‹…&lt;/li&gt;
&lt;li&gt;VPNå®¢æˆ·ä¹‹é—´&lt;strong&gt;å¦‚æœå‡ºç°åœ°å€é‡å é—®é¢˜ï¼ŒPEè®¾å¤‡æ— æ³•è¯†åˆ«é‡å çš„åœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
å›¾ä¸­çš„Peer-to-Peer VPNä½¿ç”¨çš„æ˜¯å…±äº«PEçš„æ¥å…¥æ–¹å¼ï¼Œä¸ºäº†å‡å°‘é…ç½®å¤æ‚åº¦ï¼Œä¾¿äºç®¡ç†ï¼Œå¯ä»¥é‡‡ç”¨Peer-to-Peer VPNçš„ä¸“ç”¨PEæ¥å…¥æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸“ç”¨pe&#34;&gt;ä¸“ç”¨PE&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597964239883.png&#34; alt=&#34;ä¸“ç”¨PE&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Peer-to-Peer VPNçš„ä¸“ç”¨PEçš„æ¥å…¥æ–¹å¼ç‰¹ç‚¹ï¼šè¿è¥å•†ä¸ºæ¯ä¸€ä¸ªVPNå•ç‹¬å‡†å¤‡ä¸€å°PEè®¾å¤‡ï¼ŒPEå’ŒCEä¹‹é—´å¯ä»¥è¿è¡Œä»»æ„çš„è·¯ç”±åè®®ï¼Œä¸å…¶ä»–VPNæ— å…³ã€‚
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šæ— éœ€é…ç½®ä»»ä½•çš„ACLï¼Œé…ç½®å¤æ‚åº¦ã€ç®¡ç†éš¾åº¦æœ‰æ‰€é™ä½&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šæ¯æ–°å¢ä¸€ä¸ªVPNç«™ç‚¹éƒ½éœ€è¦æ–°å¢ä¸€å°ä¸“ç”¨çš„PEè®¾å¤‡ï¼Œä»£ä»·è¿‡äºæ˜‚è´µã€‚è€Œä¸”æ²¡æœ‰è§£å†³VPNå®¢æˆ·ä¹‹é—´åœ°å€ç©ºé—´é‡å çš„é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è§£å†³çš„é—®é¢˜&#34;&gt;è§£å†³çš„é—®é¢˜&lt;/h2&gt;
&lt;h3 id=&#34;åœ°å€ç©ºé—´é‡å &#34;&gt;åœ°å€ç©ºé—´é‡å &lt;/h3&gt;
&lt;p&gt;ä¸¤ä¸ªå®¢æˆ·çš„VPNå­˜åœ¨ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œä¼ ç»ŸVPNç½‘ç»œç»“æ„ä¸­çš„è®¾å¤‡æ— æ³•åŒºåˆ†å®¢æˆ·é‡å çš„è·¯ç”±ä¿¡æ¯ï¼Œå³&lt;strong&gt;åœ°å€ç©ºé—´çš„é‡å é—®é¢˜&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PEè®¾å¤‡æ€ä¹ˆåŒºåˆ†ä¸åŒVPNå®¢æˆ·çš„ç›¸åŒè·¯ç”±ï¼Ÿ&lt;br&gt;
å¯ä»¥é€šè¿‡åœ¨åŒä¸€å°PEè®¾å¤‡ä¸Šä¸ºä¸åŒçš„VPNå»ºç«‹å•ç‹¬çš„è·¯ç”±ï¼Œè¿™æ ·å†²çªçš„çš„è·¯ç”±å°±è¢«éš”ç¦»å¼€æ¥&lt;/li&gt;
&lt;li&gt;å†²çªè·¯ç”±åœ¨å…¬ç½‘ä¸­ä¼ æ’­æ—¶ï¼Œæ¥æ”¶ç«¯PEå¦‚ä½•æ­£ç¡®å¯¼å…¥VPNå®¢æˆ·è·¯ç”±ï¼Ÿ&lt;br&gt;
åœ¨è·¯ç”±ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œä¸ºä¸åŒçš„VPNè·¯ç”±æ·»åŠ ä¸åŒçš„æ ‡è¯†ï¼Œä»¥ç¤ºåŒºåˆ«ï¼Œè¿™äº›æ ‡è¯†å¯ä»¥ä½œä¸ºBGPå±æ€§è¿›è¡Œä¼ é€’&lt;/li&gt;
&lt;li&gt;PEè®¾å¤‡æ”¶åˆ°IPæ•°æ®åŒ…åï¼Œå¦‚ä½•æ­£ç¡®çš„å‘é€ç»™ç›®çš„VPNå®¢æˆ·ï¼Ÿ&lt;br&gt;
ç”±äºIPæŠ¥æ–‡ä¸å¯æ›´æ”¹ï¼Œå¯ä»¥åœ¨IPæŠ¥æ–‡å¤´å‰åŠ ä¸€äº›ä¿¡æ¯ã€‚ç”±å§‹å‘è·¯ç”±å™¨æ‰“ä¸Šæ ‡è®°ï¼Œæ¥æ”¶è·¯ç”±å™¨åœ¨æ”¶åˆ°å¸¦æ ‡è®°çš„çš„æ•°æ®åŒ…æ—¶ï¼Œæ ¹æ®æ ‡è®°è½¬å‘ç»™æ­£ç¡®çš„VPN&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¸“ç”¨peçš„è§£å†³æ–¹æ¡ˆ&#34;&gt;ä¸“ç”¨PEçš„è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597964868282.png&#34; alt=&#34;ä¸“ç”¨PEçš„è§£å†³æ–¹æ¡ˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸“ç”¨PEè®¾å¤‡åˆ†å·¥æ˜ç¡®ï¼Œæ¯ä¸ª&lt;strong&gt;PEè®¾å¤‡åªä¿å­˜è‡ªå·±çš„VPNè·¯ç”±ï¼ŒPè®¾å¤‡åªä¿å­˜å…¬ç½‘è·¯ç”±&lt;/strong&gt;ã€‚å› æ­¤è§£å†³å…±äº«PEè®¾å¤‡ä¸Šåœ°å€ç©ºé—´é‡å çš„æ€è·¯æ˜¯ï¼š&lt;strong&gt;å°†ä¸“ç”¨PEè®¾å¤‡ä¸Pè®¾å¤‡çš„åŠŸèƒ½åœ¨åŒä¸€å°PEè®¾å¤‡ä¸Šå®Œæˆï¼Œå¹¶å®ç°VPNè·¯ç”±çš„éš”ç¦»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…±äº«peçš„è§£å†³æ–¹æ¡ˆ&#34;&gt;å…±äº«PEçš„è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597965012348.png&#34; alt=&#34;å…±äº«PEçš„è§£å†³æ–¹æ¡ˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨å…±äº«PEè®¾å¤‡ä¸Šä½¿ç”¨&lt;strong&gt;VRFæŠ€æœ¯&lt;/strong&gt;å°†é‡å çš„è·¯ç”±éš”ç¦»ï¼š&lt;strong&gt;æ¯ä¸ªVPNçš„è·¯ç”±æ”¾å…¥è‡ªå·±å¯¹åº”çš„VPN Routing Tableä¸­&lt;/strong&gt;ã€‚&lt;br&gt;
PEè®¾å¤‡åœ¨&lt;strong&gt;ç»´æŠ¤å¤šä¸ªVPN Routing Tableæ—¶ï¼ŒåŒæ—¶è¿˜ç»´æŠ¤ä¸€ä¸ªå…¬ç½‘çš„è·¯ç”±è¡¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…±äº«PEè®¾å¤‡ä¸Šå®ç°é‡å è·¯ç”±çš„éš”ç¦»å°±æ˜¯åœ¨PEè®¾å¤‡ä¸Šå°†æ¥è‡ªæ¯ä¸ªVPNçš„è·¯ç”±æ”¾å…¥è‡ªå·±å¯¹åº”çš„VPN Routing Tableä¸­ï¼Œæ¯ä¸ªVPN Routing Tableåªè®°å½•å¯¹åº”VPNä¸­å­¦æ¥çš„è·¯ç”±ï¼Œå°±åƒæ˜¯ä¸“ç”¨PEä¸€æ ·ã€‚è¿™ä¸ªVPN Routing Tableç§°è°“VRFï¼Œå³VPNè·¯ç”±è½¬å‘è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªVRFéƒ½éœ€è¦å¯¹åº”ä¸€ä¸ªVPN instanceï¼ŒVPNç”¨æˆ·å¯¹åº”çš„æ¥å£ç»‘å®šåˆ°VPN instanceä¸­ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äºæ¯ä¸ªPEï¼Œå¯ä»¥ç»´æŠ¤ä¸€ä¸ªæˆ–å¤šä¸ªVPN instance ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå…¬ç½‘çš„è·¯ç”±è¡¨ï¼ˆä¹Ÿå«å…¨å±€è·¯ç”±è¡¨ï¼‰ï¼Œå¤šä¸ªVPN instanceå®ä¾‹ç›¸äº’ç‹¬ç«‹ä¸”éš”ç¦»ã€‚å…¶å®å®ç°VPN instanceå¹¶ä¸å›°éš¾ï¼Œå…³é”®åœ¨äºå¦‚ä½•åœ¨PEä¸Šä½¿ç”¨ç‰¹å®šçš„ç­–ç•¥è§„åˆ™æ¥åè°ƒå„VPN instanceå’Œå…¨å±€è·¯ç”±è¡¨ä¹‹é—´çš„å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŒºåˆ†å†²çªè·¯ç”±rdroute-distinguisher&#34;&gt;åŒºåˆ†å†²çªè·¯ç”±ï¼ˆRDï¼ŒRoute Distinguisherï¼‰&lt;/h3&gt;
&lt;p&gt;å°†VPNè·¯ç”±å‘å¸ƒåˆ°å…¨å±€è·¯ç”±è¡¨ä¹‹å‰ï¼Œä½¿ç”¨ä¸€ä¸ª&lt;strong&gt;å…¨å±€å”¯ä¸€çš„æ ‡è¯†å’Œè·¯ç”±ç»‘å®š&lt;/strong&gt;ï¼Œä»¥åŒºåˆ†å†²çªçš„ç§ç½‘è·¯ç”±ï¼Œè¿™ä¸ªæ ‡è¯†è¢«ç§°ä¸ºRD&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597965289822.png&#34; alt=&#34;åŒºåˆ†å†²çªè·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RDå³VPNè·¯ç”±æ ‡è¯†ç¬¦ï¼Œç”±8å­—èŠ‚ç»„æˆï¼Œé…ç½®æ—¶åŒä¸€PEè®¾å¤‡ä¸Šåˆ†é…ç»™æ¯ä¸ªVPNçš„RDå¿…é¡»å”¯ä¸€&lt;/li&gt;
&lt;li&gt;RDç”¨äºåŒºåˆ†ä½¿ç”¨ç›¸åŒåœ°å€ç©ºé—´çš„IPv4å‰ç¼€ï¼Œå¢åŠ äº†RDçš„IPv4åœ°å€ç§°ä¸ºVPN-IPv4åœ°å€ï¼ˆå³VPNv4åœ°å€ï¼‰&lt;/li&gt;
&lt;li&gt;è¿è¥å•†è®¾å¤‡é‡‡ç”¨BGPåè®®ä½œä¸ºæ‰¿è½½VPNè·¯ç”±çš„åè®®ï¼Œå¹¶å°†BGPåè®®è¿›è¡Œäº†æ‰©å±•ï¼Œç§°ä¸ºMP-BGPã€‚PEä»CEæ¥æ”¶åˆ°å®¢æˆ·çš„IPv4ç§ç½‘è·¯ç”±åï¼Œå°†å®¢æˆ·çš„ç§ç½‘è·¯ç”±æ·»åŠ å„ç§æ ‡è¯†ä¿¡æ¯åå˜ä¸ºVPNv4è·¯ç”±æ”¾å…¥MP-BGPçš„VPNv4è·¯ç”±è¡¨ä¸­ï¼Œå¹¶é€šè¿‡MP-BGPåè®®åœ¨å…¬ç½‘ä¸Šä¼ é€’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vpnè·¯ç”±çš„å¼•å…¥rtroute-target&#34;&gt;VPNè·¯ç”±çš„å¼•å…¥ï¼ˆRTï¼ŒRoute Targetï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Hub-Spokeåœºæ™¯ä¸­VPNè·¯ç”±çš„å¼•å…¥é—®é¢˜&lt;/strong&gt;ï¼š&lt;br&gt;
å¦‚å›¾æ‰€ç¤ºï¼ŒæŸå…¬å¸åˆ†éƒ¨1ä¸åˆ†éƒ¨2ä¸­å­˜åœ¨172.16.1.1/32ä¸172.16.2.1/32çš„ç§ç½‘åœ°å€ï¼Œå…¬å¸å¸Œæœ›å®ç°å„åˆ†éƒ¨åªèƒ½ä¸æ€»éƒ¨é€šä¿¡ï¼Œåˆ†éƒ¨ä¹‹é—´ä¸èƒ½ç›¸äº’é€šä¿¡ã€‚åˆ†é…ç»™åˆ†éƒ¨1çš„VPN RDä¸º1:1ï¼Œåˆ†é…ç»™åˆ†éƒ¨2çš„VPN RDä¸º2:2ã€‚å¦‚æœè¦ä½¿ç”¨RDè§£å†³è·¯ç”±å¼•å…¥VPNçš„é—®é¢˜ï¼Œæ€»éƒ¨ä¸åˆ†éƒ¨1é€šä¿¡ï¼Œåˆ™RDçš„å€¼éœ€è¦é…ç½®æˆ1:1ï¼Œæ€»éƒ¨ä¸åˆ†éƒ¨2é€šä¿¡ï¼Œåˆ™RDçš„å€¼éœ€è¦é…ç½®æˆä¸º2:2ã€‚ä½†RDçš„å€¼åœ¨æœ¬åœ°PEä¸Šæ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”åªèƒ½é…ç½®ä¸€ä¸ªã€‚å› æ­¤ï¼Œä¸èƒ½ä½¿ç”¨RDæ¥è§£å†³è·¯ç”±æ­£ç¡®å¼•å…¥çš„é—®é¢˜ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597965542281.png&#34; alt=&#34;VPNè·¯ç”±çš„å¼•å…¥é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
RDä¸èƒ½è§£å†³VPNè·¯ç”±æ­£ç¡®å¼•å…¥VPNçš„é—®é¢˜ã€‚éœ€è¦ä¸€ç§ç±»ä¼¼äºTagçš„æ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†ç”±äººå·¥åˆ†é…ï¼Œå‘é€ç«¯PEå‘é€æ—¶æ‰“ä¸Šæ ‡è¯†ï¼Œæ¥æ”¶ç«¯PEæ”¶åˆ°åï¼Œæ ¹æ®éœ€è¦å°†å¸¦æœ‰ç›¸åº”æ ‡è¯†çš„è·¯ç”±å¼•å…¥VPNã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597965764129.png&#34; alt=&#34;RT&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
RTå±æ€§ç”¨äºå°†è·¯ç”±æ­£ç¡®å¼•å…¥VPNï¼Œæœ‰ä¸¤ç±»VPN Targetå±æ€§ï¼ŒImport Targetå’ŒExport Targetï¼Œåˆ†åˆ«ç”¨äºVPNè·¯ç”±çš„å¯¼å‡ºä¸å¯¼å…¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚å›¾æ‰€ç¤ºï¼Œå¸Œæœ›å®ç°åˆ†éƒ¨åªèƒ½ä¸æ€»éƒ¨é€šä¿¡ï¼Œåˆ†éƒ¨ä¹‹é—´ä¸èƒ½é€šä¿¡ã€‚
&lt;ul&gt;
&lt;li&gt;åˆ†é…ç»™åˆ†éƒ¨1çš„Export Targetä¸º1:1ï¼ŒImport Targetä¸º3:3&lt;/li&gt;
&lt;li&gt;åˆ†é…ç»™åˆ†éƒ¨2çš„Export Targetä¸º2:2ï¼ŒImport Targetä¸º3:3&lt;/li&gt;
&lt;li&gt;åˆ†é…ç»™æ€»éƒ¨çš„Export Targetä¸º3:3ï¼ŒImport Targetä¸º1:1ï¼Œ2:2&lt;/li&gt;
&lt;li&gt;PE2ä¸Šæ”¶åˆ°å¯¹ç«¯PE1å‘é€çš„VPNv4çš„è·¯ç”±åï¼Œæ£€æŸ¥å…¶Export Targetã€‚å› ä¸ºæ€»éƒ¨çš„Import Targetä¸º1:1ï¼Œ2:2ï¼Œæ‰€ä»¥å€¼ä¸º1:1æˆ–2:2çš„è·¯ç”±è¢«å¼•å…¥æ€»éƒ¨çš„VRFã€‚PE1çš„VPNv4çš„è·¯ç”±å¼•å…¥å„åˆ†éƒ¨VRFçš„è¿‡ç¨‹ç±»ä¼¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;RTå°è£…åœ¨&lt;strong&gt;BGPçš„æ‰©å±•Communityå±æ€§ä¸­&lt;/strong&gt;ï¼Œåœ¨è·¯ç”±ä¼ é€’è¿‡ç¨‹ä¸­ä½œä¸ºå¯é€‰å¯ä¼ é€’å±æ€§è¿›è¡Œä¼ é€’&lt;/li&gt;
&lt;li&gt;RTçš„æœ¬è´¨æ˜¯æ¯ä¸ªVRFè¡¨è¾¾è‡ªå·±çš„è·¯ç”±å–èˆåŠå–œå¥½çš„å±æ€§ï¼Œæœ‰ä¸¤ç±»VPN Targetå±æ€§ï¼š
&lt;ul&gt;
&lt;li&gt;Export Targetï¼šæœ¬ç«¯çš„è·¯ç”±åœ¨å¯¼å‡ºVRFï¼Œè½¬å˜ä¸ºVPNv4çš„è·¯ç”±æ—¶ï¼Œæ ‡è®°è¯¥å±æ€§&lt;/li&gt;
&lt;li&gt;Import Targetï¼šå¯¹ç«¯æ”¶åˆ°è·¯ç”±æ—¶ï¼Œæ£€æŸ¥å…¶Export Targetå±æ€§ã€‚å½“æ­¤å±æ€§ä¸PEä¸ŠæŸä¸ªVPNå®ä¾‹çš„Import TargetåŒ¹é…æ—¶ï¼ŒPEå°±æŠŠè·¯ç”±åŠ å…¥åˆ°è¯¥VPNå®ä¾‹ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨RTå®ç°æœ¬ç«¯ä¸å¯¹ç«¯çš„è·¯ç”±æ­£ç¡®å¼•å…¥VPNï¼ŒåŸåˆ™ä¸ºï¼š
&lt;ul&gt;
&lt;li&gt;æœ¬ç«¯çš„Export Target=å¯¹ç«¯çš„Import Target&lt;/li&gt;
&lt;li&gt;æœ¬ç«¯çš„Import Target=å¯¹ç«¯çš„Export Target&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å†²çªè·¯ç”±çš„æŸ¥æ‰¾&#34;&gt;å†²çªè·¯ç”±çš„æŸ¥æ‰¾&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966162225.png&#34; alt=&#34;å†²çªè·¯ç”±çš„æŸ¥æ‰¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å› ä¸ºæ•°æ®åŒ…æ²¡æœ‰æºå¸¦ä»»ä½•æ ‡è¯†ï¼Œæ‰€ä»¥åœ¨ICMPçš„æ•°æ®åŒ…åˆ°è¾¾PE1æ—¶ï¼ŒPE1å¹¶ä¸çŸ¥é“è¯¥æŸ¥æ‰¾å“ªä¸ªVPNçš„è·¯ç”±è¡¨æ‰¾åˆ°æ­£ç¡®çš„ç›®æ ‡åœ°å€ã€‚&lt;strong&gt;è§£å†³è¯¥é—®é¢˜çš„æ–¹æ¡ˆæœ‰ä¸¤ç§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åœ¨æ•°æ®åŒ…ä¸­å¢åŠ æ ‡è¯†ä¿¡æ¯&lt;/strong&gt;ï¼Œå¹¶ä¸”ä½¿ç”¨&lt;strong&gt;RDä½œä¸ºåŒºåˆ†æ•°æ®åŒ…æ‰€å±VPNçš„æ ‡è¯†ç¬¦&lt;/strong&gt;ï¼Œæ•°æ®è½¬å‘æ—¶ä¹Ÿæºå¸¦RDä¿¡æ¯ã€‚ç¼ºç‚¹æ˜¯ç”±äºRDç”±8å­—èŠ‚ç»„æˆï¼Œé¢å¤–å¢å¤§æ•°æ®åŒ…ï¼Œä¼šå¯¼è‡´è½¬å‘æ•ˆç‡é™ä½&lt;/li&gt;
&lt;li&gt;å€ŸåŠ©å…¬ç½‘ä¸­å·²ç»å®æ–½çš„MPLSåè®®&lt;strong&gt;å»ºç«‹çš„æ ‡ç­¾éš§é“&lt;/strong&gt;ï¼Œ&lt;strong&gt;é‡‡ç”¨æ ‡ç­¾ä½œä¸ºæ•°æ®åŒ…æ­£ç¡®è½¬å‘çš„æ ‡è¯†&lt;/strong&gt;ï¼ŒMPLSæ ‡ç­¾æ”¯æŒåµŒå¥—ï¼Œå¯ä»¥å°†åŒºåˆ†æ•°æ®åŒ…æ‰€å±VPNçš„æ ‡ç­¾å°è£…åœ¨å…¬ç½‘æ ‡ç­¾å†…ã€‚&lt;br&gt;
ä½¿ç”¨æ ‡ç­¾åµŒå¥—è§£å†³æ•°æ®è½¬å‘è¿‡ç¨‹ä¸­å†²çªè·¯ç”±çš„æŸ¥æ‰¾é—®é¢˜ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966350316.png&#34; alt=&#34;æ ‡ç­¾åµŒå¥—è§£å†³æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Outer MPLS Labelåœ¨MPLS VPNä¸­è¢«ç§°ä¸ºå…¬ç½‘æ ‡ç­¾ï¼Œç”¨äºMPLSç½‘ç»œä¸­è½¬å‘æ•°æ®ã€‚ä¸€èˆ¬å…¬ç½‘æ ‡ç­¾ä¼šåœ¨åˆ°è¾¾PEè®¾å¤‡æ—¶å·²è¢«å€’æ•°ç¬¬äºŒè·³å‰¥æ‰ï¼Œæ¼å‡ºInner Labelã€‚Inner MPLS Labelåœ¨MPLS VPNä¸­è¢«ç§°ä¸ºç§ç½‘æ ‡ç­¾ï¼Œç”¨äºå°†æ•°æ®æ­£ç¡®å‘é€åˆ°ç›¸åº”çš„VPNä¸­ï¼ŒPEä¾é Inner LabelåŒºåˆ†æ•°æ®åŒ…å±äºå“ªä¸ªVPNã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å·¥ä½œåŸç†&#34;&gt;å·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966545952.png&#34; alt=&#34;å·¥ä½œåŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MPLS VPNçš„å·¥ä½œè¿‡ç¨‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;h3 id=&#34;mpls-vpnè·¯ç”±çš„ä¼ é€’è¿‡ç¨‹&#34;&gt;MPLS VPNè·¯ç”±çš„ä¼ é€’è¿‡ç¨‹&lt;/h3&gt;
&lt;h4 id=&#34;1-ceä¸peä¹‹é—´çš„è·¯ç”±äº¤æ¢&#34;&gt;1. CEä¸PEä¹‹é—´çš„è·¯ç”±äº¤æ¢&lt;/h4&gt;
&lt;p&gt;PEä¸CEä¹‹é—´å¯ä»¥é€šè¿‡é™æ€è·¯ç”±åè®®äº¤æ¢è·¯ç”±ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŠ¨æ€è·¯ç”±åè®®ï¼ˆå¦‚ï¼šRIPï¼ŒOSPFï¼ŒISISï¼ŒBGPç­‰ï¼‰äº¤æ¢è·¯ç”±ä¿¡æ¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966629967.png&#34; alt=&#34;CEä¸PEä¹‹é—´çš„è·¯ç”±äº¤æ¢&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-vrfè·¯ç”±æ³¨å…¥mp-bgpçš„è¿‡ç¨‹&#34;&gt;2. VRFè·¯ç”±æ³¨å…¥MP-BGPçš„è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;VRFä¸­çš„IPv4è·¯ç”±è¢«æ·»åŠ ä¸ŠRDã€RTä¸æ ‡ç­¾ç­‰ä¿¡æ¯æˆä¸ºVPN-IPv4çš„è·¯ç”±æ”¾å…¥åˆ°MP-BGPçš„è·¯ç”±è¡¨ä¸­ï¼Œå¹¶é€šè¿‡MP-BGPåè®®åœ¨PEè®¾å¤‡ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966762427.png&#34; alt=&#34;VRFè·¯ç”±æ³¨å…¥MP-BGPçš„è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-å…¬ç½‘æ ‡ç­¾çš„åˆ†é…è¿‡ç¨‹&#34;&gt;3. å…¬ç½‘æ ‡ç­¾çš„åˆ†é…è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;MPLSåè®®åœ¨è¿è¥å•†ç½‘ç»œåˆ†é…å…¬ç½‘æ ‡ç­¾ï¼Œå»ºç«‹æ ‡ç­¾éš§é“ï¼Œå®ç°ç§ç½‘æ•°æ®åœ¨å…¬ç½‘ä¸Šçš„è½¬å‘ã€‚&lt;br&gt;
PEä¹‹é—´è¿è¡Œçš„MP-BGPåè®®ä¸ºVPNè·¯ç”±åˆ†é…ç§ç½‘æ ‡ç­¾ï¼ŒPEè®¾å¤‡æ ¹æ®ç§ç½‘æ ‡ç­¾å°†æ•°æ®æ­£ç¡®è½¬å‘ç»™ç›¸åº”çš„VPNã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966793051.png&#34; alt=&#34;å…¬ç½‘æ ‡ç­¾çš„åˆ†é…è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;4-mp-bgpè·¯ç”±æ³¨å…¥vrfçš„è¿‡ç¨‹&#34;&gt;4. MP-BGPè·¯ç”±æ³¨å…¥VRFçš„è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;PE2åœ¨æ¥æ”¶åˆ°PE1å‘é€çš„VPNv4è·¯ç”±åå°†æ£€æŸ¥è·¯ç”±çš„æ‰©å±•å›¢ä½“å±æ€§ï¼Œå°†æºå¸¦çš„Export Targetå€¼ä¸æœ¬ç«¯VPNçš„Import Targetå€¼æ¯”è¾ƒï¼Œæ•°å€¼ç›¸åŒåˆ™å°†è·¯ç”±å¼•å…¥VPNçš„è·¯ç”±è¡¨ï¼Œå®ç°è·¯ç”±çš„æ­£ç¡®å¯¼å…¥ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966855157.png&#34; alt=&#34;MP-BGPè·¯ç”±æ³¨å…¥VRFçš„è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;mpls-vpnæ•°æ®çš„è½¬å‘è¿‡ç¨‹&#34;&gt;MPLS VPNæ•°æ®çš„è½¬å‘è¿‡ç¨‹&lt;/h3&gt;
&lt;h4 id=&#34;1-ceè®¾å¤‡åˆ°peè®¾å¤‡çš„æ•°æ®è½¬å‘&#34;&gt;1. CEè®¾å¤‡åˆ°PEè®¾å¤‡çš„æ•°æ®è½¬å‘&lt;/h4&gt;
&lt;p&gt;æ•°æ®ä»CE4è½¬å‘ç»™PE2ï¼Œåœ¨PE2è®¾å¤‡ä¸Šéœ€è¦æŸ¥æ‰¾VPN2çš„è·¯ç”±è¡¨ï¼Œç¡®å®šæ•°æ®è¿›è¡Œæ ‡ç­¾è½¬å‘åï¼Œå†æŸ¥æ‰¾ä¸‹ä¸€è·³ä¸å‡ºæ¥å£ï¼Œæ ¹æ®åˆ†é…çš„æ ‡ç­¾è¿›è¡ŒMPLSçš„å°è£…ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597966918842.png&#34; alt=&#34;CEè®¾å¤‡åˆ°PEè®¾å¤‡çš„æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CE4æ‰€è¿æ¥çš„VPN2çš„ç”¨æˆ·è¦ä¸å¯¹ç«¯VPN2ä¸­çš„172.16.1.1/32ç”¨æˆ·é€šä¿¡ï¼ŒPE2æ”¶åˆ°æ•°æ®åŒ…åï¼ŒæŸ¥æ‰¾æœ¬åœ°VPN2çš„è·¯ç”±è¡¨ï¼Œå‘ç°æ•°æ®åŒ…éœ€è¦è¿›è¡Œæ ‡ç­¾è½¬å‘ï¼Œåˆ†é…çš„ç§ç½‘æ ‡ç­¾ä¸º1027ï¼Œåˆ°è¾¾ç›®æ ‡åœ°å€çš„ä¸‹ä¸€è·³ä¸ºPE1&lt;/li&gt;
&lt;li&gt;PE2é€šè¿‡æŸ¥æ‰¾LFIBè¡¨ï¼Œå‘ç°åˆ°è¾¾PE1è¢«åˆ†é…çš„å…¬ç½‘æ ‡ç­¾ä¸º1030ï¼Œå‡ºæ¥å£ä¸ºG0/0/0ï¼ŒPE2å°†æ•°æ®åŒ…è¿›è¡ŒMPLSå°è£…ï¼Œå†…å±‚ä¸º1027ï¼Œå¤–å±‚ä¸º1030ï¼Œä»æ¥å£G0/0/0è½¬å‘å‡ºå»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;2-å…¬ç½‘è®¾å¤‡ä¸Šçš„æ•°æ®è½¬å‘&#34;&gt;2. å…¬ç½‘è®¾å¤‡ä¸Šçš„æ•°æ®è½¬å‘&lt;/h4&gt;
&lt;p&gt;æ•°æ®åŒ…åœ¨å…¬ç½‘ä¸Šè½¬å‘æ—¶ï¼Œé€šè¿‡MPLSåè®®å·²å»ºç«‹å¥½çš„æ ‡ç­¾éš§é“å°†æ•°æ®æŠ¥æ–‡è½¬å‘åˆ°PE1ã€‚è½¬å‘è¿‡ç¨‹ä¸­ï¼Œåªæ”¹å˜å…¬ç½‘æ ‡ç­¾ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597967009598.png&#34; alt=&#34;å…¬ç½‘è®¾å¤‡ä¸Šçš„æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PE2æ”¶åˆ°VPNç”¨æˆ·çš„æ•°æ®åŒ…åï¼Œå°è£…ä¸ŠMPLSçš„æ ‡ç­¾ï¼Œå°†ç§ç½‘æ•°æ®é€šè¿‡MPLSå»ºç«‹çš„æ ‡ç­¾éš§é“è¿›è¡Œè½¬å‘ï¼ŒPE2ä¸Šæ•°æ®åŒ…å°è£…çš„å…¬ç½‘æ ‡ç­¾ä¸º1030ï¼Œè½¬å‘ç»™Pè®¾å¤‡åï¼ŒæŸ¥æ‰¾LFIBè¡¨ï¼Œè¿›æ ‡ç­¾ä¸º1030çš„æ•°æ®åŒ…ï¼Œå¯¹åº”çš„å‡ºæ ‡ç­¾ä¸º3ï¼Œå³å°†å…¬ç½‘æ ‡ç­¾æ ‡ç­¾å‰¥ç¦»åï¼Œå°†æ•°æ®åŒ…å‘é€ç»™PE1ï¼ŒPE1æ”¶åˆ°çš„æ˜¯åªæœ‰å†…å±‚ç§ç½‘æ ‡ç­¾çš„æ•°æ®åŒ…ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3-peè®¾å¤‡åˆ°ceè®¾å¤‡çš„æ•°æ®è½¬å‘&#34;&gt;3. PEè®¾å¤‡åˆ°CEè®¾å¤‡çš„æ•°æ®è½¬å‘&lt;/h4&gt;
&lt;p&gt;PE1æ”¶åˆ°å‰¥ç¦»å…¬ç½‘æ ‡ç­¾çš„æ•°æ®åŒ…åï¼Œæ ¹æ®ç§ç½‘æ ‡ç­¾æŸ¥æ‰¾è½¬å‘æ•°æ®åŒ…çš„ä¸‹ä¸€è·³ï¼Œå°†æ•°æ®åŒ…æ­£ç¡®å‘é€ç»™ç›¸åº”VPNå®¢æˆ·&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597967052503.png&#34; alt=&#34;PEè®¾å¤‡åˆ°CEè®¾å¤‡çš„æ•°æ®è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
PE1æ”¶åˆ°åªæœ‰ä¸€å±‚æ ‡ç­¾çš„æ•°æ®åŒ…ï¼ŒæŸ¥æ‰¾æ ‡ç­¾è¡¨ï¼Œå‘ç°æ ‡ç­¾ä¸º1027çš„æ•°æ®åŒ…å¯¹åº”çš„ä¸‹ä¸€è·³ä¸ºCE2ï¼Œäºæ˜¯PE2å°†æ•°æ®åŒ…å‰¥ç¦»ç§ç½‘æ ‡ç­¾ï¼Œè¿›è¡ŒIPå°è£…ï¼ŒæŸ¥æ‰¾å‡ºæ¥å£ï¼Œå°†æ•°æ®åŒ…å‘é€ç»™CE2å¤„ç†ï¼Œæ•°æ®åŒ…åˆ°è¾¾æ­£ç¡®çš„ç›®æ ‡ç”¨æˆ· ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“-2&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;h3 id=&#34;è·¯ç”±ä¼ é€’&#34;&gt;è·¯ç”±ä¼ é€’&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;RD&lt;/strong&gt;ï¼šè·¯ç”±åŒºåˆ†å™¨ ï¼Œæ˜¯ä¸€ä¸ª64bitçš„æ•°å€¼ï¼ŒPEè®¾å¤‡å°†è¿™ä¸ªå€¼åŠ åœ¨æ¥è‡ªvrfçš„IPv4æˆ–è€…IPv6è·¯ç”±å‰é¢å½¢æˆVPNv4/VPNv6è·¯ç”±ï¼Œè¯¥è·¯ç”±è¢«é€šå‘Šè¿›MP-BGP&lt;br&gt;
&lt;code&gt;VRFæ˜¯åœ¨PEè®¾å¤‡ä¸Šèµ·åˆ°è·¯ç”±éš”ç¦»ä½œç”¨ï¼Œè€ŒRDæ˜¯åœ¨ä¼ é€’è¿‡ç¨‹ä¸­èµ·åˆ°è·¯ç”±åŒºåˆ†ä½œç”¨&lt;/code&gt;&lt;br&gt;
åœ¨PEè®¾å¤‡ä¸Šäº§ç”Ÿäº†ç»è¿‡RDåšäº†å…¨å±€åŒºåˆ†çš„VPNv4è·¯ç”±ï¼Œé‚£ä¹ˆç°åœ¨éœ€è¦è§£å†³è·¯ç”±å¦‚ä½•é€šè¿‡MP-BGPä¼ é€’çš„é—®é¢˜ï¼šå»ºç«‹ä¸€ä¸ªä¸“ä¸ºVPNv4æœåŠ¡çš„åœ°å€æ—ä¸‹çš„é‚»å±…ä¼šè¯ã€‚é€šè¿‡ä¸€ä¸ªé™„åŠ çš„æ“æ§æ–¹æ¡ˆï¼Œä¿éšœåªæœ‰é‚£äº›æœ‰éœ€è¦è¢«ä¼ é€’è‡³æŒ‡å®šPEè®¾å¤‡çš„è·¯ç”±æ‰ä¼šè¢«ä¼ é€’ã€‚&lt;strong&gt;RT route-targetï¼Œ ä¸€ä¸ªBGPæ‰©å±•å›¢ä½“å±æ€§&lt;/strong&gt;ï¼Œé€šè¿‡é’ˆå¯¹BGPæ”¶å‘è·¯ç”±å®šä¹‰æ ¹æ®æ‰©å±•å›¢ä½“å±æ€§RTçš„ç­–ç•¥å®ç°&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®è½¬å‘&#34;&gt;æ•°æ®è½¬å‘&lt;/h3&gt;
&lt;p&gt;å½“PEè®¾å¤‡äº§ç”ŸVPNv4è·¯ç”±æ—¶ï¼Œä¼šé€šè¿‡MP-BGPä¸ºå…¶åˆ†é…ä¸€ä¸ªæ ‡ç­¾ã€‚&lt;br&gt;
IPæŠ¥æ–‡è¿›å…¥PEè®¾å¤‡ï¼Œæ ¹æ®ç›®æ ‡IPåœ°å€æŸ¥æ‰¾LFIBã€‚&lt;br&gt;
å†…å±‚æ ‡ç­¾ç”¨äºæ•°æ®åˆ°è¾¾è¿œç«¯ä¹‹åï¼Œå†³å®šè½¬å‘è‡³å“ªä¸ªæ¥å£ï¼ˆvrfé‡Œé¢ï¼‰ï¼Œå¤–å±‚æ ‡ç­¾ç”¨äºåœ¨MPLSæ ¸å¿ƒç½‘ä¸­è½¬å‘æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;éƒ¨ç½²pe-ceè·¯ç”±çš„å°æç¤º&#34;&gt;éƒ¨ç½²PE-CEè·¯ç”±çš„å°æç¤º&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨é™æ€ï¼Œåˆ™PEéœ€è¦åœ¨vrfä¸‹å†™é™æ€ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨IGPï¼Œåˆ™éœ€è¦åŒå‘é‡åˆ†å¸ƒï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯BGPï¼Œåˆ™ä¸éœ€è¦é‡åˆ†å¸ƒï¼Œä½†PEåœ¨vrfåœ°å€æ—ä¸‹åšé…ç½®ï¼›&lt;br&gt;
å†…å±‚æ ‡ç­¾ç”±PE MP-BGPåˆ†é…ï¼Œæ ‡è¯†æŠ¥æ–‡åˆ°è¾¾æœ¬PEåè½¬å‘è‡³å“ªä¸ªå‡ºæ¥å£æˆ–è€…vrfï¼›&lt;br&gt;
å¤–å±‚æ ‡ç­¾ç”±LDPåˆ†é…ï¼Œåœ¨Core networkä¾æ®å¤–å±‚æ ‡ç­¾è½¬å‘ï¼›&lt;br&gt;
æ ‡ç­¾åœ¨äº§ç”ŸVPNv4è·¯ç”±æ—¶ï¼Œç”±MP-BGPåˆ†é…ï¼ŒåŒæ—¶æ ‡ç­¾å°†è·Ÿéšè·¯ç”±æ›´æ–°ç»™å¯¹ç­‰ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é˜²ç¯&#34;&gt;é˜²ç¯&lt;/h1&gt;
&lt;h2 id=&#34;å¤šå®¿ä¸»ç¯å¢ƒä¸‹çš„sooeigrpåè®®&#34;&gt;å¤šå®¿ä¸»ç¯å¢ƒä¸‹çš„SoOï¼ˆEIGRPåè®®ï¼‰&lt;/h2&gt;
&lt;p&gt;SoOï¼ˆsign of originï¼‰BGPçš„æ‰©å±•å›¢ä½“å±æ€§ç”¨äºåœ¨å¤šå‡ºå£æƒ…å†µä¸‹é˜»æ­¢ç¯è·¯ã€‚å”¯ä¸€çš„SoOå€¼å¿…é¡»ä¸ºæ¯ä¸ªVPNç«™ç‚¹é…ç½®ï¼Œè¯¥å€¼ï¼ˆsitemapï¼‰åº”ç”¨äºPE-CEè¿æ¥çš„æ¥å£ä¸‹ï¼ŒSoOå€¼é€šè¿‡ä¸€ä¸ªroute-mapé…ç½®ï¼Œå…¶æœ¬è´¨æ˜¯&lt;strong&gt;ä¸æŠŠæ”¶åˆ°çš„è·¯ç”±å†ä¼ ç»™å®¢æˆ·ç«™ç‚¹&lt;/strong&gt;ï¼Œ&lt;strong&gt;éƒ¨ç½²åœ¨PEçš„vrfæ¥å£ä¸‹&lt;/strong&gt;ï¼Œå…¶å€¼ä¸€èˆ¬ä¸ºASN:nnæˆ–è€…IP-address:nn&lt;br&gt;
EIGRPåè®®æ¥å…¥MPLS VPNçš„é˜²ç¯ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1598189427404.png&#34; alt=&#34;EIGRPåè®®æ¥å…¥MPLS VPNçš„é˜²ç¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨åŒå‡ºå£ï¼ˆå¤šå½’å±ï¼‰çš„ç¯å¢ƒï¼Œææœ‰å¯èƒ½ä¼šå‡ºç°è·¯ç”±ç¯è·¯ï¼Œå›¾ä¸­10.1.2.0/24ï¼ŒSoOä¹‹ååœ¨PEæ”¶åˆ°çš„æ—¶å€™å°±ä¸ä¼šå†ä¼ ç»™CEï¼Œå³PE-Yä¸ä¼šå†ä¼ ç»™CE-A2&lt;/p&gt;
&lt;h3 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä»CEæ”¶åˆ°çš„è·¯ç”±å¼•å…¥MP-BGPï¼Œå¢åŠ æ‰©å±•å›¢ä½“å±æ€§å€¼è‡ªå®šä¹‰SoO&lt;/li&gt;
&lt;li&gt;å…¶å®ƒPEè®¾å¤‡ä¸å°†æºå¸¦ç‰¹å®šSoOå±æ€§å€¼çš„è·¯ç”±ä¼ é€’ç»™åŒç«™ç‚¹çš„CE&lt;/li&gt;
&lt;li&gt;ç›¸åŒSoOå€¼ï¼Œè¢«PEè®¤ä¸ºæ˜¯åŒç«™ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸¾ä¾‹è¯´æ˜&#34;&gt;ä¸¾ä¾‹è¯´æ˜&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1598626932182.png&#34; alt=&#34;ä¸¾ä¾‹è¯´æ˜&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨PE1ä¸Šé’ˆå¯¹CE1å¯¹ç­‰ä½“æŒ‡å®šSoOå±æ€§ï¼Œè¯¥å±æ€§ç›¸å½“äºæ ‡è¯†äº†CE1æ‰€åœ¨Site&lt;/li&gt;
&lt;li&gt;å½“CE1å‘å¸ƒè·¯ç”±ç»™PE1æ—¶ï¼ŒPE1ä¸ºè¿™äº›è·¯ç”±æºå¸¦ä¸Šè¯¥SoOå±æ€§&lt;/li&gt;
&lt;li&gt;PE1é€šè¿‡éª¨å¹²ç½‘å°†è¿™äº›è·¯ç”±å‘å¸ƒç»™PE2æ—¶ä¹Ÿå°†æºå¸¦æ­¤SoOå±æ€§&lt;/li&gt;
&lt;li&gt;PE2å°†è¿™äº›è·¯ç”±å‘å¸ƒç»™è‡ªå·±çš„CE2å¯¹ç­‰ä½“æ—¶ï¼Œå¦‚æœPE2å‘ç°è·¯ç”±ä¸­æºå¸¦çš„SoOå±æ€§ä¸å…¶ä¸Šé’ˆå¯¹CE2å¯¹ç­‰ä½“é…ç½®çš„SoOå±æ€§ç›¸åŒï¼Œè¯´æ˜è¿™äº›è·¯ç”±å°±æ˜¯ç”±è¯¥Siteï¼ˆCE1æ‰€åœ¨çš„siteï¼‰å‘å‡ºçš„ï¼Œä»è€Œæ‹’ç»å°†è·¯ç”±å‘å¸ƒç»™CE2å¯¹ç­‰ä½“ï¼Œä»è€Œé¿å…äº†VPN siteå†…è·¯ç”±ç¯è·¯çš„äº§ç”Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ospfçš„é˜²ç¯&#34;&gt;OSPFçš„é˜²ç¯&lt;/h2&gt;
&lt;h3 id=&#34;domain-id&#34;&gt;Domain-ID&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŸŸæ ‡è¯†ç¬¦ï¼ˆDomain IDï¼‰ç”¨æ¥æ ‡è¯†å’ŒåŒºåˆ†ä¸åŒçš„åŸŸ&lt;/li&gt;
&lt;li&gt;æœ¬åœ°OSPFåŒºåŸŸå’ŒVPNè¿œç«¯çš„OSPFåŒºåŸŸé—´å¦‚æœç›¸äº’å‘å¸ƒåŒºåŸŸé—´è·¯ç”±Type3 LSAï¼Œåˆ™è¿™äº›åŒºåŸŸå¿…é¡»å±äºåŒä¸€ä¸ªOSPFåŸŸï¼Œå³ä½¿ç”¨domain-idå‘½ä»¤é…ç½®ç›¸åŒçš„OSPFåŸŸæ ‡è¯†&lt;/li&gt;
&lt;li&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œä»PEè·¯ç”±å™¨å¼•å…¥çš„è·¯ç”±å°†ä¼šä½œä¸ºExternal-LSAå‘å¸ƒå‡ºå»ï¼Œä½†å¯¹å±äºåŒä¸€ä¸ªOSPFåŸŸä¸åŒèŠ‚ç‚¹çš„ç›®çš„åœ°ï¼Œè¿™æ ·çš„è·¯ç”±åº”è¯¥ä½œä¸ºType3 LSAå‘å¸ƒï¼Œè¿™å°±éœ€è¦ä¸ºåŒä¸€ä¸ªOSPFåŸŸä½¿ç”¨ç›¸åŒçš„åŸŸæ ‡è¯†ç¬¦ï¼Œåä¸ºè®¾å¤‡é»˜è®¤ä¸ºNULLï¼Œæ€ç§‘è®¾å¤‡ä¸Šé»˜è®¤ä¸ºè¿›ç¨‹ID&lt;/li&gt;
&lt;li&gt;å½“æœ‰äº†vrfä¹‹åï¼Œå°±ä¼šæœ‰domain-idçš„æ¦‚å¿µï¼Œå³ä¸åŒçš„ospfåŸŸï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ºospfçš„è¿›ç¨‹å·ï¼Œæ‰€æœ‰å½“ä¸¤ç«¯çš„è¿›ç¨‹å·ä¸ä¸€è‡´æ—¶ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯External-LSAã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ‰‹åŠ¨é…ç½®domain-id&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸‰ç±»lsaé˜²ç¯down-bit&#34;&gt;ä¸‰ç±»LSAé˜²ç¯ï¼ˆDown bitï¼‰&lt;/h3&gt;
&lt;p&gt;å¤šåè®®BGPå¼•å…¥OSPFæ—¶è‡ªåŠ¨å¢åŠ Downä½ï¼Œä¼šåœ¨åŒºåŸŸå†…ä¿ç•™ï¼Œå…¶ä»–PEæ£€æµ‹åˆ°Downä½ï¼Œæ‹’ç»æŠŠOSPFå¼•å…¥BGPï¼Œå³æ­¤æ¡ä¸‰ç±»LSAçš„è·¯ç”±ä¸å‚ä¸è·¯ç”±é€‰æ‹©ï¼Œä¹Ÿä¿è¯æ•°æ®çš„ä¼˜å…ˆè½¬å‘ã€‚&lt;br&gt;
&lt;code&gt;vrfæˆ–è€…vpnå®ä¾‹ä¸‹ç»‘å®šçš„OSPFè¿›ç¨‹ï¼Œå¯¹å¸¦æœ‰down bitçš„ä¸‰ç±»LSAä¸èƒ½è®¡ç®—&lt;/code&gt;&lt;br&gt;
OSPFæ¥å…¥MPLS VPNï¼Œæœ¬èº«è‡ªå·±è®¾ç½®äº†é˜²ç¯è§„åˆ™å’Œè§£å†³æ–¹æ¡ˆï¼Œæ˜¯è‡ªåŠ¨çš„ï¼Œåä¸ºå¯ä»¥ä½¿ç”¨&lt;code&gt;vpn-instance-capability simple&lt;/code&gt;è¿›è¡Œå…³é—­&lt;br&gt;
ä»PEå¼•å…¥åˆ°OSPF LSDBçš„å¤–éƒ¨LSAï¼Œdown bitç½®ä½&lt;/p&gt;
&lt;h3 id=&#34;å¤–éƒ¨è·¯ç”±çš„ç¯è·¯é¢„é˜²5ç±»7ç±»lsaé˜²ç¯&#34;&gt;å¤–éƒ¨è·¯ç”±çš„ç¯è·¯é¢„é˜²(5ç±»/7ç±»LSAé˜²ç¯)&lt;/h3&gt;
&lt;p&gt;å¤–éƒ¨è·¯ç”±ï¼ˆ5ã€7ç±»ï¼‰ï¼šTAGï¼ˆBGPçš„ASå·ç ï¼‰ï¼ŒPEæ£€æµ‹åˆ°5ç±»LSAçš„TAG=è®¾å¤‡è‡ªèº«çš„ASå·ç åˆ™æ‹’ç»å¼•å…¥ã€‚&lt;br&gt;
é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸vrfå®ä¾‹ç»‘å®šçš„OSPFä¸ä»…æ£€æµ‹ä¸‰ç±»LSAçš„down bitï¼Œè¿˜æ£€æµ‹TAG&lt;/p&gt;
&lt;h3 id=&#34;sham-linkv-linkè™šå‡é“¾è·¯&#34;&gt;sham-linkï¼ˆv-linkè™šå‡é“¾è·¯ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœºæ™¯ï¼šç«™ç‚¹ä¹‹é—´å­˜åœ¨å…¶å®ƒä¸“æœ‰é“¾è·¯ï¼ˆåé—¨é“¾è·¯ï¼Œå¦‚ä¸‹å›¾ä¸­R8ä¸R10é—´ç²‰çº¢è‰²èƒŒæ™¯çš„é“¾è·¯ï¼‰çš„æƒ…å†µä¸‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1598362348451.png&#34; alt=&#34;åé—¨é“¾è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åŸç†ï¼šåœ¨PEä¸Šçš„vrfå®ä¾‹ä¹‹é—´é€šè¿‡å•æ’­å»ºç«‹sham-linkï¼Œç„¶åå•æ’­ä¼ é€’LSAï¼Œè¿˜åŸMPLSç¯å¢ƒä¸‹OSPFçš„LSAæŠ¥æ–‡çš„æ­£å¸¸ä¼ è¾“&lt;/li&gt;
&lt;li&gt;é…ç½®ï¼š
&lt;ol&gt;
&lt;li&gt;åœ¨PEè®¾å¤‡ä¸Šä¸ºvrfåˆ›å»ºç‹¬ç«‹ç¯å›å£ï¼Œå¿…é¡»/32&lt;/li&gt;
&lt;li&gt;å°†å…¶æ³¨å…¥BGPçš„vrfå¯¹åº”åœ°å€æ—ï¼Œç»ä¸å…è®¸æ³¨å…¥OSPF&lt;/li&gt;
&lt;li&gt;é…ç½®sham-link&lt;br&gt;
&lt;code&gt;åœ¨sham-linkä¸­ï¼Œå†…å±‚æ ‡ç­¾ç”±å¤šåè®®BGPåˆ†é…ï¼Œä»vrfçš„å®¢æˆ·è·¯ç”±åè®®OSPFåˆ°BGPçš„é‡åˆ†å¸ƒæ˜¯éœ€è¦åšçš„ï¼Œå¦åˆ™æ²¡æœ‰å†…å±‚æ ‡ç­¾&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ospfçš„mecvrf-lite&#34;&gt;OSPFçš„MEC/VRF-LITE&lt;/h3&gt;
&lt;p&gt;MCEæ˜¯Multi-VPN-Instance CEï¼ˆå¤šå®ä¾‹CEï¼‰çš„ç®€ç§°ï¼Œå…·æœ‰MCEåŠŸèƒ½çš„è®¾å¤‡åœ¨BGP/MPLS IP VPNç»„ç½‘åº”ç”¨ä¸­æ‰¿æ‹…å¤šä¸ªVPNå®ä¾‹çš„CEåŠŸèƒ½ï¼Œå‡å°‘ç”¨æˆ·ç½‘ç»œè®¾å¤‡çš„æŠ•å…¥ï¼Œä¸€ä¸ªç§æœ‰ç½‘ç»œå†…çš„ç”¨æˆ·éœ€è¦åˆ’åˆ†æˆå¤šä¸ªVPNï¼Œä¸åŒçš„VPNç”¨æˆ·çš„ä¸šåŠ¡éœ€è¦å®Œå…¨éš”ç¦»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1598451072279.png&#34; alt=&#34;OSPFçš„MEC&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
VPNv4çš„è·¯ç”±åå°„å™¨ä¸æ‰€æœ‰PEå»ºç«‹é‚»å±…å…³ç³»ï¼Œè´Ÿè´£åå°„è·¯ç”±ã€‚ciscoå’Œhuaweiçš„åŒºåˆ«ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œciscoçš„VPNv4åå°„å™¨æ”¶å–æ‰€æœ‰VPNv4è·¯ç”±ï¼Œä½†åä¸ºçš„æ­£å¥½ç›¸åã€‚&lt;/p&gt;
&lt;h1 id=&#34;bgpæ¥å…¥mpls-vpn&#34;&gt;BGPæ¥å…¥MPLS VPN&lt;/h1&gt;
&lt;h2 id=&#34;bgpæ¥å…¥mpls-vpnè§£å†³çš„é—®é¢˜&#34;&gt;BGPæ¥å…¥MPLS VPNè§£å†³çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ä¸ç”¨åšOSPFä¸BGPçš„åŒå‘é‡åˆ†å¸ƒ&lt;/p&gt;
&lt;h2 id=&#34;å¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼å¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢&#34;&gt;å¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼ï¼Œå¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢ï¼Ÿ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1598539126910.png&#34; alt=&#34;ä¼ é€’æ˜ç»†è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;é—®é¢˜æè¿°&#34;&gt;é—®é¢˜æè¿°&lt;/h3&gt;
&lt;p&gt;ä¾‹å¦‚ä½¿ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼ï¼Œå¦‚æœR8/9è®¿é—®äº’è”ç½‘ï¼Œåˆ™è®¿é—®äº’è”ç½‘çš„æµé‡ä¹Ÿç»è¿‡æ€»éƒ¨çš„R10ã€‚&lt;br&gt;
ç›®å‰R8ä¸R9çš„è·¯ç”±å¯ä»¥æ­£å¸¸ä¼ åˆ°R1ï¼Œç„¶åä¼ é€’ç»™R10ï¼Œä½†æ˜¯R10ä¸ä¼šå†ä¼ é€’ç»™R1ï¼ˆebgpé˜²ç¯ï¼‰ã€‚&lt;br&gt;
æ­¤æ—¶éœ€è¦è§£å†³çš„é—®é¢˜å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;R10å¦‚ä½•å°†è·¯ç”±ä¼ é€’ç»™R1ã€ebgpé˜²ç¯ã€‘&lt;/li&gt;
&lt;li&gt;R8å°†è·¯ç”±é€šè¿‡R3-R2-R1ä¼ é€’ç»™R10ï¼ŒR10å†ä¼ é€’ä¸‹æ¥ï¼ˆç»™R1ï¼‰ä¹‹åï¼Œä¼šå¯¼è‡´R1ä¸Šæœ‰ä¸¤æ¡R8çš„è·¯ç”±ï¼Œè¿™ä¸¤æ¡è·¯ç”±ä¸èƒ½å…±å­˜ï¼Œæ­¤æ—¶ä¼šé€‰æ‹©ä»R8å‘æ¥çš„è·¯ç”±ï¼Œè€Œä¸é€‰æ‹©ä»R10ä¼ è¿‡æ¥çš„ã€bgpçš„è·¯ç”±ä¼˜é€‰ã€‘&lt;/li&gt;
&lt;li&gt;R2æ˜¯vpnv4çš„è·¯ç”±åå°„å™¨ï¼Œè·¯ç”±ä»R1ä¼ é€’ç»™R2ï¼Œç«™åœ¨R2è·¯ç”±åå°„å™¨çš„è§’åº¦çœ‹ï¼ŒR3å’ŒR1ä¸Šéƒ½æœ‰R8çš„è·¯ç”±ï¼Œè¿™åªèƒ½é€‰æ‹©ä¸€ä¸ªã€RDéœ€è¦åŒºåˆ†å¼€ã€‘&lt;/li&gt;
&lt;li&gt;å¦‚ä½•æ§åˆ¶æ”¶å‘çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¯¹åº”çš„è§£å†³æ–¹æ¡ˆ&#34;&gt;å¯¹åº”çš„è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹çš„PEä¿®æ”¹eBGPé˜²ç¯&lt;/li&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹PEé€šè¿‡å¤švrfåŒºåˆ†ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹PEé€šè¿‡ä¸åŒRDåŒºåˆ†ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±ï¼Œä»¥ä½¿å¾—VPNv4çš„RRèƒ½å¤ŸåŒæ—¶ä¿å­˜ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;é€šè¿‡RTæ§åˆ¶ä¼ å‡ºçš„è·¯ç”±å’Œä¼ å…¥çš„è·¯ç”±çš„æ›´æ–°æ–¹å‘ï¼Œä¸­å¿ƒPEï¼švrfAæ”¶ã€vrfBå‘ï¼›åˆ†æ”¯PEï¼šå‘ç»™vrfAã€æ”¶å–vrfBã€‚
&lt;ul&gt;
&lt;li&gt;Import Route-Policyå¯ä»¥è¿‡æ»¤VPNå®ä¾‹IPv4åœ°å€æ—å¼•å…¥çš„è·¯ç”±ä¿¡æ¯ï¼Œä»¥åŠä¸ºé€šè¿‡è¿‡æ»¤çš„è·¯ç”±ä¿¡æ¯è®¾ç½®è·¯ç”±å±æ€§&lt;/li&gt;
&lt;li&gt;Export Route-Policyå‘½ä»¤ç”¨äºå°†å½“å‰VPNå®ä¾‹çš„IPv4åœ°å€æ—ä¸ä¸€æ¡å‡ºæ–¹å‘çš„Route-Policyè¿›è¡Œå…³è”&lt;/li&gt;
&lt;li&gt;Routing-table limitå‘½ä»¤ç”¨æ¥é…ç½®å½“å‰VPNå®ä¾‹åœ°å€æ—ä¸‹æ‰€èƒ½å®¹çº³çš„è·¯ç”±æ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;mpls-vpnæ•…éšœæ’æŸ¥&#34;&gt;MPLS VPNæ•…éšœæ’æŸ¥&lt;/h1&gt;
&lt;p&gt;ç”¨æˆ·ä¸èƒ½äº’è®¿&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ§åˆ¶å¹³é¢æ•…éšœ
&lt;ul&gt;
&lt;li&gt;CEä¹‹é—´æ˜¯å¦æœ‰è·¯ç”±å¯è¾¾&lt;/li&gt;
&lt;li&gt;CEæ˜¯å¦å‘å¸ƒè·¯ç”±ç»™PEï¼Œæ£€æŸ¥PEä¸CEä¹‹é—´çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;PEæ˜¯å¦å‘å¸ƒè·¯ç”±ç»™PE&lt;/li&gt;
&lt;li&gt;PEä¹‹é—´æ˜¯å¦å»ºç«‹MP-IBGPé‚»å±…&lt;/li&gt;
&lt;li&gt;PEä¹‹é—´LSPæ˜¯å¦å»ºç«‹&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥MPLSå’ŒLDPé…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ•°æ®å¹³é¢æ•…éšœ
&lt;ul&gt;
&lt;li&gt;æ˜¯å¦å­˜åœ¨MTUé—®é¢˜&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;p&gt;å®éªŒæ‹“æ‰‘ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597664732776.png&#34; alt=&#34;å®éªŒæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é¢„é…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
sys
sys R1
ospf 1
a 0
network 0.0.0.0 255.255.255.255
int lo 0
ip addr 11.1.1.1 32
int lo 1
ip addr 11.11.11.11 32
int g0/0/0
ip addr 12.1.1.1 24
# R2
sys
sys R2
ospf 1
a 0
network 0.0.0.0 255.255.255.255
int lo 0
ip addr 22.1.1.1 32
int g0/0/0
ip addr 12.1.1.2 24
int g0/0/1
ip addr 23.1.1.2 24
# R3
sys
sys R3
ospf 1
a 0
network 0.0.0.0 255.255.255.255
int lo 0
ip addr 33.1.1.1 32
int g0/0/0
ip addr 23.1.1.3 24
int g0/0/1
ip addr 34.1.1.3 24
# R4
sys
sys R4
ospf 1
a 0
network 0.0.0.0 255.255.255.255
int lo 0
ip addr 44.1.1.1 32
int g0/0/0
ip addr 34.1.1.4 24
int g0/0/1
ip addr 45.1.1.4 24
# R5
sys
sys R5
ospf 1
a 0
network 0.0.0.0 255.255.255.255
int lo 0
ip addr 55.1.1.1 32
int lo 0
ip addr 55.55.55.55 32
int g0/0/0
ip addr 45.1.1.5 24
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸€mpls-ldp&#34;&gt;å®éªŒä¸€ï¼šMPLS-LDP&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®LDP
# R1
mpls lsr-id 11.1.1.1   # å…¨å±€é…ç½®ï¼Œç³»ç»Ÿè§†å›¾
mpls  # è¿›å…¥MPLSè§†å›¾
mpls ldp  # å¼€å¯LDPåè®®
int g0/0/0  # æ¥å£ä¸‹å¼€å¯MPLSå’ŒLDP
mpls
mpls ldp
# R2
mpls lsr-id 22.1.1.1
mpls
mpls ldp
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
# R3
mpls lsr-id 33.1.1.1
mpls
mpls ldp
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
# R4
mpls lsr-id 44.1.1.1
mpls
mpls ldp
int g0/0/0
mpls
mpls ldp
int g0/0/1
mpls
mpls ldp
# R5
mpls lsr-id 55.1.1.1
mpls
mpls ldp
int g0/0/0
mpls
mpls ldp

# æ£€æŸ¥
# R1~5
dis mpls ldp peer
# R1
ping lsp -a 11.1.1.1 ip 55.1.1.1 32  # æµ‹è¯•LSPï¼ˆæ ‡ç­¾æ˜¯å•å‘äº¤æ¢çš„ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒr2å’Œr4å»ºç«‹è¿œç«¯ldpä¼šè¯&#34;&gt;å®éªŒäºŒï¼šR2å’ŒR4å»ºç«‹è¿œç«¯LDPä¼šè¯&lt;/h2&gt;
&lt;p&gt;åº”ç”¨äºL2 VPNä»¥åŠä¼šè¯ä¿æŠ¤&lt;br&gt;
å¸¸è§çš„LDPé‚»å±…é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IGPåè®®é”™è¯¯å¯¼è‡´RIDåœ°å€ä¸å¯è¾¾ï¼ˆç¯å›æ¥å£æ©ç é”™è¯¯ï¼Œåä¸ºä»…ä»…ä¸º/32çš„è·¯ç”±åˆ†æ ‡ç­¾ï¼‰&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ä¼ è¾“åœ°å€&lt;/li&gt;
&lt;li&gt;è®¤è¯ï¼ŒLDPæ”¯æŒè®¤è¯&lt;/li&gt;
&lt;li&gt;ACLå¼•å‘çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R2
mpls ldp remote-peer QYT
remote-ip 44.1.1.1
# R4
mpls ldp remote-peer QYT
remote-ip 22.1.1.1

# æŸ¥çœ‹
# R2/4
dis mpls ldp remote-peer
dis mpls ldp lsp
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰php&#34;&gt;å®éªŒä¸‰ï¼šPHP&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹ï¼ˆé»˜è®¤ä¸ºéšå¼ç©ºæ ‡ç­¾ï¼‰
# R4
dis mpls ldp lsp 
dis mpls lsp  # æŸ¥çœ‹å»å¾€55.1.1.1çš„æ ‡ç­¾
# åŒæ—¶æŠ“å–AR4çš„ä¸¤ä¸ªæ¥å£è¿›è¡ŒæŠ¥æ–‡å¯¹æ¯”ï¼Œg0/0/0æ¥å£æœ‰æ ‡ç­¾ï¼Œg0/0/1æ¥å£æ— æ ‡ç­¾

# R5
mpls
label advertise explicit-null   # æ˜¾ç¤ºç©ºæ ‡ç­¾
# R4
reset mpls ldp all
# æ­¤æ—¶é‡å¤ä¸Šé¢æŠ“åŒ…åŠ¨ä½œï¼Œå‘ç°g0/0/1æ¥å£æœ‰æ ‡ç­¾0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››ç ”ç©¶mplsè§£å†³bgpè·¯ç”±é»‘æ´çš„åŸç†&#34;&gt;å®éªŒå››ï¼šç ”ç©¶MPLSè§£å†³BGPè·¯ç”±é»‘æ´çš„åŸç†&lt;/h2&gt;
&lt;p&gt;1å’Œ5ä½¿ç”¨ä¼ ç»Ÿçš„IPè½¬å‘ï¼Œ2ã€3ã€4ä½¿ç”¨MPLSè½¬å‘&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®IGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;é…ç½®é™æ€è·¯ç”±ï¼Œ1ã€2ã€4ã€5&lt;/li&gt;
&lt;li&gt;é…ç½®BGPå¹¶é€šå‘Šé™æ€è·¯ç”±&lt;/li&gt;
&lt;li&gt;R2ã€3ã€4å¼€å¯ LDP&lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®IGPè·¯ç”±ï¼šé¢„é…ç½®

# é…ç½®é™æ€è·¯ç”±
# R1
ip route-static 55.55.55.55 32 12.1.1.2
# R2
ip route-static 11.11.11.11 32 12.1.1.1
# R4
ip route-static 55.55.55.55 32 45.1.1.5
# R5
ip route-static 11.11.11.11 32 45.1.1.4

# é…ç½®BGPå¹¶é€šå‘Šé™æ€è·¯ç”±
# R2
bgp 100
peer 44.1.1.1 as-number 100
peer 44.1.1.1 next-hop-local
peer 44.1.1.1 connect-interface lo 0
network 11.11.11.11 32
# R4
bgp 100
peer 22.1.1.1 as-number 100
peer 22.1.1.1 next-hop-local
peer 22.1.1.1 connect-interface lo 0
network 55.55.55.55 32

# æµ‹è¯•
# R1
ping -a 11.11.11.11 55.55.55.55   #  æ­¤æ—¶R1æ— æ³•pingé€šR5
# R1/2/4/5
undo mpls  # å…³é—­mplsï¼Œç„¶åé‡æ–°é…ç½®
# R2
mpls lsr-id 22.1.1.1
mpls ldp
int g0/0/1
mpls 
mpls ldp
# R4
mpls lsr-id 44.1.1.1
mpls ldp
int g0/0/0
mpls 
mpls ldp
# æŸ¥çœ‹é‚»å±…
# R2/3/4
dis mpls ldp peer
# R2 
ping lsp -a 22.1.1.1 ip 44.1.1.1 32 # R2å’ŒR4æ˜¯é€šçš„ï¼Œä½†æ­¤æ—¶R1å’ŒR5ä¸é€šï¼ŒåŸå› æ˜¯åœ¨R2çš„è·¯ç”±è¡¨ä¸­å»å¾€55.55.55.55çš„IBGPè·¯ç”±ä¸‹ä¸€è·³ä¸º44.1.1.1ï¼ˆ44.1.1.1æ˜¯OSPFè·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸º23.1.1.3ï¼Œå‡ºæ¥å£ä¸ºg0/0/1ï¼‰,é€’å½’ä¹‹åä¸º23.1.1.3ï¼Œä¸é€šè¿‡lspéš§é“è¿›è¡Œè½¬å‘ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå³R3ä¸Šæ²¡æœ‰55.55.55.55çš„è·¯ç”±ï¼Œè¿™æ¡è·¯ç”±çš„è·¯å¾„æ˜¯1-2-4-5
# R2\4
route recursive-lookup tunnel 
# æ­¤æ—¶R1ä¸Šï¼šping -a 11.11.11.11 55.55.55.55 æ˜¯èƒ½å¤Ÿé€šçš„
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäº”åŸºæœ¬mpls-vpnéƒ¨ç½²&#34;&gt;å®éªŒäº”ï¼šåŸºæœ¬MPLS VPNéƒ¨ç½²&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²åŸŸå†…IGPï¼ˆé¢„é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²åŸŸå†…LDPï¼ˆä¸Šé¢å®éªŒå·²ç»é…ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²MP-BGPï¼Œå»ºç«‹èµ·VPNv4é‚»å±…&lt;/li&gt;
&lt;li&gt;å®šä¹‰VPNå®ä¾‹å¹¶ç»‘å®šåˆ°æ¥å£ï¼ˆæ³¨æ„æ­¤æ­¥ä¼šæ¸…ç©ºæ¥å£é…ç½®ï¼‰ï¼Œä¸è¦å¿˜è®°é…ç½®é™æ€è·¯ç”±&lt;/li&gt;
&lt;li&gt;åœ¨PEè®¾å¤‡ä¸Šä¸ºVPNå®ä¾‹ä¸VPNv4äº¤äº’è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ é™¤ospf
# R1/5
undo ospf 1
# R2
int g0/0/0 
undo ospf en 1 ar 0
# R4
int g0/0/01
undo ospf en 1 ar 0

# å¼€å§‹é…ç½®

# éƒ¨ç½²MP-BGPï¼Œå»ºç«‹èµ·VPNv4é‚»å±…
# R2
bgp 100
ipv4-family unicast
undo network 11.11.11.11 32
undo peer 44.1.1.1 enable
q
ipv4-family vpnv4 unicast
peer 44.1.1.1 enable
q
# R4
bgp 100
ipv4-family unicast
undo network 55.55.55.55 32
undo peer 22.1.1.1 enable
q
ipv4-family vpnv4 unicast
peer 22.1.1.1 enable

# å®šä¹‰VPNå®ä¾‹å¹¶ç»‘å®šåˆ°æ¥å£
# R2
ip vpn-instance qyt666
route-distinguisher 100:100
vpn-target 100:24 export-extcommunity
vpn-target 100:42 import-extcommunity
int g0/0/0
ip binding vpn-instance qyt666  # æ­¤æ—¶åœ°å€ä¼šè¢«æ¸…ç©ºï¼Œéœ€è¦é‡æ–°é…ç½®
ip addr 12.1.1.2 24
q
undo ip route-static  11.11.11.11 32 12.1.1.1
ip route-static vpn-instance qyt666 11.11.11.11 32 12.1.1.1
# R4
ip vpn-instance qyt666
route-distinguisher 100:100
vpn-target 100:42 export-extcommunity
vpn-target 100:24 import-extcommunity
int g0/0/1
ip binding vpn-instance qyt666
ip addr 45.1.1.4 24
q
undo ip route-static  55.55.55.55 32 45.1.1.5
ip route-static vpn-instance qyt666 55.55.55.55 32 45.1.1.5

# åœ¨PEè®¾å¤‡ä¸Šä¸ºVPNå®ä¾‹ä¸VPNv4äº¤äº’è·¯ç”±
# R2
bgp 100
ipv4-family vpn-instance qyt666
network 11.11.11.11 32
# R4
bgp 100
ipv4-family vpn-instance qyt666
network 55.55.55.55 32

# æµ‹è¯•
# R2/4
dis ip rou vpn-instance qyt666
dis mpls lsp
dis bgp vpnv4 all rou
dis ip vpn-instance verbose 
# R1
ping -a 11.11.11.11 55.55.55.55
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;ä¸‹é¢å®éªŒä½¿ç”¨BGPä¸“é¢˜çš„è·¯ç”±ï¼š&lt;/p&gt;
&lt;h2 id=&#34;å®éªŒå…­ospfæ¥å…¥mpls-vpn&#34;&gt;å®éªŒå…­ï¼šOSPFæ¥å…¥MPLS VPN&lt;/h2&gt;
&lt;p&gt;åªéœ€è¦å¼€å¯R1/2/3/4/8/9/10ï¼Œå…¶ä¸­R10ä¸ºæ€»éƒ¨æ”¯ç‚¹ï¼ŒR8/9ä¸ºåˆ†æ”¯ç«™ç‚¹ï¼ŒR1/2/3/4ä¸ºè¿è¥å•†ç½‘ç»œ&lt;br&gt;
é…ç½®æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ ¸å¿ƒç½‘åŸŸå†…IGP&lt;/li&gt;
&lt;li&gt;é…ç½®åŸŸå†…LDP&lt;/li&gt;
&lt;li&gt;é…ç½®åŸŸå†…MP-BGP&lt;/li&gt;
&lt;li&gt;é…ç½®VRFç»‘å®šåˆ°æ¥å£ï¼ˆæ³¨æ„IPåœ°å€ï¼‰ã€å®šä¹‰RDã€RT&lt;/li&gt;
&lt;li&gt;é…ç½®PE-CEè·¯ç”±äº¤äº’åŠé‡åˆ†å¸ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. é…ç½®æ ¸å¿ƒç½‘åŸŸå†…IGP
# R4
int lo 0
ip addr 44.1.1.1 24

# 2. é…ç½®åŸŸå†…LDP
# R1
mpls
mpls lsr-id 11.1.1.1
mpls ldp
q
int g0/0/1
mpls ldp
int g0/0/2
mpls ldp
int s1/0/0
mpls ldp
# R2
mpls
mpls lsr-id 22.1.1.1
mpls ldp
q
int s1/0/1
mpls ldp
int g0/0/2
mpls ldp
int g0/0/0
mpls ldp
# R3
mpls
mpls lsr-id 33.1.1.1
mpls ldp
q
int g0/0/0
mpls ldp
int g0/0/2
mpls ldp
int g0/0/1
mpls ldp
# R4
mpls
mpls lsr-id 44.1.1.1
mpls ldp
lsp-trigger all    # é»˜è®¤æ˜¯hostï¼Œåªä¸ºä¸»æœºè·¯ç”±ï¼ˆ/32ï¼‰åˆ†é…æ ‡ç­¾ï¼Œæ­¤å¤„æ”¹æˆhostï¼Œå¦åˆ™lo0çš„åœ°å€æ— æ³•åˆ†é…æ ‡ç­¾
q
int s1/0/1
mpls ldp
int g0/0/2
mpls ldp
int s1/0/0
mpls ldp
# æµ‹è¯•
# R1
ping lsp -a 11.1.1.1 ip 44.1.1.1 32
dis mpls ldp lsp
dis mpls ldp peer

# 3. é…ç½®åŸŸå†…MP-BGP
# R1
bgp 100
ipv4-family vpnv4 unicast
peer 44.1.1.1 enable
# R4
bgp 100
ipv4-family vpnv4 unicast
peer 11.1.1.1 enable
# æŸ¥çœ‹
# R1/4
dis bgp vpnv4 all peer

# 4. é…ç½®VRFç»‘å®šåˆ°æ¥å£ï¼ˆæ³¨æ„IPåœ°å€ï¼‰ã€å®šä¹‰RDã€RT
# R1
ip vpn-instancce michael
route-distinguisher 100:1
vpn-target 100:110 export-extcommunity
vpn-target 100:409 import-extcommunity
q
int g2/0/0
ip binding vpn-instance michael
ip address 10.1.110.1 24
# R4
ip vpn-instancce michael
route-distinguisher 100:1
vpn-target 100:409 export-extcommunity
vpn-target 100:110 import-extcommunity
q
int g0/0/0
ip binding vpn-instance michael
ip address 10.1.49.4 24

# 5. é…ç½®PE-CEè·¯ç”±äº¤äº’åŠé‡åˆ†å¸ƒ
# R9
int lo 0
ip addr 99.1.1.1 32
int g0/0/0
ip addr 10.1.49.9 24
ping 10.1.49.4
# R10
int lo 0
ip addr 110.1.1.1 32
int g2/0/0
ip addr 10.1.110.10 24
ping 10.1.110.1
# è¿›ç¨‹å·ç é…ç½®ä¸º109ï¼Œæ³¨æ„å¦‚æœæ ¸å¿ƒç½‘çš„IGPæ˜¯OSPFï¼ŒPEçš„è¿›ç¨‹å·ä¸èƒ½ä¸å…¨å±€å†²çª
# R9
ospf 109
a 0
int lo 0
ospf enable 109 area 0
int g0/0/0
ospf network-type p2p
ospf enable 109 area 0
# R10
ospf 109
a 0
int lo 0
ospf enable 109 area 0
int g2/0/0
ospf network-type p2p
ospf enable 109 area 0
# R1
ospf 109 vpn-instance michale
a 0
int g2/0/0
ospf network-type p2p
ospf enable 109 area 0
# R4
ospf 109 vpn-instance michale
a 0
int g0/0/0
ospf network-type p2p
ospf enable 109 area 0
# åŒå‘é‡åˆ†å¸ƒ
# R1
bgp 100
ipv4-family vpn-instance michael
import-route ospf 109
q
ospf 109
import-route bgp
q
dis ip rou pro ospf
dis ip rou pro bgp
# R4
bgp 100
ipv4-family vpn-instance michael
import-route ospf 109
q
ospf 109
import-route bgp
dis ip rou pro ospf
dis ip rou pro bgp
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸ƒé…ç½®ospfçš„domain-id&#34;&gt;å®éªŒä¸ƒï¼šé…ç½®ospfçš„domain-id&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
ospf 109
domain-id 109
# æ­¤æ—¶åœ¨R9ä¸Šdis ip rou pro ospfï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„è·¯ç”±éƒ½å˜æˆå¤–éƒ¨è·¯ç”±O_ASE

# R4
ospf 109
domain-id 109
# æ­¤æ—¶å†åœ¨R9ä¸Šdis ip rou pro ospfï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„è·¯ç”±110.1.1.1/32åˆå˜å›OSPFå†…éƒ¨è·¯ç”±äº†
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…«ä¸‰ç±»lsaé˜²ç¯é€†å‘å®éªŒ&#34;&gt;å®éªŒå…«ï¼šä¸‰ç±»LSAé˜²ç¯é€†å‘å®éªŒ&lt;/h2&gt;
&lt;p&gt;å…³é—­down bit æ£€æµ‹ï¼Œå…è®¸è®¡ç®—è·¯ç”±ï¼Œä»è€Œäº§ç”Ÿç¯è·¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R8
ospf 109
area 0
int lo 0
ip add 88.1.1.1 32
ospf en 109 a 0 
int s1/0/0
ip addr 83.1.1.8 24
ospf en 109 a 0
ospf network-type p2p
int g0/0/1
ip addr 89.1.1.8 24
ospf en 109 a 0
ospf network-type p2p
#R9 
int g0/0/1
ip addr 89.1.1.9 24
ospf en 109 a 0
ospf network-type p2p
# R3
ip vpn-instance michael
ipv4-family 
route-distinguisher 100:1
vpn-target 100:308 export-extcommunity
vpn-target 100:110 import-extcommunity
q
int s1/0/0
ip binding vpn-instance michael
ip add 83.1.1.3 24
ospf en 109 a 0
ospf network-type p2p
q
ospf 109 vpn-instance michael
a 0
q
import-route bgp
bgp 100
ipv4-family vpn-instance michael
import-route ospf 109
q
ipv4-family vpnv4
peer 11.1.1.1 enable
# R1
bgp 100
ipv4-family vpnv4
peer 33.1.1.1 enable
# R4
ospf 109
domain-id 1
# R3
ospf 109
domain-id 1

# æŸ¥çœ‹
# R3
dis ip rou vpn-instance michael pro ospf    # æ­¤æ—¶æ²¡æœ‰ospfçš„è·¯ç”±
dis ospf 109 lsdb # 110.1.1.1çš„è·¯ç”±æ—¶ä¸‰ç±»LSA
# å…³é—­down bit æ£€æµ‹
# R3
ospf 109
vpn-instance-capability simple
# ç„¶åå†åœ¨R3ä¸Šè¿›è¡ŒæŸ¥çœ‹
dis ip rou vpn-instance michael pro ospf    # æ­¤æ—¶æœ‰å¤šæ¡ospfçš„è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¹åœ¨r1å’Œr4ä¹‹é—´éƒ¨ç½²-sham-link&#34;&gt;å®éªŒä¹ï¼šåœ¨R1å’ŒR4ä¹‹é—´éƒ¨ç½² sham-link&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
undo ospf 109
ospf 901 vpn-instance michael
a 0
import-route bgp
domain-id 0.0.0.1
q
ip vpn-instance michael 
vpn-target 100:308 import-extcommunity
# R3
ospf 109
undo vpn-instance-capability
# R8
int g0/0/2
ip addr 108.1.1.8 24
ospf network-tyoe p2p
ospf enable 109 area 0
# R10
int g0/0/2
ip addr 108.1.1.10 24
ospf network-tyoe p2p
ospf enable 109 area 0

# é…ç½®sham-link
# R1
int lo 6
ip binding vpn-instance michael
ip addr 11.11.11.11 32
bgp 100
ipv4-family vpn-instance michael
network 11.11.11.11 32
# R4
int lo 6
ip binding vpn-instance michael
ip addr 44.44.44.44 32
bgp 100
ipv4-family vpn-instance michael
network 44.44.44.44 32
# æŸ¥çœ‹æ˜¯å¦é€šä¿¡ï¼Œç„¶åç»§ç»­é…ç½®
# R4
dis ip rou vpn-instance michael
ping -vpn-instance michael -a 44.44.44.44 11.11.11.11
tracert -vpn-instance michael -a 44.44.44.44 11.11.11.11
# R4
ospf 109
area 0
sham-link 44.44.44.44 11.11.11.11
# R1
ospf 901
area 0
sham-link 11.11.11.11 44.44.44.44
# æ­¤æ—¶sham-linkä¸ä¸²å£é“¾è·¯åŒæ—¶å­˜åœ¨ï¼Œå„è‡ªç‹¬ç«‹ï¼Œä¸²å£é“¾è·¯ä¸‹çš„ä¸‰ç±»LSAä»ç„¶å­˜åœ¨ï¼Œå¦‚æœæƒ³å»æ‰ä¸‰ç±»LSAï¼Œåˆ™éœ€è¦åœ¨R1å’ŒR4ä¸Šå»æ‰bgpè¿›å…¥ospfçš„é‡å‘å¸ƒï¼Œæ­¤æ—¶åªæœ‰sham-linkå·¥ä½œ
# R1
# ospf 901
# undo import-route bgp
# R4
# ospf 109
# undo import-route bgp

# æŸ¥çœ‹è·¯ç”±æƒ…å†µ
# R8
int g0/0/2 
ospf cost 100
# R10
int g0/0/2 
ospf cost 100
dis ip rou pro ospf # æ­¤æ—¶ospfè·¯ç”±éƒ½èµ°R1æ–¹å‘
# R9
int lo 1
ip add 99.99.99.99 32
ospf enable 109 a 0
# R9æ›´æ–°è·¯ç”±ä¹‹åå†åœ¨R10ä¸Šè¿›è¡ŒæŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåé…ç½®è·¯ç”±åå°„å™¨æœ¬å®éªŒæ˜¯ä¸‹ä¸€ä¸ªå®éªŒçš„é¢„é…ç½®&#34;&gt;å®éªŒåï¼šé…ç½®è·¯ç”±åå°„å™¨ï¼ˆæœ¬å®éªŒæ˜¯ä¸‹ä¸€ä¸ªå®éªŒçš„é¢„é…ç½®ï¼‰&lt;/h2&gt;
&lt;p&gt;R2ä½œä¸ºåå°„å™¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é¦–å…ˆéœ€è¦æ–­å¼€R8ä¸R9ã€R10çš„è¿æ¥
# R8
int g0/0/1
shutdown
int g0/0/2
shutdown

# å¼€å§‹é…ç½®R2ä¸ºè·¯ç”±åå°„å™¨
# R1ï¼šPE
bgp 100
undo peer 33.1.1.1
undo peer 44.1.1.1
ipv4-family vpnv4 
peer 22.1.1.1 enable
# R3ï¼šPE
bgp 100
undo peer 11.1.1.1
undo peer 44.1.1.1
ipv4-family vpnv4 
peer 22.1.1.1 enable
# R4ï¼šPE
bgp 100
undo peer 33.1.1.1
undo peer 11.1.1.1
ipv4-family vpnv4 
peer 22.1.1.1 enable
# R2ï¼šåå°„å™¨
bgp 100
ipv4-family vpnv4 
peer 11.1.1.1 enable
peer 11.1.1.1 reflect-client
peer 33.1.1.1 enable
peer 33.1.1.1 reflect-client
peer 44.1.1.1 enable
peer 44.1.1.1 reflect-client
undo policy vpn-target   # æ”¾è¡Œè·¯ç”±
# æŸ¥çœ‹è·¯ç”±
# R2
dis bgp vpnv4 all rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåä¸€ä½¿ç”¨vrf-liteå°†ç”¨æˆ·æ¥å…¥mpls-vpnhub-spoke&#34;&gt;å®éªŒåä¸€ï¼šä½¿ç”¨VRF-LITEå°†ç”¨æˆ·æ¥å…¥MPLS VPNï¼ˆhub-spokeï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;å®éªŒå†…å®¹&#34;&gt;å®éªŒå†…å®¹&lt;/h3&gt;
&lt;p&gt;R10ä¸R1 å»ºç«‹ä¸¤ä¸ªOSPFé‚»å±…å…³ç³»&lt;br&gt;
R10ä¸Šä¸åšvrfï¼ŒR1åšä¸¤ä¸ªvrfå®ä¾‹&lt;br&gt;
æ„å»ºä¸€ä¸ªhub-spokeç»“æ„çš„IPè·¯ç”±ç½‘ç»œ&lt;br&gt;
æ•°æ®è½¬å‘è·¯å¾„ä¸º site-aï¼ˆR8ï¼‰ -- hubï¼ˆR10ï¼‰ -- site-bï¼ˆR9ï¼‰&lt;br&gt;
R1ä¸Šä¸¤ä¸ªvrfï¼šä¸€ä¸ªè´Ÿè´£æ”¶å–æ¥è‡ªspokeç«™ç‚¹çš„è·¯ç”±ï¼Œä¼ é€’ç»™hubï¼›ä¸€ä¸ªè´Ÿè´£æ”¶å–æ¥è‡ªhubçš„è·¯ç”±ï¼Œä¼ é€’ç»™spokeã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‡ç‚¹&#34;&gt;é‡ç‚¹&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸­å¿ƒåœºç‚¹OSPFä¸‹å‘é»˜è®¤è·¯ç”±&lt;br&gt;
ä¸­å¿ƒåœºç‚¹PEåŠ å‚æ•°ï¼Œå°†OSPFé»˜è®¤è·¯ç”±å¯¼å…¥VPNv4&lt;br&gt;
åˆ†æ”¯ç«™ç‚¹PEé€šè¿‡OSPFå°†BGPé»˜è®¤è·¯ç”±é€šå‘Šç»™CE&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
ospf 901
import-route bgp
a 0
undo sham-link 11.11.11.11 44.44.44.44
# R4
ospf 109
import-route bgp
a 0
undo sham-link 44.44.44.44 11.11.11.11 
# æ­¤æ—¶R8ï¼ˆ88.1.1.1ï¼‰ä¸R9ï¼ˆ99.1.1.1ï¼‰ä¸Šæ²¡æœ‰å¯¹æ–¹çš„è·¯ç”±ï¼Œä½†æ˜¯R10ï¼ˆ110.1.1.1ï¼‰çš„è·¯ç”±å†R8ä¸R9ä¸Šéƒ½æœ‰ã€‚å³ä¸¤ä¸ªspokeç«™ç‚¹ï¼ˆR8/9ï¼‰ä¸èƒ½äº’é€šï¼Œä½†æ˜¯å¯ä¸ä¸­å¿ƒç«™ç‚¹ï¼ˆR10ï¼‰äº’é€š

# R10ï¼šä¸ºäº†è®©R8ä¸R9èƒ½å¤Ÿé€šä¿¡ï¼ˆä½†æ˜¯æ•°æ®å¿…é¡»ç»è¿‡R10ï¼‰ï¼Œéœ€è¦ä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±
undo ospf 901
ospf 109
default-route-advertise always
# R1ï¼šæŸ¥çœ‹ä¸‹å‘çš„é»˜è®¤è·¯ç”±ï¼šdis ip rou vpn-instance micheal
# æ­¤æ—¶OSPFä¸‹æ”¾çš„é»˜è®¤è·¯ç”±ï¼Œä½†æ˜¯æ­¤æ¡è·¯ç”±æ— æ³•å¼•å…¥BGP
# R1
bgp 100
ipv4-family vpn-instance michael
undo network 11.11.11.11 32
default-route imported   # å°†ospfçš„é»˜è®¤è·¯ç”±ä¹Ÿå¼•å…¥è¿›æ¥
dis bgp vpnv4 all rou
# R3ï¼šæŸ¥çœ‹è·¯ç”±ï¼Œä½†æ˜¯æ­¤æ—¶bgpçš„é»˜è®¤è·¯ç”±æ— æ³•è¿›è¡Œospf
dis bgp vpnv4 all rou
ospf 109
default-route-advertise
# R9/8ï¼šæ­¤æ—¶R9/8ä¸Šæœ‰é»˜è®¤è·¯ç”±ï¼Œä½†æ˜¯èƒ½ç»™å¯¹æ–¹å‘æ•°æ®ï¼Œæ— æ³•æ”¶åˆ°å¯¹æ–¹çš„å›åº”æ•°æ®
dis ip rou
# R4
ospf 109
default-route-advertise
# R9/8ï¼šæ­¤æ—¶èƒ½å¤Ÿè¿›è¡Œé€šä¿¡
# R9
ping -a 99.1.1.1 88.1.1.1
tracert -a 99.1.1.1 88.1.1.1   # 10.1.49.4--&amp;gt;10.1.34.3--&amp;gt;10.1.23.2--&amp;gt;10.1.12.2--&amp;gt;83.1.1.3--&amp;gt;83.1.1.8
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåäºŒbgpæ¥å…¥mpls-vpn&#34;&gt;å®éªŒåäºŒï¼šBGPæ¥å…¥MPLS VPN&lt;/h2&gt;
&lt;p&gt;è§„åˆ’ASå·ç  ï¼Œå‡è®¾ä½¿ç”¨çš„ASä¸åˆ†å…¬æœ‰ç§æœ‰&lt;br&gt;
R10 AS1000ï¼ŒR8 AS1008ï¼ŒR9 AS1009&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ é™¤OSPF 
# R1
undo ospf 901
# R3/4/8/9/10
undo ospf 109
# R10
int lo 0
undo ospf enable 109 area 0
int g2/0/0
undo ospf enable 109 area 0  # ç›®å‰ospfå·²ç»undoäº†ï¼Œå…³äºæ¥å£ä¸‹çš„ospfä½¿èƒ½å·²ç»å¤±æ•ˆï¼Œå¯ä»¥ä¸åˆ é™¤
# R9
int g0/0/0
ip addr 49.1.1.9 24
undo ospf en 109 a 0
# R4
int g0/0/0
ip addr 49.1.1.4 24
undo ospf en 109 a 0

# åˆ é™¤ä¸‹æ”¾çš„é»˜è®¤è·¯ç”±å’Œå¼•å…¥çš„è·¯ç”±
# R1
bgp 100
ipv4-family vpn-instance michael
undo default-route imported
undo import-route ospf 901
# R3
bgp 100
ipv4-family vpn-instance michael
undo import-route ospf 109
# R4
bgp 100
undo ipv4-family vpn-instance michael
ipv4-family vpn-instance michael

# BGPæ¥å…¥MPLS VPN
# CEç«¯åšæ­£å¸¸çš„BGPé…ç½®
# R10
bgp 1000
peer 10.1.110.1 as-number 100
network 110.1.1.1 32
# R9
bgp 1009
peer 49.1.1.4 as-number 100
network 99.1.1.1 32
# R9
bgp 1008
peer 83.1.1.3 as-number 100
network 88.1.1.1 32
# PEç«¯ï¼Œåœ¨vrfåœ°å€æ—ä¸‹é’ˆå¯¹CEåšBGPå¯¹ç­‰ä½“
# R1
bgp 100
ipv4-family vpn-instance michael
peer 10.1.110.10 as-number 1000 
# R4
bgp 100
ipv4-family vpn-instance michael
peer 49.1.1.9 as-number 1009
# R3
bgp 100
ipv4-family vpn-instance michael
peer 83.1.1.8 as-number 1008

# æµ‹è¯•
# R1/4/3
ping -vpn-instance michael 10.1.110.10
dis bgp vpnv4 all rou
dis bgp vpnv4 all peer
# æŸ¥çœ‹hubç‚¹R10çš„è·¯ç”±
dis ip rou pro bgp  # å¯ä»¥æ”¶åˆ°æ¥è‡ªR8å’ŒR9çš„ä¸¤æ¡è·¯ç”±88.1.1.1å’Œ99.1.1.1ï¼Œä½†æ˜¯åˆ†æ”¯ç«™ç‚¹R8/R9ä¸Šåªæœ‰æ€»éƒ¨è·¯ç”±110.1.1.1ï¼Œæ²¡æœ‰åˆ†æ”¯ç«™ç‚¹ä¹‹é—´çš„è·¯ç”±

# R10ï¼šæ€»éƒ¨é’ˆå¯¹é‚»å±…ä¸‹å‘é»˜è®¤è·¯ç”±
bgp 100
peer 10.1.110.1 default-route-advertise
# R1ï¼šåœ¨é‚»å±…ä¸ŠæŸ¥çœ‹ç›¸åº”é»˜è®¤è·¯ç”±
dis bgp vpnv4 all rou
# R8/9ï¼šæŸ¥çœ‹è¿œç«¯çš„æ”¶åˆ°çš„ä¸‹å‘çš„é»˜è®¤è·¯ç”±
dis ip rou
ping -a 88.1.1.1 99.1.1.1
tracert -a 88.1.1.1 99.1.1.1 # R8ä¸Šï¼š83.1.1.3--10.1.23.2--***--10.1.12.2--10.1.23.3--49.1.1.4--49.1.1.9
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåä¸‰å¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼å¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢bgpæ¥å…¥mpls-vpn&#34;&gt;å®éªŒåä¸‰ï¼šå¦‚æœä¸é‡‡ç”¨é»˜è®¤è·¯ç”±çš„æ–¹å¼ï¼Œå¦‚ä½•ä¼ é€’æ˜ç»†è·¯ç”±å‘¢ï¼Ÿï¼ˆBGPæ¥å…¥MPLS VPNï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;åœºæ™¯ä¸€&#34;&gt;åœºæ™¯ä¸€ï¼š&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·ä½¿ç”¨hub-spokeæ¶æ„ç½‘ç»œï¼Œå¹¶è¦æ±‚ä¼ é€’æ˜ç»†è·¯ç”±&lt;br&gt;
è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹çš„PEä¿®æ”¹eBGPé˜²ç¯&lt;/li&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹PEé€šè¿‡å¤švrfåŒºåˆ†ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±
&lt;ol&gt;
&lt;li&gt;HUB--æ•°æ®å»å¾€ä¸­å¿ƒç«™ç‚¹&lt;/li&gt;
&lt;li&gt;Spoke--æ•°æ®å»å¾€åˆ†æ”¯ç«™ç‚¹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¸­å¿ƒåœºç‚¹PEé€šè¿‡ä¸åŒRDåŒºåˆ†ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±ï¼Œä»¥ä½¿å¾—VPNv4çš„RRèƒ½å¤ŸåŒæ—¶ä¿å­˜ä¼ å‡ºå’Œä¼ å…¥çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;é€šè¿‡RTæ§åˆ¶ä¼ å‡ºçš„è·¯ç”±å’Œä¼ å…¥çš„è·¯ç”±çš„æ›´æ–°æ–¹å‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åœºæ™¯äºŒ&#34;&gt;åœºæ™¯äºŒï¼š&lt;/h3&gt;
&lt;p&gt;å®¢æˆ·æ‰€æœ‰ç«™ç‚¹ä½¿ç”¨ç›¸åŒASï¼š é’ˆå¯¹CEè®¾å¤‡æ“ä½œï¼Œå°†æ‰€æœ‰ASè·¯å¾„ä¸Šçš„ASå·ç ä¿®æ”¹ä¸ºæœ¬åœ°ASå·ç &lt;br&gt;
è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ŒæˆBGPé…ç½®&lt;/li&gt;
&lt;li&gt;HUBç‚¹PEé’ˆå¯¹ä»hubæ”¶å–è·¯ç”±çš„vrfå®ä¾‹ä¸‹BGP peer allowas-in&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹æ‰€æœ‰ç«™ç‚¹åšas-overrideï¼Œå³å°†as-pathä¸­çš„æ‰€æœ‰ASå·ç æ›¿æ¢ä¸ºæœ¬åœ°ASå·ç &lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åœºæ™¯ä¸‰&#34;&gt;åœºæ™¯ä¸‰ï¼š&lt;/h3&gt;
&lt;p&gt;å¤šå®¿ä¸»ç«™ç‚¹æ¥å…¥MPLS VPNï¼ˆSoOä¸€èˆ¬é…ç½®åœ¨PEè®¾å¤‡ä¸Šï¼‰&lt;/p&gt;
&lt;h3 id=&#34;åœºæ™¯å››&#34;&gt;åœºæ™¯å››ï¼š&lt;/h3&gt;
&lt;p&gt;vrfå®ä¾‹ä¸‹çš„é¢å¤–è·¯ç”±æ“æ§ç­–ç•¥&lt;br&gt;
è§£å†³æ–¹æ³•ï¼š&lt;br&gt;
RTç”¨äºåœ¨PEè®¾å¤‡ä¹‹é—´æ§åˆ¶è·¯ç”±çš„æ›´æ–°&lt;br&gt;
vrfå®ä¾‹ä¸‹ï¼Œå¯ä»¥å¢åŠ é¢å¤–çš„ç­–ç•¥ï¼Œç”¨åšè¾…åŠ©æ‰‹æ®µæ¥æ§åˆ¶vrfå®ä¾‹çš„è·¯ç”±è¡¨ï¼ˆå…¥ï¼‰ï¼Œæˆ–è€…å‡ºè‡ªæœ¬vrfå®ä¾‹çš„VPNv4è·¯ç”±çš„RT&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R10
bgp 1000
undo peer 10.1.110.1 default-route-advertise
q
int s1/0/1
ip addr 10.1.111.10 24

# 1. å®ŒæˆBGPé…ç½®
# R1
int g0/0/2
undo ospf en 901 a 0
undo ospf network-type
q
undo ip vpn-instance michael
ip vpn-instance HUB
route-distinguisher 100:10
q
q
ip vpn-instance SPOKE
route-distinguisher 100:20
int g2/0/0
ip binding vpn-instance HUB
ip address 10.1.110.1 24
int s1/0/1
ip binding vpn-instance SPOKE
ip address 10.1.111.1 24
q
bgp 100
ipv4-family vpn-instance HUB
peer 10.1.110.10 as-number 1000
ipv4-family vpn-instance SPOKE
peer 10.1.111.10 as-number 1000
# R10
bgp 1000
peer 10.1.111.1 as-number 100
# R3
bgp 100
ipv4-family vpn-instance michael
undo peer 83.1.1.8 
peer 83.1.1.8 as-number 1000
# R4
bgp 100
ipv4-family vpn-instance michael
undo peer 49.1.1.9
peer 49.1.1.9 as-number 1000
# R8
undo bgp 1008
bgp 1000
network 88.1.1.1 32
peer 83.1.1.3 as-number 100
# R9
undo bgp 1009
bgp 1000
network 99.1.1.1 32
peer 49.1.1.4 as-number 100
# æŸ¥çœ‹è·¯ç”±
#R2/1
dis bgp vpnv4 all rou # è·¯ç”±åå°„å™¨R1ä¸Šæœ‰å…¨éƒ¨è·¯ç”±ï¼Œä½†R1ä¸Šæ²¡æœ‰åˆ†æ”¯ç«™ç‚¹è·¯ç”±


# 2. é’ˆå¯¹æ‰€æœ‰ç«™ç‚¹åšas-override
# R1
ip vpn-instance HUB
vpn-target 100:308 import-extcommunity
vpn-target 100:409 import-extcommunity
q
dis bgp vpnv4 all rou  # æ­¤æ—¶æœ‰R8/9çš„è·¯ç”±ï¼Œä½†å› ä¸ºbgpé˜²ç¯çš„åŸå› ï¼Œæ­¤æ—¶è·¯ç”±æ— æ³•ä¼ é€’ç»™hub
bgp 100
ipv4 vpn-instance HUB
peer 10.1.110.10 substitute-as  # å°†as-pathä¸­çš„æ‰€æœ‰ASå·ç æ›¿æ¢ä¸ºæœ¬åœ°ASå·ç ï¼Œå³é‡å†™aså·

# 3. HUBç‚¹PEé’ˆå¯¹ä»hubæ”¶å–è·¯ç”±çš„vrfå®ä¾‹ä¸‹BGP peer allowas-in
# R1
bgp 100
ipv4 vpn-instance SPOKE
peer 10.1.111.10 allow-as-loop 2 
# æŸ¥çœ‹è·¯ç”±
# R1/2/3
dis bgp vpnv4 all rou  # R3ä¸Šæ²¡æœ‰R9çš„è·¯ç”±ï¼Œä¸‹ä¸€æ­¥éœ€è¦åšRT
# R1
ip vpn-instance SPOKE
vpn-target 100:110 export-extcommunity  # æ­¤æ—¶å†çœ‹R3/4ï¼Œå‡æœ‰R8å’ŒR9çš„è·¯ç”±
# R4
ipv4-family vpn-instance michael
peer 49.1.1.9 substitute-as
# R3
ipv4-family vpn-instance michael
peer 83.1.1.8 substitute-as

# æŸ¥çœ‹è·¯ç”±
# R8/9
dis bgp rou  # æ­¤æ—¶èƒ½æ”¶åˆ°æ‰€æœ‰çš„è·¯ç”±
tracert -a 88.1.1.1 99.1.1.1 # 83.1.1.3-10.1.23.2-10.1.111.1-10.1.111.10-10.1.110.1-10.1.12.2-10.1.23.3-49.1.1.4-49.1.1.9
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåå››vrfä¸‹çš„è·¯ç”±æ“æ§ä¸Šä¸ªå®ç°çš„åœºæ™¯ä¸‰&#34;&gt;å®éªŒåå››ï¼šVRFä¸‹çš„è·¯ç”±æ“æ§ï¼ˆä¸Šä¸ªå®ç°çš„åœºæ™¯ä¸‰ï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®SoO
# R3
bgp 100
ipv4-family vpn-instance michael
peer 83.1.1.8 soo 123:123
&lt;/code&gt;&lt;/pre&gt;
">HCIE-MPLSä¸“é¢˜(2020.08.015ï¼Œç¬¬4ä¸“é¢˜)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-multicast-zhuan-ti-20200804/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#ip%E7%BB%84%E6%92%AD%E5%9F%BA%E7%A1%80&#34;&gt;IPç»„æ’­åŸºç¡€&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E8%BF%B0&#34;&gt;æ¦‚è¿°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%8A%BF&#34;&gt;ä¼˜åŠ¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A3%E5%8A%BF&#34;&gt;åŠ£åŠ¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8&#34;&gt;åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84&#34;&gt;ç»„æ’­åœ°å€ç»“æ„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E5%9C%B0%E5%9D%80&#34;&gt;ç»„æ’­IPåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E6%A8%A1%E5%9E%8B%E5%88%86%E7%B1%BB&#34;&gt;ç»„æ’­IPæ¨¡å‹åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADip%E5%9C%B0%E5%9D%80%E5%88%86%E7%B1%BB&#34;&gt;ç»„æ’­IPåœ°å€åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%ADmac%E5%9C%B0%E5%9D%80&#34;&gt;ç»„æ’­MACåœ°å€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ip%E5%9C%B0%E5%9D%80%E5%88%B0mac%E5%9C%B0%E5%9D%80%E7%9A%84%E6%98%A0%E5%B0%84&#34;&gt;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%98%A0%E5%B0%84%E5%AF%BC%E8%87%B4%E7%9A%84%E9%97%AE%E9%A2%98&#34;&gt;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;ç»„æ’­åŸºæœ¬åŸç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE&#34;&gt;ç»„æ’­ç›¸å…³åè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E5%88%86%E5%8F%91%E6%A0%91%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B&#34;&gt;ç»„æ’­åˆ†å‘æ ‘çš„ä¸¤ä¸ªåŸºæœ¬ç±»å‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%BA%90%E8%B7%AF%E5%BE%84%E6%A0%91spt&#34;&gt;æºè·¯å¾„æ ‘SPT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B1%E4%BA%AB%E6%A0%91rpt&#34;&gt;å…±äº«æ ‘RPT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E6%95%B0%E6%8D%AE%E8%BD%AC%E5%8F%91&#34;&gt;ç»„æ’­æ•°æ®è½¬å‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%8D%E5%90%91%E8%B7%AF%E5%BE%84%E8%BD%AC%E5%8F%91rpf&#34;&gt;åå‘è·¯å¾„è½¬å‘RPF&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8E%E4%B8%BArpf%E6%A3%80%E6%9F%A5%E8%BF%87%E7%A8%8B&#34;&gt;åä¸ºRPFæ£€æŸ¥è¿‡ç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%A2%E8%AF%95%E5%9B%9E%E7%AD%94%E6%9D%A1%E7%90%86%E6%B8%85%E6%99%B0&#34;&gt;é¢è¯•å›ç­”ï¼ˆæ¡ç†æ¸…æ™°ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE&#34;&gt;ç›¸å…³åè®®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#igmp-%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE&#34;&gt;IGMP äº’è”ç½‘ç»„ç®¡ç†åè®®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#v1&#34;&gt;v1&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5%E8%BF%87%E7%A8%8B&#34;&gt;ç»„æˆå‘˜åŠ å…¥è¿‡ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%93%8D%E5%BA%94&#34;&gt;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%93%8D%E5%BA%94%E6%8A%91%E5%88%B6%E6%9C%BA%E5%88%B6&#34;&gt;å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E7%A6%BB%E5%BC%80&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BE%E4%BE%8B&#34;&gt;ä¸¾ä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v2&#34;&gt;v2&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F-2&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E5%8A%A0%E5%85%A5&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E8%AF%A2%E4%B8%8E%E5%93%8D%E5%BA%94&#34;&gt;æŸ¥è¯¢ä¸å“åº”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E8%AF%A2%E5%99%A8%E9%80%89%E4%B8%BE&#34;&gt;æŸ¥è¯¢å™¨é€‰ä¸¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90%E5%91%98%E7%A6%BB%E5%BC%80-2&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v1%E5%92%8Cv2%E7%9A%84%E4%BA%92%E6%93%8D%E4%BD%9C%E6%80%A7&#34;&gt;v1å’Œv2çš„äº’æ“ä½œæ€§&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#v2%E4%B8%BB%E6%9C%BA%E4%B8%8Ev1%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;v2ä¸»æœºä¸v1è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v1%E4%B8%BB%E6%9C%BA%E4%B8%8Ev2%E8%B7%AF%E7%94%B1%E5%99%A8&#34;&gt;v1ä¸»æœºä¸v2è·¯ç”±å™¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B7%B7%E5%90%88%E7%89%88%E6%9C%AC&#34;&gt;æ··åˆç‰ˆæœ¬&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#v3&#34;&gt;v3&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%94%B9%E8%BF%9B%E4%B9%8B%E5%A4%84&#34;&gt;æ”¹è¿›ä¹‹å¤„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#igmp%E4%B8%89%E4%B8%AA%E7%89%88%E6%9C%AC%E7%9A%84%E6%AF%94%E8%BE%83&#34;&gt;IGMPä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim%E5%8D%8F%E8%AE%AE%E6%97%A0%E5%85%B3%E7%BB%84%E6%92%AD&#34;&gt;PIMï¼ˆåè®®æ— å…³ç»„æ’­ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#pimv2%E6%8A%A5%E6%96%87%E5%A4%B4%E6%A0%BC%E5%BC%8F&#34;&gt;PIMv2æŠ¥æ–‡å¤´æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-dmdense_mode%E5%AF%86%E9%9B%86%E6%A8%A1%E5%BC%8F&#34;&gt;PIM-DMï¼ˆDense_modeï¼Œå¯†é›†æ¨¡å¼ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A6%82%E8%BF%B0-2&#34;&gt;æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8A%A5%E6%96%87&#34;&gt;æŠ¥æ–‡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#hello%E6%8A%A5%E6%96%87&#34;&gt;HelloæŠ¥æ–‡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E7%BB%93%E4%B8%8E%E8%AF%84%E4%BB%B7&#34;&gt;æ€»ç»“ä¸è¯„ä»·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-sm&#34;&gt;PIM-SM&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0&#34;&gt;åŸºæœ¬æ¦‚è¿°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E6%8E%A5%E6%94%B6%E8%80%85%E4%BE%A7dr%E4%B8%8E%E7%BB%84%E6%92%AD%E6%BA%90%E4%BE%A7dr&#34;&gt;ç»„æ’­æ¥æ”¶è€…ä¾§DRä¸ç»„æ’­æºä¾§DR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#g%E4%B8%8Esg%E6%9D%A1%E7%9B%AE%E5%85%B3%E7%B3%BB&#34;&gt;ï¼ˆ*ï¼ŒGï¼‰ä¸ï¼ˆSï¼ŒGï¼‰æ¡ç›®å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#pim-sm%E5%8D%8F%E8%AE%AE%E6%9C%BA%E5%88%B6&#34;&gt;PIM-SMåè®®æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rp&#34;&gt;RP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#rp%E5%8F%91%E7%8E%B0&#34;&gt;RPå‘ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rp%E9%80%89%E4%B8%BE%E5%8E%9F%E5%88%99&#34;&gt;RPé€‰ä¸¾åŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A8%E6%80%81rpauto-rp&#34;&gt;åŠ¨æ€RPï¼ˆAuto-RPï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%87%AA%E4%B8%BE%E8%B7%AF%E7%94%B1%E5%99%A8bsr-bootstrap-router&#34;&gt;è‡ªä¸¾è·¯ç”±å™¨BSR (BootStrap Router)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%80%89%E4%B8%BE%E8%A7%84%E5%88%99&#34;&gt;é€‰ä¸¾è§„åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B&#34;&gt;å·¥ä½œæµç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#rp%E4%B8%8Ebsr%E7%9A%84%E5%85%B3%E7%B3%BB&#34;&gt;RPä¸BSRçš„å…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%95%E6%92%AD%E6%B3%A8%E5%86%8C&#34;&gt;å•æ’­æ³¨å†Œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%BB%E4%BD%93%E8%AF%84%E4%BB%B7&#34;&gt;æ€»ä½“è¯„ä»·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ssm%E4%B8%8Easm%E6%A8%A1%E5%9E%8B%E6%AF%94%E8%BE%83&#34;&gt;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#msdp%E5%92%8Canycastrp&#34;&gt;MSDPå’ŒAnycastRP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%BB%E6%84%8F%E6%92%AD&#34;&gt;ä»»æ„æ’­&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#msdp%E5%AF%B9%E7%AD%89%E4%BD%93%E5%BB%BA%E7%AB%8B&#34;&gt;MSDPå¯¹ç­‰ä½“å»ºç«‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%92%AD%E6%BA%90%E4%BF%A1%E6%81%AF%E5%9C%A8%E5%9F%9F%E9%97%B4%E7%9A%84%E4%BC%A0%E9%80%92&#34;&gt;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%80igmpv1&#34;&gt;å®éªŒä¸€ï¼šIGMPv1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8Cigmpv1%E6%9F%A5%E8%AF%A2%E5%99%A8%E9%80%89%E4%B8%BEpim%E5%8D%8F%E8%AE%AE&#34;&gt;å®éªŒäºŒï¼šIGMPv1æŸ¥è¯¢å™¨é€‰ä¸¾ï¼ˆPIMåè®®ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89igmpv2&#34;&gt;å®éªŒä¸‰ï¼šIGMPv2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%9B%9Bigmpv3&#34;&gt;å®éªŒå››ï¼šIGMPv3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%94%E9%85%8D%E7%BD%AEpim-dm&#34;&gt;å®éªŒäº”ï¼šé…ç½®PIM-DM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%ADpim-sm&#34;&gt;å®éªŒå…­ï¼šPIM-SM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%83bsr&#34;&gt;å®éªŒä¸ƒï¼šBSR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%AB%E7%BB%93%E5%90%88msdp%E5%8F%8A%E4%BB%BB%E6%84%8F%E6%92%AD%E5%8E%9F%E7%90%86%E5%AE%9E%E7%8E%B0anycast-rp&#34;&gt;å®éªŒå…«ï¼šç»“åˆMSDPåŠä»»æ„æ’­åŸç†å®ç°Anycast-RP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596550033528.png&#34; alt=&#34;ç»„æ’­å†…å®¹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
DMï¼šå¯†é›†æ¨¡å¼&lt;br&gt;
SMï¼šç¨€ç–æ¨¡å¼&lt;br&gt;
ASMï¼šä»»æ„æºç»„æ’­&lt;br&gt;
SSMï¼šæŒ‡å®šæºç»„æ’­&lt;/p&gt;
&lt;h1 id=&#34;ipç»„æ’­åŸºç¡€&#34;&gt;IPç»„æ’­åŸºç¡€&lt;/h1&gt;
&lt;p&gt;äºŒå±‚ç»„æ’­åè®®ï¼šSTPã€VTPã€CDPã€LLDPã€DTPã€ECã€ISISç­‰&lt;br&gt;
ä¸‰å±‚ç»„æ’­åè®®ï¼šOSPFï¼ˆ224.0.0.5å’Œ224.0.0.6ï¼‰ã€EIGRPï¼ˆ224.0.0.10ï¼‰ã€VRRPï¼ˆ224.0.0.18ï¼‰ã€RSVPï¼ˆ224.0.0.14ï¼‰ã€IGMPv3ï¼ˆ224.0.0.22ï¼‰ã€dhcpï¼ˆ224.0.0.12ï¼‰ã€RIPv2ï¼ˆ224.0.0.9ï¼‰ç­‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å•æ’­ã€ç»„æ’­ã€å¹¿æ’­çš„åŒºåˆ«ï¼šIPç»„æ’­å¯ä»¥å°†ç›¸åŒçš„æ•°æ®æµåˆ†å‘åˆ°ä½äº&lt;strong&gt;ä¸åŒå¹¿æ’­åŸŸä¸­çš„ä¸åŒä¸»æœº&lt;/strong&gt;ä¸Š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»„æ’­çš„å‡ºç°ï¼Œä¸»è¦è§£å†³äº†ç½‘ç»œä¸­ç”¨æˆ·æ•°é‡ä¸ç¡®å®šçš„é—®é¢˜ã€‚&lt;br&gt;
IPç»„æ’­æŠ€æœ¯å®ç°äº†IPç½‘ç»œä¸­ç‚¹åˆ°å¤šç‚¹çš„é«˜æ•ˆæ•°æ®ä¼ é€ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°èŠ‚çº¦ç½‘ç»œå¸¦å®½ã€é™ä½ç½‘ç»œè´Ÿè½½ï¼Œåœ¨å®æ—¶æ•°æ®ä¼ é€ã€å¤šåª’ä½“ä¼šè®®ã€æ•°æ®æ‹·è´ã€æ¸¸æˆå’Œä»¿çœŸç­‰è¯¸å¤šæ–¹é¢éƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•æ’­&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596605504981.png&#34; alt=&#34;å•æ’­&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¹¿æ’­&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596605517957.png&#34; alt=&#34;å¹¿æ’­&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç»„æ’­&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596605531347.png&#34; alt=&#34;ç»„æ’­&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æ’­ç»„ï¼šç”¨IPç»„æ’­åœ°å€è¿›è¡Œæ ‡è¯†çš„ä¸€ä¸ªé›†åˆã€‚ä»»ä½•ç”¨æˆ·ä¸»æœºï¼ˆæˆ–å…¶ä»–æ¥æ”¶è®¾å¤‡ï¼‰ï¼ŒåŠ å…¥ä¸€ä¸ªç»„æ’­ç»„ï¼Œå°±æˆä¸ºäº†è¯¥ç»„æˆå‘˜ï¼Œå¯ä»¥è¯†åˆ«å¹¶æ¥æ”¶å‘å¾€è¯¥ç»„æ’­ç»„çš„ç»„æ’­æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­æºï¼šä¿¡æ¯çš„å‘é€è€…ç§°ä¸ºâ€œç»„æ’­æºâ€ã€‚ä¸€ä¸ªç»„æ’­æºå¯ä»¥åŒæ—¶å‘å¤šä¸ªç»„æ’­ç»„å‘é€æ•°æ®ï¼Œå¤šä¸ªç»„æ’­æºä¹Ÿå¯ä»¥åŒæ—¶å‘ä¸€ä¸ªç»„æ’­ç»„å‘é€æŠ¥æ–‡ã€‚ç»„æ’­æºé€šå¸¸ä¸éœ€è¦åŠ å…¥ç»„æ’­ç»„ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­ç»„æˆå‘˜ï¼šæ‰€æœ‰åŠ å…¥æŸç»„æ’­ç»„çš„ä¸»æœºä¾¿æˆä¸ºè¯¥ç»„æ’­ç»„çš„æˆå‘˜ã€‚ç»„æ’­ç»„ä¸­çš„æˆå‘˜æ˜¯åŠ¨æ€çš„ï¼Œä¸»æœºå¯ä»¥åœ¨ä»»ä½•æ—¶åˆ»åŠ å…¥æˆ–ç¦»å¼€ç»„æ’­ç»„ã€‚ç»„æ’­ç»„æˆå‘˜å¯ä»¥å¹¿æ³›åœ°åˆ†å¸ƒåœ¨ç½‘ç»œä¸­çš„ä»»ä½•åœ°æ–¹ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­è·¯ç”±å™¨ï¼šæ”¯æŒä¸‰å±‚ç»„æ’­åŠŸèƒ½çš„è·¯ç”±å™¨æˆ–äº¤æ¢æœºã€‚ç»„æ’­è·¯ç”±å™¨ä¸ä»…èƒ½å¤Ÿæä¾›ç»„æ’­è·¯ç”±åŠŸèƒ½ï¼Œä¹Ÿèƒ½å¤Ÿåœ¨ä¸ç”¨æˆ·è¿æ¥çš„æœ«æ¢¢ç½‘æ®µä¸Šæä¾›ç»„æ’­ç»„æˆå‘˜çš„ç®¡ç†åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å¶è·¯ç”±å™¨ï¼šç»„æ’­ç½‘ç»œè¾¹ç¼˜ï¼Œç›´æ¥é¢å¯¹æ¥æ”¶è€…çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h2&gt;
&lt;h3 id=&#34;ä¼˜åŠ¿&#34;&gt;ä¼˜åŠ¿&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æé«˜æ•ˆç‡ï¼šé™ä½ç½‘ç»œæµé‡ã€å‡è½»ç¡¬ä»¶è´Ÿè·&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–æ€§èƒ½ï¼šå‡å°‘å†—ä½™æµé‡ã€èŠ‚çº¦ç½‘ç»œå¸¦å®½ã€é™ä½ç½‘ç»œè´Ÿè½½&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼åº”ç”¨ï¼šä½¿å¤šç‚¹åº”ç”¨æˆä¸ºå¯èƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŠ£åŠ¿&#34;&gt;åŠ£åŠ¿&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æ’­æ˜¯åŸºäºUDPçš„&lt;/li&gt;
&lt;li&gt;å°½åŠ›è€Œä¸º&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰æ‹¥å¡é¿å…æœºåˆ¶&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡é‡å¤&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡å¤±åº&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åº”ç”¨&#34;&gt;åº”ç”¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¤šåª’ä½“&lt;/li&gt;
&lt;li&gt;åŸ¹è®­ã€è”åˆä½œä¸šåœºåˆçš„é€šä¿¡&lt;/li&gt;
&lt;li&gt;æ•°æ®ä»“åº“ã€é‡‘èåº”ç”¨ï¼ˆè‚¡ç¥¨ï¼‰&lt;/li&gt;
&lt;li&gt;ä»»ä½•çš„â€œå•åˆ°å¤šâ€æ•°æ®å‘å¸ƒåº”ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç»„æ’­åœ°å€ç»“æ„&#34;&gt;ç»„æ’­åœ°å€ç»“æ„&lt;/h2&gt;
&lt;h3 id=&#34;ç»„æ’­ipåœ°å€&#34;&gt;ç»„æ’­IPåœ°å€&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªç»„æ’­ç»„å°±æ˜¯ä¸€ä¸ªIPåœ°å€ï¼Œä¸è¡¨ç¤ºå…·ä½“çš„ä¸»æœºï¼Œè€Œæ˜¯è¡¨ç¤ºä¸€ç³»åˆ—ç³»ç»Ÿçš„é›†åˆï¼Œä¸»æœºåŠ å…¥æŸä¸ªç»„æ’­ç»„&lt;br&gt;
å³å£°æ˜è‡ªå·±æ¥æ”¶ç›®çš„ä¸ºæŸä¸ªIPåœ°å€çš„æŠ¥æ–‡&lt;br&gt;
IPç»„æ’­ç»„åœ°å€&lt;strong&gt;224.0.0.0â€“239.255.255.255&lt;/strong&gt;ï¼Œâ€œDâ€ç±»åœ°å€ç©ºé—´ï¼Œ&lt;strong&gt;ç¬¬ä¸€ä¸ªå­—èŠ‚çš„é«˜å››ä½&lt;/strong&gt;ä¸ºâ€œ&lt;strong&gt;1110&lt;/strong&gt;â€&lt;/p&gt;
&lt;h3 id=&#34;ç»„æ’­ipæ¨¡å‹åˆ†ç±»&#34;&gt;ç»„æ’­IPæ¨¡å‹åˆ†ç±»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ASMï¼ˆAny-Source Multicastï¼‰ä»»æ„ç»„æ’­æº&lt;br&gt;
ASMæ¨¡å‹å°±æ˜¯ä»»æ„æºç»„æ’­æ¨¡å‹ã€‚åœ¨è¯¥æ¨¡å‹ä¸­ï¼Œä»»æ„å‘é€è€…éƒ½å¯ä»¥æˆä¸ºç»„æ’­æºï¼Œå‘æŸç»„æ’­ç»„åœ°å€å‘é€ä¿¡æ¯ã€‚ä¼—å¤šæ¥æ”¶è€…é€šè¿‡åŠ å…¥ç”±è¯¥åœ°å€æ ‡è¯†çš„ä¸»æœºç»„ï¼Œä»è€Œæ¥æ”¶åˆ°å‘å¾€è¯¥ç»„æ’­ç»„çš„æ‰€æœ‰ä¿¡æ¯ã€‚åœ¨ASMæ¨¡å‹ä¸­ï¼Œæ¥æ”¶è€…æ— æ³•é¢„çŸ¥ç»„æ’­æºçš„åœ°å€ï¼Œæ¥æ”¶è€…å¯ä»¥åœ¨ä»»æ„æ—¶é—´åŠ å…¥æˆ–è€…ç¦»å¼€è¯¥ä¸»æœºç»„ã€‚&lt;/li&gt;
&lt;li&gt;SFMï¼ˆSource-Filtered Multicastï¼‰&lt;br&gt;
SFMæ¨¡å‹ç»§æ‰¿äº†ASMEæ¨¡å‹ï¼Œä»å‘é€è€…è§’åº¦æ¥çœ‹ï¼Œç»„æ’­ç»„æˆå‘˜å…³ç³»å®Œå…¨ç›¸åŒã€‚SFMåœ¨åŠŸèƒ½ä¸Šå¯¹ASMè¿›è¡Œäº†æ‰©å±•ï¼šä¸Šå±‚è½¯ä»¶å¯¹æ¥æ”¶åˆ°çš„ç»„æ’­æŠ¥æ–‡çš„æºåœ°å€è¿›è¡Œæ£€æŸ¥ï¼Œå…è®¸æˆ–ç¦æ­¢æ¥è‡ªæŸäº›ç»„æ’­æºçš„æŠ¥æ–‡é€šè¿‡ã€‚æœ€ç»ˆï¼Œæ¥æ”¶è€…åªèƒ½æ¥æ”¶æ¥è‡ªéƒ¨åˆ†ç»„æ’­æºçš„æ•°æ®ã€‚ä»æ¥æ”¶è€…è§’åº¦æ¥çœ‹ï¼Œåªæœ‰éƒ¨åˆ†ç»„æ’­æºæ˜¯æœ‰æ•ˆçš„ï¼Œç»„æ’­æºç»è¿‡äº†ç­›é€‰ã€‚&lt;/li&gt;
&lt;li&gt;SSMï¼ˆSource-Specific Multicastï¼‰æŒ‡å®šæºç»„æ’­&lt;br&gt;
SSMæ¨¡å‹é’ˆå¯¹ç‰¹å®šæºå’Œç»„çš„ç»‘å®šæ•°æ®æµæä¾›æœåŠ¡ï¼Œæ¥æ”¶è€…ä¸»æœºåœ¨åŠ å…¥ç»„æ’­ç»„æ—¶ï¼Œå¯ä»¥æŒ‡å®šåªæ¥æ”¶å“ªäº›æºçš„æ•°æ®ã€‚åŠ å…¥ç»„æ’­ç»„ä»¥åï¼Œä¸»æœºåªä¼šæ”¶åˆ°æŒ‡å®šæºå‘é€åˆ°è¯¥ç»„çš„æ•°æ®ã€‚SSMæ¨¡å‹å¯¹ç»„åœ°å€ä¸å†è¦æ±‚å…¨ç½‘å”¯ä¸€ï¼Œåªéœ€è¦æ¯ä¸ªç»„æ’­æºä¿æŒå”¯ä¸€ã€‚è¿™é‡Œçš„â€œå”¯ä¸€â€æŒ‡çš„æ˜¯åŒä¸€ä¸ªæºä¸Šä¸åŒçš„ç»„æ’­åº”ç”¨å¿…é¡»ä½¿ç”¨ä¸åŒçš„SSMåœ°å€æ¥åŒºåˆ†ã€‚ä¸åŒçš„æºä¹‹é—´å¯ä»¥ä½¿ç”¨ç›¸åŒçš„ç»„åœ°å€ï¼Œå› ä¸ºSSMæ¨¡å‹ä¸­é’ˆå¯¹æ¯ä¸€ä¸ªï¼ˆæºï¼Œç»„ï¼‰ä¿¡æ¯éƒ½ä¼šç”Ÿæˆè¡¨é¡¹ã€‚è¿™æ ·ä¸€æ–¹é¢èŠ‚çœäº†ç»„æ’­ç»„åœ°å€ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿä¸ä¼šé€ æˆç½‘ç»œæ‹¥å¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç»„æ’­ipåœ°å€åˆ†ç±»&#34;&gt;ç»„æ’­IPåœ°å€åˆ†ç±»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ°¸ä¹…ç»„åœ°å€&lt;br&gt;
IANAä¸ºè·¯ç”±åè®®é¢„ç•™çš„ç»„æ’­åœ°å€ï¼Œç”¨äºæ ‡è¯†ä¸€ç»„ç‰¹å®šçš„ç½‘ç»œè®¾å¤‡ï¼ˆä¹Ÿç§°ä¸ºä¿ç•™ç»„æ’­ç»„ï¼‰ã€‚ä¾‹å¦‚ï¼š224.0.0.5æ˜¯OSPFè·¯ç”±å™¨ã€‚æ°¸ä¹…ç»„åœ°å€ä¿æŒä¸å˜ï¼Œç»„æˆå‘˜çš„æ•°é‡å¯ä»¥æ˜¯ä»»æ„çš„ï¼Œç”šè‡³å¯ä»¥ä¸ºé›¶ã€‚&lt;/li&gt;
&lt;li&gt;ä¸´æ—¶ç»„åœ°å€&lt;br&gt;
ä¸ºç”¨æˆ·ç»„æ’­ç»„ä¸´æ—¶åˆ†é…çš„IPåœ°å€ï¼Œç»„æˆå‘˜çš„æ•°é‡ä¸€æ—¦ä¸ºé›¶ï¼Œå³å–æ¶ˆã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596607503545.png&#34; alt=&#34;ç»„æ’­IPåœ°å€åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¸¸è§çš„æ°¸ä¹…ç»„åœ°å€åˆ—è¡¨&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597066331855.png&#34; alt=&#34;å¸¸è§çš„æ°¸ä¹…ç»„åœ°å€åˆ—è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸“ç”¨åœ°å€ï¼ˆ224.0.0.0-224.0.0.255ï¼‰ç”¨äºç½‘ç»œåè®®ç»„çš„å¹¿æ’­ï¼›å…¬ç”¨åœ°å€ï¼ˆ224.0.1.0-238.255.255.255ï¼‰ç”¨äºå…¨çƒç½‘ç»œç»„æ’­ï¼›ç§ç”¨åœ°å€ï¼ˆ239.0.0.0-239.255.255.255ï¼‰ç”¨äºæœ¬åœ°æµ‹è¯•ã€å±€åŸŸç½‘ä½¿ç”¨ã€‚   ASMï¼ˆä»»æ„æºç»„æ’­ï¼‰åœ°å€ä¸ºï¼ˆ224.0.1.0-231.255.255.255ã€33.0.0.0.0-238.255.255.255.255ï¼‰ï¼›SSMï¼ˆæŒ‡å®šæºç»„æ’­ï¼‰åœ°å€ä¸ºï¼ˆ232.0.0.0.0-232.255.255.255.255)ï¼Œå…¨ç½‘ç”¨åœ¨IPv6åè®®ä¸­ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚å¿…é¡»æ˜¯0xFFã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç»„æ’­macåœ°å€&#34;&gt;ç»„æ’­MACåœ°å€&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596607753123.png&#34; alt=&#34;ç»„æ’­MACåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IANAè§„å®šï¼Œ&lt;strong&gt;ç»„æ’­MACåœ°å€çš„é«˜24bitä¸º0x01005eï¼Œç¬¬25bitå›ºå®šä¸º0&lt;/strong&gt;ï¼Œä½23bitä¸ºç»„æ’­IPåœ°å€çš„ä½23bitã€‚å°±ä»¥å¤ªç½‘è€Œè¨€ï¼ŒIPç»„æ’­å¸§éƒ½ä½¿ç”¨ä»¥0x0100.5Exx.xxxxçš„24ä½å‰ç¼€å¼€å§‹çš„MACå±‚åœ°å€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ipåœ°å€åˆ°macåœ°å€çš„æ˜ å°„&#34;&gt;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&lt;/h3&gt;
&lt;p&gt;éœ€è¦å°†ç»„æ’­IPåœ°å€æ˜ å°„åˆ°ç»„æ’­MACåœ°å€ã€‚ç»„æ’­MACåœ°å€çš„é«˜24bitä¸º0x01005eï¼ŒMACåœ°å€çš„ä½23bitä¸ºç»„æ’­IPåœ°å€çš„ä½23bã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596608065677.png&#34; alt=&#34;IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&#34;&gt;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&lt;/h4&gt;
&lt;p&gt;å­˜åœ¨å½“ç¬¬3å±‚IPåœ°å€æ˜ å°„æˆç¬¬2å±‚MACåœ°å€æ—¶å¯¼è‡´32:1çš„åœ°å€ä¸æ˜ç¡®é—®é¢˜&lt;sub&gt;ï¼ˆåŸå› ï¼šç¬¬25bitå›ºå®šä¸º0ï¼ŒIPåœ°å€32bitï¼Œåªæ˜ å°„å23bitï¼‰&lt;/sub&gt;ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596608304089.png&#34; alt=&#34;æ˜ å°„å¯¼è‡´çš„é—®é¢˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å› æ­¤åœ¨è§„åˆ’ç»„æ’­ç½‘ç»œçš„æ—¶å€™ï¼Œä¸ºé˜²æ­¢å‡ºç°ç›¸åŒçš„ç»„æ’­MACï¼Œéœ€è¦ç»„æ’­IPçš„å23bitä¸ç›¸åŒã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç»„æ’­åŸºæœ¬åŸç†&#34;&gt;ç»„æ’­åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;h3 id=&#34;ç»„æ’­ç›¸å…³åè®®&#34;&gt;ç»„æ’­ç›¸å…³åè®®&lt;/h3&gt;
&lt;p&gt;ç»„æ’­åè®®åŒ…æ‹¬ç”¨äºä¸»æœºæ³¨å†Œçš„ç»„æ’­ç»„ç®¡ç†åè®®ï¼Œå’Œç”¨äºç»„æ’­é€‰è·¯è½¬å‘çš„ç»„æ’­è·¯ç”±åè®®ã€‚ç»„æ’­ç›¸å…³åè®®æœ‰IGMPã€PIMã€MSDPã€MBGP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596609093773.png&#34; alt=&#34;ç»„æ’­ç›¸å…³åè®®&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IGMP&lt;br&gt;
åœ¨&lt;strong&gt;æ¥æ”¶è€…ä¸å¶è·¯ç”±å™¨ä¹‹é—´äº¤äº’&lt;/strong&gt;çš„ä¸€ä¸ªåè®®ï¼Œå¸®åŠ©å¶è·¯ç”±å™¨ç¡®å®šè¯¥æ¥å£ä¸‹æ˜¯å¦è¿˜æœ‰éœ€è¦ç»„æ’­æµçš„æ¥æ”¶è€…ã€‚IGMPåè®®åœ¨ä¸»æœºç«¯å®ç°ç»„æ’­ç»„æˆå‘˜åŠ å…¥ä¸ç¦»å¼€ï¼Œåœ¨ä¸Šæ¸¸çš„ä¸‰å±‚è®¾å¤‡ä¸­å®ç°ç»„æˆå‘˜å…³ç³»çš„ç»´æŠ¤ä¸ç®¡ç†ï¼ŒåŒæ—¶æ”¯æŒä¸ä¸Šå±‚ç»„æ’­è·¯ç”±åè®®çš„ä¿¡æ¯äº¤äº’ã€‚&lt;/li&gt;
&lt;li&gt;PIM&lt;br&gt;
åè®®æ— å…³ç»„æ’­ã€‚æ— å…³ä¹å•æ’­åè®®æ˜¯ä»€ä¹ˆï¼Œä¹Ÿæ— å…³ä¹ç»„æ’­è·¯ç”±åè®®æ˜¯ä»€ä¹ˆã€‚åœ¨ç»„æ’­è·¯ç”±å™¨ä¹‹é—´å»ºç«‹PIMçš„é‚»å±…å…³ç³»ï¼Œèƒ½å¤Ÿæ ¹æ®è§„åˆ™äº§ç”Ÿç»„æ’­è·¯ç”±è¡¨ã€‚ç”¨äº&lt;strong&gt;ç»„æ’­è·¯ç”±å™¨ä¹‹é—´&lt;/strong&gt;ã€‚PIMåè®®åŒ…æ‹¬&lt;strong&gt;PIM-SMï¼ˆç¨€ç–æ¨¡å¼ï¼‰å’ŒPIM-DMï¼ˆå¯†é›†æ¨¡å¼ï¼‰&lt;/strong&gt;ã€‚PIM-SMé€‚åˆè§„æ¨¡è¾ƒå¤§ã€ç»„æˆå‘˜ç›¸å¯¹æ¯”è¾ƒåˆ†æ•£çš„ç½‘ç»œï¼›PIM-DMé€‚åˆè§„æ¨¡è¾ƒå°ã€ç»„æ’­ç»„æˆå‘˜ç›¸å¯¹æ¯”è¾ƒé›†ä¸­çš„ç½‘ç»œã€‚åœ¨PIM-DMæ¨¡å¼ä¸‹ä¸éœ€è¦åŒºåˆ†ASMæ¨¡å‹å’ŒSSMæ¨¡å‹ã€‚åœ¨PIM-SMæ¨¡å¼ä¸‹æ ¹æ®æ•°æ®å’Œåè®®æŠ¥æ–‡ä¸­çš„ç»„æ’­åœ°å€åŒºåˆ†ASMæ¨¡å‹å’ŒSSMæ¨¡å‹ï¼šå¦‚æœåœ¨SSMç»„æ’­åœ°å€èŒƒå›´å†…ï¼Œåˆ™æŒ‰ç…§PIM-SMåœ¨SSMä¸­çš„å®ç°æµç¨‹è¿›è¡Œå¤„ç†ã€‚PIM-SSMä¸ä½†æ•ˆç‡é«˜ï¼Œè€Œä¸”ç®€åŒ–äº†ç»„æ’­åœ°å€åˆ†é…æµç¨‹ï¼Œç‰¹åˆ«é€‚ç”¨äºå¯¹äºç‰¹å®šç»„åªæœ‰ä¸€ä¸ªç‰¹å®šæºçš„æƒ…å†µã€‚å¦‚æœåœ¨ASMç»„æ’­åœ°å€èŒƒå›´å†…ï¼Œåˆ™æŒ‰ç…§PIM-SMåœ¨ASMä¸­çš„å®ç°æµç¨‹è¿›è¡Œå¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;MSDP&lt;br&gt;
MSDPæ˜¯ä¸ºäº†è§£å†³å¤šä¸ªPIM-SMåŸŸä¹‹é—´çš„äº’è¿çš„ä¸€ç§åŸŸé—´ç»„æ’­åè®®ï¼Œç”¨æ¥å‘ç°å…¶ä»–PIM-SMåŸŸå†…çš„ç»„æ’­æºä¿¡æ¯ï¼Œè¿œç«¯åŸŸå†…çš„æ´»åŠ¨ä¿¡æºä¿¡æ¯ä¼ é€’ç»™æœ¬åœ°åŸŸå†…çš„æ¥æ”¶è€…ï¼Œä»è€Œå®ç°ç»„æ’­æŠ¥æ–‡çš„è·¨åŸŸè½¬å‘ã€‚åªæœ‰PIM-SMä½¿ç”¨ASMæ¨¡å‹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨MSDPã€‚&lt;/li&gt;
&lt;li&gt;MBGP&lt;br&gt;
å®ç°äº†è·¨ASåŸŸçš„ç»„æ’­è½¬å‘ã€‚é€‚ç”¨äºç»„æ’­æºä¸ç»„æ’­æ¥æ”¶è€…åœ¨ä¸åŒASåŸŸçš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;IGMP Snooping &amp;amp; IGMP Snooping Proxy&lt;br&gt;
IGMP SnoopingåŠŸèƒ½å¯ä»¥ä½¿äº¤æ¢æœºå·¥ä½œåœ¨äºŒå±‚æ—¶ï¼Œé€šè¿‡ä¾¦å¬ä¸Šæ¸¸çš„ä¸‰å±‚è®¾å¤‡å’Œç”¨æˆ·ä¸»æœºä¹‹é—´å‘é€çš„IGMPæŠ¥æ–‡æ¥å»ºç«‹ç»„æ’­æ•°æ®æŠ¥æ–‡çš„äºŒå±‚è½¬å‘è¡¨ï¼Œç®¡ç†å’Œæ§åˆ¶ç»„æ’­æ•°æ®æŠ¥æ–‡çš„è½¬å‘ï¼Œè¿›è€Œæœ‰æ•ˆæŠ‘åˆ¶ç»„æ’­æ•°æ®åœ¨äºŒå±‚ç½‘ç»œä¸­æ‰©æ•£ã€‚&lt;br&gt;
IGMP Snooping ProxyåŠŸèƒ½åœ¨IGMP Snoopingçš„åŸºç¡€ä¸Šä½¿äº¤æ¢æœºä»£æ›¿ä¸Šæ¸¸ä¸‰å±‚è®¾å¤‡å‘ä¸‹æ¸¸ä¸»æœºå‘é€IGMP QueryæŠ¥æ–‡å’Œä»£æ›¿ä¸‹æ¸¸ä¸»æœºå‘ä¸Šæ¸¸è®¾å¤‡å‘é€IGMP Reportå’ŒLeaveæŠ¥æ–‡ï¼Œè¿™æ ·èƒ½å¤Ÿæœ‰æ•ˆçš„èŠ‚çº¦ä¸Šæ¸¸è®¾å¤‡å’Œæœ¬è®¾å¤‡ä¹‹é—´çš„å¸¦å®½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»„æ’­åˆ†å‘æ ‘çš„ä¸¤ä¸ªåŸºæœ¬ç±»å‹&#34;&gt;ç»„æ’­åˆ†å‘æ ‘çš„ä¸¤ä¸ªåŸºæœ¬ç±»å‹&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥æè¿°IPç»„æ’­æŠ¥æ–‡åœ¨ç½‘ç»œä¸­ç»è¿‡çš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æºè·¯å¾„æ ‘spt&#34;&gt;æºè·¯å¾„æ ‘SPT&lt;/h4&gt;
&lt;p&gt;ä»¥ç»„æ’­æºä½œä¸ºæ ‘æ ¹ï¼Œå°†ç»„æ’­æºåˆ°æ¯ä¸€ä¸ªæ¥æ”¶è€…çš„æœ€çŸ­è·¯å¾„ç»“åˆèµ·æ¥æ„æˆçš„è½¬å‘æ ‘ã€‚&lt;br&gt;
æ¯ä¸€ä¸ªç»„æ’­æºä¸æ¥æ”¶è€…ä¹‹é—´å»ºç«‹ä¸€æ£µç‹¬ç«‹çš„SPT&lt;br&gt;
&lt;code&gt;è¿™ä¸ªæœºåˆ¶çš„ä½œç”¨æ˜¯å®ç°ç»„æ’­æµé‡çš„æœ€ä¼˜è½¬å‘è·¯å¾„&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596610760187.png&#34; alt=&#34;æºè·¯å¾„æ ‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šè·¯å¾„æœ€ä¼˜ï¼Œå»¶è¿Ÿæœ€å°ï¼Œå ç”¨å†…å­˜è¾ƒå¤š&lt;/p&gt;
&lt;h4 id=&#34;å…±äº«æ ‘rpt&#34;&gt;å…±äº«æ ‘RPT&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨æ”¾åœ¨ç½‘ç»œçš„æŸäº›èŠ‚ç‚¹çš„å•ç‹¬çš„å…¬ç”¨æ ¹ã€‚æ ¹æ®ç»„æ’­è·¯ç”±åè®®ï¼Œè¿™ä¸ªæ ¹å¸¸è¢«ç§°ä¸ºæ±‡åˆç‚¹ï¼ˆRPï¼‰æˆ–æ ¸å¿ƒï¼Œå› æ­¤ï¼Œå…±äº«æ ‘ä¹Ÿå¯ä»¥ç§°ä¸ºRPTã€‚&lt;br&gt;
å¯¹åº”æŸä¸ªç»„ï¼Œç½‘ç»œä¸­åªæœ‰ä¸€æ£µæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596611226847.png&#34; alt=&#34;å…±äº«æ ‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šè·¯å¾„ä¸æ˜¯æœ€ä¼˜çš„ï¼Œå¼•å…¥é¢å¤–çš„å»¶è¿Ÿï¼Œå ç”¨å†…å­˜è¾ƒå°‘ï¼ˆå•ä¸ªè¡¨é¡¹ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;ç»„æ’­æ•°æ®è½¬å‘&#34;&gt;ç»„æ’­æ•°æ®è½¬å‘&lt;/h2&gt;
&lt;p&gt;ç»„æ’­è·¯ç”±å’Œå•æ’­è·¯ç”±æ˜¯ç›¸åçš„ï¼Œå•æ’­è·¯ç”±å…³å¿ƒæ•°æ®æŠ¥æ–‡è¦åˆ°å“ªé‡Œå»ï¼Œç»„æ’­è·¯ç”±å…³å¿ƒæ•°æ®æŠ¥æ–‡ä»å“ªé‡Œæ¥ï¼ˆé˜²ç¯ï¼‰ã€‚ç»„æ’­è·¯ç”±ä½¿ç”¨ â€œåå‘è·¯å¾„è½¬å‘â€æœºåˆ¶(RPF, Reverse Path Forwarding)&lt;/p&gt;
&lt;h3 id=&#34;åå‘è·¯å¾„è½¬å‘rpf&#34;&gt;åå‘è·¯å¾„è½¬å‘RPF&lt;/h3&gt;
&lt;p&gt;è·¯ç”±å™¨æ”¶åˆ°ç»„æ’­æ•°æ®æŠ¥æ–‡åï¼Œåªæœ‰ç¡®è®¤è¿™ä¸ªæ•°æ®æŠ¥æ–‡æ˜¯&lt;strong&gt;ä»è‡ªèº«è¿æ¥åˆ°ç»„æ’­æºçš„æ¥å£ä¸Šæ”¶åˆ°çš„ï¼Œæ‰è¿›è¡Œè½¬å‘&lt;/strong&gt;ï¼Œå¦åˆ™ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;code&gt;è¿™ä¸ªæœºåˆ¶çš„ä½œç”¨æ˜¯é˜²æ­¢ç»„æ’­æµé‡è½¬å‘ç¯è·¯&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;RPFæ£€æŸ¥&lt;/strong&gt;ï¼šåœ¨&lt;strong&gt;å•æ’­è·¯ç”±è¡¨ä¸­&lt;/strong&gt;æŸ¥æ‰¾åˆ°&lt;strong&gt;ç»„æ’­æŠ¥æ–‡æºåœ°å€çš„è·¯ç”±&lt;/strong&gt;ï¼Œå¦‚æœ&lt;strong&gt;è¯¥è·¯ç”±çš„å‡ºæ¥å£&lt;/strong&gt;å°±æ˜¯&lt;strong&gt;ç»„æ’­æŠ¥æ–‡çš„å…¥æ¥å£&lt;/strong&gt;ã€å³ç¡®ä¿ç»„æ’­æµçš„å…¥æ¥å£æ˜¯å•æ’­è·¯ç”±çš„å‡ºæ¥å£ã€‘ï¼ŒRPFæ£€æŸ¥æˆåŠŸï¼›å¦åˆ™RPFæ£€æŸ¥å¤±è´¥ï¼ŒæŠ¥æ–‡ä¸¢å¼ƒ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RPFä¸¾ä¾‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613155173.png&#34; alt=&#34;RPFä¸¾ä¾‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613223608.png&#34; alt=&#34;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596613270842.png&#34; alt=&#34;ç»„æ’­è½¬å‘RPFä¸¾ä¾‹2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åä¸ºrpfæ£€æŸ¥è¿‡ç¨‹&#34;&gt;åä¸ºRPFæ£€æŸ¥è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;é™¤å•æ’­è·¯ç”±å¤–ï¼ŒMBGPè·¯ç”±ã€ç»„æ’­é™æ€è·¯ç”±ä¹Ÿæ˜¯RPFæ£€æŸ¥çš„ä¾æ®ã€‚å½“è·¯ç”±å™¨æ”¶åˆ°ä¸€ä»½ç»„æ’­æŠ¥æ–‡ä¹‹åï¼Œå¦‚æœè¿™ä¸‰ç§è·¯ç”±è¡¨éƒ½å­˜åœ¨ï¼Œå…·ä½“æ£€æŸ¥è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆï¼Œé€šè¿‡æŠ¥æ–‡æºåœ°å€ï¼Œåˆ†åˆ«ä»å•æ’­è·¯ç”±è¡¨ã€MBGPè·¯ç”±è¡¨å’Œç»„æ’­é™æ€è·¯ç”±è¡¨ä¸­å„é€‰å‡ºä¸€æ¡æœ€ä¼˜è·¯ç”±ã€‚å•æ’­è·¯ç”±ã€MBGPè·¯ç”±çš„å‡ºå€Ÿå£ä¸ºRPFæ¥å£ï¼Œä¸‹ä¸€æ¡ä¸ºRPFé‚»å±…ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»„æ’­é™æ€è·¯ç”±å®é™…ä¸Šå±äºæ‰‹å·¥é…ç½®çš„ç»„æ’­è·¯ç”±ï¼Œå·²ç»æ˜ç¡®åˆ¶è®¢äº†RPFæ¥å£ä¸RPFé‚»å±…&lt;/li&gt;
&lt;li&gt;ç„¶åï¼Œæ ¹æ®ä»¥ä¸‹åŸåˆ™ä»è¿™ä¸‰æ¡æœ€ä¼˜è·¯ç”±ä¸­é€‰æ‹©ä¸€æ¡ä½œä¸ºRPFè·¯ç”±
&lt;ol&gt;
&lt;li&gt;å¦‚æœé…ç½®äº†æŒ‰ç…§æœ€é•¿åŒ¹é…é€‰æ‹©è·¯ç”±
&lt;ol&gt;
&lt;li&gt;ä»è¿™ä¸‰æ¡è·¯ç”±ä¸­é€‰å‡ºæœ€é•¿åŒ¹é…çš„é‚£æ¡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™ä¸‰æ¡è·¯ç”±çš„æ©ç ä¸€æ ·ï¼Œåˆ™é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„é‚£æ¡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ä¹Ÿç›¸åŒï¼ˆå³æ‰‹å·¥ä¿®æ”¹äº†åè®®ä¼˜å…ˆçº§ï¼‰ï¼Œåˆ™æŒ‰ç…§ç»„æ’­é™æ€è·¯ç”±&amp;gt;MBGPè·¯ç”±&amp;gt;å•æ’­è·¯ç”±çš„é¡ºåºè¿›è¡Œé€‰æ‹©&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰é…ç½®æœ€é•¿åŒ¹é…é€‰æ‹©è·¯ç”±
&lt;ol&gt;
&lt;li&gt;ä»è€…ä¸‰æ¡è·¯ç”±ä¸­é€‰å‡ºä¼˜å…ˆçº§æœ€é«˜çš„é‚£æ¡è·¯ç”±ï¼ˆé»˜è®¤å‚è€ƒåŸåˆ™ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç»„æ’­é™æ€è·¯ç”±&amp;gt;MBGPè·¯ç”±&amp;gt;å•æ’­è·¯ç”±çš„é¡ºåºè¿›è¡Œé€‰æ‹©&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œè·¯ç”±å™¨ä¼šå°†æŠ¥æ–‡çš„å…¥æ¥å£ä¸RPFè·¯ç”±çš„RPFæ¥å£è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœä¸€æ ·åˆ™RPFæ£€æŸ¥é€šè¿‡ï¼Œè¡¨æ˜æŠ¥æ–‡æ¥æºè·¯å¾„æ­£ç¡®ï¼Œä¼šå°†å…¶å‘ä¸‹æ¸¸è½¬å‘ï¼›å¦‚æœä¸ä¸€è‡´å³RPFæ£€æŸ¥å¤±è´¥ï¼Œè¡¨æ˜è¯¥æŠ¥æ–‡æ¥æºè·¯å¾„é”™è¯¯ï¼Œå°±å°†å…¶ä¸¢å¼ƒã€‚&lt;/li&gt;
&lt;li&gt;é™æ€ç»„æ’­è·¯ç”±çš„ä¼˜å…ˆçº§ä¸º1ï¼ŒBGPå¯ä»¥åœ¨ä¸åŒåœ°å€æ—è¿›è¡Œä¿®æ”¹&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šå¦‚æœåŒæ—¶å­˜åœ¨å…³äºç»„æ’­æºåœ°å€çš„ç»„æ’­é™æ€ã€ç»„æ’­BGPã€å•æ’­è·¯ç”±ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§ç»„æ’­é™æ€&amp;gt;ç»„æ’­BGP&amp;gt;å•æ’­è·¯ç”±çš„é¡ºåºè¿›è¡Œé€‰æ‹©&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;é¢è¯•å›ç­”æ¡ç†æ¸…æ™°&#34;&gt;é¢è¯•å›ç­”ï¼ˆæ¡ç†æ¸…æ™°ï¼‰&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤æƒ…å†µä¸‹é‡‡ç”¨ä¼˜å…ˆçº§é€‰å–è·¯ç”±æ¥è¿›è¡ŒRPFæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;å¦‚æœé…ç½®äº†æœ€é•¿åŒ¹é…é€‰æ‹©è·¯ç”±ï¼Œåˆ™ä»è¿™ä¸‰æ¡è·¯ç”±ä¸­é€‰å‡ºæœ€é•¿åŒ¹é…çš„é‚£æ¡è·¯ç”±ï¼Œå‘½ä»¤ä¸º&lt;code&gt;multicast longest-match&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå‰ç¼€å’Œæ©ç ç›¸åŒï¼Œåˆ™é€‰å–è·¯ç”±ä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœå‰ç¼€ã€æ©ç ã€ä¼˜å…ˆçº§éƒ½ç›¸åŒï¼ŒæŒ‰ç…§ç»„æ’­é™æ€è·¯ç”±ã€ç»„æ’­BGPè·¯ç”±ã€å•æ’­è·¯ç”±çš„é¡ºåºé€‰æ‹©&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RPFæ£€æŸ¥å¯ä»¥æ ¹æ®æºåœ°å€æˆ–è€…æ˜¯RPçš„åœ°å€è¿›è¡Œæ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç›¸å…³åè®®&#34;&gt;ç›¸å…³åè®®&lt;/h2&gt;
&lt;h3 id=&#34;igmp-äº’è”ç½‘ç»„ç®¡ç†åè®®&#34;&gt;IGMP äº’è”ç½‘ç»„ç®¡ç†åè®®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¡Œåœ¨æ¥æ”¶è€…ä¸å¶è·¯ç”±å™¨ä¹‹é—´ï¼Œç”¨äºç»´æŠ¤ç»„æ’­ç½‘ç»œä¸­å¶è·¯ç”±å™¨æ˜¯å¦éœ€è¦å‘ç‰¹å®šæ¥å£è½¬å‘ç»„æ’­æµã€‚ä¸‰ä¸ªç‰ˆæœ¬ v1ï¼ˆRFC1112ï¼‰ã€v2ï¼ˆRFC2236ï¼‰ã€v3ï¼ˆRFC3376ã€4604ï¼‰ã€‚v2æ¯”è¾ƒå¸¸ç”¨ï¼Œv1ã€v2ã€v3 å‡æ”¯æŒASMï¼Œv3ä¸»è¦æ˜¯é’ˆå¯¹SSMæ¨¡å‹åšæœ‰åŠ›æ”¯æ’‘ã€‚&lt;/li&gt;
&lt;li&gt;IGMPåè®®æ˜¯ä¸»æœºå’Œè·¯ç”±å™¨ä¹‹é—´çš„åè®®ã€‚ä¸»æœºé€šè¿‡IGMPåè®®å‘ç»„æ’­è·¯ç”±å™¨æŠ¥å‘Šè‡ªå·±æƒ³åŠ å…¥çš„ç»„ï¼›è·¯ç”±å™¨é€šè¿‡IGMPåè®®æŸ¥è¯¢ç½‘æ®µå±±æ˜¯å¦è¿˜æœ‰ç‰¹å®šç»„çš„æˆå‘˜&lt;/li&gt;
&lt;li&gt;ä¸»æœºè·Ÿè·¯ç”±å™¨ä¹‹é—´çš„ç»„æ§åˆ¶åè®®å¯¹IPv6æœ‰è¿ä¸ªç‰ˆæœ¬ï¼šMLDv1å’ŒMLDv2&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;v1&#34;&gt;v1&lt;/h4&gt;
&lt;h5 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596636710868.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šè¡¨ç¤ºç‰ˆæœ¬æ ‡è¯†ï¼Œç‰ˆæœ¬1ä¸º1ï¼Œç‰ˆæœ¬2æ²¡æœ‰è¿™ä¸ªå­—æ®µï¼Œåœ¨RFC988ä¸­è¯´æ˜ï¼Œè¿™ä¸ªå­—æ®µå·²ç»åºŸå¼ƒ&lt;/li&gt;
&lt;li&gt;Typeï¼šç‰ˆæœ¬1åªæœ‰æˆå‘˜å…³ç³»æŸ¥è¯¢ï¼ˆmembership queryï¼Œ0x11ï¼‰å’Œæˆå‘˜å…³ç³»æŠ¥å‘Šï¼ˆmembership reportï¼Œ0x12ï¼‰ï¼Œæ²¡æœ‰ç‰¹å®šçš„ç»„å…³ç³»æŸ¥è¯¢ï¼Œä¹Ÿæ²¡æœ‰ä¸»æœºå‘é€çš„ç¦»å¼€æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;ç»„åœ°å€ï¼šå½“ä¸€ä¸ªæˆå‘˜å…³ç³»æŠ¥å‘Šæ­£è¢«å‘é€æ—¶ï¼Œç»„åœ°å€å­—æ®µåŒ…å«ç»„æ’­åœ°å€ï¼›å½“ç”¨äºæˆå‘˜å…³ç³»æŸ¥è¯¢æ—¶ï¼Œæœ¬å­—æ®µä¸º0ï¼Œå¹¶è¢«ä¸»æœºå¿½ç•¥&lt;br&gt;
ç‰ˆæœ¬1ä¸èƒ½è®¾å®šå“åº”æ—¶é—´ï¼Œ&lt;strong&gt;æ‰€æœ‰çš„å“åº”æ—¶é—´éƒ½æ˜¯é»˜è®¤çš„10ç§’&lt;/strong&gt;ï¼Œè¿™å®¹æ˜“å¼•èµ·&lt;strong&gt;å“åº”çªå‘&lt;/strong&gt;ã€‚ç‰ˆæœ¬1æˆå‘˜ç¦»å¼€çš„æ—¶å€™æ˜¯é»˜é»˜ç¦»å¼€çš„ï¼Œä¸å‘é€ç¦»å¼€æŠ¥å‘Šï¼Œè¿™æ ·ç¦»å¼€å»¶è¿Ÿæ¯”è¾ƒå¤§ï¼Œä¹Ÿä¸ä¼šå¼•èµ·ç‰¹å®šçš„ç»„æŸ¥è¯¢ï¼Œå› æ­¤v1ç‰ˆæœ¬çš„è·¯ç”±å™¨ä¼š&lt;strong&gt;å‘¨æœŸæ€§ï¼ˆ60sï¼‰çš„æŸ¥è¯¢&lt;/strong&gt;æ˜¯å¦è¿˜æœ‰æ¥æ”¶è€…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç»„æˆå‘˜åŠ å…¥è¿‡ç¨‹&#34;&gt;ç»„æˆå‘˜åŠ å…¥è¿‡ç¨‹&lt;/h5&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»æœºå¸Œæœ›æ¥æ”¶ä¸€ä¸ªç»„æ’­ç»„çš„æ•°æ®ï¼Œåˆ™&lt;strong&gt;å‘é€æˆå‘˜åŠ å…¥æŠ¥å‘Šç»™ç»„æ’­ç»„&lt;/strong&gt;ï¼Œè¯¥æŠ¥æ–‡ä¸­ç»„åœ°å€ä¸ºä¸»æœºæƒ³åŠ å…¥çš„ç»„æ’­ç»„çš„åœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596638205183.png&#34; alt=&#34;ç»„æˆå‘˜åŠ å…¥è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&#34;&gt;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢ä¸å“åº”&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;IGMPæŸ¥è¯¢å™¨å‘¨æœŸæ€§çš„å‘å…±äº«ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºä»¥ç»„æ’­æ–¹å¼ï¼ˆç›®çš„åœ°å€ä¸º224.0.0.1ï¼‰å‘é€æˆå‘˜å…³ç³»æŸ¥è¯¢æ¶ˆæ¯ï¼ˆç»„åœ°å€ä¸º0ï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå†…æ‰€æœ‰ä¸»æœºéƒ½æ¥æ”¶åˆ°è¯¥æŸ¥è¯¢æ¶ˆæ¯ï¼Œå¦‚æœæŸä¸»æœºå¯¹æŸä¸€ç»„æ’­ç»„ï¼ˆæ¯”å¦‚ï¼Œç»„æ’­ç»„Gï¼‰æ„Ÿå…´è¶£ï¼Œåˆ™ä»¥ç»„æ’­æ–¹å¼å‘é€â€œæˆå‘˜å…³ç³»æŠ¥å‘Šâ€æŠ¥æ–‡ï¼ˆå…¶ä¸­æºå¸¦ç»„æ’­ç»„Gçš„åœ°å€ï¼‰æ¥å®£å‘Šè‡ªå·±å°†åŠ å…¥è¯¥ç»„æ’­ç»„ï¼Œå‡è®¾PC2é¦–å…ˆå‘é€æ­¤æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;ç»è¿‡æŸ¥è¯¢/å“åº”è¿‡ç¨‹åï¼ŒIGMPè·¯ç”±å™¨äº†è§£åˆ°æœ¬ç½‘ç»œå†…å­˜åœ¨ç»„æ’­ç»„Gå¯¹åº”çš„æ¥æ”¶è€…ï¼Œç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰ã€*è¡¨ç¤ºä»»æ„ç»„æ’­æºï¼ŒGè¡¨ç¤ºæŸä¸ªç»„æ’­ç»„ã€‘ç»„æ’­é¡¹å¹¶ä¾æ®æ­¤ä½œä¸ºç»„æ’­ä¿¡æ¯çš„è½¬å‘ä¾æ®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639701738.png&#34; alt=&#34;ç»„æ’­è·¯ç”±å™¨çš„æŸ¥è¯¢&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IGMPv1è§„å®šï¼Œå½“å…±äº«ç½‘ç»œä¸­æœ‰å¤šå°è·¯ç”±å™¨æ—¶ï¼Œç”±ç»„æ’­è·¯ç”±åè®®é€‰ä¸¾æŸ¥è¯¢å™¨ã€‚ä¸åŒçš„ç»„æ’­è·¯ç”±åè®®æœ‰ä¸åŒçš„é€‰ä¸¾æœºåˆ¶ã€‚&lt;strong&gt;IGMPæŸ¥è¯¢å™¨é€‰ä¸¾ï¼Œç”±ç»„æ’­åè®®å†³å®šï¼Œå¦‚æœæ˜¯PIMåè®®ï¼ŒPIMçš„DRå°†åšä¸ºæŸ¥è¯¢å™¨&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;224.0.0.1-ä»£è¡¨æ‰€æœ‰çš„ç»„æ’­èŠ‚ç‚¹ï¼›224.0.0.2-ä»£è¡¨æ‰€æœ‰çš„ç»„æ’­è·¯ç”±å™¨&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å“åº”æŠ‘åˆ¶æœºåˆ¶&#34;&gt;å“åº”æŠ‘åˆ¶æœºåˆ¶&lt;/h5&gt;
&lt;p&gt;IGMPæˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼Œå°±æ˜¯è¯´ç½‘æ®µå†…æ‰€æœ‰çš„è®¾å¤‡éƒ½ä¼šæ”¶åˆ°è¯¥æŸ¥è¯¢æŠ¥æ–‡ã€‚ä½†å¹¶ä¸æ˜¯æ‰€æœ‰æ”¶åˆ°è¯¥æŠ¥æ–‡çš„ä¸»æœºéƒ½ä¼šå“åº”æŸ¥è¯¢è¯·æ±‚çš„ã€‚ä¸‹å›¾ä¸­åªæœ‰ä¸€ä¸ªä¸»æœºä¼šä»¥æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡å“åº”ï¼Œè€Œå…¶å®ƒä¸»æœºåˆ™æŠ‘åˆ¶æˆå‘˜å…³ç³»æŠ¥å‘Šçš„å‘é€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639715421.png&#34; alt=&#34;å“åº”&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å®é™…ä¸Šä¸»æœºæ”¶åˆ°IGMPæˆå‘˜å…³ç³»æŸ¥è¯¢æ—¶ï¼Œä¼šå¯¹å®ƒå·²ç»åŠ å…¥çš„æ¯ä¸ªç»„æ’­ç»„å¯åŠ¨ä¸€ä¸ªå€’è®¡æ•°æŠ¥å‘Šè®¡æ—¶å™¨ã€‚IGMPv1ä¸­è®¡æ—¶å™¨å›ºå®šä½¿ç”¨10sã€‚è®¡æ—¶å™¨åˆ°æ—¶çš„ä¸»æœºåˆ™ä¸»åŠ¨å‘é€æˆå‘˜å…³ç³»æŠ¥å‘Šï¼Œç»„åœ°å€ä¸ºè¯¥ç»„æ’­ç»„åœ°å€ï¼Œç›®çš„åœ°å€ä¸º224.0.0.1ã€‚äºæ˜¯ç½‘æ®µå†…å…¶ä»–ä¸»æœºéƒ½ä¼šæ”¶åˆ°è¯¥æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡ï¼Œæ¥æ”¶åˆ°æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡çš„ä¸»æœºæŠ‘åˆ¶æˆå‘˜å…³ç³»æŠ¥å‘Šçš„å‘é€ï¼Œå¹¶åˆ é™¤è®¡æ—¶å™¨ã€‚å½“è·¯ç”±å™¨å‘¨æœŸæ€§çš„å‘é€æˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡æ—¶ï¼Œæ¯ä¸ªä¸»æœºéƒ½ä¼šå†æ¬¡å¯åŠ¨è®¡æ—¶å™¨è¿›è¡ŒæŸ¥è¯¢\å“åº”\æŠ‘åˆ¶ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ç»„æˆå‘˜ç¦»å¼€&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/h5&gt;
&lt;p&gt;åä¸ºå‘¨æœŸä¸º130ç§’ï¼ˆæ€ç§‘é»˜è®¤ä¸º3ä¸ªå‘¨æœŸï¼Œå³180sï¼‰&lt;br&gt;
æˆå‘˜æ‚„æ‚„ç¦»å¼€ç»„æ’­ç»„ï¼Œä¸å‘é€ä»»ä½•æŠ¥æ–‡ï¼Œ&lt;strong&gt;è·¯ç”±å™¨ä¾æ—§å‘¨æœŸæ€§çš„å‘é€æˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡ï¼Œå‘¨æœŸä¸º60s&lt;/strong&gt;ï¼Œå½“è·¯ç”±å™¨å‘é€3æ¬¡æˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡éƒ½æ²¡æ¬§æ”¶åˆ°å“åº”çš„æˆå‘˜å…³ç³»æŠ¥å‘ŠæŠ¥æ–‡æ—¶ï¼Œè·¯ç”±å™¨è®¤ä¸ºç»„å†…å·²ç»æ²¡æœ‰æˆå‘˜ï¼Œä¸å†å‘è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596639902390.png&#34; alt=&#34;ç»„æˆå‘˜ç¦»å¼€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¸¾ä¾‹&#34;&gt;ä¸¾ä¾‹&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699712692.png&#34; alt=&#34;ä¸¾ä¾‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸»æœºåŠ å…¥ç»„æ’­ç»„çš„åŸºæœ¬è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IGMP æŸ¥è¯¢å™¨ï¼ˆRouterBï¼‰å‘¨æœŸæ€§åœ°å‘å…±äº«ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºä»¥ç»„æ’­æ–¹å¼ï¼ˆç›®çš„åœ°å€ä¸ºç»„æ’­åœ°å€ï¼‰å‘é€æ™®éç»„Query æŸ¥è¯¢æ¶ˆæ¯ã€‚è¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼Œè¡¨ç¤ºè¯¥ç½‘æ®µä¸Šçš„æ‰€æœ‰ä¸»æœºå’Œè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘æ®µå†…æ‰€æœ‰ä¸»æœºéƒ½æ¥æ”¶åˆ°è¯¥æ™®éç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚å¦‚æœä¸»æœºï¼ˆå¦‚HostB å’ŒHostCï¼‰å¸Œæœ›åŠ å…¥æŸç»„æ’­ç»„G1ï¼Œåˆ™ä»¥ç»„æ’­æ–¹å¼å‘é€Report æŠ¥å‘Šã€‚è¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º224.0.0.1ï¼ŒæŠ¥æ–‡ä¸­æºå¸¦ç»„æ’­ç»„G1 çš„åœ°å€ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘æ®µä¸­æ‰€æœ‰ä¸»æœºå’Œè·¯ç”±å™¨éƒ½æ¥æ”¶åˆ°è¯¥Report æŠ¥å‘Šï¼Œå¹¶è·çŸ¥ç»„æ’­ç»„G1 åœ°å€ä¿¡æ¯ï¼Œæ­¤æ—¶ç½‘æ®µä¸­å…¶å®ƒä¹Ÿå¸Œæœ›åŠ å…¥è¯¥ç»„æ’­ç»„G1 çš„ä¸»æœºå°†ä¸å†å‘é€é’ˆå¯¹ç›¸åŒç»„æ’­ç»„çš„Report æŠ¥å‘Šã€‚åŒæ—¶ï¼Œç½‘æ®µä¸­é¢„å¤‡åŠ å…¥å¦ä¸€ç»„æ’­ç»„G2 çš„ä¸»æœºå‘é€é’ˆå¯¹ç»„æ’­ç»„G2 çš„Report æŠ¥å‘Šä»¥å“åº”æ™®éç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;ç»è¿‡æŸ¥è¯¢å’Œå“åº”è¿‡ç¨‹åï¼ŒIGMP è·¯ç”±å™¨äº†è§£åˆ°æœ¬ç½‘æ®µå†…å­˜åœ¨ç»„æ’­ç»„G1 å¯¹åº”çš„ç»„æ’­ç»„æˆå‘˜ï¼Œåˆ™ç”±ç»„æ’­è·¯ç”±åè®®ç”Ÿæˆï¼ˆ*ï¼ŒG1ï¼‰ç»„æ’­è½¬å‘é¡¹å¹¶ä»¥æ­¤ä½œä¸ºç»„æ’­æ•°æ®çš„è½¬å‘ä¾æ®ã€‚ä¹‹åï¼Œç»„æ’­è·¯ç”±åè®®å°†å‘èµ·ä¸Šæ¸¸è·¯ç”±æ›´æ–°ä»¥ç»´æŠ¤ç»„æ’­è½¬å‘æ ‘ã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­æºå‘å‡ºçš„ç»„æ’­æ•°æ®ç»è¿‡ç»„æ’­è·¯ç”±åˆ°è¾¾IGMP è·¯ç”±å™¨ï¼Œå¦‚æœIGMP è·¯ç”±å™¨ä¸Šå­˜åœ¨ï¼ˆ*ï¼ŒG1ï¼‰ç»„æ’­è½¬å‘é¡¹ï¼Œåˆ™è½¬å‘è¯¥ç»„æ’­æ•°æ®åˆ°æ­¤å…±äº«ç½‘æ®µï¼ŒG1 ç»„æ’­ç»„æˆå‘˜ä¸»æœºæ¥æ”¶è¯¥æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;IGMPv1 ä¸­æ²¡æœ‰ä¸“é—¨å®šä¹‰ç¦»å¼€ç»„æ’­ç»„çš„æ¶ˆæ¯ã€‚å½“ä¸»æœºç¦»å¼€æŸç»„æ’­ç»„åï¼Œå°†ä¸å†å‘é€ä»¥æ­¤ç»„æ’­ç»„åœ°å€ä¸ºç›®çš„åœ°å€çš„Report æŠ¥å‘Šã€‚å½“ç½‘æ®µä¸­ä¸å†å­˜åœ¨è¯¥ç»„æ’­ç»„æˆå‘˜åï¼ŒIGMP è·¯ç”±å™¨å°†ä¸èƒ½æ”¶åˆ°ä»»ä½•é’ˆå¯¹æ­¤ç»„æ’­ç»„çš„Report æŠ¥å‘Šï¼Œåˆ™IGMP è·¯ç”±å™¨åˆ é™¤è¯¥ç»„æ’­ç»„å¯¹åº”çš„è½¬å‘é¡¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;v2&#34;&gt;v2&lt;/h4&gt;
&lt;h5 id=&#34;æŠ¥æ–‡æ ¼å¼-2&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596697000398.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
IGMPv2æŠ¥æ–‡ç›¸æ¯”IGMPv1æŠ¥æ–‡ï¼Œå–æ¶ˆäº†ç‰ˆæœ¬å­—æ®µè€Œç›¸åº”å¢åŠ äº†æœ€å¤§å“åº”æ—¶é—´çš„å­—æ®µ&lt;br&gt;
IGMPv2æ”¯æŒç‰¹å®šç»„æŸ¥è¯¢ã€å¢åŠ äº†ç¦»ç»„æ¶ˆæ¯ï¼ˆå¢åŠ äº†è§¦å‘æŸ¥è¯¢æœºåˆ¶ï¼‰ã€æŠ¥å‘ŠæŠ‘åˆ¶æœºåˆ¶ä¼˜åŒ–äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€å¤§å“åº”æ—¶é—´ï¼šä»…ç”¨äºç»„æˆå‘˜å…³ç³»æŸ¥è¯¢æ—¶ä¸»æœºå¯ä»¥å“åº”æŸ¥è¯¢ï¼Œè¿”å›æŠ¥å‘Šçš„æ—¶é—´èŒƒå›´ï¼Œå¯ä»¥é€‚å½“è°ƒé«˜ï¼Œç»™ä¸»æœºè¶³å¤Ÿçš„å“åº”æ—¶é—´ã€‚ä»¥0.1ç§’ä¸ºå•ä½ï¼Œé»˜è®¤å€¼æ˜¯100ï¼Œå³10ç§’&lt;/li&gt;
&lt;li&gt;ç»„åœ°å€ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨æˆå‘˜æŸ¥è¯¢æ¶ˆæ¯ä¸­ï¼Œå‘é€ä¸€ä¸ªå¸¸è§„æŸ¥è¯¢æŠ¥æ–‡æ—¶ç»„åœ°å€ä¸º0ï¼Œå½“å‘é€ä¸€ä¸ªç‰¹å®šç»„çš„æŸ¥è¯¢æŠ¥æ–‡æ—¶ï¼Œåˆ™è®¾ç½®ä¸ºè¯¥ç»„çš„åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æˆå‘˜æŠ¥å‘Šæˆ–ç¦»å¼€ç»„çš„æ¶ˆæ¯ä¸­ï¼Œç›®çš„åœ°å€æ˜¯224.0.0.2åˆ™ä¸ºæ‰€æœ‰çš„ç»„æ’­è·¯ç”±å™¨ï¼Œ&lt;strong&gt;ä½†åä¸ºè®¾å¤‡ä¸Šå®ç°ä¸ºç‰¹å®šç»„&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç±»å‹ï¼šIGMPv2æŠ¥æ–‡ä¸­æœ‰ä¸‰ç§æŠ¥æ–‡ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;Type=0x11ï¼šæˆå‘˜å…³ç³»æŸ¥è¯¢æŠ¥æ–‡ï¼Œåˆ†ä¸ºä¸¤ç§å­ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;å¸¸è§„æŸ¥è¯¢ï¼šç”¨äºç¡®å®šå“ªäº›ç»„æ’­ç»„æ˜¯æœ‰æ•ˆçš„ï¼Œå³è¯¥ç»„æ˜¯å¦è¿˜æœ‰æˆå‘˜åœ¨ä½¿ç”¨ï¼Œ&lt;strong&gt;å¸¸è§„æŸ¥è¯¢ç»„åœ°å€å…¨é›¶&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹å®šæŸ¥è¯¢ï¼šç”¨äºæŸ¥è¯¢ç‰¹å®šçš„ç»„æ’­ç»„æ˜¯å¦è¿˜æœ‰ç»„æˆå‘˜ï¼Œ&lt;strong&gt;ç»„åœ°å€ä¸ºç‰¹å®šçš„ç»„æ’­åœ°å€&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Type=0x16ï¼šIGMPv2ç»„æˆå‘˜å…³ç³»æŠ¥å‘Š
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å’ŒIGMPv1å…¼å®¹ï¼Œè¿˜æœ‰å¦å¤–çš„ä¸€ä¸ªé™„åŠ æ¶ˆæ¯ç±»åˆ«ï¼š0x12ä¸ºIGMPv1æˆå‘˜æŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Type=0x17ï¼šç¦»å¼€ç»„æ¶ˆæ¯ï¼Œä¸»æœºå‘é€çš„ç¦»å¼€æŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç»„æˆå‘˜åŠ å…¥&#34;&gt;ç»„æˆå‘˜åŠ å…¥&lt;/h5&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»æœºåŠ å…¥ä¸€ä¸ªç»„æ’­ç»„ï¼Œåˆ™åº”è¯¥ç«‹å³å‘é€ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜å…³ç³»æŠ¥å‘Šç»™ç»„æ’­ç»„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699055945.png&#34; alt=&#34;ç»„æˆå‘˜åŠ å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;æŸ¥è¯¢ä¸å“åº”&#34;&gt;æŸ¥è¯¢ä¸å“åº”&lt;/h5&gt;
&lt;p&gt;ä¸IGMPv1ç›¸åŒï¼Œéƒ½å­˜åœ¨æŠ‘åˆ¶æœºåˆ¶ã€‚&lt;br&gt;
&lt;strong&gt;å¢åŠ äº†æœ€å¤§å“åº”æ—¶é—´&lt;/strong&gt;æ¥æŒ‡å®šå»¶æ—¶å€¼æ¥è§„å®šæ‰€æœ‰ä¸»æœºçš„æŸ¥è¯¢å“åº”å»¶æ—¶çš„ä¸Šé™ï¼Œæ­¤å¤–æœ€å¤§å“åº”æ—¶é—´åœ¨&lt;strong&gt;IGMPæŸ¥è¯¢å™¨&lt;/strong&gt;(&lt;strong&gt;é€‰ä¸¾åŸåˆ™åˆ™ä¸ºIPåœ°å€å°çš„è®¾å¤‡&lt;/strong&gt;)ä¸Šé…ç½®ï¼Œåªåº”ç”¨åœ¨æˆå‘˜å…³ç³»æŸ¥è¯¢ä¿¡æ¯ã€‚&lt;br&gt;
åœ¨å¸¸è§„æŸ¥è¯¢ä¹‹å¤–å¢åŠ äº†ç‰¹å®šç»„æŸ¥è¯¢ï¼Œè¿™ç§æŸ¥è¯¢æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ä¸ºæŸä¸ªç»„æ’­ç»„çš„IPåœ°å€ï¼Œä¿æ¸©ä¸­çš„ç»„åœ°å€å­—æ®µä¹Ÿä¸ºè¯¥ç»„æ’­ç»„çš„IPåœ°å€ï¼Œç½‘ç»œä¸­å±äºè¯¥ç»„æ’­ç»„æˆå‘˜çš„ä¸»æœºæ‰ä¼šè¿›è¡Œå“åº”ï¼Œè¿™æ ·å°±é¿å…äº†å±äºå…¶ä»–ç»„æ’­ç»„æˆå‘˜çš„ä¸»æœºå‘é€å“åº”æŠ¥æ–‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596699127088.png&#34; alt=&#34;æŸ¥è¯¢ä¸å“åº”&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;æŸ¥è¯¢å™¨é€‰ä¸¾&#34;&gt;æŸ¥è¯¢å™¨é€‰ä¸¾&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596700187559.png&#34; alt=&#34;æŸ¥è¯¢å™¨é€‰ä¸¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æŸ¥è¯¢å™¨ä¹Ÿä¼šæœ‰å¤±æ•ˆçš„æ—¶é—´ï¼Œå½“æŸ¥è¯¢å™¨å¤±æ•ˆæ—¶ï¼Œå¦ä¸€ä¸ªè·¯ç”±å™¨æˆä¸ºæŸ¥è¯¢å™¨ï¼Œæ‰€ä»¥éæŸ¥è¯¢è·¯ç”±å™¨ä¼šå¯åŠ¨ä¸€ä¸ªæŸ¥è¯¢è®¡æ—¶å™¨ï¼Œå‘¨æœŸæ£€æŸ¥IGMPæŸ¥è¯¢è·¯ç”±å™¨çš„çŠ¶æ€ï¼Œ&lt;strong&gt;ç¼ºçœæƒ…å†µä¸‹ä¸º120ç§’ï¼Œä½†æ˜¯æŸ¥è¯¢è·¯ç”±å™¨çš„æ­»äº¡æ—¶é—´ä¸º125ç§’&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ç»„æˆå‘˜ç¦»å¼€-2&#34;&gt;ç»„æˆå‘˜ç¦»å¼€&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596700612639.png&#34; alt=&#34;ç»„æˆå‘˜ç¦»å¼€&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å½“ä¸€ä¸ªä¸»æœºå†³å®šç¦»å¼€ä¸€ä¸ªç»„æ’­ç»„æ—¶ï¼Œä»–ä¼šå‘æ‰€æœ‰ç»„æ’­è·¯ç”±å™¨ä»¥ç»„æ’­çš„å½¢å¼ï¼ˆ224.0.0.2ï¼‰å‘é€ç¦»å¼€ç»„æ¶ˆæ¯ï¼Œä¸ºäº†æ˜ç¡®è¯¥ç»„æ’­ç»„ä¸­æ˜¯å¦è¿˜åŒ…å«å…¶ä»–æˆå‘˜ä¸»æœºï¼Œè¯¥ç»„æ’­è·¯ç”±å™¨ä¼šå‘ç½‘ç»œä¸­å‘é€ç‰¹å®šç»„æŸ¥è¯¢æ¶ˆæ¯ã€‚&lt;br&gt;
åœ¨æŸ¥è¯¢çš„æœ€å¤§å“åº”æ—¶é—´å†…ï¼ˆé»˜è®¤ä¸º1sï¼‰æ²¡æœ‰æ”¶åˆ°è¯¥ç»„çš„æŠ¥å‘Šï¼Œåˆ™å†æ¬¡å‘ç‰¹å®šç»„æŸ¥è¯¢ã€‚2æ¬¡ç‰¹å®šç»„æŸ¥è¯¢ä¹‹åä»ç„¶æ²¡æœ‰æ”¶åˆ°æˆå‘˜æŠ¥å‘Šï¼Œåˆ™è®¤ä¸ºè¯¥ç»„æ’­æˆå‘˜å…¨éƒ¨ç¦»å¼€ã€‚&lt;/p&gt;
&lt;h4 id=&#34;v1å’Œv2çš„äº’æ“ä½œæ€§&#34;&gt;v1å’Œv2çš„äº’æ“ä½œæ€§&lt;/h4&gt;
&lt;h5 id=&#34;v2ä¸»æœºä¸v1è·¯ç”±å™¨&#34;&gt;v2ä¸»æœºä¸v1è·¯ç”±å™¨&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710458120.png&#34; alt=&#34; v2ä¸»æœºä¸v1è·¯ç”±å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
v1è·¯ç”±å™¨æŠŠv2æŠ¥å‘Šçœ‹ä½œæ— æ•ˆçš„IGMPä¿¡æ¯ç±»å‹å¹¶ä¸”&lt;strong&gt;å¿½ç•¥å®ƒ&lt;/strong&gt;&lt;br&gt;
å½“v1è·¯ç”±å™¨ä½œä¸ºæœ‰æ•ˆçš„IGMPæŸ¥è¯¢å™¨æ—¶ï¼Œv2çš„ä¸»æœºå¿…é¡»å‘é€v1æŠ¥å‘Šã€‚&lt;br&gt;
å½“v2çš„çš„ä¸»æœºæ£€æµ‹å‡ºIGMPæŸ¥è¯¢å™¨æ—¶v1çš„è·¯ç”±å™¨æ—¶ï¼Œä»–å¿…é¡»å§‹ç»ˆç”¨v1æŠ¥å‘Šä½œå‡ºå“åº”ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œv2çš„ä¸»æœºä¹Ÿå¯ä»¥æŠ‘åˆ¶å‘é€ç¦»å¼€ç»„æ¶ˆæ¯ã€‚&lt;br&gt;
ä¸ºäº†ç»´æŠ¤æ¥å£çš„çŠ¶æ€ï¼Œæ— è®ºä½•æ—¶v1æŸ¥è¯¢åœ¨æ¥å£å¤„è¢«æ”¶åˆ°ï¼Œ&lt;strong&gt;v2ä¸»æœºä¼šå¯åŠ¨ä¸€ä¸ª400ç§’çš„å€’æ•°è®¡æ—¶å™¨&lt;/strong&gt;ï¼ˆ&lt;strong&gt;å‘ä¸‹å…¼å®¹v1&lt;/strong&gt;ï¼‰ï¼Œå½“å¦ä¸€ä¸ªv1æŸ¥è¯¢è¢«æ”¶åˆ°æ—¶ï¼Œè®¡æ—¶å™¨è¢«å¤ä½ã€‚å¦‚æœè®¡æ—¶å™¨åˆ°æ—¶ï¼Œæ­¤æ¥å£æ¢å¤æˆä¸ºv2æ¥å£å¹¶ä¸”v2ä¿¡æ¯è¢«å†æ¬¡å‘é€ã€‚&lt;/p&gt;
&lt;h5 id=&#34;v1ä¸»æœºä¸v2è·¯ç”±å™¨&#34;&gt;v1ä¸»æœºä¸v2è·¯ç”±å™¨&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710463619.png&#34; alt=&#34;v1ä¸»æœºä¸v2è·¯ç”±å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å±€åŸŸç½‘ä¸­v1çš„ä¸»æœºä¹Ÿæ˜¯åŒä¸€ç»„æˆå‘˜ï¼Œé‚£ä¹ˆè¯¥ç»„çš„v1æŠ¥å‘Šæ€»æ˜¯è¢«æ”¶åˆ°ï¼Œå› ä¸ºv2æŠ¥å‘Šåœ¨v1çš„ä¸»æœºä¸­ä¸ä¼šè¢«æŠ‘åˆ¶ï¼Œv1çš„ä¸»æœºä¸å…¼å®¹v2çš„æŠ¥å‘Šï¼Œå› æ­¤&lt;strong&gt;å¿½ç•¥å®ƒä»¬&lt;/strong&gt;ã€‚æ— è®ºä½•æ—¶ï¼Œåªè¦v1çš„ä¸»æœºæˆä¸ºç»„æˆå‘˜ï¼Œv2ç¦»å¼€è¿‡ç¨‹éƒ½å°†è¢«æç½®&lt;/p&gt;
&lt;h5 id=&#34;æ··åˆç‰ˆæœ¬&#34;&gt;æ··åˆç‰ˆæœ¬&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596710522472.png&#34; alt=&#34;æ··åˆç‰ˆæœ¬&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚æœä¸€äº›&lt;strong&gt;è¿è¡Œv1çš„è·¯ç”±å™¨&lt;/strong&gt;å­˜åœ¨äºå­ç½‘ä¸­ï¼Œé‚£ä¹ˆå¿…é¡»å¼ºåˆ¶æ€§åœ°ä¸ºå­ç½‘ä¸­çš„&lt;strong&gt;æ‰€æœ‰è·¯ç”±å™¨é…ç½®v1ä»¥ä¾¿æ­£å¸¸ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç»„æ’­èŠ‚ç‚¹åˆ†ä¸ºä¸‰ä¸ªç±»å‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸æ”¯æŒä¸»æœºä¾§ï¼ˆæŠ¥å‘Šï¼‰ã€ä¸æ”¯æŒè·¯ç”±ä¾§ï¼ˆæŸ¥è¯¢ï¼‰ï¼Œï¼ˆå³ä¸æ”¯æŒå¼€å¯IGMPï¼‰ä½†æ˜¯å¯ä»¥åšä¸ºç»„æ’­æº&lt;br&gt;
æ”¯æŒä¸»æœºä¾§ã€ä¸æ”¯æŒè·¯ç”±ä¾§&lt;br&gt;
æ”¯æŒä¸»æœºä¾§ã€æ”¯æŒè·¯ç”±ä¾§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;v3&#34;&gt;v3&lt;/h4&gt;
&lt;p&gt;æœåŠ¡äºSSMæ¨¡å‹ï¼›å…è®¸ä¸»æœºæŒ‡å®šæ¥æ”¶æŸäº›ç½‘ç»œå‘é€çš„æŸäº›ç»„æ’­ç»„ï¼›å¢åŠ äº†ä¸»æœºçš„æ§åˆ¶èƒ½åŠ›ï¼Œ&lt;strong&gt;ä¸ä»…å¯ä»¥æŒ‡å®šç»„æ’­ç»„ï¼Œè¿˜èƒ½æŒ‡å®šç»„æ’­çš„æº&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596777748104.png&#34; alt=&#34;å·¥ä½œæœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;v3å“åº”æ¶ˆæ¯çš„ç›®çš„åœ°å€ä¸º224.0.0.22&lt;/strong&gt;ï¼ˆä»£è¡¨æ‰€æœ‰è¿è¡Œv3çš„è·¯ç”±å™¨ï¼‰ï¼Œå…¶ä¸­å¯ä»¥æºå¸¦è‡³å°‘ä¸€ä¸ªç»„è®°å½•ï¼Œåœ¨æ¯ä¸ªç»„è®°å½•ä¸­ï¼ŒåŒ…å«ç»„æ’­ç»„åœ°å€ã€æ•°ç›®ä¸ç­‰çš„æºåœ°å€ä¿¡æ¯ã€‚&lt;br&gt;
ç»„è®°å½•å¯ä»¥åˆ†ä¸ºå¤šç§ç±»å‹ï¼Œå¦‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“å‰çŠ¶æ€è®°å½•ï¼ŒæŠ¥å‘Šäº†æ¥å£å½“å‰çŠ¶æ€ï¼Œåˆ†ä¸ºIncludeå’ŒExcludeä¸¤ç§çŠ¶æ€ç±»å‹
&lt;ul&gt;
&lt;li&gt;Includeè¡¨ç¤ºåŒ…å«æŒ‡å®šæºåœ°å€åˆ—è¡¨ï¼ŒExcludeè¡¨ç¤ºåŒ…å«é™¤æŒ‡å®šæºåœ°å€ä¹‹å¤–çš„æ‰€æœ‰æºåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤æ¨¡å¼æ”¹å˜è®°å½•ï¼ŒæŠ¥å‘Šæ¥å£æ¥æ”¶çŠ¶æ€åœ¨Includeå’ŒExcludeä¹‹é—´çš„åˆ‡æ¢&lt;/li&gt;
&lt;li&gt;æºåœ°å€åˆ—è¡¨æ”¹å˜è®°å½•ï¼šæŠ¥å‘Šæ–°æºåœ°å€åŠ å…¥æˆ–è€…åˆ é™¤æŸæºåœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ”¹è¿›ä¹‹å¤„&#34;&gt;æ”¹è¿›ä¹‹å¤„&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596780155795.png&#34; alt=&#34;æ”¹è¿›ä¹‹å¤„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
v3ä¸ä»…æ”¯æŒv1çš„æ™®éç»„æŸ¥è¯¢ã€v2çš„ç‰¹å®šç»„æŸ¥è¯¢ï¼Œè¿˜æ”¯æŒv3çš„æŒ‡å®šæº/ç»„æŸ¥è¯¢ã€‚åœ¨IGMPæ¶ˆæ¯ä¸­æºå¸¦ç»„æ’­æºåœ°å€å’Œå¤šç§æ§åˆ¶å­—æ®µï¼ˆå¦‚æŸ¥è¯¢å™¨å¼ºå£®æ€§ç³»æ•°ã€æŸ¥è¯¢é—´éš”ç­‰ï¼‰ã€‚&lt;br&gt;
å¯¹äºæ™®éç»„æŸ¥è¯¢ï¼Œæ—¢ä¸æºå¸¦ç»„åœ°å€(0.0.0.0)ï¼Œä¹Ÿä¸æºå¸¦æºåœ°å€ï¼›å¯¹äºç‰¹å®šç»„æŸ¥è¯¢ï¼Œæºå¸¦ç»„åœ°å€ï¼Œä½†æ˜¯ä¸æºå¸¦æºåœ°å€ï¼›å¯¹äºæŒ‡å®šæº/ç»„æŸ¥è¯¢ï¼Œæ—¢æºå¸¦ç»„åœ°å€ï¼Œè€Œä¸”è¿˜æºå¸¦è‡³å°‘ä¸€ä¸ªæºåœ°å€&lt;/p&gt;
&lt;h5 id=&#34;igmpä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&#34;&gt;IGMPä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596780880584.png&#34; alt=&#34;ä¸‰ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;pimåè®®æ— å…³ç»„æ’­&#34;&gt;PIMï¼ˆåè®®æ— å…³ç»„æ’­ï¼‰&lt;/h1&gt;
&lt;p&gt;PIMç§°ä¸ºåè®®æ— å…³ç»„æ’­ï¼Œè¡¨ç¤ºç»„æ’­ä¾é çš„å•æ’­è·¯ç”±å¯ä»¥ç”±é™æ€è·¯ç”±ã€RIPã€OSPFã€ISISã€BGPç­‰æä¾›ï¼Œç»„æ’­è·¯ç”±å’Œå•æ’­è·¯ç”±åè®®æ— å…³ï¼Œåªè¦å•æ’­è·¯ç”±åè®®äº§ç”Ÿæ‰€éœ€è·¯ç”±è¡¨é¡¹èƒ½å¤Ÿå®ŒæˆRPFæ£€æŸ¥å³å¯ã€‚&lt;br&gt;
åè®®å·ä¸º103ï¼ˆ0x67ï¼‰ï¼Œç›®å‰ä½¿ç”¨çš„æ˜¯v2ç‰ˆæœ¬ï¼ŒPIMè·¯ç”±å™¨ç›®çš„ç»„æ’­åœ°å€ä¸º224.0.0.13ï¼ŒPIMåè®®åˆ†ä¸ºPIM-DMå¯†é›†æ¨¡å¼å’ŒPIM-SMç¨€ç–æ¨¡å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;pimv2æŠ¥æ–‡å¤´æ ¼å¼&#34;&gt;PIMv2æŠ¥æ–‡å¤´æ ¼å¼&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596788566300.png&#34; alt=&#34;æŠ¥æ–‡å¤´æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç‰ˆæœ¬ï¼šç‰ˆæœ¬å­—æ®µæ ‡è¯†ç‰ˆæœ¬ä¿¡æ¯ï¼Œç›®å‰ä¸º2&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;0ï¼šHelloï¼ˆå‘¨æœŸ30ç§’ï¼Œæ­»äº¡æ—¶é—´105ç§’ï¼‰&lt;/li&gt;
&lt;li&gt;1ï¼šæ³¨å†Œï¼ˆå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;2ï¼šåœæ­¢æ³¨å†Œï¼ˆSMï¼Œå•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;3ï¼šåŠ å…¥/å‰ªæ&lt;/li&gt;
&lt;li&gt;5ï¼šBoostrapï¼ˆSMï¼‰&lt;/li&gt;
&lt;li&gt;6ï¼šå«æ¥&lt;/li&gt;
&lt;li&gt;7ï¼šå«æ¥ç¡®è®¤&lt;/li&gt;
&lt;li&gt;8ï¼šå€™é€‰RPå…¬å‘Šï¼ˆSMï¼‰&lt;/li&gt;
&lt;li&gt;9ï¼šçŠ¶æ€åˆ·æ–°&lt;br&gt;
&lt;code&gt;pingä¸€ä¸ªç»„æ’­ç»„ï¼Œæœ‰æ—¶ç¬¬ä¸€ä¸ªåŒ…é€šï¼Œä½†æ˜¯åé¢çš„åŒ…ä¸é€šï¼Œå±€åŠ¿å› ä¸ºç¬¬ä¸€ä¸ªåŒ…æ˜¯ç”¨æ¥æ³¨å†Œçš„ï¼Œåé¢çš„ä¸é€šè¯´æ˜ç»„æ’­ç½‘ç»œæœ‰é—®é¢˜&lt;/code&gt;&lt;br&gt;
ä¼˜å…ˆçº§å€¼å¤§çš„é€‰ä¸¾ä¸ºDRï¼Œå…·å¤‡æŠ¢å æ€§ï¼Œç»„æ’­åœ°å€ä¸º224.0.0.13ï¼Œä½¿ç”¨helloæŠ¥æ–‡è¿›è¡Œé€‰ä¸¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;pim-dmdense_modeå¯†é›†æ¨¡å¼&#34;&gt;PIM-DMï¼ˆDense_modeï¼Œå¯†é›†æ¨¡å¼ï¼‰&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚è¿°-2&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é‡‡ç”¨â€œ&lt;strong&gt;æ¨ï¼ˆPushï¼‰æ¨¡å¼&lt;/strong&gt;â€è½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œå› æ­¤æ­¤æ¨¡å¼åªå…³å¿ƒä¸¤ä»¶äº‹ï¼šå“ªäº›æ¥å£å¼€å¯äº†PIM-DMæ¨¡å¼ï¼›RPFæ£€æŸ¥ã€‚&lt;code&gt;é‡‡ç”¨æ¨çš„æœºåˆ¶çš„ç›®çš„æ˜¯åœ¨DMä¸­äº§ç”Ÿç»„æ’­è·¯ç”±è¡¨ï¼Œç°æœ‰ç»„æ’­è·¯ç”±è¡¨å†å»æ¨ç»„æ’­æµ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;PIM-DMçš„&lt;strong&gt;å…³é”®ä»»åŠ¡&lt;/strong&gt;ï¼šå»ºç«‹SPTï¼ˆShortest Path Treeï¼Œæœ€çŸ­è·¯å¾„æ ‘ï¼‰&lt;/li&gt;
&lt;li&gt;PIM-DMçš„&lt;strong&gt;å·¥ä½œæœºåˆ¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;é‚»å±…å‘ç°&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596868793202.png&#34; alt=&#34;é‚»å±…å‘ç°&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ³›æ´ª&lt;/strong&gt;ï¼šä¸ºäº†ç¡®ä¿æ‰€æœ‰å¯èƒ½å­˜åœ¨çš„æ¥æ”¶è€…éƒ½æ„ŸçŸ¥åˆ°ç»„æ’­æº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©æ•£&lt;/strong&gt;ï¼šä¸ºäº†åæ¥å¯èƒ½å‡ºç°çš„éœ€è¦æµé‡çš„ææˆï¼Œå³é‡æ–°æ³›æ´ªï¼ˆ180så€’è®¡æ—¶ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596868872374.png&#34; alt=&#34;æ‰©æ•£&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‰ªæ&lt;/strong&gt;ï¼šå‰ªææ˜¯ä¸ºäº†ä¼˜åŒ–æˆSPTï¼Œå‰ªæè¡Œä¸ºæ˜¯ç”±ä¸‹æ¸¸è®¾å¤‡å‘èµ·ã€‚&lt;strong&gt;å‰ªæå»¶è¿Ÿ&lt;/strong&gt;ï¼Œä¸Šæ¸¸è®¾å¤‡æ”¶åˆ°å‰ªææ¶ˆæ¯ï¼Œ&lt;strong&gt;é»˜è®¤å»¶è¿Ÿ3ç§’&lt;/strong&gt;å†å‰ªæã€‚å‰ªæåå½¢æˆSPTæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596868942161.png&#34; alt=&#34;å‰ªæ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
SPTæ ‘çš„å½¢æˆï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596869039461.png&#34; alt=&#34;SPTæ ‘çš„å½¢æˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;(å‰ªæ)çŠ¶æ€åˆ·æ–°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å«æ¥&lt;/strong&gt;ï¼šé’ˆå¯¹åœ¨å‰ªæä¹‹åå‡ºç°çš„æ¥æ”¶è€…å‘ä¸Šè¯·æ±‚ç»„æ’­æµï¼Œä¸‹æ¸¸è®¾å¤‡å‘ä¸Šå‘å«æ¥æ¶ˆæ¯ï¼Œä¸Šæ¸¸è®¾å¤‡å‘ä¸‹å‘å«æ¥ç¡®è®¤ã€‚å«æ¥ä¹‹åå½¢æˆæ–°çš„SPTæ ‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596869086872.png&#34; alt=&#34;å«æ¥&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ–°çš„SPTæ ‘å½¢æˆï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596869146249.png&#34; alt=&#34;æ–°çš„SPTæ ‘å½¢æˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–­è¨€ï¼ˆå£°æ˜/Assertæœºåˆ¶ï¼‰&lt;/strong&gt;ï¼šé¿å…æµé‡é‡å¤æ‹·è´ã€‚&lt;br&gt;
ç«é€‰è§„åˆ™å¦‚ä¸‹ï¼šå•æ’­è·¯ç”±åè®®ä¼˜å…ˆçº§è¾ƒé«˜è€…è·èƒœã€‚å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼ˆå³æœ¬è´¨æ˜¯æœ€å…ˆæ¯”è¾ƒçš„æ˜¯å¼€é”€ï¼Œå¯ä»¥åœ¨åŒä¸€åè®®ä¸‹ä¸åŒæ¥å£ä¸Šé…ç½®ä¸åŒçš„costï¼‰ï¼Œåˆ™åˆ°ç»„æ’­æºçš„å¼€é”€è¾ƒå°è€…è·èƒœã€‚å¦‚æœä»¥ä¸Šéƒ½ç›¸åŒï¼Œåˆ™ä¸‹æ¸¸æ¥å£IPåœ°å€æœ€å¤§è€…è·èƒœã€‚&lt;br&gt;
æ ¹æ®Assertç«é€‰ç»“æœï¼Œè·¯ç”±å™¨å°†æ‰§è¡Œä¸åŒçš„æ“ä½œï¼šè·èƒœä¸€æ–¹çš„ä¸‹æ¸¸æ¥å£ç§°ä¸ºAssert Winnerï¼Œå°†è´Ÿè´£åç»­å¯¹è¯¥ç½‘æ®µç»„æ’­æŠ¥æ–‡çš„è½¬å‘ï¼›è½è´¥ä¸€æ–¹çš„ä¸‹æ¸¸æ¥å£ç§°ä¸ºAssert Loserï¼Œåç»­ä¸ä¼šå¯¹è¯¥ç½‘æ®µè½¬å‘ç»„æ’­æŠ¥æ–‡ï¼ŒPIMè·¯ç”±å™¨ä¹Ÿä¼šå°†å…¶ä»ï¼ˆS,Gï¼‰è¡¨é¡¹ä¸‹æ¸¸æ¥å£åˆ—è¡¨ä¸­åˆ é™¤ï¼Œæ‰€æœ‰Assert Loserå¯ä»¥å‘¨æœŸæ€§çš„æ¢å¤ç»„æ’­æŠ¥æ–‡è½¬å‘ï¼Œä»è€Œå¼•å‘å‘¨æœŸæ€§çš„Assertç«é€‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596875016182.png&#34; alt=&#34;æ–­è¨€&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åè®®å‡è®¾ï¼šç½‘ç»œä¸­çš„æ¯ä¸ªå­ç½‘éƒ½å­˜åœ¨è‡³å°‘ä¸€ä¸ªå¯¹ç»„æ’­æºæ„Ÿå…´è¶£çš„æ¥å—ç«™ç‚¹ï¼Œå› æ­¤ç»„æ’­æ•°æ®åŒ…è¢«æ‰©æ•£åˆ°ç½‘ç»œä¸­çš„æ‰€æœ‰ç½‘æ®µã€‚å› æ­¤é€‚åº”äºå°å‹ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;PIM-DMå¯¹æ²¡æœ‰ç»„æ’­æ•°æ®è½¬å‘çš„åˆ†æ”¯è¿›è¡ŒPruneå‰ªææ“ä½œï¼Œåªä¿ç•™åŒ…å«æ¥æ”¶è€…çš„åˆ†æ”¯ï¼ˆå¦‚æœæ²¡æœ‰æ¶ˆè´¹è€…å³æ¥æ”¶è€…ï¼Œæš‚æ—¶ä¸­æ–­è¯¥åŒºåŸŸï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä½¿å‰ªæ‰çš„æœ‰ç»„æ’­æ•°æ®è½¬å‘éœ€æ±‚çš„åˆ†æ”¯èƒ½å¤Ÿé‡æ–°æ¥æ”¶ç»„æ’­æµæ•°æ®ï¼Œå‰ªæ‰çš„åˆ†æ”¯å‘¨æœŸæ€§çš„æ¢å¤æˆè½¬å‘çŠ¶æ€ï¼ˆå³å®šæœŸè€ƒå¯Ÿå¸‚åœºå¥‘æœºï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ºäº†å‡å°‘ç­‰å¾…è¢«å‰ªæ‰çš„åˆ†æ”¯æ¢å¤æˆè½¬å‘çŠ¶æ€çš„å»¶æ—¶æ—¶é—´ï¼ŒPIM-DMä½¿ç”¨Graftå«æ¥æœºåˆ¶ä¸»åŠ¨æ¢å¤ç»„æ’­æŠ¥æ–‡çš„è½¬å‘&lt;/li&gt;
&lt;li&gt;PIM-DMåŸŸä¸­æ•°æ®åŒ…çš„è½¬å‘è·¯å¾„æ˜¯æœ‰æºæ ‘
&lt;ul&gt;
&lt;li&gt;ä»¥ç»„æ’­æºä¸ºæ ¹ï¼Œç»„æ’­ç»„æˆå‘˜ä¸ºæå¶çš„ä¸€æ£µæ ‘&lt;/li&gt;
&lt;li&gt;ç”±äºæœ‰æºæ ‘ä½¿ç”¨çš„æ˜¯ä»ç»„æ’­æºåˆ°æ¥æ”¶è€…çš„æœ€çŸ­è·¯å¾„ï¼Œå› æ­¤ä¹Ÿç§°ä¸ºæœ€çŸ­è·¯å¾„æ ‘SPTï¼ˆå–æ¶ˆäº†ä¸­é—´å•†æ¸ é“ï¼Œæ˜¯æ¶ˆè´¹è€…åˆ°ç”Ÿäº§å•†çš„ç›´ä¾›å¼æœåŠ¡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PIM-DMä¸ä¾èµ–äºç‰¹å®šçš„å•æ’­è·¯ç”±åè®®ï¼Œè€Œæ˜¯ä½¿ç”¨ç°å­˜çš„å•æ’­è·¯ç”±è¡¨ï¼ˆå¯ä»¥æ˜¯ä»»æ„è·¯ç”±åè®®ï¼‰è¿›è¡ŒRPFæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨æ”¶åˆ°ç»„æ’­æ•°æ®çš„æ¥å£ç§°ä¸ºä¸Šæ¸¸æ¥å£ï¼Œè½¬å‘ç»„æ’­æ•°æ®çš„æ¥å£ç§°ä¸ºä¸‹æ¸¸æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æŠ¥æ–‡&#34;&gt;æŠ¥æ–‡&lt;/h3&gt;
&lt;h4 id=&#34;helloæŠ¥æ–‡&#34;&gt;HelloæŠ¥æ–‡&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596875197726.png&#34; alt=&#34;HelloæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç»„æ’­è·¯ç”±å™¨éœ€è¦ä½¿ç”¨Helloæ¶ˆæ¯æ¥å‘ç°é‚»å±…ï¼Œå¹¶ç»´æŠ¤é‚»å±…å…³ç³»ã€‚&lt;br&gt;
Holdtimeå®šæ—¶å™¨ä¸º105ç§’ï¼Œè¿™ä¸ªå®šæ—¶å™¨æŒ‡ç¤ºæ¥æ”¶æ–¹ä½•æ—¶ç»ˆæ­¢ä¸å‘é€æ–¹çš„é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
priorityé€šè¿‡æ¯”è¾ƒHelloæ¶ˆæ¯ä¸Šæºå¸¦çš„ä¼˜å…ˆçº§ï¼ˆè¶Šé«˜è¶Šä¼˜ï¼‰å’ŒIPåœ°å€ï¼ˆè¶Šå¤§è¶Šä¼˜ï¼‰ï¼Œå„è·¯ç”±å™¨ä¸ºå„ç½‘æ®µé€‰ä¸¾æŒ‡å®šè·¯ç”±å™¨DR&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“ä¸è¯„ä»·&#34;&gt;æ€»ç»“ä¸è¯„ä»·&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;PIM-DMå¯¹äºå°å‹ç½‘ç»œæ¥è¯´éå¸¸æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;ä¼˜åŠ¿ï¼š
&lt;ul&gt;
&lt;li&gt;æ˜“äºé…ç½®&lt;/li&gt;
&lt;li&gt;å®ç°æœºåˆ¶ç®€å•ï¼šæ³›æ´ª--æ‰©æ•£--å‰ªæ--å«æ¥--æ–­è¨€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ½œåœ¨é—®é¢˜ï¼š
&lt;ul&gt;
&lt;li&gt;æ‰©æ•£å‰ªæè¿‡ç¨‹ä¸å¤Ÿé«˜æ•ˆ&lt;/li&gt;
&lt;li&gt;å¤æ‚çš„Assertæœºåˆ¶&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒå…±äº«æ ‘ã€å…±äº«æ ‘ä¸ç”¨äºè½¬å‘æ•°æ®ï¼Œå…¶å…¥æ¥å£ä¸ºNULLï¼Œä»…ç”¨äºäº§ç”Ÿï¼ˆS,Gï¼‰ï¼Œè¿™æ˜¯å’ŒSMæ¨¡å¼çš„é‡è¦åŒºåˆ«ã€‘&lt;/li&gt;
&lt;li&gt;æ§åˆ¶å’Œæ•°æ®å¹³é¢æ··åˆå¯¼è‡´ç½‘ç»œå†…éƒ¨çš„æ‰€æœ‰è·¯ç”±å™¨ä¸Šéƒ½ç”±ï¼ˆSï¼ŒGï¼‰è¡¨é¡¹å­˜åœ¨ã€ä¸€æ—¦æœ‰ä»»æ„ç»„æ’­æºå‡ºç°ï¼Œæ‰€æœ‰è®¾å¤‡ä¼šè‡ªåŠ¨ç”Ÿæˆè¡¨é¡¹ï¼Œå ç”¨å†…å­˜ã€‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;pim-sm&#34;&gt;PIM-SM&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬æ¦‚è¿°&#34;&gt;åŸºæœ¬æ¦‚è¿°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æœ¯è¯­ï¼š
&lt;ul&gt;
&lt;li&gt;æºï¼šå‘é€ç»„æ’­æ•°æ®çš„ç»ˆç«¯ä¸»æœºæˆ–PC&lt;/li&gt;
&lt;li&gt;æ¥æ”¶è€…ï¼šæ¥æ”¶ç»„æ’­æ•°æ®çš„ç»ˆç«¯ä¸»æœºæˆ–PC&lt;/li&gt;
&lt;li&gt;æŒ‡å®šè·¯ç”±å™¨ï¼ˆå‘RPæ³¨å†Œï¼‰ï¼šåœ¨å…±äº«ç½‘æ®µä¸Šé€‰ä¸¾&lt;strong&gt;ä¼˜å…ˆçº§æœ€é«˜ï¼ˆæ•°å€¼æœ€å¤§ï¼‰æˆ–è€…IPåœ°å€æœ€å¤§&lt;/strong&gt;çš„è·¯ç”±å™¨ä¸ºDRï¼›æºDRï¼ˆæ³¨å†Œï¼‰è´Ÿè´£å°†æ•°æ®ä»æºè½¬å‘è‡³RPï¼›æ¥æ”¶è€…DRï¼ˆå‘é€joinï¼‰ï¼Œè´Ÿè´£å°†æ•°æ®ä»RPè½¬å‘åˆ°æ¥æ”¶è€…æˆ–ç§°æœ€åä¸€è·³DR&lt;/li&gt;
&lt;li&gt;æ±‡èšç‚¹RPï¼šæ¥æ”¶è€…ä»è¿™é‡Œè·å–æºä¿¡æ¯ï¼Œå¹¶ä¸”æ˜¯å…±äº«æ ‘çš„æ ¹ï¼Œæ˜¯SMä¸­çš„æ ¸å¿ƒè§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;RPTï¼šä»æ¥æ”¶è€…DRåˆ°RPé€è·³å»ºç«‹èµ·æ¥çš„ï¼Œ&lt;strong&gt;ä»¥RPä¸ºæ ¹çš„å…±äº«æ ‘&lt;/strong&gt;ã€‚RPTå®ç°äº†ç»„æ’­æ•°æ®æŒ‰éœ€è½¬å‘çš„ç›®çš„ï¼Œå‡å°‘äº†æ•°æ®æ³›æ´ªå¯¹ç½‘ç»œå¸¦å®½çš„å ç”¨&lt;/li&gt;
&lt;li&gt;SPTï¼šä»æ¥æ”¶è€…DRåˆ°æºDRå»ºç«‹èµ·æ¥çš„ï¼Œ&lt;strong&gt;ä»¥æºä¸ºæ ¹çš„æœ€çŸ­è·¯å¾„æ ‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨â€œ&lt;strong&gt;æ‹‰ï¼ˆPullï¼‰æ¨¡å¼&lt;/strong&gt;â€è½¬å‘ç»„æ’­æŠ¥æ–‡ï¼Œä»æ¥æ”¶è€…å¼€å§‹å‘RPæ–¹å‘å°è¯•æ‹‰å–ç»„æ’­æµã€‚&lt;code&gt;å…ˆæœ‰ç»„æ’­è·¯ç”±è¡¨ï¼Œåæœ‰ç»„æ’­æµ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºç»„æ’­æˆå‘˜åˆ†å¸ƒè¾ƒä¸ºç¨€ç–çš„ç½‘ç»œç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;PIMçš„DRåœ¨SMä¸­æºä¸€ä¾§å’Œæ¥æ”¶è€…ä¸€ä¾§çš„DRéƒ½æœ‰äº†å®é™…æ„ä¹‰ã€‚ç»„æ’­æºä¸€ä¾§çš„DRè´Ÿè´£æ•°æ®çš„è½¬å‘ ï¼ˆæ³¨å†Œï¼‰ï¼›æ¥å—è€…ä¸€ä¾§çš„DRè´Ÿè´£å‘ä¸‹è½¬å‘æ•°æ®ä»¥åŠå‘ä¸Šå‘é€ join&lt;/li&gt;
&lt;li&gt;PIM-SMçš„&lt;strong&gt;å…³é”®ä»»åŠ¡&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;å»ºç«‹RPTï¼ˆRendezvous Point Treeï¼Œæ±‡èšç‚¹æ ‘ä¹Ÿç§°å…±äº«æ ‘ï¼‰ï¼šä»¥RPä¸ºæ ¹ï¼Œä»¥åŠæ‰€æœ‰æ‹¥æœ‰æ¥æ”¶è€…çš„å¶è·¯ç”±å™¨å’Œæ¥æ”¶è€…å…±åŒå½¢æˆçš„åˆ†å‘æ ‘ã€‚
&lt;ul&gt;
&lt;li&gt;æ¥æ”¶è€…é€šè¿‡IGMPå‘å¶è·¯ç”±å™¨æŠ¥å‘Šç»„æ’­æµéœ€æ±‚ï¼Œå¶è·¯ç”±å™¨äº§ç”Ÿï¼ˆ*ï¼ŒGï¼‰&lt;/li&gt;
&lt;li&gt;SMè¦æ±‚æ•´ä¸ªç»„æ’­ç½‘ç»œçš„æ‰€æœ‰å‚ä¸è·¯ç”±å™¨éƒ½éœ€è¦çŸ¥é“RPçš„ä½ç½®&lt;/li&gt;
&lt;li&gt;å¶è·¯ç”±å™¨å‘RPæ–¹å‘åšRPFæ£€æŸ¥ï¼Œä»RPFé‚»å±…æ¥å£å‘ä¸Šæ¸¸å‘é€PIMçš„joinæ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è·¯ç”±å™¨äº§ç”Ÿï¼ˆ*ï¼ŒGï¼‰ ï¼ŒåŒæ—¶å‘ä¸Šä¼ é€’joinæ¶ˆæ¯ï¼Œç›´è‡³RP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å»ºç«‹SPTï¼ˆæºè·¯å¾„æ ‘ï¼Œä¸ºäº†RPTåŒºåˆ†ï¼Œæ­¤å¤„ç§°ä¸ºæºè·¯å¾„æ ‘ï¼‰ï¼šåŒ…å«ç»„æ’­æºï¼Œæ˜¯ä»ç»„æ’­æºåˆ°RPçš„æœ€çŸ­è·¯å¾„æ ‘
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨æœ€å…ˆæ„ŸçŸ¥åˆ°ç»„æ’­æµå’Œç»„æ’­æºï¼Œå°†æ‰§è¡Œæ³¨å†Œï¼Œå°†ç»„æ’­æµå°è£…åœ¨å•æ’­æŠ¥æ–‡ä¸­ï¼Œå•æ’­è½¬å‘è‡³RP  ï¼Œå‘RPæ³¨å†Œç»„æ’­æºåœ°å€&lt;/li&gt;
&lt;li&gt;RPä¸»åŠ¨å‘ç€ç»„æ’­æºæ–¹å‘å‘èµ·PIM joinï¼ˆS,Gï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šå½¢æˆSPT&lt;/li&gt;
&lt;li&gt;æ³¨å†Œåœæ­¢ï¼Œå½“SPT å»ºç«‹å®Œæ¯•ï¼Œç¬¬ä¸€è·³è·¯ç”±å™¨å°†èƒ½å¤Ÿæ²¿ç€SPTå‘ä¸‹è½¬å‘ç»„æ’­æµï¼Œå½“RPæ”¶åˆ°æ¥è‡ªSPTçš„ç»„æ’­æµï¼Œå°†å•æ’­å‘ç¬¬ä¸€è·³è·¯ç”±å™¨å‘é€æ³¨å†Œåœæ­¢æ¶ˆæ¯&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€è·³è·¯ç”±å™¨æ”¶åˆ°æ³¨å†Œåœæ­¢æ¶ˆæ¯ï¼Œåœæ­¢å‘é€æ³¨å†ŒæŠ¥æ–‡&lt;br&gt;
&lt;code&gt;æ­¤æ—¶ï¼ŒSMä¸­RPTä¹Ÿè´Ÿè´£è½¬å‘ç»„æ’­æµï¼Œä½†æ˜¯ï¼Œç›®å‰ä¸ºæ­¢ï¼Œç»„æ’­çš„è½¬å‘è·¯å¾„ä¾ç„¶ä¸æ˜¯æœ€ä¼˜çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å»ºç«‹SPTï¼ˆShortest Path Treeï¼Œæœ€çŸ­è·¯å¾„æ ‘ï¼‰ï¼š
&lt;ul&gt;
&lt;li&gt;å½“å¶è·¯ç”±å™¨æ¥æ”¶åˆ°ç»„æ’­æµï¼Œå°†æ„ŸçŸ¥åˆ°ç»„æ’­æºåœ°å€ï¼Œé»˜è®¤çš„æƒ…å†µä¸‹ï¼Œå¶è·¯ç”±å™¨ä¼šç«‹åˆ»è§¦å‘ä¸€ä¸ªå«åšSPTåˆ‡æ¢çš„è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å¶è·¯ç”±å™¨å°†æ ¹æ®æ„ŸçŸ¥åˆ°çš„ç»„æ’­æºåœ°å€ï¼Œé’ˆå¯¹ç»„æ’­æºåšRPFæ£€æŸ¥ã€‚å‘ç€æºæ–¹å‘åš(S,G) joinï¼Œå®Œæˆåç»„æ’­æµå°†æ²¿ç€SPTè½¬å‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»„æ’­æ¥æ”¶è€…ä¾§drä¸ç»„æ’­æºä¾§dr&#34;&gt;ç»„æ’­æ¥æ”¶è€…ä¾§DRä¸ç»„æ’­æºä¾§DR&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596965698949.png&#34; alt=&#34;ç»„æ’­æ¥æ”¶è€…ä¾§DRä¸ç»„æ’­æºä¾§DR&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¿è¡ŒPIM-SMçš„ç½‘ç»œï¼Œéƒ½ä¼šè¿›è¡ŒDRï¼ˆDesignated Routerï¼‰çš„é€‰ä¸¾ã€‚å…¶ä¸­æœ‰ä¸¤ç§DRåˆ†åˆ«ç§°ä¸ºæ¥æ”¶è€…ä¾§DRå’Œç»„æ’­æºä¾§DRã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»„æ’­æ¥æ”¶è€…ä¾§DRï¼šä¸ç»„æ’­ç»„æˆå‘˜ç›¸è¿çš„DRï¼Œè´Ÿè´£å‘RPå‘é€ï¼ˆ*ï¼ŒGï¼‰çš„JoinåŠ å…¥æ¶ˆæ¯ï¼Œè´Ÿè´£å°†æ•°æ®ä»RPè½¬å‘åˆ°æ¥æ”¶è€…æˆ–ç§°æœ€åä¸€è·³DRã€‚&lt;/li&gt;
&lt;li&gt;ç»„æ’­æºä¾§DRï¼šä¸ç»„æ’­æºç›¸è¿çš„DRï¼Œè´Ÿè´£å‘RPå‘é€å•æ’­çš„Registeræ¶ˆæ¯ï¼Œè´Ÿè´£å°†æ•°æ®ä»æºè½¬å‘è‡³RPã€‚&lt;br&gt;
PIM-SMä¸­DRçš„é€‰ä¸¾åŸåˆ™ä¸PIM-DMç›¸åŒã€&lt;strong&gt;ä¼˜å…ˆçº§å€¼è¶Šå¤§è¶Šä¼˜å…ˆï¼ŒIPåœ°å€è¶Šå¤§è¶Šä¼˜å…ˆ&lt;/strong&gt;ã€‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;gä¸sgæ¡ç›®å…³ç³»&#34;&gt;ï¼ˆ*ï¼ŒGï¼‰ä¸ï¼ˆSï¼ŒGï¼‰æ¡ç›®å…³ç³»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596965258370.png&#34; alt=&#34;æ¡ç›®å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;pim-småè®®æœºåˆ¶&#34;&gt;PIM-SMåè®®æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;é‚»å±…å‘ç°--&amp;gt;DRé€‰ä¸¾--&amp;gt;RPå‘ç°--&amp;gt;åŠ å…¥--&amp;gt;å‰ªæ--&amp;gt;æ³¨å†Œ--&amp;gt;SPT&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‚»å±…å‘ç°HelloæŠ¥æ–‡ï¼Œè¿›è¡ŒDRé€‰ä¸¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966112856.png&#34; alt=&#34;é‚»å±…å‘ç°HelloæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966118534.png&#34; alt=&#34;DRé€‰ä¸¾&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;RPTå…±äº«æ ‘åŠ å…¥&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966163608.png&#34; alt=&#34;RPTå…±äº«æ ‘åŠ å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç»„æ’­æºæ³¨å†Œè¿‡ç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966208752.png&#34; alt=&#34;ç»„æ’­æºæ³¨å†Œè¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åœæ­¢æ³¨å†Œè¿‡ç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966244843.png&#34; alt=&#34;åœæ­¢æ³¨å†Œè¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç»„æ’­æµè½¬å‘è¿‡ç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966317716.png&#34; alt=&#34;ç»„æ’­æµè½¬å‘è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;RPTå‘SPTåˆ‡æ¢&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966338069.png&#34; alt=&#34;RPTå‘SPTåˆ‡æ¢&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åçš„ç»„æ’­è½¬å‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966515012.png&#34; alt=&#34;åˆ‡æ¢åçš„ç»„æ’­è½¬å‘&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åçš„å‰ªæ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966520057.png&#34; alt=&#34;åˆ‡æ¢åçš„å‰ªæ1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596966525926.png&#34; alt=&#34;åˆ‡æ¢åçš„å‰ªæ2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;rp&#34;&gt;RP&lt;/h3&gt;
&lt;h4 id=&#34;rpå‘ç°&#34;&gt;RPå‘ç°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨PIM-SMç»„æ’­æˆ‘é‚£ä¸ªèè‰ï¼Œæ‹…å½“å…±äº«æ ‘çš„æ ‘æ ¹èŠ‚ç‚¹çš„è¢«ç§°ä¸ºRP&lt;/li&gt;
&lt;li&gt;ä½œç”¨ï¼š
&lt;ul&gt;
&lt;li&gt;å…±äº«æ ‘é‡Œæ‰€æœ‰ç»„æ’­æµéƒ½é€šè¿‡RPè½¬å‘åˆ°æ¥æ”¶è€…&lt;/li&gt;
&lt;li&gt;RPå¯ä»¥è´Ÿè´£å‡ ä¸ªæˆ–è€…æ‰€æœ‰ç»„æ’­ç»„çš„è½¬å‘ï¼Œæ‰€ä»¥ç½‘ç»œä¸­å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªRP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‘ç°RP
&lt;ul&gt;
&lt;li&gt;åœ¨DRå’Œå¶è·¯ç”±å™¨ä»¥åŠç»„æ’­æ•°æ®æµå°†è¦ç»è¿‡çš„æ‰€æœ‰è·¯ç”±å™¨ä¸Šæ‰‹å·¥æŒ‡å®šRPçš„IPåœ°å€&lt;/li&gt;
&lt;li&gt;åŠ¨æ€é€‰ä¸¾RPçš„ä¸¤ç§æ–¹å¼ï¼šåˆ©ç”¨Auto-RPï¼ˆæ€ç§‘ç§æœ‰ï¼‰ã€BootStrapåè®®åŠ¨æ€é€‰ä¸¾RP&lt;/li&gt;
&lt;li&gt;æ­£å¸¸æƒ…å†µä¸‹é™æ€æ–¹å¼å¼±äºåŠ¨æ€ï¼Œå¯ä»¥&lt;strong&gt;ä½¿ç”¨overrideä½¿å¾—é™æ€ä¼˜äºåŠ¨æ€&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;rpé€‰ä¸¾åŸåˆ™&#34;&gt;RPé€‰ä¸¾åŸåˆ™&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœPIM-SMåŸŸä¸­åªæœ‰ä¸€ä¸ªå€™é€‰RPï¼ˆC-RPï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯åŸŸé‡Œçš„RP&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸä¸­å­˜åœ¨å¤šä¸ªC-RPå¹¶éƒ½æ‹¥æœ‰ä¸åŒçš„ä¼˜å…ˆçº§æ—¶ï¼Œåˆ™ä¼˜å…ˆçº§æœ€é«˜ï¼ˆä¼˜å…ˆçº§æ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼‰çš„å°†ä¼šè¢«é€‰ä¸¾ä¸ºåŸŸä¸­çš„RP&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸä¸­å­˜åœ¨å¤šä¸ªC-RPå¹¶éƒ½æ‹¥æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§æ—¶ï¼Œåˆ™ä¾é Hashç®—æ³•ç®—å‡ºçš„æ•°å€¼æ¥å†³å®šRPï¼Œæ•°å€¼æœ€å¤§çš„æˆä¸ºRPã€‚Hashç®—æ³•å‚æ•°ï¼šç»„åœ°å€ï¼›æ©ç é•¿åº¦ï¼›C-RPåœ°å€&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸä¸­å­˜åœ¨å¤šä¸ªC-RPå¹¶éƒ½æ‹¥æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ä¸Hashæ•°å€¼æ—¶ï¼Œåˆ™&lt;strong&gt;æ‹¥æœ‰æœ€å¤§IPåœ°å€çš„C-RPä¸ºè¯¥åŸŸçš„RP&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;C-RPå‘¨æœŸï¼ˆ60ç§’ï¼‰æ€§å‘é€å€™é€‰ä¿¡æ¯ï¼Œè¶…æ—¶æ—¶é—´ä¸º150ç§’ï¼Œé€‰ä¸¾è§„åˆ™ï¼šæœåŠ¡èŒƒå›´å°çš„ã€ä¼˜å…ˆçº§å€¼å°çš„ä¼˜å…ˆçº§é«˜ã€hashç»“æœå¤§çš„ã€IPåœ°å€å¤§çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;åŠ¨æ€rpauto-rp&#34;&gt;åŠ¨æ€RPï¼ˆAuto-RPï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åŠ¨æ€RPå¯ä»¥æä¾›å¼¹æ€§çš„ç½‘ç»œæœåŠ¡&lt;/li&gt;
&lt;li&gt;C-RPå°†å€™é€‰ä¿¡æ¯å‘é€è‡³224.0.1.39ï¼Œå‘¨æœŸæ€§(60ç§’)çš„å‘é€ ï¼Œé»˜è®¤æœ‰æ•ˆæœŸ181ç§’ã€‚MAï¼ˆæ˜ å°„ä»£ç†ï¼Œè£å†³è€…ï¼‰ä¾¦å¬ 224.0.1.39ï¼Œ&lt;strong&gt;è£å†³åœ°å€å¤§çš„ä½œä¸ºRP&lt;/strong&gt;é€šè¿‡224.0.1.40é€šå‘Šç»™æ‰€æœ‰ç»„æ’­ç½‘ç»œã€å€™é€‰æ¥å£è¦ä½¿èƒ½pimã€‘&lt;/li&gt;
&lt;li&gt;PIMv2ç”¨æ ‡å‡†çš„BSRæ–¹å¼å…¬å‘ŠRP&lt;/li&gt;
&lt;li&gt;åŸºäºUDPçš„496ç«¯å£ï¼ŒåŒä¸€ç½‘ç»œä¸­å­˜åœ¨BSRå’ŒAuto-RPï¼Œåˆ™ä¼šä¼˜é€‰Auto-RP&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è‡ªä¸¾è·¯ç”±å™¨bsr-bootstrap-router&#34;&gt;è‡ªä¸¾è·¯ç”±å™¨BSR (BootStrap Router)&lt;/h3&gt;
&lt;p&gt;åœ¨PIM-SMç½‘ç»œå¯åŠ¨åï¼Œè´Ÿè´£æ”¶é›†ç½‘ç»œå†…çš„RPä¿¡æ¯ï¼Œä¸ºæ¯ä¸ªç»„æ’­ç»„é€‰ä¸¾å‡ºRPï¼Œç„¶åå°†RPé›†ï¼ˆå³ç»„-RPçš„æ˜ å°„æ•°æ®åº“ï¼‰å‘å¸ƒåˆ°æ•´ä¸ªPIM-SMç½‘ç»œçš„è·¯ç”±å™¨ï¼Œç§°ä¹‹ä¸ºBSRã€‚&lt;br&gt;
ä¸€ä¸ªPIM-SMåŸŸé‡Œåªæœ‰ä¸€å°BSRï¼Œå¹¶åŒæ—¶å¯ä»¥å­˜åœ¨å¤šå°å€™é€‰BSRï¼ˆC-BSRï¼‰&lt;/p&gt;
&lt;h4 id=&#34;é€‰ä¸¾è§„åˆ™&#34;&gt;é€‰ä¸¾è§„åˆ™&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœåŸŸä¸­åªæœ‰ä¸€å°C-BSRï¼Œè¯¥å°è·¯ç”±å™¨å°±æ˜¯è¯¥åŸŸé‡Œçš„BSR&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸä¸­å­˜åœ¨å¤šå°C-BSRï¼Œåˆ™æ‹¥æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼ˆé»˜è®¤0ï¼‰çš„è·¯ç”±å™¨ä¸ºBSR&lt;/li&gt;
&lt;li&gt;å¦‚æœåŸŸé‡Œå­˜åœ¨å¤šå°æ‹¥æœ‰ç›¸åŒä¼˜å…ˆçº§çš„C-BSRï¼Œåˆ™æ‹¥æœ‰æœ€é«˜IPåœ°å€çš„è·¯ç”±å™¨ä¸ºBSR&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å·¥ä½œæµç¨‹&#34;&gt;å·¥ä½œæµç¨‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆé€‰å‡ºBSR&lt;br&gt;
C-BSRçš„æ¶ˆæ¯é€šè¿‡PIMä¼ é€’ï¼Œç›®æ ‡åœ°å€ä¸º 224.0.0.13ï¼Œé€‰ä¸¾å®Œæˆåé€šè¿‡bootstrapæ¶ˆæ¯å…¬å‘Šè‡ªå·±æ˜¯BSRï¼ˆé»˜è®¤60Sï¼‰ï¼Œè¯¥æ¶ˆæ¯é€šå¸¸æƒ…å†µä¸‹TTLä¸º1ï¼Œä½†pimè·¯ç”±å™¨ä¼šç»­ä¼ è¯¥æ¶ˆæ¯ã€‚æœªèƒœå‡ºçš„C-BSRç›‘å¬BSRï¼ŒBSRè¶…æ—¶æ—¶é—´é»˜è®¤ä¸º130ç§’&lt;/li&gt;
&lt;li&gt;C-RPå‘é€è‡³BSR&lt;br&gt;
C-RPé€šè¿‡bootstrapæ¶ˆæ¯å¾—çŸ¥BSRä½ç½®ï¼Œä½¿ç”¨å•æ’­æŠ¥æ–‡ï¼ˆé»˜è®¤60Sï¼‰å°†è‡ªèº«C-RPä¿¡æ¯ä¼ é€’ç»™BSR&lt;/li&gt;
&lt;li&gt;BSRæ”¶é›†C-RPä¿¡æ¯&lt;br&gt;
BSRæ”¶é›†æ‰€æœ‰C-RPä¿¡æ¯ï¼Œå½¢æˆRP-set&lt;/li&gt;
&lt;li&gt;BSRæ³›æ´ªRP-set&lt;br&gt;
BSRé€šè¿‡bootstrap æ¶ˆæ¯å°†RP-setå‘é€è‡³å…¨ç½‘ï¼ˆæ³›æ´ªï¼‰&lt;/li&gt;
&lt;li&gt;è‡ªä¸¾&lt;br&gt;
æ¯å°è·¯ç”±å™¨å‡ä½¿ç”¨ç›¸åŒçš„RPé€‰ä¸¾ç®—æ³•å¾—å‡ºç›¸åŒçš„RPç»“æœ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;rpä¸bsrçš„å…³ç³»&#34;&gt;RPä¸BSRçš„å…³ç³»&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596980329704.png&#34; alt=&#34;RPä¸BSRçš„å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å•æ’­æ³¨å†Œ&#34;&gt;å•æ’­æ³¨å†Œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Sourceå‘å‡ºç»„æ’­æµé‡ç»™First Routeï¼ˆR1ï¼‰&lt;/li&gt;
&lt;li&gt;R1å°†æºå‘è¿‡æ¥çš„ç»„æ’­ä¿¡æ¯æµçš„ç»„æ’­åŒ…å°è£…ä¸ºå•æ’­åŒ…ï¼ˆunicast register packetï¼‰å‘é€åˆ°RPï¼ˆæºæ˜¯å‡ºæ¥å£ï¼Œç›®æ ‡åœ°å€æ˜¯RPï¼Œç»„æ’­è¢«å°è£…åˆ°å•æ’­å†…ï¼‰è¿›è¡Œæ³¨å†Œã€‚åœ¨è¯¥è¡¨é¡¹ä¸­è®¾ç½®Fä½è¡¨æ˜å®ƒç›´è¿äº†æºï¼ŒåŒæ—¶è®¾ç½®æ³¨å†Œâ€œregisteringâ€flagè¡¨æ˜å®ƒåœ¨æ³¨å†Œ&lt;/li&gt;
&lt;li&gt;R4ï¼ˆRPï¼‰æ”¶åˆ°register packetåï¼š
&lt;ol&gt;
&lt;li&gt;è§£å°è£…ï¼Œå¹¶æ²¿å…±äº«æ ‘å‘ä¸‹å»&lt;/li&gt;
&lt;li&gt;äº§ç”Ÿï¼ˆSï¼ŒGï¼‰æ¡ç›®ï¼Œå¹¶RPFæ ¡éªŒæŒ‡å‘æº&lt;/li&gt;
&lt;li&gt;å‘Sourceå‘èµ·ä¸€ä¸ªï¼ˆSï¼ŒGï¼‰çš„åŠ å…¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;R2å½¢æˆæºæ ‘ï¼ˆSï¼ŒGï¼‰ï¼Œå¹¶ä¸”å‘R1å‘èµ·ä¸€ä¸ªï¼ˆSï¼ŒGï¼‰çš„åŠ å…¥&lt;/li&gt;
&lt;li&gt;R1å½¢æˆåˆ°RPçš„æºæ ‘ï¼ˆSï¼ŒGï¼‰ï¼Œå½“å…¶å†æ¬¡æ”¶åˆ°ç»„æ’­åŒ…æ—¶ï¼š
&lt;ol&gt;
&lt;li&gt;æ²¿ï¼ˆSï¼ŒGï¼‰æºæ ‘å‘å‡ºç»„æ’­&lt;/li&gt;
&lt;li&gt;åŒæ—¶è¿˜ä¼šå°è£…unicast register packetç»§ç»­å‘ï¼Œæ­¤æ—¶RPä¼šæ”¶åˆ°æ¥è‡ªæºçš„ç»„æ’­åŒ…å’Œæ¥è‡ªç¬¬ä¸€è·³çš„å•æ’­åŒ…ã€‚ã€åŒ…çš„å¤åˆ¶ï¼Œè¿™æ˜¯ä¸€ç§å¿…ä¸å¯å°‘çš„å¹³æ»‘è¿‡æ¸¡è¿‡ç¨‹ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;RPä»ï¼ˆSï¼ŒGï¼‰æ”¶åˆ°Multicast packetåï¼Œå‘R1å‘å‡ºregister-stopåŒ…&lt;/li&gt;
&lt;li&gt;R1æ”¶åˆ°register-stopåŒ…åï¼Œåœæ­¢å•æ’­register packet&lt;/li&gt;
&lt;li&gt;last routeråˆ‡æ¢ä¸ºæºæ ‘ï¼Œå‘æºå‘å‡ºï¼ˆSï¼ŒGï¼‰çš„joinæ¶ˆæ¯&lt;br&gt;
&lt;code&gt;PIM-SMä¸­ï¼Œå¶å°”ä¼šå‡ºç°çš„ç»„æ’­åˆå§‹æµé‡é€šï¼Œåç»­æµé‡ä¸é€šçš„æƒ…å†µï¼šæœ€å¼€å§‹æ˜¯å•æ’­æ³¨å†Œè½¬å‘&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ€»ä½“è¯„ä»·&#34;&gt;æ€»ä½“è¯„ä»·&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®æµä»…æ²¿â€œåŠ å…¥â€çš„åˆ†æ”¯å‘ä¸‹å‘é€&lt;/li&gt;
&lt;li&gt;å¯ä»¥æ ¹æ®æµé‡ç­‰æ¡ä»¶åŠ¨æ€çš„åˆ‡æ¢åˆ°æºæ ‘&lt;/li&gt;
&lt;li&gt;ä¸å…·ä½“çš„å•æ’­è·¯ç”±åè®®æ— å…³&lt;/li&gt;
&lt;li&gt;æ˜¯åŸŸé—´ç»„æ’­è·¯ç”±çš„åŸºç¡€ï¼ˆå’ŒMBGPã€MSDPå…±åŒç»“åˆä½¿ç”¨å¯ä»¥å®Œæˆè·¨åŸŸçš„ç»„æ’­ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ssmä¸asmæ¨¡å‹æ¯”è¾ƒ&#34;&gt;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597065999629.png&#34; alt=&#34;SSMä¸ASMæ¨¡å‹æ¯”è¾ƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;msdpå’Œanycastrp&#34;&gt;MSDPå’ŒAnycastRP&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;MSDPï¼Œ&lt;strong&gt;ç»„æ’­æºå‘ç°åè®®&lt;/strong&gt;ï¼Œæ˜¯ä¸ºäº†è§£å†³å¤šä¸ªPIM-SMåŸŸä¹‹é—´çš„äº’è¿è€Œå¼€å‘çš„ä¸€ç§åŸŸé—´ç»„æ’­è§£å†³æ–¹æ¡ˆï¼Œç”¨æ¥å‘ç°å…¶ä»–PIM-SMåŸŸå†…çš„ç»„æ’­æºä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;MSDPç›®å‰&lt;strong&gt;åªæ”¯æŒåœ¨IPv4ç½‘ç»œéƒ¨ç½²&lt;/strong&gt;ï¼ŒåŸŸå†…ç»„æ’­è·¯ç”±åè®®&lt;strong&gt;å¿…é¡»æ˜¯PIM-SM&lt;/strong&gt;ï¼ŒMSDP&lt;strong&gt;ä»…æ”¯æŒASMæ¨¡å‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;SDPé€šè¿‡åœ¨ä¸åŒPIM-SMåŸŸçš„è·¯ç”±å™¨ï¼ˆé€šå¸¸åœ¨RPä¸Šï¼‰ä¹‹é—´å»ºç«‹MSDPå¯¹ç­‰ä½“ï¼ŒMSDPå¯¹ç­‰ä½“ä¹‹é—´äº¤äº’SAï¼ˆSource-Activeï¼‰æ¶ˆæ¯ï¼Œå…±äº«ç»„æ’­æºä¿¡æ¯ï¼Œæœ€ç»ˆå¯ä»¥ä½¿ä¸€ä¸ªåŸŸå†…çš„ç»„æ’­ç”¨æˆ·æ¥æ”¶åˆ°å…¶ä»–åŸŸçš„ç»„æ’­æºå‘é€çš„ç»„æ’­æ•°æ®&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä»»æ„æ’­&#34;&gt;ä»»æ„æ’­&lt;/h3&gt;
&lt;p&gt;ä»»æ„æ’­åœ°å€æ˜¯ä»å•æ’­åœ°å€ç©ºé—´ä¸­åˆ’åˆ†å‡ºæ¥çš„ã€‚å½“&lt;strong&gt;ä¸€ä¸ªå•æ’­åœ°å€åˆ†é…ç»™å¤šä¸ªæ¥å£&lt;/strong&gt;ï¼Œå°±å˜æˆäº†ä»»æ„æ’­åœ°å€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»»æ„æ’­åœ°å€æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦å¯¹åº”å¤šä¸ªæ¥å£çš„æƒ…å†µã€‚å¦‚æœä¸€ä¸ªæ•°æ®æŠ¥æ–‡è¦æ±‚è¢«ä¼ é€åˆ°ä¸€ä¸ªä»»æ„ç‚¹åœ°å€ï¼Œåˆ™å°†è¢«ä¼ é€åˆ°æœ€è¿‘ä¸€ä¸ªæ¥å£ï¼ˆè·¯ç”±å™¨å†³å®šï¼‰&lt;/li&gt;
&lt;li&gt;å•æ’­å°±æ˜¯ä¸€å¯¹ä¸€ï¼›ä»»æ„æ³¢å°±æ˜¯&lt;strong&gt;ä¸€å¯¹æœ€è¿‘&lt;/strong&gt;ï¼›ç»„æ’­å°±æ˜¯ä¸€å¯¹å¤š&lt;/li&gt;
&lt;li&gt;ä»»æ„æ’­ï¼ˆAnycastï¼‰æ˜¯æŒ‡æŸç»„ä¸­ä»»æ„å‘é€æ–¹å¯¹åº”æ‹“æœ´ç»“æ„ä¸­å‡ ä¸ª&lt;strong&gt;æœ€æ¥è¿‘çš„æ¥æ”¶æ–¹&lt;/strong&gt;ä¹‹é—´çš„é€šä¿¡ã€‚ä¸ä¹‹æ¯”è¾ƒï¼Œç»„æ’­æ˜¯æŒ‡å•ä¸ªå‘é€æ–¹å¯¹åº”ä¸€ç»„é€‰å®šæ¥æ”¶æ–¹çš„ä¸€ç§é€šä¿¡ï¼Œå•æ’­æ˜¯æŒ‡å•ä¸ªå‘é€æ–¹å¯¹åº”å•ä¸ªæ¥æ”¶æ–¹çš„ä¸€ç§é€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;ä»»æ„æ’­æ˜¯&lt;strong&gt;IPv6 ä¸­æ›´æ–°è·¯ç”±è¡¨æ—¶æ‰€é‡‡ç”¨çš„ä¸€ç§æ–¹æ³•&lt;/strong&gt;ã€‚æŸå°ä¸»æœºåœ¨æ›´æ–°ä¸€ä¸ªä¸»æœºç»„çš„è·¯ç”±è¡¨æ—¶ï¼Œå…ˆå‘é€&lt;strong&gt;æ•°æ®åˆ°æœ€æ¥è¿‘çš„ä¸»æœº&lt;/strong&gt;ä¸Šï¼ŒIPv6 å†³å®šå“ªä¸ªç½‘å…³ä¸»æœºæœ€æ¥è¿‘å¹¶å‘é€æ•°æ®åŒ…åˆ°è¯¥ä¸»æœºï¼Œå°±å¦‚å•æ’­é€šä¿¡ä¸€æ ·ï¼Œç„¶åä¸»æœºå‘é€ä¿¡æ¯åˆ°å…¶æœ€æ¥è¿‘çš„è·¯ç”±å™¨ä¸Šï¼Œè¯¥è¿‡ç¨‹ç›´è‡³ç»„ä¸­çš„æ‰€æœ‰è·¯ç”±è¡¨éƒ½è¢«æ›´æ–°ä¸ºæ­¢ã€‚&lt;/li&gt;
&lt;li&gt;IPv6 æ”¯æŒå•æ’­ï¼ˆUnicastï¼‰ã€ç»„æ’­ï¼ˆMulticastï¼‰å’Œä»»æ„æ’­ï¼ˆAnycastï¼‰ä¸‰ç§ç±»å‹ã€‚&lt;strong&gt;IPv6 ä¸­æ²¡æœ‰å…³äºå¹¿æ’­ï¼ˆBroadcastï¼‰çš„å…·ä½“åˆ’åˆ†ï¼Œè€Œæ˜¯ä½œä¸ºç»„æ’­çš„ä¸€ä¸ªå…¸å‹ç±»å‹&lt;/strong&gt;ã€‚IPv6 ä¸­åŒ…å«ä¸‰ç§ä¸ç½‘ç»œè®¾å¤‡ç›¸è”çš„åœ°å€ï¼šå•æ’­åœ°å€ã€ç»„æ’­åœ°å€å’Œä»»æ„æ’­åœ°å€ã€‚åœ¨è·¯ç”±é€‰æ‹©è¿‡ç¨‹ä¸­ï¼ŒIPv6 å¯¹å•æ’­å’Œä»»æ„æ’­åœ°å€ä¸åŠ åŒºåˆ†ã€‚åœ¨ç­”å¤æ•°æ®åŒ…å¤´ä¸­ï¼Œæ”¶åˆ° Anycast æ•°æ®åŒ…çš„èŠ‚ç‚¹éœ€è¦å°†å…¶è‡ªå·±çš„å•æ’­åœ°å€ä½œä¸ºå‘é€æ–¹åœ°å€ã€‚ä»»æ„æ’­ä¸­å¹¿å‘Šå’Œæ”¶å¬çš„è·¯ç”±é€‰æ‹©ä½¿ç”¨åœ°å€è§£æåè®®ï¼ˆARPï¼‰æˆ–é“¾è·¯çº§ç»„æ’­å®Œæˆã€‚ä»»æ„æ’­ä¸­è½¬å‘æ•°æ®åŒ…çš„è¿‡ç¨‹ç±»ä¼¼äºå•æ’­ï¼Œè€Œæœ€åä¸€è·³è·¯ç”±é€‰æ‹©è¿‡ç¨‹ç±»ä¼¼äºç»„æ’­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;msdpå¯¹ç­‰ä½“å»ºç«‹&#34;&gt;MSDPå¯¹ç­‰ä½“å»ºç«‹&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨MSDPå®ç°è·¨åŸŸç»„æ’­çš„é¦–è¦ä»»åŠ¡æ˜¯ï¼š&lt;strong&gt;å»ºç«‹MSDPå¯¹ç­‰ä½“ï¼ŒMSDPå¯¹ç­‰ä½“é€šå¸¸å»ºç«‹åœ¨RPä¸Š&lt;/strong&gt;ã€‚&lt;br&gt;
é€šå¸¸ï¼Œåœ¨å„ä¸ªPIM-SMåŸŸçš„RPä¹‹é—´é…ç½®MSDPå¯¹ç­‰ä½“å…³ç³»ï¼ŒMSDPå¯¹ç­‰ä½“ä¹‹é—´äº¤äº’SAæ¶ˆæ¯ï¼ŒSAæ¶ˆæ¯ä¸­æºå¸¦ç»„æ’­æºDRåœ¨RPä¸Šæ³¨å†Œæ—¶çš„ï¼ˆSï¼ŒGï¼‰ä¿¡æ¯ã€‚é€šè¿‡è¿™äº›MSDPå¯¹ç­‰ä½“ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’ï¼Œä»»æ„ä¸€ä¸ªRPå‘å‡ºçš„SAæ¶ˆæ¯èƒ½å¤Ÿè¢«å…¶ä»–æ‰€æœ‰çš„RPæ”¶åˆ°&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597137821942.png&#34; alt=&#34;MSDPå¯¹ç­‰ä½“é€šå¸¸å»ºç«‹åœ¨RPä¸Š&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MSDPå¯¹ç­‰ä½“&lt;strong&gt;é€šè¿‡TCPè¿æ¥å»ºç«‹ï¼Œä½¿ç”¨ç«¯å£639&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤å°è®¾å¤‡ä½¿èƒ½MSDPå¹¶äº’ç›¸æŒ‡å®šå¯¹æ–¹ä¸ºMSDPå¯¹ç­‰ä½“åï¼Œä¸¤ç«¯&lt;strong&gt;å…ˆæ¯”è¾ƒIPåœ°å€ï¼ŒIPåœ°å€è¾ƒå°çš„ä¸€ç«¯ä¼šå¯åŠ¨è¿æ¥é‡è¯•å®šæ—¶å™¨ï¼Œå¹¶ä¸»åŠ¨å‘èµ·TCPè¿æ¥ï¼Œé€šè¿‡keepaliveç»´æŒ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;IPåœ°å€è¾ƒå¤§çš„ä¸€ç«¯è´Ÿè´£ç¡®è®¤æ˜¯å¦æœ‰TCPè¿æ¥åœ¨ç«¯å£639å»ºç«‹ã€‚TCPè¿æ¥å»ºç«‹åï¼ŒMSDPå¯¹ç­‰ä½“å…³ç³»å°±å»ºç«‹äº†ï¼Œå¯¹ç­‰ä½“ä¹‹é—´é€šè¿‡KeepAliveæ¶ˆæ¯ç»´æŒè¿æ¥å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&#34;&gt;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1597138136312.png&#34; alt=&#34;ç»„æ’­æºä¿¡æ¯åœ¨åŸŸé—´çš„ä¼ é€’&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å½“PIM-SM1åŸŸå†…çš„ç»„æ’­æºSourceå‘ç»„æ’­ç»„Gå‘é€ç¬¬ä¸€ä¸ªç»„æ’­æ•°æ®åŒ…æ—¶ï¼ŒDR1å°†è¯¥ç»„æ’­æ•°æ®å°è£…åœ¨æ³¨å†ŒæŠ¥æ–‡ä¸­ï¼Œå¹¶å‘ç»™RP1ï¼ŒRP1å› æ­¤è·çŸ¥äº†è¯¥ç»„æ’­æºçš„ç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;RP1ä½œä¸ºæºç«¯RPï¼Œåˆ›å»ºSAæ¶ˆæ¯ï¼Œå¹¶å‘¨æœŸæ€§åœ°å‘å®ƒçš„å¯¹ç­‰ä½“RP2å‘é€ã€‚SAæ¶ˆæ¯ä¸­åŒ…å«ç»„æ’­æºçš„åœ°å€Sã€ç»„æ’­ç»„çš„åœ°å€Gä»¥åŠåˆ›å»ºè¯¥SAæ¶ˆæ¯çš„æºç«¯RPï¼ˆå³RP1ï¼‰çš„åœ°å€&lt;/li&gt;
&lt;li&gt;RP2æ¥æ”¶åˆ°è¯¥SAæ¶ˆæ¯åï¼Œæ‰§è¡ŒRPFæ£€æŸ¥ã€‚æ£€æŸ¥é€šè¿‡ï¼Œå‘RP3è½¬å‘ï¼ŒåŒæ—¶æ£€æŸ¥æœ¬åŸŸå†…æ˜¯å¦å­˜åœ¨ç»„Gæˆå‘˜ã€‚ç”±äºPIM-SM2åŸŸå†…æ²¡æœ‰ç»„Gçš„æ¥æ”¶è€…ï¼Œæ•…RP2ä¸åšå…¶ä»–åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;RP3æ¥æ”¶åˆ°è¯¥SAæ¶ˆæ¯åï¼Œæ‰§è¡ŒRPFæ£€æŸ¥ï¼Œæ£€æŸ¥é€šè¿‡ã€‚ç”±äºPIM-SM3åŸŸå†…å­˜åœ¨ç»„Gæˆå‘˜ï¼Œä¼šé€šè¿‡IGMPåè®®åœ¨RP3ä¸Šç”Ÿæˆï¼ˆ*ï¼ŒGï¼‰è¡¨é¡¹ï¼Œè¡¨ç¤ºæœ¬åŸŸå†…å­˜åœ¨ç»„Gæˆå‘˜&lt;/li&gt;
&lt;li&gt;RP3åˆ›å»ºï¼ˆSï¼ŒGï¼‰è¡¨é¡¹ï¼Œå‘ç»„æ’­æºSourceé€è·³å‘é€ï¼ˆSï¼ŒGï¼‰åŠ å…¥æŠ¥æ–‡ï¼Œåˆ›å»ºä¸€æ¡ä»Sourceåˆ°RP3çš„ç»„æ’­è·¯å¾„ï¼ˆSPTï¼‰ã€‚ç»„æ’­æ•°æ®æ²¿SPTåˆ°è¾¾RP3åï¼Œå†æ²¿RPTå‘æ¥æ”¶è€…è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;å½“æ¥æ”¶è€…ä¾§DR3æ”¶åˆ°Sourceå‘å‡ºçš„ç»„æ’­æ•°æ®åï¼Œå¯ä»¥è‡ªè¡Œå†³å®šæ˜¯å¦å‘èµ·SPTåˆ‡æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;p&gt;å®éªŒæ‹“æ‰‘ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596674828574.png&#34; alt=&#34;åŸç†å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596674536546.png&#34; alt=&#34;å®éªŒæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é¢„é…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
sys
sys R1
int g0/0/0
ipp addr 100.1.1.254 24
int g0/0/1
ip addr 10.1.1.1 24
ospf 1
area 0
network 0.0.0.0 255.255.255.255   # æ‰€æœ‰æ¥å£åœ°å€å‡å®£å‘Šè¿›å…¥OSPFä¸­
# R2
sys
sys R2
int lo 0
ip addr 22.1.1.1 32
int g0/0/0
ip addr 42.1.1.2 24
int g0/0/1
ip addr 10.1.1.2 24
int s1/0/0
ip addr 24.1.1.2 24
ospf 1
area 0
network 0.0.0.0 255.255.255.255
# R3
sys
sys R3
int g0/0/1
ip addr 10.1.1.3 24
int g0/0/0
ip addr 35.1.1.3 24
ospf 1
area 0
network 0.0.0.0 255.255.255.255
# R4
sys
sys R4
int g0/0/0
ip addr 42.1.1.4 24
int g0/0/1
ip addr 45.1.1.4 24
int g0/0/2
ip addr 10.1.2.4 24
int s1/0/0
ip addr 24.1.1.4 24
ospf 1
area 0
network 0.0.0.0 255.255.255.255
# R5
sys
sys R5
int g0/0/0
ip addr 35.1.1.5 24
int g0/0/1
ip addr 45.1.1.5 24
int g0/0/2
ip addr 10.1.2.5 24
ospf 1
area 0
network 0.0.0.0 255.255.255.255
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸€igmpv1&#34;&gt;å®éªŒä¸€ï¼šIGMPv1&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R4
multicast routing-enable   # å…¨å±€å¼€å¯ç»„æ’­
int g0/0/2
igmp version 1
pim dm
igmp enable
# PC1ï¼šè®¾ç½®--ç»„æ’­--é€‰æ‹©Version1ã€æºIPä¸º10.1.2.1ã€ç›®çš„IPä¸º239.1.1.1--ç‚¹å‡»åŠ å…¥
# æŸ¥çœ‹
# R4
dis igmp int
dis igmp group
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒigmpv1æŸ¥è¯¢å™¨é€‰ä¸¾pimåè®®&#34;&gt;å®éªŒäºŒï¼šIGMPv1æŸ¥è¯¢å™¨é€‰ä¸¾ï¼ˆPIMåè®®ï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
multicast routing-enable
int g0/0/2
igmp version 1
pim dm
igmp enable
# R4
int g0/0/2
pim hello-option dr-priority  1000 # é€šè¿‡ä¿®æ”¹ä¼˜å…ˆçº§ï¼Œå°†R4è®¾ç½®ä¸ºPIMçš„DRï¼ˆé»˜è®¤ä¼˜å…ˆçº§ä¸º1ï¼‰
# æŸ¥çœ‹
dis igmp int
dis pim neighbor
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰igmpv2&#34;&gt;å®éªŒä¸‰ï¼šIGMPv2&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R4
int g0/0/2
igmp version 2
# R5
int g0/0/2
igmp version 2
# PC1å…ˆç¦»å¼€--é€‰æ‹©Version2--å†åŠ å…¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››igmpv3&#34;&gt;å®éªŒå››ï¼šIGMPv3&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R4
int g0/0/2
igmp version 2
# R5
int g0/0/2
igmp version 2
# PC1å…ˆç¦»å¼€--é€‰æ‹©Version3--æºIPè®¾ç½®ä¸º10.1.2.1--ç»„æ’­ç»„IPèµ·å§‹232.1.1.1å’Œç»„æ’­æºIPèµ·å§‹100.1.1.1--å…¶ä»–4ä¸ª0æ”¹ä¸º1--ç±»å‹é€‰æ‹©MODE_IS_INCLUDE--ç‚¹å‡»å‘é€
# æŸ¥çœ‹
# R4/5
dis igmp group
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäº”é…ç½®pim-dm&#34;&gt;å®éªŒäº”ï¼šé…ç½®PIM-DM&lt;/h2&gt;
&lt;p&gt;æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²IGP&lt;/li&gt;
&lt;li&gt;å¼€å¯ç»„æ’­ï¼šmulticast routing-enable&lt;/li&gt;
&lt;li&gt;æ¥å£å¼€å¯PIMï¼šé¢å¯¹ç»„æ’­æºçš„æ¥å£éœ€è¦å¼€å¯pimã€é¢å¯¹æ¥æ”¶è€…çš„æ¥å£éœ€è¦å¼€å¯pim&lt;/li&gt;
&lt;li&gt;æ¥æ”¶è€…åŠ ç»„ï¼ˆä½¿ç”¨IGMPv2ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
multicast routing-enable
int g0/0/0
pim dm
int g0/0/1
pim dm
# R2
multicast routing-enable
int s1/0/0
pim dm
int g0/0/1
pim dm
# R3
multicast routing-enable
int g0/0/0
pim dm
int g0/0/1
pim dm
# R4
multicast routing-enable
int g0/0/2
igmp version 2
undo igmp robust-count
undo pim hello-option dr-priority
pim dm
int s1/0/0
pim dm
int g0/0/1
pim dm
# R5
multicast routing-enable
int g0/0/0
pim dm
int g0/0/1
pim dm
int g0/0/2
pim dm
# åŠ å…¥ç»„æ’­ç»„
# PC1ï¼šVersion2 -- æºIP10.1.2.1 -- ç›®çš„IP239.1.1.1 -- åŠ å…¥ã€IPåœ°å€10.1.2.1/24  gw10.1.2.4ã€‘
# PC2ï¼šVersion2 -- æºIP10.1.2.2-- ç›®çš„IP239.1.1.1 -- åŠ å…¥ã€IPåœ°å€10.1.2.2/24  gw10.1.2.4ã€‘
# PC3ï¼šVersion2 -- æºIP10.1.2.3 -- ç›®çš„IP239.1.1.1 -- åŠ å…¥ã€IPåœ°å€10.1.2.3/24  gw10.1.2.4ã€‘
# äº§ç”Ÿç»„æ’­æµ
# Client 1ï¼šIP100.1.1.1/24 gw100.1.1.254ï¼Œç»„æ’­æºé€‰æ‹©ä¸€ä¸ªMP4çš„æ–‡ä»¶ï¼Œç»„æ’­ç»„IP239.1.1.1ï¼ŒæºIPåœ°å€100.1.1.1--è¿è¡Œ
# æ£€éªŒ
# PC1 ï¼šå¯åŠ¨VLCï¼ˆæ¯”è¾ƒå¡ï¼‰
# R3/2
dis pim rou
dis pim neighbor
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…­pim-sm&#34;&gt;å®éªŒå…­ï¼šPIM-SM&lt;/h2&gt;
&lt;p&gt;å¤§è‡´æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IGPï¼ˆå®ŒæˆRPFæ£€æŸ¥ï¼‰ã€ä¸Šé¢å®éªŒå·²ç»åšè¿‡ã€‘&lt;/li&gt;
&lt;li&gt;ä½¿èƒ½ç»„æ’­å’ŒPIM&lt;/li&gt;
&lt;li&gt;é…ç½®RPï¼Œæ‰€æœ‰è®¾å¤‡éƒ½éœ€è¦çŸ¥é“RPçš„ä½ç½®ï¼Œç›®çš„æ˜¯ç»„æµ‹ï¼ŒRPTçš„å½¢æˆä¹Ÿéœ€è¦RPçš„ä½ç½®&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/li&gt;
&lt;li&gt;åœ¨vrpä¸Šéƒ¨ç½² PIM-SM&lt;/li&gt;
&lt;li&gt;åˆ›é€ ä¸€ä¸ªç”±äºRPFæ£€æŸ¥å¤±è´¥é€ æˆçš„å•æ’­æ³¨å†Œé€šï¼Œç»„æ’­ä¸é€š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ¸…é™¤ä¹‹å‰çš„é…ç½®
# R1
int g0/0/0
undo pim dm
int g0/0/1
undo pim dm
# R2
int s1/0/0
undo pim dm
int g0/0/0
undo pim dm
int g0/0/1
undo pim dm
# R3
int g0/0/0
undo pim dm
int g0/0/1
undo pim dm
# R4
int s1/0/0
undo pim dm
int g0/0/0
undo pim dm
int g0/0/1
undo pim dm   
int g0/0/2
undo pim dm 
# R5
int g0/0/0
undo pim dm
int g0/0/1
undo pim dm   
int g0/0/2
undo pim dm 

# éƒ¨ç½²PIM-SM
# R1
pim
static-rp 22.1.1.1
q
int g0/0/0
pim sm
int g0/0/1
pim sm
# R2
pim
static-rp 22.1.1.1
q
int s1/0/0
pim sm
int g0/0/0
pim sm
int g0/0/1
pim sm
# R3
pim
static-rp 22.1.1.1
q
int g0/0/0
pim sm
int g0/0/1
pim sm
# R4
pim
static-rp 22.1.1.1
q
int s1/0/0
pim sm
int g0/0/0
pim sm
int g0/0/1
pim sm
int g0/0/2
pim sm
# R5
pim
static-rp 22.1.1.1
q
int g0/0/0
pim sm
int g0/0/1
pim sm 
int g0/0/2
pim sm

# å…¶ä»–é…ç½®
# R4
int g0/0/2 
pim hello-option dr-priority 200
dis pim neighbor    # åŸæ¥R5æ˜¯DRï¼Œæ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ä¹‹åï¼ŒR4å˜ä¸ºDR
# æ£€æŸ¥ï¼šPC1 ï¼ŒVersion2åŠ å…¥ç»„æ’­ï¼Œå¯åŠ¨VLC


# å£°æ˜å…ˆå¯¹æ¯”ä¼˜å…ˆçº§ï¼ˆæœ¬è´¨æ˜¯è·¯å¾„å¼€é”€ï¼‰ï¼Œæœ€åå¯¹æ¯”IP
# ä¿®æ”¹R4å’ŒR5è¿æ¥çš„æ¥å£çš„costï¼Œä»è€Œå½±å“å¼€é”€å€¼
# R4/5
int g0/0/1
ospf cost 2
dis pim rou  # æ­¤æ—¶ï¼ŒR5çš„RPFé‚»å±…ç”±R4å˜ä¸ºR3ï¼ŒR4çš„RPFé‚»å±…ç”±R5å˜ä¸ºR2ã€R2æ˜¯RPã€‘

# è®©ç»„æ’­æµé‡èµ°R5ï¼Œå³è®©R5ç§°ä¸ºDR
# R5
int g0/0/2
pim hello-option dr-priority  3333

# åˆ›é€ ä¸€ä¸ªç”±äºRPFæ£€æŸ¥å¤±è´¥é€ æˆçš„å•æ’­æ³¨å†Œé€šï¼Œç»„æ’­ä¸é€šï¼ˆR5ï¼‰
# å³ç»„æ’­æµçš„å…¥æ¥å£å’Œå•æ’­è·¯ç”±çš„å‡ºæ¥å£ä¸ä¸€æ ·ï¼Œç›®å‰ä¸¤è€…éƒ½ä¸ºg0/0/0
# ä¸‹é¢ä¿®æ”¹ç»„æ’­æµçš„å…¥æ¥å£ä¸ºg0/0/1ï¼ˆä½¿ç”¨ä¸‹ä¸€è·³åœ°å€ï¼‰ï¼Œå³æ·»åŠ ç»„æ’­é™æ€è·¯ç”±
# R5
ip rpf-route-static 100.1.1.1 32 45.1.1.4  # æ­¤æ—¶è™½ç„¶ç»„æ’­è¿˜æ­£å¸¸ï¼Œä½†æ˜¯å…¶èµ°çš„è·¯ç”±æ—¶1--2--4--5
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸ƒbsr&#34;&gt;å®éªŒä¸ƒï¼šBSR&lt;/h2&gt;
&lt;p&gt;æ­¤å®éªŒæ‹“æ‰‘ä¸ºBGPä¸“é¢˜çš„æ‹“æ‰‘ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1597154925186.png&#34; alt=&#34;BSR&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é¢„é…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±å™¨çš„é…ç½®ï¼š&lt;br&gt;
é™¤äº†å¼€å¯BGPå’ŒIGPï¼Œè¿˜éœ€è¦ä¿è¯æ‰€æœ‰æ¥å£éƒ½å·¥ä½œåœ¨PIM-SMæ¨¡å¼ä¸‹
&lt;ul&gt;
&lt;li&gt;R1çš„g0/0/1ã€g0/0/2ã€s1/0/0ã€loop 0&lt;/li&gt;
&lt;li&gt;R2çš„g0/0/0ã€g0/0/2ã€s1/0/1ã€loop 0&lt;/li&gt;
&lt;li&gt;R3çš„g0/0/1ã€g0/0/2ã€g0/0/0ã€loop 0&lt;/li&gt;
&lt;li&gt;R4çš„g0/0/1ã€g0/0/2ã€s1/0/0ã€s1/0/1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PCçš„é…ç½®ï¼š
&lt;ul&gt;
&lt;li&gt;PC1ï¼šç»„æ’­Version2ï¼ŒæºIPä¸º10.1.1.1ï¼Œç›®çš„IPä¸º239.1.1.1ï¼›åŸºç¡€é…ç½®IPä¸º10.1.1.1/24ï¼ŒGWä¸º10.1.1.254&lt;/li&gt;
&lt;li&gt;PC2ï¼šç»„æ’­Version2ï¼ŒæºIPä¸º10.7.1.1ï¼Œç›®çš„IPä¸º239.1.1.1ï¼›åŸºç¡€é…ç½®IPä¸º10.7.1.1/24ï¼ŒGWä¸º10.7.1.254&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;br&gt;
R1ã€R2åšä¸ºC-RPï¼ŒR3ã€R4åšä¸ºC-BSR&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
pim
c-rp loopback 0
c-rp loopback 0 advertisement-interval 5 # 5ç§’é€šå‘Šä¸€æ¬¡
c-rp priority 100 
dis pim rp-info
# R2
int g0/0/1
ip addr 10.1.1.254 24
igmp enable
igmp version 2
q
pim
c-rp loopback 0
c-rp loopback 0 advertisement-interval 5
c-rp priority 80  # ä½¿R2ä¸ºRP
dis pim rp-info
# R3
pim
c-bsr loopback 0
c-bsr hash-length 0
c-bsr interval 10 # 10ç§’é€šå‘Šä¸€æ¬¡
c-bsr priority 100 # ä½¿R3ä¸ºRP
q
dis pim bsr-info
# R4
pim
c-bsr loopback 0
c-bsr hash-length 0
c-bsr interval 10
c-bsr priority 80
q
dis pim bsr-info
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…«ç»“åˆmsdpåŠä»»æ„æ’­åŸç†å®ç°anycast-rp&#34;&gt;å®éªŒå…«ï¼šç»“åˆMSDPåŠä»»æ„æ’­åŸç†å®ç°Anycast-RP&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;åŸç†&lt;/strong&gt;ï¼šæºå‘æœ€è¿‘çš„RPæ³¨å†Œï¼ŒRPä¹‹é—´é€šè¿‡MSDPå…±äº«æºä¿¡æ¯ï¼Œè·å¾—æºä¿¡æ¯æ„å‘³ç€ï¼ˆS,Gï¼‰çš„joinæˆä¸ºå¯èƒ½&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;br&gt;
R1ã€R2ä¸ºAnycast-RP 100.100.100.100&lt;br&gt;
åº”ç”¨ä»»æ„æ’­ï¼ŒåŠ¡å¿…è¦æ³¨æ„&lt;strong&gt;ä»»æ„æ’­åœ°å€ç»ä¸å…è®¸åšä¸ºä»»ä½•è·¯ç”±åè®®çš„router-id&lt;/strong&gt;&lt;br&gt;
é€»è¾‘RPçš„ä½œç”¨ï¼šRPF&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
int lo 1
ip addr 100.100.100.100 32
ospf en  1 a 0
pim sm
q
pim
undo c-rp  lo 0
c-rp lo 1 advertisement-interval 5
q
msdp 
peer 22.1.1.1 connect-interface lo 0
originating-rp lo 0  # é€»è¾‘RP
# R2
int lo 1
ip addr 100.100.100.100 32
ospf en  1 a 0
pim sm
q
pim
undo c-rp  lo 0
c-rp priority 100
c-rp lo 1 advertisement-interval 5
q
msdp 
peer 11.1.1.1 connect-interface lo 0
originating-rp lo 0
# åœ¨PC1ä¸Šæµ‹è¯•ç»„æ’­
# R2
dis pim rou
dis pim neighbor
&lt;/code&gt;&lt;/pre&gt;
">HCIE-Multicastä¸“é¢˜(2020.08.04ï¼Œç¬¬3ä¸“é¢˜)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-ipsec-zhuan-ti-20200731/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A0%E5%AF%86%E5%AD%A6%E5%8E%9F%E7%90%86&#34;&gt;åŠ å¯†å­¦åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipsec%E5%9F%BA%E6%9C%AC%E7%90%86%E8%AE%BA&#34;&gt;IPSecåŸºæœ¬ç†è®º&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ipsec%E6%A1%86%E6%9E%B6&#34;&gt;IPSecæ¡†æ¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90&#34;&gt;ç»„æˆ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#esp%E8%B4%9F%E8%BD%BD%E5%AE%89%E5%85%A8%E5%B0%81%E8%A3%85%E5%8D%8F%E8%AE%AE&#34;&gt;ESPï¼ˆè´Ÿè½½å®‰å…¨å°è£…ï¼‰åè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%A4%E8%AF%81%E5%A4%B4ah%E5%8D%8F%E8%AE%AE&#34;&gt;è®¤è¯å¤´ï¼ˆAHï¼‰åè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#internet%E5%AF%86%E9%92%A5%E4%BA%A4%E6%8D%A2ike%E5%8D%8F%E8%AE%AE&#34;&gt;Internetå¯†é’¥äº¤æ¢ï¼ˆIKEï¼‰åè®®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#ike%E7%9A%84%E4%B8%89%E4%B8%AA%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86&#34;&gt;IKEçš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ike%E7%9A%843%E4%B8%AA%E6%A8%A1%E5%BC%8F%E5%92%8C%E4%B8%A4%E4%B8%AA%E9%98%B6%E6%AE%B5&#34;&gt;IKEçš„3ä¸ªæ¨¡å¼å’Œä¸¤ä¸ªé˜¶æ®µ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BB%E6%A8%A1%E5%BC%8F%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5&#34;&gt;ä¸»æ¨¡å¼ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BF%AB%E9%80%9F%E6%A8%A1%E5%BC%8F%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5&#34;&gt;å¿«é€Ÿæ¨¡å¼ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%A0%E8%BE%93%E6%A8%A1%E5%BC%8F&#34;&gt;ä¼ è¾“æ¨¡å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9A%A7%E9%81%93%E6%A8%A1%E5%BC%8Flan-to-lan&#34;&gt;éš§é“æ¨¡å¼ï¼ˆlan to lanï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ipsec%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93&#34;&gt;IPSecçš„ä¸¤ä¸ªæ•°æ®åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8svti%E5%AE%9E%E7%8E%B0%E7%AB%99%E7%82%B9%E9%97%B4%E9%80%9A%E4%BF%A1&#34;&gt;ä½¿ç”¨SVTIå®ç°ç«™ç‚¹é—´é€šä¿¡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#gre-over-ipsec-%E4%B8%8Esvti%E7%9A%84%E5%8C%BA%E5%88%AB&#34;&gt;GRE over IPSec ä¸SVTIçš„åŒºåˆ«&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#vpn%E8%A7%A6%E5%8F%91%E8%BF%87%E7%A8%8B%E5%8C%85%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B&#34;&gt;VPNè§¦å‘è¿‡ç¨‹ï¼ˆåŒ…å¤„ç†æµç¨‹ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8A%A8%E6%80%81vpnds-vpn%E5%8A%A8%E6%80%81%E6%99%BA%E8%83%BD&#34;&gt;åŠ¨æ€VPNï¼ˆDS VPNï¼ŒåŠ¨æ€æ™ºèƒ½ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88&#34;&gt;åº”ç”¨åœºæ™¯ï¼ˆéƒ¨ç½²æ–¹æ¡ˆï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%BB%84%E6%88%90-2&#34;&gt;ç»„æˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#dmvpn%E5%8E%86%E5%8F%B2%E5%8F%91%E5%B1%95&#34;&gt;DMVPNå†å²å‘å±•&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%80%E4%BD%BF%E7%94%A8%E4%BC%A0%E8%BE%93%E6%A8%A1%E5%BC%8F%E5%8A%A0%E5%AF%86%E9%9A%A7%E9%81%93%E5%86%85%E6%B5%81%E9%87%8Fipsec-lan-to-lan-vpn%E7%9A%84%E9%83%A8%E7%BD%B2&#34;&gt;å®éªŒä¸€ï¼šä½¿ç”¨ä¼ è¾“æ¨¡å¼åŠ å¯†éš§é“å†…æµé‡ï¼ˆIPSec LAN to LAN VPNçš„éƒ¨ç½²ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E6%96%B0%E7%9A%84gre-over-ipsec%E9%85%8D%E7%BD%AE%E6%97%A0%E9%9C%80%E5%AE%9A%E4%B9%89%E6%84%9F%E5%85%B4%E8%B6%A3%E6%B5%81%E5%8F%AF%E6%89%A9%E5%B1%95%E6%80%A7%E6%AF%94%E8%BE%83%E5%BC%BA&#34;&gt;å®éªŒäºŒï¼šæ–°çš„GRE over IPSecé…ç½®ï¼ˆæ— éœ€å®šä¹‰æ„Ÿå…´è¶£æµï¼Œå¯æ‰©å±•æ€§æ¯”è¾ƒå¼ºï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89%E4%BD%BF%E7%94%A8svti%E5%AE%9E%E7%8E%B0%E7%AB%99%E7%82%B9%E9%97%B4%E9%80%9A%E4%BF%A1&#34;&gt;å®éªŒä¸‰ï¼šä½¿ç”¨SVTIå®ç°ç«™ç‚¹é—´é€šä¿¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%9B%9B%E9%83%A8%E7%BD%B2%E5%8A%A8%E6%80%81vpn&#34;&gt;å®éªŒå››ï¼šéƒ¨ç½²åŠ¨æ€VPN&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#normal%E6%AD%A3%E5%B8%B8%E6%A8%A1%E5%BC%8F-hub-spoke%E6%A8%A1%E5%BC%8F&#34;&gt;Normalï¼ˆæ­£å¸¸ï¼‰æ¨¡å¼ ï¼ˆHub-Spokeæ¨¡å¼ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9F%AD%E8%B7%AFshortcut%E6%A8%A1%E5%BC%8F%E5%B1%82%E6%AC%A1%E5%8C%96%E6%A0%91%E7%8A%B6%E8%AE%BE%E8%AE%A1&#34;&gt;çŸ­è·¯ï¼ˆshortcutï¼‰æ¨¡å¼ï¼ˆå±‚æ¬¡åŒ–ï¼ˆæ ‘çŠ¶ï¼‰è®¾è®¡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;åŠ å¯†å­¦åŸç†&#34;&gt;åŠ å¯†å­¦åŸç†&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¿¡æ¯å®‰å…¨çš„ç›®æ ‡&lt;/strong&gt;ï¼šæ•°æ®ç§å¯†æ€§ã€æ•°æ®å®Œæ•´æ€§ã€å‘é€æºè®¤è¯ã€ä¸å¯å¦è®¤æ€§
&lt;ol&gt;
&lt;li&gt;ç§å¯†æ€§ï¼šä¿è¯æœºå¯†ä¿¡æ¯åœ¨ä¼ è¾“ã€å­˜å‚¨å’Œä½¿ç”¨è¿‡ç¨‹ä¸­ä¸è¢«æœªæˆæƒçš„ç¬¬ä¸‰æ–¹è¿›è¡Œçªƒå¬ï¼Œæˆ–çªƒå¬è€…æ— æ³•äº†è§£ä¿¡æ¯çš„çœŸæ­£å«ä¹‰&lt;/li&gt;
&lt;li&gt;å®Œæ•´æ€§ï¼šç¡®ä¿æ”¶åˆ°çš„æ•°æ®å’Œå¯¹æ–¹æ‰€å‘å‡ºçš„ä¿¡æ¯å®Œå…¨ä¸€æ ·ï¼Œé˜²æ­¢æ•°æ®åœ¨ä¼ è¾“æˆ–å­˜å‚¨è¿‡ç¨‹ä¸­è¢«éæ³•ç¯¡æ”¹&lt;/li&gt;
&lt;li&gt;æºè®¤è¯ï¼šå¯¹ä¿¡æ¯çš„çœŸå®æ¥æºè¿›è¡Œåˆ¤æ–­ï¼Œç¡®è®¤ä¿¡æ¯çœŸå®çš„å‘é€è€…å’Œæ¥æ”¶è€…ï¼Œå¹¶èƒ½å¯¹ä¼ªé€ æ¥æºçš„ä¿¡æ¯äºˆä»¥é‰´åˆ«&lt;/li&gt;
&lt;li&gt;ä¸å¯å¦è®¤æ€§ï¼šé˜²æ­¢é€šä¿¡åŒæ–¹ä¸­çš„æŸä¸€æ–¹äº‹åå¦è®¤å…¶è¡Œä¸ºï¼ŒåŒ…æ‹¬ï¼šå‘é€è€…ä¸èƒ½å¦è®¤ä¿¡æ¯çš„å‘é€ã€æ¥æ”¶æ–¹ä¸èƒ½å¦è®¤ä¿¡æ¯çš„æ¥å—&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŠ å¯†ç®—æ³•åˆ†ç±»&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹ç§°å¼å¯†é’¥ç®—æ³•ï¼šç›¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ è§£å¯†ï¼Œä¾‹å¦‚DESã€3DESã€AESã€RC4ã€‚å¯†é’¥é•¿åº¦ä¸€èˆ¬ä¸º40~256bitã€‚&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šé€Ÿåº¦éå¸¸å¿«ï¼›ä½¿ç”¨ç®€å•çš„æ•°æ®æ“ä½œï¼Œå¾ˆå®¹æ˜“å®ç°ç¡¬ä»¶åŠ é€Ÿï¼›ç”¨äºå¤§å—æ•°æ®çš„åŠ å¯†ï¼›å¯†é’¥ç®¡ç†æ˜¯ä¸¥é‡çš„é—®é¢˜
&lt;ol&gt;
&lt;li&gt;DESï¼šæ•°æ®åŠ å¯†æ ‡å‡†ï¼›å¹¿æ³›ä½¿ç”¨çš„å¯¹ç§°å¯†é’¥ç®—æ³•ï¼›è¢«IBMå¼€å‘äº1975å¹´ï¼›å›ºå®šé•¿åº¦ä¸º56bitï¼›ç®—æ³•éå¸¸å¥½ï¼Œå¹¶æ²¡æœ‰ä»»ä½•æ¼æ´ï¼Œä»…ä»…å› ä¸ºå¯†é’¥é•¿åº¦å¤ªçŸ­ï¼Œæ˜“å—åˆ°æš´åŠ›ç ´è§£æ”»å‡»ã€‚DESå—åŠ å¯†çš„ä¸¤ç§æ¨¡å¼ï¼šç”µå­å¯†ç æœ¬ï¼ŒåŠ å¯†å—é“¾æ¥ï¼ˆæ€ç§‘IPSec VPNåªæ”¯æŒè¿™ç§æ¨¡å¼ï¼‰&lt;/li&gt;
&lt;li&gt;3DESï¼šå¯†é’¥é•¿åº¦æ”¾å¤§3å€ï¼Œé•¿åº¦168bitï¼›æš´åŠ›ç ´è§£å‡ ä¹ä¸èƒ½å®ç°ï¼›åŸºäºä¸€ä¸ªå¾ˆå¥½çš„ç®—æ³•DES&lt;/li&gt;
&lt;li&gt;AESï¼šé«˜çº§åŠ å¯†æ ‡å‡†ï¼Œåˆç§°RijndaelåŠ å¯†ç®—æ³•ï¼ŒAESåœ¨è½¯ä»¶åŠç¡¬ä»¶ä¸Šéƒ½èƒ½å¿«é€Ÿçš„åŠ è§£å¯†ï¼Œå˜é•¿å¯†é’¥å’Œå—é•¿åº¦ï¼Œå¹¿æ³›åº”ç”¨äºå¯¹æ— çº¿å’Œè¯­éŸ³çš„åŠ å¯†&lt;/li&gt;
&lt;li&gt;RC4ï¼šæµåŠ å¯†ç®—æ³•ï¼Œè½¯ä»¶è¿è¡Œæ•ˆç‡éå¸¸é«˜ï¼Œå¹¿æ³›ç”¨äºSSLåŠ å¯†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;éå¯¹ç§°å¼å¯†é’¥ç®—æ³•ï¼šä¸åŒçš„å¯†é’¥è¿›è¡ŒåŠ è§£å¯†ï¼Œä¾‹å¦‚RSAã€DHã€ECCã€‚å…¬å…±å¯†é’¥ç³»ç»Ÿï¼Œå¯†é’¥é•¿åº¦ä¸€èˆ¬åœ¨512~2048bitï¼Œå› ä¸ºå’Œå¯¹ç§°å¯†é’¥ç®—æ³•çš„æ•°æ®ç†è®ºæœ‰æœ¬è´¨çš„ä¸åŒï¼Œæ‰€ä»¥å¯†é’¥é•¿åº¦æ²¡æœ‰å¯æ¯”æ€§ã€‚&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼šä¸å¯¹ç§°å¯†é’¥ç®—æ³•ç›¸æ¯”éå¸¸æ…¢ï¼ŒåŸºäºå·²æœ‰çš„æ•°æ®éš¾é¢˜ï¼Œèƒ½å¤Ÿå®ç°ç®€å•çš„å¯†é’¥ç®¡ç†ï¼Œåªèƒ½åŠ å¯†å¾ˆå°çš„æ•°æ®ï¼Œä¸¤å¤§ç”¨é€”ä¸ºç­¾åå’Œå¯†é’¥äº¤æ¢
&lt;ol&gt;
&lt;li&gt;RSAï¼šå…¬å…±å¯†é’¥åŠ å¯†ç³»ç»Ÿï¼ŒåŸºäºå¤§ç´ æ•°å› å¼åˆ†è§£çš„æ•°å­¦éš¾é¢˜ï¼Œä¸å¯èƒ½ä»å…¬é’¥æ¨å¯¼å‡ºç§é’¥ï¼Œä¸€ä¸ªå¯†é’¥åŠ å¯†ï¼Œå¦ä¸€ä¸ªå¯†é’¥è§£å¯†ï¼Œè¿™äº›å¯†é’¥èƒ½å¤Ÿé•¿æ—¶é—´çš„ä¿éšœå®‰å…¨æ€§ã€‚ä»…ä»…ç”¨äºå¦‚ä¸‹ä¸¤ç§æœåŠ¡ï¼šåŠ å¯†å¯†é’¥ï¼Œå®ç°å¯†é’¥äº¤æ¢ï¼›åŠ å¯†æ•£åˆ—ï¼Œå®Œæˆæ•°å­—ç­¾åï¼Œå®ç°æºè®¤è¯å’Œä¸å¯å¦è®¤æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å“ˆå¸Œç®—æ³•&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å››å¤§ç‰¹ç‚¹ï¼šè®¡ç®—ç»“æœå›ºå®šé•¿åº¦ã€é›ªå´©æ•ˆåº”ã€å•å‘è¿ç®—ã€å†²çªé¿å…&lt;/li&gt;
&lt;li&gt;ä¸»æµçš„æ•£åˆ—ç®—æ³•æœ‰MD5å’ŒSHA-1ã€‚é€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°çš„ç»“æœå«åšæ•£åˆ—å€¼ï¼ˆæ•°æ®æŒ‡çº¹ï¼‰&lt;/li&gt;
&lt;li&gt;å“ˆå¸Œç®—æ³•çš„ä¸»è¦ç”¨é€”ï¼šè®¤è¯ã€ä½¿ç”¨æ•°å­—ç­¾åä¿éšœæ•°æ®çš„å®Œæ•´æ€§ã€‚å“ˆå¸Œç®—æ³•è§£å†³æ•°æ®å®Œæ•´æ€§é—®é¢˜ï¼ŒHMACï¼ˆå“ˆå¸Œæ¶ˆæ¯è®¤è¯ç ï¼‰è§£å†³äº†å®Œæ•´æ€§åŸºç¡€ä¹‹ä¸Šçš„æºè®¤è¯ï¼Œç‰¹åˆ«ä¸»è¦ä¿æŠ¤HAMCçš„é¢„å…±äº«å¯†é’¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°å­—ç­¾åå’Œæ•°å­—è¯ä¹¦&lt;/strong&gt;&lt;br&gt;
æ•°å­—ç­¾åèƒ½å¤Ÿå¸®æˆ‘ä»¬å®ç°ä¸¤ä¸ªåŠŸèƒ½ï¼šæ•°æ®å®Œæ•´æ€§éªŒè¯ï¼›æºè®¤è¯&lt;br&gt;
æ•°å­—è¯ä¹¦æŠ€æœ¯ï¼Œç”¨äºè§£å†³è°æ˜¯å…¬é’¥æŒæœ‰è€…çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€»ç»“ï¼š&lt;br&gt;
æ•°æ®çš„ç§å¯†æ€§ï¼šå¯¹ç§°åŠ å¯†ï¼›æ•°æ®çš„å®Œæ•´æ€§ï¼šå“ˆå¸Œï¼›æ•°æ®æ¥æºçš„è®¤è¯ï¼šHMACï¼›æ•°æ®æ”¶å‘çš„ä¸å¯å¦è®¤æ€§ï¼šæ•°æ®æŒ‡çº¹/æ•°å­—è¯ä¹¦&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596296422083.png&#34; alt=&#34;æ€ç§‘è®¾å¤‡æ•°æ®å¤„ç†æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;ipsecåŸºæœ¬ç†è®º&#34;&gt;IPSecåŸºæœ¬ç†è®º&lt;/h1&gt;
&lt;h2 id=&#34;ipsecæ¡†æ¶&#34;&gt;IPSecæ¡†æ¶&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596342996288.png&#34; alt=&#34;IPSecæ¡†æ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ç»„æˆ&#34;&gt;ç»„æˆ&lt;/h2&gt;
&lt;h3 id=&#34;espè´Ÿè½½å®‰å…¨å°è£…åè®®&#34;&gt;ESPï¼ˆè´Ÿè½½å®‰å…¨å°è£…ï¼‰åè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;IPåè®®å·50ï¼Œèƒ½å¤Ÿä¸ºæ•°æ®æä¾›ç§å¯†æ€§ã€å®Œæ•´æ€§å’Œæºè®¤è¯ï¼ŒåŒæ—¶å¯æŠµå¾¡é˜²é‡æ”¾æ”»å‡»ï¼ˆåå¤å‘é€ç›¸åŒçš„æŠ¥æ–‡ï¼Œæ¥æ”¶æ–¹è§£å¯†æ¶ˆè€—ç³»ç»Ÿèµ„æºè€Œå¯¼è‡´çš„DOSæ”»å‡»ï¼‰ï¼Œä¸å¯¹åŸå§‹IPå¤´éƒ¨è¿›è¡Œå®‰å…¨é˜²æŠ¤ã€‚&lt;/li&gt;
&lt;li&gt;ESPåŒ…ç»“æ„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596294363841.png&#34; alt=&#34;ESPåŒ…ç»“æ„&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;SPIï¼šå®‰å…¨å‚æ•°ç´¢å¼•ï¼Œæ˜¯ç¡®è®¤å•æ–¹å‘IPSec SAçš„æ ‡è¯†&lt;/li&gt;
&lt;li&gt;SAï¼šå®‰å…¨å…³è”ï¼Œå¯ä»¥ç†è§£ä¸ºå®šä¹‰äº†éœ€è¦åŠ å¯†çš„æ•°æ®çš„å¤„ç†æ–¹å¼ã€‚SAæ˜¯SADBçš„ä¸€ä¸ªæ¡ç›®ï¼Œå®ƒåŒ…å«åŒæ–¹å…³äºIKEå’ŒIPSecå·²ç»åå•†å®Œæ¯•çš„å®‰å…¨ä¿¡æ¯ã€‚ä»¥ä¸‹ä¸¤ç§ç±»å‹çš„SAéƒ½ç”±IKEåè®®åå•†äº§ç”Ÿï¼š
&lt;ul&gt;
&lt;li&gt;IKE or ISAKMP SAï¼šåŒå‘çš„ï¼›å†³å®šäº†IKEåè®®å¤„ç†ç›¸å…³ç»†èŠ‚&lt;/li&gt;
&lt;li&gt;IPSec SAï¼šå•å‘çš„ï¼›ä¸å°è£…åè®®ç›¸å…³ï¼›å†³å®šäº†å…·ä½“åŠ å¯†æµé‡çš„å¤„ç†æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;SADBï¼šå®‰å…¨å…³è”æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;Sequence numberï¼šç”¨æ¥æ ‡è¯†ä¸€ä¸ªæ•°æ®åŒ…ã€‚æ¥æ”¶æ–¹é€šè¿‡åºåˆ—å·æ¥é˜²æ­¢é‡æ”¾æ”»å‡»ï¼Œæ¥æ”¶æ–¹æ”¶åˆ°åºåˆ—å·ä¸ºxçš„ESPåŒ…ï¼Œå¦‚æœå†æ¬¡æ”¶åˆ°åºåˆ—å·ä¸ºxçš„æŠ¥æ–‡åˆ™è§†ä¸ºé‡æ”¾æ”»å‡»&lt;/li&gt;
&lt;li&gt;IVå­—æ®µï¼šå’ŒCBCå—åŠ å¯†æ–¹å¼æœ‰å…³ï¼Œæ¯ä¸ªæ•°æ®åŒ…éœ€è¦ä½¿ç”¨CBCåŠ å¯†çš„æ•°æ®ç”Ÿæˆä¸€ä¸ªéšæœºå€¼ï¼Œç”¨äºå¯¹æ•°æ®è¿›è¡Œæ‰°ä¹±ï¼Œè¯¥éšæœºå€¼å³ä¸ºIVå­—æ®µ&lt;/li&gt;
&lt;li&gt;Next Headerï¼šå¦‚æœæ˜¯éš§é“æ¨¡å¼ï¼Œä¸‹ä¸€ä¸ªå¤´éƒ¨ä¸€å®šæ˜¯IP&lt;/li&gt;
&lt;li&gt;Authenticationï¼šESPå¯¹ESPå¤´éƒ¨åˆ°ESPå°¾éƒ¨æ‰€æœ‰æ•°æ®éƒ½è¿›è¡ŒéªŒè¯ï¼Œå³åšHMACçš„æ•£åˆ—è®¡ç®—ï¼Œå¾—åˆ°çš„å€¼ä¼šæ”¾åˆ°è®¤è¯æ•°æ®éƒ¨åˆ†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è®¤è¯å¤´ahåè®®&#34;&gt;è®¤è¯å¤´ï¼ˆAHï¼‰åè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;IPåè®®å·51ï¼Œæ•°æ®ä¸èƒ½åŠ å¯†ï¼ˆ&lt;strong&gt;ç¬¬ä¸€ä¸ªé—®é¢˜&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;AHåŒ…ç»“æ„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596295226046.png&#34; alt=&#34;AHåŒ…ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;AHä¿æŠ¤çš„IPå¤´éƒ¨å­—æ®µï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596295386779.png&#34; alt=&#34;AHä¿æŠ¤çš„IPå¤´éƒ¨å­—æ®µ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å› ä¸ºIPåœ°å€è¢«è®¤ä¸ºæ˜¯éœ€è¦è¢«è®¤è¯çš„ï¼Œæ‰€ä»¥å¦‚æœIPSec VPNä½¿ç”¨AHå°è£…ï¼Œå°±ä¸èƒ½ç©¿è¶ŠNATï¼ˆ&lt;strong&gt;ç¬¬äºŒä¸ªé—®é¢˜&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;internetå¯†é’¥äº¤æ¢ikeåè®®&#34;&gt;Internetå¯†é’¥äº¤æ¢ï¼ˆIKEï¼‰åè®®&lt;/h3&gt;
&lt;p&gt;IKEè´Ÿè´£å»ºç«‹å’Œç»´æŠ¤IKE SAså’ŒIPSec SAsã€‚åŠŸèƒ½ä¸»è¦ä½“ç°åœ¨å¦‚ä¸‹å‡ ä¸ªæ–¹é¢ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹åŒæ–¹è¿›è¡Œè®¤è¯&lt;/li&gt;
&lt;li&gt;äº¤æ¢å…¬å…±å¯†é’¥ï¼Œäº§ç”Ÿå¯†é’¥èµ„æºï¼Œç®¡ç†å¯†é’¥&lt;/li&gt;
&lt;li&gt;åå•†åè®®å‚æ•°ï¼ˆå°è£…ã€åŠ å¯†ã€è®¤è¯ç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ikeçš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†&#34;&gt;IKEçš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†&lt;/h4&gt;
&lt;p&gt;IKEæ˜¯ä¸€ä¸ªæ··åˆåè®®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SKEMEï¼šå®ç°å…¬é’¥åŠ å¯†è®¤è¯çš„æœºåˆ¶ã€‚å®šä¹‰å¦‚ä½•é€šè¿‡å…¬å…±å¯†é’¥æŠ€æœ¯ï¼ˆDHç®—æ³•ï¼‰å®ç°å¯†é’¥äº¤æ¢&lt;/li&gt;
&lt;li&gt;Oakleyï¼šåŸºäºåˆ°è¾¾ä¸¤ä¸ªå¯¹ç­‰ä½“é—´çš„åŠ å¯†å¯†é’¥çš„æœºåˆ¶ã€‚æä¾›äº†IPSecå¯¹å„ç§æŠ€æœ¯çš„æ”¯æŒï¼Œä¾‹å¦‚å¯¹æ–°çš„åŠ å¯†ä¸æ•£åˆ—æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;ISAKMPï¼šå®šä¹‰äº†æ¶ˆæ¯äº¤æ¢çš„ä½“ç³»ç»“æ„ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªIPSecå¯¹ç­‰ä½“é—´åˆ†ç»„å½¢å¼å’ŒçŠ¶æ€è½¬æ¢ï¼ˆ&lt;code&gt;å®šä¹‰å°è£…æ ¼å¼å’Œåå•†åŒ…äº¤æ¢çš„æ–¹å¼&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;IKEå’ŒISAKMPçš„åŒºåˆ«&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é…ç½®IPSec VPNçš„æ—¶å€™ä¸»è¦é…ç½®çš„æ˜¯ISAKMPï¼Œæ‰€ä»¥å¸¸å¸¸è®¤ä¸ºIKEå’ŒISAKMPæ˜¯ç›¸åŒçš„ã€‚ç”±äºSKEMEçš„å­˜åœ¨ï¼ŒIKEèƒ½å¤Ÿå†³å®šå¯†é’¥äº¤æ¢çš„æ–¹å¼ï¼Œä½†ISAKMPåªèƒ½å¤Ÿä¸ºå¯†é’¥äº¤æ¢äº¤æ¢ä¿¡æ¯ï¼Œä½†æ˜¯ä¸èƒ½å†³å®šå¯†é’¥äº¤æ¢å¦‚ä½•å®ç°ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ikeçš„3ä¸ªæ¨¡å¼å’Œä¸¤ä¸ªé˜¶æ®µ&#34;&gt;IKEçš„3ä¸ªæ¨¡å¼å’Œä¸¤ä¸ªé˜¶æ®µ&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596343359168.png&#34; alt=&#34;IKEçš„3ä¸ªæ¨¡å¼å’Œä¸¤ä¸ªé˜¶æ®µ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;ä¸»æ¨¡å¼ç¬¬ä¸€é˜¶æ®µ&#34;&gt;ä¸»æ¨¡å¼ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596343626771.png&#34; alt=&#34;ä¸»æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¿¡æ¯è¢«å°è£…åœ¨UDPåŒ…ä¸­ï¼Œç›®çš„ç«¯å£ä¸ºUDP/500&lt;br&gt;
6ä¸ªæŠ¥æ–‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘èµ·æ–¹æä¾›åŠ å¯†å’ŒéªŒè¯ç®—æ³•&lt;/li&gt;
&lt;li&gt;å“åº”æ–¹å›åº”æ¥æ”¶çš„ææ¡ˆ&lt;/li&gt;
&lt;li&gt;å‘èµ·æ–¹çš„DHå…¬å…±å€¼å’Œéšæœºæ•°&lt;/li&gt;
&lt;li&gt;å“åº”æ–¹çš„DHå…¬å…±å€¼å’Œéšæœºæ•°&lt;/li&gt;
&lt;li&gt;å‘èµ·æ–¹çš„ç­¾åã€ä¸ªäººä¿¡æ¯ã€å¯†é’¥&lt;/li&gt;
&lt;li&gt;å“åº”æ–¹çš„ç­¾åã€ä¸ªäººä¿¡æ¯ã€å¯†é’¥&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596344219028.png&#34; alt=&#34;1-2åå•†ç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596344818728.png&#34; alt=&#34;DHç®—æ³•ç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;ç›¸äº’è®¤è¯
&lt;ol&gt;
&lt;li&gt;1-2ä¸ªåŒ…åå•†çš„è®¤è¯ã€åŠ å¯†å’ŒéªŒè¯æ–¹å¼éƒ½æ˜¯ä¸º5-6åŒ…è®¤è¯æœåŠ¡çš„&lt;/li&gt;
&lt;li&gt;3-4ä¸ªåŒ…DHäº¤æ¢è®¡ç®—å‡ºæ¥çš„å¯†é’¥ä¹Ÿæ˜¯ä¸ºåŠ å¯†å’ŒéªŒè¯ï¼ˆHMACï¼‰5-6åŒ…è€Œæå‰å‡†å¤‡çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å»ºç«‹IKE/ISAKMP SAï¼ˆåŒå‘ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¿«é€Ÿæ¨¡å¼ç¬¬äºŒé˜¶æ®µ&#34;&gt;å¿«é€Ÿæ¨¡å¼ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596345191856.png&#34; alt=&#34;å¿«é€Ÿæ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
3ä¸ªæŠ¥æ–‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;HASHå€¼ã€SAææ¡ˆã€IPSecè½¬æ¢é›†ã€å¯†é’¥ææ–™å’Œæ„Ÿå…´è¶£æµ&lt;/li&gt;
&lt;li&gt;ç›¸åº”æ–¹çš„HASHå€¼ã€æ¥å—çš„SAææ¡ˆã€å“åº”æ–¹çš„SPIã€å¯†é’¥&lt;/li&gt;
&lt;li&gt;HASHç”¨äºç¡®è®¤éš§é“å»ºç«‹&lt;br&gt;
&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;åå•†IPSecç­–ç•¥ï¼ˆå¤„ç†æ„Ÿå…´è¶£æµï¼‰&lt;/li&gt;
&lt;li&gt;å»ºç«‹IPSec SA
&lt;ol&gt;
&lt;li&gt;å•å‘&lt;/li&gt;
&lt;li&gt;åè®®ç›¸å…³&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å·¥ä½œæ¨¡å¼&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;é€šä¿¡ç‚¹ï¼šæ”¶å‘æ•°æ®èŠ‚ç‚¹&lt;br&gt;
åŠ è§£å¯†ç‚¹ï¼šè´Ÿè´£åŠ è§£å¯†çš„èŠ‚ç‚¹&lt;/p&gt;
&lt;h3 id=&#34;ä¼ è¾“æ¨¡å¼&#34;&gt;ä¼ è¾“æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ä¼ è¾“æ¨¡å¼&lt;strong&gt;åªåŠ å¯†IPè´Ÿè½½&lt;/strong&gt;ï¼Œé€‚åˆäºé€šä¿¡ç‚¹å’ŒåŠ è§£å¯†ç‚¹ä½äºç›¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œå³ä¸åŠ å¯†ä¹Ÿèƒ½æ­£å¸¸é€šä¿¡çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;éš§é“æ¨¡å¼lan-to-lan&#34;&gt;éš§é“æ¨¡å¼ï¼ˆlan to lanï¼‰&lt;/h3&gt;
&lt;p&gt;é€‚åˆäºé€šä¿¡ç‚¹å’ŒåŠ è§£å¯†ç‚¹ä½äºä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œå³åŒå‘æ— æ³•é€šä¿¡ï¼Œç»è¿‡IPSecéš§é“ä¹‹åå¯ä»¥é€šä¿¡äº†ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596293506427.png&#34; alt=&#34;éš§é“æ¨¡å¼ç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596293574910.png&#34; alt=&#34;éš§é“æ¨¡å¼å®ä¾‹åˆ†æ&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ipsecçš„ä¸¤ä¸ªæ•°æ®åº“&#34;&gt;IPSecçš„ä¸¤ä¸ªæ•°æ®åº“&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†å®ç°IPSecçš„äº’æ“ä½œæ€§ï¼ŒIPSecæ¨¡å‹æè¿°äº†ä¸¤ä¸ªæ•°æ®åº“&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SPD å®‰å…¨ç­–ç•¥æ•°æ®åº“ã€‚å†³å®šäº†ä»€ä¹ˆæµé‡å°†æ¥å—IPSecå¤„ç†&lt;/li&gt;
&lt;li&gt;SADB å®‰å…¨å…³è”æ•°æ®åº“ã€‚ç»´æŠ¤æ¯ä¸€ä¸ªSAï¼ˆå®‰å…¨å…³è”ï¼‰åŒ…å«çš„å‚æ•°ï¼Œæœ¬è´¨ä¸ºACLã€‚&lt;br&gt;
åœ¨SADBé‡Œé¢çš„æ¯ä¸€ä¸ªæ¡ç›®å†³å®šäº†ä¸€ä¸ªç‰¹å®šSAçš„å‚æ•°ï¼Œå½“ä¸€ä¸ªIPSec SAè¢«åˆ›å»ºï¼ŒSADBæ›´æ–°æ‰€æœ‰å…³äºè¿™ä¸ªSAçš„å‚æ•°ã€‚&lt;br&gt;
å½“ä¸€ä¸ªinbound IPSecæ•°æ®åŒ…æŠµè¾¾ï¼ŒSADBåŸºäºå¤–å±‚IPå¤´éƒ¨çš„ç›®çš„åœ°å€ã€SPIå’ŒIPSecå°è£…åè®®ï¼ˆESP/AHï¼‰æ£€ç´¢æ•°æ®åº“ä»¥è·å¾—ç›¸åº”çš„SAï¼Œç„¶åç”¨è¿™ä¸ªSAçš„ç›¸å…³å‚æ•°å¤„ç†è¿™ä¸ªinbound IPSecæ•°æ®åŒ…ã€‚&lt;br&gt;
å¯¹äºoutbound IPSecæ•°æ®åŒ…å¤„ç†çš„ç›¸å…³å‚æ•°ï¼Œæ˜¯ç”±SPDç›¸å…³è”çš„SAæ¥è·å–çš„ã€‚&lt;br&gt;
åŒ…å«9å¤§éƒ¨åˆ†ï¼šSequence numberã€Sequence number overflowã€Anti-replay windowã€SA lifetimeã€Modesã€AH authentication algorithmã€ESP authentication algorithmã€ESP encryption algorithmã€Path MTU&lt;br&gt;
&lt;strong&gt;SPDå’ŒSADBç¤ºæ„å›¾&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596297505442.png&#34; alt=&#34;SPDå’ŒSADBç¤ºæ„å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä½¿ç”¨svtiå®ç°ç«™ç‚¹é—´é€šä¿¡&#34;&gt;ä½¿ç”¨SVTIå®ç°ç«™ç‚¹é—´é€šä¿¡&lt;/h2&gt;
&lt;p&gt;SVTIï¼šé™æ€è™šæ‹Ÿéš§é“æ¥å£ã€‚&lt;br&gt;
ç›¸æ¯”åŠ å¯†GREéš§é“æµé‡ï¼ŒèŠ‚çœäº†GREå¤´éƒ¨æ‰€å çš„MTUã€‚&lt;/p&gt;
&lt;h3 id=&#34;gre-over-ipsec-ä¸svtiçš„åŒºåˆ«&#34;&gt;GRE over IPSec ä¸SVTIçš„åŒºåˆ«&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ¨¡å¼&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ä½•ç§æ–¹å¼&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åŸç†&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ä¼˜ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;GRE over IPSec&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ è¾“æ¨¡å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;GREå…ˆåˆ›å»ºéš§é“ï¼Œç„¶åIPSecä¿æŠ¤åˆ›å»ºçš„éš§é“&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯ä»¥è¿è¡ŒåŠ¨æ€è·¯ç”±åè®®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;SVTI&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨IPSec ipv4éš§é“æ¨¡å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç›´æ¥ä½¿ç”¨IPSecæ¥åˆ›å»ºä¸€ä¸ªVTIéš§é“æ¥å£&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯ä»¥è¿è¡ŒåŠ¨æ€è·¯ç”±åè®®ï¼Œæ¯”GRE over IPSecå°‘4å­—èŠ‚çš„GREå¤´éƒ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;vpnè§¦å‘è¿‡ç¨‹åŒ…å¤„ç†æµç¨‹&#34;&gt;VPNè§¦å‘è¿‡ç¨‹ï¼ˆåŒ…å¤„ç†æµç¨‹ï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ•°æ®åŒ…è¿›å…¥VPNè®¾å¤‡ï¼Œæ£€æŸ¥è¿œç«¯é€šä¿¡ç‚¹çš„è·¯ç”±ï¼Œè·¯ç”±å¼•å¯¼æµé‡å‡ºé€‚å½“çš„æ¥å£&lt;/li&gt;
&lt;li&gt;åŒ…åœ¨å‡ºæ¥å£è¿‡ç¨‹ä¸­æ’å‡»ä¸ŠMAP&lt;/li&gt;
&lt;li&gt;æµé‡åŒ¹é…ä¸ŠMAPçš„ACLï¼ˆæ„Ÿå…´è¶£æµï¼‰ï¼Œè§¦å‘åŠ å¯†&lt;/li&gt;
&lt;li&gt;å‘èµ·å’ŒPEERçš„IKEåå•†ï¼ŒVPNè®¾å¤‡æ£€æŸ¥å»å¾€PEERï¼ˆè¿œç«¯åŠ å¯†ç‚¹ï¼‰çš„è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596384039954.png&#34; alt=&#34;åŒ…å¤„ç†æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åŠ¨æ€vpnds-vpnåŠ¨æ€æ™ºèƒ½&#34;&gt;åŠ¨æ€VPNï¼ˆDS VPNï¼ŒåŠ¨æ€æ™ºèƒ½ï¼‰&lt;/h1&gt;
&lt;h2 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç›¸æ¯”è¾ƒä¼ ç»Ÿçš„é™æ€L2L VPNï¼Œæœ€æ˜¾è‘—çš„ç‰¹ç‚¹å°±æ˜¯&lt;strong&gt;èµ„æºæŒ‰éœ€æ¶ˆè€—&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é™æ€éš§é“+åŠ¨æ€éš§é“çš„æ–¹å¼ï¼Œå®ç°&lt;strong&gt;å…¨äº’è”&lt;/strong&gt;çš„è¿é€šæ€§çš„æ¶æ„&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯ç«™ç‚¹Spokeå¯ä»¥ä½¿ç”¨&lt;strong&gt;åŠ¨æ€åœ°å€&lt;/strong&gt;ï¼Œç”šè‡³æ”¯æŒç»è¿‡NAT&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²å®Œæˆåï¼Œå¢åŠ æ–°çš„åˆ†æ”¯ç«™ç‚¹Spokeï¼Œ&lt;strong&gt;ä¸éœ€è¦åŠ¨ä¸­å¿ƒHub&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†æ”¯ç«™ç‚¹çš„é…ç½®å‡ ä¹ä¹Ÿå¾ˆç›¸ä¼¼&lt;/strong&gt;ï¼Œèƒ½å¤Ÿéå¸¸å¿«é€Ÿçš„éƒ¨ç½²æ–°çš„åŠå…¬ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;åˆ†æ”¯ç«™ç‚¹ä¹‹é—´&lt;strong&gt;åŠ¨æ€çš„è§¦å‘éš§é“&lt;/strong&gt;ï¼Œç«™ç‚¹ä¹‹é—´é€šä¿¡æµé‡&lt;strong&gt;æ— éœ€ç©¿è¶ŠHub&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç«™ç‚¹ä¹‹é—´æµé‡&lt;strong&gt;ä½¿ç”¨IPSecåŠ å›º&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é›¶ä¸¢åŒ…&lt;/li&gt;
&lt;li&gt;æ”¯æŒåŠ¨æ€è·¯ç”±åè®®OSPFã€BGPã€EIGRP&lt;/li&gt;
&lt;li&gt;æ”¯æŒHub-Spokeä¹‹é—´çš„ç»„æ’­æµé‡&lt;/li&gt;
&lt;li&gt;æ”¯æŒè¿è¡Œåœ¨MPLSä¹‹ä¸Š&lt;/li&gt;
&lt;li&gt;æ”¯æŒè™šæ‹Ÿè·¯ç”±è½¬å‘VRF ï¼ˆi-VRFã€F-VRFï¼‰&lt;/li&gt;
&lt;li&gt;æ‹¥æœ‰è‡ªæ„ˆèƒ½åŠ›&lt;/li&gt;
&lt;li&gt;æ”¯æŒé«˜å¯ç”¨æ€§ï¼ˆä¸»å¤‡ï¼‰ã€å¼¹æ€§è®¾è®¡ï¼ˆè´Ÿè½½ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596441037496.png&#34; alt=&#34;DMVPN&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯éƒ¨ç½²æ–¹æ¡ˆ&#34;&gt;åº”ç”¨åœºæ™¯ï¼ˆéƒ¨ç½²æ–¹æ¡ˆï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ªHub&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596442270555.png&#34; alt=&#34;ä¸€ä¸ªHub&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ä¸»å¤‡Hub&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596442284810.png&#34; alt=&#34;ä¸»å¤‡Hub&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åŒHub&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596442290629.png&#34; alt=&#34;åŒHub&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å±‚æ¬¡åŒ–è®¾è®¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596442393302.png&#34; alt=&#34;å±‚æ¬¡åŒ–è®¾è®¡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç»„æˆ-2&#34;&gt;ç»„æˆ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¤šç‚¹GREéš§é“mGREï¼šç«™ç‚¹é—´è¿é€šæ€§ã€‚mGREçš„IPåè®®å·ä¸GREä¸€æ ·éƒ½æ˜¯47&lt;/li&gt;
&lt;li&gt;ä¸‹ä¸€è·³è§£æNHRPï¼šæ³¨å†Œã€è§£æã€è·¯ç”±ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;åŠ¨æ€è·¯ç”±åè®®ï¼šè·¯ç”±ä¼ é€’ã€ä¸‹ä¸€è·³ä¼˜åŒ–&lt;/li&gt;
&lt;li&gt;IPSecï¼šæµé‡åŠ å›º&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;dmvpnå†å²å‘å±•&#34;&gt;DMVPNå†å²å‘å±•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€é˜¶æ®µï¼šæ˜Ÿå‹æ‹“æ‰‘è®¾è®¡Hub-to-Spoke&lt;br&gt;
DMVPNç¬¬ä¸€é˜¶æ®µçš„æ˜Ÿå‹æ‹“æ‰‘è®¾è®¡æ˜¯DMVPNæŠ€æœ¯çš„æœ€åŸå§‹é˜¶æ®µï¼Œé™¤äº†&lt;strong&gt;ä¸­å¿ƒç«™ç‚¹ä¸ºmGREéš§é“ï¼Œæ‰€æœ‰åˆ†æ”¯ç«™ç‚¹å‡ä¸ºæ™®é€šçš„ç‚¹å¯¹ç‚¹GREéš§é“&lt;/strong&gt;ã€‚åˆ†æ”¯ç«™ç‚¹é—´çš„æµé‡éƒ½å¿…é¡»ç»è¿‡ä¸­å¿ƒç«™ç‚¹è¿›è¡Œè½¬å‘ã€‚ç¬¬ä¸€é˜¶æ®µæ˜Ÿå‹æ‹“æ‰‘DMVPNçš„ä¼˜åŠ¿åœ¨äºï¼Œå¢åŠ åˆ†æ”¯ç«™ç‚¹å¹¶ä¸ä¼šå¢åŠ ä¸­å¿ƒç«™ç‚¹çš„é…ç½®é‡ï¼Œå¹¶ä¸”åˆ†æ”¯ç«™ç‚¹æ”¯æŒåŠ¨æ€è·å–IPåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒé˜¶æ®µï¼šè™šæ‹Ÿç½‘æ‹“æ‰‘è®¾è®¡Spoke-to-Spoke&lt;br&gt;
åœ¨DMVPNç¬¬äºŒé˜¶æ®µçš„è™šæ‹Ÿç½‘çŠ¶æ‹“æ‰‘è®¾è®¡ä¸­ï¼Œ&lt;strong&gt;æ‰€æœ‰ç«™ç‚¹é…ç½®mGREéš§é“&lt;/strong&gt;ã€‚ä¸­å¿ƒç«™ç‚¹ä¸åˆ†æ”¯ç«™ç‚¹é—´ç»´æŠ¤ä¸€ä¸ªæ°¸æ’éš§é“ï¼Œ&lt;strong&gt;åˆ†æ”¯ç«™ç‚¹ä¸åˆ†æ”¯ç«™ç‚¹é—´æŒ‰éœ€å»ºç«‹éš§é“ï¼Œå½¢æˆè™šæ‹Ÿç½‘çŠ¶æ‹“æ‰‘&lt;/strong&gt;ï¼ŒçœŸæ­£å®ç°DMVPNçš„é«˜æ‰©å±•æ€§ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰é˜¶æ®µï¼šå±‚æ¬¡åŒ–ï¼ˆæ ‘çŠ¶ï¼‰è®¾è®¡Hierarchical (Tree-Based) Design&lt;br&gt;
DMVPNç¬¬ä¸‰é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µåŸºæœ¬ä¸€è‡´ï¼Œ&lt;strong&gt;æ‰€æœ‰ç«™ç‚¹éƒ½ä½¿ç”¨mGRE&lt;/strong&gt;ã€‚ ç¬¬ä¸‰é˜¶æ®µä¸»è¦å¯¹å¤§è§„æ¨¡çš„DMVPNå®æ–½ä¼˜åŒ–è°ƒæ•´ï¼Œ&lt;strong&gt;æ•´ä½“å‘ˆç°æ ‘çŠ¶æ‹“æ‰‘&lt;/strong&gt;ã€‚ä¸­å¿ƒç«™ç‚¹å’Œåˆ†æ”¯ä¹‹é—´åªéœ€è¦ç»´æŒä¸€æ¡VPNéš§é“å³å¯ï¼ŒSpokeå’ŒSpokeä¹‹é—´é€šè®¯æ˜¯æŒ‰éœ€å»ºç«‹éš§é“ï¼Œå¯ä»¥å®ç°è™šæ‹Ÿå…¨äº’è¿çš„æ•ˆæœï¼ŒçœŸæ­£çš„å®ç°äº†DMVPNçš„é«˜æ‰©å±•æ€§ã€‚&lt;strong&gt;Spoke-to-Spokeçš„æµé‡æ— éœ€é€šè¿‡ä¸­å¿ƒç«™ç‚¹è¿›è¡Œè½¬å‘&lt;/strong&gt;ï¼Œé€šè¿‡åŠ¨æ€å»ºç«‹çš„éš§é“ï¼Œå¯ä»¥ä½¿é€šè®¯åŒæ–¹ç›´æ¥é€šè®¯ï¼Œç›¸å¯¹äºç¬¬ä¸€é˜¶æ®µçš„DMVPNçš„ä¼˜åŠ¿åœ¨äºå‡å°‘äº†ä¸­å¿ƒæ€§èƒ½çš„æ¶ˆè€—ï¼Œä¿è¯äº†ä¸­å¿ƒçš„å¸¦å®½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬äºŒé˜¶æ®µ vs ç¬¬ä¸‰é˜¶æ®µ  NHRPçš„å·¥ä½œæ–¹å¼æœ‰æ‰€ä¸åŒ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;äºŒé˜¶æ®µï¼Œä¸»è¦ç”±åŠ¨æ€è·¯ç”±åè®®è´Ÿè´£è·¯ç”±ä¸‹ä¸€è·³ä¼˜åŒ–&lt;br&gt;
ä¸‰é˜¶æ®µï¼Œä¸»è¦ç”±NHRPè´Ÿè´£ä¸‹ä¸€è·³ä¼˜åŒ–ï¼Œæ”¯æŒè·¯ç”±æ±‡æ€»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596468895416.png&#34; alt=&#34;éš§é“å¤„ç†æ–¹æ³•æ¯”è¾ƒè¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;p&gt;å®éªŒæ‹“æ‰‘å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596290894542.png&#34; alt=&#34;å®éªŒæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é¢„é…ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R2
sys
sys R2
int g0/0/0
ip addr 192.168.1.254 24
int g0/0/1
ip addr 202.100.1.1 24
# R3
sys
sys R3
int lo 0
ip addr 1.2.3.4 32
int g0/0/0
ip addr 202.100.1.254 24
int g0/0/1
ip addr 61.128.1.254 24
# R4
sys
sys R4
int g0/0/0
ip addr 10.1.1.254 24
int g0/0/1
ip addr 61.128.1.1 24
# PC1
192.168.1.1/24  GW:192.168.1.254
# PC2
10.1.1.1/24  GW:10.1.1.254
# é…ç½®è·¯ç”±
# R2
ip route-static 61.128.1.0 24 202.100.1.254
# ip route-static 10.1.1.0 24 202.100.1.254
# R4
ip route-static 202.100.1.0 24 61.128.1.254
# ip route-static 192.168.1.0 24 61.128.1.254
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸€ä½¿ç”¨ä¼ è¾“æ¨¡å¼åŠ å¯†éš§é“å†…æµé‡ipsec-lan-to-lan-vpnçš„éƒ¨ç½²&#34;&gt;å®éªŒä¸€ï¼šä½¿ç”¨ä¼ è¾“æ¨¡å¼åŠ å¯†éš§é“å†…æµé‡ï¼ˆIPSec LAN to LAN VPNçš„éƒ¨ç½²ï¼‰&lt;/h2&gt;
&lt;p&gt;å›é¡¾GREï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPåè®®å·47&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡æ ¼å¼ï¼šIP:GRE:IP:ip payload&lt;/li&gt;
&lt;li&gt;æœ‰æ˜ç¡®çš„æºå’Œç›®çš„ï¼Œæµé‡ç›´æ¥å°è£…è¿›å•æ’­ï¼ŒåŒ…æ‹¬åŠ¨æ€è·¯ç”±åè®®çš„ç»„æ’­æŠ¥æ–‡äº¤äº’ï¼Œä½†æ²¡æœ‰ä»»ä½•å®‰å…¨æœºåˆ¶&lt;br&gt;
GRE over IPSecï¼ŒåŠ å¯†ç‚¹å’Œé€šä¿¡ç‚¹æ˜¯åŒä¸€è®¾å¤‡ï¼ˆIPSecçœ‹çš„æ˜¯æœ€å¤–å±‚IPå¤´éƒ¨ï¼‰ï¼Œæ¨èä½¿ç”¨ä¼ è¾“æ¨¡å¼&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/li&gt;
&lt;li&gt;ä½¿èƒ½OSPFå¹¶ç¡®ä¿PC1å’ŒPC2å¯ä»¥é€šä¿¡&lt;/li&gt;
&lt;li&gt;åœ¨VRPä¸Šéƒ¨ç½²åŸºäºGREçš„L2L VPN
&lt;ul&gt;
&lt;li&gt;å‡†å¤‡éƒ¨ç½²é€šè¿‡ipsecä¿æŠ¤VPNæµé‡çš„æ–¹æ¡ˆã€‚é¦–è¦é—®é¢˜ï¼Œå³å®šä¹‰å¥½é€‰æ‹©å™¨
&lt;ul&gt;
&lt;li&gt;æ–¹æ¡ˆä¸€ï¼šåœ¨ç‰©ç†å‡ºæ¥å£ä¸‹ã€ä½¿ç”¨ä¼ è¾“æ¨¡å¼ã€åŠ å¯†æ‰€æœ‰GREå°è£…çš„æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;æ–¹æ¡ˆäºŒï¼šåœ¨éš§é“ä¸‹ã€ä½¿ç”¨ä¼ è¾“æ¨¡å¼ã€åŠ å¯†æ‰€æœ‰è´Ÿè½½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ­¥éª¤ï¼š
&lt;ul&gt;
&lt;li&gt;å®šä¹‰IKEææ¡ˆ&lt;/li&gt;
&lt;li&gt;å®šä¹‰IKEå¯¹ç­‰ä½“ä»¥åŠé¢„å…±äº«å¯†é’¥&lt;/li&gt;
&lt;li&gt;å®šä¹‰ipsecææ¡ˆ&lt;/li&gt;
&lt;li&gt;å®šä¹‰ipsecå’Œikeçš„ç­–ç•¥é›†&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®GREéš§é“
# R2
int tunnel 0/0/0
tunnel-protocol gre
source g0/0/1
destination 61.128.1.1
ip addr 12.1.1.1 30
# R4
int tunnel 0/0/0
tunnel-protocol gre
source g0/0/1
destination 202.100.1.1
ip addr 12.1.1.2 30

#---------------------------------------

# æ‰“é€šVPNé€šé“ï¼ˆå³PC1å¯ä»¥è®¿é—®PC2ï¼‰ 
# R2
ospf 1
a 0
int g0/0/0
ospf en 1 a 0
int t0/0/0
ospf en 1 a 0
# R4
ospf 1
a 0
int g0/0/0
ospf en 1 a 0
int t0/0/0
ospf en 1 a 0

#---------------------------------------

# åœ¨VRPä¸Šéƒ¨ç½²åŸºäºGREçš„L2L VPN
# R2
#1.  å®šä¹‰æ„Ÿå…´è¶£æµ
acl name GRE 3333   
rule permit gre
#2. å®šä¹‰IKEææ¡ˆï¼Œæ­¤å¤„ä½¿ç”¨é»˜è®¤ç­–ç•¥ï¼ˆä»…åˆ›å»ºï¼‰
ike proposal 10  
q   # æŸ¥çœ‹é»˜è®¤ç­–ç•¥ï¼šdis ike proposal
#3. å®šä¹‰å¯¹ç­‰ä½“ä»¥åŠè°ƒç”¨IKEææ¡ˆ
ike peer 2424 v1  # ä½¿ç”¨IKEv1
pre-shared-key simple qytang666
ike-proposal 10
remote-address 61.128.1.1  # ã€æ³¨æ„ï¼šæ­¤å¤„é€šä¿¡ä¸¤ç«¯è®¾ç½®æ—¶ä¸ç›¸åŒï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸€æ ·ï¼ˆç¬¬6æ­¥è°ƒç”¨çš„æ¥å£ä¹Ÿæœ‰å¯èƒ½ä¸åŒï¼‰ã€‘
q
# 4. å®šä¹‰IPSecææ¡ˆ
ipsec proposal QYT
esp authentication-algorithm sha1
esp encryption-algorithm 3des
encapsulation-mode transport    # é€‰æ‹©ä¼ è¾“æ¨¡å¼ï¼ˆé»˜è®¤æ˜¯éš§é“æ¨¡å¼ï¼‰
q
# 5. å®šä¹‰IPSecæ•´åˆç­–ç•¥
ipsec policy L2L 10 isakmp
security acl 3333    # è°ƒç”¨æ„Ÿå…´è¶£æµ
ike-peer 2424   # è°ƒç”¨IKEææ¡ˆ
proposal QYT  # è°ƒç”¨IPSecææ¡ˆ
q
# 6. è°ƒç”¨
int g0/0/1
ipsec policy L2L

# R4
acl name GRE 3333
rule permit gre
ike proposal 10
q
ike peer 2424 v1
pre-shared-key simple qytang666
ike-proposal 10
remote-address 202.100.1.1
q
ipsec proposal QYT
esp authentication-algorithm sha1
esp encryption-algorithm 3des
encapsulation-mode transport 
q
ipsec policy L2L 10 isakmp
security acl 3333
ike-peer 2424
proposal QYT
q
int g0/0/1
ipsec policy L2L

#---------------------------------------

# éªŒè¯ï¼šR2/4
dis ike peer  # IKEå¯¹ç­‰ä½“
dis ike proposal  # IKEç­–ç•¥
dis ike sa  # SA
dis ike statistics v1  # IKEv1ç»Ÿè®¡ä¿¡æ¯
dis ipsec sa
dis ipsec sa brief
dis ipsec int brief
dis ipsec proposal
dis ipsec statistics esp
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒæ–°çš„gre-over-ipsecé…ç½®æ— éœ€å®šä¹‰æ„Ÿå…´è¶£æµå¯æ‰©å±•æ€§æ¯”è¾ƒå¼º&#34;&gt;å®éªŒäºŒï¼šæ–°çš„GRE over IPSecé…ç½®ï¼ˆæ— éœ€å®šä¹‰æ„Ÿå…´è¶£æµï¼Œå¯æ‰©å±•æ€§æ¯”è¾ƒå¼ºï¼‰&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# -------------------------------å®Œæ•´é…ç½®
# å®šä¹‰IKEææ¡ˆ
# ike proposal 1
# å®šä¹‰IKEå¯¹ç­‰ä½“ç­–ç•¥åŠè°ƒç”¨æ–¹æ¡ˆ
# ike peer QYT v1  
# pre-shared-key simple qytang666
# ike-proposal 1
# å®šä¹‰IPSecææ¡ˆ
# ipsec proposal QYT
# encapsulation-mode transport 
# å®šä¹‰IPSec profile
# ipsec profile QYT
# ike-peer QYT
# proposal QYT
# è°ƒç”¨
# int t0/0/0
# shutdown
# ipsec profile QYT


# -------------------------------æ‰¿æ¥ä¸Šä¸ªå®éªŒé…ç½®
# æ¸…é™¤æ— ç”¨é…ç½®
# R2
int g0/0/1
undo ipsec policy
q
undo ipsec policy L2L 10
ike peer 2424 v1
undo remote-address
q
undo acl 3333
# R4
int g0/0/1
undo ipsec policy
q
undo ipsec policy L2L 10
ike peer 2424 v1
undo remote-address
q
undo acl 3333
# ä½¿ç”¨æ–°æ–¹æ¡ˆé…ç½®
# R2
ipsec profile L2L
ike-peer 2424
proposal QYT
int t0/0/0
ipsec profile L2L

# R4
ipsec profile L2L
ike-peer 2424
proposal QYT
int t0/0/0
ipsec profile L2L
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰ä½¿ç”¨svtiå®ç°ç«™ç‚¹é—´é€šä¿¡&#34;&gt;å®éªŒä¸‰ï¼šä½¿ç”¨SVTIå®ç°ç«™ç‚¹é—´é€šä¿¡&lt;/h2&gt;
&lt;p&gt;é…ç½®æœ¬è¯•éªŒä¹‹å‰éœ€è¦å°†ä¹‹å‰ä¸¤ä¸ªå®éªŒçš„é…ç½®å…¨éƒ¨åˆ é™¤ï¼Œä½†æ˜¯é¢„é…ç½®ä¸­çš„4æ¡é™æ€è·¯ç”±éœ€è¦ä¿ç•™&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R2
# 1. å®šä¹‰æ„Ÿå…´è¶£æµ
acl name SVTI 3333
rule 10 permit ip source 192.168.1.0 0.0.0.255 destination 10.1.1.0 0.0.0.255
q
# 2. å®šä¹‰IKEææ¡ˆ
ike proposal 10
q
# 3. å®šä¹‰å¯¹ç­‰ä½“ä»¥åŠè°ƒç”¨IKEææ¡ˆ
ike peer 2424 v1
pre-shared-key simple qytang666
ike-proposal 10
remote-address 62.128.1.1
q
# 4. å®šä¹‰IPSecææ¡ˆ
ipsec proposal QYT
esp authentication-algorithm sha1
esp encryption-algorithm 3des
encapsulation-mode tunnel
q
# 5. å®šä¹‰IPSecæ•´åˆç­–ç•¥
ipsec policy L2L 10 isakmp
security acl 3333
ike-peer 2424
proposal QYT
q
# 6. è°ƒç”¨
int g0/0/1
ipsec policy L2L

# R4
acl name SVTI 3333
rule 10 permit ip source 10.1.1.0 0.0.0.255 destination 192.168.1.0 0.0.0.255
ike proposal 10
q
ike peer 2424 v1
pre-shared-key simple qytang666
ike-proposal 10
remote-address 202.100.1.1
q
ipsec proposal QYT
esp authentication-algorithm sha1
esp encryption-algorithm 3des
encapsulation-mode tunnel
q
ipsec policy L2L 10 isakmp
security acl 3333
ike-peer 2424
proposal QYT
q
int g0/0/1
ipsec policy L2L
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››éƒ¨ç½²åŠ¨æ€vpn&#34;&gt;å®éªŒå››ï¼šéƒ¨ç½²åŠ¨æ€VPN&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596465889357.png&#34; alt=&#34;éƒ¨ç½²åŠ¨æ€VPN&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596466211075.png&#34; alt=&#34;R1é…ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é…ç½®æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;éƒ¨ç½²éš§é“æ¥å£ â€”â€” spoke-hubçš„æ°¸æ’éš§é“mGRE&lt;/li&gt;
&lt;li&gt;NHRP&lt;/li&gt;
&lt;li&gt;é…ç½®åŠ¨æ€è·¯ç”±åè®®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ipsecåŠ å›º&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;normalæ­£å¸¸æ¨¡å¼-hub-spokeæ¨¡å¼&#34;&gt;Normalï¼ˆæ­£å¸¸ï¼‰æ¨¡å¼ ï¼ˆHub-Spokeæ¨¡å¼ï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# 1. åŸºç¡€ç½‘ç»œé…ç½®ï¼ˆå·²ç»é¢„é…ç½®ï¼Œæ­¤å¤„çœç•¥ï¼‰

# 2. å®šä¹‰mGRE
# Hubï¼ˆR1ï¼‰
int tunnel 0/0/0
tunnel-protocol gre p2mp  # éš§é“æ¨¡å¼
source g0/0/0   # éš§é“æºåœ°å€
ip addr 172.16.1.1 24 # éš§é“åœ°å€
# S1ï¼ˆR2ï¼‰
int tunnel 0/0/0
tunnel-protocol gre p2mp
source g0/0/0
ip addr 172.16.1.2 24
# S2ï¼ˆR3ï¼‰
int tunnel 0/0/0
tunnel-protocol gre p2mp
source g0/0/0
ip addr 172.16.1.3 24

# 3. å®šä¹‰NHRP
# S1
int tunnel 0/0/0
nhrp entry 172.16.1.1 61.128.1.1 register  # spokeæ³¨å†Œï¼Œæ³¨å†Œå…³é”®å­—å¾ˆé‡è¦ï¼ˆå•æ’­æ˜ å°„ï¼‰
# S2
int tunnel 0/0/0
nhrp entry 172.16.1.1 61.128.1.1 register

# 4. é…ç½®åŠ¨æ€è·¯ç”±åè®®
# Hub
int tunnel 0/0/0
nhrp entry multicast dynamic  # hubï¼ˆç»„æ’­ï¼‰
ospf network-type broadcast
ospf dr-priority 255
ospf enable 1 area 0
int lo 0
ospf en 1 a 0
ospf 1
a 0
q
# S1
int tunnel 0/0/0
ospf network-type broadcast
ospf dr-priority 0
ospf enable 1 area 0
int lo 0
ospf en 1 a 0
ospf 1
a 0
q
# S2
int tunnel 0/0/0
ospf network-type broadcast
ospf dr-priority 0
ospf enable 1 area 0
int lo 0
ospf en 1 a 0
ospf 1
a 0
q

# 5. ipsecï¼ˆå¯é€‰é…ï¼‰
# Hub
ike proposal 1
ike peer DSVPN v1
pre-shared-key simple qytang666
ike-proposal 1
ipsec proposal QYT  
encapsulation-mode transport
q                
ipsec profile DSVPN
ike-peer DSVPN
proposal QYT
q
inter tunnel 0/0/0
shutdown        #  ã€æ­¤å¤„æ³¨æ„ï¼šå…ˆå…³é—­å…¨éƒ¨Spokeï¼Œå†å…³é—­Hubã€‘
ipsec profile DSVPN
undo shutown    # ã€æ­¤å¤„æ³¨æ„ï¼šå…ˆå¯åŠ¨Hubï¼Œå†é€ä¸ªå¯åŠ¨Spokeã€‘
# S1
ike proposal 1
ike peer DSVPN v1
pre-shared-key simple qytang666
ike-proposal 1
ipsec proposal QYT  
encapsulation-mode transport
q                
ipsec profile DSVPN
ike-peer DSVPN
proposal QYT
q
inter tunnel 0/0/0
shutdown 
ipsec profile DSVPN
undo shutown
# S2
ike proposal 1
ike peer DSVPN v1
pre-shared-key simple qytang666
ike-proposal 1
ipsec proposal QYT  
encapsulation-mode transport
q                
ipsec profile DSVPN
ike-peer DSVPN
proposal QYT
q
inter tunnel 0/0/0
shutdown 
ipsec profile DSVPN
undo shutown
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;çŸ­è·¯shortcutæ¨¡å¼å±‚æ¬¡åŒ–æ ‘çŠ¶è®¾è®¡&#34;&gt;çŸ­è·¯ï¼ˆshortcutï¼‰æ¨¡å¼ï¼ˆå±‚æ¬¡åŒ–ï¼ˆæ ‘çŠ¶ï¼‰è®¾è®¡ï¼‰&lt;/h3&gt;
&lt;p&gt;å¤§å‹DSVPNä½¿ç”¨shortcutæ–¹å¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# Hub/S1/S2
int t0/0/0
ospf network-type p2mp  # æ­¤æ—¶Spokeæ‰€æœ‰è·¯ç”±çš„ä¸‹ä¸€è·³å‡ä¸ºHub

# Hub
nhrp redirect
# S1/S2
nhrp shortcut    # æ­¤æ—¶ä½¿ç”¨nhrpè¿›è¡Œä¼˜åŒ–ï¼ŒåŠ¨æ€è§¦å‘è·¯ç”±ï¼ŒSpokeä¹‹é—´æ•°æ®ä¼ é€’ç¬¬ä¸€ä¸ªåŒ…ä¼šç»è¿‡Hubè½¬å‘ï¼Œä¹‹åçš„æ•°æ®æ˜¯Spokeä¹‹é—´ç›´é€š
&lt;/code&gt;&lt;/pre&gt;
">HCIE-IPSecä¸“é¢˜(2020.07.31ï¼Œç¬¬2ä¸“é¢˜)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-bgp-zhuan-ti-20200713/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AC%AC%E4%B8%80%E5%A0%82%E8%AF%BE-%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D&#34;&gt;ç¬¬ä¸€å ‚è¯¾--è¯¾ç¨‹ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp&#34;&gt;BGP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB&#34;&gt;åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%8B%E7%BB%8D&#34;&gt;ä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%9F%A5%E8%AF%86%E7%82%B9&#34;&gt;çŸ¥è¯†ç‚¹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9Fas&#34;&gt;è‡ªæ²»ç³»ç»ŸAS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%89%B9%E5%BE%81&#34;&gt;BGPç‰¹å¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%82%BB%E5%B1%85%E5%BB%BA%E7%AB%8B%E5%92%8C%E5%8F%91%E7%8E%B0&#34;&gt;é‚»å±…å»ºç«‹å’Œå‘ç°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%8A%A5%E6%96%87%E7%A7%8D%E7%B1%BB&#34;&gt;BGPæŠ¥æ–‡ç§ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#open&#34;&gt;Open&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#keepalive&#34;&gt;KeepAlive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#update&#34;&gt;Update&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#notification&#34;&gt;Notification&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#route-refresh&#34;&gt;Route-refresh&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%B6%88%E6%81%AF%E7%9A%84%E5%BA%94%E7%94%A8&#34;&gt;æ¶ˆæ¯çš„åº”ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E4%BA%A7%E7%94%9F&#34;&gt;è·¯ç”±äº§ç”Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%8A%A5%E6%96%87ttl%E5%80%BC&#34;&gt;BGPæŠ¥æ–‡TTLå€¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E&#34;&gt;è·¯ç”±é»‘æ´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88&#34;&gt;è§£å†³æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%9A%84%E4%B8%8B%E4%B8%80%E8%B7%B3%E8%A7%84%E5%88%99&#34;&gt;BGPçš„ä¸‹ä¸€è·³è§„åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ebgp%E9%98%B2%E7%8E%AF&#34;&gt;eBGPé˜²ç¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92&#34;&gt;BGPè·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E5%8F%AF%E9%9D%A0%E7%9A%84%E8%B7%AF%E7%94%B1%E6%9B%B4%E6%96%B0&#34;&gt;BGPå¯é çš„è·¯ç”±æ›´æ–°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%8A%B6%E6%80%81%E6%9C%BA&#34;&gt;BGPçŠ¶æ€æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93&#34;&gt;BGPçš„æ•°æ®åº“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E7%AD%96%E7%95%A5%E5%BC%95%E6%93%8E%E5%92%8C%E8%B7%AF%E5%BE%84%E9%80%89%E6%8B%A9&#34;&gt;BGPç­–ç•¥å¼•æ“å’Œè·¯å¾„é€‰æ‹©&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%BB%E5%8A%A8%E4%B8%8E%E8%A2%AB%E5%8A%A8%E8%BF%9E%E6%8E%A5tcp&#34;&gt;ä¸»åŠ¨ä¸è¢«åŠ¨è¿æ¥TCP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E7%94%B1%E9%80%9A%E5%91%8A%E4%BC%A0%E9%80%92%E5%8E%9F%E5%88%99&#34;&gt;BGPè·¯ç”±ï¼ˆé€šå‘Šï¼‰ä¼ é€’åŸåˆ™&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#as%E5%8F%B7%E7%A0%81%E6%AC%BA%E9%AA%97&#34;&gt;ASå·ç æ¬ºéª—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%A7%BB%E9%99%A4%E7%A7%81%E6%9C%89as%E5%8F%B7%E7%A0%81&#34;&gt;ç§»é™¤ç§æœ‰ASå·ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E8%81%9A%E5%90%88%E6%B1%87%E6%80%BB&#34;&gt;è·¯ç”±èšåˆï¼ˆæ±‡æ€»ï¼‰&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB-2&#34;&gt;åˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%BF%87%E6%BB%A4%E7%AD%96%E7%95%A5&#34;&gt;è¿‡æ»¤ç­–ç•¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8E%9F%E5%AD%90%E8%81%9A%E5%90%88%E5%92%8C%E8%81%9A%E5%90%88%E8%80%85&#34;&gt;åŸå­èšåˆå’Œèšåˆè€…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%9B%E5%A4%A7%E7%B1%BB%E5%B1%9E%E6%80%A7&#34;&gt;å››å¤§ç±»å±æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E5%8F%8D%E5%B0%84%E5%92%8C%E8%81%94%E7%9B%9F&#34;&gt;BGPåå°„å’Œè”ç›Ÿ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84-rfc2796&#34;&gt;è·¯ç”±åå°„ (RFC2796)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E7%A7%8D%E8%A7%92%E8%89%B2%E5%92%8C%E5%85%B3%E7%B3%BB&#34;&gt;ä¸‰ç§è§’è‰²å’Œå…³ç³»&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%AE%A3%E5%91%8A%E5%8E%9F%E5%88%99&#34;&gt;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E7%B0%87-cluster&#34;&gt;è·¯ç”±åå°„ç°‡ (Cluster)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E7%8E%AF%E8%B7%AF%E9%98%B2%E6%AD%A2%E6%9C%BA%E5%88%B6&#34;&gt;è·¯ç”±åå°„ç¯è·¯é˜²æ­¢æœºåˆ¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%81%94%E9%82%A6-rfc3065&#34;&gt;è”é‚¦ (RFC3065)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%81%94%E9%82%A6%E5%86%85as_path%E5%8F%98%E5%8C%96&#34;&gt;è”é‚¦å†…AS_Pathå˜åŒ–&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%81%94%E7%9B%9F%E4%B8%8E%E5%8F%8D%E5%B0%84%E7%9A%84%E6%AF%94%E8%BE%83&#34;&gt;è”ç›Ÿä¸åå°„çš„æ¯”è¾ƒ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7-2&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E7%B1%BB-3&#34;&gt;åˆ†ç±»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%AC%E8%AE%A4%E5%BF%85%E9%81%B5well-known-mondatory%E5%91%A8%E7%9F%A5%E5%BC%BA%E5%88%B6&#34;&gt;å…¬è®¤å¿…éµWell-known mondatoryï¼ˆå‘¨çŸ¥å¼ºåˆ¶ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%AC%E8%AE%A4%E4%BB%BB%E6%84%8Fwell-known-discretionary%E5%91%A8%E7%9F%A5%E5%8F%AF%E9%80%89&#34;&gt;å…¬è®¤ä»»æ„Well-known discretionaryï¼ˆå‘¨çŸ¥å¯é€‰ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%AF%E9%80%89%E5%8F%AF%E4%BC%A0%E9%80%92optional-transitive%E8%BF%87%E6%B8%A1&#34;&gt;å¯é€‰å¯ä¼ é€’Optional transitiveï¼ˆè¿‡æ¸¡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%AF%E9%80%89%E9%9D%9E%E5%8F%AF%E4%BC%A0%E9%80%92optional-non-transitive%E9%9D%9E%E8%BF%87%E6%B8%A1&#34;&gt;å¯é€‰éå¯ä¼ é€’Optional non-transitiveï¼ˆéè¿‡æ¸¡ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E9%80%89%E8%B7%AF%E5%8E%9F%E5%88%99&#34;&gt;BGPé€‰è·¯åŸåˆ™&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8E%E4%B8%BA&#34;&gt;åä¸º&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%9D%E7%A7%91&#34;&gt;æ€ç§‘&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E5%BE%84%E9%80%89%E6%8B%A9%E8%BF%87%E7%A8%8Bcost-community&#34;&gt;è‡ªå®šä¹‰è·¯å¾„é€‰æ‹©è¿‡ç¨‹cost-community&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%A4%9A%E5%AE%BF%E4%B8%BB%E7%BD%91%E7%BB%9C&#34;&gt;å¤šå®¿ä¸»ç½‘ç»œ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E4%BA%A7%E7%94%9F%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E6%96%B9%E6%A1%88&#34;&gt;BGPäº§ç”Ÿé»˜è®¤è·¯ç”±çš„æ–¹æ¡ˆ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%B1%BB%E5%9E%8B&#34;&gt;ç±»å‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AD%96%E7%95%A5%E5%B7%A5%E5%85%B7as-path-access-list&#34;&gt;ç­–ç•¥å·¥å…·as-path access-list&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%8C%96%E5%89%8D%E7%BC%80%E6%9B%B4%E6%96%B0&#34;&gt;ä¼˜åŒ–å‰ç¼€æ›´æ–°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E9%98%BB%E5%B0%BCdampeningrfc2439&#34;&gt;è·¯ç”±é˜»å°¼dampeningï¼ˆRFC2439ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E6%B8%A9%E5%92%8C%E9%87%8D%E9%85%8D%E7%BD%AEkeep-all-routes&#34;&gt;BGPæ¸©å’Œé‡é…ç½®(keep all routes)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%B7%AF%E7%94%B1%E5%88%B7%E6%96%B0route-refresh&#34;&gt;è·¯ç”±åˆ·æ–°ï¼ˆroute refreshï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%87%BA%E7%AB%99%E8%B7%AF%E7%94%B1%E8%BF%87%E6%BB%A4orf&#34;&gt;å‡ºç«™è·¯ç”±è¿‡æ»¤ORF&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp%E9%99%84%E5%8A%A0%E8%B7%AF%E5%BE%84&#34;&gt;BGPé™„åŠ è·¯å¾„&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#hot-potato-roouting&#34;&gt;hot-potato roouting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#bgp-additional-path%E7%9A%84%E5%8A%9F%E8%83%BD&#34;&gt;BGP Additional Pathçš„åŠŸèƒ½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%83%A8%E7%BD%B2additional-path&#34;&gt;éƒ¨ç½²Additional Path&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9D%A2%E8%AF%95%E4%B8%8E%E6%80%BB%E7%BB%93&#34;&gt;é¢è¯•ä¸æ€»ç»“&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#3%E4%B8%AA%E9%80%89%E8%B7%AFweight-local-med&#34;&gt;3ä¸ªé€‰è·¯ï¼ˆweightã€localã€medï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#3%E4%B8%AA%E9%98%B2%E7%8E%AForigin-as_path-next_hop&#34;&gt;3ä¸ªé˜²ç¯ï¼ˆoriginã€as_pathã€next_hopï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2%E4%B8%AA%E5%8F%8D%E5%B0%84%E9%98%B2%E7%8E%AForiginator-id-cluster-list&#34;&gt;2ä¸ªåå°„é˜²ç¯ï¼ˆoriginator-idã€cluster-listï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#2%E4%B8%AA%E6%B1%87%E6%80%BBatomic-aggregate-aggregator&#34;&gt;2ä¸ªæ±‡æ€»ï¼ˆAtomic-aggregateã€aggregatorï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#1%E4%B8%AA%E5%9B%A2%E4%BD%93community&#34;&gt;1ä¸ªå›¢ä½“ï¼ˆcommunityï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%80%E9%80%9A%E8%BF%87%E7%9B%B4%E8%BF%9E%E8%B7%AF%E7%94%B1%E6%96%B9%E5%BC%8F%E5%BB%BA%E7%AB%8Bebgp%E5%AF%B9%E7%AD%89%E4%BD%93&#34;&gt;å®éªŒä¸€ï¼šé€šè¿‡ç›´è¿è·¯ç”±æ–¹å¼å»ºç«‹eBGPå¯¹ç­‰ä½“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E9%80%9A%E8%BF%87%E7%8E%AF%E5%9B%9E%E5%8F%A3%E6%96%B9%E5%BC%8F%E5%BB%BA%E7%AB%8Bebgp%E5%AF%B9%E7%AD%89%E4%BD%93&#34;&gt;å®éªŒäºŒï¼šé€šè¿‡ç¯å›å£æ–¹å¼å»ºç«‹eBGPå¯¹ç­‰ä½“&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89ibgp%E9%82%BB%E5%B1%85%E9%85%8D%E7%BD%AE%E5%AE%9E%E9%AA%8C%E5%90%8C%E6%97%B6%E6%9F%A5%E7%9C%8B%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E&#34;&gt;å®éªŒä¸‰ï¼šiBGPé‚»å±…é…ç½®å®éªŒï¼ˆåŒæ—¶æŸ¥çœ‹è·¯ç”±é»‘æ´ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%9B%9B%E4%BD%BF%E7%94%A8%E5%85%A8%E4%BA%92%E8%81%94%E7%9A%84%E6%96%B9%E5%BC%8F%E8%A7%A3%E5%86%B3%E8%B7%AF%E7%94%B1%E9%BB%91%E6%B4%9E&#34;&gt;å®éªŒå››ï¼šä½¿ç”¨å…¨äº’è”çš„æ–¹å¼è§£å†³è·¯ç”±é»‘æ´&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%94%E4%BF%AE%E6%94%B9%E4%B8%8B%E4%B8%80%E8%B7%B3%E5%B1%9E%E6%80%A7&#34;&gt;å®éªŒäº”ï¼šä¿®æ”¹ä¸‹ä¸€è·³å±æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%ADbgp%E7%9A%84%E4%B8%8B%E4%B8%80%E8%B7%B3%E4%B8%8D%E6%94%B9%E5%8F%98%E5%9C%BA%E6%99%AF&#34;&gt;å®éªŒå…­ï¼šBGPçš„ä¸‹ä¸€è·³ä¸æ”¹å˜åœºæ™¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%83bgp-asbr%E4%B8%8B%E4%B8%80%E8%B7%B3%E6%96%B9%E6%A1%88%E5%AF%B9%E6%AF%94&#34;&gt;å®éªŒä¸ƒï¼šBGP ASBRä¸‹ä¸€è·³æ–¹æ¡ˆå¯¹æ¯”&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%85%AB%E5%A4%9A%E7%82%B9%E6%8E%A5%E5%85%A5%E7%9A%84%E4%B8%8B%E4%B8%80%E8%B7%B3&#34;&gt;å®éªŒå…«ï¼šå¤šç‚¹æ¥å…¥çš„ä¸‹ä¸€è·³&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B9%9D%E9%83%A8%E7%BD%B2bgp%E5%AF%B9%E7%AD%89%E4%BD%93%E7%BB%84&#34;&gt;å®éªŒä¹ï¼šéƒ¨ç½²BGPå¯¹ç­‰ä½“ç»„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E9%83%A8%E7%BD%B2%E5%9F%BA%E4%BA%8E%E5%AF%B9%E7%AD%89%E4%BD%93%E7%BB%84%E7%9A%84%E5%8A%A8%E6%80%81%E9%82%BB%E5%B1%85%E6%80%9D%E7%A7%91&#34;&gt;å®éªŒåï¼šéƒ¨ç½²åŸºäºå¯¹ç­‰ä½“ç»„çš„åŠ¨æ€é‚»å±…ï¼ˆæ€ç§‘ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B8%80as%E6%AC%BA%E9%AA%97&#34;&gt;å®éªŒåä¸€ï¼šASæ¬ºéª—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%BA%8C%E7%A7%BB%E9%99%A4%E7%A7%81%E6%9C%89as%E5%8F%B7%E7%A0%81&#34;&gt;å®éªŒåäºŒï¼šç§»é™¤ç§æœ‰ASå·ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B8%89%E8%B7%AF%E7%94%B1%E8%87%AA%E5%8A%A8%E8%81%9A%E5%90%88&#34;&gt;å®éªŒåä¸‰ï¼šè·¯ç”±è‡ªåŠ¨èšåˆ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A1%A5%E5%85%85%E6%80%9D%E7%A7%91%E8%AE%BE%E5%A4%87%E4%B8%80%E8%88%AC%E4%B8%8D%E5%81%9A%E8%87%AA%E5%8A%A8%E8%81%9A%E5%90%88%E8%80%8C%E4%BD%BF%E7%94%A8%E6%B5%81%E9%87%8F%E6%B8%85%E6%B4%97&#34;&gt;è¡¥å……ï¼šæ€ç§‘è®¾å¤‡ä¸€èˆ¬ä¸åšè‡ªåŠ¨èšåˆï¼Œè€Œä½¿ç”¨æµé‡æ¸…æ´—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E5%9B%9B%E6%89%8B%E5%8A%A8%E8%81%9A%E5%90%88%E9%AA%8C%E8%AF%81%E8%B5%B7%E6%BA%90%E4%BB%A3%E7%A0%81%E7%9A%84%E7%BB%A7%E6%89%BF&#34;&gt;å®éªŒåå››ï¼šæ‰‹åŠ¨èšåˆï¼ŒéªŒè¯èµ·æºä»£ç çš„ç»§æ‰¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%BA%94%E4%B8%BA%E8%81%9A%E5%90%88%E8%B7%AF%E7%94%B1%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7&#34;&gt;å®éªŒåäº”ï¼šä¸ºèšåˆè·¯ç”±è®¾ç½®å±æ€§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E5%85%AD%E9%AA%8C%E8%AF%81rr%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84ibgp%E8%B7%AF%E7%94%B1%E4%BC%A0%E9%80%92&#34;&gt;å®éªŒåå…­ï¼šéªŒè¯RRç¯å¢ƒä¸‹çš„iBGPè·¯ç”±ä¼ é€’&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B8%83%E7%90%86%E8%A7%A3%E8%B5%B7%E6%BA%90%E8%80%85id%E5%92%8Ccluster-id%E7%9A%84%E4%BD%9C%E7%94%A8&#34;&gt;å®éªŒåä¸ƒï¼šç†è§£èµ·æºè€…IDå’ŒCluster-idçš„ä½œç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E5%85%ABbgp%E8%81%94%E9%82%A6&#34;&gt;å®éªŒåå…«ï¼šBGPè”é‚¦&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E5%8D%81%E4%B9%9D%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7no-export&#34;&gt;å®éªŒåä¹ï¼šå›¢ä½“å±æ€§no-export&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7no-export-subconfedlocal-as&#34;&gt;å®éªŒäºŒåï¼šå›¢ä½“å±æ€§no-export-subconfed(local-as)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%B8%80%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7no-advertise&#34;&gt;å®éªŒäºŒåä¸€ï¼šå›¢ä½“å±æ€§no-advertise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%BA%8C%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%A2%E4%BD%93%E5%B1%9E%E6%80%A7%E5%92%8Cmed&#34;&gt;å®éªŒäºŒåäºŒï¼šè®¾ç½®è‡ªå®šä¹‰å›¢ä½“å±æ€§å’ŒMED&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%A1%88a&#34;&gt;æ–¹æ¡ˆA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%96%B9%E6%A1%88b&#34;&gt;æ–¹æ¡ˆB&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%B8%89%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-%E6%AF%94%E8%BE%83%E6%9D%83%E9%87%8D%E5%80%BC&#34;&gt;å®éªŒäºŒåä¸‰ï¼šè·¯ç”±é€‰æ‹©-æ¯”è¾ƒæƒé‡å€¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E5%9B%9B%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-%E6%AF%94%E8%BE%83%E6%9C%AC%E5%9C%B0%E4%BC%98%E5%85%88%E7%BA%A7&#34;&gt;å®éªŒäºŒåå››ï¼šè·¯ç”±é€‰æ‹©-æ¯”è¾ƒæœ¬åœ°ä¼˜å…ˆçº§&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%BA%94%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-%E8%B5%B7%E6%BA%90&#34;&gt;å®éªŒäºŒåäº”ï¼šè·¯ç”±é€‰æ‹©-èµ·æº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E5%85%AD%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-as-path&#34;&gt;å®éªŒäºŒåå…­ï¼šè·¯ç”±é€‰æ‹©-as-path&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%B8%83%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-%E5%88%B0bgp%E6%9B%B4%E6%96%B0%E6%BA%90igp%E5%BC%80%E9%94%80%E5%B0%8F%E7%9A%84%E8%A2%AB%E4%BC%98%E9%80%89&#34;&gt;å®éªŒäºŒåä¸ƒï¼šè·¯ç”±é€‰æ‹©-åˆ°BGPæ›´æ–°æºIGPå¼€é”€å°çš„è¢«ä¼˜é€‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E5%85%AB%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9-%E5%BC%80%E5%90%AF%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1&#34;&gt;å®éªŒäºŒåå…«ï¼šè·¯ç”±é€‰æ‹©-å¼€å¯è´Ÿè½½å‡è¡¡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%BA%8C%E5%8D%81%E4%B9%9D%E4%BA%A7%E7%94%9F%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F&#34;&gt;å®éªŒäºŒåä¹ï¼šäº§ç”Ÿé»˜è®¤è·¯ç”±çš„ä¸‰ç§æ–¹å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89%E5%8D%81%E4%B8%80as-path%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8&#34;&gt;å®éªŒä¸‰åä¸€ï¼šas-pathæ§åˆ¶åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89%E5%8D%81%E4%BA%8C%E5%BA%94%E7%94%A8%E6%B8%A9%E5%92%8C%E9%87%8D%E9%85%8D%E7%BD%AE&#34;&gt;å®éªŒä¸‰åäºŒï¼šåº”ç”¨æ¸©å’Œé‡é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%89%E5%8D%81%E4%B8%89%E5%87%BA%E7%AB%99%E8%B7%AF%E7%94%B1%E8%BF%87%E6%BB%A4orf&#34;&gt;å®éªŒä¸‰åä¸‰ï¼šå‡ºç«™è·¯ç”±è¿‡æ»¤ORF&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ç¬¬ä¸€å ‚è¯¾-è¯¾ç¨‹ä»‹ç»&#34;&gt;ç¬¬ä¸€å ‚è¯¾--è¯¾ç¨‹ä»‹ç»&lt;/h1&gt;
&lt;p&gt;QCIEï¼šæ€ç§‘å’Œåä¸ºè®¾å¤‡æ“ä½œå’Œç‰¹æ€§ä¸€èµ·è®²çš„&lt;br&gt;
è¯¾ç¨‹åŒ…å«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€å ‚è¯¾ï¼šBGP&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒå ‚è¯¾ï¼šDNA Centerï¼ˆSD-Accessï¼‰ï¼ˆæ€ç§‘ä¸“å±ï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰å ‚è¯¾ï¼šIPSec
&lt;ul&gt;
&lt;li&gt;DM VPNï¼ˆæ€ç§‘ï¼‰&lt;/li&gt;
&lt;li&gt;DS VPNï¼ˆåä¸ºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç¬¬å››å ‚è¯¾ï¼šç»„æ’­Multicast&lt;/li&gt;
&lt;li&gt;ç¬¬äº”å ‚è¯¾ï¼šSD-WANï¼ˆæ€ç§‘ä¸“å±ï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬å…­å ‚è¯¾ï¼šMPLS VPN&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;bgp&#34;&gt;BGP&lt;/h1&gt;
&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;
&lt;p&gt;æŒ‰ç…§å·¥ä½œèŒƒå›´åˆ’åˆ†ï¼ŒåŠ¨æ€è·¯ç”±åè®®ï¼Œåˆ†ä¸º IGPã€EGP&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IGPï¼šOSPFã€EIGRPã€ISIS&lt;/li&gt;
&lt;li&gt;EGPï¼šEGPã€BGPã€‚ å½“ç„¶ç°åœ¨EGPå·²ç»å®Œæˆäº†å†å²ä½¿å‘½ï¼ŒBGPæ˜¯ç›®å‰å”¯ä¸€ä¸€ä¸ªåœ¨ç½‘è¿è¡Œçš„EGPã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h2&gt;
&lt;p&gt;BGPï¼šè¾¹ç•Œç½‘å…³åè®®ï¼Œä¸»è¦å·¥ä½œåœ¨ASå’ŒASä¹‹é—´ï¼ŒASå†…éƒ¨ä¹Ÿå¯ä»¥è¿è¡Œï¼Œä½†é€šå¸¸éƒ½æ˜¯åœ¨ç½‘ç»œASå‡ºå£è®¾å¤‡ä¹‹é—´è¿è¡Œï¼Œä¸»è¦åŠŸèƒ½æ˜¯åœ¨ASä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯ï¼Œæ‰§è¡ŒåŸºäºç­–ç•¥çš„é€‰è·¯ã€‚&lt;br&gt;
å…¶åº¦é‡åŠæ³•å’ŒIGPæœ‰æœ¬è´¨ä¸Šçš„ä¸åŒï¼ŒBGPè¿˜æ‹¥æœ‰å¼ºå¤§çš„è·¯ç”±æ‰¿è½½èƒ½åŠ›ï¼Œèƒ½å¤Ÿåœ¨äº’è”ç½‘ä¸Šä¼ é€’æ•°ç™¾ä¸‡æ¡è·¯ç”±ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çŸ¥è¯†ç‚¹&#34;&gt;çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;h3 id=&#34;è‡ªæ²»ç³»ç»Ÿas&#34;&gt;è‡ªæ²»ç³»ç»ŸAS&lt;/h3&gt;
&lt;p&gt;ç”±åŒä¸€ä¸ªæŠ€æœ¯ç®¡ç†æœºæ„ç®¡ç†ã€ä½¿ç”¨ç»Ÿä¸€é€‰è·¯ç­–ç•¥çš„ä¸€äº›è·¯ç”±å™¨çš„é›†åˆã€‚&lt;br&gt;
è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±åè®®â€”â€”IGPï¼Œè‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±åè®®â€”â€”EGPã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IGPå’ŒBGPçš„åŒºåˆ«&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IGPä¸»è¦è§£å†³æ•°æ®çš„è½¬å‘ï¼ŒBGPä¸»è¦è§£å†³è·¯ç”±çš„ä¼ é€’å’Œæ§åˆ¶&lt;br&gt;
IGPï¼Œè¿è¡ŒäºASå†…éƒ¨çš„è·¯ç”±åè®®ï¼Œä¸»è¦æœ‰: RIP, OSPFåŠISISã€‚IGPç€é‡äºå‘ç°å’Œè®¡ç®—è·¯ç”±&lt;br&gt;
EGPï¼Œè¿è¡ŒäºASä¹‹é—´çš„è·¯ç”±åè®®ï¼Œç°é€šå¸¸éƒ½æ˜¯æŒ‡BGPã€‚BGPç€é‡äºæ§åˆ¶è·¯ç”±çš„ä¼ æ’­å’Œé€‰æ‹©æœ€ä¼˜çš„è·¯ç”±ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;ASç¼–å·ï¼Œä¸¤å­—èŠ‚ï¼Œ1-65535 ï¼Œå…¶ä¸­&lt;strong&gt;64512-65535æ˜¯ç§æœ‰ASå·ç &lt;/strong&gt;ã€‚ç›®å‰çš„BGPå®ç°å·²ç»å¯ä»¥æ”¯æŒå››å­—èŠ‚çš„ASå·ç ã€‚&lt;br&gt;
ASå·ç åœ¨è®¾å¤‡ä¸Šæœ‰&lt;strong&gt;ä¸¤ç§æ˜¾ç¤ºæ–¹å¼&lt;/strong&gt;ï¼šåè¿›åˆ¶æ•°å­—ã€ç‚¹åˆ†åè¿›åˆ¶&lt;/p&gt;
&lt;h3 id=&#34;bgpç‰¹å¾&#34;&gt;BGPç‰¹å¾&lt;/h3&gt;
&lt;p&gt;BGPé€šè¿‡åœ¨è·¯ç”±ä¸Šé¢é™„åŠ å¤šç§è·¯ç”±å±æ€§ï¼ˆè·¯å¾„å±æ€§ï¼‰ï¼Œä»¥è¿™äº›å±æ€§è¾¾åˆ°å¯¹è·¯ç”±æ›´æ–°ä¼ é€’ã€è·¯å¾„å†³ç­–æ–¹é¢çš„æ“æ§ç›®çš„ã€‚çµæ´»æ€§ï¼Œå¯é æ€§ï¼ˆTCPï¼‰ï¼Œç¨³å®šæ€§å’Œæ”¶æ•›é€Ÿåº¦å¯è°ƒèŠ‚ï¼ŒBGPæ˜¯å¢é‡æ›´æ–°çš„ã€æ²¡æœ‰å‘¨æœŸæ›´æ–°ï¼ˆé€šè¿‡BGPåè®®ä¼ é€’ç½‘ç»œä¿¡æ¯çš„è·¯å¾„é€šå¸¸æ¯”è¾ƒè¿œï¼‰ï¼Œæ”¯æŒVLSMã€CIDRï¼Œé€šè¿‡ä¸€äº›è§„åˆ™æ¥å®ç°è·¯ç”±ä¼ é€’çš„ç¯è·¯é¢„é˜²ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BGPæ˜¯å¤–éƒ¨è·¯ç”±åè®®ï¼Œç”¨æ¥åœ¨ASä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ˜¯ä¸€ç§å¢å¼ºçš„è·ç¦»çŸ¢é‡è·¯ç”±åè®®
&lt;ul&gt;
&lt;li&gt;å¯é çš„è·¯ç”±æ›´æ–°æœºåˆ¶&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„Metricåº¦é‡æ–¹æ³•&lt;/li&gt;
&lt;li&gt;ä»è®¾è®¡ä¸Šé¿å…äº†ç¯è·¯çš„å‘ç”Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ºè·¯ç”±é™„å¸¦å±æ€§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒCIDRï¼ˆæ— ç±»åˆ«åŸŸé—´é€‰è·¯ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„è·¯ç”±è¿‡æ»¤å’Œè·¯ç”±ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é‚»å±…å»ºç«‹å’Œå‘ç°&#34;&gt;é‚»å±…å»ºç«‹å’Œå‘ç°&lt;/h3&gt;
&lt;p&gt;BGPä½¿ç”¨TCPçš„179å·ç«¯å£ï¼Œä¾¦å¬179ç«¯å£ï¼Œæºç«¯å£ä¸ºéšæœºçš„é«˜ä½ç«¯å£&lt;br&gt;
å»ºç«‹é‚»å±…çš„&lt;strong&gt;åŸºæœ¬æ¡ä»¶&lt;/strong&gt;ï¼šIPå¯è¾¾ï¼ŒTCPç«¯å£å¯è¾¾ã€‚&lt;br&gt;
BGPå•æ’­å»ºç«‹é‚»å±…ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰‹å·¥çš„æŒ‡å®šå¥½é‚»å±…ï¼ˆpeerï¼Œå¯¹ç­‰ä½“ï¼‰æ˜¯è°ã€‚&lt;br&gt;
&lt;strong&gt;è·¯ç”±æ›´æ–°&lt;/strong&gt;ï¼šåªå‘é€å¢é‡è·¯ç”±ï¼ˆå¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤çš„è·¯ç”±ä¿¡æ¯ï¼‰ï¼Œå¤§å¤§å‡å°‘äº†ä¼ æ’­è·¯ç”±æ—¶æ‰€å ç”¨çš„å¸¦å®½ï¼Œé€‚ç”¨äºInternetä¸Šä¼ æ’­å¤§é‡çš„è·¯ç”±ä¿¡æ¯&lt;/p&gt;
&lt;h3 id=&#34;bgpæŠ¥æ–‡ç§ç±»&#34;&gt;BGPæŠ¥æ–‡ç§ç±»&lt;/h3&gt;
&lt;p&gt;è¿è¡ŒBGPçš„è·¯ç”±å™¨ç§°ä¹‹ä¸ºBGP Speakerï¼Œå®ƒä»¬ä¹‹é—´å°†ä¼šäº¤æ¢äº”ç§ç±»å‹çš„æŠ¥æ–‡ï¼Œå…¶ä¸­Openï¼ŒKeepliveä»¥åŠNotificationæŠ¥æ–‡ç”¨äºé‚»å±…å…³ç³»çš„å»ºç«‹å’Œç»´æŠ¤ã€‚&lt;br&gt;
&lt;code&gt;å‰4ç§æ¶ˆæ¯æ˜¯åœ¨RFC4271ä¸­å®šä¹‰çš„ï¼Œè€ŒRefreshçš„æ¶ˆæ¯åˆ™æ˜¯åœ¨RFC2918ä¸­å®šä¹‰çš„&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594954867397.png&#34; alt=&#34;BGPæŠ¥æ–‡å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Markerï¼ˆæ ‡è®°ï¼‰ï¼š16å­—èŠ‚ï¼Œå›ºå®šä¸º1&lt;/li&gt;
&lt;li&gt;Lengthï¼ˆé•¿åº¦ï¼‰ï¼šä¸¤å­—èŠ‚æ— ç¬¦å·æ•´æ•°ã€‚æŒ‡å®šäº†æ¶ˆæ¯çš„å…¨é•¿ï¼ŒåŒ…æ‹¬å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;Typeï¼ˆç±»å‹ï¼‰ï¼š1 å­—èŠ‚ï¼ŒæŒ‡ç¤ºæŠ¥æ–‡ç±»å‹ï¼Œå¦‚OPENã€UPDATEæŠ¥æ–‡ç­‰
&lt;ul&gt;
&lt;li&gt;1 â€“ OPEN&lt;/li&gt;
&lt;li&gt;2 â€“ UPDATE&lt;/li&gt;
&lt;li&gt;3 â€“ NOTIFICATION&lt;/li&gt;
&lt;li&gt;4 â€“ KEEPALIVE&lt;/li&gt;
&lt;li&gt;5 â€“ REFRESH&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;open&#34;&gt;Open&lt;/h4&gt;
&lt;p&gt;è´Ÿè´£å’Œå¯¹ç­‰ä½“å»ºç«‹é‚»å±…å…³ç³»ã€‚&lt;br&gt;
ä¸»è¦åŒ…æ‹¬BGPç‰ˆæœ¬ï¼ŒASå·ç­‰ä¿¡æ¯ã€‚è¯•å›¾å»ºç«‹BGPé‚»å±…å…³ç³»çš„ä¸¤ä¸ªè·¯ç”±å™¨åœ¨å»ºç«‹äº†TCPä¼šè¯ä¹‹åå¼€å§‹äº¤æ¢OPENä¿¡æ¯ä»¥ç¡®è®¤èƒ½å¦å½¢æˆé‚»å±…å…³ç³»ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594954990823.png&#34; alt=&#34;Open&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šBGPçš„ç‰ˆæœ¬å·ã€‚å¯¹äºBGPv4æ¥è¯´ï¼Œå…¶å€¼ä¸º4&lt;/li&gt;
&lt;li&gt;My Autonomous Systemï¼šæœ¬åœ°ASç¼–å·ã€‚é€šè¿‡æ¯”è¾ƒä¸¤ç«¯çš„ASç¼–å·å¯ä»¥ç¡®å®šæ˜¯EBGPè¿æ¥è¿˜æ˜¯IBGPè¿æ¥&lt;/li&gt;
&lt;li&gt;Hold Timeï¼šåœ¨å»ºç«‹å¯¹ç­‰ä½“å…³ç³»æ—¶ä¸¤ç«¯è¦åå•†Hold timeï¼Œå¹¶ä¿æŒä¸€è‡´ã€‚å¦‚æœä¸¤ç«¯æ‰€é…ç½®çš„Hold timeæ—¶é—´ä¸åŒï¼Œåˆ™BGPä¼š&lt;strong&gt;é€‰æ‹©è¾ƒå°çš„å€¼&lt;/strong&gt;ä½œä¸ºåå•†çš„ç»“æœã€‚å¦‚æœåœ¨è¿™ä¸ªæ—¶é—´å†…æœªæ”¶åˆ°å¯¹ç«¯å‘æ¥çš„Keepaliveæ¶ˆæ¯ï¼Œåˆ™è®¤ä¸ºBGPè¿æ¥ä¸­æ–­&lt;/li&gt;
&lt;li&gt;BGP Identifierï¼šBGPè·¯ç”±å™¨çš„Router IDï¼Œä»¥IPåœ°å€çš„å½¢å¼è¡¨ç¤ºï¼Œç”¨æ¥è¯†åˆ«BGPè·¯ç”±å™¨ã€‚åœ¨VRP5.30ç³»ç»Ÿä¸­ï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡å‘½ä»¤router idè¿›è¡Œé…ç½®ï¼Œåˆ™æŒ‰ç…§å¦‚ä¸‹è§„åˆ™è¿›è¡Œé€‰æ‹©ï¼šä¼˜é€‰Loopbackæ¥å£åœ°å€ä¸­&lt;strong&gt;æœ€å¤§çš„åœ°å€&lt;/strong&gt;ä½œä¸ºRouter IDï¼Œå¦‚æœæ²¡æœ‰Loopbackæ¥å£é…ç½®äº†IPåœ°å€ï¼Œåˆ™ä»å…¶å®ƒé…ç½®äº†IPåœ°å€çš„ç‰©ç†æ¥å£ä¸­é€‰æ‹©ä¸€ä¸ªæœ€å¤§IPåœ°å€çš„ä½œä¸ºRouter ID&lt;/li&gt;
&lt;li&gt;Opt Parm Lenï¼ˆOptional Parameters Lengthï¼‰ï¼šå¯é€‰å‚æ•°çš„é•¿åº¦ã€‚å¦‚æœä¸º0åˆ™æ²¡æœ‰å¯é€‰å‚æ•°&lt;/li&gt;
&lt;li&gt;Optional Parametersï¼šæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ç”¨äºBGPéªŒè¯æˆ–å¤šåè®®æ‰©å±•ï¼ˆMultiprotocol Extensionsï¼‰ç­‰åŠŸèƒ½ã€‚æ¯ä¸€ä¸ªå‚æ•°ä¸ºä¸€ä¸ªï¼ˆParameter Type-Parameter Length-Parameter Valueï¼‰ä¸‰å…ƒç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;keepalive&#34;&gt;KeepAlive&lt;/h4&gt;
&lt;p&gt;è¯¥æ¶ˆæ¯åœ¨å¯¹ç­‰ä½“ä¹‹é—´å‘¨æœŸæ€§ï¼ˆ60sï¼‰åœ°å‘é€ï¼Œæ£€æµ‹TCPçš„è¿é€šæ€§ï¼Œç”¨ä»¥ç»´æŠ¤è¿æ¥ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594955204497.png&#34; alt=&#34;KeepAlive&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
KeepAliveæŠ¥æ–‡ä¸»è¦ç”¨äºå¯¹ç­‰ä½“è·¯ç”±å™¨é—´çš„è¿è¡ŒçŠ¶æ€ä»¥åŠé“¾è·¯çš„å¯ç”¨æ€§ç¡®è®¤ã€‚KeepAlive æŠ¥æ–‡çš„ç»„æˆ&lt;strong&gt;åªåŒ…æ‹¬ä¸€ä¸ªBGPæ•°æ®æŠ¥å¤´&lt;/strong&gt;ã€‚ KeepAlive æ¶ˆæ¯åœ¨å¯¹ç­‰ä½“ä¹‹é—´çš„&lt;strong&gt;äº¤æ¢é¢‘ç‡ä»¥ä¿è¯å¯¹æ–¹ä¿æŒå®šæ—¶å™¨ä¸è¶…æ—¶ä¸ºé™&lt;/strong&gt;ã€‚&lt;br&gt;
ç¼ºçœæƒ…å†µä¸‹ï¼Œå‘é€&lt;strong&gt;KeepAliveçš„æ—¶é—´é—´éš”ä¸º60ç§’&lt;/strong&gt;ï¼Œ&lt;strong&gt;Hold Timeæ˜¯180ç§’&lt;/strong&gt;ã€‚æ¯æ¬¡ä»é‚»å±…å¤„æ¥æ”¶åˆ°KeepAlive æŠ¥æ–‡å°†é‡ç½®Hold Timeå®šæ—¶å™¨ï¼Œå¦‚æœHold Timeå®šæ—¶å™¨è¶…æ—¶ï¼Œå°±è®¤ä¸ºå¯¹ç­‰ä½“Downæ‰ã€‚&lt;br&gt;
å¯¹ç­‰ä½“åœ¨æ¥æ”¶åˆ°Openæ¶ˆæ¯åï¼Œå°†å‘é€Keepaliveæ¶ˆæ¯ç¡®è®¤å¹¶ä¿æŒè¿æ¥çš„æœ‰æ•ˆæ€§ã€‚ç¡®è®¤åï¼Œå¯¹ç­‰ä½“é—´å¯ä»¥è¿›è¡ŒUpdateã€Notificationã€Keepaliveå’ŒRoute-refreshæ¶ˆæ¯çš„äº¤æ¢ã€‚&lt;/p&gt;
&lt;h4 id=&#34;update&#34;&gt;Update&lt;/h4&gt;
&lt;p&gt;è¯¥æ¶ˆæ¯è¢«ç”¨æ¥åœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯ï¼ˆæ›´æ–°ã€æ’¤é”€ï¼‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594955311891.png&#34; alt=&#34;Update&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ’¤é”€è·¯ç”±éƒ¨åˆ†ï¼š
&lt;ul&gt;
&lt;li&gt;Withdrawn Routes Length ï¼šï¼ˆ2å­—èŠ‚æ— ç¬¦å·æ•´æ•°ï¼‰ &lt;strong&gt;ä¸å¯è¾¾è·¯ç”±é•¿åº¦&lt;/strong&gt;ï¼Œè¡¨ç¤ºWithdrawn Routeså­—æ®µçš„æ•°æ®é•¿åº¦ã€‚å¦‚æœWithdrawn Routes Lengthå­—æ®µæ•°å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºWithdrawn Routeså­—æ®µæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œåœ¨UPDATEæ¶ˆæ¯ä¸­ä¸ä¼šè¢«æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;Withdrawn Routes ï¼šï¼ˆå˜é•¿ï¼‰ æ’¤é”€è·¯ç”±ã€‚è¯¥å­—æ®µåŒ…æ‹¬ä¸€ç³»åˆ—çš„IPåœ°å€å‰ç¼€ä¿¡æ¯ï¼Œä»¥&amp;lt;length, prefix&amp;gt;çš„æ ¼å¼æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚&amp;lt;19,198.18.160.0&amp;gt;è¡¨ç¤ºä¸€ä¸ª&lt;code&gt;198.18.160.0 255.255.224.0&lt;/code&gt;çš„ç½‘ç»œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ›´æ–°è·¯ç”±éƒ¨åˆ†ï¼š
&lt;ul&gt;
&lt;li&gt;Path Attribute Length ï¼šï¼ˆ2å­—èŠ‚æ— ç¬¦å·æ•´æ•°ï¼‰&lt;strong&gt;è·¯ç”±å±æ€§é•¿åº¦&lt;/strong&gt;ï¼Œè¡¨ç¤ºPath Attributeå­—æ®µçš„æ•°æ®é•¿åº¦ã€‚å¦‚æœPath Attribute Lengthæ•°å€¼ä¸º0ï¼Œåˆ™è¡¨ç¤ºPath Attributeå­—æ®µæ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œåœ¨UPDATEæ¶ˆæ¯ä¸­ä¸ä¼šè¢«æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;Path Attributes ï¼šï¼ˆå˜é•¿ï¼‰ è·¯å¾„å±æ€§ã€‚æ¯ä¸ªè·¯å¾„å±æ€§éƒ½æ˜¯ç”±ä¸‰å…ƒç»„æ‰€ç»„æˆï¼š&amp;lt;attribute type, attribute length, attribute value&amp;gt;&lt;/li&gt;
&lt;li&gt;Network Layer Reachability Information ï¼šï¼ˆå˜é•¿ï¼‰ ç½‘ç»œå¯è¾¾ä¿¡æ¯ã€‚åŒ…æ‹¬ä¸€ç³»åˆ—çš„IPåœ°å€å‰ç¼€ã€‚æ ¼å¼ä¸æ’¤æ¶ˆè·¯ç”±å­—æ®µä¸€æ ·&amp;lt;length, prefix&amp;gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æœ€å°UPDATEæ¶ˆæ¯&lt;/strong&gt;çš„é•¿åº¦ä¸º23ä¸ªå­—èŠ‚(19å­—èŠ‚çš„æŠ¥æ–‡å¤´+2å­—èŠ‚çš„æ’¤æ¶ˆè·¯ç”±é•¿åº¦+2å­—èŠ‚çš„è·¯å¾„å±æ€§é•¿åº¦)ã€‚è¿™æ ·çš„UPDATEæ¶ˆæ¯è¢«ç§°ä¹‹ä¸º&lt;strong&gt;End-of-RIBï¼Œç”¨äºBGP GR&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;å‘å¸ƒå¤šæ¡å…·æœ‰ç›¸åŒè·¯ç”±å±æ€§çš„å¯è¾¾è·¯ç”±&lt;/strong&gt;ï¼Œè¿™äº›è·¯ç”±å¯å…±äº«ä¸€ç»„è·¯ç”±å±æ€§ã€‚æ‰€æœ‰åŒ…å«åœ¨ä¸€ä¸ªç»™å®šçš„Updateæ¶ˆæ¯é‡Œçš„è·¯ç”±å±æ€§é€‚ç”¨äºè¯¥Updateæ¶ˆæ¯ä¸­çš„NLRI(ç½‘ç»œå±‚å¯è¾¾æ€§ä¿¡æ¯)å­—æ®µé‡Œçš„æ‰€æœ‰ç›®çš„åœ°ï¼ˆç”¨IPå‰ç¼€è¡¨ç¤ºï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;æ’¤é”€å¤šæ¡ä¸å¯è¾¾è·¯ç”±&lt;/strong&gt;ã€‚æ¯ä¸€ä¸ªè·¯ç”±é€šè¿‡ç›®çš„åœ°ï¼ˆç”¨IPå‰ç¼€è¡¨ç¤ºï¼‰ï¼Œæ¸…æ¥šçš„å®šä¹‰äº†BGP Speakerä¹‹é—´å…ˆå‰é€šå‘Šè¿‡çš„è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€æ¡UPDATEæ¶ˆæ¯å¯ä»¥&lt;strong&gt;åªç”¨äºæ’¤é”€è·¯ç”±&lt;/strong&gt;ï¼Œè¿™æ ·å°±ä¸éœ€è¦åŒ…æ‹¬è·¯å¾„å±æ€§æˆ–è€…ç½‘ç»œå¯è¾¾ä¿¡æ¯ã€‚ç›¸åï¼Œä¹Ÿå¯ä»¥&lt;strong&gt;åªç”¨äºé€šå‘Šå¯è¾¾è·¯ç”±&lt;/strong&gt;ï¼Œå°±ä¸éœ€è¦æºå¸¦Withdrawn Routesäº†ã€‚&lt;strong&gt;ä¸å¯å³æ›´æ–°åˆæ’¤é”€è·¯ç”±&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;notification&#34;&gt;Notification&lt;/h4&gt;
&lt;p&gt;å½“BGP Speakeræ£€æµ‹åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œå°±å‘é€è¯¥æ¶ˆæ¯ç»™å¯¹ç­‰ä½“ï¼ˆæŠ¥é”™ï¼Œç”¨äºæ‹†é™¤è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594962555808.png&#34; alt=&#34;Notification&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Errorcodeï¼šé”™è¯¯ç ã€‚1å­—èŠ‚é•¿çš„å­—æ®µã€‚æ¯ä¸ªä¸åŒçš„é”™è¯¯éƒ½ä½¿ç”¨å”¯ä¸€çš„ä»£ç è¡¨ç¤ºï¼Œè€Œæ¯ä¸€ä¸ªé”™è¯¯ç éƒ½å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªé”™è¯¯å­ç ï¼Œä½†å¦‚æœæŸäº›é”™è¯¯ç å¹¶ä¸å­˜åœ¨é”™è¯¯å­ç çš„è¯ï¼Œåˆ™è¯¥é”™è¯¯å­ç å­—æ®µä»¥å…¨0è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;Errsubcodeï¼šé”™è¯¯å­ç &lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594964879096.png&#34; alt=&#34;é”™è¯¯ç å’Œé”™è¯¯å­ç &#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;route-refresh&#34;&gt;Route-refresh&lt;/h4&gt;
&lt;p&gt;ç”¨æ¥é€šçŸ¥å¯¹ç­‰ä½“è‡ªå·±æ”¯æŒè·¯ç”±åˆ·æ–°èƒ½åŠ›ã€‚&lt;code&gt;å¯¹ç­‰ä½“ä¸€ç«¯ä¸æ”¯æŒè·¯ç”±åˆ·æ–°çš„èƒ½åŠ›ï¼Œå¦‚æœå¼ºåˆ¶åˆ·æ–°ï¼Œåˆ™ä¼šé‡æ–°å»ºç«‹é‚»å±…&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594962609077.png&#34; alt=&#34;Route-refresh&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AFIï¼ˆAddress Family Identifierï¼‰ï¼šåœ°å€æ—æ ‡è¯†ç¬¦ï¼ˆ2å­—èŠ‚ï¼‰&lt;/li&gt;
&lt;li&gt;Res.ï¼ˆReserved fieldï¼‰ï¼šä¿ç•™åŒºåŸŸï¼ˆ1å­—èŠ‚ï¼‰ï¼Œå‘é€æ–¹åº”å°†å…¶è®¾ç½®ä¸º0ï¼Œæ¥æ”¶æ–¹åº”å½“å¿½ç•¥è¯¥åŒºåŸŸçš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;SAFIï¼ˆSubsequent Address Family Identifierï¼‰ï¼šå­åœ°å€æ—æ ‡è¯†ç¬¦ï¼ˆ8å­—èŠ‚ï¼‰ã€‚&lt;br&gt;
åœ¨æ‰€æœ‰BGPè·¯ç”±å™¨ä½¿èƒ½Route-refreshèƒ½åŠ›çš„æƒ…å†µä¸‹ï¼Œå¦‚æœBGPçš„å…¥å£è·¯ç”±ç­–ç•¥å‘ç”Ÿäº†å˜åŒ–ï¼Œæœ¬åœ°BGPè·¯ç”±å™¨ä¼šå‘å¯¹ç­‰ä½“å‘å¸ƒRoute-refreshæ¶ˆæ¯ï¼Œ&lt;strong&gt;æ”¶åˆ°æ­¤æ¶ˆæ¯çš„å¯¹ç­‰ä½“ä¼šå°†å…¶è·¯ç”±ä¿¡æ¯é‡æ–°å‘ç»™æœ¬åœ°BGPè·¯ç”±å™¨&lt;/strong&gt;ã€‚è¿™æ ·ï¼Œå¯ä»¥åœ¨ä¸ä¸­æ–­BGPè¿æ¥çš„æƒ…å†µä¸‹ï¼Œå¯¹BGPè·¯ç”±è¡¨è¿›è¡ŒåŠ¨æ€åˆ·æ–°ï¼Œå¹¶åº”ç”¨æ–°çš„è·¯ç”±ç­–ç•¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ¶ˆæ¯çš„åº”ç”¨&#34;&gt;æ¶ˆæ¯çš„åº”ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;BGPä½¿ç”¨TCPå»ºç«‹è¿æ¥ï¼Œæœ¬åœ°ç›‘å¬ç«¯å£ä¸º179ã€‚å’ŒTCPè¿æ¥å»ºç«‹ç›¸åŒï¼ŒBGPè¿æ¥çš„å»ºç«‹ä¹Ÿè¦ç»è¿‡ä¸€ç³»åˆ—çš„å¯¹è¯å’Œæ¡æ‰‹ã€‚TCPé€šè¿‡æ¡æ‰‹åå•†é€šå‘Šå…¶ç«¯å£ç­‰å‚æ•°ï¼ŒBGPçš„æ¡æ‰‹åå•†çš„å‚æ•°æœ‰ï¼šBGPç‰ˆæœ¬ã€BGPè¿æ¥ä¿æŒæ—¶é—´ã€æœ¬åœ°çš„è·¯ç”±å™¨æ ‡è¯†ï¼ˆRouter IDï¼‰ã€æˆæƒä¿¡æ¯ç­‰ã€‚è¿™äº›ä¿¡æ¯éƒ½åœ¨Openæ¶ˆæ¯ä¸­æºå¸¦ã€‚&lt;/li&gt;
&lt;li&gt;BGPè¿æ¥å»ºç«‹åï¼Œå¦‚æœæœ‰è·¯ç”±éœ€è¦å‘é€åˆ™å‘é€Updateæ¶ˆæ¯é€šå‘Šå¯¹ç«¯ã€‚Updateæ¶ˆæ¯å‘å¸ƒè·¯ç”±æ—¶ï¼Œè¿˜è¦æºå¸¦æ­¤è·¯ç”±çš„è·¯ç”±å±æ€§ï¼Œç”¨ä»¥å¸®åŠ©å¯¹ç«¯BGPåè®®é€‰æ‹©æœ€ä¼˜è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æœ¬åœ°BGPè·¯ç”±å˜åŒ–æ—¶ï¼Œè¦é€šè¿‡Updateæ¶ˆæ¯æ¥é€šçŸ¥BGPå¯¹ç­‰ä½“ã€‚&lt;/li&gt;
&lt;li&gt;ç»è¿‡ä¸€æ®µæ—¶é—´çš„è·¯ç”±ä¿¡æ¯äº¤æ¢åï¼Œæœ¬åœ°BGPå’Œå¯¹ç«¯BGPéƒ½æ— æ–°è·¯ç”±é€šå‘Šï¼Œè¶‹äºç¨³å®šçŠ¶æ€ã€‚æ­¤æ—¶è¦å®šæ—¶å‘é€KEEPALIVEæ¶ˆæ¯ä»¥ä¿æŒBGPè¿æ¥çš„æœ‰æ•ˆæ€§ã€‚å¯¹äºæœ¬åœ°BGPï¼Œå¦‚æœåœ¨ä¿æŒæ—¶é—´å†…ï¼Œæœªæ”¶åˆ°ä»»ä½•å¯¹ç«¯å‘æ¥çš„BGPæ¶ˆæ¯ï¼Œå°±è®¤ä¸ºæ­¤BGPè¿æ¥å·²ç»ä¸­æ–­ï¼Œå°†æ–­å¼€æ­¤BGPè¿æ¥ï¼Œå¹¶åˆ é™¤æ‰€æœ‰ä»è¯¥å¯¹ç­‰ä½“å­¦æ¥çš„BGPè·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;å½“æœ¬åœ°BGPåœ¨è¿è¡Œä¸­å‘ç°é”™è¯¯æ—¶ï¼Œè¦å‘é€NOTIFICATIONæ¶ˆæ¯é€šå‘ŠBGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è·¯ç”±äº§ç”Ÿ&#34;&gt;è·¯ç”±äº§ç”Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;IGP
&lt;ul&gt;
&lt;li&gt;æ±‡æ€»ï¼Œä½†éœ€è¦æœ‰æ˜ç»†&lt;/li&gt;
&lt;li&gt;networkæ—¢èƒ½æ¿€æ´»æ¥å£åˆèƒ½äº§ç”Ÿæ¥å£æ‰€åœ¨ç½‘ç»œçš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;é‡åˆ†å¸ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BGP
&lt;ul&gt;
&lt;li&gt;networkï¼ˆç²¾ç¡®çš„å°†ä¸€æ¡IGPè·¯ç”±æ”¾å…¥BGP tableï¼‰&lt;/li&gt;
&lt;li&gt;åŸå­èšåˆï¼ˆæ±‡æ€»ï¼Œéœ€è¦è‡³å°‘ä¸€æ¡æ˜ç»†çš„å­˜åœ¨ï¼‰&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ³¨å…¥ï¼ˆè·¯ç”±æ‹†åˆ†ï¼Œéœ€è¦èšåˆè·¯ç”±çš„å­˜åœ¨ï¼‰&lt;/li&gt;
&lt;li&gt;é‡åˆ†å¸ƒ&lt;br&gt;
&lt;code&gt;æ³¨æ„ï¼ŒBGPçš„æ¡ç›®ï¼Œä¸‹ä¸€è·³IPåœ°å€åœ¨IGPè·¯ç”±è¡¨ä¸­å¯æŸ¥è¯¢åˆ°ï¼Œå¹¶ä¸”å¯è¾¾ï¼ˆä½†å…¶å®BGPå¹¶ä¸æ£€æµ‹åˆ°åº•èƒ½ä¸èƒ½é€šï¼‰ï¼Œè¯¥æ¡ç›®æ‰èƒ½è¢«BGPçš„é€‰è·¯ç®—æ³•ä¼˜é€‰ï¼ˆè·¯ç”±è®¡ç®—ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bgpæŠ¥æ–‡ttlå€¼&#34;&gt;BGPæŠ¥æ–‡TTLå€¼&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;eBGP&lt;/strong&gt;æŠ¥æ–‡çš„TTL &lt;strong&gt;é»˜è®¤æ˜¯1&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;iBGP&lt;/strong&gt;æŠ¥æ–‡çš„TTL &lt;strong&gt;é»˜è®¤æ˜¯255&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;è·¯ç”±é»‘æ´&#34;&gt;è·¯ç”±é»‘æ´&lt;/h3&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œå®ƒä¼šé»˜é»˜çš„å°†æ•°æ®åŒ…ä¸¢å¼ƒï¼Œä½¿æ‰€æœ‰æ•°æ®åŒ…æœ‰å»æ— å›ï¼Œä¸»è¦åŸå› æ˜¯&lt;strong&gt;æ²¡æœ‰ç›¸åº”çš„è·¯ç”±&lt;/strong&gt;ï¼Œæœ¬è´¨æ˜¯&lt;strong&gt;IPé€è·³è½¬å‘å¯¼è‡´æ•°æ®åŒ…ä¸¢å¤±&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://fqj.myds.me:4433/post/05-bgp20200518/&#34;&gt;è·¯ç”±é»‘æ´&lt;/a&gt;&lt;br&gt;
åœ¨æœ¬è¯¾ç¨‹æ‹“æ‰‘ä¸­ï¼ŒR1å’ŒR4å»ºç«‹iBGPå¯¹ç­‰ä½“ï¼ŒR4ä¸Š&lt;code&gt;ping -a 4.4.4.4 1.1.1.1&lt;/code&gt;ä¸é€š&lt;br&gt;
ã€R4ä¸Šbgpè·¯ç”±è¡¨ä¸­1.1.1.1çš„ä¼˜é€‰è·¯ç”±çš„ä¸‹ä¸€è·³ä¸º11.1.1.1ï¼Œä½†æ˜¯&lt;code&gt;show ip cef&lt;/code&gt;çš„ç»“æœä¸º1.1.1.1çš„ä¸‹ä¸€è·³ä¸º10.1.34.3ï¼Œå‡ºå£ä¸ºg0/0/2ï¼Œä¸»è¦åŸå› æ˜¯OSPFé€‰æ‹©è·¯ç”±çš„æ–¹å¼æ˜¯åŸºäºå¸¦å®½çš„ï¼Œå¯¼è‡´R4æœ€ç»ˆè·¯ç”±é€‰æ‹©ä¸‹ä¸€è·³ä¸ºR3ï¼Œä½†æ˜¯R3ä¸Šæ²¡æœ‰11.1.1.1çš„è·¯ç”±ã€‘&lt;/p&gt;
&lt;h4 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;è§£å†³æ–¹æ¡ˆ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å°†BGPå¼•å…¥IGPä¸­
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æƒ…æ™¯ï¼šASä¹‹é—´é€šè¿‡BGPä¼ é€’&lt;strong&gt;å°‘é‡ç»è¿‡èšåˆ&lt;/strong&gt;çš„å‰ç¼€ã€‚å¦‚æœæ˜¯æŠŠæ¥è‡ªIBGPçš„è·¯ç”±å¼•å…¥åˆ°IGPï¼Œåˆ™éœ€è¦å¼€å…³ã€‚&lt;br&gt;
&lt;code&gt;iBGPå¯¹ç­‰ä½“ä¹‹é—´çš„è½¬å‘è·¯å¾„ä¸Šå‡ºç°è·¯ç”±é»‘æ´ï¼Œå¯ä»¥ä½¿ç”¨å…¨äº’è”ã€MPLSã€è·¯ç”±åå°„å™¨RRè§£å†³&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…¨äº’è”
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æƒ…æ™¯ï¼šé€‚ç”¨äºå¯¹ç­‰ä½“æ•°é‡è¾ƒå°‘çš„ç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MPLS
&lt;ul&gt;
&lt;li&gt;æ›´åŠ é€‚ç”¨äºæ–°çš„ç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±åå°„å™¨RR
&lt;ul&gt;
&lt;li&gt;æœ¬è´¨æ˜¯ä¸€ç§é’ˆå¯¹ä¸iBGPå…¨äº’è”çš„ä¼˜åŒ–æ–¹æ¡ˆ&lt;br&gt;
&lt;code&gt;iBGPçš„æ°´å¹³åˆ†å‰²è§„åˆ™ï¼šæ¥è‡ªiBGPå¯¹ç­‰ä½“çš„è·¯ç”±ï¼Œä¸èƒ½ä¼ é€’ç»™iBGPå¯¹ç­‰ä½“ ã€‚è·¯ç”±åå°„å™¨æ˜¯ä¸“é—¨ç ´åè¿™ä¸ªè§„åˆ™çš„&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bgpçš„ä¸‹ä¸€è·³è§„åˆ™&#34;&gt;BGPçš„ä¸‹ä¸€è·³è§„åˆ™&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;BGP speakeråœ¨å‘å¤–æ›´æ–°è·¯ç”±çš„æ—¶å€™ï¼Œå¦‚æœå¯¹æ–¹æ˜¯&lt;strong&gt;iBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œé»˜è®¤&lt;strong&gt;ä¸ä¿®æ”¹&lt;/strong&gt;ä¸‹ä¸€è·³å±æ€§&lt;/li&gt;
&lt;li&gt;BGP speakeråœ¨å‘å¤–æ›´æ–°è·¯ç”±çš„æ—¶å€™ï¼Œå¦‚æœå¯¹æ–¹æ˜¯&lt;strong&gt;eBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œé»˜è®¤å°†ä¼š&lt;strong&gt;ä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;å±æ€§ä¸ºè‡ªèº«æ›´æ–°æºåœ°å€&lt;br&gt;
&lt;code&gt;ä¿®æ­£ä¸‹ä¸€è·³ï¼Œè§£å†³ä¸‹ä¸€è·³ä¸å¯è¾¾çš„é—®é¢˜&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;æ“ä½œç³»ç»Ÿé¢„å®šä¹‰äº†ä¸¤ä¸ªBGPä¸‹ä¸€è·³å±æ€§çš„ä¿®æ”¹è¡Œä¸º&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ä¸‹ä¸€è·³è‡ªæˆ‘&lt;/code&gt;ã€é€šå¸¸ï¼Œä¼šåœ¨ASBRä¸Šé’ˆå¯¹å†…éƒ¨çš„iBGPå¯¹ç­‰ä½“åº”ç”¨ä¸‹ä¸€è·³è‡ªæˆ‘ã€‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ä¸‹ä¸€è·³ä¸æ”¹å˜&lt;/code&gt;ã€å¤šç”¨äºåŸŸé—´ MPLS VPNã€‘&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ebgpé˜²ç¯&#34;&gt;eBGPé˜²ç¯&lt;/h3&gt;
&lt;p&gt;eBGPé˜²ç¯é è‡ªæ²»ç³»ç»Ÿ&lt;strong&gt;è·¯å¾„åˆ—è¡¨&lt;/strong&gt;å±æ€§ã€‚BGPä¼šåœ¨å°†è·¯ç”±ä¼ é€’ç»™eBGPé‚»å±…çš„æ—¶å€™ï¼Œåœ¨åˆ—è¡¨çš„æœ€å‰é¢åŠ ä¸Šè‡ªèº«çš„ASå·ç ï¼Œå½“æ”¶åˆ°ä¸€ä¸ªæ¥è‡ªeBGPé‚»å±…çš„è·¯ç”±æ—¶ï¼Œå°†ä¼šæ£€æµ‹è¿™ä¸ªå±æ€§ï¼Œå¦‚æœåŒ…å«æœ¬åœ°ASå·ç ï¼Œåˆ™æ‹’æ”¶è¯¥è·¯å¾„ä¸Šæ¥çš„è·¯ç”±ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å·¥ä½œæœºåˆ¶&#34;&gt;å·¥ä½œæœºåˆ¶&lt;/h3&gt;
&lt;h4 id=&#34;bgpè·¯ç”±ä¼ é€’&#34;&gt;BGPè·¯ç”±ä¼ é€’&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;BGPé€šè¿‡å•æ’­æ–¹å¼æ„å»ºTCPä¼šè¯ä»¥å»ºç«‹BGPé‚»å±…ï¼Œå¹¶ä¿æŒè¯¥ä¼šè¯&lt;/li&gt;
&lt;li&gt;å»ºç«‹è¿æ¥çš„ä¸¤å°è®¾å¤‡äº’ä¸ºå¯¹ç­‰ä½“ï¼Œä¸ºäº†ç¡®ä¿ä¸¤è¾¹è®¾å¤‡çš„BGPè¿›ç¨‹éƒ½æ­£åœ¨è¿è¡Œï¼Œè¦æ±‚ä¸¤ç«¯çš„è®¾å¤‡é€šè¿‡è¯¥TCPè¿æ¥å‘¨æœŸæ€§çš„å‘é€KeepAliveæ¶ˆæ¯ï¼Œä»¥å‘å¯¹ç«¯ç¡®è®¤è‡ªå·±è¿˜å­˜æ´»&lt;/li&gt;
&lt;li&gt;BGPé€šè¿‡å®šä¹‰ç­–ç•¥æˆ–è€…è§„åˆ™æ¥ç©¿è¶ŠASï¼Œæ‰€ä»¥BGPæ˜¯as-by-asçš„è€ŒéIGPçš„åŸºäºè·¯ç”±å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;bgpå¯é çš„è·¯ç”±æ›´æ–°&#34;&gt;BGPå¯é çš„è·¯ç”±æ›´æ–°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¼ è¾“åè®®ï¼šTCPï¼Œç«¯å£å·179&lt;/li&gt;
&lt;li&gt;æ— éœ€å‘¨æœŸæ€§æ›´æ–°&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ›´æ–°ï¼šåªå‘é€å¢é‡è·¯ç”±ï¼ˆå¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤çš„è·¯ç”±ä¿¡æ¯ï¼‰ï¼Œå¤§å¤§å‡å°‘äº†ä¼ æ’­è·¯ç”±æ—¶æ‰€å ç”¨çš„å¸¦å®½ï¼Œé€‚ç”¨äºåœ¨Internetä¸Šä¼ æ’­å¤§é‡çš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§ï¼ˆ60sï¼‰å‘é€keepAliveæŠ¥æ–‡æ£€æµ‹TCPçš„è¿é€šæ€§&lt;br&gt;
&lt;code&gt;TCPè·¯ç”±ä¼ é€’ï¼ŒåŸºäºé«˜å±‚çš„è·¯ç”±æœåŠ¡ï¼Œä¸å¿…ä¾èµ–IPæ”¯æŒã€‚å¢é‡æ›´æ–°å‡å°‘èµ„æºå ç”¨ï¼Œkeepaliveä¿æŒTCPä¼šè¯&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bgpçŠ¶æ€æœº&#34;&gt;BGPçŠ¶æ€æœº&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594965930073.png&#34; alt=&#34;BGPçŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Idleï¼š&lt;br&gt;
BGPè¿æ¥çš„&lt;strong&gt;ç¬¬ä¸€ä¸ªçŠ¶æ€&lt;/strong&gt;ã€‚åœ¨ç©ºé—²çŠ¶æ€ï¼ŒBGPåœ¨ç­‰å¾…ä¸€ä¸ªå¯åŠ¨äº‹ä»¶ã€‚å¯åŠ¨äº‹ä»¶å‡ºç°ä»¥åï¼ŒBGPåˆå§‹åŒ–èµ„æºï¼Œå¤ä½è¿æ¥é‡è¯•è®¡æ—¶å™¨ï¼ˆConnect-Retryï¼‰ï¼Œ
&lt;ul&gt;
&lt;li&gt;å‘èµ·ä¸€æ¡TCPè¿æ¥ï¼ŒåŒæ—¶è½¬å…¥Connectï¼ˆè¿æ¥ï¼‰çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Connectï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼ŒBGP&lt;strong&gt;å‘èµ·ç¬¬ä¸€ä¸ªTCPè¿æ¥&lt;/strong&gt;ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡è¯•è®¡æ—¶å™¨è¶…æ—¶ï¼Œå°±é‡æ–°å‘èµ·TCPè¿æ¥ï¼Œå¹¶ç»§ç»­ä¿æŒåœ¨ConnectçŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥æˆåŠŸï¼Œå°±è½¬å…¥OpenSentçŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥å¤±è´¥ï¼Œå°±è½¬å…¥ActiveçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Activeï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼ŒBGPæ€»æ˜¯åœ¨&lt;strong&gt;è¯•å›¾å»ºç«‹TCPè¿æ¥&lt;/strong&gt;ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡è¯•è®¡æ—¶å™¨ï¼ˆConnect-Retryï¼‰è¶…æ—¶ï¼Œå°±é€€å›åˆ°ConnectçŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥æˆåŠŸï¼Œå°±è½¬å…¥OpenSentçŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥å¤±è´¥ï¼Œå°±ç»§ç»­ä¿æŒåœ¨ActiveçŠ¶æ€ï¼Œå¹¶ç»§ç»­å‘èµ·TCPè¿æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenSentï¼š&lt;br&gt;
åœ¨æ­¤çŠ¶æ€ï¼Œ&lt;strong&gt;TCPè¿æ¥å·²ç»å»ºç«‹&lt;/strong&gt;ï¼ŒBGPä¹Ÿ&lt;strong&gt;å·²ç»å‘é€äº†ç¬¬ä¸€ä¸ªOpenæŠ¥æ–‡&lt;/strong&gt;ï¼Œå‰©ä¸‹çš„å·¥ä½œï¼ŒBGPå°±åœ¨&lt;strong&gt;ç­‰å¾…å…¶å¯¹ç­‰ä½“å‘é€OpenæŠ¥æ–‡&lt;/strong&gt;ã€‚å¹¶å¯¹æ”¶åˆ°çš„OpenæŠ¥æ–‡è¿›è¡Œæ­£ç¡®æ€§æ£€æŸ¥ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœæœ‰é”™è¯¯ï¼Œç³»ç»Ÿå°±ä¼šå‘é€ä¸€æ¡å‡ºé”™é€šçŸ¥æ¶ˆæ¯å¹¶é€€å›åˆ°IdleçŠ¶æ€ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰é”™è¯¯ï¼ŒBGPå°±å¼€å§‹å‘é€KeepaliveæŠ¥æ–‡ï¼Œå¹¶å¤ä½Keepaliveè®¡æ—¶å™¨ï¼Œå¼€å§‹è®¡æ—¶ã€‚&lt;strong&gt;åŒæ—¶è½¬å…¥OpenConfirmçŠ¶æ€ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;OpenConfirmï¼š&lt;br&gt;
åœ¨OpenConfirmçŠ¶æ€ï¼ŒBGP&lt;strong&gt;ç­‰å¾…ä¸€ä¸ªKeepaliveæŠ¥æ–‡ï¼ŒåŒæ—¶å¤ä½ä¿æŒè®¡æ—¶å™¨&lt;/strong&gt;ï¼Œ
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°äº†ä¸€ä¸ªKeepaliveæŠ¥æ–‡ï¼Œå°±è½¬å…¥Establishedé˜¶æ®µï¼ŒBGPé‚»å±…å…³ç³»å°±å»ºç«‹èµ·æ¥äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Establishedï¼š&lt;br&gt;
åœ¨EstablishedçŠ¶æ€ï¼ŒBGPé‚»å±…å…³ç³»&lt;strong&gt;å·²ç»å»ºç«‹&lt;/strong&gt;ï¼Œè¿™æ—¶ï¼ŒBGPå°†å’Œå®ƒçš„é‚»å±…ä»¬äº¤æ¢UpdateæŠ¥æ–‡ï¼ŒåŒæ—¶å¤ä½ä¿æŒè®¡æ—¶å™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é™¤IdleçŠ¶æ€ä»¥å¤–çš„å…¶å®ƒäº”ä¸ªçŠ¶æ€&lt;strong&gt;å‡ºç°ä»»ä½•Errorçš„æ—¶å€™ï¼ŒBGPçŠ¶æ€æœºå°±ä¼šé€€å›åˆ°IdleçŠ¶æ€&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨BGPå¯¹ç­‰ä½“å»ºç«‹çš„è¿‡ç¨‹ä¸­ï¼Œ&lt;strong&gt;é€šå¸¸å¯è§çš„ä¸‰ä¸ªçŠ¶æ€æ˜¯ï¼šIdleã€Activeã€Established&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IdleçŠ¶æ€ä¸‹ï¼ŒBGPæ‹’ç»ä»»ä½•è¿›å…¥çš„è¿æ¥è¯·æ±‚ï¼Œæ˜¯BGPåˆå§‹çŠ¶æ€ã€‚&lt;br&gt;
ActiveçŠ¶æ€ä¸‹ï¼ŒBGPå°†å°è¯•è¿›è¡ŒTCPè¿æ¥çš„å»ºç«‹ï¼Œæ˜¯BGPçš„ä¸­é—´çŠ¶æ€ã€‚&lt;br&gt;
EstablishedçŠ¶æ€ä¸‹ï¼ŒBGPå¯¹ç­‰ä½“é—´å¯ä»¥äº¤æ¢UpdateæŠ¥æ–‡ã€Route-refreshæŠ¥æ–‡ã€KeepaliveæŠ¥æ–‡å’ŒNotificationæŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;BGPå¯¹ç­‰ä½“åŒæ–¹çš„çŠ¶æ€å¿…é¡»éƒ½ä¸ºEstablishedï¼ŒBGPé‚»å±…å…³ç³»æ‰èƒ½æˆç«‹ï¼ŒåŒæ–¹é€šè¿‡UpdateæŠ¥æ–‡äº¤æ¢è·¯ç”±ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;bgpçš„æ•°æ®åº“&#34;&gt;BGPçš„æ•°æ®åº“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;IPè·¯ç”±è¡¨ (IP-RIB)ï¼šå…¨å±€è·¯ç”±ä¿¡æ¯åº“ï¼ŒåŒ…æ‹¬æ‰€æœ‰IPè·¯ç”±ä¿¡æ¯&lt;code&gt;dis ip rou&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é‚»å±…è¡¨ï¼šå¯¹ç­‰ä½“é‚»å±…æ¸…å•åˆ—è¡¨&lt;code&gt;dis bgp peer&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;BGPè·¯ç”±è¡¨ (Loc-RIB)ï¼šBGPè·¯ç”±ä¿¡æ¯åº“ï¼ŒåŒ…æ‹¬æœ¬åœ°BGP Speakeré€‰æ‹©çš„è·¯ç”±ä¿¡æ¯&lt;code&gt;dis bgp rou&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Adj-RIB-Inï¼šå¯¹ç­‰ä½“å®£å‘Šç»™æœ¬åœ°Speakerçš„æœªå¤„ç†çš„è·¯ç”±ä¿¡æ¯åº“&lt;/li&gt;
&lt;li&gt;Adj-RIB-Outï¼šæœ¬åœ°Speakerå®£å‘Šç»™æŒ‡å®šå¯¹ç­‰ä½“çš„è·¯ç”±ä¿¡æ¯åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bgpç­–ç•¥å¼•æ“å’Œè·¯å¾„é€‰æ‹©&#34;&gt;BGPç­–ç•¥å¼•æ“å’Œè·¯å¾„é€‰æ‹©&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594967902505.png&#34; alt=&#34;BGPè·¯ç”±ä¿¡æ¯å¤„ç†&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æœ¬åœ°è¢«ä¼˜é€‰çš„è·¯ç”±ï¼Œæ‰å…è®¸æ›´æ–°ç»™å¯¹ç­‰ä½“&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸»åŠ¨ä¸è¢«åŠ¨è¿æ¥tcp&#34;&gt;ä¸»åŠ¨ä¸è¢«åŠ¨è¿æ¥TCP&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;neighbor 11.1.1.1 transport connection-mode [active|passive] # æ€ç§‘&lt;/code&gt;&lt;br&gt;
æ‰§è¡Œ&lt;code&gt;peer 11.1.1.1 lister-only&lt;/code&gt;å‘½ä»¤ä¹‹åï¼Œåˆ™å¯¹ç­‰ä½“ä¸ä¼šä¸»åŠ¨å‘èµ·è¿æ¥ï¼Œä¼šå¯¼è‡´å·²ç»å»ºç«‹çš„é‚»å±…ä¼šè¯ä¸­æ–­ï¼Œæœ¬ç«¯ç­‰å¾…å¯¹ç«¯å‘èµ·è¿æ¥è¯·æ±‚ä¹‹åï¼Œé‡æ–°å»ºç«‹é‚»å±…ä¼šè¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;bgpè·¯ç”±é€šå‘Šä¼ é€’åŸåˆ™&#34;&gt;BGPè·¯ç”±ï¼ˆé€šå‘Šï¼‰ä¼ é€’åŸåˆ™&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿æ¥å»ºç«‹æ—¶ï¼ŒBGP Speakeråªèƒ½æŠŠæœ¬èº«ç”¨çš„&lt;strong&gt;æœ€ä¼˜è·¯ç”±&lt;/strong&gt;é€šå‘Šç»™å¯¹ç­‰ä½“ï¼›å¤šæ¡è·¯å¾„æ—¶ï¼ŒBGP Speakeråªé€‰æ‹©&lt;strong&gt;æœ€ä¼˜è·¯ç”±&lt;/strong&gt;æ”¾å…¥è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;BGP Speakerä»&lt;strong&gt;eBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±ä¼šå‘å®ƒ&lt;strong&gt;æ‰€æœ‰çš„BGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼ˆåŒ…æ‹¬eBGPå’ŒiBGPï¼‰é€šå‘Š&lt;br&gt;
&lt;code&gt;é€šå‘Šç»™eBGPå¯¹ç­‰ä½“æ—¶é¦–å…ˆè¦ä¿è¯çš„æ˜¯ASå·ç ä¸èƒ½å‡ºç¯ï¼Œå¦åˆ™å³ä½¿é€šå‘Šä¹Ÿä¼šè¢«è¿‡æ»¤æ‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;BGP Speakerä»&lt;strong&gt;iBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±&lt;strong&gt;ä¸ä¼šé€šå‘Šç»™å®ƒçš„iBGP&lt;/strong&gt;é‚»å±…&lt;/li&gt;
&lt;li&gt;BGP Speakerä»&lt;strong&gt;iBGP&lt;/strong&gt;è·å¾—çš„è·¯ç”±æ˜¯å¦é€šå‘Šç»™å®ƒçš„&lt;strong&gt;eBGPå¯¹ç­‰ä½“è¦ä¾IGPå’ŒBGPåŒæ­¥çš„æƒ…å†µ&lt;/strong&gt;æ¥&lt;br&gt;
å†³å®š&lt;br&gt;
ã€BGPä¸IGPåŒæ­¥çš„æ¦‚å¿µï¼šBGP Speakerä¸å°†ä»iBGPå¯¹ç­‰ä½“è·å¾—çš„è·¯ç”±ä¿¡æ¯é€šå‘Šç»™å®ƒçš„eBGPå¯¹ç­‰ä½“ï¼Œ&lt;strong&gt;é™¤éè¯¥è·¯ç”±ä¿¡æ¯ä¹Ÿèƒ½é€šè¿‡IGPè·å¾—&lt;/strong&gt;ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bgpè·¯å¾„å±æ€§&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹ä¸€è·³ï¼šå†³å®šå¦‚ä½•è½¬å‘ã€è·¯ç”±ä¼˜é€‰çš„å‰æ&lt;/li&gt;
&lt;li&gt;èµ·æºä»£ç ï¼šæ ‡è¯†è·¯ç”±å‡ºèº«çš„ï¼Œæœ‰ä¼˜åŠ£ä¹‹åˆ†&lt;/li&gt;
&lt;li&gt;as-pathï¼ˆASè·¯å¾„ï¼‰ï¼šeBGPé˜²ç¯çš„å…³é”®ã€è·¯ç”±çš„ä¼ é€’è·¯å¾„&lt;br&gt;
ä»¥ä¸Šä¸‰ä¸ªå±æ€§ï¼Œæ˜¯BGPçš„&lt;strong&gt;å…¬è®¤å¼ºåˆ¶å±æ€§&lt;/strong&gt;ï¼Œå³&lt;strong&gt;æ‰€æœ‰çš„BGPå‰ç¼€ï¼Œå¿…é¡»æ‹¥æœ‰è¿™ä¸‰ä¸ªå±æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;aså·ç æ¬ºéª—&#34;&gt;ASå·ç æ¬ºéª—&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹ç­‰ä½“é‡‡ç”¨ä¼ªASå·ä¸æœ¬ç«¯å»ºç«‹è¿æ¥ï¼Œå¸¸ç”¨äºè¿è¥å•†ä¿®æ”¹ç½‘ç»œéƒ¨ç½²çš„åœºæ™¯ï¼Œå³&lt;strong&gt;ç”¨äºç½‘ç»œå˜æ›´ã€DM VPNï¼ˆåŠ¨æ€VPNï¼‰éƒ¨ç½²&lt;/strong&gt;ç­‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ¬ç«¯ä½¿ç”¨ä¼ªASå·ç ä¸å¯¹ç«¯å»ºç«‹eBGPé‚»å±…ï¼Œé‚£ä¹ˆå‘é€ç»™é‚»å±…çš„AS_Pathåˆ—è¡¨å°±åªæºå¸¦ä¼ªASå·ç ï¼ˆåä¸ºï¼Œå³åä¸ºåªæœ‰å®Œå…¨æ¬ºéª—æ¨¡å¼ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ€ç§‘
neighbor 55.1.1.1 local-as 65535  # æ¬ºéª—é‚»å±…ï¼Œä¼ªè£…è‡ªå·±æ˜¯ as 65535
no-prepend # ä»eBGPé‚»å±…æ”¶åˆ°çš„è·¯ç”±ä¸å¢åŠ è™šå‡ASå·ç 
replace-as   # åœ¨å‘eBGPæ›´æ–°è·¯ç”±çš„æ—¶å€™ï¼Œå°†æœ¬åœ°çœŸå®ASå·ç æ›¿æ¢ä¸ºè™šå‡ASå·ç 
dual-as   # æ¥æ”¶æ¥è‡ªeBGPå¯¹ç­‰ä½“çš„è¿æ¥ï¼ŒçœŸå®ASã€è™šå‡ASå‡å¯
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç§»é™¤ç§æœ‰aså·ç &#34;&gt;ç§»é™¤ç§æœ‰ASå·ç &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¿è¥å•†&lt;strong&gt;ä¸ºæ²¡æœ‰å…¬ç½‘ASå·ç ä½†æ˜¯åˆæƒ³ç”¨BGPåè®®çš„ç”¨æˆ·æä¾›æœåŠ¡&lt;/strong&gt;ã€‚é€šå¸¸æ¥è®²ï¼Œä¸ºäº†ä¿éšœBGPçš„è·¯å¾„å†³ç­–æ­£ç¡®ï¼Œæˆ–è€…å…¶å®ƒå› ç´ ï¼Œåº”å½“ç»´æŒASè·¯å¾„åˆ—è¡¨é•¿åº¦ã€‚å¸¸è§çš„åšæ³•ï¼Œå°±æ˜¯&lt;strong&gt;å°†ç”¨æˆ·çš„ASå·ç æ›¿æ¢ä¸ºSPè¾¹ç•Œçš„ASå·ç &lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å…¬æœ‰ASå·å¯ä»¥ç›´æ¥åœ¨Internetä¸Šä½¿ç”¨ï¼Œç§æœ‰ASå·ä¸èƒ½ç›´æ¥å‘å¸ƒåˆ°Internetä¸Šï¼Œå¦åˆ™é€ æˆç¯è·¯ç°è±¡ï¼Œå› æ­¤&lt;strong&gt;ç§æœ‰ASå·ä»…åœ¨å†…éƒ¨è·¯ç”±åŸŸä¸­ä½¿ç”¨&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®å‘½ä»¤åï¼Œå¦‚æœBGPè·¯ç”±ä¿¡æ¯çš„as_pathå±æ€§ä¸­&lt;strong&gt;åªåŒ…å«ç§æœ‰ASå·ï¼ŒBGPå°±ä¼šåˆ é™¤è¿™äº›ç§æœ‰ASå·&lt;/strong&gt;ï¼Œç„¶åå†å°†è·¯ç”±ä¿¡æ¯å‘ä¸å‡ºå»ã€‚
&lt;ul&gt;
&lt;li&gt;ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼Œé…ç½®å‘½ä»¤åï¼ŒBGPä¸ä¼šåˆ é™¤ç§æœ‰ASå·ï¼š
&lt;ul&gt;
&lt;li&gt;è·¯ç”±çš„as_pathå±æ€§ä¸­&lt;strong&gt;å«æœ‰å¯¹ç«¯çš„ASå·æ—¶&lt;/strong&gt;ï¼Œè¿™ç§æƒ…å†µä¸‹åˆ é™¤ç§æœ‰ASå·å¯èƒ½ä¼šé€ æˆè·¯ç”±ç¯è·¯&lt;/li&gt;
&lt;li&gt;as_pathåˆ—è¡¨ä¸­åŒæ—¶&lt;strong&gt;å«æœ‰å…¬æœ‰ASå·å’Œç§æœ‰ASå·&lt;/strong&gt;ï¼Œè¯¥åˆ—è¡¨è¡¨æ˜è·¯ç”±å·²ç»ç»è¿‡å…¬ç½‘ï¼Œå¦‚æœåˆ é™¤ç§æœ‰ASå·ï¼Œå¯èƒ½ä¼šé€ æˆè½¬å‘é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è·¯ç”±èšåˆæ±‡æ€»&#34;&gt;è·¯ç”±èšåˆï¼ˆæ±‡æ€»ï¼‰&lt;/h3&gt;
&lt;p&gt;è·¯ç”±èšåˆæ˜¯å°†&lt;strong&gt;å¤šæ¡è·¯ç”±åˆå¹¶çš„æœºåˆ¶&lt;/strong&gt;ï¼Œå®ƒé€šè¿‡åªå‘å¯¹ç­‰ä½“å‘é€èšåˆåçš„è·¯ç”±è€Œä¸å‘é€æ‰€æœ‰çš„å…·ä½“è·¯ç”±çš„æ–¹æ³•ï¼Œ&lt;strong&gt;å‡å°è·¯ç”±è¡¨çš„è§„æ¨¡&lt;/strong&gt;ï¼Œå¹¶ä¸”è¢«èšåˆçš„è·¯ç”±å¦‚æœå‘ç”Ÿè·¯ç”±éœ‡è¡ï¼Œä¹Ÿä¸ä¼šå¯¹ç½‘ç»œé€ æˆå½±å“ï¼Œä»è€Œæé«˜ç½‘ç»œçš„&lt;strong&gt;ç¨³å®šæ€§&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;èšåˆè·¯ç”±å±æ€§ç»§æ‰¿&lt;/strong&gt;ï¼šas-pathï¼ˆas-setï¼‰ã€origin codeã€å›¢ä½“&lt;/p&gt;
&lt;h4 id=&#34;åˆ†ç±»-2&#34;&gt;åˆ†ç±»&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªåŠ¨èšåˆ&lt;br&gt;
å¯¹BGPå¼•å…¥çš„å­ç½‘è·¯ç”±è¿›è¡Œè‡ªç„¶æ©ç èšåˆã€‚é…ç½®è‡ªåŠ¨èšåˆåï¼Œç”Ÿæˆèšåˆåçš„è‡ªç„¶ç½‘æ®µè·¯ç”±ï¼Œè€Œ&lt;strong&gt;åŸå¼•å…¥çš„å­ç½‘è·¯ç”±è¢«æŠ‘åˆ¶&lt;/strong&gt;ï¼Œä¸ä¼šè¢«ä¼˜é€‰å’Œå‘å¸ƒç»™BGPé‚»å±…ã€‚&lt;br&gt;
&lt;code&gt;ä»…å¯¹**é‡åˆ†å¸ƒçš„è·¯ç”±**ï¼ˆimport-routeï¼‰ç”Ÿæ•ˆï¼ˆå¯¹networkçš„è·¯ç”±æ— æ•ˆï¼‰ï¼Œç»„ä»¶è·¯ç”±æŠ‘åˆ¶ç”Ÿæˆï¼Œä½†æ²¡æœ‰äº§ç”ŸæŒ‡å‘null0çš„èšåˆè·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨èšåˆ&lt;br&gt;
å¯¹BGPæœ¬åœ°è·¯ç”±è¿›è¡Œèšåˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;æ‰‹åŠ¨èšåˆçš„ä¼˜å…ˆçº§é«˜äºè‡ªåŠ¨èšåˆçš„ä¼˜å…ˆçº§&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;å¯ä»¥å¯¹æœ¬åœ°çš„ä»»ä½•è·¯ç”±è¿›è¡Œèšåˆï¼ŒåŒ…æ´»importã€networkç­‰ç­‰&lt;/code&gt;&lt;br&gt;
å¦‚æœèšåˆè·¯ç”±ä¸­æ‰€åŒ…å«çš„å…·ä½“è·¯ç”±å„Originå±æ€§ä¸ç›¸åŒï¼Œé‚£ä¹ˆèšåˆè·¯ç”±çš„Originå±æ€§æŒ‰ç…§ä¼˜å…ˆçº§IGP&amp;gt;EGP&amp;gt;incompleteä¸ºå‡†ã€‚èšåˆè·¯ç”±ä¼šæºå¸¦åŸæ¥æ‰€æœ‰å…·ä½“è·¯ç”±ä¸­çš„å›¢ä½“å±æ€§ã€‚&lt;br&gt;
&lt;strong&gt;é»˜è®¤æƒ…å†µä¸‹&lt;/strong&gt;ï¼Œç»„ä»¶è·¯ç”±ï¼ˆèšåˆè·¯ç”±ï¼‰å’Œæ˜ç»†è·¯ç”±ä¸€èµ·å‘å¸ƒï¼Œå³ä¸æŠ‘åˆ¶æ˜ç»†
&lt;ol&gt;
&lt;li&gt;ä¸å¸¦AS_SETçš„è·¯ç”±èšåˆ&lt;br&gt;
as_pathå±æ€§æŒ‰ä¸€å®šæ¬¡åºè®°å½•äº†æŸæ¡è·¯ç”±ä»æœ¬åœ°åˆ°ç›®çš„åœ°å€æ‰€è¦ç»è¿‡çš„æ‰€æœ‰ASç¼–å·ã€‚&lt;br&gt;
SETå’ŒSEQUENCEçš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒSETé€‰é¡¹ä¸‹çš„ASåˆ—è¡¨é€šå¸¸ç”¨äºè·¯ç”±èšåˆï¼Œå°†æ¥è‡ªä¸åŒASçš„ASå·æ— åºæ’åˆ—åœ¨ASåˆ—è¡¨é‡Œï¼›è€ŒSEQUENCEé€‰é¡¹ä¸‹çš„ASåˆ—è¡¨æ˜¯æœ‰åºçš„ï¼Œæ¯ç»è¿‡ä¸€ä¸ªASéƒ½ä¼šå°†å…¶ASå·æ’åˆ—åœ¨åˆ—è¡¨çš„å‰ç«¯ã€‚&lt;br&gt;
&lt;code&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œèšåˆè·¯ç”±ä¼šç”±æœ¬è®¾å¤‡äº§ç”Ÿï¼Œå¹¶ä¸”ä¸æºå¸¦åŸæœ¬çš„ä»»ä½•ASå·ç ï¼Œå³AS-Pathå±æ€§ä¸ºç©º&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¸¦AS_SETçš„è·¯ç”±èšåˆ&lt;br&gt;
ç”¨äºé¢„é˜²ç¯è·¯ï¼Œä¸åŠ as-setå‚æ•°ï¼Œå°†å­˜åœ¨&lt;strong&gt;è·¯ç”±ä¼ é€’ç¯è·¯&lt;/strong&gt;çš„å¯èƒ½ã€‚&lt;br&gt;
as-pathè¿™ä¸ªå±æ€§ï¼Œåœ¨BGPä¸­æœ‰å››ç§å­˜åœ¨æ ¼å¼ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AS_SET&lt;/strong&gt;ï¼š ä¸€ä¸ªå»å¾€ç‰¹å®šç›®çš„åœ°æ‰€ç»è·¯å¾„ä¸Šçš„&lt;strong&gt;æ— åºASå·åˆ—è¡¨&lt;/strong&gt;ï¼Œç”¨äºèšåˆè·¯ç”±ï¼Œåœ¨æ–°çš„èšåˆè·¯ç”±ä¸Šï¼Œå°†åŒ…å«åŸæœ¬çš„æ‰€æœ‰ç»„ä»¶è·¯ç”±çš„aså·ç ï¼Œ&lt;code&gt;åŒ…å«åœ¨UPDATEæ¶ˆæ¯é‡Œ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AS_SEQENCE&lt;/strong&gt;ï¼š ä¸€ä¸ª&lt;strong&gt;æœ‰åºçš„ASå·åˆ—è¡¨&lt;/strong&gt;ï¼Œ&lt;code&gt;åŒ…å«åœ¨UPDATEæ¶ˆæ¯é‡Œ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AS_CONFED_SEQUENCE&lt;/strong&gt;ï¼šä¸€ä¸ªå»å¾€ç‰¹å®šç›®çš„åœ°æ‰€ç»è·¯å¾„ä¸Šçš„&lt;strong&gt;æœ‰åºAS å·åˆ—è¡¨&lt;/strong&gt;ï¼Œå…¶ç”¨æ³•ä¸AS_SEQUENCEå®Œå…¨ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºè¯¥åˆ—è¡¨ä¸­çš„ASå·&lt;strong&gt;å±äºæœ¬åœ°è”é‚¦ä¸­çš„AS&lt;/strong&gt;ï¼Œ&lt;code&gt;åŒ…å«åœ¨UPDATEæ¶ˆæ¯ä¸­ï¼Œåªèƒ½åœ¨æœ¬åœ°è”ç›Ÿå†…ä¼ é€’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AS_CONFED_SET&lt;/strong&gt;ï¼šä¸€ä¸ªå»å¾€ç‰¹å®šç›®çš„åœ°æ‰€ç»è·¯å¾„ä¸Šçš„&lt;strong&gt;æ— åºASå·åˆ—è¡¨&lt;/strong&gt;ï¼Œå»ç”¨æ–¹æ³•ä¸AS_SETå®Œå…¨ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºåˆ—è¡¨ä¸­çš„ASå·å±äºæœ¬åœ°è”é‚¦ä¸­çš„ASï¼Œ&lt;code&gt;åŒ…å«åœ¨UPDATEæ¶ˆæ¯ä¸­ï¼Œåªèƒ½åœ¨æœ¬åœ°è”ç›Ÿå†…ä¼ é€’&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿‡æ»¤ç­–ç•¥&#34;&gt;è¿‡æ»¤ç­–ç•¥&lt;/h3&gt;
&lt;p&gt;å…³é”®å­—&lt;code&gt;suppress-policy&lt;/code&gt;èƒ½äº§ç”Ÿèšåˆè·¯ç”±ï¼Œä½†&lt;strong&gt;æŠ‘åˆ¶æŒ‡å®šè·¯ç”±çš„é€šå‘Š&lt;/strong&gt;ã€‚å¯ä»¥ç”¨route-policyçš„if-matchå­—å¥æœ‰é€‰æ‹©çš„æŠ‘åˆ¶ä¸€äº›å…·ä½“è·¯ç”±ï¼Œå…¶ä»–å…·ä½“è·¯ç”±ä»è¢«é€šå‘Šã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸå­èšåˆå’Œèšåˆè€…&#34;&gt;åŸå­èšåˆå’Œèšåˆè€…&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åŸå­èšåˆ&lt;/strong&gt;æ˜¯å…¬è®¤è‡ªå†³å±æ€§ï¼Œç”¨æ¥é€šçŸ¥ä¸‹æ¸¸çš„é‚»å±…ä¸¢å¤±äº†ç‰¹å®šè·¯ç”±çš„è·¯å¾„ä¿¡æ¯ã€‚å½“æ›´ç²¾ç¡®çš„è·¯ç”±è¢«æ±‡èšä¸ºä¸å¤Ÿç²¾ç¡®çš„è·¯ç”±çš„æ—¶å€™ä¼šå¼•èµ·ä¿¡æ¯ä¸¢å¤±ï¼ŒåŸå­èšåˆå±æ€§åªæ˜¯UPDATEæ•°æ®åŒ…ä¸­è®¾ç½®çš„ä¸€ä¸ªæ ‡å¿—ä½ï¼Œå®ƒæé†’ä¸‹æ¸¸è·¯ç”±å™¨åœ¨èšåˆçš„è¿‡ç¨‹ä¸­ä¸¢å¤±äº†ä¸€äº›è·¯å¾„ä¿¡æ¯ã€‚å½“åŸå­èšåˆå±æ€§è¢«è®¾ç½®åï¼Œä¸‹æ¸¸è·¯ç”±å™¨ä¸èƒ½åˆ é™¤è¿™ä¸ªå±æ€§æˆ–æ˜¯å‘é€åˆ°ç›®çš„ç½‘æ®µçš„æ›´ç²¾ç¡®è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èšåˆè€…&lt;/strong&gt;å±æ€§æ˜¯ä¸€ä¸ªå¯é€‰è¿‡æ¸¡å±æ€§ï¼Œâ€”èˆ¬é’ˆå¯¹æŸä¸ªNLRIä¸åŸå­èšåˆå±æ€§åŒæ—¶ä½¿ç”¨ã€‚èšåˆè€…å±æ€§åŒ…å«äº†ä¼šèšè·¯ç”±çš„SPEAKERçš„ç›¸å…³ä¿¡æ¯ï¼Œå±æ€§ä¸­åŒ…å«äº†åˆ›å»ºèšåˆè·¯ç”±å¹¶ä¸”æ ‡è®°åŸå­èšåˆå±æ€§çš„è·¯ç”±å™¨çš„BGP IDå’Œè‡ªæ²»ç³»ç»Ÿå·ç ã€‚è¿™äº›ä¿¡æ¯æŒ‡æ˜äº†éç²¾ç¡®ä¼šèšåˆè·¯ç”±çš„æ¥æºï¼Œå¯ä»¥ç”¨æ¥æ‰¾åˆ°æ›´ç²¾ç¡®è·¯ç”±çš„æºå¤´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å››å¤§ç±»å±æ€§&#34;&gt;å››å¤§ç±»å±æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å…¬è®¤å¼ºåˆ¶/å‘¨çŸ¥ï¼šæ‰€æœ‰BGPå¿…é¡»èƒ½ç†è§£ï¼Œæ‰€æœ‰å‰ç¼€å¿…é¡»å¸¦&lt;/li&gt;
&lt;li&gt;å…¬è®¤è‡ªå†³/è‡ªé€‰ï¼šæ‰€æœ‰BGPå¿…é¡»èƒ½ç†è§£ï¼Œä½†å¯ä»¥ä¸æºå¸¦&lt;/li&gt;
&lt;li&gt;å¯é€‰å¯ä¼ é€’ï¼šä¸è¯†åˆ«ä¹Ÿå¯ä»¥ä¼ é€’å±æ€§&lt;/li&gt;
&lt;li&gt;å¯é€‰éå¯ä¼ é€’ï¼šä¸è¯†åˆ«åˆ™ä¸å¯ä»¥ä¼ é€’å±æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bgpåå°„å’Œè”ç›Ÿ&#34;&gt;BGPåå°„å’Œè”ç›Ÿ&lt;/h3&gt;
&lt;p&gt;ç”±äºBGPçš„é€šå‘ŠåŸåˆ™ï¼Œå¯¼è‡´iBGPå¯¹ç­‰ä½“éƒ½å¿…é¡»å»ºç«‹iBGPé‚»å±…ï¼Œå½¢æˆiBGPå…¨äº’è¿ï¼Œè€ŒiBGPå…¨äº’è¿ç¡®å®å¯ä»¥å¾ˆå¥½çš„è§£å†³BGPé€šå‘ŠåŸåˆ™æ‰€å¼•èµ·çš„é—®é¢˜ï¼Œä½†åŒæ—¶ä¹Ÿå¸¦æ¥å¦ä¸€ä¸ªé—®é¢˜ï¼ŒBGP Speakerå¿…é¡»ç»´æŠ¤æ›´å¤šçš„iBGPä¼šè¯æ•°é‡ï¼Œå› æ­¤BGPå¼•å…¥åå°„å’Œè”ç›Ÿã€‚&lt;br&gt;
iBGPè·¯ç”±ä¼ é€’è§„åˆ™ï¼šåªèƒ½ä¼ ä¸€è·³ã€‚ASå†…éƒ¨çš„iBGPå…¨äº’è”ç”¨äºè§£å†³è·¯ç”±ä¼ é€’é—®é¢˜ï¼Œä½†åŒæ—¶ä¹Ÿç»™iBGPçš„æ‰©å±•å¸¦æ¥äº†å¾ˆå¤§é—®é¢˜ï¼ˆ&lt;strong&gt;å¯¹ç­‰ä½“æ•°é‡ä¼—å¤šå¯¼è‡´èµ„æºæ¶ˆè€—ï¼›é…ç½®é‡éšç€å¤§é‡å¢é•¿&lt;/strong&gt;ï¼‰ã€‚BGPè·¯ç”±åå°„å™¨ï¼ˆRRï¼‰ä»¥åŠBGPè”é‚¦ï¼ˆè”ç›Ÿï¼‰ä½œä¸ºè¿™äº›é—®é¢˜çš„æ‰©å±•æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œé‡ç‚¹åœ¨äºè§£å†³è·¯ç”±ä¼ é€’ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;BGPæ˜¯æ€æ ·&lt;strong&gt;é˜²æ­¢ç¯è·¯&lt;/strong&gt;çš„ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;eBGPï¼šé€šè¿‡AS-Pathå±æ€§ï¼Œ&lt;strong&gt;ä¸¢å¼ƒ&lt;/strong&gt;ä»eBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„åœ¨AS-Pathå±&lt;br&gt;
æ€§é‡Œ&lt;strong&gt;åŒ…å«è‡ªèº«ASå·&lt;/strong&gt;çš„ä»»ä½•æ›´æ–°ä¿¡æ¯&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;iBGPï¼šBGPè·¯ç”±å™¨&lt;strong&gt;ä¸ä¼šå°†ä»»ä½•ä»iBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„æ›´æ–°ä¿¡æ¯ä¼ ç»™å…¶&lt;br&gt;
å®ƒiBGPå¯¹ç­‰ä½“&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;è·¯ç”±åå°„-rfc2796&#34;&gt;è·¯ç”±åå°„ (RFC2796)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ä¸»åŠ¨å¼è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ã€æ”¾å®½äº†iBGPè·¯ç”±ä¼ é€’è§„åˆ™ã€‘&lt;br&gt;
é™ä½å¯¹æŒ‡å®šè·¯ç”±å™¨iBGPè·¯ç”±é€šå‘Šæœºåˆ¶çš„é™åˆ¶ï¼Œå…è®¸å°†ä»iBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„æ›´æ–°ä¿¡æ¯ä¼ ç»™æŸäº›&lt;br&gt;
iBGPå¯¹ç­‰ä½“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595512333093.png&#34; alt=&#34;è·¯ç”±åå°„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åå°„ä¼ é€’ï¼Œè·¯ç”±åå°„å™¨åœ¨åå°„iBGPè·¯ç”±çš„æƒ…å†µä¸‹ï¼Œæ˜¯&lt;strong&gt;ä¸èƒ½ä¿®æ”¹å±æ€§çš„ï¼ˆä½†ä¼šå¢åŠ å±æ€§ï¼Œç”¨äºé˜²ç¯ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¸‰ç§è§’è‰²å’Œå…³ç³»&#34;&gt;ä¸‰ç§è§’è‰²å’Œå…³ç³»&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±åå°„å™¨ (Route Reflector) ï¼šè¢«æ”¾å®½äº†ä¼ é€’è§„åˆ™çš„è®¾å¤‡ï¼Œå…è®¸å°†æ¥è‡ªiBGPå¯¹ç­‰ä½“çš„è·¯ç”±ä¼ é€’ç»™iBGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;å®¢æˆ·æœº (Client)ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œåå°„å™¨å°†åœ¨åå°„å™¨å®¢æˆ·ç«¯ä¹‹é—´åå°„ä¼ é€’è·¯ç”±ï¼Œå› æ­¤å®¢æˆ·ç«¯ä¹‹é—´ä¸éœ€è¦BGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;éå®¢æˆ·æœº (Non-Client) ï¼šéå®¢æˆ·ç«¯éœ€è¦ä¸RRä»¥åŠå…¶å®ƒéå®¢æˆ·ç«¯å»ºç«‹å…¨äº’è”çš„iBGPå¯¹ç­‰ä½“&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595513625768.png&#34; alt=&#34;ä¸‰ç§è§’è‰²&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;Clientåªéœ€ç»´æŠ¤ä¸RRä¹‹é—´çš„IBGPä¼šè¯&lt;/li&gt;
&lt;li&gt;RRä¸RRä¹‹é—´éœ€è¦å»ºç«‹IBGPçš„å…¨äº’è¿&lt;/li&gt;
&lt;li&gt;Non-Clientä¸Non-Clientä¹‹é—´éœ€è¦å»ºç«‹IBGPå…¨äº’è¿&lt;/li&gt;
&lt;li&gt;RRä¸Non-Clientä¹‹é—´éœ€è¦å»ºç«‹IBGPå…¨äº’è¿&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šRRä¸RRã€RRå’Œéå®¢æˆ·æœºã€RRå’Œå®¢æˆ·æœºã€éå®¢æˆ·æœºå’Œéå®¢æˆ·æœºå…¨äº’è¿ï¼Œå®¢æˆ·æœºä¸å®¢æˆ·æœºä¹‹é—´ä¸èƒ½äº’è¿&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&#34;&gt;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å½“RRæ”¶åˆ°BGPå¯¹ç­‰ä½“å‘æ¥çš„è·¯ç”±ï¼Œé¦–å…ˆä½¿ç”¨BGPé€‰è·¯ç­–ç•¥æ¥é€‰æ‹©æœ€ä½³è·¯ç”±ï¼ŒRRåœ¨å‘å¸ƒå­¦ä¹ åˆ°çš„è·¯ç”±ä¿¡æ¯æ—¶ï¼ŒæŒ‰ç…§RFC2789ä¸­çš„è§„åˆ™å‘å¸ƒè·¯ç”±&lt;/li&gt;
&lt;li&gt;ä»éå®¢æˆ·æœºiBGPå¯¹ç­‰ä½“Non-Clientå­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRçš„æ‰€æœ‰å®¢æˆ·æœºClient&lt;/li&gt;
&lt;li&gt;ä»å®¢æˆ·æœºclientå­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRçš„æ‰€æœ‰éå®¢æˆ·æœºå’Œå®¢æˆ·æœºï¼ˆå‘èµ·æ­¤è·¯ç”±çš„å®¢æˆ·æœºé™¤å¤–ï¼‰&lt;/li&gt;
&lt;li&gt;ä»eBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ‰€æœ‰çš„éå®¢æˆ·æœºå’Œå®¢æˆ·æœº&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šéå®¢æˆ·æœº--&amp;gt;æ‰€æœ‰å®¢æˆ·æœºï¼Œå®¢æˆ·æœºå’ŒeBGP--&amp;gt;æ‰€æœ‰å®¢æˆ·æœºå’Œéå®¢æˆ·æœº&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è·¯ç”±åå°„ç°‡-cluster&#34;&gt;è·¯ç”±åå°„ç°‡ (Cluster)&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;åœ¨ASå†…éƒ¨ï¼Œä»…ä»…éƒ¨ç½²ä¸€å°RRæ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºè¿™æ ·çš„è¯ï¼ŒRRå¯èƒ½ä¼šæˆä¸ºå•ç‚¹æ•…éšœç‚¹&lt;/code&gt;&lt;br&gt;
å½“ä¸€ä¸ªASå†…å­˜åœ¨å¤šå°RRä¸ºClientæä¾›å†—ä½™æ—¶ï¼ŒRRé—´çš„è·¯ç”±æ›´æ–°å¾ˆæœ‰å¯èƒ½ä¼šå½¢æˆç¯è·¯ï¼Œä¸º&lt;br&gt;
é˜²æ­¢è¯¥ç°è±¡ï¼Œå¼•å…¥äº†Clusterçš„æ¦‚å¿µã€‚&lt;br&gt;
é€šè¿‡4å­—èŠ‚çš„Cluster_IDæ¥æ ‡è¯†Clusterï¼Œé€šå¸¸ä¼šä½¿ç”¨Loopbackåœ°å€ä½œä¸ºCluster_IDï¼Œä¸€ä¸ªClusteré‡Œå¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªRRï¼Œä¸€ä¸ªClientå¯ä»¥åŒæ—¶å±äºå¤šä¸ªClusterã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595515053253.png&#34; alt=&#34;è·¯ç”±åå°„ç°‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
Cluster-idï¼šç°‡åˆ—è¡¨æˆå‘˜ï¼Œç”¨äºæ ‡è¯†RRï¼Œæ¯å°RRåœ¨åå°„è·¯ç”±æ—¶ä¼šå°†è‡ªèº«çš„ç°‡IDæ”¾å…¥è¯¥è·¯ç”±å±æ€§çš„ç°‡åˆ—è¡¨&lt;br&gt;
&lt;strong&gt;ASå†…å¤šä¸ªç°‡&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595519535700.png&#34; alt=&#34;ASå†…å¤šä¸ªç°‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;å±‚æ¬¡åŒ–è·¯ç”±åå°„&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595519580031.png&#34; alt=&#34;å±‚æ¬¡åŒ–è·¯ç”±åå°„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è·¯ç”±åå°„å‡å°‘äº†åŸŸä¸­iBGPä¼šè¯çš„æ€»æ•°ã€‚ç„¶è€Œï¼Œå› ä¸ºRRç›¸äº’ä¹‹é—´å¿…é¡»å…¨äº’è¿ï¼Œåœ¨å¤§å‹ç½‘ç»œä¸­ï¼Œå­˜åœ¨ä¸€ç§å¯èƒ½æ€§ï¼Œå³RRä¹‹é—´ä»ç„¶éœ€è¦å¤§é‡çš„iBGPä¼šè¯ã€‚ä¸ºäº†è¿›ä¸€æ­¥å‡å°‘ä¼šè¯æ•°é‡ï¼Œå¼•å…¥å±‚æ¬¡åŒ–è·¯ç”±åå°„ã€‚å±‚æ¬¡åŒ–è·¯ç”±åå°„çš„å±‚æ•°æŒ‰ç…§éœ€è¦é€æ­¥åŠ æ·±ï¼Œä½†é€šå¸¸ç°ç½‘ä¸­ä¸¤å±‚æˆ–è€…ä¸‰å±‚å°±è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è·¯ç”±åå°„ç¯è·¯é˜²æ­¢æœºåˆ¶&#34;&gt;è·¯ç”±åå°„ç¯è·¯é˜²æ­¢æœºåˆ¶&lt;/h5&gt;
&lt;p&gt;å½“ä¸€æ¡è·¯ç”±&lt;strong&gt;ç¬¬ä¸€æ¬¡è¢«åå°„&lt;/strong&gt;æ—¶ï¼Œåå°„å™¨ä¼šå°†å…¶router-idæ”¶é›†æˆOriginator-IDï¼Œå¦‚æœè¯¥è·¯ç”±ç”±äºé…ç½®é€‚å½“æˆ–è€…å…¶å®ƒåå°„ç°‡æˆ–å…¶å®ƒä¸æ˜åŸå› è¢«åå°„åˆ°è·¯ç”±çš„èµ·æºè€…ï¼Œåˆ™è¯¥è®¾å¤‡å°†å¯¹æ¯”Originator-IDå’Œæœ¬åœ°router-idï¼Œä»¥æ­¤æ‹’æ”¶ã€è¿™é‡Œè¯´çš„router-id&lt;strong&gt;ä¸ä¸€å®šæ˜¯å§‹å‘è·¯ç”±å™¨çš„&lt;/strong&gt;ã€‘&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Originator_IDã€BGPè·¯å¾„å±æ€§ï¼Œå¯é€‰éå¯ä¼ é€’å±æ€§ã€‘
&lt;ul&gt;
&lt;li&gt;Originator IDå±æ€§ç”¨äº&lt;strong&gt;é˜²æ­¢åœ¨åå°„å™¨å’Œå®¢æˆ·æœº/éå®¢æˆ·æœºä¹‹é—´äº§ç”Ÿç¯è·¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Originator_IDå±æ€§é•¿4å­—èŠ‚ï¼Œå¯é€‰éè¿‡æ¸¡å±æ€§ï¼Œå±æ€§ç±»å‹ä¸º9 ï¼Œæ˜¯ç”±è·¯ç”±åå°„å™¨ï¼ˆRRï¼‰äº§ç”Ÿçš„ï¼Œæºå¸¦äº†æœ¬åœ°ASå†…éƒ¨è·¯ç”±å‘èµ·è€…çš„Router ID&lt;/li&gt;
&lt;li&gt;å½“ä¸€æ¡è·¯ç”±ç¬¬ä¸€æ¬¡è¢«RRåå°„çš„æ—¶å€™ï¼ŒRRå°†Originator_IDå±æ€§åŠ å…¥åˆ°è¿™æ¡è·¯ç”±ï¼Œæ ‡è¯†è¿™æ¡è·¯ç”±çš„å§‹å‘è·¯ç”±å™¨ã€‚å¦‚æœä¸€æ¡è·¯ç”±ä¸­å·²ç»å­˜åœ¨äº†Originator_IDå±æ€§ï¼Œåˆ™RRå°†ä¸ä¼šåˆ›å»ºæ–°çš„Originator_ID&lt;/li&gt;
&lt;li&gt;å½“å…¶å®ƒBGP Speakeræ¥æ”¶åˆ°è¿™æ¡è·¯ç”±çš„æ—¶å€™ï¼Œå°†æ¯”è¾ƒæ”¶åˆ°çš„Originator_IDå’Œæœ¬åœ°çš„Router IDï¼Œå¦‚æœä¸¤ä¸ªIDç›¸åŒï¼ŒBGP Speakerä¼šå¿½ç•¥æ‰è¿™æ¡è·¯ç”±ï¼Œä¸åšå¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cluster_Listã€BGPè·¯å¾„å±æ€§ï¼Œå¯é€‰éå¯ä¼ é€’å±æ€§ã€‘
&lt;ul&gt;
&lt;li&gt;Cluster_Listå±æ€§ç”¨äº&lt;strong&gt;é˜²æ­¢ASå†…éƒ¨çš„ç¯è·¯ã€RRä¹‹é—´é˜²æ­¢ç¯è·¯ã€‘&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Cluster_Listæ˜¯å¯é€‰éè¿‡æ¸¡å±æ€§ï¼Œå±æ€§ç±»å‹ç¼–ç ä¸º10&lt;/li&gt;
&lt;li&gt;Cluster_Listç”±ä¸€ç³»åˆ—çš„Cluster_IDç»„æˆï¼Œæè¿°äº†ä¸€æ¡è·¯ç”±æ‰€ç»è¿‡çš„åå°„å™¨è·¯å¾„ï¼Œè¿™å’Œæè¿°è·¯ç”±ç»è¿‡çš„Asè·¯å¾„çš„AS_Pathå±æ€§æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼ŒCluster_Listç”±è·¯ç”±åå°„å™¨äº§ç”Ÿ&lt;/li&gt;
&lt;li&gt;å½“RRåœ¨å®ƒçš„å®¢æˆ·æœºä¹‹é—´æˆ–å®¢æˆ·æœºä¸éå®¢æˆ·æœºä¹‹é—´åå°„è·¯ç”±æ—¶ï¼ŒRRä¼šæŠŠæœ¬åœ°Cluster_IDæ·»åŠ åˆ°Cluster_Listçš„å‰é¢ã€‚å¦‚æœCluster_Listä¸ºç©ºï¼ŒRRå°±åˆ›å»ºä¸€ä¸ª&lt;/li&gt;
&lt;li&gt;å½“RRæ¥æ”¶åˆ°ä¸€æ¡æ›´æ–°è·¯ç”±æ—¶ï¼ŒRRä¼šæ£€æŸ¥Cluster_Listã€‚å¦‚æœCluster_Listä¸­å·²ç»æœ‰æœ¬åœ°Cluster_IDï¼Œä¸¢å¼ƒè¯¥è·¯ç”±ï¼›å¦‚æœæ²¡æœ‰æœ¬åœ°Cluster_IDï¼Œå°†å…¶åŠ å…¥Cluster_Listï¼Œç„¶ååå°„è¯¥æ›´æ–°è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è”é‚¦-rfc3065&#34;&gt;è”é‚¦ (RFC3065)&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;è¢«åŠ¨å¼è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ã€å°†å¤§çš„ASåˆ†æˆè‹¥å¹²å°çš„ASï¼Œè€Œå°ASä¹‹é—´å»ºç«‹eBGPå¯¹ç­‰ä½“å…³ç³»ã€‘&lt;br&gt;
å°†è‡ªæ²»ç³»ç»Ÿåˆ’åˆ†ä¸ºå¤šä¸ªå­è‡ªæ²»ç³»ç»Ÿï¼Œå­è‡ªæ²»ç³»ç»Ÿä¹‹é—´ä½¿ç”¨eBGPï¼Œå­è‡ªæ²»ç³»ç»Ÿå†…éƒ¨è¦æ±‚iBGPå…¨äº’è”&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595512408482.png&#34; alt=&#34;è”ç›Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;è”é‚¦ä¸æµè¡Œçš„åŸå› &lt;/strong&gt;ï¼šé…ç½®å¤æ‚ã€æ‹“æ‰‘ä¸æ¸…æ™°ã€æ’é”™ä¸ä¾¿ã€å‰²æ¥é£é™©è¾ƒå¤§ã€å·¥ç¨‹å¸ˆå«Œéº»çƒ¦ã€‘&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;BGPè”é‚¦åˆ°åº•æ€ä¹ˆéº»çƒ¦çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å…ˆè¯´è‡ªæ²»ç³»ç»Ÿï¼šå­è‡ªæ²»ç³»ç»Ÿã€è”é‚¦è‡ªæ²»ç³»ç»Ÿ&lt;br&gt;
å†è¯´å¯¹ç­‰ä½“å…³ç³»ï¼šå­AS iBGPï¼ˆè”é‚¦å†…éƒ¨iBGPï¼‰ã€å­ASä¹‹é—´çš„eBGPï¼ˆè”é‚¦å†…éƒ¨eBGPï¼‰ï¼Œè”é‚¦å¤–éƒ¨eBGPï¼ˆçœŸå®eBGPï¼‰&lt;br&gt;
è”é‚¦å†…éƒ¨çš„eBGPè·¯ç”±ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œä¸€æ–¹é¢éµå¾ªiBGPé»˜è®¤è§„åˆ™ï¼Œå¦ä¸€æ–¹é¢åˆéµå¾ªeBGPé»˜è®¤è§„åˆ™&lt;br&gt;
è”é‚¦å†…éƒ¨eBGPä¼ é€’è·¯ç”±æ—¶ï¼ŒNHã€MEDã€Local-preferenceç­‰è¢«ä¿ç•™ï¼Œä½†as-pathè¢«ä¿®æ”¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;è”é‚¦ASä¹‹é—´ä¼ é€’çš„&lt;strong&gt;è”ç›Ÿå†…&lt;/strong&gt;eBGPè·¯ç”±&lt;strong&gt;ä¸‹ä¸€è·³ä¸æ”¹å˜&lt;/strong&gt;ï¼Œæ„å‘³ç€ï¼Œåœ¨æ•´ä¸ªè”é‚¦å†…éƒ¨ï¼Œ&lt;strong&gt;æœ€å¥½æ˜¯éƒ¨ç½²ä¸€ä¸ªIGPï¼Œå¹¶ä¸”ä¿è¯æ‰€æœ‰è®¾å¤‡çš„æ›´æ–°æºäº’ç›¸å¯è¾¾&lt;/strong&gt;ã€‚&lt;br&gt;
å½“ç„¶ï¼Œè¿™äº›å¯¹äºè”é‚¦å¤–éƒ¨eBGPå¯¹ç­‰ä½“æ¥è¯´ï¼Œéƒ½æ˜¯ä¸å¯è§çš„ã€‚å³å½“è·¯ç”±ä¼ é€’å‡ºè”é‚¦æ—¶ï¼Œå­ASçš„as-pathæ˜¯ä¸æºå¸¦çš„ã€‚è”é‚¦å†…éƒ¨&lt;strong&gt;å­ASå†…éƒ¨çš„iBGPä¸­ä¹Ÿå¯ä»¥éƒ¨ç½²RR&lt;/strong&gt;ã€‚è”é‚¦å†…éƒ¨å¯ä»¥ä¸ä½¿ç”¨ç›¸åŒçš„IGPï¼Œä½†ä»ç„¶éœ€è¦ä¿è¯ä¸‹ä¸€è·³å¯è¾¾æ€§ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è”é‚¦å†…as_pathå˜åŒ–&#34;&gt;è”é‚¦å†…AS_Pathå˜åŒ–&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è”é‚¦å†…çš„eBGPä¼šè¯&lt;/strong&gt;ï¼šå­ASå·è¢«æ·»åŠ åˆ°as-pathä¸­çš„as-confed-sequenceå‰é¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è”ç›Ÿå†…çš„iBGPä¼šè¯&lt;/strong&gt;ï¼šä¸ä¿®æ”¹as-path&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çœŸå®eBGPä¼šè¯&lt;/strong&gt;ï¼šå­ASå·ä»as-pathä¸­æ¸…é™¤ï¼Œè”é‚¦aså·è¢«æ·»åŠ åˆ°as-pathå‰é¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è”ç›Ÿä¸åå°„çš„æ¯”è¾ƒ&#34;&gt;è”ç›Ÿä¸åå°„çš„æ¯”è¾ƒ&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‚è€ƒå› ç´ &lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ¯”è¾ƒ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤šå±‚æ¬¡&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸¤ç§æ–¹æ³•éƒ½æ”¯æŒå¤šå±‚æ¬¡æ¥è¿›ä¸€æ­¥å¢å¼ºæ‰©å±•æ€§ã€‚è·¯ç”±åå°„å™¨æ”¯æŒå¤šçº§è·¯ç”±åå°„ç»“æ„ï¼›è”ç›Ÿå…è®¸åœ¨æˆå‘˜ASå†…éƒ¨ä½¿ç”¨è·¯ç”±åå°„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç­–ç•¥æ§åˆ¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸¤è€…éƒ½æä¾›è·¯ç”±é€‰æ‹©ç­–ç•¥æ§åˆ¶ï¼Œä¸è¿‡è”ç›Ÿå¯ä»¥æä¾›æ›´å¤§çš„çµæ´»æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸¸è§„iBGPè¿ç§»çš„å¤æ‚æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±åå°„çš„è¿ç§»å¤æ‚æ€§éå¸¸ä½ï¼Œå› ä¸ºæ€»ä½“ç½‘ç»œé…ç½®å‡ ä¹å¾ˆå°‘å‘ç”Ÿæ”¹å˜ï¼›ä»iBGPåˆ°è”ç›Ÿçš„è¿ç§»éœ€è¦å¯¹é…ç½®å’Œç½‘ç»œæ¶æ„åšå¾ˆå¤§çš„æ”¹å˜&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;èƒ½åŠ›æ”¯æŒ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨è·¯ç”±åå°„çš„æ¶æ„ä¸­ï¼Œåªéœ€è¦è·¯ç”±åå°„å™¨æ”¯æŒè·¯ç”±åå°„èƒ½åŠ›å³å¯ï¼Œä½†æ˜¯åœ¨æ–°çš„åˆ†ç°‡è®¾è®¡ä¸­ï¼Œå®¢æˆ·ç«¯å¿…é¡»æ”¯æŒåå°„å™¨å±æ€§ï¼›è”ç›Ÿå†…çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»æ”¯æŒè”ç›Ÿé…ç½®èƒ½åŠ›ï¼Œå› ä¸ºæ‰€æœ‰è·¯ç”±å™¨éœ€è¦æ”¯æŒè”ç›ŸAS-PATHå±æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IGPæ‰©å±•&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±åå°„åœ¨ASå†…éœ€è¦å•ä¸€çš„IGPï¼Œè€Œè”ç›Ÿæ”¯æŒå•ä¸€æˆ–è€…åˆ†å¼€çš„IGPï¼Œè¿™æ˜¯è”ç›Ÿæ¯”è·¯ç”±åå°„æ‰€å…·æœ‰çš„æœ€æ˜æ˜¾çš„ä¼˜åŠ¿ã€‚å¦‚æœIGPè¾¾åˆ°äº†å…¶æ‰©å±•æ€§é™åˆ¶ï¼Œæˆ–è€…å› ä¸ºèŒƒå›´å¤ªå¤§è€Œéš¾äºå¤„ç†ç®¡ç†ä»»åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨è”ç›Ÿæ¥å‡å°IGPè·¯ç”±è¡¨çš„å¤§å°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éƒ¨ç½²ç»éªŒ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”±äºæ›´å¤šçš„æœåŠ¡æä¾›å•†å·²ç»éƒ¨ç½²äº†è·¯ç”±åå°„è€Œéè”ç›Ÿï¼Œå› æ­¤ä»è·¯ç”±åå°„ä¸­å·²ç»è·å¾—æ›´å¤šçš„ç»éªŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASåˆå¹¶&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å®é™…ä¸ŠASåˆå¹¶å’ŒiBGPæ‰©å±•æ€§æ˜¯æ— å…³çš„ï¼Œä½†åœ¨è¿™é‡Œè®¨è®ºæ˜¯å› ä¸ºå®ƒæ˜¯è”ç›Ÿçš„ç‰¹ç‚¹ä¹‹ä¸€ã€‚ä¸€ä¸ªASå¯ä»¥å’Œä¸€ä¸ªå·²å­˜åœ¨çš„è”ç›Ÿåˆå¹¶ï¼Œè¿™æ˜¯é€šè¿‡æŠŠæ–°çš„ASä½œä¸ºè”ç›Ÿçš„ä¸€ä¸ªå­ASå¯¹å¾…æ¥å®Œæˆçš„&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;bgpè·¯å¾„å±æ€§-2&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/h3&gt;
&lt;p&gt;BGPè·¯ç”±æ‹¥æœ‰ä¸°å¯Œçš„è·¯å¾„å±æ€§ï¼Œç”¨äºå¯¹BGPè·¯ç”±è¿›è¡Œæ›´åŠ è¯¦ç»†çš„æè¿°ï¼ˆé™¤x.x.x.x/xä¹‹å¤–ï¼‰ã€‚å› æ­¤BGPåœ¨æ‰§è¡Œè·¯ç”±æ“æ§å’Œè·¯å¾„é€‰æ‹©æ—¶ï¼Œäº¦å°†æ‹¥æœ‰æ›´å¤šçš„ç­›é€‰æ¡ä»¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;åˆ†ç±»-3&#34;&gt;åˆ†ç±»&lt;/h4&gt;
&lt;h5 id=&#34;å…¬è®¤å¿…éµwell-known-mondatoryå‘¨çŸ¥å¼ºåˆ¶&#34;&gt;å…¬è®¤å¿…éµWell-known mondatoryï¼ˆå‘¨çŸ¥å¼ºåˆ¶ï¼‰&lt;/h5&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨&lt;strong&gt;éƒ½å¯ä»¥è¯†åˆ«&lt;/strong&gt;ï¼Œä¸”&lt;strong&gt;å¿…é¡»&lt;/strong&gt;å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ã€‚å¦‚æœç¼ºå°‘è¿™ç§å±æ€§ï¼Œè·¯ç”±ä¿¡æ¯å°±ä¼šå‡ºé”™ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Originï¼šèµ·æº&lt;br&gt;
ä¸€èˆ¬çš„ï¼Œå…·ä½“çš„å®ç°æŒ‰å¦‚ä¸‹æ–¹å¼å†³å®šä¸€æ¡è·¯ç”±çš„Originå±æ€§
&lt;ul&gt;
&lt;li&gt;æŸæ¡è·¯ç”±æ˜¯&lt;strong&gt;ç›´æ¥è€Œå…·ä½“&lt;/strong&gt;çš„æ³¨å…¥åˆ°BGPè·¯ç”±è¡¨ä¸­çš„ï¼Œ&lt;strong&gt;åˆ™originå±æ€§ä¸ºIGP(i)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡networkå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€šè¿‡EGP(RFC904)å­¦åˆ°çš„è·¯ç”±ï¼Œ&lt;strong&gt;åˆ™originå±æ€§ä¸ºEGP(e)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä»–æƒ…å½¢ä¸‹ï¼Œ&lt;strong&gt;Originå±æ€§éƒ½ä¸ºIncomplete(?)&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡importå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Originå±æ€§å€¼é»˜è®¤æƒ…å†µä¸‹ä¸è¢«ä»»ä½•è·¯ç”±å™¨ä¿®æ”¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AS_Pathï¼šASè·¯å¾„&lt;br&gt;
æè¿°åˆ°è¾¾ç›®æ ‡ç½‘ç»œæ‰€è¦ç»è¿‡çš„ASå·åºåˆ—ã€‚æœ€é‡è¦çš„ä½œç”¨æ˜¯é˜²ç¯ï¼Œå¦‚æœBGP Speakerå‘ç°è‡ªå·±çš„ASå·ä½äºæ¥æ”¶è‡ªå¤–éƒ¨å¯¹ç­‰ä½“çš„è·¯ç”±ï¼Œåˆ™å¿½ç•¥è¯¥è·¯ç”±ã€‚ä»…å½“updateæ¶ˆæ¯è¢«å‘é€ç»™å…¶ä»–çš„ASæ—¶ï¼ŒBGP è·¯ç”±å™¨æ‰ä¼šå°†å…¶ASå·è¿½åŠ åœ¨AS_PATHä¸­ã€‚è¿™å¥è¯ä¹Ÿéšå«äº†å¦ä¸€ä¸ªæ„æ€ï¼Œé‚£å°±æ˜¯å¦‚æœè¦ä¿®æ”¹AS_PATHå±æ€§ï¼Œåˆ™å¿…é¡»åœ¨ASè¾¹ç•Œè·¯ç”±å™¨ä¸Šæ‰§è¡Œç­–ç•¥ã€‚æœ‰å››ç§ç±»å‹çš„AS_PATHï¼šAS_SETã€AS_SEQENCEã€AS_CONFED_SEQUENCEã€AS_CONFED_SET&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;äº†è§£eBGPé˜²ç¯è§„åˆ™çš„ä¿®æ”¹ä»¥åŠåº”ç”¨åœºæ™¯&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hub-spokeæ¶æ„ç½‘ç»œ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨DM VPNæ¨¡å—&lt;br&gt;
ä½¿ç”¨ç›¸åŒçš„ASï¼Œä¸­é—´ç‚¹é…ç½®æˆè·¯ç”±åå°„å™¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;å®¢æˆ·è·¯ç”±é€šè¿‡SPï¼ˆè¿è¥å•†ï¼‰æ›´æ–°&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;overraidï¼Œè¦†å†™ï¼Œå³å·¦è¾¹AS300çš„è·¯ç”±ä¼ åˆ°AS200æ—¶ï¼Œå…¶å±æ€§as-pathä¿®æ”¹ä¸º200ï¼Œç„¶ååœ¨ä¼ é€’ç»™å³è¾¹çš„AS300ï¼ˆåº”ç”¨äºMPLS VPNï¼‰&lt;/li&gt;
&lt;li&gt;å…è®¸æ¥æ”¶ç›¸åŒASçš„è·¯ç”±ï¼Œå¯ä»¥è®¾ç½®æ¬¡æ•°ï¼Œå³å³è¾¹çš„AS300å¯ä»¥æ¥æ”¶å·¦è¾¹AS300çš„è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595860627469.png&#34; alt=&#34;eBGPé˜²ç¯è§„åˆ™çš„ä¿®æ”¹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡åŠ é•¿as_pathçš„åˆ—è¡¨é•¿åº¦ï¼Œä»è€Œå½±å“è·¯å¾„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼šä»RTAå‘RTBæ›´æ–°æ—¶å¢åŠ as-pathé•¿åº¦ï¼Œåˆ™ä½¿å¾—è·¯ç”±é€‰æ‹©2Mé“¾è·¯ï¼Œè€Œä¸æ˜¯64Kçš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595861450538.png&#34; alt=&#34;åŠ é•¿as_pathçš„åˆ—è¡¨é•¿åº¦&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
3. Next_Hopï¼šä¸‹ä¸€è·³&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BGP Speakeråœ¨&lt;strong&gt;å‘eBGPå¯¹ç­‰ä½“&lt;/strong&gt;å‘å¸ƒæŸæ¡è·¯ç”±æ—¶ï¼Œä¼šæŠŠè¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§è®¾ç½®ä¸ºæœ¬åœ°ä¸å¯¹ç«¯å»ºç«‹BGPé‚»å±…å…³ç³»çš„æ¥å£åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;BGP Speakerå°†&lt;strong&gt;æœ¬åœ°å§‹å‘è·¯ç”±å‘å¸ƒç»™iBGPå¯¹ç­‰ä½“æ—¶&lt;/strong&gt;ï¼Œä¼šæŠŠè¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§è®¾ç½®ä¸ºæœ¬åœ°ä¸å¯¹ç«¯å»ºç«‹BGPé‚»å±…å…³ç³»çš„æ¥å£åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;BGP Speakeråœ¨å‘iBGPå¯¹ç­‰ä½“å‘å¸ƒä»eBGPå¯¹ç­‰ä½“å­¦æ¥çš„è·¯ç”±æ—¶ï¼Œå¹¶&lt;strong&gt;ä¸æ”¹å˜è¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ã€æ€»ç»“ã€‘ï¼šä¼ ç»™iBGPå¯¹ç­‰ä½“æ—¶é»˜è®¤ä¸ä¿®æ”¹ï¼Œä¼ ç»™eBGPå¯¹ç­‰ä½“æ—¶é»˜è®¤ä¿®æ”¹ï¼Œä½†è¿™ä¸¤ä¸ªé»˜è®¤è¡Œä¸ºéƒ½æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚ä¸€èˆ¬ä¼šåœ¨ASBRå¯¹å†…éƒ¨å¯¹ç­‰ä½“è®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘ï¼ŒeBGPå¯¹ç­‰ä½“ä¹‹é—´çš„ä¸‹ä¸€æ¡ä¸æ”¹å˜ä¸€èˆ¬ç”¨äºåŸŸé—´MPLS VPN&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å…¬è®¤ä»»æ„well-known-discretionaryå‘¨çŸ¥å¯é€‰&#34;&gt;å…¬è®¤ä»»æ„Well-known discretionaryï¼ˆå‘¨çŸ¥å¯é€‰ï¼‰&lt;/h5&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨&lt;strong&gt;éƒ½å¯ä»¥è¯†åˆ«&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;ä¸è¦æ±‚å¿…é¡»&lt;/strong&gt;å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥å†³å®šæ˜¯å¦æ·»åŠ åˆ°Updateæ¶ˆæ¯ä¸­&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Local_Prefï¼šæœ¬åœ°ä¼˜å…ˆçº§&lt;br&gt;
å‘Šè¯‰ASä¸­çš„è·¯ç”±å™¨ï¼Œå“ªæ¡è·¯å¾„æ˜¯ç¦»å¼€ASçš„é¦–é€‰è·¯å¾„ã€‚ä¼˜å…ˆçº§å±æ€§ç”¨æ¥å½±å“iBGPé‚»å±…ï¼Œå‘Šè¯‰è‡ªå·±çš„&lt;strong&gt;iBGPé‚»å±…å¦‚ä½•ç¦»å¼€æœ¬AS&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªèƒ½åœ¨æœ¬ASå†…ä¼ é€’ï¼ˆiBGPå¯¹ç­‰ä½“æˆ–è€…è”é‚¦å†…éƒ¨ï¼‰ï¼Œä¸èƒ½ä¼ ç»™EBGPé‚»å±…&lt;/strong&gt;ã€‚é»˜è®¤å€¼ä¸º100ï¼Œè¶Šå¤§è¶Šå¥½ã€‚&lt;br&gt;
&lt;code&gt;MEDæ§åˆ¶æµé‡æ€æ ·è¿›å…¥ASï¼Œè€Œæœ¬åœ°ä¼˜å…ˆçº§åˆ™æ§åˆ¶æµé‡æ€æ ·æµå‡ºASï¼›è·¯ç”±å™¨ä¼˜é€‰Local-preferenceå€¼å¤§çš„è·¯ç”±æ§åˆ¶å‡ºæµé‡ï¼Œä¼˜é€‰MEDå€¼å°çš„è·¯ç”±æ§åˆ¶å…¥æµé‡ã€‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Atomic_Aggregateï¼šåŸå­èšåˆ&lt;br&gt;
æœ‰æ—¶BGPå‘å¸ƒè€…ä¼šæ”¶åˆ°ä¸¤æ¡é‡å çš„è·¯ç”±ï¼Œå…¶ä¸­&lt;strong&gt;ä¸€æ¡è·¯ç”±åŒ…å«çš„åœ°å€æ˜¯å¦ä¸€æ¡è·¯ç”±çš„å­é›†&lt;/strong&gt;ã€‚ä¸€èˆ¬æƒ…å†µä¸‹BGPå‘å¸ƒè€…ä¼šä¼˜é€‰æ›´ç²¾ç»†çš„è·¯ç”±ï¼ˆå‰è€…ï¼‰ï¼Œä½†æ˜¯åœ¨å¯¹å¤–å‘å¸ƒæ—¶ï¼Œå¦‚æœå®ƒé€‰æ‹©å‘å¸ƒ&lt;strong&gt;æ›´ç²—ç•¥&lt;/strong&gt;çš„é‚£æ¡è·¯ç”±ï¼ˆåè€…ï¼‰ï¼Œè¿™æ—¶&lt;strong&gt;éœ€è¦é™„åŠ ä¸ŠATOMIC-AGGREGATEå±æ€§&lt;/strong&gt;ï¼Œä»¥çŸ¥ä¼šå¯¹ç­‰ä½“ã€‚å®ƒå®é™…ä¸Šæ˜¯&lt;strong&gt;ä¸€ç§è­¦å‘Š&lt;/strong&gt;ï¼Œå› ä¸ºå‘å¸ƒæ›´ç²—ç•¥çš„è·¯ç”±æ„å‘³ç€æ›´ç²¾ç»†çš„è·¯ç”±ä¿¡æ¯åœ¨å‘å¸ƒè¿‡ç¨‹ä¸­ä¸¢å¤±äº†ã€‚åœ¨è¿›è¡Œ&lt;strong&gt;è·¯ç”±èšåˆ&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;å¯¹äºèšåˆçš„è·¯ç”±ä¿¡æ¯ä¼šæ·»åŠ ATOMIC-AGGREGATEå±æ€§&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¯é€‰å¯ä¼ é€’optional-transitiveè¿‡æ¸¡&#34;&gt;å¯é€‰å¯ä¼ é€’Optional transitiveï¼ˆè¿‡æ¸¡ï¼‰&lt;/h5&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥&lt;strong&gt;é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§&lt;/strong&gt;ã€‚&lt;strong&gt;æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯ä»¥è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨&lt;/strong&gt;ï¼Œé‚»å±…è·¯ç”±å™¨å¯èƒ½ä¼šè¯†åˆ«å¹¶ä½¿ç”¨åˆ°è¿™ç§å±æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aggregatorï¼šèšåˆè€…&lt;br&gt;
èšåˆæ—¶ä¹Ÿä¼šè‡ªåŠ¨å‡ºç°è¯¥å±æ€§ã€‚å®ƒåŒ…æ‹¬&lt;strong&gt;å‘åŠ¨èšåˆè·¯ç”±å™¨çš„ASå·ç è¿˜æœ‰å®ƒçš„router-id&lt;/strong&gt;ï¼Œä»è€Œæä¾›äº†æ‰§è¡Œèšåˆçš„åœ°ç‚¹ä¿¡æ¯ã€‚Atomic-aggregateå±æ€§æŒ‡ç¤ºå‡ºç°äº†è·¯å¾„ä¿¡æ¯çš„ä¸¢å¤±è€Œaggregatorå±æ€§æŒ‡ç¤ºèšåˆè·¯ç”±å‡ºç°åœ¨å“ªé‡Œã€‚&lt;/li&gt;
&lt;li&gt;Communityï¼šå›¢ä½“&lt;br&gt;
å›¢ä½“æ˜¯ä¸€ç»„æœ‰&lt;strong&gt;ç›¸åŒæ€§è´¨çš„ç›®çš„åœ°å€è·¯ç”±&lt;/strong&gt;ã€‚&lt;strong&gt;ç›®çš„&lt;/strong&gt;å°±æ˜¯å°†è·¯ç”±ä¿¡æ¯ç¼–ç»„ï¼Œé€šè¿‡ç»„çš„æ ‡è¯†å†³å®šè·¯ç”±ä¼ é€’&lt;br&gt;
çš„ç­–ç•¥ã€‚å®ƒè¢«ä¸€ç»„å…±äº«ç›¸åŒç‰¹æ€§çš„å‰ç¼€æ‰€å®šä¹‰ï¼Œå¤šä¸ªç¤¾å›¢å¯ä»¥åº”ç”¨åˆ°ä¸€æ¡å‰ç¼€ä¸Šã€‚&lt;br&gt;
å›¢ä½“å±æ€§æ˜¯&lt;strong&gt;BGPçš„ç§æœ‰å±æ€§&lt;/strong&gt;ï¼Œåœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ æ’­ï¼Œä¸”ä¸å—ASé™åˆ¶ã€‚åˆ©ç”¨å›¢ä½“å±æ€§å¯ä»¥ä½¿ASä¸­çš„ä¸€ç»„BGPè®¾å¤‡å…±äº«ç›¸åŒçš„ç­–ç•¥ï¼Œä»è€Œç®€åŒ–è·¯ç”±ç­–ç•¥çš„åº”ç”¨å’Œé™ä½ç»´æŠ¤ç®¡ç†éš¾åº¦ã€‚&lt;br&gt;
BGPè®¾å¤‡å¯ä»¥åœ¨&lt;strong&gt;å‘å¸ƒè·¯ç”±&lt;/strong&gt;æ—¶ï¼ˆæˆ–è€…é’ˆå¯¹é‚»å±…æ›´æ–°ä»¥åŠæ”¶å–æ—¶ã€æˆ–è€…å¼•å…¥è·¯ç”±æ—¶ï¼‰ï¼Œæ–°å¢æˆ–è€…æ”¹å˜è·¯ç”±çš„å›¢ä½“å±æ€§ã€‚&lt;br&gt;
å›¢ä½“å±æ€§æ˜¯åœ¨BGPä¸­ä¸€ç§&lt;strong&gt;ç»™è·¯ç”±æ¡ç›®æ‰“ä¸Šæ ‡è®°&lt;/strong&gt;ï¼Œç”¨äºç¡®ä¿è·¯ç”±è¿‡æ»¤å’Œé€‰æ‹©çš„è¿ç»­æ€§ï¼ŒBGPè·¯ç”±å™¨å¯ä»¥è¿‡æ»¤è¿›å‡ºè·¯ç”±æ›´æ–°æˆ–è€…ä¼˜é€‰æŸäº›è·¯ç”±ã€‚&lt;br&gt;
&lt;code&gt;é»˜è®¤ä¸ä¼ é€’ç»™å¯¹ç­‰ä½“ï¼Œè¦é’ˆå¯¹é‚»å±…åšä¼ é€’ï¼Œå³ä¼ é€’å›¢ä½“å±æ€§éœ€è¦é…ç½®å‘½ä»¤peer 22.1.1.1 advertise-community&lt;/code&gt;&lt;br&gt;
Communityå±æ€§æœ‰&lt;strong&gt;4ä¸ªå­—èŠ‚(0x00000000â€”0xFFFFFFFF)&lt;/strong&gt;ï¼ŒRFC1997è§„å®šå‰&lt;strong&gt;ä¸¤ä¸ªå­—èŠ‚ä»£è¡¨ASå·ç &lt;/strong&gt;ï¼Œ&lt;strong&gt;åä¸¤ä¸ªå­—èŠ‚æ˜¯ç®¡ç†ä¸Šå®šä¹‰çš„æ ‡è¯†ç¬¦&lt;/strong&gt;ã€‚æ ¼å¼ä¸ºAA:NNã€‚
&lt;ul&gt;
&lt;li&gt;å›¢ä½“å±æ€§æœ‰ä»¥ä¸‹&lt;strong&gt;3ç§ç±»å‹&lt;/strong&gt;ï¼šä¿ç•™çš„å›¢ä½“å±æ€§ã€å…¬è®¤çš„å›¢ä½“å±æ€§ã€ç§æœ‰å›¢ä½“å±æ€§
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¿ç•™å›¢ä½“å±æ€§&lt;/strong&gt;ï¼š&lt;br&gt;
0x00000000â€”0x0000FFFFã€0xFFFF0000â€”0xFFFFFFFF&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¬è®¤å›¢ä½“å±æ€§&lt;/strong&gt;ï¼š&lt;br&gt;
NO_EXPORT (0xFFFFFF01)ã€NO_ADVERTISE (0xFFFFFF02) ã€NO_EXPORT_SUBCONFED (0xFFFFFF03)&lt;br&gt;
å½“æ”¶åˆ°è¿™äº›å¸¦æœ‰å›¢ä½“å±æ€§çš„å‰ç¼€æ—¶ï¼Œå¯¹ç­‰ä½“ä¼šè‡ªåŠ¨æ ¹æ®é¢„å®šä¹‰ï¼ˆæ“ä½œå·²ç»å®šä¹‰å¥½äº†ï¼‰çš„ç¤¾å›¢å±æ€§æ„ä¹‰æ¥é‡‡å–æ“ä½œï¼Œä¸éœ€è¦é¢å¤–çš„é…ç½®ã€‚å…¬å…±å›¢ä½“å±æ€§çš„ä¿ç•™èŒƒå›´æ˜¯ï¼ˆ0xFFFF0000-0xFFFFFFFFï¼‰ã€‚ä¸‹é¢æ˜¯4ç§å…¬å…±ç¤¾å›¢å±æ€§
&lt;ul&gt;
&lt;li&gt;Internet&lt;br&gt;
æ‰€æœ‰å±äºè¿™ä¸ªå›¢ä½“å±æ€§çš„è·¯ç”±éƒ½æœ‰ä¸€ä¸ªç¼ºçœå€¼ï¼Œå¯ä»¥è‡ªç”±åœ°å…¬å¸ƒå±äºè¿™ä¸ªå›¢ä½“çš„è·¯ç”±ã€‚æ¢å¥è¯è¯´&lt;strong&gt;è¿™ä¸ªå›¢ä½“çš„å‰ç¼€é€šå‘Šæ²¡æœ‰ä»»ä½•é™åˆ¶&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;No-export&lt;br&gt;
æœ‰è¿™ä¸ªå±æ€§çš„å‰ç¼€&lt;strong&gt;ä¸ä¼šè¢«é€šå‘Šç»™eBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œä½†æ˜¯&lt;strong&gt;å¯ä»¥å‘é€ç»™è”é‚¦çš„eBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯&lt;strong&gt;ä¸èƒ½åœ¨è”é‚¦èŒƒå›´ä»¥å¤–å…¬å¸ƒ&lt;/strong&gt;ã€‚è¿™ä¸ªå›¢ä½“çš„å€¼ä¸º0xFFFFFF01ã€‚&lt;/li&gt;
&lt;li&gt;No-advertise&lt;br&gt;
æ¥æ”¶åˆ°å¸¦æœ‰æ­¤å€¼çš„è·¯ç”±&lt;strong&gt;ä¸èƒ½å…¬å¸ƒç»™ä»»ä½•å¯¹ç­‰ä½“&lt;/strong&gt;ï¼ŒåŒ…æ‹¬iBGPå¯¹ç­‰ä½“å’ŒeBGPå¯¹ç­‰ä½“ã€‚å®ƒçš„å€¼ä¸º0xFFFFFF02ã€‚&lt;/li&gt;
&lt;li&gt;Local-ASï¼ˆåä¸ºno-export-subconfedï¼‰&lt;br&gt;
æœ‰è¿™ä¸ªå±æ€§çš„è·¯ç”±æ¡ç›®&lt;strong&gt;ä¸ä¼šè¢«é€šå‘Šåˆ°æœ¬åœ°ASä¹‹å¤–&lt;/strong&gt;ã€‚åœ¨&lt;strong&gt;è”é‚¦&lt;/strong&gt;æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;åªæœ‰åœ¨åŒä¸€ä¸ªå­ASä¸­çš„å¯¹ç­‰ä½“æ‰ä¼šå…è®¸æ¥å—è¿™äº›å‰ç¼€&lt;/strong&gt;ã€‚å®ƒçš„å€¼ä¸º0xFFFFFF03åœ¨RFC1997ä¸­è¿™ä¸ªå›¢ä½“ä¹Ÿå«åš&lt;code&gt;no-export-subconfed&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§æœ‰ç¤¾å›¢å±æ€§&lt;/strong&gt;ï¼ˆè‡ªå®šä¹‰å›¢ä½“å±æ€§ï¼‰ï¼š&lt;br&gt;
AS(2B):Number(2B)&lt;br&gt;
æœ‰ç½‘ç»œç®¡ç†å‘˜è‡ªå·±å®šä¹‰çš„ç¤¾å›¢å±æ€§ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºå‰ç¼€é™„åŠ ç®¡ç†æ ‡è®°ï¼Œä»¥ä¾¿åˆ¶å®šåˆé€‚çš„ç­–ç•¥ã€‚&lt;br&gt;
é€šè¿‡å¹²é¢„æºå¸¦çš„å›¢ä½“å±æ€§çš„è·¯ç”±ï¼Œå½±å“æ•°æ®æŠ¥æ–‡çš„è½¬å‘ï¼Œä¹Ÿç”¨äºè·¯ç”±æ¸…æ´—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;å¯é€‰éå¯ä¼ é€’optional-non-transitiveéè¿‡æ¸¡&#34;&gt;å¯é€‰éå¯ä¼ é€’Optional non-transitiveï¼ˆéè¿‡æ¸¡ï¼‰&lt;/h5&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§ã€‚åœ¨æ•´ä¸ªè·¯ç”±å‘å¸ƒçš„è·¯å¾„ä¸Šï¼Œå¦‚æœéƒ¨åˆ†è·¯ç”±å™¨ä¸èƒ½è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¯¥å±æ€§æ— æ³•å‘æŒ¥æ•ˆç”¨ã€‚å› æ­¤&lt;strong&gt;æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå°†ä¸¢å¼ƒè¿™ç§å±æ€§&lt;/strong&gt;ï¼Œä¸å¿…å†è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Multi_Exit_Disc(MED)ï¼šå¤šå‡ºå£åˆ†ç¦»å™¨&lt;br&gt;
åŒºåˆ«åˆ°è¾¾åŒä¸€é‚»å±…ASçš„å¤šæ¡å…¥å£é“¾è·¯(MEDçš„é»˜è®¤å€¼ä¸º0ï¼Œè¶Šå°è¶Šä¼˜å…ˆ)ï¼Œ&lt;strong&gt;é€šè¿‡eBGPå‘é€MEDå€¼ç»™å¯¹ç­‰ä½“&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;strong&gt;é€šå‘Šè§„åˆ™&lt;/strong&gt;ï¼š1. MEDå±æ€§èµ·æºäºiBGPå¯¹ç­‰ä½“ï¼Œåœ¨ä¼ é€’ç»™eBGPå¯¹ç­‰ä½“æ—¶ä¼šæ¸…é™¤MEDå±æ€§ï¼›2. MEDèµ·æºäºeBGPå¯¹ç­‰ä½“ï¼Œåœ¨ä¼ é€’ç»™iBGPå¯¹ç­‰ä½“æ—¶æºå¸¦ï¼›3. MEDèµ·æºäºæœ¬åœ°ï¼Œå¯ä»¥é€šå‘Šç»™æ‰€æœ‰å¯¹ç­‰ä½“&lt;br&gt;
ä¾‹å¦‚ï¼šèµ·æºäºRT1ï¼ŒRT1ä¼ é€’ç»™RT2æ—¶æºå¸¦MEDå€¼ï¼›èµ·æºäºRT1ï¼ŒRT2åœ¨å‘RT3ä¼ é€’æ—¶ä¸æºå¸¦ï¼›èµ·æºäºRT2ï¼ŒRT2åœ¨å‘RT3ä¼ é€’æ—¶æºå¸¦ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1595864546574.png&#34; alt=&#34;é€šå‘Šè§„åˆ™&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;å¯¹æ¯”è§„åˆ™&lt;/strong&gt;ï¼šç¼ºçœæƒ…å†µä¸‹ï¼Œä¸å…è®¸æ¯”è¾ƒæ¥è‡ªä¸åŒASé‚»å±…çš„è·¯ç”±ä¿¡æ¯çš„MEDå€¼ã€‚ä½†æ˜¯ï¼Œå¯ä»¥è°ƒæ•´è¿™ä¸ªè§„åˆ™ã€‚&lt;/li&gt;
&lt;li&gt;Originator_IDï¼šèµ·æºID&lt;br&gt;
æ˜¯æœ¬åœ°ASä¸­&lt;strong&gt;è·¯ç”±å‘èµ·è€…çš„è·¯ç”±å™¨ID&lt;/strong&gt;ã€‚å¦‚æœè·¯ç”±å‘èµ·è€…åœ¨æ¥æ”¶åˆ°è·¯ç”±çš„originator-idä¸­å‘ç°äº†è‡ªå·±çš„RIDï¼Œå°±çŸ¥é“äº§ç”Ÿäº†ç¯è·¯ï¼Œäºæ˜¯å¿½ç•¥è¯¥è·¯ç”±æ¡ç›®ï¼Œå®ƒæä¾›åœ¨&lt;strong&gt;ASå†…çš„é˜²ç¯ä½œç”¨&lt;/strong&gt;ï¼Œå®ƒç”±ç¬¬ä¸€ä¸ªRRåˆ›å»ºï¼Œå¹¶ä¸”ä¸è¢«åç»­çš„RRä¿®æ”¹ã€‚&lt;br&gt;
å®ƒ&lt;strong&gt;åªåº”åœ¨iBGPå¯¹ç­‰ä½“é‚£é‡Œæ¥æ”¶åˆ°&lt;/strong&gt;ï¼Œåœ¨RRä¸Šoriginator-idç”¨æ¥æ›¿ä»£è·¯ç”±é€‰æ‹©è¿‡ç¨‹ä¸­çš„router-IDã€‚å®ƒåº”è¯¥æ˜¯è¿™äº›è·¯ç”±å™¨çš„router-idï¼›åœ¨æœ¬åœ°ASå§‹å‘è·¯ç”±çš„BGPå®£å‘Šè€…çš„router-idï¼›å¦‚æœæ˜¯ä»eBGPå­¦åˆ°çš„å°±æ˜¯æœ€åˆå­¦åˆ°é‚£ä¸ªæ¡ç›®çš„è·¯ç”±å™¨(æœ¬ASå†…è¾¹ç•Œè·¯ç”±å™¨)çš„router-idï¼ˆå®ƒä¸€å®šæ˜¯æœ¬ASå†…è·¯ç”±å™¨çš„router-idï¼‰&lt;/li&gt;
&lt;li&gt;Cluster_List&lt;br&gt;
æ˜¯&lt;strong&gt;è·¯ç”±ç»è¿‡çš„è·¯ç”±åå°„å™¨çš„ç°‡ID&lt;/strong&gt;ï¼ˆé»˜è®¤RRçš„router-IDï¼‰çš„ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœè·¯ç”±åå°„å™¨æ¥æ”¶åˆ°çš„è·¯ç”±çš„cluster-Listä¸­å‘ç°äº†è‡ªå·±çš„æœ¬åœ°ç°‡IDï¼Œå°±çŸ¥é“äº§ç”Ÿäº†ç¯è·¯ï¼Œäºæ˜¯å¿½ç•¥è¯¥è·¯ç”±æ¡ç›®ï¼ŒRRä»è€Œèƒ½å¤Ÿåˆ†åˆ«å‡ºè·¯ç”±é€‰æ‹©ä¿¡æ¯æ˜¯å¦åˆç¯å›åˆ°åŒä¸€ä¸ªç°‡ã€‚å¯ä»¥é…ç½®bgp cluster-idã€‚cluter-idé»˜è®¤ä¸ºRRè‡ªå·±çš„router-idæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰çš„RRéƒ½ä¸åœ¨åŒä¸€ä¸ªç°‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bgpé€‰è·¯åŸåˆ™&#34;&gt;BGPé€‰è·¯åŸåˆ™&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;å‰æ&lt;/strong&gt;ï¼šå¦‚æœæ­¤è·¯ç”±çš„ä¸‹ä¸€è·³ä¸å¯è¾¾ï¼Œå¿½ç•¥æ­¤è·¯ç”±&lt;/p&gt;
&lt;h4 id=&#34;åä¸º&#34;&gt;åä¸º&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Preferred-Valueè¶Š&lt;strong&gt;å¤§&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;Local-Preferenceè¶Š&lt;strong&gt;å¤§&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;æœ¬åœ°èµ·æºè¯„ä¼°ï¼š&lt;strong&gt;æ‰‹åŠ¨&lt;/strong&gt;èšåˆ&amp;gt;&lt;strong&gt;è‡ªåŠ¨&lt;/strong&gt;èšåˆ&amp;gt;&lt;strong&gt;network&lt;/strong&gt;&amp;gt;&lt;strong&gt;import-route&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;as-pathé•¿åº¦è¶Š&lt;strong&gt;çŸ­&lt;/strong&gt;è¶Šä¼˜å…ˆã€è·³è¿‡æœ¬æ¡ä½¿ç”¨å‘½ä»¤&lt;code&gt;bestroute as-path-ignore&lt;/code&gt;ã€‘&lt;/li&gt;
&lt;li&gt;èµ·æºä»£ç ï¼š&lt;strong&gt;i&amp;gt;e&amp;gt;?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MEDå€¼è¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;eBGP&amp;gt;iBGP&lt;/li&gt;
&lt;li&gt;BGPä¸‹ä¸€è·³çš„IGPåº¦é‡è¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;br&gt;
å½“ä»¥ä¸Šå…¨éƒ¨ç›¸åŒï¼Œåˆ™ä¸ºç­‰ä»·è·¯ç”±ï¼Œå¯ä»¥è´Ÿè½½åˆ†æ‹…ã€AS_Pathå¿…é¡»ä¸€è‡´ã€‘ã€‚&lt;strong&gt;å½“è´Ÿè½½åˆ†æ‹…æ—¶ï¼Œä»¥ä¸‹åŸåˆ™æ— æ•ˆ&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒCluster-Listé•¿åº¦è¶Š&lt;strong&gt;çŸ­&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;Originator_ID/RouterIDè¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆï¼ˆæ²¡æœ‰èµ·æºè€…IDçš„æƒ…å†µä¸‹æ‰ä½¿ç”¨RouterIDè¿›è¡Œæ¯”è¾ƒï¼‰&lt;/li&gt;
&lt;li&gt;å¯¹ç­‰ä½“çš„IPåœ°å€è¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ€ç§‘&#34;&gt;æ€ç§‘&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Weightæƒé‡å€¼è¶Š&lt;strong&gt;å¤§&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;Local-Preferenceè¶Š&lt;strong&gt;å¤§&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;æœ¬åœ°èµ·æºè¯„ä¼°ï¼šé‚»å±…é»˜è®¤&amp;gt;åœ°å€æ—é»˜è®¤&amp;gt;network&amp;gt;redistribute&amp;gt;æ‰‹åŠ¨èšåˆ&amp;gt;è‡ªåŠ¨èšåˆ&lt;/li&gt;
&lt;li&gt;as-pathé•¿åº¦è¶Š&lt;strong&gt;çŸ­&lt;/strong&gt;è¶Šä¼˜å…ˆã€è·³è¿‡æœ¬æ¡ä½¿ç”¨å‘½ä»¤&lt;code&gt;bgp bestpath as-path ignore&lt;/code&gt;ã€‘&lt;/li&gt;
&lt;li&gt;Originèµ·æºä»£ç ï¼š&lt;strong&gt;i&amp;gt;e&amp;gt;?&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;MEDå€¼è¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆï¼ˆæ˜¯å¦æ¥è‡ªåŒä¸€ASï¼‰&lt;/li&gt;
&lt;li&gt;eBGP&amp;gt;iBGP&lt;/li&gt;
&lt;li&gt;åˆ°è¾¾æ›´æ–°æºçš„IGP metricè¶Šå°è¶Šä¼˜å…ˆã€è·³è¿‡æœ¬æ¡ä½¿ç”¨å‘½ä»¤&lt;code&gt;bgp bestpath igp-metric ignore&lt;/code&gt;ã€‘&lt;/li&gt;
&lt;li&gt;load-balance i/eBGPè´Ÿè½½å‡è¡¡ï¼ˆé»˜è®¤å…³é—­ï¼‰ã€æ³¨æ„ï¼šæœ€åä¸€ä¸ªASå·ç å¿…é¡»ä¸€è‡´ã€‘&lt;/li&gt;
&lt;li&gt;å»ºç«‹æ—¶é—´æ›´&lt;strong&gt;ä¹…&lt;/strong&gt;çš„eBGPé‚»å±…ã€è·³è¿‡æœ¬æ¡ä½¿ç”¨å‘½ä»¤&lt;code&gt;bgp bestpath compare-routerid&lt;/code&gt;ã€‘&lt;/li&gt;
&lt;li&gt;Originator_ID/Router_IDè¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;Cluste-listè¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;å¯¹ç­‰ä½“çš„IPåœ°å€è¶Š&lt;strong&gt;å°&lt;/strong&gt;è¶Šä¼˜å…ˆ&lt;br&gt;
&lt;code&gt;è®°å¿†å£è¯€ï¼šä¸–ç•Œï¼ˆworld-1ï¼‰æ‹çˆ±ï¼ˆlove-2ï¼‰ç»„ç»‡ï¼ˆoriganization-3ï¼‰äºšæ´²ï¼ˆasia-4ï¼‰åŠå…¬å®¤ï¼ˆoffice-5ï¼‰ï¼Œçºªå¿µç¢‘ï¼ˆmeml-6-7-8-9ï¼‰ä¸‹åŠå…½äººï¼ˆorc-10-11-12ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;è‡ªå®šä¹‰è·¯å¾„é€‰æ‹©è¿‡ç¨‹cost-community&#34;&gt;è‡ªå®šä¹‰è·¯å¾„é€‰æ‹©è¿‡ç¨‹cost-community&lt;/h5&gt;
&lt;p&gt;æ‰©å±•å›¢ä½“å±æ€§ï¼Œåªèƒ½ç”¨äºiBGPæˆ–è€…è”é‚¦å†…éƒ¨ï¼Œä¸èƒ½ä¼ é€’ç»™eBGP&lt;br&gt;
ä¸ºé˜²æ­¢ç¯è·¯ï¼Œè¦æ±‚æ‰€æœ‰è®¾å¤‡èƒ½å¤Ÿè¯†åˆ«ï¼Œå¹¶ä¸”ä¿è¯æ‰€æœ‰è®¾å¤‡éƒ½ä¼ é€’æ‰©å±•å›¢ä½“&lt;br&gt;
å¤šå®¿ä¸»ç¯å¢ƒæ§åˆ¶å‡ºç«™æµé‡&lt;br&gt;
å¯ä»¥æ’å…¥åœ¨ç¬¬8æ¡é€‰è·¯åŸåˆ™ä¹‹å&lt;br&gt;
å¯ä»¥ä¸ºè·¯ç”±é™„åŠ å¤šä¸ªcost-communityï¼Œä½†IDä¸èƒ½ç›¸åŒ&lt;br&gt;
å…ˆæ¯”åŒä¸€ç»„IDçš„costï¼Œå¦‚æœç›¸ç­‰åˆ™æ¯”ä¸‹ä¸€ç»„IDï¼Œè¶Šå°è¶Šä¼˜å…ˆ&lt;br&gt;
å¦‚æœè®¾ç½®äº†IDï¼Œæ²¡æœ‰è®¾ç½®costï¼Œåˆ™cost=2147483647&lt;br&gt;
ä½¿ç”¨&lt;code&gt;bgp bestpath cost-community ignore&lt;/code&gt;å¿½ç•¥è¿™æ¡é€‰è·¯åŸåˆ™&lt;br&gt;
ä½¿ç”¨&lt;code&gt;pre-bestpath Compare before all other steps in bestpath calculation&lt;/code&gt;é¢„ç½®åœ¨æ‰€æœ‰é€‰è·¯åŸåˆ™ä¹‹å‰&lt;/p&gt;
&lt;h3 id=&#34;å¤šå®¿ä¸»ç½‘ç»œ&#34;&gt;å¤šå®¿ä¸»ç½‘ç»œ&lt;/h3&gt;
&lt;h4 id=&#34;bgpäº§ç”Ÿé»˜è®¤è·¯ç”±çš„æ–¹æ¡ˆ&#34;&gt;BGPäº§ç”Ÿé»˜è®¤è·¯ç”±çš„æ–¹æ¡ˆ&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å°†æ¥è‡ªIGPçš„é»˜è®¤è·¯ç”±ï¼Œä½¿ç”¨&lt;code&gt;network&lt;/code&gt;å‘½ä»¤æ³¨å…¥BGPï¼š&lt;code&gt;æ€ç§‘ï¼šnetwork 0.0.0.0 mask 0.0.0.0ï¼›åä¸ºï¼šnetwork 0.0.0.0 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…è®¸å°†é»˜è®¤è·¯ç”±å¼•å…¥BGPã€‚åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå·²ç»åº”ç”¨äº†é‡å‘å¸ƒå‘½ä»¤ï¼Œå¦‚æœæ­¤æ—¶æœ‰éœ€è¦å°†é»˜è®¤è·¯ç”±æ³¨å…¥BGPï¼Œå³é‡åˆ†å¸ƒæ—¶å¼€å¯é»˜è®¤è·¯ç”±çš„å…è®¸å¼€å…³ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š&lt;code&gt;æ€ç§‘ï¼šdefault-information originationï¼›åä¸ºï¼šdefault-route imported&lt;/code&gt;ã€éœ€è¦ç»“åˆé‡å‘å¸ƒä¸€èµ·ä½¿ç”¨ã€‘&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹ç‰¹å®šé‚»å±…ä¸‹å‘é»˜è®¤è·¯ç”±ï¼š&lt;code&gt;æ€ç§‘ï¼šneighbor 33.1.1.1 default-originateï¼›åä¸ºï¼špeer 33.1.1.1 default-route-advertise&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç±»å‹&#34;&gt;ç±»å‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å•å®¿ä¸»å•é“¾è·¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596168541530.png&#34; alt=&#34;å•å®¿ä¸»å•é“¾è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å•å®¿ä¸»å¤šé“¾è·¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596168556146.png&#34; alt=&#34;å•å®¿ä¸»å¤šé“¾è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¤šå®¿ä¸»
&lt;ol&gt;
&lt;li&gt;å•èŠ‚ç‚¹å¤šå®¿ä¸»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596168570017.png&#34; alt=&#34;å•èŠ‚ç‚¹å¤šå®¿ä¸»&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¤šèŠ‚ç‚¹å¤šå®¿ä¸»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596168582544.png&#34; alt=&#34;å¤šèŠ‚ç‚¹å¤šå®¿ä¸»&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ ‡å‡†å¤šå®¿ä¸»ï¼ˆéœ€è¦æ³¨å†Œå…¬æœ‰ASNï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596169099742.png&#34; alt=&#34;æ ‡å‡†å¤šå®¿ä¸»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596169428812.png&#34; alt=&#34;å¤§å‹ç½‘ç»œ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨SPä¸Šä½¿ç”¨å…¥å¢ƒè·¯ç”±è¿‡æ»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç§æœ‰ç½‘ç»œä¿¡æ¯&lt;/li&gt;
&lt;li&gt;127.0.0.0/8&lt;/li&gt;
&lt;li&gt;169.254.0.0/16&lt;/li&gt;
&lt;li&gt;0.0.0.0/8ï¼ˆæ³¨æ„ï¼šä¸æ˜¯0.0.0.0/0ï¼‰&lt;/li&gt;
&lt;li&gt;192.0.2.0/24ï¼ˆç½‘ç»œæµ‹è¯•ç½‘ç»œï¼‰&lt;/li&gt;
&lt;li&gt;Dç±»ã€Eç±»&lt;/li&gt;
&lt;li&gt;æœ¬ASå†…éƒ¨çš„ç½‘ç»œä¿¡æ¯&lt;br&gt;
ä»¥ä¸Šç½‘ç»œä¿¡æ¯éœ€è¦è¿‡æ»¤æ‰ï¼Œä¸èƒ½è®©å…¶è¿›å…¥å†…éƒ¨ç½‘ç»œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç­–ç•¥å·¥å…·as-path-access-list&#34;&gt;ç­–ç•¥å·¥å…·as-path access-list&lt;/h3&gt;
&lt;p&gt;ç”¨æ¥åŒ¹é…&lt;strong&gt;BGPå‰ç¼€æºå¸¦çš„as-pathå±æ€§&lt;/strong&gt;ï¼ˆéšå¼æ‹’ç»ä¸€åˆ‡ï¼‰ã€‚&lt;br&gt;
ç”±&lt;strong&gt;æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²&lt;/strong&gt;å®šä¹‰ï¼Œæ¯ä¸ªåˆ—è¡¨çš„è¡Œä¸ºå¯ä»¥æ˜¯å…è®¸æˆ–è€…æ‹’ç»ã€‚&lt;br&gt;
as-path access-listä¸€èˆ¬ç”±å¸¸è§„å­—ç¬¦å’ŒåŸå­å­—ç¬¦ç»„æˆã€‚&lt;br&gt;
&lt;strong&gt;å…ƒå­—ç¬¦&lt;/strong&gt;çš„ä½œç”¨æ˜¯å‘Šè¯‰æ­£åˆ™è¡¨è¾¾å¼å¦‚ä½•å¤„ç†ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596183500837.png&#34; alt=&#34;å­—ç¬¦&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596183513412.png&#34; alt=&#34;ä¾‹å­1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596183750339.png&#34; alt=&#34;ä¾‹å­2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¼˜åŒ–å‰ç¼€æ›´æ–°&#34;&gt;ä¼˜åŒ–å‰ç¼€æ›´æ–°&lt;/h3&gt;
&lt;h4 id=&#34;è·¯ç”±é˜»å°¼dampeningrfc2439&#34;&gt;è·¯ç”±é˜»å°¼dampeningï¼ˆRFC2439ï¼‰&lt;/h4&gt;
&lt;p&gt;å‡å°‘ç”±äºä¸ç¨³å®šè·¯ç”±å¼•èµ·çš„è·¯ç”±å¤„ç†è´Ÿè½½ï¼Œé˜²æ­¢æŒç»­çš„è·¯ç”±æŠ–åŠ¨ï¼Œå¢å¼ºè·¯ç”±ç¨³å®šæ€§ã€‚&lt;br&gt;
&lt;strong&gt;æ¶‰åŠæœ¯è¯­&lt;/strong&gt;ï¼šå†å²çŠ¶æ€ã€æƒ©ç½šã€æŠ‘åˆ¶é—¨é™ã€æƒ©ç½šçŠ¶æ€ã€åŠè¡°æœŸã€å†ä½¿ç”¨é—¨é™ã€æœ€å¤§æŠ‘åˆ¶é—¨é™ç­‰&lt;br&gt;
&lt;strong&gt;è·¯ç”±ç¿»åŠ¨&lt;/strong&gt;ï¼ˆroute flapsï¼‰æ˜¯internetä¸ç¨³å®šçš„é¦–è¦å› ç´ ï¼Œå½“æœ‰æ•ˆè·¯ç”±è¢«é‡å¤å®£å‘Šä¸ºæ— æ•ˆã€æœ‰æ•ˆæ—¶å°±ä¼šäº§ç”Ÿè·¯ç”±ç¿»åŠ¨ç°è±¡ã€‚&lt;br&gt;
ã€æ³¨æ„ï¼šè·¯ç”±éœ‡è¡route oscillationâ‰ è·¯ç”±ç¿»åŠ¨ï¼Œè·¯ç”±éœ‡è¡å±äºå‘¨æœŸæ€§è¡Œä¸ºï¼Œè€Œroute flapsåˆ™ä¸æ˜¯ã€‘&lt;br&gt;
è·¯ç”±é˜»å°¼æ˜¯ä¸€ç§é˜»æ­¢ä¸ç¨³å®šè·¯ç”±ä¼ æ’­åˆ°æ•´ä¸ªäº’è”ç½‘ç»œçš„æ–¹æ³•ï¼Œå¼€å¯è·¯ç”±é˜»å°¼æœºåˆ¶çš„è·¯ç”±å™¨ä¼šä¸ºæ¯æ¡è·¯ç”±åˆ†é…ä¸€ä¸ªåŠ¨æ€çš„ç‰¹å¾å€¼ï¼Œç”¨ä»¥åæ˜ è¯¥è·¯ç”±çš„ç¨³å®šç¨‹åº¦ï¼Œå½“æŸæ¡è·¯ç”±å‡ºç°ç¿»åŠ¨æ—¶ï¼Œå°†ä¼šç»™è¯¥è·¯ç”±åˆ†é…ä¸€ä¸ªæƒ©ç½šå€¼ï¼Œç¿»åŠ¨æ¬¡æ•°è¶Šå¤šï¼Œç´¯åŠ çš„æƒ©ç½šå€¼å°±è¶Šå¤§ã€‚&lt;br&gt;
è·¯ç”±é˜»å°¼ä¸­å¼•å…¥äº†åŠè¡°æœŸï¼ˆhalf-lifeï¼‰çš„æ—¶é—´å‘¨æœŸæ¦‚å¿µï¼Œæƒ©ç½šå€¼ä»¥ä¸€å®šçš„é€Ÿç‡è¡°å‡åˆ°æ¯ä¸ªåŠè¡°æœŸåˆå€¼çš„ä¸€åŠï¼Œå½“æƒ©ç½šå€¼è¶…å‡ºäº†é¢„è®¾çš„é˜€å€¼ï¼ˆsuppress limitï¼‰ä¹‹åï¼Œè¯¥è·¯ç”±å°±è¢«æŠ‘åˆ¶ï¼Œä¸å†å¯¹å¤–å®£å‘Šè¯¥è·¯ç”±ã€‚ç›´åˆ°è¯¥è·¯ç”±çš„æƒ©ç½šå€¼é™ä½è‡³å¦ä¸€ä¸ªé˜€å€¼ï¼ˆreuse limitï¼‰ä¹‹åï¼Œæ‰ä¼šå†æ¬¡å¯¹å¤–å®£å‘Šè¯¥è·¯ç”±ã€‚&lt;br&gt;
ã€æ³¨æ„ï¼šå¯æ‰‹å·¥æ¸…é™¤è·¯ç”±çš„æƒ©ç½šå€¼ï¼Œè¿™ç§æ–¹å¼å¯¹äºçŸ«æ­£äº†ç½‘ç»œä¸­çš„ä¸ç¨³å®šæ€§ä¹‹åéœ€è¦å¿«é€Ÿé‡ç”¨è¯¥è·¯ç”±æ—¶éå¸¸æœ‰ç”¨ã€‘&lt;br&gt;
å¦‚æœè·¯ç”±ç¿»åŠ¨çš„æ¬¡æ•°è¶³å¤Ÿå¤šï¼Œä»¥è‡³äºå…¶æƒ©ç½šå€¼çš„å¢åŠ é€Ÿåº¦å¤§äºåŠè¡°æœŸçš„å‡å°é€Ÿåº¦ï¼Œé‚£ä¹ˆå°†ä¼šè¶…å‡ºæŠ‘åˆ¶é—¨é™ã€‚å°½ç®¡è·¯ç”±åœ¨è¢«æŠ‘åˆ¶æœŸé—´ï¼Œå…¶æƒ©ç½šå€¼ä»ä¼šç»§ç»­ç´¯åŠ ï¼Œä½†æ˜¯åœ¨è¯¥è·¯ç”±è¶…å‡ºäº†æœ€å¤§æŠ‘åˆ¶é—¨é™ï¼ˆmaximum suppress  limitï¼‰å‘¨æœŸä¹‹åå°†æ— æ³•è¢«æŠ‘åˆ¶ï¼Œè¿™æ ·å°±å¯ä»¥ç¡®ä¿æŸè·¯ç”±åœ¨éå¸¸çŸ­çš„æ—¶é—´å†…ç¿»åŠ¨åå‡ æ¬¡ä¹‹åï¼Œä¸ä¼šå°†æƒ©ç½šå€¼ç´¯åŠ åˆ°ä¸€ä¸ªå¾ˆé«˜çš„ï¼Œä½¿è·¯ç”±å§‹ç»ˆä¿æŒè¢«æŠ‘åˆ¶çŠ¶æ€çš„å€¼ã€‚&lt;/p&gt;
&lt;h4 id=&#34;bgpæ¸©å’Œé‡é…ç½®keep-all-routes&#34;&gt;BGPæ¸©å’Œé‡é…ç½®(keep all routes)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å‡ºç«™&lt;/strong&gt;æ¸©å’Œé‡é…ç½®ä¸éœ€è¦é¢å¤–èµ„æºã€‚é€šè¿‡é’ˆå¯¹ç‰¹å®šå¯¹ç­‰ä½“çš„å‡ºç«™æ›´æ–°ç­–ç•¥æ¥å¤„ç†Adj-RIB-Locï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„Adj-RIB-Out&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…¥ç«™&lt;/strong&gt;æ¸©å’Œé‡é…ç½®åˆ™&lt;strong&gt;éœ€è¦æ›´å¤šçš„å†…å­˜èµ„æº&lt;/strong&gt;ï¼Œå°†ç»´æŠ¤æ‰€æœ‰å­¦è‡ªè¿œç«¯å¯¹ç­‰ä½“çš„å‰ç¼€ä¿¡æ¯ï¼Œå³ä½¿è¢«å…¥ç«™ç­–ç•¥è¿‡æ»¤å½±å“&lt;/li&gt;
&lt;li&gt;é…ç½®äº†æ¸©å’Œé‡é…ç½®ä¹‹åï¼Œè¢«å…¥ç«™ç­–ç•¥æ‹’ç»çš„å‰ç¼€ä¿¡æ¯å°†ä¼šä¿å­˜åœ¨BGPè¡¨ä¸­ï¼Œ&lt;strong&gt;è¢«æ ‡è®°ä¸ºrecevied-only&lt;/strong&gt;ï¼Œè¿™äº›å‰ç¼€&lt;strong&gt;ä¸å‚ä¸BGPè·¯å¾„é€‰æ‹©è¿‡ç¨‹&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è·¯ç”±åˆ·æ–°route-refresh&#34;&gt;è·¯ç”±åˆ·æ–°ï¼ˆroute refreshï¼‰&lt;/h4&gt;
&lt;p&gt;åœ¨ä¼šè¯åˆå§‹é˜¶æ®µåå•†çš„ä¸€ç§BGPèƒ½åŠ›ï¼Œè¯¥ç‰¹æ€§å…è®¸BGPè·¯ç”±å™¨è¯·æ±‚è¿œç«¯å¯¹ç­‰ä½“é‡æ–°å‘é€å®ƒçš„BGP Adj-RIB-Outï¼Œä½¿å¾—æœ¬åœ°å¯ä»¥é‡æ–°åº”ç”¨å…¥ç«™ç­–ç•¥ã€‚&lt;br&gt;
å¦‚æœä¸æ”¯æŒï¼Œå¦‚æœå…¥ç«™ç­–ç•¥å˜åŒ–ï¼Œå°†é‡ç½®å¯¹ç­‰ä½“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å‡ºç«™è·¯ç”±è¿‡æ»¤orf&#34;&gt;å‡ºç«™è·¯ç”±è¿‡æ»¤ORF&lt;/h4&gt;
&lt;p&gt;ä¸“é—¨é’ˆå¯¹äºå‰ç¼€åˆ—è¡¨çš„ä¸€ç§ä¼˜åŒ–èƒ½åŠ›ã€‚&lt;br&gt;
åˆ†ä¸ºå‘é€èƒ½åŠ›ã€æ¥æ”¶èƒ½åŠ›ï¼Œè¡¨æ˜å…·æœ‰å‘é€æˆ–è€…æ¥æ”¶å‰ç¼€åˆ—è¡¨çš„èƒ½åŠ›ã€‚&lt;br&gt;
é€šè¿‡å‘å¯¹ç­‰ä½“é€šå‘ŠORFèƒ½åŠ›å¯ä»¥æ¿€æ´»è¿™ä¸€ç‰¹å¾ã€‚è¡¨ç¤ºæ¥å—ä»å¯¹ç­‰ä½“æ¥çš„å‰ç¼€åˆ—è¡¨ï¼Œå¹¶æŠŠè¿™ä¸ªå‰ç¼€åˆ—è¡¨åº”ç”¨åˆ°é’ˆå¯¹å¯¹ç­‰ä½“çš„å‡ºç«™æ–¹å‘ã€‚&lt;br&gt;
é€šä¿—çš„è®²ï¼Œåœ¨æœ¬åœ°&lt;strong&gt;é’ˆå¯¹é‚»å±…éƒ¨ç½²å…¥ç«™çš„å‰ç¼€åˆ—è¡¨&lt;/strong&gt;ï¼Œä½†é€šè¿‡ORFèƒ½åŠ›ï¼Œå°†è¯¥åˆ—è¡¨å‘é€åˆ°å¯¹ç­‰ä½“ä¸Šï¼Œ&lt;strong&gt;ç”±å¯¹ç­‰ä½“åœ¨è·¯ç”±å‡ºç«™æ—¶è¿›è¡Œè¿‡æ»¤&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;bgpé™„åŠ è·¯å¾„&#34;&gt;BGPé™„åŠ è·¯å¾„&lt;/h4&gt;
&lt;p&gt;æä¾›äº†ä¸€ç§æ–¹æ³•å¯ä»¥é€šå‘ŠåŒä¸€å‰ç¼€çš„å¤šä¸ªè·¯å¾„ï¼Œå®ç°äº†è·¯å¾„çš„å¤šæ ·æ€§ã€‚å³ä¸ä»…ä»…é€šå‘Šbestçš„è·¯ç”±ï¼ŒåŒæ—¶ä¹Ÿé€šå‘Šå…¶ä»–è·¯ç”±ã€‚&lt;br&gt;
åœ¨ç°æœ‰å‰ç¼€çš„åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªNLRIçš„path ID ï¼ˆè·¯å¾„æ ‡è¯†ç¬¦ï¼‰&lt;br&gt;
&lt;strong&gt;å®ç°çš„è¦ç´ &lt;/strong&gt;ï¼šä¼˜é€‰å¤šä¸ªï¼›å‘é€èƒ½åŠ›ï¼›æ¥å—èƒ½åŠ›&lt;/p&gt;
&lt;h5 id=&#34;hot-potato-roouting&#34;&gt;hot-potato roouting&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1596206786867.png&#34; alt=&#34;hot-potato roouting&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;bgp-additional-pathçš„åŠŸèƒ½&#34;&gt;BGP Additional Pathçš„åŠŸèƒ½&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡å°†è·¯å¾„æ ‡è¯†ç¬¦æ·»åŠ åˆ°NLRIä¸­çš„æ¯ä¸ªè·¯å¾„æ¥å®ç°çš„&lt;/li&gt;
&lt;li&gt;è·¯å¾„æ ‡è¯†ç¬¦ï¼ˆIDï¼‰å¯ä»¥è¢«è§†ä¸ºç±»ä¼¼äºVPNä¸­çš„è·¯ç”±æ ‡è¯†ç¬¦ï¼ˆRDï¼‰çš„ä¸œè¥¿ï¼Œåªæ˜¯è·¯å¾„IDå¯ä»¥åº”ç”¨äºä»»ä½•åœ°å€æ—&lt;/li&gt;
&lt;li&gt;è·¯å¾„IDå¯¹äºå¯¹ç­‰ä¼šè¯æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ˜¯ä¸ºæ¯ä¸ªç½‘ç»œç”Ÿæˆçš„&lt;/li&gt;
&lt;li&gt;é™¤äº†æœ€ä½³è·¯å¾„ï¼ŒAdditional PathåŠŸèƒ½è¿˜å…è®¸å‘å¸ƒæ›´å¤šçš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;é™„åŠ è·¯å¾„åŠŸèƒ½å…è®¸å‘å¸ƒ&lt;strong&gt;å…·æœ‰ç›¸åŒå‰ç¼€&lt;/strong&gt;çš„å¤šä¸ªè·¯å¾„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1596207252955.png&#34; alt=&#34;è·¯å¾„æ ‡è¯†ç¬¦&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;éƒ¨ç½²additional-path&#34;&gt;éƒ¨ç½²Additional Path&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æŒ‡å®šè®¾å¤‡æ˜¯å¦å¯ä»¥å‘é€/æ¥æ”¶Additional Pathsï¼Œåœ°å€æ—ä¸‹æˆ–å¯¹é‚»å±…åº”ç”¨ã€æ³¨æ„ï¼šè¿™æ˜¯èƒ½åŠ›ã€‘&lt;/li&gt;
&lt;li&gt;æŒ‡å®šé€‰æ‹©æ ‡å‡†ï¼Œä½¿ç”¨&lt;code&gt;bgp Additional-paths select&lt;/code&gt;å‘½ä»¤æ¥é€‰æ‹©ä¸€ç»„æˆ–è€…å¤šç»„å€™é€‰è·¯å¾„&lt;/li&gt;
&lt;li&gt;ä»æ ‡è®°çš„å€™é€‰è·¯å¾„ä¸­å‘é‚»å±…é€šå‘Šä¸€ç»„æˆ–å¤šç»„è·¯å¾„ï¼Œä½¿ç”¨&lt;code&gt;neighbor advertise Additional-paths&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¨éƒ¨éƒ¨ç½²å®Œï¼Œéœ€è¦é‡æ–°å»ºç«‹ä¼šè¯ï¼Œç›®çš„åœ¨äºåå•†èƒ½åŠ›&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é¢è¯•ä¸æ€»ç»“&#34;&gt;é¢è¯•ä¸æ€»ç»“&lt;/h1&gt;
&lt;p&gt;å‚è€ƒ&lt;a href=&#34;https://blog.csdn.net/qq_45124553/java/article/details/99694087&#34;&gt;https://blog.csdn.net/qq_45124553/java/article/details/99694087&lt;/a&gt;&lt;br&gt;
é¦–å…ˆï¼Œå› ä¸ºBGPç®¡ç†çš„è·¯ç”±ä¿¡æ¯éå¸¸åºå¤§ï¼Œè€Œä¸”æ¯ä¸ªasæƒ…å†µä¸ä¸€è‡´ï¼Œå…¶å¿…ç„¶éœ€è¦ä¸°å¯Œçš„å±æ€§æ¥çµæ´»çš„è¿›è¡Œé€‰è·¯ï¼Œä»è€Œä»–åˆ›é€ å‡ºäº†11æ¡å±æ€§ï¼ˆä¸€æ¡æ€ç§‘ç§æœ‰ï¼‰ï¼Œæ¥å®Œæˆè‡ªå·±çš„ä½¿å‘½ã€‚&lt;br&gt;
æ ¹æ®å…¶ä¸»è¦ä½œç”¨ï¼Œå°†å…¶å¯å¤§è‡´åˆ†ä¸º5ä¸ªæ–¹å‘ï¼š&lt;strong&gt;3ä¸ªé€‰è·¯ã€3ä¸ªé˜²ç¯ã€2ä¸ªåå°„ã€2ä¸ªæ±‡æ€»ã€1ä¸ªå›¢ä½“&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3ä¸ªé€‰è·¯weight-local-med&#34;&gt;3ä¸ªé€‰è·¯ï¼ˆweightã€localã€medï¼‰&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆä¸ºä»€ä¹ˆè¦æœ‰ä¸‰ä¸ªé€‰è·¯å±æ€§ï¼Ÿå› ä¸ºä¸‰ä¸ªå±æ€§å„å¸å…¶èŒï¼Œä½œç”¨å‡ä¸ç›¸åŒã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;weightæ€ç§‘ï¼Œåä¸ºpreferred-valueï¼š&lt;br&gt;
åªä½œç”¨äºè‡ªå·±ï¼Œä¸å¯ä¼ é€’ç»™å…¶ä»–äººï¼›é€‚ç”¨äºä¸€ä¸ªè·¯ç”±å™¨åœ¨å¤šæ¡è·¯å¾„ä¸‹çš„é€‰è·¯ï¼Œæ— è§†é‚»å±…å±æ€§ã€‚&lt;br&gt;
æ€ç§‘çš„IOSç³»ç»Ÿé»˜è®¤åœ¨æœ¬åœ°æ³¨å…¥BGPçš„è·¯ç”±çš„weight=32768ï¼Œå³æœ¬è®¾å¤‡äº§ç”Ÿçš„åœ¨æœ¬è®¾å¤‡ä¸Šæ˜¯æœ€ä¼˜çš„ï¼›åä¸ºçš„é»˜è®¤æƒ…å†µä¸‹preferred-value=0ã€‚&lt;/li&gt;
&lt;li&gt;localï¼š&lt;br&gt;
ä¸weightç›¸æ¯”ï¼Œæœ€å¤§çš„ä¼˜ç‚¹ä¸ºå…¬æœ‰ä¸”å¯ä½œç”¨äºASå†…å…¶ä»–è·¯ç”±å™¨ï¼Œç”¨äºæœ¬ASé€‰æ‹©ç¦»å¼€ASçš„å‡ºå£è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;medï¼š&lt;br&gt;
ä¸weightå’Œlocalç›¸æ¯”ï¼Œæœ€å¤§çš„åŒºåˆ«åœ¨äºï¼Œå¯ä»¥ä½œç”¨äºå‡ºå£ã€å½±å“å…¶ä»–ASï¼Œå¦‚æœåœ¨æœ¬ASä½¿ç”¨ï¼Œå’Œlocalå·®åˆ«ä¸å¤§ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œmedå±æ€§åªèƒ½åœ¨ä¸¤ä¸ªasä¹‹é—´ä¼ é€’ï¼Œä¸èƒ½ä¼ é€’ç»™ç¬¬ä¸‰ä¸ªasã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;3ä¸ªé˜²ç¯origin-as_path-next_hop&#34;&gt;3ä¸ªé˜²ç¯ï¼ˆoriginã€as_pathã€next_hopï¼‰&lt;/h2&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªè·¯ç”±åè®®ï¼Œèƒ½å¹¿æ³›ä½¿ç”¨çš„å‰æå¿…ç„¶æ˜¯è‡ªèº«ä¸ä¼šå‡ºç¯ï¼Œå¦‚æœè·¯ç”±åè®®æœ¬èº«éƒ½ä¼šå‡ºç¯ï¼Œé‚£ä¹ˆè¯¥åè®®ä¹Ÿå°±æ²¡æœ‰å­˜åœ¨çš„å¿…è¦ã€‚æ‰€ä»¥BGPåè®®åˆ©ç”¨3ä¸ªå…¬è®¤å¿…éµå±æ€§ï¼Œç‰¢ç‰¢å®ˆæŠ¤ä½è¿™ä¸€å‘½è„‰ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;originï¼š&lt;br&gt;
èµ·æºå±æ€§ï¼Œæ ‡è¯†è¯¥è·¯ç”±çš„æ¥æºæ–¹å¼ï¼Œiè¡¨ç¤ºè‡ªå·±äº§ç”Ÿçš„ã€Eè¡¨ç¤ºEGPå­¦åˆ°çš„ã€ï¼Ÿè¡¨ç¤ºå…¶ä»–æ‰‹æ®µå¾—åˆ°çš„ï¼ˆé‡å‘å¸ƒï¼‰ï¼›ä¼˜å…ˆé¡ºåºä¸ºi&amp;gt;E&amp;gt;?ã€‚&lt;br&gt;
è¿™ä¸€å±æ€§ï¼Œå®ä¸ºè·¯ç”±åè®®ä¹‹é—´çš„è¾ƒé‡ï¼Œåœ¨è‡ªå·±å†…éƒ¨ä¼ é€’æ˜¯ä¸ä¼šæ”¹å˜å±æ€§çš„ï¼›é€šè¿‡è¿™ä¸€å±æ€§ï¼Œæ¥ä¿è¯ä»è‡ªå·±å‘å‡ºçš„è·¯ç”±ï¼Œç»è¿‡å…¶ä»–åè®®å¤„ç†ä¹‹åï¼Œä¸ä¼šå†æµä¼ ç»™è‡ªå·±ï¼Œä»è€Œé˜²ç¯ã€‚&lt;/li&gt;
&lt;li&gt;as_pathï¼š&lt;br&gt;
å°†ç»è¿‡çš„ASç»Ÿç»Ÿè®°ä¸‹æ¥ï¼Œå†™è¿›è´§æ—¥è®°ï¼Œæœ€è¿‘è¿›è´§çš„æ’å‰é¢ï¼Œè€Œæ‹’ç»å†è´­ä¹°è‡ªå·±è¿›è´§æ—¥è®°é‡Œå·²ç»è®°è½½çš„è´§ç‰©ï¼ˆä¸€ä¸ªASçš„è·¯ç”±å™¨æ‹’ç»æ¥å—æºå¸¦è‡ªå·±ASå·çš„è·¯ç”±ï¼‰ï¼›å½“ç„¶è¯¥å±æ€§ä¹Ÿå¯ä»¥ç”¨æ¥é€‰è·¯ï¼Œas_pathçŸ­çš„ä¼˜å…ˆã€‚&lt;/li&gt;
&lt;li&gt;next_hopï¼š&lt;br&gt;
iBGPä¹‹é—´ä¼ é€’è·¯ç”±ä¸ä¼šæ›´æ–°next_hopï¼ˆåªæœ‰next_hopä¸º0.0.0.0çš„æƒ…å†µæ‰ä¼šæ›´æ–°ï¼‰ï¼›eBGPä¹‹é—´ä¼ é€’è·¯ç”±ä¼šæ›´æ–°next_hopä¸ºè‡ªå·±çš„æ›´æ–°æºåœ°å€ã€‚&lt;code&gt;è‡ªå·±ä¸º0ï¼Œä¿è¯ä»è‡ªå·±å‘å‡ºå»çš„ä¸å†å›æ¥&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2ä¸ªåå°„é˜²ç¯originator-id-cluster-list&#34;&gt;2ä¸ªåå°„é˜²ç¯ï¼ˆoriginator-idã€cluster-listï¼‰&lt;/h2&gt;
&lt;p&gt;å› ä¸ºBGPè‡ªå·±çš„åŸå› ï¼Œåœ¨ibgpä¹‹å†…ä¼ é€’è·¯ç”±æ—¶ï¼Œä¸èƒ½ä¸­è½¬ï¼›æ‰€ä»¥è‹¥æƒ³å…¨ç½‘äº’é€šï¼Œåˆ™å¿…é¡»åšå…¨äº’è”ï¼Œè€Œå…¨äº’è”å·¥ç¨‹é‡å¤ªå¤§ä¸”å¤æ‚ï¼Œæ‰€ä»¥æœ‰äº†åå°„å™¨ï¼Œä½¿å¾—è·¯ç”±å¯ä»¥ä¸­è½¬ã€‚åº”æ³¨æ„ï¼Œéå®¢æˆ·ç«¯ä¹‹é—´ä¸èƒ½ç›¸äº’åå°„ã€‚ä½†åœ¨åå°„ä¹‹åï¼Œå°±è¿èƒŒäº†BGPè®¾è®¡ä¹‹åˆé˜²ç¯çš„ä½œç”¨ï¼Œæ‰€ä»¥åˆè¯ç”Ÿäº†ä¸¤ä¸ªåå°„é˜²ç¯å±æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;originator-idï¼š&lt;br&gt;
åå°„è·¯ç”±å™¨æ”¶åˆ°è·¯ç”±åï¼Œå°†èµ·æºè€…çš„ridæ ‡è®°ï¼Œåé¢çš„è·¯ç”±å™¨çœ‹åˆ°è‡ªå·±çš„ridï¼Œä¸æ”¶ï¼Œä»è€Œèµ·åˆ°é˜²ç¯çš„ä½œç”¨ã€‚&lt;br&gt;
originator-idåªèƒ½æ ‡è®°ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè‹¥é€”ç»å¤šä¸ªåå°„å™¨ï¼Œåˆ™æ— èƒ½ä¸ºåŠ›ï¼Œå¯èƒ½å¯¼è‡´åå°„å™¨ä¹‹é—´å‡ºç¯ã€‚æ‰€ä»¥å‡ºç°äº†cluster-listã€‚&lt;/li&gt;
&lt;li&gt;cluster-listï¼š&lt;br&gt;
åå°„è·¯ç”±å™¨åå°„å‡ºå»çš„è·¯ç”±ï¼Œä¼šç”Ÿæˆåˆ—è¡¨ï¼ŒåŠ å…¥è‡ªå·±çš„ridï¼Œæ²¿é€”åå°„çš„å‡åŠ å…¥è‡ªå·±çš„ridï¼Œç­‰æ”¶åˆ°åï¼Œè‹¥åˆ—è¡¨ä¸­æœ‰è‡ªå·±çš„ridï¼Œåˆ™å¿½ç•¥ï¼Œè¾¾åˆ°é˜²ç¯çš„ç›®çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;2ä¸ªæ±‡æ€»atomic-aggregate-aggregator&#34;&gt;2ä¸ªæ±‡æ€»ï¼ˆAtomic-aggregateã€aggregatorï¼‰&lt;/h2&gt;
&lt;p&gt;ç”±äºè·¯ç”±åè®®åºå¤§ä¸”å¤æ‚ï¼Œé‚£ä¹ˆé¿å…ä¸äº†éœ€è¦å¯¹ä¸€äº›è·¯ç”±è¿›è¡Œæ±‡æ€»ï¼Œæ±‡æ€»æœ¬èº«å°±æ˜¯æ¶ˆç­ä¸€äº›è·¯ç”±ã€äº§ç”Ÿä¸€äº›è·¯ç”±ï¼Œè€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¿…ç„¶ä¼šä¸¢å¤±å¾ˆå¤šå±æ€§ã€‚é‚£ä¹ˆBGPå°±äº§ç”Ÿäº†2ä¸ªæ±‡æ€»å±æ€§ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Atomic-aggregateï¼š&lt;br&gt;
é€šè¿‡æ·»åŠ æŸäº›é€‰é¡¹ï¼Œæ¥è¾¾åˆ°å¼¥è¡¥ä¸¢å¤±ä¸€äº›å±æ€§çš„ä½œç”¨ã€‚&lt;br&gt;
åŠ &lt;code&gt;As-set&lt;/code&gt;ï¼Œç»§æ‰¿æ˜ç»†aså±æ€§ï¼Œé˜²ç¯ï¼›åŠ &lt;code&gt;summary only&lt;/code&gt; åªæ˜¾ç¤ºæ±‡æ€»ï¼›åŠ &lt;code&gt;advertise-map&lt;/code&gt; æ˜¾ç¤ºæŸäº›å±æ€§ï¼›åŠ &lt;code&gt;attribute-map&lt;/code&gt; ä¸ºèšåˆåçš„æ·»åŠ æŸäº›å±æ€§ã€‚è€Œåœ¨å…¶ä»–è·¯ç”±å™¨å¾—åˆ°æ±‡æ€»è·¯ç”±ä¹‹åï¼Œæœ‰å¯èƒ½éœ€è¦çŸ¥é“æ˜¯è°äº§ç”Ÿçš„æ±‡æ€»ï¼Œäº§ç”Ÿäº†å¯»æ‰¾çš„éœ€æ±‚ï¼Œé‚£ä¹ˆå°±äº§ç”Ÿäº†aggregatorå±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;aggregatorï¼š&lt;br&gt;
é€šå‘Šæ±‡æ€»è·¯ç”±çš„æ±‡èšè·¯ç”±å™¨BGP-ID ï¼Œå¯»æ‰¾æ±‡æ€»è€…æ–¹ä¾¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1ä¸ªå›¢ä½“community&#34;&gt;1ä¸ªå›¢ä½“ï¼ˆcommunityï¼‰&lt;/h2&gt;
&lt;p&gt;å›¢ä½“å±æ€§ä¸»è¦æœ‰ä¸¤å¤§ä½œç”¨ï¼š1. ä¸ºäº†å¯è¯»æ€§å¥½ï¼› 2. è§„å®šå’Œè°ç©&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯è¯»æ€§å¥½ï¼š&lt;br&gt;
åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼&lt;code&gt;Xï¼šY&lt;/code&gt; å½¢å¼æ¥æ ‡è¯†ï¼Œä½¿å¾—å¯è¯»æ€§å¤§å¤§æé«˜ã€‚&lt;/li&gt;
&lt;li&gt;è§„å®šå’Œè°ç©ï¼š&lt;br&gt;
åˆ©ç”¨å››æ¡å­å±æ€§æ¥è§„å®šå’Œè°ç©çš„é—®é¢˜ã€‚
&lt;ol&gt;
&lt;li&gt;Internetï¼šé»˜è®¤å±æ€§ï¼Œå¯ä»¥ç»™ä»»ä½•bgpå‘é€ï¼Œä¸å¯¹æºå¸¦å›¢ä½“å€¼çš„è·¯ç”±åšä»»ä½•é™åˆ¶&lt;/li&gt;
&lt;li&gt;no-exportï¼šåªèƒ½åœ¨ä¸€ä¸ªasä¹‹å†…ä¼ é€’ï¼Œå¯ä»¥åœ¨è”ç›Ÿå†…ä¼ é€’ï¼Œè¯¥å±æ€§å°±æ˜¯é™åˆ¶æºå¸¦å›¢ä½“å€¼çš„è·¯ç”±ä¼ é€’ç»™ebgpé‚»å±…ï¼Œè”ç›Ÿebgpé™¤å¤–&lt;/li&gt;
&lt;li&gt;no-advertiseï¼šä¸åœ¨ibgpï¼Œebgpé‚»å±…é—´ä¼ é€’ï¼Œç¦æ­¢ä¼ é€’ç»™å…¶ä»–é‚»å±…&lt;/li&gt;
&lt;li&gt;local-asï¼ˆno-export-subconfedï¼‰ï¼šä¸å‘ä»»ä½•ebgpé‚»å±…å‘é€ï¼ŒåŒ…æ‹¬è”ç›Ÿçš„ebgpé‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594648641791.png&#34; alt=&#34;æœ¬è¯¾ç¨‹ä½¿ç”¨æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æœ¬è¯¾ç¨‹ä½¿ç”¨æ‹“æ‰‘&lt;strong&gt;çº¦å®š&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ‰å¿…è¦ï¼Œæ¯ä¸ªè®¾å¤‡çš„ç¯å›æ¥å£xx.1.1.1/32ä½œä¸ºè·¯ç”±åè®®çš„æºåœ°å€&lt;/li&gt;
&lt;li&gt;å¦‚æœ‰å¿…è¦ï¼Œä¸šåŠ¡ç½‘æ®µé‡‡ç”¨x.x.x.x/32ï¼Œæ¯”å¦‚2.2.2.2&lt;/li&gt;
&lt;li&gt;ç›´è¿ç½‘ç»œé‡‡ç”¨10.1.xy.x/24ï¼Œæ¯”å¦‚10.1.13.3&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–é…ç½®ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®IP
# R1
sys
sys R1
int lo 0
ip addr 11.1.1.1 32
int lo 1
ip addr 1.1.1.1 32
int g0/0/0
ip addr 10.1.15.1 24
int g0/0/1
ip addr 10.1.13.1 24
int g0/0/2
ip addr 10.1.12.1 24
int s1/0/0
ip addr 10.1.14.1 24
return
sa
# R2
sys
sys R2
int lo 0
ip addr 22.1.1.1 32
int lo 1
ip addr 2.2.2.2 32
int g0/0/0
ip addr 10.1.23.2 24
int g0/0/2
ip addr 10.1.12.2 24
int s1/0/1
ip addr 10.1.24.2 24
int s1/0/0
ip addr 10.1.26.2 24
return
sa
# R3
sys
sys R3
int lo 0
ip addr 33.1.1.1 32
int lo 1
ip addr 3.3.3.3 32
int g0/0/0
ip addr 10.1.23.3 24
int g0/0/1
ip addr 10.1.13.3 24
int g0/0/2
ip addr 10.1.34.3 24
return
sa
# R4
sys
sys R4
int lo 0
ip addr 44.1.1.1 32
int lo 1
ip addr 4.4.4.4 32
int s1/0/0
ip addr 10.1.14.4 24
int s1/0/1
ip addr 10.1.24.4 24
int g0/0/2
ip addr 10.1.34.4 24
return
sa
# R5
sys
sys R5
int lo 0
ip addr 55.1.1.1 32
int lo 1
ip addr 5.5.5.5 32
int g0/0/0
ip addr 10.1.15.5 24
int g0/0/1
ip addr 10.1.57.5 24
return
sa
# R6
sys
sys R6
int lo 0
ip addr 66.1.1.1 32
int lo 1
ip addr 6.6.6.6 32
int s1/0/0
ip addr 10.1.26.6 24
int s1/0/1
ip addr 10.1.67.6 24
return
sa
# R7
sys
sys R7
int lo 0
ip addr 77.1.1.1 32
int lo 1
ip addr 7.7.7.7 32
int g0/0/1
ip addr 10.1.57.7 24
int s1/0/1
ip addr 10.1.67.7 24
return
sa
# é€šè¿‡pingæ¥æµ‹è¯•ç½‘ç»œçš„è¿é€šæ€§

# ---------------------------------------------

# é…ç½®OSPF
# R1
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/1
ospf enable 1 area 0
ospf network-type p2p
int g0/0/2
ospf enable 1 area 0
ospf network-type p2p
int s1/0/0
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R2
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/0
ospf enable 1 area 0
ospf network-type p2p
int g0/0/2
ospf enable 1 area 0
ospf network-type p2p
int s1/0/1
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R3
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/0
ospf enable 1 area 0
ospf network-type p2p
int g0/0/1
ospf enable 1 area 0
ospf network-type p2p
int g0/0/2
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R4
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/2
ospf enable 1 area 0
ospf network-type p2p
int s1/0/0
ospf enable 1 area 0
ospf network-type p2p
int s1/0/1
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R5
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/1
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R6
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int s1/0/1
ospf enable 1 area 0
ospf network-type p2p
return
sa
# R7
ospf 1
area 0
int lo 0
ospf enable 1 area 0
int g0/0/1
ospf enable 1 area 0
ospf network-type p2p
int s1/0/1
ospf enable 1 area 0
ospf network-type p2p
return
sa
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸€é€šè¿‡ç›´è¿è·¯ç”±æ–¹å¼å»ºç«‹ebgpå¯¹ç­‰ä½“&#34;&gt;å®éªŒä¸€ï¼šé€šè¿‡ç›´è¿è·¯ç”±æ–¹å¼å»ºç«‹eBGPå¯¹ç­‰ä½“&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 10.1.15.5 as-number 200
network 1.1.1.1 32
# R5
bgp 200
peer 10.1.15.1 as-number 100
network 5.5.5.5 32
# æ£€æŸ¥R1/5
# æŸ¥çœ‹å¯¹ç­‰ä½“
dis bgp peer
# æŸ¥çœ‹è·¯ç”±è¡¨
dis bgp routing-table  
# R1ä¸Šæµ‹è¯•è¿é€šæ€§
ping -a 1.1.1.1 5.5.5.5
# æŸ¥çœ‹è¢«é€‰å…¥è·¯ç”±è¡¨çš„bgpè·¯ç”±
dis ip rou pro bgp
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒé€šè¿‡ç¯å›å£æ–¹å¼å»ºç«‹ebgpå¯¹ç­‰ä½“&#34;&gt;å®éªŒäºŒï¼šé€šè¿‡ç¯å›å£æ–¹å¼å»ºç«‹eBGPå¯¹ç­‰ä½“&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æ­¤å®éªŒæ›´èƒ½è¯´æ˜&lt;/strong&gt;ï¼šBGP peeræ˜¯åŸºäºTCPè¿æ¥ä¹‹ä¸Šå»ºç«‹çš„ï¼ŒBGPåè®®å…è®¸è·¨è¶Šå¤šä¸ªèŠ‚ç‚¹å»ºç«‹BGPå¯¹ç­‰ä½“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿ä¸ç›¸é‚»çš„ä¸¤å°è®¾å¤‡ä¹Ÿå¯ä»¥å»ºç«‹BGPå¯¹ç­‰ä½“ã€‚&lt;br&gt;
åº”ç”¨ç¯å›å£å»ºç«‹BGPå¯¹ç­‰ä½“ï¼Œæ˜¯æ¯”è¾ƒå¸¸è§çš„ä¸€ç§å¯é æ€§çš„åšæ³•ã€‚ç¯å›å£å»ºç«‹BGPå¯¹ç­‰ä½“é€‚ç”¨äº&lt;strong&gt;ä¸ä»…ä»…å­˜åœ¨ä¸€æ¡é€šä¿¡é“¾è·¯çš„ä¸¤å°BGPè®¾å¤‡ä¹‹é—´&lt;/strong&gt;ï¼Œæä¾›äº†å¯¹ç­‰ä½“çš„ç¨³å®šï¼ˆé“¾è·¯å†—ä½™ï¼‰å’Œé«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿è¯ç¯å›å£ä¹‹é—´çš„IPè¿é€šæ€§
# R1
ip route-static 55.1.1.1 32 10.1.15.5    
# R5
ip route-static 11.1.1.1 32 10.1.15.1
# ä½¿ç”¨pingè¿›è¡Œæ£€æµ‹

# é…ç½®eBGPå¯¹ç­‰ä½“
# R1
bgp 100
peer 55.1.1.1 as-number 200
# R5
bgp 200
peer 11.1.1.1 as-number 100

# é…ç½®eBGPå¤šè·³æˆ–è€…å…³é—­ç›´è¿æ£€æµ‹åŠŸèƒ½
# ã€å…³é—­ç›´è¿æ£€æµ‹ï¼Œè¿™ä¸ªæ–¹æ¡ˆï¼Œä»…ä»…é€‚ç”¨äºç›´è¿è®¾å¤‡ä½¿ç”¨ç¯å›å£å»ºç«‹eBGPå¯¹ç­‰ä½“ï¼›è®¾ç½®eBGPå¤šè·³ï¼Œè¿™ä¸ªæ–¹æ¡ˆåŒæ—¶ä¹Ÿé€‚ç”¨äºåŸŸé—´MPLS VVVç­‰éœ€è¦è·¨è¶Šå¤šä¸ªèŠ‚ç‚¹çš„ä¸¤å°eBGPè®¾å¤‡å»ºç«‹å¯¹ç­‰ä½“ã€‘
# ã€åä¸ºè®¾å¤‡åªæ”¯æŒé…ç½®eBGPå¤šè·³ã€‘
# å¦åˆ™åœç•™åœ¨IdleçŠ¶æ€ï¼Œå³TCPæŠ¥æ–‡æ— æ³•åˆ°è¾¾å¯¹ç­‰ä½“
# é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œç»å¤§å¤šæ•°çš„BGPå®ç°ï¼Œåº”å½“ä¿è¯eBGPå¯¹ç­‰ä½“ä¹‹é—´å‘é€çš„æŠ¥æ–‡ TTL = 1ï¼ˆç›´è¿ï¼‰
# R1
bgp 100
peer 55.1.1.1 ebgp-max-hop 2  # ä¿®æ”¹æœ€å¤§çš„è·³æ•°ï¼Œå³ä¿®æ”¹TTLçš„å€¼
# R5
bgp 200
peer 11.1.1.1 ebgp-max-hop 2

# æŒ‡å®šæ›´æ–°æºåœ°å€
# å¦åˆ™åœç•™åœ¨ActiveçŠ¶æ€ï¼Œå³å¯¹ç­‰ä½“ä¹‹é—´æ‰¾åˆ°äº†ç‰©ç†æ¥å£ä»¥åŠå…¶ä¸Šçš„IPï¼Œä½†æ˜¯æœªæ‰¾åˆ°ç¯å›å£
# æŒ‡å®šäº†å»ºç«‹BGPå¯¹ç­‰ä½“å…³ç³»æ—¶ä½¿ç”¨çš„IPæºåœ°å€ï¼Œé€šå¸¸è¿˜ä¼šæŠŠè¿™ä¸ªåœ°å€åšä¸ºä¸‹ä¸€è·³åœ°å€é™„åŠ åœ¨è·¯å¾„å±æ€§ä¸­ï¼Œæ›´æ–°ç»™é‚»å±…ï¼ˆç®€è€Œè¨€ä¹‹ï¼Œå¯¹ç­‰ä½“ä¹‹é—´é»˜è®¤ç‰©ç†æ¥å£å’Œå…¶ä¸Šçš„IPä½œä¸ºpeerçš„è¿æ¥æ–¹å¼ï¼‰
# R1
bgp 100
peer 55.1.1.1 connect-interface LoopBack 0
# R5
bgp 200
peer 11.1.1.1 connect-interface LoopBack 0

# æ­¤æ—¶æŸ¥çœ‹è·¯ç”±è¡¨
[R1] dis bgp rou
# å»å¾€5.5.5.5/32çš„æœ‰ä¸¤ä¸ªä¸‹ä¸€è·³ï¼Œé»˜è®¤10.1.15.5ä¸ºä¼˜é€‰
# å¦‚æœæƒ³è¦è®©55.1.1.1æˆä¸ºä¸‹ä¸€è·³ï¼Œåˆ™éœ€è¦åœ¨R1ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
bgp 100
peer 55.1.1.1 preferred-value 1 # ä¿®æ”¹ä¼˜å…ˆçº§
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰ibgpé‚»å±…é…ç½®å®éªŒåŒæ—¶æŸ¥çœ‹è·¯ç”±é»‘æ´&#34;&gt;å®éªŒä¸‰ï¼šiBGPé‚»å±…é…ç½®å®éªŒï¼ˆåŒæ—¶æŸ¥çœ‹è·¯ç”±é»‘æ´ï¼‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºR1å’ŒR4ã€R5å’ŒR7çš„iBGPé‚»å±…&lt;/li&gt;
&lt;li&gt;å†…éƒ¨IGPä½¿å¾—æ›´æ–°æºåœ°å€å¯è¾¾&lt;/li&gt;
&lt;li&gt;éå¸¸é‡è¦çš„å‡ ä¸ªç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;IGPä¿è¯æ›´æ–°æºï¼ˆå¯¹ç­‰ä½“IPåœ°å€ï¼‰å¯è¾¾&lt;/li&gt;
&lt;li&gt;é…ç½®æ›´æ–°æº&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;# æ€ç§‘
neighbor 44.1.1.1 remote-as 100
neighbor 44.1.1.1 update-source Loopback0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 44.1.1.1 as 100
peer 44.1.1.1 connect-interface lo 0
return
sa
# R4
bgp 100
peer 11.1.1.1 as 100
peer 11.1.1.1 connect-interface lo 0
network 4.4.4.4 32
return
sa

# R5
bgp 200
peer 77.1.1.1 as 200
peer 77.1.1.1 connect-interface lo 0
return
sa
# R7
bgp 200
peer 55.1.1.1 as 200
peer 55.1.1.1 connect-interface lo 0
return
sa
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››ä½¿ç”¨å…¨äº’è”çš„æ–¹å¼è§£å†³è·¯ç”±é»‘æ´&#34;&gt;å®éªŒå››ï¼šä½¿ç”¨å…¨äº’è”çš„æ–¹å¼è§£å†³è·¯ç”±é»‘æ´&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨R3ä¸Šåˆ†åˆ«å»ºç«‹R1å’ŒR4çš„iBGPé‚»å±…&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R3
bgp 100
peer 11.1.1.1 as 100
peer 11.1.1.1 connect-interface lo 0
peer 44.1.1.1 as 100
peer 44.1.1.1 connect-interface lo 0
return
sa
# R1å’ŒR4
bgp 100
peer 33.1.1.1 as 100
peer 33.1.1.1 connect-interface lo 0
return
sa
# æµ‹è¯•
# R4
ping -a 4.4.4.4 1.1.1.1
tracert -a 4.4.4.4 1.1.1.1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäº”ä¿®æ”¹ä¸‹ä¸€è·³å±æ€§&#34;&gt;å®éªŒäº”ï¼šä¿®æ”¹ä¸‹ä¸€è·³å±æ€§&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 33.1.1.1 next-hop-local
ret
sa
# R5
bgp 200
peer 77.1.1.1 next-hop-local
ret
sa
# æµ‹è¯•
# R7
refresh bgp all import  # åˆ·æ–°bgpè·¯ç”±åˆ—è¡¨
dis bgp rou
# R5
ping -a 5.5.5.5 4.4.4.4
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…­bgpçš„ä¸‹ä¸€è·³ä¸æ”¹å˜åœºæ™¯&#34;&gt;å®éªŒå…­ï¼šBGPçš„ä¸‹ä¸€è·³ä¸æ”¹å˜åœºæ™¯&lt;/h2&gt;
&lt;p&gt;åœ¨R1å‘R5&lt;strong&gt;ä¼ é€’è·¯ç”±&lt;/strong&gt;æ—¶ï¼Œå°è¯•åšä¸‹ä¸€è·³ä¸æ”¹å˜å¹¶è§‚å¯Ÿç°è±¡ã€ä»R3\R4ä¼ é€’ç»™R1ï¼ˆiBGPå¯¹ç­‰ä½“ï¼‰çš„BGPè·¯ç”±ï¼Œå†ä¼ é€’ç»™R5ï¼ˆeBGPå¯¹ç­‰ä½“ï¼‰ã€‘&lt;br&gt;
åº”ç”¨äºåŸŸé—´MPLS VPNç¯å¢ƒ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 55.1.1.1 next-hop-invariable
return
reset bgp all
# R5
return
refresh bgp all import
dis bgp rou  # æŸ¥çœ‹è·¯ç”±æƒ…å†µ
# æ­¤å®éªŒæœ€åæ— ç°è±¡ï¼Œä¸ENSPæ¨¡æ‹Ÿå™¨æœ‰å…³ç³»
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸ƒbgp-asbrä¸‹ä¸€è·³æ–¹æ¡ˆå¯¹æ¯”&#34;&gt;å®éªŒä¸ƒï¼šBGP ASBRä¸‹ä¸€è·³æ–¹æ¡ˆå¯¹æ¯”&lt;/h2&gt;
&lt;p&gt;å–æ¶ˆR5å¯¹R7çš„ä¸‹ä¸€è·³è‡ªæˆ‘ï¼Œå°è¯•å°†ç›´è¿è·¯ç”±å¼•å…¥IGPå¹¶è§‚å¯Ÿç°è±¡&lt;br&gt;
å¯¹æ¯”ä¸‹ä¸€è·³è‡ªæˆ‘å’Œé‡å‘å¸ƒç›´è¿ï¼Œä»è·¯ç”±æ”¶æ•›çš„è§’åº¦åˆ†æä¸åŒä¹‹å¤„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
bgp 200
undo peer 77.1.1.1 next-hop-local
# R7
return
refresh bgp all import
dis bgp rou # æ­¤æ—¶æ¥è‡ªas100çš„è·¯ç”±æ— æ³•ä¼˜å…ˆï¼ŒåŸå› æ˜¯ä¸‹ä¸€è·³ä¸å¯è¾¾

# R5ï¼šé‡å‘å¸ƒé™æ€è·¯ç”±
ospf 1
import-route static
q
dis bgp rou # æ­¤æ—¶æ¥è‡ªas100çš„è·¯ç”±å¯ä»¥è¿›è¡Œä¼˜é€‰äº†
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…«å¤šç‚¹æ¥å…¥çš„ä¸‹ä¸€è·³&#34;&gt;å®éªŒå…«ï¼šå¤šç‚¹æ¥å…¥çš„ä¸‹ä¸€è·³&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1595076243431.png&#34; alt=&#34;å¤šç‚¹æ¥å…¥çš„ä¸‹ä¸€è·³&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¤šç‚¹æ¥å…¥çš„ä¸‹ä¸€è·³ï¼ˆç¬¬ä¸‰æ–¹ä¸‹ä¸€è·³ï¼‰&lt;br&gt;
R5ã€R6é€šè¿‡ä»¥å¤ªç½‘å»ºç«‹iBGPå¯¹ç­‰ä½“&lt;br&gt;
R2ã€R6é€šè¿‡ä»¥å¤ªç½‘å»ºç«‹eBGPå¯¹ç­‰ä½“&lt;br&gt;
è§‚å¯ŸR2å’ŒR5ä¸Šçš„è·¯ç”±ä¸‹ä¸€è·³åœ°å€&lt;code&gt;dis bgp rou 5.5.5.5&lt;/code&gt;&lt;br&gt;
è¿™ç§æƒ…å†µä¸‹ï¼Œä¼¼ä¹R6å‘R2ä¼ é€’è·¯ç”±æ—¶ï¼ŒNHå¹¶æœªæ”¹ä¸ºè‡ªå·±&lt;br&gt;
æ­¤æ—¶å°è¯•é’ˆå¯¹R2åšä¸‹ä¸€è·³è‡ªæˆ‘å¹¶è§‚å¯Ÿæ•ˆæœ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R2
int g0/0/1
ip addr 10.1.1.2 24
# R5
int g0/0/2
ip addr 10.1.1.5 24
# R6
int g0/0/2
ip addr 10.1.1.6 24

# R6
bgp 200
peer 10.1.1.5 as 200
peer 10.1.1.2 as 100
# R5
bgp 200
peer 10.1.1.6 as 200
# R2
bgp 100
peer 10.1.1.6 as 200

# æ­¤æ—¶R2è®¿é—®5.5.5.5çš„ä¸‹ä¸€è·³ä¸º10.1.1.5
# R6 
bgp 200
peer 10.1.1.2 next-hop-local
# æ­¤æ—¶R2è®¿é—®5.5.5.5çš„ä¸‹ä¸€è·³ä¸º10.1.1.6ï¼ˆç¬¬ä¸‰æ–¹ä¸‹ä¸€è·³ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¹éƒ¨ç½²bgpå¯¹ç­‰ä½“ç»„&#34;&gt;å®éªŒä¹ï¼šéƒ¨ç½²BGPå¯¹ç­‰ä½“ç»„&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å¯¹ç­‰ä½“ç»„æ¨¡æ¿ç®€åŒ–é…ç½®&lt;br&gt;
é€‚ç”¨äºé’ˆå¯¹å¤šä¸ªå¯¹ç­‰ä½“éœ€è¦éƒ¨ç½²ç›¸åŒç­–ç•¥çš„ç¯å¢ƒ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
group PEER_GROUP internal  # åˆ›å»ºä¸€ä¸ªé’ˆå¯¹IBGPçš„å¯¹ç­‰ä½“ç»„
peer PEER_GROUP connect-interface LoopBack0
peer PEER_GROUP next-hop-local
peer 44.1.1.1 group PEER_GROUP # é’ˆå¯¹é‚»å±…æ¥ä½¿ç”¨
peer 22.1.1.1 group PEER_GROUP 
peer 33.1.1.1 group PEER_GROUP 
# R2
bgp 100
group PEER_GROUP internal
peer PEER_GROUP connect-interface LoopBack0
peer PEER_GROUP next-hop-local
peer 11.1.1.1 group PEER_GROUP
peer 44.1.1.1 group PEER_GROUP 
peer 33.1.1.1 group PEER_GROUP 
# R3
bgp 100
group PEER_GROUP internal
peer PEER_GROUP connect-interface LoopBack0
peer PEER_GROUP next-hop-local
peer 11.1.1.1 group PEER_GROUP
peer 22.1.1.1 group PEER_GROUP 
peer 44.1.1.1 group PEER_GROUP 
# R4
bgp 100
group PEER_GROUP internal
peer PEER_GROUP connect-interface LoopBack0
peer PEER_GROUP next-hop-local
peer 11.1.1.1 group PEER_GROUP
peer 22.1.1.1 group PEER_GROUP 
peer 33.1.1.1 group PEER_GROUP 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåéƒ¨ç½²åŸºäºå¯¹ç­‰ä½“ç»„çš„åŠ¨æ€é‚»å±…æ€ç§‘&#34;&gt;å®éªŒåï¼šéƒ¨ç½²åŸºäºå¯¹ç­‰ä½“ç»„çš„åŠ¨æ€é‚»å±…ï¼ˆæ€ç§‘ï¼‰&lt;/h2&gt;
&lt;p&gt;R3 åšä¸ºåŠ¨æ€é‚»å±…çš„ä¾¦å¬è€…ï¼ŒR1ã€R2ã€R4 ä¸»åŠ¨æ‰¾R3å»ºç«‹åŠ¨æ€é‚»å±…&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®ä¸€ä¸ªå¯¹ç­‰ä½“ç»„ï¼Œç”¨äºéƒ¨ç½²ä¾¦å¬ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;neighbor Dynamic peer-group
neighbor Dynamic remote-as 100
neighbor Dynamic update-source Loopback2
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è§„åˆ’ä¸€ä¸ªå­ç½‘èŒƒå›´ç”¨äºåŠ¨æ€é‚»å±…   &lt;code&gt;172.16.1.0/24&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªè®¾å¤‡é…ç½®ä¸€ä¸ªå­ç½‘èŒƒå›´å†…çš„ 32 ä½çš„ç¯å›å£ï¼Œå¹¶ä½¿å¾—å…¶IPå¯è¾¾ï¼ˆå®£é«˜è¿›IGPå³å¯ï¼‰&lt;/li&gt;
&lt;li&gt;é…ç½®ä¾¦å¬&lt;code&gt;R3(config-router)#bgp listen range 172.16.1.0/24 peer-group Dynamic&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å®éªŒåä¸€asæ¬ºéª—&#34;&gt;å®éªŒåä¸€ï¼šASæ¬ºéª—&lt;/h2&gt;
&lt;p&gt;åœ¨R1ä¸Šæ¬ºéª—R5&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
bgp 200
undo peer 11.1.1.1
peer 11.1.1.1 as 6535
peer 11.1.1.1 connect-interface lo 0

# R1
bgp 100
peer 55.1.1.1 fake-as 65535
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåäºŒç§»é™¤ç§æœ‰aså·ç &#34;&gt;å®éªŒåäºŒï¼šç§»é™¤ç§æœ‰ASå·ç &lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æ€ç§‘ï¼šneighbor 10.1.1.10 remove-private-as all [replace-as]&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æš‚æ—¶å…³é—­åœ¨R2ä¸Šçš„é‚»å±…
# R2
int g0/0/1
shutdown

# é…ç½®é‚»å±…
# R5
bgp 200
peer 10.1.1.10 as 300

# SW
sys
sys SW
int vlanif 1
ip addr 10.1.1.10 24
q
bgp 300
peer 10.1.1.5 as 200
dis bgp rou

# ç§»é™¤ç§æœ‰AS
# R5
bgp 200
peer 10.1.1.10 public-as-only

# æŸ¥çœ‹
# SW
refresh bgp all import
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåä¸‰è·¯ç”±è‡ªåŠ¨èšåˆ&#34;&gt;å®éªŒåä¸‰ï¼šè·¯ç”±è‡ªåŠ¨èšåˆ&lt;/h2&gt;
&lt;p&gt;R1åˆ›å»ºé¢å¤–ç¯å›å£å¹¶é€šå‘Šï¼Œå¼€å¯è‡ªåŠ¨èšåˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä»…ä»…å¯¹é‡åˆ†å¸ƒçš„è·¯ç”±ï¼ˆimport-routeï¼‰ç”Ÿæ•ˆï¼Œç»„ä»¶è·¯ç”±æŠ‘åˆ¶ç”Ÿæˆï¼Œä½†æ²¡æœ‰äº§ç”ŸæŒ‡å‘ null0çš„èšåˆè·¯ç”±
# R1
int l2
ip addr 1.1.1.2 32
int l3
ip addr 1.1.1.3 32
q
acl 2000
rule permit source 1.1.1.0 0.0.0.255
q
route-policy 1 permit node 10
if-match acl 2000
q
bgp 100
import-route direct route-policy 1
summary automatic
q
dis bgp rou
# æŸ¥çœ‹
# R5
dis bgp rou
dis bgp rou 1.0.0.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¡¥å……æ€ç§‘è®¾å¤‡ä¸€èˆ¬ä¸åšè‡ªåŠ¨èšåˆè€Œä½¿ç”¨æµé‡æ¸…æ´—&#34;&gt;è¡¥å……ï¼šæ€ç§‘è®¾å¤‡ä¸€èˆ¬ä¸åšè‡ªåŠ¨èšåˆï¼Œè€Œä½¿ç”¨æµé‡æ¸…æ´—&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ€ç§‘
R1(config-router)#auto-summary 
R1(config-router)#bgp aggregate-timer 0   // é»˜è®¤ 30ç§’
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;å…¶å®ä¸æ˜¯èšåˆçš„ä¸€ç§åŠæ³•ï¼ˆé€šå‘ŠæŒ‡å‘ç©ºæ¥å£çš„é™æ€ï¼‰ã€‚ä¸åšé‡åˆ†å¸ƒï¼Œå°†æ‰‹å·¥ä¹¦å†™çš„èšåˆèŒƒå›´çš„é™æ€è·¯ç”±networkåˆ°BGPä¸­ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;R1(config)#ip route 1.1.1.0 255.255.255.0 null 0
R1(config-router)#network 1.1.1.0 mask 255.255.255.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåå››æ‰‹åŠ¨èšåˆéªŒè¯èµ·æºä»£ç çš„ç»§æ‰¿&#34;&gt;å®éªŒåå››ï¼šæ‰‹åŠ¨èšåˆï¼ŒéªŒè¯èµ·æºä»£ç çš„ç»§æ‰¿&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
undo summary automatic
aggregate 1.1.1.0 24
# aggregate 1.1.1.0 24 detail-suppressed    # æŠ‘åˆ¶æ˜ç»†è·¯ç”±ï¼ŒæŠ‘åˆ¶æ˜ç»†åç”Ÿæˆçš„èšåˆæºå¸¦åŸå­èšåˆAtomic-aggregateå±æ€§ï¼Œä¸”ä¸æºå¸¦åŸæ˜ç»†è·¯ç”±çš„å›¢ä½“å±æ€§
q
dis bgp rou
dis bgp rou 1.1.1.0
# æŸ¥çœ‹
# R5
dis bgp rou 
dis bgp rou 1.1.1.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåäº”ä¸ºèšåˆè·¯ç”±è®¾ç½®å±æ€§&#34;&gt;å®éªŒåäº”ï¼šä¸ºèšåˆè·¯ç”±è®¾ç½®å±æ€§&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
route-policy 2 permit node 10
apply origin igp
apply cost 666
bgp 100
aggregate 1.1.1.0 24 as-set detail-suppressed attribute-policy 2
# R5
dis bgp rou
dis bgp rou 1.1.1.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåå…­éªŒè¯rrç¯å¢ƒä¸‹çš„ibgpè·¯ç”±ä¼ é€’&#34;&gt;å®éªŒåå…­ï¼šéªŒè¯RRç¯å¢ƒä¸‹çš„iBGPè·¯ç”±ä¼ é€’&lt;/h2&gt;
&lt;p&gt;R1éƒ¨ç½²ä¸ºRRæŒ‡å®šR3ã€R4ä¸ºå®¢æˆ·ç«¯ï¼ˆAS100å†…ï¼Œæ‰€æœ‰è®¾å¤‡åªè·ŸR1å»ºç«‹å¯¹ç­‰ä½“ï¼‰&lt;br&gt;
å®¢æˆ·ç«¯ä¹‹é—´åå°„&lt;br&gt;
å®¢æˆ·ç«¯å’Œéå®¢æˆ·ç«¯ä¹‹é—´åå°„&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
undo peer 22.1.1.1 group PEER_GROUP
peer 22.1.1.1 as 100
peer 22.1.1.1 con lo 0
peer 22.1.1.1 next-hop-local
peer 33.1.1.1 reflect-client
peer 44.1.1.1 reflect-client
# undo reflect between-clients    # å…³é—­å®¢æˆ·ç«¯ä¹‹é—´çš„åå°„
# R2
bgp 100
peer 33.1.1.1 ignore
peer 44.1.1.1 ignore
network 2.2.2.2 32
# R3
bgp 100
peer 22.1.1.1 ignore
peer 44.1.1.1 ignore
# R4
bgp 100
peer 22.1.1.1 ignore
peer 33.1.1.1 ignore

# æŸ¥çœ‹è·¯ç”±
# R2\3
dis bgp rou
dis bgp rou 4.4.4.4
# R4
dis bgp rou
dis bgp rou 2.2.2.2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåä¸ƒç†è§£èµ·æºè€…idå’Œcluster-idçš„ä½œç”¨&#34;&gt;å®éªŒåä¸ƒï¼šç†è§£èµ·æºè€…IDå’ŒCluster-idçš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;R1ã€R2éƒ¨ç½²ä¸ºRRï¼ŒR3ã€R4éƒ¨ç½²ä¸ºRRå®¢æˆ·ç«¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 22.1.1.1 reflect-client
# R2
bgp 100
peer PEER_GROUP route-client
undo peer 33.1.1.1 ignore
undo peer 44.1.1.1 ignore
# R3
bgp 100
undo peer 22.1.1.1 ignore
# R4
bgp 100
undo peer 22.1.1.1 ignore
# æŸ¥çœ‹
# R2
dis bgp rou
dis bgp rou 4.4.4.4

# èµ·æºè€…IDé˜²ç¯
# R3
bgp 100
router-id 10.1.34.4 # å°†èµ·æºè€…IDæ”¹æˆå’ŒR4ç›¸åŒ

# Cluster-idé˜²ç¯
# R3
bgp 100
router-id 33.1.1.1 # æ¢å¤èµ·æºè€…IDé˜²ç¯å®éªŒç¯å¢ƒ
# R1
bgp 100
reflector cluster-id 10.1.23.2 # æ”¹æˆå’ŒR2ç›¸åŒçš„
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåå…«bgpè”é‚¦&#34;&gt;å®éªŒåå…«ï¼šBGPè”é‚¦&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å®éªŒå†…å®¹ï¼šR5ä¸ºAS2005ï¼ŒR6å’ŒR7ä¸ºAS2067ï¼ŒåŒå±äºAS200&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²è¦ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;è”é‚¦è¾¹ç•Œå¯¹è”é‚¦å†…éƒ¨çš„å¯¹ç­‰ä½“åšä¸‹ä¸€è·³è‡ªæˆ‘&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰çš„å­ASéƒ½åº”è¯¥å†™åˆ°åˆ—è¡¨ä¸Š&lt;/li&gt;
&lt;li&gt;å¦‚æœä½¿ç”¨ç¯å›å£å»ºç«‹ï¼Œè”é‚¦å†…éƒ¨çš„eBGPå¯¹ç­‰ä½“åº”å½“é…ç½®eBGPå¤šè·³&lt;br&gt;
é…ç½®å›½å®¶ASï¼š&lt;code&gt;confederation id 200&lt;/code&gt;&lt;br&gt;
é…ç½®å›½å®¶å†…éƒ¨åŸé‚¦eBGPçš„ASåˆ—è¡¨ï¼ˆå°†æ‰€æœ‰çš„ASæˆå‘˜éƒ½å†™å…¥ï¼‰ï¼š&lt;code&gt;confederation peer-as 2067&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
undo bgp
bgp 2005
confederation id 200
confederation peer-as 2067
peer 11.1.1.1 as 100
peer 11.1.1.1 ebgp-max-hop 2
peer 11.1.1.1 connect-interface lo 0
peer 77.1.1.1 as 2067
peer 77.1.1.1 ebgp-max-hop 2
peer 77.1.1.1 connect-interface lo 0
network 5.5.5.5 32

# R6
undo bgp
bgp 2067
confederation id 200
confederation peer-as 2005
peer 77.1.1.1 as 2067
peer 77.1.1.1 connect-interface lo 0
network 6.6.6.6 32

# R7
undo bgp
bgp 2067
confederation id 200
confederation peer-as 2005
peer 66.1.1.1 as 2067
peer 66.1.1.1 connect-interface lo 0
peer 55.1.1.1 as 2005
peer 55.1.1.1 ebgp-max-hop 2
peer 55.1.1.1 connect-interface lo 0

# åˆ é™¤ä¹‹å‰é…ç½®ç¯å¢ƒ
#  R1
bgp 100
undo peer 55.1.1.1 next-hop-invariable
undo peer 55.1.1.1 fake-as 65535
# R5
ospf
undo import-route static  # æ­¤æ—¶R7æ”¶åˆ°çš„æ¥è‡ªAS100çš„è·¯ç”±æ— æ³•ä¼˜é€‰ï¼Œå› ä¸ºä¸‹ä¸€è·³ä¸å¯è¾¾å› æ­¤åœ¨è¿™é‡Œéœ€è¦è®¾ç½®ä¸‹ä¸€è·³è‡ªæˆ‘
q
bgp 2005
peer 77.1.1.1 next-hop-local
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒåä¹å›¢ä½“å±æ€§no-export&#34;&gt;å®éªŒåä¹ï¼šå›¢ä½“å±æ€§no-export&lt;/h2&gt;
&lt;p&gt;åœ¨R3ä¸Šäº§ç”Ÿè·¯ç”±ï¼Œåº”ç”¨ç­–ç•¥ï¼Œä½¿å…¶æºå¸¦no-exportå±æ€§&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é’ˆå¯¹å¯¹ç­‰ä½“åº”ç”¨é€šå‘Šå›¢ä½“çš„å‘½ä»¤&lt;/li&gt;
&lt;li&gt;è®¾ç½®å›¢ä½“ç­–ç•¥&lt;/li&gt;
&lt;li&gt;äº§ç”Ÿè·¯ç”±æ—¶åº”ç”¨å›¢ä½“ç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer PEER_GROUP advertise-community
peer 22.1.1.1 advertise-community
# R2
bgp 100
peer PEER_GROUP advertise-community
# R4
bgp 100
peer PEER_GROUP advertise-community
# R3
route-policy COMM permit node 10
apply community no-export 100:333
q
bgp 100
network 3.3.3.3 32 route-policy COMM
peer PEER_GROUP advertise-community

# æŸ¥çœ‹
# R1/2/4/5
dis bgp rou 3.3.3.3
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåå›¢ä½“å±æ€§no-export-subconfedlocal-as&#34;&gt;å®éªŒäºŒåï¼šå›¢ä½“å±æ€§no-export-subconfed(local-as)&lt;/h2&gt;
&lt;p&gt;åœ¨R7ä¸Šäº§ç”Ÿè·¯ç”±ï¼Œä½¿å…¶æºå¸¦no-export-subconfedå±æ€§&lt;br&gt;
å®éªŒ2.1ï¼šåœ¨è”é‚¦å†…éƒ¨åº”ç”¨ no-export å±æ€§&lt;br&gt;
no-export åœ¨è”é‚¦ç¯å¢ƒä¸‹ï¼Œä¸å½±å“å­ASä¹‹é—´çš„ä¼ é€’ï¼Œä½†è·¯ç”±ä¸èƒ½ä¼ å‡ºè”é‚¦&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
bgp 100
peer 55.1.1.1 advertise-community
# R5
bgp 2005
peer 77.1.1.1 advertise-community
peer 11.1.1.1 advertise-community
# R6
bgp 2067
peer 77.1.1.1 advertise-community
peer 10.1.26.2 as 100
peer 10.1.26.2 advertise-community
# R2
bgp 100
peer 10.1.26.6 as-number 200
peer 10.1.26.6 advertise-community
# R7
bgp 2067
peer 55.1.1.1 advertise-community
peer 66.1.1.1 advertise-community
q
route-policy COMM permit node 10
apply community no-export-subconfed 200:2067
q
bgp 2067
network 7.7.7.7 32 route-policy COMM

# æŸ¥çœ‹
# R7/6/5/2
dis bgp rou 7.7.7.7  # æ­¤æ—¶åªæœ‰åœ¨R6ä¸Šæœ‰ç›¸åº”çš„è·¯ç”±ä¸”å¸¦æœ‰å±æ€§

# ---------------------------------
# å¯¹æ¯”åœ¨é€šå‘Šæ—¶åŠ å…¥å±æ€§å’Œä¼ é€’ç»™é‚»å±…æ—¶åŠ å…¥å±æ€§çš„åŒºåˆ«
# å³ç›´æ¥åœ¨å‡ºæ–¹å‘ä¸Šè®¾ç½®å±æ€§ï¼Œä¸åœ¨é€šå‘Šä¸Šè®¾ç½®å±æ€§äº† 
# R7
bgp 2067
undo network 7.7.7.7 32
network 7.7.7.7 32
peer 55.1.1.1 route-policy COMM export
peer 66.1.1.1 route-policy COMM export
# R7/6/5
dis bgp rou 7.7.7.7  # æ­¤æ—¶R7æœ¬èº«ä¸å¸¦å›¢ä½“å±æ€§ï¼Œåªæœ‰åœ¨R6å’ŒR5ä¸Šæœ‰ç›¸åº”çš„è·¯ç”±ä¸”å¸¦æœ‰å±æ€§

# ---------------------------------
# åœ¨è”é‚¦å†…éƒ¨ä½¿ç”¨no-exportå±æ€§
# R7
bgp 2067
undo peer 66.1.1.1 route-policy COMM export
undo peer 55.1.1.1 route-policy COMM export
network 7.7.7.7 32 route-policy COMM
q
route-policy COMM permit node 10
apply community no-export 200:2067
# R5/6/1
dis bgp rou 7.7.7.7  # åœ¨R6å’ŒR5ä¸Šæœ‰ç›¸åº”çš„è·¯ç”±ä¸”å¸¦æœ‰å±æ€§ï¼Œä½†R1æ²¡æœ‰ç›¸åº”çš„è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåä¸€å›¢ä½“å±æ€§no-advertise&#34;&gt;å®éªŒäºŒåä¸€ï¼šå›¢ä½“å±æ€§no-advertise&lt;/h2&gt;
&lt;p&gt;å¯¹æ¯”åœ¨é€šå‘Šæ—¶åŠ å…¥å±æ€§å’Œä¼ é€’ç»™é‚»å±…æ—¶åŠ å…¥å±æ€§çš„åŒºåˆ«&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šå‘Šæ—¶æºå¸¦ï¼Œå°†ä¸èƒ½ä¼ é€’å‡ºå»&lt;/li&gt;
&lt;li&gt;ä¼ é€’ç»™é‚»å±…æ—¶æºå¸¦ï¼Œé‚»å±…å°†ä¸èƒ½é€šå‘Šå‡ºå»&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é€šå‘Šæ—¶æºå¸¦
# R7
int lo 2
ip addr 77.77.77.77 32
q
ip ip-prefix 7 permit 7.7.7.7 32
route-policy COMM permit node 10
undo apply community
if-match ip-prefix 7
apply community no-advertise     # 7.7.7.7é€šå‘Šæ—¶æºå¸¦å±æ€§ï¼Œæ‰€æœ‰å…¶æ— æ³•é€šå‘Šç»™å¯¹ç­‰ä½“
q
route-policy COMM1 permit node 10
apply community no-advertise     # 77.77.77.77ä¼ é€’ç»™é‚»å±…æ—¶æºå¸¦å±æ€§ï¼Œæœ¬è·¯ç”±å¯ä»¥é€šå‘Šç»™é‚»å±…ï¼Œä½†æ˜¯é‚»å±…æ”¶åˆ°åæ— æ³•å†å‘é‚»å±…çš„å¯¹ç­‰ä½“è¿›è¡Œé€šå‘Š
q
bgp 2067
network 77.77.77.77 32
peer 55.1.1.1 route-policy COMM1 export
peer 66.1.1.1 route-policy COMM1 export
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåäºŒè®¾ç½®è‡ªå®šä¹‰å›¢ä½“å±æ€§å’Œmed&#34;&gt;å®éªŒäºŒåäºŒï¼šè®¾ç½®è‡ªå®šä¹‰å›¢ä½“å±æ€§å’ŒMED&lt;/h2&gt;
&lt;p&gt;éœ€æ±‚æ•ˆæœï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R3äº§ç”Ÿçš„è·¯ç”±æºå¸¦å›¢ä½“ 100:333ï¼Œå¹¶ä¸”æ•°æ®è½¬å‘è·¯å¾„ä¸º 7513&lt;/li&gt;
&lt;li&gt;R4äº§ç”Ÿçš„è·¯ç”±æºå¸¦å›¢ä½“ 100:444ï¼Œå¹¶ä¸”æ•°æ®è½¬å‘è·¯å¾„ä¸º 7624 ï¼ˆè°ƒæ•´AS100 IGPï¼‰&lt;br&gt;
æ–¹æ¡ˆï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆa&#34;&gt;æ–¹æ¡ˆA&lt;/h3&gt;
&lt;p&gt;åœ¨R1å’ŒR2ä¸Šæ ¹æ®å›¢ä½“å¯¹eBGPåº”ç”¨MEDï¼ˆMEDè¶Šå°è¶Šä¼˜ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R3
route-policy COMM permit node 10
undo apply community
apply community 100:333

# R4
route-policy COMM permit node 10
apply community 100:444
bgp 100
network 4.4.4.4 32 route-policy COMM

# R1
ip community-filter 13 permit 100:333
ip community-filter 14 permit 100:444
route-policy MED permit node 10
if-match community-filter 13
apply cost 100
route-policy MED permit node 20 
if-match community-filter 14 
apply cost 200
route-policy MED permit node 30 # æ”¾è¡Œå…¶ä»–æ‰€æœ‰çš„è·¯ç”±
bgp 100
peer 55.1.1.1 route-policy MED export

# R2
ip community-filter 13 permit 100:333
ip community-filter 14 permit 100:444
route-policy MED permit node 10
if-match community-filter 13
apply cost 200
route-policy MED permit node 20 
if-match community-filter 14 
apply cost 100
route-policy MED permit node 30 
bgp 100
peer 10.1.26.6 route-policy MED export

# R6
bgp 2067
peer 77.1.1.1 next-hop-local

# æŸ¥çœ‹
# R7
bgp 2067
undo netowork 7.7.7.7 32
netowork 7.7.7.7 32
undo peer 55.1.1.1 route-policy COMM1 export
undo peer 66.1.1.1 route-policy COMM1 export
q
dis bgp rou
ping -a 7.7.7.7 3.3.3.3
tracert -a 7.7.7.7 3.3.3.3  # 10.1.57.5--10.1.15.1--10.1.13.3
ping -a 7.7.7.7 4.4.4.4
tracert -a 7.7.7.7 4.4.4.4  # 10.1.67.6--10.1.26.2--10.1.23.3--10.1.34.4ï¼šR2è½¬å‘ç»™R3å†è½¬å‘ç»™R4ï¼Œè€Œä¸æ˜¯ç›´æ¥è½¬å‘ç»™R4çš„åŸå› æ˜¯IGPï¼ˆR2ç›´è¿R4çš„æ¥å£å¸¦å®½ä½ï¼ŒOSPFä¸é€‰æ‹©æ­¤ï¼‰
# åœ¨æ­¤å¤„ä¸å»ºè®®è°ƒæ•´ï¼Œå› ä¸ºä¿®æ”¹IGPä¼šå¯¼è‡´AS100å†…éƒ¨è·¯ç”±è°ƒæ•´ï¼Œæ‰€æœ‰æœ€ç»ˆçš„èµ°å‘ä¸º 76234
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆb&#34;&gt;æ–¹æ¡ˆB&lt;/h3&gt;
&lt;p&gt;åœ¨R5å’ŒR6ä¸Šæ ¹æ®å›¢ä½“å¯¹eBGPè¿›æ¥çš„è·¯ç”±åº”ç”¨æœ¬åœ°ä¼˜å…ˆçº§ï¼ˆLocal_Prefè¶Šå¤§è¶Šä¼˜ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ é™¤ä¹‹å‰é…ç½®çš„MED
# R1
bgp 100
undo peer 55.1.1.1 route-policy MED export
# R2
bgp 100
undo peer 10.1.26.2 route-policy MED export

# é…ç½®æœ¬åœ°ä¼˜å…ˆçº§
# R5
ip community-filter 23 permit 100:333
ip community-filter 24 permit 100:444
route-policy LP permit node 10
if-match community-filter 23
apply local-preference 200
route-policy LP permit node 20 
if-match community-filter 24 
apply local-preference 150
route-policy MED permit node 30 
bgp 2005
peer 11.1.1.1 route-policy LP import

# R6
ip community-filter 23 permit 100:333
ip community-filter 24 permit 100:444
route-policy LP permit node 10
if-match community-filter 23
apply local-preference 150
route-policy LP permit node 20 
if-match community-filter 24 
apply local-preference 200
route-policy MED permit node 30 
bgp 2067
peer  10.1.26.2 route-policy LP import

# æŸ¥çœ‹
# R7/5/6
refresh bgp all import
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåä¸‰è·¯ç”±é€‰æ‹©-æ¯”è¾ƒæƒé‡å€¼&#34;&gt;å®éªŒäºŒåä¸‰ï¼šè·¯ç”±é€‰æ‹©-æ¯”è¾ƒæƒé‡å€¼&lt;/h2&gt;
&lt;p&gt;ä»…ä»…æœ¬è®¾å¤‡æœ‰æ„ä¹‰ï¼Œè¶Šå¤§è¶Šä¼˜å…ˆ&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R3é’ˆå¯¹R2å…¥ç«™çš„è·¯ç”±å…¨éƒ¨æŒ‡å®šæƒé‡å€¼ä¸º100&lt;/li&gt;
&lt;li&gt;R3é’ˆå¯¹R1è¿›æ¥çš„6.6.6.6è·¯ç”±æŒ‡å®šæƒé‡å€¼ä¸º200&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R3
ip ip-prefix 6 permit 6.6.6.6 32
route-policy WEIGHT permit node 10
if-match ip-prefix 6
apply preferred-value 200
route-policy WEIGHT permit node 20 # æ”¾è¡Œå…¶ä»–æ‰€æœ‰çš„è·¯ç”±
q
bgp 100
peer 22.1.1.1 preferred-value 100
peer 11.1.1.1 route-policy WEIGHT import

# æŸ¥çœ‹
# R3
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåå››è·¯ç”±é€‰æ‹©-æ¯”è¾ƒæœ¬åœ°ä¼˜å…ˆçº§&#34;&gt;å®éªŒäºŒåå››ï¼šè·¯ç”±é€‰æ‹©-æ¯”è¾ƒæœ¬åœ°ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;p&gt;æœ¬åœ°ä¼˜å…ˆçº§å±æ€§ä»…åœ¨iBGPå¯¹ç­‰ä½“å’Œè”é‚¦å†…éƒ¨ä¼ é€’ï¼Œä¸ä¼ é€’ç»™eBGPå¯¹ç­‰ä½“&lt;br&gt;
è¯¥æ•°å€¼è¶Šå¤§åˆ™ä¼˜å…ˆçº§è¶Šé«˜&lt;br&gt;
ç¼ºçœæƒ…å†µä¸‹ï¼ŒBGPæœ¬åœ°ä¼˜å…ˆçº§å€¼ä¸º100&lt;code&gt;è®¾ç½®æœ¬åœ°ä¼˜å…ˆçº§ï¼šdefault local-preferrence 250&lt;/code&gt;&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R6å…¥ç«™ç­–ç•¥è®¾ç½®2.2.2.2çš„æœ¬åœ°ä¼˜å…ˆçº§ä¸º222&lt;/li&gt;
&lt;li&gt;R5è®¾ç½®é»˜è®¤æœ¬åœ°ä¼˜å…ˆçº§200&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R6
ip ip-prefix 2 permit 2.2.2.2 32
undo route-policy LP
route-policy LP permit node 10
if-match ip-prefix 2
apply local-preference 222
route-policy LP permit node 20

# R5
bgp 2005
undo peer 11.1.1.1 route-policy LP import
default local-preference 200

# æŸ¥çœ‹
# R7
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåäº”è·¯ç”±é€‰æ‹©-èµ·æº&#34;&gt;å®éªŒäºŒåäº”ï¼šè·¯ç”±é€‰æ‹©-èµ·æº&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨route-policyä¿®æ”¹èµ·æºä»£ç &lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†R4ä¼˜é€‰çš„æ¥è‡ªRR1çš„è·¯ç”±é€šè¿‡å…¥ç«™ç­–ç•¥ä¿®æ”¹èµ·æºä»£ç ä¸ºâ€œï¼Ÿâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R4
route-policy ORIGIN permit node 10
apply origin incomplete
bgp 100
peer 11.1.1.1 route-policy ORIGIN import

# æŸ¥çœ‹
# R4
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåå…­è·¯ç”±é€‰æ‹©-as-path&#34;&gt;å®éªŒäºŒåå…­ï¼šè·¯ç”±é€‰æ‹©-as-path&lt;/h2&gt;
&lt;p&gt;è·³è¿‡as-pathé€‰è·¯è§„åˆ™å‘½ä»¤&lt;code&gt;bestroute as-path-ignore&lt;/code&gt;&lt;br&gt;
å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;R1å‡ºç«™ç­–ç•¥ï¼šä¸º3.3.3.3è®¾ç½®å‰ç½®ASå·ç 100 100 100&lt;/li&gt;
&lt;li&gt;R2å‡ºç«™ç­–ç•¥ï¼šä¸º4.4.4.4è®¾ç½®å‰ç½®ASå·ç 100 100 100&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¸‹é¢è®¾ç½®æ˜¯ä¸ºäº†é˜²æ­¢ä¹‹å‰å®éªŒè®¾ç½®çš„æœ¬åœ°ä¼˜å…ˆçº§å¯¹æœ¬å®éªŒçš„å½±å“
# R7
# route-policy NONE permit node 10
# apply local-preference 300
# R6
bgp 2067
undo peer 10.1.26.2 route-policy LP import
# R5 
bgp 2005
undo defaut local-preference 

# é…ç½®
#ï¼²1
ip ip-prefix 3 permit 3.3.3.3 32
route-policy AS permit node 10
if-match ip-prefix 3
apply as-path 100 100 100 additive
route-policy AS permit node 20
bgp 100
peer 55.1.1.1 route-policy AS export
#ï¼²2
ip ip-prefix 4 permit 4.4.4.4 32
route-policy AS permit node 10
if-match ip-prefix 4
apply as-path 100 100 100 additive
route-policy AS permit node 20
bgp 100
peer 10.1.26.6 route-policy AS export

# æŸ¥çœ‹
# R5/6
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåä¸ƒè·¯ç”±é€‰æ‹©-åˆ°bgpæ›´æ–°æºigpå¼€é”€å°çš„è¢«ä¼˜é€‰&#34;&gt;å®éªŒäºŒåä¸ƒï¼šè·¯ç”±é€‰æ‹©-åˆ°BGPæ›´æ–°æºIGPå¼€é”€å°çš„è¢«ä¼˜é€‰&lt;/h2&gt;
&lt;p&gt;å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹OSPFï¼ˆIGPï¼‰çš„cost&lt;/li&gt;
&lt;li&gt;å°†R4åˆ°R2çš„è·¯å¾„ä¿®æ”¹ä¸ºç»è¿‡R2æ¯”è¾ƒå°ï¼ˆå³ç›®å‰æ˜¯R4-R3-R2ï¼Œä¿®æ”¹åä¸ºR4-R2ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R4
bgp 100
undo peer 11.1.1.1 route-policy ORIGIN import

# R3
int g0/0/1
ospf cost 3

# æŸ¥çœ‹
# R4
dis bgp rou 7.7.7.7
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåå…«è·¯ç”±é€‰æ‹©-å¼€å¯è´Ÿè½½å‡è¡¡&#34;&gt;å®éªŒäºŒåå…«ï¼šè·¯ç”±é€‰æ‹©-å¼€å¯è´Ÿè½½å‡è¡¡&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R3
int g0/0/1
undo ospf cost

# R4
bgp 100
maximum load-balancing ibgp  2    # å¯ä»¥å¼€å¯iBGPæˆ–è€…eBGPçš„è´Ÿè½½å‡è¡¡ï¼Œé»˜è®¤æƒ…å†µä¸‹åªå¼€å¯eBGPçš„è´Ÿè½½å‡è¡¡ï¼Œå¦‚æœeBGPæœ‰å¤‡ä»½è·¯å¾„çš„è¯ï¼Œå¯ä»¥å¼€å¯iBGPçš„è´Ÿè½½å‡è¡¡ã€‚2ä»£è¡¨è´Ÿè½½å‡è¡¡æ—¶ä½¿ç”¨ä¸¤æ¡é“¾è·¯ã€‚
# è´Ÿè½½å‡è¡¡ä¹‹åï¼Œè·¯ç”±å‰é¢ï¼ˆStatus codesçŠ¶æ€ç é‚£ä¸€åˆ—ï¼‰ä¼šæ˜¾ç¤ºä¸€ä¸ªâ€œmâ€ï¼Œä»£è¡¨å¤šè·¯å¾„multipathã€‚
# è´Ÿè½½å‡è¡¡è™½ç„¶ä¼šæœ‰ä¸¤æ¡è·¯å¾„è¢«ä¼˜é€‰ï¼Œä½†æ˜¯ä¹Ÿåªèƒ½å‘å¤–æ›´æ–°ä¸€ä¸ªï¼Œå³besté‚£æ¡è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒåä¹äº§ç”Ÿé»˜è®¤è·¯ç”±çš„ä¸‰ç§æ–¹å¼&#34;&gt;å®éªŒäºŒåä¹ï¼šäº§ç”Ÿé»˜è®¤è·¯ç”±çš„ä¸‰ç§æ–¹å¼&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨networkå‘½ä»¤å¼•å…¥IGPè·¯ç”±
# R1
ip route-static 0.0.0.0 0 10.1.15.1
bgp 100
network 0.0.0.0
dis bgp rou # èµ·æºä»£ç ä¸ºi
undo network 0.0.0.0  # æŸ¥çœ‹å®Œæ¯•ä¹‹åç›´æ¥åˆ é™¤

# æ–¹æ¡ˆäºŒï¼šé‡å‘å¸ƒ
# R1
bgp 100
import-route static
default-route imported
dis bgp rou  # èµ·æºä»£ç ä¸ºï¼Ÿ
undo import-route static
undo default-route imported

# æ–¹æ¡ˆä¸‰ï¼šé’ˆå¯¹ç‰¹å®šé‚»å±…ä¸‹å‘é»˜è®¤è·¯ç”±
# R5
bgp 2005
peer 77.1.1.1 default-route-advertise
dis bgp rou  # åœ¨R5ä¸Šçœ‹ä¸è§ï¼Œéœ€è¦åœ¨R7ä¸ŠæŸ¥çœ‹ï¼Œæ‰€ä»¥æ­¤å‘½ä»¤éœ€è¦åœ¨R7å’ŒR5ä¸Šæ‰§è¡Œ
undo peer 77.1.1.1 default-route-advertise
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰åä¸€as-pathæ§åˆ¶åˆ—è¡¨&#34;&gt;å®éªŒä¸‰åä¸€ï¼šas-pathæ§åˆ¶åˆ—è¡¨&lt;/h2&gt;
&lt;p&gt;å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‡è®¾ R7 æ˜¯æˆ‘ä»¬çš„ä¼ä¸šç½‘&lt;/li&gt;
&lt;li&gt;R5ã€R6æ˜¯ä¸¤ä¸ªSPï¼ŒèƒŒåçš„AS100æ˜¯å¤§å‹SP&lt;/li&gt;
&lt;li&gt;åº”ç”¨åˆ—è¡¨ï¼Œé˜»æ­¢R7æˆä¸ºSPçš„æµé‡è½½ä½“&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ é™¤ä¹‹å‰çš„ç¯å¢ƒ
# R5
undo bgp 2005
# R6/7
undo bgp 2067
# R7
undo bgp 2067
# R1
bgp 100
undo peer 55.1.1.1 
peer 10.1.15.5 as-number 500
# R2
bgp 100
undo peer 10.1.26.6
peer 10.1.26.6 as-number 600

# é‡æ–°é…ç½®ç¯å¢ƒ
# R5
bgp 500
peer 10.1.15.1 as-number 100
peer 10.1.57.7 as-number 700
network 5.5.5.5 32
# R7
bgp 700
peer 10.1.67.6 as-number 600
peer 10.1.57.5 as-number 500
network 7.7.7.7 32
# R6
bgp 600
peer 10.1.67.7 as-number 700
peer 10.1.26.2 as-number 100
network 6.6.6.6 32

# é…ç½®as-pathè®¿é—®æ§åˆ¶åˆ—è¡¨
# R7
ip as-path-filter 1 permit ^$  # åŒ¹é…æœ¬åœ°ASå§‹å‘çš„æ›´æ–°è·¯ç”±
bgp 700
peer 10.1.57.5 as-path-filter 1 export
peer 10.1.67.6 as-path-filter 1 export  #å³ä»…ä»…é€šå‘Šæœ¬åœ°å§‹å‘çš„è·¯ç”±ç»™å¯¹ç­‰ä½“
# æ­¤æ—¶ï¼ŒR6ä¸Šå»å¾€R5(5.5.5.5)çš„è·¯ç”±çš„ä¸‹ä¸€è·³ä¸º10.1.26.2ï¼›R5ä¸Šå»å¾€R6(6.6.6.6)çš„è·¯ç”±çš„ä¸‹ä¸€è·³ä¸º10.1.15.1ã€‚æ­¤æ—¶R5å’ŒR6ä¸Šåªæœ‰7.7.7.7çš„è·¯ç”±çš„ä¸‹ä¸€è·³ä¸ºR7ï¼Œå³é˜»æ­¢äº†éR7æµé‡ç»è¿‡R7çš„æƒ…å†µã€‚
# æŸ¥çœ‹R7ä¸Šé€šå‘Šè·¯ç”±æƒ…å†µ
# R7
dis bgp peer 10.1.67.6 verbose
dis bgp peer 10.1.57.5 verbose
# å¯ä»¥çœ‹åˆ°ä»…æœ‰ä¸€æ¡è·¯ç”±æ›´æ–°å‡ºå»ï¼Œå³æœ¬åœ°ASå§‹å‘çš„è·¯ç”±7.7.7.7
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰åäºŒåº”ç”¨æ¸©å’Œé‡é…ç½®&#34;&gt;å®éªŒä¸‰åäºŒï¼šåº”ç”¨æ¸©å’Œé‡é…ç½®&lt;/h2&gt;
&lt;p&gt;å®éªŒå†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨R5ä¸Šé’ˆå¯¹R1åº”ç”¨å…¥ç«™æ–¹å‘çš„å‰ç¼€åˆ—è¡¨ï¼Œè¿‡æ»¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;åº”ç”¨å…¥ç«™æ–¹å‘çš„æ¸©å’Œé‡é…ç½®&lt;br&gt;
[R5-bgp]&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
ip ip-prefix 1234 permit 2.2.2.2 32
bgp 500
peer 10.1.15.1 ip-prefix 1234 import
dis bgp rou
peer 10.1.15.1 keep-all-routes
dis bgp rou
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰åä¸‰å‡ºç«™è·¯ç”±è¿‡æ»¤orf&#34;&gt;å®éªŒä¸‰åä¸‰ï¼šå‡ºç«™è·¯ç”±è¿‡æ»¤ORF&lt;/h2&gt;
&lt;p&gt;åœ¨R5ä¸Šè®¾ç½®å…¥ç«™ç­–ç•¥ï¼Œç„¶åå°†ç­–ç•¥é€šè¿‡ORFä¼ è‡³R1ï¼Œç¼–ç¨‹R1çš„å‡ºç«™ç­–ç•¥ï¼Œå¯¹è·¯ç”±è¿›è¡Œè¿‡æ»¤&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R5
bgp 500
peer 10.1.15.1 capability-advertise orf ip-prefix  send  # å‰ç¼€åˆ—è¡¨æ˜¯ä¸Šä¸€ä¸ªå®éªŒå†™çš„ï¼šip ip-prefix 1234 permit 2.2.2.2 32
# R1
bgp 100
peer 10.1.15.5 capability-advertise orf ip-prefix receive

# æŸ¥çœ‹
# R5
dis bgp rou
# R1
dis bgp peer 10.1.15.5 orf ip-prefix
&lt;/code&gt;&lt;/pre&gt;
">HCIE-BGPä¸“é¢˜(2020.07.13ï¼Œç¬¬1ä¸“é¢˜)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/jin-yong-tshark-yong-hu-gao-jing/"" data-c="
          &lt;p&gt;&lt;strong&gt;å‘Šè­¦ä¿¡æ¯å¦‚ä¸‹ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;Running as user &amp;quot;root&amp;quot; and group &amp;quot;root&amp;quot;. This could be dangerous. tshark: Lua: Error during loading:&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;yum -y install wireshark-devel&lt;/code&gt;&lt;br&gt;
ç¼–è¾‘/usr/share/wireshark/init.luaæ–‡ä»¶ï¼Œä¿®æ”¹dofile(DATA_DIR..&amp;quot;console.lua&amp;quot;)ä¸º--dofile(DATA_DIR..&amp;quot;console.lua&amp;quot;)ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥æ³¨æ‰ã€‚&lt;br&gt;
&lt;code&gt;æ³¨é”€æˆ–é‡å¯ä¹‹åæœ‰æ•ˆ&lt;/code&gt;&lt;/p&gt;
">ç¦ç”¨tsharkç”¨æˆ·å‘Šè­¦</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hcie-mpls-zhuan-ti-20200706/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E4%B8%93%E9%A2%98%E6%8B%93%E6%89%91%E4%BB%A5%E5%8F%8Aensp%E6%8B%93%E6%89%91%E4%BD%BF%E7%94%A8&#34;&gt;MPLSä¸“é¢˜æ‹“æ‰‘ä»¥åŠENSPæ‹“æ‰‘ä½¿ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%80%E5%8D%95%E5%9B%9E%E9%A1%BE&#34;&gt;ç®€å•å›é¡¾&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86&#34;&gt;MPLSåŸºæœ¬åŸç†&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%9C%AF%E8%AF%AD%E7%AD%89&#34;&gt;MPLSæœ¯è¯­ç­‰&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84&#34;&gt;MPLSåŸºæœ¬ç»“æ„&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%A0%87%E7%AD%BE%E6%A0%BC%E5%BC%8F&#34;&gt;MPLSæ ‡ç­¾æ ¼å¼&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%B8%A7%E6%A0%BC%E5%BC%8F&#34;&gt;MPLSå¸§æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E5%A4%B4%E9%83%A8%E4%BF%A1%E6%81%AF&#34;&gt;MPLSå¤´éƒ¨ä¿¡æ¯&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E6%A0%87%E7%AD%BE%E5%B5%8C%E5%A5%97&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mpls%E8%BD%AC%E5%8F%91%E6%B5%81%E7%A8%8B&#34;&gt;MPLSè½¬å‘æµç¨‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%A0%87%E7%AD%BE%E8%A1%8C%E4%B8%BA%E6%80%BB%E7%BB%93&#34;&gt;æ ‡ç­¾è¡Œä¸ºæ€»ç»“&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ldp%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86&#34;&gt;LDPåè®®åŸç†&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C&#34;&gt;å®éªŒ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%9E%E9%AA%8C%E4%B8%80%E5%AE%9E%E6%96%BDldp&#34;&gt;å®éªŒä¸€ï¼šå®æ–½LDP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%80%9D%E7%A7%91&#34;&gt;æ€ç§‘&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%8E%E4%B8%BA&#34;&gt;åä¸º&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;mplsä¸“é¢˜æ‹“æ‰‘ä»¥åŠenspæ‹“æ‰‘ä½¿ç”¨&#34;&gt;MPLSä¸“é¢˜æ‹“æ‰‘ä»¥åŠENSPæ‹“æ‰‘ä½¿ç”¨&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594043153855.png&#34; alt=&#34;MPLSä¸“é¢˜æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸Šè¯¾ä¹‹å‰å¼€å¯ä»¥ä¸‹è®¾å¤‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594219215690.png&#34; alt=&#34;ENSPæ‹“æ‰‘ä½¿ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;ç®€å•å›é¡¾&#34;&gt;ç®€å•å›é¡¾&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;TCP/IPç«¯åˆ°ç«¯é€šä¿¡æ¨¡å‹ï¼ŒIPè½¬å‘çš„ç‰¹ç‚¹ã€ä¾æ®ï¼šé€è·³è½¬å‘ï¼ˆè·¯ç”±é»‘æ´ï¼‰ã€ä¾æ®ç›®æ ‡åœ°å€å’Œè·¯ç”±è¡¨ï¼ˆç­–ç•¥ï¼‰è½¬å‘&lt;/li&gt;
&lt;li&gt;BGPè·¯ç”±é»‘æ´è§£å†³æ–¹æ¡ˆï¼šå…¨äº’è”ã€è·¯ç”±åå°„å™¨ã€åŒæ­¥IGPï¼ˆå³è·¯ç”±å¼•å…¥ï¼‰ã€è”ç›Ÿ&lt;/li&gt;
&lt;li&gt;MPLSå¤šåè®®æ ‡ç­¾äº¤æ¢ï¼Œé«˜é€Ÿè½¬å‘ï¼Œè¿™æ˜¯ä¸€ç§å¢åŠ äº†èƒ½æºæ¶ˆè€—çš„è½¬å‘æŠ€æœ¯ï¼Œä½†æ˜¯æ•ˆç‡æé«˜äº†ã€‚MPLSè½¬å‘ç±»ä¼¼å¤§å‹è¶…å¸‚ï¼Œéœ€è¦æ‰«ç æªå’Œå¾ˆå¤šæ”¶é“¶å‘˜ï¼›ä¼ ç»ŸIPè½¬å‘ç±»ä¼¼å°å–éƒ¨ï¼Œä¸éœ€è¦è¿™ä¹ˆå¤šè¾…åŠ©å·¥å…·ä¸å‘˜å·¥ã€‚&lt;/li&gt;
&lt;li&gt;ä¾æ®æ•°æ®åº“å®Œæˆè®¾å¤‡çš„æ•°æ®å¤„ç†æˆ–è€…è½¬å‘è§’è‰²ï¼Œè·¯ç”±åè®®ï¼šé‚»å±…è¡¨ã€è·¯ç”±è¡¨ã€æ•°æ®åº“ï¼ˆLSDBã€BGP tableã€topology baseï¼ˆEIGRPï¼‰ï¼‰&lt;/li&gt;
&lt;li&gt;MPLSæä¾›äº†ä¸€ç§ç›¸å¯¹æ¯”è¾ƒç®€å•çš„è½¬å‘å†³ç­–æ–¹æ³•ï¼Œåœ¨å¸§æ¨¡å¼å½“ä¸­ï¼Œå°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ ‡ç­¾æ’å…¥åœ¨äºŒå±‚å¤´éƒ¨åé¢ï¼ŒMPLSåŸŸçš„è·¯ç”±å™¨ä¾æ®æ ‡ç­¾åšè½¬å‘å†³ç­–ï¼Œæ ‡ç­¾æ˜¯32bitå›ºå®šé•¿åº¦çš„æ•°å€¼&lt;/li&gt;
&lt;li&gt;MPLSè¿›é˜¶è·¯çº¿ï¼šMPLS --&amp;gt; MPLS-VPN ---&amp;gt; MPLS-TEï¼ˆæµé‡å·¥ç¨‹ï¼‰ ---&amp;gt; SegmentRoutingï¼ˆåˆ†æ®µè·¯ç”±ï¼Œé æºå†³å®šè·¯ç”±å¾€å“ªå‘ï¼‰&lt;/li&gt;
&lt;li&gt;è½¬æ§åˆ†ç¦»ï¼šæ§åˆ¶å±‚é¢----è´Ÿè´£å½¢æˆè½¬å‘è¡¨é¡¹ï¼Œæ¯”å¦‚è·¯ç”±åè®®ç­‰ï¼›æ•°æ®å±‚é¢----è´Ÿè´£è½¬å‘æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;mplsåŸºæœ¬åŸç†&#34;&gt;MPLSåŸºæœ¬åŸç†&lt;/h1&gt;
&lt;h2 id=&#34;mplsæœ¯è¯­ç­‰&#34;&gt;MPLSæœ¯è¯­ç­‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨IPç½‘ç»œä¸MPLSç½‘ç»œçš„äº¤ç•Œå¤„ï¼Œè¾¹ç•Œçš„è®¾å¤‡é€šå¸¸ç§°ä¸º&lt;strong&gt;å…¥ç«™LSR&lt;/strong&gt;ï¼ˆæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±å™¨åšIPè½¬å‘&lt;/strong&gt;ï¼Œéœ€è¦å“ªäº›åŸºç¡€å†…å®¹ï¼šé…ç½®IPåœ°å€ã€äº§ç”Ÿç›´è¿è·¯ç”±ã€é…ç½®è·¯ç”±åè®®ã€äº§ç”Ÿè·¯ç”±è¡¨ã€è·¯ç”±åŸç†ã€IPæŠ¥æ–‡ã€‚&lt;br&gt;
&lt;strong&gt;MPLSè·¯ç”±å™¨LSRè½¬å‘&lt;/strong&gt;æŠ¥æ–‡åˆéœ€è¦äº›ä»€ä¹ˆå‘¢ï¼Ÿæ ‡ç­¾ï¼ˆæ ‡ç­¾åè®®ï¼‰ã€å…·å¤‡æ ‡ç­¾è½¬å‘è¡¨ï¼ˆæ ‡ç­¾åˆ†å‘åè®®+è·¯ç”±åè®®ï¼‰ã€æ ‡ç­¾æŠ¥æ–‡ï¼ˆIPæŠ¥æ–‡+æ ‡ç­¾ï¼‰&lt;/li&gt;
&lt;li&gt;æœ¯è¯­ï¼š
&lt;ol&gt;
&lt;li&gt;CEï¼šå®¢æˆ·è¾¹ç•Œè®¾å¤‡ã€‚CE(Customer Edge)ï¼Œç”¨æˆ·è¾¹ç¼˜è®¾å¤‡ï¼ŒæœåŠ¡æä¾›å•†æ‰€è¿æ¥çš„ç”¨æˆ·ç«¯è·¯ç”±å™¨ã€‚CEè·¯ç”±å™¨é€šè¿‡è¿æ¥ä¸€ä¸ªæˆ–å¤šä¸ªPEè·¯ç”±å™¨ï¼Œä¸ºç”¨æˆ·æä¾›æœåŠ¡æ¥å…¥ã€‚CEè·¯ç”±å™¨é€šå¸¸æ˜¯ä¸€å°IPè·¯ç”±å™¨ï¼Œå®ƒä¸è¿æ¥çš„PEè·¯ç”±å™¨å»ºç«‹é‚»æ¥å…³ç³»&lt;/li&gt;
&lt;li&gt;PEï¼šè¿è¥å•†è¾¹ç•Œè®¾å¤‡ã€‚PE(Provider Edge)ï¼Œå³Provideçš„è¾¹ç¼˜è®¾å¤‡ï¼ŒæœåŠ¡æä¾›å•†éª¨å¹²ç½‘çš„è¾¹ç¼˜è·¯ç”±å™¨ï¼Œå®ƒç›¸å½“äºæ ‡ç­¾è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆLERï¼‰ã€‚PEè·¯ç”±å™¨è¿æ¥CEè·¯ç”±å™¨å’ŒPè·¯ç”±å™¨ï¼Œæ˜¯æœ€é‡è¦çš„ç½‘ç»œèŠ‚ç‚¹ã€‚ç”¨æˆ·çš„æµé‡é€šè¿‡PEè·¯ç”±å™¨æµå…¥ç”¨æˆ·ç½‘ç»œï¼Œæˆ–è€…é€šè¿‡PEè·¯ç”±å™¨æµåˆ°MPLSéª¨å¹²ç½‘&lt;/li&gt;
&lt;li&gt;Pï¼šè¿è¥å•†å†…éƒ¨çš„è®¾å¤‡ï¼Œä»…ä»…è´Ÿè´£å¸®åŠ©è½¬å‘æ•°æ®ã€‚P(Provider)ï¼Œæ˜¯æ ¸å¿ƒå±‚è®¾å¤‡ï¼Œæä¾›å•†è·¯ç”±å™¨ï¼ŒæœåŠ¡æä¾›å•†æ˜¯ä¸è¿æ¥ä»»ä½•CEè·¯ç”±å™¨çš„éª¨å¹²ç½‘è·¯ç”±è®¾å¤‡ï¼Œå®ƒç›¸å½“äºæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨ï¼ˆLSRï¼‰&lt;/li&gt;
&lt;li&gt;LSRï¼šæ ‡ç­¾äº¤æ¢è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;LERï¼šæ ‡ç­¾è¾¹ç¼˜è·¯ç”±å™¨ï¼ˆPEï¼‰&lt;/li&gt;
&lt;li&gt;CPEï¼šä¸‰å·¨å¤´ä¸­ä¸¤ä¸ªäº’è”ï¼Œä¸ºåŒä¸€ä¸ªå®¢æˆ·æœåŠ¡&lt;/li&gt;
&lt;li&gt;MCEï¼šMCEåŠŸèƒ½æ˜¯Multi-CEçš„ç®€ç§°ï¼Œå…·æœ‰MCEåŠŸèƒ½çš„äº¤æ¢æœºå¯ä»¥åœ¨BGP/MPLS VPNç»„ç½‘åº”ç”¨ä¸­æ‰¿æ‹…å¤šä¸ªVPNå®ä¾‹çš„CEåŠŸèƒ½ï¼Œå‡å°‘ç”¨æˆ·ç½‘ç»œè®¾å¤‡çš„æŠ•å…¥&lt;/li&gt;
&lt;li&gt;vrfï¼ˆæ€ç§‘ç§°vpn instanceï¼‰ï¼š&lt;strong&gt;åœ¨PEè®¾å¤‡ä¸Šèµ·åˆ°éš”ç¦»ä½œç”¨&lt;/strong&gt;ï¼Œæ¯ä¸€ä¸ªvrfæä¾›ä¸€ä¸ªç‹¬ç«‹çš„è·¯ç”±è¡¨ï¼ŒåŒæ—¶ç”šè‡³èƒ½å¤Ÿæä¾›ç‹¬ç«‹çš„è·¯ç”±åè®®è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;LSPï¼šæ ‡ç­¾äº¤æ¢é€šé“ï¼ŒLSPæ˜¯ä¸€ä¸ªå•å‘é€šé“ï¼Œä¸æ•°æ®æµçš„æ–¹å‘ä¸€è‡´&lt;/li&gt;
&lt;li&gt;FIBï¼šè½¬å‘ä¿¡æ¯åº“ï¼Œæ¥è‡ªè·¯ç”±è¡¨æ‹·è´&lt;/li&gt;
&lt;li&gt;LIBï¼šæ ‡ç­¾ä¿¡æ¯åº“ï¼Œç”±æ ‡ç­¾åè®®æ ¹æ®è·¯ç”±äº§ç”Ÿçš„&lt;strong&gt;æ ‡ç­¾å’Œè·¯ç”±çš„å¯¹åº”å…³ç³»&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;LFIBï¼šæ ‡ç­¾è½¬å‘ä¿¡æ¯åº“ï¼ŒæŠŠFIBå’ŒLIBä¸¤è€…ç»“åˆåœ¨ä¸€èµ·&lt;/li&gt;
&lt;li&gt;FECï¼šè½¬å‘ç­‰ä»·ç±»ã€‚MPLSå°†å…·æœ‰ç›¸åŒç‰¹å¾çš„æŠ¥æ–‡å½’ä¸ºä¸€ç±»ï¼Œç§°ä¸ºè½¬å‘ç­‰ä»·ç±»FECï¼Œå±äºç›¸åŒFECçš„æŠ¥æ–‡åœ¨è½¬å‘è¿‡ç¨‹ä¸­è¢«LSRä»¥ç›¸åŒæ–¹å¼å¤„ç†ã€‚FECå¯ä»¥æ ¹æ®æºåœ°å€ã€ç›®çš„åœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€VPNç­‰è¦ç´ è¿›è¡Œåˆ’åˆ†ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¼ ç»Ÿçš„é‡‡ç”¨æœ€é•¿åŒ¹é…ç®—æ³•çš„IPè½¬å‘ä¸­ï¼Œåˆ°åŒä¸€æ¡è·¯ç”±çš„æ‰€æœ‰æŠ¥æ–‡å°±æ˜¯ä¸€ä¸ªè½¬å‘ç­‰ä»·ç±»&lt;/li&gt;
&lt;li&gt;NHLFEï¼šä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨é¡¹ï¼Œç”¨äºæŒ‡å¯¼MPLSæŠ¥æ–‡çš„è½¬å‘ï¼ŒåŒ…æ‹¬Tunnel IDã€å‡ºæ¥å£ã€ä¸‹ä¸€è·³ã€å‡ºæ ‡ç­¾ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚FECåˆ°ä¸€ç»„NHLFEçš„æ˜ å°„ç§°ä¸ºFTNï¼ˆFEC-to-NHLFEï¼‰ï¼Œé€šè¿‡æŸ¥çœ‹FIBè¡¨ä¸­Tunnel IDå€¼ä¸ä¸º0x0çš„è¡¨é¡¹ï¼Œèƒ½å¤Ÿè·å¾—FTNçš„è¯¦ç»†ä¿¡æ¯ï¼ŒFTNåªåœ¨Ingresså­˜åœ¨&lt;/li&gt;
&lt;li&gt;Tunnel IDï¼šä¸ºäº†ç»™ä½¿ç”¨éš§é“çš„ä¸Šå±‚åº”ç”¨ï¼ˆå¦‚VPNã€è·¯ç”±ç®¡ç†ï¼‰æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œç³»ç»Ÿè‡ªåŠ¨ä¸ºéš§é“åˆ†é…äº†ä¸€ä¸ªIDï¼Œä¹Ÿç§°ä¸ºTunnel IDã€‚è¯¥Tunnel IDçš„é•¿åº¦ä¸º32æ¯”ç‰¹ï¼Œåªæ˜¯æœ¬åœ°æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;ILMï¼šå…¥æ ‡ç­¾åˆ°ä¸€ç»„ä¸‹ä¸€è·³æ ‡ç­¾è½¬å‘è¡¨é¡¹çš„æ˜ å°„ç§°ä¸ºå…¥æ ‡ç­¾æ˜ å°„ILMï¼ŒILMåŒ…æ‹¬Tunnel IDã€å…¥æ ‡ç­¾ã€å…¥æ¥å£ã€æ ‡ç­¾æ“ä½œç±»å‹ç­‰ä¿¡æ¯ã€‚ILMåœ¨TransitèŠ‚ç‚¹çš„ä½œç”¨æ˜¯å°†æ ‡ç­¾å’ŒNHLFEç»‘å®šã€‚é€šè¿‡æ ‡ç­¾ç´¢å¼•ILMè¡¨ï¼Œå°±ç›¸å½“äºä½¿ç”¨ç›®çš„IPåœ°å€æŸ¥è¯¢FIBï¼Œèƒ½å¤Ÿå¾—åˆ°æ‰€æœ‰çš„æ ‡ç­¾è½¬å‘ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;BGPè·¯ç”±ä¸IGPè·¯ç”±çš„ä¸€ä¸ªåŒºåˆ«ï¼šè·¨è¶Šè®¾å¤‡ä¼ é€’ï¼ŒBGPè·¯ç”±éƒ½å¸¦æœ‰ä¸‹ä¸€è·³&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsåŸºæœ¬ç»“æ„&#34;&gt;MPLSåŸºæœ¬ç»“æ„&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;MPLS\VPNæŠ¥æ–‡è½¬å‘æµç¨‹&lt;/strong&gt;ï¼š
&lt;ol&gt;
&lt;li&gt;CE --&amp;gt; IngressPE&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594130873094.png&#34; alt=&#34;CE --&amp;gt; IngressPE&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;CEå°†æŠ¥æ–‡å‘ç»™ä¸å…¶ç›¸è¿çš„VRFæ¥å£ï¼ŒPEåœ¨æœ¬&lt;strong&gt;VRFçš„è·¯ç”±è¡¨&lt;/strong&gt;ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¾—åˆ°äº†è¯¥è·¯ç”±çš„å…¬ç½‘ä¸‹ä¸€è·³åœ°å€ï¼ˆä¸ºä¸‹ä¸€æ­¥æŸ¥æ‰¾å…¬ç½‘æ ‡ç­¾å‡†å¤‡ï¼‰å’Œç§ç½‘æ ‡ç­¾ï¼ˆæ­¤æ—¶æ•°æ®å¤´éƒ¨å·²ç»å«æœ‰ç§ç½‘æ ‡ç­¾ï¼‰&lt;/li&gt;
&lt;li&gt;åœ¨æŠŠè¯¥æŠ¥æ–‡å°è£…ä¸€å±‚ç§ç½‘æ ‡ç­¾åï¼Œåœ¨å…¬ç½‘çš„æ ‡ç­¾è½¬å‘è¡¨ä¸­æŸ¥æ‰¾ä¸‹ä¸€è·³åœ°å€ï¼Œå†å°è£…ä¸€å±‚å…¬ç½‘æ ‡ç­¾åï¼Œäº¤äºˆMPLSè½¬å‘&lt;br&gt;
&lt;code&gt;ä¸€å…±ä¸¤æ¬¡æŸ¥æ‰¾ï¼Œä¸¤å±‚æ ‡ç­¾ï¼Œå…¬ç½‘æ ‡ç­¾åœ¨å¤–ã€‚å…¥ç«™IPæŠ¥æ–‡ï¼Œå…ˆæŸ¥LFIB ï¼Œå‘½ä¸­åˆ™å‹å…¥æ ‡ç­¾è½¬å‘ï¼Œå¦åˆ™å†æŸ¥FIBï¼ŒIPè½¬å‘&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;IngressPE --&amp;gt; EgressPE --&amp;gt; CE&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594131971567.png&#34; alt=&#34;IngressPE --&amp;gt; EgressPE --&amp;gt; CE&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;è¯¥æŠ¥æ–‡åœ¨å…¬ç½‘ä¸Šæ²¿ç€LSPè½¬å‘ï¼Œå¹¶æ ¹æ®é€”å¾„çš„æ¯ä¸€å°è®¾å¤‡çš„æ ‡ç­¾è½¬å‘è¡¨è¿›è¡Œæ ‡ç­¾äº¤æ¢&lt;/li&gt;
&lt;li&gt;åœ¨å€’æ•°ç¬¬2è·³å¤„ï¼Œå°†å¤–å±‚çš„å…¬ç½‘æ ‡ç­¾å¼¹å‡º(Pop Label)ï¼Œäº¤ç»™ç›®çš„PEè®¾å¤‡ï¼ˆéšå¼(æ ‡ç­¾å€¼ä¸º3)/æ˜¾ç¤ºç©ºæ ‡ç­¾ï¼Œç”¨äºQoSï¼‰&lt;/li&gt;
&lt;li&gt;PEè®¾å¤‡æ ¹æ®å†…ç½‘çš„ç§ç½‘æ ‡ç­¾åˆ¤æ–­è¯¥æŠ¥æ–‡å±äºå“ªä¸ªVRF&lt;/li&gt;
&lt;li&gt;å¼¹å‡ºå†…ç½‘çš„ç§ç½‘æ ‡ç­¾ï¼Œåœ¨ç›®çš„VRFä¸­æŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œæ ¹æ®ä¸‹ä¸€è·³å‘ç»™ç›¸åº”çš„CE&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;MPLSå’ŒMPLS\VPNçš„æœ€å¤§åŒºåˆ«&lt;/strong&gt;ï¼šMPLS\VPNè§£å†³æ–¹æ¡ˆèƒ½å¤Ÿå¸®åŠ©è¿è¥å•†ä¸ºç”¨æˆ·æä¾›æœåŠ¡ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªMPLSç½‘ç»™å¤šä¸ªç”¨æˆ·æä¾›æœåŠ¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åä¸ºè®¾å¤‡å¼€å¯MPLS&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[R1]mpls lsr-id 11.1.1.1
[R1]mpls
[R1]route recursive-lookup tunnel  // éæ ‡ç­¾è·¯ç”±å¯ä»¥è¿­ä»£åˆ°LSPéš§é“
Info: Mpls starting, please wait... OK!
[R1-mpls]mpls ldp
[R1-mpls-ldp]inter g0/0/1
[R1-GigabitEthernet0/0/1]mpls 
[R1-GigabitEthernet0/0/1]mpls ldp
[R1-GigabitEthernet0/0/1]q
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¸­å›½LTæ‰¿è½½Aç½‘ç»„ç½‘æ–¹å¼ï¼ˆç°ç½‘çœŸå®æ¡ˆä¾‹ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594134875492.png&#34; alt=&#34;ä¸­å›½LTæ‰¿è½½Aç½‘ç»„ç½‘æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸­å›½LTè·¯ç”±å‹MPLS VPNä¸šåŠ¡ç”±ä¸­å›½LTç»¼åˆIPæ‰¿è½½ç½‘è¿›è¡Œæ‰¿è½½ã€‚&lt;br&gt;
ç»¼åˆIPæ‰¿è½½ç½‘å¯æ‰¿è½½å…¨å›½æ€§çš„MPLS-VPNä¸šåŠ¡ï¼ˆå³çœé™…ã€å›½é™…MPLS-VPNä¸šåŠ¡ï¼‰ï¼Œä¹Ÿå¯æ‰¿è½½çœå†…MPLS-VPNä¸šåŠ¡ï¼Œå³çœåˆ†å…¬å¸æ‰€è¾–èŒƒå›´å†…çš„MPLS-VPNä¸šåŠ¡ã€‚&lt;br&gt;
ç»¼åˆIPæ‰¿è½½ç½‘å…¨ç½‘è®¾å¤‡ï¼ˆåŒ…æ‹¬æµ·å¤–POPç‚¹è®¾å¤‡ï¼‰éƒ½è¿è¡Œåœ¨åŒä¸€ä¸ªASï¼ˆ9929ï¼‰åŸŸå†…ã€‚&lt;br&gt;
ç»¼åˆIPæ‰¿è½½ç½‘å…¨ç½‘åˆ†ä¸ºä¸‰å±‚ç»“æ„ï¼šæ ¸å¿ƒå±‚ï¼ˆCRï¼‰ã€æ±‡èšå±‚ï¼ˆBRï¼‰å’Œæ¥å…¥å±‚ï¼ˆARï¼‰ï¼›å…¶ä¸­ï¼Œæ¥å…¥å±‚ARè®¾å¤‡å³æˆ‘ä»¬æ‰€è¯´çš„PEè®¾å¤‡ï¼Œç”¨ä»¥æ¥å…¥MPLS-VPNä¸šåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;MPLSç»“æ„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594135005312.png&#34; alt=&#34;MPLSç»“æ„&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IPæŠ¥æ–‡å…¥ç«™&lt;/strong&gt;ï¼šæŸ¥æ‰¾IPè½¬å‘è¡¨ï¼Œå‡ºå»å¯èƒ½æ˜¯IPæŠ¥æ–‡ï¼Œä¹Ÿå¯èƒ½æ˜¯æ ‡ç­¾æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ‡ç­¾æŠ¥æ–‡å…¥ç«™&lt;/strong&gt;ï¼šæŸ¥æ‰¾æ ‡ç­¾è½¬å‘è¡¨ï¼Œå‡ºå»å¯èƒ½æ˜¯IPæŠ¥æ–‡ï¼Œä¹Ÿå¯èƒ½æ˜¯æ ‡ç­¾æŠ¥æ–‡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594135758323.png&#34; alt=&#34;MPLSä½“ç³»ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ§åˆ¶å¹³é¢ï¼šè´Ÿè´£äº§ç”Ÿå’Œç»´æŠ¤è·¯ç”±ä¿¡æ¯ä»¥åŠæ ‡ç­¾ä¿¡æ¯
&lt;ul&gt;
&lt;li&gt;è·¯ç”±ä¿¡æ¯è¡¨RIBï¼šç”±IPè·¯ç”±åè®®ç”Ÿæˆï¼Œç”¨äºé€‰æ‹©è·¯ç”±&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åˆ†å‘åè®®ï¼šè´Ÿè´£æ ‡ç­¾çš„åˆ†é…ã€æ ‡ç­¾è½¬å‘ä¿¡æ¯è¡¨çš„å»ºç«‹ã€æ ‡ç­¾äº¤æ¢è·¯å¾„çš„å»ºç«‹ã€æ‹†é™¤ç­‰å·¥ä½œ&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾ä¿¡æ¯è¡¨LIBï¼ˆLabel Information Baseï¼‰ï¼šç”±æ ‡ç­¾åˆ†å‘åè®®ç”Ÿæˆï¼Œç”¨äºç®¡ç†æ ‡ç­¾ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è½¬å‘å¹³é¢ï¼šå³æ•°æ®å¹³é¢ï¼Œè´Ÿè´£æ™®é€šIPæŠ¥æ–‡çš„è½¬å‘ä»¥åŠå¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘
&lt;ul&gt;
&lt;li&gt;è½¬å‘ä¿¡æ¯è¡¨FIBï¼šä»RIBæå–å¿…è¦çš„è·¯ç”±ä¿¡æ¯ç”Ÿæˆï¼Œè´Ÿè´£æ™®é€šIPæŠ¥æ–‡çš„è½¬å‘&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾è½¬å‘ä¿¡æ¯è¡¨LFIBï¼šç®€ç§°æ ‡ç­¾è½¬å‘è¡¨ï¼Œç”±æ ‡ç­¾åˆ†å‘åè®®&lt;strong&gt;åœ¨LSRä¸Šå»ºç«‹LFIB&lt;/strong&gt;ï¼Œ&lt;strong&gt;è´Ÿè´£å¸¦MPLSæ ‡ç­¾æŠ¥æ–‡çš„è½¬å‘&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;mplsæ ‡ç­¾æ ¼å¼&#34;&gt;MPLSæ ‡ç­¾æ ¼å¼&lt;/h2&gt;
&lt;h3 id=&#34;mplså¸§æ ¼å¼&#34;&gt;MPLSå¸§æ ¼å¼&lt;/h3&gt;
&lt;p&gt;MPLSå¸§æ¨¡å¼å°è£…åœ¨2ã€3å±‚ä¹‹é—´ï¼Œä¿¡å…ƒæ¨¡å¼çš„MPLSå·²ç»æ·˜æ±°&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1594137031591.png&#34; alt=&#34;å¸§æ¨¡å¼MPLS&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;mplså¤´éƒ¨ä¿¡æ¯&#34;&gt;MPLSå¤´éƒ¨ä¿¡æ¯&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594137083215.png&#34; alt=&#34;MPLSå¤´éƒ¨ä¿¡æ¯&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;MPLSå¤´éƒ¨æ€»é•¿åº¦ä¸º4bytes (32bits)&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾Labelé•¿åº¦20bits&lt;/li&gt;
&lt;li&gt;EXPï¼ˆExperimental Useï¼‰é•¿åº¦3bitsï¼šç”¨ä½œQoS&lt;/li&gt;
&lt;li&gt;Sï¼ˆBottom of Stackï¼‰é•¿åº¦1bitï¼šæ ˆåº•ä½ï¼Œå¦‚æœç½®ä½åˆ™è¡¨ç¤ºæœ€åä¸€å±‚æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;TTLé•¿åº¦8bits&lt;br&gt;
&lt;strong&gt;æ ‡ç­¾ç©ºé—´&lt;/strong&gt;ï¼šæŒ‡æ ‡ç­¾çš„å–å€¼èŒƒå›´ã€‚æ ‡ç­¾ç©ºé—´åˆ’åˆ†å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;li&gt;0ï½15ï¼šç‰¹æ®Šæ ‡ç­¾
&lt;ul&gt;
&lt;li&gt;0ï¼šIPv4 Explicit NULL Labelï¼ˆæ˜¾ç¤ºç©ºæ ‡ç­¾ï¼‰ï¼Œè¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡ºï¼ˆå³æ ‡ç­¾è¢«å‰¥æ‰ï¼‰ï¼Œä¸”æŠ¥æ–‡çš„è½¬å‘å¿…é¡»åŸºäºIPv4ã€‚å¦‚æœå‡ºèŠ‚ç‚¹åˆ†é…ç»™å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹çš„æ ‡ç­¾å€¼ä¸º0ï¼Œåˆ™å€’æ•°ç¬¬äºŒè·³LSRéœ€è¦å°†å€¼ä¸º0çš„æ ‡ç­¾æ­£å¸¸å‹å…¥æŠ¥æ–‡æ ‡ç­¾å€¼é¡¶éƒ¨ï¼Œè½¬å‘ç»™æœ€åä¸€è·³ã€‚æœ€åä¸€è·³å‘ç°æŠ¥æ–‡æºå¸¦çš„æ ‡ç­¾å€¼ä¸º0ï¼Œåˆ™å°†æ ‡ç­¾å¼¹å‡ºã€‚&lt;/li&gt;
&lt;li&gt;1ï¼šRouter Alert Labelï¼ˆè­¦å‘Šæ ‡ç­¾ï¼‰ï¼Œåªæœ‰å‡ºç°åœ¨éæ ˆåº•æ—¶æ‰æœ‰æ•ˆã€‚ç±»ä¼¼äºIPæŠ¥æ–‡çš„â€œRouter Alert Optionâ€å­—æ®µï¼ŒèŠ‚ç‚¹æ”¶åˆ°Router Alert Labelæ—¶ï¼Œéœ€è¦å°†å…¶é€å¾€æœ¬åœ°è½¯ä»¶æ¨¡å—è¿›ä¸€æ­¥å¤„ç†ã€‚å®é™…æŠ¥æ–‡è½¬å‘ç”±ä¸‹ä¸€å±‚æ ‡ç­¾å†³å®šã€‚å¦‚æœæŠ¥æ–‡éœ€è¦ç»§ç»­è½¬å‘ï¼Œåˆ™èŠ‚ç‚¹éœ€è¦å°†Router Alert Labelå‹å›æ ‡ç­¾æ ˆé¡¶ã€‚&lt;/li&gt;
&lt;li&gt;2ï¼šIPv6 Explicit NULL Labelï¼ˆæ˜¾ç¤ºç©ºæ ‡ç­¾ï¼‰ï¼Œè¡¨ç¤ºè¯¥æ ‡ç­¾å¿…é¡»è¢«å¼¹å‡ºï¼Œä¸”æŠ¥æ–‡çš„è½¬å‘å¿…é¡»åŸºäºIPv6ã€‚å¦‚æœå‡ºèŠ‚ç‚¹åˆ†é…ç»™å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹çš„æ ‡ç­¾å€¼ä¸º2ï¼Œåˆ™å€’æ•°ç¬¬äºŒè·³èŠ‚ç‚¹éœ€è¦å°†å€¼ä¸º2çš„æ ‡ç­¾æ­£å¸¸å‹å…¥æŠ¥æ–‡æ ‡ç­¾å€¼é¡¶éƒ¨ï¼Œè½¬å‘ç»™æœ€åä¸€è·³ã€‚æœ€åä¸€è·³å‘ç°æŠ¥æ–‡æºå¸¦çš„æ ‡ç­¾å€¼ä¸º2ï¼Œåˆ™ç›´æ¥å°†æ ‡ç­¾å¼¹å‡ºã€‚&lt;/li&gt;
&lt;li&gt;3ï¼šImplicit NULL Labelï¼ˆéšå¼ç©ºæ ‡ç­¾ï¼‰ï¼Œå€’æ•°ç¬¬äºŒè·³LSRè¿›è¡Œæ ‡ç­¾äº¤æ¢æ—¶ï¼Œå¦‚æœå‘ç°äº¤æ¢åçš„æ ‡ç­¾å€¼ä¸º3ï¼Œåˆ™å°†æ ‡ç­¾å¼¹å‡ºï¼Œå¹¶å°†æŠ¥æ–‡å‘ç»™æœ€åä¸€è·³ã€‚æœ€åä¸€è·³æ”¶åˆ°è¯¥æŠ¥æ–‡ç›´æ¥è¿›è¡ŒIPè½¬å‘æˆ–ä¸‹ä¸€å±‚æ ‡ç­¾è½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;4ï½13ï¼šä¿ç•™&lt;/li&gt;
&lt;li&gt;14ï¼šOAM Router Alert Labelï¼ˆMPLSçš„æ“ä½œç®¡ç†ï¼‰ï¼ŒMPLS OAMé€šè¿‡å‘é€OAMæŠ¥æ–‡æ£€æµ‹å’Œé€šå‘ŠLSPæ•…éšœã€‚OAMæŠ¥æ–‡ä½¿ç”¨MPLSæ‰¿è½½ã€‚OAMæŠ¥æ–‡å¯¹äºTransit LSRå’Œå€’æ•°ç¬¬äºŒè·³LSRæ˜¯é€æ˜çš„ã€‚&lt;/li&gt;
&lt;li&gt;15ï¼šä¿ç•™&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;16ï½1023ï¼šé™æ€LSPå’Œé™æ€CR-LSPå…±äº«çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;li&gt;1024åŠä»¥ä¸Šï¼šLDPã€RSVP-TEã€MP-BGPç­‰åŠ¨æ€ä¿¡ä»¤åè®®çš„æ ‡ç­¾ç©ºé—´&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mplsæ ‡ç­¾åµŒå¥—&#34;&gt;MPLSæ ‡ç­¾åµŒå¥—&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1594137842455.png&#34; alt=&#34;MPLSæ ‡ç­¾åµŒå¥—&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;PIDï¼šæ ‡è¯†äºŒå±‚å¤´éƒ¨åé¢çš„æŠ¥æ–‡ç±»å‹
&lt;ul&gt;
&lt;li&gt;Ethernetï¼š
&lt;ul&gt;
&lt;li&gt;0x0800 IPv4&lt;/li&gt;
&lt;li&gt;0x8847 MPLS å•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8848 MPLSç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PPPï¼š
&lt;ul&gt;
&lt;li&gt;0x8021 IPv4&lt;/li&gt;
&lt;li&gt;0x8281 MPLS å•æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;0x8283 MPLSç»„æ’­æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ‡ç­¾åµŒå¥—åº”ç”¨
&lt;ul&gt;
&lt;li&gt;MPLS VPN&lt;/li&gt;
&lt;li&gt;MPLS TE&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mplsè½¬å‘æµç¨‹&#34;&gt;MPLSè½¬å‘æµç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;æ ‡ç­¾è¡Œä¸ºæ€»ç»“&#34;&gt;æ ‡ç­¾è¡Œä¸ºæ€»ç»“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å‹å…¥æ ‡ç­¾ï¼ŒPUSH&lt;/li&gt;
&lt;li&gt;äº¤æ¢æ ‡ç­¾ï¼ŒSWAP&lt;/li&gt;
&lt;li&gt;å¼¹å‡ºæ ‡ç­¾ï¼ŒPopï¼ˆremoveï¼Œéšå¼ç©ºæ ‡ç­¾ï¼‰&lt;/li&gt;
&lt;li&gt;UNTAG/No label(æ²¡æœ‰æ ‡ç­¾) å‡ºç°é—®é¢˜ï¼Œåœ¨MPLS\VPNçš„ç¯å¢ƒä¸‹åªèƒ½ä¸¢å¼ƒæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;Aggregateï¼ˆèšåˆï¼‰ï¼ŒæŠŠæŠ¥æ–‡æ‹¿æ‰MPLSä¹‹åè½¬å‘ç»™ ä¸€ä¸ªVPN-INSTANCEæ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;ldpåè®®åŸç†&#34;&gt;LDPåè®®åŸç†&lt;/h1&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€å®æ–½ldp&#34;&gt;å®éªŒä¸€ï¼šå®æ–½LDP&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;åŸŸå†…IGP&lt;/li&gt;
&lt;li&gt;åŸŸå†…LDP
&lt;ul&gt;
&lt;li&gt;é…ç½® ldp router-id&lt;/li&gt;
&lt;li&gt;å¼€å¯mplsä»¥åŠldp&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PEä¹‹é—´MP-BGPã€VPNv4&lt;/li&gt;
&lt;li&gt;PE vrf/VPN-instance&lt;/li&gt;
&lt;li&gt;PE-CEè·¯ç”±äº¤äº’&lt;/li&gt;
&lt;li&gt;è§„åˆ’ï¼š
&lt;ul&gt;
&lt;li&gt;R1å’ŒR10é€šè¿‡ä»¥å¤ªç½‘æ¥å£G2/0/0äº’è”&lt;/li&gt;
&lt;li&gt;R1\R3ä¸ºPEè®¾å¤‡&lt;/li&gt;
&lt;li&gt;R8\R10ä¸ºCEè®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ€ç§‘&#34;&gt;æ€ç§‘&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åŸŸå†…IDPï¼šé…ç½® ldp router-idï¼›å¼€å¯mplsä»¥åŠldp
R1(config)#ip cef
R1(config)#mpls ip
R1(config)#mpls label protocol ldp   
R1(config)#mpls ldp router-id loopback 0 force   // mpls æ’é”™ç»„åˆæ‹³
R1(config)#interface e0/1
R1(config-if)#mpls ip
R1(config-if)#inter e0/2
R1(config-if)#mpls ip   
R1(config-if)#int s1/0
R1(config-if)#mpls ip 

# PEä¹‹é—´ MP-BGPã€VPNv4
R1(config-router)#no bgp default ipv4-unicast   // å…³é—­é»˜è®¤çš„IPv4èƒ½åŠ›ï¼Œåˆ‡æ¢åˆ° MP-BGP å·¥ä½œæ¨¡å¼
R1(config-router)#address-family vpnv4 unicast   // è¿›å…¥VPNv4 åœ°å€æ—  
R1(config-router-af)#neighbor 33.1.1.1 activate   // åœ¨åœ°å€æ—ä¸‹æ¿€æ´»é‚»å±…

R3(config)#router bgp 100  // ä»å¤´é…ä¸€ä¸ª
R3(config-router)#no bgp default ipv4-unicast 
R3(config-router)#neighbor 11.1.1.1 remote-as 100
R3(config-router)#neighbor 11.1.1.1 up lo0 
R3(config-router)#address-family vpnv4 unicast 
R3(config-router-af)#neighbor 11.1.1.1 activate 

# PE vrf/VPN-instance
R3(config)#ip vrf cisco   // åˆ›å»º vrf ï¼Œè¿™ç§é…ç½®æ–¹å¼ä»…ä»…æ”¯æŒ ipv4 ã€PEæœ¬åœ°éš”ç¦»ã€‘
R3(config-vrf)#rd 1:1  // å®šä¹‰è·¯ç”±åŒºåˆ†å™¨çš„å€¼  ã€64bitçš„ä¸€ä¸ªå€¼ï¼Œå…¨å±€åŒºåˆ†ã€‘96bit çš„ VPNv4è·¯ç”±=32bitç”¨æˆ·è·¯ç”±+64bitçš„è·¯ç”±åŒºåˆ†å™¨
R3(config-vrf)#route-target 1:1  // å®šä¹‰è·¯ç”±æ ‡è®°çš„å€¼  ã€æ”¶å‘æ§åˆ¶ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ‰©å±•å›¢ä½“å±æ€§ã€‘
R3(config)#int e0/3
R3(config-if)#ip vrf forwarding cisco  // å°†æ¥å£åˆ’åˆ†å…¥vrfï¼Œä¸å…¨å±€å’Œå…¶å®ƒvrféš”ç¦»å¼€
R3(config-if)#ip address 83.1.1.3 255.255.255.0  // æ³¨æ„ï¼Œå¦‚æœå…ˆé…ç½®äº†ipåœ°å€ï¼Œååˆ’åˆ†vrfï¼Œåˆ™åˆ’åˆ†vrfçš„æ“ä½œå°†ä¼šç§»é™¤æ‰€æœ‰ipåœ°å€
R3#show ip route vrf cisco
R3#show ip vrf 
R3#show ip vrf detail  

# vrfçš„å¦å¤–ä¸€ç§é…ç½®æ–¹å¼ï¼š
R1(config)#vrf definition cisco
R1(config-vrf)#rd 1:1
R1(config-vrf)#address-family ipv4 
R1(config-vrf-af)#route-target 1:1
R1(config-vrf)#inter e0/3
R1(config-if)#vrf forwarding cisco  
R1(config-if)#ip address 110.1.1.1 255.255.255.0            

# PE-CEè·¯ç”±äº¤äº’
R8
interface Loopback0
 ip address 88.1.1.1 255.255.255.0
R8(config)#ip route 10.1.1.0 255.255.255.0 83.1.1.3

R10
interface Loopback0
ip address 10.1.1.1 255.255.255.0
R10(config)#ip route 88.1.1.0 255.255.255.0 110.1.1.1

R1(config)#ip route vrf cisco 10.1.1.0 255.255.255.0 110.1.1.10  // vrf æŒ‡å‘CEèƒŒåç½‘ç»œçš„é™æ€è·¯ç”±
R3(config)#ip route vrf cisco 88.1.1.0 255.255.255.0 83.1.1.8

# åœ¨PEè®¾å¤‡ä¸Šå¯¹å®¢æˆ·è·¯ç”±è¿›è¡Œé‡åˆ†å¸ƒ
R3(config)#router bgp 100
R3(config-router)#address-family ipv4 vrf cisco  // ä¸€ä¸ªä¸“å±äºç‰¹å®šå®¢æˆ·çš„åœ°å€æ—
R3(config-router-af)#redistribute static 

# éªŒè¯ï¼š
R1#show ip route vrf cisco
R1#show bgp vpnv4 unicast all   // R1#show bgp vpnv4 unicast vrf cisco
R1#show bgp vpnv4 unicast vrf cisco 88.1.1.0/24

R3#show bgp vpnv4 unicast vrf cisco labels 
   Network          Next Hop      In label/Out label
Route Distinguisher: 1:1 (cisco)
   10.1.1.0/24      11.1.1.1        nolabel/17
   88.1.1.0/24      83.1.1.8        16/nolabel
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åä¸º&#34;&gt;åä¸º&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®ç°åŸŸå†… IGP
# å®ç°åŸŸå†… LDP(R1å’ŒR3)
[R1]mpls lsr-id 11.1.1.1
[R1]mpls
[R1-mpls]mpls ldp
[R1]inter g0/0/1
[R1-GigabitEthernet0/0/1]mpls
[R1-GigabitEthernet0/0/1]mpls ldp

# å®ç°PEä¹‹é—´ MP-BGPã€vpnv4(R1å’ŒR3)
[R3]bgp 100
[R3-bgp]ipv4-family vpnv4
[R3-bgp-af-vpnv4]peer 11.1.1.1 enable 

#å®ç° vpn-instance(R1å’ŒR3)
R1
ip vpn-instance qytang
ipv4-family
route-distinguisher 1:1
vpn-target 2:2 export-extcommunity
vpn-target 2:2 import-extcommunity

interface GigabitEthernet2/0/0
ip binding vpn-instance qytang
ip address 110.1.1.1 255.255.255.0 

# å®ç°PE-CEè·¯ç”±äº¤äº’
[R1]ip route-static *PN-instance qytang 10.1.1.0 24 110.1.1.10
[R10]ip route-static 88.1.1.0 24 110.1.1.1
[R3]ip route-static *PN-instance qytang 88.1.1.0 24 83.1.1.8
[R8]ip route-static 10.1.1.0 24 83.1.1.3
bgp 100
ipv4-family vpn-instance qytang 
import-route static
&lt;/code&gt;&lt;/pre&gt;
">HCIE-MPLSä¸“é¢˜(2020.07.06ä¸å®Œæ•´)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/vmware-xu-ni-ji-an-zhuang-hei-qun-hui-dsm62/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%9C%80%E8%A6%81%E7%94%A8%E5%88%B0%E7%9A%84%E5%B7%A5%E5%85%B7&#34;&gt;éœ€è¦ç”¨åˆ°çš„å·¥å…·&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4&#34;&gt;å®‰è£…æ­¥éª¤&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;éœ€è¦ç”¨åˆ°çš„å·¥å…·&#34;&gt;éœ€è¦ç”¨åˆ°çš„å·¥å…·&lt;/h1&gt;
&lt;p&gt;å†™é•œåƒå·¥å…·ï¼šRoadkils Disk Image&lt;br&gt;
DMSé•œåƒæ–‡ä»¶ï¼šDSM_DS3617xs_23739.pat&lt;br&gt;
å¼•å¯¼é•œåƒï¼šsynoboot.img&lt;br&gt;
ç¾¤æ™–åŠ©æ‰‹ï¼šSynology assistant.exe&lt;/p&gt;
&lt;h1 id=&#34;å®‰è£…æ­¥éª¤&#34;&gt;å®‰è£…æ­¥éª¤&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è™šæ‹Ÿç£ç›˜åˆ›å»ºå¹¶è¿›è¡Œé•œåƒå†™å…¥&lt;br&gt;
åˆ›å»ºè™šæ‹Ÿç£ç›˜å¹¶å°†å¼•å¯¼é•œåƒå†™å…¥è™šæ‹Ÿç£ç›˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;diskpart
create vdisk file=F:\synoboot.vhd maximum=50 type=expandable  # æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œä¿®æ”¹
attach vdisk  
create partition primary
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593613751509.png&#34; alt=&#34;åˆ›å»ºè™šæ‹Ÿç£ç›˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åˆ›å»ºå¥½è™šæ‹Ÿç£ç›˜åæˆ‘ä»¬æ‰“å¼€Roadkils Disk Imageï¼Œå°†synoboot.imgå†™å…¥æˆ‘ä»¬åˆ›å»ºçš„50MBçš„è™šæ‹Ÿç£ç›˜ä¸­ï¼Œ&lt;strong&gt;è®°ä½å›¾ä¸­çš„Physical Disk 1&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615335834.png&#34; alt=&#34;å¼€å§‹å†™å…¥é•œåƒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615344441.png&#34; alt=&#34;æˆåŠŸå†™å…¥é•œåƒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
2. åˆ›å»ºè™šæ‹Ÿæœº&lt;br&gt;
è™šæ‹Ÿæœºåç§°ã€CPUæ ¸å¿ƒæ•°ã€å†…å­˜ã€ç¡¬ç›˜å¤§å°æ ¹æ®è‡ªå·±çš„ç”µè„‘å’Œéœ€è¦è®¾ç½®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615629310.png&#34; alt=&#34;è‡ªå®šä¹‰è™šæ‹Ÿæœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615635558.png&#34; alt=&#34;å…¼å®¹æ€§&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615640173.png&#34; alt=&#34;ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615648333.png&#34; alt=&#34;Linux2.6&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615652651.png&#34; alt=&#34;è™šæ‹Ÿæœºå‘½å&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615657461.png&#34; alt=&#34;CPU&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615661620.png&#34; alt=&#34;å†…å­˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615665854.png&#34; alt=&#34;ç½‘ç»œç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615670449.png&#34; alt=&#34;IOç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615676507.png&#34; alt=&#34;ç£ç›˜ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ç£ç›˜ç±»å‹æœ€å¥½é€‰æ‹©SATAï¼Œä¸»è¦æ˜¯ä¸ºäº†è·Ÿåé¢æ·»åŠ çš„æ•°æ®å­˜å‚¨ç£ç›˜çš„ç±»å‹åŒºåˆ†å¼€ï¼Œè¿›å…¥å›ºä»¶åæ–¹ä¾¿æ ¹æ®ç±»å‹é€‰æ‹©&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615685517.png&#34; alt=&#34;ç‰©ç†ç£ç›˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615692005.png&#34; alt=&#34;ä¸Šä¸€æ­¥åˆ›å»ºçš„è™šæ‹Ÿç£ç›˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615695710.png&#34; alt=&#34;æŒ‡å®šç£ç›˜æ–‡ä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593615699438.png&#34; alt=&#34;å®Œæˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
3. é…ç½®è™šæ‹Ÿæœº&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616585456.png&#34; alt=&#34;ç¼–è¾‘è™šæ‹Ÿæœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616589991.png&#34; alt=&#34;æ·»åŠ ç¡¬ç›˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616593301.png&#34; alt=&#34;ç£ç›˜ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616597182.png&#34; alt=&#34;åˆ›å»ºæ–°è™šæ‹Ÿç£ç›˜&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616601833.png&#34; alt=&#34;å­˜å‚¨ä¸ºå•ä¸ªæ–‡ä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616605908.png&#34; alt=&#34;æŒ‡å®šç£ç›˜æ–‡ä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616615452.png&#34; alt=&#34;å®Œæˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616619122.png&#34; alt=&#34;è¿›å…¥å›ºä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593649767258.png&#34; alt=&#34;åˆ é™¤éå¿…é¡»è®¾å¤‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å¿…é¡»åˆ é™¤å…‰é©±ã€å£°å¡ã€æ‰“å°æœºç­‰è®¾å¤‡&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593616622524.png&#34; alt=&#34;è°ƒæ•´å¼€æœºå¯åŠ¨é¡ºåº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593617875318.png&#34; alt=&#34;å¼€æœºå¯åŠ¨å¼•å¯¼é•œåƒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
4. å®‰è£…ç¾¤æ™–DMS6.2&lt;br&gt;
å®‰è£…ç¾¤æ™–åŠ©æ‰‹Synology assistant.exeä¹‹åæ‰“å¼€ï¼Œè¿›è¡Œè®¾å¤‡æœç´¢ï¼ˆç”¨æˆ·åç­‰æ ¹æ®è‡ªå·±éœ€æ±‚è®¾ç½®ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593649912563.png&#34; alt=&#34;æŸ¥æ‰¾IP&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593617578331.png&#34; alt=&#34;æ‰‹åŠ¨å®‰è£…&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593617581995.png&#34; alt=&#34;é€‰æ‹©patæ–‡ä»¶å¼€å§‹å®‰è£…&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593649924751.png&#34; alt=&#34;å®‰è£…å®Œæˆ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
5. ä½¿ç”¨è™šæ‹Ÿæœºçš„å¿«ç…§åŠŸèƒ½å»ºç«‹è¿˜åŸç‚¹&lt;/p&gt;
">VMwareè™šæ‹Ÿæœºå®‰è£…é»‘ç¾¤æ™–DSM6.2</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/windows-xi-tong-jie-chu-kuan-dai-xian-zhi/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%96%E6%B6%88%E4%BF%9D%E7%95%99%E5%B8%A6%E5%AE%BD&#34;&gt;å–æ¶ˆä¿ç•™å¸¦å®½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%8F%90%E9%AB%98%E5%90%9E%E5%90%90%E7%BA%A7%E5%88%AB&#34;&gt;æé«˜ååçº§åˆ«&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;å–æ¶ˆä¿ç•™å¸¦å®½&#34;&gt;å–æ¶ˆä¿ç•™å¸¦å®½&lt;/h1&gt;
&lt;p&gt;win+R ---&amp;gt; è®¡ç®—æœºé…ç½® ---&amp;gt; ç®¡ç†æ¨¡æ¿ ---&amp;gt; ç½‘ç»œ ---&amp;gt; QoSæ•°æ®åŒ…è®¡åˆ’ç¨‹åº ---&amp;gt; é™åˆ¶å¯ä¿ç•™çš„å¸¦å®½ ---&amp;gt; å·²å¯ç”¨ ---&amp;gt; å¸¦å®½é™åˆ¶è®¾ç½®ä¸º0 ---&amp;gt; åº”ç”¨ ---&amp;gt; ç¡®å®š&lt;/p&gt;
&lt;h1 id=&#34;æé«˜ååçº§åˆ«&#34;&gt;æé«˜ååçº§åˆ«&lt;/h1&gt;
&lt;p&gt;win+R ---&amp;gt; è®¡ç®—æœºé…ç½® ---&amp;gt; Windowsè®¾ç½® ---&amp;gt; åŸºäºç­–ç•¥çš„QoS ---&amp;gt; å³é”®é€‰æ‹©é«˜çº§QoSè®¾ç½® ---&amp;gt; å…¥ç«™TCPæµé‡ ---&amp;gt; å‹¾é€‰æŒ‡å®šå…¥ç«™TCPååé‡çº§åˆ« ---&amp;gt; é€‰æ‹©çº§åˆ«3 ---&amp;gt; ç¡®å®š&lt;/p&gt;
">Windowsç³»ç»Ÿè§£é™¤å®½å¸¦é™åˆ¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/vmware-ru-he-kuai-su-jie-jue-sheng-cheng-duo-jie-dian/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%94%9F%E6%88%90%E5%8E%9F%E5%A7%8B%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6&#34;&gt;ç”ŸæˆåŸå§‹é•œåƒæ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#lnmp&#34;&gt;LNMP&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#yum%E6%BA%90%E9%85%8D%E7%BD%AE&#34;&gt;yumæºé…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#developmentrepo&#34;&gt;development.repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#phprepo&#34;&gt;php.repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginxrepo&#34;&gt;nginx.repo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mariadbrepo&#34;&gt;mariadb.repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#php71%E5%AE%89%E8%A3%85&#34;&gt;php71å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#mariadb105%E5%AE%89%E8%A3%85&#34;&gt;mariadb10.5å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#nginx1192%E5%AE%89%E8%A3%85&#34;&gt;nginx1.19.2å®‰è£…&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ç”ŸæˆåŸå§‹é•œåƒæ–‡ä»¶&#34;&gt;ç”ŸæˆåŸå§‹é•œåƒæ–‡ä»¶&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨centos7çš„minié•œåƒï¼ˆä¾‹å¦‚ï¼šCentOS-7-x86_64-Minimal-1908.isoï¼‰å®‰è£…ç³»ç»Ÿï¼Œç½‘ç»œè®¾ç½®æˆ**&amp;quot;æ¡¥æ¥æ¨¡å¼&amp;quot;&lt;strong&gt;ï¼Œä¸å‹¾é€‰&lt;/strong&gt;&amp;quot;å¤åˆ¶ç‰©ç†ç½‘ç»œè¿æ¥çŠ¶æ€&amp;quot;**ï¼Œå…¶ä»–é…ç½®å¯æ ¹æ®å®é™…æƒ…å†µé…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå®‰è£…æ—¶ï¼Œå…³é—­&amp;quot;KDUMP&amp;quot;ï¼Œå…³é—­&amp;quot;SECURITY POLICY&amp;quot;ï¼Œå®‰è£…ä½ç½®ä¸­çš„ç£ç›˜é…ç½®å¯æ ¹æ®è‡ªå·±éœ€æ±‚ï¼ˆä¾‹å¦‚ï¼šbiosbootå¤§å°é»˜è®¤ä¸º2048Kï¼Œ/bootå¤§å°ä¸º1Gï¼Œå…¶ä½™çš„å…¨éƒ¨ç»™/ï¼‰ï¼Œç½‘ç»œé…ç½®ä¸­å‹¾é€‰&amp;quot;å¸¸è§„--å¯ç”¨æ—¶è‡ªåŠ¨è¿æ¥åˆ°è¿™ä¸ªç½‘ç»œ&amp;quot;ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®yumæº&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;rm -rf /etc/yum.repos.d/*
curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
yum makecache
yum -y install epel-*
yum makecache
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å®‰è£…å¸¸ç”¨è½¯ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install wget vim 
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å…³é—­åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä¸éœ€è¦çš„åŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#å…³é—­é˜²ç«å¢™
systemctl disable firewalld
# å…³é—­ç½‘ç»œç®¡ç†
systemctl disable NetworkManager
# å…³é—­SeLinux
sed -i &#39;s/SELINUX=enforcing/SELINUX=disabled/g&#39; /etc/selinux/config
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;é…ç½®ç½‘ç»œ&lt;br&gt;
å¦‚æœå¿½ç•¥æ­¤ä¸ï¼Œå…‹éš†çš„è™šæ‹Ÿæœºä¼šå‡ºç°IPæˆ–MACå†²çªç­‰é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¼–è¾‘ç½‘å¡é…ç½®æ–‡ä»¶ï¼Œä»…ä¿ç•™ä»¥ä¸‹5è¡Œå³å¯
vim /etc/sysconfig/network-scripts/ifcfg-ens32
    TYPE=Ethernet
    BOOTPROTO=dhcp
    NAME=ens32
    DEVICE=ens32
    ONBOOT=yes
# /etc/udev/rules.d/70-persistent-net.rules  # å¦‚æœæœ‰æ­¤æ–‡ä»¶åˆ™åˆ é™¤ï¼Œæ²¡æœ‰ç›´æ¥è¿›è¡Œä¸‹ä¸€æ­¥
reboot -h
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;é•œåƒåˆ¶ä½œï¼ˆå¿«ç…§ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;shutdown -h now
# è™šæ‹Ÿæœº--å¿«ç…§--æ‹æ‘„å¿«ç…§--æ ¹æ®è‡ªå·±å–œå¥½èµ·ä¸€ä¸ªéœ¸æ°”ä¾§æ¼çš„åå­—ï¼Œä¾‹å¦‚Source
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;å…‹éš†&lt;br&gt;
é€‰ä¸­è™šæ‹ŸæœºSource --&amp;gt; å³é”® --&amp;gt; ç®¡ç† --&amp;gt; å…‹éš† --&amp;gt; ä¸‹ä¸€æ­¥ --&amp;gt; ç°æœ‰å¿«ç…§ --&amp;gt; é€‰æ‹©ä¸Šä¸€æ­¥æ‹ç€çš„å¿«ç…§ --&amp;gt; åˆ›å»ºå®Œæ•´å…‹éš† --&amp;gt; ä¸‹ä¸€æ­¥ --&amp;gt; èµ·ä¸€ä¸ªä¸ä¸€æ ·çš„åå­—(æ¯”å¦‚Master) --&amp;gt; ç¼–è¾‘è™šæ‹Ÿæœºé…ç½® --&amp;gt; ç½‘ç»œé€‚é…å™¨ --&amp;gt; é«˜çº§ --&amp;gt; MACåœ°å€ --&amp;gt; ç”Ÿæˆ --&amp;gt; ç¡®å®š --&amp;gt; ç„¶åæŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼Œåˆ†åˆ«å…‹éš†æœºå™¨inode1ã€inode2ã€inode3&lt;br&gt;
&lt;code&gt;ä¿®æ”¹MACåœ°å€çš„æ–¹å¼äºŒï¼ˆæ¨èä½¿ç”¨æ­¤æ–¹æ³•ï¼‰ï¼šæ‰¾åˆ°è™šæ‹Ÿæœºæ–‡ä»¶å¤¹ä¸­çš„.vmxæ–‡ä»¶ï¼ˆä¾‹å¦‚Master.vmxï¼‰ï¼Œç”¨æ–‡æœ¬å·¥å…·æ‰“å¼€ï¼Œä¿®æ”¹é€‰é¡¹ethernet0.generatedAddressçš„å€¼&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¼€æœºæµ‹è¯•&lt;br&gt;
å°†Masterã€inode1ã€inode2ã€inode3å…¨éƒ¨å¼€å¯åç™»é™†ï¼Œè¾“å…¥å‘½ä»¤&lt;code&gt;ip a&lt;/code&gt;æŸ¥çœ‹IPæ˜¯å¦æ­£å¸¸è·å–ï¼Œè¾“å…¥&lt;code&gt;ping www.baidu.com&lt;/code&gt;æŸ¥çœ‹æ˜¯å¦èƒ½å¤Ÿæ­£å¸¸ä¸Šç½‘&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨xshellè¿æ¥ä¹‹åå¼€å§‹æ‰¹é‡æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;lnmp&#34;&gt;LNMP&lt;/h1&gt;
&lt;p&gt;å¦‚æœéœ€è¦å®‰è£…nginxã€phpã€mariadb(mysql)ï¼Œåˆ™éœ€è¦ç»§ç»­è¿›è¡Œä¸‹é¢çš„æ­¥éª¤ã€‚&lt;br&gt;
å…³äºphpå’Œnginxçš„é…ç½®å¯æ ¹æ®éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚&lt;br&gt;
å…³äºmariadbåªé…ç½®äº†æ•°æ®å’Œé”™è¯¯æ—¥å¿—ç›®å½•ï¼Œå› ä¸ºè¿™ä¸¤å—å†…å®¹æ˜¯æœ€å¤§çš„ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å¯¼è‡´çˆ†ç›˜çš„æ•°æ®ï¼Œå¦‚æœå¼€å¯æ…¢æŸ¥è¯¢ï¼Œåˆ™éœ€è¦å°†æ…¢æŸ¥è¯¢çš„æ—¥å¿—è·¯å¾„ä¹Ÿè¿›è¡Œç›¸åº”çš„ä¿®æ”¹ï¼Œè‡³äºè¿æ¥æ•°ã€ç¼“å­˜ç­‰ç­‰å¯æ ¹æ®éœ€æ±‚è¿›è¡Œå®šåˆ¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;yumæºé…ç½®&#34;&gt;yumæºé…ç½®&lt;/h2&gt;
&lt;h3 id=&#34;developmentrepo&#34;&gt;development.repo&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[base]
name=CentOS-$releasever - Base
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/
enabled=1
gpgcheck=0

[updates]
name=CentOS-$releasever - Updates
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/
enabled=1
gpgcheck=0

[extras]
name=CentOS-$releasever - Extras
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/
enabled=1
gpgcheck=0

[centosplus]
name=CentOS-$releasever - Plus
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/centosplus/$basearch/
gpgcheck=0
enabled=1
 
[epel]
name=Extra Packages for Enterprise Linux 7 - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/$basearch
enabled=1
gpgcheck=0

[epel-debuginfo]
name=Extra Packages for Enterprise Linux 7 - $basearch - Debug
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/$basearch/debug
enabled=1
gpgcheck=0

[epel-source]
name=Extra Packages for Enterprise Linux 7 - $basearch - Source
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/SRPMS
enabled=1
gpgcheck=0

[epel-testing]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/$basearch
enabled=1
gpgcheck=0

[epel-testing-debuginfo]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Debug
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/$basearch/debug
enabled=1
gpgcheck=0

[epel-testing-source]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Source
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/SRPMS
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;phprepo&#34;&gt;php.repo&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[webtatic]
name=Webtatic Repository EL7 - $basearch
baseurl=https://repo.webtatic.com/yum/el7/$basearch/
enabled=1
gpgcheck=0

[webtatic-debuginfo]
name=Webtatic Repository EL7 - $basearch - Debug
baseurl=https://repo.webtatic.com/yum/el7/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-source]
name=Webtatic Repository EL7 - $basearch - Source
baseurl=https://repo.webtatic.com/yum/el7/SRPMS/
enabled=1
gpgcheck=0

[webtatic-archive]
name=Webtatic Repository EL7 - $basearch - Archive
baseurl=https://repo.webtatic.com/yum/el7-archive/$basearch/
enabled=1
gpgcheck=0

[webtatic-archive-debuginfo]
name=Webtatic Repository EL7 - $basearch - Archive Debug
baseurl=https://repo.webtatic.com/yum/el7-archive/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-archive-source]
name=Webtatic Repository EL7 - $basearch - Archive Source
baseurl=https://repo.webtatic.com/yum/el7-archive/SRPMS/
enabled=1
gpgcheck=0

[webtatic-testing]
name=Webtatic Repository EL7 - $basearch - Testing
baseurl=https://repo.webtatic.com/yum/el7-testing/$basearch/
enabled=1
gpgcheck=0

[webtatic-testing-debuginfo]
name=Webtatic Repository EL7 - $basearch - Testing Debug
baseurl=https://repo.webtatic.com/yum/el7-testing/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-testing-source]
name=Webtatic Repository EL7 - $basearch - Testing Source
baseurl=https://repo.webtatic.com/yum/el7-testing/SRPMS/
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;nginxrepo&#34;&gt;nginx.repo&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mariadbrepo&#34;&gt;mariadb.repo&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[mariadb]
name = MariaDB
baseurl = https://mirrors.ustc.edu.cn/mariadb/yum/10.5/centos74-amd64/
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;php71å®‰è£…&#34;&gt;php71å®‰è£…&lt;/h2&gt;
&lt;p&gt;åªå®‰è£…ä¸€äº›å¸¸ç”¨æ‰©å±•ï¼ŒåæœŸå¦‚æœéœ€è¦å…¶ä»–æ‰©å±•ï¼Œè¯·è‡ªè¡Œä½¿ç”¨yumè¿›è¡Œå®‰è£…ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install mod_php71w php71w-devel php71w-cli php71w-common \
php71w-fpm  php71w-gd php71w-embedded \
php71w-ldap php71w-mbstring  php71w-mcrypt \
php71w-mysqlnd php71w-opcache php71w-pdo php71w-pdo_dblib \
php71w-soap php71w-xml
systemctl enable php-fpm
systemctl start php-fpm
# å…¶ä»–å¸¸ç”¨æ‰©å±•å¯ä»¥ä½¿ç”¨yum list *php71*å‘½ä»¤æ¥æŸ¥çœ‹
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mariadb105å®‰è£…&#34;&gt;mariadb10.5å®‰è£…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install mariadb-server mariadb
mkdir -p /mariadb/{db,log}
chown -R mysql:mysql /mariadb
# ç§»é™¤é»˜è®¤æ•°æ®æ–‡ä»¶
rm -rf /var/lib/mysql  
# ç¼–è¾‘æ€»é…ç½®æ–‡ä»¶ï¼ˆè¿™ä¸€æ­¥ä¸èƒ½å°‘ï¼‰
vim /etc/my.cnf
    [client-server]
    socket=/mariadb/mysql.sock
# ç¼–è¾‘å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶
vim /etc/my.cnf.d/mysql-clients.cnf
    [client]
    default-character-set=utf8
# ç¼–è¾‘æœåŠ¡ç«¯é…ç½®æ–‡ä»¶
vim /etc/my.cnf.d/server.cnf 
    [mysqld]
    datadir = /mariadb/db
    log_error = /mariadb/log/error.log
    init_connect=&#39;SET NAMES utf8&#39;
    character-set-server=utf8
# åˆå§‹åŒ–æ•°æ®åå¯åŠ¨
mysql_install_db --defaults-file=/etc/my.cnf --datadir=/mariadb/db
systemctl enable mariadb
systemctl start mariadb
# è®¾ç½®rootå¯†ç åç™»é™†
vim /usr/bin/mysql_secure_installation
    # åœ¨make_config()å‡½æ•°ä¸­çš„  echo &amp;quot;password=&#39;$esc_pass&#39;&amp;quot; &amp;gt;&amp;gt;$config  è¿™è¡Œä¸‹é¢æ·»åŠ å¦‚ä¸‹ä¸€è¡Œ
    echo &amp;quot;socket=/mariadb/mysql.sock&amp;quot; &amp;gt;&amp;gt;$config
mysql_secure_installation
    n #æ˜¯å¦åˆ‡æ¢åˆ°unixå¥—æ¥å­—èº«ä»½éªŒè¯
    Y #æ˜¯å¦è®¾ç½®rootå¯†ç 
    123456  # mariadbä¸­rootç”¨æˆ·çš„å¯†ç 
    123456
    Y #æ˜¯å¦åˆ é™¤åŒ¿åç”¨æˆ·?(å°±æ˜¯ç©ºç”¨æˆ·)ï¼Œå»ºè®®åˆ é™¤
    Y #æ˜¯å¦ä¸å…è®¸è¿œç¨‹rootç™»å½•
    Y #æ˜¯å¦åˆ é™¤testæ•°æ®åº“
    Y #æ˜¯å¦åŠ è½½æƒé™ä½¿ä¹‹ç”Ÿæ•ˆ
mysql -uroot -p
    show databases;
    exit
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;nginx1192å®‰è£…&#34;&gt;nginx1.19.2å®‰è£…&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install nginx
systemctl enable nginx
systemctl start nginx
&lt;/code&gt;&lt;/pre&gt;
">VMwareå¿«é€Ÿéƒ¨ç½²é›†ç¾¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/ansible-xue-xi-yu-shi-jian/"" data-c="
          &lt;h1 id=&#34;ansibleç®€ä»‹å·¥ä½œä¸­èƒ½ä½¿ç”¨åˆ°çš„å±‚æ¬¡&#34;&gt;ansibleç®€ä»‹(å·¥ä½œä¸­èƒ½ä½¿ç”¨åˆ°çš„å±‚æ¬¡)&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/&#34;&gt;å‚è€ƒæ–‡æ¡£&lt;/a&gt;&lt;br&gt;
ansibleæ˜¯æ–°å‡ºç°çš„è‡ªåŠ¨åŒ–è¿ç»´å·¥å…·ï¼Œansibleæ˜¯ä¸€ä¸ªé…ç½®ç®¡ç†å’Œåº”ç”¨éƒ¨ç½²å·¥å…·ï¼Œ&lt;strong&gt;åŸºäºPythonå¼€å‘&lt;/strong&gt;ï¼Œé›†åˆäº†ä¼—å¤šè¿ç»´å·¥å…·ï¼ˆpuppetã€cfengineã€chefã€funcã€fabric.SaltStack ï¼‰çš„ä¼˜ç‚¹ï¼Œå®ç°äº†æ‰¹é‡ç³»ç»Ÿé…ç½®ã€æ‰¹é‡ç¨‹åºéƒ¨ç½²ã€æ‰¹é‡è¿è¡Œå‘½ä»¤ç­‰åŠŸèƒ½ã€‚&lt;br&gt;
ansibleæ˜¯åŸºäºæ¨¡å—å·¥ä½œçš„ï¼Œæœ¬èº«æ²¡æœ‰æ‰¹é‡éƒ¨ç½²çš„èƒ½åŠ›ã€‚&lt;strong&gt;çœŸæ­£å…·æœ‰æ‰¹é‡éƒ¨ç½²çš„æ˜¯ansibleæ‰€è¿è¡Œçš„æ¨¡å—&lt;/strong&gt;ï¼Œansibleåªæ˜¯æä¾›ä¸€ç§æ¡†æ¶ï¼Œæ ¹æ®å®˜æ–¹æä¾›çš„ä¿¡æ¯ï¼Œå½“å‰ä½¿ç”¨ansibleçš„ç”¨æˆ·æœ‰ï¼šç¾å›½å›½å®¶èˆªç©ºèˆªå¤©å±€NASAã€evernote(å°è±¡ç¬”è®°)ã€rackspace(å…¨çƒä¸‰å¤§äº‘è®¡ç®—ä¸­å¿ƒä¹‹ä¸€)ã€atlassianã€twitter(å…¨çƒäº’è”ç½‘ä¸Šè®¿é—®é‡æœ€å¤§çš„åä¸ªç½‘ç«™ä¹‹ä¸€)ç­‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ansibleåœ¨ç”Ÿäº§ç¯å¢ƒå½“ä¸­çš„åº”ç”¨&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–éƒ¨ç½²åº”ç”¨&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–ç®¡ç†é…ç½®&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–æŒç»­äº¤ä»˜&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒ–(aws)äº‘æœåŠ¡å™¨ç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ansibleçš„ä¼˜ç‚¹&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;ansibleç³…åˆäº†ä¼—å¤šè€ç‰Œè¿ç»´å·¥å…·çš„ä¼˜ç‚¹ï¼ŒåŸºæœ¬ä¸Špubbetå’Œsaltstackèƒ½å®ç°çš„åŠŸèƒ½å…¨éƒ¨èƒ½å®ç°&lt;/li&gt;
&lt;li&gt;è½»é‡çº§ï¼Œæ— éœ€åœ¨å®¢æˆ·ç«¯å®‰è£…agentï¼Œæ›´æ–°æ—¶ï¼Œåªéœ€åœ¨æ“ä½œæœºä¸Šè¿›è¡Œä¸€æ¬¡æ›´æ–°å³å¯&lt;/li&gt;
&lt;li&gt;ansibleæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œansible&lt;strong&gt;ä¸éœ€è¦å¯åŠ¨æœåŠ¡&lt;/strong&gt;ï¼Œä»…ä»…åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥è½»æ¾çš„å®ç°åˆ†å¸ƒå¼æ‰©å±•&lt;/li&gt;
&lt;li&gt;æ‰¹é‡ä»»åŠ¡æ‰§è¡Œå¯ä»¥å†™æˆè„šæœ¬ï¼Œè€Œä¸”ä¸ç”¨åˆ†å‘åˆ°è¿œç¨‹å°±å¯ä»¥æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;ansibleæ˜¯ä¸€è‡´æ€§ï¼Œé«˜å¯é æ€§ï¼Œå®‰å…¨æ€§è®¾è®¡çš„è½»é‡çº§è‡ªåŠ¨åŒ–å·¥å…·&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨pythonç¼–å†™ï¼Œç»´æŠ¤æ›´ç®€å•ï¼Œrubyè¯­æ³•è¿‡äºå¤æ‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰¹æ€§&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;no agentsï¼šä¸éœ€è¦åœ¨è¢«ç®¡æ§ä¸»æœºä¸Šå®‰è£…ä»»ä½•å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;no serverï¼šæ— æœåŠ¡å™¨ç«¯ï¼Œä½¿ç”¨æ—¶ç›´æ¥è¿è¡Œå‘½ä»¤å³å¯&lt;/li&gt;
&lt;li&gt;modules in any languagesï¼šåŸºäºæ¨¡å—å·¥ä½œï¼Œå¯ä½¿ç”¨ä»»æ„è¯­è¨€å¼€å‘æ¨¡å—&lt;/li&gt;
&lt;li&gt;yamlï¼Œnot codeï¼šä½¿ç”¨yamlè¯­è¨€å®šåˆ¶å‰§æœ¬playbook&lt;/li&gt;
&lt;li&gt;ssh by defaultï¼šåŸºäºSSHå·¥ä½œ&lt;/li&gt;
&lt;li&gt;strong multi-tier solutionï¼šå¯å®ç°å¤šçº§æŒ‡æŒ¥ï¼ˆåˆ†å¸ƒå¼ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleæ¶æ„ä»¥åŠæ‰§è¡Œæµç¨‹&#34;&gt;ansibleæ¶æ„ä»¥åŠæ‰§è¡Œæµç¨‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¿æ¥æ’ä»¶&lt;/strong&gt;(connectior plugins)ï¼š ç”¨äºè¿æ¥ä¸»æœºï¼ˆç”¨æ¥è¿æ¥è¢«ç®¡ç†ç«¯ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å¿ƒæ¨¡å—&lt;/strong&gt;(core modules) ï¼šè¿æ¥ä¸»æœºå®ç°æ“ä½œï¼Œå®ƒä¾èµ–äºå…·ä½“çš„æ¨¡å—æ¥åšå…·ä½“çš„äº‹æƒ…&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è‡ªå®šä¹‰æ¨¡å—&lt;/strong&gt;(custom modules)ï¼š æ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¼–å†™å…·ä½“çš„æ¨¡å—&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ’ä»¶&lt;/strong&gt;(plugins) ï¼šå®Œæˆæ¨¡å—åŠŸèƒ½çš„è¡¥å……&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å‰§æœ¬&lt;/strong&gt;(playbooks) ï¼šansibleçš„é…ç½®æ–‡ä»¶ï¼Œ&lt;strong&gt;å°†å¤šä¸ªä»»åŠ¡å®šä¹‰åœ¨å‰§æœ¬ä¸­ï¼Œç”±ansibleè‡ªåŠ¨æ‰§è¡Œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æœºæ¸…å•&lt;/strong&gt;(host inventory)ï¼šå®šä¹‰ansibleéœ€è¦æ“ä½œä¸»æœºçš„èŒƒå›´&lt;br&gt;
&lt;code&gt;æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ansibleæ˜¯æ¨¡å—åŒ–çš„å®ƒæ‰€æœ‰çš„æ“ä½œéƒ½ä¾èµ–äºæ¨¡å—&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592813979693.png&#34; alt=&#34;åŸºæœ¬æ¶æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ¯”å¦‚éœ€è¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘å°±éœ€è¦è°ƒç”¨fileæ¨¡å—ï¼›éœ€è¦copyæ–‡ä»¶ï¼Œé‚£ä¹ˆæˆ‘å°±éœ€è¦copyæ¨¡å—ï¼›éœ€è¦æµ‹è¯•æœºå™¨çš„å­˜æ´»ç‡ï¼Œé‚£ä¹ˆå°±éœ€è¦pingæ¨¡å—&lt;code&gt;ansible all -m ping&lt;/code&gt;ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592829408722.png&#34; alt=&#34;æ‰§è¡Œæµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleå®‰è£…ä¸é…ç½®&#34;&gt;ansibleå®‰è£…ä¸é…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ansibleåªæ˜¯ä¸€ä¸ªè¿›ç¨‹&lt;/strong&gt;ï¼Œä¸éœ€è¦æ·»åŠ æ•°æ®åº“ä¹Ÿä¸éœ€è¦å¯åŠ¨å’Œè¿è¡Œå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œä½ å¯ä»¥è½»æ¾ä½¿ç”¨å®ƒå®‰è£…åœ¨ä»»ä½•ä¸€å°ä¸»æœºä¸Šé¢ï¼ˆé™¤äº†windowsï¼‰ï¼Œansibleç®¡ç†æœºä¸èƒ½å®‰è£…åˆ°windowsä¸Šé¢&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç‰ˆæœ¬çš„é€‰æ‹©&lt;/strong&gt;ï¼Œå› ä¸º2.0æœ‰éå¸¸å¤§çš„æ”¹è¿›ï¼Œä¸€èˆ¬éƒ½ä¼šä½¿ç”¨2.0ä»¥ä¸Šçš„ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ§åˆ¶æœºçš„è¦æ±‚&lt;/strong&gt;ï¼Œå› ä¸ºansibleæ˜¯pythonå†™çš„ï¼Œæ‰€ä»¥éœ€è¦åœ¨å®‰è£…äº†python2.6æˆ–è€…2.7ä»¥ä¸Šçš„pythonç‰ˆæœ¬æ‰å¯ä»¥å®‰è£…&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç®¡ç†èŠ‚ç‚¹çš„è¦æ±‚&lt;/strong&gt;ï¼Œéœ€è¦å®‰è£…sshï¼Œpythonç‰ˆæœ¬åœ¨2.5ä»¥ä¸Š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰è£…æœ‰3ä¸ªæ–¹å¼&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;yumæºå®‰è£…ï¼š&lt;code&gt;yum -y install ansible&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;pythonæ¨¡å—å®‰è£…ï¼š&lt;code&gt;pip install ansible&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä»githubä¸‹è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;    $ git clone gitï¼š//github.com/ansible/ansible.git --recursive
    $ cd ./ansible
    $ make rpm
    $ sudo rpm -Uvh ./rpm-build/ansible-*.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä»»åŠ¡æ‰§è¡Œæ¨¡å¼&#34;&gt;ä»»åŠ¡æ‰§è¡Œæ¨¡å¼&lt;/h2&gt;
&lt;p&gt;ansibleç³»ç»Ÿç”±æ§åˆ¶ä¸»æœºå¯¹è¢«ç®¡èŠ‚ç‚¹çš„æ“ä½œæ–¹å¼æœ‰ä¸¤ç§&lt;strong&gt;ad_hocå’Œplaybook&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ad_hocå•å‘½ä»¤æ¨¡å¼ï¼šå¯ä»¥å¯¹å¤šå°ä¸»æœºæ‰§è¡Œ&lt;strong&gt;å•ä¸ªå‘½ä»¤&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -a &amp;quot;/bin/echo hello&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;playbooké€šè¿‡&lt;strong&gt;å¤šä¸ªtasksçš„é›†åˆ&lt;/strong&gt;å®Œæˆä¸€ç±»åŠŸèƒ½å¦‚webçš„å®‰è£…éƒ¨ç½²ï¼Œæ•°æ®åº“æœåŠ¡å™¨çš„æ‰¹é‡å¤‡ä»½ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;- hosts: webservers
  vars:
    http_port: 80
    max_clients: 200
  remote_user: root
  tasks:
  - name: ensure apache is at the latest version
    yum: name=httpd state=latest
  - name: write the apache config file
    template: src=/srv/httpd.j2 dest=/etc/httpd.conf
    notify:
    - restart apache
  - name: ensure apache is running (and enable it at boot)
    service: name=httpd state=started enabled=yes
  handlers:
    - name: restart apache
      service: name=httpd state=restarted
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ansibleä¸ƒä¸ªå‘½ä»¤&#34;&gt;ansible(ä¸ƒä¸ªå‘½ä»¤)&lt;/h2&gt;
&lt;p&gt;å®‰è£…å®Œansibleåï¼Œå‘ç°ansibleä¸€å…±ä¸ºæˆ‘ä»¬æä¾›äº†ä¸ƒä¸ªæŒ‡ä»¤ï¼š&lt;code&gt;ansible&lt;/code&gt;ã€&lt;code&gt;ansible-doc&lt;/code&gt;ã€&lt;code&gt;ansible-galaxy&lt;/code&gt;ã€&lt;code&gt;ansible-lint&lt;/code&gt;ã€&lt;code&gt;ansible-playbook&lt;/code&gt;ã€&lt;code&gt;ansible-pull&lt;/code&gt;ã€&lt;code&gt;ansible-vault&lt;/code&gt; ã€‚è¿™é‡ŒåªæŸ¥çœ‹usageéƒ¨åˆ†ï¼Œè¯¦ç»†éƒ¨åˆ†å¯ä»¥é€šè¿‡ â€œæŒ‡ä»¤ -hâ€ çš„æ–¹å¼è·å–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ansible&#34;&gt;ansible&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;ï¼š&lt;code&gt;ansible &amp;lt;host-pattern&amp;gt; [options]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šansibleæ˜¯æŒ‡ä»¤æ ¸å¿ƒéƒ¨åˆ†ï¼Œå…¶ä¸»è¦ç”¨äºæ‰§è¡Œad-hocå‘½ä»¤ï¼Œå³å•æ¡å‘½ä»¤ã€‚é»˜è®¤åé¢éœ€è¦è·Ÿä¸»æœºå’Œé€‰é¡¹éƒ¨åˆ†ï¼Œé»˜è®¤ä¸æŒ‡å®šæ¨¡å—æ—¶ï¼Œä½¿ç”¨çš„æ˜¯commandæ¨¡å—ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;ï¼š&lt;code&gt;ansible 127.0.0.1 -a &#39;date&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¸¸ç”¨å‚æ•°&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;-mï¼šæ‰§è¡Œæ¨¡å—çš„åå­—ï¼Œé»˜è®¤ä½¿ç”¨commandæ¨¡å—ï¼Œæ‰€ä»¥å¦‚æœæ˜¯åªæ‰§è¡Œå•ä¸€å‘½ä»¤å¯ä»¥ä¸ç”¨-må‚æ•° 
-aï¼šå‘½ä»¤è¡Œå‚æ•°
-uï¼šsshè¿æ¥çš„ç”¨æˆ·åï¼Œé»˜è®¤ç”¨rootï¼Œansible.cfgä¸­å¯ä»¥é…ç½®
-kï¼šæç¤ºè¾“å…¥sshç™»å½•å¯†ç ã€‚å½“ä½¿ç”¨å¯†ç éªŒè¯çš„æ—¶å€™ç”¨
-sï¼šsudoè¿è¡Œ
-Uï¼šsudoåˆ°é‚£ä¸ªç”¨æˆ·ï¼Œé»˜è®¤ä¸ºroot
-Kï¼šæç¤ºè¾“å…¥sudoå¯†ç ï¼Œå½“ä¸æ˜¯NOPASSWDæ¨¡å¼æ—¶ä½¿ç”¨
-Cï¼šåªæ˜¯æµ‹è¯•ä¸€ä¸‹ä¼šæ”¹å˜ä»€ä¹ˆå†…å®¹ï¼Œä¸ä¼šçœŸæ­£å»æ‰§è¡Œ
-cï¼šè¿æ¥ç±»å‹ï¼ˆdefault=smartï¼‰
-fï¼šforkå¤šå°‘ä¸ªè¿›ç¨‹å¹¶å‘å¤„ç†ï¼Œé»˜è®¤ä¸º5ä¸ª
-iï¼šæŒ‡å®šhostsæ–‡ä»¶è·¯å¾„ï¼ˆå¯ä»¥æ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›®å½•ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€ä¸»æœºåˆ—è¡¨è·å–è„šæœ¬ï¼‰ï¼Œé»˜è®¤default=/etc/ansible/hosts
-Iï¼š æŒ‡å®špatternï¼Œå¯¹&amp;lt;host_pattern&amp;gt;å·²åŒ¹é…çš„ä¸»æœºä¸­å†è¿‡æ»¤ä¸€æ¬¡
--list-hostsï¼šåªæ‰“å°æœ‰å“ªäº›ä¸»æœºä¼šæ‰§è¡Œè¿™ä¸ªplaybookæ–‡ä»¶ï¼Œä¸æ˜¯å®é™…æ‰§è¡Œ #ansible --list-hosts all
-Mï¼šè¦æ‰§è¡Œçš„æ¨¡å—è·¯å¾„ï¼Œé»˜è®¤ä¸º/usr/share/ansible
-oï¼šå‹ç¼©è¾“å‡ºï¼Œæ‘˜è¦è¾“å‡º
--private-keyï¼šç§é’¥è·¯å¾„
-Tï¼šsshè¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤10ç§’
-tï¼šæ—¥å¿—è¾“å‡ºåˆ°è¯¥ç›®å½•ï¼Œæ—¥å¿—æ–‡ä»¶åä»¥ä¸»æœºåå‘½å
-vï¼šè¯¦ç»†ä¿¡æ¯
-vvvï¼š æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œè°ƒè¯•çš„æ—¶å€™ä½¿ç”¨
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¸»æœºæ¸…å•æ–‡ä»¶&lt;/strong&gt;ï¼š/etc/ansible/host&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592899775322.png&#34; alt=&#34;ä¸»æœºæ¸…å•æ–‡ä»¶&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ansible-doc&#34;&gt;ansible-doc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;ï¼š&lt;code&gt;ansible-doc [options] [module...]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šè¯¥æŒ‡ä»¤ç”¨äºæŸ¥çœ‹æ¨¡å—ä¿¡æ¯ï¼Œå¸¸ç”¨å‚æ•°æœ‰ä¸¤ä¸ª-l å’Œ -s ï¼Œå…·ä½“å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„æ¨¡å—&lt;code&gt;ansible-doc -l&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å…·ä½“æŸæ¨¡å—çš„ç”¨æ³•ï¼Œè¿™é‡Œå¦‚æŸ¥çœ‹commandæ¨¡å—&lt;code&gt;ansible-doc -s command&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ansible-galaxy&#34;&gt;ansible-galaxy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¼å¼&lt;/strong&gt;ï¼š&lt;code&gt;ansible-galaxy [-h] [--version] [-v] TYPE ...&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯´æ˜&lt;/strong&gt;ï¼šç”¨äºæ–¹ä¾¿çš„ä»&amp;lt;https://galaxy.ansible.com/ &amp;gt;ç«™ç‚¹ä¸‹è½½ç¬¬ä¸‰æ–¹æ‰©å±•æ¨¡å—ï¼Œå¯ä»¥å½¢è±¡çš„ç†è§£å…¶ç±»ä¼¼äºcentosä¸‹çš„yumã€pythonä¸‹çš„pipæˆ–easy_installã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;ï¼šå®‰è£…äº†ä¸€ä¸ªaeriscloud.dockerç»„ä»¶ï¼Œå‰é¢aeriscloudæ˜¯galaxyä¸Šåˆ›å»ºè¯¥æ¨¡å—çš„ç”¨æˆ·åï¼Œåé¢å¯¹åº”çš„æ˜¯å…¶æ¨¡å—ã€‚åœ¨å®é™…åº”ç”¨ä¸­ä¹Ÿå¯ä»¥æŒ‡å®štxtæˆ–ymlæ–‡ä»¶è¿›è¡Œå¤šä¸ªç»„ä»¶çš„ä¸‹è½½å®‰è£…ã€‚è¿™éƒ¨åˆ†å¯ä»¥å‚çœ‹å®˜æ–¹æ–‡æ¡£ã€‚&lt;code&gt;ansible-galaxy install aeriscloud.docker&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ansible-lint&#34;&gt;ansible-lint&lt;/h3&gt;
&lt;p&gt;å¯¹playbookçš„è¯­æ³•è¿›è¡Œæ£€æŸ¥çš„ä¸€ä¸ªå·¥å…·ã€‚ç”¨æ³•æ˜¯&lt;code&gt;ansible-lint playbook.yml&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ansible-playbook&#34;&gt;ansible-playbook&lt;/h3&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤æ˜¯&lt;strong&gt;ä½¿ç”¨æœ€å¤šçš„æŒ‡ä»¤&lt;/strong&gt;ï¼Œå…¶é€šè¿‡è¯»å–playbook æ–‡ä»¶åï¼Œæ‰§è¡Œç›¸åº”çš„åŠ¨ä½œ&lt;/p&gt;
&lt;h3 id=&#34;ansible-pull&#34;&gt;ansible-pull&lt;/h3&gt;
&lt;p&gt;è¯¥æŒ‡ä»¤ä½¿ç”¨éœ€è¦è°ˆåˆ°ansibleçš„å¦ä¸€ç§æ¨¡å¼---&lt;strong&gt;pullæ¨¡å¼&lt;/strong&gt;ï¼Œè¿™å’Œå¹³å¸¸ç»å¸¸ç”¨çš„pushæ¨¡å¼åˆšå¥½ç›¸åï¼Œå…¶é€‚ç”¨äºä»¥ä¸‹&lt;strong&gt;åœºæ™¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½ æœ‰æ•°é‡å·¨å¤§çš„æœºå™¨éœ€è¦é…ç½®ï¼Œå³ä½¿ä½¿ç”¨éå¸¸é«˜çš„çº¿ç¨‹è¿˜æ˜¯è¦èŠ±è´¹å¾ˆå¤šæ—¶é—´ï¼›&lt;/li&gt;
&lt;li&gt;ä½ è¦åœ¨ä¸€ä¸ªæ²¡æœ‰ç½‘ç»œè¿æ¥çš„æœºå™¨ä¸Šè¿è¡ŒAnisbleï¼Œæ¯”å¦‚åœ¨å¯åŠ¨ä¹‹åå®‰è£…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ansible-vault&#34;&gt;ansible-vault&lt;/h3&gt;
&lt;p&gt;ansible-vaultä¸»è¦åº”ç”¨äºé…ç½®æ–‡ä»¶ä¸­å«æœ‰æ•æ„Ÿä¿¡æ¯ï¼Œåˆä¸å¸Œæœ›ä»–èƒ½è¢«äººçœ‹åˆ°ï¼Œvaultå¯ä»¥å¸®ä½ &lt;strong&gt;åŠ å¯†/è§£å¯†è¿™ä¸ªé…ç½®æ–‡ä»¶&lt;/strong&gt;ï¼Œå±é«˜çº§ç”¨æ³•ã€‚ä¸»è¦å¯¹äºplaybooksé‡Œæ¯”å¦‚æ¶‰åŠåˆ°é…ç½®å¯†ç æˆ–å…¶ä»–å˜é‡æ—¶ï¼Œå¯ä»¥é€šè¿‡è¯¥æŒ‡ä»¤åŠ å¯†ï¼Œè¿™æ ·æˆ‘ä»¬é€šè¿‡catçœ‹åˆ°çš„ä¼šæ˜¯ä¸€ä¸ªå¯†ç ä¸²ç±»çš„æ–‡ä»¶ï¼Œ&lt;strong&gt;ç¼–è¾‘çš„æ—¶å€™éœ€è¦è¾“å…¥äº‹å…ˆè®¾å®šçš„å¯†ç æ‰èƒ½æ‰“å¼€&lt;/strong&gt;ã€‚è¿™ç§playbookæ–‡ä»¶åœ¨æ‰§è¡Œæ—¶ï¼Œ&lt;strong&gt;éœ€è¦åŠ ä¸Š â€“ask-vault-passå‚æ•°&lt;/strong&gt;ï¼ŒåŒæ ·éœ€è¦è¾“å…¥å¯†ç åæ‰èƒ½æ­£å¸¸æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;ansible-inventory&#34;&gt;ansible-inventory&lt;/h3&gt;
&lt;p&gt;--graphï¼šä»¥ç»“æ„åŒ–çš„æ–¹å¼æ˜¾ç¤ºå‡ºå—ç®¡ä¸»æœºçš„ä¿¡æ¯&lt;/p&gt;
&lt;h2 id=&#34;ansibleé…ç½®æ–‡ä»¶&#34;&gt;ansible(é…ç½®æ–‡ä»¶)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä½ç½®ï¼š&lt;code&gt;/etc/ansible/ansible.cfg&lt;/code&gt;&lt;br&gt;
ç”¨æˆ·å¯ä»¥ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹è®¾ç½®,ä»–ä»¬çš„è¢«è¯»å–çš„é¡ºåºå¦‚ä¸‹:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;* ANSIBLE_CONFIG (ä¸€ä¸ªç¯å¢ƒå˜é‡)
* ansible.cfg (ä½äºå½“å‰ç›®å½•ä¸­)
* .ansible.cfg (ä½äºå®¶ç›®å½•ä¸­)
* /etc/ansible/ansible.cfg
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ansible å°†ä¼šæŒ‰ä»¥ä¸Šé¡ºåºé€ä¸ªæŸ¥è¯¢è¿™äº›æ–‡ä»¶,ç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªä¸ºæ­¢,å¹¶ä¸”&lt;strong&gt;ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯»æ‰¾åˆ°ä¸ªé…ç½®æ–‡ä»¶çš„é…ç½®,è¿™äº›é…ç½®å°†ä¸ä¼šè¢«å åŠ .&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;è·å–æœ€æ–°é…ç½®æ–‡ä»¶&#34;&gt;è·å–æœ€æ–°é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å¦‚æœä½¿ç”¨ç¨‹åºåŒ…ç®¡ç†å™¨å®‰è£…ansible,æœ€æ–°çš„ ansible.cfg é…ç½®æ–‡ä»¶æœ‰å¯èƒ½å‡ºç°åœ¨ /etc/ansible ä¸‹å¹¶ä¸”å‘½åä¸º â€.rpmnewâ€, ä¹Ÿå¯èƒ½æ ¹æ®ä¸åŒçš„æ›´æ–°å‘½åä¸ºå…¶å®ƒåç§°ã€‚&lt;br&gt;
å¦‚æœä½ æ˜¯é€šè¿‡ pip æˆ–è€…å…¶ä»–æ–¹å¼å®‰è£…,åˆ™å¯èƒ½éœ€è¦è‡ªè¡Œåˆ›å»ºè¿™ä¸ªæ–‡ä»¶,ä»¥å…åŸé…ç½®æ–‡ä»¶è¢«è¦†ç›–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶ä¸åŒæ®µè¯¦è§£&#34;&gt;é…ç½®æ–‡ä»¶ä¸åŒæ®µè¯¦è§£&lt;/h3&gt;
&lt;h4 id=&#34;é€šç”¨é»˜è®¤æ®µ&#34;&gt;é€šç”¨é»˜è®¤æ®µ&lt;/h4&gt;
&lt;p&gt;åœ¨ [defaults] æ®µä¸­,ä»¥ä¸‹é€‰é¡¹æ˜¯å¯ä»¥è°ƒèŠ‚çš„:&lt;/p&gt;
&lt;h5 id=&#34;action_plugins&#34;&gt;action_plugins&lt;/h5&gt;
&lt;p&gt;â€œè¡Œä¸ºâ€æ˜¯ ansibleä¸­çš„ä¸€æ®µä»£ç ï¼Œç”¨æ¥æ¿€æ´»ä¸€äº›äº‹ä»¶ï¼Œä¾‹å¦‚æ‰§è¡Œä¸€ä¸ªæ¨¡å—ç­‰ã€‚è¿™æ˜¯ä¸€ä¸ªä»¥å¼€å‘è€…ä¸ºä¸­å¿ƒçš„ç‰¹æ€§,ä½¿å¾—ä¸€äº›åº•å±‚æ¨¡å—å¯ä»¥ä»å¤–éƒ¨ä¸åŒåœ°æ–¹åŠ è½½ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;action_plugins = ~/.ansible/plugins/action_plugins/:/usr/share/ansible_plugins/action_plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;ansible_managed&#34;&gt;ansible_managed&lt;/h5&gt;
&lt;p&gt;Ansible-managed æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥æ’å…¥åˆ°Ansibleé…ç½®æ¨¡ç‰ˆç³»ç»Ÿç”Ÿæˆçš„æ–‡ä»¶ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨ä»¥ä¸‹çš„è‡ªå­—ç¬¦ï¼š&lt;code&gt;{{ ansible_managed }}&lt;/code&gt;&lt;br&gt;
ä¾‹å¦‚ï¼šé»˜è®¤è®¾ç½®å¯ä»¥å“ªä¸ªç”¨æˆ·ä¿®æ”¹å’Œä¿®æ”¹æ—¶é—´ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible_managed = Ansible managed: {file} modified on %Y-%m-%d %H:%M:%S by {uid} on {host}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸ªè®¾ç½®å¯ä»¥å‘ŠçŸ¥ç”¨æˆ·ï¼ŒAnsibleä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”æ‰‹åŠ¨å†™å…¥çš„å†…å®¹å¯èƒ½å·²ç»è¢«è¦†ç›–.éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½¿ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ä¸­å°†åŒ…å«ä¸€ä¸ªæ—¥æœŸæ³¨é‡Šï¼Œå¦‚æœæ—¥æœŸæ›´æ–°ï¼Œæ¨¡ç‰ˆç³»ç»Ÿå°†ä¼šåœ¨æ¯ä¸€æ¬¡æŠ¥å‘Šæ–‡ä»¶ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ask_pass&#34;&gt;ask_pass*&lt;/h5&gt;
&lt;p&gt;æ§åˆ¶Ansibleå‰§æœ¬playbookæ˜¯å¦ä¼šè‡ªåŠ¨å¼¹å‡ºè¾“å…¥å¯†ç ï¼Œé»˜è®¤ä¸ºnoã€‚å¦‚æœä½¿ç”¨SSH å¯†é’¥åŒ™åšèº«ä»½è®¤è¯ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹è¿™ä¸€å‚æ•°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ask_pass=True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;ask_sudo_pass&#34;&gt;ask_sudo_pass*&lt;/h5&gt;
&lt;p&gt;ç±»ä¼¼ ask_passï¼Œç”¨æ¥æ§åˆ¶Ansible playbook åœ¨æ‰§è¡Œsudoä¹‹å‰æ˜¯å¦è¯¢é—®sudoå¯†ç ã€‚é»˜è®¤ä¸ºnoã€‚å¦‚æœç”¨æˆ·ä½¿ç”¨çš„ç³»ç»Ÿå¹³å°å¼€å¯äº†sudo å¯†ç çš„è¯,åº”è¯¥ä¿®æ”¹è¿™ä¸€å‚æ•°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ask_sudo_pass=True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;bin_ansible_callbacks&#34;&gt;bin_ansible_callbacks&lt;/h5&gt;
&lt;p&gt;ç”¨æ¥æ§åˆ¶callbackæ’ä»¶æ˜¯å¦åœ¨è¿è¡Œ /usr/bin/ansible çš„æ—¶å€™è¢«åŠ è½½ã€‚è¿™ä¸ªæ¨¡å—å°†ç”¨äºå‘½ä»¤è¡Œçš„æ—¥å¿—ç³»ç»Ÿï¼Œå‘å‡ºé€šçŸ¥ç­‰ç‰¹æ€§ã€‚Callbackæ’ä»¶å¦‚æœå­˜åœ¨å°†ä¼šæ°¸ä¹…æ€§çš„è¢« /usr/bin/ansible-playbook åŠ è½½ï¼Œä¸èƒ½è¢«ç¦ç”¨:&lt;code&gt;1.8 ç‰ˆæœ¬ä¹‹å‰,callbacks æ’ä»¶ä¸å¯ä»¥è¢« /usr/bin/ansibleåŠ è½½ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;bin_ansible_callbacks=False
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;callback_plugins&#34;&gt;callback_plugins&lt;/h5&gt;
&lt;p&gt;Callbacks åœ¨ansibleä¸­æ˜¯ä¸€æ®µä»£ç ï¼Œåœ¨ç‰¹æ®Šäº‹ä»¶æ—¶å°†è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å…è®¸å‡ºå‘é€šçŸ¥ã€‚è¿™æ˜¯ä¸€ä¸ªä»¥å¼€å‘è€…ä¸ºä¸­å¿ƒçš„ç‰¹æ€§ï¼Œå¯ä»¥å®ç°å¯¹Ansibleçš„åº•å±‚æ‹“å±•,å¹¶ä¸”æ‹“å±•æ¨¡å—å¯ä»¥ä½äºä»»ä½•ä½ç½®:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;callback_plugins = ~/.ansible/plugins/callback_plugins/:/usr/share/ansible_plugins/callback_plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;deprecation_warnings&#34;&gt;deprecation_warnings&lt;/h5&gt;
&lt;p&gt;å…è®¸åœ¨ansible-playbookè¾“å‡ºç»“æœä¸­ç¦ç”¨â€œä¸å»ºè®®ä½¿ç”¨â€çš„è­¦å‘Š:&lt;br&gt;
â€œä¸å»ºè®®è­¦å‘Šâ€æŒ‡çš„æ˜¯ä½¿ç”¨ä¸€äº›åœ¨æ–°ç‰ˆæœ¬ä¸­å¯èƒ½ä¼šè¢«æ·˜æ±°çš„é—ç•™ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;deprecation_warnings = True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;display_skipped_hosts&#34;&gt;display_skipped_hosts&lt;/h5&gt;
&lt;p&gt;å¦‚æœè®¾ç½®ä¸º&lt;code&gt;False&lt;/code&gt;ï¼Œansibleå°†ä¸ä¼šæ˜¾ç¤ºä»»ä½•è·³è¿‡ä»»åŠ¡çš„çŠ¶æ€ã€‚é»˜è®¤é€‰é¡¹æ˜¯è·³è¿‡ä»»åŠ¡çš„çŠ¶æ€ï¼š&lt;br&gt;
æ³¨æ„Ansibleæ€»æ˜¯ä¼šæ˜¾ç¤ºä»»ä½•ä»»åŠ¡çš„å¤´æ–‡ä»¶, ä¸ç®¡è¿™ä¸ªä»»åŠ¡è¢«è·³è¿‡ä¸å¦ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;display_skipped_hosts=True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;error_on_undefined_vars&#34;&gt;error_on_undefined_vars&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªé€‰é¡¹ä¸ºé»˜è®¤ï¼Œå¦‚æœæ‰€å¼•ç”¨çš„å˜é‡åç§°é”™è¯¯çš„è¯, å°†ä¼šå¯¼è‡´ansibleåœ¨æ‰§è¡Œæ­¥éª¤ä¸Šå¤±è´¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;error_on_undefined_vars=True
# If set to False, any â€˜{{ template_expression }}â€™ that contains undefined variables will be rendered in a template or ansible action line exactly as written.
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;executable&#34;&gt;executable&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªé€‰é¡¹å¯ä»¥åœ¨sudoç¯å¢ƒä¸‹äº§ç”Ÿä¸€ä¸ªshelläº¤äº’æ¥å£ã€‚ç”¨æˆ·åªåœ¨/bin/bashçš„æˆ–è€…sudoé™åˆ¶çš„ä¸€äº›åœºæ™¯ä¸­éœ€è¦ä¿®æ”¹ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹::&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;executable = /bin/bash
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;filter_plugins&#34;&gt;filter_plugins&lt;/h5&gt;
&lt;p&gt;è¿‡æ»¤å™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œç”¨æ¥æ‹“å±•æ¨¡ç‰ˆç³»ç»Ÿã€‚è¿™æ˜¯ä¸€ä¸ªå¼€å‘è€…æ ¸å¿ƒçš„ç‰¹æ€§ï¼Œå…è®¸Ansibleä»ä»»ä½•åœ°æ–¹è½½å…¥åº•å±‚æ‹“å±•æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;filter_plugins = ~/.ansible/plugins/filter_plugins/:/usr/share/ansible_plugins/filter_plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;force_color&#34;&gt;force_color&lt;/h5&gt;
&lt;p&gt;å½“æ²¡æœ‰ä½¿ç”¨TTYç»ˆç«¯çš„æ—¶å€™ï¼Œè¿™ä¸ªé€‰é¡¹å½“ç”¨æ¥å¼ºåˆ¶é¢œè‰²æ¨¡å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;force_color = 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;force_handlers&#34;&gt;force_handlers&lt;/h5&gt;
&lt;p&gt;å³ä¾¿è¿™ä¸ªç”¨æˆ·å´©æºƒï¼Œè¿™ä¸ªé€‰é¡¹ä»å¯ä»¥ç»§ç»­è¿è¡Œè¿™ä¸ªç”¨æˆ·:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;force_handlers = True
# The default is False, meaning that handlers will not run if a failure has occurred on a host. This can also be set per play or on the command line. See _handlers_and_failure for more details. 
# å¦‚æœè¿™ä¸ªé€‰é¡¹æ˜¯False. å¦‚æœä¸€ä¸ªä¸»æœºå´©æºƒäº†,handlerså°†ä¸ä¼šå†è¿è¡Œè¿™ä¸ªä¸»æœºã€‚è¿™ä¸ªé€‰é¡¹ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œä¸´æ—¶ä½¿ç”¨ã€‚è¯¦è§:doc:_handlers_and_failure.
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;forks&#34;&gt;forks*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªé€‰é¡¹è®¾ç½®åœ¨ä¸ä¸»æœºé€šä¿¡æ—¶çš„é»˜è®¤å¹¶è¡Œè¿›ç¨‹æ•°ã€‚å¾ˆå¤šç”¨æˆ·æŠŠè¿™ä¸ªè®¾ç½®ä¸º50,æœ‰äº›è®¾ç½®ä¸º500æˆ–è€…æ›´å¤šï¼Œå¦‚æœä½ æœ‰å¾ˆå¤šçš„ä¸»æœº, é«˜æ•°å€¼å°†ä¼šä½¿å¾—è·¨ä¸»æœºè¡Œä¸ºå˜å¿«ã€‚é»˜è®¤å€¼æ¯”è¾ƒä¿å®ˆï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;forks=5
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;hash_behaviour&#34;&gt;hash_behaviour&lt;/h5&gt;
&lt;p&gt;Ansibleé»˜è®¤å°†ä¼šä»¥ä¸€ç§ç‰¹å®šçš„ä¼˜å…ˆçº§è¦†ç›–å˜é‡ï¼Œè¯¦è§&lt;code&gt;:doc:playbooks_variables&lt;/code&gt;ã€‚æ‹¥æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„å‚æ•°å°†ä¼šè¦†ç›–æ‰å…¶ä»–å‚æ•°ã€‚&lt;br&gt;
æœ‰äº›ç”¨æˆ·å¸Œæœ›è¢«hashedçš„å‚æ•°ï¼ˆpython ä¸­çš„æ•°æ®ç»“æ„dictionariesï¼‰è¢«åˆå¹¶.ã€‚è¿™ä¸ªè®¾ç½®å«åš&lt;code&gt;merge&lt;/code&gt;ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªé»˜è®¤è®¾ç½®ï¼Œè€Œä¸”ä¸å½±å“æ•°ç»„ç±»å‹çš„æ•°ç»„ã€‚æˆ‘ä¸å»ºè®®ä½¿ç”¨è¿™ä¸ªè®¾ç½®é™¤éä½ è§‰å¾—ä¸€å®šéœ€è¦è¿™ä¸ªè®¾ç½®ã€‚&lt;strong&gt;å®˜æ–¹å®ä¾‹ä¸­ä¸ä½¿ç”¨è¿™ä¸ªé€‰é¡¹&lt;/strong&gt;ï¼š&lt;br&gt;
åˆæ³•çš„å€¼ä¸º&lt;code&gt;replace&lt;/code&gt;(é»˜è®¤å€¼)æˆ–è€…&lt;code&gt;merge&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;hash_behaviour=replace
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;host_key_checking&#34;&gt;host_key_checking*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªç‰¹æ€§è¯¦è§ï¼š&lt;code&gt;doc:intro_getting_started&lt;/code&gt;ï¼Œåœ¨Ansible 1.3æˆ–æ›´æ–°ç‰ˆæœ¬ä¸­å°†ä¼šæ£€æµ‹ä¸»æœºå¯†é’¥ã€‚å¦‚æœä½ äº†è§£æ€ä¹ˆä½¿ç”¨å¹¶ä¸”å¸Œæœ›ç¦ç”¨è¿™ä¸ªåŠŸèƒ½,ä½ å¯ä»¥å°†è¿™ä¸ªå€¼è®¾ç½®ä¸ºFalse:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;host_key_checking=True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;inventory&#34;&gt;inventory*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯é»˜è®¤åº“æ–‡ä»¶ä½ç½®ï¼Œè„šæœ¬æˆ–è€…å­˜æ”¾å¯é€šä¿¡ä¸»æœºçš„ç›®å½•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;inventory = /etc/ansible/hosts
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;jinja2_extensions&#34;&gt;jinja2_extensions&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¼€å‘è€…ä¸­å¿ƒç‰¹æ€§ï¼Œå…è®¸å¼€å¯Jinja2æ‹“å±•æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;jinja2_extensions = jinja2.ext.do,jinja2.ext.i18n
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;library&#34;&gt;library*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯Ansibleé»˜è®¤æœå¯»æ¨¡å—çš„ä½ç½®ï¼š&lt;br&gt;
&lt;code&gt;Ansibleä¼šå¤šä¸ªç”¨å†’å·éš”å¼€çš„è·¯å¾„ï¼ŒåŒæ—¶ä¹Ÿä¼šæœç´¢åœ¨playbookä¸­çš„â€œ./libraryâ€&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;library = /usr/share/ansible
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;log_path&#34;&gt;log_path*&lt;/h5&gt;
&lt;p&gt;å¦‚æœå‡ºç°åœ¨ansible.cfgæ–‡ä»¶ä¸­ï¼ŒAnsibleå°†ä¼šåœ¨é€‰å®šçš„ä½ç½®ç™»é™†æ‰§è¡Œä¿¡æ¯ã€‚è¯·ç•™æ„ç”¨æˆ·è¿è¡Œçš„Ansibleå¯¹äºlogfileæœ‰æ— æƒé™:&lt;br&gt;
è¿™ä¸ªç‰¹æ€§ä¸æ˜¯é»˜è®¤å¼€å¯çš„ã€‚å¦‚æœä¸è®¾ç½®ï¼Œansibleå°†ä¼šæŠŠæ¨¡å—åŠ è½½è®°å½•åœ¨ç³»ç»Ÿæ—¥å¿—ç³»ç»Ÿä¸­ã€‚ä¸åŒ…å«ç”¨æˆ·å¯†ç .&lt;br&gt;
å¯¹äºéœ€è¦äº†è§£æ›´å¤šæ—¥å¿—ç³»ç»Ÿçš„ä¼ä¸šåŠç”¨æˆ·,ä½ ä¹Ÿè®¸å¯¹**:doc:tower**æ„Ÿå…´è¶£ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;log_path=/var/log/ansible.log
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;lookup_plugins&#34;&gt;lookup_plugins&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¼€å‘è€…ä¸­å¿ƒé€‰é¡¹ï¼Œå…è®¸æ¨¡å—æ’ä»¶åœ¨ä¸åŒåŒºåŸŸè¢«åŠ è½½ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;lookup_plugins = ~/.ansible/plugins/lookup_plugins/:/usr/share/ansible_plugins/lookup_plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;module_lang&#34;&gt;module_lang&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯é»˜è®¤æ¨¡å—å’Œç³»ç»Ÿä¹‹é—´é€šä¿¡çš„è®¡ç®—æœºè¯­è¨€,é»˜è®¤ä¸º&lt;code&gt;Cè¯­è¨€&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;module_lang = C
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨è§£å†³æ¨é€æ—¥å¿—ä¹±ç çš„æ—¶å€™éœ€è¦é…ç½®
module_lang = C 
    ==&amp;gt; module_lang = zh_CN.UTF-8
module_set_locale = False  
    ==&amp;gt; module_set_locale = True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;module_name&#34;&gt;module_name&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯/usr/bin/ansibleçš„é»˜è®¤æ¨¡å—åï¼ˆ-mï¼‰ã€‚é»˜è®¤æ˜¯&lt;code&gt;command&lt;/code&gt;æ¨¡å—ã€‚ä¹‹å‰æåˆ°è¿‡ï¼Œcommandæ¨¡å—ä¸æ”¯æŒshellå˜é‡ã€ç®¡é“ã€é…é¢ï¼Œæ‰€ä»¥ä¹Ÿè®¸ä½ å¸Œæœ›æŠŠè¿™ä¸ªå‚æ•°æ”¹ä¸º&lt;code&gt;shell&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;module_name = command
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;nocolor&#34;&gt;nocolor&lt;/h5&gt;
&lt;p&gt;é»˜è®¤ansibleä¼šä¸ºè¾“å‡ºç»“æœåŠ ä¸Šé¢œè‰²ï¼Œç”¨æ¥æ›´å¥½çš„åŒºåˆ†çŠ¶æ€ä¿¡æ¯å’Œå¤±è´¥ä¿¡æ¯ã€‚å¦‚æœä½ æƒ³å…³é—­è¿™ä¸€åŠŸèƒ½,å¯ä»¥æŠŠ&lt;code&gt;nocolor&lt;/code&gt;è®¾ç½®ä¸º&lt;code&gt;1&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nocolor=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;nocows&#34;&gt;nocows&lt;/h5&gt;
&lt;p&gt;é»˜è®¤ansibleå¯ä»¥è°ƒç”¨ä¸€äº›cowsayçš„ç‰¹æ€§ï¼Œä½¿å¾—/usr/bin/ansible-playbookè¿è¡Œèµ·æ¥æ›´åŠ æ„‰å¿«ã€‚å¦‚æœä½ ä¸å–œæ¬¢cowsï¼Œä½ å¯ä»¥é€šé€šè¿‡å°†&lt;code&gt;nocows&lt;/code&gt;è®¾ç½®ä¸º&lt;code&gt;1&lt;/code&gt;æ¥ç¦ç”¨è¿™ä¸€é€‰é¡¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nocows=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;pattern&#34;&gt;pattern&lt;/h5&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰æä¾›â€œhostsâ€èŠ‚ç‚¹ï¼Œè¿™æ˜¯playbookè¦é€šä¿¡çš„é»˜è®¤ä¸»æœºç»„ã€‚é»˜è®¤å€¼æ˜¯å¯¹æ‰€æœ‰ä¸»æœºé€šä¿¡ï¼š&lt;br&gt;
&lt;code&gt;æ³¨æ„/usr/bin/ansible ä¸€ç›´éœ€è¦ä¸€ä¸ªhost patternï¼Œå¹¶ä¸”ä¸ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ã€‚è¿™ä¸ªé€‰é¡¹åªä½œç”¨äº/usr/bin/ansible-playbookã€‚&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;pattern = * 
#ã€€hosts=*
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;poll_interval&#34;&gt;poll_interval*&lt;/h5&gt;
&lt;p&gt;å¯¹äºAnsibleä¸­çš„å¼‚æ­¥ä»»åŠ¡ï¼Œå½“å…·ä½“çš„poll interval æ²¡æœ‰å®šä¹‰æ—¶ï¼Œå¤šå°‘æ—¶é—´å›æŸ¥ä¸€ä¸‹è¿™äº›ä»»åŠ¡çš„çŠ¶æ€ï¼Œé»˜è®¤å€¼ï¼ˆ15ç§’ï¼‰æ˜¯ä¸€ä¸ªæŠ˜ä¸­é€‰æ‹©ã€‚è¿™ä¸ªæ—¶é—´æ˜¯å›æŸ¥é¢‘ç‡ã€ä»»åŠ¡å®Œæˆå«å›é¢‘ç‡ã€å½“ä»»åŠ¡å®Œæˆæ—¶çš„å›è½¬é¢‘ç‡çš„æŠ˜ä¸­:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;poll_interval=15
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;private_key_file&#34;&gt;private_key_file&lt;/h5&gt;
&lt;p&gt;å¦‚æœä½ æ˜¯ç”¨pemå¯†é’¥æ–‡ä»¶è€Œä¸æ˜¯SSHå®¢æˆ·ç«¯æˆ–å¯†ç è®¤è¯çš„è¯ï¼Œä½ å¯ä»¥è®¾ç½®è¿™é‡Œçš„é»˜è®¤å€¼ï¼Œæ¥é¿å…æ¯ä¸€æ¬¡æé†’è®¾ç½®å¯†é’¥æ–‡ä»¶ä½ç½®&lt;code&gt;â€“ansible-private-keyfile&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;private_key_file=/path/to/file.pem
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;remote_port&#34;&gt;remote_port*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªè®¾ç½®æ˜¯ä½ ç³»ç»Ÿé»˜è®¤çš„è¿œç¨‹SSHç«¯å£ï¼Œå¦‚æœä¸æŒ‡å®š,é»˜è®¤ä¸º22å·ç«¯å£ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;remote_port = 22
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;remote_tmp&#34;&gt;remote_tmp*&lt;/h5&gt;
&lt;p&gt;Ansible é€šè¿‡è¿œç¨‹ä¼ è¾“æ¨¡å—åˆ°è¿œç¨‹ä¸»æœºï¼Œç„¶åè¿œç¨‹æ‰§è¡Œï¼Œæ‰§è¡Œåå†æ¸…ç†ç°åœºã€‚åœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œä½ ä¹Ÿè®¸æƒ³ä½¿ç”¨é»˜è®¤è·¯å¾„ï¼Œå¸Œæœ›åƒæ›´æ¢è¡¥ä¸ä¸€æ ·ä½¿ç”¨, è¿™æ—¶å€™ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼š&lt;br&gt;
&lt;code&gt;é»˜è®¤è·¯å¾„æ˜¯åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹çš„ç›®å½•.Ansibleï¼Œä¼šåœ¨è¿™ä¸ªç›®å½•ä¸­ä½¿ç”¨ä¸€ä¸ªéšæœºçš„æ–‡ä»¶å¤¹åç§°&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;remote_tmp = $HOME/.ansible/tmp
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;remote_user&#34;&gt;remote_user&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯ä¸ªansibleä½¿ç”¨&lt;code&gt;/usr/bin/ansible-playbook&lt;/code&gt;é“¾æ¥çš„é»˜è®¤ç”¨æˆ·åã€‚å¦‚æœä¸æŒ‡å®šï¼Œ&lt;code&gt;/usr/bin/ansible&lt;/code&gt;é»˜è®¤ä½¿ç”¨&lt;strong&gt;å½“å‰ç”¨æˆ·åç§°&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;remote_user = root
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;roles_path&#34;&gt;roles_path&lt;/h5&gt;
&lt;p&gt;rolesè·¯å¾„æŒ‡çš„æ˜¯&lt;code&gt;roles/&lt;/code&gt;ä¸‹çš„é¢å¤–ç›®å½•ï¼Œç”¨äºplaybookæœç´¢Ansible rolesã€‚æ¯”å¦‚ï¼Œ å¦‚æœæˆ‘ä»¬æœ‰ä¸ªç”¨äºcommon rolesæºä»£ç æ§åˆ¶ä»“åº“å’Œä¸€ä¸ªä¸åŒçš„playbooksä»“åº“ï¼Œä½ ä¹Ÿè®¸ä¼šåœ¨ /opt/mysite/rolesé‡Œé¢æŸ¥æ‰¾rolesï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;roles_path = /opt/mysite/roles
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤šä½™çš„è·¯å¾„å¯ä»¥ç”¨å†’å·åˆ†éš”ï¼Œç±»ä¼¼äºå…¶ä»–pathå­—ç¬¦ä¸²ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;roles_path = /opt/mysite/roles:/opt/othersite/roles
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;sudo_exe&#34;&gt;sudo_exe&lt;/h5&gt;
&lt;p&gt;å¦‚æœåœ¨å…¶ä»–è¿œç¨‹ä¸»æœºä¸Šä½¿ç”¨å¦ä¸€ç§æ–¹å¼æ‰§è¡Œsudoæ“çºµï¼Œ sudoç¨‹åºçš„è·¯å¾„å¯ä»¥ç”¨è¿™ä¸ªå‚æ•°æ›´æ¢ï¼Œä½¿ç”¨å‘½ä»¤è¡Œæ ‡ç­¾æ¥æ‹Ÿåˆæ ‡å‡†sudoï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo_exe=sudo
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;sudo_flags&#34;&gt;sudo_flags&lt;/h5&gt;
&lt;p&gt;å½“ä½¿ç”¨sudoæ”¯æŒçš„æ—¶å€™,ä¼ é€’ç»™sudoä»¥å¤–çš„æ ‡ç­¾. é»˜è®¤å€¼ä¸º&lt;code&gt;-H&lt;/code&gt;ï¼Œ æ„æ€æ˜¯ä¿ç•™åŸç”¨æˆ·çš„ç¯å¢ƒã€‚åœ¨æœ‰äº›åœºæ™¯ä¸‹ä¹Ÿè®¸éœ€è¦æ·»åŠ æˆ–è€…åˆ é™¤æ ‡ç­¾ï¼Œå¤§å¤šæ•°ç”¨æˆ·ä¸éœ€è¦ä¿®æ”¹è¿™ä¸ªé€‰é¡¹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo_flags=-H
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;sudo_user&#34;&gt;sudo_user*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯sudoä½¿ç”¨çš„é»˜è®¤ç”¨æˆ·,å¦‚æœ&lt;code&gt;â€“sudo-user&lt;/code&gt;æ²¡æœ‰ç‰¹æŒ‡æˆ–è€…&lt;code&gt;sudo_user&lt;/code&gt;åœ¨Ansible playbooksä¸­æ²¡æœ‰ç‰¹æŒ‡,åœ¨å¤§å¤šæ•°çš„é€»è¾‘ä¸­ é»˜è®¤ä¸º&lt;code&gt;root&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo_user=root
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;system_warnings&#34;&gt;system_warnings&lt;/h5&gt;
&lt;p&gt;å…è®¸ç¦ç”¨ç³»ç»Ÿè¿è¡Œansibleç›¸å…³çš„æ½œåœ¨é—®é¢˜è­¦å‘Šï¼ˆä¸åŒ…æ‹¬æ“ä½œä¸»æœºï¼‰:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;system_warnings = True
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;timeout&#34;&gt;timeout*&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯é»˜è®¤SSHé“¾æ¥å°è¯•è¶…å¸‚æ—¶é—´ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;timeout = 10
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;transport&#34;&gt;transport*&lt;/h5&gt;
&lt;p&gt;å¦‚æœ&lt;code&gt;-c &amp;lt;transport_name&amp;gt;&lt;/code&gt;é€‰é¡¹æ²¡æœ‰åœ¨ä½¿ç”¨&lt;code&gt;/usr/bin/ansible&lt;/code&gt;æˆ–è€… &lt;code&gt;/usr/bin/ansible-playbook&lt;/code&gt;ç‰¹æŒ‡çš„è¯ï¼Œè¿™ä¸ªå‚æ•°æä¾›äº†é»˜è®¤é€šä¿¡æœºåˆ¶ã€‚é»˜è®¤ å€¼ä¸º&lt;code&gt;smart&lt;/code&gt;, å¦‚æœæœ¬åœ°ç³»ç»Ÿæ”¯æŒ ControlPersistæŠ€æœ¯çš„è¯ï¼Œå°†ä¼šä½¿ç”¨(åŸºäºOpenSSH)&lt;code&gt;ssh&lt;/code&gt;ï¼Œå¦‚æœä¸æ”¯æŒè®²ä½¿ç”¨&lt;code&gt;paramiko&lt;/code&gt;ã€‚å…¶ä»–ä¼ è¾“é€‰é¡¹åŒ…æ‹¬&lt;code&gt;local&lt;/code&gt;ï¼Œ&lt;code&gt;chroot&lt;/code&gt;ï¼Œ&lt;code&gt;jail&lt;/code&gt;ç­‰ç­‰ã€‚&lt;br&gt;
ç”¨æˆ·é€šå¸¸å¯ä»¥è®¾ç½®ä¸º&lt;code&gt;smart&lt;/code&gt;,è®©playbookåœ¨æ ¹æ®é€šä¿¡æ¡ä»¶è‡ªå·±é€‰æ‹©&lt;code&gt;connectin:&lt;/code&gt;å‚æ•°.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;transport=smart
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;vars_plugins&#34;&gt;vars_plugins&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¼€å‘è€…ä¸­å¿ƒé€‰é¡¹ï¼Œå…è®¸åº•å±‚æ‹“å±•æ¨¡å—ä»ä»»ä½•åœ°æ–¹åŠ è½½ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vars_plugins = ~/.ansible/plugins/vars_plugins/:/usr/share/ansible_plugins/vars_plugins
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;vault_password_file&#34;&gt;vault_password_file&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªç”¨æ¥è®¾ç½®å¯†ç æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®š&lt;code&gt;â€“vault-password-file&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vault_password_file = /path/to/vault_password_file
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;paramiko-specific-settings&#34;&gt;Paramiko Specific Settings&lt;/h4&gt;
&lt;p&gt;Paramikoæ˜¯å•†ä¸šç‰ˆlinux 6 çš„é»˜è®¤SSHé“¾æ¥ã€‚ä½†åœ¨å…¶ä»–å¹³å°ä¸Šä¸æ˜¯é»˜è®¤ä½¿ç”¨çš„ã€‚è¯·åœ¨&lt;code&gt;[paramiko]&lt;/code&gt;å¤´æ–‡ä»¶ä¸‹æ¿€æ´»å®ƒ&lt;/p&gt;
&lt;h5 id=&#34;record_host_keys&#34;&gt;record_host_keys&lt;/h5&gt;
&lt;p&gt;é»˜è®¤è®¾ç½®ä¼šè®°å½•å¹¶éªŒè¯é€šè¿‡åœ¨ç”¨æˆ·hostfileä¸­æ–°å‘ç°çš„çš„ä¸»æœºï¼ˆå¦‚æœhost key checking è¢«æ¿€æ´»çš„è¯ï¼‰ã€‚è¿™ä¸ªé€‰é¡¹åœ¨æœ‰å¾ˆå¤šä¸»æœºçš„æ—¶å€™å°†ä¼šæ€§èƒ½å¾ˆå·®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹,å»ºè®®ä½¿ç”¨SSHä¼ è¾“ä»£æ›¿ã€‚å½“è®¾ç½®ä¸ºFalseæ—¶, æ€§èƒ½å°†ä¼šæå‡ï¼Œåœ¨hostkey checkingè¢«ç¦ç”¨æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;record_host_keys=True
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;openssh-specific-settings&#34;&gt;OpenSSH Specific Settings&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;[ssh_connection]&lt;/code&gt;å¤´æ–‡ä»¶ä¹‹ä¸‹ï¼Œç”¨æ¥è°ƒæ•´SSHçš„é€šä¿¡è¿æ¥ã€‚OpenSSHæ˜¯Ansibleåœ¨æ“ä½œç³»ç»Ÿä¸Šé»˜è®¤çš„é€šè®¯è¿æ¥ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ssh_args&#34;&gt;ssh_args&lt;/h5&gt;
&lt;p&gt;å¦‚æœè®¾ç½®äº†çš„è¯ï¼Œè¿™ä¸ªé€‰é¡¹å°†ä¼šä¼ é€’ä¸€ç»„é€‰é¡¹ç»™Ansibleï¼Œè€Œä½¿ç”¨ä»¥å‰çš„é»˜è®¤å€¼:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ssh_args = -o ControlMaster=auto -o ControlPersist=60s
# ç”¨æˆ·å¯ä»¥æé«˜ControlPersistå€¼æ¥æé«˜æ€§èƒ½ã€‚30åˆ†é’Ÿé€šå¸¸æ¯”è¾ƒåˆé€‚.
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;control_path&#34;&gt;control_path&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯ä¿å­˜ControlPathå¥—æ¥å­—çš„ä½ç½®ã€‚é»˜è®¤å€¼æ˜¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;control_path=%(directory)s/ansible-ssh-%%h-%%p-%%r
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨æœ‰äº›ç³»ç»Ÿä¸Šé¢,ä¼šé‡åˆ°å¾ˆé•¿çš„ä¸»æœºåæˆ–è€…å¾ˆé•¿çš„è·¯å¾„åç§°ï¼ˆä¹Ÿè®¸å› ä¸ºå¾ˆé•¿çš„ç”¨æˆ·å,æˆ–è€…æ¯”è¾ƒæ·±çš„å®¶ç›®å½•ï¼‰,è¿™äº›éƒ½ä¼šè¶…å‡ºå¥—æ¥å­—æ–‡ä»¶åå­—ç¬¦ä¸Šé™ï¼ˆå¯¹äºå¤§å¤šæ•°å¹³å°ä¸Šé™ä¸º108ä¸ªå­—ç¬¦ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹,ä½ ä¹Ÿè®¸å¸Œæœ›æŒ‰ç…§ä»¥ä¸‹æ–¹å¼ç¼©çŸ­å­—ç¬¦ä¸²:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;control_path = %(directory)s/%%h-%%r
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;scp_if_ssh&#34;&gt;scp_if_ssh&lt;/h5&gt;
&lt;p&gt;ç”¨æˆ·æ“æ§ä¸€ä¸ªæ²¡æœ‰å¼€å¯SFTPåè®®çš„è¿œç¨‹ç³»ç»Ÿï¼Œå¦‚æœè¿™ä¸ªè®¾ç½®ä¸ºTrueï¼Œscpå°†ä»£æ›¿ç”¨æ¥ä¸ºè¿œç¨‹ä¸»æœºä¼ è¾“æ–‡ä»¶:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;scp_if_ssh=False
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰é‡åˆ°è¿™æ ·çš„é—®é¢˜æ²¡æœ‰å¿…è¦æ¥ä¿®æ”¹è¿™ä¸ªè®¾ç½®ã€‚å½“ç„¶ä¿®æ”¹è¿™ä¸ªè®¾ç½®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ˜æ˜¾çš„å¼Šç«¯ã€‚å¤§éƒ¨åˆ†çš„ç³»ç»Ÿç¯å¢ƒéƒ½é»˜è®¤æ”¯æŒSFTP, é€šå¸¸æƒ…å†µä¸‹ä¸éœ€è¦ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;pipelining&#34;&gt;pipelining&lt;/h5&gt;
&lt;p&gt;åœ¨ä¸é€šè¿‡å®é™…æ–‡ä»¶ä¼ è¾“çš„æƒ…å†µä¸‹æ‰§è¡Œansibleæ¨¡å—æ¥ä½¿ç”¨ç®¡é“ç‰¹æ€§ï¼Œä»è€Œå‡å°‘æ‰§è¡Œè¿œç¨‹æ¨¡å—SSHæ“ä½œæ¬¡æ•°ã€‚å¦‚æœå¼€å¯è¿™ä¸ªè®¾ç½®ï¼Œå°†æ˜¾è‘—æé«˜æ€§èƒ½.ã€‚ç„¶è€Œå½“ä½¿ç”¨&lt;code&gt;sudo&lt;/code&gt;æ“ä½œçš„æ—¶å€™,ï¼Œä½ å¿…é¡»åœ¨æ‰€æœ‰ç®¡ç†çš„ä¸»æœºçš„&lt;code&gt;/etc/sudoers&lt;/code&gt;ä¸­ç¦ç”¨&lt;code&gt;requiretty&lt;/code&gt;ã€‚é»˜è®¤è¿™ä¸ªé€‰é¡¹ä¸ºäº†ä¿è¯ä¸sudoers requirettyçš„è®¾ç½®çš„å…¼å®¹æ€§æ˜¯ç¦ç”¨çš„.ï¼Œä½†æ˜¯ä¸ºäº†æé«˜æ€§èƒ½å¼ºçƒˆå»ºè®®å¼€å¯è¿™ä¸ªè®¾ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;pipelining=False
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;accelerated-mode-settings&#34;&gt;Accelerated Mode Settings&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;[accelerate]&lt;/code&gt;é¦–éƒ¨ä¸‹, ä»¥ä¸‹è®¾ç½®å¯ä»¥è°ƒæ•´ã€‚å¦‚æœä½ ä¸èƒ½åœ¨ä½ çš„ç¯å¢ƒä¸­å¼€å¯&lt;code&gt;:ref:pipelining&lt;/code&gt; , Accelertation æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ€§èƒ½ç‰¹æ€§. ä½†æ˜¯å¦‚æœä½ å¯ä»¥å¼€å¯ç®¡é“ï¼Œè¿™ä¸ªé€‰é¡¹ä¹Ÿè®¸å¯¹ä½ æ— ç”¨ã€‚&lt;/p&gt;
&lt;h5 id=&#34;accelerate_port&#34;&gt;accelerate_port&lt;/h5&gt;
&lt;p&gt;åœ¨æ€¥é€Ÿæ¨¡å¼ä¸‹ä½¿ç”¨çš„ç«¯å£:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;accelerate_port = 5099
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;accelerate_timeout&#34;&gt;accelerate_timeout&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªè®¾ç½®æ—¶ç”¨æ¥æ§åˆ¶ä»å®¢æˆ·æœºè·å–æ•°æ®çš„è¶…æ—¶æ—¶é—´ã€‚å¦‚æœåœ¨è¿™æ®µæ—¶é—´å†…æ²¡æœ‰æ•°æ®ä¼ è¾“ï¼Œå¥—æ¥å­—è¿æ¥ä¼šè¢«å…³é—­ã€‚ä¸€ä¸ªä¿æŒè¿æ¥ï¼ˆkeepaliveï¼‰æ•°æ®åŒ…é€šå¸¸æ¯15ç§’å›å‘å›ç»™æ§åˆ¶å°ï¼Œæ‰€ä»¥è¿™ä¸ªè¶…æ—¶æ—¶é—´ä¸åº”è¯¥ä½äº15ç§’ï¼ˆé»˜è®¤å€¼ä¸º30ç§’ï¼‰:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;accelerate_timeout = 30
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;accelerate_connect_timeout&#34;&gt;accelerate_connect_timeout&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªè®¾ç½®è¿æ¥å¥—æ¥å­—è°ƒç”¨çš„è¶…æ—¶æ—¶é—´ã€‚è¿™ä¸ªåº”è¯¥è®¾ç½®ç›¸å¯¹æ¯”è¾ƒçŸ­.è¿™ä¸ªå’Œ&lt;code&gt;accelerate_port&lt;/code&gt;è¿æ¥åœ¨å›æ»šåˆ°sshæˆ–è€…paramikoï¼ˆå—é™äºä½ é»˜è®¤çš„è¿æ¥è®¾ç½®ï¼‰è¿æ¥æ–¹å¼ä¹‹å‰ä¼šå°è¯•ä¸‰æ¬¡å¼€å§‹è¿œç¨‹åŠ é€Ÿdaemonå®ˆæŠ¤è¿›ç¨‹ã€‚é»˜è®¤è®¾ç½®ä¸º1.0ç§’ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;accelerate_connect_timeout = 1.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªé€‰é¡¹å€¼å¯ä»¥è®¾ç½®ä¸ºå°äº1ç§’é’Ÿï¼Œä½†æ˜¯é™¤éä½ æ‹¥æœ‰ä¸€ä¸ªé€Ÿåº¦å¾ˆå¿«è€Œä¸”å¾ˆå¯é çš„ç½‘ç»œï¼Œå¦åˆ™ä¹Ÿè®¸è¿™æ ·å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å¦‚æœä½ ä½¿ç”¨è‹±ç‰¹ç½‘è®¿é—®ä½ çš„ç³»ç»Ÿï¼Œæœ€å¥½æé«˜è¿™ä¸ªå€¼ã€‚&lt;/p&gt;
&lt;h5 id=&#34;accelerate_daemon_timeout&#34;&gt;accelerate_daemon_timeout&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªæ§åˆ¶åŠ é€Ÿdaemonå®ˆæŠ¤è¿›ç¨‹çš„è¶…æ—¶æ—¶é—´ï¼Œç”¨åˆ†é’Ÿæ¥è¡¡é‡ã€‚é»˜è®¤ä¸º30åˆ†é’Ÿï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;accelerate_daemon_timeout = 30
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;accelerate_multi_key&#34;&gt;accelerate_multi_key&lt;/h5&gt;
&lt;p&gt;å¦‚æœè¿™ä¸ªé€‰é¡¹å¼€å¯ï¼Œè¿™ä¸ªè®¾ç½®å°†å…è®¸å¤šä¸ªç§é’¥è¢«åŠ è½½åˆ°daemonã€‚ä»»ä½•å®¢æˆ·ç«¯è¦æƒ³è¿æ¥daemonéƒ½éœ€è¦å¼€å¯è¿™ä¸ªé€‰é¡¹:&lt;br&gt;
é€šè¿‡æœ¬åœ°å¥—æ¥å­—æ–‡ä»¶è¿æ¥çš„é€šè¿‡SSHä¸Šä¼ å¯†é’¥æ–‡ä»¶åˆ°ç›®æ ‡èŠ‚ç‚¹çš„æ–°å®¢æˆ·ç«¯ï¼Œå¿…é¡»åœ¨ç™»é™†daemonæ—¶ä½¿ç”¨åŸå§‹çš„ç™»é™†å¯†é’¥ç™»é™†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;accelerate_multi_key = yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ansibleå…å¯†ç ç™»å½•ä»¥åŠæ’é”™&#34;&gt;ansible(å…å¯†ç ç™»å½•ä»¥åŠæ’é”™)&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç”Ÿæˆå¯†é’¥&lt;br&gt;
&lt;code&gt;ssh-keygen -t rsa&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ã€å¸¸ç”¨ssh-keygenå‚æ•°ã€‘&lt;br&gt;
-b bits ï¼šæŒ‡å®šå¯†é’¥é•¿åº¦ã€‚å¯¹äºRSAå¯†é’¥ï¼Œæœ€å°è¦æ±‚768ä½ï¼Œé»˜è®¤æ˜¯2048ä½ã€‚DSAå¯†é’¥å¿…é¡»æ°å¥½æ˜¯1024ä½(FIPS 186-2 æ ‡å‡†çš„è¦æ±‚)&lt;br&gt;
-t type ï¼šæŒ‡å®šè¦åˆ›å»ºçš„å¯†é’¥ç±»å‹ã€‚å¯ä»¥ä½¿ç”¨ï¼šâ€rsa1â€(SSH-1) â€œrsaâ€(SSH-2) â€œdsaâ€(SSH-2)&lt;br&gt;
-f filename ï¼šæŒ‡å®šå¯†é’¥æ–‡ä»¶å&lt;br&gt;
-C comment ï¼šæä¾›ä¸€ä¸ªæ–°æ³¨é‡Š&lt;br&gt;
-q ï¼šå®‰é™æ¨¡å¼ã€‚ç”¨äºåœ¨ /etc/rc ä¸­åˆ›å»ºæ–°å¯†é’¥çš„æ—¶å€™&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å°†å¯†é’¥æ‹·è´åˆ°é¢„ç®¡ç†çš„èŠ‚ç‚¹(root@192.168.1.203)ä¸Š&lt;br&gt;
&lt;code&gt;ssh-copy-id -i /root/.ssh/id_rsa.pub root@192.168.1.203&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æµ‹è¯•&lt;br&gt;
&lt;code&gt;ansible all -a &amp;quot;date&amp;quot;&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ansible all -a &amp;quot;ping -c 4 192.168.3.1&amp;quot; -vvv&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ansibleæ’ä»¶ansible-cmdbå®ç°cmdbåŠŸèƒ½&#34;&gt;ansibleæ’ä»¶ansible-cmdbï¼ˆå®ç°cmdbåŠŸèƒ½ï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£… ansible-cmdb æ’ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;wget https://github.com/fboender/ansible-cmdb/releases/download/1.30/ansible-cmdb-1.30.tar.gz
tar -xvf ansible-cmdb-1.30.tar.gz -C /usr/share/ansible/plugins
cd /usr/share/ansible/plugins/ansible-cmdb-1.30/ &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ·»åŠ ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/profile
source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç”Ÿæˆæ‰€æœ‰ä¸»æœºçš„factsä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m setup --tree out/
# ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ out ç›®å½•ï¼Œoutç›®å½•ä¸‹éƒ½æ˜¯ä»¥ä¸»æœºåŸŸåæˆ–ipå‘½åçš„æ–‡ä»¶ã€‚
# æ¯”å¦‚ï¼Œåœ¨/usr/local/ ä¸‹æ‰§è¡Œ ansible all -m setup --tree out/ ï¼Œåˆ™ä¼šåœ¨ /usr/local/ä¸‹ç”Ÿæˆoutç›®å½•
# æˆ–è€…ï¼Œ
# ç›´æ¥æŒ‡æ˜åœ¨å“ªç”Ÿæˆ outç›®å½•
ansible all -m setup --tree /usr/local/out
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;é€šè¿‡ç¬¬3æ­¥ç”Ÿæˆçš„factsä¿¡æ¯ç”Ÿæˆwebé¡µé¢&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd ~
ansible-cmdb /usr/local/out/ &amp;gt; overview.html
å°† ~/overview.html æ–‡ä»¶å¯¼å‡ºå¯ç”¨æµè§ˆå™¨ç›´æ¥è®¿é—®ï¼š
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleç»„ä»¶&#34;&gt;ansibleç»„ä»¶&lt;/h1&gt;
&lt;h2 id=&#34;inventoryä¸»æœºæ¸…å•é™æ€&#34;&gt;inventory(ä¸»æœºæ¸…å•é™æ€)&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰çš„æœºå™¨ä¿¡æ¯éƒ½å­˜æ”¾åˆ°ansibleçš„inventoryç»„ä»¶é‡Œé¢ï¼Œé»˜è®¤ansibleçš„inventoryæ˜¯ä¸€ä¸ªé™æ€çš„iniæ ¼å¼çš„æ–‡ä»¶/etc/ansible/hostsï¼Œå½“ç„¶è¿˜å¯ä»¥é€šè¿‡ANSIBLE_HOSTSç¯å¢ƒå˜é‡æŒ‡å®šæˆ–è€…è¿è¡Œansibleå’Œansible-playbookçš„æ—¶å€™ç”¨-iå‚æ•°ä¸´æ—¶è®¾ç½®ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593414433591.png&#34; alt=&#34;inventory&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸­æ‹¬å·ä¸­çš„åå­—ä»£è¡¨ç»„å&lt;/strong&gt;ï¼Œä½ å¯ä»¥æ ¹æ®ä½ è‡ªå·±çš„éœ€æ±‚å°†åºå¤§çš„ä¸»æœºåˆ†æˆå…·æœ‰æ ‡è¯†çš„ç»„ï¼Œå¦‚ä¸Šé¢æˆ‘åˆ†äº†ä¸¤ä¸ªç»„webserverså’Œdbserversç»„ï¼›&lt;br&gt;
&lt;strong&gt;ä¸»æœº(hosts)éƒ¨åˆ†å¯ä»¥ä½¿ç”¨åŸŸåã€ä¸»æœºåã€IPåœ°å€è¡¨ç¤º&lt;/strong&gt;ï¼›å½“ç„¶ä½¿ç”¨å‰ä¸¤è€…æ—¶ï¼Œä¹Ÿéœ€è¦ä¸»æœºèƒ½åè§£æåˆ°ç›¸åº”çš„IPåœ°å€ï¼Œä¸€èˆ¬æ­¤ç±»é…ç½®ä¸­å¤šä½¿ç”¨IPåœ°å€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å®šä¹‰ä¸»æœºå’Œä¸»æœºç»„&#34;&gt;å®šä¹‰ä¸»æœºå’Œä¸»æœºç»„&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[docker] #å®šä¹‰äº†ä¸€ç»„å«docker
172.16.1.11 #ç»„ä¸‹é¢çš„ä¸»æœº
172.11.11.11 # ansible_ssh_pass=&#39;123456&#39;

[docker:vars] #é’ˆå¯¹dockerç»„ä½¿ç”¨inventroyå†…ç½®å˜é‡å®šä¹‰äº†sshç™»é™†å¯†ç 
ansible_ssh_pass=&#39;123456&#39;
aaa=&#39;my name is aaa&#39; # ä¼ å…¥è‡ªå®šä¹‰å˜é‡

[ansible:children] #å®šä¹‰äº†ansibleç»„ä¸‹é¢åŒ…å«dockerç»„ï¼Œå³dockerç»„ä¸ºansibleçš„å­ç»„
docker
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸»æœºæ¸…å•æ–‡ä»¶åœ¨ä¿®æ”¹åä¼šç«‹å³ç”Ÿæ•ˆï¼Œä¸€èˆ¬ä½¿ç”¨&lt;code&gt;ansible-inventory --graph&lt;/code&gt;å‘½ä»¤ä»¥ç»“æ„åŒ–çš„æ–¹å¼æ˜¾ç¤ºå‡ºå—ç®¡ä¸»æœºçš„ä¿¡æ¯ã€‚å› ä¸ºæˆ‘ä»¬å¯¹å—ç®¡ä¸»æœºè¿›è¡Œäº†åˆ†ç»„ï¼Œå› æ­¤è¿™ç§æ–¹å¼éå¸¸ä¾¿äºæˆ‘ä»¬çš„é˜…è¯»ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@linuxprobe ~]# ansible-inventory --graph
@all:
  |--@balancers:
  |  |--192.168.10.24
  |--@dev:
  |  |--192.168.10.20
  |--@prod:
  |  |--192.168.10.22
  |  |--192.168.10.23
  |--@test:
  |  |--192.168.10.21
  |--@ungrouped:
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¤šä¸ªinventoryåˆ—è¡¨&#34;&gt;å¤šä¸ªinventoryåˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;é…ç½®æ”¯æŒå¤šä¸ªinventoryï¼Œé¦–å…ˆéœ€è¦ä¿®æ”¹ansible.cfgä¸­hostsçš„å®šä¹‰æ”¹æˆä¸€ä¸ªç›®å½•æ¯”å¦‚&lt;code&gt;hostfile = /data/inventory&lt;/code&gt;ï¼Œç„¶åæˆ‘ä»¬åœ¨ç›®å½•é‡Œé¢æ”¾å…¥å¤šä¸ªhostsæ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@ceshi2 data]# tree inventory
inventory
â”œâ”€â”€ docker
â””â”€â”€ hosts
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸åŒçš„æ–‡ä»¶å¯ä»¥å­˜æ”¾ä¸åŒçš„ä¸»æœºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@ceshi2 data] cat hosts
172.16.4.11 ansible_ssh_pass=&#39;123456&#39;

[root@ceshi2 data]cat docker
[docker]
172.16.1.11 #ç»„ä¸‹é¢çš„ä¸»æœº
172.11.11.11 # ansible_ssh_pass=&#39;123456&#39;

[docker:vars] #é’ˆå¯¹dockerç»„ä½¿ç”¨inventroyå†…ç½®å˜é‡å®šä¹‰äº†sshç™»é™†å¯†ç 
ansible_ssh_pass=&#39;123456&#39;

[ansible:children]#å®šä¹‰äº†ä¸€ä¸ªansibleç»„ ä¸‹é¢åŒ…å«ä¸€ä¸ªdockerç»„
docker
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;inventoryå†…ç½®å‚æ•°&#34;&gt;inventoryå†…ç½®å‚æ•°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ansible_ssh_hostï¼šè¦è¿æ¥çš„ä¸»æœºå&lt;/li&gt;
&lt;li&gt;ansible_ssh_portï¼šç«¯å£å·é»˜è®¤æ˜¯22&lt;/li&gt;
&lt;li&gt;ansible_ssh_userï¼šsshè¿æ¥æ—¶é»˜è®¤ä½¿ç”¨çš„ç”¨æˆ·å&lt;/li&gt;
&lt;li&gt;ansible_ssh_passï¼šsshè¿æ¥æ—¶çš„å¯†ç &lt;/li&gt;
&lt;li&gt;ansible_sudo_passï¼šä½¿ç”¨sudoè¿æ¥ç”¨æˆ·æ˜¯çš„å¯†ç &lt;/li&gt;
&lt;li&gt;ansible_ssh_private_key_fileï¼šç§˜é’¥æ–‡ä»¶å¦‚æœä¸æƒ³ä½¿ç”¨ssh-agentç®¡ç†æ—¶å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹&lt;/li&gt;
&lt;li&gt;ansible_shell_typeï¼šshellçš„ç±»å‹é»˜è®¤sh&lt;/li&gt;
&lt;li&gt;ansible_connectionï¼šSSH è¿æ¥çš„ç±»å‹ï¼š local , ssh , paramikoã€‚åœ¨ansible 1.2ä¹‹å‰é»˜è®¤æ˜¯paramikoï¼Œåæ¥æ™ºèƒ½é€‰æ‹©ï¼Œä¼˜å…ˆä½¿ç”¨åŸºäºControlPersistçš„ssh&lt;/li&gt;
&lt;li&gt;ansible_python _ interpreterï¼šç”¨æ¥æŒ‡å®š python è§£é‡Šå™¨çš„è·¯å¾„ï¼ŒåŒæ ·å¯ä»¥æŒ‡å®šruby ã€perl çš„è·¯å¾„&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;inventoryåŠ¨æ€è·å–ä¸»æœºæ¸…å•&#34;&gt;inventory(åŠ¨æ€è·å–ä¸»æœºæ¸…å•)&lt;/h2&gt;
&lt;p&gt;åŠ¨æ€inventoryçš„æ„æ€æ˜¯æ‰€æœ‰çš„å˜é‡å¯ä»¥ä»å¤–éƒ¨è·å–ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä»CMDBä»¥åŠzabbixç³»ç»Ÿæ‹‰å–æ‰€æœ‰çš„ä¸»æœºä¿¡æ¯ç„¶åä½¿ç”¨ansibleè¿›è¡Œç®¡ç†ã€‚å¼•ç”¨inventoryåªéœ€è¦æŠŠansible.cfgæ–‡ä»¶ä¸­çš„inventoryå®šä¹‰å€¼æ”¹æˆä¸€ä¸ªæ‰§è¡Œè„šæœ¬å³å¯ã€‚&lt;br&gt;
è„šæœ¬ä¸¾ä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/env python
# coding=utf-8
# inverti.py
import json
host1ip = [&#39;192.168.1.15&#39;]
host2ip = [&#39;192.168.1.110&#39;]
group = &#39;test11&#39;
group2 = &#39;test22&#39;
hostdata = {group:{&amp;quot;hosts&amp;quot;:host1ip},group2:{&amp;quot;hosts&amp;quot;:host2ip}} # ansibleè¯†åˆ«çš„æ˜¯jsonæ ¼å¼ï¼Œä¸”æ ¼å¼å›ºå®šä¸º{&amp;quot;ç»„å&amp;quot;:{&amp;quot;hosts&amp;quot;:ip1}}
print json.dumps(hostdata,indent=4)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[root@vagrant-centos65 opt]# ansible -i inverti.py all  -a &#39;uptime&#39; -k
SSH password: 
192.168.1.15 | SUCCESS | rc=0 &amp;gt;&amp;gt;
 07:25:27 up  3:56,  3 users,  load average: 0.00, 0.00, 0.00
192.168.1.110 | SUCCESS | rc=0 &amp;gt;&amp;gt;
 07:25:27 up 7 min,  3 users,  load average: 0.00, 0.02, 0.00
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleå•å‘½ä»¤æ¨¡å¼&#34;&gt;ansible(å•å‘½ä»¤æ¨¡å¼)&lt;/h1&gt;
&lt;p&gt;ad-hocæ˜¯&lt;strong&gt;ç‚¹å¯¹ç‚¹çš„æ‰§è¡Œansibleå‘½ä»¤&lt;/strong&gt;ï¼Œä»‹ç»ä¸€ä¸‹æ—¥å¸¸çš„Ad-Hocå‘½ä»¤&lt;br&gt;
ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åå°æ‰§è¡Œ(è¿”å›ansible_job_id(å³jid)ç­‰ä¿¡æ¯)
# -Bçš„æ„æ€æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œ-oçš„æ„æ€æ˜¯å‹ç¼©è¾“å‡ºï¼Œ-Pè®¾ç½®è½®è¯¢é—´éš”
ansible docker -B 120 -P 0 -m shell -a &#39;sleep 10;hostname&#39; -o #åŠ äº†-P 0 ä¹‹åä¼šè¿”å›ä¸€ä¸ªjob_id å¯ä»¥é€šè¿‡jobIDå»æŸ¥çœ‹æ‰§è¡Œçš„ç»“æœã€‚å½“-P å¤§äº0çš„æ—¶å€™ä¼šè½®è¯¢å»æŸ¥è¯¢æ‰§è¡Œç»“æœ
# æ ¹æ®jidæŸ¥è¯¢åå°ä»»åŠ¡çŠ¶æ€
# -mè¦æ‰§è¡Œçš„æ¨¡å—ï¼Œ-aæ¨¡å—å‚æ•°
ansible all -m async_status -a &#39;jid=&#39;5265654654&#39;&#39; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å…¶ä»–çš„å‘½ä»¤&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;å¯é€‰å‚æ•°ï¼š
  --ask-vault-pass      
	è¦æ±‚æä¾›ä¿ç®¡åº“å¯†ç 
  --list-hosts          
	è¾“å‡ºåŒ¹é…ä¸»æœºåˆ—è¡¨ï¼›ä¸æ‰§è¡Œå…¶ä»–ä»»ä½•æ“ä½œ
  --playbook-dir BASEDIR
	ç”±äºæ­¤å·¥å…·ä¸ä½¿ç”¨å‰§æœ¬ï¼Œå› æ­¤å¯ä»¥å°†å…¶ç”¨ä½œæ›¿ä»£å‰§æœ¬ç›®å½•ï¼Œä»è€Œä¸ºè®¸å¤šåŠŸèƒ½ï¼ˆåŒ…æ‹¬role / group_vars /ç­‰ï¼‰è®¾ç½®ç›¸å¯¹è·¯å¾„ã€‚
  --syntax-check
	åœ¨å‰§æœ¬ä¸Šæ‰§è¡Œè¯­æ³•æ£€æŸ¥ï¼Œä½†ä¸æ‰§è¡Œ
  --vault-id VAULT_IDS
	è¦ä½¿ç”¨çš„åº“èº«ä»½
  --vault-password-file VAULT_PASSWORD_FILES
	ä¿é™©åº“å¯†ç æ–‡ä»¶
  --version             
	æ˜¾ç¤ºç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œé…ç½®æ–‡ä»¶ä½ç½®ï¼Œé…ç½®çš„æ¨¡å—æœç´¢è·¯å¾„ï¼Œæ¨¡å—ä½ç½®ï¼Œå¯æ‰§è¡Œä½ç½®å’Œé€€å‡º
  -B SECONDS, --background SECONDS
	å¼‚æ­¥è¿è¡Œï¼Œåœ¨Xç§’åå¤±è´¥ã€‚ï¼ˆé»˜è®¤å€¼= N / Aï¼‰
  -C, --check           
	ä¸è¦åšä»»ä½•æ”¹å˜ï¼›ç›¸åï¼Œå°è¯•é¢„æµ‹å¯èƒ½å‘ç”Ÿçš„æŸäº›å˜åŒ–
  -D, --diff            
	æ›´æ”¹ï¼ˆå°çš„ï¼‰æ–‡ä»¶å’Œæ¨¡æ¿æ—¶ï¼Œè¯·æ˜¾ç¤ºè¿™äº›æ–‡ä»¶ä¸­çš„å·®å¼‚ï¼›ä¸--checkä¸€èµ·ä½¿ç”¨æ•ˆæœå¾ˆå¥½
  -M MODULE_PATH, --module-path MODULE_PATH
	åœ¨æ¨¡å—åº“å‰æ·»åŠ ç”¨å†’å·åˆ†éš”çš„è·¯å¾„ã€‚ï¼ˆé»˜è®¤å€¼=ã€œ/ .ansible / plugins / modulesï¼š/ usr / share / ansible / plugins / modulesï¼‰
  -P POLL_INTERVAL, --poll POLL_INTERVAL
	å¦‚æœä½¿ç”¨-Bï¼Œåˆ™è®¾ç½®è½®è¯¢é—´éš”ï¼ˆé»˜è®¤å€¼= 15ï¼‰
  -a MODULE_ARGS, --args MODULE_ARGS
	æ¨¡å—å‚æ•°
  -e EXTRA_VARS, --extra-vars EXTRA_VARS
	å¦‚æœæ–‡ä»¶åä»¥@å¼€å¤´ï¼Œåˆ™å°†å…¶ä»–å˜é‡è®¾ç½®ä¸ºkey = valueæˆ–YAML / JSON
  -f FORKS, --forks FORKS
	æŒ‡å®šè¦ä½¿ç”¨çš„å¹¶è¡Œè¿›ç¨‹æ•°ã€‚ï¼ˆé»˜è®¤å€¼= 5ï¼‰
  -h, --help            
	æ˜¾ç¤ºæ­¤å¸®åŠ©æ¶ˆæ¯å¹¶é€€å‡º
  -i INVENTORY, --inventory INVENTORY, --inventory-file INVENTORY
	æŒ‡å®šæ¸…å•ä¸»æœºè·¯å¾„æˆ–é€—å·åˆ†éš”çš„ä¸»æœºåˆ—è¡¨ã€‚ --inventory-fileå·²å¼ƒç”¨ã€‚
  -l SUBSET, --limit SUBSET
	å°†æ‰€é€‰ä¸»æœºè¿›ä¸€æ­¥é™åˆ¶ä¸ºå…¶ä»–æ¨¡å¼
  -m MODULE_NAME, --module-name MODULE_NAME
	è¦æ‰§è¡Œçš„æ¨¡å—åç§°ã€‚ï¼ˆé»˜è®¤=commondï¼‰
  -o, --one-line        
	å‹ç¼©è¾“å‡º
  -t TREE, --tree TREE  
	æ—¥å¿—è¾“å‡ºåˆ°è¯¥ç›®å½•
  -v, --verbose         
	è¯¦ç»†æ¨¡å¼ï¼ˆ-vvvç”¨äºæ›´å¤šï¼Œ-vvvvç”¨äºå¯ç”¨è¿æ¥è°ƒè¯•ï¼‰
--------------------------------------------------------------
--------------------------------------------------------------
ç‰¹æƒå‡çº§é€‰é¡¹ï¼šæ§åˆ¶æ‚¨å¦‚ä½•ä»¥åŠåœ¨ç›®æ ‡ä¸»æœºä¸Šæˆä¸ºå“ªä¸ªç”¨æˆ·
  --become-method BECOME_METHOD
    è¦ä½¿ç”¨çš„ç‰¹æƒå‡çº§æ–¹æ³•ï¼ˆé»˜è®¤= sudoï¼‰ï¼Œè¯·ä½¿ç”¨â€œ ansible-doc -t become -lâ€åˆ—å‡ºæœ‰æ•ˆçš„é€‰æ‹©ã€‚
  --become-user BECOME_USER
	ä»¥è¯¥ç”¨æˆ·èº«ä»½è¿è¡Œæ“ä½œï¼ˆé»˜è®¤= rootï¼‰
  -K, --ask-become-pass
	è¦æ±‚ç‰¹æƒå‡çº§å¯†ç 
  -b, --become          
	ä½¿ç”¨å˜ä¸ºè¿è¡Œæ“ä½œï¼ˆä¸è¡¨ç¤ºæç¤ºè¾“å…¥å¯†ç ï¼‰
--------------------------------------------------------------
--------------------------------------------------------------
è¿æ¥é€‰é¡¹ï¼šæ§åˆ¶è°ä»¥åŠå¦‚ä½•è¿æ¥åˆ°ä¸»æœº
  --private-key PRIVATE_KEY_FILE, --key-file PRIVATE_KEY_FILE
	ä½¿ç”¨æ­¤æ–‡ä»¶æ¥éªŒè¯è¿æ¥
  --scp-extra-args SCP_EXTRA_ARGS
	æŒ‡å®šé¢å¤–çš„å‚æ•°ä»¥ä»…ä¼ é€’ç»™scpï¼ˆä¾‹å¦‚-lï¼‰
  --sftp-extra-args SFTP_EXTRA_ARGS
	æŒ‡å®šé¢å¤–çš„å‚æ•°ä»¥ä»…ä¼ é€’ç»™sftpï¼ˆä¾‹å¦‚-fï¼Œ-lï¼‰
  --ssh-common-args SSH_COMMON_ARGS
	æŒ‡å®šè¦ä¼ é€’ç»™sftp / scp / sshçš„é€šç”¨å‚æ•°ï¼ˆä¾‹å¦‚ProxyCommandï¼‰
  --ssh-extra-args SSH_EXTRA_ARGS
	æŒ‡å®šé¢å¤–çš„å‚æ•°ä»¥ä»…ä¼ é€’ç»™sshï¼ˆä¾‹å¦‚-Rï¼‰
  -T TIMEOUT, --timeout TIMEOUT
	è¦†ç›–è¿æ¥è¶…æ—¶ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ï¼ˆé»˜è®¤å€¼ä¸º10ï¼‰
  -c CONNECTION, --connection CONNECTION
	è¦ä½¿ç”¨çš„è¿æ¥ç±»å‹ã€‚ï¼ˆé»˜è®¤=æ™ºèƒ½ï¼‰
  -k, --ask-pass        
	è¯¢é—®è¿æ¥å¯†ç 
  -u REMOTE_USER, --user REMOTE_USER
	ä»¥è¯¥ç”¨æˆ·èº«ä»½è¿æ¥ã€‚ï¼ˆé»˜è®¤=æ— ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleå¸¸ç”¨æ¨¡å—&#34;&gt;ansibleå¸¸ç”¨æ¨¡å—&lt;/h1&gt;
&lt;p&gt;æ ¹æ®å®˜æ–¹çš„åˆ†ç±»ï¼Œå°†æ¨¡å—æŒ‰åŠŸèƒ½åˆ†ç±»ä¸ºï¼šäº‘æ¨¡å—ã€å‘½ä»¤æ¨¡å—ã€æ•°æ®åº“æ¨¡å—ã€æ–‡ä»¶æ¨¡å—ã€èµ„äº§æ¨¡å—ã€æ¶ˆæ¯æ¨¡å—ã€ç›‘æ§æ¨¡å—ã€ç½‘ç»œæ¨¡å—ã€é€šçŸ¥æ¨¡å—ã€åŒ…ç®¡ç†æ¨¡å—ã€æºç æ§åˆ¶æ¨¡å—ã€ç³»ç»Ÿæ¨¡å—ã€å•å…ƒæ¨¡å—ã€webè®¾æ–½æ¨¡å—ã€windowæ¨¡å—ç­‰&lt;/p&gt;
&lt;h2 id=&#34;command&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/command_module.html&#34;&gt;command&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å‘½ä»¤æ¨¡å—ï¼Œé€‚åˆä½¿ç”¨ç®€å•çš„å‘½ä»¤ æ— æ³•æ”¯æŒ&amp;quot;&amp;lt;&amp;quot;ï¼Œ&amp;quot;&amp;gt;&amp;quot;ï¼Œ&amp;quot;|&amp;quot;ï¼Œ&amp;quot;;&amp;quot;ï¼Œ&amp;quot;&amp;amp;&amp;quot;ç­‰ç¬¦å·&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;chdirï¼šåœ¨æ‰§è¡Œå‘½ä»¤å‰ï¼Œè¿›å…¥åˆ°æŒ‡å®šç›®å½•ä¸­&lt;/li&gt;
&lt;li&gt;createsï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œ&lt;strong&gt;ä¸æ‰§è¡Œåé¢çš„æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;removesï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œ&lt;strong&gt;æ‰§è¡Œåé¢çš„æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;free_formï¼šå¿…é¡»è¦è¾“å…¥ä¸€ä¸ªåˆç†çš„å‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible webservers -m command -a &amp;quot;hostname&amp;quot;
ansible webservers -m command -a &amp;quot;chdir=/data ls -l&amp;quot;
ansible webservers -m command -a &amp;quot;touch /data/lol.txt creates=/data/lol.txt&amp;quot;
ansible webservers -m command -a &amp;quot;rm -f /data/hosts removes=/data/hosts&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;shell&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/shell_module.html&#34;&gt;shell&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç±»ä¼¼commandæ¨¡å—å‡çº§ç‰ˆâ€”ä¸‡èƒ½æ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨&amp;quot;&amp;lt;&amp;quot;ï¼Œ&amp;quot;&amp;gt;&amp;quot;ï¼Œ&amp;quot;|&amp;quot;ï¼Œ&amp;quot;;&amp;quot;ï¼Œ&amp;quot;&amp;amp;&amp;quot;ç­‰ç¬¦å·ç‰¹æ®Šç¬¦å·ï¼Œå…¶å®ƒå‚æ•°å‚è€ƒcommandæ¨¡å—ï¼Œä½¿ç”¨æ–¹æ³•ä¸€è‡´&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;chdirï¼šåœ¨æ‰§è¡Œå‘½ä»¤å‰ï¼Œè¿›å…¥åˆ°æŒ‡å®šç›®å½•ä¸­&lt;/li&gt;
&lt;li&gt;createsï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œ&lt;strong&gt;ä¸æ‰§è¡Œåé¢çš„æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;removesï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œ&lt;strong&gt;æ‰§è¡Œåé¢çš„æ“ä½œ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;free_formï¼šå¿…é¡»è¦è¾“å…¥ä¸€ä¸ªåˆç†çš„å‘½ä»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible dkaiyun -m shell -a &amp;quot;ps -ef |grep /[s]sh&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ping&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/ping_module.html&#34;&gt;ping&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸»è¦ç”¨äºåˆ¤æ–­è¿œç¨‹å®¢æˆ·ç«¯æ˜¯å¦åœ¨çº¿ï¼Œç”¨äºpingæœ¬èº«æœåŠ¡å™¨ï¼Œç”¨æ³•å¾ˆç®€å•ï¼Œä¸æ¶‰åŠå‚æ•°ï¼Œè¿”å›å€¼æ˜¯changedã€ping&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m ping
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593440346134.png&#34; alt=&#34;ping&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;setup&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/setup_module.html&#34;&gt;setup&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä¸»è¦ç”¨äºè·å–ä¸»æœºä¿¡æ¯ï¼Œä¸ç”¨optionçš„æƒ…å†µä¼šè¾“å‡ºæ‰€æœ‰ç›¸å…³çš„å¯¹è±¡æœºå™¨çš„factsï¼Œåœ¨playbooksé‡Œç»å¸¸ä¼šç”¨åˆ°çš„ä¸€ä¸ªå‚æ•°&lt;code&gt;gather_facts&lt;/code&gt;å°±ä¸è¯¥æ¨¡å—æœ‰å…³ã€‚è¿˜æœ‰ä¸€ä¸ªç»å¸¸ä½¿ç”¨çš„å‚æ•°æ˜¯&lt;code&gt;filter&lt;/code&gt;ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; # æŸ¥çœ‹æ‰€æœ‰çš„ä¿¡æ¯ï¼šCPUã€å†…å­˜ã€IPç­‰ï¼Œæ‰€æœ‰çš„ä¸»æœºä¿¡æ¯éƒ½ä¼šè¢«æ”¶é›†
ansible all -m setup

# filter ï¼šè¿‡æ»¤å…³é”®å­—
# æŸ¥çœ‹ä¸»æœºçš„å†…å­˜ä¿¡æ¯
ansible all -m setup -a &#39;filter=&amp;quot;ansible_*_mb&amp;quot;&#39; 
# æŸ¥çœ‹ä¸»æœºeth0-eth2çš„ç½‘å¡ä¿¡æ¯
ansible all -m setup -a &#39;filter=ansible_eth[0-2]&#39;
# æ”¶é›†å¯¹è±¡æœºå™¨çš„ç¯å¢ƒå˜é‡ä¿¡æ¯
ansible all -m setup -a &amp;quot;filter=ansible_env&amp;quot;

# --tree :å°†æ‰€æœ‰ä¸»æœºçš„è¾“å‡ºä¿¡æ¯ä¿å­˜åˆ°/tmp/ç›®å½•ä¸‹ï¼Œä»¥/etc/ansible/hostsé‡Œçš„ä¸»æœºåä¸ºæ–‡ä»¶å
ansible all -m setup -a &#39;filter=ansible_distribution_version&#39; --tree /tmp/
# æŠŠæ‰€æœ‰çš„ä¸»æœºä¿¡æ¯è¾“å…¥åˆ°/tmp/inodeç›®å½•ä¸‹ï¼Œæ¯å°ä¸»æœºçš„ä¿¡æ¯è¾“å…¥åˆ°ä¸»æœºæ–‡ä»¶åçš„æ–‡ä»¶ä¸­
ansible all -m setup --tree /tmp/inode

# gather_subsetï¼šæŒ‰å­é›†æ”¶é›†ä¿¡æ¯ï¼Œå€¼æœ‰all, min, hardware, network, virtual, ohai, facterã€‚ä¸åŒ…å«è¯·ä½¿ç”¨!å·ï¼Œå¦‚ï¼Œ!network

# å…¶ä»–å¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š
# ansible_all_ipv4_addressesï¼šä»…æ˜¾ç¤ºipv4çš„ä¿¡æ¯
# ansible_devicesï¼šä»…æ˜¾ç¤ºç£ç›˜è®¾å¤‡ä¿¡æ¯
# ansible_distributionï¼šæ˜¾ç¤ºæ˜¯ä»€ä¹ˆç³»ç»Ÿï¼Œä¾‹ï¼šcentos,suseç­‰
# ansible_distribution_major_versionï¼šæ˜¾ç¤ºæ˜¯ç³»ç»Ÿä¸»ç‰ˆæœ¬
# ansible_distribution_versionï¼šä»…æ˜¾ç¤ºç³»ç»Ÿç‰ˆæœ¬
# ansible_machineï¼šæ˜¾ç¤ºç³»ç»Ÿç±»å‹ï¼Œä¾‹ï¼š32ä½ï¼Œè¿˜æ˜¯64ä½
# ansible_eth0ï¼šä»…æ˜¾ç¤ºeth0çš„ä¿¡æ¯
# ansible_hostnameï¼šä»…æ˜¾ç¤ºä¸»æœºå
# ansible_kernelï¼šä»…æ˜¾ç¤ºå†…æ ¸ç‰ˆæœ¬
# ansible_lvmï¼šæ˜¾ç¤ºlvmç›¸å…³ä¿¡æ¯
# ansible_memtotal_mbï¼šæ˜¾ç¤ºç³»ç»Ÿæ€»å†…å­˜
# ansible_memfree_mbï¼šæ˜¾ç¤ºå¯ç”¨ç³»ç»Ÿå†…å­˜
# ansible_memory_mbï¼šè¯¦ç»†æ˜¾ç¤ºå†…å­˜æƒ…å†µ
# ansible_swaptotal_mbï¼šæ˜¾ç¤ºæ€»çš„swapå†…å­˜
# ansible_swapfree_mbï¼šæ˜¾ç¤ºswapå†…å­˜çš„å¯ç”¨å†…å­˜
# ansible_mountsï¼šæ˜¾ç¤ºç³»ç»Ÿç£ç›˜æŒ‚è½½æƒ…å†µ
# ansible_processorï¼šæ˜¾ç¤ºcpuä¸ªæ•°(å…·ä½“æ˜¾ç¤ºæ¯ä¸ªcpuçš„å‹å·)
# ansible_processor_vcpusï¼šæ˜¾ç¤ºcpuä¸ªæ•°(åªæ˜¾ç¤ºæ€»çš„ä¸ªæ•°)
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593480124097.png&#34; alt=&#34;setup&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;file&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/file_module.html&#34;&gt;file&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;fileæ¨¡å—ä¸»è¦ç”¨äºè¿œç¨‹ä¸»æœºä¸Šçš„æ–‡ä»¶æ“ä½œï¼Œfileæ¨¡å—åŒ…å«å¦‚ä¸‹é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;forceï¼šéœ€è¦åœ¨ä¸¤ç§æƒ…å†µä¸‹å¼ºåˆ¶åˆ›å»ºè½¯è¿æ¥ï¼Œä¸€æ˜¯æºæ–‡ä»¶ä¸å­˜åœ¨ä½†ä¹‹åä¼šå»ºç«‹çš„æƒ…å†µä¸‹ï¼ŒäºŒæ˜¯ç›®æ ‡è½¯è¿æ¥å·²å­˜åœ¨ï¼Œéœ€è¦å…ˆå–æ¶ˆä¹‹å‰çš„è½¯è¿æ¥ï¼Œç„¶åå†åˆ›å»ºè½¯è¿æ¥ï¼Œä¸¤ä¸ªé€‰é¡¹ï¼šyes|no&lt;/li&gt;
&lt;li&gt;group/mode/ownerï¼šå®šä¹‰æ–‡ä»¶æˆ–ç›®å½•çš„å±ç»„/æƒé™/å±ä¸»&lt;/li&gt;
&lt;li&gt;pathï¼šå¿…é€‰é¡¹ï¼Œå®šä¹‰æ–‡ä»¶/ç›®å½•çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;recurseï¼šé€’å½’çš„è®¾ç½®æ–‡ä»¶çš„å±æ€§ï¼Œåªå¯¹ç›®å½•æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;scrï¼šè¦è¢«é“¾æ¥çš„æºæ–‡ä»¶çš„è·¯å¾„ï¼Œåªåº”ç”¨äºstate=linkçš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;destï¼šè¢«é“¾æ¥åˆ°çš„è·¯å¾„ï¼Œåªåº”ç”¨äºstate=linkçš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;state=
&lt;ul&gt;
&lt;li&gt;directoryï¼šå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œåˆ›å»ºç›®å½•&lt;/li&gt;
&lt;li&gt;linkï¼šåˆ›å»ºè½¯è¿æ¥&lt;/li&gt;
&lt;li&gt;hardï¼šåˆ›å»ºç¡¬é“¾æ¥&lt;/li&gt;
&lt;li&gt;touchï¼šå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–‡ä»¶ï¼›å¦‚æœæ–‡ä»¶æˆ–ç›®å½•å·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶æœ€åä¿®æ”¹æ—¶é—´&lt;/li&gt;
&lt;li&gt;absentï¼šåˆ é™¤ç›®å½•ã€æ–‡ä»¶ã€é“¾æ¥æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;fileï¼šæŸ¥çœ‹æŒ‡å®šç›®å½•ä¿¡æ¯æ˜¯å¦å­˜åœ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m file -a &amp;quot;src=/etc/fstab dest=/tmp/fstab state=link&amp;quot;
ansible all -m file -a &amp;quot;path=/tmp/fstab state=absent&amp;quot;
ansible all -m file -a &amp;quot;path=/tmp/fstab state=touch&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593480249631.png&#34; alt=&#34;file&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;copy&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/copy_module.html&#34;&gt;copy&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¤åˆ¶æ–‡ä»¶åˆ°è¿œç¨‹ä¸»æœºï¼Œcopyæ¨¡å—åŒ…å«å¦‚ä¸‹é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;backupï¼šåœ¨è¦†ç›–ä¹‹å‰å°†åŸæ–‡ä»¶å¤‡ä»½ï¼Œå¤‡ä»½æ–‡ä»¶åŒ…å«æ—¶é—´ä¿¡æ¯ã€‚æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼šyes|noã€‚&lt;strong&gt;åªæœ‰å½“ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹ä¸åŒæ—¶æ‰ç”Ÿæ•ˆ&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;contentï¼šç”¨äºæ›¿ä»£srcï¼Œå¯ä»¥ç›´æ¥è®¾å®šæŒ‡å®šæ–‡ä»¶çš„å€¼&lt;/li&gt;
&lt;li&gt;destï¼šå¿…é€‰é¡¹ã€‚è¦å°†æºæ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„ç»å¯¹è·¯å¾„ï¼Œå¦‚æœæºæ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•ï¼Œé‚£ä¹ˆè¯¥è·¯å¾„å¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•&lt;/li&gt;
&lt;li&gt;directory_modeï¼šé€’å½’çš„è®¾å®šç›®å½•çš„æƒé™ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿé»˜è®¤æƒé™&lt;/li&gt;
&lt;li&gt;forceï¼šå¦‚æœç›®æ ‡ä¸»æœºåŒ…å«è¯¥æ–‡ä»¶ï¼Œä½†å†…å®¹ä¸åŒï¼Œå¦‚æœè®¾ç½®ä¸ºyesï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™å¼ºåˆ¶è¦†ç›–ï¼›å¦‚æœä¸ºnoï¼Œåˆ™åªæœ‰å½“ç›®æ ‡ä¸»æœºçš„ç›®æ ‡ä½ç½®ä¸å­˜åœ¨è¯¥æ–‡ä»¶æ—¶æ‰å¤åˆ¶&lt;/li&gt;
&lt;li&gt;othersï¼šæ‰€æœ‰çš„fileæ¨¡å—é‡Œçš„é€‰é¡¹éƒ½å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨&lt;/li&gt;
&lt;li&gt;srcï¼šè¦å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„æ–‡ä»¶åœ¨æœ¬åœ°çš„åœ°å€ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœè·¯å¾„æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå®ƒå°†é€’å½’å¤åˆ¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè·¯å¾„ä½¿ç”¨&amp;quot;/&amp;quot;ç»“å°¾ï¼Œåˆ™åªå¤åˆ¶ç›®å½•ä¸­çš„å†…å®¹ï¼Œå¦åˆ™ï¼ŒåŒ…å«æ•´ä¸ªç›®å½•åœ¨å†…çš„å…¨éƒ¨å†…å®¹å‡è¢«å¤åˆ¶ï¼Œç±»ä¼¼rsync&lt;/li&gt;
&lt;li&gt;validateï¼šéªŒè¯å‘½ä»¤åœ¨å¤åˆ¶åˆ°ä½ä¹‹å‰è¿è¡Œã€‚ è¦éªŒè¯çš„æ–‡ä»¶çš„è·¯å¾„é€šè¿‡â€œï¼…sâ€ä¼ é€’ï¼Œè¯¥è·¯å¾„å¿…é¡»å¦‚ä¸‹é¢çš„visudoç¤ºä¾‹ä¸­æ‰€ç¤ºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m copy -a &amp;quot;src=/etc/fstab dest=/data owner=foo group=foo mode=0644&amp;quot; # modeæƒé™ä¹‹å‰éœ€è¦æ·»åŠ ä¸€ä½0ã€‚å¦‚æœæƒ³è¦åœ¨userå¯¹åº”çš„æƒé™ä½ä¸Šæ·»åŠ æ‰§è¡Œæƒé™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨mode=u+xè¡¨ç¤º
ansible all -m copy -a &amp;quot;src=/root/anaconda-ks.cfg  dest=/data&amp;quot;
echo ansible &amp;gt;&amp;gt;/root/anaconda-ks.cfg
ansible all -m copy -a &amp;quot;src=/root/anaconda-ks.cfg  dest=/data backup=yes&amp;quot;
ansible all -m copy -a &amp;quot;src=/etc/sudoers dest=/data validate=&#39;visudo -cf %s&#39;&amp;quot; # -cfçš„æ„æ€æ˜¯æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦æ­£å¸¸
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593482702444.png&#34; alt=&#34;copy&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593482706146.png&#34; alt=&#34;backup&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593482711694.png&#34; alt=&#34;backup2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;fetch&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/fetch_module.html&#34;&gt;fetch&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;æŠ“å–æ–‡ä»¶åˆ°ç®¡ç†æœºä¸Š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;srcï¼šè¦è·å–çš„è¿œç¨‹ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ï¼Œå¿…é¡»æ˜¯æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç›®å½•&lt;/li&gt;
&lt;li&gt;destï¼šç”¨äºä¿å­˜æ–‡ä»¶çš„ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m fetch -a &amp;quot;src=/root/lol.txt dest=/root&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;service&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/service_module.html&#34;&gt;service&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç”¨äºç®¡ç†æœåŠ¡ï¼Œè¯¥æ¨¡å—åŒ…å«å¦‚ä¸‹é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;argumentsï¼šç»™å‘½ä»¤è¡Œæä¾›ä¸€äº›é€‰é¡¹&lt;/li&gt;
&lt;li&gt;enabledï¼šæ˜¯å¦å¼€æœºå¯åŠ¨yes|no&lt;/li&gt;
&lt;li&gt;nameï¼šå¿…é€‰é¡¹ï¼ŒæœåŠ¡åç§°&lt;/li&gt;
&lt;li&gt;patternï¼šå®šä¹‰ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœé€šè¿‡statusæŒ‡ä»¤æ¥æŸ¥çœ‹æœåŠ¡çš„çŠ¶æ€æ—¶ï¼Œæ²¡æœ‰å“åº”ï¼Œå°±ä¼šé€šè¿‡psæŒ‡ä»¤åœ¨è¿›ç¨‹ä¸­æ ¹æ®è¯¥æ¨¡å¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœåŒ¹é…åˆ°ï¼Œåˆ™è®¤ä¸ºè¯¥æœåŠ¡ä¾ç„¶åœ¨è¿è¡Œ&lt;/li&gt;
&lt;li&gt;runlevelï¼šè¿è¡Œçº§åˆ«&lt;/li&gt;
&lt;li&gt;sleepï¼šå¦‚æœæ‰§è¡Œäº†restartedï¼Œåˆ™åœ¨stopå’Œstartä¹‹é—´æ²‰ç¡å‡ ç§’é’Ÿ&lt;/li&gt;
&lt;li&gt;status=ï¼šå¯¹å½“å‰æœåŠ¡æ‰§è¡Œ
&lt;ul&gt;
&lt;li&gt;startedï¼šå¯åŠ¨&lt;/li&gt;
&lt;li&gt;stoppedï¼šåœæ­¢&lt;/li&gt;
&lt;li&gt;restartedï¼šé‡å¯&lt;/li&gt;
&lt;li&gt;reloadedï¼šé‡æ–°åŠ è½½&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m service -a &amp;quot;name=crond state=started enabled=yes&amp;quot;
ansible all -m service -a &amp;quot;name=nginx state=restarted sleep=10&amp;quot;
ansible all -m service -a &amp;quot;name=foo pattern=/usr/bin/foo state=started&amp;quot;
ansible all -m service -a &amp;quot;name=network state=restarted args=ens32&amp;quot; # centos6
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;cron&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/cron_module.html&#34;&gt;cron&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç”¨äºç®¡ç†è®¡åˆ’ä»»åŠ¡ï¼ŒåŒ…å«å¦‚ä¸‹é€‰é¡¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;backupï¼šå¯¹è¿œç¨‹ä¸»æœºä¸Šçš„åŸä»»åŠ¡è®¡åˆ’å†…å®¹ä¿®æ”¹ä¹‹å‰åšå¤‡ä»½&lt;/li&gt;
&lt;li&gt;cron_fileï¼šå¦‚æœæŒ‡å®šè¯¥é€‰é¡¹ï¼Œåˆ™ç”¨è¯¥æ–‡ä»¶æ›¿æ¢è¿œç¨‹ä¸»æœºä¸Šçš„cron.dç›®å½•ä¸‹çš„ç”¨æˆ·çš„ä»»åŠ¡è®¡åˆ’&lt;/li&gt;
&lt;li&gt;day/hour/minute/month/weekdayï¼šæ—¥/å°æ—¶/åˆ†é’Ÿ/æœˆ/å‘¨&lt;/li&gt;
&lt;li&gt;jobï¼šè¦è¿™è¡Œçš„ä»»åŠ¡ï¼Œä¾èµ–äºstate=present&lt;/li&gt;
&lt;li&gt;nameï¼šè¯¥ä»»åŠ¡çš„æè¿°&lt;/li&gt;
&lt;li&gt;special_timeï¼šæŒ‡å®šä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œå‚æ•°reboot/yearly/annually/monthly/weekly/daily/hourly&lt;/li&gt;
&lt;li&gt;stateï¼šç¡®è®¤è¯¥ä»»åŠ¡è®¡åˆ’æ˜¯åˆ›å»ºè¿˜æ˜¯åˆ é™¤&lt;/li&gt;
&lt;li&gt;userï¼šä»¥å“ªä¸ªç”¨æˆ·çš„èº«ä»½æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;diasbled=yesï¼šå°†æŒ‡å®šçš„ä»»åŠ¡æ³¨é‡Šæ‰ï¼Œå–æ¶ˆæ³¨é‡Šä½¿ç”¨noã€‚&lt;strong&gt;æ³¨é‡Šå’Œå–æ¶ˆæ³¨é‡Šæ—¶å¿…é¡»å¡«å†™ jobå’Œæ—¶é—´å‚æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ·»åŠ ä»»åŠ¡è®¡åˆ’
ansible all -m cron -a &#39;name=&amp;quot;a job for reboot&amp;quot; special_time=reboot job=&amp;quot;/some/job.sh&amp;quot;&#39;
ansible all -m cron -a &amp;quot;name=&#39;testx&#39; weekday=&#39;2&#39; minute=&#39;0&#39; hour=12 user=&#39;root&#39; job=&#39;cat /etc/passwd &amp;gt;/root/111&#39; cron_file=&#39;test ansible&#39;&amp;quot;
ansible all -m cron -a &#39;backup=&amp;quot;True&amp;quot; name=&amp;quot;test&amp;quot; minute=0 hour=2 job=&amp;quot;ls -alh &amp;gt;/dev/null&amp;quot;&#39;
ansible all -m cron -a &amp;quot;name=&#39;ntpdate time&#39; minute=*/5 job=&#39;/usr/sbin/ntpdate ntp1.aliyun.com &amp;amp;&amp;gt;/dev/null&#39; &amp;quot;
# åˆ é™¤ä»»åŠ¡è®¡åˆ’
ansible all -m cron -a &amp;quot;name=&#39;a job for reboot&#39; state=absent&amp;quot; 
ansible all -m cron -a &amp;quot;name=&#39;test&#39; state=absent&amp;quot; 
ansible all -m cron -a &amp;quot;name=&#39;testx&#39; state=absent&amp;quot; 
ansible all -m cron -a &#39;cron_file=ansible_yum-autoupdate state=absent&#39;
# æ³¨é‡Šå’Œå–æ¶ˆæ³¨é‡Šä»»åŠ¡
ansible all -m cron -a &amp;quot;name=&#39;ntpdate time&#39; minute=*/5 job=&#39;/usr/sbin/ntpdate ntp1.aliyun.com &amp;amp;&amp;gt;/dev/null&#39; disabled=yes&amp;quot;
ansible all -m cron -a &amp;quot;name=&#39;ntpdate time&#39; minute=*/5 job=&#39;/usr/sbin/ntpdate ntp1.aliyun.com &amp;amp;&amp;gt;/dev/null&#39; disabled=no&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593501015011.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593501020264.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593501025590.png&#34; alt=&#34;3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593501030852.png&#34; alt=&#34;result&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;yum&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/yum_repository_module.html&#34;&gt;yum&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨yumåŒ…ç®¡ç†å™¨æ¥ç®¡ç†è½¯ä»¶åŒ…ï¼Œå…¶é€‰é¡¹æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;config_fileï¼šyumçš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;diasble_gpg_checkï¼šå…³é—­gpg_checkæ ¡éªŒ&lt;/li&gt;
&lt;li&gt;disablerepo/enablerepoï¼šå¯ç”¨/å…³é—­æŸä¸ªæº&lt;/li&gt;
&lt;li&gt;nameï¼šè¦è¿›è¡Œæ“ä½œçš„è½¯ä»¶åŒ…çš„åå­—ï¼Œä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªurlæˆ–è€…ç¬¨çš„çš„rpmåŒ…çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;state=
&lt;ul&gt;
&lt;li&gt;absentï¼šå¸è½½è½¯ä»¶(å¸¸ç”¨)&lt;/li&gt;
&lt;li&gt;removedï¼šå¸è½½è½¯ä»¶&lt;/li&gt;
&lt;li&gt;presentï¼šå®‰è£…è½¯ä»¶(å¸¸ç”¨)&lt;/li&gt;
&lt;li&gt;installedï¼šå®‰è£…è½¯ä»¶&lt;/li&gt;
&lt;li&gt;latestï¼šå®‰è£…æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼Œæ›´æ–°è½¯ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m yum -a &amp;quot;name=httpd state=latest&amp;quot;
ansible all -m yum -a &amp;quot;name=&#39;@Development tools&#39; state=present&amp;quot;
ansible all-m yum -a &#39;name=nginx state=installed disable_gpg_check=yes&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;get_url&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/get_url_module.html&#34;&gt;get_url&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¯¥æ¨¡å—ä¸»è¦ç”¨äºä»http\ftp\httpsæœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶ï¼Œç±»ä¼¼äºwgetã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sha256sumï¼šä¸‹è½½å®Œæˆåè¿›è¡Œsha 256æ ¡éªŒ&lt;/li&gt;
&lt;li&gt;timeoutï¼šä¸‹è½½è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤10ç§’&lt;/li&gt;
&lt;li&gt;urlï¼šä¸‹è½½çš„url&lt;/li&gt;
&lt;li&gt;url_password\url_usernameï¼šä¸»è¦ç”¨äºéœ€è¦ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒéªŒè¯çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;use_proxyï¼šä½¿ç”¨ä»£ç†ï¼Œä»£ç†éœ€è¦å…ˆåœ¨ç¯å¢ƒå˜é‡ä¸­å®šä¹‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m get_url -a &amp;quot;url=https://www.baidu.com dest=/tmp/baidu.html&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mount&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/mount_module.html&#34;&gt;mount&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;ç”¨äºæ‰¹é‡ç®¡ç†ä¸»æœºè¿›è¡ŒæŒ‚è½½å¸è½½æ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;fstypeï¼šæŒ‡å®šæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹&lt;/li&gt;
&lt;li&gt;optsï¼šæŒ‡å®šæŒ‚è½½çš„å‚æ•°ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;pathï¼šå®šä¹‰ä¸€ä¸ªæŒ‚è½½ç‚¹ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;srcï¼šå®šä¹‰è®¾å¤‡æ–‡ä»¶ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;state=
&lt;ul&gt;
&lt;li&gt;absentï¼šä¼šè¿›è¡Œå¸è½½ï¼Œä¹Ÿä¼šä¿®æ”¹fstabæ–‡ä»¶ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;unmountedï¼šä¼šè¿›è¡Œå¸è½½ï¼Œä¸ä¼šä¿®æ”¹fstabæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;presentï¼šä¸ä¼šæŒ‚è½½ï¼Œåªä¼šä¿®æ”¹fstabæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;mountedï¼šä¼šè¿›è¡ŒæŒ‚è½½ï¼Œä¼šä¿®æ”¹fstabæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åªæ˜¯åœ¨/etc/fstabæ–‡ä»¶ä¸­æ·»åŠ äº†é…ç½®ä¿¡æ¯ï¼Œä¸ä¼šçœŸæ­£è¿›è¡ŒæŒ‚è½½ï¼ˆmount -aï¼‰
ansible all -m mount -a &amp;quot;src=172.16.1.31:/data/  path=/mnt fstype=nfs state=present&amp;quot;
# åœ¨/etc/fstabæ–‡ä»¶ä¸­æ·»åŠ äº†é…ç½®ä¿¡æ¯ï¼Œå¹¶ä¸”ä¹Ÿä¼šçœŸæ­£è¿›è¡ŒæŒ‚è½½
ansible web01 -m mount -a &amp;quot;src=172.16.1.31:/data/  path=/mnt fstype=nfs state=mounted&amp;quot;
# åœ¨è¿›è¡ŒæŒ‚è½½çš„æ—¶å€™ï¼Œä½¿ç”¨state=mounted
# åœ¨è¿›è¡Œå¸è½½çš„æ—¶å€™ï¼Œä½¿ç”¨state=absent
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;group&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/group_module.html&#34;&gt;group&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿œç¨‹æ‰¹é‡åˆ›å»ºç”¨æˆ·ç»„ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gidï¼šæŒ‡åˆ›å»ºçš„ç»„IDä¿¡æ¯&lt;/li&gt;
&lt;li&gt;nameï¼šæŒ‡åˆ›å»ºç»„åç§°ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;state=
&lt;ul&gt;
&lt;li&gt;absentï¼šåˆ é™¤æŒ‡å®šçš„ç”¨æˆ·ç»„&lt;/li&gt;
&lt;li&gt;presentï¼šåˆ›å»ºæŒ‡å®šçš„ç”¨æˆ·ç»„&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible all -m group -a &amp;quot;name=test gid=1055&amp;quot;
ansible all -m group -a &amp;quot;name=test gid=1055 state=absent&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;user&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/user_module.html&#34;&gt;user&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;è¿œç¨‹æ‰¹é‡åˆ›å»ºç”¨æˆ·ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;passwordï¼šè¯·è¾“å…¥å¯†ç ä¿¡æ¯ã€‚passwordè®¾ç½®å¯†ç æ—¶ä¸èƒ½ä½¿ç”¨æ˜æ–‡æ–¹å¼ï¼Œåªèƒ½ä½¿ç”¨å¯†æ–‡æ–¹å¼ï¼Œå¯ä»¥ç»™ç”¨æˆ·è®¾ç½®å¯†ç ï¼Œè¿˜å¯ä»¥ç»™ç”¨æˆ·ä¿®æ”¹å¯†ç &lt;/li&gt;
&lt;li&gt;nameï¼šæŒ‡å®šç”¨æˆ·åä¿¡æ¯&lt;/li&gt;
&lt;li&gt;uidï¼šæŒ‡å®šç”¨æˆ·uidä¿¡æ¯&lt;/li&gt;
&lt;li&gt;groupï¼šæŒ‡å®šç”¨æˆ·ä¸»è¦å±äºå“ªä¸ªç»„&lt;/li&gt;
&lt;li&gt;groupsï¼šæŒ‡å®šç”¨æˆ·å±äºå“ªä¸ªé™„åŠ ç»„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;shell	/bin/bashæˆ–/sbin/nologinï¼šæŒ‡å®šæ˜¯å¦èƒ½å¤Ÿç™»å½•&lt;/li&gt;
&lt;li&gt;create_homeï¼šyes/noï¼Œæ˜¯å¦åˆ›å»ºå®¶ç›®å½•ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;homeï¼šæŒ‡å®šå®¶ç›®å½•åˆ›å»ºåœ¨ä»€ä¹ˆè·¯å¾„ é»˜è®¤/home&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;template&#34;&gt;&lt;a href=&#34;https://docs.ansible.com/ansible/latest/modules/template_module.html&#34;&gt;template&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;å¯ä»¥å°†å¸¦æœ‰å‚æ•°çš„é…ç½®æ–‡ä»¶ä¼ é€’åˆ°ç›®æ ‡åœ°å€ï¼Œå¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œå±ç»„å±ä¸»çš„ä¿®æ”¹ä»¥åŠå¤‡ä»½ï¼ˆç±»ä¼¼copyæ¨¡å—ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;backupï¼šå»ºç«‹ä¸ªåŒ…æ‹¬timestampåœ¨å†…çš„æ–‡ä»¶å¤‡ä»½ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€.&lt;/li&gt;
&lt;li&gt;destï¼šè¿œç¨‹èŠ‚ç‚¹ä¸Šçš„ç»å¯¹è·¯å¾„ï¼Œç”¨äºæ”¾ç½®templateæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;groupï¼šè®¾ç½®è¿œç¨‹èŠ‚ç‚¹ä¸Šçš„çš„templateæ–‡ä»¶çš„æ‰€å±ç”¨æˆ·ç»„&lt;/li&gt;
&lt;li&gt;modeï¼šè®¾ç½®è¿œç¨‹èŠ‚ç‚¹ä¸Šçš„templateæ–‡ä»¶æƒé™ã€‚ç±»ä¼¼Linuxä¸­chmodçš„ç”¨æ³•&lt;/li&gt;
&lt;li&gt;ownerï¼šè®¾ç½®è¿œç¨‹èŠ‚ç‚¹ä¸Šçš„templateæ–‡ä»¶æ‰€å±ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;srcï¼šæœ¬åœ°Jinjia2æ¨¡ç‰ˆçš„templateæ–‡ä»¶ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨playbookä¸­çš„ä½¿ç”¨æ–¹æ³•
# æŠŠ/mytemplates/foo.j2æ–‡ä»¶ç»è¿‡å¡«å†™å‚æ•°åï¼Œå¤åˆ¶åˆ°è¿œç¨‹èŠ‚ç‚¹çš„/etc/file.confï¼Œæ–‡ä»¶æƒé™ç›¸å…³ç•¥è¿‡
- template: src=/mytemplates/foo.j2 dest=/etc/file.conf owner=bin group=wheel mode=0644
# è·Ÿä¸Šé¢ä¸€æ ·çš„æ•ˆæœï¼Œä¸ä¸€æ ·çš„æ–‡ä»¶æƒé™è®¾ç½®æ–¹å¼
- template: src=/mytemplates/foo.j2 dest=/etc/file.conf owner=bin group=wheel mode=&amp;quot;u=rw,g=r,o=r&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansible-playbook-2&#34;&gt;ansible-playbook&lt;/h1&gt;
&lt;h2 id=&#34;playbookåŸºæœ¬è¯­æ³•&#34;&gt;playbookåŸºæœ¬è¯­æ³•&lt;/h2&gt;
&lt;p&gt;playbookä½¿ç”¨yamlè¯­æ³•ï¼Œyamlè¯­æ³•å¯ä»¥é€šè¿‡&lt;a href=&#34;https://yaml.org/spec/1.2/spec.html&#34;&gt;https://yaml.org/spec/1.2/spec.html&lt;/a&gt;æˆ–&lt;a href=&#34;https://www.runoob.com/w3cnote/yaml-intro.html&#34;&gt;https://www.runoob.com/w3cnote/yaml-intro.html&lt;/a&gt;è¿›è¡Œè¯¦ç»†çš„å­¦ä¹ ã€‚&lt;br&gt;
ä¸‹é¢æ˜¯ç®€å•çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ä¾‹å­1ç®€å•è¯´æ˜playbookçš„ä¹¦å†™æ–¹å¼&#34;&gt;ä¾‹å­1ï¼šç®€å•è¯´æ˜playbookçš„ä¹¦å†™æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;playbookæ–‡ä»¶-nginx.yml&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  tasks:
  - name: Install nginx
    yum: name=nginx state=present
  - name: template nginx.conf
    template: src=./nginxbak.conf dest=/etc/nginx/nginx.conf owner=root group=root mode=0644 validate=&#39;nginx -t -c %s&#39;
    notify:
      - Restart Nginx Service
  handlers:
  - name: Restart Nginx Service # nameçš„å€¼å¿…é¡»ä¸notifyçš„å€¼ç›¸åŒï¼Œå¦åˆ™æ— æ³•è§¦å‘handle
    service: name=nginx state=restarted
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬1è¡Œï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶æ˜¯YAMLæ–‡ä»¶ï¼Œéå¿…é¡»&lt;/li&gt;
&lt;li&gt;ç¬¬2è¡Œï¼šå®šä¹‰äº†è¯¥playbooké’ˆå¯¹çš„ç›®æ ‡ä¸»æœºï¼Œallè¡¨ç¤ºé’ˆå¯¹æ‰€æœ‰ä¸»æœºï¼Œè¿™ä¸ªå‚æ•°æ”¯æŒansible Ad-Hocæ¨¡å¼çš„æ‰€æœ‰å‚æ•°ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å®šä¹‰ç»„&lt;/li&gt;
&lt;li&gt;ç¬¬3è¡Œï¼šå®šä¹‰äº†è¯¥playbookæ‰€æœ‰çš„tasksé›†åˆï¼Œæ¯”å¦‚ä¸‹é¢çš„3ä¸ªtasks&lt;/li&gt;
&lt;li&gt;ç¬¬4è¡Œï¼šå®šä¹‰äº†ä¸€ä¸ªtaskçš„åç§°ï¼Œéå¿…é¡»ï¼Œå»ºè®®æ ¹æ®taskå®é™…ä»»åŠ¡å‘½å&lt;/li&gt;
&lt;li&gt;ç¬¬5è¡Œï¼šå®šä¹‰äº†ä¸€ä¸ªçŠ¶æ€çš„actionï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯yumæ¨¡å—å®‰è£…nginxè½¯ä»¶åŒ…&lt;/li&gt;
&lt;li&gt;ç¬¬6-9è¡Œï¼šä½¿ç”¨templateæ¨¡æ¿å»ç®¡ç†/etc/nginx/nginx.confæ–‡ä»¶ï¼›ownerå’Œgroupå®šä¹‰æ”¹æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„ï¼›ä½¿ç”¨validateå‚æ•°æŒ‡å®šæ–‡ä»¶äº§ç”Ÿåä½¿ç”¨&lt;code&gt;nginx -t -c %s&lt;/code&gt;å‘½ä»¤å»åšnginxæ–‡ä»¶çš„è¯­æ³•éªŒè¯ï¼›notifyæ˜¯è§¦å‘handleï¼Œå¦‚æœåŒæ­¥åï¼Œæ–‡ä»¶çš„MD5å€¼æœ‰å˜åŒ–ä¼šè§¦å‘&lt;code&gt;Restart Nginx Service&lt;/code&gt;è¿™ä¸ªhandle&lt;/li&gt;
&lt;li&gt;ç¬¬10-12è¡Œï¼šå®šä¹‰ä¸€ä¸ªhandleçŠ¶æ€è®©nginxæœåŠ¡é‡å¯ï¼Œhandleçš„åç§°æ˜¯&lt;code&gt;Restart Nginx Service&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;hostsæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[nginx]
192.168.1.201
192.168.1.203
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è¿›è¡Œè¯­æ³•æ£€æŸ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-playbook nginx.yml --syntax-check
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æŸ¥çœ‹è¿è¡Œçš„ä¸»æœºå’Œä»»åŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-playbook nginx.yml --list-task
ansible-playbook nginx.yml --list-hosts
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æ‰§è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-playbook nginx.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593587235256.png&#34; alt=&#34;æ‰§è¡Œ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä¾‹å­2ä»»åŠ¡å½¢å¼&#34;&gt;ä¾‹å­2ï¼šä»»åŠ¡å½¢å¼&lt;/h3&gt;
&lt;h4 id=&#34;ä»»åŠ¡ç›®æ ‡&#34;&gt;ä»»åŠ¡ç›®æ ‡&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æœåŠ¡å™¨&lt;/strong&gt;ï¼š3å°&lt;br&gt;
&lt;strong&gt;ä»»åŠ¡1&lt;/strong&gt;ï¼šå®‰è£…redis&lt;br&gt;
&lt;strong&gt;ä»»åŠ¡2&lt;/strong&gt;ï¼šä¿®æ”¹redis.confé…ç½®æ–‡ä»¶,æŒ‡å®šbindç»‘å®šå„è‡ªçš„å±€åŸŸç½‘ip(ç”¨åˆ°templateæ¨¡æ¿)&lt;br&gt;
&lt;strong&gt;ä»»åŠ¡3&lt;/strong&gt;ï¼šå¯åŠ¨redisæœåŠ¡&lt;br&gt;
####ç›®å½•ç»“æ„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593572113534.png&#34; alt=&#34;ç›®å½•ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;pymlæ–‡ä»¶å†…å®¹&#34;&gt;p.ymlæ–‡ä»¶å†…å®¹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;- hosts: web  #webç»„ä¸‰å°æœåŠ¡å™¨,hostsæ–‡ä»¶é…ç½®
  remote_user: root  #è¿œç«¯æœåŠ¡å™¨ä»¥rootæƒé™æ‰§è¡Œ
  tasks:
  - name: install_redis  #ä»»åŠ¡1,ä¸‹è½½redis
    yum: name=redis
    tags: install  #æŒ‡å®šæ ‡ç­¾,æš‚æ—¶ä¸ç”¨
  - name: copy_file  #ä»»åŠ¡2,å°†æœ¬åœ°çš„redis.confæ–‡ä»¶å¤åˆ¶åˆ°è¿œç«¯æœåŠ¡å™¨
    template: dest=/etc/redis.conf src=redis.conf.j2  #è¿™ä¸ªj2æ–‡ä»¶å†…ä¸‹ä¸€æ­¥å†çœ‹
    tags: copy
  - name: start_redis  #ä»»åŠ¡3,å¯åŠ¨redis
    service: name=redis state=started
    tags: start  #æŒ‡å®šæ ‡ç­¾,æš‚æ—¶ä¸ç”¨
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;redisconfj2æ–‡ä»¶å†…å®¹&#34;&gt;redis.conf.j2æ–‡ä»¶å†…å®¹&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆå¤åˆ¶/etc/redis.confæ–‡ä»¶åˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„templatesç›®å½•ä¸‹ä¸”å‘½åä¸º redis.conf.j2ã€‚ç„¶åç¼–è¾‘æ”¹æ–‡ä»¶å†…å®¹ï¼Œæ–‡ä»¶éƒ¨åˆ†å†…å®¹çœ‹æˆªå›¾ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir templates  #æ–°å»ºä¸€ä¸ªtemplatesæ–‡ä»¶å¤¹
copy /etc/redis.conf ./templates/redis.conf.j2  #å¤åˆ¶é…ç½®æ–‡ä»¶
vim ./templates/redis.conf.j2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593572356724.png&#34; alt=&#34;redis.conf.j2æ–‡ä»¶å†…å®¹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ansible_default_ipv4.address è·å–æ¯ä¸ªè¿œç¨‹æœåŠ¡å™¨çš„ipv4å†…ç½‘ipï¼ˆä½¿ç”¨setupæ¨¡å—ï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ‰§è¡Œæ–‡ä»¶&#34;&gt;æ‰§è¡Œæ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-plyabook p.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¸¸ç”¨çš„ä¸€äº›å¤æ‚å˜é‡&#34;&gt;å¸¸ç”¨çš„ä¸€äº›å¤æ‚å˜é‡&lt;/h2&gt;
&lt;p&gt;playbookä¸­çš„ä¸€äº›å¤æ‚å˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;---
# ç›®æ ‡ä¸»æœºæ”¯æŒæ‰€æœ‰çš„ad-hocæ¨¡å¼çš„æ‰€æœ‰çš„patterns
- hosts: 172.16.102.109:172.16.102.119
  # è¿œç¨‹sshè®¤è¯ç”¨æˆ·
  remote_user: root
  # è®¾ç½®playbookçš„sudoæ“ä½œ
  sudo: yes
  # è®¾ç½®playbookçš„sudoæ“ä½œ
  sudo_user: admin
  # è®¾ç½®factsä¿¡æ¯æ”¶é›†
  gather_facts: no
  # è®¾ç½®accelerateæ¨¡å¼(å®ˆæŠ¤è¿›ç¨‹)
  accelarate: no
  # è®¾ç½®accelerateç«¯å£
  accelerate_port: 5099
  # è®¾ç½®playbookçš„taskså¤±è´¥çš„ç™¾åˆ†æ¯”
  max_fail_percentage: 30
  # è¿œç¨‹è¿æ¥çš„æ–¹å¼
  connection: local
  # è®¾ç½®å¹¶å‘æ•°ç›®
  serial: 15
  # è®¾ç½®é¢å¤–çš„å˜é‡
  vars:
    nginx_port: 80
  # å¼•å…¥å˜é‡æ–‡ä»¶
  vars_files:
    - &amp;quot;vars.yml&amp;quot;
    - [&amp;quot;one.yml&amp;quot;,&amp;quot;two.yml&amp;quot;]
  # è®¾ç½®å¼•å…¥è§’è‰²
  roles:
    - docker
  # è®¾ç½®å¼•å…¥tasks
  tasks:
    - include: tasks.yml
  # è®¾ç½®è¿è¡Œä¹‹åçš„tasks
  post_tasks:
    - name: post_tasks
  # è®¾ç½®playbookçš„handlers
  handlers:
    - include: handlers.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§’è‰²roles&#34;&gt;è§’è‰²roles&lt;/h2&gt;
&lt;p&gt;ansible_playbookæ˜¯ansibleè¿›è¡Œé…ç½®ç®¡ç†çš„ç»„ä»¶ï¼Œç”±äºad-hocå‘½ä»¤æ— æ³•æ”¯æ’‘å¤æ‚çš„é…ç½®ç®¡ç†å·¥ä½œï¼Œåœ¨æˆ‘ä»¬å®é™…ä½¿ç”¨ansibleçš„å·¥ä½œä¸­ï¼Œå¤§éƒ¨åˆ†æ—¶é—´éƒ½æ˜¯åœ¨ç¼–å†™playbookã€‚&lt;br&gt;
ç®€å•çš„å®‰è£…nginxçš„è„šæœ¬&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# mkdir -p /data/nginx_install/roles/nginx/tasks
# vim /data/nginx_install/site.yml
---
- hosts: all
  gather_facts: no
  roles:
    - nginx # ä¸æ–‡ä»¶åŒçº§çš„ç›®å½•rolesä¸‹é¢çš„ç›®å½•
    # - mysql
    # - php
    # - java
# vim /data/nginx_install/roles/nginx/tasks/main.yml
---
- name: install nginx
  yum: name=nginx state=present
- name: start service nginx
  service: name=nginx state=started
# vim /data/nginx_install/hosts
[nginx]
192.168.1.201
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç›®å½•æ¶æ„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;roles/
-- nginx  # è§’è‰²ç›®å½•
-- files # è§’è‰²çš„fileç›®å½•
    -- index.html # ä½ çš„fileèµ„æº
-- handler
    -- main.yml
-- tasks
    -- main.yml #nginxè¿™ä¸ªè§’è‰²çš„å…¥å£æ–‡ä»¶
-- templates
    -- nginx.conf.j2
site.yml  # playbookç»Ÿä¸€å…¥å£æ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¼•å…¥è‡ªå®šä¹‰å˜é‡&#34;&gt;å¼•å…¥è‡ªå®šä¹‰å˜é‡&lt;/h2&gt;
&lt;p&gt;é€šè¿‡inventoryæ–‡ä»¶æ¥å®šä¹‰å˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# vim hosts
[nginx]
192.168.1.201
192.168.1.203
[nginx:vars]
key1= &amp;quot;i am key1&amp;quot; 

# vim var.yml
---
key3: &amp;quot;i am key3&amp;quot;
value3: &amp;quot;i am value&amp;quot;

# vim vars.yml
---
- hosts: all
  gather_facts: no
  vars:    
    key2: &amp;quot;i am key2&amp;quot;
  vars_files:
    - var.yml
  tasks:
    # æ–¹å¼ä¸€ï¼šåœ¨hostsæ–‡ä»¶ä¸­å¼•å…¥è‡ªå®šä¹‰å˜é‡
    - name: display key1    
      debug: msg=&amp;quot;{{key1}}&amp;quot;
    # æ–¹å¼äºŒï¼šåœ¨playbookæ–‡ä»¶ä¸­å¼•å…¥è‡ªå®šä¹‰å˜é‡
    - name: display key2
      debug: msg=&amp;quot;{{key2}}&amp;quot;
    # æ–¹å¼ä¸‰ï¼šé€šè¿‡ymlæ–‡ä»¶å¼•å…¥è‡ªå®šä¹‰å˜é‡
    - name: display keys
      debug: msg=&amp;quot;{{key3}}-----&amp;gt;{value3{}}&amp;quot;

# æ‰§è¡Œ
ansible-playbook -i hosts vars.yml

# é€šè¿‡å‘½ä»¤ä¼ å…¥éœ€è¦åŠ å‚æ•°-eï¼Œè¿™ç§æ–¹æ³•å¾ˆå°‘ç”¨
# åœ¨playbookæ–‡ä»¶é‡Œé¢ä½¿ç”¨var_filesæ¥ä¼ å˜é‡
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å˜é‡ä¼ é€’&#34;&gt;å˜é‡ä¼ é€’&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨registerå˜é‡ï¼Œåœ¨playbookä¸­çš„taskä¹‹é—´è¿›è¡Œå˜é‡çš„ä¼ é€’ï¼Œæ¯”å¦‚ä¸¤ä¸ªtasksï¼Œç¬¬äºŒä¸ªtaskéœ€è¦ç¬¬ä¸€ä¸ªtaskè¿è¡Œåçš„ç»“æœ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: no
  tasks:
    # ç¬¬ä¸€ä¸ªtaskï¼šå°†å‘½ä»¤hostnameè¿è¡Œç»“æœèµ‹å€¼ç»™å˜é‡info
    - name: register var 
      shell: hostname
      register: info
    # ç¬¬äºŒä¸ªtaskï¼šå°†å˜é‡infoçš„å†…å®¹æ‰“å°å‡ºæ¥ï¼ŒåŒæ—¶æ‰“å°å­—å…¸ä¸­çš„key=stdoutçš„å€¼
    - name: display var
      debug: msg=&amp;quot;{{info}}&amp;quot;
    - name: display hostname
      debug: msg=&amp;quot;{{info.stdout}}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŸºæœ¬çš„å¾ªç¯loops&#34;&gt;åŸºæœ¬çš„å¾ªç¯loops&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨with_itemsè¿™ä¸ªå…³é”®å­—å°±å¯ä»¥å®Œæˆè¿­ä»£ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸ªå˜é‡éƒ½å«åšitem&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# æ ‡å‡†çš„loopsï¼ˆå¾ªç¯åˆ—è¡¨ï¼‰
---
- hosts: all
  gather_facts: no
  tasks:
    - name: debug loops
      debug: msg=&amp;quot;{{item}}&amp;quot;   # ç­‰åŒäº&amp;quot;for item in with_items:&amp;quot;ï¼Œå…¶ä¸­itemã€with_itemsæ˜¯å›ºå®šå†™æ³•
      with_items:
        - one
        - two
        - three
        - four
# æ‰¹é‡å®‰è£…è½¯ä»¶
---
- hosts: all
  gather_facts: no
  tasks:
    - name: debug loops
      yum: name=&amp;quot;{{item}}&amp;quot; state=present
      with_items:
        - nginx
        - php
        - mariadb
        - zabbix

# å¾ªç¯å­—å…¸
---
- hosts: all
  gather_facts: no
  tasks:
    - name: debug dic
      debug: msg=&amp;quot;name--&amp;gt;{{item.key}}    val--&amp;gt;{{item.value}}&amp;quot;
      with_items:
        - {key: &amp;quot;one&amp;quot;,value: &amp;quot;value_one&amp;quot;}
        - {key: &amp;quot;two&amp;quot;,value: &amp;quot;value_two&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åµŒå¥—å¾ªç¯&#34;&gt;åµŒå¥—å¾ªç¯&lt;/h2&gt;
&lt;p&gt;åµŒå¥—loopsä¸»è¦ç”¨äºä¸€å¯¹å¤šæˆ–è€…å¤šå¯¹å¤šçš„åˆå¹¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: no
  tasks:
    - name: loops in loops
      debug: msg=&amp;quot;List1--&amp;gt;{{item[0]}}    List2--&amp;gt;{{item[1]}}&amp;quot;
      with_nested:
        - [&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;,&amp;quot;c&amp;quot;]
        - [1,2,3,4,5]
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ–‡ä»¶å¾ªç¯å’Œæ•£åˆ—å¾ªç¯&#34;&gt;æ–‡ä»¶å¾ªç¯å’Œæ•£åˆ—å¾ªç¯&lt;/h2&gt;
&lt;p&gt;æ•£åˆ—loopsç›¸æ¯”æ ‡å‡†çš„loopsï¼Œå˜é‡æ”¯æŒçš„æ•°æ®ç»“æ„æ›´ä¸°å¯Œï¼Œä¾‹å¦‚æ ‡å‡†çš„æœ€å¤–å±‚æ•°æ®å¿…é¡»æ˜¯pythonçš„listæ•°æ®ç±»å‹ï¼Œè€Œæ•£åˆ—loopsç›´æ¥æ”¯æŒyamlæ ¼å¼çš„æ•°æ®å˜é‡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: False
  vars:
    user:
      shan:
        name: shan
        shell: bash
      ceshi:
        name: ceshi
        shell: ssh
  tasks:
    - name: debug loops
      debug: msg=&amp;quot;{{item.key}}:{{item.value}}&amp;quot;
      with_dict: &amp;quot;{{user}}&amp;quot;
# è€Œpythonå®ç°çš„æ–¹æ³•
# user={&#39;shan&#39;:{&#39;name&#39;:&#39;shan&#39;,&#39;shell&#39;:bash&#39;},&#39;ceshi&#39;:{&#39;name&#39;:&#39;ceshi&#39;,&#39;shell&#39;:&#39;ssh&#39;}}
# for i,x in user.items():
#     print i,x[name],x[shell]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ–‡ä»¶åŒ¹é…å¾ªç¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: False
  tasks:
    - name: debug loops
      debug: msg=&amp;quot;{{item}}&amp;quot;
      with_fileglob:
        - /etc/*.conf   # è¾“å‡º/etcç›®å½•ä¸‹çš„æ‰€æœ‰confæ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ¡ä»¶åˆ¤æ–­å¾ªç¯ä»¥åŠç»„åˆä½¿ç”¨&#34;&gt;æ¡ä»¶åˆ¤æ–­å¾ªç¯ä»¥åŠç»„åˆä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;æœ‰æ—¶å€™æ‰§è¡Œä¸€ä¸ªtasksä¹‹åï¼Œæˆ‘ä»¬éœ€è¦æ£€æµ‹è¿™ä¸ªtasksçš„ç»“æœæ˜¯å¦è¾¾åˆ°äº†é¢„æƒ³çŠ¶æ€ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬é¢„æƒ³çš„çŠ¶æ€æ—¶ï¼Œå°±éœ€è¦é€€å‡ºæ•´ä¸ªplaybookæ‰§è¡Œï¼Œè¿™æ—¶å€™éœ€è¦å¯¹è¿™ä¸ªtaskç»“æœä¸€ç›´å¾ªç¯æ£€æµ‹ã€‚&lt;br&gt;
&lt;strong&gt;ä¾‹å¦‚&lt;/strong&gt;ï¼š5ç§’æ‰§è¡Œä¸€æ¬¡&lt;code&gt;cat /root/ansible&lt;/code&gt;ï¼Œå°†ç»“æœèµ‹å€¼ç»™å˜é‡hostsï¼Œç„¶ååˆ¤æ–­&lt;code&gt;hosts.stdout.startswitch&lt;/code&gt;çš„å†…å®¹æ˜¯å¦ä»¥Masterå­—ç¬¦ä¸²å¼€å¤´ï¼Œå¦‚æœæ¡ä»¶æˆç«‹ï¼Œæ­¤taskè¿è¡Œå®Œæˆï¼Œå¦åˆ™5ç§’åé‡è¯•ï¼Œ5æ¬¡åè¿˜ä¸æˆç«‹ï¼Œæ­¤taskè¿è¡Œå¤±è´¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: False
  tasks:
    - name: debug IF
      shell: cat /root/ansible
      register: hosts
      until: hosts.stdout.startswith(&amp;quot;Master&amp;quot;)
      retries: 5
      delay: 5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹å¦‚&lt;/strong&gt;ï¼šè¦ä¹ˆå¾ªç¯5æ¬¡ï¼Œè¦ä¹ˆ5æ¬¡å¾ªç¯è¿˜æ²¡è·‘å®Œé—´éš”10sï¼Œ ä½†æ˜¯result.stdoutä¸­æ‰¾åˆ° â€œall systems goâ€è¿™å‡ ä¸ªå­—æ¯ï¼Œç„¶åè¿™ä¸ªtaskå°±ä¸è·‘äº†ï¼ˆé»˜è®¤çš„retries=3, delay=5ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: False
  tasks:
  - action: shell /usr/bin/foo
    register: result
    until: result.stdout.find(&amp;quot;all systems go&amp;quot;) != -1
    retries: 5
    delay: 10
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Forå¾ªç¯çš„ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: no
  tasks:
    - name: debug loops
      shell: &amp;quot;{{item}}&amp;quot;
      with_items:
        - hostname
        - uname
      register: ret
    - name: display ret
      debug: msg=&amp;quot;{% for i in ret.results %} {{ i.stdout }} {% endfor %}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;whenè¯­å¥é€»è¾‘åˆ¤æ–­&#34;&gt;whenè¯­å¥é€»è¾‘åˆ¤æ–­&lt;/h2&gt;
&lt;p&gt;ansibleæ”¯æŒä»å¤–éƒ¨æ‹‰å–ä¿¡æ¯ï¼Œæ¯”å¦‚å¯ä»¥ä»æ•°æ®åº“é‡Œé¢è¯»å–ä¿¡æ¯ç„¶åå®šä¹‰ç»™ä¸€ä¸ªå˜é‡çš„å½¢å¼ï¼Œè¿™å°±æ˜¯ansibleçš„lookupsæ’ä»¶ã€‚ansibleä¸­æ‰€æœ‰çš„conditionalséƒ½æ˜¯ä½¿ç”¨whenæ¥åˆ¤æ–­çš„ï¼Œwhenå€¼æ˜¯ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœå¤©å‰‘åˆ¤æ–­æˆç«‹ï¼Œè¿™ä¸ªtaskå°±æ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œå¦åˆ™ä¸æ‰§è¡Œæˆ–è€…è·³è¿‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  tasks:
    # åˆ¤æ–­IPæ˜¯å¦ä¸º192.168.1.201
    - name: IP192.168.1.201 run this task
      debug: msg=&amp;quot;{{ansible_default_ipv4.address}}&amp;quot;
      when: ansible_default_ipv4.address==&amp;quot;192.168.1.201&amp;quot;
    # åˆ¤æ–­ä¸»æœºåæ˜¯å¦ä¸ºinode203
    - name: all host run this task
      shell: hostname
      register: info
    - name: Hostname is inode203 run this task
      debug: msg=&amp;quot;{{ansible_fqdn}}&amp;quot;
      when: info[&#39;stdout&#39;]==&amp;quot;inode203&amp;quot;
    # åˆ¤æ–­ä¸»æœºåä¸­æ˜¯å¦åŒ…å«ç‰¹å®šå­—ç¬¦207
    - name: Hostname is startswith M run this task
      debug: msg=&amp;quot;{{ansible_fqdn}}&amp;quot;
      when: info[&#39;stdout&#39;].find(&amp;quot;207&amp;quot;) != -1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Centosç³»ç»Ÿï¼Œç‰ˆæœ¬å·ä¸º7ï¼Œæ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶ä¼šåœ¨ /home/åˆ›å»º123.test æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;- name: touch centos
  command: touch /home/123.test
  when:
    - ansible_distribution == &amp;quot;CentOS&amp;quot;
    - ansible_distribution_major_version == &amp;quot;7&amp;quot;
  tags:
  - touch_Cent
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»„æ¡ä»¶åˆ¤æ–­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# ä½¿ç”¨æ‹¬å·å¯¹æ¡ä»¶è¿›è¡Œåˆ†ç»„
---
- hosts: localhost
  gather_facts: yes

  tasks:
    - name: &amp;quot;shut down CentOS 6 and Debian 7 systems&amp;quot;
      command: ls -a
      when: (ansible_facts[&#39;distribution&#39;] == &amp;quot;CentOS&amp;quot; and ansible_facts[&#39;distribution_major_version&#39;] == &amp;quot;6&amp;quot;) or
            (ansible_facts[&#39;distribution&#39;] == &amp;quot;Debian&amp;quot; and ansible_facts[&#39;distribution_major_version&#39;] == &amp;quot;7&amp;quot;)
# æ‰€æœ‰éœ€è¦ä¸ºtrueçš„å¤šæ¡ä»¶åˆ¤è¯»ï¼ˆé€»è¾‘â€œandâ€ï¼‰ ä¹Ÿå¯ä»¥æŒ‡å®šä¸ºåˆ—è¡¨
---
- hosts: localhost
  gather_facts: yes

  tasks:
    - name: &amp;quot;shut down CentOS 7 systems&amp;quot;
      command: ls -a
      when:
        - ansible_facts[&#39;distribution&#39;] == &amp;quot;CentOS&amp;quot;
        - ansible_facts[&#39;distribution_major_version&#39;] == &amp;quot;7&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;whenåˆ¤æ–­æ˜¯centosè¿˜æ˜¯Ubuntuç³»ç»Ÿååœ¨å®‰è£…http&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;- hosts: all
  tasks:
    - name: &amp;quot;update apache version - yum&amp;quot;
      yum: name=httpd state=present
      when:
        - ansible_pkg_mgr == &#39;yum&#39;
      notify: restart httpd

    - name: &amp;quot;Update apache version - apt&amp;quot;
      apt: name=apache2 state=present update_cache=yes
      when:
        - ansible_pkg_mgr == &#39;apt&#39;
      notify: restart apache2
 handlers:
    - name: restart apache2
      service: name=apache2 state=restarted
    - name: restart httpd
      service: name=httpd state=restarted
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨&lt;code&gt;when&lt;/code&gt;è¯­å¥ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨ã€‚å¦‚ï¼Œæˆ‘ä»¬æƒ³è·³è¿‡ä¸€ä¸ªè¯­å¥æ‰§è¡Œä¸­çš„é”™è¯¯ï¼Œä½†æ˜¯åç»­çš„ä»»åŠ¡çš„æ‰§è¡Œéœ€è¦ç”±è¯¥ä»»åŠ¡æ˜¯å¦æˆåŠŸæ‰§è¡Œå†³å®šï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;    tasks:
      - command: /bin/false
        register: result
        ignore_errors: True
      - command: /bin/something
        when: result|failed
      - command: /bin/something_else
        when: result|success
      - command: /bin/still/something_else
        when: result|skipped
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ›´å¤šå†…å®¹å‚è€ƒhttpswwwcnblogscomgzxbkkp7608055html&#34;&gt;æ›´å¤šå†…å®¹å‚è€ƒ&lt;a href=&#34;https://www.cnblogs.com/gzxbkk/p/7608055.html&#34;&gt;https://www.cnblogs.com/gzxbkk/p/7608055.html&lt;/a&gt;&lt;/h2&gt;
&lt;h1 id=&#34;ansibleè‡ªåŠ¨éƒ¨ç½²lnmphdwiki&#34;&gt;ansible(è‡ªåŠ¨éƒ¨ç½²lnmp+hdwiki)&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ¶æ„ä¸æµç¨‹&lt;br&gt;
åœ¨åšä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„äº‹æƒ…çš„æ—¶å€™ï¼Œéœ€è¦ç†æ¸…æ€è·¯ï¼Œé€šè¿‡ç”»å›¾å°†æ€è·¯ç†æ¸…æ¥šï¼Œå¯ä»¥ä½¿ç”¨æ€ç»´å¯¼å›¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1593706156916.png&#34; alt=&#34;æ¶æ„ä¸æµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å†™ä»£ç &lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /data
mkdir hdwiki
cd hdwiki
vim site.yml #ç¼–è¾‘site.yml
mkdir roles
cd roles
mkdir nginx mysql hdwiki base -p

# è§’è‰²baseï¼šé…ç½®yumæº
cd /data/roles/base
mkdir tasks files
cd /data/roles/base/files  # å°†yumæºçš„é…ç½®æ–‡ä»¶development.repoæ”¾åœ¨æ­¤ç›®å½•ä¸‹
cd /data/roles/base/tasks
vim main.yml

# è®¾ç½®ä¸»æœºæ¸…å•
cd /data/roles/hdwiki
vim hosts
    [hdwiki]
    192.168.1.201
    192.168.1.203
    [hdwiki:vars]
    nginx=nginx-1.4.4-1.x86_64.rpm
    php=php-5.3.10-1.x86_64.rpm
    user=hdwiki
    password=wiki123456
    database=wiki

# è§’è‰²nginx
cd /data/roles/nginx
mkdir tasks files
cd /data/roles/nginx/tasks
vim main.yml

# è§’è‰²mysql
cd /data/roles/mysql
mkdir tasks files
cd /data/roles/mysql/tasks
vim main.yml

# è§’è‰²hdwiki
cd /data/roles/hdwiki
mkdir tasks files
cd /data/roles/hdwiki/tasks
vim main.yml

# æ‰§è¡Œ
cd /data/roles/hdwiki
ansible-playbook -i hosts site.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;playbookæ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# æ€»å…¥å£æ–‡ä»¶site.yml
---
- hosts: all
  roles:
    - base
    - nginx
    - mysql
    - hdwiki

# baseçš„å…¥å£æ–‡ä»¶main.yml
---
- copy: scr=development.repo dest=/etc/yum.repos.d/development.repo
- shell: yum makecache

# nginxçš„å…¥å£
---
- yum: name={{item}} state=present
  with_items:
    - libtool-libs
    - libXpm-devel
    - fontconfig-devel
    - libpng
    - libjpeg-turbo
- shell: mkdir -p /usr/local/services
- name: copy nginx rpm
  copy: src={{nginx}} dest=opt/{{nginx}}
- shell: rpm-qa| grep nginx || rpm -ivh /opt/{{nginx}}  # å·²ç»å®‰è£…äº†çš„æœºå™¨ä¸éœ€è¦å†å®‰è£…
- service: name=nginx state=restarted
- copy: src={{php}} dest=opt/{{php}}
- shell: rpm-qa| grep php || rpm -ivh /opt/{{php}}
- service: name=php-fpm state=restarted

# mysqlçš„å…¥å£
---
- yum: name={{item}} state=present
  with_items:
    - mysql-server
    - mysql-python
- service: name=mysqld state=started
- mysql_db: name={{database}} state=present
- mysql_user: name={{user}} password={{password}} priv=*.*:ALL host=&amp;quot;%&amp;quot; state=present
 - mysql_user: name={{user}} password={{password}} priv=*.*:ALL host=&amp;quot;localhost&amp;quot; state=present

# hdwikiçš„å…¥å£
---
- unarchive: src=wiki.tar.gz dest=/data/htdocs/www
- shell: chown -R www:www /data/htdocs/www
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansible-jinja2&#34;&gt;ansible-jinja2&lt;/h1&gt;
&lt;p&gt;jinja2æ˜¯ansibleçš„é»˜è®¤çš„æ¨¡æ¿è¯­éŸ³ï¼Œjinjia2æ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¸€æ¬¾æ¨¡æ¿è¯­éŸ³ï¼Œansibleé»˜è®¤æ”¯æŒjinja2è¯­è¨€å†…çš„filterï¼Œjinja2ä¹Ÿæä¾›äº†å¾ˆå¤šfilterã€‚&lt;br&gt;
&lt;strong&gt;å­—ç¬¦ä¸²è¿‡æ»¤å™¨&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;safeï¼šç¦æ­¢è½¬ä¹‰ï¼Œæ¸²æŸ“æ—¶ä¸ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦&lt;/li&gt;
&lt;li&gt;capitallizeï¼šæŠŠé¦–å­—æ¯è½¬å¤§å†™ï¼Œå…¶ä»–çš„å­—æ¯è½¬å°å†™&lt;/li&gt;
&lt;li&gt;lowerï¼šæŠŠæ‰€æœ‰çš„å­—æ¯è½¬å°å†™&lt;/li&gt;
&lt;li&gt;upperï¼šæŠŠæ‰€æœ‰å­—æ¯è½¬å¤§å†™&lt;/li&gt;
&lt;li&gt;titleï¼šæŠŠæ¯ä¸ªå•è¯çš„é¦–å­—æ¯è½¬å¤§å†™&lt;/li&gt;
&lt;li&gt;trimï¼šå»æ‰é¦–å°¾ç©ºæ ¼&lt;/li&gt;
&lt;li&gt;striptagsï¼šå»æ‰æ‰€æœ‰çš„HTMLæ ‡ç­¾&lt;/li&gt;
&lt;li&gt;replaceï¼šæ›¿æ¢å­—ç¬¦ä¸²çš„å€¼&lt;/li&gt;
&lt;li&gt;roundï¼šå¯¹æ•°å­—å››èˆäº”å…¥&lt;/li&gt;
&lt;li&gt;intï¼šè½¬æ¢æˆintç±»å‹&lt;/li&gt;
&lt;li&gt;defaultï¼šå®šä¹‰å˜é‡çš„é»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;reverseï¼šå­—ç¬¦ä¸²åè½¬&lt;/li&gt;
&lt;li&gt;formatï¼šæ ¼å¼åŒ–è¾“å‡ºï¼Œä¾‹å¦‚{{ &#39;%s is %d&#39; | format(&amp;quot;Number&amp;quot;, 2) }}ï¼Œè¿”å›å€¼&amp;quot;Number is 2&amp;quot;&lt;/li&gt;
&lt;li&gt;absï¼šç»å¯¹å€¼&lt;br&gt;
&lt;strong&gt;åˆ—è¡¨è¿‡æ»¤å™¨&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;firstï¼šè·å–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ &lt;/li&gt;
&lt;li&gt;lastï¼šè·å–åˆ—è¡¨çš„æœ€åä¸€ä¸ª&lt;/li&gt;
&lt;li&gt;sortï¼šæ’åº&lt;/li&gt;
&lt;li&gt;sumï¼šåˆ—è¡¨æ±‚å’Œ&lt;/li&gt;
&lt;li&gt;lengthï¼šæ±‚åˆ—è¡¨é•¿åº¦&lt;/li&gt;
&lt;li&gt;joinï¼šå°†å¤šä¸ªå€¼æ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œç±»ä¼¼pythonçš„join()å‡½æ•°&lt;/li&gt;
&lt;li&gt;maxï¼šæœ€å¤§å€¼&lt;/li&gt;
&lt;li&gt;minï¼šæœ€å°å€¼&lt;/li&gt;
&lt;li&gt;randomï¼šè·å–éšæœºå€¼&lt;br&gt;
&lt;code&gt;åˆ—è¡¨ä¸­æ‰€æœ‰å…ƒç´ éƒ½å…¨å¤§å†™ã€‚è¿™é‡Œå¯ä»¥ç”¨upper,lowerï¼Œä½†capitalizeæ— æ•ˆ&lt;/code&gt;&lt;br&gt;
æ›´å¤šå†…å®¹å‚è€ƒ&lt;br&gt;
&lt;a href=&#34;https://jinja.palletsprojects.com/en/2.10.x/&#34;&gt;https://jinja.palletsprojects.com/en/2.10.x/&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/mauricewei/p/10056379.html&#34;&gt;https://www.cnblogs.com/mauricewei/p/10056379.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: False
  vars:
    list: [1,2,3,4,5]
    one: &amp;quot;1&amp;quot;
    str: &amp;quot;string&amp;quot;
  tasks:
    # æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶å°†ç»“æœèµ‹å€¼ç»™å˜é‡info
    - name: run commands
      shell: df -h
      register: info
    # å¯¹å˜é‡infoä½¿ç”¨pprintè¿›è¡Œæ ¼å¼åŒ–ï¼Œdebugæ—¶ä½¿ç”¨å¯ä»¥æ‰“å°å˜é‡çš„è¯¦ç»†ä¿¡æ¯
    - name: debug pprint filter
      debug: msg=&amp;quot;{{info.stdout|pprint}}&amp;quot; 
    - name: debug info
      debug: msg=&amp;quot;{{info}}&amp;quot; 
    # åˆ¤æ–­info[changed]å€¼ï¼Œå¦‚æœä¸ºtrueï¼Œåˆ™æ‰§è¡Œdebug
    - name: debug conditionals filter
      debug: msg=&amp;quot;the run commands status is changed&amp;quot;
      when: info.changed
    # å¯¹å˜é‡oneçš„å€¼è¿›è¡Œintè½¬å˜ï¼Œå¯¹å˜é‡strçš„å€¼è¿›è¡Œé¦–å­—æ¯å¤§å†™æ“ä½œ
    - name: debug int capitalize filter
      debug: msg=&amp;quot;The int value {{one|int}}. The lower value is {{str|capitalize}}&amp;quot;
    # å¦‚æœansibleå˜é‡å®šä¹‰äº†å°±å¼•ç”¨å…¶å€¼ï¼Œå¦åˆ™å°±å®šä¹‰å…¶é»˜è®¤å€¼ä¸º&amp;quot;ansible is not define&amp;quot;
    - name: debug default filter
      debug: msg=&amp;quot;The variable value is {{ansible|default(&#39;ansible is not define&#39;)}}&amp;quot;
    # è·å–å˜é‡åˆ—è¡¨listä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼
    - name: debug list max and min filter
      debug: msg=&amp;quot;The list max value is {{list|max}} and min value is {{list|min}}&amp;quot;
      # éšæ„é€‰å–ä¸€ä¸ªlistå†…çš„å€¼ï¼Œç„¶åéšæœºç”Ÿæˆä¸€ä¸ª1000ä»¥å†…çš„æ•°æ®ï¼Œä»¥1å¼€å§‹ä¸”æ­¥é•¿ä¸º10
    - name: debug random filter
      debug: msg=&amp;quot;The list random value is {{list|random}} and generate a random value is {{1000|random(1,10)}}&amp;quot;
    # å°†listå†…çš„å€¼è¿æ¥åœ¨ä¸€èµ·å½¢æˆå­—ç¬¦ä¸²
    - name: debug join filter
      debug: msg=&amp;quot;The join filter value is {{list| join(&amp;quot;+&amp;quot;)}}&amp;quot;
    # å°†å˜é‡strä¸­çš„å­—æ¯tæ›¿æ¢ä¸ºT
    - name: debug replace  filter
      debug: msg=&amp;quot;The replace value is {{str|replace(&#39;t&#39;,&#39;T&#39;)}}&amp;quot;
    # string==&amp;gt;strawenï¼Œå°†stringå˜é‡riä»¥åŠä¹‹åçš„æ‰€æœ‰å­—ç¬¦æ›¿æ¢ä¸ºawen
    - name: debug regex_replace filter
      debug: msg=&amp;quot;The regex_replace value is {{str|regex_replace((&#39;ri(.*)$&#39;),&#39;awen&#39;)}}&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å¾ªç¯ä¸åˆ¤æ–­&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- hosts: all
  gather_facts: no
  tasks:
    # è§£æä¹‹åæ‰§è¡Œï¼Œæ‰§è¡Œç»“æœå†™å…¥è¢«æ§ç«¯/tmp/f2
    - template: src=f2.j2  dest=/tmp/f2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;f2.j2æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;{% set list=[&#39;one&#39;,&#39;two&#39;,&#39;three&#39;] %}
{% set dict={&#39;1&#39;:&#39;one&#39;,&#39;2&#39;:&#39;two&#39;,&#39;3&#39;:&#39;three&#39;} %}
{% set dict1={&#39;1&#39;:{&#39;1.1&#39;:{&#39;1.2&#39;:&#39;one point two&#39;}} %}
# å¾ªç¯
{% for i in list %}
    {{i}}
{% endfor %}
{% for key,value in dict.iteritems() %}
    {{key}}---&amp;gt;{{value}}
{% endfor %}
# åˆ¤æ–­
{% for i in list %}
    {% if i==&#39;one&#39; %} # å€¼ä¸ºoneåˆ™æ‰“å°
        ---&amp;gt;{{i}}   
    {% elif loop.index==2 %}  # ç´¢å¼•ä¸º2ï¼ˆtwoï¼‰åˆ™æ‰“å°
         ---&amp;gt;&amp;gt;{{i}}
    {% else %}
        ---&amp;gt;&amp;gt;&amp;gt;{{i}}
    {% endif %}
{% endfor %}

# å¤šå±‚åµŒå¥—å­—å…¸å–å€¼
{{dict1[&#39;1&#39;][&#39;1.1&#39;][&#39;1.2&#39;]}}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;jinja2ä¸­å¯ä»¥ä½¿ç”¨setå®šä¹‰ä¸´æ—¶å˜é‡ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ansibleå…¶ä»–åœ°æ–¹å®šä¹‰çš„å˜é‡å…³äºjinja2å˜é‡çš„å¼•ç”¨éƒ½æ˜¯é‡‡ç”¨å˜é‡åçš„æ–¹å¼å½“ç„¶é‡Œé¢è¿˜å¯ä»¥æ ¹æ®å˜é‡åæ•°æ®ç±»å‹é€‰æ‹©ä½ æƒ³è¦çš„ä¿¡æ¯æ¯”å¦‚dictkeyvalueç›´æ¥dictä¼šè¿”å›ä¸€ä¸ªpythonçš„å­—å…¸æ•°æ®å¦‚æœåªéœ€è¦keyå¯¹åº”çš„å€¼åˆ™éœ€è¦dictkeyæˆ–dictgetkey&#34;&gt;jinja2ä¸­å¯ä»¥ä½¿ç”¨setå®šä¹‰ä¸´æ—¶å˜é‡ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ansibleå…¶ä»–åœ°æ–¹å®šä¹‰çš„å˜é‡ï¼Œå…³äºjinja2å˜é‡çš„å¼•ç”¨éƒ½æ˜¯é‡‡ç”¨&lt;code&gt;{{å˜é‡å}}&lt;/code&gt;çš„æ–¹å¼ï¼Œå½“ç„¶é‡Œé¢è¿˜å¯ä»¥æ ¹æ®å˜é‡åæ•°æ®ç±»å‹é€‰æ‹©ä½ æƒ³è¦çš„ä¿¡æ¯ï¼Œæ¯”å¦‚&lt;code&gt;dict={&#39;key&#39;:&#39;value&#39;}&lt;/code&gt;ï¼Œç›´æ¥&lt;code&gt;{{dict}}&lt;/code&gt;ä¼šè¿”å›ä¸€ä¸ªpythonçš„å­—å…¸æ•°æ®ï¼Œå¦‚æœåªéœ€è¦keyå¯¹åº”çš„å€¼ï¼Œåˆ™éœ€è¦&lt;code&gt;{{dict[&#39;key&#39;]}}&lt;/code&gt;æˆ–&lt;code&gt;{{dict.get(&#39;key&#39;)}}&lt;/code&gt;ã€‚&lt;/h2&gt;
&lt;h1 id=&#34;ansible-ä¸€é”®éƒ¨ç½²haproxylnmp&#34;&gt;ansible-ä¸€é”®éƒ¨ç½²haproxy+lnmp&lt;/h1&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦çŸ¥é“æˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ ·çš„æ¶æ„ï¼Œç„¶åæˆ‘ä»¬äº†è§£æ•´ä¸ªæ¶æ„æ¯ä¸ªç»„ä»¶ä¹‹é—´æ˜¯å¦‚ä½•è¡”æ¥å’Œäº¤äº’çš„ï¼Œå½“ç„¶æˆ‘ä»¬è¿˜è¦æ¸…é™¤æ¶æ„ä¸­æ¯ä¸€ä¸ªç»„ä»¶çš„åŸç†å’Œæµç¨‹ã€‚&lt;br&gt;
haproxyæ˜¯ä¸€æ¬¾æä¾›é«˜å¯ç”¨ã€è´Ÿè½½å‡è¡¡ä»¥åŠåŸºäºTCPå’ŒHTTPåº”ç”¨çš„ä»£ç†è½¯ä»¶ï¼Œç›®å‰å¾ˆå¤šå¤§å…¬å¸ä¹Ÿåœ¨ä½¿ç”¨å…¶åšwebé›†ç¾¤å’Œcacheé›†ç¾¤çš„è´Ÿè½½å‡è¡¡ä»¥åŠä»£ç†&lt;br&gt;
æ•´ä¸ªæ¶æ„çš„æ•°æ®æµå‘ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;haproxyä»£ç†ä»¥åŠè´Ÿè½½çš„nginx+php&lt;/li&gt;
&lt;li&gt;nginx+phpçš„webåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;mysqlåŠŸèƒ½&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ¶æ„&#34;&gt;æ¶æ„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1593913779066.png&#34; alt=&#34;æ¶æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ç›®å½•ç»“æ„åŠè§’è‰²&#34;&gt;ç›®å½•ç»“æ„åŠè§’è‰²&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;haproxy_lnmp
â”œâ”€â”€ group_vars
â”‚   â”œâ”€â”€ all
â”‚   â”œâ”€â”€ haproxy
â”‚   â””â”€â”€ mysql
â”œâ”€â”€ hosts
â”œâ”€â”€ roles
â”‚   â”œâ”€â”€ base
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â”œâ”€â”€ CentOS-Base.repo
â”‚   â”‚       â””â”€â”€ epel.repo
â”‚   â”œâ”€â”€ haproxy
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â””â”€â”€ haproxy.cfg.j2
â”‚   â”œâ”€â”€ mysql
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â””â”€â”€ my.cnf.j2
â”‚   â”œâ”€â”€ nginx
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â”œâ”€â”€ index.php.j2
â”‚   â”‚       â””â”€â”€ nginx.conf.j2
â”‚   â””â”€â”€ php
â”‚       â””â”€â”€ tasks
â”‚           â””â”€â”€ main.yml
â””â”€â”€ site.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å˜é‡&#34;&gt;å˜é‡&lt;/h2&gt;
&lt;h3 id=&#34;å…¨å±€å˜é‡&#34;&gt;å…¨å±€å˜é‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat group_vars/all
---
ansible_ssh_pass: P@ssw0rd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mysqlå˜é‡&#34;&gt;mysqlå˜é‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat group_vars/mysql 
---
user: ansible
password: ansible
database: ansible
mysql_port: 3306
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;haprxoyå˜é‡&#34;&gt;haprxoyå˜é‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat group_vars/haproxy 
---
mode: http
listenport: 80
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;hostsåˆ—è¡¨&#34;&gt;hostsåˆ—è¡¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# cat hosts
[nginx]
192.168.1.201
192.168.1.203
[php]
192.168.1.201
192.168.1.203
[mysql]
192.168.1.203
[haproxy]
192.168.1.207
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å…¥å£æ–‡ä»¶siteyml&#34;&gt;å…¥å£æ–‡ä»¶site.yml&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- name: Modify the yum
  gather_facts: no
  hosts: all
  remote_user: root
  roles:
    - base

- name: Install the nginx
  hosts: nginx
  remote_user: root
  roles:
    - nginx

- name: Install the mysql 
  gather_facts: no
  hosts: mysql
  remote_user: root
  roles:
    - mysql

- name: Install the php
  gather_facts: no
  hosts: php
  remote_user: root
  roles:
    - php

- name: Install the haproxy
  gather_facts: no
  hosts: haproxy
  remote_user: root
  roles:
    - haproxy
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è§’è‰²&#34;&gt;è§’è‰²&lt;/h2&gt;
&lt;h3 id=&#34;base&#34;&gt;base&lt;/h3&gt;
&lt;h4 id=&#34;å…¥å£æ–‡ä»¶&#34;&gt;å…¥å£æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/base/tasks/main.yml 
---
- name: Copy the yum repo to the remote hosts
  template: src={{item}}  dest=/etc/yum.repos.d/{{item}}
  with_items:
      - CentOS-Base.repo
      - epel.repo
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;yumæºæ–‡ä»¶&#34;&gt;yumæºæ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;yumæºæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œã€163æˆ–æ¸…åå¤§å­¦ç­‰æº&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ll roles/base/templates/
total 8
-rw-r--r-- 1 root root 1663 Jul 21 17:50 CentOS-Base.repo
-rw-r--r-- 1 root root  970 Jul 21 17:50 epel.repo

# more roles/base/templates/CentOS-Base.repo
[base]
name=CentOS-$releasever - Base - mirrors.aliyun.com
baseurl=http://mirrors.aliyun.com/centos/$releasever/os/$basearch/
enabled=1
gpgcheck=0
[updates]
name=CentOS-$releasever - Updates - mirrors.aliyun.com
baseurl=http://mirrors.aliyun.com/centos/$releasever/updates/$basearch/
enabled=1
gpgcheck=0
[extras]
name=CentOS-$releasever - Extras - mirrors.aliyun.com
baseurl=http://mirrors.aliyun.com/centos/$releasever/extras/$basearch/
enabled=1
gpgcheck=0
[centosplus]
name=CentOS-$releasever - Plus - mirrors.aliyun.com
baseurl=http://mirrors.aliyun.com/centos/$releasever/centosplus/$basearch/
enabled=1
gpgcheck=0
[contrib]
name=CentOS-$releasever - Contrib - mirrors.aliyun.com
baseurl=http://mirrors.aliyun.com/centos/$releasever/contrib/$basearch/
enabled=1
gpgcheck=0

# epel.repo
[epel]
name=Extra Packages for Enterprise Linux 7 - $basearch
metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&amp;amp;arch=$basearch
enabled=1
gpgcheck=0
[epel-debuginfo]
name=Extra Packages for Enterprise Linux 7 - $basearch - Debug
metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&amp;amp;arch=$basearch
enabled=1
gpgcheck=0
[epel-source]
name=Extra Packages for Enterprise Linux 7 - $basearch - Source
metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&amp;amp;arch=$basearch
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;nginx&#34;&gt;nginx&lt;/h3&gt;
&lt;h4 id=&#34;å…¥å£æ–‡ä»¶-2&#34;&gt;å…¥å£æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/nginx/tasks/main.yml 
---
- name: Install Nginx Package
  yum: name=nginx state=present

- name: Copy Nginx.conf
  template: src=nginx.conf.j2 dest=/etc/nginx/nginx.conf owner=root group=root mode=0644 validate=&#39;nginx -t -c %s&#39;  

- name: restart nginx
  service: name=nginx state=restarted enabled=yes

- name: Copy php file to nginx web root
  template: src=index.php.j2 dest=/usr/share/nginx/html/index.php
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;p&gt;nginxé…ç½®æ–‡ä»¶æ˜¯åŒç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ll  roles/nginx/templates/
total 8
-rw-r--r-- 1 root root   34 Jul 21 19:21 index.php.j2
-rw-r--r-- 1 root root 2491 Jul 21 17:50 nginx.conf.j2

# cat roles/nginx/templates/index.php.j2 
# ç½‘é¡µæ–‡ä»¶ï¼Œè·å–nginxä¸»æœºçš„IP
{{ansible_default_ipv4.address}}

# cat roles/nginx/templates/nginx.conf.j2
user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;
include /usr/share/nginx/modules/*.conf;
events {
    worker_connections 1024;
}
http {
    log_format  main  &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;
                      &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;
                      &#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&#39;;
    access_log  /var/log/nginx/access.log  main;
    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 2048;
    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;
    include /etc/nginx/conf.d/*.conf;
    server {
        listen       80 default_server;
        listen       [::]:80 default_server;
        server_name  _;
        root         /usr/share/nginx/html;
        include /etc/nginx/default.d/*.conf;
        location / {
        }
        error_page 404 /404.html;
            location = /40x.html {
        }
        error_page 500 502 503 504 /50x.html;
            location = /50x.html {
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;php&#34;&gt;php&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/php/tasks/main.yml 
---
- name: Install php
  yum: name={{item}} state=installed
  with_items:
    - php-fpm
    - php-mysql

- name: start php service 
  service: name=php-fpm state=started enabled=yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mysql&#34;&gt;mysql&lt;/h3&gt;
&lt;h4 id=&#34;å…¥å£æ–‡ä»¶-3&#34;&gt;å…¥å£æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/mysql/tasks/main.yml 
---
- name: Install mysql
  yum: name={{item}} state=installed
  with_items:
    - mariadb-server
    - MySQL-python

- name: Configure the mysql cnf file with hosts
  template: src=my.cnf.j2 dest=/etc/my.cnf owner=root group=root mode=0644

- name: Start mariadb service 
  service: name=mariadb state=started enabled=yes

- name: Create database
  mysql_db: name={{database}} state=present
  
- name: Create user
  mysql_user: name={{user}} password={{password}} priv={{database}}.*:ALL host=&#39;%&#39; state=present
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é…ç½®æ–‡ä»¶-2&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# cat roles/mysql/templates/my.cnf.j2 
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
symbolic-links=0
port={{ mysql_port }}
[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mariadb/mysqld.pid
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;haproxy&#34;&gt;haproxy&lt;/h3&gt;
&lt;h4 id=&#34;å…¥å£æ–‡ä»¶-4&#34;&gt;å…¥å£æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/haproxy/tasks/main.yml 
- name: Install haproxy
  yum: name=haproxy state=present
 
- name: Configure the haproxy cnf file with hosts
  template: src=haproxy.cfg.j2 dest=/etc/haproxy/haproxy.cfg

- name: restart haproxy
  service: name=haproxy state=restarted enabled=yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é…ç½®æ–‡ä»¶-3&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;# cat roles/haproxy/templates/haproxy.cfg.j2 
global
    log         127.0.0.1 local2
    chroot      /var/lib/haproxy
    pidfile     /var/run/haproxy.pid
    maxconn     4000
    user        haproxy
    group       haproxy
    daemon
    stats socket /var/lib/haproxy/stats
defaults
    mode                    {{mode}} 
    log                     global
    option                  httplog
    option                  dontlognull
    option http-server-close
    option forwardfor       except 127.0.0.0/8
    option                  redispatch
    retries                 3
    timeout http-request    10s
    timeout queue           1m
    timeout connect         10s
    timeout client          1m
    timeout server          1m
    timeout http-keep-alive 10s
    timeout check           10s
    maxconn                 3000
frontend  main *:{{listenport}}
    acl url_static       path_beg       -i /static /images /javascript /stylesheets
    acl url_static       path_end       -i .jpg .gif .png .css .js
    use_backend static          if url_static
    default_backend             app
backend static
    balance     roundrobin
    server      static 127.0.0.1:8080 check
backend app
    balance     roundrobin
    {% for host in groups[&#39;nginx&#39;] %}
    server {{hostvars[host][&#39;inventory_hostname&#39;]}} {{host}}:80}
    # server {{hostvars[host][&#39;ansible_hostname&#39;]}} {{hostvars[host][&#39;inventory_hostname&#39;]}}:80 check inter 3000 rise 3 fall 2
    {% endfor %}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è¯­æ³•æ£€æŸ¥&#34;&gt;è¯­æ³•æ£€æŸ¥&lt;/h2&gt;
&lt;p&gt;åªæ£€æŸ¥site.ymlå…¥å£æ–‡ä»¶ï¼Œä¸èƒ½æ£€æŸ¥å„ä¸ªè§’è‰²ä¸‹çš„main.yml&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-playbook site.yml --syntax-check
    playbook: site.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰§è¡Œ&#34;&gt;æ‰§è¡Œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ansible-playbook -i hosts site.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æµ‹è¯•&#34;&gt;æµ‹è¯•&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;curl 192.168.1.201
curl 192.168.1.203
curl 192.168.1.207
curl 192.168.1.207
curl 192.168.1.207
curl 192.168.1.207
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ’é”™&#34;&gt;æ’é”™&lt;/h2&gt;
&lt;h2 id=&#34;åœ¨å…¥å£æ–‡ä»¶siteymlä¸­çš„nginxè§’è‰²æ²¡æœ‰ä½¿ç”¨gather_facts-noé€‰é¡¹æ˜¯å› ä¸ºindexphpä¸­è¦è·å–ä¸»æœºçš„ä¿¡æ¯å¾—åˆ°ipåœ°å€&#34;&gt;åœ¨å…¥å£æ–‡ä»¶site.ymlä¸­çš„nginxè§’è‰²æ²¡æœ‰ä½¿ç”¨gather_facts: noé€‰é¡¹ï¼Œæ˜¯å› ä¸ºindex.phpä¸­è¦è·å–ä¸»æœºçš„ä¿¡æ¯å¾—åˆ°IPåœ°å€ã€‚&lt;/h2&gt;
&lt;h1 id=&#34;ansibleä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦&#34;&gt;ansibleä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦&lt;/h1&gt;
&lt;h2 id=&#34;å¼€å¯sshé•¿è¿æ¥&#34;&gt;å¼€å¯sshé•¿è¿æ¥&lt;/h2&gt;
&lt;p&gt;ansibleæ¨¡å¼æ˜¯ä½¿ç”¨sshå’Œè¢«ç®¡ç†æœºå™¨è¿›è¡Œé€šä¿¡çš„ï¼Œæ‰€ä»¥ansibleå¯¹sshçš„ä¾èµ–éå¸¸å¼ºã€‚&lt;br&gt;
ansibleåœ¨openssh5.6ç‰ˆæœ¬ä»¥åå¯ä»¥æ”¯æŒmultiplexingï¼Œåœ¨&lt;code&gt;ansible.cfg&lt;/code&gt;æ–‡ä»¶ä¸­è®¾ç½®sshé•¿è¿æ¥ï¼Œè®¾ç½®å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/ansible/ansible.cfg
sh_args = -C -o ControlMaster=auto ControlPersist=5d  
# ControlPersist=5d ï¼šè®¾ç½®æ•´ä¸ªé•¿è¿æ¥ä¿æŒæ—¶é—´ä¸º5å¤©ï¼Œå¦‚æœå¼€å¯åé€šè¿‡sshè¿æ¥è¿‡çš„è®¾å¤‡éƒ½ä¼šåœ¨å½“å‰ansible/cpç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ªsocketæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡netstatå‘½ä»¤æŸ¥çœ‹ï¼Œä¼šå‘ç°æœ‰ä¸€ä¸ªçŠ¶æ€ä¸ºESTABLISHEDçš„è¿æ¥ä¸€ç›´ä¸è¢«æ§ç«¯è¿›è¡ŒTCPè¿æ¥
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¼€å¯pipelining&#34;&gt;å¼€å¯pipelining&lt;/h2&gt;
&lt;p&gt;pipeliningä¹Ÿæ˜¯opensshçš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¹‹å‰çš„æµç¨‹æ˜¯åœ¨æœ¬åœ°äº§ç”Ÿä¸€ä¸ªpyçš„æ–‡ä»¶ï¼Œç„¶åputåˆ°è¢«æ§ç«¯ä¸Šé¢å†æ‰§è¡Œè¿™ä¸ªpyè„šæœ¬ã€‚å¦‚æœå¼€å¯pipeliningï¼Œè¿™ä¸ªè¿‡ç¨‹å°†ä¼šåœ¨sshçš„ä¼šè¯ä¸­è¿›è¡Œã€‚&lt;br&gt;
å¦‚æœéœ€è¦å¼€å¯pipeliningï¼Œåˆ™éœ€è¦åœ¨è¢«æ§ç«¯/etc/sudoersæ–‡ä»¶ç¼–è¾‘å½“å‰ansible sshç”¨æˆ·çš„é…ç½®ä¸ºrequiretyã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/ansible/ansible.cfg
pipelining = True
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¼€å¯accelerate&#34;&gt;å¼€å¯accelerate&lt;/h2&gt;
&lt;p&gt;å’Œå‰é¢çš„sshçš„é•¿è¿æ¥æœ‰ç‚¹ç±»ä¼¼ï¼Œå› ä¸ºéƒ½ä¾èµ–ansibleæ§åˆ¶ç«¯å’Œè¢«æ§ç«¯æœ‰ä¸€ä¸ªé•¿è¿æ¥ï¼Œä½†æ˜¯accelerateæ˜¯ä½¿ç”¨pythonåœ¨è¢«æ§ç«¯è¿è¡Œä¸€ä¸ªå®ˆæŠ¤è¿›è¡Œï¼Œç„¶åansibleä¼šé€šè¿‡è¿™ä¸ªå®ˆæŠ¤è¿›è¡Œç›‘å¬çš„ç«¯å£è¿›è¡Œé€šä¿¡ï¼Œå¼€å¯accelarateæ¨¡å¼ï¼Œåˆ™éœ€è¦åœ¨ansibleæ§åˆ¶ç«¯å’Œè¢«æ§ç«¯éƒ½å®‰è£…python-keyczarè½¯ä»¶åŒ…&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/ansible/ansible.cfg
[accelerate]
accelerate_port=5099
accelerate_timeout=30
accelerate_connect_timeout=5.0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®¾ç½®factsç¼“å­˜&#34;&gt;è®¾ç½®factsç¼“å­˜&lt;/h2&gt;
&lt;p&gt;åœ¨playbooké‡Œé¢æœ‰ä¸€ä¸ª&lt;code&gt;gather_facts:yes&lt;/code&gt;é€‰é¡¹ï¼Œç”¨æ¥æ”¶é›†è¿œç«¯æœºå™¨çš„ä¿¡æ¯ï¼Œæ¯”è¾ƒæµªè´¹æ—¶é—´ï¼Œæ‰§è¡Œä¸€æ¬¡ä¹‹åï¼Œå°†ç»“æœä¿å­˜ä¸€å®šæ—¶é—´å¯ä»¥èŠ‚çœåé¢æ‰§è¡Œplaybookçš„æ—¶é—´ï¼Œä»è€Œæé«˜æ•ˆç‡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# vim /etc/ansible/ansible.cfg
gathering = smart
fact_caching_timeout = 86400
fact_caching = jsonfile
fact_cashing_connection = /dev/shm/ansible_fact_cache 
 # ansibleæ”¯æŒå°†æ•°æ®æ”¾åˆ°redisé‡Œé¢ï¼Œè¯»å–é€Ÿåº¦ä¼šæ›´å¿«
gathering = smart
fact_caching_timeout = 86400
fact_caching = redis
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansibleç›®å½•æ ‡å‡†åŒ–&#34;&gt;ansibleç›®å½•æ ‡å‡†åŒ–&lt;/h1&gt;
&lt;p&gt;å‚è€ƒ&lt;a href=&#34;https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html&#34;&gt;https://docs.ansible.com/ansible/latest/user_guide/playbooks_best_practices.html&lt;/a&gt;&lt;br&gt;
å®˜ç½‘æœ€ä½³å®è·µä¸­æ¨èä½¿ç”¨çš„ansibleå·¥ä½œç›®å½•çš„ç»“æ„ï¼Œç»Ÿä¸€å·¥ä½œç›®å½•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;Project
â”œâ”€â”€ hosts # ä¸»æœºæ¸…å•
â”œâ”€â”€ site.yml # playbookç»Ÿä¸€å…¥å£æ–‡ä»¶
â”œâ”€â”€ webservers.yml # ç‰¹æ®Šä»»åŠ¡playbookæ–‡ä»¶ã€ä¸€èˆ¬ä¸ç”¨ã€‘
â”œâ”€â”€ java  # javaç¯å¢ƒçš„inventoryæ–‡ä»¶
â”œâ”€â”€ web # webç¯å¢ƒçš„inventoryæ–‡ä»¶
â”œâ”€â”€ library # è‡ªå®šä¹‰æ¨¡å—å­˜æ”¾çš„ç›®å½•
â”œâ”€â”€ filter_plugins # è‡ªå®šä¹‰filteræ’ä»¶å­˜æ”¾çš„ç›®å½•
â”œâ”€â”€ group_vars  # è‡ªå®šä¹‰å˜é‡å­˜æ”¾æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ all  # å…¨å±€å˜é‡
â”‚   â”œâ”€â”€ role1 # role1ä½¿ç”¨çš„å˜é‡
â”‚   â””â”€â”€ role2
â”œâ”€â”€ host_vars  # è‡ªå®šä¹‰å˜é‡å­˜æ”¾æ–‡ä»¶å¤¹ï¼ŒåŠŸèƒ½åŒgroup_varsã€ä¸€èˆ¬ä¸ç”¨ã€‘
â”‚   â”œâ”€â”€ all  # å…¨å±€å˜é‡
â”‚   â”œâ”€â”€ host1 # role1ä½¿ç”¨çš„å˜é‡
â”œâ”€â”€ roles #è§’è‰²å­˜æ”¾çš„ç›®å½•
â”‚   â”œâ”€â”€ role1  # è§’è‰²1ç›®å½•
â”‚   â”‚   â”œâ”€â”€ tasks # å­˜æ”¾playbookçš„ç›®å½•ï¼Œå…¶ä¸­main.ymlæ˜¯ä¸»å…¥å£æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ main.yml # åœ¨main.ymlä¸­å¯¼å…¥å…¶ä»–ymlæ–‡ä»¶ï¼Œè¦é‡‡ç”¨import_taskså…³é”®å­—
â”‚   â”‚    |   â””â”€â”€ install.yml
â”‚   â”‚   â”œâ”€â”€ handles # å­˜æ”¾tasksä¸­çš„notifyæŒ‡å®šçš„å†…å®¹
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â”œâ”€â”€ files # unarchiveã€copyç­‰æ¨¡å—ä¼šæ¥è¿™æ‰¾æ–‡ä»¶ï¼Œä¸å¿…å†™ç»å¯¹è·¯å¾„ï¼Œåªéœ€å†™æ–‡ä»¶å
â”‚   â”‚    |    â”œâ”€â”€ mysql.tar.gz
â”‚   â”‚    |    â””â”€â”€ nginx.tar.gz
â”‚   â”‚   â””â”€â”€ templates # templateæ¨¡å—éœ€è¦ç”¨çš„æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œå­˜æ”¾çš„æ˜¯è½¯ä»¶çš„é…ç½®æ–‡ä»¶
â”‚   â”‚         â”œâ”€â”€ index.php.j2 # ä½¿ç”¨jinja2æ ¼å¼ä½œä¸ºæ–‡ä»¶æ¨¡æ¿ï¼Œè¿›è¡Œæ–‡æ¡£å†…å˜é‡æ›¿æ¢çš„æ¨¡å—
â”‚   â”‚         â””â”€â”€ nginx.conf.j2

# ä¸¾ä¾‹ï¼š
haproxy_lnmp
â”œâ”€â”€ group_vars
â”‚   â”œâ”€â”€ all
â”‚   â”œâ”€â”€ haproxy
â”‚   â””â”€â”€ mysql
â”œâ”€â”€ hosts
â”œâ”€â”€ roles
â”‚   â”œâ”€â”€ base
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â”œâ”€â”€ CentOS-Base.repo
â”‚   â”‚       â””â”€â”€ epel.repo
â”‚   â”œâ”€â”€ haproxy
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â””â”€â”€ haproxy.cfg.j2
â”‚   â”œâ”€â”€ mysql
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â””â”€â”€ my.cnf.j2
â”‚   â”œâ”€â”€ nginx
â”‚   â”‚   â”œâ”€â”€ tasks
â”‚   â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚       â”œâ”€â”€ index.php.j2
â”‚   â”‚       â””â”€â”€ nginx.conf.j2
â”‚   â””â”€â”€ php
â”‚       â””â”€â”€ tasks
â”‚           â””â”€â”€ main.yml
â””â”€â”€ site.yml
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ansible-é¡¹ç›®å®æˆ˜-æ‰¹é‡éƒ¨ç½²&#34;&gt;ansible-é¡¹ç›®å®æˆ˜-æ‰¹é‡éƒ¨ç½²&lt;/h1&gt;
&lt;h2 id=&#34;éœ€æ±‚å’Œç›®çš„&#34;&gt;éœ€æ±‚å’Œç›®çš„&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ansibleåˆ¶ä½œä¸€ä¸ªåˆå§‹åŒ–è„šæœ¬ï¼Œé‡‡ç”¨æ ‡å‡†åŒ–åŠè‡ªåŠ¨åŒ–æµç¨‹ï¼Œå¯ç§»æ¤ã€å¯å¤ç”¨ã€æ­¥éª¤æ˜ç¡®ã€æ“ä½œç®€ä¾¿ã€ä½æ•…éšœã€è´£ä»»æ˜ç¡®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆå§‹åŒ–æ“ä½œ&#34;&gt;åˆå§‹åŒ–æ“ä½œ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®yumæº&lt;/li&gt;
&lt;li&gt;å®‰è£…å¸¸ç”¨è½¯ä»¶å’Œæœºå™¨æ‰€éœ€è½¯ä»¶ï¼šwgetã€vimã€unzipã€net-toolsã€gccã€ntpdateç­‰&lt;/li&gt;
&lt;li&gt;é…ç½®é˜²ç«å¢™&lt;/li&gt;
&lt;li&gt;é…ç½®SeLinuxï¼ˆå…³é—­ï¼‰&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆç§˜é’¥ï¼Œå‘é€å…¬é’¥&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹sshé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹sshè¿æ¥çš„é»˜è®¤ç«¯å£&lt;/li&gt;
&lt;li&gt;é…ç½®DNSã€hostnameã€IPç­‰&lt;/li&gt;
&lt;li&gt;é…ç½®æ—¶é—´åŒæ­¥æœåŠ¡å™¨ï¼Œæ·»åŠ åˆ°crontab&lt;/li&gt;
&lt;li&gt;è°ƒä¼˜ï¼Œä¼˜åŒ–å†…æ ¸å‚æ•°ï¼šæé«˜æ‰“å¼€æ–‡ä»¶æ•°é‡ã€é…ç½®nginxæœ€å¤§è¿æ¥æ•°ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;IOæµ‹è¯•ï¼Œç£ç›˜æ€§èƒ½&lt;/li&gt;
&lt;li&gt;......&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åˆ›å»ºæ‰€æœ‰çš„è§’è‰²&#34;&gt;åˆ›å»ºæ‰€æœ‰çš„è§’è‰²&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;baseï¼Œæ›¿æ¢yumæº&lt;/li&gt;
&lt;li&gt;publicï¼Œç§˜é’¥&lt;/li&gt;
&lt;li&gt;yumï¼Œå®‰è£…ä¾èµ–&lt;/li&gt;
&lt;li&gt;crontabï¼Œé…ç½®æ—¶é—´æœåŠ¡å™¨ç­‰&lt;/li&gt;
&lt;li&gt;iptablesï¼Œå…³é—­selinuxã€NetworkManagerå’Œiptablesé…ç½®&lt;/li&gt;
&lt;li&gt;initï¼Œè°ƒä¼˜åˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;installï¼Œå®‰è£…è½¯ä»¶&lt;/li&gt;
&lt;li&gt;ssh_configï¼Œä¿®æ”¹sshçš„é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p setup_init/roles/{base,public,yum,crontab,iptables,init,install,ssh_config}/{tasks,templates,files}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¼€å‘&#34;&gt;å¼€å‘&lt;/h2&gt;
&lt;h3 id=&#34;ç›®å½•ç»“æ„&#34;&gt;ç›®å½•ç»“æ„&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;/root/
â””â”€â”€ setup_init
    â””â”€â”€ roles
        â”œâ”€â”€ base
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CentOS-Base.repo
        â”‚Â Â  â”‚Â Â  â””â”€â”€ epel.repo
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ crontab
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ init
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ install
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ iptables
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ public
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”‚Â Â  â””â”€â”€ id_rsa.pub
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â”œâ”€â”€ ssh_config
        â”‚Â Â  â”œâ”€â”€ files
        â”‚Â Â  â”œâ”€â”€ tasks
        â”‚Â Â  â”‚Â Â  â””â”€â”€ main.yml
        â”‚Â Â  â””â”€â”€ templates
        â””â”€â”€ yum
            â”œâ”€â”€ files
            â”œâ”€â”€ tasks
            â”‚Â Â  â””â”€â”€ main.yml
            â””â”€â”€ templates
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…¥å£æ–‡ä»¶-5&#34;&gt;å…¥å£æ–‡ä»¶&lt;/h3&gt;
&lt;h4 id=&#34;basetasksmainyml&#34;&gt;base/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- copy: src=CentOS-Base.repo dest=/etc/yum.repos.d/CentOS-Base.repo
- copy: src=epel.repo dest=/etc/yum.repos.d/epel.repo
- shell: yum makecache
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;publictasksmainyml&#34;&gt;public/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- shell: mkdir -p ~/.ssh
- copy: src=id_rsa.pub dest=&#39;~/.ssh/id_rsa.pub_tmp&#39; force=yes
- shell: cat &#39;~/.ssh/id_rsa.pub_tmp&#39; &amp;gt;&amp;gt;&#39;~/.ssh/zuthorized_keys&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;yumtasksmainyml&#34;&gt;yum/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- yum: name={{item}} state=present
  with_items:
    - vim
    - unzip
    - wget
    - gcc
    - net-tools
    - tree
    - ntpdate
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;crontabtasksmainyml&#34;&gt;crontab/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- cron: minute */2 hour=* day=* month=* name=uptime job=&#39;ntpdate time.windows.com &amp;gt;/dev/null&#39; state=present
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;iptablestasksmainyml&#34;&gt;iptables/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
- serivce: name=NetworkManager state=stopped enabled=no
- shell: setenforce 0
# é˜²ç«å¢™æ ¹æ®è¦æ±‚è¿›è¡Œé…ç½®
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;inittasksmainyml&#34;&gt;init/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
# æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¼˜åŒ–
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;installtasksmainyml&#34;&gt;install/tasks/main.yml&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
# æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œå®‰è£…
&lt;/code&gt;&lt;/pre&gt;
">Ansibleå­¦ä¹ ä¸å®è·µ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/mysql-zhu-cong-tong-bu/"" data-c="
          &lt;h1 id=&#34;ç¯å¢ƒåŠè¦æ±‚&#34;&gt;ç¯å¢ƒåŠè¦æ±‚&lt;/h1&gt;
&lt;p&gt;ä¸»ï¼š192.168.1.251&lt;br&gt;
ä»ï¼ˆä¸»ä¸»å¤åˆ¶ä¸­çš„ä¸»ï¼‰ï¼š192.168.1.253&lt;/p&gt;
&lt;h1 id=&#34;ä¸»ä»å¤åˆ¶&#34;&gt;ä¸»ä»å¤åˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;ä¸»æœåŠ¡å™¨&#34;&gt;ä¸»æœåŠ¡å™¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf
	[mysqld]
	skip_name_resolve=0 #ç¦æ­¢åŸŸåè§£æ
	server-id=251 #è®¾ç½®ä¸»æœåŠ¡çš„ID (idå¯ä»¥è‡ªå·±éšä¾¿è®¾ç½®ä½†æ˜¯è¦ä¿è¯å’Œslaveçš„idä¸ä¸€æ ·)
	log-bin=master-bin #log-binæ—¥å¿—æ–‡ä»¶å
	sync_binlog=1 #ã€å¯é€‰ã€‘å¼€å¯binlogæ—¥å¿—åŒæ­¥åŠŸèƒ½
	binlog-lgnore-db=mysql #ã€å¯é€‰ã€‘è®¾ç½®ä¸è¦å¤åˆ¶çš„æ•°æ®åº“
	binlog-do-db=éœ€è¦å¤åˆ¶çš„ä¸»æ•°æ®åº“åå­— #ã€å¯é€‰ã€‘è®¾ç½®éœ€è¦å¤åˆ¶çš„æ•°æ®
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é‡å¯mysqlåç”Ÿæˆæ—¥å¿—æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl restart mariadb
cat /data/mysql/master-bin.000001 #æŠŠé‡Œé¢è®°å½•çš„æ—¥å¿—æ–‡ä»¶åè®°å½•ä¸‹æ¥ç­‰ä¸€ä¸‹ä»åº“è¦ç”¨åˆ°
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æˆæƒåæŸ¥çœ‹ä¸»æœåŠ¡å™¨çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -p
    grant replication slave,replication client on *.* to &amp;quot;mariadbsync&amp;quot;@&amp;quot;192.168.1.253&amp;quot; identified by &amp;quot;123456&amp;quot;; 
    flush privileges;
    show master status; #è®°å½•ä¸‹245ï¼ˆposï¼‰ç­‰ä¸‹é…ç½®ä»åº“è¦ç”¨
        +--------------------+----------+--------------+---------------+
        | File | Position | Binlog_Do_DB | Binlog_Ignore_DB |
        +--------------------+----------+--------------+---------------+
        | master-bin.000001 | 245 | | |
        +--------------------+----------+--------------+---------------+
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä»æœåŠ¡å™¨&#34;&gt;ä»æœåŠ¡å™¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf
	[mysqld]
	skip_name_resolve=0 #ç¦æ­¢åŸŸåè§£æ
	server-id=253	
	relay-log=slave-bin	#relay-logæ—¥å¿—æ–‡ä»¶å
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é‡å¯mysqåé…ç½®ä»åº“&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl restart mariadb
mysql -uroot -p
    change master to 
    MASTER_HOST=&#39;192.168.1.251&#39;,  #ä¸»åº“IP
    MASTER_USER=&#39;mariadbsync&#39;,   #è´¦å·
    MASTER_PASSWORD=&#39;123456&#39;, #å¯†ç   
    MASTER_LOG_FILE=&#39;master-bin.000001&#39;, #ä¸»åº“æ—¥å¿—æ–‡ä»¶å  
    MASTER_LOG_POS=245; #ä¸»åº“çš„posä¸º245
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¼€å¯ä»åº“ä¸çŠ¶æ€æŸ¥çœ‹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -p
    start slave; #å¯åŠ¨
    stop slave; #å…³é—­
    show slave status\G #æŸ¥çœ‹çŠ¶æ€
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ä¸»ä¸»å¤åˆ¶&#34;&gt;ä¸»ä¸»å¤åˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;ä¸»1&#34;&gt;ä¸»1&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf
	[mysqld]
	skip_name_resolve=0
	server-id=251
	log-bin=master-bin-251
	relay-log=slave-bin-251
	auto_increment_offset=1 #ã€å¯é€‰ã€‘è‡ªå¢å€¼
    auto_increment_increment=2 #ã€å¯é€‰ã€‘æ¼‚ç§»å€¼,ä¹Ÿå°±æ˜¯æ­¥é•¿
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æˆæƒåæŸ¥çœ‹ä¸»æœåŠ¡å™¨çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -p
    grant replication slave,replication client on *.* to &amp;quot;mariadbsync&amp;quot;@&amp;quot;192.168.1.253&amp;quot; identified by &amp;quot;123456&amp;quot;; 
    flush privileges;
    show master status; #è®°å½•ä¸‹245ï¼ˆposï¼‰ç­‰ä¸‹é…ç½®ä»åº“è¦ç”¨
        +--------------------+----------+--------------+---------------+
        | File | Position | Binlog_Do_DB | Binlog_Ignore_DB |
        +--------------------+----------+--------------+---------------+
        | master-bin-251.000001 | 245 | | |
        +--------------------+----------+--------------+---------------+
    # ä»¥ä¸‹å‘½ä»¤éœ€è¦ä¸»2é…ç½®ç©ä¹‹åæ‰èƒ½æ‰§è¡Œ
    change master to 
        master_host=&#39;192.168.1.253&#39;
        master_user=&#39;mariadbsync&#39;
        master_password=&#39;123456&#39;
        master_log_file=&#39;master-bin-253.000003&#39;
        master_log_pos=231; 
    start slave;
    SHOW SLAVE STATUS\G
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸»2&#34;&gt;ä¸»2&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/my.cnf
	[mysqld]
	skip_name_resolve=0
	server-id=253
	log-bin=master-bin-253
	relay-log=slave-bin-253
	auto_increment_offset=2 #ã€å¯é€‰ã€‘è‡ªå¢å€¼
    auto_increment_increment=2 #ã€å¯é€‰ã€‘æ¼‚ç§»å€¼,ä¹Ÿå°±æ˜¯æ­¥é•¿
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æˆæƒåæŸ¥çœ‹ä¸»æœåŠ¡å™¨çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -p
    grant replication slave,replication client on *.* to &amp;quot;mariadbsync&amp;quot;@&amp;quot;192.168.1.251&amp;quot; identified by &amp;quot;123456&amp;quot;; 
    flush privileges;
    show master status; #è®°å½•ä¸‹245ï¼ˆposï¼‰ç­‰ä¸‹é…ç½®ä»åº“è¦ç”¨
        +--------------------+----------+--------------+---------------+
        | File | Position | Binlog_Do_DB | Binlog_Ignore_DB |
        +--------------------+----------+--------------+---------------+
        | master-bin-253.000003 | 231 | | |
        +--------------------+----------+--------------+---------------+
    # ä»¥ä¸‹å‘½ä»¤éœ€è¦ä¸»2é…ç½®ç©ä¹‹åæ‰èƒ½æ‰§è¡Œ
    change master to 
        master_host=&#39;192.168.1.251&#39;
        master_user=&#39;mariadbsync&#39;
        master_password=&#39;123456&#39;
        master_log_file=&#39;master-bin-251.000001&#39;
        master_log_pos=245; 
    start slave;
    SHOW SLAVE STATUS\G
&lt;/code&gt;&lt;/pre&gt;
">mariadbçš„ä¸»ä»å¤åˆ¶ã€ä¸»ä¸»å¤åˆ¶é…ç½®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/07-jiao-huan-20200601/"" data-c="
          &lt;h1 id=&#34;äº¤æ¢æœº&#34;&gt;äº¤æ¢æœº&lt;/h1&gt;
&lt;h2 id=&#34;å·¥ä½œåŸç†&#34;&gt;å·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;äº¤æ¢æœºæ ¹æ®æ•°æ®å¸§çš„æºMACæ¥å­¦ä¹ ï¼Œæ„å»ºCAMè¡¨é¡¹ï¼ˆMACåœ°å€å’Œç«¯å£çš„æ˜ å°„å…³ç³»ï¼‰ï¼Œæ ¹æ®ç›®çš„MACåœ°å€æ¥è¿›è¡Œè½¬å‘ï¼ˆæ ¹æ®CAMè¡¨é¡¹æ¥è¿›è¡Œè½¬å‘ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;äº”ç§åŸºæœ¬æ“ä½œ&#34;&gt;äº”ç§åŸºæœ¬æ“ä½œ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å­¦ä¹ MACåœ°å€ï¼Œæ ¹æ®æºMACæ„å»ºCAMè¡¨é¡¹&lt;/li&gt;
&lt;li&gt;åˆ é™¤MACï¼Œé»˜è®¤300ç§’ï¼ˆaging-timeï¼‰ï¼Œ300ç§’åå¦‚æœæ²¡æœ‰æ”¶åˆ°æ›´æ–°ï¼Œå°±ä¼šåˆ é™¤&lt;/li&gt;
&lt;li&gt;æ³›æ´ªï¼Œå¦‚æœMACåœ°å€ä¸åœ¨CAMè¡¨é¡¹ä¸­åˆ™ä¼šæ³›æ´ªã€‚å¹¿æ’­åªæ˜¯æ³›æ´ª è¡Œä¸ºä¸­çš„çš„å…¶ä¸­ ä¸€ç§&lt;br&gt;
&lt;code&gt;BUMæŠ¥æ–‡ã€‚Bï¼ŒBroadcastï¼Œff-ff-ff-ff-ff-ffï¼›Uï¼ŒæœªçŸ¥å•æ’­å¸§ï¼Œ ç¬¬ä¸€ç»„ç¬¬å…«ä½ä¸º0æ˜¯å•æ’­ï¼›Mï¼Œç»„æ’­ ï¼Œç¬¬ä¸€ç»„ç¬¬å…«ä½ä¸º1æ˜¯ç»„æ’­ï¼Œ01ï¼00ï¼5eã€01-80-c2ã€ 33-33-33&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è½¬å‘ï¼Œæ ¹æ®ç›®çš„MACï¼ŒæŸ¥æ‰¾CAMè¡¨é¡¹è¿›è¡Œè½¬å‘&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤ï¼Œç«¯å£å®‰å…¨ï¼Œäº¤æ¢æœºä¸ä¼šå°†æ•°æ®å¸§ä»æ¥æ”¶ç«¯å£å‘é€å‡ºå»ï¼Œå¦‚æœæ•°æ®å¸§ä¸­çš„CRCæ ¡éªŒå¤±è´¥ï¼Œä¹Ÿä¼šä¸¢å¼ƒ&lt;br&gt;
##ç«¯å£ç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äº¤æ¢æœºä¸‰ç§ç«¯å£æ¨¡å¼access-hybridå’Œtrunkçš„ç†è§£&#34;&gt;äº¤æ¢æœºä¸‰ç§ç«¯å£æ¨¡å¼Accessã€Hybridå’ŒTrunkçš„ç†è§£&lt;/h3&gt;
&lt;p&gt;ç«¯å£æœ‰ä¸‰ç§æ¨¡å¼ï¼šaccessï¼Œhybridï¼Œtrunkã€‚&lt;/p&gt;
&lt;h4 id=&#34;accessç±»å‹ç«¯å£&#34;&gt;Accessç±»å‹ç«¯å£&lt;/h4&gt;
&lt;p&gt;åªèƒ½å±äº1ä¸ªVLANï¼Œä¸”è¯¥ç«¯å£ä¸æ‰“tagï¼Œä¸€èˆ¬è¿æ¥ä¸»æœºï¼Œåªç”¨äºæ¥å…¥é“¾è·¯&lt;br&gt;
åªå…è®¸ä¸è¯¥ç«¯å£çš„PVIDç›¸åŒçš„VLANé€šè¿‡ï¼Œæ”¶åˆ°untaggedçš„æ•°æ®å¸§ï¼Œå¼ºåˆ¶æ‰“ä¸Šæœ¬ç«¯å£PVIDçš„æ ‡ç­¾ï¼›&lt;/p&gt;
&lt;h4 id=&#34;trunkç±»å‹ç«¯å£&#34;&gt;Trunkç±»å‹ç«¯å£&lt;/h4&gt;
&lt;p&gt;å¯ä»¥å…è®¸å¤šä¸ªVLANé€šè¿‡ï¼Œä¸”è¯¥ç«¯å£éƒ½æ˜¯æ‰“tagçš„ï¼Œè¿™ä¸ªç«¯å£æ˜¯äº¤æ¢æœºä¹‹é—´æˆ–è€…äº¤æ¢æœºå’Œä¸Šå±‚è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ç«¯å£ï¼Œç”¨äºå¹²é“é“¾è·¯ã€‚è¿™ç§ç«¯å£çš„å­˜åœ¨å°±æ˜¯ä¸ºäº†å¤šä¸ªvlançš„è·¨è¶Šäº¤æ¢æœºè¿›è¡Œä¼ é€’ã€‚&lt;br&gt;
ä¸€ä¸ªtrunkç«¯å£å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªä¸»vlanå’Œå¤šä¸ªå‰¯vlanã€‚åœ¨äº¤æ¢æœºä¹‹é—´ä¼ é€’tagged frameã€‚å…è®¸å¤šä¸ªVLANé€šè¿‡ï¼Œå¯ä»¥ä¸PVIDä¸åŒï¼›æ”¶åˆ°ä¸å¸¦tagged frameçš„æ•°æ®å¸§æ—¶ï¼Œæ‰“ä¸Šä¸»PVIDå¹¶è½¬å‘ï¼›æ”¶åˆ°å¸¦tagged frameæ•°æ®å¸§æ—¶ï¼Œæ£€æŸ¥VLAN IDï¼Œå¦‚æœå…è®¸å¹¶ä¸”VLAN IDä¸PVIDç›¸åŒï¼Œå»æ‰taggedç›´æ¥è½¬å‘ï¼Œå¦‚æœå…è®¸å¹¶ä¸”VLAN IDä¸PVIDä¸åŒï¼Œç›´æ¥è½¬å‘åŸæ•°æ®å¸§ã€‚&lt;/p&gt;
&lt;h4 id=&#34;hybridç±»å‹ç«¯å£&#34;&gt;Hybridç±»å‹ç«¯å£&lt;/h4&gt;
&lt;p&gt;å¯ä»¥å…è®¸å¤šä¸ªVLANé€šè¿‡ï¼Œè‡³äºè¯¥ç«¯å£åœ¨vlanä¸­æ˜¯å¦æ‰“tagç”±ç”¨æˆ·æ ¹æ®å…·ä½“æƒ…å†µè€Œå®šï¼Œå¯ä»¥ç”¨äºäº¤æ¢æœºä¹‹é—´çš„è¿æ¥ä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢æœºå’Œç”¨æˆ·è®¡ç®—æœºä¹‹é—´çš„è¿æ¥ã€‚&lt;br&gt;
æ­¤ç«¯å£çš„è½¬å‘æ¨¡å¼ä¸trunkç«¯å£ä¸€æ ·ï¼Œå…è®¸å¤šä¸ªVLANé€šè¿‡ï¼Œæ”¶åˆ°ä¸å¸¦tagged frmeï¼Œæ‰“ä¸Špvidæ ‡ç­¾å¹¶è½¬å‘ã€‚æ”¶åˆ°å¸¦tagged frameæ—¶ï¼Œå¦‚å…è®¸å¹¶ä¸”VLAN IDä¸PVIDç›¸åŒï¼Œé™¤å»æ ‡ç­¾è½¬å‘ï¼Œå¦‚å…è®¸å¹¶ä¸”VLAN IDä¸PVIDä¸åŒï¼Œç›´æ¥è½¬å‘ã€‚hybridå…è®¸å¤šä¸ªVLANæŠ¥æ–‡ä¸æ‰“æ ‡ç­¾å‘é€ï¼Œä½†æ˜¯trunkç«¯å£åªå…è®¸ä¸è‡ªå·±PVIDç›¸åŒçš„VLANæŠ¥æ–‡å‘é€æ—¶ä¸æ‰“æ ‡ç­¾ï¼›å½“Hybridç«¯å£æ²¡æœ‰tagged VLANï¼Œuntagged VLANåªæœ‰ä¸€ä¸ªæ—¶ï¼ŒåŠŸèƒ½ä¸accessç«¯å£ä¸€æ ·ï¼›å½“Hybridç«¯å£æ²¡æœ‰untagged VLANæ—¶ï¼ŒåŠŸèƒ½ä¸trunkç«¯å£ä¸€æ ·ã€‚&lt;br&gt;
&lt;code&gt;trunkå’Œhybridçš„åŒºåˆ«ä¸»è¦æ˜¯ï¼Œhybridç«¯å£å¯ä»¥å…è®¸å¤šä¸ªvlançš„æŠ¥æ–‡ä¸æ‰“æ ‡ç­¾ï¼Œè€Œ trunkç«¯å£åªå…è®¸ç¼ºçœvlançš„æŠ¥æ–‡ä¸æ‰“æ ‡ç­¾ï¼ŒåŒä¸€ä¸ªäº¤æ¢æœºä¸Šä¸èƒ½hybridå’Œtrunkå¹¶å­˜&lt;/code&gt;&lt;br&gt;
&lt;code&gt;Accessç±»å‹çš„æ¥å£ä»…å±äºä¸€ä¸ªVLANï¼Œåªèƒ½æ¥æ”¶ã€è½¬å‘ç›¸åº”VLANçš„å¸§ï¼›Trunkç±»å‹æ¥å£åˆ™é»˜è®¤å±äºæ‰€æœ‰VLANï¼Œä»»ä½• Tagged å¸§éƒ½èƒ½ç»è¿‡Trunkæ¥æ”¶å’Œè½¬å‘ï¼›Hybridç±»å‹æ¥å£åˆ™ä»‹äºäºŒè€…ä¹‹é—´ï¼Œå¯è‡ªä¸»å®šä¹‰ç«¯å£ä¸Šèƒ½æ¥æ”¶å’Œè½¬å‘å“ªäº›VLANTag çš„å¸§ï¼Œå¹¶å¯å†³å®šVLANTag æ˜¯å¦ç»§ç»­æºå¸¦æˆ–è€…å‰¥ç¦»ã€‚Accesså’Œ Trunk ç±»å‹æ¥å£æ˜¯Hybrid ç±»å‹æ¥å£çš„ä¸¤ä¸ªç‰¹ä¾‹ï¼Œä¸€ä¸ªä»…æ”¯æŒä¸€ä¸ªVLANçš„ä¼ é€’ï¼Œä¸€ä¸ªé»˜è®¤æ”¯æŒæ‰€æœ‰VLANçš„ä¼ é€’ï¼Œè€ŒAccessç±»å‹å’ŒTrunkç±»å‹çš„æ¥å£èƒ½åšåˆ°çš„ï¼ŒHybrid æ¥å£éƒ½èƒ½åšåˆ°ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;mux-vlan&#34;&gt;Mux Vlan&lt;/h2&gt;
&lt;p&gt;Mux Vlanæä¾›äº†ä¸€ç§åœ¨VLANçš„ç«¯å£é—´è¿›è¡ŒäºŒå±‚æµé‡éš”ç¦»çš„æœºåˆ¶ã€‚&lt;br&gt;
MUX VLAN åˆ†ä¸º&lt;strong&gt;ä¸»VLAN&lt;/strong&gt;å’Œ&lt;strong&gt;ä»VLAN&lt;/strong&gt;ï¼Œä»VLANåˆåˆ†ä¸º&lt;strong&gt;äº’é€šå‹ä»VLAN&lt;/strong&gt; å’Œ&lt;strong&gt;éš”ç¦»å‹ä»VLAN&lt;/strong&gt;ã€‚ä¸»VLANä¸ä»VLANä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡ï¼›äº’é€šå‹ä»VLANå†…çš„ç«¯å£ä¹‹é—´å¯ä»¥äº’ç›¸é€šä¿¡ï¼Œéš”ç¦»å‹ä»VLANå†…çš„ç«¯å£ä¹‹é—´ä¸èƒ½äº’ç›¸é€šä¿¡ï¼Œä¸åŒä»VLANä¹‹é—´ä¸èƒ½äº’ç›¸é€šä¿¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;arpä»£ç†&#34;&gt;ARPä»£ç†&lt;/h2&gt;
&lt;p&gt;ARPç”¨äºå°†ä¸€ä¸ªIPåœ°å€æ˜ å°„åˆ°æ­£ç¡®çš„MACåœ°å€ã€‚ä¸€ä¸ªç‰©ç†ç½‘ç»œçš„å­ç½‘ï¼ˆSubnetï¼‰ä¸­çš„æºä¸»æœºå‘å¦ä¸€ä¸ªç‰©ç†ç½‘ç»œçš„å­ç½‘ä¸­çš„ç›®çš„ä¸»æœºå‘ARP requestï¼Œå’Œæºä¸»æœºç›´è¿çš„ç½‘å…³ç”¨è‡ªå·±æ¥å£çš„MACåœ°å€ä»£æ›¿ç›®çš„ä¸»æœºå›ARP replyï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºARP ä»£ç†ã€‚&lt;br&gt;
&lt;strong&gt;Proxy ARPæœ‰ä»¥ä¸‹ç‰¹ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰å¤„ç†åœ¨ARPå­ç½‘ç½‘å…³è¿›è¡Œï¼Œæ‰€è¿ç½‘ç»œä¸­çš„ä¸»æœºä¸å¿…åšä»»ä½•æ”¹åŠ¨ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ä¸»æœºç«¯çœ‹ä¸åˆ°å­ç½‘ï¼Œåªæ˜¯ä¸€ä¸ªæ ‡å‡†IPç½‘ç»œï¼›&lt;/li&gt;
&lt;li&gt;Proxy ARPåªå½±å“ä¸»æœºçš„ARPé«˜é€Ÿç¼“å­˜ï¼Œå¯¹ç½‘å…³çš„ARPé«˜é€Ÿç¼“å­˜å’Œè·¯ç”±è¡¨æ²¡æœ‰å½±å“ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨Proxy ARPåï¼Œä¸»æœºåº”è¯¥å‡å°ARPè€åŒ–æ—¶é—´ï¼Œä»¥å°½å¿«ä½¿æ— æ•ˆARPé¡¹å¤±æ•ˆï¼Œå‡å°‘å‘ç»™è·¯ç”±å™¨è€Œè·¯ç”±å™¨å´ä¸èƒ½è½¬å‘çš„æŠ¥æ–‡&lt;br&gt;
&lt;code&gt;äº¤æ¢æœºå¼€å¯arpä»£ç†ï¼šarp-proxy enable&lt;/code&gt;&lt;br&gt;
è·¯ç”±å¼çš„ARPä»£ç†ï¼Œ å®ç°åœ¨æ²¡æœ‰é…ç½®ç½‘å…³çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œä»£ç†å®ç°äº’é€š&lt;br&gt;
&lt;code&gt;Inter-arp proxy&lt;/code&gt;å®ç°Super-vlanäº’é€š&lt;br&gt;
&lt;code&gt;Inner-arp proxy&lt;/code&gt;å®ç°ç«¯å£éš”ç¦»çš„äº’é€š&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;super-vlanvlanèšåˆ&#34;&gt;Super Vlanï¼ˆVlanèšåˆï¼‰&lt;/h2&gt;
&lt;p&gt;VLANèšåˆï¼Œåªåœ¨super-VLANæ¥å£ä¸Šé…ç½®IPåœ°å€ï¼Œè€Œä¸å¿…ä¸ºæ¯ä¸ªsub-VLANåˆ†é…IPåœ°å€ã€‚æ‰€æœ‰sub-VLAN å…±ç”¨IPç½‘æ®µï¼Œè§£å†³äº†IPåœ°å€èµ„æºæµªè´¹çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç«¯å£éš”ç¦»&#34;&gt;ç«¯å£éš”ç¦»&lt;/h2&gt;
&lt;p&gt;ç«¯å£éš”ç¦»æ˜¯äº¤æ¢æœºç«¯å£ä¹‹é—´çš„ä¸€ç§è®¿é—®æ§åˆ¶å®‰å…¨æ§åˆ¶æœºåˆ¶ã€‚&lt;br&gt;
å®ç°ä¸åŒç«¯å£æ¥å…¥çš„PCä¹‹é—´ä¸èƒ½äº’è®¿ï¼ˆPCå±äºç›¸åŒçš„vlanï¼‰ï¼Œè€Œæ‰€æœ‰çš„PCéƒ½èƒ½é€šè¿‡ä¸Šè¡Œçš„äº¤æ¢æœºè®¿é—®ç½‘ç»œã€‚&lt;br&gt;
å¯ä»¥é…ç½®vlanå†…çš„ç”¨æˆ·é—´çš„ç›¸äº’éš”ç¦»æˆ–è€…äº’é€šï¼Œç«¯å£éš”ç¦»åˆ™æ˜¯ç‰©ç†å±‚æ¬¡ä¸Šçš„éš”ç¦»ï¼Œæ˜¯åŸºäºç«¯å£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;vlan-mappingvlanæ˜ å°„&#34;&gt;vlan mapping(VLANæ˜ å°„)&lt;/h2&gt;
&lt;p&gt;å°†ç”¨æˆ·æŠ¥æ–‡ä¸­çš„ç§ç½‘VLAN Tagæ›¿æ¢ä¸ºå…¬ç½‘çš„VLAN Tagï¼Œä½¿å…¶æŒ‰ç…§å…¬ç½‘çš„ç½‘ç»œè§„åˆ’è¿›è¡Œä¼ è¾“ã€‚åœ¨æŠ¥æ–‡è¢«å‘é€åˆ°å¯¹ç«¯ç”¨æˆ·ç§ç½‘æ—¶ï¼Œå†æŒ‰ç…§åŒæ ·çš„è§„åˆ™å°†VLAN Tagæ¢å¤ä¸ºåŸæœ‰çš„ç”¨æˆ·ç§ç½‘VLAN Tagï¼Œä½¿æŠ¥æ–‡æ­£ç¡®åˆ°è¾¾ç›®çš„åœ°ã€‚&lt;br&gt;
åœ¨äº¤æ¢æœºæ¥æ”¶åˆ°å¸¦æœ‰ç”¨æˆ·ç§ç½‘æŠ¥æ–‡çš„VLAN Tagåï¼Œé¦–å…ˆæ ¹æ®é…ç½®çš„æ˜ å°„è§„åˆ™å¯¹ç”¨æˆ·ç§ç½‘æŠ¥æ–‡çš„VLAN Tagè¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™æŒ‰ç…§è§„åˆ™å°†ç§ç½‘VLAN Tagè¿›è¡Œæ›¿æ¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ˜ å°„æ–¹å¼&#34;&gt;æ˜ å°„æ–¹å¼&lt;/h3&gt;
&lt;h4 id=&#34;1-to-1çš„æ˜ å°„æ–¹å¼&#34;&gt;1 to 1çš„æ˜ å°„æ–¹å¼&lt;/h4&gt;
&lt;p&gt;å½“éƒ¨ç½²VLAN MappingåŠŸèƒ½è®¾å¤‡ä¸Šçš„ä¸»æ¥å£æ”¶åˆ°å¸¦æœ‰å•å±‚VLAN Tagçš„æŠ¥æ–‡æ—¶ï¼Œå°†æŠ¥æ–‡ä¸­æºå¸¦çš„å•å±‚VLAN Tagæ˜ å°„ä¸ºå…¬ç½‘çš„VLAN Tagã€‚åŒ…æ‹¬1:1å’ŒN:1ä¸¤ç§æ–¹å¼ï¼Œå…¶ä¸­1:1çš„æ–¹å¼æ˜¯å°†æŒ‡å®šçš„ä¸€ä¸ªç”¨æˆ·ä¾§VLAN Tagæ ‡ç­¾æ˜ å°„åˆ°ä¸€ä¸ªç½‘ç»œä¾§VLAN Tagæ ‡ç­¾ï¼ŒN:1çš„æ–¹å¼æ˜¯å°†æŒ‡å®šèŒƒå›´çš„å¤šä¸ªç”¨æˆ·ä¾§VLAN Tagæ ‡ç­¾æ˜ å°„åˆ°ä¸€ä¸ªç½‘ç»œä¾§VLAN Tagæ ‡ç­¾ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-to-1çš„æ˜ å°„æ–¹å¼&#34;&gt;2 to 1çš„æ˜ å°„æ–¹å¼&lt;/h4&gt;
&lt;p&gt;å½“éƒ¨ç½²VLAN MappingåŠŸèƒ½è®¾å¤‡ä¸Šçš„ä¸»æ¥å£æ”¶åˆ°å¸¦æœ‰åŒå±‚VLAN Tagçš„æŠ¥æ–‡æ—¶ï¼Œå°†æŠ¥æ–‡ä¸­æºå¸¦çš„å¤–å±‚Tagæ˜ å°„ä¸ºå…¬ç½‘çš„Tagï¼Œå†…å±‚Tagä½œä¸ºæ•°æ®é€ä¼ ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-to-2çš„æ˜ å°„æ–¹å¼&#34;&gt;2 to 2çš„æ˜ å°„æ–¹å¼&lt;/h4&gt;
&lt;p&gt;å½“éƒ¨ç½²VLAN MappingåŠŸèƒ½è®¾å¤‡ä¸Šçš„ä¸»æ¥å£æ”¶åˆ°å¸¦æœ‰åŒå±‚VLAN Tagçš„æŠ¥æ–‡æ—¶ï¼Œå°†æŠ¥æ–‡ä¸­æºå¸¦çš„åŒå±‚VLAN Tagæ˜ å°„ä¸ºå…¬ç½‘çš„åŒå±‚VLAN Tagã€‚&lt;br&gt;
åŸºäºMQCå®ç°VLAN MappingæŒ‡çš„æ˜¯é€šè¿‡MQCå¯ä»¥å¯¹åˆ†ç±»åçš„æŠ¥æ–‡å®ç°VLAN Mappingã€‚&lt;br&gt;
ç”¨æˆ·å¯ä»¥æ ¹æ®å¤šç§åŒ¹é…è§„åˆ™å¯¹æŠ¥æ–‡è¿›è¡Œæµåˆ†ç±»ï¼Œç„¶åå°†æµåˆ†ç±»ä¸VLAN Mappingçš„åŠ¨ä½œç›¸å…³è”ï¼Œå¯¹åŒ¹é…è§„åˆ™çš„æŠ¥æ–‡é‡æ ‡è®°æŠ¥æ–‡çš„VLAN IDå€¼ã€‚åŸºäºMQCçš„VLAN Mappingèƒ½å¤Ÿé’ˆå¯¹ä¸šåŠ¡ç±»å‹æä¾›å·®åˆ«æœåŠ¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®vlan mapping
int g0/0/2
qinq vlan-translation enable # ä½¿èƒ½æ¥å£çš„vlanè½¬æ¢åŠŸèƒ½
port link-type trunk
port trunk allow-pass vlan 100
port vlan-mapping vlan 10 to 20 map-vlan 100 # å°†vlan10åˆ°20å…¨éƒ¨è½¬æ¢æˆvlan100
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;qinq&#34;&gt;QinQ&lt;/h2&gt;
&lt;p&gt;åŸºäº802.1 Qå°è£…çš„éš§é“åè®®ï¼ŒæŠ¥æ–‡å°è£…åŒå±‚VLAN Tag&lt;/p&gt;
&lt;h3 id=&#34;æœ‰ç‚¹&#34;&gt;æœ‰ç‚¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è§£å†³æ—¥ç›Šç´§ç¼ºçš„å…¬ç½‘VLAN IDèµ„æºé—®é¢˜&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·å¯ä»¥è§„åˆ’è‡ªå·±çš„ç§ç½‘VLAN ID&lt;/li&gt;
&lt;li&gt;æä¾›ä¸€ç§è¾ƒä¸ºç®€å•çš„äºŒå±‚VPNè§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æˆ·ç½‘ç»œå…·æœ‰è¾ƒé«˜çš„ç‹¬ç«‹æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åˆ†ç±»æŒ‰ç…§å®ç°æ–¹å¼&#34;&gt;åˆ†ç±»ï¼ˆæŒ‰ç…§å®ç°æ–¹å¼ï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŸºäºç«¯å£çš„QinQï¼šåŸºäºç«¯å£çš„åŸºæœ¬QinQ&lt;/li&gt;
&lt;li&gt;çµæ´»QinQï¼šVLAN Stacking&lt;/li&gt;
&lt;li&gt;åŸºäºæµçš„çµæ´»QinQï¼šåŸºäºACLçš„çµæ´»QinQ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;tpid&#34;&gt;TPID&lt;/h3&gt;
&lt;p&gt;æ ‡ç­¾åè®®æ ‡è¯†TPIDæ˜¯vlan tagä¸­çš„ä¸€ä¸ªå­—æ®µï¼Œè¡¨ç¤ºvlan tagçš„åè®®ç±»å‹ï¼ŒIEEE 802.1Qåè®®è§„å®šè¯¥å­—æ®µçš„å–å€¼ä¸º0x8100&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1591878623497.png&#34; alt=&#34;TPID&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸åŒè¿è¥å•†çš„ç³»ç»Ÿå¯èƒ½å°†QinQå¸§å¤–å±‚VLANæ ‡è®°çš„TPIDè®¾ç½®ä¸ºä¸åŒå€¼ã€‚ä¸ºå®ç°ä¸è¿™äº›ç³»ç»Ÿçš„å…¼å®¹æ€§ï¼Œå¯ä»¥ä¿®æ”¹TPIDå€¼ï¼Œä½¿QinQå¸§å‘é€åˆ°å…¬ç½‘æ—¶ï¼Œæ‰¿è½½ä¸ç‰¹å®šè¿è¥å•†ç›¸åŒçš„TPIDå€¼ï¼Œä»è€Œå®ç°ä¸è¯¥è¿è¥å•†è®¾å¤‡ä¹‹é—´çš„äº’æ“ä½œæ€§ã€‚ä»¥å¤ªç½‘å¸§çš„TPIDä¸ä¸å¸¦VLANæ ‡è®°çš„å¸§çš„åè®®ç±»å‹å­—æ®µä½ç½®ç›¸åŒã€‚ä¸ºé¿å…åœ¨ç½‘ç»œä¸­è½¬å‘å’Œå¤„ç†æ•°æ®åŒ…æ—¶å‡ºç°é—®é¢˜ï¼Œ&lt;strong&gt;ä¸å¯å°†TPIDå€¼è®¾ç½®ä¸ºä¸‹è¡¨ä¸­çš„ä»»æ„å€¼&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1591878772202.png&#34; alt=&#34;åè®®ç±»å‹åŠå¯¹åº”å€¼æè¿°è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åŸºäºç«¯å£çš„QinQ
interface GigabitEthernet0/0/2
port link-type dot1q-tunnel # é…ç½®ä¸ºQinQæ¨¡å¼
port default vlan 100 # æŒ‡å®šå¤–å±‚tag
# çµæ´»çš„QinQ
interface GigabitEthernet0/0/2
qinq vlan-translation enable # å¼€å¯vlanè½¬æ¢åŠŸèƒ½
port hybrid untagged vlan 100 200 # æ”¶åˆ°vlan100å’Œ200çš„æ•°æ®ä¹‹åå»æ‰vlan tag100å’Œ200
port vlan-stacking vlan 10 to 20 stack-vlan 100 # æ”¶åˆ°vlan10-20çš„æ•°æ®ä¹‹åï¼ŒåŠ ä¸Švlan tag 100
port vlan-stacking vlan 30 to 40 stack-vlan 200
# ä¿®æ”¹TPIDé…ç½®
interface GigabitEthernet0/0/1
port link-type trunk
port trunk allow-pass vlan 100
qinq protocol 9100
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é“¾è·¯èšåˆ&#34;&gt;é“¾è·¯èšåˆ&lt;/h2&gt;
&lt;p&gt;é“¾è·¯èšåˆæ˜¯å°†â€”ç»„ç‰©ç†æ¥å£æ†ç»‘åœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªé€»è¾‘æ¥å£æ¥å¢åŠ å¸¦å®½çš„ä¸€ç§æ–¹æ³•ï¼Œåˆç§°ä¸ºå¤šæ¥å£è´Ÿè½½å‡è¡¡ç»„æˆ–é“¾è·¯èšåˆç»„ï¼Œç›¸å…³çš„åè®®æ ‡å‡†è¯·å‚è€ƒIEEE802.3adã€‚&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼é“¾è·¯èšåˆ&#34;&gt;é…ç½®æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å½“éœ€è¦å¢åŠ ä¸¤å°è®¾å¤‡ä¹‹é—´çš„å¸¦å®½æˆ–å¯é æ€§ï¼Œè€Œä¸¤å°è®¾å¤‡ä¸­æœ‰ä¸€å°ä¸æ”¯æŒLACPåè®®æ—¶ï¼Œå¯åœ¨Switchè®¾å¤‡ä¸Šåˆ›å»ºæ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼çš„Eth-Trunkï¼Œå¹¶åŠ å…¥å¤šä¸ªæˆå‘˜æ¥å£å¢åŠ è®¾å¤‡é—´çš„å¸¦å®½åŠå¯é æ€§ã€‚&lt;/li&gt;
&lt;li&gt;Eth-Trunkçš„åˆ›å»ºã€æˆå‘˜æ¥å£çš„åŠ å…¥éƒ½éœ€è¦æ‰‹å·¥é…ç½®å®Œæˆï¼Œæ²¡æœ‰LACPåè®®æŠ¥æ–‡çš„å‚ä¸ã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼å…è®¸åœ¨èšåˆç»„ä¸­æ‰‹å·¥åŠ å…¥å¤šä¸ªæˆå‘˜æ¥å£ï¼Œæ‰€æœ‰çš„æ¥å£å‡å¤„äºè½¬å‘çŠ¶æ€ï¼Œåˆ†æ‹…è´Ÿè½½çš„æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ²¡æœ‰åè®®çš„äº¤äº’&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åœ¨ç‰©ç†æˆå‘˜æ¥å£ä¸‹æ¥å…¥eth-trunk&#34;&gt;åœ¨ç‰©ç†æˆå‘˜æ¥å£ä¸‹æ¥å…¥eth-trunk&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªEth-Trunkæ¥å£ä¸‹æœ€å¤šå¯ä»¥åŒ…å«8ä¸ªæˆå‘˜æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;æˆå‘˜æ¥å£ä¸èƒ½é…ç½®ä»»ä½•ä¸šåŠ¡å’Œé™æ€MACåœ°å€ï¼Œå³æˆå‘˜æ¥å£åŠ å…¥Eth-Trunkæ—¶ï¼Œå¿…é¡»ä¸ºç¼ºçœçš„hybridç±»å‹æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;Eth-Trunkæ¥å£ä¸èƒ½åµŒå¥—ï¼Œå³æˆå‘˜æ¥å£ä¸èƒ½æ˜¯Eth-Trunkã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªä»¥å¤ªç½‘æ¥å£åªèƒ½åŠ å…¥åˆ°ä¸€ä¸ªEth-Trunkæ¥å£ï¼Œå¦‚æœéœ€è¦åŠ å…¥å…¶å®ƒEth-Trunkæ¥å£ï¼Œå¿…é¡»å…ˆé€€å‡ºåŸæ¥çš„Eth-Trunkæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªEth-Trunkæ¥å£ä¸­çš„æˆå‘˜æ¥å£å¿…é¡»æ˜¯åŒä¸€ç±»å‹ï¼Œä¾‹å¦‚ï¼šFEå£å’ŒGEå£ä¸èƒ½åŠ å…¥åŒä¸€ä¸ªEth-Trunkæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥å°†ä¸åŒæ¥å£æ¿ä¸Šçš„ä»¥å¤ªç½‘æ¥å£åŠ å…¥åˆ°åŒä¸€ä¸ªEth-Trunkã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ¬åœ°è®¾å¤‡ä½¿ç”¨äº†Eth-Trunkï¼Œä¸æˆå‘˜æ¥å£ç›´è¿çš„å¯¹ç«¯æ¥å£ä¹Ÿå¿…é¡»æ†ç»‘ä¸ºEth-Trunkæ¥å£ï¼Œä¸¤ç«¯æ‰èƒ½æ­£å¸¸é€šä¿¡ã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆå‘˜æ¥å£çš„é€Ÿç‡ä¸ä¸€è‡´æ—¶ï¼Œå®é™…ä½¿ç”¨ä¸­é€Ÿç‡å°çš„æ¥å£å¯èƒ½ä¼šå‡ºç°æ‹¥å¡ï¼Œå¯¼è‡´ä¸¢åŒ…ã€‚&lt;/li&gt;
&lt;li&gt;å½“æˆå‘˜æ¥å£åŠ å…¥Eth-Trunkåï¼Œå­¦ä¹ MACåœ°å€æ—¶æ˜¯æŒ‰ç…§Eth-Trunkæ¥å­¦ä¹ çš„ï¼Œè€Œä¸æ˜¯æŒ‰ç…§æˆå‘˜æ¥å£æ¥å­¦ä¹ &lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¿®æ”¹eth-trunkè´Ÿè½½åˆ†æ‹…æ–¹å¼&#34;&gt;ä¿®æ”¹eth-trunkè´Ÿè½½åˆ†æ‹…æ–¹å¼&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;dst-ipï¼ˆç›®çš„IPåœ°å€ï¼‰æ¨¡å¼ï¼šä»ç›®çš„IPåœ°å€ã€å‡ºç«¯å£çš„TCP/UDPç«¯å£å·ä¸­åˆ†åˆ«é€‰æ‹©æŒ‡å®šä½çš„3bitæ•°å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;dst-macï¼ˆç›®çš„MACåœ°å€ï¼‰æ¨¡å¼ï¼šä»ç›®çš„MACåœ°å€ã€VLAN IDã€ä»¥å¤ªç½‘ç±»å‹åŠå…¥ç«¯å£ä¿¡æ¯ä¸­åˆ†åˆ«é€‰æ‹©æŒ‡å®šä½çš„3bitæ•°å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;src-ipï¼ˆæºIPåœ°å€ï¼‰æ¨¡å¼ï¼šä»æºIPåœ°å€ã€å…¥ç«¯å£çš„TCP/UDP ç«¯å£å·ä¸­åˆ†åˆ«é€‰æ‹©æŒ‡å®šä½çš„3bitæ•°å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;src-macï¼ˆæºMACåœ°å€ï¼‰æ¨¡å¼ï¼šä»å°†æºMACåœ°å€ã€VLAN IDã€ä»¥å¤ªç½‘ç±»å‹åŠå…¥ç«¯å£ä¿¡æ¯ä¸­åˆ†åˆ«é€‰æ‹©æŒ‡å®šä½çš„3bitæ•°å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;src-dst-ipï¼ˆæºIPåœ°å€ä¸ç›®çš„IPåœ°å€çš„å¼‚æˆ–ï¼‰æ¨¡å¼ï¼šä»ç›®çš„IPåœ°å€ã€æºIPåœ°å€ä¸¤ç§è´Ÿè½½åˆ†æ‹…æ¨¡å¼çš„è¿ç®—ç»“æœè¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;src-dst-macï¼ˆæºMACåœ°å€ä¸ç›®çš„MACåœ°å€çš„å¼‚æˆ–ï¼‰æ¨¡å¼ï¼šä»ç›®çš„MACåœ°å€ã€æºMACåœ°å€ã€VLAN IDã€ä»¥å¤ªç½‘ç±»å‹åŠå…¥ç«¯å£ä¿¡æ¯ä¸­åˆ†åˆ«é€‰æ‹©æŒ‡å®šä½çš„3bitæ•°å€¼è¿›è¡Œå¼‚æˆ–è¿ç®—ï¼Œæ ¹æ®è¿ç®—ç»“æœé€‰æ‹©Eth-Trunkè¡¨ä¸­å¯¹åº”çš„å‡ºæ¥å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#é…ç½®æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼é“¾è·¯èšåˆ
# sw1/2
# æ–¹æ³•ä¸€ï¼šé…ç½®èšåˆååŠ å…¥ç«¯å£
int Eth-Trunk 10
trunkport g0/0/1 to 0/0/4
# æ–¹æ³•äºŒï¼šåœ¨æ¥å£ä¸‹åŠ å…¥eth-trunk
int Eth-Trunk 10
q
int g0/0/1
# port-group group-member g0/0/1 to g0/0/4
eth-trunk 10
int g0/0/2
eth-trunk 10
int g0/0/3
eth-trunk 10
int g0/0/4
eth-trunk 10
# è®¾ç½®æ´»åŠ¨è¿æ¥æ•°
interface Eth-Trunk10
port link-type trunk
port trunk allow-pass vlan 2 to 4094
least active-linknumber 2      # å¦‚æœæ´»åŠ¨é“¾æ¥æ•°ä½äºè¯¥å€¼ï¼Œèšåˆç»„ç›´æ¥down 
max bandwidth-affected-linknumber  # è®¾ç½®æœ€å¤§æ´»åŠ¨é“¾æ¥æ•°
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®é™æ€lacpæ¨¡å¼é“¾è·¯èšåˆ&#34;&gt;é…ç½®é™æ€LACPæ¨¡å¼é“¾è·¯èšåˆ&lt;/h3&gt;
&lt;p&gt;é™æ€LACPæ¨¡å¼ä¹Ÿç§°ä¸ºMâˆ¶Næ¨¡å¼ã€‚è¿™ç§æ–¹å¼åŒæ—¶å¯ä»¥å®ç°é“¾è·¯è´Ÿè½½åˆ†æ‹…å’Œé“¾è·¯å†—ä½™å¤‡ä»½çš„åŒé‡åŠŸèƒ½ã€‚åœ¨é“¾è·¯èšåˆç»„ä¸­Mæ¡é“¾è·¯å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œè¿™äº›é“¾è·¯è´Ÿè´£è½¬å‘æ•°æ®å¹¶è¿›è¡Œè´Ÿè½½åˆ†æ‹…ï¼Œå¦å¤–Næ¡é“¾è·¯å¤„äºéæ´»åŠ¨çŠ¶æ€ä½œä¸ºå¤‡ä»½é“¾è·¯ï¼Œä¸è½¬å‘æ•°æ®ã€‚å½“Mæ¡é“¾è·¯ä¸­æœ‰é“¾è·¯å‡ºç°æ•…éšœæ—¶ï¼Œç³»ç»Ÿä¼šä»Næ¡å¤‡ä»½é“¾è·¯ä¸­é€‰æ‹©ä¼˜å…ˆçº§æœ€é«˜çš„æ¥æ›¿å‡ºç°æ•…éšœçš„é“¾è·¯ï¼ŒåŒæ—¶è¿™æ¡æ›¿æ¢æ•…éšœé“¾è·¯çš„å¤‡ä»½é“¾è·¯çŠ¶æ€å˜ä¸ºæ´»åŠ¨çŠ¶æ€å¼€å§‹è½¬å‘æ•°æ®ã€‚&lt;br&gt;
&lt;strong&gt;é™æ€LACPæ¨¡å¼ä¸æ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼çš„ä¸»è¦åŒºåˆ«&lt;/strong&gt;ï¼šé™æ€LACPæ¨¡å¼æœ‰å¤‡ä»½é“¾è·¯ï¼Œè€Œæ‰‹å·¥è´Ÿè½½åˆ†æ‹…æ¨¡å¼æ‰€æœ‰æˆå‘˜æ¥å£å‡å¤„äºè½¬å‘çŠ¶æ€ï¼Œåˆ†æ‹…è´Ÿè½½æµé‡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®é™æ€LACPæ¨¡å¼é“¾è·¯èšåˆ
int Eth-Trunk 10
port link-type trunk
port trunk allow-pass vlan 2 to 4094
mode lacp-static
trunkport g0/0/1 to 0/0/4
least active-linknumber 2   # æœ€å°æ´»åŠ¨è¿æ¥æ•°
max active-linknumber 3   # æœ€å¤§æ´»åŠ¨è¿æ¥æ•°
lacp preempt enable  # å¼€å¯æŠ¢å ï¼Œå³æ¥å£æ¢å¤æ­£å¸¸åæŒ‰ç…§ä¼˜å…ˆçº§è¿›è¡ŒæŠ¢å 
lacp preempt delay 10  # é…ç½®æŠ¢å å»¶æ—¶ï¼Œæ¥å£UPå10ç§’é’Ÿåï¼Œè¿›è¡ŒæŠ¢å  ï¼ˆé˜²æ­¢é“¾è·¯éœ‡è¡ï¼‰
q
lacp priority 100         # ä¿®æ”¹è®¾å¤‡çš„LACPä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§å°çš„æˆä¸ºä¸»åŠ¨ç«¯ 
int g0/0/1
lacp priority 40000   # ä¿®æ”¹æ¥å£çš„LACP ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§å°çš„ä¼šè¢«é€‰æ‹©
# mixed-rate link enableï¼šå‘½ä»¤ç”¨æ¥ä½¿èƒ½å…è®¸ç«¯å£æ”¯æŒé€Ÿç‡ä¸åŒçš„æ¥å£åŠ å…¥åŒä¸€Eth-Trunkæ¥å£çš„åŠŸèƒ½ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;stp&#34;&gt;STP&lt;/h2&gt;
&lt;p&gt;ç”Ÿæˆæ ‘çš„å·¥ä½œåŸç†ï¼š&lt;strong&gt;ç”Ÿæˆæ ‘çš„æœ€ç»ˆç›®çš„æ˜¯ç”¨æ¥ç ´ç¯çš„&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;å·¥ä½œæµç¨‹&#34;&gt;å·¥ä½œæµç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆè¦é€‰ä¸¾å‡ºä¸€ä¸ªæ ¹æ¡¥RBï¼ˆçš‡å¸ï¼‰ï¼Œåœ¨æ•´ä¸ªäº¤æ¢ç½‘ç»œä¸­é€‰ä¸¾çš„ï¼Œç”¨æ¥å‘é€BPDUæŠ¥æ–‡ï¼ˆåœ£æ—¨ï¼‰&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾å‡ºæ ¹ç«¯å£ï¼ˆRPï¼‰ï¼ˆåœ¨æ¯ä¸€ä¸ªéæ ¹äº¤æ¢æœºä¸Šé€‰ä¸¾å‡ºä¸€ä¸ªï¼‰ï¼ˆå¤ªå®ˆï¼‰ï¼Œç”¨æ¥æ¥æ”¶BPDUæŠ¥æ–‡çš„ï¼ˆåœ£æ—¨ï¼‰&lt;/li&gt;
&lt;li&gt;é€‰ä¸¾å‡ºæŒ‡å®šç«¯å£ï¼ˆDPï¼‰ï¼ˆåœ¨æ¯æ¡é“¾è·¯ä¸Šéƒ½è¦é€‰ä¸¾å‡ºä¸€ä¸ªæŒ‡å®šç«¯å£ï¼‰ï¼ˆé’¦å·®ï¼‰ï¼Œç”¨æ¥å‘æ”¾æˆ–è½¬å‘BDPUæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;éæ ¹ç«¯å£ï¼ŒéæŒ‡å®šç«¯å£ï¼Œä¼šæˆä¸ºé¢„å¤‡ç«¯å£ï¼ˆAPï¼‰ï¼Œä¼šè¢«é˜»å¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ ¹æ¡¥rbçš„é€‰ä¸¾&#34;&gt;æ ¹æ¡¥RBçš„é€‰ä¸¾&lt;/h4&gt;
&lt;p&gt;æ¯”è¾ƒBridgeIDï¼Œæœ‰ä¸‰éƒ¨åˆ†çº§æˆï¼šä¼˜å…ˆçº§+æ‰©å±•ç³»ç»ŸID+MACï¼Œ&lt;strong&gt;åä¸ºçš„æ‰©å±•ç³»ç»ŸIDæ˜¯0&lt;/strong&gt;&lt;br&gt;
æ¯”è¾ƒä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ä½æˆä¸ºæ ¹æ¡¥ï¼›å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œæ¯”è¾ƒMACåœ°å€ï¼ŒMACåœ°å€å°çš„æˆä¸ºæ ¹æ¡¥ã€‚&lt;br&gt;
ä¼˜å…ˆçº§ä¸º0ï¼Œä»…æ˜¯æœ€å¤§å¯èƒ½ä¼šæˆä¸ºæ ¹æ¡¥ï¼Œä¸ä¸€å®šæ˜¯æ ¹æ¡¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;stp root primary   # æ€ç§‘åšæ³•æ˜¯æŠŠæœ€å°çš„ä¼˜å…ˆçº§å‡å»8192ï¼Œåä¸ºç›´æ¥ç½®ä¸º0
stp root secondary  # æ€ç§‘åšæ³•æ˜¯æŠŠæœ€å°çš„ä¼˜å…ˆçº§å‡å»4096ï¼Œåä¸ºç›´æ¥ç½®ä¸º4096
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ ¹ç«¯å£rpçš„é€‰ä¸¾ç”¨æ¥æ¥æ”¶bpdu&#34;&gt;æ ¹ç«¯å£RPçš„é€‰ä¸¾(ç”¨æ¥æ¥æ”¶BPDU)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;é€šä¿—é€‰æ³•ï¼šé€‰ç¦»RBè·ç¦»æœ€è¿‘çš„é‚£ä¸ª&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒåˆ°è¾¾æ ¹æ¡¥æœ€å°è·¯å¾„å¼€é”€å€¼ï¼ˆRPCï¼‰&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒè½¬å‘è¯¥BPDUçš„BridgeIDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒè½¬å‘è¯¥BPDUæŠ¥æ–‡çš„PortIDï¼šç«¯å£ä¼˜å…ˆçº§+ç«¯å£ç¼–å·ï¼Œå³ä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼›æ¯”è¾ƒç«¯å£ç¼–å·&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒæ¥æ”¶è¯¥BPDUæŠ¥æ–‡çš„PortIDï¼šç«¯å£ä¼˜å…ˆçº§+ç«¯å£ç¼–å·ï¼Œå³ä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼›æ¯”è¾ƒç«¯å£ç¼–å·&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æŒ‡å®šç«¯å£dpçš„é€‰ä¸¾ç”¨æ¥å‘é€bpdu&#34;&gt;æŒ‡å®šç«¯å£DPçš„é€‰ä¸¾(ç”¨æ¥å‘é€BPDU)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;å’ŒRPé€‰ä¸¾è§„åˆ™ç›¸åŒï¼Œé€šä¿—é€‰æ³•ï¼šRPå¯¹é¢çš„ç«¯å£ä¸€å®šæ˜¯DP&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒåˆ°è¾¾æ ¹æ¡¥æœ€å°è·¯å¾„å¼€é”€å€¼ï¼ˆRPCï¼‰&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒè½¬å‘è¯¥BPDUçš„bridge IDï¼Œè¶Šå°è¶Šä¼˜&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒè½¬å‘è¯¥BPDUæŠ¥æ–‡çš„PortIDï¼šç«¯å£ä¼˜å…ˆçº§+ç«¯å£ç¼–å·ï¼Œä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œæ¯”è¾ƒç«¯å£ç¼–å·&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒæ¥æ”¶è¯¥BPDUæŠ¥æ–‡çš„Port ID:ç«¯å£ä¼˜å…ˆçº§+ç«¯å£ç¼–å·ï¼Œä¼˜å…ˆçº§è¶Šå°è¶Šä¼˜ï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œæ¯”è¾ƒç«¯å£ç¼–å·&lt;br&gt;
&lt;code&gt;æ ¹æ¡¥çš„æ¥å£é»˜è®¤éƒ½æ˜¯DPï¼Œä½†æ ¹æ¡¥çš„æ¥å£ä¸ä¸€å®šå…¨éƒ¨éƒ½æ˜¯DPï¼Œæœ‰å¯èƒ½æ˜¯APï¼ˆæ€ç§‘ï¼‰æˆ–BPï¼ˆåä¸ºï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;apçš„é€‰ä¸¾é˜»å¡ç«¯å£&#34;&gt;APçš„é€‰ä¸¾(é˜»å¡ç«¯å£)&lt;/h4&gt;
&lt;p&gt;éDPï¼ŒéRPå°±æ˜¯APï¼Œç«¯å£ä¼šè¢«é˜»å¡æ‰&lt;/p&gt;
&lt;h4 id=&#34;stpçš„ä¸¤ç§æŠ¥æ–‡&#34;&gt;STPçš„ä¸¤ç§æŠ¥æ–‡&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®BPDUï¼ˆSTPçš„BPDUå‘é€(ç»„æ’­)åœ°å€ï¼š01-80-C2-00-00-00ï¼‰&lt;/li&gt;
&lt;li&gt;TCNæŠ¥æ–‡ï¼ˆæ‹“æ‰‘å˜æ›´é€šçŸ¥ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592031903629.png&#34; alt=&#34;STPå¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592031911277.png&#34; alt=&#34;å­—æ®µè§£é‡Š&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è°ƒæ•´è®¾å¤‡çš„rpç«¯å£&#34;&gt;è°ƒæ•´è®¾å¤‡çš„RPç«¯å£&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è°ƒæ•´è½¬å‘ç«¯å£çš„å¼€é”€å€¼&lt;code&gt;stp instance 0 cost 30000&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è°ƒæ•´æ¥æ”¶ç«¯å£çš„ä¼˜å…ˆçº§&lt;code&gt;stp priority 8192&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¯èƒ½çš„ä¸´æ—¶ç¯è·¯&#34;&gt;å¯èƒ½çš„ä¸´æ—¶ç¯è·¯&lt;/h3&gt;
&lt;p&gt;åœ¨ç«¯å£è§’è‰²ä»¥åŠçŠ¶æ€çš„å˜åŒ–è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸´æ—¶ç¯è·¯é—®é¢˜ã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³ä¸´æ—¶ç¯è·¯çš„æ–¹æ³•&lt;/strong&gt;ï¼š åœ¨ä¸€ä¸ªç«¯å£ä»ä¸è½¬å‘çŠ¶æ€è¿›å…¥ä¹‹å‰ï¼Œéœ€è¦ç­‰å¾…ä¸€ä¸ªè¶³å¤Ÿé•¿çš„æ—¶é—´ ï¼Œä»¥ä½¿éœ€è¦è¿›å…¥ä¸è½¬å‘çŠ¶æ€çš„ç«¯å£æœ‰è¶³å¤Ÿæ—¶é—´å®Œåæ‰èƒ½ç”Ÿæˆæ ‘è®¡ç®—ï¼Œå¹¶è¿›å…¥ä¸è½¬å‘çŠ¶æ€&lt;/p&gt;
&lt;h3 id=&#34;ç«¯å£çŠ¶æ€è½¬æ¢&#34;&gt;ç«¯å£çŠ¶æ€è½¬æ¢&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592035787942.png&#34; alt=&#34;ç«¯å£çŠ¶æ€è½¬æ¢&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592036138271.png&#34; alt=&#34;ç«¯å£çŠ¶æ€æè¿°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;åä¸ºå°†disableã€blockingå’Œlisteningä¸‰ç§çŠ¶æ€åˆå¹¶ä¸ºdiscardingçŠ¶æ€&lt;/code&gt;&lt;br&gt;
1ï¼šç«¯å£è¢«é€‰ä¸ºæŒ‡å®šDPæˆ–æ ¹ç«¯å£RPï¼›&lt;br&gt;
2ï¼šç«¯å£è¢«é€‰ä¸ºé¢„å¤‡ç«¯å£APï¼›&lt;br&gt;
3ï¼šç»è¿‡Forward Delayé—´éš”ï¼Œé»˜è®¤ä¸º 15 ç§’ã€‚&lt;br&gt;
ç«¯å£è¢«ç¦ç”¨ä¹‹åè¿›å…¥DisableçŠ¶æ€ã€‚&lt;br&gt;
å½“ä¸€ä¸ªç«¯å£ä»ä¸è½¬å‘çŠ¶æ€è¿›å…¥çŠ¶æ€ä¹‹å‰éœ€è¦ç­‰å¾…ä¸¤æ¬¡ Forward Delayé—´éš” ï¼Œä»¥è§£å†³å‰æ–‡æ‰€è¿°å¯èƒ½çš„ä¸´æ—¶ç¯è·¯é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‹“æ‰‘ç»“æ„æ”¹å˜å¯¼è‡´macåœ°å€è¡¨é”™è¯¯&#34;&gt;æ‹“æ‰‘ç»“æ„æ”¹å˜å¯¼è‡´MACåœ°å€è¡¨é”™è¯¯&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592036621842.png&#34; alt=&#34;æ‹“æ‰‘ç»“æ„æ”¹å˜å¯¼è‡´MACåœ°å€è¡¨é”™è¯¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é»˜è®¤æƒ…å†µä¸‹ï¼ŒMACåœ°å€è¡¨ä¸­çš„åŠ¨æ€è¡¨é¡¹ç”Ÿå­˜æœŸä¸º300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰&lt;br&gt;
ç¨³å®šæ‹“æ‰‘ä¸‹ï¼Œåœ¨SWCä¸Šåˆ°è¾¾LANDæŸPCçš„ç›®çš„ç«¯å£åº”å½“ä¸ºE1ï¼›&lt;br&gt;
å½“SWBçš„E1æ¥å£æ–­å¼€ä¹‹åï¼ŒE2æ¥å£æˆä¸ºæ–°çš„æ ¹ç«¯å£ï¼Œä»SWCåˆ°è¾¾è¯¥PCçš„ç›®çš„åœ°å€åº”å½“ä¿®æ”¹ä¸ºE2ï¼Œä½†æ˜¯äº¤æ¢æœºä¸èƒ½æ£€æµ‹åˆ°æ‹“æ‰‘æ”¹å˜ï¼Œå¯¼è‡´MACåœ°å€è¡¨é”™è¯¯ï¼Œæœ€é•¿å¯å¯¼è‡´5åˆ†é’Ÿçš„æ•°æ®è½¬å‘é”™è¯¯ã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³é—®é¢˜çš„åŠæ³•&lt;/strong&gt;ï¼šå½“æ‹“æ‰‘ç»“æ„æ”¹å˜ä¹‹åï¼Œé€šè¿‡ä¸€å®šçš„æœºåˆ¶ï¼Œä½¿æ‹“æ‰‘æ”¹å˜çš„ä¿¡æ¯åœ¨æ•´ç½‘å†…æ³›æ´ªï¼Œå¹¶ä¿®æ”¹MACåœ°å€è¡¨çš„ç”Ÿå­˜æœŸä¸ºä¸€ä¸ªè¾ƒçŸ­çš„æ•°å€¼ï¼Œç­‰æ‹“æ‰‘ç»“æ„ç¨³å®šä¹‹åï¼Œå†æ¢å¤MACåœ°å€è¡¨çš„ç”Ÿå­˜æœŸã€‚&lt;strong&gt;STPè§„å®šè¿™ä¸ªè¾ƒçŸ­çš„MACåœ°å€è¡¨ç”Ÿå­˜æœŸä½¿ç”¨äº¤æ¢æœºçš„Forward Delayå‚æ•°ï¼Œé»˜è®¤ä¸º15ç§’&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ç«¯å£æ”¹å˜æ‰€åœ¨çš„äº¤æ¢æœº(RPç«¯å£)ç»™ä¸Šçº§å‘TCNæŠ¥æ–‡ï¼ˆTC=1ï¼Œè¡¨ç¤ºæ‹“æ‰‘æ”¹å˜ï¼‰ï¼Œç›´åˆ°å½“RBæ”¶åˆ°è¯¥æŠ¥æ–‡ä¹‹åï¼Œå…¨ç½‘æ³›æ´ªé…ç½®BPDUï¼ˆTCA=1ï¼Œè¡¨ç¤ºæ‹“æ‰‘æ”¹å˜å“åº”ï¼‰ï¼Œè¿›è¡Œé‡æ–°é€‰ä¸¾&lt;/code&gt;&lt;br&gt;
&lt;code&gt;TC=1çš„BPDUä¼šå‘é€å¤šé•¿æ—¶é—´ï¼Ÿ37ç§’=MaxAge(20s)+ForwardDelay(15s)+Hello(2s)ï¼Œå…±è®¡18ä¸ªæŠ¥æ–‡&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æ‰€æœ‰äº¤æ¢æœºåœ¨æ”¶åˆ°TC=1çš„æŠ¥æ–‡ä¹‹åä¼šå°†MagAgeæ—¶é—´ç”±300ç§’è°ƒæ•´ä¸º15ç§’&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;æ³›æ´ªæ‹“æ‰‘æ”¹å˜ä¿¡æ¯&#34;&gt;æ³›æ´ªæ‹“æ‰‘æ”¹å˜ä¿¡æ¯&lt;/h4&gt;
&lt;p&gt;åœ¨å‘æ•´ç½‘æ³›æ´ªæ‹“æ‰‘æ”¹å˜ä¿¡æ¯çš„è¿‡ç¨‹ä¸­ï¼Œå…±æ¶‰åŠä¸‰ ç§BPDUï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ‹“æ‰‘æ”¹å˜é€šçŸ¥BPDU&lt;/strong&gt;ï¼šç”¨äºéæ ¹äº¤æ¢æœºåœ¨æ ¹ç«¯å£ä¸Šå‘ä¸Šè¡Œäº¤æ¢æœºé€šå‘Šæ‹“æ‰‘æ”¹å˜ä¿¡æ¯ï¼Œå¹¶ä¸”æ¯éš”Hello Timeï¼ˆ2ç§’ï¼‰å‘é€ä¸€æ¬¡ï¼Œç›´åˆ°æ”¶åˆ°ä¸Šè¡Œäº¤æ¢æœºçš„æ‹“æ‰‘æ”¹å˜ç¡®è®¤é…ç½®BPDUæˆ–è€…æ‹“æ‰‘æ”¹å˜é…ç½®BPDUã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹“æ‰‘æ”¹å˜ç¡®è®¤é…ç½®BPDU&lt;/strong&gt;ï¼šé…ç½®BPDUçš„ä¸€ç§ï¼Œå’Œæ™®é€šé…ç½®BPDUä¸åŒçš„æ˜¯æ­¤é…ç½®BPDUè®¾ç½®äº†ä¸€ä¸ªFlagä½ã€‚ç”¨äºéæ ¹äº¤æ¢æœºåœ¨æ¥æ”¶åˆ°æ‹“æ‰‘æ”¹å˜é€šçŸ¥BPDUçš„æŒ‡å®šæ¥å£ä¸Šå‘ä¸‹è¡Œäº¤æ¢æœºå‘é€æ‹“æ‰‘æ”¹å˜é€šçŸ¥çš„ç¡®è®¤ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹“æ‰‘æ”¹å˜é…ç½®BPDU&lt;/strong&gt;ï¼šæ­¤é…ç½®BPDUè®¾ç½®äº†å¦å¤– ä¸€ä¸ªFlagä½ã€‚ç”¨äºä»æ ¹äº¤æ¢æœºå‘æ•´ç½‘æ³›æ´ªæ‹“æ‰‘æ”¹å˜ä¿¡æ¯ï¼Œæ‰€æœ‰äº¤æ¢æœºéƒ½åœ¨è‡ªå·±æ‰€æœ‰çš„æŒ‡å®šç«¯å£ä¸Šæ³›æ´ªæ­¤BPDUã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;stpçš„ç¼ºç‚¹&#34;&gt;STPçš„ç¼ºç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶æ•›æ…¢ï¼Œè‡³å°‘éœ€è¦30s&lt;/li&gt;
&lt;li&gt;å‘ç”Ÿäº†æ‹“æ‰‘å˜æ›´ï¼Œè‡³å°‘éœ€è¦30sæ‰èƒ½æ”¶æ•›&lt;/li&gt;
&lt;li&gt;ç«¯å£è§’è‰²åªæœ‰ä¸‰ç§ï¼Œç«¯å£çŠ¶æ€å´æœ‰äº”ç§&lt;/li&gt;
&lt;li&gt;STPéœ€è¦ä¸€ä¸ªmax ageæ—¶é—´ï¼ˆ20sï¼‰æ‰èƒ½æ„Ÿå—åˆ°çº¿è·¯å˜åŒ–ï¼Œç«¯å£çŠ¶æ€å˜åŒ–éœ€è¦30sï¼Œåˆ™æ¢å¤é€šä¿¡éœ€è¦50sï¼ˆéç›´è¿ï¼Œç›´è¿åªéœ€è¦30sçš„ç«¯å£çŠ¶æ€å˜åŒ–æ—¶é—´ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;rstp&#34;&gt;RSTP&lt;/h2&gt;
&lt;h3 id=&#34;rstpå¯¹stpçš„æ”¹è¿›&#34;&gt;RSTPå¯¹STPçš„æ”¹è¿›&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç«¯å£è§’è‰²ä»ä¸‰ç§å˜ä¸ºäº”ç§&lt;br&gt;
STPï¼šDPã€RP ã€AP&lt;br&gt;
RSTPï¼šDP ã€RPã€APï¼ˆé¢„å¤‡ç«¯å£ï¼‰ã€BPï¼ˆæŒ‡å®šç«¯å£çš„å¤‡ä»½ï¼‰ã€EPï¼ˆè¾¹ç¼˜ç«¯å£ï¼‰&lt;br&gt;
&lt;code&gt;APæ˜¯RPçš„å¤‡ä»½ï¼ŒBPæ˜¯DPçš„å¤‡ä»½&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç«¯å£çŠ¶æ€ äº”ç§å˜ä¸ºä¸‰ç§&lt;br&gt;
Discardingã€Learningã€Forwarding&lt;/li&gt;
&lt;li&gt;BPDUæ ¼å¼çš„å˜åŒ–--flagä½çš„å˜åŒ–&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592121929445.png&#34; alt=&#34;flagä½çš„å˜åŒ–&#34; loading=&#34;lazy&#34;&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬0ä½&lt;/strong&gt;ä¸ºTCæ ‡å¿—ä½ï¼Œå’ŒSTPç›¸åŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬1ä½ä¸º&lt;/strong&gt;Proposalæ ‡å¿—ä½ï¼Œè¯¥ä½ç½®ä½è¡¨ç¤ºè¯¥BPDUä¸ºå¿«é€Ÿæ”¶æ•›æœºåˆ¶ä¸­çš„ProposalæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬2ä½å’Œç¬¬3ä½&lt;/strong&gt;ä¸ºç«¯å£è§’è‰²æ ‡å¿—ä½ï¼Œ&lt;br&gt;
00è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºæœªçŸ¥ï¼›&lt;br&gt;
01è¡¨ç¤ºç«¯å£è§’è‰²ä¸ºAlternateæˆ–Backupç«¯å£ï¼ˆAPæˆ–BPï¼‰ï¼›&lt;br&gt;
10è¡¨ç¤ºç«¯å£ä¸ºæ ¹ç«¯å£ï¼›&lt;br&gt;
11è¡¨ç¤ºç«¯å£ä¸ºæŒ‡å®šç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬4ä½&lt;/strong&gt;ä¸ºLearningæ ‡å¿—ä½ï¼Œè¯¥ä½ç½®ä½è¡¨ç¤ºç«¯å£å¤„äºLearningçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬5ä½&lt;/strong&gt;ä¸ºForwardingæ ‡å¿—ä½ï¼Œè¯¥ä½ç½®ä½è¡¨ç¤ºç«¯å£å¤„äºForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬6ä½&lt;/strong&gt;ä¸ºAgreementæ ‡å¿—ä½ï¼Œè¯¥ä½ç½®ä½è¡¨ç¤ºè¯¥BPDUä½å¿«é€Ÿæ”¶æ•›æœºåˆ¶ä¸­çš„AgreementæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¬¬7ä½&lt;/strong&gt;ä¸ºTCAæ ‡å¿—ä½ï¼Œå’ŒSTPç›¸åŒã€‚&lt;br&gt;
&lt;code&gt;0å’Œ7æ˜¯ä¸€ç»„ï¼Œ1å’Œ6æ˜¯ä¸€ç»„ï¼Œ2å’Œ3æ˜¯ä¸€ç»„ï¼Œ4å’Œ5æ˜¯ä¸€ç»„&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¿«é€Ÿæ”¶æ•›&#34;&gt;å¿«é€Ÿæ”¶æ•›&lt;/h3&gt;
&lt;h4 id=&#34;proposalagreementæœºåˆ¶&#34;&gt;Proposal/Agreementæœºåˆ¶&lt;/h4&gt;
&lt;p&gt;å½“ä¸€ä¸ªç«¯å£è¢«é€‰ä¸¾æˆä¸ºæŒ‡å®šç«¯å£DPä¹‹åï¼Œåœ¨STPä¸­ï¼Œè¯¥ç«¯å£è‡³å°‘è¦ç­‰å¾…ä¸€ä¸ªForward Delayï¼ˆLearningï¼‰æ—¶é—´æ‰ä¼šè¿ç§»åˆ°ForwardingçŠ¶æ€ã€‚è€Œåœ¨RSTPä¸­ï¼Œæ­¤ç«¯å£ä¼šå…ˆè¿›å…¥DiscardingçŠ¶æ€ï¼Œå†é€šè¿‡Proposal/Agreementæœºåˆ¶å¿«é€Ÿè¿›å…¥ForwardçŠ¶æ€ã€‚è¿™ç§æœºåˆ¶å¿…é¡»åœ¨&lt;strong&gt;ç‚¹åˆ°ç‚¹å…¨åŒå·¥é“¾è·¯ä¸Šä½¿ç”¨&lt;/strong&gt;ã€‚&lt;br&gt;
Proposal/Agreementæœºåˆ¶ï¼Œ&lt;strong&gt;å…¶ç›®çš„æ˜¯ä½¿ä¸€ä¸ªæŒ‡å®šç«¯å£å°½å¿«è¿›å…¥ForwardingçŠ¶æ€&lt;/strong&gt;ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œæ ¹æ¡¥S1å’ŒS2ä¹‹é—´æ–°æ·»åŠ äº†ä¸€æ¡é“¾è·¯ã€‚åœ¨å½“å‰çŠ¶æ€ä¸‹ï¼ŒS2çš„å¦å¤–å‡ ä¸ªç«¯å£p2æ˜¯Alternateç«¯å£ï¼Œp3æ˜¯æŒ‡å®šç«¯å£ä¸”å¤„äºForwardingçŠ¶æ€ï¼Œp4æ˜¯è¾¹ç¼˜ç«¯å£ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592123671461.png&#34; alt=&#34; Proposal/Agreementæœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ–°é“¾è·¯è¿æ¥æˆåŠŸåï¼ŒP/Aæœºåˆ¶åå•†è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;p0å’Œp1ä¸¤ä¸ªç«¯å£é©¬ä¸Šéƒ½å…ˆæˆä¸ºæŒ‡å®šç«¯å£ï¼Œå‘é€RST BPDUã€‚&lt;/li&gt;
&lt;li&gt;S2çš„p1å£æ”¶åˆ°æ›´ä¼˜çš„RST BPDUï¼Œé©¬ä¸Šæ„è¯†åˆ°è‡ªå·±å°†æˆä¸ºæ ¹ç«¯å£ï¼Œè€Œä¸æ˜¯æŒ‡å®šç«¯å£ï¼Œåœæ­¢å‘é€RST BPDUã€‚&lt;/li&gt;
&lt;li&gt;S1çš„p0è¿›å…¥DiscardingçŠ¶æ€ï¼Œäºæ˜¯å‘é€çš„RST BPDUä¸­æŠŠproposalç½®1ã€‚&lt;/li&gt;
&lt;li&gt;S2æ”¶åˆ°æ ¹æ¡¥å‘é€æ¥çš„æºå¸¦proposalçš„RST BPDUï¼Œå¼€å§‹å°†è‡ªå·±çš„æ‰€æœ‰ç«¯å£è¿›å…¥syncå˜é‡ç½®ä½ã€‚&lt;/li&gt;
&lt;li&gt;p2å·²ç»é˜»å¡ï¼ŒçŠ¶æ€ä¸å˜ï¼›p4æ˜¯è¾¹ç¼˜ç«¯å£ï¼Œä¸å‚ä¸è¿ç®—ï¼›æ‰€ä»¥åªéœ€è¦é˜»å¡éè¾¹ç¼˜æŒ‡å®šç«¯å£p3ã€‚&lt;/li&gt;
&lt;li&gt;p2å’Œp3éƒ½è¿›å…¥DiscardingçŠ¶æ€ä¹‹åï¼Œç«¯å£çš„syncedå˜é‡ç½®ä½ï¼Œæ ¹ç«¯å£p1çš„syncedä¹Ÿç½®ä½ï¼Œäºæ˜¯ä¾¿å‘S1è¿”å›Agreementä½ç½®ä½çš„å›åº”RST BPDUã€‚è¯¥RST BPDUæºå¸¦å’Œåˆšæ‰æ ¹æ¡¥å‘è¿‡æ¥çš„BPDUä¸€æ ·çš„ä¿¡æ¯ï¼Œé™¤äº†Agreementä½ç½®ä½ä¹‹å¤–ï¼ˆProposalä½æ¸…é›¶ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å½“S1åˆ¤æ–­å‡ºè¿™æ˜¯å¯¹åˆšåˆšå‘å‡ºçš„Proposalçš„å›åº”ï¼Œäºæ˜¯ç«¯å£p0é©¬ä¸Šè¿›å…¥ForwardingçŠ¶æ€ã€‚&lt;br&gt;
ä¸‹æ¸¸è®¾å¤‡ç»§ç»­æ‰§è¡ŒP/Aåå•†è¿‡ç¨‹ã€‚&lt;br&gt;
äº‹å®ä¸Šå¯¹äºSTPï¼ŒæŒ‡å®šç«¯å£çš„é€‰æ‹©å¯ä»¥å¾ˆå¿«å®Œæˆï¼Œä¸»è¦çš„é€Ÿåº¦ç“¶é¢ˆåœ¨äºï¼šä¸ºäº†é¿å…ç¯è·¯ï¼Œå¿…é¡»ç­‰å¾…è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼Œä½¿å…¨ç½‘çš„ç«¯å£çŠ¶æ€å…¨éƒ¨ç¡®å®šï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¦ç­‰å¾…è‡³å°‘ä¸€ä¸ªForward Delayæ‰€æœ‰ç«¯å£æ‰èƒ½è¿›è¡Œè½¬å‘ã€‚è€ŒRSTPçš„ä¸»è¦ç›®çš„å°±æ˜¯æ¶ˆé™¤è¿™ä¸ªç“¶é¢ˆï¼Œé€šè¿‡é˜»å¡è‡ªå·±çš„éæ ¹ç«¯å£æ¥ä¿è¯ä¸ä¼šå‡ºç°ç¯è·¯ã€‚è€Œä½¿ç”¨P/Aæœºåˆ¶åŠ å¿«äº†ä¸Šæ¸¸ç«¯å£è½¬åˆ°ForwardingçŠ¶æ€çš„é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;åå•†æœºåˆ¶çš„å‰æï¼ç‚¹åˆ°ç‚¹é“¾è·¯&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½¿ç”¨â€œProposalï¼Agreementâ€çš„å‰ææ˜¯æ³›æ´ªè¿™ä¸¤ç§æ¶ˆæ¯çš„é“¾è·¯å‡ä¸ºç‚¹åˆ°ç‚¹é“¾è·¯ï¼Œç‚¹åˆ°ç‚¹é“¾è·¯æ˜¯æŒ‡ä¸¤ä¸ªäº¤æ¢æœºç›´æ¥ç›¸è¿çš„é“¾è·¯ã€‚ä¹‹æ‰€ä»¥å¿…é¡»ä½¿ç”¨ç‚¹åˆ°ç‚¹é“¾è·¯æ˜¯å› ä¸ºç‚¹åˆ°å¤šç‚¹é“¾è·¯æœ‰ç¯è·¯é£é™©ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¼€å¯å…¨å±€è¾¹ç¼˜ç«¯å£
[Huawei]stp edged-port default 
# å¼€å¯ç«¯å£ä¸‹è¾¹ç¼˜ç«¯å£
interface GigabitEthernet0/0/4
stp edged-port enable
# å¦‚æœå…¨å±€å¼€å¯è¾¹ç¼˜ç«¯å£ä¸”å¼€å¯äº†BPDUä¿æŠ¤åŠŸèƒ½ï¼Œéœ€è¦å°†è¿æ¥äº¤æ¢æœºçš„ä¸Šè¿æ¥å£ï¼ˆtrunkæ¥å£ï¼‰å…³é—­è¾¹ç¼˜ç«¯å£åŠŸèƒ½
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ ¹ç«¯å£å¿«é€Ÿåˆ‡æ¢æœºåˆ¶&#34;&gt;æ ¹ç«¯å£å¿«é€Ÿåˆ‡æ¢æœºåˆ¶&lt;/h4&gt;
&lt;p&gt;å¦‚æœç½‘ç»œä¸­ä¸€ä¸ªæ ¹ç«¯å£RPå¤±æ•ˆï¼Œé‚£ä¹ˆç½‘ç»œä¸­æœ€ä¼˜çš„Alternateç«¯å£APå°†æˆä¸ºæ ¹ç«¯å£ï¼Œè¿›å…¥ForwardingçŠ¶æ€ã€‚å› ä¸ºé€šè¿‡è¿™ä¸ªAlternateç«¯å£è¿æ¥çš„ç½‘æ®µä¸Šå¿…ç„¶æœ‰ä¸ªæŒ‡å®šç«¯å£å¯ä»¥é€šå¾€æ ¹æ¡¥ã€‚è¿™ç§äº§ç”Ÿæ–°çš„æ ¹ç«¯å£çš„è¿‡ç¨‹ä¼šå¼•å‘æ‹“æ‰‘å˜åŒ–ï¼Œè¯¦ç»†æè¿°è¯·è§RSTPæŠ€æœ¯ç»†èŠ‚ä¸­çš„RSTPæ‹“æ‰‘å˜åŒ–å¤„ç†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¾¹ç¼˜ç«¯å£çš„å¼•å…¥&#34;&gt;è¾¹ç¼˜ç«¯å£çš„å¼•å…¥&lt;/h4&gt;
&lt;p&gt;åœ¨RSTPé‡Œé¢ï¼Œå¦‚æœæŸä¸€ä¸ªæŒ‡å®šç«¯å£ä½äºæ•´ä¸ªç½‘ç»œçš„è¾¹ç¼˜ï¼Œå³ä¸å†ä¸å…¶ä»–äº¤æ¢è®¾å¤‡è¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥ä¸ç»ˆç«¯è®¾å¤‡ç›´è¿ï¼Œè¿™ç§ç«¯å£å«åšè¾¹ç¼˜ç«¯å£EPã€‚è¾¹ç¼˜ç«¯å£ä¸æ¥æ”¶å¤„ç†é…ç½®BPDUï¼Œä¸å‚ä¸RSTPè¿ç®—ï¼Œå¯ä»¥ç”±Disableç›´æ¥è½¬åˆ°ForwardingçŠ¶æ€ï¼Œä¸”ä¸ç»å†æ—¶å»¶ï¼Œå°±åƒåœ¨ç«¯å£ä¸Šå°†STPç¦ç”¨ã€‚ä½†æ˜¯ä¸€æ—¦è¾¹ç¼˜ç«¯å£æ”¶åˆ°é…ç½®BPDUï¼Œå°±ä¸§å¤±äº†è¾¹ç¼˜ç«¯å£å±æ€§ï¼Œæˆä¸ºæ™®é€šSTPç«¯å£ï¼Œå¹¶é‡æ–°è¿›è¡Œç”Ÿæˆæ ‘è®¡ç®—ï¼Œä»è€Œå¼•èµ·ç½‘ç»œéœ‡è¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;rstpæ‹“æ‰‘å˜åŒ–å¤„ç†&#34;&gt;RSTPæ‹“æ‰‘å˜åŒ–å¤„ç†&lt;/h3&gt;
&lt;p&gt;åœ¨RSTPä¸­æ£€æµ‹æ‹“æ‰‘æ˜¯å¦å‘ç”Ÿå˜åŒ–&lt;strong&gt;åªæœ‰ä¸€ä¸ªæ ‡å‡†&lt;/strong&gt;ï¼š&lt;strong&gt;ä¸€ä¸ªéè¾¹ç¼˜ç«¯å£è¿ç§»åˆ°ForwardingçŠ¶æ€&lt;/strong&gt;ã€‚&lt;br&gt;
ä¸€æ—¦æ£€æµ‹åˆ°æ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œå°†è¿›è¡Œå¦‚ä¸‹å¤„ç†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆæ¸…ç©ºçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„ç«¯å£ä¸Šå­¦ä¹ åˆ°çš„MACåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;åŒæ—¶åœ¨2å€çš„hello timeæ—¶é—´å†…ä¸æ–­å‘éè¾¹ç¼˜ç«¯å£å‘é€TCç½®ä½çš„RST BPDUã€‚&lt;/li&gt;
&lt;li&gt;å…¶ä»–è®¾å¤‡æ”¶åˆ°TCç½®ä½çš„RST BPDUåï¼Œæ¸…ç©ºå…¶ä»–æ‰€æœ‰ç«¯å£å­¦ä¹ åˆ°çš„MACåœ°å€ï¼ˆ&lt;strong&gt;é™¤äº†æ”¶åˆ°RST BPDUçš„ç«¯å£&lt;/strong&gt;ï¼‰ã€‚åŒæ—¶ä¹Ÿä¼šä»è‡ªå·±çš„éè¾¹ç¼˜ç«¯å£å’Œæ ¹ç«¯å£å‘å¤–æ³›æ´ªTCç½®ä½çš„ RST BPDUã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;rstpä¸­é…ç½®bpudçš„å¤„ç†&#34;&gt;RSTPä¸­é…ç½®BPUDçš„å¤„ç†&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éæ ¹æ¡¥è®¾å¤‡æ¯éš”Hello Timerä»æŒ‡å®šç«¯å£ä¸»åŠ¨å‘é€é…ç½®BPDU&lt;/li&gt;
&lt;li&gt;BPDUè¶…æ—¶è®¡æ—¶å™¨ä¸º3ä¸ªHello Timer&lt;/li&gt;
&lt;li&gt;é˜»å¡ç«¯å£å¯ä»¥ç«‹å³å¯¹æ”¶åˆ°çš„æ¬¡çº§BPDUè¿›è¡Œå›åº”&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ ¹ç«¯å£å¿«é€Ÿåˆ‡æ¢æœºåˆ¶-2&#34;&gt;æ ¹ç«¯å£å¿«é€Ÿåˆ‡æ¢æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;ç½‘æ¡¥æ ¹ç«¯å£å¤±æ•ˆï¼Œä¸”å¯¹ç«¯ç½‘æ¡¥æŒ‡å®šç«¯å£ä¾ç„¶ä¸ºè½¬å‘çŠ¶æ€ï¼Œåˆ™è¯¥ç½‘æ¡¥Alternateç«¯å£ç›´æ¥è¿›å…¥è½¬å‘çŠ¶æ€&lt;/p&gt;
&lt;h3 id=&#34;rstpä¸stpäº’æ“ä½œ&#34;&gt;RSTPä¸STPäº’æ“ä½œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;RSTPç«¯å£åœ¨æ¥æ”¶åˆ°STP BPDUçš„ä¸¤ä¸ªhello timeråï¼Œä¼šåˆ‡æ¢åˆ°STPå·¥ä½œæ¨¡å¼&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åˆ°STPåè®®çš„RSTPç«¯å£ä¼šä¸§å¤±å¿«é€Ÿæ”¶æ•›ç­‰ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;å½“è¿è¡ŒSTPçš„è®¾å¤‡ä»ç½‘ç»œæ’¤ç¦»åï¼ŒåŸè¿è¡ŒRSTPçš„äº¤æ¢è®¾å¤‡ä¸Šçš„ç›¸åº”ç«¯å£ï¼ˆè¿æ¥STPè®¾å¤‡çš„ç«¯å£ï¼‰å¯è¿ç§»å›åˆ°RSTPå·¥ä½œæ¨¡å¼&lt;br&gt;
&lt;code&gt;å¦‚æœè¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œä¼šå¤±å»è¾¹ç¼˜ç«¯å£ç‰¹æ€§ï¼Œå˜ä¸ºæ™®é€šæ¥å£&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bpduä¿æŠ¤å’Œbpdu-filture&#34;&gt;BPDUä¿æŠ¤å’ŒBPDU Filture&lt;/h3&gt;
&lt;p&gt;BPDUä¿æŠ¤å’ŒBPDU Filtureä¸€èˆ¬éƒ½æ˜¯ä¸è¾¹ç¼˜ç«¯å£EPé…åˆä½¿ç”¨&lt;br&gt;
&lt;code&gt;è¾¹ç¼˜ç«¯å£EPå³å‘ä¹Ÿæ”¶BPDUï¼ŒEP+BPDUä¿æŠ¤åªå‘ä¸æ”¶BPDUï¼ŒEP+BPDU Filtureä¸æ”¶ä¹Ÿä¸å‘BPDU&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä»€ä¹ˆæƒ…å†µé…ç½®BPDUä¿æŠ¤
&lt;ol&gt;
&lt;li&gt;æ²¡æœ‰åŠæ³•ä¿è¯æ¥å…¥ç«¯ä¸€å®šæ˜¯ç»ˆç«¯è®¾å¤‡&lt;/li&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢å…¶ä»–éæ³•è®¾å¤‡æŠ¢å æ ¹æ¡¥RB&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»€ä¹ˆæƒ…å†µé…ç½®BPDU Filture&lt;br&gt;
&lt;code&gt;stp bpdu-filter enable&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;ä¸æ”¶ä¹Ÿä¸å‘BPDU&lt;/li&gt;
&lt;li&gt;é˜²æ­¢è‡ªå·±å»æŠ¢åˆ«äººæ ¹æ¡¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ ¹ä¿æŠ¤&#34;&gt;æ ¹ä¿æŠ¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;stp root-protection&lt;/code&gt;&lt;br&gt;
é˜²æ­¢è‡ªå·±çš„æ ¹æ¡¥è¢«æŠ¢å ï¼Œä¸€èˆ¬é…ç½®åœ¨DPæ¥å£&lt;br&gt;
ä¸€æ—¦å¯ç”¨Rootä¿æŠ¤åŠŸèƒ½çš„æŒ‡å®šç«¯å£æ”¶åˆ°ä¼˜å…ˆçº§æ›´é«˜çš„RST BPDUæ—¶ï¼Œç«¯å£çŠ¶æ€å°†è¿›å…¥DiscardingçŠ¶æ€ï¼Œä¸å†è½¬å‘æŠ¥æ–‡ã€‚åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´ï¼ˆé€šå¸¸ä¸ºä¸¤å€çš„Forward Delayï¼‰ï¼Œå¦‚æœç«¯å£ä¸€ç›´æ²¡æœ‰å†æ”¶åˆ°ä¼˜å…ˆçº§è¾ƒé«˜çš„RST BPDUï¼Œç«¯å£ä¼šè‡ªåŠ¨æ¢å¤åˆ°æ­£å¸¸çš„ForwardingçŠ¶æ€ã€‚&lt;br&gt;
&lt;code&gt;Rootä¿æŠ¤åŠŸèƒ½åªèƒ½åœ¨æŒ‡å®šç«¯å£DPä¸Šé…ç½®ç”Ÿæ•ˆ&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç¯è·¯ä¿æŠ¤&#34;&gt;ç¯è·¯ä¿æŠ¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;stp loop-protection&lt;/code&gt;&lt;br&gt;
åœ¨å¯åŠ¨äº†ç¯è·¯ä¿æŠ¤åŠŸèƒ½åï¼Œå¦‚æœæ ¹ç«¯å£æˆ–Alternateç«¯å£é•¿æ—¶é—´æ”¶ä¸åˆ°æ¥è‡ªä¸Šæ¸¸è®¾å¤‡çš„BPDUæŠ¥æ–‡æ—¶ï¼Œåˆ™å‘ç½‘ç®¡å‘å‡ºé€šçŸ¥ä¿¡æ¯ï¼ˆæ­¤æ—¶æ ¹ç«¯å£ä¼šè¿›å…¥DiscardingçŠ¶æ€ï¼Œè§’è‰²åˆ‡æ¢ä¸ºæŒ‡å®šç«¯å£ï¼‰ï¼Œè€ŒAlternateç«¯å£åˆ™ä¼šä¸€ç›´ä¿æŒåœ¨é˜»å¡çŠ¶æ€ï¼ˆè§’è‰²ä¹Ÿä¼šåˆ‡æ¢ä¸ºæŒ‡å®šç«¯å£ï¼‰ï¼Œä¸è½¬å‘æŠ¥æ–‡ï¼Œä»è€Œä¸ä¼šåœ¨ç½‘ç»œä¸­å½¢æˆç¯è·¯ã€‚ç›´åˆ°é“¾è·¯ä¸å†æ‹¥å¡æˆ–å•å‘é“¾è·¯æ•…éšœæ¢å¤ï¼Œç«¯å£é‡æ–°æ”¶åˆ°BPDUæŠ¥æ–‡è¿›è¡Œåå•†ï¼Œå¹¶æ¢å¤åˆ°é“¾è·¯æ‹¥å¡æˆ–è€…å•å‘é“¾è·¯æ•…éšœå‰çš„è§’è‰²å’ŒçŠ¶æ€ã€‚&lt;br&gt;
&lt;code&gt;ç¯è·¯ä¿æŠ¤åŠŸèƒ½åªèƒ½åœ¨æ ¹ç«¯å£RPå’Œé¢„å¤‡ç«¯å£APä¸Šé…ç½®ç”Ÿæ•ˆ&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;é˜²tc-bpduæŠ¥æ–‡æ”»å‡»&#34;&gt;é˜²TC-BPDUæŠ¥æ–‡æ”»å‡»&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;stp tc-protection threshold 1 # é»˜è®¤ä¸º1&lt;/code&gt;&lt;br&gt;
äº¤æ¢è®¾å¤‡åœ¨æ¥æ”¶åˆ°TC BPDUæŠ¥æ–‡åï¼Œä¼šæ‰§è¡ŒMACåœ°å€è¡¨é¡¹å’ŒARPè¡¨é¡¹çš„åˆ é™¤æ“ä½œã€‚&lt;br&gt;
å¦‚æœæœ‰äººä¼ªé€ TC BPDUæŠ¥æ–‡æ¶æ„æ”»å‡»äº¤æ¢è®¾å¤‡æ—¶ï¼Œäº¤æ¢è®¾å¤‡çŸ­æ—¶é—´å†…ä¼šæ”¶åˆ°å¾ˆå¤šTC BPDUæŠ¥æ–‡ï¼Œé¢‘ç¹çš„åˆ é™¤æ“ä½œä¼šç»™è®¾å¤‡é€ æˆå¾ˆå¤§çš„è´Ÿæ‹…ï¼Œç»™ç½‘ç»œçš„ç¨³å®šå¸¦æ¥å¾ˆå¤§éšæ‚£ã€‚&lt;br&gt;
å¯ç”¨é˜²TC-BPDUæŠ¥æ–‡æ”»å‡»åŠŸèƒ½åï¼Œåœ¨å•ä½æ—¶é—´å†…ï¼Œäº¤æ¢è®¾å¤‡å¤„ç†TC BPDUæŠ¥æ–‡çš„æ¬¡æ•°å¯é…ç½®ã€‚&lt;br&gt;
å¦‚æœåœ¨å•ä½æ—¶é—´å†…ï¼Œäº¤æ¢è®¾å¤‡åœ¨æ”¶åˆ°TC BPDUæŠ¥æ–‡æ•°é‡å¤§äºé…ç½®çš„é˜ˆå€¼ï¼Œé‚£ä¹ˆè®¾å¤‡åªä¼šå¤„ç†é˜ˆå€¼æŒ‡å®šçš„æ¬¡æ•°ã€‚å¯¹äºå…¶ä»–è¶…å‡ºé˜ˆå€¼çš„TC BPDUæŠ¥æ–‡ï¼Œå®šæ—¶å™¨åˆ°æœŸåè®¾å¤‡åªå¯¹å…¶ç»Ÿä¸€å¤„ç†ä¸€æ¬¡ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹çš„åˆ é™¤MACåœ°å€è¡¨é¡¹å’ŒARPè¡¨é¡¹ï¼Œä»è€Œè¾¾åˆ°ä¿æŠ¤è®¾å¤‡çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mstp&#34;&gt;MSTP&lt;/h2&gt;
&lt;p&gt;RSTPå’ŒSTPè¿˜å­˜åœ¨åŒä¸€ä¸ªç¼ºé™·ï¼šç”±äºå±€åŸŸç½‘å†…æ‰€æœ‰çš„VLANå…±äº«ä¸€æ£µç”Ÿæˆæ ‘ï¼Œå› æ­¤æ— æ³•åœ¨VLANé—´å®ç°æ•°æ®æµé‡çš„è´Ÿè½½å‡è¡¡ï¼Œé“¾è·¯è¢«é˜»å¡åå°†ä¸æ‰¿è½½ä»»ä½•æµé‡ï¼Œé€ æˆå¸¦å®½æµªè´¹ï¼Œè¿˜æœ‰å¯èƒ½é€ æˆéƒ¨åˆ†VLANçš„æŠ¥æ–‡æ— æ³•è½¬å‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®ä¾‹å°±æ˜¯å¤šä¸ªVLANçš„ä¸€ä¸ªé›†åˆã€‚é€šè¿‡å°†å¤šä¸ªVLANæ†ç»‘åˆ°ä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥èŠ‚çœé€šä¿¡å¼€é”€å’Œèµ„æºå ç”¨ç‡ã€‚MSTPå„ä¸ªå®ä¾‹æ‹“æ‰‘çš„è®¡ç®—ç›¸äº’ç‹¬ç«‹ï¼Œåœ¨è¿™äº›å®ä¾‹ä¸Šå¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ã€‚å¯ä»¥æŠŠå¤šä¸ªç›¸åŒæ‹“æ‰‘ç»“æ„çš„VLANæ˜ å°„åˆ°ä¸€ä¸ªå®ä¾‹é‡Œï¼Œè¿™äº›VLANåœ¨ç«¯å£ä¸Šçš„è½¬å‘çŠ¶æ€å–å†³äºç«¯å£åœ¨å¯¹åº”MSTPå®ä¾‹çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;mståŒºåŸŸ&#34;&gt;MSTåŒºåŸŸ&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592232219673.png&#34; alt=&#34;MSTåŒºåŸŸ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MSTPå…è®¸ä¸€ç»„ç›¸é‚»çš„äº¤æ¢æœºç»„æˆä¸€ä¸ªMSTåŒºåŸŸï¼ˆMST Regionï¼‰ã€‚åŒä¸€ä¸ªåŒºåŸŸçš„äº¤æ¢æœºæœ‰ç€ç›¸åŒçš„VLANåˆ°MST Instanceçš„æ˜ å°„å…³ç³»ã€‚é™¤äº†Instance 0ä¹‹å¤–ï¼Œæ¯ä¸ªåŒºåŸŸçš„MST Instanceéƒ½ç‹¬ç«‹è®¡ç®—ç”Ÿæˆæ ‘ï¼Œä¸ç®¡æ˜¯å¦åŒ…å«ç›¸åŒçš„VLANï¼Œä¸ç®¡VLANæ˜¯å¦é€šè¿‡åŒºåŸŸé—´é“¾è·¯ï¼ŒåŒºåŸŸé—´çš„ç”Ÿæˆæ ‘è®¡ç®—äº’ä¸å½±å“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mstpåŸŸ&#34;&gt;MSTPåŸŸ&lt;/h3&gt;
&lt;p&gt;MSTPåŸŸï¼Œå…·æœ‰ç›¸åŒå…ƒç´ ç½‘æ¡¥çš„é›†åˆï¼šä½¿èƒ½MSTPï¼Œç›¸åŒåŸŸåï¼Œç›¸åŒVLANæ˜ å°„ï¼Œç›¸åŒçš„ä¿®è®¢çº§åˆ«&lt;/p&gt;
&lt;h3 id=&#34;cstistcistæ€»æ ¹ä¸»æ¡¥mstimstiåŸŸæ ¹&#34;&gt;CST/IST/CIST/æ€»æ ¹/ä¸»æ¡¥/MSTI/MSTIåŸŸæ ¹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592232593691.png&#34; alt=&#34;CST/IST/CIST/æ€»æ ¹/ä¸»æ¡¥&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592318351169.png&#34; alt=&#34;MSTI/MSTIåŸŸæ ¹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CISTå…¬å…±å’Œå†…éƒ¨ç”Ÿæˆæ ‘CISTæ˜¯é€šè¿‡STPæˆ–RSTPåè®®è®¡ç®—ç”Ÿæˆçš„ï¼Œè¿æ¥ä¸€ä¸ªäº¤æ¢ç½‘ç»œå†…æ‰€æœ‰äº¤æ¢è®¾å¤‡çš„å•ç”Ÿæˆæ ‘ã€‚
&lt;ul&gt;
&lt;li&gt;æ€»æ ¹æ˜¯æ•´ä¸ªç½‘ç»œä¸­ä¼˜å…ˆçº§æœ€é«˜çš„ç½‘æ¡¥ï¼Œå³ä¸ºCISTçš„æ ¹æ¡¥ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼ŒMSTåŸŸå†…çš„çº¢çº¿å’ŒMSTåŸŸé—´çš„è“çº¿å…±åŒç»„æˆäº†CISTã€‚CISTçš„æ ¹æ¡¥ä¸ºMST Region1ä¸­çš„S1ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CSTå…¬å…±ç”Ÿæˆæ ‘CSTï¼ˆCommon Spanning Treeï¼‰æ˜¯è¿æ¥äº¤æ¢ç½‘ç»œå†…æ‰€æœ‰MSTåŸŸçš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚
&lt;ul&gt;
&lt;li&gt;CSTå°±æ˜¯è¿™äº›èŠ‚ç‚¹é€šè¿‡STPæˆ–RSTPåè®®è®¡ç®—ç”Ÿæˆçš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼Œç”±è“çº¿ç»„æˆCSTã€‚CSTçš„æ ¹å³ä¸ºMST Region1ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å†…éƒ¨ç”Ÿæˆæ ‘ISTï¼ˆInternal Spanning Treeï¼‰æ˜¯å„MSTåŸŸå†…çš„ä¸€æ£µç”Ÿæˆæ ‘ã€‚
&lt;ul&gt;
&lt;li&gt;MSTåŸŸå†…æ¯é¢—ç”Ÿæˆæ ‘éƒ½å¯¹åº”ä¸€ä¸ªå®ä¾‹å·ï¼ŒISTçš„å®ä¾‹å·ä¸º0ã€‚å®ä¾‹0æ— è®ºæœ‰æ²¡æœ‰é…ç½®éƒ½æ˜¯å­˜åœ¨çš„ï¼Œæ²¡æœ‰æ˜ å°„åˆ°å…¶ä»–å®ä¾‹çš„VLANé»˜è®¤éƒ½ä¼šæ˜ å°„åˆ°å®ä¾‹0ï¼Œå³ISTä¸Šã€‚&lt;/li&gt;
&lt;li&gt;ISTæ˜¯CISTåœ¨MSTåŸŸä¸­çš„ä¸€ä¸ªç‰‡æ®µã€‚æ‹“æ‰‘ä¸­ï¼Œç”±çº¢çº¿ç»„æˆISTã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸»æ¡¥ï¼ˆMaster Bridgeï¼‰ä¹Ÿå°±æ˜¯IST Masterï¼Œå®ƒæ˜¯åŸŸå†…è·ç¦»æ€»æ ¹æœ€è¿‘çš„äº¤æ¢è®¾å¤‡ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ€»æ ¹åœ¨MSTåŸŸä¸­ï¼Œåˆ™æ€»æ ¹ä¸ºè¯¥åŸŸçš„ä¸»æ¡¥ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼ŒMasteræ¡¥ä¸ºé»„è‰²çš„ç½‘æ¡¥ï¼Œå³ä¸ºS1/S4/S7ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ„æˆå•ç”Ÿæˆæ ‘SSTï¼ˆSingle Spanning Treeï¼‰æœ‰ä¸¤ç§æƒ…å†µï¼š
&lt;ul&gt;
&lt;li&gt;è¿è¡ŒSTPæˆ–RSTPçš„äº¤æ¢è®¾å¤‡åªèƒ½å±äºä¸€ä¸ªç”Ÿæˆæ ‘ã€‚&lt;/li&gt;
&lt;li&gt;MSTåŸŸä¸­åªæœ‰ä¸€ä¸ªäº¤æ¢è®¾å¤‡ï¼Œè¿™ä¸ªäº¤æ¢è®¾å¤‡æ„æˆå•ç”Ÿæˆæ ‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MSTI
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªMSTåŸŸå†…å¯ä»¥ç”Ÿæˆå¤šæ£µç”Ÿæˆæ ‘ï¼Œæ¯æ£µç”Ÿæˆæ ‘éƒ½ç§°ä¸ºä¸€ä¸ªMSTIã€‚MSTIåŸŸæ ¹æ˜¯æ¯ä¸ªå¤šç”Ÿæˆæ ‘å®ä¾‹çš„æ ‘æ ¹ã€‚åŸŸä¸­ä¸åŒçš„MSTIæœ‰å„è‡ªçš„åŸŸæ ¹ã€‚&lt;/li&gt;
&lt;li&gt;MSTIä¹‹é—´å½¼æ­¤ç‹¬ç«‹ï¼ŒMSTIå¯ä»¥ä¸ä¸€ä¸ªæˆ–è€…å¤šä¸ªVLANå¯¹åº”ã€‚ä½†ä¸€ä¸ªVLANåªèƒ½ä¸ä¸€ä¸ªMSTIå¯¹åº”ã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªMSTIå¯¹åº”ä¸€ä¸ªå®ä¾‹å·ï¼Œå®ä¾‹å·ä»1å¼€å§‹ï¼Œä»¥åŒºåˆ†å®ä¾‹å·ä¸º0çš„ISTã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼ŒVLAN2æ˜ å°„åˆ°å®ä¾‹2ï¼Œå³MSTI 2ï¼›VLAN4æ˜ å°„åˆ°å®ä¾‹4ï¼Œå³MSTI 4ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;MSTIåŸŸæ ¹
&lt;ul&gt;
&lt;li&gt;MSTIåŸŸæ ¹æ˜¯æ¯ä¸ªMSTIä¸Šä¼˜å…ˆçº§æœ€é«˜çš„ç½‘æ¡¥ï¼ŒMSTåŸŸå†…æ¯ä¸ªMSTIå¯ä»¥æŒ‡å®šä¸åŒçš„æ ¹ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼Œå‡è®¾S9åœ¨MSTI 2ä¸­ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥S9ä¸ºMSTI 2ä¸­çš„åŸŸæ ¹ï¼›å‡è®¾S8åœ¨MSTI 4ä¸­ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥S8ä¸ºMSTI 2ä¸­çš„åŸŸæ ¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mstpç«¯å£è§’è‰²&#34;&gt;MSTPç«¯å£è§’è‰²&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592320464460.png&#34; alt=&#34;MSTPç«¯å£è§’è‰²&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
MSTPåœ¨RSTPçš„åŸºç¡€ä¸Šæ–°å¢äº†2ç§ç«¯å£ï¼ŒMSTPçš„ç«¯å£è§’è‰²å…±æœ‰7ç§ï¼šæ ¹ç«¯å£ã€æŒ‡å®šç«¯å£ã€Alternateç«¯å£ã€Backupç«¯å£ã€è¾¹ç¼˜ç«¯å£ã€Masterç«¯å£å’ŒåŸŸè¾¹ç¼˜ç«¯å£ã€‚&lt;/p&gt;
&lt;h4 id=&#34;masterç«¯å£&#34;&gt;Masterç«¯å£&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Masterç«¯å£æ˜¯MSTåŸŸå’Œæ€»æ ¹ç›¸è¿çš„æ‰€æœ‰è·¯å¾„ä¸­æœ€çŸ­è·¯å¾„ä¸Šçš„ç«¯å£ï¼Œå®ƒæ˜¯äº¤æ¢è®¾å¤‡ä¸Šè¿æ¥MSTåŸŸåˆ°æ€»æ ¹çš„ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;Masterç«¯å£æ˜¯åŸŸä¸­çš„æŠ¥æ–‡å»å¾€æ€»æ ¹çš„å¿…ç»ä¹‹è·¯ã€‚&lt;/li&gt;
&lt;li&gt;Masterç«¯å£æ˜¯ç‰¹æ®ŠåŸŸè¾¹ç¼˜ç«¯å£ï¼ŒMasterç«¯å£åœ¨CISTä¸Šçš„è§’è‰²æ˜¯Root Portï¼Œåœ¨å…¶å®ƒå„å®ä¾‹ä¸Šçš„è§’è‰²éƒ½æ˜¯Masterç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼ŒS7é¢å‘Region 1çš„ç«¯å£ä¸ºMasterå£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åŸŸè¾¹ç¼˜ç«¯å£&#34;&gt;åŸŸè¾¹ç¼˜ç«¯å£&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;MSTåŸŸå†…ç½‘æ¡¥å’Œå…¶ä»–MSTåŸŸæˆ–è€…STP/RSTPç½‘æ¡¥ç›¸è¿çš„ç«¯å£ä¸ºåŸŸè¾¹ç•Œç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;æ‹“æ‰‘ä¸­ï¼ŒS8é¢å‘Region 2çš„ç«¯å£ä¸ºåŸŸè¾¹ç•Œç«¯å£ã€‚&lt;br&gt;
ç”±äºç½‘æ¡¥åœ¨ä¸åŒMSTIä¸Šå¯ä»¥å…·æœ‰ä¸åŒçš„è§’è‰²ï¼Œæ‰€ä»¥ç½‘æ¡¥ç«¯å£åœ¨MSTIä¸Šå¯èƒ½æœ‰ä¸åŒçš„è§’è‰²ã€‚&lt;strong&gt;å”¯ä¸€ä¾‹å¤–&lt;/strong&gt;çš„æ˜¯Masterç«¯å£ï¼Œè¯¥ç«¯å£åœ¨æ‰€æœ‰MSTIä¸Šçš„è§’è‰²éƒ½ç›¸åŒï¼Œéƒ½ä¸ºMasterç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mstpå’Œrstpäº¤äº’&#34;&gt;MSTPå’ŒRSTPäº¤äº’&lt;/h3&gt;
&lt;p&gt;RSTP/STPç½‘æ¡¥å°†MSTPåŸŸçœ‹åšä¸€ä¸ªæ¡¥IDä¸ºåŸŸæ ¹IDçš„RSTPæ¡¥ã€‚&lt;br&gt;
å½“RSTP/STPç½‘æ¡¥æ”¶åˆ°MSTPçš„BPDUåï¼Œä¼šæå–BPDUä¸­çš„æ€»æ ¹ã€å¤–éƒ¨è·¯å¾„å¼€é”€ã€åŸŸæ ¹IDã€æŒ‡å®šç«¯å£IDä½œä¸ºRSTP/STPçš„ï¼ˆRIDã€RPCã€BIDã€PIDï¼‰&lt;br&gt;
å½“MSTPç½‘æ¡¥æ”¶åˆ°RSTP/STPçš„BPDUåï¼Œä¼šå°†BPDUä¸­çš„ï¼ˆRIDã€RPCã€BIDã€PIDï¼‰å¯¹åº”åˆ°MSTPä¸­ï¼Œå…¶ä¸­BIDä½œä¸ºMSTPä¸­çš„åŸŸæ ¹IDï¼Œä¹Ÿä½œä¸ºæŒ‡å®šäº¤æ¢æœºIDï¼Œå†…éƒ¨è·¯å¾„å¼€é”€ä¸º0.&lt;/p&gt;
&lt;h3 id=&#34;mstpæ‹“æ‰‘è®¡ç®—-æ¯”è¾ƒåŸåˆ™&#34;&gt;MSTPæ‹“æ‰‘è®¡ç®—--æ¯”è¾ƒåŸåˆ™&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ¯”è¾ƒæ ¹äº¤æ¢è®¾å¤‡IDã€‚&lt;br&gt;
å¦‚æœæ ¹äº¤æ¢è®¾å¤‡IDç›¸åŒï¼Œå†æ¯”è¾ƒå¤–éƒ¨è·¯å¾„å¼€é”€ã€‚&lt;br&gt;
å¦‚æœå¤–éƒ¨è·¯å¾„å¼€é”€ç›¸åŒï¼Œå†æ¯”è¾ƒåŸŸæ ¹IDã€‚&lt;br&gt;
å¦‚æœåŸŸæ ¹IDä»ç„¶ç›¸åŒï¼Œå†æ¯”è¾ƒå†…éƒ¨è·¯å¾„å¼€é”€ã€‚&lt;br&gt;
å¦‚æœå†…éƒ¨è·¯å¾„ä»ç„¶ç›¸åŒï¼Œå†æ¯”è¾ƒæŒ‡å®šäº¤æ¢è®¾å¤‡IDã€‚&lt;br&gt;
å¦‚æœæŒ‡å®šäº¤æ¢è®¾å¤‡IDä»ç„¶ç›¸åŒï¼Œå†æ¯”è¾ƒæŒ‡å®šç«¯å£IDã€‚&lt;br&gt;
å¦‚æœæŒ‡å®šç«¯å£IDè¿˜ç›¸åŒï¼Œå†æ¯”è¾ƒæ¥æ”¶ç«¯å£IDã€‚&lt;/p&gt;
&lt;h3 id=&#34;mstpå¿«é€Ÿæ”¶æ•›&#34;&gt;MSTPå¿«é€Ÿæ”¶æ•›&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592320585495.png&#34; alt=&#34;MSTPå¿«é€Ÿæ”¶æ•›&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨MSTPä¸­ï¼ŒP/Aæœºåˆ¶å·¥ä½œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šæ¸¸è®¾å¤‡å‘é€ProposalæŠ¥æ–‡ï¼Œè¯·æ±‚è¿›è¡Œå¿«é€Ÿè¿ç§»ã€‚ä¸‹æ¸¸è®¾å¤‡æ¥æ”¶åˆ°åï¼ŒæŠŠä¸ä¸Šæ¸¸è®¾å¤‡ç›¸è¿çš„ç«¯å£è®¾ç½®ä¸ºæ ¹ç«¯å£ï¼Œå¹¶é˜»å¡æ‰€æœ‰éè¾¹ç¼˜ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;ä¸Šæ¸¸è®¾å¤‡ç»§ç»­å‘é€AgreementæŠ¥æ–‡ã€‚ä¸‹æ¸¸è®¾å¤‡æ¥æ”¶åˆ°åï¼Œæ ¹ç«¯å£è½¬ä¸ºForwardingçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‹æ¸¸è®¾å¤‡å›åº”AgreementæŠ¥æ–‡ã€‚ä¸Šæ¸¸è®¾å¤‡æ¥æ”¶åˆ°åï¼ŒæŠŠä¸ä¸‹æ¸¸è®¾å¤‡ç›¸è¿çš„ç«¯å£è®¾ç½®ä¸ºæŒ‡å®šç«¯å£ï¼ŒæŒ‡å®šç«¯å£è¿›å…¥ForwardingçŠ¶æ€ã€‚&lt;br&gt;
ç¼ºçœæƒ…å†µä¸‹ï¼Œåä¸ºä½¿ç”¨å¢å¼ºçš„å¿«é€Ÿè¿ç§»æœºåˆ¶ã€‚å¦‚æœåä¸ºè®¾å¤‡ä¸å…¶ä»–å‚å•†çš„è®¾å¤‡è¿›è¡Œäº’é€šï¼Œè€Œå…¶ä»–å‚å•†çš„è®¾å¤‡P/Aæœºåˆ¶ä½¿ç”¨æ™®é€šçš„å¿«é€Ÿè¿ç§»æœºåˆ¶ï¼Œæ­¤æ—¶ï¼Œå¯åœ¨åä¸ºè®¾å¤‡ä¸Šé€šè¿‡å‘½ä»¤&lt;code&gt;stp no-agreement-check&lt;/code&gt;è®¾ç½®P/Aæœºåˆ¶ä¸ºæ™®é€šçš„å¿«é€Ÿè¿ç§»æœºåˆ¶ï¼Œä»è€Œå®ç°åä¸ºè®¾å¤‡å’Œå…¶ä»–å‚å•†çš„è®¾å¤‡è¿›è¡Œäº’é€šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;dhcp&#34;&gt;DHCP&lt;/h2&gt;
&lt;h3 id=&#34;dhcp-ä¸‰ç§åœ°å€åˆ†é…æ–¹å¼&#34;&gt;DHCP ä¸‰ç§åœ°å€åˆ†é…æ–¹å¼&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™ä¸‰ç§æ–¹å¼ä¸­ï¼Œåªæœ‰åŠ¨æ€åˆ†é…çš„æ–¹å¼å¯ä»¥å¯¹å·²ç»åˆ†é…ç»™ä¸»æœºä½†ç°åœ¨æ­¤ä¸»æœºå·²ç»ä¸ç”¨çš„IPåœ°å€é‡æ–°åŠ ä»¥åˆ©ç”¨ã€‚è¿™æ ·ï¼Œåœ¨ç»™ä¸€å°ä¸´æ—¶è¿å…¥ç½‘ç»œçš„ä¸»æœºåˆ†é…åœ°å€æˆ–è€…åœ¨ä¸€ç»„ä¸éœ€è¦æ°¸ä¹…çš„IPåœ°å€çš„ä¸»æœºä¸­å…±äº«ä¸€ç»„æœ‰é™çš„IPåœ°å€æ—¶ï¼ŒåŠ¨æ€åˆ†é…å°±ä¼šæ˜¾å¾—ç‰¹åˆ«æœ‰ç”¨ã€‚å½“ä¸€å°æ–°ä¸»æœºè¦æ°¸ä¹…çš„æ¥å…¥ä¸€ä¸ªç½‘ç»œæ—¶ï¼Œè€Œç½‘ç»œçš„IPåœ°å€éå¸¸æœ‰é™ï¼Œä¸ºäº†å°†æ¥è¿™å°ä¸»æœºè¢«æ·˜æ±°æ—¶èƒ½å›ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è‡ªåŠ¨åˆ†é…&#34;&gt;è‡ªåŠ¨åˆ†é…&lt;/h4&gt;
&lt;p&gt;åœ¨è‡ªåŠ¨åˆ†é…ä¸­ï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•çš„IPåœ°å€æ‰‹å·¥åˆ†é…ã€‚å½“DHCPå®¢æˆ·æœºç¬¬ä¸€æ¬¡å‘DHCPæœåŠ¡å™¨ç§Ÿç”¨åˆ°IPåœ°å€åï¼Œè¿™ä¸ªåœ°å€å°±æ°¸ä¹…åœ°åˆ†é…ç»™äº†è¯¥DHCPå®¢æˆ·æœºï¼Œè€Œä¸ä¼šå†åˆ†é…ç»™å…¶ä»–å®¢æˆ·æœºã€‚&lt;/p&gt;
&lt;h4 id=&#34;åŠ¨æ€åˆ†é…&#34;&gt;åŠ¨æ€åˆ†é…&lt;/h4&gt;
&lt;p&gt;å½“DHCPå®¢æˆ·æœºå‘DHCPæœåŠ¡å™¨ç§Ÿç”¨IPåœ°å€æ—¶ï¼ŒDHCPæœåŠ¡å™¨åªæ˜¯æš‚æ—¶åˆ†é…ç»™å®¢æˆ·æœºä¸€ä¸ªIPåœ°å€ã€‚åªè¦ç§Ÿçº¦åˆ°æœŸï¼Œè¿™ä¸ªåœ°å€å°±ä¼šè¿˜ç»™DHCPæœåŠ¡å™¨ï¼Œä»¥ä¾›å…¶ä»–å®¢æˆ·æœºä½¿ç”¨ã€‚å¦‚æœDHCPå®¢æˆ·æœºä»éœ€è¦ä¸€ä¸ªIPåœ°å€æ¥å®Œæˆå·¥ä½œï¼Œåˆ™å¯ä»¥å†è¦æ±‚å¦å¤–ä¸€ä¸ªIPåœ°å€ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ‰‹åŠ¨åˆ†é…&#34;&gt;æ‰‹åŠ¨åˆ†é…&lt;/h4&gt;
&lt;p&gt;åœ¨æ‰‹åŠ¨åˆ†é…ä¸­ï¼Œç½‘ç»œç®¡ç†å‘˜åœ¨DHCPæœåŠ¡å™¨ä¸Šé€šè¿‡æ‰‹å·¥æ–¹æ³•é…ç½®DHCPå®¢æˆ·æœºçš„IPåœ°å€ã€‚å½“DHCPå®¢æˆ·æœºè¦æ±‚ç½‘ç»œæœåŠ¡æ—¶ï¼ŒDHCPæœåŠ¡å™¨æŠŠæ‰‹å·¥é…ç½®çš„IPåœ°å€ä¼ é€’ç»™DHCPå®¢æˆ·æœºã€‚&lt;/p&gt;
&lt;h3 id=&#34;dhcpæŠ¥æ–‡ç±»å‹å…±8ä¸ªç±»å‹&#34;&gt;DHCPæŠ¥æ–‡ç±»å‹ï¼ˆå…±8ä¸ªç±»å‹ï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;DHCP  DISCOVERï¼šç”±å®¢æˆ·ç«¯å¹¿æ’­æ¥æŸ¥æ‰¾å¯ç”¨çš„æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;DHCP OFFERï¼šæœåŠ¡å™¨ç”¨æ¥å“åº”å®¢æˆ·ç«¯çš„DHCP DISCOVERæŠ¥æ–‡ï¼Œå¹¶æŒ‡å®šç›¸åº”çš„é…ç½®å‚æ•°ã€‚&lt;code&gt;åä¸ºæ˜¯å•æ’­ï¼Œæ€ç§‘æ˜¯å¹¿æ’­&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;DHCP  REQUESTï¼šç”±å®¢æˆ·ç«¯å‘é€ç»™æœåŠ¡å™¨æ¥è¯·æ±‚é…ç½®å‚æ•°æˆ–è€…è¯·æ±‚é…ç½®ç¡®è®¤æˆ–è€…ç»­å€Ÿç§ŸæœŸã€‚ä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;æ­£å¸¸çš„è¯·æ±‚æ¶ˆæ¯ï¼ˆåä¸ºæ˜¯å•æ’­ï¼‰&lt;/li&gt;
&lt;li&gt;ç§Ÿçº¦çš„æœŸé™åˆ°äº†50%ï¼ˆå•æ’­ï¼Œè¿›è¡Œç»­çº¦ï¼‰&lt;/li&gt;
&lt;li&gt;ç§Ÿçº¦çš„æœŸé™åˆ°äº†87.5%ï¼ˆå¹¿æ’­ï¼Œåœ¨50%çš„æ—¶å€™ç»­çº¦ä¸æˆåŠŸï¼Œé‡æ–°è¿›è¡Œç»­çº¦ï¼‰&lt;/li&gt;
&lt;li&gt;PCé‡å¯ä¹‹åéœ€è¦é‡æ–°ç»­çº¦&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;DHCP ACKï¼šç”±æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯ï¼Œå«æœ‰é…ç½®å‚æ•°åŒ…æ‹¬IPåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;DHCP  DECLINEï¼šå½“å®¢æˆ·ç«¯å‘ç°åœ°å€å·²ç»è¢«ä½¿ç”¨æ—¶ï¼Œç”¨æ¥é€šçŸ¥æœåŠ¡å™¨ã€‚&lt;/li&gt;
&lt;li&gt;DHCP  INFORMï¼šå®¢æˆ·ç«¯å·²ç»æœ‰IPåœ°å€æ—¶ç”¨å®ƒæ¥å‘æœåŠ¡å™¨è¯·æ±‚å…¶ä»–çš„é…ç½®å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;DHCP NAKï¼šç”±æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯æ¥è¡¨æ˜å®¢æˆ·ç«¯çš„åœ°å€è¯·æ±‚ä¸æ­£ç¡®æˆ–è€…ç§ŸæœŸå·²è¿‡æœŸã€‚&lt;/li&gt;
&lt;li&gt;DHCP  RELEASEï¼šå®¢æˆ·ç«¯è¦é‡Šæ”¾åœ°å€æ—¶ç”¨æ¥é€šçŸ¥æœåŠ¡å™¨ã€‚&lt;code&gt;PC&amp;gt;ipconfig /release # é‡Šæ”¾IPåœ°å€ï¼›PC&amp;gt;ipconfig /renew # é‡æ–°è·å–IP&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592443026859.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
DHCPæŠ¥æ–‡ä¸­çš„optionå­—æ®µï¼Œé‡‡ç”¨â€œCLVâ€æ–¹å¼æ„æˆã€‚DHCPçš„é€‰é¡¹å­—æ®µå¯ä»¥åº”ç”¨åˆ°å¤šç§ä¸åŒçš„åœºæ™¯ï¼Œæ¯”å¦‚æ— çº¿ç­‰&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Code:æ ‡è¯†å·ï¼Œå”¯ä¸€æ ‡è¯†åé¢çš„ä¿¡æ¯å†…å®¹ï¼Œå 1byte&lt;/li&gt;
&lt;li&gt;Length:é•¿åº¦ï¼Œè¡¨ç¤ºåé¢ä¿¡æ¯å†…å®¹çš„é•¿åº¦ï¼Œå 1byte&lt;/li&gt;
&lt;li&gt;Value:ä¿¡æ¯å†…å®¹ï¼Œå…¶é•¿åº¦ä¸ºlengthæ‰€æŒ‡å®šï¼Œä»¥byteä¸ºå•ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å·¥ä½œæµç¨‹-2&#34;&gt;å·¥ä½œæµç¨‹&lt;/h3&gt;
&lt;h4 id=&#34;å…¨å±€é…ç½®&#34;&gt;å…¨å±€é…ç½®&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592448738953.png&#34; alt=&#34;å…¨å±€é…ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯å‘é€DHCP Discover å¹¿æ’­æŠ¥æ–‡å³ç›®çš„åœ°å€ä¸º255.255.255.255ï¼Œåœ¨ç½‘ç»œä¸Šå¯»æ‰¾DHCP Serverã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œçš„çš„DHCPæœåŠ¡å™¨å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¯èƒ½æœ‰å¤šä¸ªDHCP Severå“åº”ï¼Œä»¥å¹¿æ’­çš„æ–¹å¼è¿›è¡Œã€‚åœ¨ç½‘ç»œä¸­æ¥æ”¶åˆ°DHCPdiscoverå‘ç°ä¿¡æ¯çš„DHCPæœåŠ¡å™¨éƒ½ä¼šåšå‡ºå“åº”ï¼Œå®ƒä»å°šæœªå‡ºç§Ÿçš„IPåœ°å€ä¸­æŒ‘é€‰ä¸€ä¸ªåˆ†é…ç»™DHCPå®¢æˆ·æœºï¼Œå‘DHCPå®¢æˆ·æœºå‘é€ä¸€ä¸ªåŒ…å«å‡ºç§Ÿçš„IPåœ°å€å’Œå…¶ä»–è®¾ç½®çš„DHCPofferä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ”¶åˆ°äº†DHCP Serverçš„DHCP OfferæŠ¥æ–‡ä¹‹åï¼Œåˆ™å‘DHCP Serverå‘é€æ‰€éœ€è¦çš„IPåœ°å€è¯·æ±‚ï¼Œè¯¥ä¿¡æ¯ä¸­åŒ…å«å‘å®ƒæ‰€é€‰å®šçš„DHCPæœåŠ¡å™¨è¯·æ±‚IPåœ°å€çš„å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;å› ä¸ºæœ‰å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯æ˜¯ä»¥å¹¿æ’­æ–¹å¼å‘é€DHCP RequestæŠ¥æ–‡ï¼Œè¿˜å› ä¸ºè¦é€šçŸ¥æ‰€æœ‰çš„DHCPæœåŠ¡å™¨ï¼Œä»–å°†é€‰æ‹©æŸå°DHCPæœåŠ¡å™¨æ‰€æä¾›çš„IPåœ°å€æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ä¹‹åï¼Œç»™å®¢æˆ·ç«¯å‘é€ACKå“åº”æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;ä»¥åDHCPå®¢æˆ·ç«¯æ¯æ¬¡é‡æ–°ç™»å½•ç½‘ç»œæ—¶ï¼Œå°±ä¸éœ€è¦å†å‘é€DHCPdiscoverå‘ç°ä¿¡æ¯äº†ï¼Œè€Œæ˜¯ç›´æ¥å‘é€åŒ…å«å‰ä¸€æ¬¡æ‰€åˆ†é…çš„IPåœ°å€çš„DHCPrequestè¯·æ±‚ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#......................å…¨å±€é…ç½®
dhcp enable  # å…¨å±€ä¸‹å¼€å¯dhcp
# é…ç½®å•è‡‚è·¯ç”±
interface GigabitEthernet0/0/1.20
dot1q termination vid 20
ip address 192.168.20.1 255.255.255.0 
arp broadcast enable
# é…ç½®DHCP
dhcp select interface # é…ç½®æ¥å£æ¨¡å¼
dhcp server static-bind ip-address 192.168.20.200 mac-address 5489-98f9-5a19 # macåœ°å€ç»‘å®š
dhcp server excluded-ip-address 192.168.20.201 192.168.20.253 # IPåœ°å€æ± ä¸­æ’é™¤ç›¸åº”IP
dhcp server lease unlimited #é…ç½®ç§Ÿå€ŸæœŸä¸ºæ— é™æœŸ
dhcp server dns-list 8.8.8.8 # é…ç½®DNSæœåŠ¡å™¨
dhcp server domain-name qyt # é…ç½®åŸŸå
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#..........................é…ç½®åœ°å€æ± 
dhcp enable  # å…¨å±€ä¸‹å¼€å¯dhcp
# é…ç½®åœ°å€æ± 
ip pool VLAN10 
gateway-list 192.168.10.1 # é…ç½®åœ°å€æ± å¿…é¡»é…ç½®ç½‘å…³
network 192.168.10.0 mask 255.255.255.0 
static-bind ip-address 192.168.10.100 mac-address 5489-9874-0143 
excluded-ip-address 192.168.10.201 192.168.10.254 
dns-list 8.8.8.8
# å€Ÿå£ä¸‹å¼€å¯
interface GigabitEthernet0/0/1.10
dot1q termination vid 10
ip address 192.168.10.1 255.255.255.0
arp broadcast enable
dhcp select global 
# æŸ¥çœ‹åœ°å€æ± ä¸­å·²ç»ä½¿ç”¨çš„åœ°å€
dis ip pool name VLAN10 used 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;åä¸ºåœ°å€æ± åˆ†é…é¡ºåºæ˜¯ä»å¤§åˆ°å°ï¼Œå› æ­¤ä¸€èˆ¬è®¾ç½®ç½‘å…³ä¸ºx.x.x.254ï¼›æ€ç§‘åœ°å€æ± åˆ†é…é¡ºåºä¸ºä»å°åˆ°å¤§ï¼Œå› æ­¤ä¸€èˆ¬è®¾ç½®ç½‘å…³ä¸ºx.x.x.1&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;ç»­ç§Ÿ&#34;&gt;ç»­ç§Ÿ&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592448995259.png&#34; alt=&#34;ç»­ç§Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ä¸­ç»§&#34;&gt;ä¸­ç»§&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592449056530.png&#34; alt=&#34;ä¸­ç»§&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¸ºå®ç°DHCPæœåŠ¡å™¨è·¨Vlanï¼Œåˆ™éœ€è¦é…ç½®ä¸­ç»§
interface GigabitEthernet0/0/1.10
dot1q termination vid 10
ip address 192.168.10.1 255.255.255.0 
arp broadcast enable
dhcp select relay  # é…ç½®ä¸­ç»§
dhcp relay server-ip 192.168.100.100 #é…ç½®ä¸­ç»§çš„åœ°å€ï¼ˆæ­¤åœ°å€å¿…é¡»å¯ä»¥pingé€šï¼‰
# ä¸­ç»§ä¹Ÿéœ€è¦åœ¨ç›¸åº”æ¥å£ä¸‹å¼€å¯
dhcp select global
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;dhcp-snooping&#34;&gt;DHCP Snooping&lt;/h3&gt;
&lt;h4 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;DHCP Snoopingæ˜¯ä¸€ç§DHCP å®‰å…¨ç‰¹æ€§ï¼Œé€šè¿‡æˆªè·DHCP Clientå’ŒDHCP Relayä¹‹é—´çš„DHCPæŠ¥æ–‡å¹¶è¿›è¡Œåˆ†æå¤„ç†ï¼Œå¯ä»¥è¿‡æ»¤ä¸ä¿¡ä»»çš„DHCPæŠ¥æ–‡å¹¶å»ºç«‹å’Œç»´æŠ¤ä¸€ä¸ªDHCP Snoopingç»‘å®šè¡¨ã€‚&lt;br&gt;
&lt;code&gt;ç»‘å®šè¡¨åŒ…æ‹¬MACåœ°å€ã€IPåœ°å€ã€ç§Ÿçº¦æ—¶é—´ã€VLAN IDã€æ¥å£ä¿¡æ¯ã€‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;DHCP Snoopingé€šè¿‡å¯¹è¿™ä¸ªç»‘å®šè¡¨çš„ç»´æŠ¤ï¼Œå»ºç«‹ä¸€é“åœ¨DHCP Clientå’ŒDHCP Serverä¹‹é—´çš„é˜²ç«å¢™ã€‚&lt;/li&gt;
&lt;li&gt;DHCP Snoopingå¯ä»¥è§£å†³è®¾å¤‡åº”ç”¨DHCPæ—¶é‡åˆ°çš„DHCP DoSï¼ˆDenial of Serviceï¼‰æ”»å‡»ã€DHCP Serverä»¿å†’æ”»å‡»ã€DHCPä»¿å†’ç»­ç§ŸæŠ¥æ–‡æ”»å‡»ç­‰é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…³é”®æŠ€æœ¯&#34;&gt;å…³é”®æŠ€æœ¯&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¿¡ä»»/éä¿¡ä»»ç«¯å£&lt;/strong&gt;ï¼šä¸€èˆ¬é€šå‘DHCPæœåŠ¡å™¨ (è¿è¥å•†ç½‘ç»œå†…éƒ¨)çš„ç«¯å£è®¾æˆâ€œä¿¡ä»»(Trusted)â€ï¼Œå…¶å®ƒç«¯å£(è¿æ¥è¿è¥å•†ç½‘ç»œå¤–éƒ¨çš„ç«¯å£) éƒ½è®¾ä¸ºâ€œä¸ä¿¡ä»»(Untrusted)â€ ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç»‘å®šè¡¨&lt;/strong&gt;ï¼šå»ºç«‹&lt;code&gt;MAC + IP + VLAN + Port&lt;/code&gt;çš„ç»‘å®šå…³ç³»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Option82&lt;/strong&gt;ï¼šæ˜¯DHCPåè®®æŠ¥æ–‡ä¸­é€‰é¡¹éƒ¨åˆ†ä¹‹ä¸­çš„ä¸€é¡¹ï¼Œç”¨äºè®°å½•æŠ¥æ–‡å…¥ç«¯å£ç±»å‹ã€ç«¯å£å·ã€VLANä¿¡æ¯ä»¥åŠæ¡¥MACåœ°å€ï¼Œæ˜¯ç”Ÿæˆç»‘å®šè¡¨çš„é‡è¦éƒ¨åˆ†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dhcp-snoopingç»‘å®šè¡¨&#34;&gt;DHCP Snoopingç»‘å®šè¡¨&lt;/h4&gt;
&lt;p&gt;åˆ†ä¸ºåŠ¨æ€ç»‘å®šè¡¨å’Œé™æ€ç»‘å®šè¡¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é™æ€ç»‘å®šè¡¨&lt;br&gt;
æŒ‰ç…§å®é™…éœ€æ±‚åœ¨æŠ¥æ–‡å…¥ç«¯å£æ‰‹å·¥è¾“å…¥ï¼Œæ²¡æœ‰ç§ŸæœŸé™åˆ¶&lt;br&gt;
&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šä¸€äº›é‡è¦è®¾å¤‡ï¼ˆå¦‚æœåŠ¡å™¨ï¼‰å’Œä¸€äº›é«˜ç«¯ç”¨æˆ·éœ€é‡‡ç”¨é™æ€æ–¹å¼ï¼Œä¸€æ˜¯æ²¡æœ‰ç§ŸæœŸé™åˆ¶ï¼ŒäºŒæ˜¯å®‰å…¨æ€§é«˜ä¸”ä¾¿ äºç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€ç»‘å®šè¡¨&lt;br&gt;
DHCPå®¢æˆ·ç«¯åœ¨ç”³è¯·IPåœ°å€è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®DHCPæŠ¥æ–‡å†…å®¹åœ¨æŠ¥æ–‡å…¥ç«¯å£è‡ªåŠ¨ç”Ÿæˆï¼Œå­˜åœ¨è€åŒ–æ—¶é—´ï¼Œæœ‰ç§ŸæœŸé™åˆ¶ã€‚&lt;br&gt;
&lt;strong&gt;ç”¨é€”&lt;/strong&gt;ï¼šç”Ÿæˆæ–¹ä¾¿ï¼Œå¸¸ç”¨äºéé‡è¦è®¾å¤‡ã€‚ä¸è¿‡ç»‘å®šè¡¨å­˜åœ¨è€åŒ–æ—¶é—´ï¼Œä¸”ä¸ä¾¿äºç®¡ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å…¨å±€ä¸‹å¼€å¯DHCPå—…æ¢
dhcp snooping enable
# vlanä¸‹å¼€å¯DHCPå—…æ¢å¹¶æ·»åŠ ä¿¡ä»»ç«¯å£
vlan 10
dhcp snooping enable
dhcp snooping trusted int g0/0/3
arp anti-attack check user-bind enable  # åœ¨vlanä¸‹å¼€å¯åŠ¨æ€arpæ£€æµ‹
#åœ¨æ¥å£ä¸‹é…ç½®è¯¥ç«¯å£ä¸ºDHCPä¿¡ä»»ç«¯å£
interface GigabitEthernet0/0/24
dhcp snooping trusted
arp anti-attack check user-bind enable # åœ¨æ¥å£ä¸‹å¼€å¯åŠ¨æ€arpæ£€æµ‹
arp anti-attack check user-bind alarm enable
# æŸ¥çœ‹DHCP Snoopingé…ç½®æƒ…å†µã€€
dis dhcp snooping configuration 
# æŸ¥çœ‹DHCP Snoopingç»‘å®šè¡¨
dis dhcp snooping user-bind all
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;dhcpçš„option82åŸç†&#34;&gt;DHCPçš„Option82åŸç†&lt;/h4&gt;
&lt;p&gt;ä½¿èƒ½Option82åŠŸèƒ½ï¼Œå¯ä»¥æ ¹æ®Option82ä¿¡æ¯&lt;strong&gt;å»ºç«‹ç²¾ç¡®åˆ°æ¥å£çš„ç»‘å®šè¡¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DHCP Relay Agentæ’ å…¥åˆ°ç”¨æˆ·çš„DHCPæŠ¥ æ–‡ï¼ŒDHCPæœåŠ¡å™¨é€š è¿‡è¯†åˆ«Option82æ¥æ‰§ è¡ŒIPåœ°å€åˆ†é…ç­–ç•¥æˆ– å…¶å®ƒç­–ç•¥ã€‚&lt;/li&gt;
&lt;li&gt;DHCPæœåŠ¡å™¨çš„å“åº” æŠ¥æ–‡ä¹Ÿå¸¦Option82ï¼Œ  Relay Agentå°†Option82å‰¥ç¦»åå‘ç»™ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;Agent Information Fieldä¸­åŒ…æ‹¬å¤šä¸ªå­é€‰é¡¹ï¼Œæ¯ä¸ªå­é€‰é¡¹æ ¼å¼ä¸ºSubOpt/Length/Valueä¸‰å…ƒç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;dhcp-option82å·¥ä½œæµç¨‹&#34;&gt;DHCP Option82å·¥ä½œæµç¨‹&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466421789.png&#34; alt=&#34;DHCP Option82å·¥ä½œæµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;dhcpä»¿å†’è€…æ”»å‡»&#34;&gt;DHCPä»¿å†’è€…æ”»å‡»&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466460979.png&#34; alt=&#34;DHCPä»¿å†’è€…æ”»å‡»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;DHCPä»¿å†’è€…æ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼šä¸€èˆ¬æŠŠé€šå‘DHCP Serverçš„æ¥å£ï¼ˆè¿æ¥ç½‘ç»œå†…éƒ¨çš„ç½‘ç»œä¾§æ¥å£ï¼‰è®¾æˆTrusted&lt;br&gt;
çŠ¶æ€ï¼Œå…¶å®ƒæ¥å£ï¼ˆè¿æ¥ç½‘ç»œå¤–éƒ¨çš„ç”¨æˆ·ä¾§æ¥å£ï¼‰éƒ½è®¾ä¸ºUntrustedçŠ¶æ€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466544827.png&#34; alt=&#34;DHCPä»¿å†’è€…æ”»å‡»è§£å†³æ–¹æ³•&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;ä¸­é—´äººæ”»å‡»å’Œipmac-spoofingæ”»å‡»&#34;&gt;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»&lt;/h5&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466733449.png&#34; alt=&#34;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼šä¸ºäº†é˜²æ­¢ä¸­é—´äººæ”»å‡»æˆ–IP/MAC Spoofingæ”»å‡»ï¼Œå¯ä»¥åœ¨äº¤æ¢æœºä¸Šé…ç½®DHCP SnoopingåŠŸèƒ½ï¼Œä½¿èƒ½DHCP Snoopingç»‘å®šè¡¨åŠŸèƒ½åï¼Œåªæœ‰æ¥æ”¶åˆ°çš„æŠ¥æ–‡çš„ä¿¡æ¯å’Œç»‘å®šè¡¨ä¸­çš„å†…å®¹ä¸€è‡´æ‰ä¼šè¢«è½¬å‘ï¼Œå¦åˆ™æŠ¥æ–‡å°†è¢«ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592466826858.png&#34; alt=&#34;ä¸­é—´äººæ”»å‡»å’ŒIP/MAC Spoofingæ”»å‡»è§£å†³æ–¹æ³•&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;DAIï¼ˆåŠ¨æ€ARPæ£€æµ‹ï¼‰æ˜¯ç”¨æ¥æ£€æµ‹arpæŠ¥æ–‡çš„ï¼Œæ˜¯ç”¨æ¥é˜²æ­¢ä¸­é—´äººæ”»å‡»ï¼›IPSGï¼ˆIPæºé˜²æ”»å‡»ï¼‰æ˜¯ç”¨æ¥æ£€æµ‹IPæŠ¥æ–‡çš„ï¼Œç”¨æ¥é˜²æ­¢ç›—ç”¨IPçš„&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#-------------------------DAI
# åœ¨vlanä¸‹å¼€å¯åŠ¨æ€arpæ£€æµ‹
vlan 10
dhcp snooping enable
dhcp snooping trusted interface GigabitEthernet0/0/1
arp anti-attack check user-bind enable
# åœ¨æ¥å£ä¸‹å¼€å¯åŠ¨æ€arpæ£€æµ‹ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€
interface GigabitEthernet0/0/5
port link-type access
port default vlan 10
arp anti-attack check user-bind enable
arp anti-attack check user-bind alarm enable
#------------------------------
# é…ç½®é™æ€ç»‘å®šè¡¨
user-bind static ip-address 192.168.10.100 mac-address 5489-9832-2464 inter
face  g0/0/5 vlan 10
# æŸ¥çœ‹é™æ€ç»‘å®šè¡¨
dis dhcp static user-bind all 
#------------------------------IPSG
# åœ¨VLANä¸‹å¼€å¯IPæºé˜²æŠ¤
vlan 10
ip source check user-bind enableã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€
# åœ¨æ¥å£ä¸‹å¼€å¯IPæºé˜²æŠ¤åŠŸèƒ½
interface GigabitEthernet0/0/5
ip source check user-bind enableã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€
ip source check user-bind alarm enable
# æŸ¥çœ‹IPæºé˜²æŠ¤åŠŸèƒ½
[SW1]dis ip source check user-bind interface GigabitEthernet 0/0/5 
ip source check user-bind enable
ip source check user-bind alarm enable
# ------------------------------å¼€å¯ç«¯å£å®‰å…¨
int g0/0/2
port-security enable
port-security max-mac-num 1  # æœ€å¤šå…è®¸ä¸€ä¸ªmax
port-security protect-action shutdown  # è§¦å‘ä¹‹åå…³é—­ç«¯å£(protectä¸¢å¼ƒï¼›restrictä¸¢å¼ƒåå‘Šè­¦ï¼›shutdownå…³é—­ç«¯å£)
port-security mac-address sticky # åªå…è®¸è¿™ä¸ªmacåœ°å€(5489-982A-463D)é€šè¿‡
port-security mac-address sticky 5489-982A-463D vlan 10
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;é¥¿æ­»æ”»å‡»&#34;&gt;é¥¿æ­»æ”»å‡»&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”»å‡»åŸç†&lt;/strong&gt;ï¼šåœ¨é¥¿æ­»æ”»å‡»æ–¹å¼ä¸­ï¼Œæ”»å‡»è€…ä¸æ–­å˜æ¢ç‰©ç†åœ°å€ï¼Œå°è¯•ç”³è¯·åœ°å€æ± ä¸­æ‰€æœ‰çš„IP åœ°å€ï¼Œç›´åˆ°è€—å°½DHCP Serveråœ°å€æ± ä¸­çš„åœ°å€ï¼Œå¯¼è‡´å…¶ä»–æ­£å¸¸ç”¨æˆ·æ— æ³•è·å¾—åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šé€šè¿‡MACåœ°å€é™åˆ¶åŠŸèƒ½å¯ä»¥é˜²æ­¢é¥¿æ­»æ”»å‡»ã€‚é€šè¿‡é™åˆ¶äº¤æ¢æœºæ¥å£ä¸Šå…è®¸å­¦ä¹ åˆ°çš„æœ€å¤šMAC åœ°å€æ•°ç›®ï¼Œé˜²æ­¢ç”¨æˆ·é€šè¿‡å˜æ¢MACåœ°å€ï¼Œå¤§é‡å‘é€DHCPè¯·æ±‚ï¼ŒåŒæ—¶ä¹Ÿé™åˆ¶äº†ä¸€ä¸ªæ¥å£ä¸Šçš„ç”¨æˆ·æ•°ç›®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ”¹å˜chaddrå€¼çš„é¥¿æ­»æ”»å‡»&#34;&gt;æ”¹å˜CHADDRå€¼çš„é¥¿æ­»æ”»å‡»&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ”»å‡»åŸç†&lt;/strong&gt;ï¼šåœ¨è¿™ç§æ”»å‡»æ–¹å¼ä¸­ï¼Œå¦‚æœæ”»å‡»è€…æ”¹å˜çš„ä¸æ˜¯æ•°æ®å¸§å¤´éƒ¨çš„æºMACï¼Œè€Œæ˜¯æ”¹å˜DHCPæŠ¥æ–‡ä¸­çš„CHADDRï¼ˆClient Hardware Addressï¼‰å€¼æ¥ä¸æ–­ç”³è¯·IPåœ°å€ï¼Œè€Œäº¤æ¢æœºä»…æ ¹æ®æ•°æ®å¸§å¤´éƒ¨çš„æºMACæ¥åˆ¤æ–­è¯¥æŠ¥æ–‡æ˜¯å¦åˆæ³•ï¼Œé‚£ä¹ˆMACåœ°å€é™åˆ¶æ–¹æ¡ˆä¸èƒ½èµ·ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šå¯ä»¥ä½¿ç”¨DHCP Snoopingæ£€æŸ¥DHCP REQUESTæŠ¥æ–‡ä¸­CHADDRå­—æ®µçš„åŠŸèƒ½ã€‚å¦‚æœè¯¥å­—æ®µè·Ÿæ•°æ®å¸§å¤´éƒ¨çš„æºMACç›¸åŒ¹é…ï¼Œä¾¿è½¬å‘æŠ¥æ–‡ï¼›å¦åˆ™ï¼Œä¸¢å¼ƒæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;arpæ”»å‡»åŸç†&#34;&gt;ARPæ”»å‡»åŸç†&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»æ–¹å¼&lt;/strong&gt;ï¼šæœ‰é’ˆå¯¹ä¸»æœºçš„ï¼Œä¹Ÿæœ‰é’ˆå¯¹ç½‘å…³çš„ï¼›æœ‰åœ°å€æ¬ºéª—å‹çš„ï¼Œ ä¹Ÿæœ‰é‡è›®æ”»å‡»å‹çš„ï¼›æœ‰æ¥è‡ªç—…æ¯’çš„æ”»å‡»ï¼Œä¹Ÿæœ‰æ¥è‡ªä½¿ç”¨éæ³•è½¯ä»¶çš„äººä¸ºæ”»å‡»ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»æ ¹æº&lt;/strong&gt;ï¼šARPåè®®æœ¬èº«è¿‡äºç®€å•å’Œå¼€æ”¾ï¼Œæ²¡æœ‰ä»»ä½•çš„å®‰å…¨æ‰‹æ®µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»å±å®³&lt;/strong&gt;ï¼šARPåœ°å€æ¬ºéª—æ”»å‡»ä¸€èˆ¬é’ˆå¯¹ä¸ªåˆ«æˆ–ä¸€å®šèŒƒå›´å†…çš„ä¸»æœº è¿›è¡Œï¼Œå±å®³ç›¸å¯¹è¾ƒå°ã€‚ä½†é’ˆå¯¹ç½‘å…³è®¾å¤‡çš„å¤§æµé‡ARP DDOSæ”»å‡»ï¼Œç”± äºå…¶ç½‘ç»œä½ç½®çš„ç‰¹æ®Šæ€§ï¼Œå°†é€ æˆå¤§é¢ç§¯ç”¨æˆ·â€œæ‰çº¿â€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ARPæ”»å‡»è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨åº”ç”¨DHCPæœåŠ¡å™¨çš„ç»„ç½‘ç¯å¢ƒä¸‹ï¼Œ å»ºç«‹å¯ä¿¡ç«¯å£ï¼ˆtrust Portï¼‰ï¼Œé€šè¿‡ç›‘æ§å¯ä¿¡ç«¯å£çš„DHCP æŠ¥æ–‡è·å¾—IP/MACåœ°å€ç»‘å®šè¡¨ï¼Œè¿™æ˜¯DHCP Check IP/ARPå®‰å…¨æ£€æŸ¥æ‰‹æ®µçš„é‡è¦ä¾æ®ã€‚å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ç§å®‰å…¨ç„¦ç‚¹çš„è½¬ç§»ï¼ŒæŠŠARPå®‰å…¨é—®é¢˜è½¬æ¢ä¸ºåˆ«çš„å®‰å…¨é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;DHCP Snooping Chek IP/ARPä¾æ®å¯ä¿¡ç«¯å£ä¸Šç”Ÿæˆçš„ç»‘å®šè¡¨ï¼Œè¿‡æ»¤æ‰æ‰€æœ‰ä¸åŒ¹é…çš„IP/ARPæŠ¥æ–‡ã€‚å¤§å¤§çš„æé«˜äº†é˜²æ”»å‡»çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;istackå †å &#34;&gt;iStackå †å &lt;/h2&gt;
&lt;p&gt;CSSå’ŒiStackçš„åŒºåˆ«ï¼šCSSæ˜¯æ¡†å¼å †å ï¼ŒiStackæ˜¯ç›’å¼å †å &lt;/p&gt;
&lt;h3 id=&#34;å…¸å‹å›­åŒºç»„ç½‘csseth-trunkistack&#34;&gt;å…¸å‹å›­åŒºç»„ç½‘ï¼ˆCSS+Eth-Trunk+iStackï¼‰&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592552003932.png&#34; alt=&#34;å…¸å‹å›­åŒºç»„ç½‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;è®¾å¤‡å †å istack&#34;&gt;è®¾å¤‡å †å iStack&lt;/h3&gt;
&lt;p&gt;æ™ºèƒ½å †å iStackæ˜¯æŒ‡å°†å¤šå°æ”¯æŒå †å ç‰¹æ€§çš„äº¤æ¢æœºè®¾å¤‡ç»„åˆåœ¨ä¸€èµ·ï¼Œä»é€»è¾‘ä¸Šç»„åˆæˆä¸€å°äº¤æ¢è®¾å¤‡ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592552557293.png&#34; alt=&#34;è®¾å¤‡å †å iStack&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;h4 id=&#34;è§’è‰²&#34;&gt;è§’è‰²&lt;/h4&gt;
&lt;p&gt;å †å ä¸­æ‰€æœ‰çš„å•å°äº¤æ¢æœºéƒ½ç§°ä¸ºæˆå‘˜äº¤æ¢æœºï¼ŒæŒ‰ç…§åŠŸèƒ½ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç§è§’è‰²ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»äº¤æ¢æœºï¼ˆMasterï¼‰ï¼šè´Ÿè´£ç®¡ç†æ•´ä¸ªå †å ã€‚å †å ä¸­åªæœ‰ä¸€å°ä¸»äº¤æ¢æœºã€‚&lt;code&gt;ä¸æ”¯æŒæŠ¢å &lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¤‡äº¤æ¢æœºï¼ˆStandbyï¼‰ï¼šæ˜¯ä¸»äº¤æ¢æœºçš„å¤‡ä»½äº¤æ¢æœºã€‚å½“ä¸»äº¤æ¢æœºæ•…éšœæ—¶ï¼Œå¤‡äº¤æ¢æœºä¼šæ¥æ›¿åŸä¸»äº¤æ¢æœºçš„æ‰€æœ‰ä¸šåŠ¡ã€‚å †å ä¸­åªæœ‰ä¸€å°å¤‡äº¤æ¢æœºã€‚&lt;/li&gt;
&lt;li&gt;ä»äº¤æ¢æœºï¼ˆSlaveï¼‰ï¼šä¸»è¦ç”¨äºä¸šåŠ¡è½¬å‘ï¼Œä»äº¤æ¢æœºæ•°é‡è¶Šå¤šï¼Œå †å ç³»ç»Ÿçš„è½¬å‘èƒ½åŠ›è¶Šå¼ºã€‚é™¤ä¸»äº¤æ¢æœºå’Œå¤‡äº¤æ¢æœºå¤–ï¼Œå †å ä¸­å…¶ä»–æ‰€æœ‰çš„æˆå‘˜äº¤æ¢æœºéƒ½æ˜¯ä»äº¤æ¢æœºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å †å id&#34;&gt;å †å ID&lt;/h4&gt;
&lt;p&gt;å³æˆå‘˜äº¤æ¢æœºçš„æ§½ä½å·ï¼ˆSlot IDï¼‰ï¼Œç”¨æ¥æ ‡è¯†å’Œç®¡ç†æˆå‘˜äº¤æ¢æœºï¼Œå †å ä¸­æ‰€æœ‰æˆå‘˜äº¤æ¢æœºçš„å †å IDéƒ½æ˜¯å”¯ä¸€çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å †å ä¼˜å…ˆçº§&#34;&gt;å †å ä¼˜å…ˆçº§&lt;/h4&gt;
&lt;p&gt;å †å ä¼˜å…ˆçº§æ˜¯æˆå‘˜äº¤æ¢æœºçš„ä¸€ä¸ªå±æ€§ï¼Œä¸»è¦ç”¨äºè§’è‰²é€‰ä¸¾è¿‡ç¨‹ä¸­ç¡®å®šæˆå‘˜äº¤æ¢æœºçš„è§’è‰²ï¼Œä¼˜å…ˆçº§å€¼è¶Šå¤§è¡¨ç¤º&lt;br&gt;
ä¼˜å…ˆçº§è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šé«˜å½“é€‰ä¸ºä¸»äº¤æ¢æœºçš„å¯èƒ½æ€§è¶Šå¤§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å †å å»ºç«‹&#34;&gt;å †å å»ºç«‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592554662316.png&#34; alt=&#34;å †å å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å †å è¿æ¥æ–¹å¼&#34;&gt;å †å è¿æ¥æ–¹å¼&lt;/h4&gt;
&lt;p&gt;äº¤æ¢æœºç»„å»ºå †å æ ¹æ®å †å å£çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼š&lt;strong&gt;å †å å¡å †å å’Œä¸šåŠ¡å£å †å &lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å †å å¡å †å &lt;/strong&gt;åˆåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š
&lt;ul&gt;
&lt;li&gt;äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸“ç”¨çš„å †å æ’å¡åŠä¸“ç”¨çš„å †å çº¿ç¼†è¿æ¥&lt;/li&gt;
&lt;li&gt;å †å å¡é›†æˆåˆ°äº†äº¤æ¢æœºåé¢æ¿ä¸Šï¼Œäº¤æ¢æœºé€šè¿‡é›†æˆçš„å †å ç«¯å£åŠä¸“ç”¨çš„å †å çº¿ç¼†è¿æ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸šåŠ¡å£å †å &lt;/strong&gt;æŒ‡çš„æ˜¯äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸é€»è¾‘å †å ç«¯å£ç»‘å®šçš„ç‰©ç†æˆå‘˜ç«¯å£ç›¸è¿ï¼Œä¸éœ€è¦ä¸“&lt;br&gt;
ç”¨çš„å †å æ’å¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å †å æˆå‘˜åŠ å…¥&#34;&gt;å †å æˆå‘˜åŠ å…¥&lt;/h4&gt;
&lt;p&gt;å †å æˆå‘˜åŠ å…¥æ˜¯æŒ‡å‘å·²ç»ç¨³å®šè¿è¡Œçš„å †å ç³»ç»Ÿæ·»åŠ ä¸€å°æ–°çš„äº¤æ¢æœºã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592554993280.png&#34; alt=&#34;å †å æˆå‘˜åŠ å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿èƒ½å †å å¹¶é…ç½®å¥½SWDçš„å †å å‚æ•°
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;ä¸šåŠ¡å£å †å &lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºéœ€è¦é…ç½®æ— åŠ›ç¨‹è¿œç«¯å£åŠ å…¥é€»è¾‘å †å ç«¯å£ã€‚é“¾å‹è¿æ¥æ—¶ï¼Œå½“å‰å †å ç³»ç»Ÿé“¾å‹ä¸¤ç«¯ï¼ˆæˆ–ä¸€ç«¯ï¼‰çš„æˆå‘˜äº¤æ¢æœºä¹Ÿéœ€è¦é…ç½®ç‰©ç†æˆå‘˜ç«¯å£åŠ å…¥é€»è¾‘å †å å£ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;å †å å¡å †å &lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„æˆå‘˜äº¤æ¢æœºéœ€è¦ä½¿èƒ½å †å åŠŸèƒ½ã€‚&lt;br&gt;
&lt;code&gt;ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œå»ºè®®æ–°åŠ å…¥çš„äº¤æ¢æœºé…ç½®å †å IDï¼Œå¦‚æœä¸é…ç½®ï¼Œå †å ç³»ç»Ÿä¼šä¸ºå…¶åˆ†é…ä¸€ä¸ªå †å ID&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è®²SWDè¿æ¥åˆ°å †å ç³»ç»Ÿ
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;é“¾å‹è¿æ¥&lt;/strong&gt;ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºå»ºè®®æ·»åŠ åˆ°é“¾å‹çš„ä¸¤ç«¯ï¼Œè¿™æ ·å¯¹ç°æœ‰çš„ä¸šåŠ¡å½±å“æœ€å°&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯&lt;strong&gt;ç¯å‹è¿æ¥&lt;/strong&gt;ï¼Œéœ€è¦æŠŠå½“å‰ç¯å‹æ‹†æˆé“¾å‹ï¼Œç„¶ååœ¨é“¾å‹çš„ä¸¤ç«¯æ·»åŠ è®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿå®Œæˆå †å 
&lt;ol&gt;
&lt;li&gt;æ–°åŠ å…¥çš„äº¤æ¢æœºè¿çº¿ä¸Šç”µå¯åŠ¨åï¼Œè¿›è¡Œè§’è‰²é€‰ä¸¾ï¼Œæ–°åŠ å…¥çš„äº¤æ¢æœºä¼šé€‰ä¸¾ä¸ºä»äº¤æ¢æœºï¼Œå †å ç³»ç»Ÿä¸­åŸæœ‰çš„ä¸»å¤‡ä»è§’è‰²ä¸å˜&lt;/li&gt;
&lt;li&gt;è§’è‰²é€‰ä¸¾ç»“æŸåï¼Œä¸»äº¤æ¢æœºæ›´æ–°å †å æ‹“æ‰‘ä¿¡æ¯ï¼ŒåŒæ­¥åˆ°å…¶ä»–æˆå‘˜äº¤æ¢æœºä¸Šï¼Œå¹¶å‘æ–°åŠ å…¥çš„äº¤æ¢æœºåˆ†é…å †å IDï¼ˆåœ¨æ–°æˆå‘˜æœªé…ç½®æˆ–é…ç½®å†²çªæ—¶ï¼‰&lt;/li&gt;
&lt;li&gt;æ–°åŠ å…¥çš„äº¤æ¢æœºæ›´æ–°å †å IDï¼Œå¹¶åŒæ­¥ä¸»äº¤æ¢æœºçš„é…ç½®æ–‡ä»¶å’Œç³»ç»Ÿè½¯ä»¶ï¼Œä¹‹åè¿›å…¥ç¨³å®šè¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å †å åˆå¹¶&#34;&gt;å †å åˆå¹¶&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592555929409.png&#34; alt=&#34;å †å åˆå¹¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å †å æˆå‘˜é€€å‡º&#34;&gt;å †å æˆå‘˜é€€å‡º&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592555967540.png&#34; alt=&#34;å †å æˆå‘˜é€€å‡º&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å †å åˆ†è£‚&#34;&gt;å †å åˆ†è£‚&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592556004132.png&#34; alt=&#34;å †å åˆ†è£‚&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å¤šä¸»æ£€æµ‹&#34;&gt;å¤šä¸»æ£€æµ‹&lt;/h3&gt;
&lt;h4 id=&#34;ç›´è¿æ£€æµ‹æ–¹å¼&#34;&gt;ç›´è¿æ£€æµ‹æ–¹å¼&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592556327590.png&#34; alt=&#34;ç›´è¿æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ä»£ç†æ£€æµ‹æ–¹å¼&#34;&gt;ä»£ç†æ£€æµ‹æ–¹å¼&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592556373097.png&#34; alt=&#34;ä»£ç†æ£€æµ‹æ–¹å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;è¿çº¿æ–¹å¼&#34;&gt;è¿çº¿æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é“¾å‹&lt;/li&gt;
&lt;li&gt;ç¯å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;h4 id=&#34;é€šè¿‡å †å å¡è¿æ¥æ–¹å¼ç»„å»ºå †å &#34;&gt;é€šè¿‡å †å å¡è¿æ¥æ–¹å¼ç»„å»ºå †å &lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[SwitchA] stack slot 0 priority 200
\\é…ç½®æˆå‘˜äº¤æ¢æœºçš„å †å ä¼˜å…ˆçº§ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œæˆå‘˜äº¤æ¢æœºçš„å †å ä¼˜å…ˆçº§ä¸º100
[SwitchB] stack slot 0 renumber 1
\\é…ç½®è®¾å¤‡çš„å †å ID
[SwitchC] stack slot 0 renumber 2
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é€šè¿‡ä¸šåŠ¡å£è¿æ¥æ–¹å¼ç»„å»ºå †å &#34;&gt;é€šè¿‡ä¸šåŠ¡å£è¿æ¥æ–¹å¼ç»„å»ºå †å &lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[SwitchA] interface stack-port 0/1
[SwitchA-stack-port0/1] port interface gigabitethernet 0/0/27 enable
\\é…ç½®ä¸šåŠ¡å£ä¸ºç‰©ç†æˆå‘˜ç«¯å£å¹¶å°†å…¶åŠ å…¥åˆ°é€»è¾‘å †å ç«¯å£ä¸­ã€‚äº¤æ¢æœºBã€CåŒç†ã€‚
[SwitchA] interface stack-port 0/2
[SwitchA-stack-port0/2] port interface gigabitethernet 0/0/28 enable
[SwitchA] stack slot 0 priority 200
\\ é…ç½®SwitchAçš„å †å ä¼˜å…ˆçº§ä¸º200
[SwitchB] stack slot 0 renumber 1
\\é…ç½®SwitchBçš„å †å IDä¸º1
[SwitchC] stack slot 0 renumber 2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;csså †å &#34;&gt;CSSå †å &lt;/h2&gt;
&lt;p&gt;é›†ç¾¤äº¤æ¢ç³»ç»ŸCSSï¼Œåˆç§°é›†ç¾¤ï¼Œæ˜¯æŒ‡å°†ä¸¤å°æ”¯æŒé›†ç¾¤ç‰¹æ€§çš„äº¤æ¢æœºè®¾å¤‡ç»„åˆåœ¨ä¸€èµ·ï¼Œä»é€»è¾‘ä¸Šç»„åˆæˆä»¥å¤ªäº¤æ¢è®¾å¤‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç‰¹å¾&#34;&gt;ç‰¹å¾&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;äº¤æ¢æœºå¤šè™šä¸€ï¼šå †å äº¤æ¢æœºå¯¹å¤–è¡¨ç°ä¸ºä¸€å°é€»è¾‘äº¤æ¢æœºï¼Œæ§åˆ¶å¹³é¢åˆä¸€ï¼Œç»Ÿä¸€ç®¡ç†&lt;/li&gt;
&lt;li&gt;è½¬å‘å¹³é¢åˆä¸€ï¼šå †å å†…ç‰©ç†è®¾å¤‡è½¬å‘å¹³é¢åˆä¸€ï¼Œè½¬å‘ä¿¡æ¯å…±äº«å¹¶å®æ—¶åŒæ­¥&lt;/li&gt;
&lt;li&gt;è·¨è®¾å¤‡é“¾è·¯èšåˆï¼šè·¨å †å å†…ç‰©ç†è®¾å¤‡çš„é“¾è·¯è¢«èšåˆæˆä¸€ä¸ªEth-Trunkç«¯å£ï¼Œå’Œç°æœ‰è®¾å¤‡å®ç°äº’è”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸºæœ¬æ¦‚å¿µ-2&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»äº¤æ¢æœºï¼šè´Ÿè´£ç®¡ç†æ•´ä¸ªé›†ç¾¤ï¼Œé›†ç¾¤ä¸­åªæœ‰ä¸€å°ä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;å¤‡äº¤æ¢æœºï¼šä¸»äº¤æ¢æœºçš„å¤‡ä»½äº¤æ¢æœºã€‚å½“ä¸»äº¤æ¢æœºæ•…éšœæ—¶ï¼Œå¤‡äº¤æ¢æœºä¼šæ¥æ›¿åŸä¸»äº¤æ¢æœºçš„æ‰€æœ‰ä¸šåŠ¡ï¼Œé›†ç¾¤ä¸­åªæœ‰ä¸€å°å¤‡äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;é›†ç¾¤IDï¼šå³CSS IDï¼Œç”¨æ¥æ ‡è¯†å’Œç®¡ç†æˆå‘˜äº¤æ¢æœºï¼Œäº¤æ¢æœºä¸­æˆå‘˜äº¤æ¢æœºçš„é›†ç¾¤IDæ˜¯å”¯ä¸€çš„ã€‚&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ä¼˜å…ˆçº§ï¼šå³Priorityï¼Œæ˜¯æˆå‘˜äº¤æ¢æœºçš„ä¸€ä¸ªå±æ€§ï¼Œä¸»è¦ç”¨äºè§’è‰²é€‰ä¸¾è¿‡ç¨‹ä¸­ç¡®å®šæˆå‘˜äº¤æ¢æœºçš„è§’è‰²ï¼Œä¼˜å…ˆçº§å€¼è¶Šå¤§è¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ï¼Œä¼˜å…ˆçº§è¶Šé«˜å½“é€‰ä¸ºä¸»äº¤æ¢æœºçš„å¯èƒ½æ€§è¶Šå¤§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é›†ç¾¤å»ºç«‹&#34;&gt;é›†ç¾¤å»ºç«‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592665040596.png&#34; alt=&#34;é›†ç¾¤å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é›†ç¾¤å»ºç«‹æ—¶ï¼Œæˆå‘˜äº¤æ¢æœºé—´ç›¸äº’å‘é€é›†ç¾¤ç«äº‰æŠ¥æ–‡ï¼Œé€šè¿‡ç«äº‰ï¼Œä¸€å°æˆä¸ºä¸»äº¤æ¢æœºï¼Œè´Ÿè´£ç®¡ç†æ•´ä¸ªé›†ç¾¤ç³»ç»Ÿï¼Œå¦å¤–ä¸€å°åˆ™æˆä¸ºå¤‡ç”¨äº¤æ¢æœºã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§’è‰²é€‰ä¸¾
&lt;ol&gt;
&lt;li&gt;è¿è¡ŒçŠ¶æ€æ¯”è¾ƒï¼Œæœ€å…ˆå®Œæˆå¯åŠ¨çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;å †å ä¼˜å…ˆçº§æ¯”è¾ƒï¼Œå †å ä¼˜å…ˆçº§é«˜çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;è½¯ä»¶ç‰ˆæœ¬æ¯”è¾ƒï¼Œè½¯ä»¶ç‰ˆæœ¬é«˜çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;ä¸»æ§æ¿æ•°é‡æ¯”è¾ƒï¼Œæœ‰2å—ä¸»æ§æ¿çš„äº¤æ¢æœºæ¯”åªæœ‰1å—ä¸»æ§æ¿çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;æ¡¥MACåœ°å€æ¯”è¾ƒï¼Œæ¡¥MACåœ°å€å°çš„äº¤æ¢æœºä¼˜å…ˆç«äº‰ä¸ºä¸»äº¤æ¢æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç‰ˆæœ¬åŒæ­¥
&lt;ul&gt;
&lt;li&gt;é›†ç¾¤å…·æœ‰è‡ªåŠ¨åŠ è½½ç³»ç»Ÿè½¯ä»¶çš„åŠŸèƒ½ï¼Œå¾…ç»„æˆé›†ç¾¤çš„æˆå‘˜ä¸éœ€è¦å…·æœ‰ç›¸åŒçš„è½¯ä»¶ç‰ˆæœ¬ï¼Œåªéœ€è¦ç‰ˆæœ¬é—´å…¼å®¹å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä¸»äº¤æ¢æœºé€‰ä¸¾ç»“æŸåï¼Œå¦‚æœå¤‡äº¤æ¢æœºä¸ä¸»äº¤æ¢æœºçš„è½¯ä»¶ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå¤‡äº¤æ¢æœºä¼šè‡ªåŠ¨ä»ä¸»äº¤æ¢æœºä¸‹è½½ç³»ç»Ÿè½¯ä»¶ï¼Œç„¶åä½¿ç”¨æ–°çš„ç³»ç»Ÿè½¯ä»¶é‡å¯ï¼Œå¹¶é‡æ–°åŠ å…¥é›†ç¾¤&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é…ç½®åŒæ­¥&lt;br&gt;
é›†ç¾¤å…·æœ‰ä¸¥æ ¼çš„é…ç½®æ–‡ä»¶åŒæ­¥æœºåˆ¶ï¼Œæ¥ä¿è¯é›†ç¾¤ä¸­çš„å¤šå°äº¤æ¢æœºèƒ½å¤Ÿåƒä¸€å°è®¾å¤‡ä¸€æ ·åœ¨ç½‘ç»œä¸­å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®å¤‡ä»½&lt;br&gt;
äº¤æ¢æœºä»é£æœºç¾¤çŠ¶æ€è¿›å…¥é›†ç¾¤çŠ¶æ€åï¼Œä¼šè‡ªåŠ¨å°†åŸæœ‰çš„éé›†ç¾¤çŠ¶æ€ä¸‹çš„é…ç½®æ–‡ä»¶åŠ ä¸Š.bakçš„æ‰©å±•åè¿›è¡Œå¤‡ä»½ï¼Œä»¥ä¾¿å…³é—­é›†ç¾¤åŠŸèƒ½åï¼Œæ¢å¤åŸæœ‰é…ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cssé›†ç¾¤è¿æ¥æ–¹å¼&#34;&gt;CSSé›†ç¾¤è¿æ¥æ–¹å¼&lt;/h3&gt;
&lt;p&gt;è®¾å¤‡ç»„å»ºé›†ç¾¤æœ‰ä¸¤ç§è¿æ¥æ–¹å¼ ï¼Œåˆ†åˆ«ä¸ºé›†ç¾¤å¡å’Œä¸šåŠ¡å£é›†ç¾¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é›†ç¾¤å¡æ–¹å¼ï¼šæˆå‘˜äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸»æ§æ¿ä¸Šä¸“ç”¨çš„é›†ç¾¤å¡åŠä¸“ç”¨çš„é›†ç¾¤çº¿ç¼†è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å£é›†ç¾¤æ–¹å¼ï¼šæˆå‘˜äº¤æ¢æœºä¹‹é—´é€šè¿‡ä¸šåŠ¡æ¿ä¸Šçš„æ™®é€šä¸šåŠ¡å£è¿æ¥ï¼Œä¸éœ€è¦ä¸“ç”¨çš„é›†ç¾¤å¡ã€‚é€šiStackï¼Œä¸šåŠ¡å£é›†ç¾¤ä¸€æ ·æ¶‰åŠä¸¤ç§ç«¯å£çš„æ¦‚å¿µï¼šç‰©ç†æˆå‘˜ç«¯å£å’Œé€»è¾‘é›†ç¾¤ç«¯å£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é›†ç¾¤æˆå‘˜çš„åŠ å…¥ä¸åˆå¹¶&#34;&gt;é›†ç¾¤æˆå‘˜çš„åŠ å…¥ä¸åˆå¹¶&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592666510567.png&#34; alt=&#34; é›†ç¾¤æˆå‘˜çš„åŠ å…¥ä¸åˆå¹¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;é›†ç¾¤åˆ†è£‚&#34;&gt;é›†ç¾¤åˆ†è£‚&lt;/h3&gt;
&lt;p&gt;é›†ç¾¤å»ºç«‹åï¼Œç³»ç»Ÿä¸»ç”¨ä¸»æ§æ¿å’Œç³»ç»Ÿå¤‡ç”¨ä¸»æ§æ¿å®šæ—¶å‘é€å¿ƒè·³æŠ¥æ–‡æ¥ç»´æŠ¤é›†ç¾¤ç³»ç»Ÿçš„çŠ¶æ€ã€‚é›†ç¾¤çº¿ç¼†ã€&lt;br&gt;
é›†ç¾¤å¡ã€ä¸»æ§æ¿ç­‰å‘ç”Ÿæ•…éšœæˆ–è€…æ˜¯å…¶ä¸­ä¸€å°äº¤æ¢æœºä¸‹ç”µæˆ–é‡å¯å°†å¯¼è‡´ä¸¤å°äº¤æ¢æœºä¹‹é—´å¤±å»é€šä¿¡ã€‚å½“ä¸¤&lt;br&gt;
å°äº¤æ¢æœºä¹‹é—´çš„å¿ƒè·³æŠ¥æ–‡è¶…æ—¶ï¼ˆ&lt;strong&gt;è¶…æ—¶æ—¶é—´ä¸º8ç§’&lt;/strong&gt;ï¼‰æ—¶ï¼Œé›†ç¾¤ç³»ç»Ÿå°†åˆ†è£‚ä¸ºä¸¤ä¸ªå•æ¡†é›†ç¾¤ç³»ç»Ÿï¼Œå¦‚å›¾æ‰€ ç¤ºï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592666614258.png&#34; alt=&#34;é›†ç¾¤åˆ†è£‚&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é›†ç¾¤åˆ†è£‚åï¼Œç”±äºæˆå‘˜äº¤æ¢æœºè¿è¡Œç€ç›¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œå°±ä¼šäº§ç”Ÿä¸¤ä¸ªå…·æœ‰ç›¸åŒIPå’ŒMACçš„é›†ç¾¤ç³»ç»Ÿã€‚ ä¸ºé˜²æ­¢ç”±æ­¤å¼•èµ·ç½‘ç»œæ•…éšœï¼Œå¿…é¡»è¿›è¡ŒIPåœ°å€å’ŒMACåœ°å€çš„å†²çªæ£€æŸ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é›†ç¾¤å‡çº§&#34;&gt;é›†ç¾¤å‡çº§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ä¼ ç»Ÿå‡çº§æ–¹å¼&lt;/strong&gt;ã€‚ä¼ ç»Ÿçš„å‡çº§å³é€šè¿‡æŒ‡å®šå¯åŠ¨æ–‡ä»¶åæ•´æœºé‡å¯çš„æ–¹å¼è¿›è¡Œå‡çº§ã€‚è¿™ç§å‡çº§æ–¹å¼ä¸šåŠ¡ä¸­æ–­æ—¶é—´æ¯”è¾ƒé•¿ï¼Œä¸é€‚ç”¨äºå¯¹ä¸šåŠ¡ä¸­æ–­æ—¶é—´è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¿«é€Ÿå‡çº§æ–¹å¼&lt;/strong&gt;ã€‚å †å å¿«é€Ÿå‡çº§æä¾›äº†ä¸€ç§åœ¨å †å ç³»ç»Ÿçš„æˆå‘˜è®¾å¤‡è½¯ä»¶ç‰ˆæœ¬å‡çº§è¿‡ç¨‹ä¸­å°½é‡å‡å°‘è½¬å‘ä¸šåŠ¡ä¸­æ–­çš„æœºåˆ¶ï¼Œå‡å°‘äº†å‡çº§è®¾å¤‡å¯¹ä¸šåŠ¡çš„å½±å“ã€‚
&lt;ol&gt;
&lt;li&gt;å‡çº§å‰ï¼Œå †å ä¸ä¸Šä¸‹æ¸¸è®¾å¤‡ä¹‹é—´ä½¿ç”¨Eth-TrunkåŒå½’è¿æ¥æ–¹å¼ã€‚è‹¥ä¸é‡‡ç”¨è¯¥è¿æ¥æ–¹å¼ï¼Œå‡çº§æ—¶æµé‡ä¸­æ–­æ—¶é—´ä¼šè¾ƒé•¿ã€‚&lt;/li&gt;
&lt;li&gt;å‡çº§æ—¶ï¼Œå¤‡äº¤æ¢æœºå…ˆä»¥æ–°ç‰ˆæœ¬é‡æ–°å¯åŠ¨ï¼Œå®Œæˆå‡çº§ï¼Œæ­¤æ—¶æ•°æ®æµé‡ç”±ä¸»äº¤æ¢æœºè½¬å‘ã€‚&lt;/li&gt;
&lt;li&gt;å¤‡äº¤æ¢æœºå®Œæˆå‡çº§åï¼Œå¤‡äº¤æ¢æœºå‡çº§ä¸ºä¸»äº¤æ¢æœºï¼Œè½¬å‘æ•°æ®æµé‡ã€‚åŸä¸»äº¤æ¢æœºä»¥æ–°ç‰ˆæœ¬é‡æ–°å¯åŠ¨ï¼Œå®Œæˆå‡çº§åæˆä¸ºå †å ç³»ç»Ÿçš„å¤‡äº¤æ¢æœºã€‚&lt;/li&gt;
&lt;li&gt;å‡çº§ç»“æŸï¼Œæ•°æ®æµé‡è½¬å‘æ¢å¤æ­£å¸¸ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ¨¡æ‹Ÿå™¨ä¸æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨çœŸæœºé…ç½®
#CE1-A
lldp enable
stack
stack member 1 priority 200  # é…ç½®æ§½ä½å·ï¼ˆæˆå‘˜å·ï¼‰ä¸º1ï¼Œä¼˜å…ˆçº§ä¸º200ï¼ˆé»˜è®¤ä¸º100ï¼‰
stack member 1 domain 10
q
interface Stack-Port 1/1
port member-group interface 10GE 1/0/17 to 1/0/18
q
dis stack configuration
q
save
reboot
#CE1-B
lldp enable
stack
stack member 2 priority 120
stack member 2 domain 10
# stack member 2 rebunber 3 inherit-config  # ä¿®æ”¹æ§½ä½å·å¹¶ç»§æ‰¿ä¹‹å‰çš„é…ç½®
q
interface Stack-Port 1/1
port member-group interface 10GE 1/0/17 to 1/0/18
q
dis stack configuration
q
save
reboot
# æŸ¥çœ‹æ‹“æ‰‘
dis stack topology
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŒå‘è½¬å‘æ£€æµ‹bfd&#34;&gt;åŒå‘è½¬å‘æ£€æµ‹BFD&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªé€šç”¨çš„æ ‡å‡†åŒ–çš„ä»‹è´¨æ— å…³å’Œåè®®æ— å…³çš„å¿«é€Ÿæ•…éšœæ£€æµ‹æœºåˆ¶ï¼Œç”¨äºå¿«é€Ÿæ£€æµ‹ã€ç›‘æ§ç½‘ç»œä¸­é“¾è·¯æˆ–è€…IPè·¯ç”±çš„è½¬å‘è¿é€šçŠ¶å†µã€‚&lt;/p&gt;
&lt;h3 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717179304.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
RTAå’ŒRTDå»ºç«‹äº†OSPFé‚»æ¥å…³ç³»ï¼ŒHelloåŒ…å‘é€å‘¨æœŸä¸º10ç§’ï¼›å½“äº¤æ¢æœºSWBä¸SWCé“¾è·¯ç‰©ç†ä¸­æ–­ï¼Œè·¯ç”±å™¨RTAå’ŒRTDæ— æ³•æ„ŸçŸ¥ï¼Œéœ€è¦ç­‰å¾…OSPFåè®®é‚»å±…å¤±æ•ˆè®¡æ—¶å™¨è¶…æ—¶åæ‰ä¼šä¸­æ–­é‚»æ¥å…³ç³»ã€‚ï¼ˆ40ç§’ä¹‹åæ‰èƒ½æ„ŸçŸ¥åˆ°ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717259063.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
SWAå’ŒSWBå¯ç”¨äº†VRRPåè®®ï¼Œå®ç°äº†ä¸»å¤‡ç½‘å…³çš„ä½œç”¨ï¼ŒSWBä¸ºä¸»ç”¨ç½‘å…³ã€‚å½“å‡ºå£è·¯ç”±å™¨RTBä¸å¤–ç½‘Routerçš„é“¾è·¯ä¸­æ–­ï¼ŒSWBè™½ç„¶å¯ä»¥é€šè¿‡åŠ¨æ€è·¯ç”±åè®®æ„ŸçŸ¥ï¼Œä½†æ˜¯æ— æ³•è”åŠ¨è¿æ¥ä¸‹æ¸¸çš„ç½‘å…³æ¥å£ï¼Œä¸”ç»§ç»­ä¸ºä¸»ç½‘å…³ã€‚ç”¨æˆ·çš„æ•°æ®æµè¿˜æ˜¯å‘é€åˆ°SWBï¼ŒSWBå†é€šè¿‡ä¸‰å±‚è·¯ç”±è½¬å‘ç»™SWAï¼Œæœ€åç”±RTAå‡ºå£ã€‚è™½ç„¶ç»“æœä¸è‡³äºé€ æˆä¸šåŠ¡ä¸­æ–­ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿæ¬¡ä¼˜è·¯å¾„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;ä¸€ç§å…¨ç½‘ç»Ÿä¸€ã€æ£€æµ‹è¿…é€Ÿã€ç›‘æ§ç½‘ç»œä¸­é“¾è·¯æˆ–è€…IPè·¯ç”±çš„åŒå‘è½¬å‘è¿é€šçŠ¶å†µï¼Œå¹¶ä¸ºä¸Šå±‚åº”ç”¨æä¾›æœåŠ¡çš„æŠ€æœ¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717444631.png&#34; alt=&#34;ç®€ä»‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;bfdä¼šè¯å»ºç«‹æ–¹å¼å’Œæ£€æµ‹æœºåˆ¶&#34;&gt;BFDä¼šè¯å»ºç«‹æ–¹å¼å’Œæ£€æµ‹æœºåˆ¶&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717501255.png&#34; alt=&#34;BFDä¼šè¯å»ºç«‹æ–¹å¼å’Œæ£€æµ‹æœºåˆ¶&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;BFDçš„æ ‡è¯†ç¬¦ï¼š
&lt;ul&gt;
&lt;li&gt;BFDå»ºç«‹ä¼šè¯å­˜åœ¨æ ‡è¯†ç¬¦çš„æ¦‚å¿µï¼Œç±»ä¼¼äºOSPFå»ºç«‹é‚»å±…éœ€è¦ä¸€ä¸ªè·¯ç”±å™¨çš„Router IDã€‚&lt;/li&gt;
&lt;li&gt;æ ‡è¯†ç¬¦åˆ†ä¸ºæœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦ï¼Œæœ¬åœ°æ ‡è¯†ç¬¦ç”¨äºè¡¨ç¤ºæœ¬ç«¯è®¾å¤‡ï¼Œè¿œç«¯æ ‡è¯†ç¬¦ç”¨äºè¡¨ç¤ºå¯¹ç«¯è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;é™æ€å»ºç«‹BFDä¼šè¯æ˜¯æŒ‡é€šè¿‡å‘½ä»¤è¡Œæ‰‹å·¥é…ç½®BFDä¼šè¯å‚æ•°ï¼ŒåŒ…æ‹¬é…ç½®æœ¬åœ°æ ‡è¯†ç¬¦å’Œè¿œç«¯æ ‡è¯†ç¬¦ç­‰ï¼Œç„¶åæ‰‹å·¥ä¸‹å‘BFDä¼šè¯å»ºç«‹è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€å»ºç«‹BFDä¼šè¯æ˜¯æŒ‡ç”±åº”ç”¨ç¨‹åºè§¦å‘åˆ›å»ºBFDä¼šè¯ï¼Œå½“åº”ç”¨ç¨‹åºåŠ¨æ€è§¦å‘åˆ›å»ºBFDä¼šè¯æ—¶ï¼Œç³»ç»Ÿåˆ†é…å±äºåŠ¨æ€ä¼šè¯æ ‡è¯†ç¬¦åŒºåŸŸçš„å€¼ä½œä¸ºBFDä¼šè¯çš„æœ¬åœ°æ ‡è¯†ç¬¦ã€‚ç„¶åå‘å¯¹ç«¯å‘é€Remote Discriminatorçš„å€¼ä¸º0çš„BFDæ§åˆ¶æŠ¥æ–‡ï¼Œè¿›è¡Œä¼šè¯åå•†ã€‚å½“BFDä¼šè¯çš„ä¸€ç«¯æ”¶åˆ°Remote Discriminatorçš„å€¼ä¸º0çš„BFDæ§åˆ¶æŠ¥æ–‡æ—¶ï¼Œåˆ¤æ–­è¯¥æŠ¥æ–‡æ˜¯å¦ä¸æœ¬åœ°BFDä¼šè¯åŒ¹é…ï¼Œå¦‚æœåŒ¹é…ï¼Œåˆ™å­¦ä¹ æ¥æ”¶åˆ°çš„BFDæŠ¥æ–‡ä¸­Local Discriminatorçš„å€¼ï¼Œè·å–è¿œç«¯æ ‡è¯†ç¬¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BFDçš„æ£€æµ‹æœºåˆ¶ï¼š
&lt;ul&gt;
&lt;li&gt;BFDçš„æ£€æµ‹æœºåˆ¶æ˜¯ä¸¤ä¸ªç³»ç»Ÿå»ºç«‹BFDä¼šè¯ï¼Œå¹¶æ²¿å®ƒä»¬ä¹‹é—´çš„è·¯å¾„å‘¨æœŸæ€§å‘é€BFDæ§åˆ¶æŠ¥æ–‡ï¼Œå¦‚æœä¸€æ–¹åœ¨æ—¢å®šçš„æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°BFDæ§åˆ¶æŠ¥æ–‡ï¼Œåˆ™è®¤ä¸ºè·¯å¾„ä¸Šå‘ç”Ÿäº†æ•…éšœï¼Œ&lt;strong&gt;BFDæ§åˆ¶æŠ¥æ–‡æ˜¯UDPæŠ¥æ–‡ï¼Œç«¯å£å·3784&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;BFDæä¾›å¼‚æ­¥æ£€æµ‹æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œç³»ç»Ÿä¹‹é—´ç›¸äº’å‘¨æœŸæ€§åœ°å‘é€BFDæ§åˆ¶æŠ¥æ–‡ï¼Œ&lt;strong&gt;å¦‚æœæŸä¸ªç³»ç»Ÿè¿ç»­3ä¸ªæŠ¥æ–‡éƒ½æ²¡æœ‰æ¥æ”¶åˆ°ï¼Œå°±è®¤ä¸ºæ­¤BFDä¼šè¯çš„çŠ¶æ€æ˜¯Down&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;bfdä¼šè¯å»ºç«‹è¿‡ç¨‹&#34;&gt;BFDä¼šè¯å»ºç«‹è¿‡ç¨‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;14&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717639141.png&#34; alt=&#34;BFDä¼šè¯å»ºç«‹è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;RTAå’ŒRTBå„è‡ªå¯åŠ¨BFDçŠ¶æ€æœºï¼Œåˆå§‹çŠ¶æ€ä¸ºDownï¼Œå‘é€çŠ¶æ€ä¸ºDownçš„BFDæŠ¥æ–‡ã€‚å¯¹äºé™æ€é…ç½®BFDä¼šè¯ï¼ŒæŠ¥æ–‡ä¸­çš„Remote Discriminatorçš„å€¼æ˜¯ç”¨æˆ·æŒ‡å®šçš„ï¼›å¯¹äºåŠ¨æ€åˆ›å»ºBFDä¼šè¯ï¼ŒRemote Discriminatorçš„å€¼æ˜¯0ã€‚&lt;/li&gt;
&lt;li&gt;RTBæ”¶åˆ°çŠ¶æ€ä¸ºDownçš„BFDæŠ¥æ–‡åï¼ŒçŠ¶æ€åˆ‡æ¢è‡³Initï¼Œå¹¶å‘é€çŠ¶æ€ä¸ºInitçš„BFDæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;RTBæœ¬åœ°BFDçŠ¶æ€ä¸ºInitåï¼Œä¸å†å¤„ç†æ¥æ”¶åˆ°çš„çŠ¶æ€ä¸ºDownçš„æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;RTBæ”¶åˆ°çŠ¶æ€ä¸ºInitçš„BFDæŠ¥æ–‡åï¼Œæœ¬åœ°çŠ¶æ€åˆ‡æ¢è‡³Upã€‚&lt;/li&gt;
&lt;li&gt;RTAçš„BFDçŠ¶æ€å˜åŒ–åŒRTBã€‚&lt;/li&gt;
&lt;li&gt;é‚»å±…ä¼šè¯å»ºç«‹æˆåŠŸåï¼ŒRTAå’ŒRTBå‘¨æœŸæ€§çš„å‘å¯¹æ–¹å‘é€çŠ¶æ€ä¸ºUpçš„æ§åˆ¶æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;bfdå·¥ä½œæµç¨‹&#34;&gt;BFDå·¥ä½œæµç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717751076.png&#34; alt=&#34;BFDå·¥ä½œæµç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
OSPFé‚»å±…å»ºç«‹--&amp;gt;BFDä¼šè¯å»ºç«‹ã€‚&lt;br&gt;
é“¾è·¯æ•…éšœ--&amp;gt;BFDä¼šè¯Down--&amp;gt;OSPFé‚»å±…å…³ç³»ä¸­æ–­ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OSPFçš„BFDæ£€æµ‹æ•…éšœå‘ç°å¤„ç†æµç¨‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;OSPFé€šè¿‡è‡ªå·±çš„Helloæœºåˆ¶å‘ç°é‚»å±…å¹¶å»ºç«‹è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;OSPFåœ¨å»ºç«‹äº†é‚»å±…å…³ç³»åï¼Œå°†é‚»å±…ä¿¡æ¯ï¼ˆåŒ…æ‹¬ç›®çš„åœ°å€å’Œæºåœ°å€ç­‰ï¼‰é€šå‘Šç»™BFDã€‚&lt;/li&gt;
&lt;li&gt;BFDæ ¹æ®æ”¶åˆ°çš„é‚»å±…ä¿¡æ¯å»ºç«‹ä¼šè¯ã€‚&lt;/li&gt;
&lt;li&gt;è¢«æ£€æµ‹é“¾è·¯å‡ºç°æ•…éšœã€‚&lt;/li&gt;
&lt;li&gt;BFDå¿«é€Ÿå‘é€BFDæ¢æµ‹æŠ¥æ–‡æ£€æµ‹åˆ°é“¾è·¯æ•…éšœï¼Œå¦‚æœåœ¨è§„å®šæ—¶é—´å†…æ— å“åº”ï¼ŒBFDä¼šè¯çŠ¶æ€å˜ä¸ºDownã€‚&lt;/li&gt;
&lt;li&gt;BFDé€šçŸ¥æœ¬åœ°OSPFè¿›ç¨‹BFDé‚»å±…ä¸å¯è¾¾ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬åœ°OSPFè¿›ç¨‹ä¸­æ–­OSPFé‚»å±…å…³ç³»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;è”åŠ¨åŠŸèƒ½&#34;&gt;è”åŠ¨åŠŸèƒ½&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;15&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592717944048.png&#34; alt=&#34;è”åŠ¨åŠŸèƒ½&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ç›‘æµ‹æ¨¡å—è´Ÿè´£å¯¹é“¾è·¯çŠ¶æ€ã€ç½‘ç»œæ€§èƒ½ç­‰è¿›è¡Œç›‘æµ‹ï¼Œå¹¶å°†æ¢æµ‹ç»“æœé€šçŸ¥ç»™Trackæ¨¡å— ã€‚&lt;/li&gt;
&lt;li&gt;Trackæ¨¡å—æ”¶åˆ°ç›‘æµ‹æ¨¡å—çš„æ¢æµ‹ç»“æœåï¼ŒåŠæ—¶æ”¹å˜Tracké¡¹çš„çŠ¶æ€ï¼Œå¹¶é€šçŸ¥åº”ç”¨æ¨¡å—ã€‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨æ¨¡å—æ ¹æ®Tracké¡¹çš„çŠ¶æ€ï¼Œè¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œä»è€Œå®ç°è”åŠ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é•œåƒæŠ€æœ¯&#34;&gt;é•œåƒæŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;åœ¨ç½‘ç»œç»´æŠ¤çš„è¿‡ç¨‹ä¸­ä¼šé‡åˆ°éœ€è¦å¯¹æŠ¥æ–‡è¿›è¡Œè·å–å’Œåˆ†æçš„æƒ…å†µï¼Œæ¯”å¦‚æ€€ç–‘æœ‰æ”»å‡»æŠ¥æ–‡ï¼Œæ­¤æ—¶éœ€è¦åœ¨ä¸å½±å“æŠ¥æ–‡è½¬å‘çš„æƒ…å†µä¸‹ï¼Œå¯¹æŠ¥æ–‡è¿›è¡Œè·å–å’Œåˆ†æã€‚&lt;br&gt;
é•œåƒæŠ€æœ¯å¯ä»¥åœ¨&lt;strong&gt;ä¸å½±å“æŠ¥æ–‡æ­£å¸¸å¤„ç†æµç¨‹&lt;/strong&gt;çš„æƒ…å†µä¸‹ï¼Œ&lt;strong&gt;å°†é•œåƒç«¯å£çš„æŠ¥æ–‡å¤åˆ¶ä¸€ä»½åˆ°è§‚å¯Ÿç«¯å£&lt;/strong&gt;ï¼Œç”¨æˆ·åˆ©ç”¨æ•°æ®ç›‘æ§è®¾å¤‡æ¥åˆ†æå¤åˆ¶åˆ°è§‚å¯Ÿç«¯å£çš„æŠ¥æ–‡ï¼Œè¿›è¡Œç½‘ç»œç›‘æ§å’Œæ•…éšœæ’é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®é‡‡é›†çš„ä½œç”¨&#34;&gt;æ•°æ®é‡‡é›†çš„ä½œç”¨&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;16&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592725350067.png&#34; alt=&#34;æ•°æ®é‡‡é›†çš„ä½œç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;æ•°æ®é‡‡é›†çš„æ–¹æ³•&#34;&gt;æ•°æ®é‡‡é›†çš„æ–¹æ³•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†å…‰å™¨ç‰©ç†é‡‡é›†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592725410973.png&#34; alt=&#34;åˆ†å…‰å™¨ç‰©ç†é‡‡é›†&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨ç‰©ç†å™¨ä»¶åˆ†å…‰å™¨æ’å…¥è¿æ¥çš„é“¾è·¯å½“ä¸­ï¼Œå¤åˆ¶å‡ºæ­£å¸¸çš„æ•°é‡æµåˆ°é‡‡é›†å™¨ä¸Šé¢ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹æ˜¯&lt;/strong&gt;é‡‡é›†çš„æ•°æ®å®Œæ•´å¯é ï¼Œåªåœ¨ä¸­é—´é“¾è·¯ä¸Šæ“ä½œï¼Œå®Œå…¨ä¸å½±å“è¢«é‡‡é›†è®¾å¤‡çš„æ€§èƒ½ï¼Œä¹Ÿä¸å ç”¨é“¾è·¯å¸¦å®½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹æ˜¯&lt;/strong&gt;æ¯æ¬¡é‡‡é›†è¦åšç‰©ç†åŠ¨ä½œåˆ‡å…¥ï¼Œç›¸å¯¹ç¹çä¸”æœ‰é£é™©ã€‚&lt;/li&gt;
&lt;li&gt;é€‚åˆç½‘ç»œä¸šåŠ¡å‡ºå…¥å£å¤§å‹è®¾å¤‡çš„æ•°æ®æµé‡‡é›†ï¼Œå¸¸ç”¨äºè¿æ¥IDSè®¾å¤‡çš„ç½‘ç»œç¯å¢ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NMSé›†ä¸­é‡‡é›†&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592725474265.png&#34; alt=&#34;NMSé›†ä¸­é‡‡é›†&#34; loading=&#34;lazy&#34;&gt;
&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨é€šç”¨æ ‡å‡†åè®®SNMPåè®®ä¼ é€æ ‡å‡†çš„MIBæ•°æ®ï¼Œé‡‡é›†æ•´ç½‘çš„é…ç½®ä¿¡æ¯å’Œè®¾å¤‡ç«¯å£æ•°æ®æµä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜ç‚¹æ˜¯&lt;/strong&gt;å¯ä»¥é‡‡é›†æ•´ç½‘è®¾å¤‡èŠ‚ç‚¹ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¼ºç‚¹æ˜¯&lt;/strong&gt;é’ˆå¯¹æ¥å£çš„æ•°æ®æµä¿¡æ¯é‡‡é›†ä¸å¤Ÿç²¾ç»†å’Œå®Œæ•´ï¼Œå¤§éƒ¨åˆ†æ˜¯ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;é€‚åˆç½‘ç®¡ä¸­å¿ƒæŸ¥çœ‹è®¾å¤‡çš„å‚æ•°å’Œæ€§èƒ½ä»¥åŠä¸šåŠ¡ä¿¡æ¯ç»Ÿè®¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é•œåƒæ¦‚è¿°&#34;&gt;é•œåƒæ¦‚è¿°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é•œåƒå®šä¹‰&lt;br&gt;
å°†é•œåƒç«¯å£ï¼ˆæºç«¯å£ï¼‰çš„æŠ¥æ–‡å¤åˆ¶ä¸€ä»½åˆ°è§‚å¯Ÿç«¯å£ï¼ˆç›®çš„ç«¯å£ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é•œåƒä½œç”¨&lt;br&gt;
è·å–å®Œæ•´æŠ¥æ–‡ç”¨äºåˆ†æç½‘ç»œçŠ¶å†µã€‚&lt;/li&gt;
&lt;li&gt;é•œåƒä¼˜ç‚¹&lt;br&gt;
ä¸å½±å“åŸæœ‰ç½‘ç»œï¼Œå¿«æ·æ–¹ä¾¿ã€‚é‡‡é›†çš„æ˜¯å®æ—¶æ•°æ®æµï¼ŒçœŸå®å¯é ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é•œåƒçš„è§’è‰²&#34;&gt;é•œåƒçš„è§’è‰²&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;17&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592725699675.png&#34; alt=&#34;é•œåƒçš„è§’è‰²&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;é•œåƒç«¯å£ï¼šé•œåƒç«¯å£æ˜¯è¢«ç›‘æ§çš„ç«¯å£ï¼Œä»é•œåƒç«¯å£æµç»çš„æ‰€æœ‰æŠ¥æ–‡æˆ–åŒ¹é…æµåˆ†ç±»è§„åˆ™çš„æŠ¥æ–‡å°†è¢«å¤åˆ¶åˆ°è§‚å¯Ÿç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿç«¯å£ï¼šè§‚å¯Ÿç«¯å£æ˜¯è¿æ¥ç›‘æ§è®¾å¤‡çš„ç«¯å£ï¼Œç”¨äºè¾“å‡ºä»é•œåƒç«¯å£å¤åˆ¶è¿‡æ¥çš„æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;vxlan&#34;&gt;VXLAN&lt;/h2&gt;
&lt;p&gt;æœåŠ¡å™¨è™šæ‹ŸåŒ–èƒ½å¤Ÿå¤§å¹…é™ä½ITå»ºè®¾è¿ç»´æˆæœ¬ï¼Œæé«˜ä¸šåŠ¡éƒ¨ç½²çµæ´»æ€§ã€‚è™šæ‹Ÿæœºåœ¨ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒç½‘ç»œä¸­åªèƒ½åœ¨äºŒå±‚ç½‘ç»œä¸­è¿›è¡Œæ— ç¼è¿ç§»ï¼Œä¸€æ—¦åœ¨è·¨ä¸‰å±‚ç½‘ç»œä¸­è¿›è¡Œè¿ç§»ï¼Œå°±ä¼šé€ æˆä¸šåŠ¡ä¸­æ–­ã€‚äºæ˜¯VXLANæŠ€æœ¯åº”è¿è€Œç”Ÿï¼Œå¤§å¤§æé«˜äº†è™šæ‹Ÿæœºè¿ç§»çš„çµæ´»æ€§ï¼Œä½¿æµ·é‡ç§Ÿæˆ·ä¸å—ç½‘ç»œIPåœ°å€å˜æ›´å’Œå¹¿æ’­åŸŸé™åˆ¶çš„å½±å“ï¼ŒåŒæ—¶ä¹Ÿå¤§å¤§é™ä½äº†ç½‘ç»œç®¡ç†çš„éš¾åº¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®ä¸­å¿ƒ&#34;&gt;æ•°æ®ä¸­å¿ƒ&lt;/h3&gt;
&lt;h4 id=&#34;æ¦‚å¿µ&#34;&gt;æ¦‚å¿µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒï¼ˆData Centerï¼‰æ˜¯ä¸€å¥—å®Œæ•´ã€å¤æ‚çš„é›†åˆç³»ç»Ÿï¼Œå®ƒä¸ä»…åŒ…æ‹¬è®¡ç®—æœºç³»ç»Ÿå’Œå…¶å®ƒä¸ä¹‹é…å¥—çš„è®¾å¤‡ï¼ˆä¾‹å¦‚é€šä¿¡å’Œå­˜å‚¨ç³»ç»Ÿï¼‰ï¼Œè¿˜åŒ…å«æ•°æ®é€šä¿¡ç³»ç»Ÿã€ç¯å¢ƒæ§åˆ¶è®¾å¤‡ã€ç›‘æ§è®¾å¤‡ä»¥åŠå„ç§å®‰å…¨è£…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒé€šå¸¸æ˜¯æŒ‡åœ¨ä¸€ä¸ªç‰©ç†ç©ºé—´å†…å®ç°ä¿¡æ¯é›†ä¸­å¤„ç†ã€å­˜å‚¨ã€ä¼ è¾“ã€äº¤æ¢ã€ç®¡ç†çš„åœºæ‰€ã€‚&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡ã€å­˜å‚¨è®¾å¤‡ç­‰é€šå¸¸éƒ½æ˜¯æ•°æ®ä¸­å¿ƒçš„å…³é”®è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;è®¾å¤‡è¿è¡Œæ‰€éœ€è¦çš„ç¯å¢ƒå› ç´ ï¼Œå¦‚ä¾›ç”µç³»ç»Ÿã€åˆ¶å†·ç³»ç»Ÿã€æœºæŸœç³»ç»Ÿã€æ¶ˆé˜²ç³»ç»Ÿã€ç›‘æ§ç³»ç»Ÿç­‰é€šå¸¸éƒ½è¢«è®¤ä¸ºæ˜¯å…³é”®ç‰©ç†åŸºç¡€è®¾æ–½ã€‚&lt;/li&gt;
&lt;li&gt;äº’è”ç½‘æ•°æ®ä¸­å¿ƒï¼ˆInternet Data Centerï¼ŒIDCï¼‰æ˜¯äº’è”ç½‘ä¸­æ•°æ®å­˜å‚¨å’Œå¤„ç†çš„ä¸­å¿ƒï¼Œæ˜¯äº’è”ç½‘ä¸­æ•°æ®äº¤äº’æœ€ä¸ºé›†ä¸­çš„åœ°æ–¹ã€‚&lt;br&gt;
&lt;strong&gt;ç®€è€Œè¨€ä¹‹ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;DC (Data Center)ã€‚&lt;/li&gt;
&lt;li&gt;ä¼ä¸šITç³»ç»Ÿçš„æ ¸å¿ƒã€‚&lt;/li&gt;
&lt;li&gt;æµ·é‡æ•°æ®è¿ç®—ã€äº¤æ¢ã€å­˜å‚¨çš„ä¸­å¿ƒã€‚&lt;/li&gt;
&lt;li&gt;å…³é”®ä¿¡æ¯ä¸šåŠ¡åº”ç”¨çš„è®¡ç®—ç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;é›†ä¸­ç®¡æ§å„ç§æ•°æ®ã€åº”ç”¨ç¨‹åºã€ç‰©ç†æˆ– è™šæ‹ŸåŒ–è®¾å¤‡çš„ç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒå››å¤§ç„¦ç‚¹ï¼šå¯é  ã€çµæ´» ã€ç»¿è‰² ã€é«˜æ•ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒç½‘ç»œç»“æ„&#34;&gt;ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒç½‘ç»œç»“æ„&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;18&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592745554047.png&#34; alt=&#34;ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒç½‘ç»œç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®ä¸­å¿ƒæŒ‰ä¸åŒä¸šåŠ¡åŠŸèƒ½è¿›è¡Œåˆ†åŒºã€‚ä¼ ç»Ÿæ•°æ®ä¸­å¿ƒçš„ç½‘ç»œç»“æ„æ˜¯æŒ‰ç…§ç»å…¸çš„ä¸‰å±‚æ¶æ„ï¼ˆæ¥å…¥ã€æ±‡èšã€æ ¸å¿ƒï¼‰è¿›è¡Œéƒ¨ç½²çš„ã€‚&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§åŠŸèƒ½æ¨¡å—åˆ’åˆ†ï¼Œä¼ ç»Ÿæ•°æ®ä¸­å¿ƒå¯åˆ†ä¸ºæ ¸å¿ƒåŒºã€å¤–ç½‘æœåŠ¡å™¨åŒºã€å†…ç½‘æœåŠ¡å™¨åŒºã€äº’è”ç½‘æœåŠ¡å™¨åŒºã€æ•°æ®ä¸­å¿ƒç®¡ç†åŒºã€æ•°æ®äº¤æ¢&amp;amp;æµ‹è¯•æœåŠ¡å™¨åŒºã€æ•°æ®å­˜å‚¨åŠŸèƒ½åŒºã€æ•°æ®å®¹ç¾åŠŸèƒ½åŒºç­‰ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æœåŠ¡å™¨åŒºï¼Œå†æ ¹æ®ä¸åŒçš„åº”ç”¨ç±»å‹åˆ’åˆ†ä¸åŒçš„å±‚æ¬¡ï¼Œä¾‹å¦‚ï¼Œæ•°æ®åº“å±‚ã€åº”ç”¨æœåŠ¡å™¨å±‚ã€WEBæœåŠ¡å™¨å±‚ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;é¢å¯¹çš„æŒ‘æˆ˜&#34;&gt;é¢å¯¹çš„æŒ‘æˆ˜&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—èŠ‚ç‚¹ä½å»¶è¿Ÿéœ€æ±‚
&lt;ul&gt;
&lt;li&gt;åŒä¸€ç‰©ç†æœåŠ¡å™¨éƒ¨ç½²å¤§é‡è™šæ‹Ÿæœºï¼Œé€ æˆæµé‡å¹¶å‘é‡å¤§å¢ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®æµé‡æ¨¡å‹ä¹Ÿä»ä¼ ç»Ÿçš„å—åŒ—å‘æµé‡è½¬å˜ä¸ºä¸œè¥¿å‘æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œä¸­å­˜åœ¨å¤§é‡å¤šå¯¹ä¸€ã€å¤šå¯¹å¤šçš„ä¸œè¥¿å‘æµé‡ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æ¥å…¥å±‚å’Œæ±‡èšå±‚è®¾å¤‡çš„å¤„ç†èƒ½åŠ›æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592746576535.png&#34; alt=&#34;è®¡ç®—èŠ‚ç‚¹ä½å»¶è¿Ÿéœ€æ±‚&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è™šæ‹ŸåŒ–åº”ç”¨å¤§é‡éƒ¨ç½²
&lt;ul&gt;
&lt;li&gt;ä¼ ç»Ÿçš„æ•°æ®ä¸­å¿ƒå†…ï¼ŒæœåŠ¡å™¨ä¸»è¦ç”¨äºå¯¹å¤–æä¾›æœåŠ¡ï¼Œä¸åŒä¸šåŠ¡åŒºåŸŸä¹‹é—´å¯é€šè¿‡åˆ’åˆ†ä¸ºä¸åŒçš„å®‰å…¨åˆ†åŒºæˆ–VLANè¿›è¡Œéš”ç¦»ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªåˆ†åŒºé€šå¸¸é›†ä¸­äº†è¯¥ä¸šåŠ¡æ‰€éœ€çš„è®¡ç®—ã€ç½‘ç»œåŠå­˜å‚¨èµ„æºï¼Œä¸åŒçš„åˆ†åŒºä¹‹é—´æˆ–è€…ç¦æ­¢äº’è®¿ï¼Œæˆ–è€…ç»ç”±ä¸‰å±‚ç½‘ç»œè¿›è¡Œäº’è®¿ï¼Œæ•°æ®ä¸­å¿ƒçš„ç½‘ç»œæµé‡å¤§éƒ¨åˆ†é›†ä¸­äºå—åŒ—å‘ã€‚åœ¨è¿™ç§è®¾è®¡ä¸‹ï¼Œä¸åŒåˆ†åŒºé—´è®¡ç®—èµ„æºæ— æ³•å…±äº«ï¼Œèµ„æºåˆ©ç”¨ç‡ä½ä¸‹çš„é—®é¢˜è¶Šæ¥è¶Šçªå‡ºã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡è™šæ‹ŸåŒ–æŠ€æœ¯ã€äº‘è®¡ç®—ç®¡ç†æŠ€æœ¯ç­‰ï¼Œå°†å„ä¸ªåˆ†åŒºé—´çš„èµ„æºè¿›è¡Œæ± åŒ–ï¼Œå®ç°æ•°æ®ä¸­å¿ƒèµ„æºçš„æœ‰æ•ˆåˆ©ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;éšç€è¿™äº›æ–°æŠ€æœ¯çš„å…´èµ·å’Œåº”ç”¨ï¼Œæ–°çš„ä¸šåŠ¡éœ€æ±‚å¦‚è™šæ‹Ÿæœºè¿ç§»ã€æ•°æ®åŒæ­¥ã€æ•°æ®å¤‡ä»½ã€ååŒè®¡ç®—ç­‰åœ¨æ•°æ®ä¸­å¿ƒå†…å¼€å§‹å®ç°éƒ¨ç½²ï¼Œæ•°æ®ä¸­å¿ƒå†…éƒ¨ä¸œè¥¿å‘æµé‡å¼€å§‹å¤§å¹…åº¦å¢åŠ ã€‚&lt;/li&gt;
&lt;li&gt;è™šæ‹ŸæœºåŠ¨æ€è¿ç§»æŠ€æœ¯åœ¨å®é™…åº”ç”¨ä¸­å¾ˆå¸¸è§ï¼Œæ¯”å¦‚éœ€è¦å¯¹ä¸€å°æœåŠ¡å™¨è¿›è¡Œå‡çº§å’Œç»´æŠ¤æ—¶ï¼Œå¯ä»¥é€šè¿‡VMè¿ç§»æŠ€æœ¯å°†è¿™å°æœåŠ¡å™¨ä¸Šçš„VMå…ˆè¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå…¶é—´æ‰€æä¾›çš„æœåŠ¡ä¸ä¸­æ–­ï¼Œç„¶åç­‰æœåŠ¡å™¨å‡çº§å’Œç»´æŠ¤ç»“æŸåå†å°†VMè¿ç§»å›æ¥å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;è™šæ‹ŸæœºåŠ¨æ€è¿ç§»æŠ€æœ¯è¿˜å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—èµ„æºï¼Œæ¯”å¦‚æŸå…¬å¸çš„ç½‘è´­å¹³å°åœ¨æŸæ®µæ—¶é—´å†…åœ¨æŸç‰‡åŒºåŸŸæä¾›ä¿ƒé”€æ´»åŠ¨ï¼Œå…¶é—´ä¸šåŠ¡é‡å¤§å¤§å¢åŠ ï¼Œè¿™æ ·å¯ä»¥å°†å…¶ä»–ä¸šåŠ¡é‡å°çš„åŒºåŸŸå†…çš„VMåŠ¨æ€è¿ç§»è¿‡æ¥ï¼Œè¿™æ ·ä¸ä¼šä¸­æ–­å…¶ä»–åŒºåŸŸæœåŠ¡çš„æƒ…å†µä¸‹ï¼Œé›†ä¸­åˆ©ç”¨èµ„æºï¼Œæ´»åŠ¨ç»“æŸåå†å°†VMè°ƒæ•´å›åŸå…ˆçš„åŒºåŸŸã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592747017901.png&#34; alt=&#34;è™šæ‹ŸåŒ–åº”ç”¨å¤§é‡éƒ¨ç½²&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;å¤šæ•°æ®ä¸­å¿ƒå¤§äºŒå±‚äº’è” - VXLAN&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748145388.png&#34; alt=&#34;VXLAN&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡å¿«é€Ÿåˆ›æ–°ã€è‡ªåŠ¨å‘æ”¾éœ€æ±‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748085984.png&#34; alt=&#34;ä¸šåŠ¡å¿«é€Ÿåˆ›æ–°ã€è‡ªåŠ¨å‘æ”¾éœ€æ±‚&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;äº‘æ•°æ®ä¸­å¿ƒçš„ç½‘ç»œè§£å†³æ–¹æ¡ˆ&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748176793.png&#34; alt=&#34;äº‘æ•°æ®ä¸­å¿ƒçš„ç½‘ç»œè§£å†³æ–¹æ¡ˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;ä¼ ç»Ÿä¸‰å±‚ç½‘ç»œæ¶æ„ä¸‹è™šæ‹ŸæœºåŠ¨æ€è¿ç§»å¸¦æ¥çš„é—®é¢˜&#34;&gt;ä¼ ç»Ÿä¸‰å±‚ç½‘ç»œæ¶æ„ä¸‹è™šæ‹ŸæœºåŠ¨æ€è¿ç§»å¸¦æ¥çš„é—®é¢˜&lt;/h5&gt;
&lt;p&gt;è™šæ‹Ÿæœºè¿ç§»è¦æ±‚äºŒå±‚å¯è¾¾ï¼Œå˜æ›´è™šæ‹ŸæœºIPåœ°å€ä¸šåŠ¡é€ æˆä¸šåŠ¡ä¸­æ–­ï¼Œè€Œä¸”ç›¸å…³çš„æœåŠ¡å™¨ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„é…ç½®å˜æ›´ã€‚&lt;br&gt;
å½“å‰çš„ä¸€äº›&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šæ‹“æ‰‘ç®€åŒ–æ€æƒ³ã€‚é€šè¿‡CSSã€istackæŠ€æœ¯ç®€åŒ–æ‹“æ‰‘ï¼ŒæœåŠ¡å™¨å¤„äºæ‰å¹³ç½‘ç»œæ¶æ„ï¼ŒVMåœ¨åŒä¸€ä¸ªäºŒå±‚ç½‘ç»œä¸­ï¼Œè¿ç§»è¿‡ç¨‹æ— éœ€ä¿®æ”¹IPï¼ŒæœåŠ¡ä¸å—å½±å“ï¼Œå¯æ— éšœç¢çµæ´»è¿ç§»ã€‚&lt;br&gt;
è¯¥è§£å†³æ–¹æ¡ˆ&lt;strong&gt;å­˜åœ¨çš„é—®é¢˜&lt;/strong&gt;ï¼šMACåœ°å€æ•°é‡é™¡å¢ï¼Œæ¥å…¥è®¾å¤‡å‹åŠ›è¾ƒå¤§ï¼›å¤šç§Ÿæˆ·éš”ç¦»ç¯å¢ƒä¸­è®¾å¤‡VLANèµ„æºç´§å¼ ï¼›äºŒå±‚ç½‘ç»œèŒƒå›´è¿‡å¤§ï¼Œå½±å“ç½‘ç»œé€šä¿¡æ•ˆç‡ï¼›ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆè¾ƒé€‚ç”¨äºDCå†…éƒ¨å¤§äºŒå±‚äº’è”åº”ç”¨&lt;/p&gt;
&lt;h3 id=&#34;vxlanéƒ¨ç½²çš„å…¸å‹ç½‘ç»œæ¶æ„&#34;&gt;VXLANéƒ¨ç½²çš„å…¸å‹ç½‘ç»œæ¶æ„&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;19&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748270768.png&#34; alt=&#34;VXLANéƒ¨ç½²çš„å…¸å‹ç½‘ç»œæ¶æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;VXLAN/NVGRE/STTæ˜¯ä¸‰ç§å…¸å‹çš„NVO3æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;æ˜¯é€šè¿‡MAC In IPæŠ€æœ¯åœ¨IPç½‘ç»œä¹‹ä¸Šæ„å»ºé€»è¾‘äºŒå±‚ç½‘ç»œã€‚&lt;/li&gt;
&lt;li&gt;åŒä¸€ç§Ÿæˆ·çš„VMå½¼æ­¤å¯ä»¥äºŒå±‚é€šä¿¡ã€è·¨ä¸‰å±‚ç‰©ç†ç½‘ç»œè¿›è¡Œè¿ç§»ã€‚&lt;/li&gt;
&lt;li&gt;ç›¸æ¯”ä¼ ç»ŸL2 VPNç­‰OverlayæŠ€æœ¯ï¼ŒNVO3çš„CEä¾§æ˜¯è™šæ‹Ÿæˆ–ç‰©ç†ä¸»æœºï¼Œè€Œä¸æ˜¯ç½‘ç»œç«™ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤å¤–ä¸»æœºå…·æœ‰å¯ç§»åŠ¨æ€§ã€‚&lt;/li&gt;
&lt;li&gt;ç›®å‰ï¼Œä¸€èˆ¬æ˜¯ITå‚å•†ä¸»å¯¼ï¼Œé€šè¿‡æœåŠ¡å™¨çš„Hypervisoræ¥æ„å»ºOverlayç½‘ç»œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vxlanç»„ç½‘é€»è¾‘æ¶æ„&#34;&gt;VXLANç»„ç½‘é€»è¾‘æ¶æ„&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;20&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748349641.png&#34; alt=&#34;VXLANç»„ç½‘é€»è¾‘æ¶æ„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;VXLANæ˜¯IETF NVO3å®šä¹‰çš„NVO3æ ‡å‡†æŠ€æœ¯ä¹‹ä¸€ï¼Œé‡‡ç”¨MAC in UDPå°è£…æ–¹å¼ï¼Œå°†äºŒå±‚æŠ¥æ–‡ç”¨ä¸‰å±‚åè®®è¿›è¡Œå°è£…ï¼Œå¯å¯¹äºŒå±‚ç½‘ç»œåœ¨ä¸‰å±‚èŒƒå›´è¿›è¡Œæ‰©å±•ï¼ŒåŒæ—¶æ”¯æŒ24bitsçš„VNI IDï¼ˆ16Mç§Ÿæˆ·èƒ½åŠ›ï¼‰ï¼Œæ»¡è¶³æ•°æ®ä¸­å¿ƒå¤§äºŒå±‚VMè¿ç§»å’Œå¤šç§Ÿæˆ·çš„éœ€æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨VXLAN NVO3ç½‘ç»œæ¨¡å‹ä¸­ï¼Œéƒ¨ç½²åœ¨VXLANç½‘ç»œè¾¹ç¼˜çš„è®¾å¤‡ç§°ä¸º VXLAN NVEï¼ˆNetwork Virtualization Edgeï¼Œç½‘ç»œè™šæ‹Ÿè¾¹ç¼˜ï¼‰ï¼Œä¸»è¦è´Ÿè´£VLANç½‘ç»œä¸VXLANç½‘ç»œé—´çš„å°è£…å’Œè§£å°è£…ã€‚ç»è¿‡NVEå°è£…è½¬æ¢åï¼ŒNVEé—´å°±å¯åŸºäºL3åŸºç¡€ç½‘ç»œå»ºç«‹OverlayäºŒå±‚è™šæ‹ŸåŒ–ç½‘ç»œã€‚&lt;/li&gt;
&lt;li&gt;VXLANæŠ€æœ¯ç‰¹ç‚¹ï¼š
&lt;ul&gt;
&lt;li&gt;ä½ç½®æ— å…³æ€§ï¼šä¸šåŠ¡å¯åœ¨ä»»æ„ä½ç½®çµæ´»éƒ¨ç½²ï¼Œç¼“è§£äº†æœåŠ¡å™¨è™šæ‹ŸåŒ–åç›¸å…³çš„ç½‘ç»œæ‰©å±•é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;å¯æ‰©å±•æ€§ï¼šåœ¨ä¼ ç»Ÿç½‘ç»œæ¶æ„ä¸Šè§„åˆ’æ–°çš„Overlayç½‘ç»œï¼Œéƒ¨ç½²æ–¹ä¾¿ï¼ŒåŒæ—¶é¿å…äº†å¤§äºŒå±‚çš„å¹¿æ’­é£æš´é—®é¢˜ï¼Œå¯æ‰©å±•æ€§æå¼ºã€‚&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²ç®€å•ï¼šç”±é«˜å¯é SDN Controllerå®Œæˆæ§åˆ¶é¢çš„é…ç½®å’Œç®¡ç†ï¼Œé¿å…äº†å¤§è§„æ¨¡çš„åˆ†å¸ƒå¼éƒ¨ç½²ï¼ŒåŒæ—¶é›†ä¸­éƒ¨ç½²æ¨¡å¼å¯åŠ é€Ÿç½‘ç»œå’Œå®‰å…¨åŸºç¡€æ¶æ„çš„é…ç½®ï¼Œæé«˜å¯æ‰©å±•æ€§ã€‚&lt;/li&gt;
&lt;li&gt;é€‚åˆäº‘ä¸šåŠ¡ï¼šå¯å®ç°åƒä¸‡çº§åˆ«çš„ç§Ÿæˆ·é—´éš”ç¦»ï¼Œæœ‰åŠ›åœ°æ”¯æŒäº†äº‘ä¸šåŠ¡çš„å¤§è§„æ¨¡éƒ¨ç½²ã€‚&lt;/li&gt;
&lt;li&gt;æŠ€æœ¯ä¼˜åŠ¿ï¼šVXLANåˆ©ç”¨äº†ç°æœ‰é€šç”¨çš„UDPè¿›è¡Œä¼ è¾“ï¼Œæˆç†Ÿæ€§æé«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vxlanç½‘å…³&#34;&gt;VXLANç½‘å…³&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;21&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748495817.png&#34; alt=&#34;VXLANç½‘å…³&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;NVEæ˜¯æœåŠ¡å™¨è™šæ‹ŸåŒ–å±‚çš„ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œè™šæ‹Ÿæœºé€šè¿‡è™šæ‹ŸåŒ–è½¯ä»¶ç›´æ¥å»ºç«‹VTEPéš§é“ã€‚&lt;/li&gt;
&lt;li&gt;NVEä¹Ÿå¯ä»¥æ˜¯ä¸€å°æ”¯æŒVXLANçš„æ¥å…¥äº¤æ¢æœºé›†ä¸­ä¸ºå¤šç§Ÿæˆ·æä¾›VXLANç½‘å…³æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;VXLANç½‘å…³å¯ä»¥å®ç°ä¸åŒVXLANä¸‹ç§Ÿæˆ·é—´é€šä¿¡ï¼Œä¹Ÿèƒ½å®ç°VXLANç”¨æˆ·ä¸éVXLANç”¨æˆ·é—´é€šä¿¡ï¼Œè¿™å’ŒVLANIFæ¥å£çš„åŠŸèƒ½æ˜¯ç±»ä¼¼çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vxlanæŠ¥æ–‡å°è£…&#34;&gt;VXLANæŠ¥æ–‡å°è£…&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;VXLANæ˜¯IETFå®šä¹‰çš„NVO3ï¼ˆNetwork Virtualization over Layer3ï¼‰æ ‡å‡†æŠ€æœ¯ä¹‹ä¸€ã€‚&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨Mac in UDPå°è£…æ–¹å¼å°†äºŒå±‚æŠ¥æ–‡ç”¨ä¸‰å±‚åè®®è¿›è¡Œå°è£…ã€‚&lt;/li&gt;
&lt;li&gt;æ”¯æŒ24bitsçš„VNI ID ï¼Œæ»¡è¶³æ•°æ®ä¸­å¿ƒå¤§äºŒå±‚VMè¿ç§»å’Œå¤šç§Ÿæˆ·çš„éœ€æ±‚ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748576160.png&#34; alt=&#34;VXLANæŠ¥æ–‡å°è£…&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;VXLANå¤´å°è£…ï¼š
&lt;ul&gt;
&lt;li&gt;VNIï¼šVXLANç½‘ç»œæ ‡è¯†ï¼Œ24æ¯”ç‰¹ï¼Œç”¨äºåŒºåˆ†VXLANæ®µã€‚&lt;/li&gt;
&lt;li&gt;Reservedï¼š24æ¯”ç‰¹å’Œ8æ¯”ç‰¹ï¼Œå¿…é¡»è®¾ç½®ä¸º0ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤–å±‚UDPå¤´å°è£…ï¼š
&lt;ul&gt;
&lt;li&gt;ç›®çš„UDPç«¯å£å·æ˜¯4789ã€‚æºç«¯å£å·æ˜¯å†…å±‚ä»¥å¤ªæŠ¥æ–‡å¤´é€šè¿‡å“ˆå¸Œç®—æ³•è®¡ç®—åçš„å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤–å±‚IPå¤´å°è£…ï¼š
&lt;ul&gt;
&lt;li&gt;æºIPåœ°å€ä¸ºå‘é€æŠ¥æ–‡çš„è™šæ‹Ÿæœºæ‰€å±VTEPçš„IPåœ°å€ï¼›ç›®çš„IPåœ°å€æ˜¯ç›®çš„è™šæ‹Ÿæœºæ‰€å±VTEPçš„IPåœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¤–å±‚Ethernetå¤´å°è£…ï¼š
&lt;ul&gt;
&lt;li&gt;SAï¼šå‘é€æŠ¥æ–‡çš„è™šæ‹Ÿæœºæ‰€å±VTEPçš„MACåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;DAï¼šç›®çš„è™šæ‹Ÿæœºæ‰€å±VTEPä¸Šè·¯ç”±è¡¨ä¸­ç›´è¿çš„ä¸‹ä¸€è·³MACåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;VLAN Typeï¼šå¯é€‰å­—æ®µï¼Œå½“æŠ¥æ–‡ä¸­æºå¸¦VLAN Tagæ—¶ï¼Œè¯¥å­—æ®µå–å€¼ä¸º0x8100ã€‚&lt;/li&gt;
&lt;li&gt;Ethernet Typeï¼šä»¥å¤ªæŠ¥æ–‡ç±»å‹ï¼ŒIPåè®®æŠ¥æ–‡è¯¥å­—æ®µå–å€¼ä¸º0x0800ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;vxlanæ•°æ®å°è£…è¿‡ç¨‹&#34;&gt;VXLANæ•°æ®å°è£…è¿‡ç¨‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;22&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748794075.png&#34; alt=&#34;VXLANæ•°æ®å°è£…è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;åŸºäºsdnçš„vxlanåŸºæœ¬ç»„ç½‘&#34;&gt;åŸºäºSDNçš„VXLANåŸºæœ¬ç»„ç½‘&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;23&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592748847613.png&#34; alt=&#34;åŸºäºSDNçš„VXLANåŸºæœ¬ç»„ç½‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€&#34;&gt;å®éªŒä¸€&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;24&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1591583151232.png&#34; alt=&#34;å®éªŒä¸€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;pc1ã€pc2å’Œpc4ã€pc5å®ç°é€šä¿¡ï¼ˆVLAN10ï¼‰ï¼Œpc3å’Œpc6é€šä¿¡ï¼ˆVLAN20ï¼‰&lt;/li&gt;
&lt;li&gt;pc7å’Œpc4ã€pc5é€šä¿¡ï¼Œä½†æ˜¯ä¸èƒ½å’Œpc1å’Œpc2é€šä¿¡&lt;/li&gt;
&lt;li&gt;pc8å’Œpc6é€šä¿¡ï¼Œä½†æ˜¯ä¸èƒ½å’Œpc3é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
sys
sys sw1
vlan batch 10 20 100 200
int g0/0/1
port link tr
port trunk allow vlan 10 20 100 200
port-group group-member g0/0/2 to g0/0/3
port link access
port default vlan 10
q
int g0/0/4
port link access
port default vlan 20
# sw2
sys
sys sw2
vlan batch 10 20 100 200
int g0/0/1
port hybrid tagged vlan 10 20 100 200
int g0/0/2
port hybrid tagged vlan 10 20 100 200
port-group group-member g0/0/3 to g0/0/4
port hybrid untagged vlan 10 100
port hybrid pvid vlan 10
q
int g0/0/5
port hybrid untagged vlan 20 200
port hybrid pvid vlan 20
# sw3
sys
sys sw3
vlan batch 10 20 100 200
int g0/0/1
port link tr
port trunk allow vlan 10 20 100 200
int g0/0/2
port hybrid untagged vlan 10 100
port hybrid pvid vlan 100
int g0/0/3
port hybrid untagged vlan 20 200
port hybrid pvid vlan 200
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒmux-vlan&#34;&gt;å®éªŒäºŒï¼šMux Vlan&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;25&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1591712174048.png&#34; alt=&#34;Mux Vlan&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;vlan50å†…çš„ä¸»æœºå¯ä»¥ç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;vlan60å†…çš„ä¸»æœºä¸èƒ½ç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;vlan50å’Œvlan60å†…çš„æ‰€æœ‰ä¸»æœºå‡å¯ä»¥è®¿é—®vlan100ä¸­çš„pc5&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .............................é…ç½®Mux vlan
vlan batch 50 60 100 #åˆ›å»ºvlan
vlan 100
mux-vlan # é…ç½®ä¸»vlan
subordinate group 50 # é…ç½®mux vlan ä¸­çš„äº’é€šå‹ä»vlan
subordinate separate 60 # é…ç½®mux vlan ä¸­çš„éš”ç¦»å‹ä»vlan
port-group group-member g0/0/1 to g0/0/2
port link access
port default vlan 50
port mux-vlan enable  # ä½¿èƒ½ç«¯å£ä¸‹çš„mux vlanåŠŸèƒ½ï¼šäº’é€šå‹ä»vlan
port-group group-member g0/0/3 to g0/0/4
port link access
port default vlan 60
port mux-vlan enable  # ä½¿èƒ½ç«¯å£ä¸‹çš„mux vlanåŠŸèƒ½ï¼šéš”ç¦»å‹ä»vlan
int g0/0/5
port link access
port default vlan 100
port mux-vlan enable # ä½¿èƒ½ç«¯å£ä¸‹çš„mux vlanåŠŸèƒ½ï¼šä¸»vlan
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰vlanèšåˆå’Œç«¯å£éš”ç¦»&#34;&gt;å®éªŒä¸‰ï¼šVlanèšåˆå’Œç«¯å£éš”ç¦»&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;26&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1591800550861.png&#34; alt=&#34;Vlanèšåˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Vlanèšåˆï¼šæ‰€æœ‰vlanå…±äº«ä¸€ä¸ªç½‘æ®µå…¨ç½‘äº’é€š&lt;/li&gt;
&lt;li&gt;ç«¯å£éš”ç¦»ï¼špc1å’ŒPC2ä¸èƒ½äº’è®¿ï¼ŒPC3å’Œpc4å¯ä»¥äº’è®¿ä¸”å¯ä»¥è®¿é—®PC1å’ŒPC2&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.............................Vlanèšåˆ
# SW1
sys
sys SW1
vlan batch 10 20 100 200
port -group group-member g0/0/2 to g0/0/3
port link acc
port default vlan 10
port -group group-member g0/0/4 to g0/0/5
port link acc
port default vlan 20
q
vlan 100
aggregate-vlan  # Super-VLANç”±å¤šä¸ªSub-VLANç»„æˆï¼Œä¸èƒ½åŠ å…¥ç‰©ç†ç«¯å£ï¼Œä½†å¯ä»¥åˆ›å»ºVLANIFæ¥å£å¹¶é…ç½®IPåœ°å€
access-vlan 10  # å°†å¤šä¸ªSub-VLANæ‰¹é‡åŠ å…¥åˆ°Super-VLANä¸­ï¼Œå¿…é¡»ä¿è¯è¿™äº›Sub-VLANæ²¡æœ‰åˆ›å»ºå¯¹åº”çš„VLANIFæ¥å£
access-vlan 20 
int vlan 100
ip add 10.10.10.1 24
arp-proxy inter-sub-vlan-proxy enable # å¼€å¯vlané—´çš„arpä»£ç†
int vlan 200
ip addr 10.10.200.1 24
int g0/0/1
port default vlan 200
# AR1
sys
sys AR1
int g0/0/0
ip addr 10.10.200.254 24
q
ip route-static 10.10.10.0 24 10.10.200.1
ip route-static 10.10.20.0 24 10.10.200.1
int lo 0
ip addr 8.8.8.8 32
q
ip route-static 0.0.0.0 0 10.10.200.254
#.............................ç«¯å£éš”ç¦»
# SW1
sys
sys SW1
vlan batch 100
port -group group-member g0/0/2 to g0/0/5
port link acc
port default vlan 100
# æ–¹æ³•ä¸€ï¼šæ¥å£ä¸‹é…ç½®
int g0/0/2
port-isolate enable
int g0/0/3
port-isolate enable
# æ–¹æ³•äºŒï¼šé…ç½®éš”ç¦»ç«¯å£ç»„
port-isolate mode all  # å…¨éƒ¨éš”ç¦»ä¸ºall(å³äºŒå±‚ä¸‰å±‚éƒ½éš”ç¦»)ï¼ŒäºŒå±‚éš”ç¦»ä¸ºl2
int g0/0/2
port-isolate enable group 1
int g0/0/3
port-isolate enable group 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››mstp&#34;&gt;å®éªŒå››ï¼šMSTP&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;27&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592231253786.png&#34; alt=&#34;MSTP&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
sys 
sys SW1
vlan batch 1 to 20
port-group gr g0/0/1 to g0/0/3
port link trunk
port tr allow all
stp region-configuration
region-name hcie
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
stp instance 10 root primary
stp instance 11 root secondary
# SW2
sys 
sys SW2
vlan batch 1 to 20
port-group gr g0/0/1 to g0/0/3
port link trunk
port tr allow all
stp region-configuration
region-name hcie
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
stp instance 11 root primary
stp instance 10 root secondary
# SW3
sys 
sys SW3
vlan batch 1 to 20
port-group gr g0/0/1 to g0/0/3
port link trunk
port tr allow all
stp region-configuration
region-name hcie
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration

# SW4
sys 
sys SW4
vlan batch 1 to 20
port-group gr g0/0/1 to g0/0/3
port link trunk
port tr allow all
stp region-configuration
region-name hcie
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäº”mstpåŸŸ&#34;&gt;å®éªŒäº”ï¼šMSTPåŸŸ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;28&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592319405083.png&#34; alt=&#34;MSTPåŸŸ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# SW1
sys
sys SW1
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp root primary # è®¾ç½®ä¸ºæ€»æ ¹
stp region-configuration
region-name qyt
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# SW2
sys
sys SW2
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name qyt
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# SW3
sys
sys SW3
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name qyt
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# ---------------------------
# SW4
sys
sys SW4
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name huawei
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
stp instance 10 root primary
stp instance 11 root secondary
# SW5
sys
sys SW5
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name huawei
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# SW6
sys
sys SW6
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name huawei
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
stp instance 11 root primary
stp instance 10 root secondary
# SW10
sys
sys SW10
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name huawei
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# ------------------------------
# SW7
sys
sys SW7
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name cisco
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# SW8
sys
sys SW8
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name cisco
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
# SW9
sys
sys SW9
vlan batch 1 to 20
port-group group-member g0/0/1 to g0/0/4
port link trunk
port tr allow vlan all
stp region-configuration
region-name cisco
revision-level 10
instance 10 vlan 1 to 10
instance 11 vlan 11 to 20
active region-configuration
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…­bfd&#34;&gt;å®éªŒå…­ï¼šBFD&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;29&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592719051176.png&#34; alt=&#34;BFD&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# BFDå’Œé™æ€è”åŠ¨
# AR1
bfd
bfd qyt bind peer-ip 12.1.1.2 interface GigabitEthernet0/0/0 source-ip 12.1.1.1 auto
commit
ip route-static 100.100.100.100 255.255.255.255 12.1.1.2 track bfd-session qyt
# AR2
bfd
bfd qyt bind peer-ip 12.1.1.1 interface GigabitEthernet0/0/0 source-ip 12.1.1.2 auto
commit

# BFDçš„å•è‡‚å›å£°
# å³å•å‘æ£€æµ‹ï¼Œåº”ç”¨äºä¸€ç«¯è®¾å¤‡ä¸æ”¯æŒBFDçš„æƒ…å†µä¸‹
# AR1
bfd
bfd qyt bind peer-ip 12.1.1.2 interface GigabitEthernet0/0/0 source-ip 12.1.1.1 one-arm-echo
discriminator local 1
commit
ip route-static 100.100.100.100 255.255.255.255 12.1.1.2 track bfd-session qyt

# BFDå’ŒOSPFè”åŠ¨
# AR1
bfd
q
ospf 10 router-id 1.1.1.1 
bfd all-interfaces enable
# AR2
bfd
q
ospf 10 router-id 2.2.2.2
bfd all-interfaces enable

# BFDå’ŒBGPè”åŠ¨
# AR1
bfd
q
bgp 100
router-id 1.1.1.1
peer 2.2.2.2 as-number 100
peer 2.2.2.2 connect-interface lo 0
peer 2.2.2.2 bfd enable
# AR2
bfd
q
bgp 100
router-id 2.2.2.2
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface lo 0
peer 1.1.1.1 bfd enable
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;30&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592720892915.png&#34; alt=&#34;BFDå’ŒVRRPè”åŠ¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# BFDå’ŒVRRPè”åŠ¨
# æ¥å£æ–­æ‰ä¹‹åä¼˜å…ˆçº§å‡30
# AR1
sys
sys AR1
int g0/0/1
ip addr 14.1.1.1 24
int g0/0/0
ip addr 192.168.10.1 24
vrrp vrid 10 virtual-ip 192.168.10.254
vrrp vrid 10 priority 120
vrrp vrid 10 preempt-mode timer delay 10
ospf 10 router 1.1.1.1
area 0
network 192.168.10.1 0
network 14.1.1.1 0
q
silent-interface g0/0/0
bfd qyt bind peer-ip 14.1.1.4 interface GigabitEthernet0/0/1 source-ip 14.1.1.1 auto
q
int g0/0/0
vrrp vrid 10 track bfd-session session-name qyt reduced 30

# AR2
sys
sys AR2
int g0/0/1
ip addr 24.1.1.2 24
int g0/0/0
ip addr 192.168.10.2 24
vrrp vrid 10 virtual-ip 192.168.10.254
vrrp vrid 10 preempt-mode timer delay 10
ospf 10 router 2.2.2.2
area 0
network 192.168.10.2 0
network 24.1.1.2 0
q
silent-interface g0/0/0

# AR4
int g0/0/0
ip addr 14.1.1.4 24
int g0/0/1
ip addr 24.1.1.4 24
int lo 0
ip addr 8.8.8.8 32
ospf 10 router 4.4.4.4
area 0
network 8.8.8.8
network 24.1.1.4 0
network 14.1.1.4 0
bfd qyt bind peer-ip 14.1.1.1 interface GigabitEthernet0/0/0 source-ip 14.1.1.4 auto
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸ƒç«¯å£é•œåƒ&#34;&gt;å®éªŒä¸ƒï¼šç«¯å£é•œåƒ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;31&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1592727706876.png&#34; alt=&#34;ç«¯å£é•œåƒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆå§‹åŒ–å‘¢é…ç½®
# AR1
sys
sys AR1
int g0/0/0
ip addr 192.168.10.1 24
int g0/0/1
ip addr 12.1.1.1 24
int g0/0/2
ip addr 192.168.30.1 24
int g1/0/0
ip addr 192.168.20.1 24
ospf 10 route 1.1.1.1
a 0
network 192.168.0.0 0.0.255.255
q
silent-interface g0/0/0
silent-interface g1/0/0
silent-interface g0/0/2
# SW1/2
stp disable
# AR2
sys
sys AR2
int g0/0/0
ip addr 12.1.1.2 24
int lo 0
ip addr 8.8.8.8 32
ospf 10 route 2.2.2.2
a 0
network 8.8.8.8 0
# é•œåƒç«¯å£é…ç½®
# å°†AR1çš„g0/0/0ä¸ºé•œåƒç«¯å£ï¼Œg0/0/2ä¸ºè§‚å¯Ÿç«¯å£
# AR1
observe-port int g0/0/2ã€€# é¦–å…ˆéœ€è¦é…ç½®è§‚å¯Ÿç«¯å£
# è·¨è·¯ç”±å™¨æˆ–äº¤æ¢æœºé…ç½®è§‚å¯Ÿç«¯å£ï¼šobserve-server destination-ip 2.2.2.2 source-ip 1.1.1.1
######## ç›‘æ§g0/0/0ä¸Šçš„å…¨éƒ¨æµé‡
int g0/0/0  # é…ç½®é•œåƒç«¯å£
mirror to observe-port both  # [both/inbound/outbound]
######## é’ˆå¯¹ç‰¹å®šæµé‡ç›‘æ§ï¼Œåªç›‘æ§PC1çš„æµé‡
acl 2001
rule permit source 192.168.10.10 0
q
traffic classifier C1
if-match acl 2001
q
traffic behavior B1
mirror to observe-port 
q
traffic policy P1
classifier C1 behavior B1
int g0/0/0
traffic-policy P1 inbound
&lt;/code&gt;&lt;/pre&gt;
">07 äº¤æ¢ï¼ˆ2020.0601ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/chang-yong-yum-yuan-zheng-li/"" data-c="
          &lt;h1 id=&#34;rpmåŒ…å¸¸ç”¨ä¸‹è½½åœ°å€&#34;&gt;rpmåŒ…å¸¸ç”¨ä¸‹è½½åœ°å€&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://centos.pkgs.org/&#34;&gt;https://centos.pkgs.org/&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://rpmfind.net/&#34;&gt;https://rpmfind.net/&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://dl.fedoraproject.org/pub/&#34;&gt;https://dl.fedoraproject.org/pub/&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://mirrors.tuna.tsinghua.edu.cn/apache/&#34;&gt;https://mirrors.tuna.tsinghua.edu.cn/apache/&lt;/a&gt;ï¼štomcatã€hadoopã€kafkaç­‰&lt;/p&gt;
&lt;h1 id=&#34;yumé…ç½®æ–‡ä»¶&#34;&gt;yumé…ç½®æ–‡ä»¶&lt;/h1&gt;
&lt;h2 id=&#34;developmentrepo&#34;&gt;development.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[base]
name=CentOS-$releasever - Base
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/os/$basearch/
enabled=1
gpgcheck=0

[updates]
name=CentOS-$releasever - Updates
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/updates/$basearch/
enabled=1
gpgcheck=0

[extras]
name=CentOS-$releasever - Extras
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/extras/$basearch/
enabled=1
gpgcheck=0

[centosplus]
name=CentOS-$releasever - Plus
baseurl=https://mirrors.tuna.tsinghua.edu.cn/centos/$releasever/centosplus/$basearch/
gpgcheck=0
enabled=1
 
[epel]
name=Extra Packages for Enterprise Linux 7 - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/$basearch
enabled=1
gpgcheck=0

[epel-debuginfo]
name=Extra Packages for Enterprise Linux 7 - $basearch - Debug
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/$basearch/debug
enabled=1
gpgcheck=0

[epel-source]
name=Extra Packages for Enterprise Linux 7 - $basearch - Source
baseurl=http://download.fedoraproject.org/pub/epel/$releasever/SRPMS
enabled=1
gpgcheck=0

[epel-testing]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/$basearch
enabled=1
gpgcheck=0

[epel-testing-debuginfo]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Debug
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/$basearch/debug
enabled=1
gpgcheck=0

[epel-testing-source]
name=Extra Packages for Enterprise Linux 7 - Testing - $basearch - Source
baseurl=http://download.fedoraproject.org/pub/epel/testing/$releasever/SRPMS
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;phprepo&#34;&gt;php.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[webtatic]
name=Webtatic Repository EL7 - $basearch
baseurl=https://repo.webtatic.com/yum/el7/$basearch/
enabled=1
gpgcheck=0

[webtatic-debuginfo]
name=Webtatic Repository EL7 - $basearch - Debug
baseurl=https://repo.webtatic.com/yum/el7/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-source]
name=Webtatic Repository EL7 - $basearch - Source
baseurl=https://repo.webtatic.com/yum/el7/SRPMS/
enabled=1
gpgcheck=0

[webtatic-archive]
name=Webtatic Repository EL7 - $basearch - Archive
baseurl=https://repo.webtatic.com/yum/el7-archive/$basearch/
enabled=1
gpgcheck=0

[webtatic-archive-debuginfo]
name=Webtatic Repository EL7 - $basearch - Archive Debug
baseurl=https://repo.webtatic.com/yum/el7-archive/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-archive-source]
name=Webtatic Repository EL7 - $basearch - Archive Source
baseurl=https://repo.webtatic.com/yum/el7-archive/SRPMS/
enabled=1
gpgcheck=0

[webtatic-testing]
name=Webtatic Repository EL7 - $basearch - Testing
baseurl=https://repo.webtatic.com/yum/el7-testing/$basearch/
enabled=1
gpgcheck=0

[webtatic-testing-debuginfo]
name=Webtatic Repository EL7 - $basearch - Testing Debug
baseurl=https://repo.webtatic.com/yum/el7-testing/$basearch/debug/
enabled=1
gpgcheck=0

[webtatic-testing-source]
name=Webtatic Repository EL7 - $basearch - Testing Source
baseurl=https://repo.webtatic.com/yum/el7-testing/SRPMS/
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;nginxrepo&#34;&gt;nginx.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;mariadbrepo&#34;&gt;mariadb.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¦‚æœéœ€è¦å…¶ä»–ç‰ˆæœ¬ï¼Œåˆ™åˆ°https://mirrors.ustc.edu.cn/mariadb/yum/ä¸Šé€‰æ‹©æƒ³è¦çš„ç‰ˆæœ¬ç”Ÿæˆrepoæ–‡ä»¶å†…å®¹
[mariadb]
name = MariaDB
baseurl = https://mirrors.ustc.edu.cn/mariadb/yum/10.5/centos74-amd64/
enabled=1
gpgcheck=0
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;onlyofficerepo&#34;&gt;onlyoffice.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[onlyoffice]
name=onlyoffice repo
baseurl=http://download.onlyoffice.com/repo/centos/main/noarch/
gpgcheck=0
enabled=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;dockerrepo&#34;&gt;docker.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[docker-ce-stable]
name=Docker CE Stable - $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/$basearch/stable
enabled=1
gpgcheck=0

[docker-ce-stable-debuginfo]
name=Docker CE Stable - Debuginfo $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/debug-$basearch/stable
enabled=0
gpgcheck=0

[docker-ce-stable-source]
name=Docker CE Stable - Sources
baseurl=https://download.docker.com/linux/centos/$releasever/source/stable
enabled=1
gpgcheck=0

[docker-ce-test]
name=Docker CE Test - $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/$basearch/test
enabled=1
gpgcheck=0

[docker-ce-test-debuginfo]
name=Docker CE Test - Debuginfo $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/debug-$basearch/test
enabled=1
gpgcheck=0

[docker-ce-test-source]
name=Docker CE Test - Sources
baseurl=https://download.docker.com/linux/centos/$releasever/source/test
enabled=1
gpgcheck=0

[docker-ce-nightly]
name=Docker CE Nightly - $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/$basearch/nightly
enabled=1
gpgcheck=0

[docker-ce-nightly-debuginfo]
name=Docker CE Nightly - Debuginfo $basearch
baseurl=https://download.docker.com/linux/centos/$releasever/debug-$basearch/nightly
enabled=1
gpgcheck=0

[docker-ce-nightly-source]
name=Docker CE Nightly - Sources
baseurl=https://download.docker.com/linux/centos/$releasever/source/nightly
enabled=1
gpgcheck=0

[libnvidia-container]
name=libnvidia-container
baseurl=https://nvidia.github.io/libnvidia-container/centos7/$basearch
gpgcheck=0
enabled=1

[nvidia-container-runtime]
name=nvidia-container-runtime
baseurl=https://nvidia.github.io/nvidia-container-runtime/centos7/$basearch
gpgcheck=0
enabled=1

[nvidia-docker]
name=nvidia-docker
baseurl=https://nvidia.github.io/nvidia-docker/centos7/$basearch
gpgcheck=0
enabled=1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ffmpegrepo&#34;&gt;ffmpeg.repo&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[ffmpeg]
name=ffmpeg
baseurl=http://mirror.bjtu.edu.cn/rpmfusion/free/el/updates/7/x86_64/
enable=1
gpgcheck=0

&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ•´ç†-éœ€è¦ä¸‹è½½èµ„æº&#34;&gt;æ•´ç†--éœ€è¦ä¸‹è½½èµ„æº&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;https://mirrors.tuna.tsinghua.edu.cn/centos/7.8.2003/centosplus/x86_64/
https://mirrors.tuna.tsinghua.edu.cn/centos/7.8.2003/extras/x86_64/
https://mirrors.tuna.tsinghua.edu.cn/centos/7.8.2003/updates/x86_64/
https://mirrors.tuna.tsinghua.edu.cn/centos/7.8.2003/os/x86_64/
https://mirrors.tuna.tsinghua.edu.cn/epel/7/x86_64/
https://mirrors.tuna.tsinghua.edu.cn/epel/testing/7/x86_64/
https://repo.webtatic.com/yum/el7/x86_64/
https://repo.webtatic.com/yum/el7/SRPMS/
http://archive.webtatic.com/yum/el7-archive/
https://repo.webtatic.com/yum/el7-testing/
http://download.onlyoffice.com/ #æ— æ³•ç”¨çˆ¬è™«ï¼Œä½†å¯ç”¨wgetï¼Œæ–‡ä»¶&amp;quot;onlyofficeä¸‹è½½å‘½ä»¤.txt&amp;quot;
http://nginx.org/packages/centos/7Workstation/x86_64/
http://nginx.org/packages/centos/7Server/x86_64/
http://nginx.org/packages/centos/7Client/x86_64/
http://nginx.org/packages/centos/7/x86_64/
http://nginx.org/packages/mainline/centos/7Workstation/x86_64/
http://nginx.org/packages/mainline/centos/7Server/x86_64/
http://nginx.org/packages/mainline/centos/7Client/x86_64/
http://nginx.org/packages/mainline/centos/7/x86_64/
&lt;/code&gt;&lt;/pre&gt;
">å¸¸ç”¨yumæºæ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/06-ipv620200523/"" data-c="
          &lt;h1 id=&#34;ipv6åŸç†æè¿°&#34;&gt;IPv6åŸç†æè¿°&lt;/h1&gt;
&lt;h2 id=&#34;ipv6åŸºç¡€æè¿°&#34;&gt;IPv6åŸºç¡€æè¿°&lt;/h2&gt;
&lt;h3 id=&#34;ipv6ç‰¹ç‚¹&#34;&gt;IPv6ç‰¹ç‚¹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åœ°å€ç©ºé—´å¤§ï¼ŒIPv4æ˜¯32ä½ï¼Œè€ŒIPv6æ˜¯128ä½&lt;/li&gt;
&lt;li&gt;æ”¯æŒåˆ†å±‚ç»“æ„&lt;/li&gt;
&lt;li&gt;æ— éœ€NATæŠ€æœ¯ï¼Œæ›´æœ‰åˆ©äºå¯»å€&lt;/li&gt;
&lt;li&gt;æ”¯æŒå•æ’­ã€ç»„æ’­å’Œä»»æ„æ’­ï¼ˆç‰¹æ®Šå•æ’­ï¼‰ ï¼Œå–æ¶ˆäº†å¹¿æ’­&lt;/li&gt;
&lt;li&gt;å¯ä»¥å®ç°æ— çŠ¶æ€çš„é…ç½®ï¼ˆEUI64ï¼‰&lt;/li&gt;
&lt;li&gt;ç®€åŒ–äº†æŠ¥æ–‡æ ¼å¼&lt;/li&gt;
&lt;li&gt;åŠ å¼ºäº†æ‰©å±•æŠ¥æ–‡å¤´éƒ¨çš„æ”¯æŒ&lt;/li&gt;
&lt;li&gt;æµæ ‡ç­¾ï¼Œæ¯”ç”¨äº”å…ƒç»„å®šä¹‰æµæ›´åŠ æ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;è®¤è¯ ipsec&lt;/li&gt;
&lt;li&gt;å¯¹ç§»åŠ¨ç½‘ç»œçš„æ”¯æŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ipv6åœ°å€è¡¨ç¤ºæ–¹æ³•&#34;&gt;IPv6åœ°å€è¡¨ç¤ºæ–¹æ³•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;IPv6åœ°å€åŒ…æ‹¬128æ¯”ç‰¹ï¼Œç”±å†’å·åˆ†å‰²æˆ8æ®µï¼Œæ¯æ®µ4ä¸ª16è¿›åˆ¶æ•°ï¼Œä¾‹å¦‚ï¼š2031:0000:130F:0000:0000:09C0:876A:130B&lt;/li&gt;
&lt;li&gt;IPv6å‹ç¼©æ ¼å¼
&lt;ul&gt;
&lt;li&gt;æ¯ç»„ä¸­çš„å‰å¯¼â€œ0â€éƒ½å¯ä»¥çœç•¥ï¼Œä¾‹å¦‚ï¼š2031:0:130F:0:0:9C0:876A:130B&lt;/li&gt;
&lt;li&gt;åœ°å€ä¸­åŒ…å«çš„è¿ç»­ä¸¤ä¸ªæˆ–å¤šä¸ªå‡ä¸º0çš„ç»„ï¼Œå¯ä»¥ç”¨åŒå†’å·â€œ::â€æ¥ä»£æ›¿ï¼ˆ&lt;strong&gt;ä¸€ä¸ªåœ°å€ä¸­ä»…èƒ½ä½¿ç”¨ä¸€æ¬¡&lt;/strong&gt;ï¼‰ï¼Œä¾‹å¦‚ï¼š2031:0:130F::9C0:876A:130B&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ipv6åœ°å€ç»“æ„&#34;&gt;IPv6åœ°å€ç»“æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;IPv6åœ°å€åˆ†ä¸¤éƒ¨åˆ†
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œå‰ç¼€ï¼Œnæ¯”ç‰¹ï¼Œç›¸å½“äºIPv4ä¸­çš„ç½‘ç»œID&lt;/li&gt;
&lt;li&gt;æ¥å£æ ‡è¯†ï¼Œ128-næ¯”ç‰¹ç›¸å½“äºIPv4ä¸­çš„ä¸»æœºID&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¥å£æ ‡è¯†ç”Ÿæˆæ–¹æ³•
&lt;ul&gt;
&lt;li&gt;æ‰‹å·¥é…ç½®&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿé€šè¿‡è½¯ä»¶è‡ªåŠ¨ç”Ÿæˆ&lt;/li&gt;
&lt;li&gt;IEEE EUI-64è§„èŒƒè‡ªåŠ¨ç”Ÿæˆï¼ˆä¾æ®MACåœ°å€ç”Ÿæˆï¼‰
&lt;ol&gt;
&lt;li&gt;å°†MACåœ°å€ä¸­é—´æ’å…¥FFFEï¼Œä¾‹å¦‚ï¼š00e0-fc4c-5103è½¬æ¢æˆ00e0-fc&lt;strong&gt;ff-fe&lt;/strong&gt;4c-5103&lt;/li&gt;
&lt;li&gt;å°†ç¬¬ä¸ƒä½ç”±0å˜ä¸º1ï¼Œè¡¨ç¤ºè¯¥æ¥å£æ ‡è¯†æ˜¯å…¨çƒå”¯ä¸€ï¼Œä¾‹å¦‚&lt;br&gt;
00e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 00000000-e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 000000&lt;strong&gt;1&lt;/strong&gt;0-e0-fcff-fe4c-5103&lt;br&gt;
-----&amp;gt; 02e0:fcff:fe4c:5103&lt;br&gt;
-----&amp;gt; &lt;strong&gt;2001:12:12:12&lt;/strong&gt;:2E0:FCFF:FE4C:5103&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ipv6é…ç½®&#34;&gt;IPv6é…ç½®&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç¬¬ä¸€æ­¥ï¼šå…¨å±€ä½¿èƒ½IPv6
ipv6 
# ç¬¬äºŒæ­¥ï¼šæ¥å£ä½¿èƒ½IPv6
int g0/0/0
ipv6 enable 
ipv6 address 2001:12:12:12::/64 eui-64
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;å¯¹äºIPv6å•æ’­åœ°å€æ¥è¯´ï¼Œå¦‚æœåœ°å€çš„å‰3æ¯”ç‰¹ä¸æ˜¯000ï¼Œåˆ™æ¥å£æ ‡è¯†å¿…é¡»ä¸º64ä½ï¼›å¦‚æœåœ°å€çš„å‰3ä½æ˜¯000ï¼Œåˆ™æ²¡æœ‰æ­¤é™åˆ¶&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ipv6åœ°å€åˆ†ç±»&#34;&gt;IPv6åœ°å€åˆ†ç±»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590421077406.png&#34; alt=&#34; IPv6åœ°å€åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å•æ’­åœ°å€unicast-address&#34;&gt;å•æ’­åœ°å€ï¼ˆUnicast Addressï¼‰&lt;/h4&gt;
&lt;p&gt;æ ‡è¯†ä¸€ä¸ªæ¥å£ï¼Œç›®çš„åœ°å€ä¸ºå•æ’­åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ¥å£ã€‚åœ¨IPv6ä¸­ï¼Œä¸€ä¸ªæ¥å£æ‹¥æœ‰å¤šä¸ªIPv6åœ°å€æ˜¯éå¸¸å¸¸è§çš„ç°è±¡ã€‚&lt;/p&gt;
&lt;h5 id=&#34;å¯èšåˆå…¨çƒå•æ’­åœ°å€&#34;&gt;å¯èšåˆå…¨çƒå•æ’­åœ°å€&lt;/h5&gt;
&lt;p&gt;å…¨çƒå•æ’­åœ°å€å®šä¹‰ç”¨äºIPv6 Internetï¼Œæ˜¯å…¨å±€å”¯ä¸€çš„å’Œå…¨å±€å¯è·¯ç”±çš„&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590501843637.png&#34; alt=&#34;å¯èšåˆå…¨çƒå•æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼IPv4çš„å…¬ç½‘åœ°å€&lt;/li&gt;
&lt;li&gt;ç”±å‰ç¼€ã€å­ç½‘IDå’Œæ¥å£æ ‡è¯†ç»„æˆ
&lt;ul&gt;
&lt;li&gt;å…¨å±€è·¯ç”±å‰ç¼€ï¼šç”±æä¾›å•†æŒ‡å®šç»™ä¸€ä¸ªç»„ç»‡æœºæ„ï¼Œä¸€èˆ¬è‡³å°‘ä¸º48bitã€‚ç›®å‰å·²ç»åˆ†é…çš„å…¨å±€è·¯ç”±å‰ç¼€çš„å‰3bitå‡ä¸º001,å› æ­¤å‰ç¼€ä¸º2000::/3&lt;/li&gt;
&lt;li&gt;å­ç½‘ï¼šç»„ç»‡æœºæ„å¯ä»¥ç”¨å­ç½‘IDæ¥æ„å»ºæœ¬åœ°ç½‘ç»œï¼ˆSiteï¼‰ï¼Œä¸IPv4ä¸­çš„å­ç½‘å·ä½œç”¨ç›¸ä¼¼ã€‚å­ç½‘IDé€šå¸¸&lt;strong&gt;æœ€å¤šåˆ†é…åˆ°ç¬¬64ä½&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»æœºä½ï¼šç”¨æ¥æ ‡è¯†ä¸€ä¸ªè®¾å¤‡ï¼Œä¸IPv4ä¸­çš„ä¸»æœºIDä½œç”¨ç›¸ä¼¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;é“¾è·¯æœ¬åœ°åœ°å€&#34;&gt;é“¾è·¯æœ¬åœ°åœ°å€&lt;/h5&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨IPv6åè®®æ ˆæ—¶ï¼ŒèŠ‚ç‚¹çš„æ¯ä¸ªæ¥å£ä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€ï¼Œè¯¥åœ°å€ä¸“é—¨ç”¨æ¥å’Œç›¸åŒé“¾è·¯ä¸Šçš„å…¶ä»–ä¸»æœºé€šä¿¡&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590502600240.png&#34; alt=&#34;é“¾è·¯æœ¬åœ°åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªèƒ½åœ¨è¿æ¥åˆ°åŒä¸€ä¸ªæœ¬åœ°é“¾è·¯çš„èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ï¼Œå¹¿æ³›åº”ç”¨äºé‚»å±…å‘ç°ã€æ— çŠ¶æ€åœ°å€ç­‰&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°åœ°å€å‰ç¼€FE80::/10ï¼Œå°†æ¥å£IDæ·»åŠ åœ¨åé¢ä½œä¸ºåœ°å€çš„ä½64ä½&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªIPv6æ¥å£éƒ½å¿…é¡»å…·å¤‡ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å”¯ä¸€æœ¬åœ°åœ°å€&#34;&gt;å”¯ä¸€æœ¬åœ°åœ°å€&lt;/h5&gt;
&lt;p&gt;ä¸ºäº†ä»£æ›¿ç«™ç‚¹æœ¬åœ°åœ°å€çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¸ºäº†è¿™æ ·çš„åœ°å€å…·æœ‰å”¯ä¸€æ€§ï¼Œé¿å…äº§ç”ŸåƒIPv4çš„ç§æœ‰åœ°å€æ³„éœ²åˆ°å…¬ç½‘è€Œé€ æˆçš„é—®é¢˜ï¼ŒRFC4193å®šä¹‰äº†å”¯ä¸€æœ¬åœ°åœ°å€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590503134885.png&#34; alt=&#34;å”¯ä¸€æœ¬åœ°åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¦‚å¿µä¸Šç±»ä¼¼äºIPv4çš„ç§ç½‘åœ°å€ï¼Œä»…èƒ½å¤Ÿåœ¨æœ¬åœ°ç½‘ç»œä½¿ç”¨ï¼Œåœ¨IPv6 Internetä¸Šä¸å¯è¢«è·¯ç”±&lt;/li&gt;
&lt;li&gt;å›ºå®šå‰ç¼€ä¸ºFC00::/7ï¼Œåˆ†ä¸ºä¸¤å—ï¼Œå…¶ä¸­FC00::/8æš‚æœªå®šä¹‰ï¼Œå¦ä¸€å—æ˜¯FD00::/8ï¼Œå…¶æ ¼å¼å¦‚ä¸Šå›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  è‡ªåŠ¨ç”ŸæˆIPv6é“¾è·¯æœ¬åœ°åœ°å€ï¼Œæ€ç§‘åªè¦å¼€å¯äº†IPv6åŠŸèƒ½ ï¼Œå°±ä¼šè‡ªåŠ¨ è‡ªæˆ 
interface GigabitEthernet0/0/0
ipv6 enable 
ipv6 address auto link-local     
# æ‰‹å·¥é…ç½®IPv6é“¾è·¯æœ¬åœ°åœ°å€
interface GigabitEthernet0/0/0
ipv6 enable 
ipv6 address FE80:1::1 link-local  
# ping
ping ipv6  FE80::2E0:FCFF:FE56:2BF9 -i g0/0/0
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç»„æ’­åœ°å€multicast-address&#34;&gt;ç»„æ’­åœ°å€ï¼ˆMulticast Addressï¼‰&lt;/h4&gt;
&lt;p&gt;æ ‡è¯†å¤šä¸ªæ¥å£ï¼Œç›®çš„åœ°å€ä¸ºç»„æ’­åœ°å€çš„æŠ¥æ–‡ä¼šè¢«é€åˆ°è¢«æ ‡è¯†çš„æ‰€æœ‰æ¥å£ã€‚åªæœ‰åŠ å…¥ç›¸åº”ç»„æ’­ç»„çš„è®¾å¤‡æ¥å£æ‰ä¼šä¾¦å¬å‘å¾€è¯¥ç»„æ’­åœ°å€çš„æŠ¥æ–‡ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590504106960.png&#34; alt=&#34; ç»„æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼IPv4ç»„æ’­åœ°å€&lt;/li&gt;
&lt;li&gt;ç”±å‰ç¼€ã€æ ‡å¿—ï¼ˆflagï¼‰å­—æ®µã€èŒƒå›´(scope)å­—æ®µå’Œç»„æ’­ç»„IDç»„æˆ
&lt;ul&gt;
&lt;li&gt;Flagsï¼š
&lt;ul&gt;
&lt;li&gt;å‰3ä½è®¾ä¸º0&lt;/li&gt;
&lt;li&gt;æœ€åä¸€ä½å®šä¹‰åœ°å€ç±»å‹
&lt;ul&gt;
&lt;li&gt;0=å›ºå®šæˆ–ä¼—æ‰€å‘¨çŸ¥&lt;/li&gt;
&lt;li&gt;1=æœ¬åœ°åˆ†é…æˆ–çŸ­æœŸ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Scopeï¼šè¡¨ç¤ºç»„æ’­ç»„çš„èŒƒå›´
&lt;ul&gt;
&lt;li&gt;æ­¤å­—æ®µé•¿åº¦ä¸º4ä½ï¼Œé™¤äº†ä½¿ç”¨ç»„æ’­è·¯ç”±åè®®æä¾›ä¿¡æ¯å¤–ï¼Œè·¯ç”±å™¨è¿˜è¦ä½¿ç”¨ç»„æ’­èŒƒå›´æ®µæ¥åˆ¤å®šç»„æ’­æµé‡èƒ½å¦å‘é€å‡ºå»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590504746433.png&#34; alt=&#34;Scope&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Group IDï¼šç»„æ’­ç»„ID
&lt;ul&gt;
&lt;li&gt;ç”¨äºæ ‡è¯†ç»„æ’­ç»„ï¼Œè¿™ä¸ªå€¼åœ¨åœ°å€èŒƒå›´å†…æ˜¯å”¯ä¸€çš„ï¼Œæ­¤å­—æ®µçš„é•¿åº¦ä¸º112ä½ã€‚å…¶ä¸­ï¼Œæ°¸ä¹…åˆ†é…çš„ç»„IDä¸æ”¶å½“å‰èŒƒå›´çš„é™åˆ¶ï¼Œè€Œä¸´æ—¶ç»„IDåªèƒ½åœ¨æŸä¸ªç‰¹å®šçš„èŒƒå›´å†…æœ‰æ„ä¹‰ã€‚è€ŒFF01::åˆ°FF0F::çš„ç»„æ’­åœ°å€æ•°æ®ä¿ç•™åœ°å€æ®µï¼Œè€Œä¸”ä¹Ÿæ˜¯æ°¸ä¹…ç»„æ’­åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¢„å®šä¹‰ç»„æ’­åœ°å€
&lt;ul&gt;
&lt;li&gt;Node-local
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ï¼šFF01:0:0:0:0:0:0:1ï¼ˆç±»ä¼¼224.0.0.1ï¼‰&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ï¼šFF01:0:0:0:0:0:0:2ï¼ˆç±»ä¼¼224.0.0.2ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Link-local
&lt;ul&gt;
&lt;li&gt;æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:1&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:2&lt;/li&gt;
&lt;li&gt;Solicited-Nodeç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:1:FFXX:XXXX è¢«è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼Œç±»ä¼¼ARP&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰OSPFè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:5&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰OSPFçš„DRè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:6&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰RIPè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:9&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰PIMè·¯ç”±å™¨ç»„æ’­åœ°å€ï¼šFF02:0:0:0:0:0:0:D&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç»„æ’­åœ°å€çš„macåœ°å€æ˜ å°„&#34;&gt;ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590505247365.png&#34; alt=&#34;ç»„æ’­åœ°å€çš„MACåœ°å€æ˜ å°„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œä¸€ä¸ªç»„æ’­IPv6æŠ¥æ–‡å¿…é¡»æ‰§è¡Œä»¥å¤ªç½‘å°è£…&lt;/li&gt;
&lt;li&gt;ç»„æ’­IPv6æŠ¥æ–‡çš„ç›®çš„IPåœ°å€æ˜¯ç»„æ’­IPv6åœ°å€ï¼Œè€Œç›®çš„macåœ°å€åˆ™å¿…é¡»æ˜¯ç»„æ’­macåœ°å€ï¼Œå¹¶ä¸”è¯¥åœ°å€å¿…é¡»ä¸ç»„æ’­IPv6åœ°å€å¯¹åº”&lt;/li&gt;
&lt;li&gt;33-33æ˜¯ä¸“é—¨ä¸ºIPv6ç»„æ’­é¢„ç•™çš„macåœ°å€å‰ç¼€ï¼Œmacåœ°å€çš„å32bitä»å¯¹åº”çš„ç»„æ’­IPv6åœ°å€çš„å32bitå¤åˆ¶è€Œæ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€solicited-node&#34;&gt;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼ˆSolicited-Nodeï¼‰&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590505839548.png&#34; alt=&#34;è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IPv6ä¸­ç‰¹æœ‰çš„ç»„æ’­åœ°å€
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹å¿…é¡»ä¸ºåˆ†é…ç»™ä»–çš„æ¯ä¸ªå•æ’­å’Œä»»æ’­åœ°å€åŠ å…¥ä¸€ä¸ªç»„æ’­åœ°å€ï¼Œç”¨äºDADåœ°å€é‡å¤æ£€æµ‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Solicited-Nodeç»„æ’­åœ°å€ç”Ÿæˆè¿‡ç¨‹
&lt;ul&gt;
&lt;li&gt;æ¥å£ID(æ¥å£IPv6åœ°å€)çš„å24ä½ï¼šxx:xxxx&lt;/li&gt;
&lt;li&gt;å‰ç¼€ï¼šFF02:0:0:0:0:1:FFï¼Œä¾‹å¦‚ä¸»æœºçš„macåœ°å€ä¸º00-02-b3-&lt;strong&gt;1e-83-29&lt;/strong&gt;ï¼ŒIPv6åœ°å€ä¸ºfe80::0202:b3ff:fe&lt;strong&gt;1e:8329&lt;/strong&gt;ï¼Œåˆ™è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ä¸ºå‘ff02::1:ff&lt;strong&gt;1e:8329&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä»»æ’­åœ°å€anycast-address&#34;&gt;ä»»æ’­åœ°å€ï¼ˆAnycast Addressï¼‰&lt;/h4&gt;
&lt;p&gt;ä»»æ’­åœ°å€æ ‡è¯†ä¸€ç»„ç½‘ç»œæ¥å£ï¼ˆé€šå¸¸å±äºä¸åŒçš„èŠ‚ç‚¹ï¼‰ã€‚ç›®æ ‡åœ°å€æ˜¯ä»»æ’­åœ°å€çš„æ•°æ®åŒ…å°†å‘é€ç»™å…¶ä¸­è·¯ç”±æ„ä¹‰ä¸Šæœ€è¿‘çš„ä¸€ä¸ªç½‘ç»œæ¥å£ã€‚ä»»æ’­åœ°å€ä¸å•æ’­åœ°å€ä½¿ç”¨åŒä¸€ä¸ªåœ°å€ç©ºé—´&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®ä»»æ’­åœ°å€
ipv6 address 2001:12:1::1/64 anycast   
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ä»»æ’­åœ°å€å’Œå•æ’­åœ°å€ä½¿ç”¨ç›¸åŒçš„åœ°å€ç©ºé—´&lt;/li&gt;
&lt;li&gt;ä»»æ’­åœ°å€åªå¯ä»¥è¢«åˆ†é…ç»™è·¯ç”±è®¾å¤‡ï¼Œä¸èƒ½åº”ç”¨äºä¸»æœºï¼Œä¸èƒ½åšä¸ºIPv6æŠ¥æ–‡çš„æºåœ°å€&lt;/li&gt;
&lt;li&gt;é…ç½®æ—¶éœ€æ˜ç¡®è¡¨ç¤ºä»»æ’­åœ°å€ï¼Œç”¨æ¥åŒºåˆ«å•æ’­å’Œä»»æ’­&lt;/li&gt;
&lt;li&gt;å­ç½‘è·¯ç”±å™¨ä»»æ’­åœ°å€
&lt;ul&gt;
&lt;li&gt;å‘é€åˆ°å­ç½‘è·¯ç”±å™¨ä»»æ’­åœ°å€çš„æŠ¥æ–‡ä¼šè¢«å‘é€åˆ°è¯¥åœ°å€æ ‡è¯†çš„å­ç½‘ä¸­è·¯ç”±æ„ä¹‰ä¸Šæœ€è¿‘çš„ä¸€ä¸ªè·¯ç”±å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ä¸»æœºçš„ipv6åœ°å€&#34;&gt;ä¸»æœºçš„IPv6åœ°å€&lt;/h3&gt;
&lt;p&gt;åªæœ‰ä¸€ä¸ªç½‘ç»œæ˜¯é…ç½®çš„IPv4ä¸»æœºé€šå¸¸ä¼šä¸ºè¯¥é€‚é…å™¨åˆ†é…å•ä¸€çš„IPv4åœ°å€ï¼Œè€ŒIPv6ä¸»æœºåˆ™ä¼šä¸ºæ¯ä¸ªé€‚é…å™¨åˆ†é…å¤šä¸ªIPv6åœ°å€ã€‚å…¸å‹çš„IPv6ä¸»æœºä¸Šçš„æ¥å£é€šå¸¸ä¼šåˆ†é…åˆ°å¦‚ä¸‹å•æ’­åœ°å€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªæ¥å£åˆ†é…åˆ°ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ¥å£åˆ†é…åˆ°äºŒå¤–çš„å•æ’­åœ°å€ï¼ˆå¯ä»¥æ˜¯å•ä¸ªæˆ–è€…å¤šä¸ªå”¯ä¸€æœ¬åœ°åœ°å€æˆ–å…¨çƒåœ°å€ï¼‰&lt;/li&gt;
&lt;li&gt;ç¯å›æ¥å£åˆ†é…åˆ°ç¯å›åœ°å€::1&lt;/li&gt;
&lt;li&gt;æ¥å£æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€FF01::1&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€FF02::1&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå•æ’­åœ°å€çš„è¯·æ±‚èŠ‚ç‚¹åœ°å€&lt;/li&gt;
&lt;li&gt;å·²åŠ å…¥çš„ç»„çš„ç»„æ’­åœ°å€&lt;br&gt;
å…¸å‹çš„IPv6ä¸»æœºé€šå¸¸æ˜¯å¤šå®¿ä¸»çš„ï¼Œå› ä¸ºIPv6ä¸»æœºæ€»æ˜¯è‡³å°‘æ‹¥æœ‰ä¸¤ä¸ªå¯ä»¥æ¥æ”¶æ•°æ®åŒ…çš„åœ°å€â€”â€”ç”¨äºæ¥æ”¶æœ¬åœ°é“¾è·¯æµé‡çš„é“¾è·¯æœ¬åœ°å’Œå¯è·¯ç”±çš„å”¯ä¸€æœ¬åœ°æˆ–å…¨çƒåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è·¯ç”±å™¨çš„ipv6åœ°å€&#34;&gt;è·¯ç”±å™¨çš„IPv6åœ°å€&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å•æ’­åœ°å€
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªæ¥å£åˆ†é…åˆ°ä¸€ä¸ªé“¾è·¯æœ¬åœ°åœ°å€&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªæ¥å£åˆ†é…åˆ°é¢å¤–çš„å•æ’­åœ°å€ï¼ˆå¯ä»¥æ˜¯å•ä¸ªæˆ–è€…å¤šä¸ªå”¯ä¸€æœ¬åœ°åœ°å€æˆ–å…¨çƒåœ°å€ï¼‰&lt;/li&gt;
&lt;li&gt;ç¯å›æ¥å£åˆ†é…åˆ°çš„ç¯å›åœ°å€::1&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä»»æ’­åœ°å€
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªå­ç½‘åˆ†é…åˆ°çš„ä¸€ä¸ªå­ç½‘è·¯ç”±å™¨çš„ä»»æ’­åœ°å€&lt;/li&gt;
&lt;li&gt;é¢å¤–çš„ä»»æ’­åœ°å€ï¼ˆå¯é€‰ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ä¾¦å¬å¦‚ä¸‹ç»„æ’­åœ°å€çš„æµé‡
&lt;ol&gt;
&lt;li&gt;æ¥å£æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€FF01::1&lt;/li&gt;
&lt;li&gt;æ¥å£æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€FF01::2&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰èŠ‚ç‚¹çš„ç»„æ’­åœ°å€FF02::1&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°èŒƒå›´å†…æ‰€æœ‰è·¯ç”±å™¨çš„ç»„æ’­åœ°å€FF02::2&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå•æ’­åœ°å€çš„è¯·æ±‚èŠ‚ç‚¹åœ°å€&lt;/li&gt;
&lt;li&gt;å·²åŠ å…¥çš„ç»„çš„ç»„æ’­åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ipv6æŠ¥æ–‡æ ¼å¼&#34;&gt;IPv6æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;h4 id=&#34;åŸºæœ¬æŠ¥å¤´&#34;&gt;åŸºæœ¬æŠ¥å¤´&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590509355658.png&#34; alt=&#34;åŸºæœ¬æŠ¥å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590509741991.png&#34; alt=&#34;å­—æ®µè§£é‡Š&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IPv6åŸºæœ¬æŠ¥å¤´ã€IPv6æ‰©å±•æŠ¥å¤´å’Œä¸Šå±‚åè®®æ•°æ®å•å…ƒ&lt;/li&gt;
&lt;li&gt;IPv6åŸºæœ¬æŠ¥å¤´æœ‰8ä¸ªå­—æ®µï¼Œå›ºå®šå¤§å°ä¸º40å­—èŠ‚ï¼Œæ¯ä¸ªIPv6æ•°æ®æŠ¥éƒ½å¿…é¡»åŒ…å«æŠ¥å¤´ï¼ŒåŸºæœ¬æŠ¥å¤´æä¾›æŠ¥æ–‡è½¬å‘çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¼šè¢«è½¬å‘è·¯å¾„ä¸Šé¢çš„æ‰€æœ‰è·¯ç”±å™¨è§£æ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ‰©å±•æŠ¥å¤´&#34;&gt;æ‰©å±•æŠ¥å¤´&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590509989601.png&#34; alt=&#34;æ‰©å±•æŠ¥å¤´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰©å±•æŠ¥å¤´æ˜¯å¯é€‰çš„ï¼Œåªæœ‰éœ€è¦è¯¥æ‰©å±•æŠ¥å¤´å¯¹åº”çš„åŠŸèƒ½æ—¶ï¼Œæ•°æ®çš„å‘é€è€…æ‰ä¼šæ·»åŠ ç›¸åº”çš„æ‰©å±•æŠ¥å¤´&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°†åŸIPv4é€‰é¡¹å­—æ®µæ”¾å…¥æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;IPv6æŠ¥æ–‡åŒ…å«0ã€1æˆ–è€…å¤šä¸ªæ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;å›ºå®šä¸º8å­—èŠ‚é•¿åº¦çš„æ•´æ•°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æ‰©å±•æŠ¥å¤´ç§ç±»&#34;&gt;æ‰©å±•æŠ¥å¤´ç§ç±»&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590510189695.png&#34; alt=&#34;æ‰©å±•æŠ¥å¤´ç§ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;æ‰©å±•æŠ¥å¤´è§„çº¦&#34;&gt;æ‰©å±•æŠ¥å¤´è§„çº¦&lt;/h5&gt;
&lt;p&gt;å½“è¶…è¿‡ä¸€ç§æ‰©å±•æŠ¥å¤´è¢«ç”¨åœ¨åŒä¸€ä¸ªåˆ†ç»„é‡Œæ—¶ï¼ŒæŠ¥å¤´å¿…é¡»æŒ‰ç…§ä¸‹åˆ—é¡ºåºå‡ºç°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IPv6åŸºæœ¬æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;é€è·³é€‰é¡¹æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;åˆ†æ®µæ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;è®¤è¯æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;å°è£…å®‰å…¨æœ‰æ•ˆè½½è·æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´&lt;/li&gt;
&lt;li&gt;ä¸Šå±‚åè®®æ•°æ®æŠ¥æ–‡&lt;br&gt;
è·¯ç”±è®¾å¤‡è½¬å‘æ—¶æ ¹æ®åŸºæœ¬æŠ¥å¤´ä¸­çš„NextHeaderå€¼æ¥å†³å®šæ˜¯å¦è¦å¤„ç†æ‰©å±•å¤´ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ‰©å±•æŠ¥å¤´éƒ½éœ€è¦è¢«è½¬å‘è·¯ç”±è®¾å¤‡æŸ¥çœ‹å’Œå¤„ç†çš„ã€‚&lt;br&gt;
é™¤äº†ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´å¯èƒ½å‡ºç°ä¸€æ¬¡æˆ–è€…ä¸¤æ¬¡ï¼ˆä¸€æ¬¡åœ¨è·¯ç”±æ‰©å±•æŠ¥å¤´ä¹‹å‰ï¼Œä¸€æ¬¡åœ¨ä¸Šå±‚åè®®æ•°æ®æŠ¥æ–‡ä¹‹å‰ï¼‰ï¼Œå…¶ä½™æ‰©å±•æŠ¥å¤´åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ipv6åŸºæœ¬å®ç°&#34;&gt;IPv6åŸºæœ¬å®ç°&lt;/h2&gt;
&lt;h3 id=&#34;icmpv6&#34;&gt;ICMPv6&lt;/h3&gt;
&lt;p&gt;å®ç°é‚»æ¥ç‚¹å‘ç°ã€æ— çŠ¶æ€åœ°å€é…ç½®ï¼ˆåŒ…æ‹¬é‡å¤åœ°å€æ£€æµ‹ï¼‰ã€PMTUå‘ç°ç­‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590591063496.png&#34; alt=&#34;æŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å·®é”™æŠ¥æ–‡åˆ†ç±»&#34;&gt;å·®é”™æŠ¥æ–‡åˆ†ç±»&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç›®çš„ä¸å¯è¾¾é”™è¯¯æŠ¥æ–‡ï¼ˆç±»å‹ä¸€ï¼‰ï¼šæ•°æ®åŒ…æ— æ³•è¢«è½¬å‘åˆ°ç›®æ ‡èŠ‚ç‚¹æˆ–ä¸Šå±‚åè®®&lt;/li&gt;
&lt;li&gt;æ•°æ®åŒ…è¿‡å¤§é”™è¯¯æŠ¥æ–‡ï¼ˆç±»å‹äºŒï¼‰ï¼šæŠ¥æ–‡è¶…è¿‡å‡ºæ¥å£çš„é“¾è·¯MTU&lt;/li&gt;
&lt;li&gt;æ—¶é—´è¶…æ—¶é”™è¯¯æŠ¥æ–‡ï¼ˆç±»å‹ä¸‰ï¼‰ï¼šHop Limitå­—æ®µå€¼ç­‰äº0ï¼›åˆ†æ®µé‡ç»„æŠ¥æ–‡è¶…æ—¶&lt;/li&gt;
&lt;li&gt;å‚æ•°é”™è¯¯æŠ¥æ–‡ï¼ˆç±»å‹å››ï¼‰ï¼šIPv6æŠ¥å¤´æˆ–è€…æ‰©å±•æŠ¥å¤´å‡ºç°é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ä¿¡æ¯æŠ¥æ–‡åˆ†ç±»&#34;&gt;ä¿¡æ¯æŠ¥æ–‡åˆ†ç±»&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å›é€&lt;strong&gt;è¯·æ±‚æŠ¥æ–‡&lt;/strong&gt;ï¼šå‘é€åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œä½¿ç›®æ ‡èŠ‚ç‚¹ç«‹å³å‘å›ä¸€ä¸ªä¼šé€åº”ç­”æŠ¥æ–‡ã€‚å›é€è¯·æ±‚æŠ¥æ–‡çš„ç±»å‹å­—æ®µå€¼ä¸º&lt;strong&gt;128&lt;/strong&gt;ï¼Œä»£ç å­—æ®µå€¼ä¸º0&lt;/li&gt;
&lt;li&gt;å›é€&lt;strong&gt;åº”ç­”æŠ¥æ–‡&lt;/strong&gt;ï¼šå¯¹å›é€è¯·æ±‚æŠ¥æ–‡çš„åº”ç­”ã€‚å›é€åº”ç­”æŠ¥æ–‡çš„ç±»å‹å­—æ®µå€¼ä¸º&lt;strong&gt;129&lt;/strong&gt;ï¼Œä»£ç å­—æ®µå€¼ä¸º0&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é‚»å±…å‘ç°åè®®ndp&#34;&gt;é‚»å±…å‘ç°åè®®NDP&lt;/h3&gt;
&lt;p&gt;é‚»å±…å‘ç°åè®®NDPï¼ˆNeighbor Discovery Protocolï¼‰æ˜¯IPv6åè®®ä½“ç³»ä¸­ä¸€ä¸ªé‡è¦çš„åŸºç¡€åè®®ã€‚é‚»å±…å‘ç°åè®®æ›¿ä»£äº†IPv4çš„ARPï¼ˆAddress Resolution Protocolï¼‰å’ŒICMPè·¯ç”±å™¨å‘ç°ï¼ˆRouter Discoveryï¼‰ï¼Œå®ƒå®šä¹‰äº†ä½¿ç”¨ICMPv6æŠ¥æ–‡å®ç°åœ°å€è§£æï¼Œè·Ÿè¸ªé‚»å±…çŠ¶æ€ï¼Œé‡å¤åœ°å€æ£€æµ‹ï¼Œè·¯ç”±å™¨å‘ç°ä»¥åŠé‡å®šå‘ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‚»å±…é€šå‘ŠæŠ¥æ–‡:
&lt;ul&gt;
&lt;li&gt;é‚»å±…è¯·æ±‚æŠ¥æ–‡NSï¼šç±»å‹å­—æ®µå€¼ä¸º135ã€‚&lt;/li&gt;
&lt;li&gt;é‚»å±…é€šå‘ŠæŠ¥æ–‡NAï¼šç±»å‹å­—æ®µå€¼ä¸º136ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨è·¯ç”±å™¨å‘ç°ä¸­ä½¿ç”¨äº†ä¸¤ç§ICMPv6æŠ¥æ–‡ï¼šè·¯ç”±å™¨é€šå‘Šå’Œè·¯ç”±å™¨è¯·æ±‚æŠ¥æ–‡:
&lt;ul&gt;
&lt;li&gt;è·¯ç”±å™¨é€šå‘ŠRAï¼šç±»å‹å­—æ®µå€¼ä¸º134ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨è¯·æ±‚RSï¼šç±»å‹å­—æ®µå€¼ä¸º133ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é‡å®šå‘ä½¿ç”¨äº†ä¸€ç§ICMPv6æŠ¥æ–‡ï¼šé‡å®šå‘æŠ¥æ–‡ã€‚
&lt;ul&gt;
&lt;li&gt;é‡å®šå‘æŠ¥æ–‡ï¼šç±»å‹å­—æ®µå€¼ä¸º137ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è·Ÿè¸ªé‚»å±…çŠ¶æ€&#34;&gt;è·Ÿè¸ªé‚»å±…çŠ¶æ€&lt;/h3&gt;
&lt;p&gt;é€šè¿‡é‚»å±…æˆ–åˆ°è¾¾é‚»å±…çš„é€šä¿¡ï¼Œä¼šå› å„ç§åŸå› è€Œä¸­æ–­ï¼ŒåŒ…æ‹¬ç¡¬ä»¶æ•…éšœã€æ¥å£ä¸‹çš„çƒ­æ’å…¥ç­‰ã€‚&lt;br&gt;
å¦‚æœç›®çš„åœ°å¤±æ•ˆï¼Œåˆ™æ¢å¤æ˜¯ä¸å¯èƒ½çš„ï¼Œé€šä¿¡å¤±è´¥ï¼›&lt;br&gt;
å¦‚æœè·¯å¾„å¤±æ•ˆï¼Œåˆ™æ¢å¤æ˜¯å¯èƒ½çš„ã€‚&lt;br&gt;
å› æ­¤èŠ‚ç‚¹éœ€è¦ç»´æŠ¤ä¸€å¼ é‚»å±…è¡¨ï¼Œæ¯ä¸ªé‚»å±…éƒ½æœ‰ç›¸åº”çš„çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´å¯ä»¥è¿ç§»ã€‚&lt;br&gt;
5ç§é‚»å±…çŠ¶æ€ï¼šæœªå®Œæˆï¼ˆIncompleteï¼‰ã€å¯è¾¾ï¼ˆReachableï¼‰ã€é™ˆæ—§ï¼ˆStaleï¼‰ã€å»¶è¿Ÿï¼ˆDelayï¼‰ã€æ¢æŸ¥ï¼ˆProbeï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590592903411.png&#34; alt=&#34;è·Ÿè¸ªé‚»å±…çŠ¶æ€&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹é¢ä»¥Aã€Bä¸¤ä¸ªé‚»å±…èŠ‚ç‚¹ä¹‹é—´ç›¸äº’é€šä¿¡è¿‡ç¨‹ä¸­AèŠ‚ç‚¹çš„é‚»å±…çŠ¶æ€å˜åŒ–ä¸ºä¾‹ï¼ˆå‡è®¾Aã€Bä¹‹å‰ä»æœªé€šä¿¡ï¼‰ï¼Œè¯´æ˜é‚»å±…çŠ¶æ€è¿ç§»çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Aå…ˆå‘é€NSæŠ¥æ–‡ï¼Œå¹¶ç”Ÿæˆç¼“å­˜æ¡ç›®ï¼Œæ­¤æ—¶ï¼Œé‚»å±…çŠ¶æ€ä¸ºIncompleteã€‚&lt;/li&gt;
&lt;li&gt;è‹¥Bå›å¤NAæŠ¥æ–‡ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºReachableï¼Œå¦åˆ™å›ºå®šæ—¶é—´åé‚»å±…çŠ¶æ€ç”±Incompleteå˜ä¸ºEmptyï¼Œå³åˆ é™¤è¡¨é¡¹ã€‚&lt;/li&gt;
&lt;li&gt;ç»è¿‡é‚»å±…å¯è¾¾æ—¶é—´ï¼Œé‚»å±…çŠ¶æ€ç”±Reachableå˜ä¸ºStaleï¼Œå³æœªçŸ¥æ˜¯å¦å¯è¾¾ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœåœ¨ReachableçŠ¶æ€ï¼ŒAæ”¶åˆ°Bçš„éè¯·æ±‚NAæŠ¥æ–‡ï¼Œä¸”æŠ¥æ–‡ä¸­æºå¸¦çš„Bçš„é“¾è·¯å±‚åœ°å€å’Œè¡¨é¡¹ä¸­ä¸åŒï¼Œåˆ™é‚»å±…çŠ¶æ€é©¬ä¸Šå˜ä¸ºStaleã€‚&lt;/li&gt;
&lt;li&gt;åœ¨StaleçŠ¶æ€è‹¥Aè¦å‘Bå‘é€æ•°æ®ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Staleå˜ä¸ºDelayï¼Œå¹¶å‘é€NSè¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ç»è¿‡ä¸€æ®µå›ºå®šæ—¶é—´åï¼Œé‚»å±…çŠ¶æ€ç”±Delayå˜ä¸ºProbeï¼Œå…¶é—´è‹¥æœ‰NAåº”ç­”ï¼Œåˆ™é‚»å±…çŠ¶æ€ç”±Delayå˜ä¸ºReachableã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ProbeçŠ¶æ€ï¼ŒAæ¯éš”ä¸€å®šæ—¶é—´é—´éš”å‘é€å•æ’­NSï¼Œå‘é€å›ºå®šæ¬¡æ•°åï¼Œæœ‰åº”ç­”åˆ™é‚»å±…çŠ¶æ€å˜ä¸ºReachableï¼Œå¦åˆ™é‚»å±…çŠ¶æ€å˜ä¸ºEmptyï¼Œå³åˆ é™¤è¡¨é¡¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;é‡å¤åœ°å€æ£€æµ‹dad&#34;&gt;é‡å¤åœ°å€æ£€æµ‹ï¼ˆDADï¼‰&lt;/h3&gt;
&lt;p&gt;åœ¨è¿›è¡ŒDADæ£€æµ‹æ—¶ï¼Œä¸€ä¸ªIPv6å•æ’­åœ°å€åœ¨åˆ†é…ç»™ä¸€ä¸ªæ¥å£ä¹‹åä¸”é€šè¿‡é‡å¤åœ°å€æ£€æµ‹ä¹‹å‰ç§°ä¸ºè¯•éªŒåœ°å€ï¼ˆTentative Addressï¼‰ã€‚æ­¤æ—¶è¯¥æ¥å£ä¸èƒ½ä½¿ç”¨è¿™ä¸ªè¯•éªŒåœ°å€è¿›è¡Œå•æ’­é€šä¿¡ï¼Œä½†æ˜¯ä»ç„¶ä¼šåŠ å…¥ä¸¤ä¸ªç»„æ’­ç»„ï¼šALL-NODESç»„æ’­ç»„å’Œå®éªŒåœ°å€æ‰€å¯¹åº”çš„Solicited-Nodeç»„æ’­ç»„ã€‚&lt;br&gt;
IPv6é‡å¤åœ°å€æ£€æµ‹æŠ€æœ¯å’ŒIPv4ä¸­çš„å…è´¹ARPç±»ä¼¼ï¼šèŠ‚ç‚¹å‘ä¸€ä¸ªè‡ªå·±å°†ä½¿ç”¨çš„è¯•éªŒåœ°å€æ‰€åœ¨çš„Solicited-Nodeç»„æ’­ç»„å‘é€ä¸€ä¸ªä»¥è¯¥å®éªŒåœ°å€ä¸ºè¯·æ±‚çš„ç›®æ ‡åœ°å€çš„NSæŠ¥æ–‡ï¼Œå¦‚æœæ”¶åˆ°æŸä¸ªå…¶ä»–ç«™ç‚¹å›åº”çš„NAæŠ¥æ–‡ï¼Œå°±è¯æ˜è¯¥åœ°å€å·²è¢«ç½‘ç»œä¸Šä½¿ç”¨ï¼ŒèŠ‚ç‚¹å°†ä¸èƒ½ä½¿ç”¨è¯¥å®éªŒåœ°å€é€šè®¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºICMPv6å®ç°&lt;/li&gt;
&lt;li&gt;åŒ…æ‹¬NSæŠ¥æ–‡å’ŒNAæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å‘é€NS(135) æºIP â€œ::â€ï¼Œç›®æ ‡è¯·æ±‚èŠ‚ç‚¹ç»„æ’­åœ°å€ ã€‚å›åº”NAï¼ˆ136 ï¼‰æºæ˜¯è‡ªå·±çš„åœ°å€ï¼Œç›®æ ‡FF02::1ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ç»„æ’­åœ°å€ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è·¯ç”±å‘ç°&#34;&gt;è·¯ç”±å‘ç°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å‘ç°ä¸æœ¬åœ°é“¾è·¯ç›¸è¿çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;è·å–ä¸åœ°å€è‡ªåŠ¨é…ç½®ç›¸å…³çš„å‰ç¼€å’Œå…¶ä»–é…ç½®å‚æ•°&lt;/li&gt;
&lt;li&gt;åŒ…æ‹¬RA(133)å’ŒRS(134)æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ¥å£å‘é€RAæŠ¥æ–‡ï¼Œåä¸ºé»˜è®¤æ˜¯ä¸ä¼šå‘é€RAæŠ¥æ–‡ï¼Œæ€ç§‘é»˜è®¤ä¼šå‘é€ï¼Œç¼ºçœæ˜¯200ç§’
interface GigabitEthernet0/0/1
ipv6 enable 
ipv6 address 2001:10:10:10::1/64 
undo ipv6 nd ra halt          

# é…ç½®è·¯ç”±å™¨é€šè¿‡æ— çŠ¶æ€æ–¹æ³•æ¥è·å–IPv6çš„åœ°å€ï¼Œ å¦‚æœéœ€è¦è‡ªåŠ¨ç”Ÿæˆä¸€æ¡é»˜è®¤è·¯ç”±å¯ä»¥åŠ ä¸Šå‚æ•°default
interface GigabitEthernet0/0/0
ipv6 enable 
ipv6 address auto global  # default     
ipv6 nd ra preference high     # é…ç½®RAæŠ¥æ–‡çš„ä¼˜å…ˆçº§
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸»æœºè·å¾—å‰ç¼€åŠå…¶ä»–å‚æ•°è¿‡ç¨‹&#34;&gt;ä¸»æœºè·å¾—å‰ç¼€åŠå…¶ä»–å‚æ•°è¿‡ç¨‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å½“å­˜åœ¨ä»¥ä¸‹æƒ…å†µæ—¶å¿½ç•¥RAå‘é€çš„å‰ç¼€ï¼š
&lt;ul&gt;
&lt;li&gt;RAæŠ¥æ–‡é€‰é¡¹ä¸­çš„â€œautoâ€æœªç½®ä½ã€‚&lt;/li&gt;
&lt;li&gt;å‰ç¼€ä¸å·²æœ‰åœ°å€å‰ç¼€é‡å¤ï¼ˆåŒ…æ‹¬link-localåœ°å€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;RAæŠ¥æ–‡é€‰é¡¹ä¸­çš„â€œpreferred lifetimeâ€æ—¶é—´å¤§äº â€œ valid lifetime â€ã€‚&lt;/li&gt;
&lt;li&gt;å‰ç¼€é•¿åº¦ä¸æ¥å£IDé•¿åº¦ä¹‹å’Œä¸ç­‰äº128ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é™¤ä»¥ä¸Šæƒ…å†µå¤–ï¼Œä¸»æœºè·å¾—å‰ç¼€åŒæ—¶ä¹Ÿè·å¾—ä¸€äº›ç›¸å…³æ—¶é—´å‚æ•°ï¼š
&lt;ul&gt;
&lt;li&gt;â€œpreferred lifetimeâ€ï¼å‘èµ·æ–°é€šè®¯çš„æœ‰æ•ˆæ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;â€œ valid lifetime â€ï¼åŸæœ‰é€šè®¯çš„æœ‰æ•ˆæ—¶é—´ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸»æœºä¼šå‘¨æœŸæ€§çš„æ”¶åˆ°RAæŠ¥æ–‡ï¼Œå¹¶æ®æ­¤æŠ¥æ–‡æ¥æ›´æ–°è‡ªå·±çš„æ—¶é—´å‚æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å‡ ä¸ªç”Ÿå­˜æ—¶é—´&#34;&gt;å‡ ä¸ªç”Ÿå­˜æ—¶é—´&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å½“åœ°å€å¤„äºDeprecatedçŠ¶æ€ï¼Œåœ°å€ä¸èƒ½ä¸»åŠ¨çš„å‘èµ·è¿æ¥åªèƒ½æ˜¯è¢«åŠ¨çš„æ¥å—è¿æ¥ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†ä¿è¯ä¸Šå±‚åº”ç”¨è€Œè®¾è®¡çš„ï¼Œä½†æ˜¯è¿‡äº†valid lifetimeæ—¶é—´ï¼Œåœ°å€å°±å˜å‘³invalidï¼Œè¿™æ—¶ä»»ä½•è¿æ¥éƒ½ä¼šdownæ‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590677468641.png&#34; alt=&#34;å‡ ä¸ªç”Ÿå­˜æ—¶é—´&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ ‡å¿—ä½&#34;&gt;æ ‡å¿—ä½&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Mä½
&lt;ul&gt;
&lt;li&gt;æœ‰çŠ¶æ€(Mï¼1)åœ°å€é…ç½®ï¼šé€šè¿‡DHCPv6æœåŠ¡å™¨è·å–IPv6åœ°å€&lt;code&gt;ipv6 nd autoconfig managed-address-flag #é…ç½®Mä½ï¼1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®ä½¿ç”¨æœ‰çŠ¶æ€æ–¹æ³•è·å–åˆ°IPv6åœ°å€
# AR5
interface GigabitEthernet0/0/0
ipv6 enable 
ipv6 address auto link-local
ipv6 address auto dhcp
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;æ— çŠ¶æ€(Mï¼0)åœ°å€é…ç½®ï¼šé€šè¿‡RAæŠ¥æ–‡çš„å‰ç¼€åŠ ä¸Šè‡ªå·±EUIï¼64ç”Ÿæˆçš„ä¸»æœºä½ï¼Œå½¢æˆä¸€ä¸ªIPV6åœ°å€&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ— çŠ¶æ€è‡ªåŠ¨åˆ†é…
# AR1ï¼Œé…ç½®åœ°å€æ± 
dhcpv6 pool HCIP
address prefix 2001:10:10:10::/64
excluded-address 2001:10:10:10::1 to 2001:10:10:10::100
dns-server 2001:10:10:10::1
dns-domain-name qytang.com
q
dhcp enable
interface GigabitEthernet0/0/1 #æ¥å£è°ƒç”¨
ipv6 enable 
ipv6 address 2001:10:10:10::1/64 
ipv6 nd ra Min-interval 10 
undo ipv6 nd ra halt
ipv6 nd autoconfig other-flag
dhcpv6 server HCIP  #ä½¿ç”¨åœ°å€æ± HCIP
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Oä½ï¼ˆOther-Config-Flagï¼‰
&lt;ul&gt;
&lt;li&gt;Oï¼0ï¼ˆé»˜è®¤ï¼‰ï¼Œè¡¨ç¤ºä¸»æœºä¸åº”è¯¥ä½¿ç”¨æœ‰çŠ¶æ€è‡ªåŠ¨é…ç½®æœºåˆ¶æ¥é…ç½®é™¤äº†IPv6åœ°å€å¤–çš„å…¶ä»–å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;O=1ï¼Œä½¿ç”¨å‘½ä»¤ï¼š&lt;code&gt;ipv6 nd autoconfig other-flag&lt;/code&gt;å°†è¯¥å€¼ç½®1ï¼Œåˆ™ä¸»æœºéœ€ä½¿ç”¨DHCPv6æ¥é…ç½®é™¤äº†IPv6åœ°å€å¤–çš„å…¶ä»–ä¿¡æ¯ï¼Œå¦‚DNSï¼ŒåŸŸåç­‰ã€‚&lt;br&gt;
&lt;code&gt;O=1éœ€è¦å’ŒM=0é…åˆä½¿ç”¨ï¼Œå³é€šè¿‡M=0è·å–ä¸€ä¸ªåœ°å€ï¼Œé€šè¿‡O=1è·å–åŸŸåç­‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åœ°å€é…ç½®æ–¹æ³•&#34;&gt;åœ°å€é…ç½®æ–¹æ³•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨é…ç½®&lt;br&gt;
æ‰‹åŠ¨é…ç½®IPv6åœ°å€/å‰ç¼€åŠå…¶ä»–ç½‘ç»œé…ç½®å‚æ•°ï¼ˆDNSã€NISã€SNTPæœåŠ¡å™¨åœ°å€ç­‰å‚æ•°ï¼‰&lt;/li&gt;
&lt;li&gt;æ— çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…&lt;br&gt;
ç”±æ¥å£IDç”Ÿæˆé“¾è·¯æœ¬åœ°åœ°å€ï¼Œå†æ ¹æ®è·¯ç”±é€šå‘ŠæŠ¥æ–‡RAï¼ˆRouter Advertisementï¼‰åŒ…å«çš„å‰ç¼€ä¿¡æ¯è‡ªåŠ¨é…ç½®æœ¬æœºåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰çŠ¶æ€è‡ªåŠ¨åœ°å€åˆ†é…ï¼Œå³DHCPv6æ–¹å¼ã€‚DHCPv6åˆåˆ†ä¸ºå¦‚ä¸‹ä¸¤ç§:
&lt;ol&gt;
&lt;li&gt;DHCPv6æœ‰çŠ¶æ€è‡ªåŠ¨åˆ†é…ï¼ˆåˆ†ä¸ºå››æ­¥äº¤äº’(é»˜è®¤)å’Œä¸¤æ­¥äº¤äº’(ä½¿èƒ½å‘½ä»¤ï¼š&lt;code&gt;ipv6 address auto dhcp rapid-commit&lt;/code&gt;)ï¼‰ã€‚&lt;br&gt;
DHCPv6æœåŠ¡å™¨è‡ªåŠ¨åˆ†é…IPv6åœ°å€/PDå‰ç¼€åŠå…¶ä»–ç½‘ç»œé…ç½®å‚æ•°ï¼ˆDNSã€NISã€SNTPæœåŠ¡å™¨åœ°å€ç­‰å‚æ•°ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;DHCPv6æ— çŠ¶æ€è‡ªåŠ¨åˆ†é…ã€‚&lt;br&gt;
ä¸»æœºIPv6åœ°å€ä»ç„¶é€šè¿‡è·¯ç”±é€šå‘Šæ–¹å¼è‡ªåŠ¨ç”Ÿæˆï¼ŒDHCPv6æœåŠ¡å™¨åªåˆ†é…é™¤IPv6åœ°å€ä»¥å¤–çš„é…ç½®å‚æ•°ï¼ŒåŒ…æ‹¬DNSã€NISã€SNTPæœåŠ¡å™¨ç­‰å‚æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åœ°å€é…ç½®è¿‡ç¨‹&#34;&gt;åœ°å€é…ç½®è¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å£åˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;æ¥å£äº§ç”Ÿâ€œtentativeâ€œçš„link-localåœ°å€&lt;/li&gt;
&lt;li&gt;å¯¹â€œtentativeâ€åœ°å€è¿›è¡Œåœ°å€é‡å¤æ£€æµ‹ï¼ˆDADï¼‰&lt;/li&gt;
&lt;li&gt;æ¥å£äº§ç”Ÿlink-localåœ°å€ï¼Œå…·å¤‡IPè¿æ¥èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;ç”±Router AdvertisementæŠ¥æ–‡çš„Mæ¯”ç‰¹å†³å®šé‡‡ç”¨ä½•ç§è‡ªåŠ¨é…ç½®æŠ€æœ¯&lt;br&gt;
æ— çŠ¶æ€è‡ªåŠ¨é…ç½®ï¼ˆstateless autoconfigurationï¼‰-åˆ©ç”¨RAä¿¡æ¯é€šå‘Šçš„å‰ç¼€ç”Ÿæˆåœ°å€&lt;br&gt;
æœ‰çŠ¶æ€è‡ªåŠ¨é…ç½®ï¼ˆstateful autoconfigurationï¼‰-å¿…é¡»é€šè¿‡DHCPè·å¾—ï¼Œç§°ä¸ºæœ‰çŠ¶æ€&lt;/li&gt;
&lt;li&gt;è·å¾—å…¨å±€åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;path-mtu&#34;&gt;Path MTU&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†é¿å…åˆ‡ç‰‡ï¼ŒæŸ¥æ‰¾æ•´æ¡é“¾è·¯çš„æœ€å°MTUã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‡å®šå‘&#34;&gt;é‡å®šå‘&lt;/h3&gt;
&lt;p&gt;å½“è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªæŠ¥æ–‡åï¼Œåªæœ‰åœ¨å¦‚ä¸‹æƒ…å†µä¸‹ï¼Œè·¯ç”±å™¨ä¼šå‘æŠ¥æ–‡å‘é€è€…å‘é€é‡å®šå‘æŠ¥æ–‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸æ˜¯ä¸€ä¸ªç»„æ’­åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡å¹¶éé€šè¿‡è·¯ç”±è½¬å‘ç»™è·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;ç»è¿‡è·¯ç”±è®¡ç®—åï¼Œè·¯ç”±çš„ä¸‹ä¸€è·³å‡ºæ¥å£æ˜¯æ¥æ”¶æŠ¥æ–‡çš„æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨å‘ç°æŠ¥æ–‡çš„æœ€ä½³ä¸‹ä¸€è·³IPåœ°å€å’ŒæŠ¥æ–‡çš„æºIPåœ°å€å¤„äºåŒä¸€ç½‘æ®µã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨æ£€æŸ¥æŠ¥æ–‡çš„æºåœ°å€ï¼Œå‘ç°è‡ªèº«çš„é‚»å±…è¡¨é¡¹ä¸­æœ‰ç”¨è¯¥åœ°å€ä½œä¸ºå…¨çƒå•æ’­åœ°å€æˆ–é“¾è·¯æœ¬åœ°åœ°å€çš„é‚»å±…å­˜åœ¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ospfv3&#34;&gt;OSPFv3&lt;/h2&gt;
&lt;h3 id=&#34;ospfv2åŸºæœ¬æ¦‚å¿µ&#34;&gt;OSPFv2åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;h4 id=&#34;lsaç±»å‹&#34;&gt;LSAç±»å‹&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSAç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSAä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Router-LSA (Type1)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯ä¸ªè®¾å¤‡éƒ½ä¼šäº§ç”Ÿï¼Œæè¿°äº†è®¾å¤‡çš„é“¾è·¯çŠ¶æ€å’Œå¼€é”€ï¼Œåœ¨æ‰€å±çš„åŒºåŸŸå†…ä¼ æ’­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Network-LSA (Type2)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”± DR äº§ç”Ÿï¼Œæè¿°æœ¬ç½‘æ®µçš„é“¾è·¯çŠ¶æ€ï¼Œåœ¨æ‰€å±çš„åŒºåŸŸå†…ä¼ æ’­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Network-summary-LSA (Type3)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”± ABR äº§ç”Ÿï¼Œæè¿°åŒºåŸŸå†…æŸä¸ªç½‘æ®µçš„è·¯ç”±ï¼Œå¹¶é€šå‘Šç»™å‘å¸ƒæˆ–æ¥æ”¶æ­¤ LSAçš„é Totally STUB æˆ– NSSA åŒºåŸŸã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBR-summary-LSA (Type4)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”± ABR äº§ç”Ÿï¼Œæè¿°åˆ° ASBR çš„è·¯ç”±ï¼Œé€šå‘Šç»™é™¤ ASBR æ‰€åœ¨åŒºåŸŸçš„å…¶ä»–ç›¸å…³åŒºåŸŸã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;AS-external-LSA (Type5)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”± ASBR äº§ç”Ÿï¼Œæè¿°åˆ° AS å¤–éƒ¨çš„è·¯ç”±ï¼Œé€šå‘Šåˆ°æ‰€æœ‰çš„åŒºåŸŸï¼ˆé™¤äº† STUBåŒºåŸŸå’Œ NSSA åŒºåŸŸï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSA LSA (Type7)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”± ASBR äº§ç”Ÿï¼Œæè¿°åˆ° AS å¤–éƒ¨çš„è·¯ç”±ï¼Œä»…åœ¨ NSSA åŒºåŸŸå†…ä¼ æ’­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Opaque LSA (Type9/Type10/Type11)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Opaque LSA æä¾›ç”¨äº OSPF çš„æ‰©å±•çš„é€šç”¨æœºåˆ¶ã€‚å…¶ä¸­ï¼šType9 LSAä»…åœ¨æ¥å£æ‰€åœ¨ç½‘æ®µèŒƒå›´å†…ä¼ æ’­ã€‚ç”¨äºæ”¯æŒ GR çš„ Grace LSAå°±æ˜¯ Type9 LSA çš„ä¸€ç§ã€‚Type10 LSA åœ¨åŒºåŸŸå†…ä¼ æ’­ã€‚ç”¨äºæ”¯æŒ TE çš„ LSA å°±æ˜¯ Type10 LSA çš„ä¸€ç§ã€‚Type11 LSA åœ¨è‡ªæ²»åŸŸå†…ä¼ æ’­ï¼Œç›®å‰è¿˜æ²¡æœ‰å®é™…åº”ç”¨çš„ä¾‹å­ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;ospfv3ä»‹ç»&#34;&gt;OSPFv3ä»‹ç»&lt;/h3&gt;
&lt;h4 id=&#34;åè®®ä»‹ç»&#34;&gt;åè®®ä»‹ç»&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸OSPFv2ç›¸æ¯”ï¼Œ OSPFv3åœ¨å·¥ä½œæœºåˆ¶ä¸Šä¸OSPFv2åŸºæœ¬ç›¸åŒï¼›ä½†ä¸ºäº†æ”¯æŒIPv6åœ°å€æ ¼å¼ï¼Œ OSPFv3å¯¹OSPFv2åšäº†ä¸€äº›æ”¹åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;OSPFv3åŸºäºOSPFv2åŸºæœ¬åŸç†å¹¶å¢å¼ºï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è·¯ç”±åè®®ã€‚&lt;/li&gt;
&lt;li&gt;åè®®å·&lt;strong&gt;ä»ç„¶æ˜¯89&lt;/strong&gt;ï¼ŒRouter Idä»ç„¶æ˜¯ä¸€ä¸ª32ä½çš„æ— ç¬¦å·æ•´æ•°ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590823474733.png&#34; alt=&#34;åè®®ä»‹ç»&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ipv6å¯¹ospfv3çš„å½±å“&#34;&gt;IPv6å¯¹OSPFv3çš„å½±å“&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590823567778.png&#34; alt=&#34;IPv6å¯¹OSPFv3çš„å½±å“&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ospfv3å’Œospfv2ç›¸åŒç‚¹&#34;&gt;OSPFv3å’ŒOSPFv2ç›¸åŒç‚¹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œç±»å‹å’Œæ¥å£ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;æ¥å£çŠ¶æ€æœºå’Œé‚»å±…çŠ¶æ€æœºã€‚&lt;/li&gt;
&lt;li&gt;é“¾è·¯çŠ¶æ€æ•°æ®åº“(LSDB)ã€‚&lt;/li&gt;
&lt;li&gt;æ´ªæ³›æœºåˆ¶&lt;/li&gt;
&lt;li&gt;äº”ç§åè®®æŠ¥æ–‡: Hello, DD, LSR, LSU, LSAckã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±è®¡ç®—åŸºæœ¬ç›¸åŒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ospfv3ä¸ospfv2çš„ä¸åŒ&#34;&gt;OSPFv3ä¸OSPFv2çš„ä¸åŒ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;OSPFv3åŸºäºé“¾è·¯çš„è¿è¡Œï¼Œè€Œä¸æ˜¯åŸºäºå­ç½‘çš„&lt;/li&gt;
&lt;li&gt;OSPFv3ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€ï¼Œç§»é™¤äº†IPåœ°å€çš„æ„ä¹‰&lt;/li&gt;
&lt;li&gt;OSPFv3é“¾è·¯æ”¯æŒå¤šå®ä¾‹å¤ç”¨ï¼Œæ”¯æŒä¸€ä¸ªé“¾è·¯ä¸Šå¤šä¸ªå®ä¾‹&lt;/li&gt;
&lt;li&gt;OSPFv3é€šè¿‡Router IDå”¯ä¸€æ ‡è¯†é‚»å±…&lt;/li&gt;
&lt;li&gt;OSPFv3çš„LSAæŠ¥æ–‡é‡Œæ·»åŠ LSAçš„æ´ªæ³›èŒƒå›´&lt;/li&gt;
&lt;li&gt;è®¤è¯çš„å˜åŒ–ï¼ŒOSPFv3ç§»é™¤æ‰€æœ‰è®¤è¯å­—æ®µ&lt;/li&gt;
&lt;li&gt;StubåŒºåŸŸçš„æ”¯æŒ&lt;/li&gt;
&lt;li&gt;Optionå­—æ®µçš„ä¸åŒ&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡çš„ä¸åŒ&lt;/li&gt;
&lt;li&gt;LSAçš„ç±»å‹å’Œå†…å®¹ä¸åŒï¼Œæ–°å¢ä¸¤ç§LSA&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h4&gt;
&lt;h5 id=&#34;æŠ¥æ–‡&#34;&gt;æŠ¥æ–‡&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;OSPFv3åè®®å·ä»ç„¶ä¸º89ï¼Œåœ¨IPv6 Next Headeré‡Œæ ‡è¯†ã€‚&lt;/li&gt;
&lt;li&gt;é€šè¿‡åŒ…å¤´çš„TYPEå­—æ®µæ¥æ ‡è¯†5ç§åŒ…ç±»å‹ï¼›&lt;/li&gt;
&lt;li&gt;ä»¥ç»„æ’­åœ°å€å‘é€åè®®æŠ¥æ–‡ï¼Œè€ŒIPv6 Hop Limitä¸º1ï¼›Virtualï¼Linkåˆ™é€šè¿‡å•æ’­å‘é€æ›´æ–°ï¼›&lt;br&gt;
AllSPfRoutersï¼šFF02::5&lt;br&gt;
AllDRoutersï¼šFF02::6&lt;/li&gt;
&lt;li&gt;IPv6ä¸­ï¼Œé™¤äº†virtual linkä¹‹å¤–ï¼Œéƒ½ä½¿ç”¨link-localåœ°å€ï¼ˆ&lt;strong&gt;æºæ˜¯link-localåœ°å€ï¼Œç›®çš„æ˜¯ç»„æ’­åœ°å€&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åŸºäºé“¾è·¯çš„è¿è¡Œ&#34;&gt;åŸºäºé“¾è·¯çš„è¿è¡Œ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;OSPFv2æ˜¯åŸºäºç½‘ç»œè¿è¡Œçš„ï¼Œä¸¤ä¸ªè·¯ç”±å™¨è¦å½¢æˆé‚»å±…å…³ç³»å¿…é¡»åœ¨åŒä¸€ä¸ªç½‘æ®µã€‚&lt;/li&gt;
&lt;li&gt;OSPFv3çš„å®ç°æ˜¯åŸºäºé“¾è·¯ï¼Œ ä¸€ä¸ªé“¾è·¯å¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ªå­ç½‘ï¼Œ &lt;strong&gt;èŠ‚ç‚¹å³ä½¿ä¸åœ¨åŒä¸€ä¸ªå­ç½‘å†…ï¼Œ åªè¦åœ¨åŒä¸€é“¾è·¯ä¸Šå°±å¯ä»¥ç›´æ¥é€šä¿¡ï¼ˆå®éªŒä¸€çš„R5å’ŒR6ï¼‰&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€&#34;&gt;ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;OSPFv3çš„è·¯ç”±å™¨ä½¿ç”¨&lt;strong&gt;é“¾è·¯æœ¬åœ°åœ°å€ä½œä¸ºå‘é€æŠ¥æ–‡çš„æºåœ°å€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨è™šè¿æ¥ä¸Šï¼Œ å¿…é¡»ä½¿ç”¨å…¨çƒèŒƒå›´åœ°å€æˆ–è€…ç«™ç‚¹æœ¬åœ°åœ°å€ä½œä¸ºOSPFv3åè®®æŠ¥æ–‡çš„æºåœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºé“¾è·¯æœ¬åœ°åœ°å€åªåœ¨æœ¬é“¾è·¯ä¸Šæœ‰æ„ä¹‰ä¸”åªèƒ½åœ¨æœ¬é“¾è·¯ä¸Šæ³›æ´ªï¼Œå› æ­¤é“¾è·¯&lt;strong&gt;æœ¬åœ°åœ°å€åªèƒ½å‡ºç°åœ¨Link LSAä¸­&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;é“¾è·¯æ”¯æŒå¤šå®ä¾‹å¤ç”¨&#34;&gt;é“¾è·¯æ”¯æŒå¤šå®ä¾‹å¤ç”¨&lt;/h5&gt;
&lt;p&gt;OSPFv3æ”¯æŒåœ¨åŒä¸€é“¾è·¯ä¸Šè¿è¡Œå¤šä¸ªå®ä¾‹(instance)ï¼Œå®ç°é“¾è·¯å¤ç”¨å¹¶èŠ‚çº¦æˆæœ¬&lt;br&gt;
OSPFv3ä¸€ä¸ªæ¥å£èƒ½ä¸èƒ½é…ç½®å¤šä¸ªå®ä¾‹ï¼Ÿ&lt;strong&gt;æ¡ä»¶&lt;/strong&gt;ï¼šåŒä¸€ä¸ªè¿›ç¨‹åªèƒ½é…ç½®ä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœæ˜¯&lt;strong&gt;ä¸åŒè¿›ç¨‹å¯ä»¥é…ç½®å¤šä¸ª&lt;/strong&gt;&lt;/p&gt;
&lt;h5 id=&#34;é€šè¿‡router-idå”¯ä¸€æ ‡è¯†é‚»å±…&#34;&gt;é€šè¿‡Router IDå”¯ä¸€æ ‡è¯†é‚»å±…&lt;/h5&gt;
&lt;p&gt;åœ¨OSPFv2ä¸­ï¼Œå½“ç½‘ç»œç±»å‹ä¸ºç‚¹åˆ°ç‚¹æˆ–è€…é€šè¿‡è™šè¿æ¥ä¸é‚»å±…ç›¸è¿æ—¶ï¼Œé€šè¿‡Router IDæ¥æ ‡è¯†é‚»å±…è·¯ç”±å™¨ï¼Œå½“ç½‘ç»œç±»å‹ä¸ºå¹¿æ’­æˆ–NBMAæ—¶ï¼Œé€šè¿‡é‚»å±…æ¥å£çš„IPåœ°å€æ¥æ ‡è¯†é‚»å±…è·¯ç”±å™¨ã€‚&lt;br&gt;
OSPFv3å–æ¶ˆäº†è¿™ç§å¤æ‚æ€§ï¼Œæ— è®ºå¯¹äºä½•ç§ç½‘ç»œç±»å‹ï¼Œéƒ½æ˜¯é€šè¿‡Router IDæ¥å”¯ä¸€æ ‡è¯†é‚»å±…ã€‚&lt;/p&gt;
&lt;h5 id=&#34;è®¤è¯çš„å˜åŒ–&#34;&gt;è®¤è¯çš„å˜åŒ–&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;éªŒè¯çš„å˜åŒ–ï¼šOSPFv3æŠ¥æ–‡å¤´ä¸­ä¸å†åŒ…å«AuTypeå’ŒAuthenticationï¼Œè€Œä¸€èˆ¬ä¾èµ–IPv6çš„&lt;strong&gt;æ‰©å±•éªŒè¯å¤´&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ ¡éªŒå’Œ(Checksum)å˜åŒ–ï¼šOSPFv3ä½¿ç”¨IPv6&lt;strong&gt;æ ‡å‡†çš„CheckSum&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;stubåŒºåŸŸçš„æ”¯æŒ&#34;&gt;StubåŒºåŸŸçš„æ”¯æŒ&lt;/h5&gt;
&lt;p&gt;ç”±äºOSPFv3æ”¯æŒå¯¹æœªçŸ¥ç±»å‹LSAçš„æ³›æ´ªï¼Œä¸ºé˜²æ­¢å¤§é‡æœªçŸ¥ç±»å‹LSAæ³›æ´ªè¿›å…¥StubåŒºåŸŸï¼Œå¯¹äºå‘StubåŒºæ³›æ´ªçš„æœªçŸ¥ç±»å‹LSAè¿›è¡Œäº†æ˜ç¡®è§„å®šï¼Œ åªæœ‰å½“&lt;strong&gt;æœªçŸ¥ç±»å‹LSAçš„æ³›æ´ªèŒƒå›´æ˜¯åŒºåŸŸæˆ–é“¾è·¯è€Œä¸”Uæ¯”ç‰¹æ²¡æœ‰ç½®ä½æ—¶&lt;/strong&gt;ï¼ŒæœªçŸ¥ç±»å‹LSAæ‰å¯ä»¥å‘StubåŒºåŸŸæ³›æ´ªã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;h4 id=&#34;å¤´éƒ¨å­—æ®µè¯´æ˜&#34;&gt;å¤´éƒ¨å­—æ®µè¯´æ˜&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590848834011.png&#34; alt=&#34;å¤´éƒ¨å­—æ®µè¯´æ˜&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Versionï¼šç‰ˆæœ¬ï¼Œå¯¹äºOSPFv2ï¼Œè¯¥å€¼æ˜¯2ï¼›å¯¹äºOSPFv3åˆ™æ˜¯3ï¼›&lt;/li&gt;
&lt;li&gt;Typeï¼š1 - Hello, 2-DD, 3-LSR, 4-LSU, 5-LSAck;&lt;/li&gt;
&lt;li&gt;Packet Lengthï¼šOSPFv3æŠ¥æ–‡é•¿åº¦ï¼Œ2å­—èŠ‚ï¼›&lt;/li&gt;
&lt;li&gt;Router IDï¼šè·¯ç”±å™¨IDï¼›&lt;/li&gt;
&lt;li&gt;Area IDï¼šåŒºåŸŸIDï¼›&lt;/li&gt;
&lt;li&gt;Checksumï¼šæ ¡éªŒå’Œï¼›&lt;/li&gt;
&lt;li&gt;Instance IDï¼š&lt;strong&gt;é“¾è·¯å®ä¾‹ID&lt;/strong&gt;ï¼Œé€šè¿‡åˆ¤æ–­è¯¥å­—æ®µå°±å¯ä»¥åŒºåˆ†åŒä¸€é“¾è·¯ä¸Šè¿è¡Œçš„ä¸åŒOSPFå®ä¾‹ã€‚&lt;strong&gt;å®ä¾‹IDåªåœ¨æœ¬åœ°é“¾è·¯èŒƒå›´å†…å…·æœ‰æ„ä¹‰&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;Reserved(ä¿ç•™): ä¿ç•™å­—æ®µï¼Œæ€»æ˜¯0ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;helloæŠ¥æ–‡&#34;&gt;HelloæŠ¥æ–‡&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590848975097.png&#34; alt=&#34;HelloæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Hello æŠ¥æ–‡çš„ä¸åŒï¼šä¸ OSPFv2 Hello æŠ¥æ–‡ç›¸æ¯”ï¼Œ OSPFv3 Hello æŠ¥æ–‡å»æ‰äº†ç½‘ç»œæ©ç å­—æ®µï¼Œå¢åŠ äº† Interface ID å­—ï¼Œ ç”¨æ¥æ ‡è¯†å‘é€è¯¥ Hello æŠ¥æ–‡çš„æ¥å£IDã€‚&lt;/li&gt;
&lt;li&gt;Instance ID:  4å­—èŠ‚ã€‚æŠ¥æ–‡å‘é€è€…çš„å‘é€æ¥å£æ ‡è¯†ï¼Œä»…ç”¨æ¥åŒºåˆ†åŒä¸€è·¯ç”±å™¨ä¸Šçš„ä¸åŒæ¥å£ï¼Œä¸åŒ…å«åœ°å€ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;Rtr Pri:  1å­—èŠ‚ã€‚è·¯ç”±å™¨ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜è€…æˆä¸ºDRã€‚&lt;/li&gt;
&lt;li&gt;Options: 3å­—èŠ‚ã€‚ OSPFv3ä¸­å°†Optionså­—æ®µæ‰©å±•ä¸º24ä½ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590849086520.png&#34; alt=&#34;OSPFv3é€‰é¡¹Options&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;åœ¨OSPFv2ä¸­ï¼Œ Optionå­—æ®µå‡ºç°åœ¨æ¯ä¸€ä¸ªHelloæŠ¥æ–‡ã€ DDæŠ¥æ–‡ä»¥åŠæ¯ä¸€ä¸ªLSAä¸­ï¼›åœ¨ OSPFv3ä¸­ï¼Œ Optionå­—æ®µåªåœ¨ HelloæŠ¥æ–‡ã€ DDæŠ¥æ–‡ã€ Router LSAã€ NetworkLSAã€ Inter Area Router LSAä»¥åŠLink LSAä¸­å‡ºç°ï¼Œä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œä¸OSPFv2ç›¸æ¯”ï¼Œ OSPFv3çš„Optionå­—æ®µå¢åŠ äº†Ræ¯”ç‰¹ã€ Væ¯”ç‰¹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Rï¼šç”¨æ¥æ ‡è¯†è®¾å¤‡æ˜¯å¦æ˜¯å…·å¤‡è½¬å‘èƒ½åŠ›çš„è·¯ç”±å™¨ã€‚å¦‚æœ R æ¯”ç‰¹ç½® 0ï¼Œå®£å‘Šè¯¥èŠ‚ç‚¹çš„è·¯ç”±ä¿¡æ¯å°†ä¸ä¼šå‚åŠ è·¯ç”±è®¡ç®—ï¼Œå¦‚æœå½“å‰è®¾å¤‡æ˜¯ä¸€ä¸ªä¸æƒ³è½¬å‘éæœ¬åœ°åœ°å€çš„æŠ¥æ–‡ï¼Œå¯ä»¥å°† R æ¯”ç‰¹ç½® 0ã€‚&lt;/li&gt;
&lt;li&gt;V6ï¼šå¦‚æœ V6 æ¯”ç‰¹ç½® 0ï¼Œè¯¥è·¯ç”±å™¨æˆ–é“¾è·¯ä¹Ÿä¸ä¼šå‚åŠ IPv6è·¯ç”±è®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;E:  å¦‚æœä¸º0ï¼Œä¸æ”¯æŒAS-External-LSAæ´ªæ³›ï¼Œå¦‚æœEä½è®¾ç½®ä¸æ­£ç¡®ï¼Œé‚»æ¥å…³ç³»å°±ä¸èƒ½å½¢æˆï¼›&lt;/li&gt;
&lt;li&gt;MC: ä¸å¤šæ’­ç›¸å…³ï¼›&lt;/li&gt;
&lt;li&gt;N:  æ˜¯å¦åœ¨NSSAåŒºåŸŸï¼ˆType-7 LSAï¼‰,å½“ä¸”ä»…å½“ä¸€ä¸ªæ¥å£çš„æ‰€å±åŒºåŸŸä¸ºNSSAåŒºåŸŸæ—¶è®¾ç½®ä¸º1ï¼›&lt;/li&gt;
&lt;li&gt;DC: æ˜¯å¦æ”¯æŒæŒ‰éœ€æ‹¨å·ã€‚&lt;br&gt;
&lt;strong&gt;Optionså­—æ®µçš„å„ä½çš„åŒ¹é…æƒ…å†µä¼šäº§ç”Ÿä¸åŒå½±å“&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;é˜»æ­¢é‚»å±…çš„å»ºç«‹ï¼Œä¾‹å¦‚HelloæŠ¥æ–‡ä¸­çš„é€‰é¡¹ä¸åŒ¹é…ã€‚&lt;/li&gt;
&lt;li&gt;é˜»æ­¢LSAçš„æ´ªæ³›ï¼Œä¾‹å¦‚E-Bitï¼Œå¦‚æœä¸º0ï¼Œä¸æ´ªæ³›AS-External-LSAã€‚&lt;/li&gt;
&lt;li&gt;é˜»æ­¢LSAå‚åŠ è·¯ç”±è®¡ç®—ï¼Œä¾‹å¦‚V6-Bitï¼Œå¦‚æœä¸º0ï¼Œè¯¥Routerä¸å‚åŠ IPv6è·¯ç”±è®¡ç®—ã€‚&lt;br&gt;
Optionså­—æ®µä½¿OSPFè·¯ç”±å™¨èƒ½æ”¯æŒå¯é€‰çš„èƒ½åŠ›ï¼Œå¹¶ä¸”ä¸å…¶å®ƒè·¯ç”±å™¨äº’ç›¸é€šå‘Šå…¶èƒ½åŠ›ã€‚é€šè¿‡è¿™ç§æœºåˆ¶ï¼Œå…·æœ‰ä¸åŒèƒ½åŠ›çš„è·¯ç”±å™¨å¯ä»¥åœ¨ä¸€ä¸ªOSPFè·¯ç”±åŸŸä¸­&lt;strong&gt;æ··åˆå·¥ä½œ&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;lsaå¤´éƒ¨&#34;&gt;LSAå¤´éƒ¨&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590849646368.png&#34; alt=&#34;LSAå¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;OSPFv2ä¸­çš„LS Typeé•¿åº¦ä¸º8æ¯”ç‰¹ï¼ŒæŒ‡å®šLSAçš„ç±»å‹ï¼› OSPFv3çš„LSA Typeå­—æ®µç”±OSPFv2çš„8æ¯”ç‰¹æ‰©å……ä¸º16æ¯”ç‰¹ã€‚
&lt;ul&gt;
&lt;li&gt;U ä½ï¼šæè¿°äº†è·¯ç”±å™¨æ”¶åˆ°&lt;strong&gt;ä¸€ä¸ªç±»å‹æœªçŸ¥çš„ LSA æ—¶å¦‚ä½•å¤„ç†&lt;/strong&gt;ï¼Œå–å€¼ä¸º &lt;strong&gt;0 è¡¨ç¤ºæŠŠç±»å‹æœªçŸ¥LSA&lt;/strong&gt; å½“æˆå…·æœ‰é“¾è·¯æœ¬åœ°èŒƒå›´çš„ LSA ä¸€æ ·å¤„ç†ï¼Œå–å€¼ä¸º** 1 è¡¨ç¤ºæŒ‰ç…§S2/S1 ä½æ ‡è¯†çš„æ³›æ´ªèŒƒå›´æ¥å¤„ç†**ã€‚&lt;/li&gt;
&lt;li&gt;S2/S1 ä½ï¼šå…±åŒæ ‡è¯† &lt;strong&gt;LSA çš„æ³›æ´ªèŒƒå›´&lt;/strong&gt;ï¼Œå–å€¼ &lt;strong&gt;00 &lt;strong&gt;è¡¨ç¤º LSA åªåœ¨äº§ç”Ÿè¯¥ LSA çš„&lt;/strong&gt;æœ¬åœ°é“¾è·¯ä¸Šæ³›æ´ª&lt;/strong&gt;ï¼›å–å€¼** 01 &lt;strong&gt;è¡¨ç¤º LSA çš„æ³›æ´ªèŒƒå›´ä¸ºäº§ç”Ÿè¯¥ LSA çš„&lt;/strong&gt;è·¯ç”±å™¨æ‰€åœ¨åŒºåŸŸ**ï¼›å–å€¼ &lt;strong&gt;10&lt;/strong&gt; è¡¨ç¤º LSA å°†åœ¨&lt;strong&gt;æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿå†…è¿›è¡Œæ³›æ´ª&lt;/strong&gt;ï¼›å–å€¼ &lt;strong&gt;11 ä¿ç•™&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;LSA Function Codeï¼š LSA ç±»å‹ç¼–ç ï¼Œæè¿° LSA çš„ç±»å‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ”¯æŒå¯¹æœªçŸ¥ç±»å‹lsaçš„å¤„ç†&#34;&gt;æ”¯æŒå¯¹æœªçŸ¥ç±»å‹LSAçš„å¤„ç†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;U-bit: æŒ‡ç¤ºè·¯ç”±å™¨å¦‚ä½•å¤„ç†æ— æ³•è¯†åˆ«çš„LSA&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590849990576.png&#34; alt=&#34;U-bit&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;S2/S1ï¼Œå…±åŒæ ‡è¯† LSA çš„æ³›æ´ªèŒƒå›´&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590850030114.png&#34; alt=&#34;S2/S1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ä¸åŒçš„LSAç±»å‹å¯¹åº”ä¸åŒçš„U, S2å’ŒS1ä½&lt;/code&gt;&lt;br&gt;
åœ¨&lt;strong&gt;OSPFv2&lt;/strong&gt;ä¸­ï¼Œæ”¶åˆ°ç±»å‹&lt;strong&gt;æœªçŸ¥çš„LSAå°†ç›´æ¥ä¸¢å¼ƒ&lt;/strong&gt;ï¼ŒOSPFv3åœ¨LSAçš„LS Typeå­—æ®µä¸­å¢åŠ äº†ä¸€ä¸ªUæ¯”ç‰¹ä½æ¥ä½æ ‡è¯†å¯¹æœªçŸ¥ç±»å‹LSAçš„å¤„ç†æ–¹å¼ï¼š&lt;/li&gt;
&lt;li&gt;å¦‚æœ U æ¯”ç‰¹ç½® 1ï¼Œåˆ™å¯¹äºæœªçŸ¥ç±»å‹çš„ LSA æŒ‰ç…§ LSA ä¸­çš„ LS Type å­—æ®µæè¿°çš„æ³›æ´ªèŒƒå›´è¿›è¡Œæ³›æ´ªï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœ U æ¯”ç‰¹ç½® 0ï¼Œå¯¹äºæœªçŸ¥ç±»å‹çš„ LSA ä»…åœ¨é“¾è·¯èŒƒå›´å†…æ³›æ´ªã€‚&lt;br&gt;
LSAçš„æ³›æ´ªèŒƒå›´å·²ç»è¢«æ˜ç¡®åœ°å®šä¹‰åœ¨LSAçš„LS Typeå­—æ®µï¼Œç›®å‰ï¼Œæœ‰&lt;strong&gt;ä¸‰ç§LSAæ³›æ´ªèŒƒå›´&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;li&gt;é“¾è·¯æœ¬åœ°èŒƒå›´(Link-local Scope)ï¼šLSA åªåœ¨æœ¬åœ°é“¾è·¯ä¸Šæ³›æ´ªï¼Œä¸ä¼šè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œ Link-LSA(æ–°å¢)&lt;/li&gt;
&lt;li&gt;åŒºåŸŸèŒƒå›´(Area Scope)ï¼šRouter-LSA, Network-LSA, Inter-Area-Prefix-LSA, Inter-Area-Router-LSA, Intra-Area-Prefix-LSA(æ–°å¢)éƒ½æ˜¯åŒºåŸŸèŒƒå›´æ³›æ´ªçš„ LSAã€‚&lt;/li&gt;
&lt;li&gt;è‡ªæ²»ç³»ç»ŸèŒƒå›´(AS Scope)ï¼šLSA å°†è¢«æ³›æ´ªåˆ°æ•´ä¸ªè·¯ç”±åŸŸï¼ŒAS-External-LSAã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;åŠŸèƒ½ç¼–ç &#34;&gt;åŠŸèƒ½ç¼–ç &lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590850330408.png&#34; alt=&#34;åŠŸèƒ½ç¼–ç &#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;link-state-id&#34;&gt;Link State ID&lt;/h5&gt;
&lt;p&gt;4å­—èŠ‚ã€‚ä¸å†åŒ…å«åœ°å€ä¿¡æ¯ï¼Œå¯¹äºä¸åŒçš„LSAç±»å‹ï¼Œè¯¥å­—æ®µçš„å«ä¹‰å¦‚ä¸‹è¡¨ï¼ŒåŒæ—¶æä¾›ä¸OSPFv2ä¸­å«ä¹‰çš„å¯¹æ¯”ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590850871642.png&#34; alt=&#34;Link State ID&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;lsaçš„ç±»å‹ç®€è¿°&#34;&gt;LSAçš„ç±»å‹ç®€è¿°&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590850942386.png&#34; alt=&#34;LSAçš„ç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
OSPFv3æ–°å¢äº†Link LSAå’ŒIntra Area Prefix LSAã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Router LSA ä¸å†åŒ…å«åœ°å€ä¿¡æ¯ï¼Œä½¿èƒ½ OSPFv3 çš„è·¯ç”±å™¨ä¸ºå®ƒæ‰€è¿æ¥çš„æ¯æ¡é“¾è·¯äº§ç”Ÿå•ç‹¬çš„ Link LSAï¼Œå°†å½“å‰æ¥å£çš„é“¾è·¯æœ¬åœ°åœ°å€ä»¥åŠè·¯ç”±å™¨åœ¨è¿™æ¡é“¾è·¯ä¸Šçš„ä¸€ç³»åˆ— IPv6 åœ°å€ä¿¡æ¯å‘è¯¥é“¾è·¯ä¸Šçš„æ‰€æœ‰å…¶å®ƒè·¯ç”±å™¨é€šå‘Šã€‚&lt;/li&gt;
&lt;li&gt;Router LSA å’Œ Network LSA ä¸­ä¸å†åŒ…å«è·¯ç”±ä¿¡æ¯ï¼Œè¿™ä¸¤ç±» LSA ä¸­æ‰€æºå¸¦çš„è·¯ç”±ä¿¡æ¯ç”± Intra Area Prefix LSA æ¥æè¿°ï¼Œè¯¥ç±» LSA ç”¨æ¥å…¬å‘Šä¸€ä¸ªæˆ–å¤šä¸ªIPv6 åœ°å€å‰ç¼€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;prefix-option-å­—æ®µ&#34;&gt;Prefix Option å­—æ®µ&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590851489315.png&#34; alt=&#34;Prefix Option å­—æ®µ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨OSPFv2ä¸­ï¼Œä½¿ç”¨â€œIPç½‘æ®µï¼‹æ©ç â€æ¥è¡¨ç¤ºå‰ç¼€ä¿¡æ¯ï¼Œè€Œä¸”ä¸¤æ®µä¿¡æ¯åœ¨ä¸åŒLSAä¸­çš„ä½ç½®è¿˜å„ä¸ç›¸åŒï¼Œç»“æ„å¾ˆä¸æ¸…æ™°ã€‚åœ¨OSPFv3çš„LSAä¸­ï¼Œä½¿ç”¨ä¸“é—¨çš„ä¸‰å…ƒç»„ï¼ˆPrefix-Length, PrefixOptions, Prefixï¼‰æ¥è¡¨ç¤ºå‰ç¼€ä¿¡æ¯ã€‚ç”±LSAå…¬å‘Šçš„æ¯ä¸ªå‰ç¼€éƒ½æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„PrefixOptions å­—æ®µã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Prefix-Lengthï¼š1å­—èŠ‚ã€‚å‰ç¼€çš„bitä½é•¿åº¦ï¼Œå¯¹äºç¼ºçœè·¯ç”±è¯¥å­—æ®µå–å€¼ä¸º0ã€‚&lt;/li&gt;
&lt;li&gt;PrefixOptionsï¼š1å­—èŠ‚ã€‚å‰ç¼€ä¿¡æ¯çš„é€‰é¡¹ï¼Œç”¨æ¥æè¿°å‰ç¼€çš„æŸäº›ç‰¹æ®Šå±æ€§å­—æ®µï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;NUä½ï¼šéå•æ’­ä½ã€‚å¦‚æœè®¾ç½®ä¸º1ï¼Œåˆ™è¿™ä¸ªå‰ç¼€ä¸ä¼šçº³å…¥IPv6å•æ’­è·¯ç”±è®¡ç®—ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;LAä½ï¼šæœ¬åœ°åœ°å€ä½ã€‚å¦‚æœè®¾ç½®ä¸º1ï¼Œåˆ™è¿™ä¸ªå‰ç¼€æ˜¯è·¯ç”±å™¨çš„ä¸€ä¸ªæ¥å£åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;MCä½ï¼šç»„æ’­ä½ã€‚å¦‚æœè®¾ç½®ä¸º1ï¼Œåˆ™è¿™ä¸ªå‰ç¼€åº”è¯¥çº³å…¥ç»„æ’­è®¡ç®—ä¸­ï¼Œå¦åˆ™ä¸çº³å…¥ç»„æ’­è®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;Pä½ï¼šä¼ æ’­ä½ã€‚å¦‚æœä¸€ä¸ªNSSAåŒºåŸŸçš„å‰ç¼€éœ€è¦è¢«ABRä¼ æ’­å‡ºå»ï¼Œå°±éœ€è¦è®¾ç½®è¿™ä¸€ä½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Prefixï¼šé•¿åº¦ä¸å®šï¼Œä¸º4å­—èŠ‚çš„å€æ•°ã€‚ç”¨äºè¡¨ç¤ºå‰ç¼€çš„IPv6ç½‘ç»œåœ°å€ä¿¡æ¯ã€‚&lt;br&gt;
Prefix-lengthå¯å˜ï¼Œä½†å¿…é¡»æ˜¯32bitï¼ˆ4å­—èŠ‚ï¼‰çš„æ•´æ•°å€ï¼Œå¯ç”¨0æ¥å¡«å……ã€‚å› æ­¤å®ƒçš„é•¿åº¦å¯èƒ½æ˜¯0ã€4ã€8ã€12ã€16å­—èŠ‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lsaåˆ†ç±»&#34;&gt;LSAåˆ†ç±»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590851875439.png&#34; alt=&#34;LSAç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;router-lsatype1&#34;&gt;Router LSAï¼ˆType1ï¼‰&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590852918493.png&#34; alt=&#34;Router LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æ­¤ç±»LSAåŒospfv2ç›¸æ¯”å¹¶ä¸åŒ…å«å‰ç¼€ä¿¡æ¯&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LS Typeï¼š0x2001ï¼Œæ³›æ´ªèŒƒå›´ä¸ºAreaã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªRouter-LSAåŒ…å«è‹¥å¹²é“¾è·¯æè¿° ï¼Œæ¯ä¸ªé“¾è·¯æè¿°éƒ½æè¿°äº†è·¯ç”±å™¨çš„ä¸€ä¸ªæ¥å£ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨å¤šä¸ªRouter-LSAæè¿°ä¿¡æ¯ï¼Œé€šè¿‡Link-State IDåŒºåˆ†å¤šä¸ªä¸åŒçš„Router-LSAã€‚&lt;/li&gt;
&lt;li&gt;Wï¼šç”¨äºç»„æ’­è·¯ç”±ï¼›&lt;/li&gt;
&lt;li&gt;Vï¼šè¯¥è·¯ç”±å™¨ä¸ºè™šè¿æ¥çš„ä¸€ç«¯ï¼›&lt;/li&gt;
&lt;li&gt;Eï¼šè¯¥è·¯ç”±å™¨ä¸ºASBRï¼›&lt;/li&gt;
&lt;li&gt;Bï¼šè¯¥è·¯ç”±å™¨ä¸ºABRã€‚&lt;/li&gt;
&lt;li&gt;Typeï¼š1å­—èŠ‚ã€‚è·¯ç”±å™¨çš„è¯¥é“¾è·¯çš„é“¾è·¯ç±»å‹ï¼›&lt;/li&gt;
&lt;li&gt;Metricï¼š2å­—èŠ‚ã€‚æ•°æ®æŠ¥æ–‡ä»æ­¤æ¥å£å‘å‡ºæ—¶çš„costå€¼ï¼›&lt;/li&gt;
&lt;li&gt;Interface IDï¼š4å­—èŠ‚ã€‚æ¥å£IDï¼Œç”¨äºæ ‡è¯†æ¥å£ï¼Œæ— åœ°å€å«ä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;Neighbor Interface IDï¼š4å­—èŠ‚ã€‚é‚»å±…æ¥å£IDã€‚&lt;/li&gt;
&lt;li&gt;Neighbor Router IDï¼š4å­—èŠ‚ã€‚é‚»å±…Router IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;router-lsaé“¾æ¥linkç±»å‹&#34;&gt;Router LSAé“¾æ¥(Link)ç±»å‹&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590853331763.png&#34; alt=&#34; Router LSAé“¾æ¥&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;network-lsatype2&#34;&gt;Network LSAï¼ˆType2ï¼‰&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590853690926.png&#34; alt=&#34;Network LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;DRäº§ç”Ÿï¼ŒLS Typeï¼š0x2002ï¼Œæ³›æ´ªèŒƒå›´ä¸ºAreaï¼›&lt;/li&gt;
&lt;li&gt;æè¿°è¯¥é“¾è·¯ä¸Šä¸DRæœ‰FULLå…³ç³»çš„æ‰€æœ‰è·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;Attached Routerï¼š
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªè·¯ç”±å™¨4å­—èŠ‚ã€‚è¯¥é“¾è·¯ä¸Šæ‰€æœ‰ä¸DR&lt;strong&gt;æœ‰Fullå…³ç³»çš„è·¯ç”±å™¨çš„Router ID&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;OSPFv3çš„Network-LSAå…·æœ‰åŒºåŸŸæ³›æ»¥èŒƒå›´ï¼Œç”±DRç”Ÿæˆã€‚å®ƒçš„Link State IDä¸ºDRçš„Interface IDï¼Œè€Œä¸”å°†OSPFv2ä¸­çš„æ©ç å­—æ®µå–æ¶ˆäº†ï¼Œæ‰€ä»¥å®ƒä¸å†åŒ…å«å‰ç¼€ä¿¡æ¯ï¼Œè€Œä»…ä»…æè¿°äº†æ‹“æ‰‘è¿æ¥æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºå…¶ä¸­çš„Optionså­—æ®µä¸ºé“¾è·¯ä¸Šæ‰€æœ‰è·¯ç”±å™¨çš„èƒ½åŠ›é›†åˆï¼Œå› æ­¤DRçš„èƒ½åŠ›å¤§å°å¹¶ä¸ä¼šå½±å“å…¶ä»–è·¯ç”±å™¨çš„LSAä¼ æ’­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;inter-area-prefix-lsatype3&#34;&gt;Inter-Area-Prefix-LSAï¼ˆType3ï¼‰&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590904761822.png&#34; alt=&#34;Inter-Area-Prefix-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ABRäº§ç”Ÿï¼ŒLSç±»å‹å€¼ä¸º0x2003ï¼Œæ³›æ´ªèŒƒå›´ä¸ºAreaã€‚&lt;/li&gt;
&lt;li&gt;åœ¨IPv4ä¸­ï¼ŒInter-Area-Prefix-LSAç§°ä¸ºType 3  Summary-LSAã€‚&lt;/li&gt;
&lt;li&gt;Metricï¼š20bitã€‚è¡¨ç¤ºABRåˆ°è¾¾è¯¥å‰ç¼€æè¿°çš„è·¯ç”±çš„costå€¼ã€‚&lt;/li&gt;
&lt;li&gt;å‰ç¼€ä¿¡æ¯ï¼šæè¿°å‰ç¼€çš„Prefixä¸‰å…ƒç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨OSPFv2ä¸­ï¼Œè¯¥ç±»å‹çš„LSAç§°ä¸ºType 3 Summary-LSAã€‚åœ¨OSPFv3ä¸­ï¼Œæ›´åä¸ºInter-Area Prefix-LSAï¼Œè¯­ä¹‰æ›´åŠ æ˜ç¡®ï¼Œå®ƒæè¿°äº†å…¶ä»–åŒºåŸŸçš„å‰ç¼€ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¾¹ç•Œè·¯ç”±å™¨(ABR)äº§ç”Ÿ&lt;/strong&gt;çš„ç¬¬3ç±»LSAï¼Œåœ¨&lt;strong&gt;AreaèŒƒå›´å†…æ´ªæ³›&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æè¿°äº†åˆ°æœ¬ASå†…å…¶ä»–åŒºåŸŸçš„è·¯ç”±ä¿¡æ¯ï¼›&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªInter-Area-Prefix-LSAåŒ…å«&lt;strong&gt;ä¸€æ¡&lt;/strong&gt;åœ°å€å‰ç¼€ä¿¡æ¯ï¼›&lt;/li&gt;
&lt;li&gt;è¯¥LSAä¸­&lt;strong&gt;ä¸åŒ…å«Link-Localåœ°å€ä¿¡æ¯&lt;/strong&gt;;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;strong&gt;32ä½æ•´æ•°ä½œä¸ºLink State ID&lt;/strong&gt;æ¥åŒºåˆ†åŒä¸€è·¯ç”±å™¨äº§ç”Ÿçš„ä¸åŒLSAã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;inter-area-router-lsatype4&#34;&gt;Inter-Area-Router-LSAï¼ˆType4ï¼‰&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;14&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590855068928.png&#34; alt=&#34; Inter-Area-Router-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;LS Typeï¼š0x2004ï¼Œæ³›æ´ªèŒƒå›´ä¸ºArea&lt;/li&gt;
&lt;li&gt;Optionsï¼š3å­—èŠ‚ï¼Œå¹¶éç”ŸæˆLSAçš„è·¯ç”±å™¨çš„èƒ½åŠ›æè¿°ï¼Œè€Œæ˜¯æè¿°äº†ç›®çš„ASBRçš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;Metricï¼š3å­—èŠ‚ï¼Œè¡¨ç¤ºABRåˆ°ç›®çš„ASBRè·¯ç”±å™¨çš„costå€¼ã€‚&lt;/li&gt;
&lt;li&gt;Destination Router IDï¼š4å­—èŠ‚ï¼Œç›®çš„ASBRè·¯ç”±å™¨çš„Router IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OSPFv2ä¸­ï¼Œè¯¥ç±»å‹çš„LSAç§°ä¸ºType 4 Summary-LSAã€‚åœ¨OSPFv3ä¸­ï¼Œæ›´åä¸ºInter-Area Router-LSAï¼Œè¯­ä¹‰æ›´åŠ æ˜ç¡®ï¼Œå®ƒæè¿°äº†åˆ°è¾¾å…¶ä»–åŒºåŸŸçš„ASBRçš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾¹ç•Œè·¯ç”±å™¨(ABR)äº§ç”Ÿçš„ç¬¬4ç±»LSAï¼Œåœ¨AreaèŒƒå›´å†…æ´ªæ³›ï¼›&lt;/li&gt;
&lt;li&gt;æè¿°äº†åˆ°æœ¬ASå†…å…¶ä»–åŒºåŸŸçš„ASBRè·¯ç”±å™¨ä¿¡æ¯ï¼›&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªInter-Area-Router-LSAåŒ…å«ä¸€ä¸ªASBRè·¯ç”±å™¨ä¿¡æ¯ï¼›&lt;/li&gt;
&lt;li&gt;LSAä¸­çš„èƒ½åŠ›é€‰é¡¹(Options)ä¸æ‰€æè¿°çš„ASBR Router LSAä¸­èƒ½åŠ›é€‰é¡¹(Options)ä¿æŒä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨32ä½æ•´æ•°ä½œä¸ºLink State IDæ¥åŒºåˆ†ç›¸åŒçš„LSAã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;as-external-lsatype5&#34;&gt;AS-External-LSAï¼ˆType5ï¼‰&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;15&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590855551432.png&#34; alt=&#34;AS-External-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¤–éƒ¨è·¯ç”±LSAï¼ŒASBRç”Ÿæˆï¼ŒLSç±»å‹å€¼ä¸º0x4005ï¼Œæ³›æ´ªèŒƒå›´ä¸ºAS&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªAS-External-LSAæè¿°åˆ°è¾¾è‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„ä¸€ä¸ªå‰ç¼€çš„è·¯å¾„ï¼Œæ¯ä¸ªAS-external-LSAåŒ…å«ä¸€æ¡åœ°å€å‰ç¼€ä¿¡æ¯ï¼Œä¸”ä¸èƒ½åŒ…å«æœ¬åœ°é“¾è·¯åœ°å€ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;Eï¼šå¤–éƒ¨è·¯ç”±çš„Metricç±»å‹ã€‚å¦‚æœè®¾ç½®ä¸º1ï¼Œè¡¨ç¤ºæ­¤ä¸º2ç±»å¤–éƒ¨è·¯ç”±ï¼Œå…¶Metricä¸éšç€è·¯ç”±çš„ä¼ é€’è€Œå¢é•¿ã€‚å¦‚æœè®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºæ­¤ä¸º1ç±»å¤–éƒ¨è·¯ç”±ï¼Œå…¶Metricéšç€è·¯ç”±çš„ä¼ é€’è€Œå¢é•¿ã€‚&lt;/li&gt;
&lt;li&gt;Fï¼šå¦‚æœè®¾ç½®ä¸º1ï¼Œåˆ™è¡¨ç¤ºåé¢çš„Forwarding Addresså¯é€‰å­—æ®µå­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;Tï¼šå¦‚æœè®¾ç½®ä¸º1ï¼Œåˆ™è¡¨ç¤ºåé¢çš„External Route Tagå¯é€‰å­—æ®µå­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;å‰ç¼€ä¿¡æ¯ï¼šæè¿°å‰ç¼€çš„Prefixä¸‰å…ƒç»„ã€‚&lt;/li&gt;
&lt;li&gt;Ref LS Typeï¼š2å­—èŠ‚ã€‚å¦‚æœé0ï¼Œåˆ™è¡¨ç¤ºåé¢çš„Referenced Link State IDå¯é€‰å­—æ®µå­˜åœ¨ã€‚&lt;/li&gt;
&lt;li&gt;Forwarding Addressï¼š16å­—èŠ‚ã€‚å¯é€‰çš„128ä½IPv6åœ°å€ã€‚å½“å‰é¢çš„Fä½ä¸º1æ—¶å­˜åœ¨ã€‚è¡¨ç¤ºåˆ°è¾¾ç›®çš„çš„æ•°æ®åº”è¯¥è½¬å‘åˆ°è¿™ä¸ªåœ°å€ã€‚åœ¨å…¬å‘Šè·¯ç”±å™¨ä¸æ˜¯æœ€ä¼˜çš„ä¸‹ä¸€è·³çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;External Route Tagï¼š4å­—èŠ‚ã€‚å¯é€‰çš„æ ‡è®°ä½ã€‚å¯ä»¥ç”¨äºASBRä¹‹é—´çš„é€šä¿¡ã€‚ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„ä¾‹å­æ˜¯ï¼Œåœ¨OSPFè‡ªæ²»ç³»ç»Ÿçš„ä¸¤ä¸ªè¾¹ç•Œè·¯ç”±å™¨ä¸Šè¿›è¡Œè·¯ç”±åˆ†å‘æ—¶ï¼Œé€šè¿‡å¯¹å¼•å…¥çš„è·¯ç”±è¿›è¡Œæ ‡è®°ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œè·¯ç”±è¿‡æ»¤ã€‚&lt;/li&gt;
&lt;li&gt;Referenced Link State IDï¼š4å­—èŠ‚ã€‚å½“å‰é¢çš„Ref LS Typeå­—æ®µé0æ—¶å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨ï¼Œè¯´æ˜æ­¤æ¡å¤–éƒ¨è·¯ç”±æœ‰ä¸€äº›ç›¸å…³ä¿¡æ¯éœ€è¦å‚è€ƒå¦å¤–ä¸€ä¸ªLSAã€‚è¢«å‚è€ƒçš„LSAç”±ä»¥ä¸‹å­—æ®µå€¼ç¡®å®šï¼š
&lt;ul&gt;
&lt;li&gt;å…¶LS typeç­‰äºæ­¤AS-external-LSAçš„Referenced LS Typeï¼›&lt;/li&gt;
&lt;li&gt;å…¶Link State IDç­‰äºæ­¤AS-external-LSAçš„Referenced Link State IDï¼›&lt;/li&gt;
&lt;li&gt;å…¶Advertising Routerç­‰äºæ­¤ASexternal-LSAçš„Advertising Routerã€‚&lt;br&gt;
&lt;code&gt;è¿™ç§å‚è€ƒèƒ½åŠ›æ˜¯ä¸ºæœªæ¥çš„æ‰©å±•å‡†å¤‡çš„ï¼Œç›®å‰å¹¶æ²¡æœ‰ä½¿ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;link-lsatype8&#34;&gt;Link-LSAï¼ˆType8ï¼‰&lt;/h4&gt;
&lt;p&gt;è¯¥ç±»LSAä»…åœ¨æœ¬é“¾è·¯ä¸Šä¼ æ’­ï¼Œå…·æœ‰ä»¥ä¸‹3ç§ç›®çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘æœ¬é“¾è·¯ä¸Šçš„å…¶ä»–è·¯ç”±å™¨é€šå‘Šæœ¬åœ°é“¾è·¯åœ°å€ï¼Œä½œä¸ºä»–ä»¬çš„ä¸‹ä¸€è·³åœ°å€&lt;/li&gt;
&lt;li&gt;å‘æœ¬é“¾è·¯ä¸Šçš„å…¶ä»–è·¯ç”±å™¨é€šå‘Šæœ¬åœ°ä¸Šçš„æ‰€æœ‰IPv6åœ°å€å‰ç¼€&lt;/li&gt;
&lt;li&gt;å…è®¸è·¯ç”±å™¨åœ¨è¯¥ç±»å‹LSAä¸­æ’å…¥ä¸€äº›é€‰é¡¹æ¯”ç‰¹ï¼Œä¸ä¸ºæœ¬é“¾è·¯äº§ç”Ÿçš„ç½‘ç»œLSAç›¸å…³è”ï¼ˆåœ¨å¹¿æ’­ç½‘ç»œå’ŒNBMAç“¦æ´›æ´›ä¸Šä¸ºDRæä¾›Optionså–å€¼ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590903452173.png&#34; alt=&#34;Link-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Rtr Pri: è¯¥è·¯ç”±å™¨åœ¨è¯¥é“¾è·¯ä¸Šçš„ ä¼˜å…ˆçº§(Router Priorityç”¨äºé€‰ä¸¾ DR)ï¼›&lt;/li&gt;
&lt;li&gt;Options: æä¾›ç»™Network LSAçš„ Optionsï¼›&lt;/li&gt;
&lt;li&gt;Link Local Interface Address: è·¯ç”±å™¨ä¸è¯¥é“¾è·¯ç›¸è¿çš„æ¥å£ä¸Šé…ç½®çš„Link Localåœ°å€(Link Localåœ°å€åªå‡ºç°åœ¨Link LSAä¸­)ï¼›&lt;/li&gt;
&lt;li&gt;Prefix: è¯¥LSAä¸­æºå¸¦äº†å¤šä¸ªIPv6åœ°å€Prefixï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;intra-area-prefix-lsatype9&#34;&gt;Intra-Area-Prefix-LSAï¼ˆType9ï¼‰&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå¼•å…¥Intra-Area-Prefix-LSA?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OSPFv2ä¸­ï¼Œä¾é™„äºè·¯ç”±å™¨å’ŒStubç½‘ç»œçš„subnetå‡ºç°åœ¨Router LSAä¸­ï¼Œä¾é™„äºTransitç½‘ç»œçš„subnetå‡ºç°åœ¨Network-LSAä¸­ï¼›OSPFv3ä¸­ï¼Œ&lt;strong&gt;Router-LSAå’ŒNetwork-LSAä¸å†åŒ…å«åœ°å€ä¿¡æ¯&lt;/strong&gt;ï¼Œæ‰€ä»¥å¼•å…¥Intra-Area-Prefix-LSAã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Intra-Area-Prefix-LSAæºå¸¦åŒºåŸŸå†…IPv6 Prefixä¿¡æ¯ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¾é™„äºè·¯ç”±å™¨çš„Prefix&lt;br&gt;
ä¾é™„äºStubç½‘ç»œçš„Prefix&lt;br&gt;
ä¾é™„äºTransitç½‘ç»œçš„Prefix&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590854113720.png&#34; alt=&#34; Intra-Area-Prefix-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æ¯å°è·¯ç”±å™¨æˆ–Transitç½‘ç»œå¯ä»¥ äº§ç”Ÿå¤šä¸ªIntra-Area-Prefix-LSA&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸŸé—´å‰ç¼€LSAï¼ŒLS Typeï¼š0x2009ï¼Œæ³›æ´ªèŒƒå›´ä¸ºArea&lt;/li&gt;
&lt;li&gt;#Prefixesï¼šLSAä¸­åŒ…å«çš„Prefixä¸ªæ•°ã€‚&lt;/li&gt;
&lt;li&gt;Referenced Link State Type:
&lt;ul&gt;
&lt;li&gt;1: æºå¸¦çš„Prefixä¾é™„äºRouter(åŒ…æ‹¬Stubç½‘ç»œ)&lt;/li&gt;
&lt;li&gt;2: æºå¸¦çš„Prefixä¾é™„äºTransit Network&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Referenced Link State ID:
&lt;ul&gt;
&lt;li&gt;Type1:  0&lt;/li&gt;
&lt;li&gt;Type2ï¼šDRæ¥å£ID&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Referenced Advertising Router:
&lt;ul&gt;
&lt;li&gt;Type 1ï¼šä¾é™„çš„è·¯ç”±å™¨Router ID&lt;/li&gt;
&lt;li&gt;Type 2ï¼šDR Router ID&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Metricï¼š20bitã€‚è¡¨ç¤ºABRåˆ°è¾¾è¯¥å‰ç¼€æè¿°çš„è·¯ç”±çš„costå€¼ã€‚&lt;/li&gt;
&lt;li&gt;å‰ç¼€ä¿¡æ¯ï¼šæè¿°å‰ç¼€çš„Prefixä¸‰å…ƒç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;isisv3&#34;&gt;ISISv3&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ISISæ˜¯ä¸€ç§IGPåè®®ï¼ŒISISä½¿ç”¨SPFç®—æ³•è®¡ç®—è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;ISISçš„æŠ¥æ–‡é‡‡ç”¨TLVç»“æ„ï¼Œå› æ­¤æ‰©å±•æ€§å¾ˆå¥½ã€‚ä¸ºæ”¯æŒæ–°çš„åè®®å’Œç‰¹æ€§ï¼Œåªéœ€è¦æ‰©å±•æ–°çš„TLVæˆ–å­TLVã€‚å¯ä»¥è½»æ¾æ‰©å±•æ”¯æŒIPv6ï¼ŒTEï¼ŒMTç­‰åè®®å’Œç‰¹æ€§ã€‚IS-ISå¯¹IPv6çš„æ”¯æŒä¸éœ€è¦å¯¹åè®®åšå¤§çš„æ”¹åŠ¨ï¼Œå› æ­¤åè®®çš„ç»§æ‰¿æ€§å¾ˆå¥½ï¼›ä¸åƒOSPFï¼Œä¸ºæ”¯æŒIPv6éœ€è¦å¼€å‘å…¨æ–°çš„åè®®OSPFv3ã€‚&lt;/li&gt;
&lt;li&gt;IS-ISé€šè¿‡æ–°å¢TLVä»¥å®ç°å¯¹IPv6çš„æ”¯æŒã€‚&lt;strong&gt;236å·TLV&lt;/strong&gt;ï¼Œå®šä¹‰&lt;strong&gt;è·¯ç”±ä¿¡æ¯&lt;/strong&gt;å‰ç¼€ã€åº¦é‡å€¼ç­‰ä¿¡æ¯æ¥è¯´æ˜ç½‘ç»œçš„å¯è¾¾æ€§ã€‚&lt;strong&gt;232å·TLV&lt;/strong&gt;ï¼Œç›¸å½“äºIPv4ä¸­çš„â€œIP Interface Addressâ€TLVï¼Œåªä¸è¿‡æŠŠåŸæ¥çš„32æ¯”ç‰¹çš„IPv4åœ°å€æ”¹ä¸º128æ¯”ç‰¹çš„IPv6åœ°å€ï¼Œæè¿°&lt;strong&gt;æ¥å£ä¿¡æ¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ipv6-reachability&#34;&gt;IPv6 Reachability&lt;/h4&gt;
&lt;p&gt;ç±»å‹å€¼ä¸º236ï¼ˆ0xECï¼‰ï¼Œé€šè¿‡å‰ç¼€ã€åº¦é‡ã€æ ‡è®° ç­‰æ¥æè¿°å¯è¾¾çš„IPv6å‰ç¼€ä¿¡æ¯ã€‚åœ¨IPv4ä¸­æœ‰IPv4å†…éƒ¨å¯è¾¾æ€§TLVå’ŒIPv4  å¤–éƒ¨å¯è¾¾æ€§TLVï¼Œåœ¨IPv6çš„æ‰©å±•å½“ä¸­ä½¿ç”¨ä¸€ä¸ªâ€œXâ€bitæ¥åŒºåˆ†â€œå†…éƒ¨â€ å’Œâ€œå¤–éƒ¨â€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590907627348.png&#34; alt=&#34;IPv6 Reachability&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Uï¼šup/down bit ï¼Œæ ‡è¯†è¿™ä¸ªå‰ç¼€æ˜¯å¦æ˜¯ä»é«˜levelé€šå‘Šä¸‹æ¥çš„ï¼ˆç”¨æ¥é˜²ç¯è·¯ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Xï¼šexternal original bit ï¼Œæ ‡è¯†è¿™ä¸ªå‰ç¼€æ˜¯å¦æ˜¯ä»å…¶ä»–è·¯ç”±åè®®ä¸­å¼•å…¥è¿‡æ¥çš„ã€‚&lt;/li&gt;
&lt;li&gt;Sï¼šsubtlv present bitï¼Œå­TLVæ ‡è¯†ä½ã€‚(å¯é€‰)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ipv6-interface-address&#34;&gt;IPv6 Interface Address&lt;/h4&gt;
&lt;p&gt;ç±»å‹å€¼ä¸º232ï¼ˆ0xE8ï¼‰ï¼Œå®ƒç›¸å½“äºIPv4ä¸­çš„ â€œIP Interface Addressâ€ TLVï¼Œåªä¸è¿‡æŠŠåŸæ¥çš„32æ¯”ç‰¹çš„IPv4åœ°å€ æ”¹ä¸º128æ¯”ç‰¹çš„IPv6åœ°å€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590907685744.png&#34; alt=&#34;IPv6 Interface Address&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™ä¸ªTLVç»“æ„æ˜¯ç›´æ¥ä»TLV132æ˜ å°„è¿‡æ¥çš„ï¼Œå› æ­¤ï¼ŒåŸæ¥TLV132æœ€å¤šå¯ä»¥64ä¸ªIPåœ°å€(32ä½)ï¼Œåœ¨TLV232ä¸­ï¼Œæœ€å¤šåªèƒ½æœ‰16ä¸ªIPv6åœ°å€(128ä½)ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ä¸åŒçš„PDUä¸­ï¼Œè¿™ä¸ªå­—æ®µçš„å†…å®¹æ˜¯ä¸åŒçš„ï¼Œåœ¨hello PDUä¸­ï¼Œâ€œæ¥ å£åœ°å€TLVâ€åªèƒ½åŒ…å«å‘é€helloåŒ…çš„æ¥å£çš„Link-localåœ°å€ï¼›å¯¹äºLSPï¼Œâ€œæ¥å£åœ°å€TLVâ€åªèƒ½åŒ…å«ISçš„non-link-local IPv6ï¼ˆå³å…¨å±€å•æ’­åœ°å€ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;stå•æ‹“æ‰‘&#34;&gt;STå•æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;IS-ISä¸ºæ‰€æœ‰åè®®ç»´æŠ¤ç›¸åŒçš„SPTï¼ŒIPv4å’ŒIPv6çš„æ‹“æ‰‘å¿…é¡»ä¸€è‡´&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590908868835.png&#34; alt=&#34;STå•æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸è¶³ä¹‹å¤„&#34;&gt;ä¸è¶³ä¹‹å¤„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œå¯ç»´æŠ¤æ€§çš„éœ€æ±‚åœ¨ç›®å‰çš„è¿è¥å•†ä¸­è¶Šæ¥è¶Šè¢«é‡è§†ï¼Œç‹¬ç«‹æ‹“æ‰‘çš„ç»´æŠ¤ç½‘ç»œï¼Œ å³å¸¦å†…ç»´æŠ¤ç½‘ç»œçš„éœ€æ±‚å¼€å§‹å‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;IS-ISä¸ºæ‰€æœ‰åè®®ç»´æŠ¤ç›¸åŒçš„SPTï¼Œè¿™æ„å‘³ç€IPv4å’ŒIPv6çš„æ‹“æ‰‘å¿…é¡»ä¸€è‡´&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å­˜åœ¨é—®é¢˜&#34;&gt;å­˜åœ¨é—®é¢˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ä¸é€‚åˆåˆ†ç¦»æ‹“æ‰‘çš„ç½‘ç»œéƒ¨ç½²ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºç»´æŠ¤ç›¸åŒçš„æ‹“æ‰‘ï¼Œæ‰€æœ‰æ¥å£éƒ½å¿…é¡»åŒæ—¶è¿è¡ŒIS-IS IPv4å’ŒIS-IS IPv6ï¼Œéƒ¨ç½²ä¸&lt;br&gt;
çµæ´»ã€‚&lt;/li&gt;
&lt;li&gt;ä¸èƒ½ä½¿ç”¨IPv4åŒºåŸŸæ¥é“¾æ¥ä¸åŒçš„IPv6åŒºåŸŸï¼Œå¦åˆ™IPv4åŒºåŸŸä¼šä¸¢å¼ƒIPv6çš„æµé‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isiså¯¹mtå¤šæ‹“æ‰‘çš„æ”¯æŒ&#34;&gt;ISISå¯¹MTå¤šæ‹“æ‰‘çš„æ”¯æŒ&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;16&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590931948534.png&#34; alt=&#34;ISISå¯¹MTå¤šæ‹“æ‰‘çš„æ”¯æŒ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;MTå¯ä»¥ä½¿ISISåœ¨ä¸€ä¸ªè·¯ç”±åŸŸä¸­ç»´æŠ¤å¤šä¸ªæ‹“æ‰‘&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¯æŒMTï¼ŒISISå¯ä»¥ä¸ºIPv4å’ŒIPv6ç»´æŠ¤åˆ†ç¦»çš„æ‹“æ‰‘&lt;/li&gt;
&lt;li&gt;é‡è¦çš„æ˜¯ï¼Œä½¿ç”¨MTï¼ŒIPv4å’ŒIPv6çš„æ‹“æ‰‘å°±ä¸éœ€è¦ä¸€æ ·äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;mtå¤šæ‹“æ‰‘åˆ†ç¦»çš„æ‹“æ‰‘&#34;&gt;MT(å¤šæ‹“æ‰‘)ï¼šåˆ†ç¦»çš„æ‹“æ‰‘&lt;/h4&gt;
&lt;p&gt;ISISè·¯ç”±åè®®ä¸»è¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼šé‚»å±…çš„å»ºç«‹ï¼Œè·¯ç”±å¯è¾¾ï¼ˆPrefix Reachableï¼‰ä¸è·¯ç”±å™¨å¯è¾¾ï¼ˆIS Reachableï¼‰çš„å‘å¸ƒï¼ŒSPFè®¡ç®—ä»¥åŠè·¯ç”±è®¡ç®—ã€‚&lt;br&gt;
ä¸ºäº†è¾¾åˆ°å¤šæ‹“æ‰‘çš„ç›¸äº’éš”ç¦»ï¼Œä»¥ä¸Šå‡ ä¸ªæ–¹é¢å‡è¦æ±‚æºå¸¦MTå‚æ•°ä»¥æ»¡è¶³è¿™ä¸€è¦æ±‚ï¼ˆSPFè®¡ç®—ä¸è·¯ç”±è®¡ç®—åœ¨è·¯ç”±å™¨å†…è¯†åˆ«å®Œæˆï¼‰ã€‚äºæ˜¯ï¼Œdraft-ietf-isis-wg-multi-topology-11ä¸­å®šä¹‰äº†å››ç§æ–°çš„TLVåˆ†åˆ«æ»¡è¶³ä»¥&lt;br&gt;
ä¸Šè¿‡ç¨‹ï¼Œå®ç°äº†é€šç”¨ç¯å¢ƒä¸‹çš„ISIS MTçš„äº¤äº’è¿‡ç¨‹ã€‚&lt;br&gt;
ä½¿èƒ½ISISè¿›ç¨‹å¤šæ‹“æ‰‘ï¼š&lt;code&gt;[Huawei-isis-1]ipv6 enable topology ipv6&lt;/code&gt;&lt;br&gt;
æ¥å£ä¸Šä½¿èƒ½ISISï¼š&lt;code&gt;[Huawei-GigabitEthernetX/Y/Z]isis ipv6 enable&lt;/code&gt;&lt;br&gt;
æŸ¥çœ‹ISISé‚»å±…å…³ç³»ï¼š&lt;code&gt;[Huawei]dis isis peer&lt;/code&gt;&lt;br&gt;
æŸ¥çœ‹ISISè·¯ç”±ï¼š&lt;code&gt;[Huawei]dis isis route&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;æ–°å¢å››ä¸ªTLV&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TLV229ï¼šMulti-Topology Identifier&lt;/li&gt;
&lt;li&gt;TLV222ï¼šMulti-Topologies Intermediate System&lt;/li&gt;
&lt;li&gt;TLV235ï¼šMulti-Topologies Reachable IPv4 Prefixes&lt;/li&gt;
&lt;li&gt;TLV237ï¼šMulti-Topologies Reachable IPv6 Prefixes&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ipv6è¿‡æ¸¡æŠ€æœ¯&#34;&gt;IPv6è¿‡æ¸¡æŠ€æœ¯&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;17&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590939623986.png&#34; alt=&#34;IPv6è¿‡æ¸¡æŠ€æœ¯&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IPv6ä¸IPv4å…±å­˜æŠ€æœ¯ï¼š
&lt;ul&gt;
&lt;li&gt;åŒåè®®æ ˆï¼š
&lt;ul&gt;
&lt;li&gt;IPv6èŠ‚ç‚¹åŒæ—¶æ”¯æŒIPv6å’ŒIPv4åè®®æ ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éš§é“ï¼š
&lt;ul&gt;
&lt;li&gt;IPv6æŠ¥æ–‡ä½œä¸ºIPv4çš„è½½è·ï¼Œç”±IPv4 Internetä¸­è¿æ¥å¤šä¸ªIPv6å­¤å²›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;IPv6ä¸IPv4äº’é€šæŠ€æœ¯ï¼š
&lt;ul&gt;
&lt;li&gt;æä¾›IPv6ä¸IPv4äº’ç›¸è®¿é—®çš„æŠ€æœ¯ã€‚&lt;/li&gt;
&lt;li&gt;é€‚ç”¨äºIPv6 Internetä¸IPv4 Internetå…±å­˜ï¼Œè€Œä¸¤è€…åˆæœ‰äº’ç›¸é€šè®¯çš„éœ€æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åŒæ ˆåè®®&#34;&gt;åŒæ ˆåè®®&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940226124.png&#34; alt=&#34;åŒæ ˆåè®®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰€æœ‰è®¾å¤‡å¿…é¡»æ”¯æŒIPv4/IPv6åè®®æ ˆï¼Œè¿æ¥åŒæ ˆç½‘ç»œçš„æ¥å£å¿…é¡»åŒæ—¶é…ç½®IPv4åœ°å€å’ŒIPv6åœ°å€&lt;/p&gt;
&lt;h2 id=&#34;ipv6-over-ipv4éš§é“æŠ€æœ¯&#34;&gt;IPv6 over IPv4éš§é“æŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940296740.png&#34; alt=&#34; IPv6 over IPv4éš§é“æŠ€æœ¯&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
é€šè¿‡éš§é“æŠ€æœ¯ï¼Œä½¿IPv6æŠ¥æ–‡åœ¨IPv4ç½‘ç»œä¸­ä¼ è¾“ï¼Œå®ç°IPv6ç½‘ç»œä¹‹é—´çš„å­¤å²›äº’è¿&lt;br&gt;
&lt;strong&gt;IPv6 over IPv4éš§é“åˆ†ç±»&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨éš§é“åŒ…æ‹¬æ‰‹åŠ¨éš§é“å’ŒGREéš§é“ï¼›&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨éš§é“åŒ…æ‹¬IPv4å…¼å®¹IPv6è‡ªåŠ¨éš§é“ã€6to4éš§é“å’ŒISATAPéš§é“&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;6over4æ‰‹åŠ¨éš§é“&#34;&gt;6over4æ‰‹åŠ¨éš§é“&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;18&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940506925.png&#34; alt=&#34;6over4æ‰‹åŠ¨éš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä¸€ä¸ªè¾¹ç•Œè®¾å¤‡è¦ä¸å¤šä¸ªè®¾å¤‡å»ºç«‹æ‰‹åŠ¨éš§é“ï¼Œå°±éœ€è¦åœ¨è®¾å¤‡ä¸Šé…ç½®å¤šä¸ªéš§é“ï¼Œé…ç½®æ¯”è¾ƒéº»çƒ¦ã€‚æ‰€ä»¥æ‰‹åŠ¨éš§é“é€š&lt;strong&gt;å¸¸ç”¨äºè¾¹ç•Œè·¯ç”±å™¨ä¸è¾¹ç•Œè·¯ç”±å™¨ï¼Œæˆ–è€…ä¸»æœºä¸è¾¹ç•Œè·¯ç”±å™¨ä¹‹é—´&lt;/strong&gt;ï¼Œä¸ºä¸¤ä¸ªIPv6ç½‘ç»œæä¾›è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨éš§é“ä¼˜ç¼ºç‚¹
&lt;ul&gt;
&lt;li&gt;ä¼˜ç‚¹ï¼šå¯ä»¥ç”¨äºä»»ä½•IPv6ç©¿è¶ŠIPv4çš„ç¯å¢ƒï¼Œé€šç”¨æ€§å¥½ã€‚&lt;/li&gt;
&lt;li&gt;ç¼ºç‚¹ï¼šå¿…é¡»æ‰‹å·¥é…ç½®ï¼Œæºåœ°å€å’Œç›®çš„åœ°å€å‡éœ€æ‰‹å·¥æŒ‡å®šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è½¬å‘æœºåˆ¶
&lt;ul&gt;
&lt;li&gt;IPv6 over IPv4æ‰‹åŠ¨éš§é“è½¬å‘æœºåˆ¶ä¸ºï¼šå½“éš§é“è¾¹ç•Œè®¾å¤‡çš„IPv6ä¾§æ”¶åˆ°ä¸€ä¸ªIPv6æŠ¥æ–‡åï¼Œ æ ¹æ®IPv6æŠ¥æ–‡çš„ç›®çš„åœ°å€æŸ¥æ‰¾IPv6è·¯ç”±è½¬å‘è¡¨ï¼Œå¦‚æœè¯¥æŠ¥æ–‡æ˜¯ä»æ­¤è™šæ‹Ÿéš§é“æ¥å£è½¬å‘å‡ºå»ï¼Œåˆ™æ ¹æ®éš§é“æ¥å£é…ç½®çš„éš§é“æºç«¯å’Œç›®çš„ç«¯çš„IPv4åœ°å€è¿›è¡Œå°è£…ã€‚å°è£…åçš„æŠ¥æ–‡å˜æˆä¸€ä¸ªIPv4æŠ¥æ–‡ï¼Œäº¤ç»™IPv4åè®®æ ˆå¤„ç†ã€‚æŠ¥æ–‡é€šè¿‡IPv4ç½‘ç»œè½¬å‘åˆ°éš§é“çš„ç»ˆç‚¹ã€‚éš§é“ç»ˆç‚¹æ”¶åˆ°ä¸€ä¸ªéš§é“åè®®æŠ¥æ–‡åï¼Œè¿›è¡Œéš§é“è§£å°è£…ã€‚å¹¶å°†è§£å°è£…åçš„æŠ¥æ–‡äº¤ç»™IPv6åè®®æ ˆå¤„ç†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;greéš§é“&#34;&gt;GREéš§é“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940749643.png&#34; alt=&#34;GREéš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4æ‰‹åŠ¨éš§é“çš„ä¸€ç§ï¼Œæ‰‹å·¥æŒ‡å®šéš§é“çš„ç«¯ç‚¹åœ°å€ï¼ŒGREæ‰¿è½½IPv6åè®®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ipv4å…¼å®¹ipv6&#34;&gt;IPv4å…¼å®¹IPv6&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;19&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590940839043.png&#34; alt=&#34;IPv4å…¼å®¹IPv6&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;IPv6 over IPv4éš§é“è‡ªåŠ¨éš§é“çš„ä¸€ç§&lt;/li&gt;
&lt;li&gt;é‡‡ç”¨IPv4å…¼å®¹åœ°å€ï¼Œå³::IPv4/96&lt;/li&gt;
&lt;li&gt;æ¯å°ä¸»æœºé¡»æœ‰åˆæ³•çš„IPåœ°å€&lt;br&gt;
IPv4å…¼å®¹IPv6è‡ªåŠ¨éš§é“ï¼Œå…¶æ‰¿è½½çš„IPv6æŠ¥æ–‡çš„ç›®çš„åœ°å€ï¼ˆå³è‡ªåŠ¨éš§é“æ‰€ä½¿ç”¨çš„çš„ç‰¹æ®Šåœ°å€ï¼‰æ˜¯IPv4å…¼å®¹IPv6åœ°å€ã€‚IPv4å…¼å®¹IPv6åœ°å€çš„å‰96ä½å…¨éƒ¨ä¸º0ï¼Œå32ä½ä¸ºipv4åœ°å€ã€‚&lt;br&gt;
&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šç”±äºIPv4å…¼å®¹IPv6éš§é“è¦æ±‚æ¯ä¸€ä¸ªä¸»æœºéƒ½è¦æœ‰ä¸€ä¸ªåˆæ³•çš„IPåœ°å€ï¼Œè€Œä¸”é€šè®¯çš„ä¸»æœºè¦æ”¯æŒåŒæ ˆã€æ”¯æŒIPv4å…¼å®¹IPv6éš§é“ï¼Œä¸é€‚åˆå¤§é¢ç§¯éƒ¨ç½²ï¼Œç›®å‰å·²ç»è¢«6to4éš§é“æ‰€å–ä»£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;6to4éš§é“&#34;&gt;6to4éš§é“&lt;/h3&gt;
&lt;h4 id=&#34;1&#34;&gt;1&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941496380.png&#34; alt=&#34;6to4éš§é“1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4è‡ªåŠ¨éš§é“çš„ä¸€ç§ï¼Œæ”¯æŒRouteråˆ°Routerã€Hoståˆ°Routerã€Routeråˆ°Hostã€ Hoståˆ°Hostï¼Œé‡‡ç”¨6to4ä¸“ç”¨åœ°å€ï¼Œå³2002:IPv4::/48ã€‚&lt;br&gt;
&lt;strong&gt;åœ°å€æ ¼å¼&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;FPï¼šå¯èšåˆå…¨çƒå•æ’­åœ°å€çš„æ ¼å¼å‰ç¼€ï¼ˆFormat Prefixï¼‰ï¼Œå…¶å€¼ä¸º001ã€‚&lt;/li&gt;
&lt;li&gt;TLAï¼šé¡¶çº§èšåˆæ ‡è¯†ç¬¦ï¼ˆTop Level Aggregatorï¼‰ï¼Œæœ‰13ä¸ªæ¯”ç‰¹ä½ï¼Œå…¶äºŒè¿›åˆ¶å€¼ä¸º0 0000 0000 0010ã€‚&lt;/li&gt;
&lt;li&gt;SLAï¼šç«™ç‚¹çº§èšåˆæ ‡è¯†ç¬¦ï¼ˆSite Level Aggregatorï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;6to4&lt;strong&gt;åœ°å€&lt;/strong&gt;å¯ä»¥è¡¨ç¤ºä¸º&lt;strong&gt;2002::/16&lt;/strong&gt;ï¼Œè€Œä¸€ä¸ª6to4&lt;strong&gt;ç½‘ç»œ&lt;/strong&gt;å¯ä»¥è¡¨ç¤ºä¸º&lt;strong&gt;2002:IPv4åœ°å€::/48&lt;/strong&gt;ã€‚6to4åœ°å€çš„ç½‘ç»œå‰ç¼€é•¿åº¦ä¸º64bitï¼Œå…¶ä¸­å‰48bitï¼ˆ2002: a.b.c.dï¼‰è¢«åˆ†é…ç»™è·¯ç”±å™¨ä¸Šçš„IPv4åœ°å€å†³å®šäº†ï¼Œç”¨æˆ·ä¸èƒ½æ”¹å˜ï¼Œè€Œå16ä½ï¼ˆSLAï¼‰æ˜¯ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2&#34;&gt;2&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941788338.png&#34; alt=&#34;6to4éš§é“2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¯è¿æ¥å¤šä¸ª6to4ç½‘ç»œï¼Œé€šè¿‡SLA IDåŒºåˆ†ã€‚&lt;br&gt;
ä¸€ä¸ªIPv4åœ°å€åªèƒ½ç”¨äºä¸€ä¸ª6to4éš§é“çš„æºåœ°å€ï¼Œå¦‚æœä¸€ä¸ªè¾¹ç•Œè·¯ç”±å™¨è¿æ¥äº†å¤šä¸ª6to4ç½‘ç»œä½¿ç”¨åŒæ ·çš„IPv4åœ°å€åšä¸ºéš§é“çš„æºåœ°å€ï¼Œåˆ™ä½¿ç”¨6toåœ°å€ä¸­çš„SLA IDæ¥åŒºåˆ†ï¼Œä½†ä»–ä»¬å…±ç”¨ä¸€ä¸ªéš§é“ã€‚&lt;/p&gt;
&lt;h4 id=&#34;3&#34;&gt;3&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941840050.png&#34; alt=&#34;6to4éš§é“3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6to4ä¸­ç»§ï¼Œå®ç°6to4ç½‘ç»œå’ŒIPv6æ™®é€šç½‘ç»œäº’é€šã€‚&lt;br&gt;
æ™®é€šIPv6ç½‘ç»œéœ€è¦ä¸6to4ç½‘ç»œé€šè¿‡IPv4ç½‘ç»œäº’é€šï¼Œè¿™å¯ä»¥é€šè¿‡6to4ä¸­ç»§è·¯ç”±å™¨æ–¹å¼å®ç°ã€‚æ‰€è°“6to4ä¸­ç»§ï¼Œå°±æ˜¯é€šè¿‡6to4éš§é“è½¬å‘çš„IPv6æŠ¥æ–‡çš„&lt;strong&gt;ç›®çš„åœ°å€ä¸æ˜¯6to4åœ°å€&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;è½¬å‘çš„ä¸‹ä¸€è·³æ˜¯6to4åœ°å€&lt;/strong&gt;ï¼Œè¯¥ä¸‹ä¸€è·³ä¸ºè·¯ç”±å™¨æˆ‘ä»¬ç§°ä¹‹ä¸º&lt;strong&gt;6to4ä¸­ç»§&lt;/strong&gt;ã€‚éš§é“çš„IPv4ç›®çš„åœ°å€ä¾ç„¶ä»ä¸‹ä¸€è·³çš„6to4åœ°å€ä¸­è·å¾—ã€‚&lt;br&gt;
å¦‚æœ6to4ç½‘ç»œ2ä¸­çš„ä¸»æœºè¦ä¸IPv6ç½‘ç»œäº’é€šï¼Œåœ¨å…¶è¾¹ç•Œè·¯ç”±å™¨ä¸Šé…ç½®è·¯ç”±æŒ‡å‘çš„ä¸‹ä¸€è·³ä¸º6to4ä¸­ç»§è·¯ç”±å™¨çš„6to4åœ°å€ï¼Œä¸­ç»§è·¯ç”±å™¨çš„6to4åœ°å€æ˜¯ä¸ä¸­ç»§è·¯ç”±å™¨çš„6to4éš§é“çš„æºåœ°å€ç›¸åŒ¹é…çš„ã€‚6to4ç½‘ç»œ2ä¸­å»å¾€æ™®é€šIPv6ç½‘ç»œçš„æŠ¥æ–‡éƒ½ä¼šæŒ‰ç…§è·¯ç”±è¡¨æŒ‡ç¤ºçš„ä¸‹ä¸€è·³å‘é€åˆ°6to4ä¸­ç»§è·¯ç”±å™¨ã€‚6to4ä¸­ç»§è·¯ç”±å™¨å†å°†æ­¤æŠ¥æ–‡è½¬å‘åˆ°çº¯IPv6ç½‘ç»œä¸­å»ã€‚å½“æŠ¥æ–‡è¿”å›æ—¶ï¼Œ6to4ä¸­ç»§è·¯ç”±å™¨æ ¹æ®è¿”å›æŠ¥æ–‡çš„ç›®çš„åœ°å€ï¼ˆä¸º6to4åœ°å€ï¼‰è¿›è¡ŒIPv4æŠ¥æ–‡å¤´å°è£…ï¼Œæ•°æ®å°±èƒ½å¤Ÿé¡ºåˆ©åˆ°è¾¾6to4ç½‘ç»œä¸­äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;isatapéš§é“&#34;&gt;ISATAPéš§é“&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590941979772.png&#34; alt=&#34;ISATAPéš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
6over4è‡ªåŠ¨éš§é“çš„ä¸€ç§ï¼Œæ”¯æŒHoståˆ°Routerã€Routeråˆ°Hostã€ Hoståˆ°Hostï¼Œé‡‡ç”¨ISATAPéš§é“ä¸“ç”¨åœ°å€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ISATAPï¼ˆIntra-Site Automatic Tunnel Addressing Protocolï¼‰æ˜¯å¦å¤–ä¸€ç§è‡ªåŠ¨éš§é“æŠ€æœ¯ã€‚ISATAPéš§é“åŒæ ·ä½¿ç”¨äº†å†…åµŒIPv4åœ°å€çš„ç‰¹æ®ŠIPv6åœ°å€å½¢å¼ï¼Œåªæ˜¯å’Œ6to4ä¸åŒçš„æ˜¯ï¼Œ6to4æ˜¯ä½¿ç”¨IPv4åœ°å€åšä¸ºç½‘ç»œå‰ç¼€ï¼Œè€ŒISATAPç”¨IPv4åœ°å€åšä¸ºæ¥å£æ ‡è¯†ã€‚&lt;/li&gt;
&lt;li&gt;åœ°å€æè¿°
&lt;ul&gt;
&lt;li&gt;å¦‚æœIPv4åœ°å€æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œåˆ™uä½ä¸º1ï¼Œå¦åˆ™uä½ä¸º0ã€‚gä½æ˜¯IEEE ç¾¤ä½“/ä¸ªä½“æ ‡å¿—ã€‚ç”±äºISATAPæ˜¯é€šè¿‡æ¥å£æ ‡è¯†æ¥è¡¨ç°çš„ï¼Œæ‰€ä»¥ï¼ŒISATAPåœ°å€æœ‰å…¨å±€å•æ’­åœ°å€ã€é“¾è·¯æœ¬åœ°åœ°å€ã€ULAåœ°å€ã€ç»„æ’­åœ°å€ç­‰å½¢å¼ã€‚ISATAPåœ°å€çš„å‰64ä½æ˜¯é€šè¿‡å‘ISATAPè·¯ç”±å™¨å‘é€è¯·æ±‚æ¥å¾—åˆ°çš„ï¼Œå®ƒå¯ä»¥è¿›è¡Œåœ°å€è‡ªåŠ¨é…ç½®ã€‚åœ¨ISATAPéš§é“çš„ä¸¤ç«¯è®¾å¤‡ä¹‹é—´å¯ä»¥è¿è¡ŒNDåè®®ã€‚ISATAPéš§é“å°†IPv4ç½‘ç»œçœ‹ä½œä¸€ä¸ªéå¹¿æ’­çš„ç‚¹åˆ°å¤šç‚¹çš„é“¾è·¯ï¼ˆNBMAï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è½¬å‘è¿‡ç¨‹æè¿°ï¼š
&lt;ul&gt;
&lt;li&gt;åœ¨IPv4ç½‘ç»œå†…éƒ¨æœ‰ä¸¤ä¸ªåŒæ ˆä¸»æœºPC2å’ŒPC3ï¼Œå®ƒä»¬åˆ†åˆ«æœ‰ä¸€ä¸ªç§ç½‘IPv4åœ°å€ã€‚è¦ä½¿å…¶å…·æœ‰ISATAPåŠŸèƒ½ï¼Œéœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆé…ç½®ISATAPéš§é“æ¥å£ï¼Œè¿™æ—¶ä¼šæ ¹æ®IPv4åœ°å€ç”ŸæˆISATAPç±»å‹çš„æ¥å£IDã€‚&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ¥å£IDç”Ÿæˆä¸€ä¸ªISATAPé“¾è·¯æœ¬åœ°IPv6åœ°å€ï¼Œç”Ÿæˆé“¾è·¯æœ¬åœ°åœ°å€ä»¥åï¼Œä¸»æœºå°±æœ‰äº†åœ¨æœ¬åœ°é“¾è·¯ä¸Šè¿›è¡ŒIPv6é€šä¿¡çš„èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;li&gt;è¿›è¡Œè‡ªåŠ¨é…ç½®ï¼Œä¸»æœºè·å¾—IPv6å…¨çƒå•æ’­åœ°å€ã€ULAåœ°å€ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;å½“ä¸»æœºä¸å…¶å®ƒIPv6ä¸»æœºè¿›è¡Œé€šè®¯æ—¶ï¼Œä»éš§é“æ¥å£è½¬å‘ï¼Œå°†ä»æŠ¥æ–‡çš„ä¸‹ä¸€è·³IPv6åœ°å€ä¸­å–å‡ºIPv4åœ°å€ä½œä¸ºIPv4å°è£…çš„ç›®çš„åœ°å€ã€‚å¦‚æœç›®çš„ä¸»æœºåœ¨æœ¬ç«™ç‚¹å†…ï¼Œåˆ™ä¸‹ä¸€è·³å°±æ˜¯ç›®çš„ä¸»æœºæœ¬èº«ï¼Œå¦‚æœç›®çš„ä¸»æœºä¸åœ¨æœ¬ç«™ç‚¹å†…ï¼Œåˆ™ä¸‹ä¸€è·³ä¸ºISATAPè·¯ç”±å™¨çš„åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;nat64&#34;&gt;NAT64&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590942107941.png&#34; alt=&#34;NAT64&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
NAT64æŠ€æœ¯å®é™…ä¸Šæ˜¯ä¸€ç§åè®®è½¬æ¢æŠ€æœ¯ï¼Œèƒ½å¤Ÿå°†åˆ†ç»„åœ¨V4åŠV6æ ¼å¼ä¹‹é—´çµæ´»è½¬æ¢ã€‚IPv6è¿‡æ¸¡ä¸­çš„åè®®ç¿»è¯‘æŠ€æœ¯å°±æ˜¯å°†IPv6æ•°æ®åŒ…çš„æ¯ä¸ªå­—æ®µä¸IPv4æ•°æ®åŒ…ä¸­çš„å­—æ®µå»ºç«‹èµ·ä¸€ä¸€æ˜ å°„çš„å…³ç³»ï¼Œä»è€Œåœ¨ä¸¤ä¸ªç½‘ç»œçš„è¾¹ç¼˜å®ç°æ•°æ®æŠ¥æ–‡çš„è½¬æ¢ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€ospfv3&#34;&gt;å®éªŒä¸€ï¼šOSPFv3&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;20&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590827202758.png&#34; alt=&#34;OSPFv3&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .......................åˆå§‹åŒ–é…ç½®
# AR1
sys
sys AR1
ospfv3 10 
router-id 1.1.1.1
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:1234::1 64
ospfv3 10 area 10
int lo 0
ipv6 enable
ipv6 addr 2002:1::1 128
ospfv3 10 area 10
# AR2
sys
sys AR2
ospfv3 10 
router-id 2.2.2.2
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:1234::2 64
ospfv3 10 area 10
int lo 0
ipv6 enable
ipv6 addr 2002:1::2 128
ospfv3 10 area 10
# AR3
sys
sys AR3
ospfv3 10 
router-id 3.3.3.3
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:1234::3 64
ospfv3 10 area 10
int lo 0
ipv6 enable
ipv6 addr 2002:1::3 128
ospfv3 10 area 10
# AR4
sys
sys AR4
ospfv3 10 
router-id 4.4.4.4
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:1234::4 64
ospfv3 10 area 10
int lo 0
ipv6 enable
ipv6 addr 2002:1::4 128
ospfv3 10 area 0
int s1/0/0
ipv6 enable
ipv6 addr 2001:45::4 64
ospfv3 10 area 0
# AR5
sys
sys AR5
ospfv3 10 
router-id 5.5.5.5
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:56::5 64
ospfv3 10 area 20
int lo 0
ipv6 enable
ipv6 addr 2002:1::5 128
ospfv3 10 area 0
int s1/0/0
ipv6 enable
ipv6 addr 2001:45::5 64
ospfv3 10 area 0
# AR6
sys
sys AR6
ospfv3 10 
router-id 6.6.6.6
q
ipv6
int g/0/0
ipv6 enable 
ipv6 addr 2001:65::6 64
ospfv3 10 area 20
int lo 0
ipv6 enable
ipv6 addr 2002:1::6 128
ospfv3 10 area 20
q
isis
is-level level-2
network-entity 47.0067.666666666666.00
ipv6 enable
int g0/0/1
ipv6 enable
ipv6 addr 2001:67::6 64
isis ipv6 enable
# AR7
sys
sys AR7
isis
is-level level-2
network-entity 47.0067.777777777777.00
ipv6 enable
int g0/0/1
ipv6 enable
ipv6 addr 2001:67::7 64
isis ipv6 enable
int lo 0
ipv6 enable
ip addr 2002:1::7 128
isis ipv6 enable
int g0/0/1
ipv6 enable
ipv6 addr 2001:78::7 64
isis ipv6 enable
# AR8
sys
sys AR8
isis
is-level level-2
network-entity 47.0067.888888888888.00
ipv6 enable
int g0/0/0
ipv6 enable
ipv6 addr 2001:78::8 64
isis ipv6 enable
int lo 0
ipv6 enable
ip addr 2002:1::8 128
isis ipv6 enable
# .......................è·¯ç”±å¼•å…¥
#AR6
ospfv3 10
import-route isis 1
isis
ipv6 import-route ospfv3 10
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒisisåŒæ ˆ&#34;&gt;å®éªŒäºŒï¼šISISåŒæ ˆ&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;21&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590934101034.png&#34; alt=&#34;ISISåŒæ ˆ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.........................åˆå§‹åŒ–é…ç½®
# AR1
sys
sys AR1
isis
net 47.0123.111111111111.00
is-level level-2
ipv6 enable topology ipv6
int g0/0/0
ip add 12.1.1.1 24
isis enable
ipv6 enable
ipv6 addr 2001:12::1 64
isis ipv6 enable
int g0/0/1
ip add 13.1.1.1 24
isis enable
ipv6 enable
ipv6 addr 2001:13::1 64
isis ipv6 enable
int lo 0
ip add 1.1.1.1 32
isis enable
ipv6 enable
ipv6 addr 2002:1::1 128
isis ipv6 enable
# AR2
sys
sys AR2
isis
net 47.1234.222222222222.00
ipv6 enable topology ipv6
int g0/0/0
ip add 12.1.1.2 24
isis enable
ipv6 enable
ipv6 addr 2001:12::2 64
isis ipv6 enable
int g0/0/1
ip add 24.1.1.2 24
isis enable
ipv6 enable
ipv6 addr 2001:24::2 64
isis ipv6 enable
int g0/0/2
isis circuit-level level-2
ip add 23.1.1.2 24
isis enable
ipv6 enable
ipv6 addr 2001:23::2 64
isis ipv6 enable
int lo 0
ip add 2.2.2.2 32
isis enable
ipv6 enable
ipv6 addr 2002:2::2 128
isis ipv6 enable
# AR3
sys
sys AR3
isis
net 47.1234.333333333333.00
ipv6 enable topology ipv6
int g0/0/0
ip add 34.1.1.3 24
isis enable
ipv6 enable
ipv6 addr 2001:34::3 64
isis ipv6 enable
int g0/0/1
ip add 13.1.1.3 24
isis enable
ipv6 enable
ipv6 addr 2001:13::3 64
isis ipv6 enable
int g0/0/2
isis circuit-level level-2
ip add 23.1.1.3 24
isis enable
ipv6 enable
ipv6 addr 2001:23::3 64
isis ipv6 enable
int lo 0
ip add 3.3.3.3 32
isis enable
ipv6 enable
ipv6 addr 2002:3::3 128
isis ipv6 enable
# AR4
sys
sys AR4
isis
net 47.0234.444444444444.00
is-level level-1
ipv6 enable topology ipv6
int g0/0/1
ip add 24.1.1.4 24
isis enable
ipv6 enable
ipv6 addr 2001:24::4 64
isis ipv6 enable
int g0/0/2
ip add 34.1.1.4 24
isis enable
ipv6 enable
ipv6 addr 2001:34::4 64
isis ipv6 enable
int lo 0
ip add 4.4.4.4 32
isis enable
ipv6 enable
ipv6 addr 2002:4::4 128
isis ipv6 enable
#...............................................æŸ¥çœ‹IPv4å’ŒIPv6çš„è·¯ç”±æƒ…å†µ
# æŸ¥çœ‹é‚»å±…
dis isis peer
# æŸ¥çœ‹è·¯ç”±
dis ip rou pr isis
dis ipv6 rou pr isis
# æŸ¥çœ‹æ•°æ®åº“
dis isis lsdb
# ..........................å®ç°AR4ä¸­æµé‡IPv4çš„èµ°AR2ã€IPv6çš„èµ°AR3
# AR4ä¸­ipv4å’Œipv6éƒ½æœ‰ä¸¤æ¡é»˜è®¤è·¯ç”±
# æ–¹æ³•ï¼šä¿®æ”¹å¼€é”€
# AR4
int g0/0/1
isis ipv6 cost 50 # æ­¤æ—¶åœ¨AR4ä¸Šipv6çš„æµé‡ä¸åœ¨è¿›è¡Œè´Ÿè½½ï¼Œç”±äºg0/0/2é»˜è®¤å¼€é”€10&amp;lt;g0/0/1å¼€é”€50ï¼Œæ‰€ä»¥IPv6çš„æµé‡èµ°g0/0/2
int g0/0/2
isis cost 50 #åŒç†ï¼Œipv4çš„æµé‡èµ°g0/0/1
#...................è·¯ç”±çš„æ¸—é€
# AR2
import-route isis level-2 into level-1 tag 100
ipv6 import-route isis level-2 into level-1 tag 200
# AR3
import-route isis level-2 into level-1 tag 300
ipv6 import-route isis level-2 into level-1 tag 400
# AR1/2/3/4
isis
cost-style wide
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰6to4çš„æ‰‹åŠ¨éš§é“&#34;&gt;å®éªŒä¸‰ï¼š6to4çš„æ‰‹åŠ¨éš§é“&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;22&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590945083165.png&#34; alt=&#34;6to4çš„æ‰‹åŠ¨éš§é“&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.........åˆå§‹åŒ–é…ç½®ï¼Œä¿è¯1.1.1.1å’Œ3.3.3.3é€šä¿¡ï¼ˆ#AR1 ping -a 1.1.1.1 3.3.3.3ï¼‰
# AR1
sys
sys AR1
int g0/0/0
ip add 12.1.1.1 24
ospf network-type p2p
int g0/0/1
ipv6 enable 
ipv6 addr 2001:123::1 64
int lo 0
ip addr 1.1.1.1 32
ospf 10 router 1.1.1.1
area 0
network 12.1.1.1 0.0.0.0
network 1.1.1.1 0.0.0.0
# AR2
sys
sys AR2
int g0/0/0
ip addr 12.1.1.2 24
ospf network-type p2p
int g0/0/1
ip addr 23.1.1.2 24
ospf network-type p2p
ospf 10 router 2.2.2.2
area 0
network 12.1.1.2 0.0.0.0
network 23.1.1.2 0.0.0.0
# AR3
sys
sys AR3
int g0/0/0
ip add 23.1.1.3 24
ospf network-type p2p
int g0/0/1
ipv6 enable 
ipv6 addr 2001:234::1 64
int lo 0
ip addr 3.3.3.3 32
ospf 10 router 3.3.3.3
area 0
network  23.1.1.3 0.0.0.0
network 3.3.3.3 0.0.0.0
#.........................é…ç½®éš§é“ï¼ˆä¸‹é¢é…ç½®ä¸ºå¹¶è¡Œé…ç½®ï¼‰
#.....ä½¿ç”¨ipv6 over ipv4éš§é“
# AR1
int Tunnel 0/0/0
tunnel-protocol ipv6-ipv4
source 1.1.1.1
destination 3.3.3.3
ipv6 enable
ipv6 addr 2001:13::1 64
q
ipv6 route-static 2001:234:: 64 Tunnel 0/0/0
# AR3
int Tunnel 0/0/0
tunnel-protocol ipv6-ipv4
source 3.3.3.3
destination 1.1.1.1
ipv6 enable
ipv6 addr 2001:13::3 64
q
ipv6 route-static 2001:123:: 64 Tunnel 0/0/0
#.....ä½¿ç”¨greéš§é“
# AR1
int Tunnel 0/0/0
tunnel-protocol gre
source lo 0
destination 3.3.3.3
ipv6 enable
ipv6 addr 2001:13::1 64
q
ipv6 route-static 2001:234:: 64 Tunnel 0/0/0
# AR3
int Tunnel 0/0/0
tunnel-protocol gre
source lo 0
destination 1.1.1.1
ipv6 enable
ipv6 addr 2001:13::3 64
q
ipv6 route-static 2001:123:: 64 Tunnel 0/0/0
#.....ä½¿ç”¨è‡ªåŠ¨éš§é“
# AR1
int Tunnel 0/0/0
tunnel-protocol ipv6-ipv4 auto-tunnel
source lo 0
destination 3.3.3.3
ipv6 enable
ipv6 addr ::1.1.1.1 96
# AR3
int Tunnel 0/0/0
tunnel-protocol ipv6-ipv4 auto-tunnel
source lo 0
destination 1.1.1.1
ipv6 enable
ipv6 addr ::3.3.3.3 96
#.............................................åŒç†ï¼Œå¯ä»¥è‡ªè¡Œé…ç½®4to6çš„éš§é“
&lt;/code&gt;&lt;/pre&gt;
">06 IPv6ï¼ˆ2020.0523ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/05-bgp20200518/"" data-c="
          &lt;h1 id=&#34;bgpæ¦‚è¿°&#34;&gt;BGPæ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;åŠ¨æ€è·¯ç”±åè®®å¯ä»¥æŒ‰ç…§å·¥ä½œèŒƒå›´åˆ†ä¸ºIGP(rip\ospf\eigrp\isis)ä»¥åŠEGP(bgp)ã€‚IGPå·¥ä½œåœ¨åŒä¸€ä¸ªASå†…ï¼Œä¸»è¦ç”¨æ¥å‘ç°å’Œè®¡ç®—è·¯ç”±ï¼Œä¸ºASå†…æä¾›è·¯ç”±ä¿¡æ¯çš„äº¤æ¢ï¼›è€ŒEGPå·¥ä½œåœ¨ASä¸ASä¹‹é—´ï¼Œåœ¨ASé—´æä¾›æ— ç¯è·¯çš„è·¯ç”±ä¿¡æ¯äº¤æ¢ï¼ŒBGPåˆ™æ˜¯EGPçš„ä¸€ç§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è‡ªæ²»ç³»ç»Ÿas&#34;&gt;è‡ªæ²»ç³»ç»ŸAS&lt;/h2&gt;
&lt;p&gt;ç”±åŒä¸€ä¸ªæŠ€æœ¯ç®¡ç†æœºæ„ç®¡ç†ã€ä½¿ç”¨ç»Ÿä¸€é€‰è·¯ç­–ç•¥çš„ä¸€äº›è·¯ç”±å™¨çš„é›†åˆã€‚è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±åè®®IGPï¼Œè‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±åè®®EGPã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EGPï¼Œè¿è¡ŒäºASä¹‹é—´çš„è·¯ç”±åè®®ï¼Œç°é€šå¸¸éƒ½æ˜¯æŒ‡BGPã€‚BGPç€é‡äºæ§åˆ¶è·¯ç”±çš„ä¼ æ’­å’Œé€‰æ‹©æœ€ä¼˜çš„è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;IGPï¼Œè¿è¡ŒäºASå†…éƒ¨çš„è·¯ç”±åè®®ï¼Œä¸»è¦æœ‰: RIP, OSPFåŠISISã€‚IGPç€é‡äºå‘ç°å’Œè®¡ç®—è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;bgpç‰¹å¾&#34;&gt;BGPç‰¹å¾&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;BGPæ˜¯å¤–éƒ¨è·¯ç”±åè®®ï¼Œç”¨æ¥åœ¨ASä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ˜¯ä¸€ç§å¢å¼ºçš„è·ç¦»çŸ¢é‡è·¯ç”±åè®®
&lt;ul&gt;
&lt;li&gt;å¯é çš„è·¯ç”±æ›´æ–°æœºåˆ¶ï¼ˆ&lt;strong&gt;TCPç«¯å£å·179&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„Metricåº¦é‡æ–¹æ³•&lt;/li&gt;
&lt;li&gt;ä»è®¾è®¡ä¸Šé¿å…äº†ç¯è·¯çš„å‘ç”Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸ºè·¯ç”±é™„å¸¦å±æ€§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒCIDRï¼ˆæ— ç±»åˆ«åŸŸé—´é€‰è·¯ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸°å¯Œçš„è·¯ç”±è¿‡æ»¤å’Œè·¯ç”±ç­–ç•¥&lt;br&gt;
&lt;code&gt;BGPé‡å¯è¿›ç¨‹ä¹‹å‰è¦è€ƒè™‘å¥½ï¼Œå› ä¸ºè·¯ç”±ä¿¡æ¯åºå¤§ï¼Œæ›´æ–°æå…¶ç¼“æ…¢&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;BGPç‰ˆæœ¬ï¼šrfc1105-bgpv1ï¼›rfc1163-bgpv2ï¼›rfc1267-bgpv3ï¼›rfc4271/1771-bgpv4&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;bgpåŸºæœ¬å·¥ä½œæœºåˆ¶&#34;&gt;BGPåŸºæœ¬å·¥ä½œæœºåˆ¶&lt;/h1&gt;
&lt;h2 id=&#34;bgpè·¯ç”±ä¼ é€’&#34;&gt;BGPè·¯ç”±ä¼ é€’&lt;/h2&gt;
&lt;p&gt;BGPå¯¹ç­‰ä½“çš„å»ºç«‹ã€æ›´æ–°å’Œåˆ é™¤ç­‰äº¤äº’è¿‡ç¨‹ä¸»è¦æœ‰&lt;strong&gt;5ç§æŠ¥æ–‡ã€6ç§çŠ¶æ€æœºå’Œ5ä¸ªåŸåˆ™&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;bgpå¯é çš„è·¯ç”±æ›´æ–°&#34;&gt;BGPå¯é çš„è·¯ç”±æ›´æ–°&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¼ è¾“åè®®ï¼šTCPï¼Œç«¯å£å·179&lt;/li&gt;
&lt;li&gt;æ— éœ€å‘¨æœŸæ€§æ›´æ–°&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ›´æ–°ï¼šåªå‘é€å¢é‡è·¯ç”±&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§&lt;strong&gt;å‘é€keepAliveæŠ¥æ–‡&lt;/strong&gt;æ£€æµ‹TCPçš„è¿é€šæ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é€‚åº”
&lt;ul&gt;
&lt;li&gt;è®©IPæŠ¥æ–‡é€šè¿‡æœ¬è·¯ç”±å™¨åˆ°è¾¾å…¶ä»–AS&lt;/li&gt;
&lt;li&gt;æœ‰å¤šæ¡åˆ°è¾¾å…¶ä»–ASçš„é“¾è·¯ï¼Œå¯ä»¥ä¸åŒè·¯ç”±åˆ†åˆ«è¿›è¡Œé€‰è·¯ç”±&lt;/li&gt;
&lt;li&gt;éœ€è¦è¿›è¡Œæµé‡æ§åˆ¶æˆ–æ§åˆ¶é€‰è·¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¸é€‚åº”
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œç®€å•ï¼Œåªæœ‰å•ä¸ªå‡ºå£&lt;/li&gt;
&lt;li&gt;è®¾å¤‡æ€§èƒ½å¤Ÿä¸å¤Ÿï¼ˆCPUï¼Œå†…å­˜ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;èƒ½åŠ›å¤Ÿä¸å¤Ÿï¼ˆå¯¹BGPè¦æœ‰è¶³å¤Ÿçš„ç†è§£ï¼Œè¶³å¤Ÿçš„ç†Ÿç»ƒåº¦ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ¯è¯­&#34;&gt;æœ¯è¯­&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Peerï¼ˆå¯¹ç­‰ä½“ï¼Œé‚»å±…ï¼‰ï¼ŒBGPçš„é‚»å±…ç§°ä¸ºBGPçš„peer&lt;/li&gt;
&lt;li&gt;Speakerï¼Œè¿è¡Œäº†BGPçš„è®¾å¤‡å«BGP Speaker&lt;/li&gt;
&lt;li&gt;AS&lt;/li&gt;
&lt;li&gt;IBGPå’ŒEBGP&lt;/li&gt;
&lt;li&gt;NLRIï¼ˆç½‘ç»œå¯è¾¾ä¿¡æ¯ï¼‰æ˜¯BGPæ›´æ–°æŠ¥æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œæºå¸¦BGPçš„å±æ€§å’Œè·¯ç”±&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥&lt;/strong&gt;ï¼šæ˜¯IBGPä¸IGPçš„åŒæ­¥ï¼Œä»IBGPæ”¶åˆ°ä¸€æ¡è·¯ç”±ï¼Œæ˜¯å¦è¦é€šå‘Šç»™EBGPé‚»å±…ï¼Œè¦çœ‹åŒæ­¥æƒ…å†µ&lt;/li&gt;
&lt;li&gt;BGPçš„æ°´å¹³åˆ†å‰²ï¼šä»IBGPæ”¶åˆ°çš„è·¯ç”±ï¼Œä¸ä¼šå†é€šå‘Šç»™ä»–çš„IBGPé‚»å±…ï¼Œæ˜¯ä¸ºäº†é˜²ç¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpæ¶ˆæ¯ç±»å‹&#34;&gt;BGPæ¶ˆæ¯ç±»å‹&lt;/h1&gt;
&lt;p&gt;BGPæŠ¥æ–‡æœ‰äº”ç§ç±»å‹ï¼Œå…¶ä¸­Openã€KeepAliveã€NotificationæŠ¥æ–‡ç”¨äºé‚»å±…å…³ç³»çš„å»ºç«‹å’Œç»´æŠ¤&lt;br&gt;
BGPæŠ¥æ–‡ç”±BGPæŠ¥æ–‡å¤´å’Œå…·ä½“æŠ¥æ–‡å†…å®¹ä¸¤éƒ¨åˆ†ç»„æˆï¼Œ&lt;strong&gt;æ¶ˆæ¯æœ€é•¿ä¸º4096å­—èŠ‚ï¼Œæœ€çŸ­ä¸º19å­—èŠ‚&lt;/strong&gt;ï¼ˆåªåŒ…å«æŠ¥æ–‡å¤´ï¼‰ã€‚&lt;br&gt;
&lt;strong&gt;æŠ¥æ–‡å¤´å¸§æ ¼å¼&lt;/strong&gt;ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589898404907.png&#34; alt=&#34;æŠ¥æ–‡å¤´å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Marker&lt;/strong&gt;ï¼šå 16å­—èŠ‚ï¼Œç”¨äºæ£€æŸ¥BGPå¯¹ç­‰ä½“çš„åŒæ­¥ä¿¡æ¯æ˜¯å¦å®Œæ•´ï¼Œä»¥åŠç”¨äºBGPéªŒè¯çš„è®¡ç®—ã€‚&lt;strong&gt;ä¸ä½¿ç”¨éªŒè¯æ—¶æ‰€æœ‰æ¯”ç‰¹å‡ä¸º1&lt;/strong&gt;ï¼ˆåå…­è¿›åˆ¶åˆ™å…¨â€œFFâ€ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Length&lt;/strong&gt;ï¼šå 2ä¸ªå­—èŠ‚ï¼ˆæ— ç¬¦å·ä½ï¼‰ï¼ŒBGPæ¶ˆæ¯æ€»é•¿åº¦ï¼ˆåŒ…æ‹¬æŠ¥æ–‡å¤´åœ¨å†…ï¼‰ï¼Œ&lt;strong&gt;ä»¥å­—èŠ‚ä¸ºå•ä½&lt;/strong&gt;ã€‚é•¿åº¦èŒƒå›´æ˜¯&lt;strong&gt;19ï½4096&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Type&lt;/strong&gt;ï¼šå 1ä¸ªå­—èŠ‚ï¼ˆæ— ç¬¦å·ä½ï¼‰ï¼ŒBGPæ¶ˆæ¯çš„ç±»å‹ã€‚Typeæœ‰5ä¸ªå¯é€‰å€¼ï¼Œè¡¨ç¤ºBGPæŠ¥æ–‡å¤´åé¢æ‰€æ¥çš„5ç±»æŠ¥æ–‡ï¼š 1 OPEN ï¼›2 UPDATE ï¼›3 NOTIFICATION ï¼›4 KEEPALIVE ï¼›5 REFRESHã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;open&#34;&gt;Open&lt;/h2&gt;
&lt;p&gt;è´Ÿè´£å’Œå¯¹ç­‰ä½“å»ºç«‹é‚»å±…å…³ç³»ã€‚ä¸»è¦åŒ…æ‹¬BGPç‰ˆæœ¬ã€ASå·ç­‰ä¿¡æ¯ï¼Œè¯•å›¾å»ºç«‹BGPé‚»å±…å…³ç³»çš„ä¸¤ä¸ªè·¯ç”±å™¨åœ¨å»ºç«‹äº†TCPä¼šè¯ä¹‹åå¼€å§‹å«å”¤Openä¿¡æ¯å·²ç¡®è®¤èƒ½å¦å½¢æˆé‚»å±…å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589898708624.png&#34; alt=&#34;OPENæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899213717.png&#34; alt=&#34;OPENæŠ¥æ–‡å‚æ•°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899259545.png&#34; alt=&#34;AFIåŠSAFIç¼–ç è¯´æ˜&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;keepalive&#34;&gt;KeepAlive&lt;/h2&gt;
&lt;p&gt;è¯¥æ¶ˆæ¯åœ¨å¯¹ç­‰ä½“ä¹‹é—´å‘¨æœŸæ€§åœ°å‘é€ï¼Œç”¨ä»¥ç»´æŠ¤è¿æ¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼-2&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;p&gt;å¦‚æœBGPæŠ¥æ–‡å¤´ä¸­çš„TYPEä¸º4ï¼Œåˆ™è¯¥æŠ¥æ–‡ä¸ºKEEPALIVEæŠ¥æ–‡ã€‚KEEPALIVEæŠ¥æ–‡ç”¨äºä¿æŒBGPè¿æ¥ã€‚KEEPALIVEæŠ¥æ–‡åªæœ‰BGPæŠ¥æ–‡å¤´ï¼Œæ²¡æœ‰å…·ä½“å†…å®¹ï¼Œæ•…å…¶æŠ¥æ–‡é•¿åº¦åº”å›ºå®šä¸º19ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;update&#34;&gt;Update&lt;/h2&gt;
&lt;p&gt;è¯¥æ¶ˆæ¯è¢«ç”¨æ¥åœ¨BGPå¯¹ç­‰ä½“ä¹‹é—´ä¼ é€’è·¯ç”±ä¿¡æ¯ã€‚åŒ…å«&lt;strong&gt;æ’¤é”€ã€æ’¤é”€è·¯ç”±&lt;/strong&gt;å’Œå¯è¾¾è·¯ç”±ä¿¡æ¯åŠå…¶å„ç§è·¯ç”±å±æ€§ï¼Œæ˜¯BGPæŠ¥æ–‡ä¸­æœ€é‡è¦çš„æŠ¥æ–‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼-3&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899354620.png&#34; alt=&#34;UPDATEæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899582141.png&#34; alt=&#34;UPDATEæŠ¥æ–‡å‚æ•°&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589899751244.png&#34; alt=&#34;è·¯ç”±å±æ€§çš„ç±»å‹å·åˆ—è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;notification&#34;&gt;Notification&lt;/h2&gt;
&lt;p&gt;å½“BGP Speakeræ£€æµ‹åˆ°é”™è¯¯çš„æ—¶å€™ï¼Œå°±å‘é€è¯¥æ¶ˆæ¯ç»™å¯¹ç­‰ä½“ã€‚BGPçš„å·®é”™æ£€æµ‹æœºåˆ¶ï¼Œä¸€æ—¦æ£€æµ‹åˆ°ä»»ä½•å½¢å¼çš„å·®é”™ï¼ŒBGP Speakerä¼šå‘é€ä¸€ä¸ªNotificationæŠ¥æ–‡ï¼Œéšåä¸ä¹‹ç›¸å…³çš„é‚»å±…å…³ç³»å°†è¢«å…³é—­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼-4&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589900129233.png&#34; alt=&#34;NOTIFICATIONæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Error codeï¼šå 1ä¸ªå­—èŠ‚ï¼ˆæ— ç¬¦å·ä½ï¼‰ï¼Œå®šä¹‰é”™è¯¯çš„ç±»å‹ï¼Œéç‰¹å®šçš„é”™è¯¯ç±»å‹ç”¨é›¶è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;Error subcodeï¼šå 1ä¸ªå­—èŠ‚ï¼ˆæ— ç¬¦å·ä½ï¼‰ï¼ŒæŒ‡å®šé”™è¯¯ç»†èŠ‚ç¼–å·ï¼Œéç‰¹å®šçš„é”™è¯¯ç»†èŠ‚ç¼–å·ç”¨é›¶è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;Dataï¼šæŒ‡å®šé”™è¯¯æ•°æ®å†…å®¹ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589900373925.png&#34; alt=&#34;é”™è¯¯ç &#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;route-refresh&#34;&gt;Route-refresh&lt;/h2&gt;
&lt;p&gt;ç”¨æ¥é€šçŸ¥å¯¹ç­‰ä½“è‡ªå·±æ”¯æŒè·¯ç”±åˆ·æ–°èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æŠ¥æ–‡æ ¼å¼-5&#34;&gt;æŠ¥æ–‡æ ¼å¼&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589901191982.png&#34; alt=&#34;REFRESHæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;bgpçŠ¶æ€æœº&#34;&gt;BGPçŠ¶æ€æœº&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589901373017.png&#34; alt=&#34;BGPçŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589902479648.png&#34; alt=&#34;BGPçŠ¶æ€æœº2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IdleçŠ¶æ€æ˜¯BGP&lt;strong&gt;åˆå§‹çŠ¶æ€&lt;/strong&gt;ã€‚åœ¨IdleçŠ¶æ€ä¸‹ï¼ŒBGPæ‹’ç»é‚»å±…å‘é€çš„è¿æ¥è¯·æ±‚ã€‚åªæœ‰åœ¨æ”¶åˆ°æœ¬è®¾å¤‡çš„Startäº‹ä»¶åï¼ŒBGPæ‰å¼€å§‹å°è¯•å’Œå…¶å®ƒBGPå¯¹ç­‰ä½“è¿›è¡ŒTCPè¿æ¥ï¼Œå¹¶è½¬è‡³ConnectçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Startäº‹ä»¶æ˜¯ç”±ä¸€ä¸ªæ“ä½œè€…é…ç½®ä¸€ä¸ªBGPè¿‡ç¨‹ï¼Œæˆ–è€…é‡ç½®ä¸€ä¸ªå·²ç»å­˜åœ¨çš„è¿‡ç¨‹æˆ–è€…è·¯ç”±å™¨è½¯ä»¶é‡ç½®BGPè¿‡ç¨‹å¼•èµ·çš„&lt;br&gt;
ä»»ä½•çŠ¶æ€ä¸­æ”¶åˆ°NotificationæŠ¥æ–‡æˆ–TCPæ‹†é“¾é€šçŸ¥ç­‰Erroräº‹ä»¶åï¼ŒBGPéƒ½ä¼šè½¬è‡³IdleçŠ¶æ€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨ConnectçŠ¶æ€ä¸‹ï¼ŒBGPå¯åŠ¨è¿æ¥é‡ä¼ å®šæ—¶å™¨ï¼ˆConnect Retryï¼‰ï¼Œç­‰å¾…TCPå®Œæˆè¿æ¥ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥æˆåŠŸï¼Œé‚£ä¹ˆBGPå‘å¯¹ç­‰ä½“å‘é€OpenæŠ¥æ–‡ï¼Œå¹¶è½¬è‡³OpenSentçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥å¤±è´¥ï¼Œé‚£ä¹ˆBGPè½¬è‡³ActiveçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡ä¼ å®šæ—¶å™¨è¶…æ—¶ï¼ŒBGPä»æ²¡æœ‰æ”¶åˆ°BGPå¯¹ç­‰ä½“çš„å“åº”ï¼Œé‚£ä¹ˆBGPç»§ç»­å°è¯•å’Œå…¶å®ƒBGPå¯¹ç­‰ä½“è¿›è¡ŒTCPè¿æ¥ï¼Œåœç•™åœ¨ConnectçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨ActiveçŠ¶æ€ä¸‹ï¼ŒBGPæ€»æ˜¯åœ¨è¯•å›¾å»ºç«‹TCPè¿æ¥ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥æˆåŠŸï¼Œé‚£ä¹ˆBGPå‘å¯¹ç­‰ä½“å‘é€OpenæŠ¥æ–‡ï¼Œå…³é—­è¿æ¥é‡ä¼ å®šæ—¶å™¨ï¼Œå¹¶è½¬è‡³OpenSentçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœTCPè¿æ¥å¤±è´¥ï¼Œé‚£ä¹ˆBGPåœç•™åœ¨ActiveçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿æ¥é‡ä¼ å®šæ—¶å™¨è¶…æ—¶ï¼ŒBGPä»æ²¡æœ‰æ”¶åˆ°BGPå¯¹ç­‰ä½“çš„å“åº”ï¼Œé‚£ä¹ˆBGPè½¬è‡³ConnectçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨OpenSentçŠ¶æ€ä¸‹ï¼ŒBGPç­‰å¾…å¯¹ç­‰ä½“çš„OpenæŠ¥æ–‡ï¼Œå¹¶å¯¹æ”¶åˆ°çš„OpenæŠ¥æ–‡ä¸­çš„ASå·ã€ç‰ˆæœ¬å·ã€è®¤è¯ç ç­‰è¿›è¡Œæ£€æŸ¥ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°çš„OpenæŠ¥æ–‡æ­£ç¡®ï¼Œé‚£ä¹ˆBGPå‘é€KeepaliveæŠ¥æ–‡ï¼Œå¹¶è½¬è‡³OpenConfirmçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå‘ç°æ”¶åˆ°çš„OpenæŠ¥æ–‡æœ‰é”™è¯¯ï¼Œé‚£ä¹ˆBGPå‘é€NotificationæŠ¥æ–‡ç»™å¯¹ç­‰ä½“ï¼Œå¹¶è½¬è‡³IdleçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åœ¨OpenConfirmçŠ¶æ€ä¸‹ï¼ŒBGPç­‰å¾…Keepaliveæˆ–NotificationæŠ¥æ–‡ã€‚å¦‚æœæ”¶åˆ°KeepaliveæŠ¥æ–‡ï¼Œåˆ™è½¬è‡³EstablishedçŠ¶æ€ï¼Œå¦‚æœæ”¶åˆ°NotificationæŠ¥æ–‡ï¼Œåˆ™è½¬è‡³IdleçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨EstablishedçŠ¶æ€ä¸‹ï¼ŒBGPå¯ä»¥å’Œå¯¹ç­‰ä½“äº¤æ¢Updateã€Keepaliveã€Route-refreshæŠ¥æ–‡å’ŒNotificationæŠ¥æ–‡ã€‚
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°æ­£ç¡®çš„Updateæˆ–KeepaliveæŠ¥æ–‡ï¼Œé‚£ä¹ˆBGPå°±è®¤ä¸ºå¯¹ç«¯å¤„äºæ­£å¸¸è¿è¡ŒçŠ¶æ€ï¼Œå°†ä¿æŒBGPè¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°é”™è¯¯çš„Updateæˆ–KeepaliveæŠ¥æ–‡ï¼Œé‚£ä¹ˆBGPå‘é€NotificationæŠ¥æ–‡é€šçŸ¥å¯¹ç«¯ï¼Œå¹¶è½¬è‡³IdleçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;Route-refreshæŠ¥æ–‡ä¸ä¼šæ”¹å˜BGPçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°NotificationæŠ¥æ–‡ï¼Œé‚£ä¹ˆBGPè½¬è‡³IdleçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœæ”¶åˆ°TCPæ‹†é“¾é€šçŸ¥ï¼Œé‚£ä¹ˆBGPæ–­å¼€è¿æ¥ï¼Œè½¬è‡³IdleçŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯ç”±é€šå‘ŠåŸåˆ™&#34;&gt;BGPè·¯ç”±é€šå‘ŠåŸåˆ™&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è¿æ¥å»ºç«‹æ—¶ï¼ŒBGP SpeakeråªæŠŠæœ¬èº«ç”¨çš„&lt;strong&gt;æœ€ä¼˜è·¯ç”±é€šå‘Šç»™å¯¹ç­‰ä½“&lt;/strong&gt;ï¼›å¤šæ¡è·¯å¾„æ—¶ï¼ŒBGP Speakeråªé€‰&lt;strong&gt;æœ€ä¼˜çš„è·¯ç”±æ”¾å…¥è·¯ç”±è¡¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;BGP Speakerä»EBGPè·å¾—çš„è·¯ç”±ä¼š&lt;strong&gt;å‘å®ƒæ‰€æœ‰BGPå¯¹ç­‰ä½“é€šå‘Š&lt;/strong&gt;ï¼ˆåŒ…æ‹¬EBGPå’ŒIBGPï¼‰ã€‚&lt;br&gt;
ä»&lt;strong&gt;EBGP&lt;/strong&gt;æ”¶åˆ°çš„è·¯ç”±&lt;strong&gt;é€šå‘Šç»™IBGP&lt;/strong&gt;ï¼Œ&lt;strong&gt;ä¸ä¼šä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;ï¼ˆ&lt;strong&gt;EBGPé€šå‘Šç»™EBGPä¼šè‡ªåŠ¨ä¿®æ”¹&lt;/strong&gt;ï¼‰ã€‚å¦‚æœéœ€è¦ä¿®æ”¹ä¸‹ä¸€è·³ä¸ºè‡ªèº«ï¼Œåˆ™éœ€è¦è¿›è¡Œé…ç½®ã€‚&lt;br&gt;
IBGPæ˜¯ä¸ºEBGPæœåŠ¡çš„ï¼Œç”¨äºæ‰¿è½½EBGPè·¯ç”±ï¼Œä¼ é€’ç»™å…¶ä»–ASã€‚&lt;/li&gt;
&lt;li&gt;BGP Speakerä»IBGPè·å¾—çš„è·¯ç”±ä¸ä¼šé€šå‘Šç»™å®ƒçš„IBGPé‚»å±…ã€‚&lt;br&gt;
IBGPé€»è¾‘å…¨äº’è¿ï¼Œå¯¼è‡´ASå†…éƒ¨è·¯ç”±å™¨éœ€è¦ç»´æŠ¤&lt;strong&gt;æ›´å¤šçš„IBGPä¼šè¯&lt;/strong&gt;ï¼Œè§£å†³æ–¹æ¡ˆï¼šè·¯ç”±åå°„å™¨å’Œè”ç›Ÿ&lt;/li&gt;
&lt;li&gt;BGP Speakerä»IBGPè·å¾—çš„è·¯ç”±æ˜¯å¦é€šå‘Šç»™å®ƒçš„EBGPå¯¹ç­‰ä½“è¦ä¾IGPå’ŒBGPåŒæ­¥çš„æƒ…å†µæ¥å†³å®šã€‚&lt;br&gt;
BGPä¸IGPåŒæ­¥ï¼ˆåä¸ºè®¾å¤‡æ— æ³•åŒæ­¥ï¼‰çš„æ¦‚å¿µï¼šBGP Speakerä¸å°†ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„è·¯ç”±ä¿¡æ¯é€šå‘Šç»™å®ƒçš„EBGPå¯¹ç­‰ä½“ï¼Œ&lt;strong&gt;é™¤éè¯¥è·¯ç”±ä¿¡æ¯ä¹Ÿèƒ½é€šè¿‡IGPè·å¾—&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä»IBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±ï¼ŒBGPè®¾å¤‡åªå‘å¸ƒç»™å®ƒçš„EBGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;ä»EBGPå¯¹ç­‰ä½“è·å¾—çš„BGPè·¯ç”±ï¼ŒBGPè®¾å¤‡å‘å¸ƒç»™å®ƒæ‰€æœ‰EBGPå’ŒIBGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;å½“å­˜åœ¨å¤šæ¡åˆ°è¾¾åŒä¸€ç›®çš„åœ°å€çš„æœ‰æ•ˆè·¯ç”±æ—¶ï¼ŒBGPè®¾å¤‡åªå°†æœ€ä¼˜è·¯ç”±å‘å¸ƒç»™å¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ›´æ–°æ—¶ï¼ŒBGPè®¾å¤‡åªå‘é€æ›´æ–°çš„BGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å¯¹ç­‰ä½“å‘é€çš„è·¯ç”±ï¼ŒBGPè®¾å¤‡éƒ½ä¼šæ¥æ”¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;bgpçš„è·¯ç”±é»‘æ´&#34;&gt;BGPçš„è·¯ç”±é»‘æ´&lt;/h1&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œå®ƒä¼šé»˜é»˜çš„å°†æ•°æ®åŒ…ä¸¢å¼ƒï¼Œä½¿æ‰€æœ‰æ•°æ®åŒ…æœ‰å»æ— å›ï¼Œä¸»è¦åŸå› æ˜¯æ²¡æœ‰ç›¸åº”çš„è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589986054853.png&#34; alt=&#34;BGPçš„è·¯ç”±é»‘æ´&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ä¸¾ä¾‹&lt;/strong&gt;ï¼šAR6æ— æ³•pingé€šAR1çš„11.11.11.11ï¼Œä¸»è¦æ˜¯AR5çš„è·¯ç”±è¡¨ä¸­11.11.11.11çš„ä¸‹ä¸€è·³æ˜¯2.2.2.2ï¼ˆAR5å’ŒAR2æ²¡æœ‰ç›´è¿ï¼‰ï¼Œåœ¨å…¶è½¬å‘è¡¨ä¸­2.2.2.2çš„ä¸‹ä¸€è·³æ˜¯35.1.1.3ï¼ˆæˆ–è€…45.1.1.4ï¼‰ï¼Œä½†æ˜¯AR3ï¼ˆæˆ–è€…AR4ï¼‰ä¸­æ²¡æœ‰å…³äº11.11.11.11çš„è·¯ç”±ï¼Œå¯¼è‡´æ‰€æœ‰æ¶‰åŠ11.11.11.11çš„æ•°æ®åŒ…è¢«ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³è·¯ç”±é»‘æ´æ–¹æ³•&#34;&gt;è§£å†³è·¯ç”±é»‘æ´æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å¯&lt;strong&gt;åŒæ­¥&lt;/strong&gt;ï¼ˆæ€ç§‘æ”¯æŒï¼‰ï¼Œ&lt;strong&gt;åä¸ºä¸æ”¯æŒ&lt;/strong&gt;ã€‚å¼€å¯åŒæ­¥åï¼Œä»IBGPæ”¶åˆ°çš„è·¯ç”±ï¼Œå¦‚æœIGPä¸­ä¸å­˜åœ¨ï¼Œå°±ä¸ä¼šé€šå‘ŠEBGPé‚»å±…ã€‚ã€å³AR5ä¸­ä¸å­˜åœ¨11.11.11.11/32ï¼Œæ‰€ä»¥AR5ä¸ä¼šè®²æ­¤è·¯ç”±é€šå‘Šç»™AR6ã€‘&lt;/li&gt;
&lt;li&gt;ç‰©ç†çº¿è·¯ç›´è¿ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨&lt;strong&gt;GREéš§é“&lt;/strong&gt;ã€‚ã€å³åœ¨AR2å’ŒAR5ä¹‹é—´å»ºç«‹GREé€šé“ã€‘&lt;/li&gt;
&lt;li&gt;å…¨äº’è”å¯ä»¥è§£å†³ ï¼Œç®¡ç†æˆæœ¬å¢åŠ ã€‚&lt;/li&gt;
&lt;li&gt;RRï¼ˆé…ç½®è·¯ç”±åå°„å™¨ï¼‰ã€‚è·¯ç”±åå°„å™¨ä¸æ˜¯è§£å†³è·¯ç”±é»‘æ´çš„ï¼Œæ˜¯è§£å†³æ°´å¹³åˆ†å‰²çš„é—®é¢˜ã€‚ã€åœ¨R3ä¸Šé…ç½®RRï¼ŒR2å’ŒR5ä¸å†éœ€è¦é…ç½®BGPé‚»å±…ã€‘&lt;/li&gt;
&lt;li&gt;è”é‚¦æ˜¯ç”¨æ¥è§£å†³æ°´å¹³åˆ†å‰²çš„é—®é¢˜ï¼Œä½†ä¹Ÿå¯ä»¥è§£å†³è·¯ç”±é»‘æ´ã€‚&lt;/li&gt;
&lt;li&gt;å°†EBGPè·¯ç”±å¼•å…¥IGPå¯ä»¥è§£å†³è·¯ç”±é»‘æ´ ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰ï¼Œä¼šé€ æˆIGPè´Ÿæ‹…è¿‡é‡ã€‚&lt;/li&gt;
&lt;li&gt;MPLSç½‘ç»œã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥åœ¨é»‘æ´è®¾å¤‡ä¸Šé…ç½®é™æ€ä¹Ÿå¯ä»¥è§£å†³ï¼ˆ&lt;strong&gt;ä¸å¯å–&lt;/strong&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯ç”±çš„æ¥æº&#34;&gt;BGPè·¯ç”±çš„æ¥æº&lt;/h1&gt;
&lt;p&gt;æˆä¸ºBGPè·¯ç”±çš„3ä¸ªæ¥æºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;networkå‘½ä»¤&lt;br&gt;
BGPçš„networkå‘½ä»¤ä¸ºé€šå‘Šè·¯ç”±ï¼ŒæŠŠIGP(æ¯”å¦‚OSPF)å‘ç°çš„è·¯ç”±ä¿¡æ¯é€šè¿‡networkå‘½ä»¤æ³¨å…¥åˆ°BGPè®¾å¤‡çš„BGPè·¯ç”±è¡¨ä¸­&lt;strong&gt;éœ€è¦ä¸¥æ ¼åŒ¹é…æ©ç &lt;/strong&gt;ã€‚networkå®£å‘Šçš„è·¯ç”±çš„èµ·æºå±æ€§ä¸ºi ã€‚æœ¬åœ°è¯¥è·¯ç”±çš„ä¸‹ä¸€è·³æ˜¯0.0.0.0ã€‚&lt;/li&gt;
&lt;li&gt;import-routeå‘½ä»¤&lt;br&gt;
é€šè¿‡import-routeå‘½ä»¤æŠŠIGPè·¯ç”±æˆ–é™æ€è·¯ç”±æ³¨å…¥åˆ°BGPè®¾å¤‡çš„BGPè·¯ç”±è¡¨ä¸­ï¼Œimport-routeå¼•å…¥çš„è·¯ç”±çš„èµ·æºå±æ€§ä¸ºï¼Ÿã€‚&lt;/li&gt;
&lt;li&gt;aggregateå‘½ä»¤&lt;br&gt;
èšåˆè·¯ç”±ï¼Œæœ¬åœ°è¯¥è·¯ç”±çš„ä¸‹ä¸€è·³æ˜¯127.0.0.1&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯å¾„å±æ€§&#34;&gt;BGPè·¯å¾„å±æ€§&lt;/h1&gt;
&lt;p&gt;BGPè·¯å¾„å±æ€§æ˜¯ä¸€ç»„æè¿°BGPå‰ç¼€ç‰¹æ€§çš„å‚æ•°ï¼Œå…¬è®¤å±æ€§æ˜¯æ‰€æœ‰BGPè·¯ç”±å™¨éƒ½å¿…é¡»è¯†åˆ«çš„å±æ€§ï¼Œå¯é€‰å±æ€§ä¸éœ€è¦éƒ½è¢«BGPè·¯ç”±å™¨æ‰€è¯†åˆ«ï¼Œå¯ä»¥åˆ†ä¸ºå››å¤§ç±»ï¼š&lt;/p&gt;
&lt;h2 id=&#34;å…¬è®¤å¿…éµ&#34;&gt;å…¬è®¤å¿…éµ&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨éƒ½å¯ä»¥è¯†åˆ«ï¼Œä¸”å¿…é¡»å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ã€‚å¦‚æœç¼ºå°‘è¿™ç§å±æ€§ï¼Œè·¯ç”±ä¿¡æ¯å°±ä¼šå‡ºé”™ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Originï¼šèµ·æºå±æ€§&lt;br&gt;
ä¸€èˆ¬çš„ï¼Œå…·ä½“çš„å®ç°æŒ‰å¦‚ä¸‹æ–¹å¼å†³å®šä¸€æ¡è·¯ç”±çš„Originå±æ€§ï¼š
&lt;ul&gt;
&lt;li&gt;æŸæ¡è·¯ç”±æ˜¯ç›´æ¥è€Œå…·ä½“çš„æ³¨å…¥åˆ°BGPè·¯ç”±è¡¨ä¸­çš„ï¼Œåˆ™originå±æ€§ä¸ºIGP
&lt;ul&gt;
&lt;li&gt;é€šè¿‡networkå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é€šè¿‡EGPå­¦åˆ°çš„è·¯ç”±ï¼Œåˆ™originå±æ€§ä¸ºEGP&lt;/li&gt;
&lt;li&gt;å…¶ä»–æƒ…å½¢ä¸‹ï¼ŒOriginå±æ€§éƒ½ä¸º Incomplete
&lt;ul&gt;
&lt;li&gt;é€šè¿‡importå‘½ä»¤æ³¨å…¥BGPçš„è·¯ç”±&lt;br&gt;
&lt;code&gt;Originå±æ€§å€¼é»˜è®¤æƒ…å†µä¸‹ä¸è¢«ä»»ä½•è·¯ç”±å™¨ä¿®æ”¹&lt;/code&gt;&lt;br&gt;
&lt;code&gt;è·¯ç”±ä¼˜å…ˆçº§ï¼ši(networkå®£å‘Š) ä¼˜äº e(EGP) ä¼˜äº ï¼Ÿ(import-routeå¼•å…¥çš„è·¯ç”±)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;AS_Path&lt;br&gt;
ç”¨äºé˜²ç¯å’Œé€‰è·¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒBGPæ˜¯é€šè¿‡ASå·æ¥æ£€æµ‹è·¯ç”±ç¯è·¯çš„ã€‚&lt;/li&gt;
&lt;li&gt;Next_Hop&lt;br&gt;
BGPè®¾å¤‡åœ¨å‘EBGPå¯¹ç­‰ä½“å‘å¸ƒæŸä¸€æ¡è·¯ç”±æ—¶ï¼Œä¼šæŠŠè¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§   è®¾ç½®ä¸º   &lt;strong&gt;æœ¬åœ°ä¸å¯¹ç«¯å»ºç«‹BGPé‚»å±…å…³ç³»çš„æ¥å£åœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
BGPè®¾å¤‡å°†æœ¬åœ°å§‹å‘è·¯ç”±å‘å¸ƒç»™IBGPå¯¹ç­‰ä½“æ—¶ï¼Œä¼šæŠŠè¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§   è®¾ç½®ä¸º   &lt;strong&gt;æœ¬åœ°ä¸å¯¹ç«¯å»ºç«‹BGPé‚»å±…å…³ç³»çš„æ¥å£åœ°å€&lt;/strong&gt;ã€‚&lt;br&gt;
BGPè®¾å¤‡åœ¨&lt;strong&gt;å‘IBGPå¯¹ç­‰ä½“å‘å¸ƒä»EBGPå¯¹ç­‰ä½“å­¦æ¥çš„è·¯ç”±&lt;/strong&gt;æ—¶ï¼Œ&lt;strong&gt;å¹¶ä¸æ”¹å˜è¯¥è·¯ç”±ä¿¡æ¯çš„ä¸‹ä¸€è·³å±æ€§&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…¬è®¤ä»»æ„&#34;&gt;å…¬è®¤ä»»æ„&lt;/h2&gt;
&lt;p&gt;æ‰€æœ‰BGPè·¯ç”±å™¨éƒ½å¯ä»¥è¯†åˆ«ï¼Œä½†ä¸è¦æ±‚å¿…é¡»å­˜åœ¨äºUpdateæ¶ˆæ¯ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“æƒ…å†µæ¥å†³å®šæ˜¯å¦æ·»åŠ åˆ°Updateæ¶ˆæ¯ä¸­ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Local_Pref&lt;br&gt;
åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸€ä¸ªISPå¯èƒ½é€šè¿‡ä¸¤æ¡é«˜é€Ÿé“¾è·¯è¿æ¥ä¸¤ä¸ªå¤§çš„ISPä½œä¸ºè‡ªå·±åˆ°INTERNETçš„å‡ºå£ï¼ˆè¶Šå¤§è¶Šä¼˜ï¼‰&lt;br&gt;
Local_Prefå±æ€§å¯ä»¥é’ˆå¯¹ IBGPçš„å‡º\å…¥ æ–¹å‘å’Œ EBGPçš„å…¥ æ–¹å‘è°ƒç”¨ï¼Œä½†æ˜¯ä¸èƒ½é’ˆå¯¹ EBGPçš„å‡º æ–¹å‘è°ƒç”¨ã€‚&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä½¿ç”¨è·¯ç”±ç­–ç•¥ä¿®æ”¹Local_Prefå€¼ï¼Œä½¿å¾—è®¿é—®44.44.44.44å’Œ55.55.55.55çš„èµ°ä¸é€šçš„é“¾è·¯ï¼Œä»è€Œå®ç°é€‰è·¯åŠŸèƒ½
acl number 2001  
rule 5 permit source 44.44.44.44 0 
acl number 2002  
rule 5 permit source 55.55.55.55 0 

route-policy Local-pre permit node 10 
if-match acl 2001 
apply local-preference 150 
route-policy Local-pre permit node 20 
if-match acl 2002 
apply local-preference 200 
route-policy Local-pre permit node 30 

bgp 100
peer 14.1.1.4 route-policy Local-pre import
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Atomic_Aggregate&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¯é€‰è¿‡æ¸¡&#34;&gt;å¯é€‰è¿‡æ¸¡&lt;/h2&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§ã€‚æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯ä»¥è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨ï¼Œé‚»å±…è·¯ç”±å™¨å¯èƒ½ä¼šè¯†åˆ«å¹¶ä½¿ç”¨åˆ°è¿™ç§å±æ€§ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Aggregator&lt;/li&gt;
&lt;li&gt;Community&lt;br&gt;
å›¢ä½“å±æ€§æ˜¯ç”±ä¸€ç³»åˆ—4å­—èŠ‚(0x00000000-0xFFFFFFFF)æ•°å€¼æ‰€ç»„æˆ
&lt;ul&gt;
&lt;li&gt;ä¿ç•™å›¢ä½“å±æ€§
&lt;ul&gt;
&lt;li&gt;0x00000000-0x0000FFFF&lt;/li&gt;
&lt;li&gt;0xFFFF0000-0xFFFFFFFF&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…¬è®¤å›¢ä½“å±æ€§
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NO_EXPORT&lt;/strong&gt;(0xFFFFFF01)ï¼šè·¯ç”±å™¨æ”¶åˆ°å¸¦æœ‰è¿™ä¸€å›¢ä½“å€¼çš„è·¯ç”±åï¼Œ&lt;strong&gt;ä¸åº”æŠŠè¯¥è·¯ç”±é€šå‘Šç»™ä¸€ä¸ªè”ç›Ÿä¹‹å¤–çš„å¯¹ç­‰ä½“&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NO_ADVERTISE&lt;/strong&gt;(0xFFFFFF02)ï¼šè·¯ç”±å™¨æ”¶åˆ°å¸¦æœ‰è¿™ä¸€å›¢ä½“å€¼çš„è·¯ç”±åï¼Œ&lt;strong&gt;ä¸åº”è¯¥æŠŠè¯¥è·¯ç”±é€šå‘Šç»™ä»»ä½•çš„BGPå¯¹ç­‰ä½“&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;NO_EXPORT_SUBCONFED&lt;/strong&gt;(0xFFFFFF03)ï¼šè·¯ç”±å™¨æ”¶åˆ°å¸¦æœ‰è¿™ä¸€å›¢ä½“å€¼çš„è·¯ç”±åï¼Œå¯ä»¥æŠŠè¯¥è·¯ç”±é€šå‘Šç»™å®ƒçš„IBGPå¯¹ç­‰ä½“ï¼Œä½†&lt;strong&gt;ä¸èƒ½é€šå‘Šç»™ä»»ä½•EBGPå¯¹ç­‰ä½“&lt;/strong&gt;ï¼ˆåŒ…æ‹¬è”ç›Ÿå†…çš„EBGPå¯¹ç­‰ä½“ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç§æœ‰å›¢ä½“å±æ€§
&lt;ul&gt;
&lt;li&gt;AS(2B):Number(2B)&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; # é€šè¿‡è·¯ç”±ç­–ç•¥å’Œå›¢ä½“å±æ€§çš„ç»“åˆï¼Œè¾¾åˆ°è·¯ç”±ä¼ é€’èŒƒå›´çš„é™åˆ¶
 # AR4ï¼šas200ï¼ŒAR1ï¼šas100
 # AR4ï¼šæ·»åŠ no-exportå±æ€§
 route-policy Comm permit node 10 
 apply community no-export 
 bgp 200
 peer 14.1.1.1 route-policy Comm export
 peer 14.1.1.1 advertise-community
 # AR1:å»æ‰no-exportå±æ€§ï¼Œä»è€Œå¯ä»¥ä½¿å¾—è¯¥æ¡è·¯ç”±ç»§ç»­é€šå‘Š
 ip community-filter 10 permit no-export
 route-policy Comm permit node 10 
 apply community none
 # AR1ï¼šåœ¨ç°æœ‰å›¢ä½“å±æ€§åŸºç¡€ä¸Šæ·»åŠ æ–°çš„å›¢ä½“å±æ€§100:100
 route-policy COMM_NO_noexport permit node 10
 if-match community-filter 10
 apply community 100:100 additive
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¯é€‰éè¿‡æ¸¡&#34;&gt;å¯é€‰éè¿‡æ¸¡&lt;/h2&gt;
&lt;p&gt;BGPè·¯ç”±å™¨å¯ä»¥é€‰æ‹©æ˜¯å¦åœ¨Updateæ¶ˆæ¯ä¸­æºå¸¦è¿™ç§å±æ€§ã€‚åœ¨æ•´ä¸ªè·¯ç”±å‘å¸ƒçš„è·¯å¾„ä¸Šï¼Œå¦‚æœéƒ¨åˆ†è·¯ç”±å™¨ä¸èƒ½è¯†åˆ«è¿™ç§å±æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¯¥å±æ€§æ— æ³•å‘æŒ¥æ•ˆç”¨ã€‚å› æ­¤æ¥æ”¶çš„è·¯ç”±å™¨å¦‚æœä¸è¯†åˆ«è¿™ç§å±æ€§ï¼Œå°†ä¸¢å¼ƒè¿™ç§å±æ€§ï¼Œä¸å¿…å†è½¬å‘ç»™é‚»å±…è·¯ç”±å™¨ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Multi_Exit_Disc&lt;br&gt;
MEDï¼ˆå’Œcostå€¼ç±»ä¼¼ï¼‰ç”¨æ¥åŒºåˆ«è¾¾åˆ°åŒä¸€é‚»å±…ASçš„å¤šæ¡å…¥å£é“¾è·¯ï¼ˆMEDå€¼è¶Šå°è¶Šä¼˜ï¼‰ï¼Œé€šè¿‡EBGPå‘é€MEDå€¼ç»™å¯¹ç­‰ä½“ã€‚&lt;br&gt;
MEDå±æ€§å¯ä»¥é’ˆå¯¹ EBGP\IBGP çš„ å‡º\å…¥ æ–¹å‘è°ƒç”¨ã€‚&lt;br&gt;
ä»ä¸åŒASè¿‡æ¥çš„è·¯ç”±æ˜¯ä¸ä¼šæ¯”è¾ƒmedçš„ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;compare-different-as-med&lt;/code&gt;å¿½ç•¥ASã€‚&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä½¿ç”¨è·¯ç”±ç­–ç•¥ä¿®æ”¹MEDå€¼ï¼Œä½¿å¾—20.20.20.20å’Œ21.21.21.21çš„ä¼˜å…ˆçº§ä¸ç›¸åŒï¼Œä»è€Œå®ç°é€‰è·¯åŠŸèƒ½
acl number 2020  
rule 5 permit source 20.20.20.20 0 
acl number 2021  
rule 5 permit source 21.21.21.21 0 

route-policy Med permit node 10
if-match acl 2020
apply cost 50   # åä¸ºæ²¡æœ‰medï¼Œæ­¤å¤„ä¿®æ”¹çš„æ˜¯costå€¼
route-policy Med permit node 20 
if-match acl 2021 
apply cost 100 

peer 35.1.1.5 route-policy Med export  # åœ¨é‚»å±…ä¸Šä½¿ç”¨è·¯ç”±è§„åˆ™ï¼ˆå‡ºæ–¹å‘ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Originator ID&lt;/li&gt;
&lt;li&gt;Cluster List&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bgpè·¯å¾„é€‰æ‹©è¿‡ç¨‹é€‰è·¯è§„åˆ™æŒ‰ç…§æ•°å­—é¡ºåºä¾æ¬¡è¿›è¡Œé€‰è·¯&#34;&gt;BGPè·¯å¾„é€‰æ‹©è¿‡ç¨‹ï¼ˆé€‰è·¯è§„åˆ™ï¼šæŒ‰ç…§æ•°å­—é¡ºåºä¾æ¬¡è¿›è¡Œé€‰è·¯ï¼‰&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ­¤è·¯ç”±çš„ä¸‹ä¸€è·³ä¸å¯è¾¾ï¼Œå¿½ç•¥æ­¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;Preferred-Valueå€¼æ•°å€¼é«˜çš„ä¼˜å…ˆï¼ˆåªåœ¨æœ¬åœ°æœ‰æ•ˆï¼‰&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;route-policy Prefer permit node 10
apply preferred-value 200
bgp 100
peer 3.3.3.3 route-policy Pref import
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;Local-Preferenceå€¼æœ€é«˜çš„è·¯ç”±ä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;èšåˆè·¯ç”±ä¼˜å…ˆäºéèšåˆè·¯ç”±&lt;/li&gt;
&lt;li&gt;æœ¬åœ°æ‰‹åŠ¨èšåˆè·¯ç”±çš„ä¼˜å…ˆçº§é«˜äºæœ¬åœ°è‡ªåŠ¨èšåˆçš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;æœ¬åœ°é€šè¿‡networkå‘½ä»¤å¼•å…¥çš„è·¯ç”±çš„ä¼˜å…ˆçº§é«˜äºæœ¬åœ°é€šè¿‡import-routeå‘½ä»¤å¼•å…¥çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;ASè·¯å¾„çš„é•¿åº¦æœ€çŸ­çš„è·¯å¾„ä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒOriginå±æ€§ï¼ŒIGPä¼˜äºEGPï¼ŒEGPä¼˜äºIncompleteï¼ˆå³iä¼˜eä¼˜äº?ï¼‰&lt;/li&gt;
&lt;li&gt;é€‰æ‹©MEDè¾ƒå°çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;EBGPè·¯ç”±ä¼˜äºIBGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;BGPä¼˜å…ˆé€‰æ‹©åˆ°BGPä¸‹ä¸€è·³çš„IGPåº¦é‡æœ€ä½çš„è·¯å¾„&lt;br&gt;
&lt;code&gt;å½“ä»¥ä¸Šå…¨éƒ¨ç›¸åŒï¼Œåˆ™ä¸ºç­‰ä»·è·¯ç”±ï¼Œå¯ä»¥è´Ÿè½½åˆ†æ‹…&lt;/code&gt;&lt;br&gt;
ã€æ³¨ã€‘ï¼šA S-Pathå¿…é¡»ä¸€è‡´&lt;br&gt;
å½“è´Ÿè½½åˆ†æ‹…æ—¶ï¼Œä»¥ä¸‹3æ¡åŸåˆ™æ— æ•ˆ
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒCluster Listé•¿åº¦ï¼ŒçŸ­è€…ä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒOriginator_ID(å¦‚æœæ²¡æœ‰Originator_IDï¼Œåˆ™ç”¨Router IDæ¯”è¾ƒ)ï¼Œé€‰æ‹©æ•°å€¼è¾ƒå°çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;æ¯”è¾ƒå¯¹ç­‰ä½“çš„IPåœ°å€ï¼Œé€‰æ‹©IPåœ°å€æ•°å€¼æœ€å°çš„è·¯å¾„&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“åˆ°è¾¾åŒä¸€ç›®çš„åœ°å­˜åœ¨å¤šæ¡è·¯ç”±æ—¶ï¼ŒBGPä¾æ¬¡å¯¹æ¯”ä¸‹åˆ—å±æ€§æ¥é€‰æ‹©è·¯ç”±ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;ä¼˜é€‰åè®®é¦–é€‰å€¼ï¼ˆPref_Valï¼‰æœ€é«˜çš„è·¯ç”±ã€‚ã€å¯¹æ¯”æ€ç§‘çš„æƒé‡weightã€‘åè®®é¦–é€‰å€¼ï¼ˆPref_Valï¼‰æ˜¯åä¸ºè®¾å¤‡çš„ç‰¹æœ‰å±æ€§ï¼Œè¯¥å±æ€§ä»…åœ¨æœ¬åœ°æœ‰æ•ˆ&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰æœ¬åœ°ä¼˜å…ˆçº§ï¼ˆLocal_Prefï¼‰æœ€é«˜çš„è·¯ç”±ã€‚å¦‚æœè·¯ç”±æ²¡æœ‰æœ¬åœ°ä¼˜å…ˆçº§ï¼ŒBGPé€‰è·¯æ—¶å°†è¯¥è·¯ç”±æŒ‰ç¼ºçœçš„æœ¬åœ°ä¼˜å…ˆçº§100æ¥å¤„ç†&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡ä¼˜é€‰æ‰‹åŠ¨èšåˆè·¯ç”±ã€è‡ªåŠ¨èšåˆè·¯ç”±ã€networkå‘½ä»¤å¼•å…¥çš„è·¯ç”±ã€import-routeå‘½ä»¤å¼•å…¥çš„è·¯ç”±ã€ä»å¯¹ç­‰ä½“å­¦ä¹ çš„è·¯ç”±ã€‚ã€å¯¹æ¯”æ€ç§‘ï¼Œæœ¬åœ°èµ·æºå³æœ¬åœ°é€šå‘Šäº§ç”Ÿçš„è·¯ç”±ã€‘&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰ASè·¯å¾„ï¼ˆAS_Pathï¼‰æœ€çŸ­çš„è·¯ç”±ã€‚ã€ä¸æ€ç§‘ç›¸åŒï¼Œæ­¤ä¸ºå…¬è®¤å¿…éµå±æ€§ã€‘&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡ä¼˜é€‰Originç±»å‹ä¸ºIGPã€EGPã€Incompleteçš„è·¯ç”±ã€‚ã€ä¸æ€ç§‘ç›¸åŒï¼Œæ­¤ä¸ºå…¬è®¤å¿…éµå±æ€§ã€‘&lt;br&gt;
-.-.-.-.-.-.-.--.-.-.-.-.-.-.--.-.-.-.-.-.-.-.-.-.-.-.-.-.-&lt;/li&gt;
&lt;li&gt;å¯¹äºæ¥è‡ªåŒä¸€ASçš„è·¯ç”±ï¼Œä¼˜é€‰MEDå€¼æœ€ä½çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;ä¾æ¬¡ä¼˜é€‰EBGPè·¯ç”±ã€IBGPè·¯ç”±ã€LocalCrossè·¯ç”±ã€RemoteCrossè·¯ç”±&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰åˆ°BGPä¸‹ä¸€è·³IGPåº¦é‡å€¼ï¼ˆmetricï¼‰æœ€å°çš„è·¯ç”±ã€‚ã€6ã€7ã€8é€‰è·¯åŸåˆ™ä¹Ÿç›¸åŒï¼Œæ­¤å¤„æ€ç§‘å¦‚æœåœ¨å‰8æ¡é€‰è·¯åŸåˆ™é€‰æ‹©ä¸å‡ºæœ€ä¼˜è·¯ç”±ï¼Œåˆ™ä½¿èƒ½è´Ÿè½½å‡è¡¡ï¼Œåä¸ºä¹Ÿæœ‰ç›¸åŒçš„å±æ€§ï¼Œå‘½ä»¤ä¸º&lt;code&gt;maximum load-balancing [ebgp|ibgp] number&lt;/code&gt;ï¼Œé…ç½®BGPè´Ÿè½½åˆ†æ‹…çš„æœ€å¤§ç­‰ä»·è·¯ç”±æ¡æ•°ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼ŒBGPè´Ÿè½½åˆ†æ‹…çš„æœ€å¤§ç­‰ä»·è·¯ç”±æ¡æ•°ä¸º1ï¼Œå³ä¸è¿›è¡Œè´Ÿè½½åˆ†æ‹…ã€‘&lt;br&gt;
-.-.-.-.-.-.-.--.-.-.-.-.-.-.--.-.-.-.-.-.-.-.-.-.-.-.-.-.-&lt;br&gt;
åä¸ºå¹¶æœªè¯´æ˜ä¼˜é€‰æ›´â€œè€â€ï¼ˆå»ºç«‹æ—¶é—´æ›´ä¹…ï¼‰çš„BGP&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰Cluster_Listæœ€çŸ­çš„è·¯ç”±ã€‚ã€å¯¹æ¯”æ€ç§‘ï¼Œåä¸ºåœ¨æ­¤å¤„ç¬¬9æ¡å’Œç¬¬10æ¡é¢ å€’ã€‘&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰Router_IDæœ€å°çš„è®¾å¤‡å‘å¸ƒçš„è·¯ç”±ï¼ˆå¯ä»¥ç”±è·¯ç”±åå°„å™¨çš„Oringinator_IDä»£æ›¿ï¼‰&lt;/li&gt;
&lt;li&gt;ä¼˜é€‰ä»å…·æœ‰æœ€å°IPåœ°å€çš„å¯¹ç­‰ä½“å­¦æ¥çš„è·¯ç”±&lt;br&gt;
&lt;code&gt;è®°å¿†åä¸ºé€‰è·¯åŸåˆ™ï¼šä¸–ç•Œæ‹çˆ±ç»„ç»‡äºšæ´²åŠå…¬å®¤ï¼Œçºªå¿µç¢‘ä¸‹çš„åŠå…½äºº&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;```shell
ä¸–ç•Œæ‹çˆ±ç»„ç»‡äºšæ´²åŠå…¬å®¤ï¼›çºªå¿µç¢‘ï¼›åŠå…½äºº
åˆ†åˆ«å¯¹åº”çš„è‹±æ–‡å•è¯ä¸ºï¼š
1ã€Wï¼ˆworldï¼‰ Weight
2ã€Lï¼ˆloveï¼‰local preferenceï¼Œæœ¬åœ°ä¼˜å…ˆçº§
3ã€Oï¼ˆorganizationï¼‰Sourcedï¼Œæœ¬åœ°èµ·æº
4ã€Aï¼ˆasiaï¼‰AS-PATH
5ã€Oï¼ˆOfficeï¼‰Originï¼Œèµ·æºä»£ç 
---
6ã€M,MEDï¼Œå¤šå‡ºå£åˆ†ç¦»å™¨
7ã€Eï¼ŒEBGPä¼˜äºIBGP
8ã€Mï¼Œåˆ°è¾¾æ›´æ–°æºçš„metricå°çš„ä¸‹ä¸€è·³
9ã€Lï¼Œè´Ÿè½½å‡è¡¡
---
10ã€Oï¼Œå»ºç«‹æ—¶é—´æ›´ä¹…çš„EBGPé‚»å±…
11ã€Rï¼Œæ›´å°çš„RID
12ã€Cï¼Œæ›´çŸ­çš„Cluster-list
13ã€ä¼˜é€‰æ¥è‡ªç”¨æœ€ä½åœ°å€å»ºç«‹BGP è¿æ¥çš„é‚»å±…çš„è·¯ç”±æ¡ç›®
æœ€é‡è¦çš„ï¼Œä¸‹ä¸€è·³å¯è¾¾æ˜¯é€‰è·¯çš„å‰ææ¡ä»¶
```
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;bgpçš„é˜²ç¯æœºåˆ¶&#34;&gt;BGPçš„é˜²ç¯æœºåˆ¶&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;EBGP&lt;/strong&gt;ï¼šé€šè¿‡as-pathå±æ€§ï¼Œä¸¢å¼ƒä»EBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„åœ¨as-pathå±æ€§é‡ŒåŒ…å«è‡ªèº«aså·çš„ä»»ä½•æ›´æ–°ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;IBGP&lt;/strong&gt;ï¼šBGPè·¯ç”±å™¨ä¸ä¼šå°†ä»»ä½•ä»IBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°çš„æ›´æ–°ä¿¡æ¯ä¼ ç»™å…¶ä»–IBGPå¯¹ç­‰ä½“
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;IBGPé˜²ç¯æœºå¸¦æ¥çš„é—®é¢˜&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;ä¸ºç¡®ä¿æ›´æ–°ä¿¡æ¯å¯ä»¥åˆ°è¾¾æ‰€æœ‰çš„IBGPå¯¹ç­‰ä½“
&lt;ul&gt;
&lt;li&gt;è§£å†³æ–¹æ¡ˆï¼šIBGP Speakerä¸IBGP Speakerä¹‹é—´è¦ä¿è¯ä¼šè¯çš„å…¨äº’è¿ã€ä»è€Œåˆå¸¦æ¥äº†IBGPä¼šè¯æ•°&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;/&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;n(n-1)/2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„é—®é¢˜ï¼Œå³IBGPè®¾å¤‡è¿‡å¤šä¹‹åå¯¼è‡´ç»´æŠ¤æˆæœ¬å¢åŠ ã€‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±åå°„ï¼ˆRoute Reflectorï¼ŒRRï¼‰ï¼š&lt;strong&gt;é€‚åˆç°æœ‰ç½‘ç»œçš„æ”¹é€ &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;è”ç›Ÿï¼ˆConfederationï¼‰ï¼š&lt;strong&gt;é€‚åˆæ–°ç½‘ç»œçš„æ­å»º&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;bgpè·¯ç”±åå°„å™¨&#34;&gt;BGPè·¯ç”±åå°„å™¨&lt;/h1&gt;
&lt;h2 id=&#34;è§’è‰²&#34;&gt;è§’è‰²&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590220985716.png&#34; alt=&#34;BGPè·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±åå°„å™¨RRï¼ˆRoute Reflectorï¼‰ï¼šå…è®¸æŠŠä»IBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±&lt;strong&gt;åå°„åˆ°å…¶ä»–IBGPå¯¹ç­‰ä½“çš„BGPè®¾å¤‡&lt;/strong&gt;ï¼Œç±»ä¼¼OSPFç½‘ç»œä¸­çš„DRã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·æœºï¼ˆClientï¼‰ï¼šä¸RRå½¢æˆåå°„é‚»å±…å…³ç³»çš„IBGPè®¾å¤‡ã€‚&lt;strong&gt;åœ¨ASå†…éƒ¨å®¢æˆ·æœºåªéœ€è¦ä¸RRç›´è¿&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;éå®¢æˆ·æœºï¼ˆNon-Clientï¼‰ï¼šæ—¢ä¸æ˜¯RRä¹Ÿä¸æ˜¯å®¢æˆ·æœºçš„IBGPè®¾å¤‡ã€‚åœ¨AS&lt;strong&gt;å†…éƒ¨éå®¢æˆ·æœºä¸RR&lt;/strong&gt;ä¹‹é—´ï¼Œä»¥åŠ&lt;strong&gt;æ‰€æœ‰çš„éå®¢æˆ·æœºä¹‹é—´&lt;/strong&gt;ä»ç„¶å¿…é¡»å»ºç«‹&lt;strong&gt;å…¨è¿æ¥å…³ç³»&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å§‹å‘è€…ï¼ˆOriginatorï¼‰ï¼šåœ¨ASå†…éƒ¨å§‹å‘è·¯ç”±çš„è®¾å¤‡ã€‚Originator_IDå±æ€§ç”¨äº&lt;strong&gt;é˜²æ­¢é›†ç¾¤å†…äº§ç”Ÿè·¯ç”±ç¯è·¯&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é›†ç¾¤ï¼ˆClusterï¼‰ï¼šè·¯ç”±åå°„å™¨åŠå…¶å®¢æˆ·æœºçš„é›†åˆã€‚Cluster_Listå±æ€§ç”¨äºé˜²æ­¢é›†ç¾¤é—´äº§ç”Ÿè·¯ç”±ç¯è·¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&#34;&gt;è·¯ç”±åå°„å®£å‘ŠåŸåˆ™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä»éå®¢æˆ·æœºIBGPå­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRçš„æ‰€æœ‰å®¢æˆ·æœºå’ŒEBGPå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;ä»å®¢æˆ·æœºå­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ­¤RRæ‰€æœ‰éå®¢æˆ·æœºå’Œå®¢æˆ·æœºï¼ˆå‘èµ·æ­¤è·¯ç”±çš„å®¢æˆ·æœºé™¤å¤–ï¼‰&lt;/li&gt;
&lt;li&gt;ä»EBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±ï¼Œå‘å¸ƒç»™æ‰€æœ‰çš„éå®¢æˆ·æœºå’Œå®¢æˆ·æœº&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è·¯ç”±åå°„ç°‡å³è·¯ç”±åå°„é›†ç¾¤cluster&#34;&gt;è·¯ç”±åå°„ç°‡ï¼ˆå³è·¯ç”±åå°„é›†ç¾¤ï¼ŒClusterï¼‰&lt;/h2&gt;
&lt;p&gt;å½“ä¸€ä¸ªASå†…å­˜åœ¨å¤šå°RRä¸ºClientæä¾›å†—ä½™æ—¶ï¼ŒRRé—´çš„è·¯ç”±æ›´æ–°å¾ˆæœ‰å¯èƒ½ä¼šå½¢æˆç¯è·¯ï¼Œä¸ºé˜²æ­¢è¯¥ç°è±¡ï¼Œéœ€è¦ä½¿ç”¨Clusterã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šè¿‡4å­—èŠ‚çš„Cluster_IDæ¥æ ‡è¯†Clusterï¼Œé€šå¸¸ä¼šä½¿ç”¨LoopBackåœ°å€ä½œä¸ºCluster_ID&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªClusteré‡Œå¯ä»¥åŒ…æ‹¬ä¸€ä¸ªæˆ–è€…å¤šä¸ªRRï¼›ä¸€ä¸ªClientå¯ä»¥åŒæ—¶å±äºå¤šä¸ªCluster&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;originator_idå±æ€§&#34;&gt;Originator_IDå±æ€§&lt;/h2&gt;
&lt;p&gt;Originator IDç”±RRäº§ç”Ÿï¼Œä½¿ç”¨çš„Router IDçš„å€¼æ ‡è¯†è·¯ç”±çš„å§‹å‘è€…ï¼Œç”¨äºé˜²æ­¢é›†ç¾¤å†…äº§ç”Ÿè·¯ç”±ç¯è·¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ä¸€æ¡è·¯ç”±ç¬¬ä¸€æ¬¡è¢«RRåå°„çš„æ—¶å€™ï¼ŒRRå°†Originator_IDå±æ€§åŠ å…¥è¿™æ¡è·¯ç”±ï¼Œæ ‡è¯†è¿™æ¡è·¯ç”±çš„å‘èµ·è®¾å¤‡ã€‚å¦‚æœä¸€æ¡è·¯ç”±ä¸­å·²ç»å­˜åœ¨äº†Originator_IDå±æ€§ï¼Œåˆ™RRå°†ä¸ä¼šåˆ›å»ºæ–°çš„Originator_IDå±æ€§ã€‚&lt;/li&gt;
&lt;li&gt;å½“è®¾å¤‡æ¥æ”¶åˆ°è¿™æ¡è·¯ç”±çš„æ—¶å€™ï¼Œå°†æ¯”è¾ƒæ”¶åˆ°çš„Originator IDå’Œæœ¬åœ°çš„Router IDï¼Œå¦‚æœä¸¤ä¸ªIDç›¸åŒï¼Œåˆ™ä¸æ¥æ”¶æ­¤è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cluster_listå±æ€§&#34;&gt;Cluster_Listå±æ€§&lt;/h2&gt;
&lt;p&gt;è·¯ç”±åå°„å™¨å’Œå®ƒçš„å®¢æˆ·æœºç»„æˆä¸€ä¸ªé›†ç¾¤ï¼ˆClusterï¼‰ï¼Œä½¿ç”¨ASå†…å”¯ä¸€çš„Cluster IDä½œä¸ºæ ‡è¯†ã€‚ä¸ºäº†é˜²æ­¢é›†ç¾¤é—´äº§ç”Ÿè·¯ç”±ç¯è·¯ï¼Œè·¯ç”±åå°„å™¨ä½¿ç”¨Cluster_Listå±æ€§ï¼Œè®°å½•è·¯ç”±ç»è¿‡çš„æ‰€æœ‰é›†ç¾¤çš„Cluster IDã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ä¸€æ¡è·¯ç”±ç¬¬ä¸€æ¬¡è¢«RRåå°„çš„æ—¶å€™ï¼ŒRRä¼šæŠŠæœ¬åœ°Cluster IDæ·»åŠ åˆ°Cluster Listçš„å‰é¢ã€‚å¦‚æœæ²¡æœ‰Cluster_Listå±æ€§ï¼ŒRRå°±åˆ›å»ºä¸€ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;å½“RRæ¥æ”¶åˆ°ä¸€æ¡æ›´æ–°è·¯ç”±æ—¶ï¼ŒRRä¼šæ£€æŸ¥Cluster Listã€‚å¦‚æœCluster Listä¸­å·²ç»æœ‰æœ¬åœ°Cluster IDï¼Œä¸¢å¼ƒè¯¥è·¯ç”±ï¼›å¦‚æœæ²¡æœ‰æœ¬åœ°Cluster IDï¼Œå°†å…¶åŠ å…¥Cluster Listï¼Œç„¶ååå°„è¯¥æ›´æ–°è·¯ç”±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¤‡ä»½è·¯ç”±åå°„å™¨&#34;&gt;å¤‡ä»½è·¯ç”±åå°„å™¨&lt;/h2&gt;
&lt;p&gt;ä¸ºå¢åŠ ç½‘ç»œçš„&lt;strong&gt;å¯é æ€§&lt;/strong&gt;ï¼Œé˜²æ­¢å•ç‚¹æ•…éšœå¯¹ç½‘ç»œé€ æˆå½±å“ï¼Œæœ‰æ—¶éœ€è¦åœ¨ä¸€ä¸ªé›†ç¾¤ä¸­é…ç½®ä¸€ä¸ªä»¥ä¸Šçš„RRã€‚ç”±äºRRæ‰“ç ´äº†ä»IBGPå¯¹ç­‰ä½“æ”¶åˆ°çš„è·¯ç”±ä¸èƒ½ä¼ é€’ç»™å…¶ä»–IBGPå¯¹ç­‰ä½“çš„é™åˆ¶ï¼Œæ‰€ä»¥åŒä¸€é›†ç¾¤å†…çš„RRä¹‹é—´ä¸­å¯èƒ½å­˜åœ¨ç¯è·¯ã€‚è¿™æ—¶ï¼Œè¯¥&lt;strong&gt;é›†ç¾¤ä¸­çš„æ‰€æœ‰RRå¿…é¡»ä½¿ç”¨ç›¸åŒçš„Cluster ID&lt;/strong&gt;ï¼Œä»¥é¿å…RRä¹‹é—´çš„è·¯ç”±ç¯è·¯ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225110630.png&#34; alt=&#34;å¤‡ä»½è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;è·¯ç”±åå°„å™¨RR1å’ŒRR2åœ¨åŒä¸€ä¸ªé›†ç¾¤å†…ï¼Œé…ç½®äº†ç›¸åŒçš„Cluster ID&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“å®¢æˆ·æœºClient1ä»EBGPå¯¹ç­‰ä½“æ¥æ”¶åˆ°ä¸€æ¡æ›´æ–°è·¯ç”±ï¼Œå®ƒå°†é€šè¿‡IBGPå‘RR1å’ŒRR2é€šå‘Šè¿™æ¡è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;RR1å’ŒRR2åœ¨æ¥æ”¶åˆ°è¯¥æ›´æ–°è·¯ç”±åï¼Œå°†æœ¬åœ°Cluster IDæ·»åŠ åˆ°Cluster Listå‰é¢ï¼Œç„¶åå‘å…¶ä»–çš„å®¢æˆ·æœºï¼ˆClient2ã€Client3ï¼‰åå°„ï¼ŒåŒæ—¶ç›¸äº’åå°„ã€‚&lt;/li&gt;
&lt;li&gt;RR1å’ŒRR2åœ¨æ¥æ”¶åˆ°è¯¥åå°„è·¯ç”±åï¼Œæ£€æŸ¥Cluster Listï¼Œå‘ç°è‡ªå·±çš„Cluster IDå·²ç»åŒ…å«åœ¨Cluster Listä¸­ã€‚äºæ˜¯RR1å’ŒRR2ä¸¢å¼ƒè¯¥æ›´æ–°è·¯ç”±ï¼Œä»è€Œé¿å…äº†è·¯ç”±ç¯è·¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¤šé›†ç¾¤è·¯ç”±åå°„å™¨&#34;&gt;å¤šé›†ç¾¤è·¯ç”±åå°„å™¨&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªASä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªé›†ç¾¤ï¼Œå„ä¸ªé›†ç¾¤çš„RRä¹‹é—´å»ºç«‹IBGPå¯¹ç­‰ä½“ã€‚å½“RRæ‰€å¤„çš„ç½‘ç»œå±‚ä¸åŒæ—¶ï¼Œå¯ä»¥å°†è¾ƒä½ç½‘ç»œå±‚æ¬¡çš„RRé…æˆå®¢æˆ·æœºï¼Œå½¢æˆåˆ†çº§RRã€‚å½“RRæ‰€å¤„çš„ç½‘ç»œå±‚ç›¸åŒæ—¶ï¼Œå¯ä»¥å°†ä¸åŒé›†ç¾¤çš„RRå…¨è¿æ¥ï¼Œå½¢æˆåŒçº§RRã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†çº§è·¯ç”±åå°„å™¨&#34;&gt;åˆ†çº§è·¯ç”±åå°„å™¨&lt;/h3&gt;
&lt;p&gt;åœ¨å®é™…çš„RRéƒ¨ç½²ä¸­ï¼Œå¸¸ç”¨çš„æ˜¯åˆ†çº§RRçš„åœºæ™¯ã€‚ISPä¸ºAS100æä¾›Internetè·¯ç”±ã€‚AS100å†…éƒ¨åˆ†ä¸ºä¸¤ä¸ªé›†ç¾¤ï¼Œå…¶ä¸­Cluster1å†…çš„å››å°è®¾å¤‡æ˜¯æ ¸å¿ƒè·¯ç”±å™¨ï¼Œé‡‡ç”¨å¤‡ä»½RRçš„å½¢å¼ä¿è¯å¯é æ€§ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225258979.png&#34; alt=&#34;åˆ†çº§è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;åŒçº§è·¯ç”±åå°„å™¨&#34;&gt;åŒçº§è·¯ç”±åå°„å™¨&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590225345221.png&#34; alt=&#34;åŒçº§è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä¸€ä¸ªéª¨å¹²ç½‘è¢«åˆ†æˆå¤šä¸ªé›†ç¾¤ã€‚å„é›†ç¾¤çš„RRäº’ä¸ºéå®¢æˆ·æœºå…³ç³»ï¼Œå¹¶å»ºç«‹å…¨è¿æ¥ã€‚æ­¤æ—¶è™½ç„¶æ¯ä¸ªå®¢æˆ·æœºåªä¸æ‰€åœ¨é›†ç¾¤çš„RRå»ºç«‹IBGPè¿æ¥ï¼Œä½†æ‰€æœ‰RRå’Œå®¢æˆ·æœºéƒ½èƒ½æ”¶åˆ°å…¨éƒ¨è·¯ç”±ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h1 id=&#34;bgpè”ç›Ÿ&#34;&gt;BGPè”ç›Ÿ&lt;/h1&gt;
&lt;p&gt;è§£å†³ASå†…éƒ¨çš„IBGPç½‘ç»œè¿æ¥æ¿€å¢é—®é¢˜ï¼Œé™¤äº†ä½¿ç”¨è·¯ç”±åå°„å™¨ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è”ç›Ÿï¼ˆConfederationï¼‰ã€‚è”ç›Ÿ&lt;strong&gt;å°†ä¸€ä¸ªASåˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå­AS&lt;/strong&gt;ã€‚&lt;strong&gt;æ¯ä¸ªå­ASå†…éƒ¨å»ºç«‹IBGPå…¨è¿æ¥å…³ç³»ï¼Œå­ASä¹‹é—´å»ºç«‹è”ç›ŸEBGPè¿æ¥å…³ç³»ï¼Œä½†è”ç›Ÿå¤–éƒ¨ASä»è®¤ä¸ºè”ç›Ÿæ˜¯ä¸€ä¸ªAS&lt;/strong&gt;ã€‚é…ç½®è”ç›Ÿåï¼ŒåŸASå·å°†ä½œä¸ºæ¯ä¸ªè·¯ç”±å™¨çš„è”ç›ŸIDã€‚è¿™æ ·æœ‰ä¸¤ä¸ª&lt;strong&gt;å¥½å¤„&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ä¿ç•™åŸæœ‰çš„IBGPå±æ€§ï¼ŒåŒ…æ‹¬Local Preferenceå±æ€§ã€MEDå±æ€§å’ŒNEXT_HOPå±æ€§ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;è”ç›Ÿç›¸å…³çš„å±æ€§åœ¨ä¼ å‡ºè”ç›Ÿæ—¶ä¼šè‡ªåŠ¨è¢«åˆ é™¤ï¼Œå³ç®¡ç†å‘˜æ— éœ€åœ¨è”ç›Ÿçš„å‡ºå£å¤„é…ç½®è¿‡æ»¤å­ASå·ç­‰ä¿¡æ¯çš„æ“ä½œã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1590226126773.png&#34; alt=&#34;BGPè”ç›Ÿ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
AS100ä½¿ç”¨è”ç›Ÿåè¢«åˆ’åˆ†ä¸º3ä¸ªå­ASï¼šAS65001ã€AS65002å’ŒAS65003ï¼Œä½¿ç”¨AS100ä½œä¸ºè”ç›ŸIDã€‚æ­¤æ—¶IBGPçš„è¿æ¥æ•°é‡ä»10æ¡å‡å°‘åˆ°4æ¡ï¼Œä¸ä»…ç®€åŒ–äº†è®¾å¤‡çš„é…ç½®ï¼Œä¹Ÿå‡è½»äº†ç½‘ç»œå’ŒCPUçš„è´Ÿæ‹…ã€‚è€ŒAS100å¤–çš„BGPè®¾å¤‡å› ä¸ºä»…çŸ¥é“AS100çš„å­˜åœ¨ï¼Œå¹¶ä¸çŸ¥é“AS100å†…éƒ¨çš„è”ç›Ÿå…³ç³»ï¼Œæ‰€ä»¥ä¸ä¼šå¢åŠ CPUçš„è´Ÿæ‹…ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±åå°„å™¨å’Œè”ç›Ÿçš„æ¯”è¾ƒ&#34;&gt;è·¯ç”±åå°„å™¨å’Œè”ç›Ÿçš„æ¯”è¾ƒ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è·¯ç”±åå°„å™¨&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è”ç›Ÿ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦æ›´æ”¹ç°æœ‰çš„ç½‘ç»œæ‹“æ‰‘ï¼Œå…¼å®¹æ€§å¥½&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦æ”¹å˜é€»è¾‘æ‹“æ‰‘&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é…ç½®æ–¹ä¾¿ï¼Œåªéœ€è¦å¯¹ä½œä¸ºåå°„å™¨çš„è®¾å¤‡è¿›è¡Œé…ç½®ï¼Œå®¢æˆ·æœºå¹¶ä¸éœ€è¦çŸ¥é“è‡ªå·±æ˜¯å®¢æˆ·æœº&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€æœ‰è®¾å¤‡éœ€è¦é‡æ–°è¿›è¡Œé…ç½®&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é›†ç¾¤ä¸é›†ç¾¤ä¹‹é—´ä»ç„¶éœ€è¦å…¨è¿æ¥&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è”ç›Ÿçš„å­ASä¹‹é—´æ˜¯ç‰¹æ®Šçš„EBGPè¿æ¥ï¼Œä¸éœ€è¦å…¨è¿æ¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‚ç”¨äºä¸­ã€å¤§è§„æ¨¡ç½‘ç»œï¼ˆå¯¹ç°æœ‰ç½‘ç»œè¿›è¡Œæ”¹é€ ï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‚ç”¨äºå¤§è§„æ¨¡ç½‘ç»œï¼ˆæ–°å»ºå¤§å‹ç½‘ç»œï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€ç®€å•é…ç½®bgp&#34;&gt;å®éªŒä¸€ï¼šç®€å•é…ç½®BGP&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589817043629.png&#34; alt=&#34;ç®€å•é…ç½®BGP&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åä¸º&lt;/strong&gt;BGPå¦‚æœç”¨&lt;strong&gt;é»˜è®¤è·¯ç”±&lt;/strong&gt;ï¼Œé‚»å±…å¯ä»¥æ­£å¸¸UPï¼Œä½†æ˜¯&lt;strong&gt;è·¯ç”±ä¸æ˜¯æœ‰æ•ˆçš„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘BGPå¦‚æœç”¨é»˜è®¤è·¯ç”±å»ºç«‹ï¼Œé‚»å±…ä¸ä¼šUP&lt;/li&gt;
&lt;li&gt;IBGPé€šå¸¸ç”¨ç¯å›å£å»ºï¼ŒEBGPé€šå¸¸èƒ½ç›´è¿å»ºç«‹é‚»å±…ï¼Œ&lt;strong&gt;ä¸€å°è®¾å¤‡åªèƒ½å¯ç”¨ä¸€ä¸ªBGPè¿›ç¨‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;BGPè®¾å¤‡å°†EBGPè·¯ç”±ä¼ é€’ç»™IBGPæ—¶&lt;strong&gt;ä¸ä¼šä¿®æ”¹ä¸‹ä¸€è·³&lt;/strong&gt;ï¼Œéœ€è¦&lt;strong&gt;æ‰‹å·¥é…ç½®&lt;/strong&gt;ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;BGPçš„æ°´å¹³åˆ†å‰²ï¼šä»IBGPæ”¶åˆ°çš„è·¯ç”±ï¼Œä¸ä¼šä¼ é€’ç»™IBGPé‚»å±…&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ...........................åˆå§‹åŒ–é…ç½®
# AR1
sys 
sys AR1
int lo 0
ip addr 1.1.1.1 32
int lo 10
ip addr 11.11.11.11 32
int g0/0/0
ip addr 12.1.1.1 24
# AR2
sys 
sys AR2
int lo 0
ip addr 2.2.2.2 32
int g0/0/0
ip addr 12.1.1.2 24
int g0/0/1
ip addr 23.1.1.2 24
int g0/0/2
ip addr 24.1.1.2 24
# AR3
sys 
sys AR3
int lo 0
ip addr 3.3.3.3 32
int g0/0/0
ip addr 23.1.1.3 24
int g0/0/1
ip addr 35.1.1.3 24
# AR4
sys 
sys AR4
int lo 0
ip addr 4.4.4.4 32
int g0/0/0
ip addr 24.1.1.4 24
int g0/0/1
ip addr 45.1.1.4 24
# AR5
sys 
sys AR5
int lo 0
ip addr 5.5.5.5 32
int g0/0/0
ip addr 35.1.1.5 24
int g0/0/1
ip addr 45.1.1.5 24
int g0/0/2
ip addr 56.1.1.5 24
# AR6
sys 
sys AR6
int lo 0
ip addr 6.6.6.6 32
int lo 10
ip addr 66.6.6.66.66 32
int g0/0/0
ip addr 56.1.1.6 24
# ......................................é…ç½®OSPFï¼Œä¿è¯IBGPå†…ç½‘ç»œè¿é€š
# AR2
ospf 10 router-id 2.2.2.2
area 0
net 23.1.1.2 0
net 24.1.1.2 0
net 2.2.2.2 0
int g0/0/1
ospf network-type p2p
int g0/0/2
ospf network-type p2p
# AR3
ospf 10 router-id 3.3.3.3
area 0
net 23.1.1.3 0
net 35.1.1.3 0
net 3.3.3.3 0
int g0/0/0
ospf network-type p2p
int g0/0/1
ospf network-type p2p
# AR4
ospf 10 router-id 4.4.4.4
area 0
net 24.1.1.4 0
net 45.1.1.4 0
net 4.4.4.4 0
int g0/0/0
ospf network-type p2p
int g0/0/1
ospf network-type p2p
# AR4
ospf 10 router-id 5.5.5.5
area 0
net 34.1.1.5 0
net 45.1.1.5 0
net 5.5.5.5 0
int g0/0/0
ospf network-type p2p
int g0/0/1
ospf network-type p2p
# .....................................é…ç½®BGP
# AR1
bgp 100
router-id 1.1.1.1
peer 12.1.1.2 as-number 200
peer 2.2.2.2 as-number 200
peer 2.2.2.2 connect-interface lo 0
peer 2.2.2.2 ebgp-max-hop 2
network 11.11.11.11 32
# AR2
bgp 200
router-id 2.2.2.2
peer 12.1.1.1 as-number 100
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface lo 0
peer 1.1.1.1 ebgp-max-hop 2
peer 3.3.3.3 as-number 200
peer 3.3.3.3 connect-interface lo 0
peer 4.4.4.4 as-number 200
peer 4.4.4.4 connect-interface lo 0
# AR3
bgp 200
router-id 3.3.3.3
peer 2.2.2.2 as-number 200
peer 2.2.2.2 connect-interface lo 0
peer 5.5.5.5 as-number 200
peer 5.5.5.5 connect-interface lo 0
# AR4
bgp 200
router-id 4.4.4.4
peer 2.2.2.2 as-number 200
peer 2.2.2.2 connect-interface lo 0
peer 5.5.5.5 as-number 200
peer 5.5.5.5 connect-interface lo 0
# AR5
bgp 200
router-id 5.5.5.5
peer 3.3.3.3. as-number 200
peer 3.3.3.3 connect-interface lo 0
peer 4.4.4.4 as-number 200
peer 4.4.4.4 connect-interface lo 0
peer 56.1.1.6 as-number 300
peer 6.6.6.6 as-number 300
peer 6.6.6.6 connect-interface lo 0
peer 6.6.6.6 ebgp-max-hop 2
# AR6
bgp 300
router-id 6.6.6.6
peer 5.5.5.5 as-number 200
peer 5.5.5.5 connect-interface lo 0
peer 5.5.5.5 ebgp-max-hop 2
peer 56.1.1.5 as-number 200
net 66.66.66.66 32
# .............................é…ç½®é™æ€
# AR5
ip route-static 6.6.6.6 32 56.1.1.6
# AR6
ip route-static 5.5.5.5 32 56.1.1.5
#................................æ‰‹åŠ¨é…ç½®ä¸‹ä¸€æ¡
# AR2
bgp 200
peer 3.3.3.3 next-hop-local
peer 4.4.4.4 next-hop-local
# AR5
bgp 200
peer 3.3.3.3 next-hop-local
peer 4.4.4.4 next-hop-local
# æ‰‹å·¥åˆ·æ–°è·¯ç”±è¡¨
# AR2/5
refresh bgp all export 
# AR3/4
refresh bgp all import 
# .......................................ä½¿11.11.11.11å’Œ66.66.66.66é€šä¿¡
# AR2
bgp 200
peer 5.5.5.5 as-number 200
peer 5.5.5.5 connect-interface lo 0
peer 5.5.5.5 next-hop-local
# AR5
bgp 200
peer 2.2.2.2 as-number 200
peer 2.2.2.2 connect-interface lo 0
peer 2.2.2.2 next-hop-local
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒbgpä¼˜åŒ–æ¬¡ä¼˜è·¯å¾„&#34;&gt;å®éªŒäºŒï¼šBGPä¼˜åŒ–æ¬¡ä¼˜è·¯å¾„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590160819588.png&#34; alt=&#34;BGPä¼˜åŒ–æ¬¡ä¼˜è·¯å¾„&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ...............................é…ç½®
# AR1
sys
sys AR1
int lo 0 
ip addr 1.1.1.1 32
int g0/0/0
ip addr 123.1.1.1 24
bgp 100
router-id 1.1.1.1
peer 123.1.1.2 as 200
# AR2
sys
sys AR2
int lo 0 
ip addr 2.2.2.2 32
int g0/0/0
ip addr 123.1.1.2 24
bgp 200
router-id 2.2.2.2
peer 123.1.1.1 as 100
peer 123.1.1.3 as 300
# AR3
sys
sys AR2
int lo 0 
ip addr 3.3.3.3 32
int lo 100 
ip addr 100.100.100.100 32
int g0/0/0
ip addr 123.1.1.3 24
bgp 300
router-id 3.3.3.3
peer 123.1.1.2 as 200
net 100.100.100.100 32

# ...........................æŸ¥çœ‹
# AR2/1
dis bgp ro # 100.100.100.100è¿™æ¡è·¯ç”±çš„ä¸‹ä¸€è·³ä¸º123.1.1.3ï¼Œæ­¤æ—¶æ²¡æœ‰ä¿®æ”¹ä¸‹ä¸€è·³ï¼Œé‡å®šå‘äº†
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰è·¯ç”±åå°„å™¨åªå†™ä¸»è¦é…ç½®&#34;&gt;å®éªŒä¸‰ï¼šè·¯ç”±åå°„å™¨(åªå†™ä¸»è¦é…ç½®)&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1590223587262.png&#34; alt=&#34;è·¯ç”±åå°„å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1ï¼šè·¯ç”±åå°„å™¨
bgp 100
router-id 1.1.1.1
group QYT internal     # é…ç½®ç»„ä¸ºIBGP 
peer QYT connect-interface LoopBack0
peer 2.2.2.2 as-number 100 # æ­¤å‘½ä»¤å¯çœç•¥ï¼ŒIBGPé»˜è®¤as-numberç›¸åŒ
peer 2.2.2.2 group QYT 
peer 2.2.2.2 reflect-client      # æŒ‡å®š2.2.2.2ä¸ºåå°„å®¢æˆ·ç«¯ 
peer 3.3.3.3 as-number 100 # æ­¤å‘½ä»¤å¯çœç•¥ï¼ŒIBGPé»˜è®¤as-numberç›¸åŒ
peer 3.3.3.3 group QYT 
peer 3.3.3.3 reflect-client      # æŒ‡å®š3.3.3.3ä¸ºåå°„å®¢æˆ·ç«¯ 
peer 4.4.4.4 group QYT 
peer 5.5.5.5 group QYT 
group Ebgp externa     # é…ç½®ç»„ä¸ºEBGP 
peer Ebgp as-number 200 
peer 16.1.1.6 group Ebgp 
reflector cluster-id 1.1.1.1    # é…ç½®RRçš„ç°‡ID 

# AR2ï¼šå®¢æˆ·ç«¯
bgp 100
router-id 2.2.2.2
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface LoopBack0
# AR3ï¼šå®¢æˆ·ç«¯
bgp 100
router-id 3.3.3.3
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface LoopBack0
# AR4ï¼šéå®¢æˆ·ç«¯
bgp 100
router-id 4.4.4.4
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface LoopBack0
# AR5ï¼šéå®¢æˆ·ç«¯
bgp 100
router-id 5.5.5.5
peer 1.1.1.1 as-number 100
peer 1.1.1.1 connect-interface LoopBack0

# AR6ï¼šEBGPé‚»å±…
bgp 200
router-id 6.6.6.6
peer 16.1.1.1 as-number 100

# æŸ¥çœ‹AR1/3/4/5/6
dis bgp rou 22.22.22.22
dis bgp rou 44.44.44.44
dis bgp rou 66.66.66.66
&lt;/code&gt;&lt;/pre&gt;
">05 BGPï¼ˆ2020.0518ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-du-qu-pei-zhi-wen-jian/"" data-c="
          &lt;h1 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h1&gt;
&lt;p&gt;configparseræ¨¡å—ä¸»è¦ç”¨äºè¯»å–é…ç½®æ–‡ä»¶ï¼Œconfigparseræ¨¡å—æ”¯æŒè¯»å–&lt;code&gt;.confå’Œ.ini&lt;/code&gt;ç­‰ç±»å‹çš„æ–‡ä»¶ã€‚&lt;br&gt;
è¯¥æ¨¡å—çš„ä½œç”¨ å°±æ˜¯ä½¿ç”¨æ¨¡å—ä¸­çš„&lt;code&gt;RawConfigParser()ã€ConfigParser()ã€ SafeConfigParser()&lt;/code&gt;è¿™ä¸‰ä¸ªæ–¹æ³•ï¼ˆ&lt;strong&gt;ä¸‰è€…æ‹©å…¶ä¸€&lt;/strong&gt;ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªå¯¹è±¡ä½¿ç”¨å¯¹è±¡çš„æ–¹æ³•å¯¹æŒ‡å®šçš„é…ç½®æ–‡ä»¶åšå¢åˆ æ”¹æŸ¥æ“ä½œã€‚&lt;/p&gt;
&lt;h1 id=&#34;é…ç½®æ–‡ä»¶æ ¼å¼&#34;&gt;é…ç½®æ–‡ä»¶æ ¼å¼&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[section] 
name=value
æˆ–è€…
name: value
&amp;quot;#&amp;quot; å’Œ&amp;quot;;&amp;quot; è¡¨ç¤ºæ³¨é‡Š

[DEFAULT] #è®¾ç½®é»˜è®¤çš„å˜é‡å€¼ï¼Œåˆå§‹åŒ–
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[My Section]
foodir: %(dir)s/whatever
dir=frob
long: this value continues
   in the next line
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;%(dir)s&lt;/code&gt;ä¼šè¢«&lt;code&gt;frob&lt;/code&gt;ä»£æ›¿ã€‚é»˜è®¤å€¼ä¼šä»¥å­—å…¸çš„å½¢å¼ä¼ é€’ç»™ConfigParserçš„æ„é€ å™¨ã€‚sectionä¸€èˆ¬å­˜æ”¾çš„å“¦å†…ç½®ç›®å½•ä¸‹ï¼Œå¦‚æœåˆ‡æ¢åˆ°å…¶ä»–çš„ç›®å½•éœ€å•Šå“ŸæŒ‡å®šå­˜æ”¾ä½ç½®ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ–¹æ³•&#34;&gt;æ–¹æ³•&lt;/h1&gt;
&lt;p&gt;ä¸‹é¢è¿™ä¸‰ç§æ–¹å¼ä½¿ç”¨æ—¶ï¼Œåˆ‡è®°æ³¨æ„ã€‚åœ¨è°ƒç”¨è¿™ä¸‰ä¸ªå‡½æ•°æ—¶ï¼Œåˆ‡è®°è¿™ä¸‰ä¸ªå‡½æ•°ä¼šå°†è°ƒç”¨&lt;code&gt;optionxform()&lt;/code&gt;ï¼Œåœ¨ä¼ é€’é”®å€¼å¯¹æ•°æ®æ—¶ï¼Œ&lt;strong&gt;ä¼šå°†é”®åå…¨éƒ¨è½¬åŒ–ä¸ºå°å†™&lt;/strong&gt;ã€‚&lt;br&gt;
ä¼ é€’å‚æ•°ä½¿ç”¨å‡½æ•°optionxform()ï¼Œfoo %(bar)s å’Œ foo %(BAR)sæ˜¯ç›¸åŒçš„ï¼Œoptionxform()ä¼šå°†å¤§å†™å­—æ¯å…¨éƒ¨è½¬æ¢ä¸ºå°å†™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;rawconfigparser&#34;&gt;RawConfigParser()&lt;/h2&gt;
&lt;p&gt;ä¸æ”¯æŒå¯å˜å‚æ•°ï¼Œåœ¨sectionä¸­ä¸èƒ½å­˜åœ¨%()s&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ConfigParser.RawConfigParser([defaults[, dict_type[, allow_no_value]]]) 
    defaults : å¦‚æœæŒ‡å®šé»˜è®¤å€¼ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼çš„é”®å€¼å¯¹
    dict_typeï¼šä½¿ç”¨æ–°çš„sectionçš„é”®å€¼å¯¹
    allow_no_value ï¼šé»˜è®¤æ˜¯Falseï¼Œå¦‚æœæ˜¯Trueï¼Œè¡¨ç¤ºå¯ä»¥æ¥æ”¶ç©ºå€¼ï¼ˆNoneï¼‰
    returnï¼šå¯¹è±¡
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯¹è±¡æ“ä½œ&#34;&gt;å¯¹è±¡æ“ä½œ&lt;/h3&gt;
&lt;p&gt;å¯¹è±¡çš„æ“ä½œå¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€ç§æ˜¯å¯¹é…ç½®æ–‡ä»¶çš„æ“ä½œï¼Œå¦ä¸€ç§æ˜¯å¯¹è¯»å–åæ•°æ®æµçš„æ“ä½œã€‚&lt;/p&gt;
&lt;h4 id=&#34;å¯¹é…ç½®æ–‡ä»¶çš„æ“ä½œ&#34;&gt;å¯¹é…ç½®æ–‡ä»¶çš„æ“ä½œ&lt;/h4&gt;
&lt;h5 id=&#34;è¯»å–é…ç½®æ–‡ä»¶&#34;&gt;è¯»å–é…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;read(filenames)ï¼šfilesnamesæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œéœ€è¦ä»æ–‡ä»¶åŠ è½½åˆå§‹å€¼çš„åº”ç”¨ç¨‹åºåº”è¯¥åœ¨è°ƒç”¨read()ä¹‹å‰ä½¿ç”¨readfp()åŠ è½½æ‰€éœ€çš„æ–‡ä»¶æˆ–æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;readfp(fp[, filename])ï¼šåœ¨fpä¸­ï¼Œä»æ–‡ä»¶æˆ–æ–‡ä»¶ç±»å¯¹è±¡ä¸­è¯»å–å’Œè§£æé…ç½®æ•°æ®(åªä½¿ç”¨readline()æ–¹æ³•)ã€‚å¦‚æœæ–‡ä»¶åè¢«çœç•¥ï¼Œå¹¶ä¸”fpæœ‰ä¸€ä¸ªnameå±æ€§ï¼Œå®ƒè¢«ç”¨äºæ–‡ä»¶å;é»˜è®¤å€¼ä¸º&amp;lt; ? &amp;gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å†™å…¥é…ç½®æ–‡ä»¶&#34;&gt;å†™å…¥é…ç½®æ–‡ä»¶&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;write(fileobject)ï¼šå°†é…ç½®çš„è¡¨ç¤ºå†™å…¥æŒ‡å®šçš„æ–‡ä»¶å¯¹è±¡ã€‚è¿™ä¸ªè¡¨ç¤ºå¯ä»¥ç”±æœªæ¥çš„read()è°ƒç”¨è§£æã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å¯¹å†…å­˜ä¸­æ•°æ®æµçš„æ“ä½œ&#34;&gt;å¯¹å†…å­˜ä¸­æ•°æ®æµçš„æ“ä½œ&lt;/h4&gt;
&lt;h5 id=&#34;å¢åŠ é…ç½®æ–‡ä»¶ä¸­çš„å€¼&#34;&gt;å¢åŠ é…ç½®æ–‡ä»¶ä¸­çš„å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;add_section(section)ï¼šå‘å®ä¾‹æ·»åŠ ä¸€ä¸ªsection&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;åˆ é™¤é…ç½®æ–‡ä»¶ä¸­çš„å€¼&#34;&gt;åˆ é™¤é…ç½®æ–‡ä»¶ä¸­çš„å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;remove_section(section)ï¼šä»é…ç½®ä¸­åˆ é™¤æŒ‡å®šçš„sectionã€‚å¦‚æœè¿™ä¸ªéƒ¨åˆ†ç¡®å®å­˜åœ¨ï¼Œè¿”å›True;å¦åˆ™è¿”å›Falseã€‚&lt;/li&gt;
&lt;li&gt;remove_option(section, option)ï¼šä»æŒ‡å®šçš„éƒ¨åˆ†ä¸­åˆ é™¤æŒ‡å®šçš„é€‰é¡¹ã€‚å¦‚æœè¯¥éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œè¯·æå‡ºNoSectionErrorã€‚å¦‚æœå­˜åœ¨çš„é€‰é¡¹è¢«åˆ é™¤ï¼Œè¿”å›True;å¦åˆ™è¿”å›Falseã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„å€¼&#34;&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;set(section, option, value)ï¼šå¦‚æœç»™å®šçš„éƒ¨åˆ†å­˜åœ¨ï¼Œå°†ç»™å®šçš„é€‰é¡¹è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼&lt;/li&gt;
&lt;li&gt;optionxform(option)ï¼šä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå®ä¾‹ä¸Šé‡æ–°è®¾ç½®å®ƒï¼Œå¯¹äºä¸€ä¸ªéœ€è¦å­—ç¬¦ä¸²å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå°†å…¶è®¾ç½®ä¸ºstrï¼Œå°†ä½¿é€‰é¡¹åç§°&lt;strong&gt;åŒºåˆ†å¤§å°å†™&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;æŸ¥æ‰¾é…ç½®æ–‡ä»¶ä¸­çš„å€¼&#34;&gt;æŸ¥æ‰¾é…ç½®æ–‡ä»¶ä¸­çš„å€¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;defaults()ï¼šè¿”å›åŒ…å«å®ä¾‹èŒƒå›´é»˜è®¤å€¼çš„å­—å…¸ã€‚&lt;/li&gt;
&lt;li&gt;sections()ï¼šè¿”å›å¯ç”¨çš„sectionçš„åˆ—è¡¨;é»˜è®¤sectionä¸åŒ…æ‹¬åœ¨åˆ—è¡¨ä¸­&lt;/li&gt;
&lt;li&gt;options(section)ï¼šè¿”å›æŒ‡å®šsectionä¸­å¯ç”¨çš„é€‰é¡¹åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;items(section)ï¼šè¿”å›ç»™å®šsectionä¸­æ¯ä¸ªé€‰é¡¹çš„(name,value)å¯¹çš„åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;has_section(section)ï¼šæŒ‡ç¤ºæŒ‡å®šçš„sectionæ˜¯å¦å‡ºç°åœ¨é…ç½®ä¸­ã€‚é»˜è®¤çš„sectionæœªè¢«ç¡®è®¤&lt;/li&gt;
&lt;li&gt;has_option(section, option)ï¼šå¦‚æœç»™å®šçš„sectionå­˜åœ¨ï¼Œå¹¶ä¸”åŒ…å«ç»™å®šçš„é€‰é¡¹ï¼Œåˆ™è¿”å›True;å¦åˆ™è¿”å›False&lt;/li&gt;
&lt;li&gt;get(section, option)ï¼šä¸ºæŒ‡å®šçš„sectionè·å–ä¸€ä¸ªé€‰é¡¹å€¼ã€‚&lt;/li&gt;
&lt;li&gt;getint(section, option)ï¼šå®ƒå°†æŒ‡å®šsectionä¸­çš„é€‰é¡¹å¼ºåˆ¶è½¬æ¢ä¸ºæ•´æ•°&lt;/li&gt;
&lt;li&gt;getfloat(section, option)ï¼šå®ƒå°†æŒ‡å®šsectionä¸­çš„é€‰é¡¹å¼ºåˆ¶è½¬æ¢ä¸ºæµ®ç‚¹å‹&lt;/li&gt;
&lt;li&gt;getboolean(section, option)ï¼šå¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”å‹ï¼Œâ€1â€, â€œyesâ€, â€œtrueâ€, and â€œonâ€, è½¬æ¢ä¸ºTrueï¼Œâ€0â€, â€œnoâ€, â€œfalseâ€, and â€œoffâ€, è½¬æ¢ä¸ºFalseo å…¶ä»–è¿”å›ValueError.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;configparser&#34;&gt;ConfigParser(ï¼‰&lt;/h2&gt;
&lt;p&gt;åœ¨defaultä¸­å¿…é¡»å‡ºç°%()s&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ConfigParser.ConfigParser([defaults[, dict_type[, allow_no_value]]]) 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯¹è±¡æ“ä½œ-2&#34;&gt;å¯¹è±¡æ“ä½œ&lt;/h3&gt;
&lt;p&gt;ConfigParserä¸­åŒ…å«RawConfigParserç›¸åŒçš„æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€éƒ¨åˆ†å¢åŠ çš„æ–¹æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get(section, option[, raw[, vars]])ï¼šä¸ºæŒ‡å®šçš„sectionè·å–ä¸€ä¸ªé€‰é¡¹å€¼ã€‚å¦‚æœæä¾›äº†varsï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸ã€‚è¯¥é€‰é¡¹åœ¨vars(å¦‚æœæä¾›)ã€åˆ†æ®µå’Œé»˜è®¤å€¼ä¸­æŸ¥æ‰¾,&lt;/li&gt;
&lt;li&gt;items(section[, raw[, vars]])ï¼šè¿”å›ç»™å®šsectionä¸­æ¯ä¸ªé€‰é¡¹çš„(åç§°ã€å€¼)å¯¹çš„åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;add_set(section,option,value)ï¼šå¯¹sectionä¸­çš„optionä¿¡æ¯è¿›è¡Œå†™å…¥ã€‚æœ¬æ–¹æ³•å’Œ&lt;code&gt;set&lt;/code&gt;æ–¹æ³•ç›¸åŒ&lt;br&gt;
&lt;code&gt;æ‰€æœ‰çš„â€œ%â€æ’å€¼éƒ½åœ¨è¿”å›å€¼ä¸­å±•å¼€ï¼Œé™¤éåŸå§‹çš„å‚æ•°æ˜¯çœŸçš„ã€‚å†…æ’é”®çš„å€¼ä¸é€‰é¡¹ç›¸åŒ&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;safeconfigparser&#34;&gt;SafeConfigParser()&lt;/h2&gt;
&lt;p&gt;æ›´åŠ æ™ºèƒ½åŒ–ï¼Œåœ¨sectionä¸­æ˜¯å¦å­˜åœ¨%()sä¼šè‡ªåŠ¨åˆ¤æ–­&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ConfigParser.SafeConfigParser([defaults[, dict_type[, allow_no_value]]]) 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯¹è±¡æ“ä½œ-3&#34;&gt;å¯¹è±¡æ“ä½œ&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;set(section, option, value)&lt;/code&gt;&lt;br&gt;
å¦‚æœç»™å®šçš„éƒ¨åˆ†å­˜åœ¨ï¼Œå°†ç»™å®šçš„é€‰é¡¹è®¾ç½®ä¸ºæŒ‡å®šçš„å€¼;å¦åˆ™æé«˜NoSectionErrorã€‚å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²(stræˆ–unicode);å¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šå‡ºç°ç±»å‹é”™è¯¯&lt;/p&gt;
&lt;h1 id=&#34;å¼‚å¸¸&#34;&gt;å¼‚å¸¸&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ConfigParser.Errorï¼šæ‰€æœ‰å¼‚å¸¸çš„åŸºç±»&lt;/li&gt;
&lt;li&gt;ConfigParser.NoSectionErrorï¼šæŒ‡å®šçš„sectionæ²¡æœ‰æ‰¾åˆ°&lt;/li&gt;
&lt;li&gt;ConfigParser.DuplicateSectionErrorï¼šè°ƒç”¨add_section() æ—¶ï¼Œsectionåç§°å·²ç»è¢«ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;ConfigParser.NoOptionErrorï¼šæŒ‡å®šçš„å‚æ•°æ²¡æœ‰æ‰¾åˆ°&lt;/li&gt;
&lt;li&gt;ConfigParser.InterpolationErrorï¼šå½“æ‰§è¡Œå­—ç¬¦ä¸²æ’å€¼æ—¶å‡ºç°é—®é¢˜æ—¶ï¼Œå‡ºç°å¼‚å¸¸çš„åŸºç±»&lt;/li&gt;
&lt;li&gt;ConfigParser.InterpolationDepthErrorï¼šå½“å­—ç¬¦ä¸²æ’å€¼æ— æ³•å®Œæˆæ—¶ï¼Œå› ä¸ºè¿­ä»£æ¬¡æ•°è¶…è¿‡äº†æœ€å¤§çš„èŒƒå›´ï¼Œæ‰€ä»¥æ— æ³•å®Œæˆã€‚InterpolationErrorçš„å­ç±»&lt;/li&gt;
&lt;li&gt;InterpolationMissingOptionErrorï¼šå½“å¼•ç”¨çš„é€‰é¡¹ä¸å­˜åœ¨æ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸ã€‚InterpolationErrorçš„å­ç±»&lt;/li&gt;
&lt;li&gt;ConfigParser.InterpolationSyntaxErrorï¼šå½“äº§ç”Ÿæ›¿æ¢çš„æºæ–‡æœ¬ä¸ç¬¦åˆæ‰€éœ€çš„è¯­æ³•æ—¶ï¼Œå°±ä¼šå‡ºç°å¼‚å¸¸ã€‚InterpolationErrorçš„å­ç±»ã€‚&lt;/li&gt;
&lt;li&gt;ConfigParser.MissingSectionHeaderErrorï¼šå½“è¯•å›¾è§£æä¸€ä¸ªæ²¡æœ‰åˆ†æ®µæ ‡é¢˜çš„æ–‡ä»¶æ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸ã€‚&lt;/li&gt;
&lt;li&gt;ConfigParser.ParsingErrorï¼šå½“è¯•å›¾è§£ææ–‡ä»¶æ—¶å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¼šå‡ºç°å¼‚å¸¸&lt;/li&gt;
&lt;li&gt;ConfigParser.MAX_INTERPOLATION_DEPTHï¼šå½“rawå‚æ•°ä¸ºfalseæ—¶ï¼Œget()çš„é€’å½’æ’å€¼çš„æœ€å¤§æ·±åº¦ã€‚è¿™åªé€‚ç”¨äºConfigParserç±»&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h1&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶config.ini&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[user]
user_name = Mr,X
password = 222

[connect]
ip = 127.0.0.1
port = 4723
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åˆå§‹åŒ–æ“ä½œ&#34;&gt;åˆå§‹åŒ–æ“ä½œ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import configparser
# ç”ŸæˆConfigParserå¯¹è±¡
config = configparser.ConfigParser()
# è¯»å–é…ç½®æ–‡ä»¶
filename = &#39;config.ini&#39;
config.read(filename, encoding=&#39;utf-8&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŸºæœ¬æ“ä½œ&#34;&gt;åŸºæœ¬æ“ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;è·å–èŠ‚ç‚¹sections&#34;&gt;è·å–èŠ‚ç‚¹sections&lt;/h3&gt;
&lt;p&gt;ConfigParser.sections()ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›configparserå¯¹è±¡çš„æ‰€æœ‰èŠ‚ç‚¹ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·å–æ‰€æœ‰èŠ‚ç‚¹
all_sections = config.sections()
print(&#39;sections: &#39;, all_sections)   
# ç»“æœsections:  [&#39;user&#39;, &#39;connect&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æŒ‡å®šèŠ‚ç‚¹çš„çš„æ‰€æœ‰é…ç½®ä¿¡æ¯&#34;&gt;è·å–æŒ‡å®šèŠ‚ç‚¹çš„çš„æ‰€æœ‰é…ç½®ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;ConfigParser.items(section)ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›æŸä¸ªèŠ‚ç‚¹sectionå¯¹åº”çš„æ‰€æœ‰é…ç½®ä¿¡æ¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·å–æŒ‡å®šèŠ‚ç‚¹çš„é…ç½®ä¿¡æ¯
items = config.items(&#39;user&#39;)
print(items)            
# ç»“æœ [(&#39;user_name&#39;, &amp;quot;&#39;Mr,X&#39;&amp;quot;), (&#39;password&#39;, &amp;quot;&#39;222&#39;&amp;quot;)]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æŒ‡å®šèŠ‚ç‚¹çš„options&#34;&gt;è·å–æŒ‡å®šèŠ‚ç‚¹çš„options&lt;/h3&gt;
&lt;p&gt;ConfigParser.options(section)ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›æŸä¸ªèŠ‚ç‚¹sectionçš„æ‰€æœ‰keyå€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·å–æŒ‡å®šèŠ‚ç‚¹çš„optionsä¿¡æ¯
options = config.options(&#39;user&#39;)
print(options)         
 # ç»“æœ [&#39;user_name&#39;, &#39;password&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è·å–æŒ‡å®šèŠ‚ç‚¹ä¸‹æŒ‡å®šoptionçš„å€¼&#34;&gt;è·å–æŒ‡å®šèŠ‚ç‚¹ä¸‹æŒ‡å®šoptionçš„å€¼&lt;/h3&gt;
&lt;p&gt;ConfigParser.get(section, option)ï¼Œè¿”å›ç»“æœæ˜¯å­—ç¬¦ä¸²ç±»å‹&lt;br&gt;
ConfigParser.getint(section, option)ï¼Œè¿”å›ç»“æœæ˜¯intç±»å‹&lt;br&gt;
ConfigParsergetboolean(section, option)ï¼Œè¿”å›ç»“æœæ˜¯boolç±»å‹&lt;br&gt;
ConfigParser.getfloat(section, option)ï¼Œè¿”å›ç»“æœæ˜¯floatç±»å‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·å–æŒ‡å®šèŠ‚ç‚¹æŒ‡å®šoptionçš„å€¼
name = config.get(&#39;user&#39;, &#39;user_name&#39;)
print(name, type(name))            
# ç»“æœ &#39;Mr,X&#39; &amp;lt;class &#39;str&#39;&amp;gt;
port = config.getint(&#39;connect&#39;, &#39;port&#39;)
print(port, type(port))           
# ç»“æœ  4723 &amp;lt;class &#39;int&#39;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ£€æŸ¥sectionæˆ–optionæ˜¯å¦å­˜åœ¨&#34;&gt;æ£€æŸ¥sectionæˆ–optionæ˜¯å¦å­˜åœ¨&lt;/h3&gt;
&lt;p&gt;ConfigParser.has_section(section)&lt;br&gt;
ConfigParser.has_option(section, option)&lt;br&gt;
è¿”å›boolå€¼ï¼Œè‹¥å­˜åœ¨è¿”å›Trueï¼Œä¸å­˜åœ¨è¿”å›False&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ£€æŸ¥sectionæ˜¯å¦å­˜åœ¨
result = config.has_section(&#39;user&#39;)
print(result)   
# ç»“æœ True
result = config.has_section(&#39;user1&#39;)
print(result)   
# ç»“æœ False

# æ£€æŸ¥optionæ˜¯å¦å­˜åœ¨
result = config.has_option(&#39;user&#39;, &#39;user_name&#39;)
print(result)   # ç»“æœ True
result = config.has_option(&#39;user&#39;, &#39;user_name1&#39;)
print(result)   # ç»“æœ False
result = config.has_option(&#39;user1&#39;, &#39;user_name&#39;)
print(result)   # ç»“æœ False
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ·»åŠ section&#34;&gt;æ·»åŠ section&lt;/h3&gt;
&lt;p&gt;ConfigParser.add_section(section)ï¼Œå¦‚æœsectionä¸å­˜åœ¨ï¼Œåˆ™æ·»åŠ èŠ‚ç‚¹sectionï¼›è‹¥sectionå·²å­˜åœ¨ï¼Œå†æ‰§è¡Œaddæ“ä½œä¼šæŠ¥é”™&lt;code&gt;configparser.DuplicateSectionError: Section XX already exists&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ·»åŠ section
if not config.has_section(&#39;remark&#39;):
    config.add_section(&#39;remark&#39;)
config.set(&#39;remark&#39;, &#39;info&#39;, &#39;ok&#39;)
config.write(open(filename, &#39;w&#39;))
remark = config.items(&#39;remark&#39;)
print(remark)    
# ç»“æœ [(&#39;info&#39;, &#39;ok&#39;)]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¿®æ”¹æˆ–æ·»åŠ æŒ‡å®šèŠ‚ç‚¹ä¸‹æŒ‡å®šoptionçš„å€¼&#34;&gt;ä¿®æ”¹æˆ–æ·»åŠ æŒ‡å®šèŠ‚ç‚¹ä¸‹æŒ‡å®šoptionçš„å€¼&lt;/h3&gt;
&lt;p&gt;ConfigParser.set(section, option, value)ï¼Œè‹¥optionå­˜åœ¨ï¼Œåˆ™ä¼šæ›¿æ¢ä¹‹å‰optionçš„å€¼ä¸ºvalueï¼›è‹¥optionä¸å­˜åœ¨ï¼Œåˆ™ä¼šåˆ›å»ºoptiionå¹¶èµ‹å€¼ä¸ºvalue&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# ä¿®æ”¹æŒ‡å®šoptionçš„å€¼
config.set(&#39;user&#39;, &#39;user_name&#39;, &#39;Mr L&#39;)
config.set(&#39;user&#39;, &#39;isRemember&#39;, &#39;True&#39;)
config.write(open(filename, &#39;w&#39;))
# é‡æ–°æŸ¥çœ‹ä¿®æ”¹åèŠ‚ç‚¹ä¿¡æ¯
items = config.items(&#39;user&#39;)
print(items)    
# ç»“æœ [(&#39;user_name&#39;, &#39;Mr L&#39;), (&#39;password&#39;, &#39;222&#39;), (&#39;isremember&#39;, &#39;True&#39;)]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ é™¤sectionæˆ–option&#34;&gt;åˆ é™¤sectionæˆ–option&lt;/h3&gt;
&lt;p&gt;ConfigParser.remove_section(section)ï¼Œè‹¥sectionå­˜åœ¨ï¼Œæ‰§è¡Œåˆ é™¤æ“ä½œï¼›è‹¥sectionä¸å­˜åœ¨ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œ&lt;br&gt;
ConfigParser.remove_option(section, option)ï¼Œè‹¥optionå­˜åœ¨ï¼Œæ‰§è¡Œåˆ é™¤æ“ä½œï¼›è‹¥optionä¸å­˜åœ¨ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œï¼›è‹¥sectionä¸å­˜åœ¨ï¼Œåˆ™ä¼šæŠ¥é”™configparser.NoSectionError: No section: XXX&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# åˆ é™¤section
config.remove_section(&#39;remark&#39;)         # sectionå­˜åœ¨
config.remove_section(&#39;no_section&#39;)     # sectionä¸å­˜åœ¨

# åˆ é™¤option
config.remove_option(&#39;user&#39;, &#39;isremember&#39;)  # optionå­˜åœ¨
config.remove_option(&#39;user&#39;, &#39;no_option&#39;)   # optionä¸å­˜åœ¨
config.write(open(filename, &#39;w&#39;))

all_sections = config.sections()
print(all_sections)     
# ç»“æœ [&#39;user&#39;, &#39;connect&#39;]
options = config.options(&#39;user&#39;)
print(options)      
# ç»“æœ [&#39;user_name&#39;, &#39;password&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å†™å…¥å†…å®¹&#34;&gt;å†™å…¥å†…å®¹&lt;/h3&gt;
&lt;p&gt;ConfigParser.write(open(filename, &#39;w&#39;))ï¼Œå¯¹configparserå¯¹è±¡æ‰§è¡Œçš„ä¸€äº›ä¿®æ”¹æ“ä½œï¼Œå¿…é¡»é‡æ–°å†™å›åˆ°æ–‡ä»¶æ‰å¯ç”Ÿæ•ˆ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;config.write(open(filename, &#39;w&#39;))
&lt;/code&gt;&lt;/pre&gt;
">Pythonä¹‹è¯»å–é…ç½®æ–‡ä»¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-can-shu-chuan-ru/"" data-c="
          &lt;h1 id=&#34;æ–¹æ³•ä¸€sysargv&#34;&gt;æ–¹æ³•ä¸€ï¼šsys.argv&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªæ¨¡å—æ˜¯æˆ‘åœ¨å·¥ä½œä¸­æœ€å¸¸è§çš„å…¶ä»–äººå†™çš„Pythonè„šæœ¬ä¼ å…¥å‘½ä»¤è¡Œå‚æ•°çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯æœ€ç®€å•ï¼ˆç²—æš´ï¼‰çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sys.argv æ˜¯å‘½ä»¤è¡Œå‚æ•°åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;len(sys.argv) æ˜¯å‘½ä»¤è¡Œå‚æ•°ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;sys.argv[0] è¡¨ç¤ºè„šæœ¬å&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys
def test_for_sys(year, name, body):
    print(&#39;the year is&#39;, year)
    print(&#39;the name is&#39;, name)
    print(&#39;the body is&#39;, body)
if __name__ == &#39;__main__&#39;:
    try:
        year, name, body = sys.argv[1:4]
        test_for_sys(year, name, body)
    except Exception as e:
        print(sys.argv)
        print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€èˆ¬æˆ‘çš„ Python è„šæœ¬çš„å¯åŠ¨å‡½æ•°å°±åƒä¸Šçš„ä¾‹å­ä¸€æ ·ï¼Œå¯èƒ½éœ€è¦ä¼ å…¥å‡ ä¸ªå¿…è¦å‚æ•°ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨å‘½ä»¤è¡Œä¼ å…¥çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ sys.argv è¿™ä¸ªå±æ€§ï¼Œä»»ä½•ä¸€ä¸ª Python è„šæœ¬åœ¨å¯åŠ¨çš„æ—¶å€™éƒ½æœ‰è¿™ä¸ªå±æ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è„šæœ¬çš„å‘½ä»¤ï¼Œåˆ—è¡¨åé¢çš„å‚æ•°å°±æ˜¯å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è„šæœ¬ä¸­æå–è¿™äº›å‚æ•°ä¼ å…¥åˆ°å‡½æ•°ä¸­è¿è¡Œã€‚&lt;br&gt;
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py 2018 Leijun &amp;quot;are you ok?&amp;quot;
the year is 2018
the name is Leijun
the body is are you ok?
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¾ˆå¥½ç†è§£ï¼Œç”±äº sys.argv æ˜¯ä¸€ä¸ªç”±å‚æ•°ç»„æˆçš„åˆ—è¡¨ï¼Œæ‰€ä»¥å¦‚æœè„šæœ¬ä¸­éœ€è¦çš„å‚æ•°æ¯”ä½ å‘½ä»¤è¡Œä¸­è¾“å…¥çš„å¤šï¼Œé‚£è‚¯å®šä¼šæŠ¥é”™ï¼Œå› ä¸ºä½ è¾“å…¥çš„å‚æ•°ä¸å¤Ÿï¼Œåè¿‡æ¥ï¼Œå¦‚æœä½ è¾“å…¥çš„å‚æ•°æ¯”å‡½æ•°éœ€è¦çš„å¤šï¼Œé‚£ä¹ˆæ— æ‰€è°“ï¼Œå¤šçš„å‚æ•°å› ä¸ºä¸ä¼šè¢«æå–ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸å½±å“è„šæœ¬è¿è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;sys.argv å½¢å¼ä¼ å…¥å‚æ•°çš„æ–¹å¼æ¯”è¾ƒ&lt;strong&gt;ç®€å•&lt;/strong&gt;ï¼Œä½†æ˜¯ä¹Ÿå¾ˆ&lt;strong&gt;æ­»æ¿&lt;/strong&gt;ï¼Œå› ä¸ºä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ª&lt;strong&gt;æœ‰åºçš„åˆ—è¡¨&lt;/strong&gt;ï¼Œæ‰€ä»¥åœ¨å‘½ä»¤è¡Œä¸­&lt;strong&gt;å¿…é¡»æŒ‰ç…§è„šæœ¬è§„å®šçš„é¡ºåºå»è¾“å…¥å‚æ•°&lt;/strong&gt;ï¼Œè¿™ç§æ–¹æ³•æ¯”è¾ƒé€‚åˆè„šæœ¬ä¸­éœ€è¦çš„&lt;strong&gt;å‚æ•°ä¸ªæ•°å¾ˆå°‘ä¸”å‚æ•°å›ºå®šçš„è„šæœ¬&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ–¹æ³•äºŒgetoptæ¨¡å—&#34;&gt;æ–¹æ³•äºŒï¼šgetoptæ¨¡å—&lt;/h1&gt;
&lt;p&gt;getoptæ¨¡å—æ˜¯ä¸“é—¨å¤„ç†å‘½ä»¤è¡Œå‚æ•°çš„æ¨¡å—ï¼Œç”¨äºè·å–å‘½ä»¤è¡Œé€‰é¡¹å’Œå‚æ•°ï¼Œä¹Ÿå°±æ˜¯sys.argvã€‚å‘½ä»¤è¡Œé€‰é¡¹ä½¿å¾—ç¨‹åºçš„å‚æ•°æ›´åŠ çµæ´»ã€‚æ”¯æŒçŸ­é€‰é¡¹æ¨¡å¼ï¼ˆ-ï¼‰å’Œé•¿é€‰é¡¹æ¨¡å¼ï¼ˆ--ï¼‰ã€‚&lt;br&gt;
è¯¥æ¨¡å—æä¾›äº†&lt;strong&gt;ä¸¤ä¸ªæ–¹æ³•åŠä¸€ä¸ªå¼‚å¸¸å¤„ç†&lt;/strong&gt;æ¥è§£æå‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–¹æ³•&#34;&gt;æ–¹æ³•&lt;/h2&gt;
&lt;h3 id=&#34;getoptgetopt&#34;&gt;getopt.getopt&lt;/h3&gt;
&lt;p&gt;getopt.getopt æ–¹æ³•ç”¨äºè§£æå‘½ä»¤è¡Œå‚æ•°åˆ—è¡¨ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;code&gt;getopt.getopt(args, options[, long_options])&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;å‚æ•°è¯´æ˜&#34;&gt;å‚æ•°è¯´æ˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;args: è¦è§£æçš„å‘½ä»¤è¡Œå‚æ•°åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;options: ä»¥å­—ç¬¦ä¸²çš„æ ¼å¼å®šä¹‰ï¼Œoptionsåçš„å†’å·(:)è¡¨ç¤ºè¯¥é€‰é¡¹å¿…é¡»æœ‰é™„åŠ çš„å‚æ•°ï¼Œä¸å¸¦å†’å·è¡¨ç¤ºè¯¥é€‰é¡¹ä¸é™„åŠ å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;long_options: ä»¥åˆ—è¡¨çš„æ ¼å¼å®šä¹‰ï¼Œlong_options åçš„ç­‰å·(=)è¡¨ç¤ºå¦‚æœè®¾ç½®è¯¥é€‰é¡¹ï¼Œå¿…é¡»æœ‰é™„åŠ çš„å‚æ•°ï¼Œå¦åˆ™å°±ä¸é™„åŠ å‚æ•°ã€‚&lt;br&gt;
è¯¥æ–¹æ³•è¿”å›å€¼ç”±ä¸¤ä¸ªå…ƒç´ ç»„æˆ: ç¬¬ä¸€ä¸ªæ˜¯ (option, value) å…ƒç»„çš„åˆ—è¡¨ã€‚ ç¬¬äºŒä¸ªæ˜¯å‚æ•°åˆ—è¡¨ï¼ŒåŒ…å«é‚£äº›æ²¡æœ‰&#39;-&#39;æˆ–&#39;--&#39;çš„å‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;getoptgnu_getopt&#34;&gt;getopt.gnu_getopt&lt;/h3&gt;
&lt;h2 id=&#34;å¼‚å¸¸å¤„ç†&#34;&gt;å¼‚å¸¸å¤„ç†&lt;/h2&gt;
&lt;h3 id=&#34;exception-getoptgetopterror&#34;&gt;Exception getopt.GetoptError&lt;/h3&gt;
&lt;p&gt;åœ¨æ²¡æœ‰æ‰¾åˆ°å‚æ•°åˆ—è¡¨ï¼Œæˆ–é€‰é¡¹çš„éœ€è¦çš„å‚æ•°ä¸ºç©ºæ—¶ä¼šè§¦å‘è¯¥å¼‚å¸¸ï¼Œå¼‚å¸¸çš„å‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºé”™è¯¯çš„åŸå› ï¼Œå±æ€§ msg å’Œ opt ä¸ºç›¸å…³é€‰é¡¹çš„é”™è¯¯ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®ä¾‹-2&#34;&gt;å®ä¾‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys, getopt
def main(argv):
   inputfile = &#39;&#39;
   outputfile = &#39;&#39;
   try:
      opts, args = getopt.getopt(argv,&amp;quot;hi:o:&amp;quot;,[&amp;quot;ifile=&amp;quot;,&amp;quot;ofile=&amp;quot;])
   except getopt.GetoptError:
      print (&#39;test.py -i &amp;lt;inputfile&amp;gt; -o &amp;lt;outputfile&amp;gt;&#39;)
      sys.exit(2)
   for opt, arg in opts:
      if opt == &#39;-h&#39;:
         print (&#39;test.py -i &amp;lt;inputfile&amp;gt; -o &amp;lt;outputfile&amp;gt;&#39;)
         sys.exit()
      elif opt in (&amp;quot;-i&amp;quot;, &amp;quot;--ifile&amp;quot;):
         inputfile = arg
      elif opt in (&amp;quot;-o&amp;quot;, &amp;quot;--ofile&amp;quot;):
         outputfile = arg
   print (&#39;è¾“å…¥çš„æ–‡ä»¶ä¸ºï¼š&#39;, inputfile)
   print (&#39;è¾“å‡ºçš„æ–‡ä»¶ä¸ºï¼š&#39;, outputfile)

if __name__ == &amp;quot;__main__&amp;quot;:
   main(sys.argv[1:])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;$ python3 test.py -h
usage: test.py -i &amp;lt;inputfile&amp;gt; -o &amp;lt;outputfile&amp;gt;

$ python3 test.py -i inputfile -o outputfile
è¾“å…¥çš„æ–‡ä»¶ä¸ºï¼š inputfile
è¾“å‡ºçš„æ–‡ä»¶ä¸ºï¼š outputfile
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;æ–¹æ³•ä¸‰argparse-æ¨¡å—&#34;&gt;æ–¹æ³•ä¸‰ï¼šargparse æ¨¡å—&lt;/h1&gt;
&lt;p&gt;argparse æ¨¡å—ä¹Ÿæ˜¯ Python è‡ªå¸¦çš„ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æ‰æ˜¯çœŸçš„ä¸ºäº†å‘½ä»¤è¡Œå‚æ•°è€Œç”Ÿçš„æ¨¡å—ï¼Œç›¸è¾ƒä¹‹ä¸‹ sys.argv åªæ˜¯ç¢°å·§å¯ä»¥ç”¨åœ¨å‘½ä»¤è¡Œå‚æ•°ä¸Šé¢è€Œå·²ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚æ•°&#34;&gt;å‚æ•°&lt;/h2&gt;
&lt;p&gt;åœ¨æ·»åŠ å‘½ä»¤è¡Œå‚æ•°çš„å±æ€§çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥æœ‰æ›´å¤šçš„è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;name or flagsï¼šä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨å‚æ•°çš„æ—¶å€™ä½¿ç”¨çš„ç¬¦å·ï¼Œ--foo æˆ–è€… -f&lt;/li&gt;
&lt;li&gt;actionï¼šæ ¹æ®æˆ‘çš„ç†è§£ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥é€‰æ‹©å‚æ•°åœ¨åªæä¾›ç¬¦å·è€Œä¸è¾“å…¥å®é™…çš„å€¼çš„æ—¶å€™ç»™äºˆä¸€ä¸ªé»˜è®¤çš„å€¼&lt;/li&gt;
&lt;li&gt;nargsï¼šè¿™ä¸ªå±æ€§è§„å®šäº†å‚æ•°å¯ä»¥è¾“å…¥çš„ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;constï¼šè¿™å±æ€§è·Ÿ action å±æ€§ä¸€èµ·ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;defaultï¼šè¿™å±æ€§å°±æ˜¯ç»™å‚æ•°è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼&lt;/li&gt;
&lt;li&gt;typeï¼šè¿™ä¸ªå±æ€§è§„å®šäº†å‚æ•°çš„æ•°æ®ç±»å‹&lt;/li&gt;
&lt;li&gt;choicesï¼šè¿™ä¸ªå±æ€§ç»™å‚æ•°é™å®šäº†ä¸€ä¸ªé€‰æ‹©çš„è¿­ä»£ï¼Œå‚æ•°åªèƒ½åœ¨è¿™ä¸ªèŒƒå›´å†…é€‰æ‹©å‚æ•°çš„å€¼ï¼Œå¦åˆ™æŠ¥é”™&lt;/li&gt;
&lt;li&gt;requiredï¼šå‚æ•°çš„å€¼ä¸ºå¿…å¡«&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®ä¾‹-3&#34;&gt;å®ä¾‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import argparse

def test_for_sys(year, name, body):
    print(&#39;the year is&#39;, year)
    print(&#39;the name is&#39;, name)
    print(&#39;the body is&#39;, body)

parser = argparse.ArgumentParser(description=&#39;Test for argparse&#39;)
parser.add_argument(&#39;--name&#39;, &#39;-n&#39;, help=&#39;name å±æ€§ï¼Œéå¿…è¦å‚æ•°&#39;)
parser.add_argument(&#39;--year&#39;, &#39;-y&#39;, help=&#39;year å±æ€§ï¼Œéå¿…è¦å‚æ•°ï¼Œä½†æ˜¯æœ‰é»˜è®¤å€¼&#39;, default=2017)
parser.add_argument(&#39;--body&#39;, &#39;-b&#39;, help=&#39;body å±æ€§ï¼Œå¿…è¦å‚æ•°&#39;, required=True)
args = parser.parse_args()

if __name__ == &#39;__main__&#39;:
    try:
        test_for_sys(args.year, args.name, args.body)
    except Exception as e:
        print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;argparse&lt;/code&gt; æ¨¡å—çš„æ–¹å¼ä¹ŸæŒºç®€å•çš„ï¼Œé¦–å…ˆéœ€è¦æ„å»ºä¸€ä¸ªå‚æ•°å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä»£ç ä¸­çš„&lt;code&gt;parser = argparse.ArgumentParser(description=&#39;Test for argparse&#39;)&lt;/code&gt;&lt;br&gt;
è¿™è¡Œä»£ç å°±ç”Ÿæˆäº†ä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°çš„å¯¹è±¡ï¼Œä¹‹åå°±å¯ä»¥ç»™å¯¹è±¡æ·»åŠ ä¸€äº›å‚æ•°å±æ€§ï¼Œæœ€ååªéœ€è¦ä»å±æ€§ä»æå–ä¼ å…¥çš„å‚æ•°è¿›è¡Œä½¿ç”¨å³å¯ã€‚&lt;br&gt;
ä¸Šé¢çš„ä»£ç æ·»åŠ äº†3ä¸ªå‚æ•°ï¼Œæ·»åŠ å‚æ•°çš„å‰ä¸¤ä¸ªå­—æ®µå¾ˆå®¹æ˜“ç†è§£ï¼Œ&lt;code&gt;--name&lt;/code&gt; å’Œ &lt;code&gt;-n&lt;/code&gt; éƒ½å¯ä»¥ç”¨æ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼Œéƒ½è¡¨ç¤ºäº†å‚æ•° &lt;code&gt;name&lt;/code&gt;ï¼Œè¿™æ ·åé¢ä½¿ç”¨ &lt;code&gt;parse_args()&lt;/code&gt; æ–¹æ³•è·å–åˆ°æ‰€æœ‰å‚æ•°ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;args.name&lt;/code&gt; è¿™ç§å½¢å¼æ¥æå–å¯¹åº”çš„å‚æ•°ã€‚&lt;br&gt;
é¦–å…ˆæ¥çœ‹çœ‹ä½¿ç”¨äº†å‘½ä»¤è¡Œå‚æ•°ä¹‹åè„šæœ¬çš„â€œ&lt;strong&gt;å¸®åŠ©&lt;/strong&gt;â€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py --help
usage: test_cmd.py [-h] [--name NAME] [--year YEAR] --body BODY

Test for argparse

optional arguments:
  -h, --help            show this help message and exit
  --name NAME, -n NAME  name å±æ€§ï¼Œéå¿…è¦å‚æ•°
  --year YEAR, -y YEAR  year å±æ€§ï¼Œéå¿…è¦å‚æ•°ï¼Œä½†æ˜¯æœ‰é»˜è®¤å€¼
  --body BODY, -b BODY  body å±æ€§ï¼Œå¿…è¦å‚æ•°
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œè„šæœ¬ç”Ÿæˆäº†ä¸€ä¸ª &lt;code&gt;help&lt;/code&gt;ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è„šæœ¬ä¸­å¯¹æ¯ä¸ªå‚æ•°çš„ä½¿ç”¨è¿›è¡Œä¸€äº›æè¿°ï¼Œæ–¹ä¾¿å…¶ä»–äººæ›´åŠ äº†è§£æ¯ä¸ªå‚æ•°çš„å«ä¹‰ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚&lt;br&gt;
çœ‹ä¸€ä¸‹è¿è¡ŒæˆåŠŸçš„å‡ ä¸ªå‘½ä»¤ï¼Œé¦–å…ˆæ˜¯ä¸ä¼ å…¥ &lt;code&gt;year&lt;/code&gt; å‚æ•°ï¼Œè€Œä½¿ç”¨é»˜è®¤çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py -n Leijun --body &amp;quot;are you ok?&amp;quot;
the year is 2017
the name is Leijun
the body is are you ok?
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶åæ˜¯ä¸æä¾› &lt;code&gt;name&lt;/code&gt; å‚æ•°ï¼Œä½†æ˜¯ä¸ä¼šæŠ¥é”™ï¼Œæœ€åå¯ä»¥çœ‹åˆ°ä»å‚æ•°ä¸­ä¼šå¾—åˆ°ä¸€ä¸ª &lt;code&gt;None&lt;/code&gt; å¹¶ä¼ å…¥åˆ°äº†è„šæœ¬ä¸­è¿›è¡Œä½¿ç”¨:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py --body &amp;quot;are you ok?&amp;quot;
the year is 2017
the name is None
the body is are you ok?
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ€åçœ‹ä¸€ä¸ªæŠ¥é”™çš„æ‰§è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py
usage: test_cmd.py [-h] [--name NAME] [--year YEAR] --body BODY
test_cmd.py: error: the following arguments are required: --body/-b
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„æŠ¥é”™æç¤ºäº† &lt;code&gt;body&lt;/code&gt; å‚æ•°æ˜¯ä¸€ä¸ªå¿…è¦å‚æ•°ï¼Œä¸èƒ½å°‘ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“-2&#34;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;å…¶å®æˆ‘éå¸¸å–œæ¬¢è¿™ä¸ªå†…ç½®çš„å‘½ä»¤è¡Œå‚æ•°æ¨¡å—ï¼Œå› ä¸ºå®ƒä¸ä»…æ–¹ä¾¿ä½¿ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå°±æ˜¯å†…ç½®çš„ï¼Œä¸éœ€è¦å•ç‹¬å®‰è£…ä¾èµ–ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ–¹æ³•å››click-åº“&#34;&gt;æ–¹æ³•å››ï¼šclick åº“&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;Click&lt;/code&gt; æ˜¯ &lt;code&gt;Flask&lt;/code&gt; çš„å›¢é˜Ÿ &lt;code&gt;pallets&lt;/code&gt; å¼€å‘çš„ä¼˜ç§€å¼€æºé¡¹ç›®ï¼Œå®ƒä¸ºå‘½ä»¤è¡Œå·¥å…·çš„å¼€å‘å°è£…äº†å¤§é‡æ–¹æ³•ï¼Œä½¿å¼€å‘è€…åªéœ€è¦ä¸“æ³¨äºåŠŸèƒ½å®ç°ã€‚è¿™æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œä¸“é—¨ä¸ºäº†å‘½ä»¤è¡Œè€Œç”Ÿçš„éå¸¸æœ‰åçš„ Python å‘½ä»¤è¡Œæ¨¡å—ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®ä¾‹-4&#34;&gt;å®ä¾‹&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import click

@click.command()
@click.option(&#39;--name&#39;,default=&#39;Leijun&#39;,help=&#39;name å‚æ•°ï¼Œéå¿…é¡»ï¼Œæœ‰é»˜è®¤å€¼&#39;)
@click.option(&#39;--year&#39;,help=&#39;year å‚æ•°&#39;,type=int)
@click.option(&#39;--body&#39;,help=&#39;body å‚æ•°&#39;)
def test_for_sys(year, name, body):
    print(&#39;the year is&#39;, year)
    print(&#39;the name is&#39;, name)
    print(&#39;the body is&#39;, body)

if __name__ == &#39;__main__&#39;:
    test_for_sys()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;G:\Allcodes\testscripts&amp;gt;python test_cmd.py --year 2019
the year is 2019
the name is Leijun
the body is None
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ° &lt;code&gt;click&lt;/code&gt; æ˜¯ä½¿ç”¨è£…é¥°å™¨çš„æ–¹å¼ç»™å‡½æ•°æ·»åŠ å‘½ä»¤è¡Œå±æ€§ï¼Œæ¯”è¾ƒç‰¹æ®Šçš„æ˜¯æœ€åè°ƒç”¨å‡½æ•°çš„æ—¶å€™æ˜¯æ²¡æœ‰å¸¦ä¸Šå‚æ•°çš„ï¼Œå› ä¸ºå‚æ•°ä¼šè‡ªåŠ¨é€šè¿‡å‘½ä»¤è¡Œçš„å½¢å¼ä¼ å…¥ã€‚å…¶ä»–è®¾ç½®å‚æ•°çš„å±æ€§è·Ÿå‰é¢çš„ &lt;code&gt;argparse&lt;/code&gt; çš„æ–¹å¼éå¸¸ç›¸ä¼¼ï¼Œå…·ä½“çš„å‚æ•°å¯ä»¥å‚è€ƒæ–‡æ¡£å’Œå…¶ä»–çš„æ•™ç¨‹ç”¨æ³•ï¼Œè¿™é‡Œå°±ä¸åšè¿‡å¤šçš„è¯´æ˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“-3&#34;&gt;å°ç»“&lt;/h2&gt;
&lt;p&gt;click åº“ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸äººæ€§åŒ–çš„å‘½ä»¤è¡Œå‚æ•°æ¨¡å—ï¼Œå®ƒå…¶å®éå¸¸å¼ºå¤§ï¼Œå¼ºå¤§åˆ°æŠŠæ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°å¯èƒ½æ¶‰åŠçš„æƒ…å†µéƒ½è€ƒè™‘åˆ°äº†ï¼Œéœ€è¦è‡ªå·±å»æ¢ç´¢ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h1&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯æˆ‘æ¥è§¦å’Œä½¿ç”¨åˆ°çš„å››ç§ç»™Pythonè„šæœ¬è®¾ç½®å‘½ä»¤è¡Œå‚æ•°çš„æ–¹æ³•ï¼Œå…¶ä¸­ç¬¬ä¸€ç§æ˜¯æˆ‘åœ¨å·¥ä½œä¸­è§åˆ°çš„å…¶ä»–åŒäº‹å†™çš„è„šæœ¬ä¸­çš„æ–¹å¼ï¼Œä½†æ˜¯æˆ‘å¹¶ä¸å–œæ¬¢è¿™ç§æ–¹å¼ï¼Œå› ä¸ºå®ƒçœŸçš„å¤ªæ­»æ¿äº†ï¼›æˆ‘æœ€å–œæ¬¢çš„æ˜¯ &lt;code&gt;argparse&lt;/code&gt;æ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯å†…ç½®æ¨¡å—ï¼Œä½†æ˜¯åŠŸèƒ½å®Œå…¨å¤Ÿç”¨ï¼Œéå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;
">Pythonä¹‹å‚æ•°ä¼ å…¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/04-lu-you-ce-lue-20200511/"" data-c="
          &lt;h1 id=&#34;è·¯ç”±å¼•å…¥&#34;&gt;è·¯ç”±å¼•å…¥&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è·¯ç”±å¼•å…¥ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éƒ¨ç½²ä¸åŒè·¯ç”±åè®®çš„æœºæ„åˆå¹¶ï¼›é‡‡ç”¨ä¸åŒå‚å•†çš„åè®®ï¼›åŒä¸€è®¾å¤‡åŒä¸€åè®®ä½†ä¸åŒè¿›ç¨‹çš„é…ç½®&lt;br&gt;
ä¸åŒçš„ç½‘ç»œä½¿ç”¨ä¸åŒçš„åè®®ï¼Œå¹¶ä¸”è¿™äº›ç½‘ç»œéœ€è¦å…±äº«è·¯ç”±ä¿¡æ¯ï¼š1. ç®€å•çš„ç½‘ç»œå¯ä»¥ä½¿ç”¨RIPï¼Œ2. ç½‘ç»œç±»å‹å¤æ‚çš„å¯ä»¥é€‰ç”¨OSPFï¼Œ3. å¤§å‹éª¨å¹²ç½‘ç»œä¸€èˆ¬é€‰ç”¨ISIS&lt;br&gt;
ç½‘ç»œåè®®çš„é™åˆ¶ï¼Œæ¯”å¦‚ä½¿ç”¨æ‹¨å·é“¾è·¯è¿æ¥ä¸¤ä¸ªISISç½‘ç»œï¼Œè€Œåœ¨æ‹¨å·é“¾è·¯ä¸Šæ˜¯ä¸é€‚åˆè¿è¡ŒISISåè®®çš„ï¼›éœ€è¦é…ç½®é™æ€è·¯ç”±ï¼Œç„¶åå°†é™æ€è·¯ç”±å¼•å…¥ISIS&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è·¯ç”±å¼•å…¥çš„æœ¬è´¨&lt;/strong&gt;ï¼šæŠŠå…¶ä»–åè®®ï¼ˆæˆ–è€…åŒä¸€åè®®ä¸åŒè¿›ç¨‹ï¼‰å­¦ä¹ åˆ°çš„è·¯ç”±è¡¨ï¼Œä»¥åŠ&lt;strong&gt;è¿è¡Œè¯¥åè®®çš„ç›´è¿å¼•è¿›åˆ°æœ¬åè®®çš„æ•°æ®åº“&lt;/strong&gt;ï¼Œä¾‹å¦‚å°†OSPFçš„è·¯ç”±å¼•å…¥RIPï¼Œä¼šå°†ä¸‹é¢ä¸¤æ¡å‘½ä»¤æ˜¾ç¤ºæ‰€æœ‰çš„OSPFçš„è·¯ç”±å…¨éƒ¨å¼•å…¥RIPï¼š&lt;code&gt;dis ip rou pro ospf(å¯¹åº”ç¬¬ä¸€å¥è¯)&lt;/code&gt;å’Œ&lt;code&gt;dis ospf int(å¯¹åº”ç¬¬äºŒå¥è¯)&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;è·¯ç”±å¼•å…¥éœ€è¦æ³¨æ„å¼€é”€å€¼çš„å˜åŒ–&#34;&gt;è·¯ç”±å¼•å…¥éœ€è¦æ³¨æ„å¼€é”€å€¼çš„å˜åŒ–&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¼•å…¥OSPFæˆ–è€…ISISè·¯ç”±åˆ°RIPæ—¶ï¼Œå¦‚æœä¸æŒ‡å®šCOSTï¼Œ&lt;strong&gt;å¼€é”€å€¼é»˜è®¤æ˜¯1&lt;/strong&gt;ã€‚åº”è¯¥æ‰‹å·¥é…ç½®å¼€é”€å€¼ä»¥åæ˜ ç½‘ç»œçš„çœŸå®æ‹“æ‰‘&lt;/li&gt;
&lt;li&gt;å¼•å…¥OSPFé»˜è®¤ä¸º1&lt;/li&gt;
&lt;li&gt;å¼•å…¥ISISï¼Œnarrowæ—¶é»˜è®¤ä¸º64ï¼Œ&lt;strong&gt;wideä¸º10ï¼Œå³å¼•å…¥ISISè·¯ç”±ä¹‹å‰ä¸€èˆ¬éœ€è¦å…ˆæ›´æ”¹ISISçš„cost-type&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘è®¾å¤‡å°†å…¶ä»–åè®®å¼•å…¥è·ç¦»çŸ¢é‡åè®®æ—¶é»˜è®¤å¼€é”€å€¼æ˜¯æ— ç©·å¤§ï¼Œå› æ­¤å¿…é¡»è¦åŠ å¼€é”€å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±å¼•å…¥å¯¼è‡´çš„æ¬¡ä¼˜è·¯å¾„&#34;&gt;è·¯ç”±å¼•å…¥å¯¼è‡´çš„æ¬¡ä¼˜è·¯å¾„&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589294816184.png&#34; alt=&#34;è·¯ç”±å¼•å…¥å¯¼è‡´çš„æ¬¡ä¼˜è·¯å¾„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;filter-policy&lt;/code&gt;è¿‡æ»¤ã€‚ISISæ•°æ®åº“ä¸­è¿˜æœ‰4.4.4.4ï¼Œä½†æ˜¯ISISè·¯ç”±è¡¨æ²¡æœ‰4.4.4.4ã€‚æ­¤æ–¹æ³•èƒ½è§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜ï¼Œä½†æ˜¯å¯¼è‡´æ²¡æœ‰å¤‡ä»½è·¯ç”±ï¼ˆå†—ä½™ï¼‰ï¼Œæ‰€ä»¥&lt;strong&gt;è¯¥æ–¹æ³•ä¸å¯å–&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹è·¯ç”±åè®®çš„ä¼˜å…ˆçº§ã€‚å³å°†ISISçš„ä¼˜å…ˆçº§çš„å€¼ä¿®æ”¹ä¸º100ä»¥ä¸Šï¼Œä½¿å¾—RIPä¼˜é€‰ï¼Œä¾‹å¦‚&lt;code&gt;isis &amp;amp;&amp;amp; preference 101&lt;/code&gt;ï¼›æˆ–è€…ä¿®æ”¹RIPçš„ä¼˜å…ˆçº§ï¼Œå°†RIPçš„ä¼˜å…ˆçº§ä¿®æ”¹ä¸º15ä»¥ä¸‹&lt;code&gt;rip &amp;amp;&amp;amp; preference 14&lt;/code&gt;ã€‚æ­¤æ–¹æ³•å¦‚æœåœ¨RTCä¸Šå°†ISISå¼•å…¥RIPçš„è·¯ç”±ï¼Œä¼šå¯¼è‡´RTBæ–¹ä½RTAçš„æ¬¡ä¼˜è·¯å¾„ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è§£å†³&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# RTB 
acl 2003
rule permit source 14.1.1.0 0.0.0.255
rule permit source 4.4.4.4 0
q
route-policy PRE-RIP
if-match acl 2003
apply preference 14
q
rip
preference route-policy PRE-RIP
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸åŒè®¾å¤‡ä¸åŒåè®®çš„ä¼˜å…ˆçº§&#34;&gt;ä¸åŒè®¾å¤‡ä¸åŒåè®®çš„ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åè®®\è®¾å¤‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ€ç§‘&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åä¸º&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Juniper&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç›´è¿&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSPFå†…éƒ¨&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;110&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ISIS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;115&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;15&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;15(å¯ä»¥æ›´ç»†åŒ–)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é™æ€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;60&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;RIP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;100&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSPFå¤–éƒ¨&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;110&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;150&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;150&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;iBGP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;200&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;255&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;170&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;eBGP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;20&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;255&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;150&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;EIGRP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å†…éƒ¨90,å¤–éƒ¨170&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;è·¯ç”±è¿‡æ»¤&#34;&gt;è·¯ç”±è¿‡æ»¤&lt;/h1&gt;
&lt;h2 id=&#34;ä½œç”¨&#34;&gt;ä½œç”¨&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é¿å…è·¯ç”±å¼•å…¥å¯¼è‡´çš„æ¬¡ä¼˜è·¯ç”±&lt;/li&gt;
&lt;li&gt;é¿å…è·¯ç”±å›é¦ˆå¯¼è‡´çš„è·¯ç”±ç¯è·¯&lt;br&gt;
è·¯ç”±å›é¦ˆï¼šä»æœ¬åè®®å‡ºå»çš„è·¯ç”±ï¼Œåˆé‡æ–°å›åˆ°æœ¬åè®®ï¼Œæœ‰å¯èƒ½ä¼šäº§ç”Ÿç¯è·¯&lt;/li&gt;
&lt;li&gt;è¿›è¡Œç²¾ç¡®çš„è·¯ç”±å¼•å…¥å’Œè·¯ç”±é€šå‘Šæ§åˆ¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è§„åˆ™&#34;&gt;è§„åˆ™&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¯ä»¥åœ¨å‡ºæ–¹å‘è¿‡æ»¤è·¯ç”±&lt;br&gt;
åªèƒ½è¿‡æ»¤è·¯ç”±ä¿¡æ¯ï¼Œé“¾è·¯çŠ¶æ€ä¿¡æ¯æ˜¯ä¸èƒ½è¢«è¿‡æ»¤çš„ï¼›å¯¹OSPFæ¥è¯´ï¼Œåªèƒ½è¿‡æ»¤3/5/7ç±»è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¯ä»¥åœ¨å…¥æ–¹å‘ä¸Šè¿‡æ»¤è·¯ç”±&lt;br&gt;
å¯¹äºé“¾è·¯çŠ¶æ€è·¯ç”±åè®®ï¼Œä»…ä»…æ˜¯ä¸æŠŠè·¯ç”±åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­ï¼ˆfilter-policyï¼‰&lt;/li&gt;
&lt;li&gt;å¯ä»¥è¿‡æ»¤ä»å…¶ä»–è·¯ç”±åè®®å¼•å…¥çš„è·¯ç”±&lt;br&gt;
åªèƒ½åœ¨å‡ºæ–¹å‘è¿‡æ»¤ï¼Œå¯ä»¥åœ¨ASBRé‡åˆ†å¸ƒæ—¶æ“ä½œæˆ–è€…åœ¨æŸèŠ‚ç‚¹ä½¿ç”¨filter-policyï¼›åœ¨å…¥æ–¹å‘è¿‡æ»¤æ˜¯æ²¡æœ‰æ„ä¹‰çš„&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨filter-policyè¿›è¡Œè¿‡æ»¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ip-prefixè¿›è¡Œè¿‡æ»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è·¯ç”±åè®®çš„è¿ç§»&#34;&gt;è·¯ç”±åè®®çš„è¿ç§»&lt;/h1&gt;
&lt;p&gt;æœ‰æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨æ–°çš„è·¯ç”±åè®®æ¥å–ä»£åŸæœ‰ç½‘ç»œä¸­çš„è·¯ç”±åè®®ï¼Œè€Œä¸”è¦å°½å¯èƒ½å‡å°åè®®è¿ç§»æ—¶çš„ç½‘ç»œä¸­æ–­æ—¶é—´ã€‚æ¯”å¦‚åŸæ¥ç½‘ç»œä½¿ç”¨OSPFåè®®ï¼Œç°åœ¨è¦è¿ç§»åˆ°ISISåè®®ï¼Œå¯ä»¥åœ¨æ¯å°è·¯ç”±å™¨ä¸ŠåŒæ—¶è¿è¡Œè¿™ä¸¤ç§è·¯ç”±åè®®ï¼Œé€‚å½“è°ƒæ•´ä¸¤ç§è·¯ç”±åè®®çš„ä¼˜å…ˆçº§ï¼Œä½¿å¾—åœ¨æœ€åˆçš„æ—¶å€™ISISåªåœ¨åå°è¿è¡Œï¼Œåœ¨å¯¹ISISçš„é‚»å±…å…³ç³»ä»¥åŠLSDBç­‰å‚æ•°ç»è¿‡ä»”ç»†æ£€æŸ¥ä¹‹åï¼Œå¯¹ISISçš„ä¼˜å…ˆçº§è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œä½¿å¾—ISISå–ä»£å½“å‰è¿è¡Œçš„è·¯ç”±åè®®&lt;br&gt;
æ–¹æ³•æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ­¤æ—¶ç½‘ç»œä¸­å€¼è¿è¡ŒOSPFï¼Œæ‰§è¡Œç¡¬ä»¶å’Œè½¯ä»¶æ£€æŸ¥å¹¶è¿›è¡Œå‡çº§ï¼Œç¡®ä¿è½¯ä»¶å’Œç¡¬ä»¶èƒ½å¤Ÿæ”¯æŒè¿ç§»&lt;/li&gt;
&lt;li&gt;é…ç½®ISISï¼Œè®¾ç½®åˆé€‚çš„ä¼˜å…ˆçº§ï¼Œä¿è¯ISISåªåœ¨åå°è¿è¡Œï¼Œä»è€Œåœ¨æ¯å°è·¯ç”±å™¨ä¸Šéƒ½å»ºç«‹äº†ISISé“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼Œä½†è·¯ç”±è¡¨å’Œè½¬å‘è¡¨ä¸å˜ã€‚åœ¨è¿™ä¸ªé˜¶æ®µå¯¹ISISçš„è¿è¡Œæƒ…å†µè¿›è¡ŒéªŒè¯ï¼Œåªæœ‰å½“æ¯å°è·¯ç”±å™¨éƒ½å»ºç«‹äº†LSDBå¹¶ä¸”æ•°æ®åº“ä¸­å­˜åœ¨æ‰€æœ‰é¢„æœŸçš„LSPï¼ŒåŒæ—¶å·²ç¡®è®¤å¯ä»¥äº§ç”Ÿåæ˜ å½“å‰IPè·¯ç”±è¡¨ä¸­è·¯ç”±çš„ISISè·¯ç”±æ—¶ï¼Œè¿™ä¸ªé˜¶æ®µå¯ä»¥ç»“æŸ&lt;/li&gt;
&lt;li&gt;æ”¹å˜ä¼˜å…ˆçº§ï¼Œä½¿å¾—ISISå–ä»£åŸæ¥çš„OSPFï¼Œåœ¨å‰å°è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ç½‘ç»œè¿è¡Œæ­£å¸¸åï¼ŒæŠŠOSPFåˆ é™¤&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è·¯ç”±åè®®å‘å¸ƒç¼ºçœè·¯ç”±&#34;&gt;è·¯ç”±åè®®å‘å¸ƒç¼ºçœè·¯ç”±&lt;/h1&gt;
&lt;p&gt;æ‰€æœ‰è·¯ç”±åè®®éƒ½å¯ä»¥ä¸‹å‘ç¼ºçœè·¯ç”±&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSPFå¯ä»¥é…ç½®å¤šç§ä¸‹å‘æ–¹å¼
&lt;ul&gt;
&lt;li&gt;åœ¨ABRä¸Šä¸‹å‘&lt;/li&gt;
&lt;li&gt;åœ¨ASBRä¸Šä¸‹å‘&lt;/li&gt;
&lt;li&gt;å¼ºåˆ¶ä¸‹å‘&lt;/li&gt;
&lt;li&gt;éå¼ºåˆ¶ä¸‹å‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589468895279.png&#34; alt=&#34;OSPFè·¯ç”±ä¸‹æ”¾&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ISISæ²¡æœ‰å‘½ä»¤å®ç°OSPFçš„éå¼ºåˆ¶ä¸‹å‘åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è·¯ç”±ç­–ç•¥æ¥å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;è·¯ç”±é€‰æ‹©å·¥å…·&#34;&gt;è·¯ç”±é€‰æ‹©å·¥å…·&lt;/h1&gt;
&lt;h2 id=&#34;è®¿é—®æ§åˆ¶åˆ—è¡¨acl&#34;&gt;è®¿é—®æ§åˆ¶åˆ—è¡¨ACL&lt;/h2&gt;
&lt;p&gt;ç”¨äºåŒ¹é…è·¯ç”±ä¿¡æ¯æˆ–è€…æ•°æ®åŒ…åœ°å€ï¼Œè¿‡æ»¤ä¸ç¬¦åˆæ¡ä»¶çš„è·¯ç”±ä¿¡æ¯å’Œæ•°æ®åŒ…&lt;br&gt;
è®¿é—®æ§åˆ¶åˆ—è¡¨æ˜¯ç”±&lt;code&gt;permit|deny&lt;/code&gt;è¯­å¥ç»„æˆçš„ä¸€ç³»åˆ—æœ‰é¡ºåºçš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™æ ¹æ®æºåœ°å€ã€ç›®çš„åœ°å€ã€ç«¯å£å·ç­‰æ¥æè¿°&lt;/p&gt;
&lt;h3 id=&#34;æŒ‰ç…§è®¿é—®æ§åˆ¶åˆ—è¡¨çš„ç”¨é€”å¯ä»¥åˆ†ä¸ºä¸‰ç±»&#34;&gt;æŒ‰ç…§è®¿é—®æ§åˆ¶åˆ—è¡¨çš„ç”¨é€”ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼šåŒ¹é…æºIP&lt;/li&gt;
&lt;li&gt;é«˜çº§è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼šåŒ¹é…æºIPã€ç›®çš„IPã€æºç«¯å£ã€ç›®çš„ç«¯å£ã€åè®®å·&lt;/li&gt;
&lt;li&gt;åŸºäºæ¥å£çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼šåŒ¹é…æ¥å£&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è®¿é—®æ§åˆ¶ç±»åˆ«çš„ä½¿ç”¨ç”¨é€”æ˜¯ä¾é æ•°å­—çš„èŒƒå›´æ¥æŒ‡å®šçš„&#34;&gt;è®¿é—®æ§åˆ¶ç±»åˆ«çš„ä½¿ç”¨ç”¨é€”æ˜¯ä¾é æ•°å­—çš„èŒƒå›´æ¥æŒ‡å®šçš„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1000~1999ï¼šåŸºäºæ¥å£çš„è®¿é—®æ§åˆ¶åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;2000~2999ï¼šåŸºæœ¬è®¿é—®æ§åˆ¶åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;3000~3999ï¼šé«˜çº§è®¿é—®æ§åˆ¶åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŒ¹é…é¡ºåº&#34;&gt;åŒ¹é…é¡ºåº&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;acl number 2001 match-order auto|config&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®é¡ºåºï¼ˆconfigï¼Œé»˜è®¤æ–¹å¼ï¼‰&lt;br&gt;
æŒ‰ç…§ç”¨æˆ·èƒšå­ACLè§„åˆ™çš„å…ˆåè¿›è¡ŒåŒ¹é…&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ’åºï¼ˆautoï¼‰&lt;br&gt;
ä½¿ç”¨â€œæ·±åº¦ä¼˜å…ˆâ€çš„åŸåˆ™ï¼Œâ€œæ·±åº¦ä¼˜å…ˆâ€æ˜¯æŠŠæŒ‡å®šèŒƒå›´æœ€å°çš„è¯­å¥æ’åœ¨æœ€å‰é¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å‰ç¼€åˆ—è¡¨ip-prefix&#34;&gt;å‰ç¼€åˆ—è¡¨ip-prefix&lt;/h2&gt;
&lt;p&gt;åŒ¹é…å¯¹è±¡ä¸ºè·¯ç”±ä¿¡æ¯çš„ç›®çš„åœ°å€æˆ–è€…ç›´æ¥ä½œç”¨äºè·¯ç”±å™¨å¯¹è±¡gateway&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‰ç¼€åˆ—è¡¨ç”¨æ¥è¿‡æ»¤IPå‰ç¼€ï¼Œèƒ½&lt;strong&gt;åŒæ—¶åŒ¹é…å‰ç¼€å·å’Œå‰ç¼€é•¿åº¦&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å‰ç¼€åˆ—è¡¨çš„æ€§èƒ½æ¯”è®¿é—®æ§åˆ¶åˆ—è¡¨é«˜&lt;/li&gt;
&lt;li&gt;å‰ç¼€åˆ—è¡¨ä¸èƒ½ç”¨äºæ•°æ®åŒ…çš„è¿‡æ»¤ï¼ˆ&lt;strong&gt;ä¸èƒ½ç”¨äºIPæŠ¥æ–‡çš„è¿‡æ»¤ï¼Œåªèƒ½ç”¨äºè·¯ç”±ä¿¡æ¯çš„è¿‡æ»¤&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix test index 10 permit 10.0.0.0 16 greater-equal 24 less-equal 28&lt;/code&gt;å‰ç¼€å·å¿…é¡»æ˜¯10.0ï¼ˆ16å®šä¹‰çš„èŒƒå›´ï¼‰ï¼Œå‰ç¼€é•¿åº¦å–å€¼åŒºé—´[24,28]ï¼Œæ»¡è¶³æ¡ä»¶çš„å¦‚10.0.1.0/24ã€10.0.2.0/25ã€10.0.2.192/26ç­‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre index 10 permit 10.1.0.0 24&lt;/code&gt;æ²¡æœ‰great,æ²¡æœ‰lesså°±ç­‰äº24&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre index 10 permit 10.1.0.0 16 greater-equal 24&lt;/code&gt;æ²¡æœ‰Lessï¼Œé‚£ä¹ˆlesså°±ç­‰äº32ï¼Œå³ great 24  less 32&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre permit 10.1.0.0 16 less-equal 32&lt;/code&gt;æ²¡æœ‰greatï¼Œé‚£ä¹ˆgreatå°±ç­‰äº&lt;strong&gt;æ©ç &lt;/strong&gt;16&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre permit 0.0.0.0 0 greater-equal 32 less-equal 32&lt;/code&gt;æ”¾è¡Œæ‰€æœ‰çš„ä¸»æœºè·¯ç”± 32&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre permit 0.0.0.0 1 greater-equal 8 less-equal 8&lt;/code&gt;æ”¾è¡Œæ‰€æœ‰çš„Aç±»è·¯ç”±&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre permit 128.0.0.0 2 greater-equal 16 less-equal 16&lt;/code&gt;åŒ¹é…æ‰€æœ‰çš„Bç±»è·¯ç”±&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ip ip-prefix pre permit 192.0.0.0 3 greater-equal 24 less-equal 24&lt;/code&gt;åŒ¹é…æ‰€æœ‰çš„Cç±»è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€ä¹ˆç†è§£è¿™é‡Œçš„â€œ1/2/3â€éœ€è¦åŒ¹é…çš„å‰ç¼€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;128=10&lt;/strong&gt; 00 0000 ï¼Œ /2  æ„æ€æ˜¯è¯´ã€æœ€å‰é¢çš„â€œ10â€è¿™ä¸¤ä¸ªä½ä¸å¯ä»¥å˜ï¼Œå¯ä»¥å˜çš„æ˜¯åé¢å‰©ä¸‹çš„â€œ6ä¸ªä½â€ï¼Œâ€œ10 &lt;strong&gt;11 1111=191&lt;/strong&gt;â€ã€‘è€Œä¸”è¿™é‡Œge/le=16 é™å®šäº†mask=16(Bç±»åœ°å€)ã€‚æ‰€ä»¥åœ°å€ä¸ºï¼š128.0.0.0-191.255.255.255 /16&lt;br&gt;
&lt;strong&gt;192=110&lt;/strong&gt; 0 0000  ï¼Œ/3  ä¸èƒ½è¡¨çš„æ„æ€æ˜¯è¯´ã€æœ€å‰é¢çš„â€œ110â€è¿™ä¸¤ä¸ªä½ä¸å¯ä»¥å˜ï¼Œå¯ä»¥å˜çš„æ˜¯åé¢å‰©ä¸‹çš„â€œ5ä¸ªä½â€ã€â€œ110 &lt;strong&gt;1 1111=223&lt;/strong&gt;â€ã€‘è€Œä¸”è¿™é‡Œge/le=24 é™å®šäº†mask=24(Cç±»åœ°å€) ã€‚æ‰€ä»¥åœ°å€ä¸ºï¼š192.0.0.0-223.255.255.255 /24&lt;br&gt;
mask=0    //åŒ¹é…å‰é¢çš„0ä½&lt;br&gt;
mask=1    //åŒ¹é…å‰é¢çš„ç¬¬ä¸€ä½1&lt;br&gt;
mask=2    //åŒ¹é…å‰é¢çš„ç¬¬ä¸€ä½å’Œç¬¬äºŒä½     ä»¥æ­¤ç±»æ¨ï¼ï¼ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;è·¯ç”±ç­–ç•¥&#34;&gt;è·¯ç”±ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;ä¸»è¦ç”¨äºè·¯ç”±è¿‡æ»¤å’Œè·¯ç”±å±æ€§çš„è®¾ç½®ç­‰ï¼Œä»è€Œå½±å“æµé‡æ‰€ç»è¿‡çš„è·¯å¾„ï¼Œä¸»è¦é€šè¿‡route-policyå®ç°ï¼Œè®¾å®šåŒ¹é…è§„åˆ™ï¼Œç”±if-matchå’Œapplyå­å¥ç»„æˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªrouting-policyä¸‹å¯ä»¥&lt;strong&gt;æœ‰å¤šä¸ªèŠ‚ç‚¹&lt;/strong&gt;ï¼Œä¸åŒçš„èŠ‚ç‚¹å·ç”¨nodeæ ‡è¯†ï¼Œä¸åŒnodeå„ä¸ªéƒ¨åˆ†ä¹‹é—´çš„å…³ç³»æ˜¯â€œ&lt;strong&gt;æˆ–&lt;/strong&gt;â€çš„å…³ç³»ï¼Œ&lt;strong&gt;æŒ‰ç…§é¡ºåºä¾æ¬¡åŒ¹é…è·¯ç”±ç­–ç•¥çš„èŠ‚ç‚¹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹ä¸‹å¯ä»¥æœ‰&lt;strong&gt;å¤šä¸ªif-matchå’Œapplyå­å¥&lt;/strong&gt;ï¼Œif-matchå­å¥ä¹‹é—´æ˜¯â€œ&lt;strong&gt;ä¸&lt;/strong&gt;â€çš„å…³ç³»&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…è®¸æ¨¡å¼&lt;/strong&gt;ï¼šå½“è·¯ç”±é¡¹æ»¡è¶³è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰if-matchå­å¥æ—¶ï¼Œå°†è¢«å…è®¸é€šè¿‡è¯¥èŠ‚ç‚¹çš„è¿‡æ»¤å¹¶æ‰§è¡Œè¯¥èŠ‚ç‚¹çš„applyå­å¥ï¼Œå¦‚è·¯ç”±é¡¹ä¸æ»¡è¶³è¯¥èŠ‚ç‚¹çš„if-matchå­å¥ï¼Œå°†è¯•å›¾åŒ¹é…è·¯ç”±ç­–ç•¥çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‹’ç»æ¨¡å¼&lt;/strong&gt;ï¼šå½“è·¯ç”±é¡¹æ»¡è¶³è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰if-matchå­å¥æ—¶ï¼Œå°†è¢«æ‹’ç»é€šè¿‡è¯¥èŠ‚ç‚¹çš„è¿‡æ»¤ï¼Œå¹¶ä¸”ä¸ä¼šç»§ç»­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æµ‹è¯•&lt;/li&gt;
&lt;li&gt;if-matchå­å¥&lt;strong&gt;å¯ä»¥å¼•ç”¨å…¶å®ƒçš„è¿‡æ»¤å·¥å…·&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è·¯ç”±ç­–ç•¥åŸç†&#34;&gt;è·¯ç”±ç­–ç•¥åŸç†&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589726738470.png&#34; alt=&#34;è·¯ç”±ç­–ç•¥åŸç†&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;è‡ªæ²»ç³»ç»Ÿè·¯å¾„ä¿¡æ¯è®¿é—®åˆ—è¡¨as-path-filter&#34;&gt;è‡ªæ²»ç³»ç»Ÿè·¯å¾„ä¿¡æ¯è®¿é—®åˆ—è¡¨as-path-filter&lt;/h2&gt;
&lt;p&gt;ä»…ç”¨äºBGPåè®®ï¼ŒåŒ¹é…BGPè·¯ç”±ä¿¡æ¯çš„è‡ªæ²»ç³»ç»Ÿè·¯å¾„åŸŸ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯¥åˆ—è¡¨ç”¨æ¥è¿‡æ»¤BGPçš„as-pathå±æ€§&lt;/li&gt;
&lt;li&gt;as-pathå±æ€§ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥å®šä¹‰ï¼Œä¸¾ä¾‹ï¼š
&lt;ul&gt;
&lt;li&gt;åŒ¹é…æ‰€æœ‰as-pathå±æ€§ï¼šip as-path-filter 10 permit .*&lt;/li&gt;
&lt;li&gt;åŒ¹é…ä»AS100å‘èµ·çš„è·¯ç”±ï¼šip as-path-filter 10 permit _100$&lt;/li&gt;
&lt;li&gt;åŒ¹é…ä»AS200æ¥æ”¶çš„è·¯ç”±ï¼šip as-path-filter 10 permit ^200_&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å›¢ä½“å±æ€§åˆ—è¡¨community-filter&#34;&gt;å›¢ä½“å±æ€§åˆ—è¡¨Community-filter&lt;/h2&gt;
&lt;p&gt;ä»…ç”¨äºBGPåè®®ï¼ŒåŒ¹é…BGPè·¯ç”±ä¿¡æ¯çš„è‡ªæ²»ç³»ç»Ÿå›¢ä½“åŸŸ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å›¢ä½“åˆ—è¡¨ä½¿ç”¨å›¢ä½“å±æ€§è¡¨ç¤ºå’Œè¿‡æ»¤BGPè·¯ç”±&lt;/li&gt;
&lt;li&gt;å›¢ä½“åˆ—è¡¨æœ‰åŸºæœ¬å’Œé«˜çº§ä¸¤ç§
&lt;ul&gt;
&lt;li&gt;åŸºæœ¬å›¢ä½“åˆ—è¡¨ç”¨æ¥åŒ¹é…å®é™…çš„å›¢ä½“å±æ€§å€¼å’Œå¸¸é‡
&lt;ul&gt;
&lt;li&gt;ip community-filter 1 permit 100:1 100:2&lt;/li&gt;
&lt;li&gt;ip community-filter 1 permit 100:1&lt;/li&gt;
&lt;li&gt;ip community-filter 1 permit no-export&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é«˜çº§å›¢ä½“åˆ—è¡¨å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼
&lt;ul&gt;
&lt;li&gt;ip community-filter 100 permit ^10&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç­–ç•¥è·¯ç”±pbr&#34;&gt;ç­–ç•¥è·¯ç”±PBR&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç­–ç•¥è·¯ç”±æ˜¯ä¸€ç§ä¾æ®&lt;strong&gt;ç”¨æˆ·åˆ¶å®šçš„ç­–ç•¥&lt;/strong&gt;è¿›è¡ŒæŠ¥æ–‡è½¬å‘è·¯å¾„é€‰æ‹©çš„æœºåˆ¶ï¼Œä¸å•çº¯ä¾ç…§IPæŠ¥æ–‡çš„ç›®çš„åœ°å€æŸ¥æ‰¾è·¯ç”±è¡¨è¿›è¡Œè½¬å‘ä¸åŒï¼Œå¯åº”ç”¨äºå®‰å…¨ã€QoSã€è´Ÿè½½åˆ†æ‹…ç­‰ç›®çš„&lt;/li&gt;
&lt;li&gt;ç­–ç•¥è·¯ç”±æ”¯æŒåŸºäºACLã€æŠ¥æ–‡é•¿åº¦ç­‰ä¿¡æ¯ï¼Œæ¥çµæ´»åœ°æŒ‡å®šæ•°æ®åŒ…çš„è½¬å‘è·¯å¾„&lt;/li&gt;
&lt;li&gt;åœ¨åä¸ºè®¾å¤‡ä¸Šç­–ç•¥è·¯ç”±å¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ¬åœ°å‘èµ·çš„æµé‡&lt;/strong&gt;ï¼šåœ¨å…¨å±€ä¸‹è°ƒç”¨ï¼Œåªèƒ½å½±å“æºäºæœ¬åœ°çš„æµé‡ï¼Œå³ä»…å¯¹æœ¬æœº&lt;strong&gt;ä¸‹å‘çš„æŠ¥æ–‡&lt;/strong&gt;è¿›è¡Œå¤„ç†ï¼Œå¯¹è½¬å‘çš„æŠ¥æ–‡ä¸èµ·ä½œç”¨ã€‚ä¸€æ¡æœ¬åœ°ç­–ç•¥è·¯ç”±å¯ä»¥é…ç½®å¤šä¸ªç­–ç•¥ç‚¹ï¼Œå¹¶ä¸”è¿™äº›ç­–ç•¥ç‚¹å…·æœ‰ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œæœ¬æœºä¸‹å‘æŠ¥æ–‡ä¼˜å…ˆåŒ¹é…ä¼˜å…ˆçº§é«˜çš„ç­–ç•¥ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;æ¥å£åº”ç”¨çš„æµé‡ï¼šåªå¯¹&lt;strong&gt;è½¬å‘çš„æŠ¥æ–‡&lt;/strong&gt;èµ·ä½œç”¨ï¼Œå¯¹æœ¬åœ°ä¸‹å‘çš„æŠ¥æ–‡ï¼ˆæ¯”å¦‚æœ¬åœ°çš„PingæŠ¥æ–‡ï¼‰ä¸èµ·ä½œç”¨&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½ç­–ç•¥è·¯ç”±ï¼šï¼ˆæ¨¡æ‹Ÿå™¨ä¸æ”¯æŒï¼‰åŸºäº&lt;strong&gt;ä¸šåŠ¡éœ€æ±‚&lt;/strong&gt;çš„ç­–ç•¥è·¯ç”±ï¼Œé€šè¿‡åŒ¹é…&lt;strong&gt;é“¾è·¯è´¨é‡å’Œç½‘ç»œä¸šåŠ¡å¯¹é“¾è·¯è´¨é‡&lt;/strong&gt;çš„éœ€æ±‚ï¼Œå®ç°æ™ºèƒ½é€‰è·¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é…ç½®åŸºäºaclç®€åŒ–çš„ç­–ç•¥è·¯ç”±&#34;&gt;é…ç½®åŸºäºACLç®€åŒ–çš„ç­–ç•¥è·¯ç”±&lt;/h2&gt;
&lt;p&gt;é…ç½®åŸºäºACLç®€åŒ–æµç­–ç•¥çš„ç­–ç•¥è·¯ç”±ï¼Œå°†æŠ¥æ–‡é‡å®šå‘åˆ°æŒ‡å®šè¿œç¨‹ä¸‹ä¸€æ¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;traffic-redirect acl 3001 remote 10.1.30.1 global inbound
# traffic-redirect nexthopå‘½ä»¤ç”¨æ¥å°†æŠ¥æ–‡é‡å®šå‘åˆ°å•ä¸ªä¸‹ä¸€è·³IPåœ°å€çš„åŠ¨ä½œ
# å…¨å±€è°ƒç”¨
traffic-redirect acl 3001 nexthop 10.1.1.1 global inbound 
# æ¥å£ä¸‹è°ƒç”¨
int g0/0/0
traffic-redirect acl 3001 nexthop 10.1.1.1 inbound 
# vlanä¸‹è°ƒç”¨
vlan 100
traffic-redirect acl 3001 nexthop 10.1.1.1 inbound 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€è·¯ç”±å¼•å…¥&#34;&gt;å®éªŒä¸€ï¼šè·¯ç”±å¼•å…¥&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589294149620.png&#34; alt=&#34;è·¯ç”±å¼•å…¥&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
sys
sys AR1
int lo 0
int 1.1.1.1 32
int g0/0/0
ip addr 12.1.1.1 24
int g0/0/1
ip addr 15.1.1.1 24
int g0/0/2
ip addr 16.1.1.1 24
q 
router-id 1.1.1.1
ospf 10
net 1.1.1.1 0.0.0.0
net 12.1.1.1 0.0.0.0
int g0/0/0
ospf nework-type p2p
q
rip
version 2
undo summary
net 1.0.0.0
net 15.0.0.0
q
isis
net 47.0167.111111111111.00
int g0/0/2
isis enable
int lo 0
isis enable
q
rip 
import-route ospf 10
q
isis
import-route rip
# AR2
sys
sys AR2
int lo 0
int 2.2.2.2 32
int g0/0/1
ip addr 12.1.1.2 24
int g0/0/0
ip addr 192.168.10.2 24
q 
router-id 2.2.2.2
ospf 10
net 2.2.2.2 0.0.0.0
net 12.1.1.2 0.0.0.0
net 192.168.10.2 0.0.0.0
int g0/0/0
ospf nework-type p2mp
int g0/0/1
ospf nework-type p2p
# AR3
sys
sys AR3
int lo 0
int 3.3.3.3 32
int g0/0/0
ip addr 192.168.10.3 24
q 
router-id 3.3.3.3
ospf 10
net 3.3.3.3 0.0.0.0
net 192.168.10.3 0.0.0.0
int g0/0/0
ospf nework-type p2mp
# AR4
sys
sys AR4
int lo 0
int 4.4.4.4 32
int g0/0/0
ip addr 192.168.10.4 24
q 
router-id 4.4.4.4
ospf 10
net 4.4.4.4 0.0.0.0
net 192.168.10.4 0.0.0.0
int g0/0/0
ospf nework-type p2mp
# AR5
sys
sys AR5
int lo 0
ip addr 5.5.5.5 32
int lo 10
ip addr 50.50.50.50 32
int g0/0/0
ip addr 15.1.1.5 24
rip
version 2
undo summary
net 5.0.0.0
net 15.0.0.0
net 50.0.0.0
# AR6
sys
sys AR6
int lo 0
int 6.6.6.6 32
int g0/0/0
ip addr 16.1.1.6 24
int g0/0/1
ip addr 67.1.1.6 24
isis
is-level level-2
net 47.0167.666666666666.00
int lo 0
isis enable
int g0/0/0
isis enable
int g0/0/1
isis enable
# AR7
sys
sys AR6
int lo 0
int 7.7.7.7 32
int g0/0/0
ip addr 67.1.1.7 24
isis
is-level level-2
net 47.0167.777777777777.00
int lo 0
isis enable
int g0/0/0
isis enable
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒpbr&#34;&gt;å®éªŒäºŒï¼šPBR&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589730617402.png&#34; alt=&#34;PBR&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ........................é¢„é…ç½®
# AR1
sys
sys AR1
int g0/0/2 
ip addr 192.168.10.254 24
int g2/0/0
ip addr 192.168.20.254 24
int g0/0/0
ip addr 12.1.1.1 24
int g0/0/1
ip addr 13.1.1.1 24
ospf 10 route 1.1.1.1
net 12.1.1.1 0
net 13.1.1.1 0
net 192.168.10.0 0.0.0.255
net 192.168.20.0 0.0.0.255
silent-interface g0/0/2
silent-interface g2/0/0
# AR2
sys
sys AR2
int g0/0/0
ip addr 12.1.1.2 24
int g0/0/1
ip addr 24.1.1.2 24
ospf 10 route 2.2.2.2
net 12.1.1.2 0
net 24.1.1.2 0
# AR3
sys
sys AR3
int g0/0/0
ip addr 13.1.1.3 24
int g0/0/1
ip addr 34.1.1.3 24
ospf 10 route 3.3.3.3
net 13.1.1.3 0
net 34.1.1.3 0
# AR4
sys
sys AR4
int g0/0/0
ip addr 24.1.1.4 24
int g0/0/1
ip addr 34.1.1.4 24
int g0/0/1
ip addr 45.1.1.4 24
ospf 10 route 4.4.4.4
net 24.1.1.4 0
net 34.1.1.4 0
net 45.1.1.4 0
# AR5
sys
sys AR5
int lo 0
ip addr 5.5.5.5 32
int g0/0/0
ip addr 45.1.1.5 24
ospf 10 route 5.5.5.5
net 5.5.5.5 0
net 45.1.1.5 0
# AR7
sys
sys AR7
int g0/0/0
ip addr 192.168.10.20 24
q
ip route-static 0.0.0.0 0 192.168.10.254
# AR8
sys
sys AR8
int g0/0/0
ip addr 192.168.20.10 24
q
ip route-static 0.0.0.0 0 192.168.20.254
# PC1 
192.168.10.10/24,192.168.10.254
# PC2
192.168.20.20/24,192.168.20.254
# ..................................åŸºäºæœ¬åœ°çš„ç­–ç•¥è·¯ç”±
# è¦æ±‚ï¼š
# ç¯å›å£10-10.10.10.11çš„æµé‡èµ°AR2ï¼›ç¯å›å£11-10.10.10.12çš„æµé‡èµ°AR3
# AR1
int lo 10
ip addr 10.10.10.11 32
ospf  en area 0
int lo 11
ip addr 10.10.10.12 32
ospf  en area 0
q

acl 2001
rule permit source 10.10.10.11 0
acl 2002
rule permit source 10.10.10.12 0
policy-based-route PBR permit node 10
if-match acl 2001
apply ip-address next-hop 12.1.1.2
policy-based-route PBR permit node 20
if-match acl 2002
apply ip-address next-hop 13.1.1.3
q

ip local policy-based-route PBR  # åœ¨å…¨å±€ä¸‹ï¼Œæœ¬åœ°ç­–ç•¥è·¯ç”±çš„è°ƒç”¨

# æµ‹è¯•
tracert -a 10.10.10.11 5.5.5.5
tracert -a 10.10.10.12 5.5.5.5
# ..................................åŸºäºæ¥å£çš„ç­–ç•¥è·¯ç”±
# è¦æ±‚ï¼š
# PC1å’ŒAR8çš„æµé‡èµ°AR2ï¼›PC2å’ŒAR7çš„æµé‡èµ°AR3
# AR1
acl 2003
rule permit source  192.168.10.10 0
rule permit source  192.168.20.10 0
acl 2004
rule permit source  192.168.10.20 0
rule permit source  192.168.20.20 0
q
traffic classifier C1    # å®šä¹‰æµé‡åˆ†ç±»
if-match acl 2003
traffic classifier C2
if-match acl 2004
traffic behavior B1   # å®šä¹‰æµé‡è¡Œä¸º
redirect ip-nexthop 12.1.1.2
traffic behavior B2
redirect ip-nexthop 13.1.1.3
traffic policy PBR_10  # è¿›è¡Œæµé‡å’Œè¡Œä¸ºçš„å…³è”
classifier C1 behavior B1
classifier C2 behavior B2
int g0/0/2       # åœ¨æ¥å£ä¸Šè°ƒç”¨
traffic-policy PBR_10 inbound
int g2/0/0
traffic-policy PBR_10 inbound
# æŸ¥çœ‹
# AR1
dis traffic-policy applied-record
# æµ‹è¯•
# AR7/8
tracert 5.5.5.5
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰é˜²ç«å¢™ç­–ç•¥è·¯ç”±&#34;&gt;å®éªŒä¸‰ï¼šé˜²ç«å¢™+ç­–ç•¥è·¯ç”±&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589734337729.png&#34; alt=&#34;é˜²ç«å¢™+ç­–ç•¥è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#................................åˆå§‹åŒ–é…ç½®
# AR1
sys
sys AR1
int g0/0/1
ip addr 172.16.1.1 24
int g0/0/0
ip addr 10.1.1.1 24
ip route-static 192.168.10.0 24 10.1.1.2
# AR-Border
sys
sys Border
int g0/0/0
ip addr 10.1.1.2 24
int g0/0/1
ip addr 12.1.1.1 24
int g0/0/2
ip addr 21.1.1.1 24
int g2/0/0
ip addr 192.168.10.1 24
q
ip route-static 0.0.0.0 0 10.1.1.1
# FW1
admin
admin@123
# ä¿®æ”¹å¯†ç ä¸ºhuawei@123
sys
sys FW
int g1/0/0
ip addr 12.1.1.2 24
service-manage ping permit # æ”¾è¡Œpingæµé‡
int g1/0/1
ip addr 21.1.1.2 24
service-manage ping permit
q
firewall zone trust # å°†æ¥å£åŠ å…¥ä¿¡ä»»åŒºåŸŸï¼ˆzoneï¼‰
add int g1/0/1
q
firewall zone untrust  # å°†æ¥å£åŠ å…¥ä¸ä¿¡ä»»åŒºåŸŸï¼ˆzoneï¼‰
add int g1/0/0
q
ip route-static 0.0.0.0 0 21.1.1.1 # é…ç½®é»˜è®¤è·¯ç”±
security-policy # é…ç½®å®‰å…¨ç­–ç•¥
rule name Permit_http_icmp_ftp
source-zone untrust
destination-zone trust
source-address 172.16.1.0 24
destination-address 192.168.10.0 24
action permit

# ç­–ç•¥è·¯ç”±ï¼Œä½¿ç”¨é˜²ç«å¢™
# AR-Border
acl 3001
rule permit tcp destination 192.168.10.0 0.0.0.255 destination-port eq ftp
rule permit tcp destination 192.168.10.0 0.0.0.255 destination-port eq www
rule permit tcp destination 192.168.10.0 0.0.0.255 destination-port eq telnet
rule permit icmp destination 192.168.10.10 0
q
traffic classifier C1
if-match acl 3001
q
traffic behavior B1
redirect ip-nexthop 12.1.1.2 
q
traffic policy P1
classifier C1 behavior B1
int g0/0/0
traffic-policy P1 inbound
&lt;/code&gt;&lt;/pre&gt;
">04 è·¯ç”±ç­–ç•¥ï¼ˆ2020.0511ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/02-isis20200503/"" data-c="
          &lt;h1 id=&#34;isisåŸç†&#34;&gt;ISISåŸç†&lt;/h1&gt;
&lt;h2 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ISISçš„æ„æ€æ˜¯æ ‡è¯†ä¸­é—´ç³»ç»Ÿåˆ°ä¸­é—´ç³»ç»Ÿï¼Œæ˜¯ä¸ºISO&lt;strong&gt;æ— è¿æ¥ç½‘ç»œ&lt;/strong&gt;åè®®è®¾è®¡çš„&lt;strong&gt;è·¯ç”±é€‰æ‹©åè®®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ISISåè®®çš„æ—¶é—´å’ŒOSPFå‘å¸ƒçš„æ—¶é—´åŸºæœ¬åŒä¸€æ—¶é—´ï¼Œéƒ½åŸºäº&lt;strong&gt;é“¾è·¯çŠ¶æ€&lt;/strong&gt;å¹¶ä½¿ç”¨&lt;strong&gt;æœ€çŸ­è·¯å¾„ä¼˜å…ˆç®—æ³•&lt;/strong&gt;è¿›è¡Œè·¯ç”±è®¡ç®—çš„ä¸€ç§IGPåè®®&lt;/li&gt;
&lt;li&gt;ISISç°åœ¨æ›´å¤šçš„ä½œä¸º&lt;strong&gt;æœåŠ¡åº”ç”¨å•†ç½‘ç»œçš„IGPçš„å±‚é¢&lt;/strong&gt;ï¼ˆåä¸ºè®¾å¤‡ä¼˜å…ˆçº§ä¸º15ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ºäº†æä¾›å¯¹IPçš„è·¯ç”±æ”¯æŒï¼ŒIETFåœ¨RFC1195ä¸­å¯¹ISISè¿›è¡Œäº†æ‰©å……å’Œä¿®æ”¹ï¼Œç›®å‰åœ¨&lt;strong&gt;å¤§å‹çš„ISPç½‘ç»œä¸­è¢«å¹¿æ³›çš„éƒ¨ç½²&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ISISæ˜¯ä¸€ä¸ª&lt;strong&gt;æ‰å¹³åŒ–&lt;/strong&gt;çš„å±‚æ¬¡ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å†å²&#34;&gt;å†å²&lt;/h3&gt;
&lt;p&gt;ISISæ˜¯ISOå®šä¹‰çš„OSIåè®®æ ˆä¸­æ— è¿æ¥ç½‘ç»œæœåŠ¡CLNSçš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåŠ¨æ€è·¯ç”±æ•°æ®åŒ…ã€‚CLNSç”±ä»¥ä¸‹3ä¸ªåè®®æ„æˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CLNPï¼šç±»ä¼¼TCP/IPä¸­çš„IPåè®®ï¼ŒCLNPä¸ºOSIçš„ä¼ è¾“å±‚æœåŠ¡&lt;/li&gt;
&lt;li&gt;ISISï¼šä¸­é—´ç³»ç»Ÿï¼ˆè·¯ç”±å™¨ï¼‰é—´çš„è·¯ç”±åè®®ï¼Œç±»ä¼¼äºIPä¸­çš„OSPF&lt;/li&gt;
&lt;li&gt;ESISï¼šä¸»æœºç³»ç»Ÿä¸ä¸­é—´ç³»ç»Ÿé—´çš„åè®®ï¼Œå°±åƒIPä¸­çš„ARPç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åœºæ™¯åº”ç”¨&#34;&gt;åœºæ™¯åº”ç”¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å›­åŒºç½‘ç‰¹ç‚¹ï¼š&lt;code&gt;åŒºåŸŸå¤šæ ·ã€ç­–ç•¥å¤šå˜ã€è°ƒåº¦ç²¾ç»†ï¼Œä½¿ç”¨OSPF&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;åº”ç”¨å‹ç½‘ç»œï¼Œä¸»è¦é¢å‘ä¼ä¸šç½‘ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨æ•°é‡åå°‘ï¼ŒåŠ¨æ€è·¯ç”±çš„LSDBåº“å®¹é‡ç›¸å¯¹åå°‘ï¼Œä¸‰å±‚è·¯ç”±åŸŸç›¸å¯¹åå°‘ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰å‡ºå£è·¯ç”±çš„æ¦‚å¿µï¼Œå¯¹å†…éƒ¨å¤–éƒ¨è·¯ç”±åˆ’åˆ†æ•æ„Ÿã€‚&lt;/li&gt;
&lt;li&gt;åœ°åŸŸæ€§è·¨åº¦ä¸å¤§ï¼Œå¸¦å®½å……è¶³ï¼Œé“¾è·¯çŠ¶æ€åè®®å¼€é”€å¯¹å¸¦å®½å ç”¨æ¯”åå°‘ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±ç­–ç•¥å’Œç­–ç•¥è·¯ç”±åº”ç”¨é¢‘ç¹å¤šå˜ï¼Œéœ€è¦ç²¾ç»†åŒ–çš„è·¯ç”±æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;OSPFçš„å¤šè·¯ç”±ç±»å‹ï¼ˆå†…éƒ¨/å¤–éƒ¨ï¼‰ï¼Œå¤šåŒºåŸŸç±»å‹ï¼ˆéª¨å¹²/æ™®é€š/ç‰¹æ®Šï¼‰ï¼Œå¼€é”€è§„åˆ™ä¼˜è‰¯ï¼ˆæ ¹æ®å¸¦å®½è®¾å®šï¼‰ï¼Œç½‘ç»œç±»å‹å¤šæ ·ï¼ˆæœ€å¤šäº”ç§ç±»å‹ï¼‰çš„ç‰¹ç‚¹åœ¨å›­åŒºç½‘å¾—åˆ°äº†æå¤§çš„å‘æŒ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éª¨å¹²ç½‘ç‰¹ç‚¹ï¼š&lt;code&gt;åŒºåŸŸæ‰å¹³ã€æ”¶æ•›æå¿«ã€æ‰¿è½½åºå¤§ï¼Œä½¿ç”¨ISIS+BGP&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å‹ç½‘ç»œï¼Œç”±ISPï¼ˆäº’è”ç½‘æœåŠ¡æä¾›å•†ï¼‰ç»„å»ºï¼Œå¹¶ä¸ºç»ˆç«¯ç”¨æˆ·æä¾›äº’è”æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±è°ƒåº¦å æ®ç»å¯¹ç»Ÿæ²»åœ°ä½ï¼Œè·¯ç”±å™¨æ•°é‡åºå¤§ã€‚&lt;/li&gt;
&lt;li&gt;æ¶æ„å±‚é¢&lt;strong&gt;æ‰å¹³åŒ–&lt;/strong&gt;ï¼Œè¦æ±‚IGPä½œä¸ºåŸºç¡€è·¯ç”±ä¸ºä¸Šå±‚BGPåè®®æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;LSDBè§„æ¨¡å®å¤§ï¼Œå¯¹é“¾è·¯æ”¶æ•›æåº¦æ•æ„Ÿï¼Œçº¿è·¯è´¹ç”¨é«˜æ˜‚ã€‚&lt;/li&gt;
&lt;li&gt;è¿½æ±‚ç®€å•é«˜æ•ˆï¼Œæ‰©å±•æ€§é«˜ï¼Œæ»¡è¶³å„ç§å®¢æˆ·ä¸šåŠ¡éœ€æ±‚ï¼ˆIPV6/IPXï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;IS-ISçš„å¿«é€Ÿç®—æ³•ï¼ˆPRCå¾—åˆ°åŠ å¼ºï¼‰ï¼Œç®€ä¾¿æŠ¥æ–‡ç»“æ„ï¼ˆTLVï¼‰ï¼Œå¿«é€Ÿé‚»å±…å…³ç³»å»ºç«‹ï¼Œå¤§å®¹é‡è·¯ç”±ä¼ é€’ï¼ˆåŸºäºäºŒå±‚å¼€é”€ä½ï¼‰ç­‰ä¸€ç³»åˆ—ç‰¹ç‚¹åœ¨éª¨å¹²ç½‘æœ‰ç€å¤©ç„¶çš„ä¼˜åŠ¿ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ospfå’Œisisçš„å…±åŒç‰¹å¾&#34;&gt;OSPFå’ŒISISçš„å…±åŒç‰¹å¾&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç»´æŠ¤ä¸€ä¸ªé“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼ŒåŸºäºSPFç®—æ³•&lt;/li&gt;
&lt;li&gt;éƒ½åˆ©ç”¨helloåŒ…å½¢æˆå’Œç»´æŠ¤é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åŒºåŸŸçš„æ¦‚å¿µæ¥æ„æˆå±‚æ¬¡åŒ–çš„æ‹“æ‰‘ç»“æ„&lt;/li&gt;
&lt;li&gt;éƒ½æä¾›åœ¨åŒºåŸŸé—´è¿›è¡Œåœ°å€æ±‡æ€»çš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;æ— ç±»è·¯ç”±åè®®&lt;/li&gt;
&lt;li&gt;éƒ½é€‰ä¸¾ä¸€ä¸ªæŒ‡å®šè·¯ç”±å™¨æ¥æè¿°å¹¿æ’­æ€§ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;è®¤è¯èƒ½åŠ›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ospfå’Œisisçš„å·®å¼‚&#34;&gt;OSPFå’ŒISISçš„å·®å¼‚&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å·®å¼‚æ€§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ISIS&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;OSPF&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œæ–¹å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°‘ï¼Œ2ç§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤šï¼Œ5ç§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼€é”€æ–¹å¼&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤æ‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç®€ä¾¿ï¼Œå‚è€ƒå¸¦å®½100M&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°‘ï¼Œ2ç§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤š&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±æŠ¥æ–‡ç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç®€å•&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤šæ ·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±æ”¶æ•›é€Ÿåº¦&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¾ˆå¿«&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¿«&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰©å±•æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸€èˆ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±è´Ÿè½½èƒ½åŠ›&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¶…å¼º&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼º&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œç±»å‹å’Œå¼€é”€æ–¹å¼ï¼š&lt;br&gt;
IS-ISåè®®åªæ”¯æŒä¸¤ç§ç½‘ç»œç±»å‹ï¼Œä¸”æ‰€æœ‰å¸¦å®½é»˜è®¤å¼€é”€å€¼éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒOSPFåè®®æ”¯æŒå››ç§ç½‘ç»œç±»å‹ï¼Œä¸”ä¼šæ ¹æ®ä¸åŒçš„å¸¦å®½è®¾å®šç›¸åº”çš„å¼€é”€å€¼ï¼Œå¯¹å¸§ä¸­ç»§ï¼ŒæŒ‰éœ€é“¾è·¯ç­‰ç½‘ç»œç±»å‹æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;åŒºåŸŸç±»å‹ï¼š&lt;br&gt;
IS-ISåè®®åˆ†L1/L2åŒºåŸŸï¼ŒL2åŒºåŸŸæ˜¯éª¨å¹²åŒºåŸŸæœ‰å…¨éƒ¨æ˜ç»†è·¯ç”±ã€‚L1å»å¾€L2åªæœ‰é»˜è®¤è·¯ç”±ã€‚OSPFåè®®åˆ†éª¨å¹²åŒºåŸŸï¼Œæ™®é€šåŒºåŸŸï¼Œç‰¹æ®ŠåŒºåŸŸã€‚æ™®é€šåŒºåŸŸå’Œç‰¹æ®ŠåŒºåŸŸè·¨åŒºåŸŸè®¿é—®éœ€è¦ç»è¿‡éª¨å¹²åŒºåŸŸã€‚&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ç±»å‹ï¼š&lt;br&gt;
IS-ISåè®®è·¯ç”±æ‰¿è½½æŠ¥æ–‡ç±»å‹åªæœ‰LSPæŠ¥æ–‡ä¸”é‡Œé¢è·¯ç”±ä¿¡æ¯æ˜¯ä¸åŒºåˆ†å†…éƒ¨ä¸å¤–éƒ¨çš„ï¼Œç®€å•é«˜æ•ˆï¼Œæ— éœ€é€’å½’è®¡ç®—ã€‚OSPFåè®®è·¯ç”±æ‰¿è½½æŠ¥æ–‡LSAç±»å‹å¤šæ ·ï¼Œæœ‰1/2/3/4/5/7ç±»ç­‰ã€‚è·¯ç”±çº§åˆ«ç­‰çº§æ£®ä¸¥ï¼Œä¸”éœ€è¦é€’å½’è®¡ç®—ï¼Œé€‚åˆç²¾ç»†åŒ–è°ƒåº¦è®¡ç®—ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±ç®—æ³•ï¼š&lt;br&gt;
ISISåè®®åŒºåŸŸå†…æŸä¸ªèŠ‚ç‚¹ä¸Šçš„ç½‘æ®µå‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘çš„æ˜¯PRCç®—æ³•ï¼Œæ”¶æ•›æ¯”è¾ƒå¿«ï¼Œè®¡ç®—è·¯ç”±çš„æŠ¥æ–‡å¼€é”€ä¹Ÿæ¯”è¾ƒå°ã€‚OSPFåè®®ç”±äºç½‘ç»œåœ°å€å‚ä¸äº†æ‹“æ‰‘çš„æ„å»ºï¼Œåœ¨åŒºåŸŸå†…å½“ç½‘æ®µåœ°å€æ”¹å˜è§¦å‘çš„æ˜¯i-spfç®—æ³•ï¼Œç›¸å¯¹æ¥è¯´è¿‡ç¨‹ç¹çå¤æ‚äº›ã€‚&lt;/li&gt;
&lt;li&gt;æ‰©å±•æ€§ï¼š&lt;br&gt;
ISISåè®®ä»»ä½•è·¯ç”±ä¿¡æ¯éƒ½ä½¿ç”¨TLVä¼ é€’ï¼Œç»“æ„ç®€å•ï¼Œæ˜“äºæ‰©å±•ï¼Œå¦‚å¯¹IPv6çš„æ”¯æŒåªå¢åŠ 2ä¸ªTLVå°±è§£å†³äº†ã€‚ä¸”ISISæœ¬èº«å¯¹IPXç­‰åè®®æ˜¯æ”¯æŒçš„ã€‚OSPFåè®®æœ¬èº«æ˜¯ä¸ºIPç‰¹å®šå¼€å‘çš„ï¼Œæ”¯æŒIPv4å’ŒIPv6çš„OSPFåè®®æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„ç‰ˆæœ¬ï¼ˆOSPFv2å’ŒOSPFv3ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é‚»å±…å…³ç³»å»ºç«‹ï¼š&lt;br&gt;
é‚»å±…å…³ç³»å»ºç«‹ä¸»è¦æ˜¯é€šè¿‡HELLOåŒ…äº¤äº’å¹¶åå•†å„ç§å‚æ•°ï¼ŒåŒ…æ‹¬ç”µè·¯ç±»å‹ï¼ˆlevel-1/level-2ï¼‰ï¼ŒHold timeï¼Œç½‘ç»œç±»å‹ï¼Œæ”¯æŒåè®®ï¼ŒåŒºåŸŸå·ï¼Œç³»ç»ŸIDï¼ŒPDUé•¿åº¦ï¼Œæ¥å£IPç­‰ã€‚&lt;/li&gt;
&lt;li&gt;é“¾è·¯ä¿¡æ¯äº¤æ¢ï¼š&lt;br&gt;
ä¸OSPFä¸åŒï¼ŒISISäº¤äº’é“¾è·¯çŠ¶æ€çš„åŸºæœ¬è½½ä½“ä¸æ˜¯LSAï¼ˆlink state advertisementï¼‰ï¼Œè€Œæ˜¯LSPï¼ˆlink state PDUï¼‰ï¼›äº¤äº’çš„è¿‡ç¨‹æ²¡æœ‰OSPFåè®®é‚£æ ·ç»å†äº†å¤šä¸ªé˜¶æ®µï¼Œä¸»è¦æ˜¯é€šè¿‡CSNPå’ŒPSNPä¸¤ç§åè®®æŠ¥æ–‡æ¥åŒæ­¥ï¼Œè¯·æ±‚ä»¥åŠç¡®è®¤é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼ˆæ‰¿è½½çš„æ˜¯é“¾è·¯çŠ¶æ€ä¿¡æ¯æ‘˜è¦ï¼‰ï¼Œè€Œé“¾è·¯çŠ¶æ€ä¿¡æ¯çš„è¯¦ç»†æ‹“æ‰‘å’Œè·¯ç”±ä¿¡æ¯æ˜¯ç”±LSPæŠ¥æ–‡ä¼ é€’ã€‚&lt;/li&gt;
&lt;li&gt;è·¯ç”±è®¡ç®—ï¼š&lt;br&gt;
SPFè®¡ç®—å’ŒOSPFåŸºæœ¬ä¸€æ ·çš„ï¼Œä½†ISISç®—æ³•åˆ†ç¦»äº†æ‹“æ‰‘ç»“æ„å’ŒIPç½‘æ®µï¼ŒåŠ å¿«äº†ç½‘ç»œæ”¶æ•›é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isisåœ°å€ç»“æ„&#34;&gt;ISISåœ°å€ç»“æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NSAPæ˜¯OSIåè®®ä¸­ç”¨äºå®šä½èµ„æºçš„åœ°å€ï¼Œç›¸å½“äºOSIçš„ç½‘ç»œå±‚åè®®CLNPçš„åœ°å€ï¼ˆç±»ä¼¼IPåœ°å€çš„æ¦‚å¿µï¼‰
&lt;ul&gt;
&lt;li&gt;ç”±IDPå’ŒDSPç»„æˆï¼ŒIDPå’ŒDSPçš„é•¿åº¦éƒ½æ˜¯å¯å˜çš„ï¼ŒNSAPæ€»é•¿åº¦æœ€å¤šæ˜¯20å­—èŠ‚ï¼Œæœ€å°‘æ˜¯8å­—èŠ‚
&lt;ul&gt;
&lt;li&gt;IDPç›¸å½“äºIPåœ°å€ä¸­çš„ä¸»ç½‘ç»œå·ï¼Œæ˜¯ç”±ISOè§„å®šçš„ï¼Œç”±AFIçš„IDIä¸¤éƒ¨åˆ†ç»„æˆï¼Œ&lt;strong&gt;AFIè¡¨ç¤ºåœ°å€åˆ†é…æœºæ„å’Œåœ°å€æ ¼å¼(é•¿åº¦å›ºå®šä¸º1B)&lt;/strong&gt;ï¼ŒIDIç”¨æ¥æ ‡è¯†åŸŸ&lt;/li&gt;
&lt;li&gt;DSPç›¸å½“äºIPåœ°å€ä¸­çš„å­ç½‘å·å’Œä¸»æœºåœ°å€ï¼Œç”±HighOrderDSPã€SystemIDã€SELä¸‰éƒ¨åˆ†ç»„æˆï¼ŒHighOrderDSPç”¨æ¥åˆ†å‰²åŒºåŸŸï¼ŒSystemIDç”¨æ¥åŒºåˆ†ä¸»å¥ï¼ŒSELç”¨æ¥æŒ‡ç¤ºæœåŠ¡ç±»å‹
&lt;ul&gt;
&lt;li&gt;AreaAddress(AreaID)ç”±IDPå’ŒDSPä¸­çš„HighOrderDSPç»„æˆï¼Œæ—¢èƒ½å¤Ÿæ ‡è¯†è·¯ç”±åŸŸï¼Œä¹Ÿèƒ½å¤Ÿæ ‡è¯†è·¯ç”±åŸŸä¸­çš„åŒºåŸŸï¼Œå®ƒä»¬ä¸€èµ·è¢«ç§°ä¸ºåŒºåŸŸåœ°è´¨ï¼Œç±»ä¼¼OSPFä¸­çš„åŒºåŸŸç¼–å·AreaIDï¼ŒåŒä¸€Level1åŒºåŸŸå†…çš„æ‰€æœ‰è·¯ç”±å™¨å¿…é¡»å…·æœ‰ç›¸åŒçš„åŒºåŸŸåœ°å€ï¼ŒLevel2åŒºåŸŸå†…çš„è·¯ç”±å™¨å¯ä»¥å…·æœ‰ä¸åŒçš„åŒºåŸŸåœ°å€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SystemID&lt;/strong&gt;ç”¨æ¥åœ¨åŒºåŸŸå†…å”¯ä¸€æ ‡è¯†ä¸»æœºæˆ–è·¯ç”±å™¨ï¼Œåœ¨è®¾å¤‡çš„å®ç°ä¸­ï¼Œå®ƒçš„&lt;strong&gt;é•¿åº¦å›ºå®šä¸º48bit(6å­—èŠ‚)&lt;/strong&gt;ï¼Œä¸€èˆ¬æƒ…å†µå…ˆï¼Œä½¿ç”¨è®¾å¤‡çš„RouterIDè½¬æ¢ä¸ºSystemID&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SEL&lt;/strong&gt;çš„ä½œç”¨ç±»ä¼¼äºIPä¸­çš„â€œåè®®æ ‡è¯†ç¬¦â€ï¼Œä¸åŒçš„ä¼ è¾“åè®®å¯¹åº”ä¸åŒçš„SELï¼Œåœ¨IPä¸ŠSELå‡ä¸º00ï¼Œ&lt;strong&gt;é•¿åº¦å›ºå®šä¸º1B(8bit)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;NETæ˜¯ä¸€ç±»ç‰¹æ®Šçš„NSAPï¼ˆSEL=00ï¼‰ï¼Œåœ¨è·¯ç”±å™¨ä¸Šé…ç½®ISISæ—¶ï¼Œåªéœ€è¦è€ƒè™‘NETå³å¯
&lt;ul&gt;
&lt;li&gt;ç½‘ç»œå®ä½“åç§°NETæŒ‡çš„æ˜¯è®¾å¤‡æœ¬èº«çš„ç½‘ç»œå±‚çš„æ„æ€ï¼Œå¯ä»¥çœ‹åšæ˜¯ä¸€ç±»ç‰¹æ®Šçš„NSAPï¼ˆSEL=00ï¼‰,NETçš„é•¿åº¦ä¸NSAPç›¸åŒï¼Œæœ€å¤šä¸º20å­—èŠ‚ï¼Œæœ€å°‘ä¸º8å­—èŠ‚ï¼Œ&lt;strong&gt;åœ¨è·¯ç”±å™¨ä¸Šé…ç½®ISISæ—¶ï¼Œåªéœ€è¦è€ƒè™‘NETå³å¯ï¼ŒNSAPä¸å¿…å»å…³æ³¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åœ¨é…ç½®ISISè¿‡ç¨‹ä¸­ï¼ŒNETæœ€å¤šåªèƒ½é…ç½®3ä¸ªï¼Œåœ¨é…ç½®å¤šä¸ªNETæ—¶ï¼Œå¿…é¡»ä¿è¯ä»–ä»¬çš„SystemIDéƒ½ç›¸åŒ&lt;br&gt;
&lt;code&gt;æ²¡æœ‰NETåœ°å€ISISæ— æ³•è¿è¡Œï¼Œè¯¥åœ°å€åŒ…å«äº†åŒºåŸŸIDå’Œç³»ç»ŸIDï¼Œè€Œä»–æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªISOåœ°å€ï¼Œæœ€åçš„SELç­‰åŒäºTCPçš„ç«¯å£å·ï¼Œæ°¸è¿œç­‰äº00&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;TCP/IPåè®®æ ˆ&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;IPåè®®&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;IPåœ°å€&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;OSPF&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;AreaID+RouterID&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;OSIç³»ç»Ÿ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;CLNPåè®®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSAPåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ISIS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NETæ ‡è¯†ç¬¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588665973437.png&#34; alt=&#34;ISISåœ°å€ç»“æ„&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æœ€çŸ­é•¿åº¦8Bï¼š1Bçš„AFI + 6Bçš„SystemID + 1Bçš„SEL&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588667599284.png&#34; alt=&#34;ISISåœ°å€ä¾‹å­&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ç”¨ISISåšç½‘ç»œè®¾è®¡éœ€è¦æ³¨æ„ï¼šä¿è¯L2è·¯ç”±å™¨è¿ç»­&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588776831130.png&#34; alt=&#34;æœ¯è¯­å¯¹ç…§è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…³äºsystemid&#34;&gt;å…³äºSystemID&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªä¸­é—´ç³»ç»Ÿï¼ˆè·¯ç”±å™¨ï¼‰è‡³å°‘æœ‰ä¸€ä¸ªNETï¼Œ&lt;strong&gt;åä¸ºè®¾å¤‡æœ€å¤šæ”¯æŒ3ä¸ª&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;åŒä¸€ä¸ªAreaçš„ä¸­é—´ç³»ç»Ÿå¿…é¡»æœ‰ç›¸åŒçš„AreaIDï¼ˆLevel1å¿…é¡»ä¸€æ ·ï¼ŒLevel2å¯ä»¥ä¸ä¸€æ ·ï¼‰&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªä¸­é—´ç³»ç»Ÿåœ¨&lt;strong&gt;ä¸€ä¸ªAreaä¸­å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„SystemID&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªdomainä¸­çš„ä¸¤ä¸ªLevel2ä¸­é—´ç³»ç»Ÿä¸èƒ½æœ‰ç›¸åŒçš„SystemID&lt;/li&gt;
&lt;li&gt;NSAPè‡³å°‘ä¸º8å­—èŠ‚ï¼Œæœ€å¤šä¸º20ä¸ªå­—èŠ‚&lt;/li&gt;
&lt;li&gt;å¯¹äºä¼ ç»ŸIPåº”ç”¨ç¨‹åºè€Œè¨€ï¼Œ1å­—èŠ‚å®šä¹‰AFIï¼ˆæ ‡è¯†äºŒè¿›åˆ¶DSPè¯­æ³•çš„åœ°å€åŸŸï¼‰ï¼Œæœ€å°‘2å­—èŠ‚å®šä¹‰å®é™…åŒºåŸŸä¿¡æ¯ï¼ˆIDI+HighOrder+DSPï¼‰ï¼Œ6å­—èŠ‚å®šä¹‰ç³»ç»ŸIDå’Œ1å­—èŠ‚çš„NSELï¼Œæ•…NSAPåœ°å€æœ€å°‘ä¸º10å­—èŠ‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isisæ•´ä½“æ‹“æ‰‘&#34;&gt;ISISæ•´ä½“æ‹“æ‰‘&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588690827975.png&#34; alt=&#34;ISISæ•´ä½“æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å°†&lt;strong&gt;Level-1è·¯ç”±å™¨éƒ¨ç½²åœ¨ééª¨å¹²åŒºåŸŸ&lt;/strong&gt;ï¼Œ&lt;strong&gt;Level-2è·¯ç”±å™¨å’ŒLevel-1-2ï¼ˆç±»ä¼¼ABRï¼ŒISISé»˜è®¤è®¾ç½®ï¼‰è·¯ç”±å™¨éƒ¨ç½²åœ¨éª¨å¹²åŒºåŸŸ&lt;/strong&gt;ã€‚&lt;strong&gt;æ¯ä¸€ä¸ªééª¨å¹²åŒºåŸŸéƒ½é€šè¿‡Level-1-2è·¯ç”±å™¨ä¸éª¨å¹²åŒºåŸŸç›¸è¿&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨OSPFä¸­ï¼Œæ¯ä¸ªé“¾è·¯åªå±äºä¸€ä¸ªåŒºåŸŸï¼›è€Œåœ¨IS-ISä¸­ï¼Œæ¯ä¸ªé“¾è·¯å¯ä»¥å±äºä¸åŒçš„åŒºåŸŸ&lt;code&gt;OSPFåŸºäºæ¥å£ï¼Œå³ä¸€ä¸ªè®¾å¤‡ä¸Šçš„å¤šä¸ªæ¥å£å¯ä»¥å±äºä¸åŒçš„Areaï¼›ISISåŸºäºè®¾å¤‡ï¼Œå³ä¸€ä¸ªè®¾å¤‡åªèƒ½å±äºä¸€ä¸ªLevel&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨IS-ISä¸­ï¼Œå•ä¸ªåŒºåŸŸæ²¡æœ‰ç‰©ç†çš„éª¨å¹²ä¸ééª¨å¹²åŒºåŸŸçš„æ¦‚å¿µï¼›è€Œåœ¨OSPFä¸­ï¼ŒArea0è¢«å®šä¹‰ä¸ºéª¨å¹²åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;åœ¨IS-ISä¸­ï¼Œ&lt;strong&gt;Level-1å’ŒLevel-2çº§åˆ«çš„è·¯ç”±å™¨åˆ†åˆ«é‡‡ç”¨SPFç®—æ³•ï¼Œåˆ†åˆ«ç”Ÿæˆæœ€çŸ­è·¯å¾„æ ‘SPT&lt;/strong&gt;ï¼›åœ¨OSPFä¸­ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…æ‰ä½¿ç”¨SPFç®—æ³•ï¼ŒåŒºåŸŸä¹‹é—´çš„è·¯ç”±éœ€è¦é€šè¿‡éª¨å¹²åŒºåŸŸæ¥è½¬å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isisè·¯ç”±å™¨åˆ†ç±»&#34;&gt;ISISè·¯ç”±å™¨åˆ†ç±»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Level-1è·¯ç”±å™¨&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨è´Ÿè´£åŒºåŸŸå†…çš„è·¯ç”±ï¼Œå®ƒåªå±äºåŒä¸€åŒºåŸŸçš„Level-1å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆé‚»å±…å…³ç³»ï¼Œå±äºä¸åŒåŒºåŸŸçš„Level-1è·¯ç”±å™¨ä¸èƒ½å½¢æˆé‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨åªè´Ÿè´£ç»´æŠ¤Level-1çš„é“¾è·¯çŠ¶æ€æ•°æ®åº“LSDBï¼Œè¯¥LSDBåŒ…å«æœ¬åŒºåŸŸçš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åˆ°æœ¬åŒºåŸŸå¤–çš„æŠ¥æ–‡è½¬å‘ç»™æœ€è¿‘çš„Level-1-2è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¿…é¡»é€šè¿‡Level-1-2è·¯ç”±å™¨æ‰èƒ½è¿æ¥è‡³å…¶ä»–åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;Level-1åŒºåŸŸ&lt;strong&gt;å»ºç«‹çš„æ¡ä»¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;è¦æ±‚Areaå·å¿…é¡»ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¯ä»¥å’ŒLevel-1è·¯ç”±å™¨å»ºç«‹Level-1çš„é‚»å±…&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¯ä»¥å’ŒLevel-1-2è·¯ç”±å™¨å»ºç«‹Level-1çš„é‚»å±…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Level-2è·¯ç”±å™¨&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨è´Ÿè´£åŒºåŸŸé—´çš„è·¯ç”±ï¼Œä»–å¯ä»¥å’ŒåŒä¸€æˆ–è€…ä¸åŒåŒºåŸŸçš„Level-2è·¯ç”±å™¨æˆ–è€…å…¶ä»–åŒºåŸŸçš„Level-1-2è·¯ç”±å™¨å½¢æˆé‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨ç»´æŠ¤ä¸€ä¸ªLevel-2çš„LSDBï¼Œè¯¥LSDBåŒ…å«ISISåŒºåŸŸå†…çš„æ‰€æœ‰è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰Level-2çº§åˆ«ï¼ˆå³å½¢æˆLevel-2é‚»å±…å…³ç³»ï¼‰çš„è·¯ç”±å™¨ç»„æˆè·¯ç”±åŸŸçš„éª¨å¹²ç½‘ï¼Œè´Ÿè´£åœ¨ä¸åŒåŒºåŸŸé—´é€šä¿¡ï¼Œè·¯ç”±åŸŸä¸­Level-2çº§åˆ«çš„è·¯ç”±å™¨å¿…é¡»æ˜¯ç‰©ç†è¿ç»­çš„ï¼Œä»¥ä¿è¯éª¨å¹²ç½‘çš„è¿ç»­æ€§&lt;/li&gt;
&lt;li&gt;Level-2åŒºåŸŸ&lt;strong&gt;å»ºç«‹çš„æ¡ä»¶&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;Areaå·å¯ä»¥ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨å¯ä»¥å’ŒLevel-2è·¯ç”±å™¨å»ºç«‹Level-2çš„é‚»å±…&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨å¯ä»¥å’ŒLevel-1-2è·¯ç”±å™¨å»ºç«‹Level-2çš„é‚»å±…&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Level-1-2è·¯ç”±å™¨ï¼ˆé»˜è®¤ï¼‰&lt;/strong&gt;ï¼š
&lt;ul&gt;
&lt;li&gt;åŒæ—¶å±äºLevel-1å’ŒLevel-2çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸åŒä¸€åŒºåŸŸçš„Level-1å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆLevel-1é‚»å±…å…³ç³»ï¼Œä¹Ÿå¯ä»¥å’Œå…¶ä»–åŒºåŸŸçš„Level-2å’ŒLevel-1-2è·¯ç”±å™¨å½¢æˆLevel-2é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨å¿…é¡»é€šè¿‡Level-1-2è·¯ç”±å™¨æ‰èƒ½è¿æ¥è‡³å…¶ä»–åŒºåŸŸ&lt;/li&gt;
&lt;li&gt;Level-1-2è·¯ç”±å™¨ç»´æŠ¤ä¸¤ä¸ªLSDBï¼ŒLevel-1çš„LSDBç”¨äºåŒºåŸŸå†…è·¯ç”±ï¼ŒLevel-2çš„LSDBç”¨äºåŒºåŸŸé—´è·¯ç”±&lt;br&gt;
&lt;code&gt;æ—¢æœ‰Level-1åˆæœ‰Level-2çš„æƒ…å†µä¸‹ï¼ŒLevel-1-2å¿…é¡»å’ŒLevel-1çš„AreaIDä¿æŒä¸€è‡´ï¼Œå¦åˆ™æ— æ³•å»ºç«‹é‚»å±…ï¼Œå¯¼è‡´æ— æ³•è¿›è¡Œé€šä¿¡&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Level-1-2è·¯ç”±å™¨ä¹‹é—´å»ºç«‹ä»€ä¹ˆæ ·çš„é‚»å±…ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;åŒºåŸŸå·ä¸åŒ&lt;/strong&gt;ï¼šä¸€ä¸ªï¼ŒLevel-2åŒºåŸŸ&lt;br&gt;
&lt;strong&gt;åŒºåŸŸå·ç›¸åŒ&lt;/strong&gt;ï¼šä¸¤ä¸ªï¼ŒLevel-1åŒºåŸŸå’ŒLevel-2åŒºåŸŸ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;isisæŠ¥æ–‡ç±»å‹&#34;&gt;ISISæŠ¥æ–‡ç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;hello-pduiihhelloæŠ¥æ–‡&#34;&gt;Hello PDUï¼ˆIIHï¼‰ï¼ˆhelloæŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äºé‚»å±…å‘ç°ï¼Œåå•†å‚æ•°å¹¶å»ºç«‹é‚»å±…å…³ç³»ï¼ŒåæœŸå……å½“ä¿æ´»æŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;ISISç›®å‰åªæ”¯æŒ&lt;strong&gt;ç‚¹åˆ°ç‚¹å’Œå¹¿æ’­&lt;/strong&gt;ä¸¤ç§ç½‘ç»œç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;å¹¿æ’­ç½‘ä¸­çš„Level-1 IS-ISä½¿ç”¨Level-1 LAN IIHï¼›å¹¿æ’­ç½‘ä¸­çš„Level-2 IS-ISä½¿ç”¨Level-2 LAN IIHï¼›éå¹¿æ’­ç½‘ç»œä¸­åˆ™ä½¿ç”¨P2P IIHã€‚å®ƒä»¬çš„æŠ¥æ–‡æ ¼å¼æœ‰æ‰€ä¸åŒã€‚P2P IIHä¸­ç›¸å¯¹äºLAN IIHæ¥è¯´ï¼Œå¤šäº†ä¸€ä¸ªè¡¨ç¤ºæœ¬åœ°é“¾è·¯IDçš„Local Circuit IDå­—æ®µï¼Œç¼ºå°‘äº†è¡¨ç¤ºå¹¿æ’­ç½‘ä¸­DISçš„ä¼˜å…ˆçº§çš„Priorityå­—æ®µä»¥åŠè¡¨ç¤ºDISå’Œä¼ªèŠ‚ç‚¹System IDçš„LAN IDå­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼ŒISISé€šè¿‡MACåœ°å€æ¥æ ‡è¯†é‚»å±…ï¼ˆOSPFæ˜¯é€šè¿‡RIDæ¥æ ‡è¯†çš„ï¼‰ï¼›åœ¨P2Pä¸­ï¼Œæ˜¯é€šè¿‡ç³»ç»ŸIDæ¥æ ‡è¯†é‚»å±…çš„ï¼Œé€šè¿‡ç”µè·¯IDæ¥æ ‡è¯†è‡ªå·±çš„å“ªä¸ªæ¥å£ä¸å¯¹ç«¯ç›¸è¿&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588779975219.png&#34; alt=&#34;LSDB-DIS&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;level-1-lan-iih&#34;&gt;Level-1 LAN IIH&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç»„æ’­MAC&lt;/strong&gt;ï¼š0180-c200-0014&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588780182952.png&#34; alt=&#34;L1å’ŒL2çš„å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;level-2-lan-iih&#34;&gt;Level-2 LAN IIH&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;ç»„æ’­MAC&lt;/strong&gt;ï¼š0180-c200-0015&lt;/p&gt;
&lt;h4 id=&#34;p2p-iih&#34;&gt;P2P IIH&lt;/h4&gt;
&lt;p&gt;éå¹¿æ’­ç½‘ç»œä¸­åˆ™ä½¿ç”¨P2P IIHï¼Œä½†æ˜¯å…¶æ²¡æœ‰è¡¨ç¤ºDISï¼ˆè™šèŠ‚ç‚¹ï¼‰çš„ç›¸å…³å­—æ®µ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588780285711.png&#34; alt=&#34;P2Pçš„å¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;lsp-pdué“¾è·¯çŠ¶æ€æŠ¥æ–‡&#34;&gt;LSP PDUï¼ˆé“¾è·¯çŠ¶æ€æŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äºäº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œç›¸å½“äºOSPFçš„LSU&lt;/li&gt;
&lt;li&gt;Levelâ€“1 LSPç”±Level-1è·¯ç”±å™¨ä¼ é€ï¼ŒLevelâ€“2 LSPç”±Level-2è·¯ç”±å™¨ä¼ é€ï¼ŒLevel-1-2è·¯ç”±å™¨åˆ™å¯ä¼ é€ä»¥ä¸Šä¸¤ç§LSP&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;level-1-lsp&#34;&gt;Level-1 LSP&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588781421394.png&#34; alt=&#34;LSPæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;level-2-lsp&#34;&gt;Level-2 LSP&lt;/h4&gt;
&lt;h3 id=&#34;snp-pduåºåˆ—å·æŠ¥æ–‡&#34;&gt;SNP PDUï¼ˆåºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨äºç»´æŠ¤LSDBçš„å®Œæ•´ä¸åŒæ­¥ï¼Œä¸”ä¸ºæ‘˜è¦ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;csnpå…¨åºåˆ—å·æŠ¥æ–‡&#34;&gt;CSNPï¼ˆå…¨åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç±»ä¼¼äºOSPFçš„DBDä¿¡æ¯ï¼Œç”¨æ¥åŒæ­¥LSDB&lt;/li&gt;
&lt;li&gt;DISå®šæœŸæ³›æ´ªCSNP(10ç§’)&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;level-1-csnp&#34;&gt;Level-1 CSNP&lt;/h5&gt;
&lt;h5 id=&#34;level-2-csnp&#34;&gt;Level-2 CSNP&lt;/h5&gt;
&lt;h4 id=&#34;psnpéƒ¨åˆ†åºåˆ—å·æŠ¥æ–‡&#34;&gt;PSNPï¼ˆéƒ¨åˆ†åºåˆ—å·æŠ¥æ–‡ï¼‰&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼Œç±»ä¼¼äºOSPFçš„LSRï¼›åœ¨P2Pç½‘ç»œä¸­ï¼Œç±»ä¼¼äºOSPFçš„LSRå’ŒLSAck&lt;/li&gt;
&lt;li&gt;éDISè®¾å¤‡å‘DISå‘é€PSNPï¼Œç”¨äºè¯·æ±‚éDISè®¾å¤‡ä¸Šç¼ºå°‘çš„LSDBä¸­çš„è¯¦ç»†è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;level-1-psnp&#34;&gt;Level-1 PSNP&lt;/h5&gt;
&lt;h5 id=&#34;level-2-psnp&#34;&gt;Level-2 PSNP&lt;/h5&gt;
&lt;h2 id=&#34;isisç½‘ç»œç±»å‹&#34;&gt;ISISç½‘ç»œç±»å‹&lt;/h2&gt;
&lt;h3 id=&#34;isisæ”¯æŒçš„ç½‘ç»œç±»å‹&#34;&gt;ISISæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç‚¹å¯¹ç‚¹é“¾è·¯ï¼Œä¾‹å¦‚PPPå’ŒHDLC&lt;code&gt;ä¸é€‰ä¸¾DIS&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¹¿æ’­é“¾è·¯
&lt;ul&gt;
&lt;li&gt;DISï¼š&lt;strong&gt;æŒ‡å®šä¸­é—´ç³»ç»Ÿ&lt;/strong&gt;ï¼Œä¸ºäº†åœ¨å¹¿æ’­ç½‘ç»œä¸­å®ç°&lt;strong&gt;æ›´é«˜æ•ˆçš„æ•°æ®åº“åŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ä¼ªèŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;dis&#34;&gt;DIS&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­ï¼ŒIS-ISéœ€è¦åœ¨æ‰€æœ‰çš„è·¯ç”±å™¨ä¸­é€‰ä¸¾ä¸€ä¸ªè·¯ç”±å™¨ä½œä¸ºDISï¼Œ&lt;strong&gt;Level-1å’ŒLevel-2çš„DISæ˜¯åˆ†åˆ«é€‰ä¸¾çš„&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä¸ºä¸åŒçº§åˆ«çš„DISé€‰ä¸¾è®¾ç½®ä¸åŒçš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜å…ˆçº§ä¸º0çš„è·¯ç”±å™¨ä¹Ÿå‚ä¸DISçš„é€‰ä¸¾ï¼Œåªæ˜¯å…·æœ‰æœ€å°å¯èƒ½æˆä¸ºDIS&lt;/strong&gt;ï¼Œä¸”DISé€‰ä¸¾&lt;strong&gt;æ”¯æŒæŠ¢å &lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒä¸€ç½‘æ®µä¸Šçš„åŒä¸€çº§åˆ«çš„è·¯ç”±å™¨ä¹‹é—´éƒ½ä¼šå½¢æˆé‚»æ¥å…³ç³»&lt;/strong&gt;ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„éDISè·¯ç”±å™¨ä¹‹é—´ä¹Ÿä¼šå½¢æˆé‚»æ¥å…³ç³»ï¼Œä½†LSDBçš„åŒæ­¥ä»ç„¶ä¾é DISæ¥ä¿è¯&lt;/li&gt;
&lt;li&gt;DISç”¨æ¥åˆ›å»ºå’Œæ›´æ–°ä¼ªèŠ‚ç‚¹ï¼Œå¹¶è´Ÿè´£ç”Ÿæˆä¼ªèŠ‚ç‚¹çš„é“¾è·¯çŠ¶æ€åè®®æ•°æ®å•å…ƒLSPï¼Œç”¨æ¥æè¿°è¿™ä¸ªç½‘ç»œä¸Šæœ‰å“ªäº›ç½‘ç»œè®¾å¤‡&lt;/li&gt;
&lt;li&gt;IS-ISä¸­DISå‘é€Helloæ—¶é—´é—´éš”ä¸º10/3ç§’ï¼Œè€Œå…¶ä»–éDISè·¯ç”±å™¨å‘é€Helloé—´éš”ä¸º10ç§’&lt;/li&gt;
&lt;li&gt;ISISçš„LSPçš„æ›´æ–°æ—¶é—´ä¸º900ç§’ï¼ŒHold timeæ—¶é—´ä¸º1200ç§’ï¼Œæ˜¯ä»å¤§å¾€å°å‡çš„&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ISISç³»ç»Ÿä¸­æ²¡æœ‰DISä¹Ÿèƒ½å®Œæˆæ•°æ®åº“åŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆDISä¸éœ€è¦å¤‡ä»½çš„DISï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;DISæ”¯æŒæŠ¢å &lt;/li&gt;
&lt;li&gt;DIS å‘é€Helloæ¶ˆæ¯çš„æ—¶é—´ä¸º 10/3ç§’&lt;/li&gt;
&lt;li&gt;ISISä¸»è¦ç”¨åœ¨è¿è¥å•†ç½‘ç»œä¸­ï¼Œè€Œè¿è¥å•†ç½‘ç»œä¸€èˆ¬å¾ˆå°‘ä¼šæ›´æ¢è®¾å¤‡ï¼Œæ‰€ä»¥å½±å“ä¸å¤§&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;disçš„é€‰ä¸¾&#34;&gt;DISçš„é€‰ä¸¾&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;æ¯”è¾ƒä¼˜å…ˆçº§ï¼Œè¶Šé«˜è¶Šä¼˜ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º64ï¼Œå–å€¼èŒƒå›´ï¼ˆ0-127ï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œæ¯”è¾ƒMACåœ°å€ï¼Œè¶Šå¤§è¶Šä¼˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;h3 id=&#34;å¹¿æ’­é‚»æ¥å…³ç³»å»ºç«‹&#34;&gt;å¹¿æ’­é‚»æ¥å…³ç³»å»ºç«‹&lt;/h3&gt;
&lt;p&gt;ä¸¤å°è¿è¡ŒIS-ISçš„è·¯ç”±å™¨åœ¨äº¤äº’åè®®æŠ¥æ–‡å®ç°è·¯ç”±åŠŸèƒ½ä¹‹å‰å¿…é¡»é¦–å…ˆå»ºç«‹é‚»æ¥å…³ç³»ã€‚åœ¨ä¸åŒç±»å‹çš„ç½‘ç»œä¸Šï¼ŒIS-IS çš„é‚»æ¥å»ºç«‹æ–¹å¼å¹¶ä¸ç›¸åŒ&lt;/p&gt;
&lt;h4 id=&#34;å¹¿æ’­&#34;&gt;å¹¿æ’­&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸Šï¼Œä½¿ç”¨LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ã€‚æœ‰ä¸¤ç§ç±»å‹çš„LAN IIHï¼šL1 LAN IIHï¼ˆç»„æ’­MAC:01-80-C2-00-00-14ï¼‰å’ŒL2 LAN IIH ï¼ˆç»„æ’­MAC:01-80-C2-00-00-15ï¼‰ ã€‚&lt;/li&gt;
&lt;li&gt;Level-1è·¯ç”±å™¨é€šè¿‡äº¤äº’L1 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ï¼›Level-2è·¯ç”±å™¨é€šè¿‡äº¤äº’L2 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ï¼›Level-1-2è·¯ç”±å™¨ä¼šåŒæ—¶äº¤äº’L1 LAN IIHæŠ¥æ–‡å’ŒL2 LAN IIHæŠ¥æ–‡æ¥å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588860400476.png&#34; alt=&#34;å¹¿æ’­é‚»æ¥å…³ç³»å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä»¥ä¸¤å°L2è·¯ç”±å™¨åœ¨å¹¿æ’­é“¾è·¯ä¸Šå»ºç«‹é‚»å±…å…³ç³»ä¸ºä¾‹ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;R1ç»„æ’­å‘é€Level-2 LAN IIHï¼ˆç»„æ’­MAC:01-80-C2-00-00-15ï¼‰ï¼Œæ­¤æŠ¥æ–‡ä¸­æ— é‚»å±…æ ‡è¯†ã€‚&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±å’ŒR1çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºInitialã€‚ç„¶åï¼ŒR2å†ç»„æ’­å‘R1å›å¤Level-2 LAN IIHï¼Œæ­¤æŠ¥æ–‡ä¸­æ ‡è¯†R1ä¸ºR2çš„é‚»å±…ã€‚&lt;/li&gt;
&lt;li&gt;R1æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±ä¸R2çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºUpã€‚ç„¶åR1å†ç»„æ’­å‘R2å‘é€ä¸€ä¸ªæ ‡è¯†R2ä¸ºR1é‚»å±…çš„Level-2 LAN IIHã€‚&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°æ­¤æŠ¥æ–‡åï¼Œå°†è‡ªå·±ä¸R1çš„é‚»å±…çŠ¶æ€æ ‡è¯†ä¸ºUpã€‚è¿™æ ·ï¼Œä¸¤ä¸ªè·¯ç”±å™¨æˆåŠŸå»ºç«‹äº†é‚»å±…å…³ç³»ã€‚&lt;br&gt;
&lt;code&gt;å› ä¸ºæ˜¯å¹¿æ’­ç½‘ç»œï¼Œéœ€è¦é€‰ä¸¾DISï¼Œæ‰€ä»¥åœ¨é‚»å±…å…³ç³»å»ºç«‹åï¼Œè·¯ç”±å™¨ä¼šç­‰å¾…ä¸¤ä¸ªHelloæŠ¥æ–‡é—´éš”å†è¿›è¡ŒDISçš„é€‰ä¸¾ã€‚HelloæŠ¥æ–‡ä¸­åŒ…å«Priorityå­—æ®µï¼ŒPriorityå€¼æœ€å¤§çš„å°†è¢«é€‰ä¸¾ä¸ºè¯¥å¹¿æ’­ç½‘çš„DIS&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;IS-ISå’ŒOSPFå…³äºé‚»æ¥å…³ç³»çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;IS-ISä¸¤ä¸ªé‚»å±…è·¯ç”±å™¨åªè¦ç›¸äº’äº¤æ¢HELLOæ•°æ®åŒ…å°±è®¤ä¸ºç›¸äº’å½¢æˆäº†é‚»æ¥å…³ç³»ï¼›è€ŒOSPFä¸­ï¼Œä¸¤å°è·¯ç”±å™¨è¿›å…¥2-WayçŠ¶æ€åˆ™è®¤ä¸ºå½¢æˆäº†é‚»å±…å…³ç³»ï¼Œä½†æ˜¯åªè¦è¿›å…¥FullçŠ¶æ€æ‰è¢«è®¤ä¸ºè¿›å…¥å®Œå…¨é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
IS-ISä¸­ï¼Œä¼˜å…ˆçº§ä¸º0çš„è·¯ç”±å™¨äº¦ç„¶å¯ä»¥å‚ä¸DISé€‰ä¸¾ï¼›è€ŒOSPFæ±‡æ€»ä¼˜å…ˆçº§ä¸º0è¡¨ç¤ºä¸å‚ä¸é€‰ä¸¾ã€‚&lt;br&gt;
IS-ISä¸­ï¼ŒDISæ˜¯åŸºäºæŠ¢å çš„ï¼›OSPFä¸­DR/BDRå·²ç»é€‰ä¸¾ä¸å¾—æŠ¢å ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;p2p&#34;&gt;P2P&lt;/h4&gt;
&lt;p&gt;åœ¨P2Pè¿è·¯ä¸Šï¼Œé‚»æ¥å…³ç³»å»ºç«‹ä¸åŒäºå¹¿æ’­é“¾è·¯ï¼Œåˆ†ä¸ºä¸¤æ¬¡æ¡æ‰‹æœºåˆ¶å’Œ&lt;strong&gt;ä¸‰æ¬¡æ¡æ‰‹æœºåˆ¶ï¼ˆé»˜è®¤ï¼‰&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588860853052.png&#34; alt=&#34;P2Pé‚»æ¥å…³ç³»å»ºç«‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤æ¬¡æ¡æ‰‹2-wayï¼ˆå®¹æ˜“å­˜åœ¨å•é€šçš„é£é™©ï¼Œå³é“¾è·¯ä¸¤ç«¯åˆ†åˆ«ä¸ºUpå’ŒDownï¼‰&lt;br&gt;
åªè¦è·¯ç”±å™¨æ”¶åˆ°å¯¹ç«¯å‘æ¥çš„HelloæŠ¥æ–‡ï¼Œå°±å•æ–¹é¢å®£å¸ƒé‚»å±…ä¸ºUpçŠ¶æ€ï¼Œå»ºç«‹é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;ä¸‰æ¬¡æ¡æ‰‹3-wayï¼ˆé»˜è®¤æ–¹å¼ï¼‰&lt;br&gt;
é€šè¿‡ä¸‰æ¬¡å‘é€P2Pçš„Hello PDUæœ€ç»ˆå»ºç«‹é‚»å±…å…³ç³»ï¼Œç±»ä¼¼å¹¿æ’­é‚»å±…å…³ç³»å»ºç«‹&lt;br&gt;
&lt;code&gt;ä¿®æ”¹å‘½ä»¤ï¼šisis ppp-negotiation 2-way/3-way&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;diså’Œdrçš„å¯¹æ¯”&#34;&gt;DISå’ŒDRçš„å¯¹æ¯”&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç±»æ¯”ç‚¹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ISIS-DIS&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;OSPF-DR&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‰ä¸¾ä¼˜å…ˆçº§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0ä¼˜å…ˆçº§ä¹Ÿå¯ä»¥å‚ä¸é€‰ä¸¾&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0ä¼˜å…ˆçº§ä¸å‚ä¸é€‰ä¸¾&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‰ä¸¾ç­‰å¾… æ—¶é—´&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;2ä¸ªHelloé—´éš”20/3s&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¤‡ä»½&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ— &lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ‰ï¼ŒBDR&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é‚»æ¥å…³ç³»&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰€æœ‰è·¯ç”±å™¨ç›¸äº’éƒ½æ˜¯é‚»æ¥å…³ç³»&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRotherä¹‹é—´æ˜¯2-wayå…³ç³»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŠ¢å æ€§&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ”¯æŒæŠ¢å &lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½œç”¨&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å‘¨æœŸå‘é€CSNPï¼Œä¿éšœMAç½‘ç»œLSDBåŒæ­¥&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸»è¦ä¸ºäº†å‡å°‘LSAæ³›æ´ª&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;é“¾è·¯çŠ¶æ€ä¿¡æ¯è½½ä½“&#34;&gt;é“¾è·¯çŠ¶æ€ä¿¡æ¯è½½ä½“&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ISIS TLV&lt;/strong&gt;ï¼šTLVçš„å«ä¹‰ï¼šç±»å‹Typeã€é•¿åº¦Lengthã€å€¼Valueï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œè¿™ä¸ªç»“æ„åŒ…å«è¿™ä¸‰ä¸ªå­—æ®µã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨TLVç»“æ„å»ºç«‹æŠ¥æ–‡çš„å¥½å¤„æ˜¯çµæ´»æ€§å’Œæ‰©å±•æ€§å¥½ï¼Œé‡‡ç”¨TLVä½¿å¾—æŠ¥æ–‡çš„æ•´ä½“ç»“æ„ç¨³å®šï¼Œå¢åŠ æ–°ç‰¹ç‚¹åªéœ€è¦å¢åŠ æ–°TLVå³å¯ï¼Œæ— éœ€æ”¹å˜æ•´ä¸ªæŠ¥æ–‡çš„æ•´ä½“ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;LSP PDU&lt;br&gt;
ç”¨äºäº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯
&lt;ol&gt;
&lt;li&gt;å®èŠ‚ç‚¹LSP&lt;/li&gt;
&lt;li&gt;ä¼ªèŠ‚ç‚¹LSPï¼ˆåªåœ¨å¹¿æ’­é“¾è·¯å­˜åœ¨ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;SNP PDU&lt;br&gt;
ç”¨äºç»´æŠ¤LSDBçš„å®Œæ•´ä¸åŒæ­¥ï¼Œä¸”ä¸ºæ‘˜è¦ä¿¡æ¯
&lt;ol&gt;
&lt;li&gt;CSNPï¼Œç”¨äºåŒæ­¥LSP&lt;/li&gt;
&lt;li&gt;PSNPï¼Œç”¨äºè¯·æ±‚å’Œç¡®è®¤LSP&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lspäº¤äº’è¿‡ç¨‹&#34;&gt;LSPäº¤äº’è¿‡ç¨‹&lt;/h3&gt;
&lt;h4 id=&#34;å¹¿æ’­ç½‘ç»œ&#34;&gt;å¹¿æ’­ç½‘ç»œ&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;LSPäº¤äº’ä¸éœ€è¦ç¡®è®¤&lt;/code&gt;&lt;br&gt;
CSNPæŠ¥æ–‡åœ¨å¹¿æ’­ç½‘ç»œä¸­çš„ä½œç”¨ï¼šç¡®è®¤æœºåˆ¶ï¼Œç›¸å½“äºACK&lt;br&gt;
PSNPæŠ¥æ–‡åœ¨å¹¿æ’­ç½‘ç»œä¸­çš„ä½œç”¨ï¼šè¯·æ±‚ï¼ˆLSRï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588862762123.png&#34; alt=&#34;å¹¿æ’­ç½‘ç»œLSPäº¤äº’è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–°åŠ å…¥çš„è·¯ç”±å™¨R3å·²ç»ä¸R2ï¼ˆ&lt;strong&gt;DIS&lt;/strong&gt;ï¼‰ã€R1å»ºç«‹é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;R3ä½¿ç”¨ç»„æ’­åœ°å€å‘é€è‡ªå·±çš„LSP&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°R3çš„LSPä¹‹åï¼Œä¼šå°†R3åŠ å…¥LSDBä¸­ï¼Œå¹¶ç­‰å¾…CSNPæŠ¥æ–‡å®šæ—¶å™¨è¶…æ—¶ï¼ˆ10sï¼‰å¹¶å‘é€CSNPæŠ¥æ–‡ï¼Œè¿›è¡Œè¯¥ç½‘ç»œçš„LSDBåŒæ­¥&lt;/li&gt;
&lt;li&gt;R3æ”¶åˆ°DISå‘æ¥çš„CSNPåï¼Œå¯¹æ¯”è‡ªå·±çš„LSDBï¼Œç„¶åå‘R2å‘é€PSNPç”¨æ¥è¯·æ±‚è‡ªå·±æ²¡æœ‰çš„LSP&lt;/li&gt;
&lt;li&gt;R2æ”¶åˆ°R3å‘æ¥çš„PSNPä¹‹åï¼Œå°†R3è¯·æ±‚çš„LSPå‘é€ç»™R3&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨å¹¿æ’­ç½‘ç»œä¸­è®¾å¤‡çš„LSDBæ›´æ–°è¿‡ç¨‹å¦‚ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;DISæ¥æ”¶åˆ°LSPï¼Œåœ¨æ•°æ®åº“ä¸­æœç´¢å¯¹åº”çš„è®°å½•ï¼Œè‹¥æ²¡æœ‰è¯¥LSPï¼Œåˆ™å°†å…¶åŠ å…¥æ•°æ®åº“ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åºåˆ—å·è¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥æ”¶åˆ°çš„LSPåºåˆ—å·å¤§äºæœ¬åœ°LSPçš„åºåˆ—å·ï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPåºåˆ—å·å°æœ¬åœ°LSPçš„åºåˆ—å·ï¼Œå°±å‘å…¥ç«¯æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RemainingLifetimeå‰©ä½™ç”Ÿå­˜æ—¶é—´è¶Šå°è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥ä¸¤ä¸ªåºåˆ—å·ç›¸ç­‰ï¼Œåˆ™æ¯”è¾ƒRemainingLifetimeã€‚è‹¥æ”¶åˆ°çš„LSPçš„RemainingLifetimeå°äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPçš„Remaining Lifetimeå¤§äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œå°±å‘å…¥ç«¯æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Checksumè¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥ä¸¤ä¸ªåºåˆ—å·å’ŒRemainingLifetimeéƒ½ç›¸ç­‰ï¼Œåˆ™æ¯”è¾ƒChecksumã€‚è‹¥æ”¶åˆ°çš„LSPçš„Checksumå¤§äºæœ¬åœ°LSPçš„Checksumï¼Œå°±æ›¿æ¢ä¸ºæ–°æŠ¥æ–‡ï¼Œå¹¶å¹¿æ’­æ–°æ•°æ®åº“å†…å®¹ï¼›è‹¥æ”¶åˆ°çš„LSPçš„Checksumå°äºæœ¬åœ°LSPçš„Checksumï¼Œå°±å‘å…¥ç«¯æ¥å£å‘é€æœ¬åœ°LSPæŠ¥æ–‡ã€‚&lt;/li&gt;
&lt;li&gt;è‹¥ä¸¤ä¸ªåºåˆ—å·ã€Remaining Lifetimeå’ŒChecksuméƒ½ç›¸ç­‰ï¼Œåˆ™ä¸è½¬å‘è¯¥æŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;p2pç½‘ç»œ&#34;&gt;P2Pç½‘ç»œ&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;LSPäº¤äº’éœ€è¦ç¡®è®¤&lt;/code&gt;&lt;br&gt;
PSNPæŠ¥æ–‡åœ¨P2Pç½‘ç»œä¸­çš„ä½œç”¨ï¼šä½œä¸ºACKåº”ç­”ä»¥ç¡®è®¤æ”¶åˆ°çš„LSPï¼Œç”¨æ¥è¯·æ±‚æ‰€éœ€çš„LSP&lt;br&gt;
åœ¨P2Pé“¾è·¯ä¸Šï¼Œ&lt;strong&gt;CSNPåªä¼šå‘é€ä¸€æ¬¡&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588863344689.png&#34; alt=&#34;P2Pç½‘ç»œLSPäº¤äº’è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;å®é™…æŠ“åŒ…è¿‡ç¨‹ï¼šç¬¬ä¸€é˜¶æ®µR1å’ŒR2å„å‘ä¸€ä¸ªLSPï¼›ç¬¬äºŒé˜¶æ®µR1å’ŒR2å„å‘é€ä¸€ä¸ªPSNPï¼›ç¬¬ä¸‰é˜¶æ®µR1å‘é€LSPï¼ŒR2å‘é€CSNPè¿›è¡Œç¡®è®¤&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨P2Pç½‘ç»œä¸­è®¾å¤‡çš„LSDBæ›´æ–°è¿‡ç¨‹å¦‚ä¸‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;åºåˆ—å·è¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥æ”¶åˆ°çš„LSPæ¯”æœ¬åœ°çš„åºåˆ—å·æ›´å°ï¼Œåˆ™ç›´æ¥ç»™å¯¹æ–¹å‘é€æœ¬åœ°çš„LSPï¼Œç„¶åç­‰å¾…å¯¹æ–¹ç»™è‡ªå·±ä¸€ä¸ªPSNPæŠ¥æ–‡ä½œä¸ºç¡®è®¤ï¼›è‹¥æ”¶åˆ°çš„LSPæ¯”æœ¬åœ°çš„åºåˆ—å·æ›´å¤§ï¼Œåˆ™å°†è¿™ä¸ªæ–°çš„LSPå­˜å…¥è‡ªå·±çš„LSDBï¼Œå†é€šè¿‡ä¸€ä¸ªPSNPæŠ¥æ–‡æ¥ç¡®è®¤æ”¶åˆ°æ­¤LSPï¼Œæœ€åå†å°†è¿™ä¸ªæ–°LSPå‘é€ç»™é™¤äº†å‘é€è¯¥LSPçš„é‚»å±…ä»¥å¤–çš„é‚»å±…&lt;br&gt;
&lt;strong&gt;RemainingLifetimeå‰©ä½™ç”Ÿå­˜æ—¶é—´è¶Šå°è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥æ”¶åˆ°çš„LSPåºåˆ—å·å’Œæœ¬åœ°ç›¸åŒï¼Œåˆ™æ¯”è¾ƒRemaining Lifetimeï¼Œè‹¥æ”¶åˆ°LSPçš„Remaining Lifetimeå°äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œåˆ™å°†æ”¶åˆ°çš„LSPå­˜å…¥LSDBä¸­å¹¶å‘é€PSNPæŠ¥æ–‡æ¥ç¡®è®¤æ”¶åˆ°æ­¤LSPï¼Œç„¶åå°†è¯¥LSPå‘é€ç»™é™¤äº†å‘é€è¯¥LSPçš„é‚»å±…ä»¥å¤–çš„é‚»å±…ï¼›è‹¥æ”¶åˆ°LSPçš„Remaining Lifetimeå¤§äºæœ¬åœ°LSPçš„Remaining Lifetimeï¼Œåˆ™ç›´æ¥ç»™å¯¹æ–¹å‘é€æœ¬åœ°çš„LSPï¼Œç„¶åç­‰å¾…å¯¹æ–¹ç»™è‡ªå·±ä¸€ä¸ªPSNPæŠ¥æ–‡ä½œä¸ºç¡®è®¤&lt;br&gt;
&lt;strong&gt;Checksumè¶Šå¤§è¶Šä¼˜&lt;/strong&gt;ï¼šè‹¥æ”¶åˆ°çš„LSPå’Œæœ¬åœ°LSPçš„åºåˆ—å·ä»¥åŠRemaining Lifetimeéƒ½ç›¸åŒï¼Œä¸”éƒ½ä¸ä¸º0ï¼Œåˆ™æ¯”è¾ƒChecksumï¼Œè‹¥æ”¶åˆ°LSPçš„Checksumå¤§äºæœ¬åœ°LSPçš„Checksumï¼Œåˆ™å°†æ”¶åˆ°çš„LSPå­˜å…¥LSDBä¸­å¹¶å‘é€PSNPæŠ¥æ–‡æ¥ç¡®è®¤æ”¶åˆ°æ­¤LSPï¼Œç„¶åå°†è¯¥LSPå‘é€ç»™é™¤äº†å‘é€è¯¥LSPçš„é‚»å±…ä»¥å¤–çš„é‚»å±…ï¼›è‹¥æ”¶åˆ°LSPçš„Checksumå°äºæœ¬åœ°LSPçš„Checksumï¼Œåˆ™ç›´æ¥ç»™å¯¹æ–¹å‘é€æœ¬åœ°çš„LSPï¼Œç„¶åç­‰å¾…å¯¹æ–¹ç»™è‡ªå·±ä¸€ä¸ªPSNPæŠ¥æ–‡ä½œä¸ºç¡®è®¤&lt;br&gt;
è‹¥æ”¶åˆ°çš„LSPå’Œæœ¬åœ°LSPçš„åºåˆ—å·ã€Remaining Lifetimeå’ŒChecksuméƒ½ç›¸åŒï¼Œåˆ™ä¸è½¬å‘è¯¥æŠ¥æ–‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;ISISä¸­çš„ABRç”Ÿæˆé»˜è®¤è·¯ç”±ï¼ˆATT=1ï¼‰çš„æ¡ä»¶ï¼šä¸€è¾¹ä¸ºLevel-1ï¼Œå¦å¤–ä¸€è¾¹ä¸ºLevel-2&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ISISä¸­Level-2å¯ä»¥å­¦ä¹ åˆ°Level-1ä¸­çš„è·¯ç”±ï¼Œä½†æ˜¯Level-1æ— æ³•å­¦ä¹ åˆ°Level-2çš„è·¯ç”±&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;lspäº§ç”Ÿçš„åŸå› &#34;&gt;LSPäº§ç”Ÿçš„åŸå› &lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é‚»å±…Upæˆ–Down&lt;/li&gt;
&lt;li&gt;IS-ISç›¸å…³æ¥å£Upæˆ–Down&lt;/li&gt;
&lt;li&gt;å¼•å…¥çš„IPè·¯ç”±å‘ç”Ÿå˜åŒ–&lt;/li&gt;
&lt;li&gt;åŒºåŸŸé—´çš„IPè·¯ç”±å‘ç”Ÿå˜åŒ–&lt;/li&gt;
&lt;li&gt;æ¥å£è¢«èµ‹äº†æ–°çš„metricå€¼&lt;/li&gt;
&lt;li&gt;å‘¨æœŸæ€§æ›´æ–°&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ”¶åˆ°é‚»å±…æ–°çš„lspçš„å¤„ç†è¿‡ç¨‹&#34;&gt;æ”¶åˆ°é‚»å±…æ–°çš„LSPçš„å¤„ç†è¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å°†æ¥æ”¶çš„æ–°çš„LSPåˆå…¥åˆ°è‡ªå·±çš„LSDBæ•°æ®åº“ä¸­ï¼Œå¹¶æ ‡è®°ä¸ºflooding&lt;/li&gt;
&lt;li&gt;å‘é€æ–°çš„LSPåˆ°é™¤äº†æ”¶åˆ°è¯¥LSPçš„æ¥å£ä¹‹å¤–çš„æ¥å£&lt;/li&gt;
&lt;li&gt;é‚»å±…å†æ‰©æ•£åˆ°å…¶ä»–é‚»å±…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è·¯ç”±ç®—æ³•&#34;&gt;è·¯ç”±ç®—æ³•&lt;/h3&gt;
&lt;p&gt;è®¾å¤‡é»˜è®¤æ¥å£å¼€é”€å€¼éƒ½æ˜¯10&lt;/p&gt;
&lt;h4 id=&#34;spfè®¡ç®—è¿‡ç¨‹&#34;&gt;SPFè®¡ç®—è¿‡ç¨‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å•åŒºåŸŸLSDBåŒæ­¥å®Œæˆ&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆå…¨ç½‘æ‹“æ‰‘ç»“æ„å›¾&lt;/li&gt;
&lt;li&gt;ä»¥æœ¬èŠ‚ç‚¹ä¸ºæ ¹ç”Ÿæˆæœ€çŸ­è·¯å¾„æ ‘&lt;/li&gt;
&lt;li&gt;é»˜è®¤è·¨è¶Šæ¯ä¸ªèŠ‚ç‚¹çš„å¼€é”€ä¸€æ ·&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;isisçš„è®¡ç®—ç‰¹ç‚¹&#34;&gt;ISISçš„è®¡ç®—ç‰¹ç‚¹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨æœ¬åŒºåŸŸæ”¶åˆ°çš„LSPæ›´æ–°ï¼Œå¦‚æœæ˜¯éƒ¨åˆ†æ‹“æ‰‘çš„å˜åŒ–æ‰§è¡Œçš„SSPFå†…è·¯ç”±å™¨ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™æ‰§è¡Œçš„æ˜¯Full-SPFç®—æ³•&lt;/li&gt;
&lt;li&gt;å¦‚æœåªæ˜¯è·¯ç”±ä¿¡æ¯çš„å˜æ³•ï¼Œæ‰§è¡Œçš„æ˜¯PRCç®—æ³•&lt;/li&gt;
&lt;li&gt;ç”±äºé‡‡ç”¨æ‹“æ‰‘ä¸ç½‘ç»œåˆ†ç¦»çš„ç®—æ³•ï¼Œè·¯ç”±æ”¶æ•›é€Ÿåº¦å¾—åˆ°äº†åŠ å¼º&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;isisè·¯ç”±è®¡ç®—çš„å¼€é”€æ–¹å¼&#34;&gt;ISISè·¯ç”±è®¡ç®—çš„å¼€é”€æ–¹å¼&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Narrowæ¨¡å¼ï¼šè®¾å¤‡é»˜è®¤æ¨¡å¼å¼€é”€éƒ½æ˜¯10ï¼Œæ‰‹å·¥é…ç½®æ¥å£å¼€é”€å–å€¼èŒƒå›´ä¸º1-63&lt;/li&gt;
&lt;li&gt;Wideæ¨¡å¼ï¼šè®¾å¤‡é»˜è®¤å¼€é”€æ¨¡å¼éƒ½æ˜¯10ï¼Œæ‰‹å·¥é…ç½®æ¥å£å¼€é”€å–å€¼èŒƒå›´ä¸º1-16777215&lt;br&gt;
&lt;code&gt;è¿›ç¨‹ä¸‹æ‰§è¡Œauto-cost enableï¼Œä¸¤ç§æ¨¡å¼éƒ½ä¼šå‚è€ƒæ¥å£å¸¦å®½è®¡ç®—å¼€é”€å€¼ï¼Œä½†æ˜¯å‚è€ƒå‡†åˆ™æœ‰å·®å¼‚&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æ¥å£è§†å›¾ä¸‹é…ç½®å¼€é”€å€¼ï¼šisis cost 60&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åŒºåŸŸé—´è·¯ç”±&#34;&gt;åŒºåŸŸé—´è·¯ç”±&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588951097495.png&#34; alt=&#34;åŒºåŸŸé—´è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;è·¯ç”±æ¸—é€&#34;&gt;è·¯ç”±æ¸—é€&lt;/h3&gt;
&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼ŒLevel-1åŒºåŸŸå†…çš„è·¯ç”±é€šè¿‡Level-1è·¯ç”±å™¨è¿›è¡Œç®¡ç†ã€‚æ‰€æœ‰çš„Level-2å’ŒLevel-1-2è·¯ç”±å™¨æ„æˆä¸€ä¸ªè¿ç»­çš„éª¨å¹²åŒºåŸŸã€‚Level-1åŒºåŸŸå¿…é¡»ä¸”åªèƒ½ä¸éª¨å¹²åŒºåŸŸç›¸è¿ï¼Œä¸åŒçš„Level-1åŒºåŸŸä¹‹é—´å¹¶ä¸ç›¸è¿ã€‚Level-1-2è·¯ç”±å™¨å°†å­¦ä¹ åˆ°çš„Level-1è·¯ç”±ä¿¡æ¯è£…è¿›Level-2 LSPï¼Œå†æ³›æ´ªLSPç»™å…¶ä»–Level-2å’ŒLevel-1-2è·¯ç”±å™¨ã€‚&lt;br&gt;
å› æ­¤ï¼ŒLevel-1-2å’ŒLevel-2è·¯ç”±å™¨çŸ¥é“æ•´ä¸ªIS-ISè·¯ç”±åŸŸçš„è·¯ç”±ä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œä¸ºäº†æœ‰æ•ˆå‡å°è·¯ç”±è¡¨çš„è§„æ¨¡ï¼Œåœ¨ç¼ºçœæƒ…å†µä¸‹ï¼ŒLevel-1-2è·¯ç”±å™¨å¹¶ä¸å°†è‡ªå·±çŸ¥é“çš„å…¶ä»–Level-1åŒºåŸŸä»¥åŠéª¨å¹²åŒºåŸŸçš„è·¯ç”±ä¿¡æ¯é€šæŠ¥ç»™å®ƒæ‰€åœ¨çš„Level-1åŒºåŸŸã€‚è¿™æ ·ï¼ŒLevel-1è·¯ç”±å™¨å°†ä¸äº†è§£æœ¬åŒºåŸŸä»¥å¤–çš„è·¯ç”±ä¿¡æ¯ï¼Œå¯èƒ½å¯¼è‡´ä¸æœ¬åŒºåŸŸä¹‹å¤–çš„ç›®çš„åœ°å€é€šä¿¡æ—¶æ— æ³•é€‰æ‹©æœ€ä½³çš„è·¯ç”±ã€‚&lt;br&gt;
&lt;code&gt;ç®€è€Œè¨€ä¹‹ï¼Œè·¯ç”±æ¸—é€è§£å†³ééª¨å¹²åŒºåŸŸè®¿é—®éª¨å¹²åŒºåŸŸæ—¶ï¼Œå› ä¸ºä¸çŸ¥é“æ˜ç»†è·¯ç”±è€Œå¯¼è‡´çš„æ¬¡ä¼˜è·¯å¾„é—®é¢˜&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;isis 1
import-route isis level-2 into level-1  # å°†Level 2çš„è·¯ç”±æ¸—é€åˆ°Level1
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;isisè·¯ç”±è¿‡è½½&#34;&gt;ISISè·¯ç”±è¿‡è½½&lt;/h3&gt;
&lt;p&gt;ISISè¿‡è½½æ ‡å¿—ä½æ˜¯æŒ‡ISIS LSPæŠ¥æ–‡ä¸­çš„&lt;strong&gt;OLå­—æ®µ&lt;/strong&gt;ã€‚å¯¹è®¾å¤‡è®¾ç½®è¿‡è½½æ ‡å¿—ä½åï¼Œå…¶å®ƒè®¾å¤‡åœ¨è¿›è¡ŒSPFè®¡ç®—æ—¶ä¸ä¼šä½¿ç”¨è¿™å°è®¾å¤‡åšè½¬å‘ï¼Œåªè®¡ç®—è¯¥è®¾å¤‡ä¸Šçš„ç›´è¿è·¯ç”±ï¼ˆä¸€èˆ¬ç”¨äºæ‰¿è½½BGPçš„æ ¸å¿ƒISISï¼‰&lt;br&gt;
&lt;code&gt;å¦‚æœå› ä¸ºè®¾å¤‡è¿›å…¥å¼‚å¸¸çŠ¶æ€å¯¼è‡´ç³»ç»Ÿè¿›å…¥è¿‡è½½çŠ¶æ€ï¼Œæ­¤æ—¶ç³»ç»Ÿå°†åˆ é™¤å…¨éƒ¨å¼•å…¥æˆ–æ¸—é€çš„è·¯ç”±ä¿¡æ¯&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å¦‚æœå› ä¸ºç”¨æˆ·é…ç½®å¯¼è‡´ç³»ç»Ÿè¿›å…¥è¿‡è½½çŠ¶æ€ï¼Œæ­¤æ—¶ä¼šæ ¹æ®ç”¨æˆ·çš„é…ç½®å†³å®šæ˜¯å¦åˆ é™¤å…¨éƒ¨å¼•å…¥æˆ–æ¸—é€è·¯ç”±&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;è¿‡è½½åŸå› &#34;&gt;è¿‡è½½åŸå› &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å½“ç³»ç»Ÿå› ä¸ºå„ç§åŸå› &lt;strong&gt;æ— æ³•ä¿å­˜æ–°çš„LSP&lt;/strong&gt;ï¼Œä»¥è‡´æ— æ³•ç»´æŒæ­£å¸¸çš„LSDBåŒæ­¥æ—¶ï¼Œè¯¥ç³»ç»Ÿè®¡ç®—å‡ºçš„è·¯ç”±ä¿¡æ¯å°†å‡ºç°é”™è¯¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç³»ç»Ÿå°±å¯ä»¥è‡ªåŠ¨è¿›å…¥è¿‡è½½çŠ¶æ€ï¼Œå³é€šè¿‡è¯¥è®¾å¤‡åˆ°è¾¾çš„è·¯ç”±ä¸è®¡ç®—ï¼Œä½†è¯¥è®¾å¤‡çš„ç›´è¿è·¯ç”±ä¸ä¼šè¢«å¿½ç•¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é™¤äº†è®¾å¤‡å¼‚å¸¸å¯å¯¼è‡´è‡ªåŠ¨è¿›å…¥è¿‡è½½çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‰‹åŠ¨é…ç½®ï¼ˆ&lt;code&gt;isis 1 &amp;amp;&amp;amp; set-overload&lt;/code&gt;ï¼‰ä½¿ç³»ç»Ÿè¿›å…¥è¿‡è½½çŠ¶æ€ã€‚å½“ç½‘ç»œä¸­çš„æŸäº›IS-ISè®¾å¤‡&lt;strong&gt;éœ€è¦å‡çº§æˆ–ç»´æŠ¤&lt;/strong&gt;æ—¶ï¼Œéœ€è¦æš‚æ—¶å°†è¯¥è®¾å¤‡ä»ç½‘ç»œä¸­éš”ç¦»ã€‚æ­¤æ—¶å¯ä»¥ç»™è¯¥è®¾å¤‡è®¾ç½®è¿‡è½½æ ‡å¿—ä½ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å…¶ä»–è®¾å¤‡é€šè¿‡è¯¥èŠ‚ç‚¹æ¥è½¬å‘æµé‡&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isisæ”¶æ•›ç‰¹æ€§&#34;&gt;ISISæ”¶æ•›ç‰¹æ€§&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¿«é€Ÿæ”¶æ•›&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¢é‡æœ€çŸ­è·¯å¾„ä¼˜å…ˆç®—æ³•ISPFï¼šæ˜¯æŒ‡å½“ç½‘ç»œæ‹“æ‰‘æ”¹å˜çš„æ—¶å€™ï¼Œåªå¯¹å—å½±å“çš„èŠ‚ç‚¹è¿›è¡Œè·¯ç”±è®¡ç®—ï¼Œè€Œä¸æ˜¯å¯¹å…¨éƒ¨èŠ‚ç‚¹é‡æ–°è¿›è¡Œè·¯ç”±è®¡ç®—ï¼Œä»è€ŒåŠ å¿«äº†è·¯ç”±çš„è®¡ç®—ã€‚
&lt;ul&gt;
&lt;li&gt;åªå¯¹å—å½±å“çš„èŠ‚ç‚¹è¿›è¡Œè·¯ç”±è®¡ç®—&lt;/li&gt;
&lt;li&gt;ä»…ç¬¬ä¸€æ¬¡è®¡ç®—å…¨éƒ¨èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;éƒ¨åˆ†è·¯ç”±è®¡ç®—PRCï¼šæ˜¯æŒ‡å½“ç½‘ç»œä¸Šè·¯ç”±å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œåªå¯¹å‘ç”Ÿå˜åŒ–çš„è·¯ç”±è¿›è¡Œé‡æ–°è®¡ç®—ã€‚    PRCçš„åŸç†å’ŒISPFç›¸åŒï¼Œéƒ½æ˜¯åªå¯¹å‘ç”Ÿå˜åŒ–çš„è·¯ç”±è¿›è¡Œé‡æ–°è®¡ç®—ã€‚ä¸åŒçš„æ˜¯ï¼ŒPRCä¸éœ€è¦è®¡ç®—èŠ‚ç‚¹è·¯å¾„ï¼Œè€Œæ˜¯æ ¹æ®ISPFç®—å‡ºæ¥çš„SPTæ¥æ›´æ–°è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;æ™ºèƒ½å®šæ—¶å™¨ï¼šåœ¨è¿›è¡ŒSPFè®¡ç®—å’Œäº§ç”ŸLSPçš„æ—¶å€™ç”¨åˆ°çš„ä¸€ç§æ™ºèƒ½å®šæ—¶å™¨ã€‚è¯¥å®šæ—¶å™¨é¦–æ¬¡è¶…æ—¶æ—¶é—´æ˜¯ä¸€ä¸ªå›ºå®šçš„æ—¶é—´ã€‚å¦‚æœåœ¨å®šæ—¶å™¨è¶…æ—¶å‰ï¼Œåˆæœ‰è§¦å‘å®šæ—¶å™¨çš„äº‹ä»¶å‘ç”Ÿï¼Œåˆ™è¯¥å®šæ—¶å™¨ä¸‹ä¸€æ¬¡çš„è¶…æ—¶æ—¶é—´ä¼šå¢åŠ ã€‚&lt;/li&gt;
&lt;li&gt;LSPå¿«é€Ÿæ‰©æ•£ï¼šæ­¤ç‰¹æ€§å¯ä»¥åŠ å¿«LSPçš„æ‰©æ•£é€Ÿåº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰ä¼˜å…ˆçº§æ”¶æ•›&lt;br&gt;
IS-ISæŒ‰ä¼˜å…ˆçº§æ”¶æ•›æ˜¯æŒ‡åœ¨å¤§é‡è·¯ç”±æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿè®©æŸäº›ç‰¹å®šçš„è·¯ç”±ï¼ˆä¾‹å¦‚åŒ¹é…æŒ‡å®šIPå‰ç¼€çš„è·¯ç”±ï¼‰ä¼˜å…ˆæ”¶æ•›çš„ä¸€ç§æŠ€æœ¯ã€‚é€šè¿‡å¯¹ä¸åŒçš„è·¯ç”±é…ç½®ä¸åŒçš„æ”¶æ•›ä¼˜å…ˆçº§ï¼Œè¾¾åˆ°é‡è¦çš„è·¯ç”±å…ˆæ”¶æ•›çš„ç›®çš„ï¼Œæé«˜ç½‘ç»œçš„å¯é æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;isisè®¤è¯&#34;&gt;ISISè®¤è¯&lt;/h3&gt;
&lt;h4 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ¥å£è®¤è¯&lt;/strong&gt;ï¼šæ˜¯æŒ‡ä½¿èƒ½ISISåè®®çš„æ¥å£ä»¥æŒ‡å®šæ–¹å¼å’Œå¯†ç å¯¹Level-1å’ŒLevel-2çš„HelloæŠ¥æ–‡è¿›è¡Œè®¤è¯ï¼Œ&lt;code&gt;é’ˆå¯¹HelloæŠ¥æ–‡åšçš„è®¤è¯ï¼Œä¼šå½±å“ISISé‚»å±…ï¼Œä¹Ÿä¼šå½±å“è·¯ç”±&lt;/code&gt;æœ‰ä»¥ä¸‹ä¸¤ç§è®¾ç½®
&lt;ul&gt;
&lt;li&gt;å‘é€å¸¦è®¤è¯TLVçš„è®¤è¯æŠ¥æ–‡ï¼Œæœ¬åœ°å¯¹æ”¶åˆ°çš„æŠ¥æ–‡ä¹Ÿè¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;å‘é€å¸¦è®¤è¯TLVçš„è®¤è¯æŠ¥æ–‡ï¼Œä½†æ˜¯æœ¬åœ°å¯¹æ”¶åˆ°çš„æŠ¥æ–‡ä¸è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºåŸŸè®¤è¯&lt;/strong&gt;ï¼šæ˜¯æŒ‡è¿è¡ŒISISçš„åŒºåŸŸä»¥æŒ‡å®šæ–¹å¼å’Œå¯†ç å¯¹Level-1çš„SNPå’ŒLSPæŠ¥æ–‡è¿›è¡Œè®¤è¯&lt;code&gt;é’ˆå¯¹Level-1çš„SNPå’ŒLSPåšçš„è®¤è¯ï¼Œä¸ä¼šå½±å“ISISé‚»å±…ï¼Œä½†æ˜¯ä¼šå½±å“Level-1çš„LSDBçš„åŒæ­¥ï¼Œä»…å½±å“Level-1çš„è·¯ç”±ï¼Œä¸ä¼šå½±å“Level-2çš„è·¯ç”±&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±åŸŸè®¤è¯&lt;/strong&gt;ï¼šæ˜¯æŒ‡è¿è¡ŒISISçš„è·¯ç”±åŸŸä»¥æŒ‡å®šæ–¹å¼å’Œå¯†ç å¯¹Level-2çš„SNPå’ŒLSPæŠ¥æ–‡è¿›è¡Œè®¤è¯ï¼Œ&lt;code&gt;é’ˆå¯¹Level-2çš„LSPå’ŒSNPçš„è®¤è¯ï¼Œä¸ä¼šå½±å“ISISé‚»å±…ï¼Œä½†æ˜¯ä¼šå½±å“Level-2çš„LSDBçš„åŒæ­¥ï¼Œä»…å½±å“Level-2çš„è·¯ç”±ï¼Œä¸å½±å“Level-1çš„è·¯ç”±&lt;/code&gt;å¯ä»¥è®¾ç½®ä¸ºSNPå’ŒLSPåˆ†å¼€è®¤è¯ï¼š
&lt;ul&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥ï¼›å‘é€çš„SNPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œä½†ä¸å¯¹æ”¶åˆ°çš„SNPæŠ¥æ–‡è¿›è¡Œæ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥ï¼›å‘é€çš„SNPæŠ¥æ–‡ä¸æºå¸¦è®¤è¯TLVï¼Œä¹Ÿä¸å¯¹æ”¶åˆ°çš„SNPæŠ¥æ–‡è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;æœ¬åœ°å‘é€çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½æºå¸¦è®¤è¯TLVï¼Œå¯¹æ”¶åˆ°çš„LSPæŠ¥æ–‡å’ŒSNPæŠ¥æ–‡éƒ½ä¸è¿›è¡Œè®¤è¯æ£€æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æŠ¥æ–‡è®¤è¯æ–¹å¼&#34;&gt;æŠ¥æ–‡è®¤è¯æ–¹å¼&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;MD5è®¤è¯&lt;/li&gt;
&lt;li&gt;Keychianè®¤è¯ï¼šé€šè¿‡é…ç½®éšæ—¶é—´å˜åŒ–çš„å¯†ç é“¾è¡¨æ¥è¿›ä¸€æ­¥æå‡ç½‘ç»œçš„å®‰å…¨æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è®¤è¯ä¿¡æ¯çš„æºå¸¦å½¢å¼&#34;&gt;è®¤è¯ä¿¡æ¯çš„æºå¸¦å½¢å¼&lt;/h4&gt;
&lt;p&gt;ISISé€šè¿‡TLVçš„å½¢å¼æºå¸¦è®¤è¯ä¿¡æ¯ï¼Œè®¤è¯TLVçš„ç±»å‹ä¸º10ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Typeï¼šISOå®šä¹‰è®¤è¯æŠ¥æ–‡çš„ç±»å‹å€¼ä¸º10ï¼Œé•¿åº¦ä¸º1å­—èŠ‚&lt;/li&gt;
&lt;li&gt;Lengthï¼šæŒ‡å®šè®¤è¯TLVå€¼çš„é•¿åº¦ï¼Œé•¿åº¦1å­—èŠ‚&lt;/li&gt;
&lt;li&gt;Valueï¼šæŒ‡å®šè®¤è¯çš„å…·ä½“å†…å®¹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†è®¤è¯çš„ç±»å‹å’Œè®¤è¯çš„å¯†ç ï¼Œé•¿åº¦ä¸º1ï½254å­—èŠ‚ï¼Œå…¶ä¸­è®¤è¯çš„ç±»å‹ä¸º1å­—èŠ‚ï¼Œå…·ä½“å®šä¹‰å¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;0ï¼šä¿ç•™çš„ç±»å‹&lt;/li&gt;
&lt;li&gt;1ï¼šæ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;54ï¼šMD5è®¤è¯&lt;/li&gt;
&lt;li&gt;255ï¼šè·¯ç”±åŸŸç§æœ‰è®¤è¯æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åº¦é‡å€¼&#34;&gt;åº¦é‡å€¼&lt;/h3&gt;
&lt;p&gt;åœ¨æ—©æœŸçš„ISO10589ä¸­ï¼Œä½¿èƒ½IS-ISåè®®çš„æ¥å£ä¸‹æœ€å¤§åªèƒ½é…ç½®å€¼ä¸º63ï¼ˆ&lt;strong&gt;é»˜è®¤æ˜¯10&lt;/strong&gt;ï¼‰çš„å¼€é”€å€¼ï¼Œæ­¤æ—¶è®¤ä¸º&lt;strong&gt;ISISå¼€é”€ç±»å‹ä¸ºnarrow&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;çª„åº¦é‡å€¼&#34;&gt;çª„åº¦é‡å€¼&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;128å·TLVï¼ˆIP Internal Reachability TLVï¼‰ï¼šç”¨æ¥æºå¸¦è·¯ç”±åŸŸå†…çš„IS-ISè·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;130å·TLVï¼ˆIP External Reachability TLVï¼‰ï¼šç”¨æ¥æºå¸¦è·¯ç”±åŸŸå¤–çš„IS-ISè·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;2å·TLV(IS Neighbors TLV)ï¼šç”¨æ¥æºå¸¦é‚»å±…ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å®½åº¦é‡å€¼&#34;&gt;å®½åº¦é‡å€¼&lt;/h4&gt;
&lt;p&gt;OSPFä¸ISISåè®®éƒ½è¢«æ‰©å±•ä»¥ä¾¿æºå¸¦MPLS TEæ¥å£å‚æ•°ï¼Œå¯¹äºISISåè®®æ¥è¯´ï¼Œä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–°çš„TLVï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;135å·TLV(Extended IP Reachability TLV)ï¼šç”¨æ¥æ›¿æ¢åŸæœ‰çš„IP reachability TLVï¼Œæºå¸¦ISISè·¯ç”±ä¿¡æ¯ï¼Œå®ƒæ‰©å±•äº†è·¯ç”±å¼€é”€å€¼çš„èŒƒå›´ï¼Œå¹¶å¯ä»¥æºå¸¦sub TLV&lt;/li&gt;
&lt;li&gt;22å·TLVï¼ˆIS Extended Neighbors TLVï¼‰ï¼šç”¨æ¥æºå¸¦é‚»å±…ä¿¡æ¯&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1589100789194.png&#34; alt=&#34;æ¥æ”¶å’Œå‘é€çš„ç±»å‹è¯¦ç»†åˆ—è¡¨&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ISISæœ‰é‚»å±…å´æ²¡æœ‰è·¯ç”±çš„æƒ…å†µ&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åº¦é‡å€¼ç±»å‹ä¸ç›¸åŒæˆ–è€…ä¸å…¼å®¹&lt;/li&gt;
&lt;li&gt;ISISè®¾ç½®äº†åŒºåŸŸè®¤è¯æˆ–è€…è·¯ç”±åŸŸè®¤è¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;lspåˆ†ç‰‡æ‰©å±•&#34;&gt;LSPåˆ†ç‰‡æ‰©å±•&lt;/h3&gt;
&lt;p&gt;å½“ISISè¦å‘å¸ƒçš„é“¾è·¯çŠ¶æ€åè®®æ•°æ®æŠ¥æ–‡PDUä¸­çš„ä¿¡æ¯é‡å¤ªå¤§æ—¶ï¼ŒIS-Sè·¯ç”±å™¨å°†ä¼šç”Ÿæˆå¤šä¸ªLSPåˆ†ç‰‡ï¼Œç”¨æ¥æºå¸¦æ›´å¤šçš„ISISä¿¡æ¯ã€‚&lt;br&gt;
ISIS LSPåˆ†ç‰‡ç”±LSP IDä¸­çš„LSP Numberå­—æ®µè¿›è¡Œæ ‡è¯†ï¼Œè¿™ä¸ªå­—æ®µçš„é•¿åº¦æ˜¯1å­—èŠ‚ã€‚å› æ­¤ï¼Œä¸€ä¸ªIS-ISè¿›ç¨‹æœ€å¤šå¯äº§ç”Ÿ256ä¸ªLSPåˆ†ç‰‡ï¼Œæºå¸¦çš„ä¿¡æ¯é‡æœ‰é™ã€‚åœ¨RFC3786ä¸­è§„å®šï¼ŒIS-ISå¯ä»¥é…ç½®è™šæ‹Ÿçš„SystemID ï¼Œå¹¶ç”Ÿæˆè™šæ‹ŸIS-ISçš„LSPæŠ¥æ–‡æ¥æºå¸¦è·¯ç”±ç­‰ä¿¡æ¯ã€‚&lt;br&gt;
&lt;code&gt;lsp-fragments-extendå‘½ä»¤ç”¨æ¥ä½¿èƒ½IS-ISè·¯ç”±å™¨çš„LSPåˆ†ç‰‡æ‰©å±•åŠŸèƒ½ï¼Œä¸ºäº†ä½¿IS-ISè·¯ç”±å™¨ç”Ÿæˆæ‰©å±•LSPåˆ†ç‰‡ï¼Œåº”é€šè¿‡å‘½ä»¤virtual-systemè‡³å°‘é…ç½®ä¸€ä¸ªè™šæ‹Ÿç³»ç»ŸID&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;åŸºæœ¬æ¦‚å¿µ-2&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹ç³»ç»Ÿï¼ˆOriginating Systemï¼‰ï¼šåˆå§‹ç³»ç»Ÿæ˜¯å®é™…è¿è¡ŒISISåè®®çš„è·¯ç”±å™¨ã€‚å…è®¸ä¸€ä¸ªå•ç‹¬çš„ISISè¿›ç¨‹åƒå¤šä¸ªè™šæ‹Ÿè·¯ç”±å™¨ä¸€æ ·å‘å¸ƒLSPï¼Œè€Œâ€œOriginating Systemâ€æŒ‡çš„æ˜¯é‚£ä¸ªâ€œçœŸæ­£â€çš„IS-ISè¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸIDï¼ˆNormal System-IDï¼‰ï¼šåˆå§‹ç³»ç»Ÿçš„ç³»ç»ŸIDã€‚&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿç³»ç»Ÿï¼ˆVirtual Systemï¼‰ï¼šç”±é™„åŠ ç³»ç»ŸIDæ ‡è¯†çš„ç³»ç»Ÿï¼Œç”¨æ¥ç”Ÿæˆæ‰©å±•LSPåˆ†ç‰‡ã€‚è¿™äº›åˆ†ç‰‡åœ¨å…¶LSP IDä¸­æºå¸¦é™„åŠ ç³»ç»ŸIDã€‚&lt;/li&gt;
&lt;li&gt;é™„åŠ ç³»ç»ŸIDï¼ˆAdditional System-IDï¼‰ï¼šè™šæ‹Ÿç³»ç»Ÿçš„ç³»ç»ŸIDï¼Œç”±ç½‘ç»œç®¡ç†å™¨ç»Ÿä¸€åˆ†é…ã€‚æ¯ä¸ªé™„åŠ ç³»ç»ŸIDéƒ½å…è®¸ç”Ÿæˆ256ä¸ªæ‰©å±•çš„LSPåˆ†ç‰‡ã€‚&lt;code&gt;é™„åŠ ç³»ç»ŸIDå’Œç³»ç»ŸIDä¸€æ ·ï¼Œåœ¨æ•´ä¸ªè·¯ç”±åŸŸä¸­å¿…é¡»å”¯ä¸€&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;24å·TLVï¼ˆIS Alias ID TLVï¼‰ï¼šç”¨æ¥è¡¨ç¤ºåˆå§‹ç³»ç»Ÿä¸è™šæ‹Ÿç³»ç»Ÿçš„å…³ç³»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å·¥ä½œåŸç†&#34;&gt;å·¥ä½œåŸç†&lt;/h4&gt;
&lt;p&gt;åœ¨IS-ISä¸­ï¼Œæ¯ä¸ªç³»ç»ŸIDéƒ½æ ‡è¯†ä¸€ä¸ªç³»ç»Ÿï¼Œæ¯ä¸ªç³»ç»Ÿéƒ½æœ€å¤šå¯ç”Ÿæˆ256ä¸ªLSPåˆ†ç‰‡ã€‚&lt;strong&gt;é€šè¿‡å¢åŠ é™„åŠ ç³»ç»ŸIDï¼Œå¯ä»¥æœ€å¤šé…ç½®50ä¸ªè™šæ‹Ÿç³»ç»Ÿ&lt;/strong&gt;ï¼Œä»è€Œä½¿å¾—&lt;strong&gt;ISISè¿›ç¨‹æœ€å¤šå¯ç”Ÿæˆ13056ä¸ªLSPåˆ†ç‰‡&lt;/strong&gt;ã€‚&lt;br&gt;
ä½¿èƒ½åˆ†ç‰‡æ‰©å±•åŠŸèƒ½ä¹‹åï¼Œå¦‚æœå­˜åœ¨ç”±äºæŠ¥æ–‡è£…æ»¡è€Œä¸¢å¤±çš„ä¿¡æ¯ï¼Œç³»ç»Ÿä¼šæé†’é‡å¯IS-ISã€‚é‡å¯ä¹‹åï¼Œåˆå§‹ç³»ç»Ÿä¼šå°½æœ€å¤§èƒ½åŠ›è£…è½½è·¯ç”±ä¿¡æ¯ï¼Œè£…ä¸ä¸‹çš„ä¿¡æ¯å°†æ”¾å…¥è™šæ‹Ÿç³»ç»Ÿçš„LSPä¸­å‘é€å‡ºå»ï¼Œå¹¶é€šè¿‡24å·TLVæ¥å‘ŠçŸ¥å…¶ä»–è·¯ç”±å™¨æ­¤è™šæ‹Ÿç³»ç»Ÿå’Œè‡ªå·±çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å·¥ä½œæ¨¡å¼&#34;&gt;å·¥ä½œæ¨¡å¼&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589101539252.png&#34; alt=&#34;LSPåˆ†ç‰‡å·¥ä½œæ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Mode-1ï¼šç”¨äºç½‘ç»œä¸­çš„éƒ¨åˆ†è·¯ç”±å™¨ä¸æ”¯æŒLSPåˆ†ç‰‡æ‰©å±•ç‰¹æ€§çš„æƒ…å†µ&lt;br&gt;
RouterBæ˜¯ä¸æ”¯æŒåˆ†ç‰‡æ‰©å±•çš„è·¯ç”±å™¨ï¼ŒRouterAè®¾ç½®ä¸ºMode-1æ¨¡å¼çš„åˆ†ç‰‡æ‰©å±•ï¼ŒRouterA1å’ŒRouterA2æ˜¯RouterAçš„è™šæ‹Ÿç³»ç»Ÿï¼ŒRouterAå°†ä¸€éƒ¨åˆ†è·¯ç”±ä¿¡æ¯æ”¾å…¥RouterA1å’ŒRouterA2çš„LSPæŠ¥æ–‡ä¸­å‘å¤–å‘é€ã€‚RouterBæ”¶åˆ°RouterAï¼ŒRouterA1å’ŒRouterA2çš„æŠ¥æ–‡æ—¶ï¼Œ&lt;strong&gt;è®¤ä¸ºå¯¹ç«¯æœ‰ä¸‰å°ç‹¬ç«‹çš„è·¯ç”±å™¨&lt;/strong&gt;ï¼Œå¹¶è¿›è¡Œæ­£å¸¸çš„è·¯ç”±è®¡ç®—ã€‚åŒæ—¶&lt;strong&gt;RouterAåˆ°RouterA1å’ŒRouterA2çš„å¼€é”€éƒ½æ˜¯0&lt;/strong&gt;ï¼Œæ‰€ä»¥ï¼ŒRouterBåˆ°RouterAçš„è·¯ç”±å¼€é”€å€¼ä¸RouterBåˆ°RouterA1è·¯ç”±å¼€é”€å€¼éƒ½ç›¸ç­‰&lt;/li&gt;
&lt;li&gt;Mode-2ï¼šç”¨äºç½‘ç»œä¸­æ‰€æœ‰è·¯ç”±å™¨éƒ½æ”¯æŒLSPåˆ†ç‰‡æ‰©å±•ç‰¹æ€§çš„æƒ…å†µ&lt;br&gt;
RouterBæ˜¯æ”¯æŒåˆ†ç‰‡æ‰©å±•çš„è·¯ç”±å™¨ï¼ŒRouterAè®¾ç½®ä¸ºMode-2æ¨¡å¼çš„åˆ†ç‰‡æ‰©å±•ï¼ŒRouterA1å’ŒRouterA2æ˜¯RouterAçš„è™šæ‹Ÿç³»ç»Ÿï¼ŒRouterAå°†ä¸€éƒ¨åˆ†è·¯ç”±ä¿¡æ¯æ”¾å…¥åˆ°RouterA1å’ŒRouterA2çš„LSPæŠ¥æ–‡ä¸­å‘å¤–å‘é€ã€‚å½“RouterBæ”¶åˆ°RouterA1å’ŒRouterA2çš„LSPæ—¶ï¼Œé€šè¿‡IS Alias ID TLVçŸ¥é“ä»–ä»¬çš„åˆå§‹ç³»ç»Ÿæ˜¯RouterAï¼Œåˆ™æŠŠRouterA1ï¼ŒRouterA2æ‰€å‘å¸ƒçš„ä¿¡æ¯éƒ½è§†ä¸ºRouterAçš„ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç®¡ç†æ ‡è®°&#34;&gt;ç®¡ç†æ ‡è®°&lt;/h3&gt;
&lt;p&gt;ç®¡ç†æ ‡è®°ç‰¹æ€§å…è®¸åœ¨IS-ISåŸŸä¸­é€šè¿‡ç®¡ç†æ ‡è®°å¯¹IPåœ°å€å‰ç¼€è¿›è¡Œæ§åˆ¶ï¼Œå¯ä»¥è¾¾åˆ°ç®€åŒ–ç®¡ç†ã€‚å…¶ç”¨é€”åŒ…æ‹¬æ§åˆ¶ä¸åŒçº§åˆ«å’Œä¸åŒåŒºåŸŸé—´çš„è·¯ç”±å¼•å…¥ï¼Œä»¥åŠåœ¨åŒä¸€è·¯ç”±å™¨ä¸Šè¿è¡Œçš„IS-ISå¤šå®ä¾‹ï¼ˆå³æˆ‘ä»¬è¯´çš„Tagï¼‰&lt;br&gt;
&lt;code&gt;ä½¿èƒ½ç®¡ç†æ ‡è®°æ—¶ï¼Œå¿…é¡»ä½¿èƒ½IS-IS wide metricå±æ€§&lt;/code&gt;&lt;br&gt;
&lt;code&gt;circuit default-tagå‘½ä»¤ç”¨æ¥é…ç½®æŒ‡å®šIS-ISè¿›ç¨‹ä¸‹æ‰€æœ‰æ¥å£çš„ç®¡ç†æ ‡è®°å€¼ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# AR1
route-policy TAG permit no 10
if-match tag 100
isis
import-route isis level-2 into level-1 filter-policy route-policy TAG #å°†æºå¸¦tagå€¼ä¸º100çš„è·¯ç”±æ¸—é€åˆ°Level-1
# AR2
int lo 0
ip addr 22.22.22.22 32
isis enable
isis tag-value 100 # ç»™è¯¥æ¡è·¯ç”±è®¾ç½®tagå€¼ä¸º100
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é»˜è®¤è·¯ç”±çš„ä¸‹æ”¾&#34;&gt;é»˜è®¤è·¯ç”±çš„ä¸‹æ”¾&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;isis
import-route static
default-route-advertise always [ level-1 | level-2 | level-1-2 ]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ¥å£å¼€é”€&#34;&gt;æ¥å£å¼€é”€&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;bandwidth-reference&lt;/code&gt;å‘½ä»¤ç”¨æ¥è®¾ç½®IS-ISæ¥å£å¼€é”€è‡ªåŠ¨è®¡ç®—åŠŸèƒ½ä¸­æ‰€ä½¿ç”¨çš„å¸¦å®½å‚è€ƒå€¼ã€‚&lt;br&gt;
&lt;code&gt;æ¥å£çš„å¼€é”€å€¼= (bandwidth-reference/æ¥å£å¸¦å®½å€¼)Ã—10&lt;/code&gt;&lt;br&gt;
å½“é€šè¿‡è¯¥å…¬å¼è®¡ç®—çš„æ¥å£å¼€é”€å€¼å¤§äº16777214æ—¶ï¼Œæ¥å£ä»æŒ‰ç…§å¼€é”€å€¼ä¸º16777214å‚ä¸è·¯ç”±è®¡ç®—ï¼Œå³æ¥å£å¼€é”€å€¼ä¸ä¼šå¤§äº16777214ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ•…éšœè¯Šæ–­&#34;&gt;æ•…éšœè¯Šæ–­&lt;/h1&gt;
&lt;h2 id=&#34;æ•…éšœæ’é™¤æµç¨‹&#34;&gt;æ•…éšœæ’é™¤æµç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ£€æŸ¥æ¥å£æ˜¯å¦åœ¨ISISä¸­ä½¿èƒ½&lt;/li&gt;
&lt;li&gt;åŸºæœ¬é…ç½®æ˜¯å¦æ­£ç¡®&lt;/li&gt;
&lt;li&gt;ç›¸åº”æ¥å£çº§åˆ«æ˜¯å¦é…ç½®æ­£ç¡®&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨åŒºåŸŸæ˜¯å¦ç›¸åŒ&lt;/li&gt;
&lt;li&gt;ç›¸é‚»æ¥å£IPåœ°å€æ˜¯å¦å¤„äºç›¸åŒå­ç½‘ä¸­&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸIDæ˜¯å¦é‡å¤&lt;/li&gt;
&lt;li&gt;æ˜¯å¦å¼€å¯äº†è®¤è¯ï¼Œè®¤è¯é…ç½®æ˜¯å¦æ­£ç¡®&lt;/li&gt;
&lt;li&gt;æ¥å£æ˜¯å¦å‘é€æ ‡å‡†helloæŠ¥æ–‡&lt;br&gt;
&lt;code&gt;ä¸åŒç½‘æ®µéœ€è¦å»ºé‚»å±…ï¼Œéœ€è¦åœ¨ç›¸åº”æ¥å£ä¸‹é…ç½®å¿½ç•¥IPï¼šint s1/0/0 &amp;amp;&amp;amp; isis peer-ip-ignoreã€‚ä»¥å¤ªå£è™½ç„¶å¯ä»¥æ”¹ä¸ºp2pé“¾è·¯ï¼Œä»è€Œå»ºç«‹é‚»å±…ï¼Œå­¦ä¹ åˆ°ç›¸åº”è·¯ç”±ï¼Œä½†æ˜¯æ— æ³•pingé€šã€‚&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€é…ç½®isis&#34;&gt;å®éªŒä¸€ï¼šé…ç½®ISIS&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588670348547.png&#34; alt=&#34;é…ç½®ISIS&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.......................................é…ç½®IPåœ°å€
# SW1
sys
sys SW1
# AR1
sys
sys AR1
int lo 0
ip addr 1.1.1.1 32
int g0/0/0
ip addr 172.16.10.1 24
# AR2
sys
sys AR2
int lo 0
ip addr 2.2.2.2 32
int g0/0/0
ip addr 172.16.10.2 24
# AR3
sys
sys AR3
int lo 0
ip addr 3.3.3.3 32
int g0/0/0
ip addr 172.16.10.3 24
int g0/0/1
ip addr 14.1.1.1 24
# AR4
sys
sys AR4
int lo 0
ip addr 4.4.4.4 32
int g0/0/0
ip addr 14.1.1.4 24
int s1/0/0
ip addr 45.1.1.4 24
# AR5
sys
sys AR5
int lo 0
ip addr 5.5.5.5 32
int s1/0/0
ip addr 45.1.1.5 24
#...............................................................é…ç½®ISIS
# ISISä¸æ”¯æŒè¿›ç¨‹ä¸‹å®£å‘Šï¼Œåªèƒ½åœ¨æ¥å£ä¸Šå®£å‘Š
# AR1
isis # é»˜è®¤è¿›ç¨‹å·ä¸º1
is-name AR1  # é…ç½®è®¾å¤‡åç§°ï¼ˆå¯é€‰é¡¹ï¼‰ï¼Œä¾¿äºè®°å¿†å’ŒæŸ¥çœ‹é‚»å±…
# is-level level-1
net 49.0123.1111.1111.1111.00
int g0/0/0
isis enable # é»˜è®¤è¿›ç¨‹å·ä¸º1
int g1/0/0
isis enable 
int lo 0
isis enable
# AR2
isis 
is-name AR2
# is-level level-1
net 49.0123.2222.2222.22222.00
int g0/0/0
isis enable 
int lo 0
isis enable
# AR3
isis 
is-name AR3
# is-level level-1
net 49.0123.3333333333333.00  # é…ç½®SystemIDæ—¶ä¸­é—´å¯ä»¥ä¸ç”¨&amp;quot;.&amp;quot;,ä½†æ˜¯å¿…é¡»ä½¿ç”¨12ä¸ªæ•°å­—ï¼ˆå³6Bï¼‰
int g0/0/0
isis enable 
int lo 0
isis enable
# AR4
isis 
is-name AR4
# is-level level-2
net 49.0045.444444444444.00
int g0/0/0
isis enable 
int lo 0
isis enable
int s1/0/0
isis enable
# AR5
isis 
is-name AR5
# is-level level-2
net 49.0045.555555555555.00
int lo 0
isis enable
int s1/0/0
isis enable
# .................................................æŸ¥çœ‹ISISé‚»å±…\è·¯ç”±\jæ¥å£å®£å‘Šæƒ…å†µ
# AR1/2/3/4/5
dis isis peer
dis ip rou pro isis
dis isis int 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒæŸ¥çœ‹isisä¸‹æ”¾çš„é»˜è®¤è·¯ç”±att1&#34;&gt;å®éªŒäºŒï¼šæŸ¥çœ‹ISISä¸‹æ”¾çš„é»˜è®¤è·¯ç”±ï¼ˆATT=1ï¼‰&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1588866324756.png&#34; alt=&#34;æŸ¥çœ‹ATT=1çš„é»˜è®¤è·¯ç”±&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
sys
sys AR1
isis 
is-name AR1  
is-level level-1
net 49.0123.1111.1111.1111.00
int lo 0
ip addr 1.1.1.1 32
isis enable
int g0/0/0
ip addr 172.16.10.1 24
isis enable
# AR2
sys
sys AR2
isis 
is-name AR2
net 49.0123.2222.2222.2222.00
int lo 0
ip addr 2.2.2.2 32
isis enable
int g0/0/0
ip addr 172.16.10.2 24
isis enable
int g0/0/1
ip addr 24.1.1.2 24
isis enable
# AR3
sys
sys AR3
isis 
is-name AR3
net 49.0123.3333.3333.3333.00
int lo 0
ip addr 3.3.3.3 32
isis enable
int g0/0/0
ip addr 172.16.10.3 24
isis enable
int s1/0/0
ip addr 34.1.1.3 24
isis enable
# AR4
sys
sys AR4
isis 
is-name AR4
is-level level-2
net 49.0045.4444.4444.4444.00
int lo 0
ip addr 4.4.4.4 32
isis enable
int g0/0/0
ip addr 24.1.1.4 24
isis enable
int g0/0/1
ip addr 45.1.1.4 24
isis enable
int s1/0/0
ip addr 34.1.1.4 24
isis enable
# AR5
sys
sys AR5
isis 
is-name AR5
is-level level-2
net 49.0045.5555.5555.5555.00
int lo 0
ip addr 5.5.5.5 32
isis enable
int g0/0/0
ip addr 45.1.1.5 24
isis enable

# æŸ¥çœ‹é»˜è®¤è·¯ç”±
# AR1
dis isis lsdb
dis ip rou pro isis
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰isisç»¼åˆå®éªŒ&#34;&gt;å®éªŒä¸‰ï¼šISISç»¼åˆå®éªŒ&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1589207754937.png&#34; alt=&#34;ISISç»¼åˆå®éªŒ&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¦æ±‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸºç¡€é…ç½®ï¼š
&lt;ul&gt;
&lt;li&gt;R1\R2\R3æ˜¯Level-1è·¯ç”±å™¨ï¼ŒR6æ˜¯Level-2è·¯ç”±å™¨ã€‚SystemIDä¸º0000.0000.000xã€‚ISISçš„è¿›ç¨‹å·ä¸º1&lt;/li&gt;
&lt;li&gt;é€šå‘Šç›¸å…³æ¥å£ï¼Œç½‘æ®µ10.0.x.0/24æš‚ä¸é€šå‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç½‘ç»œæ”¹é€ ï¼š
&lt;ul&gt;
&lt;li&gt;R4å’ŒR6ã€R5å’ŒR6ä¹‹é—´ä¸èƒ½æœ‰DISé€‰ä¸¾&lt;/li&gt;
&lt;li&gt;R1\R2\R3å…±äº«ç½‘ç»œä¸­ï¼Œè¦æ±‚R3ä¸ºDISï¼Œéœ€è¦åœ¨R1å’ŒR2ä¸Šé…ç½®ï¼Œä¸”ä¼˜å…ˆçº§è®¾ç½®å°½é‡å°ä½†ä»å¯ä»¥å‚åŠ DISé€‰ä¸¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¿¡æ¯å‘å¸ƒï¼š
&lt;ul&gt;
&lt;li&gt;R6å¼•å…¥10.0.x.0/24ç½‘æ®µï¼Œå¹¶æ ‡è®°ä¸º100&lt;/li&gt;
&lt;li&gt;è¦æ±‚åŒºåŸŸ47.0001èƒ½å¤Ÿé€šè¿‡R4å­¦åˆ°10.0.x.0/24ç½‘æ®µæ˜ç»†ï¼Œä¸”å¿…é¡»ä¿æŒè¿™äº›è·¯ç”±çš„æ ‡è®°ä¸º100&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±ä¿¡æ¯çš„æ¥æ”¶ï¼š
&lt;ul&gt;
&lt;li&gt;R2åªå…è®¸é€šè¿‡ç¼ºçœè·¯ç”±æ–¹ä½åŒºåŸŸ47.0002çš„ç½‘ç»œï¼Œä¸èƒ½ä½¿ç”¨ACLå’Œå‰ç¼€åˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±é€‰æ‹©ï¼š
&lt;ul&gt;
&lt;li&gt;R3ä¸Šæœ‰ä¸¤æ¡é»˜è®¤è·¯ç”±ï¼Œåˆ†åˆ«æ˜¯åˆ°R4å’ŒR5çš„ï¼Œç°åœ¨éœ€è¦è®©æ•°æ®è½¬å‘åªèƒ½èµ°R5&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å®‰å…¨è®¾ç½®ï¼š
&lt;ul&gt;
&lt;li&gt;åŒºåŸŸ47.0001çš„æ‰€æœ‰è·¯ç”±å™¨å‘é€LSPå’ŒSNPéœ€è¦è¿›è¡Œè®¤è¯ï¼Œè®¤è¯ç±»å‹ä¸ºMD5ï¼Œå¯†ç ä¸ºhuawei&lt;/li&gt;
&lt;li&gt;Level-2è·¯ç”±å™¨å‘é€çš„IIHéœ€è¦è¿›è¡Œè®¤è¯ï¼Œè®¤è¯ç±»å‹ä¸ºMD5ï¼Œå¯†ç ä¸ºhuawei&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·¯ç”±æ±‡æ€»ï¼š
&lt;ul&gt;
&lt;li&gt;å°†AR6ä¸Šçš„10.0.x.0/24æ±‡æ€»æˆ10.0.0.0/8ï¼Œå¹¶ä¸”å¸¦tagä¸º100&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ..............................åŸºç¡€é…ç½®
# AR1
sys
sys AR1
isis 
is-name AR1
is-level level-1
net 47.0001.111111111111.00
int lo 0
ip addr 1.1.1.1 32
isis enable
int g0/0/0
ip addr 192.168.10.1 24
isis enable
# AR2
sys
sys AR2
isis 
is-name AR2
is-level level-1
net 47.0001.222222222222.00
int lo 0
ip addr 2.2.2.2 32
isis enable
int g0/0/0
ip addr 192.168.10.2 24
isis enable
# AR3
sys
sys AR3
isis 
is-name AR3
is-level level-1
net 47.0001.333333333333.00
int lo 0
ip addr 3.3.3.3 32
isis enable
int g0/0/0
ip addr 192.168.10.3 24
isis enable
int s1/0/0
ip addr 34.1.1.3 24
isis enable
int s1/0/1
ip addr 35.1.1.3 24
isis enable
# AR4
sys
sys AR4
isis 
is-name AR4
net 47.0001.444444444444.00
int lo 0
ip addr 4.4.4.4 32
isis enable
int g0/0/0
ip addr 46.1.1.4 24
isis enable
int s1/0/0
ip addr 34.1.1.4 24
isis enable
# AR5
sys
sys AR5
isis 
is-name AR5
net 47.0001.555555555555.00
int lo 0
ip addr 5.5.5.5 32
isis enable
int g0/0/0
ip addr 56.1.1.5 24
isis enable
int s1/0/0
ip addr 35.1.1.5 24
isis enable
# AR6
sys
sys AR6
isis 
is-name AR6
is-level  level-2
net 47.0002.666666666666.00
int lo 0
ip addr 6.6.6.6 32
isis enable
int g0/0/0
ip addr 46.1.1.6 24
isis enable
int g0/0/1
ip addr 56.1.1.6 24
isis enable
int lo 10
ip addr 10.0.0.0 24
int lo 11
ip addr 10.0.1.0 24
int lo 12
ip addr 10.0.2.0 24
int lo 13
ip addr 10.0.3.0 24

# ....................................ç½‘ç»œæ”¹é€ 
# AR4
int g0/0/0
isis circuit-type p2p
isis ppp-negotiation 3-way only
# AR5
int g0/0/0
isis circuit-type p2p
isis ppp-negotiation 3-way only
# AR6
int g0/0/0
isis circuit-type p2p
isis ppp-negotiation 3-way only
int g0/0/1
isis circuit-type p2p
isis ppp-negotiation 3-way only
# AR1
int g0/0/0
isis dis-priority 0
# AR2
int g0/0/0
isis dis-priority 0
#.....................................è·¯ç”±ä¿¡æ¯å‘å¸ƒ
# AR6
acl 2001
rule permit source 10.0.0.0 0.0.3.255
q
route-policy Import-DIR permit node 10
if-match acl 2001
apply tag 100
isis
import-route direct route-policy Import-DIR level-2
cost-style wide
# AR1/2/3/4/5
isis
cost-style wide
# AR4
route-policy Tag permit node 10
if-match tag 100
q
isis
import-route isis level-2 into level-1 filter-policy route-policy Tag
# .............................................è·¯ç”±ä¿¡æ¯æ¥æ”¶
# AR2
router-policy Deny_tag deny node 10
if-match tag 100
q
isis
filter-policy
route-policy Deny_tag import
#...............................................è·¯ç”±é€‰æ‹©
# AR3
isis
nexthop 35.1.1.5 weight 1  # nexthopç”¨æ¥é…ç½®ç­‰ä»·è·¯ç”±çš„ä¼˜å…ˆçº§ï¼Œweightï¼ˆ1~254ï¼‰å€¼è¶Šå°è¶Šä¼˜
#...............................................å®‰å…¨è®¾ç½®
# AR1/2/3/4/5
isis
area-authentication-mode md5 huawei
# AR4/AR5
int g0/0/0
isis authentication-mode md5 huawei
# AR6
int g0/0/0
isis authentication-mode md5 huawei
int g0/0/1
isis authentication-mode md5 huawei
# .....................................è·¯ç”±æ±‡æ€»
# AR6
isis 
summary 10.0.0.0 255.0.0.0 level-2 tag 100
&lt;/code&gt;&lt;/pre&gt;
">03 ISISï¼ˆ2020.0503ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-zhi-psutil/"" data-c="
          &lt;p&gt;ç”¨Pythonæ¥ç¼–å†™è„šæœ¬ç®€åŒ–æ—¥å¸¸çš„è¿ç»´å·¥ä½œã€‚åœ¨Pythonä¸­è·å–ç³»ç»Ÿä¿¡æ¯çš„å¥½åŠæ³•æ˜¯ä½¿ç”¨psutilè¿™ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œpsutil = process and system utilitiesï¼Œå®ƒä¸ä»…å¯ä»¥é€šè¿‡ä¸€ä¸¤è¡Œä»£ç å®ç°ç³»ç»Ÿç›‘æ§ï¼Œè¿˜å¯ä»¥è·¨å¹³å°ä½¿ç”¨ï¼Œæ”¯æŒLinuxï¼UNIXï¼OSXï¼Windowsç­‰ï¼Œæ˜¯ç³»ç»Ÿç®¡ç†å‘˜å’Œè¿ç»´å°ä¼™ä¼´ä¸å¯æˆ–ç¼ºçš„å¿…å¤‡æ¨¡å—ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è·å–cpuä¿¡æ¯&#34;&gt;è·å–CPUä¿¡æ¯&lt;/h1&gt;
&lt;h2 id=&#34;å‡½æ•°è§£æ&#34;&gt;å‡½æ•°è§£æ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‡½æ•°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_count()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_count(,[logical]):é»˜è®¤è¿”å›é€»è¾‘CPUçš„ä¸ªæ•°,å½“è®¾ç½®logicalçš„å‚æ•°ä¸ºFalseæ—¶ï¼Œè¿”å›ç‰©ç†CPUçš„ä¸ªæ•°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_percent()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_percent(,[percpu],[interval])ï¼šè¿”å›CPUçš„åˆ©ç”¨ç‡,percpuä¸ºTrueæ—¶æ˜¾ç¤ºæ‰€æœ‰ç‰©ç†æ ¸å¿ƒçš„åˆ©ç”¨ç‡,intervalä¸ä¸º0æ—¶,åˆ™é˜»å¡æ—¶æ˜¾ç¤ºintervalæ‰§è¡Œçš„æ—¶é—´å†…çš„å¹³å‡åˆ©ç”¨ç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_times()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_times(,[percpu])ï¼šä»¥å‘½åå…ƒç»„(namedtuple)çš„å½¢å¼è¿”å›cpuçš„æ—¶é—´èŠ±è´¹,percpu=Trueè¡¨ç¤ºè·å–æ¯ä¸ªCPUçš„æ—¶é—´èŠ±è´¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_times_percent()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_times_percent(,[percpu])ï¼šåŠŸèƒ½å’Œcpu_timeså¤§è‡´ç›¸åŒï¼Œçœ‹å­—é¢æ„æ€å°±èƒ½çŸ¥é“ï¼Œè¯¥å‡½æ•°è¿”å›çš„æ˜¯è€—æ—¶æ¯”ä¾‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_stats()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_stats()ä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›CPUçš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸­æ–­ï¼Œè½¯ä¸­æ–­å’Œç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.cpu_freq()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;cpu_freq([percpu])ï¼šè¿”å›cpué¢‘ç‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ä»£ç å±•ç¤º&#34;&gt;ä»£ç å±•ç¤º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
# æŸ¥çœ‹cpuä¸ªæ•°
psutil.cpu_count() # é€»è¾‘CPU
psutil.cpu_count(logical=False) # ç‰©ç†CPU
# æŸ¥çœ‹cpuåˆ©ç”¨ç‡
psutil.cpu_percent()
psutil.cpu_percent(percpu=True)
 psutil.cpu_percent(1)
# æŸ¥çœ‹cpuæ—¶é—´èŠ±è´¹
psutil.cpu_times()
psutil.cpu_times(percpu=True)
psutil.cpu_times().user
psutil.cpu_times().iowait
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è·å–å†…å­˜ä¿¡æ¯&#34;&gt;è·å–å†…å­˜ä¿¡æ¯&lt;/h1&gt;
&lt;h2 id=&#34;å‡½æ•°è§£é‡Š&#34;&gt;å‡½æ•°è§£é‡Š&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‡½æ•°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.virtual_memory()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›å†…å­˜ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬æ€»å†…å­˜ï¼Œå¯ç”¨å†…å­˜ï¼Œå†…å­˜åˆ©ç”¨ç‡ï¼Œbufferå’Œcacheç­‰ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.swap_memory()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›swap/memoryä½¿ç”¨æƒ…å†µï¼ŒåŒ…å«swapä¸­é¡µçš„æ¢å…¥å’Œæ¢å‡º&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ä»£ç å±•ç¤º-2&#34;&gt;ä»£ç å±•ç¤º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
psutil.virtual_memory()
psutil.virtual_memory().total
psutil.virtual_memory().used
psutil.virtual_memory().free
psutil.swap_memory()
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è¡¥å……å†…å®¹å•ä½è½¬æ¢&#34;&gt;è¡¥å……å†…å®¹ï¼šå•ä½è½¬æ¢&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
def bytes2human(n):
     symbols = (&#39;K&#39;,&#39;M&#39;,&#39;G&#39;,&#39;T&#39;,&#39;P&#39;,&#39;E&#39;,&#39;Z&#39;,&#39;Y&#39;)
     prefix = {}
     for i,s in enumerate(symbols):
         prefix[s] = 1 &amp;lt;&amp;lt; (i + 1) * 10
     for s in reversed(symbols):
         if n &amp;gt;= prefix[s]:
             value = float(n) / prefix[s]
             return &#39;%.1f%s&#39; % (value,s)
     return &#39;%sB&#39; % n
print(bytes2human(psutil.virtual_memory().total))
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è·å–ç¡¬ç›˜ä¿¡æ¯&#34;&gt;è·å–ç¡¬ç›˜ä¿¡æ¯&lt;/h1&gt;
&lt;h2 id=&#34;å‡½æ•°è§£é‡Š-2&#34;&gt;å‡½æ•°è§£é‡Š&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‡½æ•°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.disk_io_counters()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;disk_io_counters([perdisk])ï¼šä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›ç£ç›˜ioç»Ÿè®¡ä¿¡æ¯(æ±‡æ€»çš„)ï¼ŒåŒ…æ‹¬è¯»ã€å†™çš„æ¬¡æ•°ï¼Œè¯»ã€å†™çš„å­—èŠ‚æ•°ç­‰ã€‚å½“perdiskçš„å€¼ä¸ºTrueï¼Œåˆ™åˆ†åˆ«åˆ—å‡ºå•ä¸ªç£ç›˜çš„ç»Ÿè®¡ä¿¡æ¯(å­—å…¸ï¼škeyä¸ºç£ç›˜åç§°ï¼Œvalueä¸ºç»Ÿè®¡çš„namedtuple)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.disk_partitions()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;disk_partitions([all=False])ï¼šä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›æ‰€æœ‰å·²æŒ‚è½½çš„ç£ç›˜ï¼ŒåŒ…å«ç£ç›˜åç§°ï¼ŒæŒ‚è½½ç‚¹ï¼Œæ–‡ä»¶ç³»ç»Ÿç±»å‹ç­‰ä¿¡æ¯ã€‚å½“allç­‰äºTrueæ—¶ï¼Œè¿”å›åŒ…å«/procç­‰ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.disk_usage()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;disk_usage(path)ï¼šä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›pathæ‰€åœ¨ç£ç›˜çš„ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬ç£ç›˜çš„å®¹é‡ã€å·²ç»ä½¿ç”¨çš„ç£ç›˜å®¹é‡ã€ç£ç›˜çš„ç©ºé—´åˆ©ç”¨ç‡ç­‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ä»£ç å±•ç¤º-3&#34;&gt;ä»£ç å±•ç¤º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
# æŸ¥çœ‹æ‰€æœ‰å·²æŒ‚åœ¨çš„ç£ç›˜(ç£ç›˜åˆ†åŒºä¿¡æ¯)
psutil.disk_partitions()
# ä½¿ç”¨åˆ—è¡¨è¡¨è¾¾å¼æŸ¥è¯¢æŒ‡å®šæŒ‚è½½ç‚¹ä¿¡æ¯
[device for device in psutil.disk_partitions() if device.mountpoint == &#39;/&#39;]
# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
psutil.disk_usage(&#39;/&#39;)
# æŸ¥çœ‹ç£ç›˜ioç»Ÿè®¡æ±‡æ€»
psutil.disk_io_counters()
# åˆ†åˆ«åˆ—å‡ºå•ä¸ªç£ç›˜çš„ç»Ÿè®¡ä¿¡æ¯
psutil.disk_io_counters(perdisk=True)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è·å–ç½‘ç»œä¿¡æ¯&#34;&gt;è·å–ç½‘ç»œä¿¡æ¯&lt;/h1&gt;
&lt;h2 id=&#34;å‡½æ•°è§£é‡Š-3&#34;&gt;å‡½æ•°è§£é‡Š&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‡½æ•°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.net_io_counter([pernic])&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å‘½åå…ƒç»„çš„å½¢å¼è¿”å›å½“å‰ç³»ç»Ÿä¸­æ¯å—ç½‘å¡çš„ç½‘ç»œioç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ”¶å‘å­—èŠ‚æ•°ï¼Œæ”¶å‘åŒ…çš„æ•°é‡ã€å‡ºé”™çš„æƒ…å†µå’Œåˆ åŒ…æƒ…å†µã€‚å½“pernicä¸ºTrueæ—¶ï¼Œåˆ™åˆ—å‡ºæ‰€æœ‰ç½‘å¡çš„ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.net_connections([kind])&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›æ¯ä¸ªç½‘ç»œè¿æ¥çš„è¯¦ç»†ä¿¡æ¯(namedtuple)ã€‚å‘½åå…ƒç»„åŒ…å«fd, family, type, laddr, raddr, status, pidç­‰ä¿¡æ¯ã€‚kindè¡¨ç¤ºè¿‡æ»¤çš„è¿æ¥ç±»å‹ï¼Œæ”¯æŒçš„å€¼å¦‚ä¸‹ï¼š(é»˜è®¤ä¸ºinet)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.net_if_addrs()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å­—å…¸çš„å½¢å¼è¿”å›ç½‘å¡çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬IPåœ°å€å’Œmacåœ°å€ã€å­ç½‘æ©ç å’Œå¹¿æ’­åœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.net_if_stats()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿”å›ç½‘å¡çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ˜¯å¦å¯åŠ¨ã€é€šä¿¡ç±»å‹ã€ä¼ è¾“é€Ÿåº¦ä¸mtuã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.users()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å‘½åå…ƒç»„çš„æ–¹å¼è¿”å›å½“å‰ç™»é™†ç”¨æˆ·çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”¨æˆ·åï¼Œç™»é™†æ—¶é—´ï¼Œç»ˆç«¯ï¼Œä¸ä¸»æœºä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.boot_time()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥æ—¶é—´æˆ³çš„å½¢å¼è¿”å›ç³»ç»Ÿçš„å¯åŠ¨æ—¶é—´&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ä»£ç å±•ç¤º-4&#34;&gt;ä»£ç å±•ç¤º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
# æŸ¥çœ‹ç½‘å¡ä¿¡æ¯ç»Ÿè®¡(è·å–ç½‘ç»œè¯»å†™å­—èŠ‚ï¼åŒ…çš„ä¸ªæ•°)
psutil.net_io_counters()
# è·å–å•ä¸ªç½‘å¡çš„ioä¿¡æ¯
psutil.net_io_counters(pernic=True)
# æŸ¥çœ‹ç½‘å¡é…ç½®ä¿¡æ¯
psutil.net_if_addrs()
# è·å–ç½‘ç»œæ¥å£çŠ¶æ€
psutil.net_if_stats()
# æŸ¥çœ‹å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯
psutil.users()
# è¦è·å–å½“å‰ç½‘ç»œè¿æ¥ä¿¡æ¯
psutil.net_connections() #å¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªAccessDeniedé”™è¯¯ï¼ŒåŸå› æ˜¯psutilè·å–ä¿¡æ¯ä¹Ÿæ˜¯è¦èµ°ç³»ç»Ÿæ¥å£ï¼Œè€Œè·å–ç½‘ç»œè¿æ¥ä¿¡æ¯éœ€è¦rootæƒé™ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€€å‡ºPythonäº¤äº’ç¯å¢ƒï¼Œç”¨sudoé‡æ–°å¯åŠ¨
# ä»¥linuxæ—¶é—´æ ¼å¼è¿”å›ï¼Œå¯ä»¥ä½¿ç”¨æ—¶é—´æˆ³è½¬æ¢
psutil.boot_time()    
# è½¬æ¢æˆè‡ªç„¶æ—¶é—´æ ¼å¼
datetime.datetime.fromtimestamp(psutil.boot_time()).strftime(&amp;quot;%Y-%m-%d %H: %M: %S&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;è·å–è¿›ç¨‹ä¿¡æ¯&#34;&gt;è·å–è¿›ç¨‹ä¿¡æ¯&lt;/h1&gt;
&lt;h2 id=&#34;å‡½æ•°è§£é‡Š-4&#34;&gt;å‡½æ•°è§£é‡Š&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‡½æ•°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.pids()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥åˆ—è¡¨çš„å½¢å¼è¿”å›å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.pid_exists(1)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åˆ¤æ–­ç»™ç‚¹å®šçš„pidæ˜¯å¦å­˜åœ¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.process_iter()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿­ä»£å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼Œè¿”å›çš„æ˜¯æ¯ä¸ªè¿›ç¨‹çš„Processå¯¹è±¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;psutil.Process()&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯¹è¿›ç¨‹è¿›è¡Œå°è£…ï¼Œå¯ä»¥ä½¿ç”¨è¯¥ç±»çš„æ–¹æ³•è·å–è¿›è¡Œçš„è¯¦ç»†ä¿¡æ¯ï¼Œæˆ–è€…ç»™è¿›ç¨‹å‘é€ä¿¡å·ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;è¿›ç¨‹ç›¸å…³ä¿¡æ¯çš„æ–¹æ³•&#34;&gt;è¿›ç¨‹ç›¸å…³ä¿¡æ¯çš„æ–¹æ³•&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;childrenï¼šå­è¿›ç¨‹åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;cmdlineï¼šè·å–å¯åŠ¨è¿›ç¨‹çš„å‘½ä»¤è¡Œå‚æ•°&lt;/li&gt;
&lt;li&gt;connectiosï¼šè¿›ç¨‹ç›¸å…³ç½‘ç»œè¿æ¥&lt;/li&gt;
&lt;li&gt;cpu_affinityï¼šgetè¿›ç¨‹cpuäº²å’Œåº¦,å¦‚æœè¦è®¾ç½®cpuäº²å’Œåº¦,å°†cpuå·ä½œä¸ºå‚è€ƒå°±å¥½&lt;/li&gt;
&lt;li&gt;cpu_timesï¼šè¿›ç¨‹çš„cpuæ—¶é—´ä¿¡æ¯,åŒ…æ‹¬user,systemä¸¤ä¸ªcpuä¿¡æ¯&lt;/li&gt;
&lt;li&gt;create_timeï¼šè·å–è¿›ç¨‹çš„åˆ›å»ºæ—¶é—´(æ—¶é—´æˆ³æ ¼å¼)&lt;/li&gt;
&lt;li&gt;cwdï¼šè¿›ç¨‹çš„å·¥ä½œç›®å½•ç»å¯¹è·¯å¾„&lt;/li&gt;
&lt;li&gt;exeï¼šè¿›ç¨‹çš„binè·¯å¾„&lt;/li&gt;
&lt;li&gt;environï¼šè¿›ç¨‹ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;li&gt;gidsï¼šè¿›ç¨‹çš„gidä¿¡æ¯&lt;/li&gt;
&lt;li&gt;io_countersï¼šè¿›ç¨‹çš„IOä¿¡æ¯,åŒ…æ‹¬è¯»å†™IOæ•°å­—åŠå‚æ•°&lt;/li&gt;
&lt;li&gt;is_runningï¼šåˆ¤æ–­è¿›ç¨‹æ˜¯å¦æ­£åœ¨è¿è¡Œ&lt;/li&gt;
&lt;li&gt;killï¼šå‘é€SIGKILLä¿¡å·ç»“æŸè¿›ç¨‹&lt;/li&gt;
&lt;li&gt;memory_infoï¼šè¿›ç¨‹å†…å­˜rss,vmsä¿¡æ¯&lt;/li&gt;
&lt;li&gt;memory_percentï¼šè¿›ç¨‹å†…å­˜åˆ©ç”¨ç‡&lt;/li&gt;
&lt;li&gt;nameï¼šè·å–è¿›ç¨‹çš„åç§°&lt;/li&gt;
&lt;li&gt;num_fdsï¼šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;num_threadsï¼šè¿›ç¨‹å¼€å¯çš„çº¿ç¨‹æ•°&lt;/li&gt;
&lt;li&gt;open_filesï¼šè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ppidï¼šçˆ¶è¿›ç¨‹ID&lt;/li&gt;
&lt;li&gt;parentï¼šçˆ¶è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;send_signalï¼šç»™è¿›ç¨‹å‘é€ä¿¡å·ï¼Œç±»ä¼¼ä¸os.killç­‰&lt;/li&gt;
&lt;li&gt;statusï¼šè¿›ç¨‹çŠ¶æ€&lt;/li&gt;
&lt;li&gt;terminalï¼šè¿›ç¨‹ç»ˆç«¯&lt;/li&gt;
&lt;li&gt;terminateï¼šå‘é€SIGTEAMä¿¡å·ç»“æŸè¿›ç¨‹&lt;/li&gt;
&lt;li&gt;uidsï¼šè¿›ç¨‹uidä¿¡æ¯&lt;/li&gt;
&lt;li&gt;usernameï¼šè¿›ç¨‹ç”¨æˆ·å&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä»£ç å±•ç¤º-5&#34;&gt;ä»£ç å±•ç¤º&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil
# ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹
psutil.pids()
# æŸ¥çœ‹è¿›ç¨‹è¿è¡ŒçŠ¶æ€ï¼Œä»¥å¸ƒå°”å½¢å¼æ˜¾ç¤º
psutil.pid_exists(1)
# è¿­ä»£å½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹ï¼ŒæŸ¥çœ‹åˆ—è¡¨ä¸­å‰ä¸‰ä¸ªå®ä¾‹çš„ä¿¡æ¯
list(psutil.process_iter())[:3]
# é€šè¿‡è¿›ç¨‹å·å®ä¾‹åŒ–å¯¹è±¡
process = psutil.Process(1)
print(process)
psutil.Process(pid=1, name=&#39;systemd&#39;, started=&#39;16:19:47&#39;)
# è·å–è¿›ç¨‹çš„åç§°
process.name()
process.create_time()
process.num_fds()
process.num_threads()
# Processæ–¹æ³•
p=psutil.Process(1252)
p.name()      #è¿›ç¨‹å
p.exe()         #è¿›ç¨‹çš„binè·¯å¾„
p.cwd()        #è¿›ç¨‹çš„å·¥ä½œç›®å½•ç»å¯¹è·¯å¾„
p.status()     #è¿›ç¨‹çŠ¶æ€
p.cmdline()  #è¿›ç¨‹å¯åŠ¨çš„å‘½ä»¤è¡Œ
p.create_time()  #è¿›ç¨‹åˆ›å»ºæ—¶é—´
p.ppid() # çˆ¶è¿›ç¨‹ID
p.parent() # çˆ¶è¿›ç¨‹
p.children() # å­è¿›ç¨‹åˆ—è¡¨
p.uids()      #è¿›ç¨‹uidä¿¡æ¯
p.gids()      #è¿›ç¨‹çš„gidä¿¡æ¯
p.cpu_times()    #è¿›ç¨‹çš„cpuæ—¶é—´ä¿¡æ¯,åŒ…æ‹¬user,systemä¸¤ä¸ªcpuä¿¡æ¯
p.cpu_affinity()  #getè¿›ç¨‹cpuäº²å’Œåº¦,å¦‚æœè¦è®¾ç½®cpuäº²å’Œåº¦,å°†cpuå·ä½œä¸ºå‚è€ƒå°±å¥½
p.memory_percent()  #è¿›ç¨‹å†…å­˜åˆ©ç”¨ç‡
p.memory_info()    #è¿›ç¨‹å†…å­˜rss,vmsä¿¡æ¯
p.io_counters()    #è¿›ç¨‹çš„IOä¿¡æ¯,åŒ…æ‹¬è¯»å†™IOæ•°å­—åŠå‚æ•°
p.connectios()    #è¿”å›è¿›ç¨‹åˆ—è¡¨
p.num_threads()  #è¿›ç¨‹å¼€å¯çš„çº¿ç¨‹æ•°
# psutilçš„Popenæ–¹æ³•å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è·Ÿè¸ªç¨‹åºçš„ç›¸å…³ä¿¡æ¯
from subprocess import PIPE
p = psutil.Popen([&amp;quot;/usr/bin/python&amp;quot;, &amp;quot;-c&amp;quot;, &amp;quot;print(&#39;hello&#39;)&amp;quot;],stdout=PIPE)
p.name()
p.username()
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å®æˆ˜è„šæœ¬&#34;&gt;å®æˆ˜è„šæœ¬&lt;/h1&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æŸ¥çœ‹ç³»ç»Ÿç¡¬ä»¶è„šæœ¬
#!/usr/bin/env python
#coding:utf-8
import psutil
import datetime
import time

# å½“å‰æ—¶é—´
now_time = time.strftime(&#39;%Y-%m-%d-%H:%M:%S&#39;, time.localtime(time.time()))
print(now_time)

# æŸ¥çœ‹cpuç‰©ç†ä¸ªæ•°çš„ä¿¡æ¯
print(u&amp;quot;ç‰©ç†CPUä¸ªæ•°: %s&amp;quot; % psutil.cpu_count(logical=False))

#CPUçš„ä½¿ç”¨ç‡
cpu = (str(psutil.cpu_percent(1))) + &#39;%&#39;
print(u&amp;quot;cupä½¿ç”¨ç‡: %s&amp;quot; % cpu)

#æŸ¥çœ‹å†…å­˜ä¿¡æ¯,å‰©ä½™å†…å­˜.free  æ€»å…±.total
#round()å‡½æ•°æ–¹æ³•ä¸ºè¿”å›æµ®ç‚¹æ•°xçš„å››èˆäº”å…¥å€¼ã€‚

free = str(round(psutil.virtual_memory().free / (1024.0 * 1024.0 * 1024.0), 2))
total = str(round(psutil.virtual_memory().total / (1024.0 * 1024.0 * 1024.0), 2))
memory = int(psutil.virtual_memory().total - psutil.virtual_memory().free) / float(psutil.virtual_memory().total)
print(u&amp;quot;ç‰©ç†å†…å­˜ï¼š %s G&amp;quot; % total)
print(u&amp;quot;å‰©ä½™ç‰©ç†å†…å­˜ï¼š %s G&amp;quot; % free)
print(u&amp;quot;ç‰©ç†å†…å­˜ä½¿ç”¨ç‡ï¼š %s %%&amp;quot; % int(memory * 100))
# ç³»ç»Ÿå¯åŠ¨æ—¶é—´
print(u&amp;quot;ç³»ç»Ÿå¯åŠ¨æ—¶é—´: %s&amp;quot; % datetime.datetime.fromtimestamp(psutil.boot_time()).strftime(&amp;quot;%Y-%m-%d %H:%M:%S&amp;quot;))

# ç³»ç»Ÿç”¨æˆ·
users_count = len(psutil.users())
users_list = &amp;quot;,&amp;quot;.join([u.name for u in psutil.users()])
print(u&amp;quot;å½“å‰æœ‰%sä¸ªç”¨æˆ·ï¼Œåˆ†åˆ«æ˜¯ %s&amp;quot; % (users_count, users_list))

#ç½‘å¡ï¼Œå¯ä»¥å¾—åˆ°ç½‘å¡å±æ€§ï¼Œè¿æ¥æ•°ï¼Œå½“å‰æµé‡ç­‰ä¿¡æ¯
net = psutil.net_io_counters()
bytes_sent = &#39;{0:.2f} Mb&#39;.format(net.bytes_recv / 1024 / 1024)
bytes_rcvd = &#39;{0:.2f} Mb&#39;.format(net.bytes_sent / 1024 / 1024)
print(u&amp;quot;ç½‘å¡æ¥æ”¶æµé‡ %s ç½‘å¡å‘é€æµé‡ %s&amp;quot; % (bytes_rcvd, bytes_sent))
io = psutil.disk_partitions()

print(&#39;-----------------------------ç£ç›˜ä¿¡æ¯---------------------------------------&#39;)

print(&amp;quot;ç³»ç»Ÿç£ç›˜ä¿¡æ¯ï¼š&amp;quot; + str(io))

for i in io:
    o = psutil.disk_usage(i.device)
    print(&amp;quot;æ€»å®¹é‡ï¼š&amp;quot; + str(int(o.total / (1024.0 * 1024.0 * 1024.0))) + &amp;quot;G&amp;quot;)
    print(&amp;quot;å·²ç”¨å®¹é‡ï¼š&amp;quot; + str(int(o.used / (1024.0 * 1024.0 * 1024.0))) + &amp;quot;G&amp;quot;)
    print(&amp;quot;å¯ç”¨å®¹é‡ï¼š&amp;quot; + str(int(o.free / (1024.0 * 1024.0 * 1024.0))) + &amp;quot;G&amp;quot;)

print(&#39;-----------------------------è¿›ç¨‹ä¿¡æ¯-------------------------------------&#39;)
# æŸ¥çœ‹ç³»ç»Ÿå…¨éƒ¨è¿›ç¨‹
for pnum in psutil.pids():
    p = psutil.Process(pnum)
    print(u&amp;quot;è¿›ç¨‹å %-20s  å†…å­˜åˆ©ç”¨ç‡ %-18s è¿›ç¨‹çŠ¶æ€ %-10s åˆ›å»ºæ—¶é—´ %-10s &amp;quot; \
    % (p.name(), p.memory_percent(), p.status(), p.create_time()))
&lt;/code&gt;&lt;/pre&gt;
">Pythonä¹‹psutil</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/02-ospf/"" data-c="
          &lt;p&gt;OSPFï¼Œå¼€æ”¾å¼æœ€çŸ­è·¯å¾„ä¼˜å…ˆç®—æ³•ï¼ŒSPFç®—æ³•ï¼šè¿ªæ°ç§‘æ–¯ç‰¹æ‹‰ç®—æ³•ï¼Œå·¥ä½œåœ¨IPå±‚ï¼Œåè®®å·89&lt;/p&gt;
&lt;h1 id=&#34;åŸºæœ¬ç‰¹ç‚¹&#34;&gt;åŸºæœ¬ç‰¹ç‚¹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ”¶æ•›é€Ÿåº¦æ¯”è¾ƒå¿«ï¼ˆç›¸å¯¹RIPå¿«äº›ï¼Œåœ¨IGPåè®®ä¸­ï¼Œæ”¶æ•›æœ€å¿«çš„ä¸ºEIGRPåè®®ï¼‰&lt;/li&gt;
&lt;li&gt;æ— ç±»è·¯ç”±åè®®ï¼ŒVLSM(å¯å˜é•¿å­ç½‘æ©ç ï¼Œç”±å°å˜å¤§)å’ŒCIDR(æ— ç±»åˆ«åŸŸé—´è·¯ç”±ï¼Œç”±å¤§å˜å°)&lt;/li&gt;
&lt;li&gt;OSPFæ”¯æŒè´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;li&gt;æ”¯æŒåŒºåŸŸåˆ’åˆ†ï¼Œæä¾›åˆ†çº§ç®¡ç†ï¼Œä½¿å¾—SPFçš„ç®—æ³•æ›´ä¼˜ï¼Œç®—æ³•ä½¿ç”¨é¢‘ç‡æ›´ä½ï¼ŒèŠ‚çº¦äº†é“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼Œé™ä½äº†è·¯ç”±çš„å¼€é”€ã€‚ã€åªæœ‰åŒºåŸŸ0ä¸ºéª¨å¹²åŒºåŸŸï¼ŒOSPFè¦æ±‚æ‰€æœ‰ééª¨å¹²åŒºåŸŸéƒ½è¦å’Œéª¨å¹²åŒºåŸŸ(å³area0)è¿æ¥ã€‘&lt;/li&gt;
&lt;li&gt;OSPFæ”¯æŒ3ç§è®¤è¯ï¼š0æ˜¯ä¸è®¤è¯ï¼Œ1æ˜¯æ˜æ–‡è®¤è¯ï¼Œ2æ˜¯MD5è®¤è¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒè§¦å‘æ›´æ–°ï¼ˆä¸ä»…é˜²ç¯ï¼Œè¿˜èƒ½æ›´å¿«çš„æ”¶æ•›ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFçš„è·¯ç”±ä¼˜å…ˆçº§10ï¼ˆå†…éƒ¨ï¼ŒOSPFè‡ªèº«äº§ç”Ÿçš„ï¼‰å’Œ150ï¼ˆå¤–éƒ¨ï¼Œä»å…¶ä»–åè®®å¼•å…¥çš„ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFçš„åº¦é‡å€¼é‡‡ç”¨å¼€é”€costä½œä¸ºæ ‡å‡†ï¼ˆRIPä½¿ç”¨è·³æ•°é€‰è·¯ï¼Œå®¹æ˜“äº§ç”Ÿæ¬¡ä¼˜è·¯å¾„ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFè¦ç»´æŠ¤3å¼ è¡¨ï¼šé‚»å±…è¡¨ã€æ‹“æ‰‘è¡¨ã€è·¯ç”±è¡¨ã€é…ç½®å¥½OSPFä¹‹åï¼Œè®¾å¤‡ä¹‹é—´å…ˆæ³›æ´ªLSAæ„å»º&lt;strong&gt;é‚»å±…è¡¨&lt;/strong&gt;ï¼Œç›¸äº’äº¤æ¢ä¿¡æ¯ä¹‹åæ„å»ºæ•°æ®åº“LSDBï¼Œè¿è¡ŒSPFç®—æ³•å½¢æˆ&lt;strong&gt;è·¯ç”±è¡¨&lt;/strong&gt;ã€‘&lt;/li&gt;
&lt;li&gt;OSPFé‡‡ç”¨ç»„æ’­ã€ç»„æ’­åœ°å€ï¼š224.0.0.5(æ‰€æœ‰è®¾å¤‡ç›‘å¬)å’Œ224.0.0.6(ä»…DRå’ŒBDRç›‘å¬)ã€‘çš„æ–¹å¼æ¥æ”¶å‘æŠ¥æ–‡ï¼Œå¯ä»¥å‡å°‘å¯¹æ²¡æœ‰è¿è¡ŒOSPFè®¾å¤‡çš„å¹²æ‰°ï¼ˆRIPçš„ç»„æ’­åœ°å€ï¼š224.0.0.9ï¼ŒEIGRPçš„ç»„æ’­åœ°å€ï¼š224.0.0.10ï¼‰&lt;/li&gt;
&lt;li&gt;OSPFä¸ºäº†ç¡®ä¿é“¾è·¯çŠ¶æ€æ•°æ®åº“çš„åŒæ­¥ï¼Œæ¯1800ç§’ï¼ˆ30åˆ†é’Ÿï¼‰æ›´æ–°ä¸€æ¬¡&lt;/li&gt;
&lt;li&gt;OSPFæ˜¯æ²¡æœ‰ç¯è·¯çš„åè®®ï¼Œä½†ä»…é™äºä¸€ä¸ªåŒºåŸŸå†…ï¼Œåœ¨ä¸€ä¸ªåŒºåŸŸå†…æ˜¯ç»å¯¹æ— ç¯çš„ï¼ŒåŸºäºç®—æ³•çš„å¤©ç„¶æ— ç¯ã€‚OSPFåœ¨åŒºåŸŸå†…æ˜¯é“¾è·¯çŠ¶æ€åè®®ï¼Œåœ¨åŒºåŸŸé—´æ˜¯è·ç¦»çŸ¢é‡åè®®ç®—æ³•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ¦‚å¿µæœ¯è¯­&#34;&gt;æ¦‚å¿µæœ¯è¯­&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;é“¾è·¯ï¼šOSPFè·¯ç”±å™¨çš„ä¸€ä¸ªæ¥å£&lt;/li&gt;
&lt;li&gt;é“¾è·¯çŠ¶æ€ï¼šå„æ¡é“¾è·¯çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¾‹å¦‚æ¥å£çš„IPåœ°å€ã€å¼€é”€ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;åŒºåŸŸï¼šåŒä¸€ç»„è·¯ç”±å™¨ç»„æˆï¼Œå…±äº«å…±åŒçš„ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;è‡ªåˆ¶ç³»ç»Ÿï¼šä¸€ä¸ªè‡ªåˆ¶ç³»ç»Ÿæ˜¯æŒ‡ä½¿ç”¨åŒä¸€ç§è·¯ç”±åè®®äº¤æ¢è·¯ç”±ä¿¡æ¯çš„ä¸€ç»„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;LSAï¼ˆé“¾è·¯çŠ¶æ€é€šå‘Šï¼‰å’ŒLSUï¼ˆé“¾è·¯çŠ¶æ€æ›´æ–°ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;LSAï¼šç”¨æ¥æè¿°è·¯ç”±å™¨çš„ä¿¡æ¯å’Œé“¾è·¯çš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;LSUï¼šå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªLSAï¼Œé€šè¿‡LSAç»™é‚»å±…&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;SPFç®—æ³•ï¼šè¿ªæ°ç§‘æ–¯ç‰¹æ‹‰ç®—æ³•ï¼Œå’ŒISISä½¿ç”¨åŒç§ç®—æ³•&lt;/li&gt;
&lt;li&gt;é‚»å±…ï¼ˆNeighborï¼‰å…³ç³»å’Œé‚»æ¥ï¼ˆAdjacencyï¼‰å…³ç³»&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;é‚»å±…å…³ç³»ï¼šä¸¤å°è®¾å¤‡å…±äº«åŒä¸€æ¡é“¾è·¯ï¼Œå¹¶ä¸”äº¤äº’äº†ä¸€äº›å‚æ•°ï¼ˆhelloæŠ¥æ–‡ï¼‰ï¼Œå½¢æˆé‚»å±…å…³ç³»ï¼ˆ2-wayçŠ¶æ€ï¼‰ã€æœ‰ç«¯å£è¿æ¥åˆ°åŒä¸€ä¸ªç½‘æ®µçš„ä¸¤ä¸ªè·¯ç”±å™¨å°±æ˜¯é‚»å±…è·¯ç”±å™¨ï¼Œé‚»å±…å…³ç³»ç”±OSPFçš„Helloåè®®ç»´æŠ¤ï¼ˆå¥³æœ‹å‹ï¼‰ã€‘&lt;/li&gt;
&lt;li&gt;é‚»æ¥å…³ç³»ï¼šç›¸äº’äº¤æ¢LSAåŒæ­¥æ•°æ®åº“çš„OSPFè®¾å¤‡ã€ä»é‚»å±…å…³ç³»ä¸­é€‰å‡ºçš„ä¸ºäº†äº¤æ¢è·¯ç”±ä¿¡æ¯è€Œå½¢æˆçš„å…³ç³»ï¼ˆé¢†è¯äº†ï¼‰ã€‘&lt;br&gt;
&lt;code&gt;é‚»å±…æ˜¯å½¢æˆé‚»æ¥å…³ç³»çš„å¿…è¦æ¡ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;8&#34;&gt;
&lt;li&gt;DRï¼ˆæŒ‡å®šè·¯ç”±å™¨ï¼‰å’ŒBDRï¼ˆå¤‡ä»½æŒ‡å®šè·¯ç”±å™¨ï¼‰&lt;/li&gt;
&lt;li&gt;Router IDï¼Œç”¨æ¥æ ‡è¯†è¿è¡ŒOSPFçš„è®¾å¤‡ï¼Œæ˜¯ä¸€ä¸ªç±»IPåœ°å€ã€‚æ¯ä¸€ä¸ªè·¯ç”±å™¨å¿…é¡»è¦æœ‰ä¸€ä¸ªRouterIDï¼Œå¦‚æœæ²¡æœ‰æ‰‹å·¥æŒ‡å®šï¼Œä¼šè‡ªåŠ¨é€‰ä¸¾ï¼Œé€‰ä¸¾è§„åˆ™ä¸ºã€æ¯”è¾ƒé€»è¾‘æ¥å£ï¼Œé€‰æ‹©åœ°å€æœ€å¤§çš„ä¸€ä¸ªï¼›å¦‚æœæ²¡æœ‰é€»è¾‘æ¥å£ï¼Œæ¯”è¾ƒæ¿€æ´»çš„ç‰©ç†æ¥å£IPï¼Œé€‰æ‹©åœ°å€æœ€å¤§çš„ã€‚å¦‚æœä¿®æ”¹RouterIDï¼Œä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯OSPFè¿›ç¨‹&lt;code&gt;reset ospf process&lt;/code&gt;æˆ–è€…è®¾å¤‡ã€‘&lt;br&gt;
é…ç½®æ–¹æ³•ï¼šè¿›ç¨‹ä¸‹é…ç½®(è¿›ç¨‹ä¸‹é…ç½®çš„ä¼˜å…ˆäºå…¨å±€çš„)&lt;code&gt;ospf 10 router-id 2.2.2.2&lt;/code&gt;æˆ–è€…å…¨å±€ä¸‹é…ç½®(å„è¿›ç¨‹ä¼šè‡ªåŠ¨è°ƒç”¨)&lt;code&gt;router-id 1.1.1.1&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfè·¯ç”±å™¨çš„åˆ†ç±»&#34;&gt;OSPFè·¯ç”±å™¨çš„åˆ†ç±»&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å†…éƒ¨è·¯ç”±å™¨ï¼ˆIRï¼‰&lt;/strong&gt;ï¼šå†…éƒ¨è·¯ç”±å™¨æ˜¯æŒ‡æ‰€æœ‰æ‰€è¿æ¥çš„ç½‘æ®µéƒ½åœ¨ä¸€ä¸ªåŒºåŸŸçš„è·¯ç”±å™¨ï¼Œå±äºåŒä¸€ä¸ªåŒºåŸŸçš„IRç»´æŠ¤ç›¸åŒçš„LSDB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼ˆABRï¼‰&lt;/strong&gt;ï¼šåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨æ˜¯æŒ‡è¿æ¥åˆ°å¤šä¸ªåŒºåŸŸçš„è·¯ç”±å™¨ï¼ŒABRä¸ºæ¯ä¸€ä¸ªæ‰€è¿æ¥çš„åŒºåŸŸç»´æŠ¤ä¸€ä¸ªLSDBï¼Œè¿æ¥&lt;strong&gt;éª¨å¹²åŒºåŸŸå’Œééª¨å¹²åŒºåŸŸ&lt;/strong&gt;çš„è®¾å¤‡ã€‚ã€ä½äºä¸€ä¸ªæˆ–å¤šä¸ªOSPFåŒºåŸŸè¾¹ç•Œä¸Šã€å°†è¿™äº›åŒºåŸŸè¿æ¥åˆ°ä¸»å¹²ç½‘ç»œçš„è·¯ç”±å™¨ã€‚&lt;strong&gt;ABRè¢«è®¤ä¸ºåŒæ—¶æ˜¯OSPFä¸»å¹²å’Œç›¸è¿åŒºåŸŸçš„æˆå‘˜ï¼Œå¯ä»¥åŒæ—¶å±äºä¸¤ä¸ªä»¥ä¸Šçš„åŒºåŸŸ&lt;/strong&gt;ï¼Œä½†&lt;strong&gt;å…¶ä¸­ä¸€ä¸ªå¿…é¡»æ˜¯éª¨å¹²åŒºåŸŸ&lt;/strong&gt;ï¼ˆarea 0ï¼‰ã€‚å› æ­¤ï¼Œå®ƒä»¬&lt;strong&gt;åŒæ—¶ç»´æŠ¤ç€æè¿°ä¸»å¹²æ‹“æ‰‘å’Œå…¶ä»–åŒºåŸŸæ‹“æ‰‘çš„è·¯ç”±é€‰æ‹©è¡¨&lt;/strong&gt;ã€‚ã€‘&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;éª¨å¹²è·¯ç”±å™¨ï¼ˆBR)&lt;/strong&gt;ï¼šéª¨å¹²è·¯ç”±å™¨æ˜¯æŒ‡è‡³å°‘æœ‰ä¸€ä¸ªç«¯å£ï¼ˆæˆ–è€…è™šè¿æ¥ï¼‰è¿æ¥åˆ°éª¨å¹²åŒºåŸŸçš„è·¯ç”±å™¨ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„ABRå’Œæ‰€æœ‰ç«¯å£éƒ½åœ¨éª¨å¹²åŒºåŸŸçš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ASè¾¹ç•Œè·¯ç”±å™¨ASBR&lt;/strong&gt;ï¼šå’Œå…¶ä»–ASä¸­çš„è·¯ç”±å™¨äº¤æ¢è·¯ç”±ä¿¡æ¯çš„è·¯ç”±å™¨ï¼Œè¿™ç§è·¯ç”±å™¨å‘æ•´ä¸ªASé€šå‘ŠASå¤–éƒ¨è·¯ç”±ä¿¡æ¯ã€‚ASè¾¹ç•Œè·¯ç”±å™¨å¯ä»¥æ˜¯å†…éƒ¨è·¯ç”±å™¨IRï¼Œæˆ–è€…æ˜¯ABRï¼Œå¯ä»¥å±äºéª¨å¹²åŒºåŸŸä¹Ÿå¯ä»¥ä¸å±äºéª¨å¹²åŒºåŸŸã€‚ã€ä¸å…¶ä»–ASäº¤æ¢è·¯ç”±ä¿¡æ¯çš„è·¯ç”±å™¨ç§°ä¸ºASBRï¼Œä½¿ç”¨äº†å¤šç§è·¯ç”±åè®®ã€‚å®ƒä½äºOSPFè‡ªä¸»ç³»ç»Ÿå’ŒéOSPFç½‘ç»œä¹‹é—´ã€‚ASBRå¯ä»¥è¿è¡ŒOSPFå’Œå¦ä¸€è·¯ç”±é€‰æ‹©åè®®ï¼ˆå¦‚RIPï¼‰ï¼ŒæŠŠOSPFä¸Šçš„è·¯ç”±å‘å¸ƒåˆ°å…¶ä»–è·¯ç”±åè®®ä¸Šã€‚åªè¦ä¸€å°OSPFè·¯ç”±å™¨å¼•å…¥äº†å¤–éƒ¨è·¯ç”±çš„ä¿¡æ¯ï¼Œå®ƒå°±æˆä¸ºäº†ASBRã€‚&lt;strong&gt;ASBRå¿…é¡»å¤„äºéå­˜æ ¹OSPFåŒºåŸŸä¸­&lt;/strong&gt;ã€‚&lt;strong&gt;ç”±ASBRå‘å‡ºçš„LSA5ï¼Œç”¨äºå‘è‡ªæ²»ç³»ç»ŸåŒºåŸŸé€šå‘Šç½‘ç»œæ‹“æ‰‘&lt;/strong&gt;ã€‚&lt;strong&gt;ABSRä¸€èˆ¬æ˜¯ä½äºéOSPFåŒºåŸŸå’ŒOSPFåŒºåŸŸé—´äº’è”çš„è·¯ç”±å™¨ï¼Œè€ŒABRæ˜¯OSPFå¤šä¸ªåŒºåŸŸè¿æ¥åŒºåŸŸ0é—´çš„è·¯ç”±å™¨&lt;/strong&gt;ã€‚ã€‘&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ospfæŠ¥æ–‡&#34;&gt;OSPFæŠ¥æ–‡&lt;/h1&gt;
&lt;h2 id=&#34;æŠ¥æ–‡å¤´éƒ¨&#34;&gt;æŠ¥æ–‡å¤´éƒ¨&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587202960222.png&#34; alt=&#34;OSPFæŠ¥æ–‡å¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚ä½•éªŒè¯OSPFæŠ¥æ–‡å¤´éƒ¨æ˜¯å¦åˆæ³•ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.ç‰ˆæœ¬å·å¿…é¡»ä¸º2&lt;br&gt;
2.Area IDå¿…é¡»è¦å’Œæ¥æ”¶ç«¯çš„Area IDä¸€è‡´&lt;br&gt;
3.è®¤è¯ç±»å‹å’Œè®¤è¯å¯†ç å¿…é¡»ä¸€è‡´&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;RouterIDä¸èƒ½å†²çª&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æŠ¥æ–‡åˆ†ç±»&#34;&gt;æŠ¥æ–‡åˆ†ç±»&lt;/h2&gt;
&lt;h3 id=&#34;hellohello-packet&#34;&gt;Helloï¼ˆHello Packetï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;ï¼ˆåˆšè¿›é¥­åº—ï¼ŒæœåŠ¡å‘˜æ‰“æ‹›å‘¼ï¼‰å‘¨æœŸæ€§çš„å‘é€ï¼Œç”¨æ¥å‘ç°ã€å»ºç«‹å’Œç»´æŠ¤OSPFçš„é‚»å±…å…³ç³»ï¼ŒæŠ¥æ–‡å†…å®¹åŒ…æ‹¬ä¸€äº›å®šæ—¶å™¨çš„æ•°å€¼ã€DRã€BDRä»¥åŠè‡ªå·±å·²çŸ¥çš„é‚»å±…&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587204145080.png&#34; alt=&#34;OSPF-hello&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;é™é»˜ç«¯å£ï¼ˆsilent-interfaceï¼‰æ—¢ä¸æ¥æ”¶helloæŠ¥æ–‡ï¼Œä¹Ÿä¸å‘é€helloæŠ¥æ–‡&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network Maskï¼š&lt;br&gt;
å‘é€HelloæŠ¥æ–‡çš„æ¥å£çš„ç½‘ç»œæ©ç ï¼Œåªæœ‰åœ¨å¹¿æ’­ç½‘ç»œæˆ–è€…NBMAç½‘ç»œæ‰æœ‰æ„ä¹‰ï¼ˆåœ¨P2På’ŒP2MPé“¾è·¯ä¸Šæ˜¯ä¸æ£€æµ‹çš„ï¼‰&lt;/li&gt;
&lt;li&gt;HelloIntervalï¼š&lt;br&gt;
å‘é€HelloæŠ¥æ–‡çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œåœ¨å¹¿æ’­ç½‘ç»œä¸­æ˜¯10ç§’ä¸€æ¬¡ï¼Œåœ¨NBMAä¸­æ˜¯30ç§’ä¸€æ¬¡&lt;code&gt;ä¿®æ”¹helloæ—¶é—´ï¼šè¿›å…¥æ¥å£è§†å›¾æ‰§è¡Œospf timer hello 5ï¼Œç›¸åº”çš„RouterDeadIntervalæ—¶é—´ä¹Ÿä¼šä¿®æ”¹ä¸º20ç§’&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Optionsï¼š&lt;br&gt;
æ ‡è¯†å‘é€æ­¤æŠ¥æ–‡çš„OSPFè·¯ç”±å™¨æ‰€æ”¯æŒçš„å¯é€‰åŠŸèƒ½ï¼Œå…·ä½“çš„å¯é€‰åŠŸèƒ½ä¸åœ¨æœ¬è¯¾ç¨‹çš„è®¨è®ºèŒƒå›´ä¹‹åˆ—
&lt;ul&gt;
&lt;li&gt;DNä½ï¼šDownæ¯”ç‰¹ä½ï¼Œæ˜¯ç”¨æ¥é˜²ç¯çš„ï¼ˆMPLS VPNåº”ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;Oä½ï¼šç”¨æ¥æ”¯æŒ9ã€10ã€11ç±»LSAçš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;DCä½ï¼šå½“å§‹å‘é“¾è·¯æ”¯æŒæŒ‰éœ€é“¾è·¯æ—¶è¯¥æ¯”ç‰¹ä½ä¼šç½®ä½&lt;/li&gt;
&lt;li&gt;Nä½ï¼šNä½è¡¨æ˜æ˜¯å¦æ”¯æŒ7ç±»LSAï¼ŒN=0è¡¨æ˜ä¸æ¥æ”¶å’Œå‘é€7ç±»LSA&lt;/li&gt;
&lt;li&gt;Pä½ï¼šç”¨åœ¨NSSA LSAï¼ˆ7ç±»LSAï¼‰ï¼Œæ˜¯å¦åš7ç±»è½¬æˆ5ç±»&lt;/li&gt;
&lt;li&gt;Eä½ï¼šèƒ½å¦æ¥æ”¶å¤–éƒ¨è·¯ç”±ï¼ˆ5ç±»LSAï¼‰ï¼Œé»˜è®¤Eä½æ˜¯1ï¼Œæ˜¯å¯ä»¥æ¥æ”¶å¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Rtr Priï¼š&lt;br&gt;
å‘é€HelloæŠ¥æ–‡çš„æ¥å£çš„Router Priorityï¼Œè·¯ç”±çš„ä¼˜å…ˆçº§ï¼Œç”¨æ¥é€‰ä¸¾DRå’ŒBDRçš„&lt;/li&gt;
&lt;li&gt;RouterDeadIntervalï¼š&lt;br&gt;
å®£å‘Šé‚»å±…è·¯ç”±å™¨ä¸ç»§ç»­åœ¨è¯¥ç½‘æ®µä¸Šè¿è¡ŒOSPFçš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’ï¼Œé€šå¸¸ä¸º4å€HelloIntervalï¼Œå³åœ¨å¹¿æ’­ç½‘ç»œä¸­æ˜¯40ç§’ï¼Œåœ¨NBMAä¸­æ˜¯120ç§’&lt;code&gt;ä¿®æ”¹æ­»äº¡æ—¶é—´ï¼šè¿›å…¥æ¥å£è§†å›¾åæ‰§è¡Œospf timer dead 80ï¼Œæ­¤æ—¶ä¸ä¼šå½±å“helloæ—¶é—´ï¼Œå³helloæ—¶é—´å½±å“deadæ—¶é—´ï¼Œä½†æ˜¯deadæ—¶é—´ä¸å½±å“helloæ—¶é—´&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Designated Routerï¼š&lt;br&gt;
å‘é€HelloæŠ¥æ–‡çš„è·¯ç”±å™¨æ‰€é€‰ä¸¾å‡ºçš„&lt;strong&gt;DRæ¥å£çš„IPåœ°å€&lt;/strong&gt;ã€‚å¦‚æœè®¾ç½®ä¸º0.0.0.0ï¼Œè¡¨ç¤ºæœªé€‰ä¸¾DRè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;Backup Designated Routerï¼š&lt;br&gt;
å‘é€HelloæŠ¥æ–‡çš„è·¯ç”±å™¨æ‰€é€‰ä¸¾å‡ºçš„BDRçš„IPåœ°å€ã€‚å¦‚æœè®¾ç½®ä¸º0.0.0.0ï¼Œè¡¨ç¤ºæœªé€‰ä¸¾BDRè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;Neighborï¼šé‚»å±…è·¯ç”±å™¨çš„Router IDåˆ—è¡¨ï¼Œè¡¨ç¤ºæœ¬è·¯ç”±å™¨å·²ç»ä»è¯¥é‚»å±…æ”¶åˆ°åˆæ³•çš„HelloæŠ¥æ–‡ï¼Œé‚»å±…è·¯ç”±å™¨çš„Rtouer IDï¼ˆè¡¨æ˜OSPFçš„é‚»å±…çŠ¶æ€ï¼‰&lt;br&gt;
&lt;code&gt;åŒä¸€ä¸ªåŒºåŸŸå†…çš„è·¯ç”±å™¨ä¸Šçš„ospfçš„helloæ—¶é—´å’Œdeadæ—¶é—´å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™æ— æ³•å¯åŠ¨&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;éªŒè¯ä¸€ä¸ªHelloæŠ¥æ–‡æ˜¯å¦åˆæ³•ä¹‹å‰é¦–å…ˆéœ€è¦éªŒè¯ä¸€ä¸ªOSPFæŠ¥æ–‡æ˜¯å¦åˆæ³•ã€‚&lt;br&gt;
éªŒè¯ä¸€ä¸ªæ¥æ”¶åˆ°çš„HelloæŠ¥æ–‡æ˜¯å¦åˆæ³•åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæ¥æ”¶ç«¯å£çš„ç½‘ç»œç±»å‹æ˜¯å¹¿æ’­å‹ï¼Œç‚¹åˆ°å¤šç‚¹æˆ–è€…NBMAï¼Œæ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­Network Maskå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„ç½‘ç»œæ©ç ä¸€è‡´ï¼Œå¦‚æœæ¥æ”¶ç«¯å£çš„ç½‘ç»œç±»å‹ä¸ºç‚¹åˆ°ç‚¹ç±»å‹æˆ–è€…æ˜¯è™šè¿æ¥ï¼Œåˆ™ä¸æ£€æŸ¥Network Maskå­—æ®µï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„HelloIntervalå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„é…ç½®ä¿æŒä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„RouterDeadIntervalå­—æ®µå¿…é¡»å’Œæ¥æ”¶ç«¯å£çš„é…ç½®ä¿æŒä¸€è‡´ï¼›&lt;/li&gt;
&lt;li&gt;æ‰€æ¥æ”¶çš„HelloæŠ¥æ–‡ä¸­çš„Optionså­—æ®µä¸­çš„Eä½ï¼ˆè¡¨ç¤ºæ˜¯å¦æ¥æ”¶å¤–éƒ¨è·¯ç”±ä¿¡æ¯ï¼‰å¿…é¡»å’Œç›¸å…³åŒºåŸŸçš„é…ç½®ä¿æŒä¸€è‡´ã€‚å…³äºæ­¤æ¯”ç‰¹çš„å…·ä½“æ„ä¹‰å°†åœ¨ã€ŠOSPFç‰¹æ®ŠåŒºåŸŸã€‹ä¸­è¯¦ç»†è§£é‡Šã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;é‚»å±…çŠ¶æ€æœº&#34;&gt;é‚»å±…çŠ¶æ€æœº&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587217625536.png&#34; alt=&#34;ospf-é‚»å±…çŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;down&#34;&gt;Down&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯é‚»å±…çš„åˆå§‹çŠ¶æ€ï¼Œè¡¨ç¤ºæ²¡æœ‰ä»é‚»å±…æ”¶åˆ°ä»»ä½•ä¿¡æ¯æˆ–è€…é‚»å±…å¤±æ•ˆåå˜ä¸ºè¯¥çŠ¶æ€ã€‚åœ¨NBMAç½‘ç»œä¸Šï¼Œæ­¤çŠ¶æ€ä¸‹ä»ç„¶å¯ä»¥å‘é™æ€é…ç½®çš„é‚»å±…å‘é€HelloæŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºPollIntervalï¼Œé€šå¸¸å’ŒRouterDeadIntervalé—´éš”ç›¸åŒã€‚&lt;/p&gt;
&lt;h5 id=&#34;attempt&#34;&gt;Attempt&lt;/h5&gt;
&lt;p&gt;æ­¤çŠ¶æ€åªåœ¨NBMAç½‘ç»œä¸Šå­˜åœ¨ï¼Œè¡¨ç¤ºæ²¡æœ‰æ”¶åˆ°é‚»å±…çš„ä»»ä½•ä¿¡æ¯ï¼Œä½†æ˜¯å·²ç»å‘¨æœŸæ€§çš„å‘é‚»å±…å‘é€æŠ¥æ–‡ï¼Œå‘é€é—´éš”ä¸ºHelloIntervalã€‚å¦‚æœRouterDeadIntervalé—´éš”å†…æœªæ”¶åˆ°é‚»å±…çš„HelloæŠ¥æ–‡ï¼Œåˆ™è½¬ä¸ºDownçŠ¶æ€ã€‚&lt;/p&gt;
&lt;h5 id=&#34;init&#34;&gt;Init&lt;/h5&gt;
&lt;p&gt;åœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè·¯ç”±å™¨å·²ç»ä»é‚»å±…æ”¶åˆ°äº†HelloæŠ¥æ–‡ï¼Œä½†æ˜¯è‡ªå·±ä¸åœ¨æ‰€æ”¶åˆ°çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼Œè¡¨ç¤ºå°šæœªä¸é‚»å±…å»ºç«‹åŒå‘é€šä¿¡å…³ç³»ã€‚åœ¨æ­¤çŠ¶æ€ä¸‹çš„é‚»å±…è¦è¢«åŒ…å«åœ¨è‡ªå·±æ‰€å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1-WayReceived&lt;br&gt;
æ­¤äº‹ä»¶è¡¨ç¤ºè·¯ç”±å™¨å‘ç°è‡ªå·±æ²¡æœ‰åœ¨é‚»å±…å‘é€HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼Œé€šå¸¸æ˜¯ç”±äºå¯¹ç«¯é‚»å±…é‡å¯é€ æˆçš„ã€‚&lt;/li&gt;
&lt;li&gt;2-WayReceived&lt;br&gt;
æ­¤äº‹ä»¶è¡¨ç¤ºè·¯ç”±å™¨å‘ç°ä¸é‚»å±…çš„åŒå‘é€šä¿¡å·²ç»å¼€å§‹ï¼ˆå‘ç°è‡ªå·±åœ¨é‚»å±…å‘é€çš„HelloæŠ¥æ–‡çš„é‚»å±…åˆ—è¡¨ä¸­ï¼‰ã€‚InitçŠ¶æ€ä¸‹äº§ç”Ÿæ­¤äº‹ä»¶ä¹‹åï¼Œå¦‚æœéœ€è¦å’Œé‚»å±…å»ºç«‹é‚»æ¥å…³ç³»åˆ™&lt;strong&gt;è¿›å…¥ExStartçŠ¶æ€&lt;/strong&gt;ï¼Œå¼€å§‹&lt;strong&gt;æ•°æ®åº“åŒæ­¥&lt;/strong&gt;è¿‡ç¨‹ï¼Œå¦‚æœä¸èƒ½ä¸é‚»å±…å»ºç«‹é‚»æ¥å…³ç³»åˆ™è¿›å…¥&lt;strong&gt;2-Way&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æˆä¸ºé‚»å±…çš„6ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.RIDä¸åŒ&lt;br&gt;
2.ç‰¹æ®ŠåŒºåŸŸçš„flagå­—æ®µç›¸åŒ&lt;br&gt;
3.å­ç½‘æ©ç ç›¸åŒ&lt;br&gt;
4.éªŒè¯ç›¸åŒ&lt;br&gt;
5.åŒºåŸŸå·ç›¸åŒ&lt;br&gt;
6.hello/deadç›¸åŒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;2-way&#34;&gt;2-Way&lt;/h5&gt;
&lt;p&gt;åœ¨æ­¤çŠ¶æ€ä¸‹ï¼ŒåŒå‘é€šä¿¡å·²ç»å»ºç«‹ï¼Œä½†æ˜¯æ²¡æœ‰ä¸é‚»å±…å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;strong&gt;è¿™æ˜¯å»ºç«‹é‚»æ¥å…³ç³»ä»¥å‰çš„æœ€é«˜çº§çŠ¶æ€ã€‚DRå’ŒBDRæ˜¯ä»è¾¾åˆ°2-wayæˆ–è€…æ›´é«˜çŠ¶æ€çš„é‚»å±…ä¸­é€‰ä¸¾å‡ºæ¥çš„ï¼Œå³æ­¤çŠ¶æ€æ˜¯é€‰ä¸¾DRå’ŒBDRçš„å¼€å§‹ï¼ˆé€‰ä¸¾å‘¨æœŸä¸º40ç§’ï¼Œé€‰ä¸¾æœŸä¹‹åæ²¡æœ‰æŠ¢å æ€§ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸¤ç«¯åŒæ—¶è¿›å…¥2-wayæ ‡å¿—ç€é‚»å±…å…³ç³»çš„å»ºç«‹ï¼Œè¿›å…¥2-wayåï¼Œè¦å»ºç«‹é‚»æ¥å…³ç³»ï¼ˆFullï¼‰çš„æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ¥å£ç±»å‹ä¸ºp2pï¼ˆç‚¹åˆ°ç‚¹ï¼‰ï¼Œp2MPï¼ˆç‚¹åˆ°å¤šï¼‰&lt;/li&gt;
&lt;li&gt;è‡ªå·±ä¸ºDRï¼Œæˆ–è€…ä¸ºBDR&lt;/li&gt;
&lt;li&gt;é‚»å±…ä¸ºDRï¼Œæˆ–BDR&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;2-wayçŠ¶æ€ï¼ˆé‚»å±…å…³ç³»ï¼‰å»ºç«‹&lt;/strong&gt;çš„è¿‡ç¨‹ï¼š&lt;code&gt;RTAå’ŒRTBçš„Router IDåˆ†åˆ«ä¸º1.1.1.1å’Œ2.2.2.2&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;RTAå¯åŠ¨OSPFåï¼ŒRTAä¼šå‘é€ç¬¬ä¸€ä¸ªHelloæŠ¥æ–‡ï¼ˆä»¥ç»„æ’­çš„æ–¹å¼å‘é€ï¼Œç›®çš„åœ°å€ä¸º224.0.0.5ï¼‰ï¼Œæ­¤æ—¶çŠ¶æ€ä¸ºDownï¼Œ&lt;code&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¦–æ¬¡å‘é€helloæŠ¥æ–‡çš„æ—¶å€™ä¸åŒ…å«é‚»å±…å­—æ®µï¼ŒæŠ¥æ–‡é•¿åº¦ä¸º44&lt;/code&gt;ã€‚RTBæ”¶åˆ°RTAçš„HelloæŠ¥æ–‡åï¼ŒçŠ¶æ€ç½®ä¸ºinitã€‚&lt;/li&gt;
&lt;li&gt;RTBå‘é€HelloæŠ¥æ–‡ï¼ŒRTAæ”¶åˆ°RTBå‘é€çš„æŠ¥æ–‡ä¹‹åï¼ŒçŠ¶æ€ä¸ºInitã€‚&lt;/li&gt;
&lt;li&gt;RTBå‘RTAå‘é€&lt;strong&gt;é‚»å±…åˆ—è¡¨ä¸º1.1.1.1&lt;/strong&gt;çš„HelloæŠ¥æ–‡ï¼ŒHelloæŠ¥æ–‡å‘é€ä¸‰ä¸ªå‘¨æœŸï¼ˆä¹Ÿæœ‰è¶…è¿‡3ä¸ªå‘¨æœŸï¼‰ï¼ŒRTAåœ¨æ”¶åˆ°RTBå‘æ¥çš„æŠ¥æ–‡é‚»å±…åˆ—è¡¨ä¸­å‘ç°è‡ªå·±çš„Router IDï¼Œè€Œä¸”&lt;strong&gt;åŒ¹é…6ä¸ªæ¡ä»¶&lt;/strong&gt;ï¼ˆå»ºç«‹é‚»å±…çš„6ä¸ªæ¡ä»¶ï¼‰æˆåŠŸä¹‹åï¼ŒçŠ¶æ€ä¸º2-wayï¼Œä¹Ÿç§°ä¸ºé‚»å±…çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;RTAå‘RTBå‘é€&lt;strong&gt;é‚»å±…åˆ—è¡¨ä¸º2.2.2.2&lt;/strong&gt;çš„helloæŠ¥æ–‡ï¼ŒHelloæŠ¥æ–‡å‘é€ä¸‰ä¸ªå‘¨æœŸï¼ˆä¹Ÿæœ‰è¶…è¿‡3ä¸ªå‘¨æœŸï¼‰ï¼ŒRTBåœ¨æ”¶åˆ°helloæŠ¥æ–‡é‚»å±…åˆ—è¡¨ä¸­å‘ç°è‡ªå·±çš„Router IDï¼Œè€Œä¸”åŒ¹é…6ä¸ªæ¡ä»¶ï¼ˆå»ºç«‹é‚»å±…çš„6ä¸ªæ¡ä»¶ï¼‰æˆåŠŸä¹‹åï¼Œ çŠ¶æ€ç½®ä¸º2-wayï¼Œä¹Ÿç§°ä¸ºé‚»å±…çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;DRå’ŒBDRçš„ä½œç”¨ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å‡å°‘é‚»æ¥å…³ç³»çš„æ•°é‡ï¼Œä»è€Œå‡å°‘é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯çš„äº¤æ¢æ¬¡æ•°ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œå‡å°‘è·¯ç”±å™¨ç¡¬ä»¶çš„è´Ÿæ‹…ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªæ—¢ä¸æ˜¯DRä¹Ÿä¸æ˜¯BDRçš„è·¯ç”±å™¨åªä¸DRå’ŒBDRå½¢æˆé‚»æ¥å…³ç³»å¹¶äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ä»¥åŠè·¯ç”±ä¿¡æ¯ï¼Œè¿™æ ·å°±å¤§å¤§å‡å°‘äº†å¤§å‹å¹¿æ’­å‹ç½‘ç»œå’ŒNBMAç½‘ç»œä¸­çš„é‚»æ¥å…³ç³»æ•°é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;DRå’ŒBDRçš„é€‰ä¸¾è§„åˆ™ï¼š&lt;code&gt;ä¸¤ç«¯åŒæ—¶è¿›å…¥2-wayï¼Œå¼€å§‹é€‰ä¸¾&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆæ£€æŸ¥HelloæŠ¥æ–‡ä¸­çš„DRå­—æ®µå’ŒBDRå­—æ®µæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœéƒ½ä¸ºç©ºï¼ˆæ„å‘³ç€æ²¡æœ‰DRå’ŒBDRï¼‰ï¼Œä¼š&lt;strong&gt;é¦–å…ˆé€‰ä¸¾å‡ºBDR&lt;/strong&gt;ï¼Œ&lt;strong&gt;é€‰ä¸¾è§„åˆ™&lt;/strong&gt;ï¼šæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œè¶Šå¤§è¶Šä¼˜ï¼ˆé»˜è®¤ä¸º1ï¼Œå–ç½®èŒƒå›´ä¸º0-255ï¼Œ  0è¡¨ç¤ºä¸å‚ä¸é€‰ä¸¾ï¼‰ï¼Œå¦‚æœç›¸åŒï¼Œæ¯”è¾ƒRouter IDï¼Œè¶Šå¤§è¶Šä¼˜ï¼›&lt;strong&gt;BDRé€‰ä¸¾å‡ºåï¼Œä¼šè‡ªåŠ¨å‡çº§ä¸ºDRï¼Œç„¶åé‡æ–°é€‰ä¸¾BDRï¼Œè§„åˆ™å’Œä¹‹å‰ä¸€æ ·&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœDRå­—æ®µä¸ºç©ºï¼ŒBDRä¸ä¸ºç©ºï¼Œåˆ™BDRå‡çº§ä¸ºDRï¼Œé‡æ–°å†é€‰ä¸¾å‡ºBDRï¼›å¦‚æœBDRä¸ºç©ºï¼ŒDRä¸ä¸ºç©ºï¼Œé‡æ–°é€‰ä¸¾å‡ºBDR&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;exstart&#34;&gt;Exstart&lt;/h5&gt;
&lt;p&gt;äº¤æ¢ä¿¡æ¯çš„åˆå§‹åŒ–çŠ¶æ€ã€‚å‘é€DBDï¼ˆåŒ…å«æœ¬åœ°çš„LSAçš„æ‘˜è¦ä¿¡æ¯ï¼‰æŠ¥æ–‡ï¼Œé€‰ä¸¾ä¸»ä»è·¯ç”±å™¨ï¼Œå¹¶ç¡®å®šåˆå§‹çš„DBDåºå·ï¼Œè¾¾åˆ°æ­¤çŠ¶æ€æˆ–è€…æ›´é«˜çŠ¶æ€çš„é‚»å±…æ‰èƒ½ç§°ä¸ºé‚»æ¥&lt;code&gt;å‘é€ç¬¬ä¸€ä¸ªDBDæŠ¥æ–‡ï¼Œç”±2-wayè½¬æˆExstart&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;exchange&#34;&gt;Exchange&lt;/h5&gt;
&lt;p&gt;äº¤æ¢ä¿¡æ¯çš„çŠ¶æ€ã€‚è¯¥çŠ¶æ€ä¸‹ï¼Œç›¸äº’é—´å‘é€DBDï¼Œå‘ŠçŸ¥å¯¹ç«¯æœ¬åœ°æ‰€æœ‰çš„LSAçš„ç›®å½•ï¼›åŒæ—¶ï¼Œå¯ä»¥å‘é€	LSR,LSU,LSACKæ¥å­¦ä¹ å¯¹ç«¯çš„LSA&lt;code&gt;ä¸»ä»é€‰ä¸¾å®Œæ¯•ä¹‹åï¼Œç”±Exstartè½¬æ¢æˆExchange&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;loading&#34;&gt;Loading&lt;/h5&gt;
&lt;p&gt;åŠ è½½çŠ¶æ€ï¼ˆæ²¡æœ‰å­¦ä¹ å®Œçš„çŠ¶æ€ï¼‰ã€‚å‘é€LSR,LSU,LSACKï¼Œä¸“é—¨å­¦ä¹ å¯¹ç«¯çš„LSAçš„è¯¦ç»†ä¿¡æ¯&lt;code&gt;å½“DBDæŠ¥æ–‡ä¸­çš„M=0æ—¶ï¼Œç”±Exchangeè½¬æˆLoading&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;full&#34;&gt;Full&lt;/h5&gt;
&lt;p&gt;é‚»æ¥çŠ¶æ€ï¼ˆå­¦ä¹ å®Œçš„çŠ¶æ€ï¼‰ã€‚å½¼æ­¤çš„LSDBåŒæ­¥ï¼Œå³æ‰€æœ‰çš„LSAç›¸åŒ&lt;code&gt;é‡ä¼ åˆ—è¡¨ä¸ºç©ºï¼Œç”±Loadingè½¬æˆFull&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;dbddatabase-description-packetæ•°æ®åº“æè¿°æŠ¥æ–‡&#34;&gt;DBDï¼ˆDatabase Description Packet,æ•°æ®åº“æè¿°æŠ¥æ–‡ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;ï¼ˆæœåŠ¡å‘˜ç»™çš„èœå•ï¼‰æè¿°æœ¬åœ°LSDBçš„æ‘˜è¦ä¿¡æ¯ï¼Œç”¨äºä¸¤å°è·¯ç”±å™¨è¿›è¡Œæ•°æ®åº“çš„åŒæ­¥ã€‚DBDæŠ¥æ–‡åªæ˜¯ä¸€ä¸ªLSAï¼ˆLSDBï¼‰çš„æ‘˜è¦ä¿¡æ¯ï¼Œé‡Œè¾¹ä¸åŒ…æ‹¬LSAã€‚æŠ¥æ–‡å†…å®¹åŒ…æ‹¬LSDBä¸­æ¯ä¸€æ¡LSAçš„Headerï¼ˆLSAçš„Headerå¯ä»¥å”¯ä¸€æ ‡è¯†ä¸€æ¡LSAï¼‰ã€‚LSA Headeråªå ä¸€æ¡LSAçš„æ•´ä¸ªæ•°æ®é‡çš„ä¸€å°éƒ¨åˆ†ï¼Œè¿™æ ·å¯ä»¥å‡å°‘è·¯ç”±å™¨ä¹‹é—´çš„åè®®æŠ¥æ–‡æµé‡ï¼Œå¯¹ç«¯è·¯ç”±å™¨æ ¹æ®LSA Headerå°±å¯ä»¥åˆ¤æ–­å‡ºæ˜¯å¦å·²æœ‰è¿™æ¡LSAã€‚åœ¨ä¸¤å°è·¯ç”±å™¨äº¤æ¢DDæŠ¥æ–‡çš„è¿‡ç¨‹ä¸­ï¼Œä¸€å°ä¸ºMasterï¼Œå¦ä¸€å°ä¸ºSlaveã€‚ç”±Masterè§„å®šèµ·å§‹åºåˆ—å·ï¼Œæ¯å‘é€ä¸€ä¸ªDDæŠ¥æ–‡åºåˆ—å·åŠ 1ï¼ŒSlaveæ–¹ä½¿ç”¨Masterçš„åºåˆ—å·ä½œä¸ºç¡®è®¤ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587286604710.png&#34; alt=&#34;OSPF-DBD&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;a href=&#34;https://blog.51cto.com/juispan/2049562&#34;&gt;å‰ä¸¤ä¸ªDBDæŠ¥æ–‡æ˜¯ç©ºæŠ¥æ–‡ï¼Œç”¨æ¥é€‰ä¸¾ä¸»ä»ã€‚è¯¦ç»†é‚»æ¥å…³ç³»å»ºç«‹ï¼Œå¯ä»¥å‚è€ƒæœ¬é“¾æ¥&lt;/a&gt;&lt;br&gt;
&lt;strong&gt;OSPFçš„ä¸¤ç§ç¡®è®¤æœºåˆ¶&lt;/strong&gt;ï¼š1.æ˜¾å¼ç¡®è®¤-LSAã€LSUã€LSAckï¼›2.éšå¼ç¡®è®¤&lt;br&gt;
&lt;code&gt;DRå’ŒBDRçš„é€‰ä¸¾å’Œä¸»ä»é€‰ä¸¾æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚DRå’ŒBDRé€‰ä¸¾çœ‹ä¼˜å…ˆçº§ï¼Œä¸»è¦æ˜¯åŒæ­¥æ•°æ®åº“ï¼›ä¸»ä»é€‰ä¸¾çœ‹RouteIDï¼Œä¸»è¦æ˜¯åšä¸€ä¸ªéšå¼ç¡®è®¤ã€‚&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸»ä»é€‰ä¸¾ä»¥åŠæ•°æ®äº¤äº’è¿‡ç¨‹ç®€è¿°ï¼ˆä»Exstartå¼€å§‹åˆ°Exchangeç»“æŸï¼‰&lt;/strong&gt;ï¼š&lt;code&gt;RTAå’ŒRTBçš„Router IDåˆ†åˆ«ä¸º1.1.1.1å’Œ2.2.2.2&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;A-&amp;gt;Bï¼šseq=xï¼ŒI=1ï¼ŒM=1ï¼ŒMS=1ï¼ˆç©ºæŠ¥æ–‡ï¼‰ã€‚Aå˜ä¸ºExstartçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;B-&amp;gt;Aï¼šseq=yï¼ŒI=1ï¼ŒM=1ï¼ŒMS=1ï¼ˆç©ºæŠ¥æ–‡ï¼‰ã€‚Bå˜ä¸ºExstartçŠ¶æ€ã€‚æ­¤æ—¶å·²ç»é€šè¿‡RouterIDç¡®è®¤äº†ä¸»ä»ï¼Œä¸»ä¸ºBï¼Œä»ä¸ºA&lt;/li&gt;
&lt;li&gt;A-&amp;gt;Bï¼š&lt;strong&gt;seq=y&lt;/strong&gt;ï¼ŒI=0ï¼ŒM=1ï¼ŒMS=0ã€‚å½“OSPFæ¥å£æ”¶åˆ°ä¸€ä¸ªDBDåŒ…ä¸”å…¶ä¸­I=0çš„æ—¶å€™ï¼Œå®ƒå°±çŸ¥é“ä¸è¯¥é‚»å±…çš„exstarté˜¶æ®µå·²ç»è¿‡å»äº†ï¼Œäºæ˜¯å°†é‚»å±…çš„çŠ¶æ€ç½®ä¸ºexchangeã€‚&lt;strong&gt;ä»æ²¡æœ‰æƒåˆ©ä¿®æ”¹seqï¼Œåªèƒ½ä½¿ç”¨ä¸»çš„seqï¼Œè¡¨ç¤ºç¡®è®¤æ”¶åˆ°ä¸»çš„å‘é€çš„é‚£ä¸ªseq&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;B-&amp;gt;Aï¼šseq=y+1ï¼ŒI=0ï¼ŒM=1ï¼ŒMS=1ã€‚ABé€šè¿‡DBDçš„äº¤äº’ï¼Œäº†è§£åˆ°å¯¹æ–¹OSPF DBä¸­çš„æ‘˜è¦æƒ…å†µã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½äº¤äº’æ•°ä¸ªDBDæŠ¥æ–‡ï¼Œè¿™äº›æŠ¥æ–‡çš„Iä½éƒ½ç½®0ï¼Œä¸”Mä½ä¸€èˆ¬ç½®1ï¼Œé™¤éè¿™æ˜¯æŸä¸ªOSPFæ¥å£å‘é€çš„æœ€åä¸€ä¸ªDBDåŒ…ã€‚&lt;br&gt;
....ï¼ˆå¤šä¸ªDBDæŠ¥æ–‡ï¼‰&lt;/li&gt;
&lt;li&gt;B-&amp;gt;Aï¼šseq=y+nï¼ŒI=0ï¼ŒM=0ï¼ŒMS=1ã€‚å½“ï¼¡æ”¶åˆ°ä¸€ä¸ªMä½ç½®0çš„DBDåŒ…çš„æ—¶å€™ï¼Œå®ƒå°±çŸ¥é“ï¼Œè¿™æ˜¯é‚»å±…Bå‘æ¥çš„æœ€åä¸€ä¸ªDBDåŒ…äº†ï¼Œå¦‚æœå®ƒæœé›†å®Œè¿™ä¸ªé‚»å±…Bå‘æ¥çš„DBDå¹¶ä¸”å‘ç°è¿™äº›DBDé‡Œæœ‰å®ƒæ„Ÿå…´è¶£çš„LSAï¼Œå®ƒæœŸæœ›æ›´è¯¦ç»†çš„LSAä¿¡æ¯æ—¶ï¼Œå®ƒå°†Bç½®ä¸º&lt;strong&gt;LoadingçŠ¶æ€&lt;/strong&gt;ï¼Œå¹¶ä¸”å¼€å§‹å‘é€LSRæŠ¥æ–‡å»è¯·æ±‚ç‰¹å®šLSAçš„è¯¦ç»†ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;A-&amp;gt;Bï¼šseq=y+nï¼ŒI=0ï¼ŒM=0ï¼ŒMS=0ã€‚&lt;/li&gt;
&lt;li&gt;A-&amp;gt;Bï¼šLSRã€‚ï¼ˆ&lt;strong&gt;Loadingåˆ°FullçŠ¶æ€çš„è½¬æ¢&lt;/strong&gt;ï¼‰Bæ”¶åˆ°è¿™ä¸ªLSRåï¼Œä¼šä»¥LSUè¿›è¡Œå›åº”ï¼Œå…¶ä¸­å°±åŒ…å«äº†å¯¹æ–¹è¯·æ±‚çš„LSAè¯¦ç»†ä¿¡æ¯ï¼Œå› æ­¤ï¼Œåªæœ‰åœ¨LSUæŠ¥æ–‡ä¸­ï¼Œæ‰èƒ½çœ‹åˆ°LSAçš„å®Œæ•´ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;B-&amp;gt;Aï¼šLSUã€‚&lt;/li&gt;
&lt;li&gt;A-&amp;gt;Bï¼šLSAckã€‚æ”¶åˆ°LSUåï¼ŒAå°†LSUä¸­æ‰€åŒ…å«çš„LSAæ”¾è¿›è‡ªå·±çš„LSDBï¼Œå¹¶ä¸”ç»™Bå‘ä¸€ä¸ªLSAckè¿›è¡Œç¡®è®¤ã€‚å½“OSPFæ¥å£ä¸Šæ‰€æœ‰çš„å¾…è¯·æ±‚çš„LSAå…¨éƒ¨æ”¶åˆ°æ›´æ–°åï¼Œå®ƒä¼šå°†é‚»å±…ç½®ä¸ºFullçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;MTUå¯¹é‚»æ¥å…³ç³»å»ºç«‹çš„å½±å“&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;MTUåœ¨DBDæŠ¥æ–‡ä¸­æºå¸¦ï¼Œæ‰€ä»¥&lt;strong&gt;MTUä¸ä¸€è‡´ä¸ä¼šå½±å“OSPFé‚»å±…å…³ç³»çš„å»ºç«‹&lt;/strong&gt;ï¼Œä½†æ˜¯ä¼š&lt;strong&gt;å½±å“é‚»æ¥çš„å»ºç«‹&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘è®¾å¤‡é»˜è®¤æ˜¯æ£€æµ‹MTUçš„ã€‚åä¸ºè®¾å¤‡é»˜è®¤æ˜¯ä¸æ£€æµ‹MTUçš„ï¼Œåä¸ºå¯ä»¥é€šè¿‡å‘½ä»¤é…ç½®æ£€æµ‹ï¼Œå¦‚æœMTUä¸ä¸€è‡´ï¼Œä¼šè¿›å…¥ä»€ä¹ˆçŠ¶æ€&lt;br&gt;
2.1 å¦‚æœä¸»çš„MTUå¤§äºä»çš„MTUï¼Œä¸¤ç«¯ä¼šåŒæ—¶å¡åœ¨ExstartçŠ¶æ€ã€‚&lt;code&gt;ã€å‡è®¾AR1çš„MTU1400ï¼ŒAR2çš„ä¸º1500ã€‘åŸå› ï¼šAR1å‘é€ä¸€ä¸ªDBDï¼ˆ1400ï¼ŒMS=1ï¼‰ï¼ŒçŠ¶æ€ç”±2-wayè½¬æ¢æˆExstartï¼ŒåŒæ—¶ï¼ŒAR2ä¹Ÿä¼šå‘é€ä¸€ä¸ªDBDï¼ˆ1500ï¼ŒMS=1ï¼‰ï¼ŒçŠ¶æ€ç”±2-wayè½¬æ¢æˆExstartï¼›ç”±äºAR2çš„MTUå¤§äºAR1çš„MTUï¼ŒAR1æ— æ³•æ¥å—AR2çš„DBDæŠ¥æ–‡ï¼ŒAR1ä¸çŸ¥é“è°æ˜¯ä¸»ï¼ˆAR1è‡ªå·±è®¤ä¸ºè‡ªå·±æ˜¯ä¸»ï¼‰ï¼ŒAR2è¿™ä¸ªä¸»ä¹Ÿå¾—ä¸åˆ°AR1çš„ç¡®è®¤(å³AR2æ”¶ä¸åˆ° ä¸è‡ªå·±å‘å‡ºçš„é‚£ä¸ªæŠ¥æ–‡ç›¸åŒseq çš„ AR1å‘å‡ºçš„ç¡®è®¤æŠ¥æ–‡)ï¼Œå³æ— æ³•è¿›è¡Œä¸»ä»é€‰ä¸¾ï¼Œå¯¼è‡´å¡åœ¨ExstartçŠ¶æ€&lt;/code&gt;&lt;br&gt;
2.2 å¦‚æœä¸»çš„MTUå°äºä»çš„MTUï¼Œä»ä¼šè¿›å…¥Exchangeï¼Œä¸»ä¼šå¡åœ¨extartçŠ¶æ€ã€‚&lt;code&gt;ã€å‡è®¾AR1çš„MTU1400ï¼ŒAR2çš„ä¸º1300ã€‘åŸå› ï¼šAR2å‘é€ä¸€ä¸ªDBDï¼ˆ1300ï¼ŒMS=1ï¼‰ï¼ŒçŠ¶æ€ç”±2-wayè½¬æ¢æˆExstartï¼ŒåŒæ—¶ï¼ŒAR1å‘é€ä¸€ä¸ªDBDï¼ˆ1400ï¼ŒMS=1ï¼‰ï¼ŒçŠ¶æ€ç”±2-wayè½¬æ¢æˆExstartï¼›ç”±äºAR1çš„MTUæ¯”AR2çš„MTUå¤§ï¼Œä»è€Œå¯ä»¥æ­£å¸¸æ¥æ”¶AR2çš„æŠ¥æ–‡ï¼ŒçŸ¥é“AR2æ˜¯ä¸»ï¼Œåˆ™AR1çš„çŠ¶æ€ç”±Exstartè½¬ä¸ºExchangeï¼›AR1å‘é€ç¬¬äºŒä¸ªDBDæŠ¥æ–‡ï¼ˆMS=0ï¼‰ï¼Œè¿™ä¸ªæŠ¥æ–‡AR2æ— æ³•æ­£å¸¸æ¥æ”¶ï¼Œå¯¼è‡´çŠ¶æ€ä»ç„¶ä¸ºExstart&lt;/code&gt;&lt;br&gt;
2.3 å¦‚æœå¿½ç•¥MTUæ£€æµ‹ï¼ˆMTUä¸ä¸€è‡´ï¼‰ï¼Œ&lt;strong&gt;è·¯ç”±æ¡ç›®å¤šçš„æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½ä¼šå¡åœ¨LoadingçŠ¶æ€ï¼›å¦‚æœè·¯ç”±æ¡ç›®æ¯”è¾ƒå°‘ï¼ŒæŠ¥æ–‡é•¿åº¦æ²¡æœ‰è¶…è¿‡MTUï¼Œåˆ™å¯ä»¥è¾¾åˆ°fullçŠ¶æ€&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;ospfçš„æ¥å£çŠ¶æ€æœº&#34;&gt;OSPFçš„æ¥å£çŠ¶æ€æœº&lt;/h4&gt;
&lt;h5 id=&#34;loopback&#34;&gt;Loopback&lt;/h5&gt;
&lt;p&gt;è¿™æ—¶ï¼Œè·¯ç”±å™¨åˆ°ç½‘ç»œçš„æ¥å£å¤„äºå›ç¯Loopbackï¼Œå›ç¯å¯èƒ½ä»¥ç¡¬ä»¶æˆ–è½¯ä»¶çš„æ–¹å¼å®ç°ã€‚å›ç¯æ¥å£ä¸èƒ½ç”¨äºæ­£å¸¸çš„æ•°æ®ä¼ è¾“ï¼Œä½†ä»èƒ½é€šè¿‡ICMP pingæˆ–ä½é”™è¯¯æ£€æµ‹æ¥æ”¶é›†æ¥å£ä¿¡æ¯ã€‚IPåŒ…ä»éœ€è¦è¢«å‘å¾€å›ç¯æ¥å£ã€‚ä¸ºæ­¤ï¼Œè¦åœ¨Router-LSAä¸­å®£å‘Šæ­¤æ¥å£ä¸ºæ¥å£IPåœ°å€çš„ä¸»æœºè·¯å¾„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;down-2&#34;&gt;Down&lt;/h5&gt;
&lt;p&gt;è¿™æ˜¯æ¥å£çš„åˆå§‹çŠ¶æ€ï¼Œè¿™æ—¶ä¸‹å±‚åè®®æŒ‡å‡ºæ¥å£ä¸ºæ–­å¼€ï¼Œæ¥å£ä¸Šæ²¡æœ‰åè®®æµé‡çš„æ”¶å‘ã€‚è¿™æ—¶ï¼Œæ¥å£ä¸Šçš„æ‰€æœ‰å‚æ•°éƒ½è¢«è®¾ä¸ºåˆå§‹å€¼ï¼Œå…³é—­æ‰€æœ‰çš„æ¥å£è®°æ—¶å™¨ï¼Œè¯¥æ¥å£ä¸Šä¹Ÿæ²¡æœ‰ç›¸å…³è”çš„é‚»æ¥ã€‚&lt;/p&gt;
&lt;h5 id=&#34;point-to-point&#34;&gt;Point-to-Point&lt;/h5&gt;
&lt;p&gt;è¿™æ—¶ï¼Œè¿æ¥åˆ°ç‰©ç†ç‚¹å¯¹ç‚¹ç½‘ç»œæˆ–è™šæ‹Ÿé€šé“çš„æ¥å£å¼€å§‹å·¥ä½œã€‚è¿›å…¥æ­¤çŠ¶æ€ä¹‹åï¼Œè·¯ç”±å™¨è¯•å›¾ä¸é‚»å±…è·¯ç”±å™¨å½¢æˆé‚»æ¥ã€‚å¹¶æŒ‰HelloIntervalçš„é—´éš”å‘é€HelloåŒ…ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587310643544.png&#34; alt=&#34;ç«¯å£çŠ¶æ€è½¬æ¢--p2pã€p2mpæˆ–è™šè¿æ¥&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;waiting&#34;&gt;Waiting&lt;/h5&gt;
&lt;p&gt;åœ¨æ­¤çŠ¶æ€æ—¶ï¼Œè·¯ç”±å™¨è¯•å›¾åˆ¤å®šç½‘ç»œä¸ŠDRå’ŒBDRã€‚ä¸ºæ­¤ï¼Œè·¯ç”±å™¨å¯¹å…¶æ¥æ”¶åˆ°çš„HelloåŒ…è¿›è¡Œç›‘å¬ã€‚åœ¨ç»“æŸç­‰å¾…å‰ï¼Œè·¯ç”±å™¨ä¸èƒ½è¢«é€‰ä¸¾ä¸ºDRæˆ–BDRã€‚è¿™å¯ä»¥é¿å…ä¸å¿…è¦åœ°æ”¹å˜DRå’ŒBDRã€‚&lt;/p&gt;
&lt;h5 id=&#34;drother&#34;&gt;DROther&lt;/h5&gt;
&lt;p&gt;å¹¿æ’­æˆ–NBMAç½‘ç»œä¸Šçš„å…¶ä»–è·¯ç”±å™¨è¢«é€‰ä¸¾ä¸ºDRï¼Œå…¶è‡ªèº«ä¹Ÿæ²¡æœ‰è¢«é€‰ä¸ºBDRã€‚è·¯ç”±å™¨å¼€å§‹ä¸DRå’ŒBDRï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å½¢æˆé‚»æ¥ã€‚&lt;/p&gt;
&lt;h5 id=&#34;bdr&#34;&gt;BDR&lt;/h5&gt;
&lt;p&gt;åœ¨æ­¤çŠ¶æ€æ—¶ï¼Œè·¯ç”±å™¨æ˜¯æ‰€æ¥å…¥ç½‘ç»œçš„BDRã€‚å¹¶å°†åœ¨å½“å‰çš„DRå¤±æ•ˆæ—¶æˆä¸ºDRã€‚è¯¥è·¯ç”±å™¨ä¸æ¥å…¥è¯¥ç½‘ç»œçš„æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å½¢æˆé‚»æ¥ã€‚åœ¨æ´ªæ³›è¿‡ç¨‹ä¸­ï¼ŒBDRçš„å·¥ä½œä¸DRç¨æœ‰ä¸åŒã€‚&lt;/p&gt;
&lt;h5 id=&#34;dr&#34;&gt;DR&lt;/h5&gt;
&lt;p&gt;åœ¨æ­¤çŠ¶æ€æ—¶ï¼Œè·¯ç”±å™¨æ˜¯æ‰€æ¥å…¥ç½‘ç»œçš„DRã€‚è¯¥è·¯ç”±å™¨ä¸æ¥å…¥è¯¥ç½‘ç»œçš„æ‰€æœ‰å…¶ä»–è·¯ç”±å™¨å½¢æˆé‚»æ¥ã€‚è·¯ç”±å™¨å¿…é¡»ä¸ºç½‘ç»œèŠ‚ç‚¹ç”Ÿæˆä¸€ä¸ªNetwork-LSAã€‚è¯¥Network-LSAåŒ…å«äº†æ‰€æœ‰æ¥å…¥è¯¥ç½‘ç»œçš„è·¯ç”±å™¨ï¼ˆåŒ…æ‹¬DRè‡ªèº«ï¼‰ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587310689309.png&#34; alt=&#34;ç«¯å£çŠ¶æ€è½¬æ¢-å¹¿æ’­æˆ–NBMAç½‘ç»œ&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ospfæ”¯æŒçš„ç½‘ç»œç±»å‹&#34;&gt;OSPFæ”¯æŒçš„ç½‘ç»œç±»å‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;P2Pç½‘ç»œï¼ˆåªæŠŠä¸¤å°è·¯ç”±å™¨ç›´æ¥ç›¸è¿çš„ç½‘ç»œï¼Œä¾‹å¦‚è¿è¡ŒPPPçš„64Kä¸²è¡Œçº¿è·¯å°±æ˜¯ä¸€ä¸ªç‚¹åˆ°ç‚¹ç½‘ç»œ&lt;strong&gt;ä¸éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´10sï¼Œdeadæ—¶é—´40sï¼Œ5ç§æŠ¥æ–‡å…¨éƒ¨ç»„æ’­&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;Broadcastç½‘ç»œï¼ˆæ”¯æŒä¸¤å°ä»¥ä¸Šè·¯ç”±å™¨ï¼Œå¹¶ä¸”å…·æœ‰å¹¿æ’­èƒ½åŠ›çš„ç½‘ç»œï¼Œä¾‹å¦‚å«æœ‰å››å°è·¯ç”±å™¨çš„ä»¥å¤ªç½‘&lt;strong&gt;éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´10sï¼Œdeadæ—¶é—´40sï¼ŒhelloæŠ¥æ–‡ç»„æ’­ã€DBDå’ŒLSRæ˜¯å•æ’­ã€LSUå’ŒLSAckæœ‰å•æ’­ä¹Ÿæœ‰ç»„æ’­&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;NBMAç½‘ç»œï¼ˆä¾‹å¦‚ä½¿ç”¨SVCè¿›è¡Œé€šä¿¡çš„ATMç½‘ç»œã€å…¨è¿æ¥ATMç½‘ç»œã€‘ï¼Œ&lt;strong&gt;éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´30sï¼Œdeadæ—¶é—´120sï¼Œ5ç§æŠ¥æ–‡å‡æ˜¯å•æ’­&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;P2MPç½‘ç»œï¼ˆ&lt;strong&gt;ä¸éœ€è¦é€‰ä¸¾DRå’ŒBDRï¼Œhelloæ—¶é—´30sï¼Œdeadæ—¶é—´120sï¼ŒhelloæŠ¥æ–‡ç»„æ’­ã€å…¶ä»–æŠ¥æ–‡å…¨æ˜¯å•æ’­&lt;/strong&gt;ï¼‰ï¼‰&lt;/li&gt;
&lt;li&gt;è™šé“¾æ¥ï¼ˆã€æ³¨æ„äº‹é¡¹ï¼šè™šè¿æ¥ä¸èƒ½é…ç½®åœ¨éª¨å¹²åŒºåŸŸ(Area0)å’Œæœ«èŠ‚åŒºåŸŸ(å®éªŒä¸­çš„Area20)ï¼Œä¸èƒ½è·¨è¶Šå¤šä¸ªåŒºåŸŸã€‘ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç½‘ç»œç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Helloæ—¶é—´&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;deadæ—¶é—´&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;HelloæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;DBDæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSRæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSUæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSACKæŠ¥æ–‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ˜¯å¦é€‰ä¸¾DR/BDR&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NBMA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2MP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;30&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;120&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;P2P&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Broadcast&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;40&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­/ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å•æ’­/ç»„æ’­&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;éœ€è¦&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸åŒçš„ç½‘ç»œç±»å‹ä¹‹é—´æ˜¯å¦å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Ÿæ˜¯å¦æœ‰è·¯ç”±ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;P2Pä¸Broadcast&lt;/strong&gt;ï¼šå¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±ã€‚&lt;strong&gt;åŸå› &lt;/strong&gt;ï¼šP2Pæ²¡æœ‰DRå’ŒBDRï¼Œå³æ²¡æœ‰äºŒç±»LSAï¼Œå¯¼è‡´Broadcastæ— æ³•è¯†åˆ«ç›¸åº”æŠ¥æ–‡&lt;br&gt;
&lt;strong&gt;P2MPä¸Broadcast&lt;/strong&gt;ï¼šå› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚å¦‚æœå°†P2MPçš„helloæ—¶é—´ä¿®æ”¹ä¸º10s,å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±ã€‚&lt;strong&gt;åŸå› åŒä¸Š&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;NBMAå’ŒBroadcast&lt;/strong&gt;ï¼šå› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚å³ä½¿ä¿®æ”¹helloæ—¶é—´ä¹Ÿæ— æ³•å»ºç«‹é‚»æ¥å…³ç³»ã€‚&lt;strong&gt;åŸå› &lt;/strong&gt;ï¼šNBMAçš„helloæŠ¥æ–‡ä¸ºå•æ’­ï¼ŒBroadcastçš„helloæŠ¥æ–‡ä¸ºç»„æ’­&lt;br&gt;
&lt;strong&gt;P2På’ŒP2MP&lt;/strong&gt;ï¼šå› ä¸ºhelloæ—¶é—´ä¸ç›¸åŒï¼Œæ— æ³•å»ºç«‹é‚»å±…å…³ç³»ã€‚ä¿®æ”¹P2MPçš„helloæ—¶é—´ä¸º10sä¹‹åå¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»å¹¶ä¸”&lt;strong&gt;æœ‰è·¯ç”±&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;å¸¸è§çš„é“¾è·¯å±‚ç±»å‹å¯¹åº”çš„é»˜è®¤ç½‘ç»œç±»å‹&#34;&gt;å¸¸è§çš„é“¾è·¯å±‚ç±»å‹å¯¹åº”çš„é»˜è®¤ç½‘ç»œç±»å‹&lt;/h5&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç½‘ç»œç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å¸¸è§é“¾è·¯å±‚åè®®&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Point-to-point&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PPPé“¾è·¯ã€LAPBé“¾è·¯ã€HDLCé“¾è·¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Broadcast&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥å¤ªç½‘é“¾è·¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NBMA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸§ä¸­ç»§é“¾è·¯ã€ATMé“¾è·¯&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;lsrlink-state-requesté“¾è·¯çŠ¶æ€è¯·æ±‚&#34;&gt;LSRï¼ˆLink State Request,é“¾è·¯çŠ¶æ€è¯·æ±‚ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;ï¼ˆçœ‹èœå•ç‚¹èœï¼‰ç”¨äºå‘å¯¹æ–¹è¯·æ±‚æ‰€éœ€çš„LSAï¼Œåªæœ‰åœ¨OSPFé‚»å±…åŒæ–¹æˆåŠŸäº¤æ¢äº†DBDåæ‰ä¼šå‘å¯¹æ–¹å‘é€LSRã€‚ä¸¤å°è·¯ç”±å™¨äº’ç›¸äº¤æ¢è¿‡DDæŠ¥æ–‡ä¹‹åï¼ŒçŸ¥é“å¯¹ç«¯çš„è·¯ç”±å™¨æœ‰å“ªäº›LSAæ˜¯æœ¬åœ°çš„LSDBæ‰€ç¼ºå°‘çš„å’Œå“ªäº›LSAæ˜¯å·²ç»å¤±æ•ˆçš„ï¼Œè¿™æ—¶éœ€è¦å‘é€LSRæŠ¥æ–‡å‘å¯¹æ–¹è¯·æ±‚æ‰€éœ€çš„LSAã€‚å†…å®¹åŒ…æ‹¬æ‰€éœ€è¦çš„LSAçš„æ‘˜è¦ï¼Œå…¶ä¸­&lt;strong&gt;LS typeã€Link State IDå’ŒAdvertising Routerå¯ä»¥å”¯ä¸€æ ‡è¯†å‡ºä¸€ä¸ªLSA&lt;/strong&gt;ï¼Œå½“ä¸¤ä¸ªLSAä¸€æ ·æ—¶ï¼Œéœ€è¦æ ¹æ®LSAä¸­çš„LS sequence numberã€LS checksumå’ŒLS ageæ¥åˆ¤æ–­å‡ºæ‰€éœ€è¦LSAçš„æ–°æ—§ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311400960.png&#34; alt=&#34;OSPF-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;OSPFçš„LSAæ¯1800ç§’æ›´æ–°ä¸€æ¬¡ï¼Œå¦‚æœ3600ç§’æ²¡æœ‰æ”¶åˆ°æ›´æ–°ï¼Œåˆ™è®¤ä¸ºå¤±æ•ˆï¼ˆè€åŒ–ï¼‰ï¼›OSPFä¸èƒ½åˆ é™¤éè‡ªèº«äº§ç”Ÿçš„LSA&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»€ä¹ˆæƒ…å†µä¸‹æ›´æ–°LSAï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;1800ç§’æ›´æ–°ä¸€æ¬¡&lt;/li&gt;
&lt;li&gt;è§¦å‘æ›´æ–°ï¼ˆæ¥å£åœ°å€ã€å¼€é”€å€¼ç­‰å‘ç”Ÿå˜åŒ–ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;lsulink-state-updateé“¾è·¯çŠ¶æ€æ›´æ–°&#34;&gt;LSUï¼ˆLink State Update,é“¾è·¯çŠ¶æ€æ›´æ–°ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;ï¼ˆæœåŠ¡å‘˜ä¸Šèœï¼‰ç”¨äºå‘å¯¹æ–¹å›å¤å…·ä½“çš„LSRã€‚ç”¨æ¥å‘å¯¹ç«¯Routerå‘é€å…¶æ‰€éœ€è¦çš„LSAæˆ–è€…æ³›æ´ªè‡ªå·±æ›´æ–°çš„LSAï¼Œå†…å®¹æ˜¯å¤šæ¡LSAï¼ˆå…¨éƒ¨å†…å®¹ï¼‰çš„é›†åˆã€‚LSUæŠ¥æ–‡åœ¨æ”¯æŒç»„æ’­å’Œå¹¿æ’­çš„é“¾è·¯ä¸Šæ˜¯ä»¥ç»„æ’­å½¢å¼å°†LSAæ³›æ´ªå‡ºå»ã€‚ä¸ºäº†å®ç°æ³›æ´ªçš„å¯é æ€§ä¼ è¾“ï¼Œéœ€è¦LSAckæŠ¥æ–‡å¯¹å…¶è¿›è¡Œç¡®è®¤ã€‚å¯¹æ²¡æœ‰æ”¶åˆ°ç¡®è®¤æŠ¥æ–‡çš„LSAè¿›è¡Œé‡ä¼ ï¼Œé‡ä¼ çš„LSAæ˜¯ç›´æ¥å‘é€åˆ°é‚»å±…çš„ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311547987.png&#34; alt=&#34;OSPF-LSU&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;lsaçš„å¤´éƒ¨å’Œ5ç§æŠ¥æ–‡&#34;&gt;LSAçš„å¤´éƒ¨å’Œ5ç§æŠ¥æ–‡&lt;/h4&gt;
&lt;h5 id=&#34;lsaç›¸åŒçš„å¤´éƒ¨&#34;&gt;LSAç›¸åŒçš„å¤´éƒ¨&lt;/h5&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311683821.png&#34; alt=&#34;OSPF-LSAHead&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;LASçš„åºåˆ—å·ï¼ˆLS Sequence Numberï¼‰:32ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œç”¨äºæ£€æµ‹è¿‡æœŸå’Œé‡å¤çš„LSAã€‚æ•°å€¼0x80000000ï¼ˆè¿‡æ¸¡ä½¿ç”¨ï¼Œä»0x7FFFFFFFåˆ°0x80000001çš„è¿‡æ¸¡ï¼‰ï¼Œä¹Ÿå°±æ˜¯ -2^31 æ˜¯æœ€å°çš„æ•°å€¼ï¼Œä½†æ­¤æ•°å€¼è¢«ä¿ç•™ï¼Œå¯ç”¨çš„æœ€å°æ•°å€¼ä¸º0x80000001(åˆå§‹åºå·ï¼Œ-2^31+1 )ï¼Œæ¯æ¬¡æ›´æ–°è¯¥LSAï¼Œåºåˆ—å·+1ï¼Œåºåˆ—å·è¶Šå¤§åˆ™è¯¥LSAè¶Šæ–°ï¼Œæœ€å¤§ä¸º0x7FFFFFFFï¼Œè¾¾åˆ°æœ€å¤§å€¼ä¹‹åï¼Œï¼Œå¿…é¡»å…ˆå°†å½“å‰LSAä»è·¯ç”±åŸŸä¸­åºŸæ­¢ï¼ˆLSAæå‰è€åŒ–ï¼‰ï¼Œç„¶åé‡æ–°æ³›æ´ªï¼Œå½“æ‰€æœ‰é‚»æ¥çš„é‚»å±…æ”¶åˆ°ç¡®è®¤åï¼Œé‡æ–°ä»0x80000001å¼€å§‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;LSAçš„æ–°æ—§æ¯”è¾ƒ&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆæ¯”è¾ƒLSAçš„åºåˆ—å·ï¼Œè¶Šå¤§è¶Šæ–°&lt;/li&gt;
&lt;li&gt;LSAçš„åºåˆ—å·ç›¸åŒæƒ…å†µä¸‹ï¼Œæ¯”è¾ƒæ ¡éªŒå€¼ï¼ˆChecksumï¼‰,è¶Šå¤§è¶Šæ–°&lt;/li&gt;
&lt;li&gt;LSAçš„åºåˆ—å·ã€æ ¡éªŒå€¼å‡ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒLSAçš„Ageæ˜¯å¦ç­‰äºMax-ageæ—¶é—´3600ï¼Œç›¸ç­‰åˆ™æœ€æ–°&lt;/li&gt;
&lt;li&gt;LSAçš„åºåˆ—å·ã€æ ¡éªŒå€¼å‡ç›¸åŒçš„æƒ…å†µä¸‹ï¼ŒLSAçš„Ageä¸ç­‰äº3600ï¼Œä¼šæ¯”è¾ƒageä¸3600ä¹‹é—´çš„å·®å€¼ï¼Œå¦‚æœå·®å€¼å¤§äº900ï¼ˆå³15åˆ†é’Ÿï¼‰ï¼Œè¶Šå°æœˆæ–°&lt;/li&gt;
&lt;li&gt;LSAçš„åºåˆ—å·ã€æ ¡éªŒå€¼å‡ç›¸åŒçš„æƒ…å†µä¸‹ï¼ŒLSAçš„Ageä¸ç­‰äº3600ï¼Œä¸”ageä¸3600ä¹‹é—´çš„å·®å€¼å°äº900ï¼Œåˆ™ä¼šè®¤ä¸ºæ˜¯åŒä¸€æ¡LSAï¼Œå¿½ç•¥å…¶ä¸­ä¸€æ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;router-lsatype1&#34;&gt;Router-LSAï¼ˆType1ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;æ¯ä¸ªè·¯ç”±å™¨éƒ½ä¼šäº§ç”Ÿ&lt;/strong&gt;ï¼Œæè¿°äº†è·¯ç”±å™¨çš„&lt;strong&gt;é“¾è·¯çŠ¶æ€å’Œå¼€é”€&lt;/strong&gt;ï¼Œ&lt;strong&gt;åªåœ¨æ‰€å±çš„åŒºåŸŸå†…æ³›æ´ª&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311744247.png&#34; alt=&#34;OSPF-Router-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OSPFé€‰è·¯ä¾æ®ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;OSPFä¾æ®Metric(å³Cost)æ¥è¿›è¡Œé€‰è·¯ï¼Œå‚è€ƒå¸¦å®½ä¸º100Mb/sï¼ŒMetricçš„å‚è€ƒå€¼ä¸º10^8/å¸¦å®½ï¼ˆ100M/æ¥å£å¸¦å®½ï¼‰ï¼Œå³56kb/sçš„ä¸²å£ä¸º1785ã€64kb/sçš„ä¸²å£ä¸º1562ã€2.048Mb/sçš„E1ä¸º48ã€100Mb/sçš„Ethernetä¸º1ã€‚ã€æ³¨æ„ã€‘1000Mb/sä»¥ä¸Šçš„Metricå‡ä¸º1ï¼Œä¸ºäº†èƒ½å¤Ÿåœ¨100Mb/sä»¥ä¸Šçš„æ¥å£ä¸Šå®ç°è´Ÿè½½åˆ†æ‹…ï¼Œåˆ™éœ€è¦è¿›è¡Œå‚è€ƒå¸¦å®½çš„è°ƒæ•´ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼šospf 10   &amp;amp;&amp;amp;   bandwidth-reference 1000ï¼Œæ­¤æ•°æ®éœ€è¦åœ¨å®æ–½OSPFçš„æ¯ä¸ªè®¾å¤‡ä¸Šéƒ½ä¿®æ”¹ï¼Œå•ä½æ˜¯Mbits/sã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;OSPFçš„ç½‘æ®µç±»å‹&lt;br&gt;
LSDBé€šè¿‡æè¿°ä¸€ä¸ªæœ‰å‘çº¿æ®µå›¾æ¥æè¿°ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œè¯¥æœ‰å‘å›¾çš„ç«¯ç‚¹æœ‰ä¸‰ç§ç±»å‹ï¼š&lt;strong&gt;è·¯ç”±å™¨èŠ‚ç‚¹ã€Stubç½‘æ®µã€Transitç½‘æ®µ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Stubç½‘æ®µï¼ˆæœ«èŠ‚ç½‘ç»œï¼‰ï¼šè¯¥ç½‘æ®µåªæœ‰æ•°æ®å…¥å£ï¼Œä¾‹å¦‚yå‡ ä¸ªLoopbackæ¥å£å°±æ˜¯ä¸€ä¸ªStubç½‘æ®µã€‚&lt;/li&gt;
&lt;li&gt;Transitç½‘æ®µï¼šæœ‰è‡³å°‘ä¸¤å°è·¯ç”±å™¨çš„å¹¿æ’­å‹ç½‘æ®µæˆ–NBMAç½‘æ®µå°±æ˜¯ä¸€ç§Transitç½‘æ®µã€‚ä»ä¸€ä¸ªTransitç½‘æ®µåˆ°è¿æ¥åˆ°è¿™ä¸ªç½‘æ®µçš„è·¯ç”±å™¨çš„å¼€é”€ä¸º0&lt;/li&gt;
&lt;li&gt;ç‚¹åˆ°ç‚¹ç½‘æ®µï¼šä¸¤ä¸ªæ¥å£å¤„äºä¸åŒç½‘æ®µæ—¶ï¼Œä¸¤å°è·¯ç”±å™¨ç»ç”±ä¸¤æ¡æœ‰å‘çº¿æ®µç›¸è¿ï¼Œä¸¤ä¸ªæ¥å£çš„ç½‘æ®µè¢«è¡¨ç¤ºæˆstubç½‘æ®µï¼Œæ¯ä¸ªè·¯ç”±å™¨é€šå‘Šä¸€ä¸ªstubè¿æ¥åˆ°è¯¥è·¯ç”±å™¨æ‰€è¿å¾—ç½‘æ®µï¼›ä¸¤ä¸ªæ¥å£å¤„äºåŒä¸€ç½‘æ®µæ—¶ï¼Œä¸¤å°è·¯ç”±å™¨ç»ç”±ä¸¤æ¡æœ‰å‘çº¿æ®µç›¸è¿ï¼Œæ¯ä¸ªæ–¹å‘ä¸€æ¡ï¼Œè¿æ¥ä¸¤ä¸ªæ¥å£çš„ç½‘æ®µè¢«è¡¨ç¤ºæˆstubç½‘æ®µï¼Œä¸¤ä¸ªè·¯ç”±å™¨åŒæ—¶é€šå‘Šstubè¿æ¥åˆ°è¯¥PPPç½‘æ®µ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587562873173.png&#34; alt=&#34;stub&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587562882311.png&#34; alt=&#34;transit&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587563373174.png&#34; alt=&#34;ç‚¹åˆ°ç‚¹&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸€ç±»&lt;/strong&gt;LSAæ”¯æŒçš„&lt;strong&gt;å››ç§é“¾è·¯&lt;/strong&gt;ç±»å‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Point-to-Point&lt;/strong&gt;ï¼šæè¿°ä¸€ä¸ªä»æœ¬è·¯ç”±å™¨åˆ°é‚»å±…è·¯ç”±å™¨ä¹‹é—´çš„ç‚¹åˆ°ç‚¹é“¾æ¥&lt;br&gt;
&lt;strong&gt;TransNet&lt;/strong&gt;ï¼šæè¿°ä¸€ä¸ªä»æœ¬è·¯ç”±å™¨åˆ°ä¸€ä¸ªTransitç½‘æ®µï¼ˆä¾‹å¦‚å¹¿æ’­å‹ç½‘æ®µæˆ–è€…NBMAç½‘æ®µï¼‰çš„é“¾æ¥&lt;br&gt;
&lt;strong&gt;StubNet&lt;/strong&gt;ï¼šæè¿°ä¸€ä¸ªä»æœ¬è·¯ç”±å™¨åˆ°ä¸€ä¸ªStubç½‘æ®µï¼ˆä¾‹å¦‚Loopbackæ¥å£ï¼‰çš„é“¾æ¥&lt;br&gt;
&lt;strong&gt;Virtual&lt;/strong&gt;ï¼šè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä»æœ¬è·¯ç”±å™¨åˆ°è™šè¿æ¥å¯¹ç«¯ABRçš„é“¾æ¥ï¼Œ&lt;strong&gt;è™šè¿æ¥æ˜¯å±äºéª¨å¹²åŒºåŸŸçš„ä¸€æ¡è™šæ‹Ÿè·¯ç”±ï¼Œä¸”è™šè¿æ¥ä¸èƒ½è·¨åŒºåŸŸå»ºç«‹&lt;/strong&gt;ã€è™šè¿æ¥ä¸èƒ½åœ¨éª¨å¹²åŒºåŸŸã€stubnetå’ŒNSSAä¸Šé…ç½®ï¼Œè™šè¿æ¥åªèƒ½åœ¨ABRä¸Šé…ç½®ã€‘&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è™šè¿æ¥çš„åº”ç”¨åœºæ™¯ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.è§£å†³ééª¨å¹²åŒºåŸŸæ²¡æœ‰è¿æ¥åˆ°éª¨å¹²åŒºåŸŸçš„é—®é¢˜&lt;br&gt;
2.è§£å†³éª¨å¹²åŒºåŸŸè¢«åˆ†å‰²çš„é—®é¢˜&lt;br&gt;
3.è§£å†³æ²¡æœ‰éª¨å¹²åŒºåŸŸçš„åœºæ™¯ï¼ˆå¯ä»¥å»ºç«‹è™šè¿æ¥å……å½“éª¨å¹²åŒºåŸŸï¼Œå³è™šè¿æ¥ç›¸å½“äºéª¨å¹²åŒºåŸŸï¼Œåªæœ‰åä¸ºè®¾å¤‡å¯ä»¥ï¼Œæ€ç§‘è®¾å¤‡ä¸æ”¯æŒï¼‰&lt;br&gt;
4.ä¿éšœéª¨å¹²åŒºåŸŸçš„å¥å£®æ€§ï¼ˆé¢„é˜²éª¨å¹²åŒºåŸŸè¢«åˆ†å‰²æˆ–è€…ABRåªæ¥å—ä¸‰ç±»LSAä¸é€‰è·¯çš„é—®é¢˜ï¼‰&lt;br&gt;
5.è§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜ï¼ˆä¸‰ç±»LSAçš„ä¼˜å…ˆçº§ä½äºä¸€ç±»LSAï¼Œå³å†…éƒ¨OSPFä¼˜å…ˆçº§(AR19)&amp;gt;å¤–éƒ¨OSPFä¼˜å…ˆçº§(AR18)ï¼‰**&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587830850069.png&#34; alt=&#34;è™šè¿æ¥åº”ç”¨åœºæ™¯&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è™šè¿æ¥çš„ç¼ºç‚¹&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å®¹æ˜“äº§ç”Ÿç¯è·¯&lt;/li&gt;
&lt;li&gt;ä¸èƒ½åšæ±‡æ€»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587917548285.png&#34; alt=&#34;è™šè¿æ¥--ç¯è·¯&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;è™šè¿æ¥çš„è¿œç«¯åœ°å€ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è™šè¿æ¥çš„ä¸¤ä¸ªç«¯ç‚¹éœ€è¦ç›¸äº’äº¤æ¢åè®®æŠ¥æ–‡ï¼Œä½†æ˜¯è™šè¿æ¥çš„é‚»å±…æ˜¯ç”¨Router IDæ¥æ ‡è¯†çš„ï¼Œä¸èƒ½ä½œä¸ºåè®®æŠ¥æ–‡çš„ç›®çš„IPåœ°å€ã€‚æ¯ä¸ªè™šè¿æ¥çš„ç«¯ç‚¹éƒ½è¦è®¡ç®—ä¸¤ä¸ªæœ€çŸ­è·¯å¾„æ ‘ï¼Œä¸€ä¸ªæ˜¯æœ¬åœ°æœ€çŸ­è·¯å¾„æ ‘ï¼Œå¦ä¸€ä¸ªæ˜¯è™šè¿æ¥é‚»å±…çš„æœ€çŸ­è·¯å¾„æ ‘ã€‚è®¡ç®—è™šè¿æ¥é‚»å±…çš„æœ€çŸ­è·¯å¾„æ ‘ä¹‹åï¼Œåœ¨æœ€çŸ­è·¯å¾„æ ‘ä¸ŠæŸ¥æ‰¾å¦‚ä½•åˆ°è¾¾æœ¬åœ°è·¯ç”±å™¨ï¼ˆé€šè¿‡Router IDæ¥æ ‡è¯†ï¼‰ï¼Œè™šè¿æ¥é‚»å±…åˆ°è¾¾æœ¬åœ°è·¯ç”±å™¨çš„å‡ºç«¯å£çš„IPåœ°å€ä¸ºæœ¬åœ°è·¯ç”±å™¨å‘é€ç»™è™šè¿æ¥è¯¶é‚»å±…çš„åè®®æŠ¥æ–‡ç›®çš„IPåœ°å€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;å¹¿æ’­ç±»å‹çš„æ¥å£çš„é“¾è·¯ç±»å‹æ˜¯transnetï¼Œç¯å›å£é“¾è·¯ç±»å‹æ˜¯stubnetï¼Œç‚¹åˆ°ç‚¹é“¾ä¼šç”Ÿæˆp2på’Œstubnetä¸¤ç§ç±»å‹ã€‚OPSFæ˜¯å…ˆè®¡ç®—p2på’Œtransnetï¼Œå†è®¡ç®—stubnet&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Type&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Link ID&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Link Data&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Point-to-point&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é‚»å±…çš„Router ID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥ç½‘æ®µä¸Šæœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;TransNet&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRçš„æ¥å£IPåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥ç½‘æ®µä¸Šæœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;StubNet&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥Stubç½‘æ®µçš„IPç½‘ç»œåœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¥Stubç½‘æ®µçš„ç½‘ç»œæ©ç &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Virtual&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è™šè¿æ¥é‚»å±…çš„Router ID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å»å¾€è¯¥è™šè¿æ¥é‚»å±…çš„æœ¬åœ°æ¥å£çš„IPåœ°å€&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h5 id=&#34;network-lsatype2&#34;&gt;Network-LSAï¼ˆType2ï¼‰&lt;/h5&gt;
&lt;p&gt;ç”±&lt;strong&gt;å¹¿æ’­ç½‘æˆ–NBMAç½‘ç»œä¸­çš„DR&lt;/strong&gt;äº§ç”Ÿï¼ŒNetwork-LSAä¸­è®°å½•äº†è¿™ä¸€ç½‘ç»œä¸Š&lt;strong&gt;æ‰€æœ‰è·¯ç”±å™¨çš„Router IDå’Œè¯¥ç½‘ç»œçš„æ©ç &lt;/strong&gt;ï¼Œæè¿°æœ¬ç½‘æ®µçš„&lt;strong&gt;é“¾è·¯çŠ¶æ€&lt;/strong&gt;ï¼Œ&lt;strong&gt;åœ¨æ‰€å±çš„åŒºåŸŸå†…ä¼ æ’­&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587311827323.png&#34; alt=&#34;OSPF-Network-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¡ç®—è¿‡ç¨‹çš„ä¸¤ä¸ªé˜¶æ®µ&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®—transitå’Œp2pèŠ‚ç‚¹ï¼Œå¿½ç•¥stubèŠ‚ç‚¹ï¼Œç”Ÿæˆä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘ï¼Œå³æ„å»ºSPFæ ‘ã€‚ä¾æ®Router-LSAå’ŒNetwork-LSAã€‚&lt;/li&gt;
&lt;li&gt;åªè®¡ç®—stubèŠ‚ç‚¹ï¼Œå°†stubç½‘æ®µæŒ‚åˆ°æœ€çŸ­è·¯å¾„æ ‘ä¸Šå»ï¼Œå³è®¡ç®—æœ€ä¼˜è·¯ç”±ã€‚ä¾æ®SPFæ ‘å¹²å’ŒRouter-LSAã€Network-LSAä¸­çš„è·¯ç”±ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;è®¡ç®—çš„è¯¦ç»†è¿‡ç¨‹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬ä¸€é˜¶æ®µ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;AR1ï¼šï¼ˆdis lsdb router 1.1.1.1ï¼‰æœ€çŸ­è·¯å¾„æ ‘-1.1.1.1ï¼ˆ0ï¼‰ï¼›å€™é€‰åˆ—è¡¨ï¼ˆp2pï¼‰-2.2.2.2ï¼ˆ48ï¼‰ã€4.4.4.4-1562ã€‚å¯¹æ¯”å€™é€‰åˆ—è¡¨ä¹‹åï¼Œå°†2.2.2.2æ”¾å…¥æœ€çŸ­è·¯å¾„æ ‘ï¼Œå½¢æˆæœ€çŸ­è·¯å¾„æ ‘-1.1.1.1ï¼ˆ0ï¼‰ã€2.2.2.2ï¼ˆ48ï¼‰ã€‚&lt;img src=&#34;https://fqj-web.github.io/post-images/1587708294300.png&#34; alt=&#34;1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æŸ¥çœ‹åˆ°2.2.2.2æ‰€æœ‰è·¯ç”±ï¼ˆdis lsdb router 2.2.2.2ï¼‰ï¼ŒæŸ¥æ‰¾ä¸åœ¨æœ€çŸ­è·¯å¾„æ ‘ä¸­metricæœ€å°çš„æ”¾å…¥æœ€çŸ­è·¯å¾„æ ‘ï¼Œå½¢æˆæœ€çŸ­è·¯å¾„æ ‘-1.1.1.1ï¼ˆ0ï¼‰ã€2.2.2.2ï¼ˆ48ï¼‰ã€10.3.1.3ï¼ˆ48+1ï¼‰&lt;img src=&#34;https://fqj-web.github.io/post-images/1587708929509.png&#34; alt=&#34;2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç”±äº10.3.1.3æ˜¯å¹¿æ’­ç±»å‹ï¼Œéœ€è¦æŸ¥çœ‹å…¶é‚»å±…ï¼ˆå³æŸ¥çœ‹äºŒç±»LSAï¼Œdis ospf lsdb network 10.3.1.3ï¼‰ï¼Œå…¶ä¸­2.2.2.2å·²ç»åŒ…å«åœ¨æœ€çŸ­è·¯å¾„æ ‘ä¸­ï¼Œåªéœ€è¦è€ƒè™‘3.3.3.3å’Œ4.4.4.4ï¼Œç”±äºåˆ°è¾¾10.3.1.3çš„å¼€é”€å€¼ä¸º49ï¼Œå³åˆ°è¾¾10.3.1.0/24è¿™ä¸ªç½‘ç»œçš„å¼€é”€å€¼ä¸º49ï¼Œæ‰€ä»¥åˆ°è¾¾3.3.3.3å’Œ4.4.4.4çš„å¼€é”€å€¼ä¸º49&lt;img src=&#34;https://fqj-web.github.io/post-images/1587709532658.png&#34; alt=&#34;3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç°åœ¨æŸ¥çœ‹3.3.3.3å’Œ4.4.4.4ä¸­ï¼ˆdis ospf lsdb router 3.3.3.3ï¼‰&lt;img src=&#34;https://fqj-web.github.io/post-images/1587739427675.png&#34; alt=&#34;4&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç”±äº10.3.1.3å’Œ1.1.1.1å·²ç»å­˜åœ¨æœ€çŸ­è·¯å¾„æ ‘ä¸­ï¼Œæ‰€ä»¥æœ€çŸ­è·¯å¾„æ ‘ä»ç„¶ä¸º1.1.1.1 &lt;img src=&#34;https://fqj-web.github.io/post-images/1587740242650.png&#34; alt=&#34;5&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç¬¬äºŒé˜¶æ®µ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587741949038.png&#34; alt=&#34;ç¬¬äºŒé˜¶æ®µ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;network-summary-lsatype3&#34;&gt;Network-summary-LSAï¼ˆType3ï¼‰&lt;/h5&gt;
&lt;p&gt;æè¿°åŒºåŸŸå†…æ‰€æœ‰&lt;strong&gt;ç½‘æ®µ&lt;/strong&gt;çš„è·¯ç”±ï¼Œå¹¶é€šå‘Šç»™å…¶ä»–ç›¸å…³åŒºåŸŸï¼ˆ&lt;strong&gt;å³è·¨åŒºåŸŸè¿›è¡Œè·¯ç”±ä¼ é€’&lt;/strong&gt;ï¼‰&lt;code&gt;Type3å’ŒType4çš„LSAæœ‰ç›¸åŒçš„æ ¼å¼ï¼Œå®ƒä»¬éƒ½æ˜¯ç”±ABRäº§ç”Ÿï¼Œå¯ä»¥è·¨åŒºåŸŸä¼ é€’ï¼Œæè¿°çš„æ˜¯è·¯ç”±ä¿¡æ¯ï¼Œä¸æ‹“æ‰‘æ— å…³ã€‚ABRä¼šå°†åŒºåŸŸå†…çš„ä¸€ç±»LSAå’ŒäºŒç±»LSAè½¬æˆä¸‰ç±»LSAï¼ˆæ­¤åŠŸèƒ½åªæœ‰ABRå…·æœ‰ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºäº†é˜²ç¯ï¼‰ï¼Œç„¶åæ³›æ´ªåˆ°å…¶ä»–åŒºåŸŸï¼ŒABRäº§ç”Ÿçš„ä¸‰ç±»LSAå°†ç”¨äºè®¡ç®—åŒºåŸŸé—´è·¯ç”±&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312009002.png&#34; alt=&#34;OSPF-Network-summary-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;é€šå‘Šç¼ºçœè·¯ç”±æ—¶ï¼ŒLink State IDå’ŒNetwork Maskéƒ½è®¾ç½®ä¸º0.0.0.0ï¼ŒæŸ¥çœ‹ä¸‰ç±»LSAå‘½ä»¤ï¼šdis ospf lsdb summary xx.xx.xx.xx&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OSPFçš„é˜²ç¯&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†é¿å…åŒºåŸŸé—´çš„ç¯è·¯ï¼ŒOSPFè§„å®šä¸å…è®¸ç›´æ¥åœ¨ä¸¤ä¸ªééª¨å¹²åŒºåŸŸé—´å‘å¸ƒè·¯ç”±ä¿¡æ¯ï¼Œåªå…è®¸åœ¨&lt;strong&gt;ä¸€ä¸ªåŒºåŸŸå†…éƒ¨&lt;/strong&gt;æˆ–è€…&lt;strong&gt;åœ¨éª¨å¹²åŒºåŸŸå’Œééª¨å¹²åŒºåŸŸä¹‹é—´&lt;/strong&gt;å‘å¸ƒè·¯ç”±ä¿¡æ¯ï¼›&lt;strong&gt;åªæœ‰ABRå…·æœ‰å°†ä¸€ç±»LSAå’ŒäºŒç±»LSAè½¬æˆä¸‰ç±»LSAçš„åŠŸèƒ½ï¼ˆå¿…é¡»ä¸ºçœŸABRï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ ¹æ®ä¸‰ç±»LSAè®¡ç®—åŒºåŸŸé—´è·¯ç”±æ­¥éª¤&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®ä¸‰ç±»LSAä¸­çš„&lt;strong&gt;Adv Rou&lt;/strong&gt;å­—æ®µåˆ¤æ–­å‡º&lt;strong&gt;ABR&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ ¹æ®&lt;strong&gt;sidã€Net Maskã€Metric&lt;/strong&gt;å­—æ®µè·å¾—ABRåˆ°è¾¾ç›®çš„&lt;strong&gt;ç½‘ç»œå·ã€æ©ç ã€å¼€é”€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤šä¸ªABRäº§ç”Ÿäº†æŒ‡å‘ç›¸åŒç›®çš„ç½‘ç»œçš„ä¸‰ç±»LSAï¼Œåˆ™æ ¹èŠ‚ç‚¹å°†æ ¹æ®æœ¬è·¯ç”±å™¨åˆ°è¾¾ç›®çš„ç½‘ç»œçš„&lt;strong&gt;ç´¯è®¡å¼€é”€&lt;/strong&gt;è¿›è¡Œæ¯”è¾ƒï¼Œæœ€ç»ˆç”Ÿæˆ&lt;strong&gt;æœ€å°å¼€é”€è·¯ç”±&lt;/strong&gt;ï¼›å¦‚æœæ ¹èŠ‚ç‚¹åˆ°è¾¾ç›®çš„ç½‘ç»œçš„&lt;strong&gt;ç´¯è®¡å¼€é”€å€¼ç›¸åŒ&lt;/strong&gt;ï¼Œåˆ™äº§ç”Ÿ&lt;strong&gt;ç­‰ä»·è´Ÿè½½çš„è·¯ç”±&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;çœŸå‡ABR&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å‡ABR&lt;/strong&gt;ï¼šéª¨å¹²åŒºåŸŸæˆ–è€…ééª¨å¹²åŒºåŸŸæœ‰ä¸€ç«¯æ˜¯ç¯å›æ¥å£&lt;br&gt;
&lt;strong&gt;çœŸABR&lt;/strong&gt;ï¼šè¿æ¥éª¨å¹²ä¸ééª¨å¹²åŒºåŸŸçš„è®¾å¤‡ï¼Œå¹¶ä¸”åœ¨éª¨å¹²åŒºåŸŸ&lt;strong&gt;æœ‰æ´»åŠ¨çš„é‚»æ¥&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;çœŸABRä»ééª¨å¹²åŒºåŸŸæ”¶åˆ°çš„ä¸‰ç±»LSAåªæ¥æ”¶ï¼ˆæ›´æ–°LSDBï¼‰ã€ä¸é€‰è·¯ï¼ˆå³ä¸åŠ å…¥è·¯ç”±è¡¨ï¼‰ï¼›å‡ABRå³æ¥æ”¶åˆé€‰è·¯&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;asbr-summary-lsatype4&#34;&gt;ASBR-summary-LSAï¼ˆType4ï¼‰&lt;/h5&gt;
&lt;p&gt;æè¿°&lt;strong&gt;ABRåˆ°ASBRçš„è·¯ç”±&lt;/strong&gt;ï¼Œé€šå‘Šç»™é™¤ASBRæ‰€åœ¨åŒºåŸŸçš„å…¶ä»–ç›¸å…³åŒºåŸŸï¼Œå››ç±»LSA&lt;strong&gt;ä¸èƒ½è·¨åŒºåŸŸ&lt;/strong&gt;ã€‚&lt;code&gt;æŠ¥æ–‡æ ¼å¼ä¸Network-summary-LSAç›¸åŒ&lt;/code&gt;&lt;strong&gt;ç”±ABRå‘å‡ºï¼ŒASBRæ±‡æ€»LSAé™¤äº†æ‰€é€šå‘Šçš„ç›®çš„åœ°æ˜¯ä¸€ä¸ªASBRè€Œä¸æ˜¯ä¸€ä¸ªç½‘ç»œå¤–ï¼Œå…¶ä»–åŒNetwork Summary LSA&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LS idï¼šASBRçš„RID&lt;/li&gt;
&lt;li&gt;Adv rtrï¼šABRçš„RID&lt;/li&gt;
&lt;li&gt;metricï¼šABRåˆ°ASBRçš„å¼€é”€å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¸‰ç±»LSAæ— æ³•å–ä»£å››ç±»LSAï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºä¸‰ç±»LSAæè¿°çš„æ˜¯è·¯ç”±ä¿¡æ¯ï¼Œå››ç±»LSAæè¿°çš„æ˜¯ASBRçš„æ‹“æ‰‘ä¿¡æ¯ï¼ˆLsIDæ˜¯ASBRçš„RouterID ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h5 id=&#34;as-external-lsatype5&#34;&gt;AS-External-LSAï¼ˆType5ï¼‰&lt;/h5&gt;
&lt;p&gt;&lt;strong&gt;ç”±ASBRäº§ç”Ÿ&lt;/strong&gt;ï¼Œæ˜¯è‡ªæ²»ç³»ç»Ÿå¤–çš„è·¯ç”±å¼•å…¥OSPFäº§ç”Ÿçš„ï¼Œæè¿°çš„&lt;strong&gt;æ˜¯ASBRåˆ°å¤–éƒ¨è·¯ç”±ï¼ˆç›®æ ‡ç½‘ç»œï¼‰çš„å¼€é”€ï¼ˆåä¸ºé»˜è®¤ä¸º1ï¼‰&lt;/strong&gt;ï¼Œè¿™æ˜¯äº”ç§LSAä¸­ï¼Œå”¯ä¸€ä¸€ç§é€šå‘Šåˆ°æ‰€æœ‰åŒºåŸŸï¼ˆé™¤äº†StubåŒºåŸŸå’ŒNSSAåŒºåŸŸï¼‰çš„LSAã€‚&lt;strong&gt;5ç±»LSAå¯ä»¥è·¨åŒºåŸŸï¼Œè€Œä¸”åœ¨ä¼ é€’è¿‡ç¨‹ä¸­æ˜¯ä¸èƒ½è¢«æ”¹å˜çš„&lt;/strong&gt;ã€‚&lt;strong&gt;å‘è‡ªASBRè·¯ç”±å™¨ï¼Œç”¨æ¥é€šå‘Šåˆ°è¾¾OSPFè‡ªæ²»ç³»ç»Ÿå¤–éƒ¨çš„ç›®çš„åœ°ï¼Œæˆ–è€…OSPFè‡ªæ²»ç³»ç»Ÿé‚£ä¸ªå¤–éƒ¨çš„ç¼ºçœè·¯ç”±çš„LSAã€‚è¿™ç§LSAå°†åœ¨å…¨ASå†…æ³›æ´ªï¼ˆ4ä¸ªç‰¹æ®ŠåŒºåŸŸé™¤å¤–ï¼‰&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312103475.png&#34; alt=&#34;OSPF-AS-External-LSA&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;Type5çš„LSAå¯ä»¥ç”¨æ¥é€šå‘Šç¼ºçœè·¯ç”±ï¼Œæ­¤æ—¶Link State IDå’ŒNetwork Maskéƒ½è®¾ç½®ä¸º0.0.0.0&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LS idï¼šç½‘ç»œå‰ç¼€&lt;/li&gt;
&lt;li&gt;Adv rtrï¼šASBRçš„RID&lt;/li&gt;
&lt;li&gt;FAåœ°å€ï¼šé˜²æ­¢æ¬¡ä¼˜è·¯å¾„å’Œç¯è·¯ã€‚&lt;strong&gt;æºå¸¦FAåœ°å€çš„ä¸‰ä¸ªæ¡ä»¶ï¼š1.æ¥å£ç±»å‹ä¸èƒ½æ˜¯P2Pã€P2MPï¼›2.æ¥å£ä¸èƒ½é…ç½®ä¸ºé™é»˜æ¥å£(silentæ¥å£)ï¼›3.ä¸‹ä¸€æ¡åœ°å€è¦ä¸ºåŸŸå†…æˆ–è€…åŸŸé—´å¯è¾¾&lt;/strong&gt;&lt;code&gt;OSPFçš„äº”ç±»LSAå¦‚æœæºå¸¦äº†FAåœ°å€ï¼Œè®¡ç®—è·¯ç”±æ—¶ä¼šä¼˜å…ˆè€ƒè™‘FAåœ°å€ï¼Œå¦‚æœæ²¡æœ‰æºå¸¦FAåœ°å€ï¼Œåˆ™ä¼šè€ƒè™‘ASBR&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;å¤–éƒ¨åº¦é‡å€¼ç±»å‹ï¼ˆEæ¯”ç‰¹ä½ï¼‰&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OE1&lt;/strong&gt;ï¼šç¬¬ä¸€ç±»å¤–éƒ¨è·¯ç”±&lt;code&gt;å¼•å…¥å…¶ä»–åè®®çš„è·¯ç”±æ—¶ä¿®æ”¹ä¸ºOE1çš„æŒ‡ä»¤ï¼šimport-route rip 1 type 1&lt;/code&gt;ã€‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­&lt;strong&gt;å¼€é”€å€¼ç´¯åŠ &lt;/strong&gt;ã€‚&lt;code&gt;OE1çš„è·¯ç”±ä¼˜å…ˆäºOE2&lt;/code&gt;ã€‚OE1çš„è·¯ç”±æ¯”è¾ƒçš„æ˜¯æ€»å¼€é”€å€¼ï¼Œä¸åŒºåˆ†å†…å¤–ã€‚&lt;br&gt;
&lt;strong&gt;OE2&lt;/strong&gt;ï¼šç¬¬äºŒç±»å¤–éƒ¨è·¯ç”±ï¼Œ&lt;strong&gt;é»˜è®¤ç±»å‹&lt;/strong&gt;ã€‚åœ¨ä¼ é€’è¿‡ç¨‹ä¸­&lt;strong&gt;å¼€é”€å€¼ä¸ä¼šç´¯åŠ &lt;/strong&gt;ï¼Œåªè®¡ç®—å¼•å…¥æ—¶çš„å¤–éƒ¨å¼€é”€å€¼ï¼Œä¸è®¡ç®—å†…éƒ¨å¼€é”€å€¼ã€‚OE2åªçœ‹å¤–éƒ¨å¼€é”€ï¼ˆå¿½ç•¥å†…éƒ¨å¼€é”€ï¼‰ï¼›å¦‚æœå¤–éƒ¨å¼€é”€ç›¸åŒï¼Œåˆ™æ¯”è¾ƒå†…éƒ¨å¼€é”€ï¼›å¦‚æœå†…éƒ¨å’Œå¤–éƒ¨å¼€é”€éƒ½ç›¸åŒï¼Œåˆ™è¿›è¡Œè´Ÿè½½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;lsaæŠ¥æ–‡ç®€ç•¥æ€»ç»“&#34;&gt;LSAæŠ¥æ–‡ç®€ç•¥æ€»ç»“&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;LSAç§ç±»&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åç§°&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å†…å®¹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Link State ID&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Adv Router&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ä¼ è¾“åŒºåŸŸ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸€ç±»LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Router-LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é“¾è·¯çŠ¶æ€ä¿¡æ¯çš„é›†åˆ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äº§ç”ŸLSAçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾å¤‡çš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äºŒç±»LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;network-LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é“¾è·¯å†…çš„è®¾å¤‡çš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRæ¥å£çš„IP&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;DRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸‰ç±»LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Network-Summary-LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯ä»¥è·¨åŒºåŸŸ(é™¤stubã€NSSA)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å››ç±»LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBR-Summary-LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äº”ç±»LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;AS-External-LSA&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¯ç”±ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå‰ç¼€&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ASBRçš„RouterID&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·¨åŒºåŸŸ(é™¤stubã€NSSA)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸åŒæŠ¥æ–‡ä¸­LinkStateIDçš„åŒºåˆ«&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Router-LSAä¸­çš„LsIDä¸ºç”Ÿæˆæ­¤LSAçš„RouterID&lt;/li&gt;
&lt;li&gt;Network-LSAä¸­çš„LsIDä¸ºDRçš„æ¥å£IPåœ°å€&lt;/li&gt;
&lt;li&gt;Network-summary-LSAä¸­çš„LsIDä¸ºé€šå‘Šçš„ç½‘ç»œåœ°å€&lt;/li&gt;
&lt;li&gt;ASBR-summary-LSAä¸­çš„LsIDä¸ºASBRçš„RouterID&lt;/li&gt;
&lt;li&gt;AS-External-LSAä¸­çš„LsIDä¸ºé€šå‘Šçš„ç½‘ç»œåœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;lsaæŠ¥æ–‡åˆ†ç±»å‹è¯¦ç»†æ±‡æ€»&#34;&gt;LSAæŠ¥æ–‡åˆ†ç±»å‹è¯¦ç»†æ±‡æ€»&lt;/h4&gt;
&lt;h5 id=&#34;router-lsa&#34;&gt;Router-LSA&lt;/h5&gt;
&lt;p&gt;è·¯ç”±LSA ï¼Œæ˜¯ospf åŒºåŸŸå†…çš„æ‰€æœ‰è·¯ç”±å™¨äº§ç”Ÿçš„ï¼ŒåŒ…å«çš„ä¿¡æ¯ï¼šè¯¥è·¯ç”±æœ‰å‡ ä¸ªæ¥å£å‚ä¸äº†OSPFï¼Œä»¥åŠå®ƒä»¬æ‰€åœ¨çš„ç½‘æ®µï¼Œåªåœ¨æœ¬åŒºåŸŸå†…æ³›æ´ªã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Type      : Router
  Ls id     : 2.2.2.2
  Adv rtr   : 2.2.2.2  
  Ls age    : 24 
  Len       : 36 
  Options   :  ABR      #å½“å‰æ•°æ®é‡‡è‡ªstubåŒºåŸŸï¼Œæ™®é€šåŒºåŸŸè¯¥ä½ä¼šç½®ABR E
  seq#      : 80000005 
  chksum    : 0x819e
  Link count: 1
   * Link ID: 12.1.1.2     
     Data   : 12.1.1.2     
     Link Type: TransNet     
     Metric : 1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;æè¿°è¯¥è·¯ç”±å™¨æ‰€æœ‰æ¥å£çš„é“¾è·¯ä¿¡æ¯ï¼ˆtransenetã€stubã€p2pã€virtual-linkï¼‰ã€æ˜¯å¦ä¸ºABRæˆ–è€…ASBRã€å¼€é”€å€¼ç­‰&lt;/li&gt;
&lt;li&gt;P2På’ŒP2MPåŒºåŸŸå†…ä»…å­˜åœ¨è¯¥lsa&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰è·¯ç”±å™¨å‘å‡ºã€ä»…å­˜äºåŒºåŸŸå†…&lt;/li&gt;
&lt;li&gt;é€šå‘Šè€…ä¸ºäº§ç”Ÿè¯¥lsaçš„è·¯ç”±å™¨çš„router id&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;network-lsa&#34;&gt;Network-LSA&lt;/h5&gt;
&lt;p&gt;ç½‘ç»œLSA ï¼Œå®ƒæ˜¯ospfåŒºåŸŸå†…çš„DRäº§ç”Ÿçš„ï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯ï¼šå¤šå°‘è·¯ç”±å™¨åœ¨å®ƒçš„ç½‘ç»œä¸Šï¼Œè¯¥ç½‘ç»œçš„å‰ç¼€å’Œæ©ç ï¼Œä¹Ÿåªåœ¨æœ¬åŒºåŸŸå†…æ³›æ´ªã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Type      : Network
  Ls id     : 12.1.1.2
  Adv rtr   : 2.2.2.2  
  Ls age    : 40 
  Len       : 32 
  Options   : None         #å½“å‰æ•°æ®é‡‡è‡ªstubåŒºåŸŸï¼Œæ™®é€šåŒºåŸŸè¯¥ä½ä¼šç½® E
  seq#      : 80000002 
  chksum    : 0x1027
  Net mask  : 255.255.255.0
  Priority  : Low
     Attached Router    2.2.2.2
     Attached Router    1.1.1.1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;æè¿°å¤šç‚¹ç½‘ç»œä¼ªèŠ‚ç‚¹è¿æ¥çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;DRå‘å‡ºã€ä»…å­˜äºåŒºåŸŸå†…&lt;/li&gt;
&lt;li&gt;net maskä¸link idè¿›è¡Œä¸è¿ç®—ï¼Œå¯è·çŸ¥ç½‘ç»œå·&lt;/li&gt;
&lt;li&gt;é€šå‘Šè€…ä¸ºDRï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªè¡¥å……ï¼Œä»…MAç½‘ç»œçš„è¡¥å……æè¿°ï¼ˆMAã€NBMAï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;network-summary-lsa&#34;&gt;Network-summary-LSA&lt;/h5&gt;
&lt;p&gt;æ±‡æ€»LSAï¼Œå®ƒæ˜¯ABRè·¯ç”±å™¨äº§ç”Ÿçš„ï¼Œåœ¨æ•´ä¸ªASé‡Œæ³›æ´ªã€‚&lt;strong&gt;é€šè¿‡ä¸‰ç±»LSAï¼Œå¯ä»¥çŸ¥é“ç›®æ ‡è·¯ç”±å™¨åœ¨å“ªä¸ªASé‡Œï¼›é€šè¿‡äºŒç±»LSAï¼Œå¯ä»¥çŸ¥é“ç›®æ ‡è·¯ç”±å™¨åœ¨å“ªä¸ªåŒºåŸŸï¼›é€šè¿‡ä¸€ç±»LSAï¼Œå¯ä»¥çŸ¥é“ç›®æ ‡è·¯ç”±å™¨å…·ä½“æ˜¯å“ªä¸€ä¸ª&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Type      : Sum-Net
  Ls id     : 12.1.1.0
  Adv rtr   : 2.2.2.2  
  Ls age    : 581 
  Len       : 28 
  Options   :  E  
  seq#      : 80000004 
  chksum    : 0x7fc3
  Net mask  : 255.255.255.0
  Tos 0  metric: 1
  Priority  : Low
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;åŒºåŸŸé—´é“¾è·¯çŠ¶æ€ä¿¡æ¯çš„æ±‡æ€»ï¼Œå‘ŠçŸ¥å…¶ä»–åŒºåŸŸï¼Œæœ¬åŒºåŸŸå†…çš„é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼ˆæœ¬åŒºåŸŸå†…çš„LSA1+LSA2ï¼‰&lt;/li&gt;
&lt;li&gt;ABRå‘å‡ºï¼Œå‘ç›¸é‚»åŒºåŸŸé€šå‘Šï¼Œé€šå‘Šç»™å…¶ä»–åŒºåŸŸåï¼Œé€šå‘Šè€…ä¼šä¿®æ”¹ä¸ºABRçš„router id&lt;/li&gt;
&lt;li&gt;ç›¸å½“äºåŸé™…åˆ—è½¦ï¼ˆè·¨åŒºçš„åˆ—è½¦ï¼Œä½†æ²¡æœ‰å‡ºå¸‚ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;asbr-summary-lsa&#34;&gt;ASBR-summary-LSA&lt;/h5&gt;
&lt;p&gt;ä¹Ÿå«æ±‡æ€»LSAï¼Œå®ƒæ˜¯ASBRè·¯ç”±å™¨äº§ç”Ÿçš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;å‘ŠçŸ¥asbrçš„ä½ç½®&lt;/li&gt;
&lt;li&gt;ABRå‘å‡ºï¼Œå¼•å…¥å¤–éƒ¨è·¯ç”±çš„åŒºåŸŸä¸å­˜åœ¨4ç±»lsa&lt;/li&gt;
&lt;li&gt;ç›¸å½“äºæœ¬åŒºçš„ä»£ç†å‘Šè¯‰ä½ å»å›½å¤–å¾—å…ˆå»æœºåœº&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;as-external-lsa&#34;&gt;AS-External-LSA&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Type      : External
  Ls id     : 44.44.44.44
  Adv rtr   : 4.4.4.4  
  Ls age    : 856 
  Len       : 36 
  Options   :  E  
  seq#      : 80000002 
  chksum    : 0x947a
  Net mask  : 255.255.255.255 
  TOS 0  Metric: 1 
  E type    : 2
  Forwarding Address : 0.0.0.0 
  Tag       : 1 
  Priority  : Medium
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;å‘ŠçŸ¥å¼•å…¥å¤–éƒ¨è·¯ç”±çš„è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;ç”±ASBRå‘å‡ºï¼Œå¼•å…¥å¤–éƒ¨è·¯ç”±çš„åŒºåŸŸé€šè¿‡1ç±»LSAå»å¾€å¤–éƒ¨è·¯ç”±&lt;/li&gt;
&lt;li&gt;ç›¸å½“äºæœºåœºï¼Œå»å¾€å›½å¤–çš„é€šé“&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;nssa-lsa&#34;&gt;NSSA-LSA&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡å†…å®¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Type      : NSSA
  Ls id     : 44.44.44.44
  Adv rtr   : 4.4.4.4  
  Ls age    : 89 
  Len       : 36 
  Options   :  NP  
  seq#      : 80000001 
  chksum    : 0xe8f6
  Net mask  : 255.255.255.255 
  TOS 0  Metric: 1 
  E type    : 2
  Forwarding Address : 34.1.1.4 
  Tag       : 1 
  Priority  : Low
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½œç”¨
&lt;ol&gt;
&lt;li&gt;ä»…nssaç½‘ç»œä¸­å­˜åœ¨&lt;/li&gt;
&lt;li&gt;ç¼ºçœå­˜åœ¨é»˜è®¤è·¯ç”±ï¼Œå½“å¼•å…¥å¤–éƒ¨è·¯ç”±åï¼Œè¯¥å¤–éƒ¨è·¯ç”±ä¹Ÿä¼šä½“ç°ä¸ºnssaç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id=&#34;lsacklink-state-acknowledgmenté“¾è·¯çŠ¶æ€ç¡®è®¤&#34;&gt;LSAckï¼ˆLink State Acknowledgment,é“¾è·¯çŠ¶æ€ç¡®è®¤ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½œç”¨ï¼š&lt;/strong&gt;ï¼ˆç»“è´¦ä¹°å•ï¼‰ç”¨æ¥å¯¹æ”¶åˆ°çš„LSUçš„ç¡®è®¤ã€‚ç”¨æ¥å¯¹æ¥æ”¶åˆ°çš„LSUæŠ¥æ–‡è¿›è¡Œç¡®è®¤ï¼Œå†…å®¹æ˜¯éœ€è¦ç¡®è®¤çš„LSAçš„Headerï¼ˆä¸€ä¸ªLSAckæŠ¥æ–‡å¯å¯¹å¤šä¸ªLSAè¿›è¡Œç¡®è®¤ï¼‰ï¼ŒLSAckæŠ¥æ–‡æ ¹æ®ä¸åŒçš„é“¾è·¯ä»¥å•æ’­æˆ–ç»„æ’­çš„å½¢å¼å‘é€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587312186750.png&#34; alt=&#34;OSPF-LSAck&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;ospfç‰¹æ®ŠåŒºåŸŸ&#34;&gt;OSPFç‰¹æ®ŠåŒºåŸŸ&lt;/h1&gt;
&lt;h2 id=&#34;stub-æœ«èŠ‚åŒºåŸŸ&#34;&gt;Stub æœ«èŠ‚åŒºåŸŸ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å°†åŒºåŸŸè®¾ç½®ä¸ºæœ«èŠ‚åŒºåŸŸï¼Œéœ€è¦åœ¨æœ«èŠ‚åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šé…ç½®&lt;code&gt;stub&lt;/code&gt;å‘½ä»¤&lt;/li&gt;
&lt;li&gt;æœ«èŠ‚åŒºåŸŸä¼š&lt;strong&gt;è¿‡æ»¤äº”ç±»LSAï¼ˆå››ç±»LSAä¹Ÿä¼šè¢«è¿‡æ»¤æ‰ï¼‰&lt;/strong&gt;ï¼ŒABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±ï¼ˆä¸‰ç±»LSAï¼‰&lt;/li&gt;
&lt;li&gt;æ— æ³•é…ç½®å¤–éƒ¨è·¯ç”±ï¼ˆå³ä¾¿å¼ºè¡Œé…ç½®ä¹Ÿæ— æ³•é…ç½®ä¸Šå»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# éœ€è¦åœ¨è¯¥åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šéƒ½é…ç½®
ospf 10 router-id 2.2.2.2
area 10
stub
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;totally-stub-å®Œå…¨æœ«èŠ‚åŒºåŸŸ&#34;&gt;Totally Stub å®Œå…¨æœ«èŠ‚åŒºåŸŸ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è¦åœ¨ABRä¸Šé…ç½®ï¼ŒåŒºåŸŸå†…å…¶ä»–è®¾å¤‡é…ç½®ä¸ºæœ«èŠ‚åŒºåŸŸå³å¯&lt;/li&gt;
&lt;li&gt;å®Œå…¨æœ«èŠ‚åŒºåŸŸä¸ä»…ä¼š&lt;strong&gt;è¿‡æ»¤æ‰å››ç±»å’Œäº”ç±»LSAï¼Œä¹Ÿä¼šè¿‡æ»¤æ‰ä¸‰ç±»LSA&lt;/strong&gt;ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±ï¼ˆä¸‰ç±»LSAï¼‰ï¼ˆä¸€å…±æœ‰ä¸‰ç±»LSAï¼šä¸€ç±»ã€äºŒç±»å’Œä¸‹æ”¾è·¯ç”±ä½¿ç”¨çš„ä¸‰ç±»ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ospf 10 router-id 2.2.2.2
area 10
stub no-summary
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Stubå’ŒTotally Stubçš„ä¸€äº›æ¡ä»¶&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;å»ºè®®è¯¥åŒºåŸŸåªèƒ½æœ‰ä¸€ä¸ªå‡ºå£ï¼Œå³åªæœ‰ä¸€ä¸ªABR&lt;/li&gt;
&lt;li&gt;è™šè¿æ¥ä¸èƒ½è·¨è¶ŠStubåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;StubåŒºåŸŸä¸èƒ½æœ‰ASBR&lt;/li&gt;
&lt;li&gt;ä¸èƒ½å°†éª¨å¹²åŒºåŸŸé…ç½®ä¸ºStubåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;StubåŒºåŸŸå‘é€çš„HelloæŠ¥æ–‡ä¸­çš„Eæ¯”ç‰¹ä½ä¼šç½®0&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;nssa-éå®Œå…¨æœ«èŠ‚åŒºåŸŸ&#34;&gt;NSSA éå®Œå…¨æœ«èŠ‚åŒºåŸŸ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;äº§ç”ŸèƒŒæ™¯&lt;/strong&gt;ï¼šOSPFè§„å®šStubåŒºåŸŸä¸èƒ½å¼•å…¥å¤–éƒ¨è·¯ç”±ï¼Œè¿™æ ·å¯ä»¥é¿å…å¤§é‡å¤–éƒ¨è·¯ç”±å¯¹StubåŒºåŸŸè·¯ç”±å™¨å¸¦å®½å’Œå­˜å‚¨èµ„æºçš„æ¶ˆè€—ã€‚å¯¹äºæ—¢éœ€è¦å¼•å…¥å¤–éƒ¨è·¯ç”±åˆè¦é¿å…å¤–éƒ¨è·¯ç”±å¸¦æ¥çš„èµ„æºæ¶ˆè€—çš„åœºæ™¯ï¼ŒstubåŒºåŸŸå°±ä¸åœ¨æ»¡è¶³éœ€æ±‚ï¼Œå› æ­¤äº§ç”Ÿäº†NSSAåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;å°†åŒºåŸŸè®¾ç½®ä¸ºNSSAåŒºåŸŸï¼Œéœ€è¦åœ¨æœ«èŠ‚åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šé…ç½®&lt;code&gt;nssa&lt;/code&gt;å‘½ä»¤&lt;/li&gt;
&lt;li&gt;NSSAåŒºåŸŸä¼š&lt;strong&gt;è¿‡æ»¤äº”ç±»LSAï¼ˆå››ç±»LSAä¹Ÿä¼šè¢«è¿‡æ»¤æ‰ï¼‰&lt;/strong&gt;ï¼ŒåŒæ—¶å¼•è¿›ä¸ƒç±»LSAï¼ˆå³NSSA-LSAï¼Œæ˜¯ç”±äº”ç±»LSAè½¬æ¢è€Œæˆï¼‰ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±ï¼ˆä¸ƒç±»LSAï¼‰&lt;/li&gt;
&lt;li&gt;ä¸ƒç±»LSAçš„ä¼˜å…ˆçº§ï¼šON1ï¼ˆç±»ä¼¼OE1ï¼‰å’ŒON2(ç±»ä¼¼OE2)&lt;/li&gt;
&lt;li&gt;FAåœ°å€ï¼šå¯¹äº&lt;strong&gt;äº”ç±»LSAæ˜¯å¯é€‰é¡¹&lt;/strong&gt;ï¼Œä½†æ˜¯&lt;strong&gt;ä¸ƒç±»LSAæ˜¯å¿…é€‰é¡¹&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åœ¨äº”ç±»LSAä¸­&lt;/strong&gt;ï¼ŒFAåœ°å€åªæœ‰æ»¡è¶³é‚£ä¸‰ä¸ªæ¡ä»¶æ‰ä¼šæºå¸¦ï¼Œæºå¸¦çš„æ˜¯ä¸‹ä¸€æ¡çš„åœ°å€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ¨ä¸ƒç±»LSAä¸­&lt;/strong&gt;ï¼Œå¦‚æœæ»¡è¶³äº”ç±»LSAçš„ä¸‰å¤§æ¡ä»¶ï¼ŒFAåœ°å€æ˜¯ASBRä¸Šå¤–éƒ¨è·¯ç”±çš„ä¸‹ä¸€æ¡åœ°å€ï¼›å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼ŒFAåœ°å€æ˜¯ASBRä¸ŠæŸä¸ªæ¥å£çš„IPï¼Œä¼˜é€‰ç¯å›å£&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# éœ€è¦åœ¨è¯¥åŒºåŸŸçš„æ‰€æœ‰è®¾å¤‡ä¸Šéƒ½é…ç½®
ospf 10 router-id 2.2.2.2
area 10
nssa
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;totally-nssa&#34;&gt;Totally NSSA&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åªéœ€è¦åœ¨ABRä¸Šè®¾ç½®ï¼ŒåŒºåŸŸå†…å…¶ä»–è·¯ç”±è®¾å¤‡è®¾ç½®ä¸ºnaaså³å¯&lt;/li&gt;
&lt;li&gt;è¿‡æ»¤æ‰&lt;strong&gt;ä¸‰ç±»ã€å››ç±»å’Œäº”ç±»LSA&lt;/strong&gt;ï¼ŒåŒæ—¶å¼•å…¥å¤–éƒ¨è·¯ç”±ä½œä¸ºä¸ƒç±»LSAå­˜åœ¨ï¼ŒåŒæ—¶ABRä¼šå‘è¯¥åŒºåŸŸé€šå‘Šä¸¤æ¡é»˜è®¤è·¯ç”±ï¼šä¸€ä¸ªæ˜¯ä¸‰ç±»sum-netï¼ˆä¼˜å…ˆçº§é«˜ï¼‰ï¼Œä¸€ä¸ªæ˜¯ä¸ƒç±»nssa&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ospf 10 router-id 2.2.2.2
area 10
naas no-summary
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OSPFè·¯ç”±çš„ä¼˜å…ˆçº§&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ€ç§‘&lt;/strong&gt;ï¼šO(ä¸€ç±»å’ŒäºŒç±»)&amp;gt;OIA(ä¸‰ç±»)&amp;gt;OE1(äº”ç±»å¤–éƒ¨åº¦é‡å€¼ç±»å‹1)&amp;gt;ON1(ä¸ƒç±»å¤–éƒ¨åº¦é‡å€¼ç±»å‹1)&amp;gt;OE1(äº”ç±»å¤–éƒ¨åº¦é‡å€¼ç±»å‹2)&amp;gt;ON2(ä¸ƒç±»å¤–éƒ¨åº¦é‡å€¼ç±»å‹2)&lt;br&gt;
&lt;strong&gt;åä¸º&lt;/strong&gt;ï¼šO(ä¸€ç±»å’ŒäºŒç±»)&amp;gt;OIA(ä¸‰ç±»)&amp;gt;OE1=ON1&amp;gt;OE2=ON2ï¼ˆäº”ç±»å’Œä¸ƒç±»çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œå³åä¸ºä¸åŒºåˆ†äº”ç±»å’Œä¸ƒç±»LSAï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸ƒç±»LSAè½¬äº”ç±»LSAçš„æ¡ä»¶&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæœ‰å¤šä¸ªABRï¼Œåˆ™RouterIDå¤§çš„è¿›è¡Œä¸ƒè½¬äº”ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;nssa translator-always&lt;/code&gt;å‘½ä»¤æ¥æŒ‡å®šABRè¿›è¡Œä¸ƒè½¬äº”ï¼ˆä¸€ä¸ªåŒºåŸŸä¸­åªæœ‰ä¸€ä¸ªè®¾å¤‡è¿›è¡Œä¸ƒè½¬äº”ï¼‰ã€‚å¦‚æœåšä¸ƒè½¬äº”æ—¶æŠ‘åˆ¶æ‰FAåœ°å€åˆ™éœ€è¦ä½¿ç”¨å‘½ä»¤&lt;code&gt;nssa translator-always suppress-forwarding-address&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;LSAçš„æ±‡æ€»&lt;/strong&gt;&lt;br&gt;
æ±‡æ€»ä¹‹åï¼Œéæœ¬åŒºåŸŸè®¾å¤‡æ— æ³•çœ‹åˆ°ç›¸åº”çš„æ˜ç»†è·¯ç”±&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰ç±»LSA&lt;/strong&gt;ï¼šåœ¨ABRä¸Šé…ç½®ï¼Œéœ€è¦æ±‡æ€»çš„ç½‘æ®µæ‰€åœ¨OSPFçš„åŒºåŸŸè¿›è¡Œé…ç½®&lt;br&gt;
&lt;strong&gt;äº”ç±»LSA&lt;/strong&gt;ï¼šåœ¨ASBRä¸Šé…ç½®ï¼Œåœ¨OSPFè¿›ç¨‹ä¸‹é…ç½®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.............................................ä¸‰ç±»LSAæ±‡æ€»
# AR2
ospf 10
area 10 # éœ€è¦æ±‡æ€»çš„ç½‘æ®µåœ¨Area10ä¸­
abr-summary 10.1.0.0 255.255.248.0
#.............................................äº”ç±»LSAæ±‡æ€»
# AR5
ospf 10
asbr-summary 192.168.0.0 255.255.248.0
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è·¯ç”±çš„è¿‡æ»¤&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ³•ä¸€&lt;/strong&gt;ï¼šå…ˆåšaclåŒ¹é…è·¯ç”±ï¼Œç„¶ååœ¨è·¯ç”±çš„èµ·å§‹åŒºåŸŸçš„&lt;strong&gt;å‡ºæˆ–è€…å…¥æ–¹å‘&lt;/strong&gt;é…ç½®ï¼ˆå³å‡ºå…¥æ–¹å‘ä¸Šé…ç½®å‡å¯ï¼‰&lt;br&gt;
&lt;strong&gt;æ–¹æ³•äºŒ&lt;/strong&gt;ï¼šå¯¹è·¯ç”±è¿›è¡Œæ±‡æ€»æ—¶æºå¸¦å‚æ•°&lt;code&gt;not-advertise&lt;/code&gt;ï¼Œå³æ±‡æ€»ä½†æ˜¯ä¸é€šå‘Š&lt;br&gt;
&lt;strong&gt;æ–¹æ³•ä¸‰&lt;/strong&gt;ï¼šä½¿ç”¨filter-policyè¿›è¡Œè¿‡æ»¤ã€‚è¿è¡Œå®ŒSPFç®—æ³•ï¼Œåœ¨è¿›å…¥è·¯ç”±è¡¨æ˜¯è¿›è¡Œçš„è¿‡æ»¤ï¼Œå³&lt;strong&gt;åªè¿‡æ»¤è·¯ç”±ä¸è¿‡æ»¤LSA&lt;/strong&gt;ã€‚å¦‚æœè¯¥æ–¹æ³•åœ¨æ™®é€šè®¾å¤‡ä¸Šï¼Œåªå½±å“æœ¬åœ°ï¼›å¦‚æœåœ¨ABRä¸Šé…ç½®ã€‚è¿˜ä¼šå½±å“å…¶ä»–è®¾å¤‡ï¼Œä¸»è¦æ˜¯é€šè¿‡å½±å“ä¸‰ç±»LSAå¯¼è‡´è·¯ç”±æ— æ³•ä¼ é€’&lt;br&gt;
&lt;strong&gt;æ–¹æ³•å››&lt;/strong&gt;ï¼šåœ¨æ¥å£ä¸‹é’ˆå¯¹LSAè¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥è¿‡æ»¤ä¸‰ç±»ã€äº”ç±»ã€ä¸ƒç±»ã€å…¨éƒ¨ç­‰ç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ......................................................................æ–¹æ³•ä¸€
# AR2
acl 2001
rule deny source 10.1.0.0 0.0.3.255
rule permit source any
ospf 10
area 10
filter 2001 export    #æˆ–è€…filter 2001 import
# ......................................................................æ–¹æ³•äºŒ
# AR2
ospf 10
area 10
abr-summary 10.1.0.0 255.255.0.0 not-advertise #å¯¹ä¸‰ç±»LSAæ±‡æ€»ä¸é€šå‘Šï¼Œè¿›è¡Œè¿‡æ»¤
# AR5
ospf 10
asbr-summary 192.168.0.0 255.255.0.0 not-advertise  #å¯¹äº”ç±»LSAæ±‡æ€»ä¸é€šå‘Šï¼Œè¿›è¡Œè¿‡æ»¤
# ......................................................................æ–¹æ³•ä¸‰
# AR1
acl 2001
rule deny source 10.1.0.0 0.0.7.255
rule permit source any
ospf 10
filter-policy 2001 import   # æ­¤æ—¶AR1ä¸Šæ²¡æœ‰ç›¸åº”è·¯ç”±ï¼Œä½†æ˜¯AR2ä¸Šæœ‰ï¼Œå³æ­¤æ–¹æ³•åªè¿‡æ»¤è·¯ç”±ï¼Œä¸è¿‡æ»¤LSA
# AR5ï¼šåœ¨å¼•å…¥å¤–éƒ¨è·¯ç”±æ—¶è¿‡æ»¤
ospf 10
filter-policy 2001 export rip 1
import-route rip 1
# ......................................................................æ–¹æ³•å››
# AR2ï¼šé’ˆå¯¹äº”ç±»LSA
int s1/0/0
ospf filter-lsa-out ase
# AR2ï¼šé’ˆå¯¹ä¸‰ç±»LSA
int s1/0/0
ospf filter-lsa-out summary
# AR1ï¼šè¿‡æ»¤æ‰æ‰€æœ‰LSA
int g0/0/1
ospf filter-lsa-out all
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;lsaå­˜åœ¨çš„åŒºåŸŸç‰¹æ®Šç±»å‹ä¹‹é—´çš„åŒºåˆ«&#34;&gt;LSAå­˜åœ¨çš„åŒºåŸŸ(ç‰¹æ®Šç±»å‹ä¹‹é—´çš„åŒºåˆ«)&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç‰¹æ®ŠåŒºåŸŸç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Stub&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Totally Stub&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;NSSA&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Totally NSSA&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸä¸­LSAç±»å‹&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LSA1/2/3&lt;br&gt;ABRäº§ç”ŸLSA3(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LSA1/2&lt;br&gt;ABRäº§ç”ŸLSA3(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LSA1/2/3/7&lt;br&gt;ABR(ASBR)äº§ç”ŸLSA7(0.0.0.0)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;LSA1/2/7&lt;br&gt;ABR(ASBR)äº§ç”ŸLSA3(0.0.0.0)&lt;br&gt;LSA7(0.0.0.0)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ABR/ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…ä¸å…è®¸ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…ä¸å…è®¸ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…å…è®¸éƒ¨ç½²ASBR,&lt;br&gt;åŒºåŸŸè¾¹ç•Œè·¯ç”±æ—¢æ˜¯ABRä¹Ÿæ˜¯ASBR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒºåŸŸå†…å…è®¸éƒ¨ç½²ASBR,&lt;br&gt;åŒºåŸŸè¾¹ç•Œè·¯ç”±æ—¢æ˜¯ABRä¹Ÿæ˜¯ASBR&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;LSAè¡¥å……&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;äºŒã€ä¸‰ã€äº”ç±»LSAéƒ½å­˜åœ¨net maskå­—æ®µï¼Œç”¨æ¥æºå¸¦ç½‘ç»œä¿¡æ¯&lt;br&gt;
äºŒç±»LSAæ—¢åŒ…å«æ‹“æ‰‘ä¿¡æ¯ä¹ŸåŒ…å«ç½‘ç»œä¿¡æ¯ï¼Œæ‰€ä»¥ç½‘ç»œæ”¹å˜æ—¶ï¼Œå³ä½¿ç‰©ç†æ²¡æœ‰æ”¹å˜ï¼Œä¹Ÿä¼šè§¦å‘äºŒç±»lsaï¼Œå¯¼è‡´é‡æ–°çš„åŒºåŸŸå†…SPFè®¡ç®—&lt;br&gt;
å½“åŒåŒºåŸŸä¸ç›¸é‚»çš„ä¸¤å°è·¯ç”±å™¨AR1å’ŒAR2çš„RouterIDå†²çªï¼Œä¼šå¯¼è‡´AR1å’ŒAR2äº§ç”Ÿçš„LSAä¼šè¿…é€Ÿç´¯åŠ &lt;br&gt;
ä»…5ç±»å’Œ7ç±»lsaåŒ…å«FAåœ°å€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;ospfçš„è®¤è¯&#34;&gt;OSPFçš„è®¤è¯&lt;/h1&gt;
&lt;p&gt;OSPFè®¤è¯å­˜åœ¨äºOSPFæŠ¥æ–‡çš„å¤´éƒ¨&lt;/p&gt;
&lt;h2 id=&#34;åˆ†ç±»&#34;&gt;åˆ†ç±»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;0ï¼šä¸è®¤è¯&lt;/li&gt;
&lt;li&gt;1ï¼šæ˜æ–‡è®¤è¯&lt;/li&gt;
&lt;li&gt;2ï¼šMD5è®¤è¯&lt;br&gt;
&lt;code&gt;OSPFçš„è®¤è¯åˆ†ä¸ºåŒºåŸŸè®¤è¯ï¼ˆåœ¨åŒºåŸŸä¸­é…ç½®ï¼‰å’Œæ¥å£è®¤è¯ï¼ˆåœ¨æ¥å£ä¸‹é…ç½®ï¼‰ï¼Œæ¥å£è®¤è¯ç”±äºåŒºåŸŸè®¤è¯&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ........................................1ï¼šæ˜æ–‡è®¤è¯
# AR2ï¼šåœ¨åŒºåŸŸä¸‹é…ç½®
ospf 10
area 0
authentication-mode simple huawei12
# AR4
ospf 10
area 0  
authentication-mode simple huawei12
# AR3 ï¼šåœ¨æ¥å£ä¸‹é…ç½®
int g/0/0
ospf authentication-mode simple cipher huawei12

# ........................................2ï¼šMD5è®¤è¯
# AR3
ospf 10
area 0  
authentication-mode md5 1 qyt123
# AR4
int g0/0/1 
ospf authentication-mode md5 1 qyt123

# .............................................é…ç½®è™šè¿æ¥çš„è®¤è¯
# AR5
ospf 10
area 20
vlink-peer 4.4.4.4 simple cipher qyt123
# AR4
ospf 10
area 20
vlink-peer 5.5.5.5 simple cipher qyt123
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ospfç¼ºçœè·¯ç”±çš„ä¸‹æ”¾&#34;&gt;OSPFç¼ºçœè·¯ç”±çš„ä¸‹æ”¾&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ™®é€šåŒºåŸŸ&lt;/strong&gt;ï¼šå¯ä»¥åœ¨ASBRä¸Šé€šè¿‡&lt;code&gt;default-route-advertise&lt;/code&gt;ä¸‹æ”¾ä¸€æ¡è·¯ç”±ï¼ˆäº”ç±»LSAï¼‰ã€‚&lt;br&gt;
&lt;code&gt;default-route-advertise&lt;/code&gt;éœ€è¦æœ¬åœ°æœ‰é»˜è®¤è·¯ç”±ï¼Œæ‰ä¼šåœ¨OSPFä¸­ä¸‹æ”¾é»˜è®¤è·¯ç”±ï¼›&lt;br&gt;
&lt;code&gt;default-route-advertise always&lt;/code&gt;å³ä¾¿æœ¬åœ°æ²¡æœ‰é»˜è®¤è·¯ç”±ï¼Œä¹Ÿä¼šåœ¨OSPFä¸­ä¸‹æ”¾ä¸€æ¡é»˜è®¤è·¯ç”±ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;StubåŒºåŸŸå’ŒTotally StubåŒºåŸŸ&lt;/strong&gt;ï¼šä¼šè‡ªåŠ¨ä¸‹æ”¾ä¸€æ¡ç¼ºçœä¸‰ç±»LSAï¼Œé€šå‘Šè¿™ä¸ªStubåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;NssaåŒºåŸŸ&lt;/strong&gt;ï¼šABRä¼šè‡ªåŠ¨ç”Ÿæˆä¸€æ¡ç¼ºçœçš„ä¸ƒç±»LSAï¼Œé€šå‘Šåˆ°æ•´ä¸ªNSSAåŒºåŸŸã€‚ASBRéœ€è¦æ‰‹å·¥é…ç½®ï¼Œå¯ä»¥äº§ç”Ÿä¸€æ¡ä¸ƒç±»LSAçš„ç¼ºçœè·¯ç”±ï¼Œé€šå‘Šæ•´ä¸ªNSSAåŒºåŸŸ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Totally NssaåŒºåŸŸ&lt;/strong&gt;ï¼šABRä¼šä¸‹æ”¾ä¸¤æ¡ç¼ºçœçš„é»˜è®¤è·¯ç”±ï¼ˆä¸‰ç±»å’Œä¸ƒç±»ï¼‰ï¼Œé€šå‘Šåˆ°æ•´ä¸ªNSSAåŒºåŸŸã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;#..................................................æ™®é€šåŒºåŸŸ
# AR5ï¼šä¸åŠ always
ip route-static 0.0.0.0 0.0.0.0 56.1.1.6
ospf 10
default-route-advertise
# AR5ï¼šåŠ always
ospf 10
default-route-advertise
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ospfçš„å¯é æ€§æŠ€æœ¯&#34;&gt;OSPFçš„å¯é æ€§æŠ€æœ¯&lt;/h1&gt;
&lt;h2 id=&#34;gr&#34;&gt;GR&lt;/h2&gt;
&lt;p&gt;GRæ˜¯Graceful Restartçš„ç®€ç§°ï¼Œåˆè¢«ç§°ä¸ºå¹³æ»‘é‡å¯ï¼Œæ˜¯ä¸€ç§ç”¨äºä¿è¯å½“è·¯ç”±åè®®é‡å¯æ—¶æ•°æ®æ­£å¸¸è½¬å‘å¹¶ä¸”ä¸å½±å“å…³é”®ä¸šåŠ¡çš„æŠ€æœ¯ã€‚&lt;br&gt;
é‡å¯ä¹‹å‰å‘é€&lt;strong&gt;ä¹ç±»LSA&lt;/strong&gt;ï¼ˆç»„æ’­224.0.0.5ï¼‰&lt;br&gt;
å¹³æ»‘é‡å¯æŒ‡ä»¤&lt;code&gt;reset ospf 10 process graceful-restart&lt;/code&gt;&lt;br&gt;
åœ¨ä¸»å¤‡å€’æ¢ç«¯ï¼Œç³»ç»Ÿæ”¯æŒNSRå’ŒGRä¸¤ç§ä¸åŒçš„é«˜å¯é æ€§ä¿æŠ¤ï¼Œä»–ä»¬æ˜¯&lt;strong&gt;äº’æ–¥çš„&lt;/strong&gt;ã€‚å³ï¼Œå¯¹äºä¸€ä¸ªç‰¹å®šåè®®ï¼Œç³»ç»Ÿå€’æ¢åï¼Œ&lt;strong&gt;åªèƒ½é‡‡ç”¨NSRæˆ–GRä¸¤ç§å¤„ç†æ–¹å¼çš„ä¸€ç§&lt;/strong&gt;ã€‚è®¾å¤‡åœ¨éƒ¨ç½²NSRæ—¶ï¼Œä»ç„¶å¯ä»¥æ”¯æŒGR Helperçš„åŠŸèƒ½ï¼Œä»¥æ”¯æŒè‡ªå·±çš„é‚»å±…GRè¿‡ç¨‹ï¼Œæœ€å¤§å¯èƒ½çš„ä¿è¯ç”¨æˆ·å…¨ç½‘ç½‘ç»œèŠ‚ç‚¹ä¸šåŠ¡çš„é«˜å¯é æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;nsr&#34;&gt;NSR&lt;/h2&gt;
&lt;p&gt;ä¸é—´æ–­è·¯ç”±NSRï¼ˆNon-Stopping Routingï¼‰ï¼Œæ˜¯åœ¨æœ‰ä¸»ç”¨ä¸»æ§æ¿å’Œå¤‡ç”¨ä¸»æ§æ¿çš„è®¾å¤‡ä¸Šï¼Œä¸»ç”¨ä¸»æ§æ¿å‘ç”Ÿæ•…éšœæ—¶ä¸å½±å“é‚»å±…å…³ç³»çš„ä¸€ç§å¯é æ€§æŠ€æœ¯ã€‚&lt;br&gt;
é€šè¿‡åè®®å¤‡ä»½æœºåˆ¶ï¼Œå®ç°ä¸»å¤‡å€’æ¢æ—¶&lt;strong&gt;æ§åˆ¶å¹³é¢ï¼ˆRIBï¼Œè·¯ç”±ï¼‰å’Œè½¬å‘å¹³é¢ï¼ˆFIBï¼Œä¸šåŠ¡ï¼‰å‡ä¸ä¸­æ–­&lt;/strong&gt;ã€‚&lt;br&gt;
åœ¨è®¾å¤‡å‘ç”Ÿå€’æ¢çš„è¿‡ç¨‹ä¸­ï¼Œè·¯ç”±å¤„ç†ä¸ä¸­æ–­ï¼Œå› ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é‚»å±…å’Œæ‹“æ‰‘ä¿¡æ¯ä¸ä¸¢å¤±&lt;/li&gt;
&lt;li&gt;é‚»å±…å…³ç³»ä¸ä¸­æ–­&lt;br&gt;
è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æœ‰ï¼š&lt;/li&gt;
&lt;li&gt;ä¸ä¾èµ–ä¹Ÿä¸å½±å“å¯¹ç«¯è®¾å¤‡ï¼Œæ²¡æœ‰äº’é€šé—®é¢˜&lt;/li&gt;
&lt;li&gt;è·¯ç”±çš„æ”¶æ•›é€Ÿåº¦è¦æ¯”NSFå¿«&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;nsf&#34;&gt;NSF&lt;/h2&gt;
&lt;p&gt;ä¸é—´æ–­è½¬å‘NSFï¼Œé€šè¿‡åè®®çš„GRï¼ˆGraceful Restartï¼‰æœºåˆ¶ï¼Œæ”¯æŒç³»ç»Ÿä¸»å¤‡å€’æ¢æ—¶ï¼Œ&lt;strong&gt;è½¬å‘ä¸šåŠ¡ä¸ä¸­æ–­&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“ç”±äºæŸç§åŸå› ç³»ç»Ÿå‘ç”Ÿæ•…éšœæ—¶ï¼Œåœ¨ç³»ç»Ÿé‡å¯è¿‡ç¨‹ä¸­ï¼Œè½¬å‘å¹³é¢ï¼ˆä¸šåŠ¡ï¼‰ä¸ä¸­æ–­&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ¢å¤åï¼Œè®¾å¤‡èƒ½å¤Ÿé‡æ–°å»ºç«‹é‚»å±…å…³ç³»ï¼Œä»é‚»å±…å¤„è·å–è·¯ç”±ä¿¡æ¯å¹¶é‡å»ºè·¯ç”±è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;frr&#34;&gt;FRR&lt;/h2&gt;
&lt;p&gt;å¿«é€Ÿé‡è·¯ç”±FRRï¼ˆFast Rerouteï¼‰æ˜¯æŒ‡å½“ç‰©ç†å±‚æˆ–é“¾è·¯å±‚æ£€æµ‹åˆ°æ•…éšœæ—¶å°†æ•…éšœæ¶ˆæ¯ä¸ŠæŠ¥è‡³ä¸Šå±‚è·¯ç”±ç³»ç»Ÿï¼Œå¹¶ç«‹å³å¯ç”¨ä¸€æ¡å¤‡ä»½é“¾è·¯è½¬å‘æŠ¥æ–‡ã€‚IP FRRæ˜¯ä¸€ç§å¿«é€Ÿå®ç°è·¯ç”±å¤‡ä»½çš„æ–¹å¼ã€‚&lt;br&gt;
IP FRRç‰¹æ€§èƒ½å¤Ÿä¿è¯è½¬å‘ç³»ç»Ÿå¿«é€Ÿåº”å¯¹å‡ºç°çš„é“¾è·¯æ•…éšœï¼Œç›´æ¥å¯ç”¨å¤‡ä»½è·¯ç”±è¿›è¡Œæ•°æ®è½¬å‘ï¼Œå°½å¿«è®©ä¸šåŠ¡æ¢å¤æ­£å¸¸ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¼€å¯FRR
ospf 10
frr
loop-free-alternate # ç”¨æ¥æ˜¯èƒ½OSPF IP FRRåŠŸèƒ½ï¼Œåˆ©ç”¨LFAç®—æ³•è®¡ç®—å¤‡ä»½ä¸‹ä¸€æ¡å’Œå¤‡ä»½å‡ºæ¥å£
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ospfçš„optioné€‰é¡¹&#34;&gt;OSPFçš„Optioné€‰é¡¹&lt;/h1&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åŒºåŸŸç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Eä½(äº”ç±»)&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;Nä½(ä¸ƒç±»)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ™®é€šåŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1(å…è®¸)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0(ä¸å…è®¸)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;StubåŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;NSSAåŒºåŸŸ&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;ospfæ’é”™&#34;&gt;OSPFæ’é”™&lt;/h1&gt;
&lt;p&gt;ä½¿ç”¨å‘½ä»¤&lt;code&gt;dis ospf error&lt;/code&gt;å¯ä»¥æŸ¥çœ‹OSPFé…ç½®çš„æ‰€æœ‰é”™è¯¯ï¼›ä½¿ç”¨å‘½ä»¤&lt;code&gt;dis ospf error int gx/x/x&lt;/code&gt;å¯ä»¥æŸ¥çœ‹æ¥å£ä¸‹OSPFé…ç½®çš„é”™è¯¯&lt;/p&gt;
&lt;h2 id=&#34;å½±å“ospfé‚»å±…å»ºç«‹çš„å› ç´ ospfé‚»å±…æœªå»ºç«‹åŸå› &#34;&gt;å½±å“OSPFé‚»å±…å»ºç«‹çš„å› ç´ ï¼ˆOSPFé‚»å±…æœªå»ºç«‹åŸå› ï¼‰&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é“¾è·¯å±‚æ•…éšœï¼šæµ‹ç½‘çº¿ï¼Œæµ‹å…‰çº¤ï¼Œping&lt;/li&gt;
&lt;li&gt;æ¥å£æ²¡æœ‰å®£å‘Šï¼šä½¿ç”¨å‘½ä»¤&lt;code&gt;dis ospf int&lt;/code&gt;æŸ¥çœ‹æ¥å£å®£å‘Šæƒ…å†µ&lt;/li&gt;
&lt;li&gt;åŒºåŸŸIDä¸ä¸€è‡´ï¼šä½¿ç”¨å‘½ä»¤&lt;code&gt;dis ospf peer bri&lt;/code&gt;æŸ¥çœ‹é‚»å±…æƒ…å†µ&lt;/li&gt;
&lt;li&gt;é™é»˜ç«¯å£ï¼ˆè¢«åŠ¨æ¥å£ï¼‰&lt;/li&gt;
&lt;li&gt;Helloæ—¶é—´ä¸ä¸€è‡´å¯¼è‡´é‚»å±…æ— æ³•å»ºç«‹&lt;/li&gt;
&lt;li&gt;Deadæ—¶é—´ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;MAç½‘ç»œæ©ç ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;Optioné€‰é¡¹ä¸ä¸€è‡´å¯¼è‡´é‚»å±…æ— æ³•å»ºç«‹ï¼šä¸»è¦æŸ¥çœ‹Eï¼ˆäº”ç±»ï¼‰å’ŒNä½ï¼ˆä¸ƒç±»ï¼‰&lt;/li&gt;
&lt;li&gt;è®¤è¯ç±»å‹å’Œè®¤è¯å¯†ç ä¸ä¸€è‡´å¯¼è‡´é‚»å±…æ— æ³•å»ºç«‹&lt;/li&gt;
&lt;li&gt;RouterIDå†²çªï¼Œæœ‰å¯èƒ½ä¼šå¯¼è‡´é‚»å±…æ— æ³•å»ºç«‹ï¼šåŒä¸€ä¸ªåŒºåŸŸæ— æ³•å»ºç«‹é‚»å±…ï¼›éª¨å¹²åŒºåŸŸæ™®é€šè·¯ç”±å™¨(éABRã€ASBR)å’Œæ™®é€šåŒºåŸŸçš„æ™®é€šè·¯ç”±(éABRã€ASBR)å†²çªä¸å½±å“é‚»å±…å…³ç³»çš„å»ºç«‹&lt;/li&gt;
&lt;li&gt;é…ç½®äº†ACL&lt;/li&gt;
&lt;li&gt;MTUä¼šå½±å“é‚»æ¥çš„å»ºç«‹ï¼Œä¸å½±å“é‚»å±…&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;è¡¥å……&#34;&gt;è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;route-policy&#34;&gt;route-policy&lt;/h2&gt;
&lt;h3 id=&#34;ä½œç”¨&#34;&gt;ä½œç”¨&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;route-policyå‘½ä»¤ç”¨æ¥åˆ›å»ºè·¯ç”±ç­–ç•¥å¹¶è¿›å…¥Route-Policyè§†å›¾&lt;/li&gt;
&lt;li&gt;undo route-policyå‘½ä»¤ç”¨æ¥åˆ é™¤æŒ‡å®šçš„è·¯ç”±ç­–ç•¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‘½ä»¤æ ¼å¼&#34;&gt;å‘½ä»¤æ ¼å¼&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;route-policy route-policy-name { permit | deny } node node&lt;/li&gt;
&lt;li&gt;undo route-policy route-policy-name [ node node ]&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‚æ•°è¯´æ˜&#34;&gt;å‚æ•°è¯´æ˜&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;route-policy-nameï¼šæŒ‡å®šRoute-Policyåç§°ã€‚å¦‚æœè¯¥åç§°çš„è·¯ç”±ç­–ç•¥ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„è·¯ç”±ç­–ç•¥å¹¶è¿›å…¥å®ƒçš„Route-Policyè§†å›¾ã€‚å¦‚æœè¯¥åç§°çš„è·¯ç”±ç­–ç•¥å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿›å…¥å®ƒçš„Route-Policyè§†å›¾&lt;/li&gt;
&lt;li&gt;permitï¼ˆdenyï¼‰ï¼šæŒ‡å®šRoute-PolicyèŠ‚ç‚¹çš„åŒ¹é…æ¨¡å¼ä¸ºå…è®¸ï¼ˆæ‹’ç»ï¼‰ã€‚å¦‚æœè·¯ç”±ä¸èŠ‚ç‚¹æ‰€æœ‰çš„if-matchå­å¥åŒ¹é…æˆåŠŸï¼Œåˆ™æ‰§è¡Œæ­¤èŠ‚ç‚¹applyå­å¥ï¼ˆåˆ™è¯¥è·¯ç”±å°†è¢«æ‹’ç»é€šè¿‡ï¼‰ï¼›å¦åˆ™ï¼Œè¿›è¡Œä¸‹ä¸€èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;node &lt;em&gt;node&lt;/em&gt; ï¼šæŒ‡å®šRoute-Policyçš„èŠ‚ç‚¹å·ã€‚å½“ä½¿ç”¨Route-Policyæ—¶ï¼Œnodeçš„å€¼å°çš„èŠ‚ç‚¹å…ˆè¿›è¡ŒåŒ¹é…ã€‚ä¸€ä¸ªèŠ‚ç‚¹åŒ¹é…æˆåŠŸåï¼Œè·¯ç”±å°†ä¸å†åŒ¹é…å…¶ä»–èŠ‚ç‚¹ã€‚å…¨éƒ¨èŠ‚ç‚¹åŒ¹é…å¤±è´¥åï¼Œè·¯ç”±å°†è¢«è¿‡æ»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;å®éªŒ&#34;&gt;å®éªŒ&lt;/h1&gt;
&lt;h2 id=&#34;å®éªŒä¸€æŸ¥çœ‹ospfå†…éƒ¨å’Œå¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§&#34;&gt;å®éªŒä¸€ï¼šæŸ¥çœ‹OSPFå†…éƒ¨å’Œå¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587046773502.png&#34; alt=&#34;å®éªŒä¸€ï¼šæŸ¥çœ‹OSPFå†…éƒ¨å’Œå¤–éƒ¨è·¯ç”±çš„ä¼˜å…ˆçº§&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#...........................é…ç½®IPåœ°å€
# AR1
system-view
sysname AR1
int g0/0/0
ip addr 172.16.10.1 24
int s1/0/0
ip addr 12.1.1.1 24
int lo 0
ip addr 1.1.1.1 32

# AR2
system-view
sysname AR2
int g0/0/0
ip addr 24.1.1.2 24
int s1/0/0
ip addr 12.1.1.2 24
int g0/0/1
ip addr 23.1.1.2 24
int lo 0
ip addr 2.2.2.2 32

# AR3
system-view
sysname AR3
int g0/0/0
ip addr 23.1.1.3 24
int g0/0/1
ip addr 34.1.1.3 24
int lo 0
ip addr 3.3.3.3 32

# AR4
system-view
sysname AR4
int g0/0/0
ip addr 24.1.1.4 24
int g0/0/1
ip addr 34.1.1.4 24
int g0/0/2
ip addr 45.1.1.4 24
int lo 0
ip addr 4.4.4.4 32

# AR5
system-view
sysname AR5
int g0/0/0
ip addr 45.1.1.5 24
int g0/0/1
ip addr 56.1.1.5 24
int lo 0
ip addr 5.5.5.5 32

# AR6
system-view
sysname AR6
int g0/0/0
ip addr  56.1.1.6 24
int lo 0 
ip addr 6.6.6.6 32
int lo 10
ip addr 200.200.200.200.32

# AR7
system-view
sysname AR7
int g0/0/0
ip addr 172.16.10.7 24
int lo 0
ip addr 7.7.7.7 32

# AR8
system-view
sysname AR8
int g0/0/0
ip addr 172.16.10.8 24
int lo 0
ip addr 8.8.8.8 32

#.........................................é…ç½®OSPF
# AR1
ospf 10 router-id 1.1.1.1   # router-idä¸€èˆ¬é…ç½®å’Œç¯å›æ¥å£åœ°å€ç›¸åŒ
area 10
network 172.16.10.1 0.0.0.0  # ç²¾ç¡®å®£å‘Š
network 12.1.1.1 0.0.0.0
network 1.1.1.1 0.0.0.0
dis ospf int  # æŸ¥çœ‹ospfæ¥å£çš„ç›¸å…³ä¿¡æ¯
# AR7
ospf 10 router-id 7.7.7.7
area 10
network 176.16.10.0 0.0.0.255  # å®£å‘Šç½‘æ®µ
network 7.7.7.7 0.0.0.0
# AR8
ospf 10 router-id 8.8.8.8
area 10
network 176.16.10.0 0.0.0.255
network 8.8.8.8 0.0.0.0
# AR2
ospf 10 router-id 2.2.2.2
area 10
network 12.1.1.2 0.0.0.0
area 0
network 24.1.1.2 0.0.0.0
network 23.1.1.2 0.0.0.0
network 2.2.2.2 0.0.0.0  # é€šå¸¸æƒ…å†µä¸‹å®£å‘Šè¿›åŒºåŸŸ0ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å®£å‘Šè¿›åŒºåŸŸ10
# AR3
router-id 3.3.3.3 # åœ¨å…¨å±€ä¸‹åˆ¶å®šRouter-ID
ospf 10
area 0
int g0/0/0
ospf enable 10 area 0  # åœ¨æ¥å£ä¸‹å®£å‘Šï¼ˆéœ€è¦æå‰å¯ç”¨OSPFè¿›ç¨‹ï¼‰
int g0/0/1
ospf enable 10 area 0
int lo 0
ospf enable 10 area 0
# AR4
ospf 10 router-id 4.4.4.4
area 0
network 24.1.1.4 0.0.0.0
network 34.1.1.4 0.0.0.0
network 4.4.4.4 0.0.0.0
area 20
network 45.1.1.4 0.0.0.0
# AR5
ospf 10 router-id 5.5.5.5
area 20 
network 45.1.1.5 0.0.0.0
q
rip 
version 2
undo summary  # å…³é—­è‡ªåŠ¨æ±‡æ€»
network 5.0.0.0
network 56.0.0.0
ospf 10   # å®æ–½ospfå’Œripçš„åŒå‘å¼•å…¥
import-route rip
rip
import-route ospf 10
# AR6
rip 
version 2
undo summary  # å…³é—­è‡ªåŠ¨æ±‡æ€»
network 6.0.0.0
network 56.0.0.0
nerwork 200.200.200.0

# æŸ¥çœ‹OSPFä¸‰å¼ è¡¨
# AR1/7
dis ospf peer bri  # æŸ¥çœ‹é‚»å±…è¡¨
dis ospf lsdb  # æŸ¥çœ‹æ‹“æ‰‘è¡¨ï¼ˆé“¾è·¯çŠ¶æ€æ•°æ®åº“ï¼‰
dis ip routing-table pro ospf  # æŸ¥çœ‹è·¯ç”±è¡¨ï¼ŒæŸ¥çœ‹OSPFå†…å¤–è·¯ç”±çš„ä¼˜å…ˆçº§
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäºŒæŸ¥çœ‹ospfçš„é€‰ä¸¾è¿‡ç¨‹é€šè¿‡æŠ“åŒ…ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ä¸»ä»é€‰ä¸¾ä»¥åŠlsdbåŒæ­¥è¿‡ç¨‹&#34;&gt;å®éªŒäºŒï¼šæŸ¥çœ‹OSPFçš„é€‰ä¸¾è¿‡ç¨‹ï¼Œé€šè¿‡æŠ“åŒ…ä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ä¸»ä»é€‰ä¸¾ä»¥åŠLSDBåŒæ­¥è¿‡ç¨‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587222895775.png&#34; alt=&#34;å®éªŒäºŒï¼šæŸ¥çœ‹OSPFçš„é€‰ä¸¾è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
system-view
sysname AR1 
int g0/0/0
ip addr 192.168.10.1 24
ospf 10 router-id 1.1.1.1
area 0
network 192.168.10.0 0.0.0.255

# AR2
system-view
sysname AR2
int g0/0/0
ip addr 192.168.10.2 24
ospf 10 router-id 2.2.2.2
area 0
network 192.168.10.0 0.0.0.255
# æ­¤æ—¶AR2ï¼ˆä¼˜å…ˆçº§ç›¸åŒï¼ŒRouter-IDæ¯”è¾ƒå¤§ï¼‰å·²ç»æˆä¸ºDRï¼ŒAR1æ˜¯BDR

# AR3
system-view
sysname AR3
int g0/0/0
ip addr 192.168.10.3 24
ospf 10 router-id 3.3.3.3
area 0
network 192.168.10.0 0.0.0.255
# ç”±äºè¿‡äº†é€‰ä¸¾æœŸï¼ŒDRä»ç„¶ä¸ºAR2ï¼ŒAR3å˜æˆDROther
# æ­¤æ—¶AR2é‡ç½®è¿›ç¨‹ï¼ˆreset ospf processï¼‰ï¼Œåˆ™åŸæ¥çš„BDRçš„AR1å˜æˆDRï¼Œæ–°çš„BDRä¸ºAR3
# å³DRæ˜¯AR1ï¼ŒBDRä¸ºAR3

# AR4
system-view
sysname AR4
int g0/0/0
ip addr 192.168.10.4 24
ospf 10 router-id 4.4.4.4
area 0
network 192.168.10.0 0.0.0.255
# ç”±äºè¿‡äº†é€‰ä¸¾æœŸï¼ŒDRä»ç„¶ä¸ºAR1ï¼ŒAR3ä¸ºBDRï¼ŒAR4ä¸ºDROther
# æ­¤æ—¶å°†AR1çš„ä¼˜å…ˆçº§æ”¹ä¸º0ï¼ˆint g0/0/0   &amp;amp;&amp;amp;   ospf de-priority 0ï¼‰
# æ­¤æ—¶AR3ç”±BDRå˜æˆDRï¼ŒAR4ç”±DROtherå˜æˆBDRï¼ŒAR2ä¸ºDROther

## å¦‚æœç½‘ç»œä¸­çš„è·¯ç”±å™¨çš„ä¼˜å…ˆçº§å…¨éƒ¨ä¸º0ï¼Œåˆ™æ‰€æœ‰è·¯ç”±å™¨ä¹‹é—´çš„å…³ç³»å‡ä¸º2-way

## å…¨éƒ¨é‡æ–°é€‰ä¸¾
## å°†AR1çš„ä¼˜å…ˆçº§æ”¹ä¸º1é»˜è®¤çŠ¶æ€ï¼ˆint g0/0/0   &amp;amp;&amp;amp;   ospf de-priority 1ï¼‰
## ä½¿ç”¨CRTè¿æ¥å°è·¯ç”±å™¨ï¼Œå¯¹æ‰€æœ‰çš„è·¯ç”±å™¨åŒæ—¶æ‰§è¡Œreset ospf processé‡ç½®è¿›ç¨‹
## åˆ™AR4å˜ä¸ºDRï¼ŒAR3å˜ä¸ºBDRï¼ŒAR2ä¸ºDROther

## æ­¤æ—¶å°†äº¤æ¢æœºçš„g0/0/1å’Œg0/0/2æ¥å£æ”¾å…¥vlan10ä¸­
# sw1
sys
vlan 10
port-group group-member g0/0/1 g0/0/2
port link-type access
port default vlan 10
#  ç„¶åä½¿ç”¨CRTå°†æ‰€æœ‰çš„ospfè¿›ç¨‹é‡ç½®
# æ­¤æ—¶AR4å˜ä¸ºDRï¼ŒAR3å˜ä¸ºBDRï¼ŒAR2ä¹Ÿä¸ºDRï¼ŒAR1ä¸ºBDR
# ç„¶åè¿›è¡Œvlanä¹‹é—´çš„é€‰ä¸¾DRå’ŒDRæ¯”è¾ƒï¼ŒBDRå’ŒBDRæ¯”è¾ƒ
# åˆ™ AR4å˜ä¸ºDRï¼ŒAR3å˜ä¸ºBDRï¼ŒAR2å˜æˆDROtherï¼ŒAR1å˜æˆDROther
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸‰æŸ¥çœ‹mtuå¯¹é‚»æ¥å…³ç³»å»ºç«‹çš„å½±å“&#34;&gt;å®éªŒä¸‰ï¼šæŸ¥çœ‹MTUå¯¹é‚»æ¥å…³ç³»å»ºç«‹çš„å½±å“&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587304638383.png&#34; alt=&#34;å®éªŒä¸‰ï¼šæŸ¥çœ‹MTUå¯¹é‚»æ¥å…³ç³»å»ºç«‹çš„å½±å“&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
system-view
sysname AR1 
int g0/0/0
ip addr 192.168.10.1 24
ospf 10 router-id 1.1.1.1
area 0
network 192.168.10.0 0.0.0.255

# AR2
system-view
sysname AR2
int g0/0/0
ip addr 192.168.10.2 24
ospf 10 router-id 2.2.2.2
area 0
network 192.168.10.0 0.0.0.255
# æ­¤æ—¶AR2ï¼ˆä¼˜å…ˆçº§ç›¸åŒï¼ŒRouter-IDæ¯”è¾ƒå¤§ï¼‰å·²ç»æˆä¸ºDRï¼ŒAR1æ˜¯BDRï¼›AR2åœ¨ä¸»ä»é€‰ä¸¾ä¸­ç”±äºRouter-IDæ¯”è¾ƒå¤§å˜ä¸ºä¸»ï¼ŒAR1æ˜¯ä»

# AR1/AR2
int g0/0/0
ospf timer hello 5  # 40ç§’æ—¶é—´å¤ªé•¿ï¼Œå°†helloæŠ¥æ–‡ç¼©çŸ­ï¼Œæ–¹ä¾¿å®éªŒ
ospf mtu-enable  # å¼€å¯MTUæ£€æµ‹

# éªŒè¯ï¼šä¸»AR2-MTU1500&amp;gt;ä»AR1-MTU1400ï¼Œä¸¤ç«¯ä¼šåŒæ—¶å¡åœ¨exstartçŠ¶æ€
# AR1
int g0/0/0
mtu 1400
# ä½¿ç”¨CRTåŒæ—¶å¯¹AR1å’ŒAR2é‡ç½®OSPFè¿›ç¨‹reset ospf process

# éªŒè¯ï¼šä¸»AR2MTU1300&amp;lt;ä»AR1MTU1400ï¼Œä»AR1ä¼šè¿›å…¥exchangeï¼Œä¸»AR1ä¼šå¡åœ¨extartçŠ¶æ€
# AR2
int g0/0/0
mtu 1300
# ä½¿ç”¨CRTåŒæ—¶å¯¹AR1å’ŒAR2é‡ç½®OSPFè¿›ç¨‹reset ospf process

# éªŒè¯ï¼šå¿½ç•¥MTUæ£€æµ‹ï¼ˆMTUä¸ä¸€è‡´ï¼‰ï¼Œå¡åœ¨LoadingçŠ¶æ€ã€‚AR1çš„MTU=1300ï¼ŒAR2çš„MTU=1400
# AR1/AR2
int g0/0/0
un ospf mtu-enable
# ä½¿ç”¨CRTåŒæ—¶å¯¹AR1å’ŒAR2é‡ç½®OSPFè¿›ç¨‹reset ospf process
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå››ospfæ”¯æŒçš„å‰4ç§ç½‘ç»œç±»å‹&#34;&gt;å®éªŒå››ï¼šOSPFæ”¯æŒçš„å‰4ç§ç½‘ç»œç±»å‹&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587396424392.png&#34; alt=&#34;å®éªŒå››ï¼šOSPFæ”¯æŒçš„4ç§ç½‘ç»œç±»å‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ................................................................NBMAç½‘ç»œ
# æ·»åŠ å¸§ä¸­ç»§äº¤æ¢æœºçš„æ˜ å°„
# AR1
system-view
sysname AR1
int s1/0/0
link-protocol fr
ip addr 172.16.10.1 24
fr map ip 172.16.10.2 102 broadcast
fr map ip 172.16.10.3 103 broadcast
int lo 0
ip addr 1.1.1.1 32
router id 1.1.1.1
ospf 10
area 0
network 172.16.10.1 0.0.0.0
network 1.1.1.1 0.0.0.0
q
peer 172.16.10.2
peer 172.16.10.3
# dis ospf peer br  # æŸ¥çœ‹OSPFé‚»å±…ï¼Œæœ‰2.2.2.2å’Œ3.3.3.3
# dis ospf int  # AR1æ˜¯BDR

# AR2
system-view
sysname AR2
int s1/0/0
link-protocol fr
ip addr 172.16.10.2 24
fr map ip 172.16.10.1 201 broadcast
int lo 0
ip addr 2.2.2.2 32
router id 2.2.2.2
network 172.16.10.2 0.0.0.0
network 2.2.2.2 0.0.0.0
q
peer 172.16.10.1
# dis ospf peer br  # æŸ¥çœ‹OSPFé‚»å±…ï¼Œæœ‰1.1.1.1
# dis ospf int  # AR2æ˜¯DR

# AR3
system-view
sysname AR3
int s1/0/0
link-protocol fr
ip addr 172.16.10.3 24
fr map ip 172.16.10.1 301 broadcast
int lo 0
ip addr 3.3.3.3 32
router id 3.3.3.3
network 172.16.10.3 0.0.0.0
network 3.3.3.3 0.0.0.0
q
peer 172.16.10.1
# dis ospf peer br  # æŸ¥çœ‹OSPFé‚»å±…ï¼Œæœ‰1.1.1.1
# dis ospf int  # AR3ä¹Ÿæ˜¯DR
# å› ä¸ºNBMAæ˜¯éå¹¿æ’­ç½‘ç»œï¼ŒAR2å’ŒAR3æ— æ³•é€šä¿¡ï¼Œä½†æ˜¯AR1å¯ä»¥ä¸AR2å’ŒAR3è¿›è¡Œé€šä¿¡
# å¯¼è‡´AR1åªæ‰¿è®¤AR3è¿™ä¸ªDRï¼Œå³åªæœ‰åˆ°AR3çš„è·¯ç”±ï¼Œç¼ºå°‘å»å¾€AR2çš„è·¯ç”±ï¼›AR3ä¸Šä¹Ÿæœ‰ä¸€æ¡å»å¾€AR1çš„è·¯ç”±ï¼›AR2ä¸Šæ— è·¯ç”±
# è§£å†³æ­¤é—®é¢˜çš„å”¯ä¸€æ–¹æ¡ˆæ˜¯ä¿®æ”¹ä¼˜å…ˆçº§ï¼Œä½¿å¾—AR1ä¸ºDRï¼ŒåŒæ—¶ä½¿å¾—AR2å’ŒAR3æ— æ³•è¿›è¡Œé€‰ä¸¾ï¼ˆé˜²æ­¢å…¶ä¸­ä¸€ä¸ªè·¯ç”±å™¨é‡å¯ä¹‹åå¯¼è‡´é‡æ–°è¿›è¡Œé€‰ä¸¾ï¼‰
#ã€å¦‚æœä»…ä»…å°†AR2çš„ä¼˜å…ˆçº§ä¿®æ”¹ä¸º0ï¼Œæ”¾å¼ƒé€‰ä¸¾DRï¼Œæ­¤ç½‘ç»œå¯ä»¥æ­£å¸¸é€‰ä¸¾DR(ar3)ã€BDR(ar1)ã€DROther(ar2)ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åº”çš„è·¯ç”±ï¼Œæ— æ³•ä»æ ¹æœ¬ä¸Šä¸Šè§£å†³é—®é¢˜ã€‘
# AR1
int s1/0/0
ospf de-priority 100
# AR2/AR3
int s1/0/0
ospf de-priority 0
# ä½¿ç”¨CRTå°†AR1/2/3çš„OSPFè¿›ç¨‹é‡ç½®reset ospf process

# ................................................................ç‚¹åˆ°å¤šç‚¹ç½‘ç»œ
# AR1
int s1/0/0
undo ospf de-priority
ospf 10
undo peer 172.16.10.2
undo peer 172.16.10.3
int s1/0/0
ospf network-type p2mp  # ä¿®æ”¹æ¥å£ç±»å‹ä¸ºç‚¹åˆ°å¤š
# AR2
int s1/0/0
undo ospf de-priority
ospf 10
undo peer 172.16.10.1
int s1/0/0
ospf network-type p2mp
# AR3
int s1/0/0
undo ospf de-priority
ospf 10
undo peer 172.16.10.1
int s1/0/0
ospf network-type p2mp

# ................................................................å¹¿æ’­ç½‘ç»œ
# AR1
int g0/0/0 
ip addr 14.1.1.1 24
ospf 10
a 0
network 14.1.1.1 0.0.0.0

# AR4
sys
sys AR4
int g0/0/0 
ip addr 14.1.1.4 24
q
router id 4.4.4.4
int lo 0
ip addr 4.4.4.4 32
ospf 10
a 0
network 14.1.1.4 0.0.0.0
network 4.4.4.4 0.0.0.0

# ................................................................ç‚¹åˆ°ç‚¹ç½‘ç»œ
# AR4
int s1/0/0
ip add 45.1.1.4 24
ospf 10
area 0
network 45.1.1.4 0.0.0.0

# AR5
sys
sys AR4
int s1/0/0
ip add 45.1.1.5 24
int lo 0
ip addr 5.5.5.5 32
ospf 10 router 5.5.5.5
area 0
network 45.1.1.5 0.0.0.0
network 5.5.5.5 0.0.0.0

# ..................................ä¸åŒçš„ç½‘ç»œç±»å‹èƒ½å¦å»ºç«‹é‚»æ¥å…³ç³»ï¼Œæ˜¯å¦æœ‰è·¯ç”±
#....................P2Pä¸Broadcast(AR1å’ŒAR4)
# å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±
# AR1
int g0/0/0
ospf netowrk-type p2p
#....................P2MPä¸Broadcast(AR1å’ŒAR4)
# å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±
# AR1
int g0/0/0
ospf netowrk-type p2mp
ospf timer hello 10
#....................NBMAä¸Broadcast(AR1å’ŒAR4)
# å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œä½†æ˜¯æ²¡æœ‰è·¯ç”±
# AR1
int g0/0/0
ospf netowrk-type nbma
ospf timer hello 10
#....................P2Pä¸P2MP(AR1å’ŒAR2ã€AR3)
# å¯ä»¥å»ºç«‹é‚»æ¥å…³ç³»ï¼Œæœ‰è·¯ç”±
# AR1
int s1/0/0
ospf network-type p2mp
ospf timer hello 10
# AR2
int s1/0/0
ospf network-type p2p
# AR3
int s1/0/0
ospf network-type p2p
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒäº”ospfæ”¯æŒçš„ç¬¬5ç§ç½‘ç»œ-è™šé“¾æ¥&#34;&gt;å®éªŒäº”ï¼šOSPFæ”¯æŒçš„ç¬¬5ç§ç½‘ç»œ--è™šé“¾æ¥&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587475656438.png&#34; alt=&#34;å®éªŒå››ï¼šOSPFæ”¯æŒçš„ç¬¬5ç§ç½‘ç»œ--è™šé“¾æ¥&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
sys
sysname AR1
router id 1.1.1.1
ospf 10 
area 0
int lo 0
ip addr 1.1.1.1 32
ospf enable 10 area 0
int g0/0/0
ip addr 12.1.1.1 24
ospf enable 10 area 0
# AR2
sys
sysname AR2
router id 2.2.2.2
ospf 10 
area 0
area 10
int lo 0
ip addr 2.2.2.2 32
ospf enable 10 area 0
int g0/0/0
ip addr 12.1.1.2 24
ospf enable 10 area 0
int g0/0/1
ip addr 23.1.1.2 24
ospf enable 10 area 10
# AR3
sys
sysname AR3
router id 3.3.3.3
ospf 10 
area 10
# network 3.3.3.3 0.0.0.0
# network 23.1.1.3 0.0.0.0
# network 34.1.1.3 0.0.0.0
int lo 0
ip addr 3.3.3.3 32
ospf enable 10 area 10
int g0/0/0
ip addr 23.1.1.3 24
ospf enable 10 area 10
int g0/0/1
ip addr 34.1.1.3 24
ospf enable 10 area 10
# AR4
sys
sysname AR4
router id 4.4.4.4
ospf 10 
area 10
area 20
int lo 0
ip addr 4.4.4.4 32
ospf enable 10 area 10
int g0/0/0
ip addr 34.1.1.4 24
ospf enable 10 area 10
int g0/0/1
ip addr 45.1.1.4 24
ospf enable 10 area 20
# AR5
sys
sysname AR5
router id 5.5.5.5
ospf 10 
area 20
int lo 0
ip addr 5.5.5.5 32
ospf enable 10 area 20
int g0/0/0
ip addr 45.1.1.5 24
ospf enable 10 area 20

#æŸ¥çœ‹OSPFçš„é‚»å±…å’Œè·¯ç”±è¡¨
dis ospf peer br
dis ip rou pro ospf
# é‚»å±…å…³ç³»æ­£å¸¸
# è·¯ç”±å…³ç³»ã€‚AR1ä»…æœ‰åˆ°AR2/3/4çš„è·¯ç”±ï¼ŒAR2ä»…æœ‰åˆ°AR1/3/4çš„è·¯ç”±ï¼ŒAR3ä»…æœ‰åˆ°AR1/2/4çš„è·¯ç”±ï¼ŒAR4æœ‰åˆ°AR1/2/3/4çš„è·¯ç”±ã€‚åŸå› ï¼šArea20æ²¡æœ‰è¿æ¥åˆ°éª¨å¹²åŒºåŸŸï¼Œæ— æ³•ç›¸äº’å­¦ä¹ è·¯ç”±ã€‚
# è§£å†³æ–¹æ³•ï¼šé…ç½®è™šè¿æ¥ã€‚è™šè¿æ¥åªèƒ½åœ¨ABRä¸Šé…ç½®.
# AR2
ospf 10
area 10
vlink-peer 4.4.4.4
# AR4
ospf 10
area 10
vlink-peer 2.2.2.2
# æ­¤æ—¶åœ¨å»æŸ¥çœ‹è·¯ç”±è¡¨å°±æœ‰5.5.5.5çš„è·¯ç”±äº†
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒå…­è®¡ç®—æœ€çŸ­è·¯å¾„æ ‘-ç‰©ç†æ‹“æ‰‘&#34;&gt;å®éªŒå…­ï¼šè®¡ç®—æœ€çŸ­è·¯å¾„æ ‘--ç‰©ç†æ‹“æ‰‘&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1587656565056.png&#34; alt=&#34;å®éªŒæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1587656583594.png&#34; alt=&#34;æœ‰å‘å›¾&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# AR1
sys
sys AR1
ospf 10 route 1.1.1.1
area 0
int lo 0
ip addr 1.1.1.1 32
ospf enable 10 area 0
int s1/0/1
ip addr 10.1.1.1 30
ospf enable 10 area 0
int s1/0/0
ip addr 10.5.1.1 30
ospf cost 1562
ospf enable 10 area 0

# AR2
sys
sys AR2
ospf 10 route 2.2.2.2
area 0
int lo 0
ip addr 2.2.2.2 32
ospf enable 10 area 0
int g0/0/0 
ip addr 10.3.1.1 24
ospf enable 10 area 0
int s1/0/1
ip addr 10.2.1.1 30
ospf enable 10 area 0

# AR3
sys
sys AR3
ospf 10 route 3.3.3.3
area 0
int lo 0
ip addr 3.3.3.3 32
ospf enable 10 area 0
int g0/0/0 
ip addr 10.3.1.2 24
ospf enable 10 area 0

# AR4
sys
sys AR4
ospf 10 route 4.4.4.4
area 0
int lo 0
ip addr 4.4.4.4 32
ospf enable 10 area 0
int s1/0/1
ip addr 10.4.1.1 30
ospf cost 1562
ospf enable 10 area 0
int g0/0/0 
ip addr 10.3.1.3 24
ospf enable 10 area 0

# æŸ¥çœ‹æ•°æ®åº“
dis ospf lsdb
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®éªŒä¸ƒospfç»¼åˆå®éªŒ&#34;&gt;å®éªŒä¸ƒï¼šOSPFç»¼åˆå®éªŒ&lt;/h2&gt;
&lt;h3 id=&#34;å®éªŒè¦æ±‚&#34;&gt;å®éªŒè¦æ±‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®AR1/AR2/AR3/AR14çš„OSPFåŒºåŸŸ0ï¼Œè¦æ±‚æœ€å¿«æ”¶æ•›&lt;/li&gt;
&lt;li&gt;å°†R2çš„ç¯å›å£Lo10å¼•å…¥OSPFåŒºåŸŸï¼ŒR10çš„ç¯å›å£Lo10å®£å‘Šè¿›RIP&lt;/li&gt;
&lt;li&gt;å°†R7/R8çš„ç¯å›å£çš„10ç½‘æ®µå¼•å…¥è¿›OSPFï¼Œå…¶ä»–éArea 40åŒºåŸŸä¸èƒ½çœ‹åˆ°10ç½‘æ®µçš„æ˜ç»†è·¯ç”±ï¼›Area40ä¸èƒ½æœ‰2/3/4/5ç±»LSAï¼Œï¼ˆé»˜è®¤è·¯ç”±é™¤å¤–ï¼‰ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®100.100.100.100&lt;/li&gt;
&lt;li&gt;Area0åšMD5è®¤è¯ï¼Œå¯†ç ä¸ºQYT@123&lt;/li&gt;
&lt;li&gt;R5å°†RIPå¼•å…¥OSPFè·¯ç”±ï¼Œå…¶ä»–å„ç«™ç‚¹éƒ½å¯ä»¥è®¿é—®100.100.100.100&lt;/li&gt;
&lt;li&gt;R2çš„ç¯å›å£Lo10é€šè¿‡ä¸²è¡Œè·¯è®¿é—®100.100.100.100ç½‘ç»œï¼Œä¸²è¡Œé“¾è·¯å‡ºç°æ•…éšœåè¦é€šè¿‡R4-R9-R1è®¿é—®&lt;/li&gt;
&lt;li&gt;å…¨ç½‘äº’é€š&lt;br&gt;
&lt;code&gt;å¤‡æ³¨ï¼šæ¯ä¸ªè®¾å¤‡éƒ½é…ç½®Lo0æ¥å£ä¸ºrouter-idï¼ŒLo0æ¥å£çš„åœ°å€ä¸ºx.x.x.x/32ï¼Œä¾‹å¦‚R1çš„åœ°å€ä¸º1.1.1.1/32&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1588439419294.png&#34; alt=&#34;å®éªŒä¸ƒï¼šOSPFç»¼åˆå®éªŒ&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ........................................é¢„é…ç½®ï¼šé…ç½®IPåœ°å€å¹¶é…ç½®OSPFåŒºåŸŸ
#AR1
sys
sys AR1
router id 1.1.1.1
int lo 0
ip addr 1.1.1.1 32
int s1/0/0
ip addr 172.16.10.1 24
int g0/0/0
ip addr 15.1.1.1 24
int g0/0/1
ip addr 19.1.1.1 24
ospf 10
area 0 
net 1.1.1.1 0.0.0.0
net 172.16.10.1 0.0.0.0
area 10 
net 15.1.1.1 0.0.0.0
area 50
net 19.1.1.1 0.0.0.0
#AR2
sys
sys AR2
router id 2.2.2.2
int lo 0
ip addr 2.2.2.2 32
int lo 0
ip addr 22.22.22.22 32
int s1/0/0
ip addr 172.16.20.2 24
int g0/0/0
ip addr 24.1.1.2 24
ospf 10
area 0 
net 2.2.2.2 0.0.0.0
net 172.16.20.2 0.0.0.0
area 20 
net 24.1.1.2 0.0.0.0
#AR3
sys
sys AR3
router id 3.3.3.3
int lo 0
ip addr 3.3.3.3 32
int s1/0/0
ip addr 172.16.30.3 24
int g0/0/0
ip addr 36.1.1.3 24
ospf 10
area 0 
net 3.3.3.3 0.0.0.0
net 172.16.30.3 0.0.0.0
area 30 
net 36.1.1.3 0.0.0.0
#AR4
sys
sys AR4
router id 4.4.4.4
int lo 0
ip addr 4.4.4.4 32
int g0/0/0
ip addr 24.1.1.4 24
int g0/0/1
ip addr 49.1.1.4 24
ospf 10
area 20
net 4.4.4.4 0.0.0.0
net 24.1.1.4 0.0.0.0
net 49.1.1.4 0.0.0.0
#AR5
sys
sys AR5
router id 5.5.5.5
int lo 0
ip addr 5.5.5.5 32
int g0/0/0
ip addr 15.1.1.5 24
int g0/0/1
ip addr 51.1.1.5 24
ospf 10
area 10
net 5.5.5.5 0.0.0.0
net 15.1.1.5 0.0.0.0
#AR6
sys
sys AR6
router id 6.6.6.6
int lo 0
ip addr 6.6.6.6 32
int g0/0/0
ip addr 36.1.1.6 24
int g0/0/1
ip addr 192.168.10.6 24
ospf 10
area 30
net 6.6.6.6 0.0.0.0
net 36.1.1.6 0.0.0.0
area 40
net 192.168.10.6 0.0.0.0
#AR7
sys
sys AR7
router id 7.7.7.7
int lo 0
ip addr 7.7.7.7 32
int lo 10
ip addr 10.1.0.1 24
int lo 11
ip addr 10.1.1.1 24
int g0/0/0
ip addr 192.168.10.7 24
ospf 10
area 40
net 7.7.7.7 0.0.0.0
net 192.168.10.7 0.0.0.0
#AR8
sys
sys AR8
router id 8.8.8.8
int lo 0
ip addr 8.8.8.8 32
int lo 10
ip addr 10.1.2.1 24
int lo 11
ip addr 10.1.3.1 24
int g0/0/0
ip addr 192.168.10.8 24
ospf 10
area 40
net 8.8.8.8 0.0.0.0
net 192.168.10.8 0.0.0.0
#AR9
sys
sys AR9
router id 9.9.9.9
int lo 0
ip addr 9.9.9.9 32
int g0/0/0
ip addr 19.1.1.9 24
int g0/0/1
ip addr 49.1.1.9 24
ospf 10
area 20
net 9.9.9.9 0.0.0.0
net 49.1.1.9 0.0.0.0
area 50
net 19.1.1.9 0.0.0.0
#AR10
sys
sys AR10
router id 10.10.10.10
int lo 0
ip addr 10.10.10.10 32
int lo 10
ip addr 100.100.100.100 32
int g0/0/0
ip addr 51.1.1.10 24
#AR14
sys
sys AR3
router id 14.14.14.14
int lo 0
ip addr 14.14.14.14 32
int s1/0/0
ip addr 172.16.10.14 24
int s1/0/1
ip addr 172.16.20.14 24
int s2/0/0
ip addr 172.16.30.14 24
ospf 10
area 0
net 14.14.14.14 0.0.0.0
net 172.16.10.14 0.0.0.0
net 172.16.20.14 0.0.0.0
net 172.16.30.14 0.0.0.0
# 1. é…ç½®AR1/AR2/AR3/AR14çš„OSPFåŒºåŸŸ0ï¼Œè¦æ±‚æœ€å¿«æ”¶æ•›
# AR1/2/3/14åœ¨é¢„é…ç½®ä¸­å·²ç»é…ç½®è¿‡

# 2. å°†R2çš„ç¯å›å£Lo10å¼•å…¥OSPFåŒºåŸŸï¼ŒR10çš„ç¯å›å£Lo10å®£å‘Šè¿›RIP
# AR2
acl 2001
rule permit source 22.22.22.22 0
q
route-policy Import-dir permit node 10
if-match acl 2001
ospf 10
import-route direct route-policy Import-dir 
# AR10
rip
ver 2
undo summary
net 51.0.0.0
net 100.0.0.0

# 3. å°†R7/R8çš„ç¯å›å£çš„10ç½‘æ®µå¼•å…¥è¿›OSPFï¼Œå…¶ä»–éArea 40åŒºåŸŸä¸èƒ½çœ‹åˆ°10ç½‘æ®µçš„æ˜ç»†è·¯ç”±ï¼›Area40ä¸èƒ½æœ‰2/3/4/5ç±»LSAï¼Œï¼ˆé»˜è®¤è·¯ç”±é™¤å¤–ï¼‰ï¼Œä½†æ˜¯å¯ä»¥è®¿é—®100.100.100.100
# AR7
acl 2001
rule permit source 10.1.0.0 0.0.3.255
q
route-policy Import-dir permit node 10
if-match acl 2001
ospf 10
import-route direct route-policy Import-dir
area 40
nssa
int g0/0/0
ospf network-type p2mp
# AR8
acl 2001
rule permit source 10.1.0.0 0.0.3.255
route-policy Import-dir permit node 10
if-match acl 2001
ospf 10
import-route direct route-policy Import-dir
area 40
nssa
int g0/0/0
ospf network-type p2mp
# AR6
ospf 10
asbr-summary 10.1.0.0 255.255.252.0  # å¦‚æœä¸æƒ³è®©å…¶ä»–åŒºåŸŸçœ‹åˆ°æ˜ç»†è·¯ç”±ï¼Œéœ€è¦åœ¨ASBRä¸Šä½¿ç”¨äº”ç±»LSAæ±‡æ€»
area 40
nssa no-summary
int g0/0/1
ospf network-type p2mp
ospf 10
area 30
vlink-peer 3.3.3.3
# AR3
ospf 10
area 30
vlink-peer 6.6.6.6

# 5. R5å°†RIPå¼•å…¥OSPFè·¯ç”±ï¼Œå…¶ä»–å„ç«™ç‚¹éƒ½å¯ä»¥è®¿é—®100.100.100.100
# AR5
# éœ€è¦åŒå‘å¼•å…¥ï¼Œä¸ç„¶æ— æ³•è®¿é—®100.100.100.100
ospf 10
import-route rip
rip
import-route ospf 10

# 6. R2çš„ç¯å›å£Lo10é€šè¿‡ä¸²è¡Œè·¯è®¿é—®100.100.100.100ç½‘ç»œï¼Œä¸²è¡Œé“¾è·¯å‡ºç°æ•…éšœåè¦é€šè¿‡R4-R9-R1è®¿é—®
# AR2ä¸ºä»€ä¹ˆä¸èƒ½è‡ªè¡Œé€‰æ‹©R4-R9-R1è¿™æ¡è·¯å‘¢ï¼ŸOSPFçš„é˜²ç¯æœºåˆ¶ï¼Œä¸¤ä¸ªééª¨å¹²åŒºåŸŸä¹‹é—´å‘å¸ƒè·¯ç”±ä¿¡æ¯ï¼Œå³åŒºåŸŸ20å’Œ50ä¹‹é—´æ— æ³•ç›¸äº’ä¹‹é—´å‘å¸ƒè·¯ç”±ä¿¡æ¯ï¼Œå¯¼è‡´åŒºåŸŸ20å’Œ50æ— æ³•é€šä¿¡ã€‚
# AR2
ospf 10
area 20 
vlink-peer 9.9.9.9
# AR9
ospf 10
area 20
vlink-peer 2.2.2.2
area 50 
vlink-peer 1.1.1.1
# AR1
ospf 10
area 50 
vlink-peer 9.9.9.9
# AR2
int g0/0/0
ospf cost 200
# AR1
int g0/0/1
ospf cost 200

# 4. Area0åšMD5è®¤è¯ï¼Œå¯†ç ä¸ºQYT@123
# AR1/2/3/14/9/6
ospf 10
area 0
authentication-mode md5 1 QYT@123
&lt;/code&gt;&lt;/pre&gt;
">02 OSPFï¼ˆ2020.0415ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/01-na-hui-gu/"" data-c="
          &lt;h1 id=&#34;ç”µå­ä¹¦ç±å‡†å¤‡&#34;&gt;ç”µå­ä¹¦ç±å‡†å¤‡&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;TCP/IPè·¯ç”±æŠ€æœ¯å·1ï¼ˆIGPï¼‰&lt;/li&gt;
&lt;li&gt;TCP/IPè·¯ç”±æŠ€æœ¯å·2ï¼ˆBGPï¼‰&lt;/li&gt;
&lt;li&gt;OSPF/ISISè¯¦è§£&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;hcieé‡è®¤è¯ä»¥åŠè€ƒè¯•&#34;&gt;HCIEé‡è®¤è¯ä»¥åŠè€ƒè¯•&lt;/h1&gt;
&lt;p&gt;è¯ä¹¦æœ‰æ•ˆæœŸ2å¹´ï¼Œé‡è®¤è¯3å¹´ï¼Œå¦‚åœ¨è¯ä¹¦æœ‰æ•ˆæœŸ2å¹´å†…é€šè¿‡é‡è®¤è¯ï¼Œè¯ä¹¦æœ‰æ•ˆæœŸåˆ·æ–°è‡ªæˆç»©å‘å¸ƒèµ·è®¡ç®—2å¹´ï¼›å¦‚åœ¨ç¼“å†²æœŸ1å¹´å†…é€šè¿‡é‡è®¤è¯ï¼Œè¯ä¹¦æœ‰æ•ˆæœŸåˆ·æ–°è‡ªåŸè¯ä¹¦æˆªæ­¢æ—¥èµ·è®¡ç®—2å¹´ã€‚&lt;br&gt;
è¯ä¹¦æŒ‚é ï¼Œ&amp;gt;4000/å¹´ï¼ŒæŒ‚é é™¤äº†ç»æµåˆ©ç›Šä¹‹åï¼Œå‡çº§è®¾å¤‡ç³»ç»Ÿæˆ–è€…ä¸‹è½½enspéƒ½éœ€è¦æŒ‚é ä¹‹åæ‰èƒ½å–å¾—ç›¸åº”æƒé™ã€‚&lt;br&gt;
éœ€è¦åŒè¯ï¼Œç¬¬ä¸€è¯ä»¶ï¼ˆèº«ä»½è¯ã€é©¾ç…§ã€å†›å®˜è¯ç­‰ï¼‰å’Œç¬¬äºŒè¯ä»¶æˆ–è€…ä¸¤ä¸ªç¬¬ä¸€è¯ä»¶ã€‚&lt;/p&gt;
&lt;h1 id=&#34;hcieè€ƒè¯•&#34;&gt;HCIEè€ƒè¯•&lt;/h1&gt;
&lt;p&gt;ç¬”è¯•ï¼š90minï¼Œ600/1000&lt;br&gt;
å®éªŒï¼š480minï¼Œ80/100ï¼Œä¸Šåˆï¼ˆ3hourï¼‰æ’é”™å’Œè¯Šæ–­ï¼Œä¸‹åˆï¼ˆ5hourï¼‰ç¯å¢ƒæ­å»º&lt;br&gt;
é¢è¯•ï¼š60minï¼Œé€šè¿‡/ä¸é€šè¿‡ï¼Œ3é“é¢˜ï¼ˆé¡¹ç›®ï¼Œæœ€é‡è¦ï¼Œæ—¶é—´æœ€é•¿ï¼Œæ³¨æ„æªè¾ï¼›2é“ç†è®ºï¼‰&lt;/p&gt;
&lt;h1 id=&#34;è¯¾ç¨‹å†…å®¹&#34;&gt;è¯¾ç¨‹å†…å®¹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;IGPè·¯ç”±ï¼ˆOSPFå’ŒISISä»¥åŠè·¯ç”±æ§åˆ¶ï¼‰&lt;/li&gt;
&lt;li&gt;BGPéƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;äº¤æ¢çŸ¥è¯†&lt;/li&gt;
&lt;li&gt;MPLS VPN&lt;/li&gt;
&lt;li&gt;QoS&lt;/li&gt;
&lt;li&gt;ç»„æ’­&lt;/li&gt;
&lt;li&gt;IPv6&lt;/li&gt;
&lt;li&gt;IPSEC VPNæŠ€æœ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç»„ç»‡&#34;&gt;ç»„ç»‡&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;ISOï¼šå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ã€‚OSIä¸ƒå±‚æ¨¡å‹&lt;/li&gt;
&lt;li&gt;IEEEï¼šå›½é™…ç”µå­ç”µæ°”å·¥ç¨‹åä¼šã€‚å®šä¹‰äºŒå±‚æ ‡å‡†ï¼Œä¾‹å¦‚802.1Dã€802.1wã€802.1sã€802.11&lt;/li&gt;
&lt;li&gt;IETFï¼šäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„ã€‚å®šä¹‰RFCæ–‡æ¡£&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;çŸ¥è¯†ç‚¹&#34;&gt;çŸ¥è¯†ç‚¹&lt;/h1&gt;
&lt;h2 id=&#34;ç½‘ç»œæ¨¡å‹&#34;&gt;ç½‘ç»œæ¨¡å‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å†²çªåŸŸï¼šCSMA\CDï¼Œå‘é€æ•°æ®ä¹‹å‰å…ˆä¾¦å¬ï¼Œå…ˆå¬åå‘ï¼Œè¾¹å‘è¾¹å¬ï¼Œå†²çªåœå‘ï¼Œå»¶è¿Ÿåå‘&lt;/li&gt;
&lt;li&gt;å¹¿æ’­åŸŸï¼šå¤„åœ¨åŒä¸€ä¸ªé€»è¾‘ç»„ï¼Œå±äºäºŒå±‚æ¦‚å¿µ&lt;/li&gt;
&lt;li&gt;OSIä¸ƒå±‚åè®®ï¼š
&lt;ol&gt;
&lt;li&gt;ç‰©ç†å±‚ï¼šä¼ è¾“æ¯”ç‰¹æµï¼Œè§„å®šç”µå¹³ã€é€Ÿç‡ã€é’ˆè„šç­‰ï¼Œç‰©ç†è®¾å¤‡æœ‰åŒç»çº¿ã€é›†çº¿å™¨ã€ä¸­ç»§å™¨ã€RJ45ã€åŒè½´ç”µç¼†ã€æ— çº¿ç”µæ³¢ã€å…‰çº¤&lt;/li&gt;
&lt;li&gt;æ•°æ®é“¾è·¯å±‚ï¼šä¼ è¾“æ•°æ®å¸§ï¼ŒMacï¼ŒäºŒå±‚äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå±‚ï¼šä¼ è¾“æ•°æ®åŒ…ï¼ˆæŠ¥æ–‡ï¼‰ï¼ŒIPç­‰ï¼Œè·¯ç”±å™¨ï¼Œä¸‰å±‚äº¤æ¢æœº&lt;code&gt;è·¯ç”±å™¨å’Œä¸‰å±‚äº¤æ¢æœºçš„åŒºåˆ«ï¼šæœ¬è´¨ä¸Šï¼Œè·¯ç”±å™¨çš„æœ¬è´¨æ˜¯è·¯ç”±è½¬å‘ï¼Œä¸‰å±‚äº¤æ¢æœºçš„æœ¬è´¨æ˜¯æ•°æ®è½¬å‘ï¼›åŠŸèƒ½ä¸Šï¼Œè·¯ç”±å™¨æœ‰VPNå’ŒNATï¼›ä½¿ç”¨ä¸Šï¼Œå†…éƒ¨ç½‘ç»œç”¨äº¤æ¢æœºï¼Œå¤–éƒ¨ç½‘ç»œä¸Šç”¨è·¯ç”±å™¨ï¼›æ¥å£ä¸Šï¼Œè·¯ç”±å™¨å¯ä»¥æ¥ä¸²å£çº¿ï¼Œä½†æ˜¯äº¤æ¢æœºæ²¡æœ‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¼ è¾“å±‚ï¼šä¼ è¾“æ•°æ®æ®µï¼ŒTCPï¼ˆé¢å‘è¿æ¥ï¼‰/UDPï¼ˆæ— è¿æ¥ï¼‰ç­‰ï¼Œç«¯åˆ°ç«¯çš„è¿æ¥ï¼Œå»ºç«‹ã€ç»´æŠ¤ã€æ‹†é™¤è¿æ¥çš„åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;ä¼šè¯å±‚ï¼šå‘ä¸¤ä¸ªå®ä½“æä¾›å»ºç«‹è¿æ¥å’Œä½¿ç”¨è¿æ¥çš„æ–¹æ³•&lt;/li&gt;
&lt;li&gt;è¡¨ç¤ºå±‚ï¼šç¼–ç ï¼Œæ•°æ®æ ¼å¼è½¬æ¢ï¼ŒåŠ è§£å¯†&lt;/li&gt;
&lt;li&gt;åº”ç”¨å±‚ï¼šåº”ç”¨æ•°æ®ï¼Œç›´æ¥é¢å‘ç”¨æˆ·&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;TCP/IP
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œæ¥å£å±‚ï¼šå¯¹åº”OSIç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚&lt;/li&gt;
&lt;li&gt;ç½‘ç»œå±‚ï¼šå¯¹åº”OSIç½‘ç»œå±‚&lt;/li&gt;
&lt;li&gt;ä¼ è¾“å±‚ï¼šå¯¹åº”OSIä¼ è¾“å±‚&lt;/li&gt;
&lt;li&gt;åº”ç”¨å±‚ï¼šå¯¹åº”OSIå‰©ä¸‹ä¸‰å±‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;äºŒå±‚æ•°æ®é“¾è·¯å±‚&#34;&gt;äºŒå±‚ï¼šæ•°æ®é“¾è·¯å±‚&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;å½“Typeå­—æ®µå€¼&amp;lt;=1500(0x5DC)æ—¶ä¸º802.3ï¼Œ&amp;gt;=1536(0x0600)ä¸ºEthernet â…¡ ä»¥å¤ªå¸§&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ethernet-ii-ä»¥å¤ªå¸§&#34;&gt;Ethernet â…¡ ä»¥å¤ªå¸§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586671980508.png&#34; alt=&#34;Ethernet â…¡ ä»¥å¤ªå¸§&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;Typeå€¼å¯¹åº”çš„åè®®&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586672267977.png&#34; alt=&#34;Typeå€¼å¯¹åº”çš„åè®®&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;8023-llc-snapä»¥å¤ªå¸§&#34;&gt;802.3 LLC SNAPä»¥å¤ªå¸§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586672668442.png&#34; alt=&#34;802.3 LLC SNAPä»¥å¤ªå¸§&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;macåœ°å€&#34;&gt;MACåœ°å€&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é•¿åº¦&lt;br&gt;
6å­—èŠ‚ï¼ˆ48bitï¼‰:å‰24æ¯”ç‰¹æ˜¯OUIï¼ˆå‚å•†æ ‡è¯†ç¬¦ï¼‰ï¼Œä¾‹å¦‚AA-BB-CCä¸ºæ€ç§‘çš„æ ‡è¯†ï¼›å24å­—èŠ‚ä¸ºå‚å•†è‡ªå®šä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;ä¸‰ç§æ•°æ®å¸§&lt;br&gt;
&lt;code&gt;BUMæŠ¥æ–‡ï¼šæœªçŸ¥å•æ’­å¸§ã€å¹¿æ’­å¸§ã€ç»„æ’­å¸§çš„ç»Ÿç§°ï¼Œæ”¶åˆ°BUMæŠ¥æ–‡ä¹‹åè¿›è¡Œæ³›æ´ªå¤„ç†&lt;/code&gt;
&lt;ol&gt;
&lt;li&gt;å•æ’­&lt;code&gt;ç¬¬1ä¸ªå­—èŠ‚çš„ç¬¬8ä¸ªæ¯”ç‰¹ä¸º0&lt;/code&gt;&lt;br&gt;
å·²çŸ¥å•æ’­å¸§ï¼Œåœ¨äº¤æ¢æœºè¡¨é¡¹ä¸­ï¼Œæ ¹æ®CAMè¡¨é¡¹ç›´æ¥è½¬å‘ï¼ˆä¸‰å±‚äº¤æ¢æœºä¹Ÿç»´æŠ¤ä¸€å¼ ç”¨äºäºŒå±‚äº¤æ¢çš„åœ°å€è¡¨ï¼ˆé€šå¸¸ç§°ä¸ºCAMè¡¨ï¼‰ï¼Œè¯¥è¡¨æ˜¯MACåœ°å€ä¸å‡ºæ¥å£çš„å¯¹åº”å…³ç³»ï¼‰&lt;br&gt;
æœªçŸ¥å•æ’­å¸§ï¼Œä¸åœ¨äº¤æ¢æœºè¡¨é¡¹ä¸­ï¼Œæ³›æ´ª&lt;/li&gt;
&lt;li&gt;ç»„æ’­&lt;code&gt;ç¬¬1ä¸ªå­—èŠ‚çš„ç¬¬8ä¸ªæ¯”ç‰¹ä¸º1&lt;/code&gt;&lt;br&gt;
æ³›æ´ªï¼Œå¸¸è§ç»„æ’­å¸§ï¼š01-00-5E-xx-xx-xxï¼ˆIPäºŒå±‚ç»„æ’­åœ°å€ï¼‰ï¼Œ33-33-33-xx-xx-xxï¼ˆIPv6äºŒå±‚ç»„æ’­åœ°å€ï¼‰ç­‰ç­‰ï¼Œå…·ä½“è¯·å‚è€ƒä»¥ä¸‹ä¸¤ä¸ªé“¾æ¥:&lt;a href=&#34;http://standards.ieee.org/develop/regauth/oui/oui.txt&#34;&gt;IEEEåˆ†é…çš„OUI&lt;/a&gt;ï¼Œ&lt;a href=&#34;http://standards.ieee.org/develop/regauth/grpmac/public.html&#34;&gt;ç»„æ’­åœ°å€å®Œæ•´åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å¹¿æ’­&lt;code&gt;FF-FF-FF-FF-FF-FF&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºçš„å·¥ä½œæœºåˆ¶&lt;br&gt;
äº¤æ¢æœºæ ¹æ®æºMACåœ°å€è¿›è¡Œå­¦ä¹ ï¼Œæ„å»ºCAMè¡¨é¡¹ã€‚æ”¶åˆ°æ•°æ®å¸§æ ¹æ®ç›®çš„MACï¼ŒæŸ¥æ‰¾CAMè¡¨é¡¹ï¼Œå¦‚æœåŒ¹é…ç›´æ¥è¿›è¡Œè½¬å‘ï¼Œå¦åˆ™è¿›è¡Œæ³›æ´ªã€‚&lt;br&gt;
MACåœ°å€è¡¨çš„è€åŒ–æ—¶é—´ï¼š300ç§’&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸‰å±‚ç½‘ç»œå±‚&#34;&gt;ä¸‰å±‚ï¼šç½‘ç»œå±‚&lt;/h2&gt;
&lt;h3 id=&#34;ip&#34;&gt;IP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;IPæŠ¥æ–‡æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586683555901.png&#34; alt=&#34;IPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šçš„IPåœ°å€
&lt;ol&gt;
&lt;li&gt;é»˜è®¤è·¯ç”±ï¼š0.0.0.0/32&lt;/li&gt;
&lt;li&gt;ç¯å›åœ°å€ï¼š127.0.0.0/8&lt;/li&gt;
&lt;li&gt;DHCPè·å–å¤±è´¥äº§ç”Ÿçš„åœ°å€ï¼ˆWindowsï¼‰ï¼š169.254.0.0/16&lt;/li&gt;
&lt;li&gt;å¹¿æ’­åœ°å€ï¼š255.255.255.255&lt;/li&gt;
&lt;li&gt;å®šå‘å¹¿æ’­ï¼ˆå³å­ç½‘å†…å¹¿æ’­ï¼‰ï¼šç½‘æ®µ192.168.10.0/24å†…çš„å¹¿æ’­åœ°å€ä¸º192.168.10.255&lt;/li&gt;
&lt;li&gt;DHCPè¯·æ±‚æŠ¥æ–‡çš„æºåœ°å€ï¼š0.0.0.0/32&lt;/li&gt;
&lt;li&gt;ç§æœ‰åœ°å€ï¼šAç±»-10.0.0.0-10.255.255.255ï¼›Bç±»-172.16.0.0-172.31.255.255ï¼›Cç±»-192.168.0.0-192.168.255.255&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;arprarpåå‘arp&#34;&gt;ARP/RARP(åå‘ARP)&lt;/h3&gt;
&lt;p&gt;ä¸¥æ ¼æ¥è®²å±äº2.5å±‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ARPæŠ¥æ–‡æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586687019846.png&#34; alt=&#34;ARPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;MACåœ°å€è¡¨å’ŒARPè¡¨çš„åŒºåˆ«&lt;/strong&gt;ï¼ŸMACåœ°å€è¡¨ï¼Œè€åŒ–æ—¶é—´300s(5m)ï¼ŒäºŒå±‚è½¬å‘ï¼Œæ¥å£å’ŒMACå…³è”ï¼›ARPåœ°å€è¡¨ï¼šè€åŒ–æ—¶é—´1200s(20m)ï¼ŒIPå’ŒMACå…³è”&lt;br&gt;
&lt;strong&gt;äº¤æ¢æœºçš„ä¸€ä¸ªæ¥å£æ˜¯å¦å¯ä»¥å…³è”å¤šä¸ªMAC&lt;/strong&gt;ï¼Ÿå¯ä»¥ã€‚äº¤æ¢æœºAæ¥å£1è¿æ¥äº¤æ¢æœºBæ¥å£2ï¼Œäº¤æ¢æœºBä¸Šè¿æ¥nå°è®¾å¤‡ï¼Œæ­¤æ—¶äº¤æ¢æœºAçš„æ¥å£1å¯ä»¥å­¦ä¹ åˆ°äº¤æ¢æœºBä¸Šè¿æ¥çš„é‚£nå°è®¾å¤‡çš„macåœ°å€&lt;br&gt;
&lt;strong&gt;äº¤æ¢æœºçš„å¤šä¸ªæ¥å£æ˜¯å¦å¯ä»¥å…³è”ä¸€ä¸ªMAC&lt;/strong&gt;ï¼Ÿä¸å¯ä»¥ã€‚å¦åˆ™macåœ°å€éœ‡è¡(flapping)&lt;br&gt;
&lt;strong&gt;æ€»ç»“&lt;/strong&gt;ï¼šä¸€ä¸ªæ¥å£å¯¹åº”å¤šä¸ªmacï¼Œä¸€ä¸ªmacåªèƒ½å¯¹åº”ä¸€ä¸ªæ¥å£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ARPåˆ†ç±»
&lt;ol&gt;
&lt;li&gt;å…è´¹ARPï¼šç”¨æ¥æ£€æµ‹IPåœ°å€å†²çªï¼›åœ¨VRRPæ—¶ä½¿ç”¨ï¼ˆåœ¨ä¸»æœºæ²¡æœ‰é…ç½®ç½‘å…³æ—¶ï¼‰ï¼›é€šè¿‡è®©ç½‘å…³å®šæœŸå‘é€å…è´¹ARPæ¥é˜²æŠ¤MACåœ°å€æ¬ºéª—ï¼›é€šè¿‡å®šæœŸå‘é€å…è´¹ARPæŠ¥æ–‡æ¥é˜²æ­¢ARPè¡¨é¡¹çš„è€åŒ–ã€‚åä¸ºè®¾å¤‡é¦–å…ˆå‘é€ Arp RequestæŠ¥æ–‡ï¼Œæ€ç§‘é¦–å…ˆå‘é€Arp ReplyæŠ¥æ–‡ï¼Œå¦‚æœæ”¶åˆ°å“åº”ï¼Œåˆ™IPåœ°å€å†²çª&lt;/li&gt;
&lt;li&gt;ARPä»£ç†ï¼šå±€åŸŸç½‘ä¸­ï¼Œç»ˆç«¯æ²¡æœ‰é…ç½®ç½‘å…³çš„æƒ…å†µä¸‹ï¼Œè¯·æ±‚çš„ç›®æ ‡åœ°å€åœ¨è·¯ç”±å™¨æˆ–è€…äº¤æ¢æœºçš„è·¯ç”±è¡¨ä¸­ï¼Œåˆ™ç”±è·¯ç”±å™¨æˆ–è€…äº¤æ¢æœºä»£æ›¿ç›®æ ‡åœ°å€ä½œä¸ºåº”ç­”ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;icmp&#34;&gt;ICMP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586869806360.png&#34; alt=&#34;ICMPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ICMPé‡å®šå‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586870449526.png&#34; alt=&#34;ICMPé‡å®šå‘&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ï¼Œç½‘å…³å’Œæ•°æ®çš„ä¸‹ä¸€è·³åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­ï¼Œä»è¯¥æ¥å£æ”¶åˆ°çš„æ•°æ®è¦ä»è¯¥æ¥å£å†å‘é€å‡ºå»&lt;br&gt;
è§£å†³æ¬¡ä¼˜è·¯å¾„é—®é¢˜ï¼ŒICMPæŠ¥æ–‡ä¸­ç±»å‹ä¸º5ï¼Œä»£ç ä¸º0&lt;/li&gt;
&lt;li&gt;tracertå’ŒtracerouteåŒºåˆ«&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;tracerouteæ˜¯Linuxåœºæ™¯ã€‚å‘é€çš„æ˜¯UDPæŠ¥æ–‡ï¼Œç«¯å£å·å¤§äº30000ã€‚ç¬¬ä¸€ä¸ªæŠ¥æ–‡ç«¯å£æ˜¯33434ï¼Œttl=1ï¼›ç¬¬ä¸€ä¸ªæŠ¥æ–‡ç«¯å£æ˜¯33435ï¼Œttl=2ï¼›......æœªåˆ°è¾¾ç›®çš„ä¹‹å‰å›åº”çš„ICMPä¼ è¾“æœŸé—´ç”Ÿå­˜ä¸º0æŠ¥æ–‡ï¼Œè¾¾åˆ°ç›®çš„ä¸»æœºä¹‹åï¼Œç›®çš„ä¸»æœºå›åº”ç«¯å£ä¸å¯è¾¾&lt;/li&gt;
&lt;li&gt;tracertæ˜¯Windowsåœºæ™¯ã€‚å‘é€çš„æ˜¯ICMP requestæŠ¥æ–‡ï¼ˆè¯·æ±‚å›æ˜¾ï¼‰ï¼Œç¬¬ä¸€æ¬¡æŠ¥æ–‡ttl=1,ç¬¬äºŒæ¬¡æŠ¥æ–‡ä¸ºttl=2,......æœªåˆ°è¾¾ç›®çš„ä¹‹å‰å›åº”çš„ICMPä¼ è¾“æœŸé—´ç”Ÿå­˜ä¸º0æŠ¥æ–‡ï¼Œè¾¾åˆ°ç›®çš„ä¸»æœºä¹‹åï¼Œç›®çš„ä¸»æœºå›åº”å›æ˜¾åº”ç­”æŠ¥æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å››å±‚ä¼ è¾“å±‚&#34;&gt;å››å±‚ï¼šä¼ è¾“å±‚&lt;/h2&gt;
&lt;h3 id=&#34;tcp&#34;&gt;TCP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586789606098.png&#34; alt=&#34;TCPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;3æ¬¡æ¡æ‰‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586789787744.png&#34; alt=&#34;3æ¬¡æ¡æ‰‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç¬¬1æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=xï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰&lt;br&gt;
&lt;strong&gt;ç¬¬2æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=x+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=yï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€&lt;br&gt;
&lt;strong&gt;ç¬¬3æ¬¡æ¡æ‰‹&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=y+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹&lt;/li&gt;
&lt;li&gt;4æ¬¡æŒ¥æ‰‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586790128740.png&#34; alt=&#34;4æ¬¡æŒ¥æ‰‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;ç¬¬1æ¬¡æŒ¥æ‰‹&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯è¿›ç¨‹å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼Œå¹¶ä¸”åœæ­¢å‘é€æ•°æ®ã€‚é‡Šæ”¾æ•°æ®æŠ¥æ–‡é¦–éƒ¨ï¼ŒFIN=1ï¼Œå…¶åºåˆ—å·ä¸ºseq=uï¼ˆç­‰äºå‰é¢å·²ç»ä¼ é€è¿‡æ¥çš„æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·åŠ 1ï¼‰ï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯è¿›å…¥FIN-WAIT-1ï¼ˆç»ˆæ­¢ç­‰å¾…1ï¼‰çŠ¶æ€ã€‚ TCPè§„å®šï¼ŒFINæŠ¥æ–‡æ®µå³ä½¿ä¸æºå¸¦æ•°æ®ï¼Œä¹Ÿè¦æ¶ˆè€—ä¸€ä¸ªåºå·ã€‚&lt;br&gt;
&lt;strong&gt;ç¬¬2æ¬¡æŒ¥æ‰‹&lt;/strong&gt;ï¼šæœåŠ¡å™¨æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼Œå‘å‡ºç¡®è®¤æŠ¥æ–‡ï¼ŒACK=1ï¼Œack=u+1ï¼Œå¹¶ä¸”å¸¦ä¸Šè‡ªå·±çš„åºåˆ—å·seq=vï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡ç«¯å°±è¿›å…¥äº†CLOSE-WAITï¼ˆå…³é—­ç­‰å¾…ï¼‰çŠ¶æ€ã€‚TCPæœåŠ¡å™¨é€šçŸ¥é«˜å±‚çš„åº”ç”¨è¿›ç¨‹ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨çš„æ–¹å‘å°±é‡Šæ”¾äº†ï¼Œè¿™æ—¶å€™å¤„äºåŠå…³é—­çŠ¶æ€ï¼Œå³å®¢æˆ·ç«¯å·²ç»æ²¡æœ‰æ•°æ®è¦å‘é€äº†ï¼Œä½†æ˜¯æœåŠ¡å™¨è‹¥å‘é€æ•°æ®ï¼Œå®¢æˆ·ç«¯ä¾ç„¶è¦æ¥å—ã€‚è¿™ä¸ªçŠ¶æ€è¿˜è¦æŒç»­ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªCLOSE-WAITçŠ¶æ€æŒç»­çš„æ—¶é—´ã€‚å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„ç¡®è®¤è¯·æ±‚åï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°±è¿›å…¥FIN-WAIT-2ï¼ˆç»ˆæ­¢ç­‰å¾…2ï¼‰çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ˆåœ¨è¿™ä¹‹å‰è¿˜éœ€è¦æ¥å—æœåŠ¡å™¨å‘é€çš„æœ€åçš„æ•°æ®ï¼‰ã€‚&lt;br&gt;
&lt;strong&gt;ç¬¬3æ¬¡æŒ¥æ‰‹&lt;/strong&gt;ï¼šæœåŠ¡å™¨å°†æœ€åçš„æ•°æ®å‘é€å®Œæ¯•åï¼Œå°±å‘å®¢æˆ·ç«¯å‘é€è¿æ¥é‡Šæ”¾æŠ¥æ–‡ï¼ŒFIN=1ï¼Œack=u+1ï¼Œç”±äºåœ¨åŠå…³é—­çŠ¶æ€ï¼ŒæœåŠ¡å™¨å¾ˆå¯èƒ½åˆå‘é€äº†ä¸€äº›æ•°æ®ï¼Œå‡å®šæ­¤æ—¶çš„åºåˆ—å·ä¸ºseq=wï¼Œæ­¤æ—¶ï¼ŒæœåŠ¡å™¨å°±è¿›å…¥äº†LAST-ACKï¼ˆæœ€åç¡®è®¤ï¼‰çŠ¶æ€ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„ç¡®è®¤ã€‚&lt;br&gt;
&lt;strong&gt;ç¬¬4æ¬¡æŒ¥æ‰‹&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„è¿æ¥é‡Šæ”¾æŠ¥æ–‡åï¼Œå¿…é¡»å‘å‡ºç¡®è®¤ï¼ŒACK=1ï¼Œack=w+1ï¼Œè€Œè‡ªå·±çš„åºåˆ—å·æ˜¯seq=u+1ï¼Œæ­¤æ—¶ï¼Œå®¢æˆ·ç«¯å°±è¿›å…¥äº†TIME-WAITï¼ˆæ—¶é—´ç­‰å¾…ï¼‰çŠ¶æ€ã€‚æ³¨æ„æ­¤æ—¶TCPè¿æ¥è¿˜æ²¡æœ‰é‡Šæ”¾ï¼Œå¿…é¡»ç»è¿‡2âˆ—âˆ—MSLï¼ˆæœ€é•¿æŠ¥æ–‡æ®µå¯¿å‘½ï¼‰çš„æ—¶é—´åï¼Œå½“å®¢æˆ·ç«¯æ’¤é”€ç›¸åº”çš„TCBåï¼Œæ‰è¿›å…¥CLOSEDçŠ¶æ€ã€‚æœåŠ¡å™¨åªè¦æ”¶åˆ°äº†å®¢æˆ·ç«¯å‘å‡ºçš„ç¡®è®¤ï¼Œç«‹å³è¿›å…¥CLOSEDçŠ¶æ€ã€‚åŒæ ·ï¼Œæ’¤é”€TCBåï¼Œå°±ç»“æŸäº†è¿™æ¬¡çš„TCPè¿æ¥ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡å™¨ç»“æŸTCPè¿æ¥çš„æ—¶é—´è¦æ¯”å®¢æˆ·ç«¯æ—©ä¸€äº›ã€‚&lt;/li&gt;
&lt;li&gt;å¸¸è§é—®é¢˜
&lt;ol&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆè¿æ¥çš„æ—¶å€™æ˜¯ä¸‰æ¬¡æ¡æ‰‹ï¼Œå…³é—­çš„æ—¶å€™å´æ˜¯å››æ¬¡æ¡æ‰‹ï¼Ÿ&lt;br&gt;
å› ä¸ºå½“Serverç«¯æ”¶åˆ°Clientç«¯çš„SYNè¿æ¥è¯·æ±‚æŠ¥æ–‡åï¼Œå¯ä»¥ç›´æ¥å‘é€SYN+ACKæŠ¥æ–‡ã€‚å…¶ä¸­ACKæŠ¥æ–‡æ˜¯ç”¨æ¥åº”ç­”çš„ï¼ŒSYNæŠ¥æ–‡æ˜¯ç”¨æ¥åŒæ­¥çš„ã€‚ä½†æ˜¯å…³é—­è¿æ¥æ—¶ï¼Œå½“Serverç«¯æ”¶åˆ°FINæŠ¥æ–‡æ—¶ï¼Œå¾ˆå¯èƒ½å¹¶ä¸ä¼šç«‹å³å…³é—­SOCKETï¼Œæ‰€ä»¥åªèƒ½å…ˆå›å¤ä¸€ä¸ªACKæŠ¥æ–‡ï¼Œå‘Šè¯‰Clientç«¯ï¼Œ&amp;quot;ä½ å‘çš„FINæŠ¥æ–‡æˆ‘æ”¶åˆ°äº†&amp;quot;ã€‚åªæœ‰ç­‰åˆ°æˆ‘Serverç«¯æ‰€æœ‰çš„æŠ¥æ–‡éƒ½å‘é€å®Œäº†ï¼Œæˆ‘æ‰èƒ½å‘é€FINæŠ¥æ–‡ï¼Œå› æ­¤ä¸èƒ½ä¸€èµ·å‘é€ã€‚æ•…éœ€è¦å››æ­¥æ¡æ‰‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆTIME_WAITçŠ¶æ€éœ€è¦ç»è¿‡2MSL(æœ€å¤§æŠ¥æ–‡æ®µç”Ÿå­˜æ—¶é—´)æ‰èƒ½è¿”å›åˆ°CLOSEçŠ¶æ€ï¼Ÿ&lt;br&gt;
è™½ç„¶æŒ‰é“ç†ï¼Œå››ä¸ªæŠ¥æ–‡éƒ½å‘é€å®Œæ¯•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›å…¥CLOSEçŠ¶æ€äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¿…é¡»å‡è±¡ç½‘ç»œæ˜¯ä¸å¯é çš„ï¼Œæœ‰å¯ä»¥æœ€åä¸€ä¸ªACKä¸¢å¤±ã€‚æ‰€ä»¥TIME_WAITçŠ¶æ€å°±æ˜¯ç”¨æ¥é‡å‘å¯èƒ½ä¸¢å¤±çš„ACKæŠ¥æ–‡ã€‚åœ¨Clientå‘é€å‡ºæœ€åçš„ACKå›å¤ï¼Œä½†è¯¥ACKå¯èƒ½ä¸¢å¤±ã€‚Serverå¦‚æœæ²¡æœ‰æ”¶åˆ°ACKï¼Œå°†ä¸æ–­é‡å¤å‘é€FINç‰‡æ®µã€‚æ‰€ä»¥Clientä¸èƒ½ç«‹å³å…³é—­ï¼Œå®ƒå¿…é¡»ç¡®è®¤Serveræ¥æ”¶åˆ°äº†è¯¥ACKã€‚Clientä¼šåœ¨å‘é€å‡ºACKä¹‹åè¿›å…¥åˆ°TIME_WAITçŠ¶æ€ã€‚Clientä¼šè®¾ç½®ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œç­‰å¾…2MSLçš„æ—¶é—´ã€‚å¦‚æœåœ¨è¯¥æ—¶é—´å†…å†æ¬¡æ”¶åˆ°FINï¼Œé‚£ä¹ˆClientä¼šé‡å‘ACKå¹¶å†æ¬¡ç­‰å¾…2MSLã€‚æ‰€è°“çš„2MSLæ˜¯ä¸¤å€çš„MSL(Maximum Segment Lifetime)ã€‚MSLæŒ‡ä¸€ä¸ªç‰‡æ®µåœ¨ç½‘ç»œä¸­æœ€å¤§çš„å­˜æ´»æ—¶é—´ï¼Œ2MSLå°±æ˜¯ä¸€ä¸ªå‘é€å’Œä¸€ä¸ªå›å¤æ‰€éœ€çš„æœ€å¤§æ—¶é—´ã€‚å¦‚æœç›´åˆ°2MSLï¼ŒClientéƒ½æ²¡æœ‰å†æ¬¡æ”¶åˆ°FINï¼Œé‚£ä¹ˆClientæ¨æ–­ACKå·²ç»è¢«æˆåŠŸæ¥æ”¶ï¼Œåˆ™ç»“æŸTCPè¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ä¸¤æ¬¡æ¡æ‰‹è¿›è¡Œè¿æ¥ï¼Ÿ&lt;br&gt;
3æ¬¡æ¡æ‰‹å®Œæˆä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½ï¼Œæ—¢è¦åŒæ–¹åšå¥½å‘é€æ•°æ®çš„å‡†å¤‡å·¥ä½œ(åŒæ–¹éƒ½çŸ¥é“å½¼æ­¤å·²å‡†å¤‡å¥½)ï¼Œä¹Ÿè¦å…è®¸åŒæ–¹å°±åˆå§‹åºåˆ—å·è¿›è¡Œåå•†ï¼Œè¿™ä¸ªåºåˆ—å·åœ¨æ¡æ‰‹è¿‡ç¨‹ä¸­è¢«å‘é€å’Œç¡®è®¤ã€‚ç°åœ¨æŠŠä¸‰æ¬¡æ¡æ‰‹æ”¹æˆä»…éœ€è¦ä¸¤æ¬¡æ¡æ‰‹ï¼Œæ­»é”æ˜¯å¯èƒ½å‘ç”Ÿçš„ã€‚ä½œä¸ºä¾‹å­ï¼Œè€ƒè™‘è®¡ç®—æœºSå’ŒCä¹‹é—´çš„é€šä¿¡ï¼Œå‡å®šCç»™Så‘é€ä¸€ä¸ªè¿æ¥è¯·æ±‚åˆ†ç»„ï¼ŒSæ”¶åˆ°äº†è¿™ä¸ªåˆ†ç»„ï¼Œå¹¶å‘ é€äº†ç¡®è®¤åº”ç­”åˆ†ç»„ã€‚æŒ‰ç…§ä¸¤æ¬¡æ¡æ‰‹çš„åå®šï¼ŒSè®¤ä¸ºè¿æ¥å·²ç»æˆåŠŸåœ°å»ºç«‹äº†ï¼Œå¯ä»¥å¼€å§‹å‘é€æ•°æ®åˆ†ç»„ã€‚å¯æ˜¯ï¼ŒCåœ¨Sçš„åº”ç­”åˆ†ç»„åœ¨ä¼ è¾“ä¸­è¢«ä¸¢å¤±çš„æƒ…å†µä¸‹ï¼Œå°†ä¸çŸ¥é“S æ˜¯å¦å·²å‡†å¤‡å¥½ï¼Œä¸çŸ¥é“Så»ºç«‹ä»€ä¹ˆæ ·çš„åºåˆ—å·ï¼ŒCç”šè‡³æ€€ç–‘Sæ˜¯å¦æ”¶åˆ°è‡ªå·±çš„è¿æ¥è¯·æ±‚åˆ†ç»„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒCè®¤ä¸ºè¿æ¥è¿˜æœªå»ºç«‹æˆåŠŸï¼Œå°†å¿½ç•¥Så‘æ¥çš„ä»»ä½•æ•°æ®åˆ† ç»„ï¼Œåªç­‰å¾…è¿æ¥ç¡®è®¤åº”ç­”åˆ†ç»„ã€‚è€ŒSåœ¨å‘å‡ºçš„åˆ†ç»„è¶…æ—¶åï¼Œé‡å¤å‘é€åŒæ ·çš„åˆ†ç»„ã€‚è¿™æ ·å°±å½¢æˆäº†æ­»é”ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå·²ç»å»ºç«‹äº†è¿æ¥ï¼Œä½†æ˜¯å®¢æˆ·ç«¯çªç„¶å‡ºç°æ•…éšœäº†æ€ä¹ˆåŠï¼Ÿ&lt;br&gt;
TCPè¿˜è®¾æœ‰ä¸€ä¸ªä¿æ´»è®¡æ—¶å™¨ï¼Œæ˜¾ç„¶ï¼Œå®¢æˆ·ç«¯å¦‚æœå‡ºç°æ•…éšœï¼ŒæœåŠ¡å™¨ä¸èƒ½ä¸€ç›´ç­‰ä¸‹å»ï¼Œç™½ç™½æµªè´¹èµ„æºã€‚æœåŠ¡å™¨æ¯æ”¶åˆ°ä¸€æ¬¡å®¢æˆ·ç«¯çš„è¯·æ±‚åéƒ½ä¼šé‡æ–°å¤ä½è¿™ä¸ªè®¡æ—¶å™¨ï¼Œæ—¶é—´é€šå¸¸æ˜¯è®¾ç½®ä¸º2å°æ—¶ï¼Œè‹¥ä¸¤å°æ—¶è¿˜æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ä»»ä½•æ•°æ®ï¼ŒæœåŠ¡å™¨å°±ä¼šå‘é€ä¸€ä¸ªæ¢æµ‹æŠ¥æ–‡æ®µï¼Œä»¥åæ¯éš”75ç§’é’Ÿå‘é€ä¸€æ¬¡ã€‚è‹¥ä¸€è¿å‘é€10ä¸ªæ¢æµ‹æŠ¥æ–‡ä»ç„¶æ²¡ååº”ï¼ŒæœåŠ¡å™¨å°±è®¤ä¸ºå®¢æˆ·ç«¯å‡ºäº†æ•…éšœï¼Œæ¥ç€å°±å…³é—­è¿æ¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;udp&#34;&gt;UDP&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æŠ¥æ–‡æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586790595378.png&#34; alt=&#34;UDPæŠ¥æ–‡æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ•°æ®ä¼ è¾“è¿‡ç¨‹&#34;&gt;æ•°æ®ä¼ è¾“è¿‡ç¨‹&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586869107436.png&#34; alt=&#34;æ•°æ®ä¼ è¾“è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€é˜¶æ®µï¼šåˆ¤æ–­æ–°æµªç½‘æ˜¯å¦åœ¨åŒä¸€ç½‘æ®µ&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœåœ¨åŒä¸€ç½‘æ®µï¼Œç›´æ¥è¿›è¡Œ2å±‚è½¬å‘&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸åœ¨ä¸€ä¸ªç½‘æ®µï¼Œåˆ™éœ€è¦è¿›è¡Œ3å±‚è½¬å‘ï¼ˆè¿›å…¥ç¬¬äºŒé˜¶æ®µï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¬¬äºŒé˜¶æ®µï¼šæŸ¥æ‰¾ç½‘å…³&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæœ¬åœ°æœ‰ç½‘å…³çš„macï¼Œç›´æ¥å°è£…æ•°æ®å‘é€è‡³ç½‘å…³ï¼ˆè¿›å…¥ç¬¬ä¸‰é˜¶æ®µï¼‰&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ¬åœ°æ²¡æœ‰ç½‘å…³macï¼Œ&lt;br&gt;
åˆ™ä¼šå‘é€ARPè¯·æ±‚(æºIPä¸ºPC1çš„IP,æºmacä¸ºPC1çš„mac,ç›®çš„IPä¸ºAR1-g0/0/0çš„IP,ç›®çš„macä¸ºå…¨F),&lt;br&gt;
ç½‘å…³å›å¤ARPè¯·æ±‚(æºIPä¸ºAR1çš„IP,æºmacä¸ºAR1-g0/0/0çš„mac,ç›®çš„IPä¸ºPC1çš„IP,ç›®çš„macä¸ºPC1çš„mac),&lt;br&gt;
PC1å°è£…æ•°æ®å‘é€è‡³ç½‘å…³(æºIPä¸ºPC1çš„IP,æºMACä¸ºPC1çš„mac,ç›®çš„IPä¸ºserverçš„IP,ç›®çš„macä¸ºAR1-g0/0/0çš„mac),&lt;br&gt;
ï¼ˆè¿›å…¥ç¬¬ä¸‰é˜¶æ®µï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç¬¬ä¸‰é˜¶æ®µï¼šæ•°æ®ä¼ è¾“&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘å…³å·²ç»è®¾ç½®NATï¼š&lt;br&gt;
AR1å¦‚æœæœ‰AR2çš„macç›´æ¥å°è£…æ•°æ®å‘é€ï¼Œå¦åˆ™è¿›è¡ŒARPã€‚&lt;br&gt;
æ•°æ®å°è£…å‘é€ï¼ˆæºIPä¸ºAR1-g0/0/1çš„IPï¼Œæºmacä¸ºAR1-g0/0/1çš„mac,ç›®çš„IPä¸ºæ–°æµªæœåŠ¡å™¨IPï¼Œç›®çš„macä¸ºAR2-g0/0/1çš„macï¼‰&lt;br&gt;
ï¼ˆè¿›å…¥ç¬¬å››é˜¶æ®µï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘å…³æ²¡æœ‰è®¾ç½®NATï¼š&lt;br&gt;
AR1å¦‚æœæœ‰AR2çš„macç›´æ¥å°è£…æ•°æ®å‘é€ï¼Œå¦åˆ™è¿›è¡ŒARPã€‚&lt;br&gt;
æ•°æ®å°è£…å‘é€ï¼ˆæºIPä¸ºPC1çš„IPï¼Œæºmacä¸ºAR1-g0/0/1çš„mac,ç›®çš„IPä¸ºæ–°æµªæœåŠ¡å™¨IPï¼Œç›®çš„macä¸ºAR2-g0/0/1çš„macï¼‰&lt;br&gt;
ï¼ˆè¿›å…¥ç¬¬å››é˜¶æ®µï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ç¬¬å››é˜¶æ®µï¼šæ•°æ®åˆ°è¾¾æœåŠ¡å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;AR3åˆ°AR4,AR4è‡³SW1,SW1è‡³æ–°æµªæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®ä¼ è¾“æºç›®IPä¸å˜ï¼Œä½†æ˜¯macåœ°å€ä¸ºä¼ è¾“æ®µä¸¤ç«¯çš„mac&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;äº”å±‚åº”ç”¨å±‚&#34;&gt;äº”å±‚ï¼šåº”ç”¨å±‚&lt;/h2&gt;
&lt;h3 id=&#34;rip&#34;&gt;RIP&lt;/h3&gt;
&lt;h4 id=&#34;ripçš„è®¡æ—¶å™¨&#34;&gt;RIPçš„è®¡æ—¶å™¨&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ›´æ–°å®šæ—¶å™¨ï¼š30sï¼Œä¼šæ›´æ–°æœ¬åœ°è·¯ç”±è¡¨ç»™é‚»å±…&lt;/li&gt;
&lt;li&gt;è€åŒ–å®šæ—¶å™¨ï¼š180sï¼Œå¦‚æœ180sæ²¡æœ‰æ”¶åˆ°é‚»å±…å‘é€è¿‡æ¥çš„æ›´æ–°æŠ¥æ–‡ï¼Œä¼šè®¤ä¸ºè¯¥è·¯ç”±å¤±æ•ˆï¼ˆä¸å¯è¾¾ï¼Œä½†ä¸åˆ é™¤ï¼‰&lt;/li&gt;
&lt;li&gt;åƒåœ¾æ”¶é›†å®šæ—¶å™¨ï¼š120sï¼Œåœ¨è·¯ç”±æ ‡è®°ä¸ºæ— æ•ˆåä¸ä¼šç«‹åˆ»ä»è·¯ç”±è¡¨ä¸­åˆ é™¤ï¼Œåªæ˜¯ä¼šæ ‡è®°ä¸ºä¸å¯è¾¾ï¼Œå†ç»è¿‡Iåƒåœ¾æ”¶é›†å®šæ—¶å™¨æ‰ä¼šä»è·¯ç”±è¡¨ä¸­åˆ é™¤&lt;/li&gt;
&lt;li&gt;æŠ‘åˆ¶å®šæ—¶å™¨ï¼šåä¸ºé»˜è®¤0&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å…¶ä»–ripç›¸å…³çŸ¥è¯†&#34;&gt;å…¶ä»–RIPç›¸å…³çŸ¥è¯†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;RIPçš„16è·³å³ä¸å¯è¾¾&lt;/li&gt;
&lt;li&gt;RIPæ˜¯UDPåè®®æ‰¿è½½çš„ï¼Œç«¯å£å·æ˜¯520&lt;/li&gt;
&lt;li&gt;RIPä¸¤ç§æŠ¥æ–‡ä¼ æ’­æ–¹å¼ï¼šå¹¿æ’­å’Œç»„æ’­ï¼ˆåœ°å€224.0.0.9ï¼‰&lt;/li&gt;
&lt;li&gt;RIPçš„é˜²ç¯ï¼š
&lt;ul&gt;
&lt;li&gt;æ°´å¹³åˆ†å‰²ï¼šä»ä¸€ä¸ªæ¥å£æ”¶åˆ°çš„è·¯ç”±ä¸ä¼šå†ä»è¯¥æ¥å£å‘é€å‡ºå»&lt;/li&gt;
&lt;li&gt;æ¯’æ€§åè½¬ï¼šä»ä¸€ä¸ªæ¥å£æ”¶åˆ°çš„è·¯ç”±ï¼Œä¼šä»è¯¥æ¥å£å‘é€ä¼šå»ï¼Œä½†æ˜¯è·³æ•°æ”¹ä¸º16&lt;/li&gt;
&lt;li&gt;è§¦å‘æ›´æ–°ï¼šåªè¦è·¯ç”±ä¿¡æ¯å‘ç”Ÿå˜åŒ–ï¼Œå°±ç«‹åˆ»æ›´æ–°å‡ºå»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ftpåè®®&#34;&gt;FTPåè®®&lt;/h2&gt;
&lt;p&gt;ç«¯å£ï¼š21ï¼ˆæ§åˆ¶ï¼‰å’Œ20ï¼ˆä¸»åŠ¨æ¨¡å¼æ•°æ®ä¼ è¾“ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;å·¥ä½œæ–¹å¼&#34;&gt;å·¥ä½œæ–¹å¼&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»åŠ¨æ¨¡å¼ï¼šPORTæ–¹å¼ï¼ŒStandardã€‚é¦–å…ˆå®¢æˆ·ç«¯ä¸»åŠ¨ä¸æœåŠ¡å™¨çš„21ç«¯å£å»ºç«‹è¿æ¥ï¼Œç„¶åæœåŠ¡å™¨ä½¿ç”¨ä»»æ„ç«¯å£ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯çš„20ç«¯å£ã€‚&lt;/li&gt;
&lt;li&gt;è¢«åŠ¨æ¨¡å¼ï¼šPASVæ–¹å¼ï¼ŒPassiveã€‚é¦–å…ˆå®¢æˆ·ç«¯ä¸»åŠ¨ä¸æœåŠ¡å™¨çš„21ç«¯å£å»ºç«‹è¿æ¥ï¼Œç„¶åæœåŠ¡å™¨éšæœºå¼€æ”¾ä¸€ä¸ªç«¯å£ï¼ˆ&amp;gt;1023ï¼‰ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ¥è¿æ¥æœ¬ç«¯å£ï¼Œæœ€åå®¢æˆ·ç«¯å»è¿æ¥é‚£ä¸ªç«¯å£è¿›è¡Œæ•°æ®ä¼ è¾“ã€‚&lt;code&gt;å¦‚æœå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¸­é—´æœ‰é˜²ç«å¢™ï¼Œå»ºè®®æœåŠ¡å™¨ä½¿ç”¨è¢«åŠ¨æ¨¡å¼&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±åè®®&#34;&gt;è·¯ç”±åè®®&lt;/h2&gt;
&lt;h3 id=&#34;è·¯ç”±åè®®çš„åˆ†ç±»&#34;&gt;è·¯ç”±åè®®çš„åˆ†ç±»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‰ç…§å·¥ä½œçš„èŒƒå›´ï¼š
&lt;ul&gt;
&lt;li&gt;IGPå†…éƒ¨ç½‘å…³åè®®ï¼šRIPã€OSPFã€ISISã€EIGRPï¼ˆæ€ç§‘ï¼‰&lt;/li&gt;
&lt;li&gt;EGPå¤–éƒ¨ç½‘å…³åè®®ï¼šBGP&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§å·¥ä½œåŸç†ï¼š
&lt;ul&gt;
&lt;li&gt;è·ç¦»çŸ¢é‡ï¼šRIPï¼ˆè´å°”æ›¼æ–¯ç‰¹ç®—æ³•ï¼‰ã€EIGRPï¼ˆå¼¥æ•£ä¿®æ­£ç®—æ³•DUALï¼‰ã€BGPï¼ˆè·¯å¾„çŸ¢é‡ç®—æ³•ï¼Œä¸€è·³ä¸ºä¸€ä¸ªASï¼‰&lt;/li&gt;
&lt;li&gt;é“¾è·¯çŠ¶æ€ï¼šOSPFï¼ˆSPFï¼Œè¿ªæ°ç§‘æ–¯ç‰¹æ‹‰ç®—æ³•ï¼‰ã€ISISï¼ˆSPFç®—æ³•ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§æ›´æ–°æ—¶æ˜¯å¦æºå¸¦æ©ç ï¼š
&lt;ul&gt;
&lt;li&gt;æœ‰ç±»ï¼ˆä¸å¸¦æ©ç ï¼Œä½¿ç”¨é»˜è®¤çš„ABCç±»ï¼‰ï¼šRIPv1&lt;/li&gt;
&lt;li&gt;æ— ç±»ï¼ˆå¸¦æ©ç ï¼‰ï¼šRIPv2ã€OSPFã€ISISã€EIGRPã€BGPç­‰ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é™æ€è·¯ç”±å’Œé»˜è®¤è·¯ç”±çš„åŒºåˆ«&#34;&gt;é™æ€è·¯ç”±å’Œé»˜è®¤è·¯ç”±çš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;é»˜è®¤è·¯ç”±æ˜¯é™æ€è·¯ç”±çš„ä¸€ç§ï¼Œé»˜è®¤è·¯ç”±æ˜¯0.0.0.0 0.0.0.0ã€‚&lt;br&gt;
&lt;code&gt;æ€ç§‘çš„ç®¡ç†è·ç¦»==åä¸ºçš„ä¼˜å…ˆçº§&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;é™æ€è·¯ç”±é…ç½®&#34;&gt;é™æ€è·¯ç”±é…ç½®&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡æ˜&lt;strong&gt;ä¸‹ä¸€è·³&lt;/strong&gt;ï¼šæ„ä¸ºç€ç›®æ ‡ç½‘ç»œæœ¬åœ°ä¸å¯è¾¾ï¼Œè¯·æ±‚çš„æ˜¯ä¸‹ä¸€è·³çš„åœ°å€**ï¼ˆåœ¨ä»¥å¤ªç½‘ä¸­é…ç½®ä¸‹ä¸€è·³ï¼‰**&lt;/li&gt;
&lt;li&gt;æŒ‡æ˜&lt;strong&gt;å‡ºæ¥å£&lt;/strong&gt;ï¼šæ„ä¸ºç€ç›®æ ‡ç½‘ç»œæœ¬åœ°å¯è¾¾ï¼Œè¯·æ±‚çš„æ˜¯å‡ºæ¥å£çš„åœ°å€**ï¼ˆåœ¨PPPé“¾è·¯ä¸­é…ç½®å‡ºæ¥å£ï¼‰**&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¿­ä»£è·¯ç”±é€’å½’è·¯ç”±&#34;&gt;è¿­ä»£è·¯ç”±ï¼ˆé€’å½’è·¯ç”±ï¼‰&lt;/h3&gt;
&lt;p&gt;å¯¹äºéœ€è¦è¿­ä»£çš„è·¯ç”±ï¼Œå…¶ä¸‹ä¸€è·³ä¸åœ¨è·¯ç”±å™¨ç›´è¿çš„ç½‘æ®µå†…ã€‚åœ¨è½¬å‘æ—¶ï¼Œå¿…é¡»å°†æ­¤éç›´è¿ä¸‹ä¸€è·³åœ°å€åšä¸€æ¬¡æˆ–å¤šæ¬¡è¿­ä»£å¤„ç†ï¼Œä»¥æ‰¾å‡ºä¸€ä¸ªç›´è¿çš„ä¸‹ä¸€è·³åœ°å€ï¼Œä»è€Œè¿›è¡ŒäºŒå±‚å¯»å¾„ã€‚ä½¿ç”¨è¿­ä»£çš„è·¯ç”±å¯ä»¥æ˜¯é™æ€è·¯ç”±ã€BGPè·¯ç”±ã€‚è·¯ç”±è¿­ä»£åŠŸèƒ½å¯ä»¥ä½¿è·¯ç”±è¡¨é¡¹æ¯”è¾ƒçµæ´»ï¼Œä¸ä¾èµ–äºç‰¹å®šçš„æ¥å£ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼ŒBGPåè®®å­¦åˆ°çš„è·¯ç”±å’Œæ‰‹å·¥é…ç½®çš„è·¯ç”±éƒ½æ”¯æŒè¿­ä»£åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ribå’Œfib&#34;&gt;RIBå’ŒFIB&lt;/h3&gt;
&lt;p&gt;RIBï¼šè·¯ç”±ä¿¡æ¯æ•°æ®åº“&lt;br&gt;
FIBï¼šè½¬å‘ä¿¡æ¯æ•°æ®åº“&lt;/p&gt;
&lt;h4 id=&#34;ä¸åŒè®¾å¤‡ä¸Šribå’Œfibçš„åŒºåˆ«&#34;&gt;ä¸åŒè®¾å¤‡ä¸ŠRIBå’ŒFIBçš„åŒºåˆ«&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ¡†å¼è®¾å¤‡ï¼šFIBå’ŒRIBåˆ†ç¦»ã€‚SPUï¼Œä¸»æ§æ¿å¡ï¼Œæ§åˆ¶å±‚é¢ï¼Œå¿…é¡»é…ç½®ï¼Œä¸€èˆ¬ä¸¤å—ä½œä¸ºä¸»å¤‡ï¼Œè´Ÿè´£æ„å»ºRIBï¼Œå½¢æˆFIBï¼Œå°†FIBä¸‹å‘åˆ°æ¯ä¸ªLPUï¼›LPUï¼Œä¸šåŠ¡æ¿å¡ï¼Œè½¬å‘å±‚é¢ï¼Œå¯ä»¥ä¸é…ç½®&lt;/li&gt;
&lt;li&gt;ç›’å¼è®¾å¤‡ï¼šRIBå’ŒFIBåœ¨åŒä¸€å°è®¾å¤‡ä¸Šã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è´Ÿè½½åˆ†æ‹…å’Œè´Ÿè½½å‡è¡¡&#34;&gt;è´Ÿè½½åˆ†æ‹…å’Œè´Ÿè½½å‡è¡¡&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è´Ÿè½½å‡è¡¡ï¼šnæ¡é“¾è·¯åŒå‘åŒæ”¶ï¼Œæ¯æ¡é“¾è·¯æ‰¿è½½1/n&lt;/li&gt;
&lt;li&gt;è´Ÿè½½åˆ†æ‹…ï¼šnæ¡é“¾è·¯æŒ‰ç…§æ¯”ä¾‹è¿›è¡Œåˆ†æ‹…ï¼Œä¾‹å¦‚å¸¦å®½å¤§çš„è´Ÿè½½å¤§ï¼Œå¸¦å®½å°çš„è´Ÿè½½å°&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è·¯ç”±çš„é€‰è·¯&#34;&gt;è·¯ç”±çš„é€‰è·¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ä»ä¸åŒåè®®å­¦ä¹ åˆ°åŒä¸€æ¡è·¯ç”±ï¼Œè¯¥å¦‚ä½•é€‰è·¯ï¼Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åä¸ºè·¯ç”±åè®®æœ‰ä¸¤ç§ä¼˜å…ˆçº§ï¼šå¤–éƒ¨ä¼˜å…ˆçº§å’Œå†…éƒ¨ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;å¤–éƒ¨ï¼šæ¯”è¾ƒä¼˜å…ˆçº§ï¼Œè¶Šå°è¶Šä¼˜ï¼›ä¼˜å…ˆçº§ç›¸åŒï¼Œä¼šæ¯”è¾ƒå†…éƒ¨ä¼˜å…ˆçº§ï¼Œè¶Šå°è¶Šä¼˜ï¼ˆ&lt;strong&gt;åä¸ºè®¾å¤‡åªèƒ½æ”¹å¤–éƒ¨ä¼˜å…ˆçº§(preference)ï¼Œå†…éƒ¨ä¼˜å…ˆçº§æ— æ³•æ›´æ”¹&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;è·¯ç”±åè®®çš„ä¼˜å…ˆçº§ï¼š
&lt;ul&gt;
&lt;li&gt;å¤–éƒ¨ï¼šç›´è¿ï¼ˆ0ï¼‰ã€OSPFï¼ˆ10ï¼‰ã€ISISï¼ˆ15ï¼‰ã€é™æ€ï¼ˆ60ï¼‰ã€RIPï¼ˆ100ï¼‰ã€OSPF AESå’ŒOSPF NSSAï¼ˆ150ï¼‰ã€IBGPå’ŒEBGPï¼ˆ255ï¼‰&lt;/li&gt;
&lt;li&gt;å†…éƒ¨ï¼šç›´è¿ï¼ˆ0ï¼‰ã€OSPFï¼ˆ10ï¼‰ã€ISIS Level1ï¼ˆ15ï¼‰ã€ISIS Level2ï¼ˆ18ï¼‰ã€EBGPï¼ˆ20ï¼‰ã€é™æ€ï¼ˆ60ï¼‰ã€RIPï¼ˆ100ï¼‰ã€OSPF AESå’ŒOSPF NSSAï¼ˆ150ï¼‰ã€IBGPï¼ˆ200ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å¦‚æœå»å¾€ç›®æ ‡ç½‘ç»œåœ¨æœ¬åœ°æœ‰å¤šæ¡è·¯ç”±å¯ä»¥åŒ¹é…ï¼Œå¦‚ä½•é€‰è·¯ï¼Ÿ&lt;br&gt;
æœ€é•¿åŒ¹é…åŸåˆ™ï¼šæ©ç è¶Šç²¾ç»†è¶Šå¥½ï¼Œå¦‚æœéƒ½ä¸åŒ¹é…åˆ™ä¼šä¼˜é€‰é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;li&gt;å¦‚æœä»åŒä¸€åè®®ä¸åŒæ¥å£å­¦ä¹ åˆ°åŒä¸€è·¯ç”±ï¼Œè¯¥å¦‚ä½•é€‰è·¯ï¼Ÿ&lt;br&gt;
ä¼šæ¯”è¾ƒå¼€é”€å€¼ï¼Œè¶Šå°è¶Šä¼˜ï¼›å¦‚æœå¼€é”€å€¼ç›¸ç­‰ï¼Œéƒ½åŠ å…¥è·¯ç”±è¡¨ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;é›¶æ•£çŸ¥è¯†ç‚¹&#34;&gt;é›¶æ•£çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;VLAN&lt;br&gt;
VLANï¼šéš”ç¦»å¹¿æ’­åŸŸ&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586956460368.png&#34; alt=&#34;Vlanå¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ä¸‰ç§ç”Ÿæˆæ ‘&lt;br&gt;
802.1Dä¼ ç»Ÿç”Ÿæˆæ ‘STP(å¯¹åº”æ€ç§‘çš„PVST+ï¼Œæ¯ä¸ªVLANä¸€æ£µæ ‘)&lt;br&gt;
802.1wå¿«é€Ÿç”Ÿæˆæ ‘RSTPï¼ˆå¯¹åº”æ€ç§‘RPST+ï¼‰&lt;br&gt;
802.1så¤šå®ä¾‹ç”Ÿæˆæ ‘MSTP&lt;br&gt;
VBSTï¼ˆä»…ä»…åä¸ºäº¤æ¢æœºï¼Œä¸ºäº†ä¸æ€ç§‘äº¤æ¢æœºè¿›è¡Œå¯¹æ¥ï¼‰&lt;/li&gt;
&lt;li&gt;Eth-trunkï¼ˆé“¾è·¯èšåˆï¼‰&lt;br&gt;
åä¸ºæœ‰ä¸¤ç§ï¼šnormal(æ‰‹å·¥)ã€LACP&lt;br&gt;
æ€ç§‘æœ‰ä¸¤ç§ï¼šPAGPï¼ˆç§æœ‰ï¼‰ã€LACP&lt;/li&gt;
&lt;li&gt;VRRPå‡çº§ç‰ˆ&lt;br&gt;
æ€ç§‘æ˜¯HSRPï¼Œåä¸ºä¸ºGLBP&lt;/li&gt;
&lt;li&gt;VRRPå’ŒEth-trunkçš„åŒºåˆ«&lt;br&gt;
&lt;code&gt;vrrpä¸»è¦æ˜¯å¤‡ä»½ï¼›eth-trunkä¸»è¦æ˜¯è´Ÿè½½&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Vrrpåˆ©ç”¨ç‡ä½ã€‚ä¸¤æ¡ä¸Šè”çº¿è·¯æ­£å¸¸çš„è¯åªç”¨ä¸€æ¡ï¼Œè€Œeth-trunklä¸¤æ¡éƒ½è·‘æµé‡&lt;/li&gt;
&lt;li&gt;vrrpéœ€è¦é…åˆSTPï¼Œæ‰€ä»¥éœ€è¦ä¸€å®šçš„æ”¶æ•›æ—¶é—´&lt;/li&gt;
&lt;li&gt;ç®¡ç†ç»´æŠ¤æ–¹ä¾¿ï¼Œåšeth-trunkä¸€èˆ¬æ ¸å¿ƒäº¤æ¢æœºéƒ½é‡‡ç”¨é›†ç¾¤æ–¹å¼ï¼Œç›¸å½“äºä¸€å°è®¾å¤‡ï¼Œæ‰€ä»¥é…ç½®ç®¡ç†æ–¹ä¾¿&lt;/li&gt;
&lt;li&gt;åšé›†ç¾¤ï¼Œä¸¤å°æ ¸å¿ƒäº¤æ¢æœºä¹‹é—´çš„äº’è”å¸¦å®½æ›´é«˜&lt;/li&gt;
&lt;li&gt;åšé›†ç¾¤ï¼Œä¸»å¤‡äº¤æ¢æœºåˆ‡æ¢æ—¶é—´å¾ˆçŸ­&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœºæ™¯åŒºåˆ†ï¼šæœ‰äºŒå°æ ¸å¿ƒï¼Œè¦å’Œæ¥å…¥åšåŒæœºçƒ­å¤‡ï¼Œä½†ä¸æ”¯æŒå †å æˆ–é›†ç¾¤ï¼Œè¿™æ—¶å€™åªèƒ½ç”¨VRRP+STPäº†ï¼Œä¸æ˜¯ç”¨Eth-Trunkã€‚å¦‚æœæ ¸å¿ƒæ”¯æŒå †å æˆ–é›†ç¾¤çš„è¯ï¼Œè¿™æ—¶å€™æ ¸å¿ƒå’Œæ¥å…¥å°±åšEth-Trunkäº†ï¼Œè€Œä¸ç”¨VRRPäº†ï¼Œå› ä¸ºæ ¸å¿ƒå †å åå°±æˆä¸€å°è®¾å¤‡äº†ï¼ŒäºŒå°è®¾å¤‡ä¹‹é—´çš„åŒé“¾è·¯ï¼Œè‚¯å®šç”¨Eth-Trunkæ›´å¥½ã€‚&lt;/li&gt;
&lt;/ul&gt;
">01 NAå›é¡¾ï¼ˆ2020.0411ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win7-nei-cun-bu-neng-read/"" data-c="
          &lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ç»„åˆå¿«æ·é”®&lt;code&gt;win+r&lt;/code&gt;æ‰“å¼€è¿è¡Œçª—å£ï¼Œè¾“å…¥&lt;code&gt;cmd&lt;/code&gt;å›è½¦ç¡®è®¤æ‰“å¼€è¿è¡Œçª—å£&lt;/li&gt;
&lt;li&gt;åœ¨æ‰“å¼€çš„å‘½ä»¤çª—å£ä¸­è¾“å…¥&lt;code&gt;for %1 in (%windir%\system32\*.dll) do regsvr32.exe /s %1&lt;/code&gt;å›è½¦ç¡®è®¤&lt;/li&gt;
&lt;/ol&gt;
">win7å†…å­˜ä¸èƒ½read</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-she-zhi-dang-qian-yun-xing-ji-bie-he-mo-ren-yun-xing-ji-bie/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%89%B9%E7%82%B9&#34;&gt;ç‰¹ç‚¹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&#34;&gt;é…ç½®æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#systemd%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%8D%95%E4%BD%8Dunit%E5%88%86%E7%B1%BB&#34;&gt;systemdçš„æœåŠ¡å•ä½unitåˆ†ç±»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8systemctl%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1&#34;&gt;ä½¿ç”¨systemctlç®¡ç†æœåŠ¡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8D%95%E4%B8%80%E6%9C%8D%E5%8A%A1service%E7%9A%84%E5%90%AF%E5%8A%A8-%E8%87%AA%E5%90%AF-%E5%85%B3%E9%97%AD-%E7%8A%B6%E6%80%81%E6%9F%A5%E7%9C%8B&#34;&gt;å•ä¸€æœåŠ¡(service)çš„å¯åŠ¨ã€è‡ªå¯ã€å…³é—­ã€çŠ¶æ€æŸ¥çœ‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F%E5%92%8C%E5%8F%82%E6%95%B0%E8%A7%A3%E8%AF%BB&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#status%E8%BE%93%E5%87%BA%E5%8F%82%E6%95%B0%E8%A7%A3%E8%AF%BB&#34;&gt;statusè¾“å‡ºå‚æ•°è§£è¯»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#loaded%E8%A1%8C&#34;&gt;Loadedè¡Œ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#active%E8%A1%8C&#34;&gt;Activeè¡Œ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E4%B8%8A%E6%89%80%E6%9C%89%E6%9C%8D%E5%8A%A1&#34;&gt;æŸ¥çœ‹ç³»ç»Ÿä¸Šæ‰€æœ‰æœåŠ¡&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F%E5%92%8C%E5%8F%82%E6%95%B0%E8%A7%A3%E8%AF%BB-2&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-2&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%AE%A1%E7%90%86%E4%B8%8D%E5%90%8C%E7%9A%84%E6%93%8D%E4%BD%9C%E7%8E%AF%E5%A2%83target&#34;&gt;ç®¡ç†ä¸åŒçš„æ“ä½œç¯å¢ƒ(target)&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E7%94%A8target%E4%BB%8B%E7%BB%8D&#34;&gt;å¸¸ç”¨targetä»‹ç»&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F%E5%92%8C%E5%8F%82%E6%95%B0%E8%A7%A3%E8%AF%BB-3&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-3&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%88%86%E6%9E%90%E5%90%84%E6%9C%8D%E5%8A%A1%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E6%80%A7&#34;&gt;åˆ†æå„æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§&lt;/a&gt;&lt;br&gt;
*
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F-4&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%8Esystemd%E7%9A%84daemon%E8%BF%90%E8%A1%8C%E8%BF%87%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9B%AE%E5%BD%95%E7%AE%80%E4%BB%8B&#34;&gt;ä¸systemdçš„daemonè¿è¡Œè¿‡ç¨‹ç›¸å…³ç›®å½•ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%85%B3%E9%97%AD%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1&#34;&gt;å…³é—­ç½‘ç»œæœåŠ¡&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#systemctl%E9%92%88%E5%AF%B9service%E7%B1%BB%E5%9E%8B%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&#34;&gt;systemctlé’ˆå¯¹.serviceç±»å‹çš„é…ç½®æ–‡ä»¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9B%B8%E5%85%B3%E7%9B%AE%E5%BD%95&#34;&gt;é…ç½®æ–‡ä»¶ç›¸å…³ç›®å½•&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%9A%84%E8%AE%BE%E7%BD%AE%E9%A1%B9%E7%9B%AE&#34;&gt;é…ç½®æ–‡ä»¶çš„è®¾ç½®é¡¹ç›®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-2&#34;&gt;é…ç½®æ–‡ä»¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BB%A5sshd%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%BA%E4%BE%8B&#34;&gt;ä»¥sshdé…ç½®æ–‡ä»¶ä¸ºä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%B8%89%E5%A4%A7%E9%A1%B9%E7%9B%AE%E8%AF%B4%E6%98%8E&#34;&gt;ä¸‰å¤§é¡¹ç›®è¯´æ˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%AE%BE%E7%BD%AE%E8%A7%84%E5%88%99&#34;&gt;è®¾ç½®è§„åˆ™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%8F%82%E6%95%B0%E8%A7%A3%E9%87%8A&#34;&gt;å‚æ•°è§£é‡Š&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#unit%E5%8F%82%E6%95%B0&#34;&gt;[Unit]å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#service%E5%8F%82%E6%95%B0&#34;&gt;[Service]å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#install%E5%8F%82%E6%95%B0&#34;&gt;[Install]å‚æ•°&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#systemctl%E9%92%88%E5%AF%B9timer%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6&#34;&gt;systemctlé’ˆå¯¹timerçš„é…ç½®æ–‡ä»¶&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BC%98%E5%8A%BF&#34;&gt;ä¼˜åŠ¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8%E8%A6%81%E6%B1%82&#34;&gt;ä½¿ç”¨è¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE&#34;&gt;é…ç½®&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE&#34;&gt;é…ç½®æ–‡ä»¶ä½ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%82%E6%95%B0&#34;&gt;é…ç½®æ–‡ä»¶å‚æ•°&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#oncalendar%E7%9A%84%E6%97%B6%E9%97%B4&#34;&gt;OnCalendarçš„æ—¶é—´&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9F%BA%E6%9C%AC%E6%A0%BC%E5%BC%8F&#34;&gt;åŸºæœ¬æ ¼å¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%97%B4%E9%9A%94%E6%97%B6%E9%97%B4%E5%8D%95%E4%BD%8D&#34;&gt;å¸¸ç”¨çš„é—´éš”æ—¶é—´å•ä½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E4%BD%BF%E7%94%A8%E4%B8%BE%E4%BE%8B&#34;&gt;ä½¿ç”¨ä¸¾ä¾‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%8B%B1%E6%96%87%E5%B8%B8%E7%94%A8%E7%9A%84%E5%8F%A3%E8%AF%AD%E5%8C%96%E6%97%A5%E6%9C%9F&#34;&gt;è‹±æ–‡å¸¸ç”¨çš„å£è¯­åŒ–æ—¥æœŸ&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E5%88%B6%E5%AE%9E%E4%BE%8B&#34;&gt;é…åˆ¶å®ä¾‹&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%BE%AA%E7%8E%AF%E8%BF%90%E8%A1%8C&#34;&gt;å¾ªç¯è¿è¡Œ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A6%81%E6%B1%82&#34;&gt;è¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E5%88%B6%E6%96%87%E4%BB%B6&#34;&gt;é…åˆ¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E5%9B%BA%E5%AE%9A%E6%97%A5%E6%9C%9F%E8%BF%90%E8%A1%8C&#34;&gt;å›ºå®šæ—¥æœŸè¿è¡Œ&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#%E8%A6%81%E6%B1%82-2&#34;&gt;è¦æ±‚&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#%E9%85%8D%E5%88%B6%E6%96%87%E4%BB%B6-2&#34;&gt;é…åˆ¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ç‰¹ç‚¹&#34;&gt;ç‰¹ç‚¹&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶è¡Œå¤„ç†æ‰€æœ‰æœåŠ¡ï¼ŒåŠ é€Ÿå¼€æœºæµç¨‹&lt;/li&gt;
&lt;li&gt;ä¸€ç»è¦æ±‚å°±ç›¸åº”çš„on-demandå¯åŠ¨æ¨¡å¼&lt;/li&gt;
&lt;li&gt;æœåŠ¡ä¾èµ–æ€§çš„è‡ªæˆ‘æ£€æŸ¥&lt;/li&gt;
&lt;li&gt;ä¾daemonåŠŸèƒ½åˆ†ç±»&lt;/li&gt;
&lt;li&gt;å°†å¤šä¸ªdaemonsé›†åˆä¸ºä¸€ä¸ªç¾¤ç»„&lt;/li&gt;
&lt;li&gt;å‘ä¸‹å…¼å®¹ å°±æœ‰çš„initæœåŠ¡è„šæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;/usr/lib/systemd/system/ï¼šï¼ˆä¼˜å…ˆçº§ï¼šä½ï¼‰æ¯ä¸ªæœåŠ¡æœ€ä¸»è¦çš„å¯åŠ¨è„šæœ¬è®¾ç½®ï¼ˆ&lt;strong&gt;è‡ªå®šä¹‰å¯åŠ¨æœåŠ¡è„šæœ¬ç›®å½•&lt;/strong&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;/run/systemd/system/ï¼šï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­æ‰€äº§ç”Ÿçš„çš„æœåŠ¡è„šæœ¬ï¼Œè¿™äº›è„šæœ¬çš„ä¼˜å…ˆçº§è¦æ¯”&lt;code&gt;/usr/lib/systemd/system/&lt;/code&gt;é«˜&lt;/li&gt;
&lt;li&gt;/etc/systemd/system/ï¼šï¼ˆä¼˜å…ˆçº§ï¼šé«˜ï¼‰ç®¡ç†å‘˜ä¸»æœºç³»ç»Ÿè¦æ±‚æ‰€å»ºç«‹çš„æœåŠ¡è„šæœ¬ï¼Œæ‰§è¡Œçš„ä¼˜å…ˆçº§åˆæ¯”&lt;code&gt;/run/systemd/system/&lt;/code&gt;é«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;systemdçš„æœåŠ¡å•ä½unitåˆ†ç±»&#34;&gt;systemdçš„æœåŠ¡å•ä½unitåˆ†ç±»&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;.service&lt;/strong&gt;ï¼šä¸€èˆ¬æœåŠ¡ç±»å‹ï¼Œä¸»è¦æ˜¯ç³»ç»ŸæœåŠ¡ï¼ŒåŒ…æ‹¬æœåŠ¡å™¨æœ¬èº«æ‰€éœ€è¦çš„çš„æœ¬åœ°æœåŠ¡ä»¥åŠç½‘ç»œæœåŠ¡ç­‰ï¼Œç»å¸¸è¢«ä½¿ç”¨åˆ°çš„æœåŠ¡å¤§å¤šæ•°æ˜¯æ­¤ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.socket&lt;/strong&gt;ï¼šå†…éƒ¨æ•°æ®ç¨‹åºäº¤æ¢socketæœåŠ¡ï¼Œä¸»è¦æ˜¯IPCçš„ä¼ è¾“ä¿¡æ¯socketæ–‡ä»¶åŠŸèƒ½ã€‚è¿™ç§ç±»å‹çš„æœåŠ¡é€šå¸¸åœ¨ç›‘æ§ä¿¡æ¯ä¼ é€’çš„socketæ–‡ä»¶ä¸­ï¼Œå½“é€šè¿‡æ­¤socketæ–‡ä»¶ä¼ é€’ä¿¡æ¯è¦é“¾æ¥æœåŠ¡æ—¶ï¼Œå°±æ ¹æ®å½“æ—¶çš„çŠ¶æ€å°†è¯¥ç”¨æˆ·çš„è¦æ±‚ä¼ é€åˆ°å¯¹åº”çš„daemonï¼Œè‹¥daemonå°šæœªå¯åŠ¨ï¼Œåˆ™å¯åŠ¨è¯¥daemonåå†ä¼ é€ç”¨æˆ·çš„è¦æ±‚ã€‚ä½¿ç”¨socketç±»å‹çš„æœåŠ¡ä¸€èˆ¬è¾ƒå°‘ç”¨åˆ°ï¼Œä¸€èˆ¬ç”¨äºæœ¬åœ°æœåŠ¡ï¼Œä¾‹å¦‚å›¾å½¢ç•Œé¢çš„å¾ˆå¤šè½¯ä»¶éƒ½æ˜¯é€šè¿‡socketæ¥è¿›è¡Œæœ¬æœºç¨‹åºæ•°æ®äº¤æ¢çš„æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.target&lt;/strong&gt;ï¼šæ‰§è¡Œç¯å¢ƒç±»å‹ï¼Œå…¶å®æ˜¯ä¸€ç¾¤unitçš„é›†åˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.mountå’Œ.automount&lt;/strong&gt;ï¼šæ–‡ä»¶æŒ‚è½½ç›¸å…³çš„æœåŠ¡ï¼Œä¾‹å¦‚æ¥è‡ªç½‘ç»œçš„è‡ªåŠ¨æŒ‚è½½ã€NFSæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¸æ–‡ä»¶ç³»ç»Ÿç›¸å…³æ€§æ¯”è¾ƒé«˜çš„è¿›ç¨‹ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.path&lt;/strong&gt;ï¼šæ£€æµ‹ç‰¹å®šæ–‡ä»¶æˆ–ç›®å½•ç±»å‹ï¼ŒæŸäº›æœåŠ¡éœ€è¦æ£€æµ‹æŸäº›ç‰¹å®šçš„ç›®å½•æ¥æä¾›é˜Ÿåˆ—æœåŠ¡ï¼Œä¾‹å¦‚æ‰“å°æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;.timer&lt;/strong&gt;ï¼šå¾ªç¯æ‰§è¡Œçš„æœåŠ¡ï¼Œæœ‰ç‚¹ç±»ä¼¼anacrontabã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&#34;ä½¿ç”¨systemctlç®¡ç†æœåŠ¡&#34;&gt;ä½¿ç”¨systemctlç®¡ç†æœåŠ¡&lt;/h1&gt;
&lt;h2 id=&#34;å•ä¸€æœåŠ¡serviceçš„å¯åŠ¨-è‡ªå¯-å…³é—­-çŠ¶æ€æŸ¥çœ‹&#34;&gt;å•ä¸€æœåŠ¡(service)çš„å¯åŠ¨ã€è‡ªå¯ã€å…³é—­ã€çŠ¶æ€æŸ¥çœ‹&lt;/h2&gt;
&lt;h3 id=&#34;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/h3&gt;
&lt;h4 id=&#34;å‘½ä»¤æ ¼å¼&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;systemctl [command] [unit]&lt;/code&gt;&lt;br&gt;
commandåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;startï¼šå¯åŠ¨unit&lt;/li&gt;
&lt;li&gt;stopï¼šå…³é—­unit&lt;/li&gt;
&lt;li&gt;restartï¼šé‡æ–°å¯åŠ¨unit&lt;/li&gt;
&lt;li&gt;reloadï¼šä¸å…³é—­unitçš„æƒ…å†µä¸‹ï¼Œé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;enableï¼šè®¾ç½®ä¸‹æ¬¡å¼€æœºæ—¶ï¼Œè‡ªå¯åŠ¨unit&lt;/li&gt;
&lt;li&gt;disableï¼šå–æ¶ˆå¼€æœºè‡ªå¯åŠ¨unit&lt;/li&gt;
&lt;li&gt;statusï¼šæŸ¥çœ‹è¯¥unitçš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;is-activeï¼šæŸ¥çœ‹è¯¥unitæ˜¯å¦åœ¨è¿è¡Œ&lt;/li&gt;
&lt;li&gt;is-enableï¼šæŸ¥çœ‹è¯¥unitæ˜¯å¦å¼€æœºè‡ªå¯åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;statusè¾“å‡ºå‚æ•°è§£è¯»&#34;&gt;statusè¾“å‡ºå‚æ•°è§£è¯»&lt;/h4&gt;
&lt;h5 id=&#34;loadedè¡Œ&#34;&gt;Loadedè¡Œ&lt;/h5&gt;
&lt;p&gt;æ˜¾ç¤ºå¼€æœºæ˜¯å¦è‡ªå¯åŠ¨ï¼Œenabledä¸ºè‡ªå¯åŠ¨ï¼Œå¦åˆ™ä¸è‡ªå¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;enabledï¼šunitå¼€æœºè¢«å¯åŠ¨&lt;/li&gt;
&lt;li&gt;disabledï¼šunitå¼€æœºæ—¶ä¸å¯åŠ¨&lt;/li&gt;
&lt;li&gt;staticï¼šè¯¥unitä¸å¯ä»¥enableï¼Œå³ä¸å¯ä»¥è‡ªå¯åŠ¨ï¼Œä½†æ˜¯å¯ä»¥è¢«å…¶ä»–enabledçš„unitæ¥å”¤é†’ï¼Œå³ä¾èµ–å±æ€§çš„æœåŠ¡&lt;/li&gt;
&lt;li&gt;maskï¼šæ— æ³•å¯åŠ¨ï¼Œè¯¥æœåŠ¡è¢«æ³¨é”€ï¼ˆä¸æ˜¯åˆ é™¤ï¼‰ï¼Œå¯ä»¥é€šè¿‡systemctl unmaskæ”¹å›é»˜è®¤çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;activeè¡Œ&#34;&gt;Activeè¡Œ&lt;/h5&gt;
&lt;p&gt;æ˜¾ç¤ºunitç›®å‰çš„è¿è¡ŒçŠ¶æ€&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;activeï¼ˆrunningï¼‰ï¼šunitæ­£åœ¨è¿è¡Œ&lt;/li&gt;
&lt;li&gt;activeï¼ˆexitedï¼‰ï¼šunitä»…æ‰§è¡Œä¸€æ¬¡å°±ç»“æŸï¼Œç›®å‰æ²¡æœ‰ä»»ä½•è¿›ç¨‹åœ¨ç³»ç»Ÿä¸­æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;activeï¼ˆwaitingï¼‰ï¼šunitæ­£åœ¨æ‰§è¡Œä¸­ï¼Œä¸è¿‡éœ€è¦ç­‰å¾…è§¦å‘äº‹ä»¶å‘ç”Ÿæ‰èƒ½ç»§ç»­æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;inactiveï¼ˆdeadï¼‰ï¼šunitæœªåœ¨è¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æŸ¥çœ‹ç³»ç»Ÿä¸Šæ‰€æœ‰æœåŠ¡&#34;&gt;æŸ¥çœ‹ç³»ç»Ÿä¸Šæ‰€æœ‰æœåŠ¡&lt;/h2&gt;
&lt;h3 id=&#34;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»-2&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/h3&gt;
&lt;h4 id=&#34;å‘½ä»¤æ ¼å¼-2&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;systemctl [command] [--typr=TYPE] [-all]&lt;/code&gt;&lt;br&gt;
commandåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;list-unitsï¼šä¾æ®unitæ˜¾ç¤ºç›®å‰å¯åŠ¨çš„unitï¼Œè‹¥åŠ ä¸Šâ€œ-allâ€æ‰ä¼šåˆ—å‡ºæ²¡å¯åŠ¨çš„&lt;/li&gt;
&lt;li&gt;list-units-filesï¼šä¾æ®/usr/lib/systemd/systemå†…çš„æ–‡ä»¶ï¼Œå°†æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨è¯´æ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TYPEåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¹‹å‰åˆ—å‡ºçš„unitç±»å‹ï¼ŒåŒ…å«serviceã€socketã€targetç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç®¡ç†ä¸åŒçš„æ“ä½œç¯å¢ƒtarget&#34;&gt;ç®¡ç†ä¸åŒçš„æ“ä½œç¯å¢ƒ(target)&lt;/h2&gt;
&lt;h3 id=&#34;å¸¸ç”¨targetä»‹ç»&#34;&gt;å¸¸ç”¨targetä»‹ç»&lt;/h3&gt;
&lt;p&gt;Centos7ä¸­é»˜è®¤æƒ…å†µä¸‹æœ‰26ä¸ªtargetï¼ˆä½¿ç”¨å‘½ä»¤&lt;code&gt;systemctl list-units --type=target --all&lt;/code&gt;æŸ¥çœ‹ï¼‰ï¼Œè€Œè·Ÿæ“ä½œç•Œé¢ç›¸å…³æ€§æ¯”è¾ƒé«˜çš„targetæœ‰ä¸‹é¢å‡ ä¸ªï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;graphical.targetï¼šå›¾å½¢ç•Œé¢æ¨¡å¼ï¼Œå‘½ä»¤è¡Œ+å›¾å½¢ç•Œé¢ï¼Œå·²ç»åŒ…å«multi-user.target&lt;/li&gt;
&lt;li&gt;multi-user.targetï¼šå¤šç”¨æˆ·æ¨¡å¼ï¼Œçº¯å‘½ä»¤è¡Œæ¨¡å¼&lt;/li&gt;
&lt;li&gt;rescue.targetï¼šæ¢å¤æ¨¡å¼ï¼Œåœ¨æ— æ³•ä½¿ç”¨rootç™»å½•çš„æƒ…å†µä¸‹ï¼Œsystemdåœ¨å¯åŠ¨æ—¶ä¼šå¤šåŠ ä¸€ä¸ªé¢å¤–çš„ä¸´æ—¶ç³»ç»Ÿï¼Œå¯ä»¥å–å¾—rootæƒé™æ¥ç»´æŠ¤ç³»ç»Ÿï¼Œä½†æ˜¯æ­¤æ¨¡å¼ä¸‹éœ€è¦ä½¿ç”¨chrootæ¥å–å¾—åŸæœ‰çš„ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;emergency.targetï¼šç´§æ€¥æ¢å¤æ¨¡å¼ï¼Œæ— æ³•ä½¿ç”¨rescue.targetæƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦ä½¿ç”¨rootç™»å½•ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨æ­¤æ¨¡å¼&lt;/li&gt;
&lt;li&gt;shutdown.targetï¼šå…³æœºæ¨¡å¼&lt;/li&gt;
&lt;li&gt;getty.targetï¼šä¿®æ”¹é…ç½®æ–‡ä»¶æ¥æ”¹å˜ttyçš„æ•°é‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»-3&#34;&gt;å‘½ä»¤æ ¼å¼å’Œå‚æ•°è§£è¯»&lt;/h3&gt;
&lt;h4 id=&#34;å‘½ä»¤æ ¼å¼-3&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;systemctl [command] [unit.target]&lt;/code&gt;&lt;br&gt;
commandåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get-defaultï¼šè·å–ç›®å‰çš„target&lt;/li&gt;
&lt;li&gt;set-defaultï¼šè®¾ç½®é»˜è®¤çš„target&lt;/li&gt;
&lt;li&gt;isolateï¼šåˆ‡æ¢åˆ°æŸä¸ªtarget&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ‡æ¢æ“ä½œæ¨¡å¼çš„ç®€å•æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;systemctl poweroffï¼šå…³æœº&lt;/li&gt;
&lt;li&gt;systemctl rebootï¼šé‡å¯&lt;/li&gt;
&lt;li&gt;systemctl suspendï¼šæŒ‚èµ·ï¼Œå°†ç³»ç»Ÿçš„çŠ¶æ€æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œç„¶åå…³é—­ç³»ç»Ÿçš„å¤§éƒ¨åˆ†ç¡¬ä»¶ï¼Œå®é™…ä¸Šå¹¶æœªå…³æœºï¼Œä½¿ç”¨å¼€æœºæŒ‰é’®å”¤é†’ï¼Œå”¤é†’é€Ÿåº¦è¾ƒå¿«&lt;/li&gt;
&lt;li&gt;systemctl hibernateï¼šä¼‘çœ ï¼Œå°†ç³»ç»Ÿçš„çŠ¶æ€æ•°æ®ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œç„¶åå…³é—­ç³»ç»Ÿï¼Œä½¿ç”¨å¼€æœºæŒ‰é’®å”¤é†’ï¼Œå”¤é†’é€Ÿåº¦è¾ƒæ…¢&lt;/li&gt;
&lt;li&gt;systemctl rescueï¼šæ¢å¤æ¨¡å¼&lt;/li&gt;
&lt;li&gt;systemctl emergencyï¼šç´§æ€¥æ¢å¤æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†æå„æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§&#34;&gt;åˆ†æå„æœåŠ¡ä¹‹é—´çš„ä¾èµ–æ€§&lt;/h2&gt;
&lt;h4 id=&#34;å‘½ä»¤æ ¼å¼-4&#34;&gt;å‘½ä»¤æ ¼å¼ï¼š&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;systemctl list-dependencies [unit] [--reverse]&lt;/code&gt;&lt;br&gt;
å‚æ•°è§£é‡Šï¼š--reverse åå‘è¿½è¸ªè°ä½¿ç”¨è¿™ä¸ªunit&lt;/p&gt;
&lt;h2 id=&#34;ä¸systemdçš„daemonè¿è¡Œè¿‡ç¨‹ç›¸å…³ç›®å½•ç®€ä»‹&#34;&gt;ä¸systemdçš„daemonè¿è¡Œè¿‡ç¨‹ç›¸å…³ç›®å½•ç®€ä»‹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;/usr/lib/systemd/system/ï¼šå®˜æ–¹è½¯ä»¶é»˜è®¤çš„å¯åŠ¨è„šæœ¬å­˜æ”¾ä½ç½®ï¼Œæ­¤å¤„å°½é‡ä¸è¦ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ï¼Œè¯·åˆ°ç›®å½•/etc/systemd/system/&lt;/li&gt;
&lt;li&gt;/run/systemd/system/ï¼šç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æœåŠ¡è„šæœ¬ï¼Œä¼˜å…ˆçº§é«˜äº/usr/lib/systemd/system/&lt;/li&gt;
&lt;li&gt;/etc/systemd/system/ï¼šç®¡ç†å‘˜ä¾æ®ä¸»æœºç³»ç»Ÿéœ€è¦æ‰€å»ºç«‹çš„è„šæœ¬ï¼Œä¼˜å…ˆçº§æ¯”/run/systemd/system/è¿˜é«˜&lt;/li&gt;
&lt;li&gt;/etc/sysconfig/*ï¼šå‡ ä¹æ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šå°†åˆå§‹åŒ–çš„ä¸€äº›é€‰é¡¹è®¾ç½®å†™å…¥åˆ°è¿™ä¸ªç›®å½•&lt;/li&gt;
&lt;li&gt;/var/lib/ï¼šä¸€äº›ä¼šäº§ç”Ÿæ•°æ®çš„æœåŠ¡éƒ½ä¼šå°†äº§ç”Ÿçš„æ•°æ®å†™å…¥åˆ°æ­¤ç›®å½•ä¸­&lt;/li&gt;
&lt;li&gt;/run/ï¼šæ”¾ç½®å¾ˆå¤šdaemonçš„ç¼“å­˜ï¼ŒåŒ…æ‹¬lockæ–‡ä»¶å’Œpidæ–‡ä»¶ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…³é—­ç½‘ç»œæœåŠ¡&#34;&gt;å…³é—­ç½‘ç»œæœåŠ¡&lt;/h2&gt;
&lt;p&gt;å…³é—­ç½‘ç»œè®¾å¤‡å‘ç°æœåŠ¡ï¼šavahi-daemon&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;netstat -tulnp
systemctl list-unit -all | grep avahi-daemon
systemctl stop avahi-daemon.service
systemctl stop avahi-daemon.socket
systemctl disable avahi-daemon.service avahi-daemon.socket
netstat -tulnp
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h1 id=&#34;systemctlé’ˆå¯¹serviceç±»å‹çš„é…ç½®æ–‡ä»¶&#34;&gt;systemctlé’ˆå¯¹.serviceç±»å‹çš„é…ç½®æ–‡ä»¶&lt;/h1&gt;
&lt;h2 id=&#34;é…ç½®æ–‡ä»¶ç›¸å…³ç›®å½•&#34;&gt;é…ç½®æ–‡ä»¶ç›¸å…³ç›®å½•&lt;/h2&gt;
&lt;p&gt;ä»¥vsftpdæœåŠ¡ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/usr/lib/systemd/system/vsftpd.serviceï¼šå®˜æ–¹å‘å¸ƒçš„é»˜è®¤é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;/etc/systemd/system/vsftpd.service.d/custom.confï¼šåœ¨/etc/systemd/systemä¸‹é¢å»ºç«‹ä¸é…ç½®æ–‡ä»¶ç›¸åŒæ–‡ä»¶åçš„ç›®å½•ï¼Œä½†æ˜¯åŠ ä¸Š.dçš„æ‰©å±•åï¼Œç„¶ååœ¨è¯¥ç›®å½•ä¸‹å»ºç«‹é…ç½®æ–‡ä»¶å³å¯ï¼Œé…ç½®æ–‡ä»¶çš„æ‰©å±•åæœ€å¥½æ˜¯.confã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ä¼š&lt;code&gt;ç´¯åŠ å…¶ä»–è®¾ç½®&lt;/code&gt;åˆ° /usr/lib/systemd/system/vsftpd.serviceä¸­&lt;/li&gt;
&lt;li&gt;/etc/systemd/system/vsftpd.service.wants/*ï¼šæ­¤ç›®å½•ä¸­çš„æ–‡ä»¶ä¸ºé“¾æ¥æ–‡ä»¶ï¼Œè®¾ç½®ä¾èµ–æœåŠ¡çš„é“¾æ¥ï¼Œæ„æ€æ˜¯å¯åŠ¨vsftpd.serviceä¹‹åï¼Œæœ€å¥½åŠ ä¸Šè¯¥ç›®å½•ä¸‹å»ºè®®çš„æœåŠ¡&lt;/li&gt;
&lt;li&gt;/etc/systemd/system/vsftpd.service.requires/*ï¼šæ­¤ç›®å½•ä¸­çš„æ–‡ä»¶ä¸ºé“¾æ¥æ–‡ä»¶ï¼Œè®¾ç½®ä¾èµ–æœåŠ¡çš„é“¾æ¥ï¼Œæ„æ€æ˜¯å¯åŠ¨vsftpd.serviceä¹‹å‰ï¼Œéœ€è¦äº‹å…ˆå¯åŠ¨è¯¥ç›®å½•ä¸‹çš„æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é…ç½®æ–‡ä»¶çš„è®¾ç½®é¡¹ç›®&#34;&gt;é…ç½®æ–‡ä»¶çš„è®¾ç½®é¡¹ç›®&lt;/h2&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶-2&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;h4 id=&#34;ä»¥sshdé…ç½®æ–‡ä»¶ä¸ºä¾‹&#34;&gt;ä»¥sshdé…ç½®æ–‡ä»¶ä¸ºä¾‹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;more /usr/lib/systemd/system/sshd.service
    [Unit]    # è¿™ä¸ªé¡¹ç›®ä¸æ­¤unitçš„è§£é‡Šã€æ‰§è¡ŒæœåŠ¡ä¾èµ–æ€§æœ‰å…³
    Description=OpenSSH server daemon
    Documentation=man:sshd(8) man:sshd_config(5)
    After=network.target sshd-keygen.service
    Wants=sshd-keygen.service

    [Service]   # è¿™ä¸ªé¡¹ç›®ä¸å®é™…æ‰§è¡Œçš„å‘½ä»¤å‚æ•°æœ‰å…³
    Type=notify
    EnvironmentFile=/etc/sysconfig/sshd
    ExecStart=/usr/sbin/sshd -D $OPTIONS
    ExecReload=/bin/kill -HUP $MAINPID
    KillMode=process
    Restart=on-failure
    RestartSec=42s

    [Install]   # è¿™ä¸ªé¡¹ç›®è¯´æ˜æ­¤unitè¦æŒ‚è½½åˆ°å“ªä¸ªtargetä¸‹é¢
    WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¸‰å¤§é¡¹ç›®è¯´æ˜&#34;&gt;ä¸‰å¤§é¡¹ç›®è¯´æ˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;[Unit]ï¼šunitæœ¬èº«çš„è¯´æ˜ï¼Œä»¥åŠä¸å…¶ä»–ä¾èµ–daemonçš„è®¾ç½®ï¼ŒåŒ…æ‹¬åœ¨ä»€ä¹ˆæœåŠ¡ä¹‹åæ‰å¯åŠ¨æ­¤unitä¹‹ç±»çš„è®¾ç½®å€¼&lt;/li&gt;
&lt;li&gt;[Service][Socket][Timer][Mount][Path]ï¼šä¸åŒçš„unitç±»å‹éœ€è¦ä½¿ç”¨ç›¸å¯¹åº”çš„è®¾ç½®è®¾ç½®é¡¹ç›®ã€‚sshd.serviceéœ€è¦ä½¿ç”¨[Service]æ¥è®¾ç½®ã€‚æ­¤é¡¹ç›®ä¸»è¦ç”¨æ¥è§„èŒƒæœåŠ¡å¯åŠ¨è„šæœ¬ã€ç¯å¢ƒé…ç½®æ–‡ä»¶åã€é‡æ–°å¯åŠ¨çš„æ–¹å¼ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;[Install]ï¼šè¿™ä¸ªé¡¹ç›®è¯´æ˜å°†æ­¤unitå®‰è£…åˆ°å“ªä¸ªtargeté‡Œé¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è®¾ç½®è§„åˆ™&#34;&gt;è®¾ç½®è§„åˆ™&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®é¡¹ç›®é€šå¸¸æ˜¯å¯ä»¥é‡å¤çš„ï¼Œä¾‹å¦‚å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ä¸¤ä¸ªâ€œAfterâ€ï¼Œä¸è¿‡åé¢çš„è®¾ç½®ä¼šæ›¿æ¢å‰é¢çš„ï¼Œå› æ­¤ï¼Œå¦‚æœæƒ³è¦è®¾ç½®å½’é›¶ï¼Œç›´æ¥ä½¿ç”¨â€œAfter=â€&lt;/li&gt;
&lt;li&gt;å¦‚æœè®¾ç½®å‚æ•°éœ€è¦æœ‰ã€æ˜¯/å¦ã€‘çš„é¡¹ç›®ï¼ˆå¸ƒå°”å€¼ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ã€1/0ã€‘ã€ã€yes/noã€‘ã€ã€true/falseã€‘ã€ã€on/offã€‘&lt;/li&gt;
&lt;li&gt;ç©ºç™½è¡Œã€ä»¥#æˆ–;å¼€å¤´çš„è¡Œï¼Œéƒ½ä»£è¡¨æ³¨é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‚æ•°è§£é‡Š&#34;&gt;å‚æ•°è§£é‡Š&lt;/h3&gt;
&lt;h4 id=&#34;unitå‚æ•°&#34;&gt;[Unit]å‚æ•°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Descriptionï¼šå½“ä½¿ç”¨systemctl list-unitsæ—¶ï¼Œè¾“å‡ºç»™ç®¡ç†å‘˜çœ‹çš„å»ºè®®è¯´æ˜ã€‚ä½¿ç”¨systemctl statusæ—¶è¾“å‡ºçš„æ­¤æœåŠ¡çš„è¯´æ˜ä¹Ÿæ˜¯è¿™ä¸ªé¡¹ç›®&lt;/li&gt;
&lt;li&gt;Documentationï¼šè¿™ä¸ªé¡¹ç›®åœ¨æä¾›ç®¡ç†å‘˜èƒ½å¤Ÿè¿›è¡Œè¿›ä¸€æ­¥çš„æ–‡ä»¶æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œæä¾›çš„æ–‡ä»¶å¯ä»¥æ˜¯ä»¥ä¸‹ç±»å‹
&lt;ul&gt;
&lt;li&gt;Documentation=http://www....&lt;/li&gt;
&lt;li&gt;Documentation=man:sshd(8)&lt;/li&gt;
&lt;li&gt;Documentation=file:/etc/ssh/sshd_config&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Afterï¼šæ­¤unitåœ¨å“ªä¸ªdaemonå¯åŠ¨ä¹‹åæ‰å¯åŠ¨ï¼Œä»…æ˜¯è¯´æ˜æœåŠ¡å¯åŠ¨çš„é¡ºåºï¼Œå¹¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚é‡Œé¢çš„æœåŠ¡ä¸€å®šè¦å¯åŠ¨ä¹‹åæ‰å¯åŠ¨æ­¤unitã€‚è¿™ä¸ªä¸Requiresçš„è®¾ç½®æœ‰å·®å¼‚&lt;/li&gt;
&lt;li&gt;Beforeï¼šä¸Afteræ„ä¹‰ç›¸åï¼Œæ˜¯åœ¨ä»€ä¹ˆæœåŠ¡å¯åŠ¨å‰æœ€å¥½å¯åŠ¨è¿™ä¸ªæœåŠ¡çš„æ„æ€ï¼Œä»…æ˜¯è§„èŒƒæœåŠ¡å¯åŠ¨çš„é¡ºåºï¼Œå¹¶éå¼ºåˆ¶è¦æ±‚&lt;/li&gt;
&lt;li&gt;Requiresï¼šè®¾ç½®ä¾èµ–æœåŠ¡ï¼Œæ­¤æœåŠ¡å¯åŠ¨ä¹‹åæ‰èƒ½å¯åŠ¨æœ¬unitï¼Œå¦åˆ™ä¸å¯åŠ¨æœ¬unit&lt;/li&gt;
&lt;li&gt;Wantsï¼šä¸Requireså«ä¹‰ç›¸åï¼Œæ­¤unitä¹‹åæœ€å¥½è¿˜è¦å¯åŠ¨ä»€ä¹ˆæœåŠ¡ï¼Œä¸»è¦æ˜¯å¸Œæœ›å»ºç«‹è®©ç”¨æˆ·æ¯”è¾ƒå¥½æ“ä½œçš„ç¯å¢ƒï¼Œä½†æ˜¯æœ¬å‚æ•°çš„æœåŠ¡æ²¡æœ‰å¯åŠ¨å¹¶ä¸å½±å“æœ¬unit&lt;/li&gt;
&lt;li&gt;Conflictsï¼šå†²çªçš„æœåŠ¡ï¼Œå¦‚æœæ­¤å‚æ•°çš„æœåŠ¡å·²ç»å¯åŠ¨ï¼Œé‚£ä¹ˆæœ¬unitä¸å¯å¯åŠ¨ï¼›å¦‚æœæœ¬unitå·²ç»å¯åŠ¨ï¼Œé‚£ä¹ˆæ­¤å‚æ•°ä¹‹åçš„æœåŠ¡ä¸èƒ½å†å¯åŠ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;serviceå‚æ•°&#34;&gt;[Service]å‚æ•°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Typeï¼šè¯´æ˜æ­¤daemonçš„å¯åŠ¨æ–¹å¼ï¼Œä¼šå½±å“åˆ°ExecStartï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š
&lt;ul&gt;
&lt;li&gt;simpleï¼šé»˜è®¤å€¼ï¼Œè¿™ä¸ªdaemonä¸»è¦ç”±ExecStartæ¥çš„å‘½ä»¤æ¥å¯åŠ¨ï¼Œå¯åŠ¨åå¸¸é©»äºå†…å­˜&lt;/li&gt;
&lt;li&gt;forkingï¼šç”±ExecStartå¯åŠ¨çš„ç¨‹åºé€šè¿‡spawnsæ‰©å±•å‡ºå…¶ä»–å­ç¨‹åºæ¥ä½œä¸ºæ­¤daemonçš„ä¸»è¦æœåŠ¡ï¼ŒåŸç”Ÿçš„çˆ¶è¿›ç¨‹åœ¨å¯åŠ¨ä¹‹åä¼šç»ˆæ­¢è¿è¡Œï¼Œå¤§å¤šæ•°ä¼ ç»Ÿçš„unité‡‡ç”¨æ­¤æ–¹å¼ï¼Œä¾‹å¦‚httpd&lt;/li&gt;
&lt;li&gt;oneshotï¼šä¸simpleç±»ä¼¼ï¼Œä¸è¿‡è¿™ä¸ªè¿›ç¨‹åœ¨å·¥ä½œå®Œæ¯•ä¹‹åå°±å…³é—­ï¼Œä¸ä¼šå¸¸é©»äºå†…å­˜&lt;/li&gt;
&lt;li&gt;dbusï¼šä¸simpleç±»ä¼¼ï¼Œä½†è¿™ä¸ªdaemonå¿…é¡»è¦åœ¨è·å–ä¸€ä¸ªD-Busçš„åç§°åæ‰ä¼šç»§ç»­è¿è¡Œï¼Œå› æ­¤è®¾ç½®æ­¤é¡¹ç›®æ˜¯éœ€è¦è®¾ç½®â€œBusName=â€&lt;/li&gt;
&lt;li&gt;idleï¼šä¸simpleç±»ä¼¼ï¼Œæ‰§è¡Œè¿™ä¸ªdaemonå¿…é¡»è¦æ‰€æœ‰çš„å·¥ä½œéƒ½é¡ºåˆ©æ‰§è¡Œå®Œæ¯•åæ‰ä¼šæ‰§è¡Œï¼Œä¸€èˆ¬æ˜¯å¼€æœºååŠæ®µæ‰§è¡Œçš„æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;EnvironmentFileï¼šæŒ‡å®šå¯åŠ¨è„šæœ¬çš„ç¯å¢ƒé…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ExecStartï¼šå®é™…æ‰§è¡Œæ­¤daemonçš„å‘½ä»¤æˆ–è„šæœ¬ç¨‹åºã€‚å¯ä»¥ä½¿ç”¨ExecStartPreæˆ–è€…ExecStartPostä¸¤ä¸ªè®¾ç½®é¡¹ç›®æ¥åœ¨å¯åŠ¨æœåŠ¡å‰åï¼Œè¿›è¡Œé¢å¤–çš„å‘½ä»¤æ“ä½œã€‚å‘½ä»¤ä¸²ä»…æ¥å—ã€å‘½ä»¤ å‚æ•° å‚æ•°......ã€‘çš„æ ¼å¼ï¼Œä¸æ¥å—&amp;gt;ã€&amp;gt;&amp;gt;ã€|ã€&amp;amp;ç­‰ç‰¹æ®Šå­—ç¬¦ï¼Œå¾ˆå¤šçš„bashè¯­æ³•ä¹Ÿä¸æ”¯æŒï¼Œå› æ­¤æœ€å¥½å†™å…¥å‘½ä»¤è„šæœ¬ä¸­ã€‚å¦‚æœè¦æ”¯æŒå®Œæ•´çš„bashè¯­æ³•ï¼Œå¯ä»¥ä½¿ç”¨Type=oneshot&lt;/li&gt;
&lt;li&gt;ExecStopï¼šä¸systemctl stopçš„æ‰§è¡Œæœ‰å…³&lt;/li&gt;
&lt;li&gt;ExecReloadï¼šä¸systemctl reloadçš„æ‰§è¡Œæœ‰å…³&lt;/li&gt;
&lt;li&gt;Restartï¼šå½“è®¾ç½®Restart=1æ—¶ï¼Œåˆ™å½“æ­¤daemonæœåŠ¡ç»ˆæ­¢åï¼Œä¼šå†æ¬¡å¯åŠ¨æ­¤æœåŠ¡ï¼Œå³è¿™ä¸ªæœåŠ¡ä¼šæºæºä¸æ–­çš„äº§ç”Ÿï¼Œé™¤éä½¿ç”¨systemctlå¼ºåˆ¶å°†æ­¤æœåŠ¡å…³é—­&lt;/li&gt;
&lt;li&gt;RemainAfterExitï¼šå½“è®¾ç½®RemainAfterExit=1æ—¶ï¼Œåˆ™å½“è¿™ä¸ªdaemonæ‰€å±çš„æ‰€æœ‰ç¨‹åºéƒ½ç»ˆæ­¢ä¹‹åï¼Œæ­¤æœåŠ¡ä¼šå†å°è¯•å¯åŠ¨ï¼Œè¿™å¯¹äºType=oneshotçš„æœåŠ¡å¾ˆæœ‰å¸®åŠ©ã€‚&lt;/li&gt;
&lt;li&gt;TimeoutSecï¼šè‹¥è¿™ä¸ªæœåŠ¡åœ¨å¯åŠ¨æˆ–è€…å…³é—­æ—¶ï¼Œå› ä¸ºæŸäº›ç¼˜æ•…æ— æ³•é¡ºåˆ©â€œæ­£å¸¸å¯åŠ¨æˆ–è€…ç»“æŸâ€çš„æƒ…å†µä¸‹ï¼Œåˆ™éœ€è¦ç­‰å¾…å¤šä¹…æ‰è¿›å…¥â€œå¼ºåˆ¶ç»“æŸâ€çš„çŠ¶æ€&lt;/li&gt;
&lt;li&gt;KillModeï¼šå¯ä»¥æ˜¯processã€contril-groupã€noneã€‚&lt;strong&gt;process&lt;/strong&gt;ï¼šdaemonç»ˆæ­¢æ—¶åªä¼šç»ˆæ­¢ä¸»è¦ç¨‹åºï¼Œå³ExecStartçš„é‚£ä¸²æŒ‡ä»¤ï¼›&lt;strong&gt;contril-group&lt;/strong&gt;ï¼šæ­¤daemonæ‰€äº§ç”Ÿçš„çš„å…¶ä»–contril-groupçš„ç¨‹åºéƒ½ä¼šè¢«å…³é—­ï¼›&lt;strong&gt;none&lt;/strong&gt;ï¼šæ²¡æœ‰ç¨‹åºä¼šè¢«å…³é—­&lt;/li&gt;
&lt;li&gt;RestartSecï¼šä¸ReStartæœ‰ç‚¹ç›¸å…³ï¼Œå¦‚æœè¿™ä¸ªæœåŠ¡è¢«å…³é—­ï¼Œç„¶åéœ€è¦é‡æ–°å¯åŠ¨ï¼Œå¤§æ¦‚éœ€è¦sleepå¤šå°‘æ—¶é—´å†é‡æ–°å¯åŠ¨ï¼Œé»˜è®¤æ˜¯100ms&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;installå‚æ•°&#34;&gt;[Install]å‚æ•°&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;WantedByï¼šè¿™ä¸ªè®¾ç½®åé¢æ¥çš„å¤§éƒ¨åˆ†æ˜¯*.targetç±»å‹çš„unitã€‚é€šå¸¸æƒ…å†µä¸‹ä¸ºmulti-user.target&lt;/li&gt;
&lt;li&gt;Alsoï¼šå½“ç›®å‰è¿™ä¸ªunitæœ¬èº«è¢«enableæ—¶ï¼Œalsoåé¢æ¥çš„unitä¹Ÿéœ€è¦enbale&lt;/li&gt;
&lt;li&gt;Aliasï¼šè¿›è¡Œä¸€ä¸ªé“¾æ¥åˆ«åçš„ä½œç”¨ï¼Œå’Œå‘½ä»¤aliasä½œç”¨ç±»ä¼¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;systemctlé’ˆå¯¹timerçš„é…ç½®æ–‡ä»¶&#34;&gt;systemctlé’ˆå¯¹timerçš„é…ç½®æ–‡ä»¶&lt;/h1&gt;
&lt;h2 id=&#34;ä¼˜åŠ¿&#34;&gt;ä¼˜åŠ¿&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç›¸å¯¹äºcrondæœ€å°çš„å•ä½åˆ°åˆ†ï¼Œsystemd æ˜¯å¯ä»¥åˆ°ç§’ç”šè‡³æ˜¯æ¯«ç§’&lt;/li&gt;
&lt;li&gt;ç”±äºæ‰€æœ‰çš„systemdçš„æœåŠ¡äº§ç”Ÿçš„ä¿¡æ¯éƒ½ä¼šè¢«çºªå½•ï¼ˆlogï¼‰ï¼Œå› æ­¤æ¯”crondåœ¨debugä¸Šé¢è¦æ›´æ¸…æ¥šæ–¹ä¾¿çš„å¤š&lt;/li&gt;
&lt;li&gt;å„é¡¹timerçš„å·¥ä½œå¯ä»¥è·Ÿsystemdçš„æœåŠ¡ç›¸ç»“åˆ&lt;/li&gt;
&lt;li&gt;å„é¡¹timerçš„å·¥ä½œå¯ä»¥è·Ÿcontrol groupï¼ˆcgroupï¼Œç”¨æ¥å–ä»£/etc/secure/limit.confçš„åŠŸèƒ½ï¼‰ç»“åˆï¼Œæ¥é™åˆ¶è¯¥å·¥ä½œçš„èµ„æºåˆ©ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä½¿ç”¨è¦æ±‚&#34;&gt;ä½¿ç”¨è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç³»ç»Ÿçš„timer.targetä¸€å®šè¦å¯åŠ¨&lt;/li&gt;
&lt;li&gt;è¦æœ‰ä¸ªsname.serviceçš„æœåŠ¡å­˜åœ¨ï¼ˆsnameæ˜¯ä½ è‡ªå·±æŒ‡å®šçš„åç§°ï¼‰&lt;/li&gt;
&lt;li&gt;è¦æœ‰ä¸ªsname.timerçš„æ—¶é—´å¯åŠ¨æœåŠ¡å­˜åœ¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h2&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶ä½ç½®&#34;&gt;é…ç½®æ–‡ä»¶ä½ç½®&lt;/h3&gt;
&lt;p&gt;åœ¨/etc/systemd/systemä¸‹é¢å»åˆ›å»º*.timerçš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶å‚æ•°&#34;&gt;é…ç½®æ–‡ä»¶å‚æ•°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;OnActiveSecï¼šå½“timers.targetå¯åŠ¨å¤šä¹…ä¹‹åæ‰æ‰§è¡Œè¿™ä¸ªunit&lt;/li&gt;
&lt;li&gt;OnBootSecï¼šå½“å¼€æœºå®Œæˆåå¤šä¹…ä¹‹åæ‰æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;OnStartupSecï¼šå½“systemdç¬¬ä¸€æ¬¡å¯åŠ¨ä¹‹åè¿‡å¤šä¹…æ‰æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;OnUnitActiveSecï¼šè¿™ä¸ªtimeré…ç½®æ–‡ä»¶æ‰€ç®¡ç†çš„é‚£ä¸ªunitæœåŠ¡åœ¨æœ€åä¸€æ¬¡å¯åŠ¨åï¼Œéš”å¤šä¹…åå†æ‰§è¡Œä¸€æ¬¡çš„æ„æ€&lt;/li&gt;
&lt;li&gt;OnUnitInactiveSecï¼šè¿™ä¸ªtimeré…ç½®æ–‡ä»¶æ‰€ç®¡ç†çš„é‚£ä¸ªunitæœåŠ¡åœ¨æœ€åä¸€æ¬¡åœæ­¢åï¼Œéš”å¤šä¹…å†æ‰§è¡Œä¸€æ¬¡çš„æ„æ€&lt;/li&gt;
&lt;li&gt;OnCalendarï¼šä½¿ç”¨å®é™…æ—¶é—´ï¼ˆéå¾ªç¯æ—¶é—´ï¼‰çš„æ–¹å¼æ¥å¯åŠ¨æœåŠ¡çš„æ„æ€&lt;/li&gt;
&lt;li&gt;Unitï¼šä¸€èˆ¬æ¥è¯´ä¸å¤ªéœ€è¦è®¾ç½®ï¼Œå› æ­¤å¦‚åŒä¸Šé¢åˆšåˆšæåˆ°çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬è®¾ç½®éƒ½æ˜¯sname.server + sname.timerï¼Œé‚£å¦‚æœä½ çš„snameå¹¶ä¸ç›¸åŒæ—¶ï¼Œé‚£åœ¨ .timerçš„æ–‡ä»¶ä¸­ï¼Œå°±å¾—è¦æŒ‡å®šæ˜¯å“ªä¸€ä¸ª service unit&lt;/li&gt;
&lt;li&gt;Persistentï¼šå½“ä½¿ç”¨OnCalendarçš„è®¾ç½®æ—¶ï¼ŒæŒ‡å®šè¯¥åŠŸèƒ½è¦ä¸è¦æŒç»­è¿›è¡Œçš„æ„æ€ã€‚é€šå¸¸æ˜¯è®¾ç½®ä¸ºyes&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;oncalendarçš„æ—¶é—´&#34;&gt;OnCalendarçš„æ—¶é—´&lt;/h4&gt;
&lt;h5 id=&#34;åŸºæœ¬æ ¼å¼&#34;&gt;åŸºæœ¬æ ¼å¼&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•ï¼šè‹±æ–‡æ˜ŸæœŸåç§°  YYYY-MM-DD HH:MM:SS&lt;/li&gt;
&lt;li&gt;ä¸¾ä¾‹ï¼šThu                2020-04-16 21:34:25&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;å¸¸ç”¨çš„é—´éš”æ—¶é—´å•ä½&#34;&gt;å¸¸ç”¨çš„é—´éš”æ—¶é—´å•ä½&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;usæˆ–usecï¼šå¾®ç§’&lt;/li&gt;
&lt;li&gt;msæˆ–msecï¼šæ¯«ç§’&lt;/li&gt;
&lt;li&gt;s, sec, second, secondsï¼šç§’&lt;/li&gt;
&lt;li&gt;m, min, minute, minutesï¼šåˆ†&lt;/li&gt;
&lt;li&gt;h, hr, hour, hoursï¼šæ—¶&lt;/li&gt;
&lt;li&gt;d, day, daysï¼šæ—¥&lt;/li&gt;
&lt;li&gt;w, week, weeksï¼šå‘¨&lt;/li&gt;
&lt;li&gt;month, monthsï¼šæœˆ&lt;/li&gt;
&lt;li&gt;y, year, yearsï¼šå¹´&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ä½¿ç”¨ä¸¾ä¾‹&#34;&gt;ä½¿ç”¨ä¸¾ä¾‹&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;éš”3å°æ—¶ï¼š3hæˆ–3hræˆ–3hours&lt;/li&gt;
&lt;li&gt;éš”300åˆ†é’Ÿè¿‡10ç§’ï¼š10s 300m&lt;/li&gt;
&lt;li&gt;éš”5å¤©åˆ100åˆ†é’Ÿï¼š100m 5day&lt;br&gt;
&lt;code&gt;é€šå¸¸è‹±æ–‡çš„å†™æ³•ï¼Œå°å•ä½å†™å‰é¢ï¼Œå¤§å•ä½å†™åé¢ï½æ‰€ä»¥å…ˆç§’ã€å†åˆ†ã€å†å°æ—¶ã€å†å¤©æ•°ç­‰&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;è‹±æ–‡å¸¸ç”¨çš„å£è¯­åŒ–æ—¥æœŸ&#34;&gt;è‹±æ–‡å¸¸ç”¨çš„å£è¯­åŒ–æ—¥æœŸ&lt;/h5&gt;
&lt;p&gt;nowã€todayã€tomorrowã€hourlyã€dailyã€weeklyã€monthlyã€+3h10mã€2015-08-16&lt;/p&gt;
&lt;h2 id=&#34;é…åˆ¶å®ä¾‹&#34;&gt;é…åˆ¶å®ä¾‹&lt;/h2&gt;
&lt;h3 id=&#34;å¾ªç¯è¿è¡Œ&#34;&gt;å¾ªç¯è¿è¡Œ&lt;/h3&gt;
&lt;h4 id=&#34;è¦æ±‚&#34;&gt;è¦æ±‚&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¼€æœºå2å°æ—¶å¼€å§‹æ‰§è¡Œä¸€æ¬¡è¿™ä¸ªbackup.service&lt;/li&gt;
&lt;li&gt;è‡ªä»ç¬¬ä¸€æ¬¡æ‰§è¡Œåï¼Œæœªæ¥æ¯ä¸¤å¤©è¦æ‰§è¡Œä¸€æ¬¡backup.service&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é…åˆ¶æ–‡ä»¶&#34;&gt;é…åˆ¶æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/systemd/system/backup.timer
	[Unit]
	Description=backup my server timer
	[Timer]
	OnBootSec=2hrs
	OnUnitActiveSec=2days
	[Install]
	WantedBy=multi-user.target
	# åªè¦è¿™æ ·è®¾ç½®å°±å¤Ÿäº†ï¼å‚¨å­˜ç¦»å¼€å§ï¼
systemctl daemon-reload
systemctl enable backup.timer
systemctl restart backup.timer
systemctl list-unit-files|grep backup
	backup.service disabled # è¿™ä¸ªä¸éœ€è¦å¯åŠ¨ï¼åªè¦ enable backup.timer å³å¯ï¼
	backup.timer enabled
systemctl show timers.target
	ConditionTimestamp=Thu 2015-08-13 14:31:11 CST # timer è¿™ä¸ª unit å¯åŠ¨çš„æ—¶é—´ï¼
systemctl show backup.service
	ExecMainExitTimestamp=Thu 2015-08-13 14:50:19 CST # backup.service ä¸Šæ¬¡æ‰§è¡Œçš„æ—¶é—´
systemctl show backup.timer
	NextElapseUSecMonotonic=2d 19min 11.540653s # ä¸‹ä¸€æ¬¡æ‰§è¡Œè·ç¦» timers.target çš„æ—¶é—´
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å›ºå®šæ—¥æœŸè¿è¡Œ&#34;&gt;å›ºå®šæ—¥æœŸè¿è¡Œ&lt;/h3&gt;
&lt;h4 id=&#34;è¦æ±‚-2&#34;&gt;è¦æ±‚&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ˜ŸæœŸå¤©å‡Œæ™¨2ç‚¹è¿è¡Œè¿™ä¸ªå¤‡ä»½ç¨‹åºä¸€é&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;é…åˆ¶æ–‡ä»¶-2&#34;&gt;é…åˆ¶æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/systemd/system/backup2.timer
	[Unit]
	Description=backup my server timer2
	[Timer]
	OnCalendar=Sun *-*-* 02:00:00
	Persistent=true
	Unit=backup.service
	[Install]
	WantedBy=multi-user.target
systemctl daemon-reload
systemctl enable backup2.timer
systemctl start backup2.timer
systemctl show backup2.timer
	NextElapseUSecRealtime=45y 7month 1w 6d 10h 30min
&lt;/code&gt;&lt;/pre&gt;
">Centos7 systemdæ•´ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/18-hcia-zong-he-shi-jian/"" data-c="
          &lt;h1 id=&#34;ä¼ä¸šç½‘å®è·µæ‹“æ‰‘&#34;&gt;ä¼ä¸šç½‘å®è·µæ‹“æ‰‘&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586446429500.png&#34; alt=&#34;ä¼ä¸šç½‘å®è·µæ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;è§„åˆ’è¯´æ˜&#34;&gt;è§„åˆ’è¯´æ˜&lt;/h2&gt;
&lt;p&gt;AS1ï¼ˆåŒ…å«R1ã€SW1ã€SW2ã€SW3ï¼‰ä¸ºä¼ä¸šä¸»å›­åŒºç½‘ç»œï¼ŒAS2ä¸ºä¼ä¸šåˆ†æ”¯ç½‘ç»œï¼Œäº‘éƒ¨åˆ†ä»£è¡¨äº’è”ç½‘è®¾å¤‡8.8.8.8ã€‚å®ŒæˆAS1å’ŒAS2åŸºæœ¬çš„ç½‘ç»œåŠŸèƒ½ï¼Œå¯ä»¥è®¿é—®äº’è”ç½‘8.8.8.8ä»¥åŠé€šè¿‡GRE VPNä½¿å¾—ä½äºä¸¤ä¸ªASçš„ç»ˆç«¯å®ç°è·¨å¹¿åŸŸç½‘çš„é€šä¿¡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;æ¶æ„è®¾è®¡&#34;&gt;æ¶æ„è®¾è®¡&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;AS1ä¸­ï¼ŒR1ä½œä¸ºä¼ä¸šç½‘å…³å‡ºå£ï¼Œè´Ÿè´£æ¥å…¥äº’è”ç½‘8.8.8.8ï¼Œä»¥åŠå’ŒR3çš„VPNäº’è”ï¼ŒåŒäº‹ä½œä¸ºAS1å†…éƒ¨çš„æ ¸å¿ƒè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;SW1å’ŒSW2ä½œä¸ºAS1çš„æ±‡èšå±‚äº¤æ¢æœºï¼Œå…¶ä¸Šçš„Vlanifæ¥å£å¦‚è·¯ç”±æ‹“æ‰‘æ‰€ç¤ºï¼ŒSW3ä½œä¸ºæ¥å…¥å±‚çš„äº¤æ¢æœºã€‚&lt;/li&gt;
&lt;li&gt;AS2ä¸­ï¼ŒR3ä½œä¸ºè¯¥åˆ†æ”¯ç½‘ç»œçš„ç½‘å…³å‡ºå£ï¼ŒSW4ä½œä¸ºæ¥å…¥2å±‚äº¤æ¢æœºï¼Œè¿æ¥ç»ˆç«¯å’Œè·¯ç”±å™¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åœ¨ä¸¤ä¸ªASä¸­ï¼Œæ¯ä¸ªASæœ€å¤šå‡ºç°ä¸€æ¡é™æ€è·¯ç”±ã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h1 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;äº¤æ¢ç½‘ç»œéƒ¨åˆ†&#34;&gt;äº¤æ¢ç½‘ç»œéƒ¨åˆ†&lt;/h2&gt;
&lt;h3 id=&#34;vlançš„è§„åˆ’å’Œæ¥å…¥&#34;&gt;VLANçš„è§„åˆ’å’Œæ¥å…¥&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;äº¤æ¢æœºæ¥å£&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ‰€å±VLAN&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw1-g0/0/1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw2-g0/0/2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw3-g0/0/10&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw3-g0/0/11&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw3-g0/0/12&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw4-g0/0/1&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan20&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sw4-g0/0/2&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;vlan30&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨AS1ä¸­çš„äº¤æ¢æœºä¸Šåˆ›å»ºVLAN8/9/10/11/12/99&lt;/li&gt;
&lt;li&gt;åœ¨AS2ä¸­çš„äº¤æ¢æœºä¸Šåˆ›å»ºVLAN20/30&lt;/li&gt;
&lt;li&gt;æŒ‰ç…§è¡¨ä¸­å°†æ¥å£åˆ’å…¥vlan&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
vlan batch 8 9 10 11 12 99
int g0/0/1
port link-type access
port default vlan 11
# sw2
vlan batch 8 9 10 11 12 99
int g0/0/2
port link-type access
port default vlan 12
# sw3
vlan batch 8 9 10 11 12 99
int g0/0/10
port link-type access
port default vlan 8
int g0/0/11
port link-type access
port default vlan 9
int g0/0/12
port link-type access
port default vlan 10
# sw4
vlan batch 20 30
int g0/0/1
port link-type access
port default vlan 20
int g0/0/2
port link-type access
port default vlan 30
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å®æ–½trunkå°è£…&#34;&gt;å®æ–½Trunkå°è£…&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AS1å†…äº¤æ¢æœºçš„äº’è”æ¥å£å®æ–½æ ‡å‡†å°è£…æ ¼å¼çš„Trunké“¾è·¯&lt;/li&gt;
&lt;li&gt;AS1å†…æ‰€æœ‰Trunkä¸Šå…è®¸é™¤äº†VLAN1ä¹‹å¤–çš„æ‰€æœ‰VLANé€šè¿‡ï¼Œä¸”æ‰€æœ‰VLANçš„æµé‡å¿…é¡»æºå¸¦Tag&lt;/li&gt;
&lt;li&gt;AS2å†…çš„äº¤æ¢æœºä¸Šå®æ–½Trunkï¼Œ&lt;strong&gt;å®‰å…¨èµ·è§ä»…ä»…å…è®¸å¯¹åº”çš„VLANé€šè¿‡&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
int g0/0/3
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
int g0/0/5
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
int g0/0/6
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
# sw2
int g0/0/1
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
int g0/0/5
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
int g0/0/6
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
# sw3
int g0/0/1
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
int g0/0/3
port link-type trunk
port trunk allow-pass vlan all
undo port trunk allow-pass vlan 1
#sw4
int g0/0/10
port link-type trunk
port trunk allow-pass vlan 20 30
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å®æ–½ç”Ÿæˆæ ‘åè®®stp&#34;&gt;å®æ–½ç”Ÿæˆæ ‘åè®®STP&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AS1å’ŒAS2å†…å®æ–½802.1s(MSTP)çš„ç”Ÿæˆæ ‘ï¼ˆåä¸ºè®¾å¤‡é»˜è®¤ä¸ºMSTPï¼‰&lt;/li&gt;
&lt;li&gt;sw1åœ¨å®ä¾‹(instance)1ä¸­å…·æœ‰æˆä¸ºvlan8/10/11çš„æ ¹çš„æœ€å¤§çš„å¯èƒ½æ€§ï¼ŒåŒæ—¶sw1æ˜¯å…¶ä»–vlanï¼ˆ9/12/99ï¼‰çš„å¤‡ä»½æ ¹&lt;/li&gt;
&lt;li&gt;sw2åä¹‹ï¼Œå³æˆä¸ºvlan8/10/11çš„å¤‡ä»½æ ¹ï¼Œæˆä¸ºå…¶ä»–vlanï¼ˆ9/12/99ï¼‰çš„ä¸»æ ¹&lt;/li&gt;
&lt;li&gt;åŒºåŸŸåä¸ºenderï¼Œä¿®è®¢ç‰ˆæœ¬å·ä¸º1&lt;/li&gt;
&lt;li&gt;sw1/2/3ä¸Šï¼Œä»…ä½¿ç”¨ä¸€æ¡å‘½ä»¤ï¼Œä½¿å¾—è¿æ¥ç»ˆç«¯çš„æ¥å£å¯ä»¥å¿«é€Ÿè¿›å…¥è½¬å‘çŠ¶æ€&lt;/li&gt;
&lt;li&gt;sw4çš„&lt;strong&gt;æ¥å£ä¸‹&lt;/strong&gt;é…ç½®å‘½ä»¤ï¼Œä½¿å¾—è¿æ¥å…¶ä»–è®¾å¤‡çš„æ¥å£å¿«é€Ÿè¿›å…¥è½¬å‘çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ä¸ºäº†ä¿æŠ¤äº¤æ¢ç½‘ç»œï¼Œåœ¨æ¥å…¥å±‚äº¤æ¢æœºï¼ˆsw3/4ï¼‰ä¸Šï¼Œä¸€æ—¦æ”¶åˆ°éæ³•çš„BPDUåˆ™å…³é—­æ¥å£&lt;br&gt;
&lt;code&gt;å®ä¾‹instanceï¼Œå³å°†å¤šä¸ªvlanç»‘å®šæˆä¸€ä¸ªç»„&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1\sw2\sw3
stp region-configuration
region-name ender
revision-level 1
instance 1 vlan 8 10 11
instance 2 vlan 9 12 99
active region-configuration 
# sw1
stp instance 1 priority 0  # æˆ–è€…stp instance 1 root primary
stp instance 2 root secondary
# sw2
stp instance 1 root secondary
stp instance 2 root primary
# sw1\sw2\sw3
stp edged-port default
# sw4
int g0/0/1
stp edged-port enable
int g0/0/2
stp edged-port enable
int g0/0/10 #æ­¤æ¥å£å¦‚æœä¸é…ç½®è¾¹ç¼˜ç«¯å£ï¼Œå‡ºç°æ–­ç½‘ç­‰æƒ…å†µï¼Œè¿˜ä¼šç»è¿‡Listenç­‰çŠ¶æ€ï¼Œå¯¼è‡´æ¢å¤è¿‡æ…¢
stp edged-port enable
# sw4
stp bpdu-protection
# sw3ï¼Œéœ€è¦å°†ä¸Šè¿æ¥å£çš„è¾¹ç¼˜ç«¯å£å…³é—­
stp bpdu-protection
int g0/0/1
stp edged-port disable
shutdown
undo shutdown
int g0/0/3
stp edged-port disable
shutdown
undo shutdown
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;å®æ–½ä»¥å¤ªé“¾è·¯èšåˆ&#34;&gt;å®æ–½ä»¥å¤ªé“¾è·¯èšåˆ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†ä¿è¯æ±‡èšäº¤æ¢æœºä¹‹é—´æ‹¥æœ‰è¶³å¤Ÿçš„å¸¦å®½ï¼Œåœ¨æ±‡èšäº¤æ¢æœºä¹‹é—´å®æ–½æ‰‹å·¥æ¨¡å¼ï¼ˆåä¸ºé»˜è®¤æ­¤æ¨¡å¼ï¼‰çš„ä»¥å¤ªé“¾è·¯èšåˆ&lt;/li&gt;
&lt;li&gt;ä»¥å¤ªé“¾è·¯èšåˆä½¿ç”¨åŸºäºæºç›®IPçš„è´Ÿè½½åˆ†æ‹…æ–¹å¼ï¼ˆåä¸ºé»˜è®¤æ­¤æ–¹å¼ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1/sw2
clear configuration int g0/0/5
y
clear configuration int g0/0/6
y
int eth-trunk 12
trunkport g 0/0/5 to 0/0/6
port link-type trunk
port trunk allow vlan all
undo port trunk allow vlan 1
int g0/0/5
un shut
int g0/0/6
un shut
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;2å±‚ç½‘ç»œå‘3å±‚ç½‘ç»œè¿‡æ¸¡&#34;&gt;2å±‚ç½‘ç»œå‘3å±‚ç½‘ç»œè¿‡æ¸¡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ‰€æœ‰è·¯ç”±å™¨ä¸Šé…ç½®IPåœ°å€ï¼Œä¿è¯è·¯ç”±å™¨ä¹‹é—´ã€è·¯ç”±å™¨å’Œäº¤æ¢æœºä¹‹é—´çš„ç›´è¿IPåœ°å€é€šä¿¡&lt;/li&gt;
&lt;li&gt;åœ¨æ‰€æœ‰äº¤æ¢æœºä¸Šé…ç½®IPåœ°å€ï¼Œä¿è¯è·¯ç”±å™¨ä¹‹é—´ã€è·¯ç”±å™¨å’Œäº¤æ¢æœºä¹‹é—´çš„ç›´è¿IPåœ°å€é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
int g0/0/0 
ip addr 202.100.1.1 30
int g0/0/1
ip addr 10.1.11.1 29
int g0/0/2
ip addr 10.1.12.1 29
int s1/0/0
ip addr 12.1.1.1 30
# R2
int g0/0/0
ip addr 202.100.1.2 30
int g0/0/1
ip addr 202.100.1.6 30
int s1/0/0
ip addr 12.1.1.2 30
# R3 
int g0/0/1 
ip addr 202.100.1.5 30
int g0/0/0.20
dot1q termination vid 20
arp broadcast enable
ip addr 10.1.20.30 27
int g0/0/0.30
dot1q termination vid 30
arp broadcast enable
ip addr 10.1.30.30 27
# sw1
int vlanif 11
ip addr 10.1.11.2 29
int vlanif 8
ip addr 10.1.10.13 28
int vlanif 9
ip addr 10.1.10.28 28
int vlanif 10
ip addr 10.1.10.45 28
# sw2
int vlanif 12
ip addr 10.1.12.2 29
int vlanif 8
ip addr 10.1.10.12 28
int vlanif 9
ip addr 10.1.10.29 28
int vlanif 10
ip addr 10.1.10.44 28
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;è·¯ç”±éƒ¨åˆ†&#34;&gt;è·¯ç”±éƒ¨åˆ†&lt;/h2&gt;
&lt;h3 id=&#34;æ­å»ºas2å†…éƒ¨ç½‘ç»œ&#34;&gt;æ­å»ºAS2å†…éƒ¨ç½‘ç»œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®pc3çš„IPåœ°å€å’Œæ­£ç¡®çš„ç½‘å…³&lt;/li&gt;
&lt;li&gt;é…ç½®s2çš„IPå’Œæ­£ç¡®çš„ç½‘å…³&lt;/li&gt;
&lt;li&gt;é…ç½®R3ï¼Œä¿è¯pc3å’Œs2é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# pc3
ip:10.1.20.1 mask:255.255.255.224 gateway:10.1.20.30
ping 10.1.20.30
ping 10.1.30.30
ping 10.1.30.1
# s2
ip:10.1.30.1 mask:255.255.255.224 gateway:10.1.30.30
ping 10.1.30.30
ping 10.1.20.30
ping 10.1.20.1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;æ­å»ºas1å†…éƒ¨ç½‘ç»œ&#34;&gt;æ­å»ºAS1å†…éƒ¨ç½‘ç»œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AS1å†…éƒ¨å®æ–½OSPFå¤šåŒºåŸŸï¼ˆarea0å’Œarea1ï¼‰ç½‘ç»œï¼Œè¿›ç¨‹å·ä¸º110&lt;/li&gt;
&lt;li&gt;é…ç½®è®¾å¤‡çš„OSPFè·¯ç”±å™¨IDï¼Œåˆ†åˆ«ä¸º0.0.0.1,0.0.0.2,0.0.0.3&lt;/li&gt;
&lt;li&gt;R1çš„ç¯å›æ¥å£0ï¼ˆåœ°å€11.1.1.1/32ï¼‰è¿è¡Œåœ¨åŒºåŸŸ0&lt;/li&gt;
&lt;li&gt;AS1å†…å…¶ä»–æ¥å£éƒ½è¿è¡Œåœ¨area1ä¸­&lt;/li&gt;
&lt;li&gt;ç¡®ä¿AS1å†…æ‰€æœ‰ä¸»æœºï¼ˆåŒ…å«11.1.1.1ï¼‰ç›¸äº’ä¹‹é—´å®ç°é€šä¿¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
ospf 110 router-id 0.0.0.1
area 0
area 1
q
int lo0
ip addr 11.1.1.1 32
ospf enable 110 area 0
int g0/0/1
ospf enable 110 area 1
int g0/0/2
ospf enable 110 area 1
# sw1
ospf 110 router-id 0.0.0.2
area 1
int vlanif 8
ospf enable 110 area 1
int vlanif 9
ospf enable 110 area 1
int vlanif 10
ospf enable 110 area 1
int vlanif 11
ospf enable 110 area 1
# sw2
ospf 110 router-id 0.0.0.3
area 1
int vlanif 8
ospf enable 110 area 1
int vlanif 9
ospf enable 110 area 1
int vlanif 10
ospf enable 110 area 1
int vlanif 12
ospf enable 110 area 1
# éªŒè¯R1/sw2/sw3
dis ospf int  # æŸ¥çœ‹ç«¯å£
dis ip rou pro ospf  #æŸ¥çœ‹è·¯ç”±
dis ospf peer bri # æŸ¥çœ‹é‚»å±…
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;ç½‘ç»œè¾¹ç•Œçš„å®æ–½&#34;&gt;ç½‘ç»œè¾¹ç•Œçš„å®æ–½&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AS1çš„ç½‘å…³è®¾å¤‡é…ç½®2æ¡é»˜è®¤è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºè¿è¥å•†åœ°å€ï¼Œè¯·ä½¿ç”¨ä»¥å¤ªé“¾è·¯ä½œä¸ºä¸»è·¯å¾„&lt;/li&gt;
&lt;li&gt;AS3çš„ç½‘å…³è®¾å¤‡é…ç½®é»˜è®¤è·¯ç”±ï¼Œä¸‹ä¸€è·³ä¸ºè¿è¥å•†åœ°å€&lt;/li&gt;
&lt;li&gt;ä¿è¯R1ã€R3å¯ä»¥å’Œ8.8.8.8(R2çš„lo0æ¥å£)é€šä¿¡&lt;/li&gt;
&lt;li&gt;ä¿è¯R1å’ŒR3å¯ä»¥ç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;ç¡®ä¿pc1å’Œpc3å¯ä»¥å‘é€æ•°æ®åˆ°8.8.8.8ï¼ˆæ­¤æ—¶è¿˜æ— æ³•pingé€šï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
ip route-static 0.0.0.0 0 202.100.1.2 preference 59
ip route-static 0.0.0.0 0 12.1.1.2
ospf 110
default-route-advertise
# R3
ip route-static 0.0.0.0 0 202.100.1.6
# R2
int lo0
ip addr 8.8.8.8 32
# æ­¤æ—¶å¦‚æœæƒ³è¦è§‚å¯Ÿåˆ°ç›¸åº”ç°è±¡ï¼Œéœ€è¦åœ¨R2ä¸Šå¼€å¯debugï¼Œç„¶åä½¿ç”¨pc2å’Œsw1å¼€å§‹pingï¼ˆpingä¸é€šçš„åŸå› ä¸ºè¿è¥å•†å¤„æ²¡æœ‰åˆ°ä¼ä¸šç½‘ä¸­çš„è·¯ç”±ï¼‰
# R2
terminal debugging
debugging ip icmp
# å…³é—­debugå‘½ä»¤ï¼šundo terminal debugging
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;æ€»éƒ¨å’Œåˆ†æ”¯çš„ç½‘ç»œé€šä¿¡&#34;&gt;æ€»éƒ¨å’Œåˆ†æ”¯çš„ç½‘ç»œé€šä¿¡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;AS1å’ŒAS2ä¹‹é—´å®æ–½IPåè®®47ï¼Œä¸¤ä¸ªç½‘å…³è®¾å¤‡çš„åœ°å€é…ç½®ä¸º10.1.13.1/30å’Œ10.1.13.2/30&lt;/li&gt;
&lt;li&gt;ä¿è¯ä¸¤ä¸ªéš§é“åœ°å€å¯ä»¥å®ç°é€šä¿¡&lt;/li&gt;
&lt;li&gt;R1é…ç½®BGPï¼ŒASå·ç ä¸º1ï¼›R3é…ç½®BGPï¼ŒASå·ç ä¸º2ï¼Œä½¿ç”¨éš§é“åœ°å€å»ºç«‹eBGPé‚»å±…&lt;/li&gt;
&lt;li&gt;åœ¨R1ä¸Šäº§ç”Ÿæ¥è‡ªAS1å†…éƒ¨çš„BGPè·¯ç”±ï¼Œè¿™äº›è·¯ç”±çš„èµ·æºä»£ç ä¸ºï¼Ÿ&lt;/li&gt;
&lt;li&gt;åœ¨R3ä¸Šäº§ç”ŸAS2çš„BGPè·¯ç”±ï¼Œè¿™äº›è·¯ç”±çš„èµ·æºä»£ç ä¸ºi&lt;/li&gt;
&lt;li&gt;åœ¨BGPå®æ–½å®Œæ¯•ä¹‹åï¼Œä¿è¯æ‰€æœ‰çš„PCå’ŒæœåŠ¡å™¨ä¹‹é—´å¯ä»¥é€šä¿¡&lt;br&gt;
&lt;code&gt;iä»£è¡¨èµ·æºigpï¼ŒEä»£è¡¨èµ·æºeBGPï¼Œï¼Ÿä»£è¡¨æœªçŸ¥ï¼ˆä¸€èˆ¬é€šè¿‡é‡åˆ†å‘è¿›æ¥çš„ï¼‰ï¼Œ&amp;gt;è¡¨ç¤ºæœ€ä¼˜è·¯ç”±ï¼Œ*è¡¨ç¤ºæœ‰æ•ˆçš„è·¯ç”±ã€‚ä¾‹å¦‚ï¼š100iï¼Œè¡¨ç¤ºè·¯ç”±ç»è¿‡çš„æœ€è¿‘ä¸€ä¸ªASæ˜¯AS100ï¼Œåé¢çš„iè¡¨ç¤ºè¿™æ¡è·¯ç”±æ˜¯é€šè¿‡Networkæ–¹å¼å­¦ä¹ åˆ°çš„ã€‚è·¯ç”±é€‰è·¯è§„åˆ™ i&amp;gt;E&amp;gt;?&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
int tunnel 0/0/0
tunnel-protocol gre
source 202.100.1.1
destination 202.100.1.5
ip addr 10.1.13.1 30
q
bgp 1
peer 10.1.13.2 as-number 2
import-route ospf 110
# R3
int tunnel 0/0/0
tunnel-protocol gre
source 202.100.1.5
destination 202.100.1.1
ip addr 10.1.13.2 30
q
bgp 2
peer 10.1.13.1 as-number 1
network 10.1.20.0 27
network 10.1.30.0 27
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;äº’è”ç½‘æ¥å…¥å’Œç½‘ç»œå®‰å…¨&#34;&gt;äº’è”ç½‘æ¥å…¥å’Œç½‘ç»œå®‰å…¨&lt;/h2&gt;
&lt;h3 id=&#34;vrrpåè®®&#34;&gt;VRRPåè®®&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;SW1å“åº”vlan8ã€10ä¸­çš„ç»ˆç«¯çš„ARPè¯·æ±‚ï¼Œä½œä¸ºvlan9çš„backup&lt;/li&gt;
&lt;li&gt;SW2å“åº”vlan9ä¸­çš„ç»ˆç«¯çš„ARPè¯·æ±‚ï¼Œä½œä¸ºvlan8ã€10çš„backup&lt;/li&gt;
&lt;li&gt;Masterè®¾å¤‡éƒ½è¿½è¸ªä¸Šè¡Œé“¾è·¯ï¼Œå¦‚æœå¤±è´¥åˆ™è¿›è¡Œä¸»å¤‡åˆ‡æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw1
int vlan 8
vrrp vrid 8 virtual-ip 10.1.10.14
vrrp vrid 8 priority 109
vrrp vrid 8 track interface g0/0/1 reduced 10  # ä¸Šè¡Œé“¾è·¯è¿½è¸ªï¼Œå¦‚æœå¤±æ•ˆï¼Œåˆ™ä¼˜å…ˆçº§å‡ä½10ã€‚æˆ–è€…vrrp vrid 8 track interface vlan 11 reduced 10
int vlan 9
vrrp vrid 9 virtual-ip 10.1.10.30
int vlan 10
vrrp vrid 10 virtual-ip 10.1.10.46 
vrrp vrid 10 priority 109
vrrp vrid 10 track interface g0/0/1 reduced 10
# sw2
int vlan 8
vrrp vrid 8 virtual-ip 10.1.10.14
int vlan 9
vrrp vrid 9 virtual-ip 10.1.10.30
vrrp vrid 9 priority 109
vrrp vrid 9 track interface g0/0/1 reduced 10
int vlan 10
vrrp vrid 10 virtual-ip 10.1.10.46
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;æ¥å…¥å±‚äº¤æ¢æœºè°ƒæ•´&#34;&gt;æ¥å…¥å±‚äº¤æ¢æœºè°ƒæ•´&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;sw3çš„ç®¡ç†IPï¼švlan99=10.1.99.99/24ï¼Œsw2ï¼švlan99=10.1.99.254/24ï¼Œä½¿sw3ä»…å¯ä»¥è¢«telnetåè®®è¿œç¨‹ç®¡ç†&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ç«¯å£å·ä¸º23çš„åè®®è¿›è¡Œè¿œç¨‹ç®¡ç†ï¼Œsw3ä»…ä»…å…è®¸10.1.0.0/16å’Œ202.100.1.0/30çš„ç½‘ç»œè¿›è¡Œç®¡ç†&lt;/li&gt;
&lt;li&gt;ç®¡ç†sw3çš„ç”¨æˆ·åä¸ºhuaweiï¼Œå¯†ç ä¸ºhuawei123ï¼Œæ— æ³•é€šè¿‡é…ç½®ç›´æ¥çœ‹åˆ°è¯¥å¯†ç &lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw3
int vlanif 99
ip addr 10.1.99.99 24
ip route-static 0.0.0.0 0 10.1.99.254   # sw3ï¼ˆ2å±‚äº¤æ¢æœºï¼Œä¸èƒ½å¼€å¯ospfï¼‰
q
acl 2010
rule 10 permint source 10.1.0.0 0.0.255.255
rule 20 permint source 202.100.1.0 0.0.0.3
q
aaa
local-user huawei password cipher huawei123
local-user huawei privilege level 15
q
user-interface vty 0 4
protocol inbound telnet
acl 2010 inbound
authentication-mode aaa
# sw2
int vlanif 99
ip addr 10.1.99.254 24
ospf enable 110 area 1
# åˆ†åˆ«ä½¿ç”¨sw2å’ŒR1è¿›è¡Œè¿æ¥æµ‹è¯•
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;sw3çš„å®‰å…¨æªæ–½&#34;&gt;SW3çš„å®‰å…¨æªæ–½&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†é˜²æ­¢å®¢æˆ·ç§è‡ªæ¥å…¥å…¶ä»–éæˆæƒè®¾å¤‡ï¼Œåœ¨æ¥å…¥è®¾å¤‡sw3åšç›¸åº”çš„å®æ–½&lt;/li&gt;
&lt;li&gt;æ¥å£æœ€å¤šå…è®¸æ¥å…¥2å°è®¾å¤‡&lt;/li&gt;
&lt;li&gt;å¦‚æœå‡ºç°è¿è§„è¡Œä¸ºï¼Œå¹¶ä¸å…³é—­æ¥å£ï¼ˆåä¸ºé»˜è®¤ï¼Œé»˜è®¤æ¨¡å¼ä¸ºrestrictä¸¢å¼ƒå¹¶å‘Šè­¦ï¼Œprotectæ¨¡å¼ä¸ºä¸¢å¼ƒæŠ¥æ–‡ï¼Œshutdownæ¨¡å¼ä¸ºå…³é—­ç«¯å£ï¼Œ&lt;code&gt;port-security protect-action restrict&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;å®‰å…¨MACå¿…é¡»ä»¥stickyçš„æ–¹å¼å®æ–½ï¼Œç”¨æ¥æ–¹ä¾¿æ’é™¤æ•…éšœ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# sw3
int g0/0/10 
port-security enable
port-security max-mac-num 2
port-security protect-action restrict
port-security mac-address sticky
int g0/0/11
port-security enable
port-security max-mac-num 2
port-security protect-action restrict
port-security mac-address sticky
int g0/0/12
port-security enable
port-security max-mac-num 2
port-security protect-action restrict
port-security mac-address sticky
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;natæ¥å…¥äº’è”ç½‘&#34;&gt;NATæ¥å…¥äº’è”ç½‘&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸šåŠ¡ç½‘ç»œvlan8\9\10çš„ç”¨æˆ·å¯ä»¥è®¿é—®äº’è”ç½‘&lt;/li&gt;
&lt;li&gt;äº’è”ç½‘è®¾å¤‡å¯ä»¥è¿œç¨‹é€šè¿‡telnet 1234ç«¯å£æ¥ç®¡ç†sw3&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ç®¡ç†æˆåŠŸï¼Œå¿…é¡»æ˜¾ç¤ºç®¡ç†æ—¥å¿—ï¼ˆä¸€æ¬¡æ€§è¡Œä¸ºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R1
acl 2001
rule 5 permit source 10.1.10.0 0.0.0.15
rule 10 permit source 10.1.10.16 0.0.0.15
rule 15 permit source 10.1.10.32 0.0.0.15
int g0/0/0
nat outbound 2001
nat server protocol tcp global current-interface 1234 inside 10.1.99.99 23
# R2
telnet 202.100.1.1 1234
terminal monitor
&lt;/code&gt;&lt;/pre&gt;
">18 HCIEä¼ä¸šç½‘ç»¼åˆå®è·µåˆçº§ï¼ˆ2020.0406-0411ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/shu-mei-pai-kai-fa-gpioji-yu-guan-fang-xi-tong/"" data-c="
          &lt;p&gt;&lt;ul class=&#34;markdownIt-TOC&#34;&gt;
&lt;li&gt;&lt;a href=&#34;#%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E8%BF%9C%E7%A8%8B&#34;&gt;ç³»ç»Ÿå®‰è£…ä»¥åŠè¿œç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/p&gt;
&lt;h1 id=&#34;ç³»ç»Ÿå®‰è£…ä»¥åŠè¿œç¨‹&#34;&gt;ç³»ç»Ÿå®‰è£…ä»¥åŠè¿œç¨‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å°†ç³»ç»Ÿé•œåƒå†™å…¥SDå¡ä¹‹åï¼Œéœ€è¦åœ¨å…¶æ ¹ç›®å½•ä¸‹åˆ›å»ºsshæ–‡ä»¶ï¼Œå¦åˆ™æ— æ³•sshè¿œç¨‹è¿æ¥ã€‚&lt;/li&gt;
&lt;li&gt;sshè¿œç¨‹è¿æ¥ï¼šç”¨æˆ·åpiï¼Œå¯†ç raspberry&lt;/li&gt;
&lt;li&gt;è·å–rootæƒé™ï¼Œå¹¶ä½¿ç”¨rootç™»å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo passwd root    # ä¹‹åè¾“å…¥å¯†ç 
sudo nano /etc/ssh/sshd_config
    PermitRootLogin yes #å€¼æ›´æ”¹ä¸ºyes
    ctrl+oä¿å­˜--&amp;gt;enterå†™å…¥æºæ–‡ä»¶--&amp;gt;ctrl+xé€€å‡º
sudo systemctl restart sshd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;æ­¤æ—¶å¯ä»¥ä½¿ç”¨sshè¿œç¨‹rootç”¨æˆ·&lt;/code&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;æ›´æ¢å®˜æ–¹aptæºä¸ºé˜¿é‡Œaptæºï¼Œå¹¶æ›´æ–°ç³»ç»Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;nano /etc/apt/sources.list
   #  å°†åŸæ¥çš„deb.......å’Œdeb-src......ä¸¤è¡Œæ³¨é‡Šæ‰
   # æˆ–è€…ç›´æ¥åœ¨è¿™ä¸¤è¡Œä¿®æ”¹
    deb http://mirrors.aliyun.com/raspbian/raspbian/ jessie main contrib non-free rpi
    deb-src http://mirrors.aliyun.com/raspbian/raspbian/ jessie main contrib non-free rpi
    ctrl+o--&amp;gt;enter--&amp;gt;ctrl+x
apt-get update
apt-get upgrade -y
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;å®‰è£…rdpdæœåŠ¡ï¼Œä½¿ç”¨windowsè‡ªå¸¦è¿œç¨‹æ¡Œé¢è¿›è¡Œè¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;apt-get install xrdp
apt-get install tightvncserver
systemctl enable xrdp
systemctl start xrdp
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;æ­¤æ—¶å¯ä»¥ç›´æ¥ä½¿ç”¨win10è‡ªå¸¦è¿œç¨‹è¿æ¥æ ‘è“æ´¾&lt;/code&gt;&lt;/p&gt;
">æ ‘è“æ´¾å¼€å‘GPIOï¼ˆåŸºäºå®˜æ–¹ç³»ç»Ÿï¼‰ï¼ˆå¾…è¡¥å…….......ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/17-jiao-huan-ji-chan-pin-xian-20200405/"" data-c="
          &lt;h1 id=&#34;äº§å“é€‰å‹&#34;&gt;äº§å“é€‰å‹&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;å›­åŒºç½‘ï¼ˆä¼ä¸šç½‘ï¼‰äº§å“&lt;br&gt;
äº¤æ¢æœºã€è·¯ç”±å™¨ã€é˜²ç«å¢™ã€æ— çº¿&lt;/li&gt;
&lt;li&gt;DCï¼ˆæ•°æ®ä¸­å¿ƒï¼‰äº§å“&lt;br&gt;
äº¤æ¢æœº&lt;/li&gt;
&lt;li&gt;SPï¼ˆè¿è¥å•†ï¼‰äº§å“&lt;br&gt;
äº¤æ¢æœºã€è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;å…¶ä»–&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;æ€ç§‘&#34;&gt;æ€ç§‘&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»1&lt;br&gt;
Catalystç³»åˆ—9000äº¤æ¢æœºï¼ˆ9200/9300/9400/9500ï¼‰&lt;br&gt;
IOS XEç³»ç»Ÿ&lt;br&gt;
Gï¼šåƒå…†äº¤æ¢æœº&lt;br&gt;
TTï¼šåƒå…†ä¸Šè¿ç«¯å£æ˜¯Rj45&lt;br&gt;
TCï¼šåƒå…†ä¸Šè¿ç«¯å£æ˜¯ä¸¤ç”¨çš„ï¼Œå¯ä»¥Rj45ï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä¸ŠåŠ æ¨¡å—&lt;br&gt;
TSï¼šæœ‰åƒå…†æ‰©å±•å¡æ§½&lt;br&gt;
Tï¼šæ²¡æœ‰åƒå…†æ‰©å±•å¡æ§½&lt;br&gt;
Eï¼šå¢å¼ºå‹çš„ä¸‰å±‚&lt;br&gt;
Sï¼šæ ‡å‡†çš„ä¸‰å±‚&lt;br&gt;
DCï¼šç›´æµç”µæºä¾›ç”µ&lt;br&gt;
Lï¼šLAN Base Image&lt;/li&gt;
&lt;li&gt;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»2&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586017762654.png&#34; alt=&#34;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»2&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»3&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586017911178.png&#34; alt=&#34;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»3&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»4&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586017994088.png&#34; alt=&#34;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»4&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»5&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586017998430.png&#34; alt=&#34;æ€ç§‘ä¼ä¸šç½‘äº¤æ¢æœºç”Ÿæ€ä½“ç³»5&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;åä¸º&#34;&gt;åä¸º&lt;/h1&gt;
&lt;p&gt;äº¤æ¢æœºç³»åˆ—ä»‹ç»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586070690284.png&#34; alt=&#34;äº¤æ¢æœºç³»åˆ—ä»‹ç»&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h1 id=&#34;æ€ç§‘åä¸ºäº§å“çº¿å¯¹æ¯”&#34;&gt;æ€ç§‘åä¸ºäº§å“çº¿å¯¹æ¯”&lt;/h1&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586071315883.png&#34; alt=&#34;æ€ç§‘åä¸ºäº§å“çº¿å¯¹æ¯”&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h1 id=&#34;sdn&#34;&gt;SDN&lt;/h1&gt;
&lt;h2 id=&#34;å†å²&#34;&gt;å†å²&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;2006ï¼ŒOpenFlowæ¦‚å¿µï¼ŒåŸºäºæ­¤ç»™ç½‘ç»œå¸¦æ¥å¯ç¼–ç¨‹çš„ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;2008ï¼ŒSDN&lt;/li&gt;
&lt;li&gt;2011ï¼ŒONFç»„ç»‡æˆç«‹&lt;/li&gt;
&lt;li&gt;2012ï¼Œvmvareæ”¶è´­Niciraï¼Œå®£å¸ƒSDNçš„å•†ç”¨æ–¹æ¡ˆæ­£å¼è¿›å†›æ•°æ®ä¸­å¿ƒç½‘ç»œ&lt;/li&gt;
&lt;li&gt;2013ï¼ŒOpenDaylighté¡¹ç›®ä½œä¸ºLinuxåŸºé‡‘ä¼šé¡¹ç›®æˆç«‹ï¼Œè°·æ­Œå‘å¸ƒäº†åŸºäºSDNçš„å¹¿åŸŸç½‘è§£å†³æ–¹æ¡ˆB4&lt;/li&gt;
&lt;li&gt;2014ï¼Œæ€ç§‘éƒ¨åˆ†å¼€æºACIçš„å—å‘åè®®OpFlex&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;sdnç›¸å…³æ ‡å‡†ç»„ç»‡&#34;&gt;SDNç›¸å…³æ ‡å‡†ç»„ç»‡&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç™½ç›’æœºæ„ï¼ŒONFå³å¼€æ”¾ç»„ç»‡åŸºé‡‘ä¼š&lt;/li&gt;
&lt;li&gt;IETFäº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„&lt;/li&gt;
&lt;li&gt;OpenDaylightï¼Œæ˜¯LinuxåŸºé‡‘ä¼šè´Ÿè´£ç®¡ç†çš„å¼€æºé¡¹ç›®&lt;/li&gt;
&lt;li&gt;ITU-Tå’ŒETSIæ¬§æ´²ç”µä¿¡æ ‡å‡†åä¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;sdné©±åŠ¨åŠ›&#34;&gt;SDNé©±åŠ¨åŠ›&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é€‚åº”è™šæ‹ŸåŒ–æŠ€æœ¯&lt;/li&gt;
&lt;li&gt;å¼€æ”¾å¼æ¡†æ¶&lt;/li&gt;
&lt;li&gt;å¯ç¼–ç¨‹çš„ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨éƒ¨ç½²å’Œè¿ç»´&lt;/li&gt;
&lt;li&gt;å…³é”®ç›Šå¤„ï¼šé¢å‘ä¸šåŠ¡ã€å¯å®šåˆ¶ã€æ›´æ•æ·ã€æ›´ç®€å•&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;sd-wané­”åŠ›è±¡é™&#34;&gt;SD-WANé­”åŠ›è±¡é™&lt;/h2&gt;
&lt;p&gt;Leadersï¼šVMwareã€Ciscoã€Silver Peak&lt;/p&gt;
&lt;h2 id=&#34;ä¼ä¸šç½‘å’Œæ•°æ®ä¸­å¿ƒç½‘ç»œéœ€æ±‚&#34;&gt;ä¼ä¸šç½‘å’Œæ•°æ®ä¸­å¿ƒç½‘ç»œéœ€æ±‚&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586076991444.png&#34; alt=&#34;ä¼ä¸šç½‘å’Œæ•°æ®ä¸­å¿ƒç½‘ç»œéœ€æ±‚&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;æ ¸å¿ƒæŠ€æœ¯&#34;&gt;æ ¸å¿ƒæŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;é€šè¿‡å°†ç½‘ç»œè®¾å¤‡æ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢åˆ†ç¦»å¼€æ¥ï¼Œä»è€Œå®ç°äº†ç½‘ç»œæµé‡çš„çµæ´»æ§åˆ¶ï¼Œä¸ºæ ¸å¿ƒç½‘ç»œå’Œåº”ç”¨çš„åˆ›æ–°æä¾›è‰¯å¥½çš„å¹³å°&lt;/p&gt;
&lt;h2 id=&#34;ä¸»è¦æŠ€æœ¯è·¯çº¿&#34;&gt;ä¸»è¦æŠ€æœ¯è·¯çº¿&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586078061693.png&#34; alt=&#34;ä¸»è¦æŠ€æœ¯è·¯çº¿&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;ä¸åŒçº¿è·¯çš„sdn&#34;&gt;ä¸åŒçº¿è·¯çš„SDN&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1586079770686.png&#34; alt=&#34;ä¸åŒçº¿è·¯çš„SDN&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">17 äº¤æ¢æœºäº§å“çº¿ï¼ˆ2020.0405ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/16-acl-de-ying-yong-he-nat-ji-zhu/"" data-c="
          &lt;ol&gt;
&lt;li&gt;ACLè®¿é—®æ§åˆ¶åˆ—è¡¨&lt;br&gt;
1.1 ACLæ¦‚è¿°&lt;br&gt;
è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼Œå®šä¹‰ä¸€ç³»åˆ—è§„åˆ™ï¼Œæ¶‰ç¬”æ ¹æ®è¿™äº›è§„åˆ™å¯¹æ•°æ®åŒ…è¿›è¡Œåˆ†ç±»å¤„ç†ï¼Œä¸€ç§å¤è€çš„é˜²ç«å¢™ï¼Œåªæœ‰ä¸¤ç§åŠ¨ä½œï¼š&lt;strong&gt;ä¸¢å¼ƒæˆ–å…è®¸é€šè¿‡&lt;/strong&gt;&lt;br&gt;
AClåº”ç”¨äºæ¥å£ä¸Šï¼Œå¯¹æ¯ä¸ªæ¥å£çš„å‡ºå…¥åŒå‘åˆ†åˆ«è¿‡æ»¤ï¼Œä»…å½“æ•°æ®åŒ…ç»è¿‡/åˆ°è¾¾ä¸€ä¸ªæ¥å£æ—¶æ‰èƒ½è¢«æ­¤æ¥å£çš„æ­¤æ–¹å‘çš„ACLè¿‡æ»¤ã€‚&lt;br&gt;
&lt;code&gt;ACLè§„åˆ™é…ç½®çš„åºå·ä¸€èˆ¬è¦ç©ºå‡ ä¸ªï¼Œé˜²æ­¢ä¹‹åéœ€è¦åœ¨ä¸­é—´æ’å…¥è§„åˆ™ï¼Œåºå·ä¸€èˆ¬ä¸º5çš„å€æ•°ï¼Œ5ã€10ã€15......&lt;/code&gt;&lt;br&gt;
1.2 é€šé…ç¬¦æ©ç ï¼ˆä¸æ˜¯åæ©ç ï¼‰&lt;br&gt;
å’ŒIPåœ°å€ç»“åˆä½¿ç”¨ï¼Œç”¨æ¥æè¿°ä¸€ä¸ªåœ°å€èŒƒå›´ã€‚é€šé…ç¬¦æ©ç å’Œå­ç½‘æ©ç ç›¸ä¼¼ï¼Œä½†æ˜¯å«ä¹‰ä¸åŒã€‚0è¡¨ç¤ºå¯¹åº”ä½éœ€è¦æ¯”è¾ƒï¼ˆå³ç½‘ç»œä½ï¼Œä¸èƒ½æ”¹å˜ï¼‰ï¼Œ1è¡¨ç¤ºå¯¹åº”ä½ä¸è¿›è¡Œæ¯”è¾ƒï¼ˆå³ä¸»æœºä½ï¼Œå¯ä»¥éšæ„æ”¹å˜ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585840791827.png&#34; alt=&#34;é€šé…ç¬¦æ©ç &#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.3 ACLçš„åˆ†ç±»&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585842002363.png&#34; alt=&#34;ACLçš„åˆ†ç±»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.4 å·¥ä½œæµç¨‹å’Œè®¾ç½®è¦æ±‚&lt;br&gt;
é€æ¡åŒ¹é…ï¼Œå‘½ä¸­åˆ™å¤„ç†ï¼Œå¦‚æœæœªå‘½ä¸­ï¼Œåˆ™åŒ¹é…æœ€åä¸€æ¡è§„åˆ™ï¼ˆé»˜è®¤è§„åˆ™ï¼‰ã€‚&lt;br&gt;
åŒ¹é…é¡ºåºå°±æ˜¯ACLä¸­è§„åˆ™çš„ä¼˜å…ˆçº§ï¼Œ&lt;strong&gt;è¶Šç²¾å‡†&lt;/strong&gt;çš„æµé‡å’ŒèŒƒå›´åº”è¯¥é…ç½®&lt;strong&gt;æ›´å°çš„åºå·/è§„åˆ™&lt;/strong&gt;ã€‚&lt;br&gt;
å°½å¯èƒ½åœ¨&lt;strong&gt;é è¿‘æ•°æ®æº&lt;/strong&gt;çš„è·¯ç”±å™¨æ¥å£ä¸Šé…ç½®AClï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„é™†è‰¯è½¬å‘/è®¾å¤‡å¤„ç†ã€‚&lt;strong&gt;é«˜çº§ACl&lt;/strong&gt;ï¼šåº”è¯¥åœ¨é è¿‘è¢«è¿‡æ»¤çš„æ¥å£ä¸Šåº”ç”¨AClï¼Œå°½æ—©é˜»æ­¢ä¸å¿…è¦çš„æµé‡è¿›å…¥ç½‘ç»œï¼›&lt;strong&gt;åŸºæœ¬ACL&lt;/strong&gt;ï¼šè¿‡äºé è¿‘è¢«è¿‡æ»¤æºçš„åŸºæœ¬ACLå¯èƒ½é˜»æ­¢è¯¥æºè®¿é—®åˆæ³•ç›®çš„ï¼Œåº”è¯¥åœ¨ä¸å½±å“å…¶å…¶ä»–åˆæ³•è®¿é—®çš„å‰æä¸‹ï¼Œå°½å¯èƒ½ä½¿AClé è¿‘è¢«è¿‡æ»¤çš„æºã€‚&lt;br&gt;
&lt;code&gt;æ€ç§‘ï¼šé»˜è®¤æœ€åä¸€æ¡éšè—è§„åˆ™ä¸ºdeny,å› æ­¤åœ¨é…ç½®æ€ç§‘è®¾å¤‡ä¹‹åï¼Œè¦ä¿è¯å…¶ä»–æµé‡èƒ½æ­£å¸¸é€šè¿‡ï¼Œéœ€è¦åœ¨é…ç½®å®Œæœ€åä¸€æ¡è§„åˆ™ä¹‹åå†è¿½åŠ ä¸€æ¡ï¼šxx permit anyã€‚&lt;/code&gt;&lt;br&gt;
&lt;code&gt;åä¸ºï¼šåº”ç”¨åœ¨æ¥å£ä¸‹ï¼Œé»˜è®¤æœ€åä¸€æ¡éšè—è§„åˆ™ä¸ºpermitï¼›åº”ç”¨åœ¨ç”¨æˆ·è§†å›¾ä¸‹ï¼ˆtelnet\sshç­‰ï¼‰ï¼Œé»˜è®¤æœ€åä¸€æ¡è§„åˆ™ä¸ºdenyã€‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;NATç½‘ç»œåœ°å€è½¬æ¢&lt;br&gt;
NATæä¾›ç§æœ‰åœ°å€åˆ°å…¬æœ‰åœ°å€çš„è½¬æ¢ï¼Œéšè—å†…éƒ¨åœ°å€ï¼ˆå®‰å…¨ï¼‰ï¼Œä¸€èˆ¬éƒ¨ç½²åœ¨è¿æ¥å†…ç½‘å’Œå¤–ç½‘çš„ç½‘å…³è®¾å¤‡ä¸Šã€‚&lt;br&gt;
2.1 &lt;strong&gt;å¸¸è§NATåˆ†ç±»&lt;/strong&gt;ï¼š&lt;br&gt;
a. é™æ€NATï¼ˆIP--IPï¼Œ1å¯¹1ï¼ŒåŸºæœ¬ä¸ç”¨ï¼‰,&lt;br&gt;
b. åŠ¨æ€NATï¼ˆIP--IPï¼Œå¤šå¯¹å¤šï¼Œå³å¤šä¸ªéå›ºå®šçš„é™æ€NATï¼ŒåŸºæœ¬ä¸ç”¨ï¼‰ï¼›&lt;br&gt;
c. æ€ç§‘PATç«¯å£åœ°å€è½¬æ¢&lt;strong&gt;OR&lt;/strong&gt;åä¸ºEasyIPï¼ˆIP:port--IP:portï¼Œ1å¯¹å¤šï¼Œå¸¸ç”¨ï¼‰&lt;br&gt;
d. NetServerï¼ˆNATæœåŠ¡å™¨ï¼ŒNAPTï¼Œç½‘ç»œåœ°å€ç«¯å£è½¬æ¢ï¼‰==æ€ç§‘é™æ€ç«¯å£è½¬æ¢ï¼ˆIP:port--IP:portï¼Œ1å¯¹å¤šï¼Œå¸¸ç”¨ï¼‰&lt;br&gt;
2.2 Easy IP&lt;br&gt;
NATè®¾å¤‡ç›´æ¥ä½¿ç”¨å‡ºæ¥å£çš„IPåœ°å€ä½œä¸ºè½¬æ¢åçš„åŸåœ°å€ï¼Œä¸éœ€è¦é¢„å…ˆé…ç½®åœ°å€æ± ï¼Œé€‚ç”¨äºæ‹¨å·æ¥å…¥Internetæˆ–è€…åŠ¨æ€è·å–IPåœ°å€çš„åœºåˆã€‚&lt;br&gt;
&lt;strong&gt;EasyIPå…è®¸å°†å¤šä¸ªå†…éƒ¨åœ°å€æ˜ å°„åˆ°ç½‘å…³å‡ºæ¥å£åœ°å€ä¸Šçš„ä¸åŒç«¯å£ã€‚&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;å®æ–½æ­¥éª¤&lt;/strong&gt;ï¼šå®šä¹‰ä¸€ä¸ªaclï¼Œä½œç”¨æ˜¯å®šä¹‰å“ªäº›ä¸»æœºå¯ä»¥è¢«è½¬æ¢ï¼Œåªæœ‰è¢«è½¬æ¢çš„ä¸»æœºæ‰å¯ä»¥è®¿é—®äº’è”ç½‘ï¼Œä¸è¢«å®šä¹‰çš„ä¸èƒ½è®¿é—®ï¼Œ ç„¶ååœ¨å‡ºæ¥å£ï¼ˆè¿æ¥å¤–ç½‘çš„æ¥å£ï¼‰åº”ç”¨EasyIPï¼Œå°†å‡ºæ¥å£çš„IPåœ°å€ä½œä¸ºè½¬æ¢åçš„æºåœ°å€ã€‚&lt;br&gt;
ä½œç”¨ï¼šå…¬ç½‘åœ°å€å’Œç«¯å£çš„å¤ç”¨&lt;br&gt;
&lt;code&gt;ä»insideåˆ°outsideï¼Œå¿…é¡»å…ˆè·¯ç”±å†NATï¼Œå­˜åœ¨å¯¹åº”çš„è·¯ç”±è¡¨æ˜¯å‰æï¼Œå¦‚æœæ²¡æœ‰è·¯ç”±è¡¨ï¼Œæ— æ³•è¾¾åˆ°ç›¸åº”ç›®çš„åœ°å€&lt;/code&gt;&lt;br&gt;
2.3 NATæœåŠ¡å™¨&lt;br&gt;
ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPTå…è®¸å¤šä¸ªå†…éƒ¨åœ°å€æ˜ å°„åˆ°åŒä¸€ä¸ªå…¬æœ‰åœ°å€çš„ä¸åŒç«¯å£ï¼ˆåŸºäºç«¯å£çš„è½¬æ¢ï¼‰ï¼Œå±äºå¤šå¯¹ä¸€çš„åœ°å€è½¬æ¢ã€‚&lt;br&gt;
å…è®¸æœåŠ¡å™¨æ—¢èƒ½è¢«å†…éƒ¨è®¿é—®ï¼Œä¹Ÿèƒ½è¢«å¤–éƒ¨è®¿é—®ã€‚&lt;br&gt;
è½¬æ¢æŸä¸ªç‰¹å®šçš„åè®®æˆ–è€…ç«¯å£ï¼Œç”¨äºæŠŠæœåŠ¡å™¨æä¾›çš„æœåŠ¡æ˜ å°„åˆ°å…¬ç½‘ã€‚&lt;/li&gt;
&lt;li&gt;OSPFé™æ€é»˜è®¤è·¯ç”±ä¸‹æ”¾&lt;br&gt;
&lt;strong&gt;åä¸º:&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ospf 10&lt;/code&gt;&lt;br&gt;
&lt;code&gt;default-route-advertise [always]&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;æ€ç§‘:&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;router ospf 110&lt;/code&gt;&lt;br&gt;
&lt;code&gt;default-information originate [always]&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;å¸¦ä¸å¸¦alwaysçš„åŒºåˆ«:&lt;/strong&gt;&lt;br&gt;
ä¸å¸¦alwaysï¼ˆå¸¸ç”¨ï¼Œé˜²æ­¢æµªè´¹R1çš„å¸¦å®½ï¼‰ï¼Œåˆ™R1ä¸Šçš„é»˜è®¤é™æ€è·¯ç”±åˆ é™¤ä¹‹åï¼Œä¸‹é¢çš„äº¤æ¢æœºçš„é»˜è®¤é™æ€è·¯ç”±ä¹Ÿåˆ é™¤ï¼›&lt;br&gt;
å¸¦alwaysï¼Œåˆ™R1ä¸Šçš„é»˜è®¤è·¯ç”±åˆ é™¤ä¹‹åï¼Œä¸‹é¢çš„äº¤æ¢æœºçš„é»˜è®¤è·¯ç”±ä¸åˆ é™¤&lt;/li&gt;
&lt;li&gt;QosåŸºç¡€&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹å…³é”®ä¸šåŠ¡ä½œå‡ºä¿è¯ï¼Œå¯¹éé‡è¦æµé‡æˆ–è€…æ¶æ„æµé‡è¿›è¡Œç›‘ç®¡ï¼Œå¸¦å®½å’Œæ—¶å»¶æ˜¯é‡è¦çš„å“è´¨å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;QoSçš„5å¤§ä»»åŠ¡ï¼šåˆ†ç±»æ ‡è®°ã€æ‹¥å¡é¿å…ã€æ‹¥å¡ç®¡ç†ã€&lt;strong&gt;é™é€Ÿ&lt;/strong&gt;å’Œé“¾è·¯æ•ˆç‡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.......................................æ¥å£ä¸Šé…ç½®åŸºæœ¬ACL
# ç¦æ­¢pc1æ‰€åœ¨ç½‘æ®µå’Œpc2è®¿é—®AR1ä¸Šçš„11.11.11.11
# ç¦æ­¢pc1æ‰€åœ¨ç½‘æ®µå’Œpc2è®¿é—®AS2è‡ªæ²»åŸŸ
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# R1
ip access-list standard 1  # è¿›å…¥æ ‡å‡†è§„åˆ™1è§†å›¾
5 deny 10.1.10.1 0.0.0.15 # åºå·5ï¼šæ‹’ç»IP10.1.10.1/28
10 deny host 10.1.10.17
15 permit any  # å…è®¸å…¶ä»–æµé‡ï¼ŒåŒ…å«ospfç­‰è·¯ç”±åè®®
int e0/1
ip access-group 1 in  # åœ¨å…¥æ–¹å‘ä¸Šåº”ç”¨è§„åˆ™1
int tunnel 0
ip access-group 1 out # é’ˆå¯¹å»å¾€AS2çš„æµé‡
# éªŒè¯
# R1
show access-list  #æŸ¥çœ‹è§„åˆ™
# pc1
ping 11.11.11.11
ping 10.1.20.1


# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R1
acl 2000
rule 5 deny source 10.1.10.0 0.0.0.15
rule 10 deny source 10.1.10.17 0
int g0/0/1
traffic-filter inbound acl 2000
int tunnel 0/0/0
traffic-filter outbound acl 2000
# æµ‹è¯•
# pc1
ping 11.11.11.11
ping 10.1.20.1
# pc2 
ping 11.11.11.11
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.......................................æ¥å£ä¸Šé…ç½®é«˜çº§ACL
# ç¦æ­¢pc1è®¿é—®client1
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R1
undo acl 200  # åˆ é™¤ä¹‹å‰çš„è§„åˆ™ï¼Œå¹¶åœ¨pc1å’Œpc2ä¸Šè¿›è¡Œpingæµ‹è¯•
int g0/0/1 
undo traffic-filter inbound
int tunnel 0/0/0
undo traffic-filter outbound
acl 3000    # é…ç½®é«˜çº§è§„åˆ™
rule deny ip source 10.1.10.1 0 destination 10.1.20.1 0
int g0/0/1
traffic-filter inbound acl 3000
# æµ‹è¯•
# pc1
ping 10.1.20.1 # ä¸é€š
ping 10.1.30.1 # é€š
# pc2
ping 10.1.20.1 # é€š
ping 10.1.30.1 # é€š

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# ç¦æ­¢pc2ä¸»æœºpingR1å’ŒAS2
ip accell-list extended 100
5 deny icmp 10.1.10.17 0.0.0.0 any
10 permit ip any any
int e0/1
ip access-group 1 in
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ...................................ACLåœ¨VTYä¸‹çš„åº”ç”¨ï¼ˆåªå…è®¸ç‰¹å®šçš„äººå‘˜è¿œç¨‹ç®¡ç†è®¾å¤‡ï¼‰
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# åªå…è®¸sw2ä½¿ç”¨telnetè¿œç¨‹R1
# R1
acl 2000
rule permint source 10.1.12.2 0
user-interface vty 0 4
acl 2000 inbound
# æµ‹è¯•
# sw1
telnet 10.1.12.1  # å¯ä»¥
# sw2
telnet 10.1.11.1   # ä¸å¯ä»¥
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®æ–½æœ¬å®éªŒä¹‹å‰åˆ é™¤æ‰€æœ‰çš„ACLé…ç½®
# .....................................åä¸ºEasyIPå®æ–½
# ä½¿å¾—pc1å’Œpc2æ‰€åœ¨ç½‘æ®µè®¿é—®8.8.8.8
# R1
acl 2000
rule permit source 10.1.10.0 0.0.0.15
rule permit source 10.1.10.16 0.0.0.15
int g0/0/0
nat outbound 2000  # EasyIP è™½ç„¶é…ç½®å®Œæ¯•ï¼Œä½†æ˜¯æ— æ³•pingé€šï¼ŒåŸå› ä¸ºsw1ä¸Šæ²¡æœ‰8.8.8.8çš„è·¯ç”±
# sw1
# ip route-static 0.0.0.0 0 10.1.11.1  # è®¾ç½®sw1çš„é»˜è®¤é™æ€è·¯ç”±ï¼ˆR1ä¸‹é¢äº¤æ¢æœºæ¯”è¾ƒå°‘ï¼‰
# æˆ–è€…åœ¨R1ä¸ŠOSPFä¸‹æ”¾é»˜è®¤è·¯ç”±ï¼ˆé€‚åˆR1ä¸‹é¢æœ‰å¤šå°äº¤æ¢æœºçš„æƒ…å†µï¼‰
# R1
ospf 10
default-route-advertise
# æµ‹è¯•
# R1
dis nat outbound
dis nat session all
# pc1å’Œpc2
ping 8.8.8.8


# .....................................æ€ç§‘å®æ–½PAT
int e0/0
ip nat outside #å®šä¹‰è¯¥æ¥å£ä¸ºå¤–éƒ¨æ¥å£
int e0/1
ip nat inside
int e0/2
ip nat inside
exit
ip access-list standard 2
5 permit  10.1.10.0 0.0.0.15
10 permit  10.1.10.16 0.0.0.15
exit
ip nat inside source list 2 interface e0/0 overload
router ospf 110
default-information originate
# æµ‹è¯•
# R1
show access-lists
show ip nat translations
# pc1å’Œpc2
ping 8.8.8.8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åä¸ºEasyIPæŠ“åŒ…æŸ¥çœ‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1586008492804.png&#34; alt=&#34;åä¸ºEasyIP&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ...................................åä¸ºNAPTï¼ˆNATæœåŠ¡å™¨ï¼ŒNatServerï¼‰å®æ–½
# ä½¿R3èƒ½å¤Ÿtelnetè¿æ¥sw1
# sw1ï¼Œå¼€å¯telnet
user-interface vty 0 4
set authenticatopn password cipher hcia
user privilege level 15
# R1
int g0/0/0
nat server protocol tcp global current-interface 23  inside 10.1.11.2 23  # æˆ–è€…nat server protocol tcp global current-interface telnet  inside 10.1.11.2 23
# æµ‹è¯•
# R3
telnet 202.100.1.1


# ........................................æ€ç§‘é™æ€NATç«¯å£è½¬æ¢å®æ–½
# sw1
line vty 0 4 
password hcia
login
transport input telnet
exit
enable password hcia
# R1
ip nat inside source static tcp 10.1.11.2 23 202.100.1.1 2323
# æµ‹è¯•
# R3
telnet 202.100.1.1 2323
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ..............................................åŸºæœ¬çš„ç›‘ç®¡é™é€Ÿ
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
#R1
access-list 100 permit ip host 10.1.10.1 any    # pc1åˆ°ä»»æ„è®¾å¤‡çš„æµé‡
class-map match-all C1 
match access-group 100 # æµåˆ†ç±»å·¥ä½œå‘½ä¸­ACL100çš„æµé‡
policy-map P1 
class C1 
police cir 8000 # å®šä¹‰ç›‘ç®¡æœºåˆ¶ï¼Œå³æœŸæœ›çš„å¸¦å®½ï¼Œæ­¤å¤„é‡‡ç”¨æœ€å°çš„å¸¦å®½8000bpsï¼Œå³8kbps
int e0/1
ip address 10.1.11.1 255.255.255.248
service-policy input P1 # ç›‘ç®¡ç”¨åœ¨å…¥æ–¹å‘
# æµ‹è¯•
#R1
show policy-map int e0/1
# pc1
ping 11.11.11.11 size 1000


# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R1
acl name QoS 3998
rule 10 permit ip source 10.1.10.16 0.0.0.15 
q
traffic classifier C1 operator or 
if-match acl Qos
q
traffic behavior Police 
car cir 8 cbs 1504 pbs 2504 green pass yellow pass red discard # å®šä¹‰æœŸæœ›å¸¦å®½ä¸º8k,å…¶ä»–çš„å‚æ•°è‡ªåŠ¨è®¡ç®—
statistic enable # å¼€å¯çŠ¶æ€ç›‘æµ‹ï¼Œä¾¿äºæ£€æŸ¥
q
traffic policy Police 
classifier C1 behavior Police  
int g0/0/1
traffic-policy Police inbound
# æµ‹è¯•
#R1
dis traffic policy statistics int g0/0/1 inbound
# sw1
ping -s 1000 -a 10.1.10.30 11.11.11.11
&lt;/code&gt;&lt;/pre&gt;
">16 ACLçš„åº”ç”¨å’ŒNATæŠ€æœ¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/15-bgp-he-gre/"" data-c="
          &lt;ol&gt;
&lt;li&gt;GREéš§é“&lt;br&gt;
GREï¼ˆé€šç”¨è·¯ç”±å°è£…ï¼‰éš§é“ï¼ŒIPåè®®47ï¼Œä¹Ÿæ˜¯ä¸€ç§VPNï¼Œä½†é»˜è®¤ä¸æä¾›åŠ å¯†ï¼Œå…è®¸è·¯ç”±åè®®åœ¨éš§é“ä¸Šè¿è¡Œã€‚&lt;br&gt;
å®æ–½å‰æï¼šä¸¤ç«¯èƒ½å¤Ÿç›¸äº’é€šä¿¡&lt;/li&gt;
&lt;li&gt;BGP&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;BGPè¾¹ç•Œç½‘å…³åè®®ï¼Œåœ¨ASé—´æä¾›æ— ç¯è·¯çš„è·¯ç”±ä¿¡æ¯äº¤æ¢ï¼ŒBGPç€é‡äº&lt;strong&gt;æ§åˆ¶è·¯ç”±çš„ä¼ æ’­å’Œé€‰æ‹©æœ€ä¼˜çš„è·¯ç”±ï¼ˆ13ç§é€‰æ‹©æ–¹å¼ï¼‰&lt;/strong&gt;ï¼Œäº’è”ç½‘çš„åŸºçŸ³&lt;/li&gt;
&lt;li&gt;åº”ç”¨å±‚åè®®ï¼ŒTCPçš„179ç«¯å£ï¼Œå•æ’­ä¼ è¾“è·¯ç”±&lt;/li&gt;
&lt;li&gt;åˆ†ç±»ï¼šæŒ‰ç…§è¿è¡Œæ–¹å¼åˆ†ä¸ºeBGPï¼ˆExternal/Exterior BGPï¼‰å’ŒiBGPï¼ˆInternal/Interior BGPï¼‰ï¼Œå³&lt;strong&gt;ä¸¤ç§é‚»å±…å…³ç³»&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;eBGP&lt;/strong&gt;ï¼šè¿è¡Œäºä¸åŒASä¹‹é—´çš„BGPç§°ä¸ºeBGPï¼Œä¸ºäº†é˜²æ­¢ASé—´äº§ç”Ÿç¯è·¯ï¼Œå½“BGPè®¾å¤‡æ¥æ”¶eBGPå¯¹ç­‰ä½“å‘é€çš„è·¯ç”±æ—¶ï¼Œä¼šå°†å¸¦æœ‰æœ¬åœ°ASå·çš„è·¯ç”±ä¸¢å¼ƒã€‚&lt;br&gt;
&lt;strong&gt;iBGP&lt;/strong&gt;ï¼šè¿è¡ŒäºåŒä¸€ASå†…éƒ¨çš„BGPç§°ä¸ºiBGPï¼Œä¸ºäº†é˜²æ­¢ASå†…äº§ç”Ÿç¯è·¯ï¼ŒBGPè®¾å¤‡ä¸å°†ä»iBGPå¯¹ç­‰ä½“å­¦åˆ°çš„è·¯ç”±é€šå‘Šç»™å…¶ä»–iBGPå¯¹ç­‰ä½“ï¼Œå¹¶ä¸æ‰€æœ‰iBGPå¯¹ç­‰ä½“å»ºç«‹å…¨è¿æ¥ï¼Œä¸ºäº†è§£å†³iBGPå¯¹ç­‰ä½“çš„è¿æ¥æ•°é‡å¤ªå¤šçš„é—®é¢˜ï¼ŒBGPè®¾è®¡äº†è·¯ç”±åå°„å™¨å’ŒBGPè”ç›Ÿã€‚&lt;br&gt;
&lt;a href=&#34;https://blog.csdn.net/qq_38265137/article/details/80439561&#34;&gt;å‚è€ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;è·¯ç”±äº§ç”Ÿä¸¤ç§æ–¹å¼ï¼š
&lt;ul&gt;
&lt;li&gt;networkå®£å‘Šï¼šèµ·æºä¸ºiï¼Œæ‰‹åŠ¨å®£å‘ŠæŸäº›ç½‘æ®µï¼Œé€‚åˆç½‘æ®µæ¯”è¾ƒå°‘çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;importè·¯ç”±å¼•å…¥ï¼ˆåä¸ºï¼‰\redistributeé‡æ–°åˆ†é…ï¼ˆæ€ç§‘ï¼‰ï¼šèµ·æºä¸º?(incomplete,ä¸å®Œæ•´çš„)ï¼Œå³ä»åˆ«çš„åè®®ä¸­å¼•å…¥çš„è·¯ç”±ï¼Œé€‚åˆç½‘æ®µæ¯”è¾ƒå¤šçš„æƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;BGPè·¯ç”±äº§ç”Ÿçš„æ¡ä»¶ï¼šå¿…é¡»ä¸ºè·¯ç”±è¡¨ä¸­çœŸå®å­˜åœ¨çš„ç½‘æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#................................GREçš„å®æ–½ï¼ˆR1è‡³R3ä¹‹é—´ï¼‰
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# ä¿è¯R1è‡³R3é€šä¿¡
# R3
int g0/0/1
ip addr 202.100.1.5 30
ip route-static 0.0.0.0 0 202.100.1.6  # R1çš„é™æ€é»˜è®¤è·¯ç”±å·²ç»åœ¨ä¹‹å‰çš„å®éªŒä¸­é…ç½®è¿‡
# R2
int g0/0/1
ip addr 202.100.1.6 30
# GREçš„éš§é“å»ºç«‹
# R1
int tunnel 0/0/0
tunnel-protocol gre
source 202.100.1.1
destination 202.100.1.5
ip address 13.1.1.1 30  # éš§é“åœ°å€
# R3
int tunnel 0/0/0
tunnel-protocol gre
source 202.100.1.5
destination 202.100.1.1
ip address 13.1.1.2 30
# æµ‹è¯•
# R3
ping 13.1.1.1  # pingçš„åŒæ—¶æŠ“åŒ…

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# R3
int e0/1
ip addr 202.100.1.5 30
ip route 0.0.0.0 0 202.100.1.6
# R2
int e0/1
ip addr 202.100.1.6 30
# R1
int tunnel 0
tunnel source 202.100.1.1
tunnel destination 202.100.1.5
ip addr 13.1.1.1 30
# R3
int tunnel 0
tunnel source 202.100.1.5
tunnel destination 202.100.1.1
ip addr 13.1.1.2 30
# æµ‹è¯•
# R3
ping 13.1.1.1
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#................................eBGPçš„å®æ–½ï¼ˆAR1å’ŒAR3ä¹‹é—´å»ºç«‹é‚»å±…ï¼‰
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R1
bgp 1  #  1ä¸ºæœ¬åœ°ASå·ç 
router-id 1.1.1.1   #  è·¯ç”±å™¨æ ‡è¯†ç¬¦routerid
peer 13.1.1.2 as-number 2  # è¿œç«¯çš„é‚»å±…IPå’ŒASå·
import-route ospf 10 # å¼•å…¥ospfçš„è·¯ç”±ï¼Œ10ä¸ºospfçš„è¿›ç¨‹å·
# R3
bgp 2
router-id 2.2.2.2
peer 13.1.1.1 as-number 1
network 10.1.20.0 27  # networkå®£å‘Šè·¯ç”±
network 10.1.30.0 27
# éªŒè¯
# sw1/sw2
dis bgp peer  # æŸ¥çœ‹é‚»å±…
dis bgp rou  # æŸ¥çœ‹è·¯ç”±
dis ip rou pro bgp
#&amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;æ­¤æ—¶AS1å’ŒAS2ä¸­çš„PCè¿˜æ— æ³•é€šä¿¡ï¼Œä¸»è¦æ˜¯sw2å’Œsw3ä¸Šæ— è·¯ç”±ï¼Œæ­¤æ—¶éœ€è¦å®æ–½åŒå‘é‡åˆ†å¸ƒ&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
# R1
ospf 10
import-route bgp
#æ­¤æ—¶ä¸¤ä¸ªè‡ªæ²»åŸŸå¯ä»¥å®ç°é€šä¿¡
# pc1
ping 10.1.20.1
ping 10.1.30.1
# sw1
dis ip rou


# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# R1
router bgp 1
bgp router-id 1.1.1.1
neighbor 13.1.1.2 remote-as 2
redistribute ospf 110   # ä¹‹å‰ospfçš„è¿›ç¨‹å·ä¸º110
router ospf 110  # ospfé‡åˆ†å¸ƒbgpçš„è·¯ç”±
redistribute bgp 1 subnets
# R3
router bgp 2
bgp router-id 2.2.2.2
neighbor 13.1.1.1 remote-as 1
router bgp 2
network 10.1.20.0 mask 255.255.255.224
network 10.1.30.0 mask 255.255.255.224
# æµ‹è¯•
show ip bgp summary
show ip bgp
show ip rou bgp
&lt;/code&gt;&lt;/pre&gt;
">15 BGPå’ŒGRE</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/14-ospfkai-fang-zui-duan-lu-jing-you-xian-gai-nian-he-duo-qu-yu-shi-shi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;æ¦‚è¿°&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;åŸºäºé“¾è·¯çŠ¶æ€çš„è·¯ç”±åè®®ï¼Œ&lt;strong&gt;è®¾è®¡ä¸Šå°±ä¿è¯äº†æ— ç¯è·¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;æ”¯æŒåŒºåŸŸåˆ’åˆ†ï¼ŒåŒºåŸŸå†…éƒ¨çš„è·¯ç”±å™¨ä½¿ç”¨SPFæœ€çŸ­è·¯å¾„ç®—æ³•ä¿è¯åŒºåŸŸå†…éƒ¨æ— ç¯è·¯ï¼Œåˆ©ç”¨åŒºåŸŸé—´çš„è¿æ¥è§„åˆ™ä¿è¯åŒºåŸŸä¹‹é—´æ— è·¯ç”±ç¯è·¯&lt;/li&gt;
&lt;li&gt;æ”¯æŒè§¦å‘æ›´æ–°ï¼Œå¿«é€Ÿæ£€æµ‹å’Œé€šå‘Šè‡ªæ²»ç³»ç»Ÿå†…çš„æ‹“æ‰‘å˜åŒ–&lt;/li&gt;
&lt;li&gt;è§£å†³ç½‘ç»œæ‰©å®¹å¸¦æ¥çš„é—®é¢˜ã€‚å¯å°†æ¯ä¸ªè‡ªæ²»ç³»ç»Ÿåˆ’åˆ†å¤šä¸ªåŒºåŸŸï¼Œå¹¶é™åˆ¶æ¯ä¸ªåŒºåŸŸçš„èŒƒå›´ï¼Œé€‚åˆå¤§ä¸­å‹ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;å¯ä»¥æä¾›è®¤è¯&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ospfæœ€é‡è¦çš„åŒºåŸŸç§°ä¸ºbackboneéª¨å¹²åŒºåŸŸarea0ï¼Œå¯ä»¥åˆ’åˆ†å¤šä¸ªåŒºåŸŸï¼Œæ”¯æŒå¤§å‹ç½‘ç»œ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ ‡è¯†å’ŒåŒºåŸŸ&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;RouterIDï¼Œ32ä½ï¼Œå”¯ä¸€æ ‡è¯†è‡ªæ²»ç³»ç»Ÿå†…çš„è·¯ç”±å™¨ï¼Œ&lt;strong&gt;å¼ºçƒˆå»ºè®®ä¸ºæ¯å°è¿è¡Œçš„OSPFçš„è·¯ç”±å™¨æ‰‹åŠ¨é…ç½®ä¸€ä¸ªRouterID&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ospfæ”¯æŒå°†ä¸€ç»„ç½‘æ®µç»„åˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·çš„ä¸€ä¸ªç»„åˆç§°ä¸ºä¸€ä¸ªåŒºåŸŸï¼Œåˆ†ä¸ºéª¨å¹²åŒºåŸŸå’Œæ™®é€šåŒºåŸŸã€‚åˆ’åˆ†åŒºåŸŸå¯ä»¥ç¼©å°è·¯ç”±å™¨çš„LSDBè§„æ¨¡ï¼Œå‡å°‘ç½‘ç»œæµé‡ã€‚&lt;/li&gt;
&lt;li&gt;ospfçš„è¿›ç¨‹å·ä»…å¯¹æœ¬æœºæœ‰æ„ä¹‰ï¼ŒrouteridåŒåŒºåŸŸå¿…é¡»å”¯ä¸€ï¼Œå¦åˆ™æ— æ³•å»ºç«‹é‚»å±…å…³ç³»&lt;/li&gt;
&lt;li&gt;ABRï¼šåŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ï¼Œå°†æ™®é€šåŒºåŸŸä¸éª¨å¹²åŒºåŸŸè¿æ¥åœ¨ä¸€èµ·ã€‚ASBRï¼šè‡ªæ²»ç³»ç»Ÿè¾¹ç•Œè·¯ç”±å™¨ï¼Œä½äºOSPFè‡ªä¸»ç³»ç»Ÿå’ŒéOSPFç½‘ç»œä¹‹é—´&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç½‘ç»œç±»å‹å’ŒDRã€BDR&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ospfä¸­çš„ä»¥å¤ªç½‘çš„ç½‘ç»œç±»å‹æ˜¯å¹¿æ’­ç±»å‹&lt;/li&gt;
&lt;li&gt;DRå’ŒBDRï¼Œ&lt;a href=&#34;https://feiqiongjun.github.io/post/19-shi-shi-dong-tai-lu-you-xie-yi-ospf-xie-yi/&#34;&gt;è¯¦æƒ…è¯·è§ã€19ã€‘å®æ–½åŠ¨æ€è·¯ç”±åè®®OSPFåè®®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DRå’ŒBDRé€‰ä¸¾&lt;/strong&gt;ï¼šå½“OSPFä¸­é€‰ä¸¾DRå’ŒBDRæ—¶é¦–å…ˆæŸ¥çœ‹è·¯ç”±å™¨çš„ä¼˜å…ˆçº§ï¼Œ&lt;strong&gt;ä¼˜å…ˆçº§å¤§è€…å½“é€‰DRï¼Œå…¶æ¬¡æ˜¯BDR&lt;/strong&gt;ï¼›å¦‚æœä¼˜å…ˆçº§ç›¸åŒåˆ™æ ¹æ®RouterIDçš„å¤§å°æ¥é€‰ä¸¾ï¼ŒRouterIDå¤§è€…å½“é€‰ã€‚RouterIDåœ¨ä¸æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç”±loopbackæ¥å£æ•°å€¼æœ€é«˜çš„IPåœ°å€æ¥åšï¼Œå½“æ²¡æœ‰loopbackæ¥å£æ—¶åˆ™ç”±ç‰©ç†æ¥å£æ•°å€¼æœ€é«˜çš„IPæ¥åš&lt;/li&gt;
&lt;li&gt;DRå’ŒBDRé€‰ä¸¾åªæ˜¯åœ¨æ¥å£ç±»å‹ä¸ºå¹¿æ’­æˆ–NBMAæ—¶ä¼šäº§ç”Ÿï¼ˆå°±æ˜¯è¯´éå¹¿æ’­ç±»çš„ç‚¹å¯¹ç‚¹å’Œç‚¹å¯¹å¤šç‚¹çš„æ¥å£ç±»å‹æ˜¯ä¸é€‰ä¸¾DRå’ŒBDRçš„ï¼‰&lt;code&gt;é€‰ä¸¾æ—¶é—´é»˜è®¤ä¸º40ç§’ï¼Œè¿‡äº†é€‰ä¸¾æœŸï¼Œä¸æ”¯æŒæŠ¢å &lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;çŠ¶æ€æœº&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762454080.png&#34; alt=&#34;ospf-çŠ¶æ€æœº&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
æ‰€æœ‰è®¾å¤‡éƒ½éœ€è¦å’ŒDRã€BDRæ„å»ºé‚»æ¥å…³ç³»ï¼Œåªå’ŒDRã€BDRäº¤äº’LSDBï¼Œå‰©ä¸‹çš„å…¶ä»–è·¯ç”±å™¨ä¿©ä¿©éƒ½æ˜¯é‚»å±…(2-way)çŠ¶æ€ï¼Œä¸äº¤æ¢è·¯ç”±è¡¨ ã€‚&lt;br&gt;
&lt;strong&gt;&lt;code&gt;EVEæ€ç§‘æ¨¡æ‹Ÿå™¨é…ç½®æˆåŠŸä¹‹åï¼Œæµ‹è¯•ä¸æˆåŠŸï¼Œä½†æ˜¯é…ç½®æ— é—®é¢˜ï¼Œæ­¤æ—¶éœ€è¦å…³é—­cefï¼Œå‘½ä»¤ä¸ºno ip cef(å…³é—­å¿«é€Ÿäº¤æ¢,ä½¿ç”¨è¿›ç¨‹äº¤æ¢)&lt;/code&gt;&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ä¸¤å°è·¯ç”±å™¨ï¼Œä¸€ä¸ªæ¥å£åŒºåŸŸ0ï¼Œä¸€ä¸ªæ¥å£åŒºåŸŸ1ï¼Œä¸èƒ½æ­£å¸¸å»ºç«‹OSPFé‚»å±…å…³ç³»&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; # .............................OSPF 
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R1
# è®¾ç½®ç¯å›å£åœ°å€ï¼Œä½œä¸ºä¸€å°è¿æ¥åˆ°R1çš„ä¸»æœºä½¿ç”¨
int loopback 0
ip address 11.11.11.11 32
q
# æ­¤æ—¶pc1æ— æ³•pingé€š11.11.11.11ï¼ŒåŸå› æ˜¯sw1ä¸Šæ— åˆ°11.11.11.11çš„è·¯ç”±ï¼ŒåŒæ—¶é»˜è®¤é™æ€è·¯ç”±ä¹Ÿæ²¡æœ‰é…ç½®
# å¼€å§‹é…ç½®ospf
ospf 10  router-id 11.11.11.11  # åˆ›å»ºospfè¿›ç¨‹ï¼Œ10ä¸ºè¿›ç¨‹å·ï¼Œå¯è‡ªå®šä¹‰
area 0  # åˆ›å»ºarea0ï¼Œç„¶ååœ¨area0ä¸­åˆ›å»ºarea1
area 1
q
int loopback 0  # å°†ä¹‹å‰é…ç½®çš„å›ç¯æ¥å£å®£å‘Šè¿›ospfè¿›ç¨‹10çš„area0ä¸­
ospf enable 10 area 0
int g0/0/1  # å°†æ¥å£g0/0/1å’Œg0/0/2å®£å‘Šè¿›ospfè¿›ç¨‹10çš„area0ä¸­
ospf enable 10 area 1
int g0/0/2
ospf enable 10 area 1

# sw1ï¼Œå¼€å¯ospfè¿›ç¨‹å¹¶åˆ›å»ºarea1ï¼ˆsw1å’Œsw2éœ€è¦åœ¨vlanä¸‹é¢å®£å‘Šåœ°å€ï¼‰
ospf 10 router-id 10.11.11.11
area 1
int vlan 8 
ospf enable 10 area 1
int vlan 9
ospf enable 10 area 1
int vlan 10
ospf enable 10 area 1
int vlan 11
ospf enable 10 area 1
# sw2ï¼Œå¼€å¯ospfè¿›ç¨‹å¹¶åˆ›å»ºarea1
ospf 10 router-id 10.22.22.22
area 1
int vlan 8 
ospf enable 10 area 1
int vlan 9
ospf enable 10 area 1
int vlan 10
ospf enable 10 area 1
int vlan 12
ospf enable 10 area 1

# éªŒè¯
# R1
ping 10.1.11.2
ping 10.1.12.2
dis ospf int    #  æŸ¥çœ‹ospfå®£å‘Šçš„æ¥å£
# sw1å’Œsw2
dis ospf int 
ping 11.11.11.11
# R1\sw1\sw2ï¼ŒæŸ¥çœ‹é‚»å±…å…³ç³»
dis ospf peer brief
# sw1/sw2ï¼ŒéªŒè¯è·¯ç”±è¡¨
dis ip rou pro ospf
# pc1\pc2\server1è®¿é—®11.11.11.11
ping 11.11.11.11
# &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;å¦‚æœospfçš„routeridé…ç½®é”™è¯¯å¯¼è‡´ä¸ç”Ÿæ•ˆï¼Œå…ˆctrl+zï¼Œç„¶åæ‰§è¡Œreset ospf processé‡å¯ospfè¿›ç¨‹&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;


# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# é…ç½®ospf
# R1
int lo0
ip addr 11.11.11.11 32
router ospf 110 
route-id 11.11.11.11
int lo0 
ip ospf 110 area0
int range ethernet 0/1-2
ip ospf 110 area1
# sw1
route ospf 110 
route-id 10.11.11.11
int vlan 8-11
ip ospf 110 area 1
# sw2
route ospf 110 
route-id 10.22.22.22
int vlan 8-12
ip ospf 110 area 1

# éªŒè¯ospf
# R1/SW1/SW2
show ip ospf int bri  # æŸ¥çœ‹ospfçš„å®£å‘Šçš„æ¥å£
show ip ospf neighbor  # æŸ¥çœ‹ospfçš„é‚»å±…å…³ç³»
# sw1/sw2
show ip route ospf   # æŸ¥çœ‹è·¯ç”±è¡¨
# pc1/pc2/server1
ping 11.11.11.11
# &amp;lt;&amp;lt;&amp;lt;&amp;lt;&amp;lt;å¦‚æœospfçš„routeridé…ç½®é”™è¯¯å¯¼è‡´ä¸ç”Ÿæ•ˆï¼Œå…ˆctrl+zï¼Œç„¶åæ‰§è¡Œclear ip ospf processé‡å¯ospfè¿›ç¨‹&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
">14 OSPF(å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆ)æ¦‚å¿µå’Œå¤šåŒºåŸŸå®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/13-lu-you-yuan-li-he-xie-yi-shi-shi-ospfjing-tai-lu-you/"" data-c="
          &lt;ol&gt;
&lt;li&gt;è·¯ç”±å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è·¯ç”±å™¨ï¼ˆä»¥åŠä¸‰å±‚äº¤æ¢æœºï¼‰å…·æœ‰æœ€åŸºæœ¬çš„&lt;strong&gt;å†³ç­–åŠŸèƒ½&lt;/strong&gt;ï¼ˆè·¯ç”±å†³ç­–ä¾æ®è·¯ç”±è¡¨RIBï¼Œè·¯ç”±æ˜¯æŒ‡å¯¼IPæŠ¥æ–‡å‘é€çš„è·¯å¾„ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰ç›®æ ‡åœ°å€çš„è·¯ç”±ï¼Œåªèƒ½ä¸¢å¼ƒï¼‰å’Œ&lt;strong&gt;è½¬å‘åŠŸèƒ½&lt;/strong&gt;ï¼ˆè½¬å‘å¼•æ“ï¼ŒæŒ‰ç…§è·¯ç”±æŠŠæ•°æ®è½¬å‘åˆ°å¯¹åº”çš„æ¥å£æˆ–è€…çº¿è·¯ä¸Šå»ï¼‰ã€å…ˆå†³ç­–åè½¬å‘ã€‘&lt;/li&gt;
&lt;li&gt;ç§ç±»ï¼šç›´è¿è·¯ç”±ã€é™æ€è·¯ç”±å’ŒåŠ¨æ€è·¯ç”±ï¼ˆRIPã€EIGRPã€OSPFã€IS-ISã€BGPï¼‰&lt;/li&gt;
&lt;li&gt;åº¦é‡å€¼ï¼ˆMetricï¼‰:è¡¨ç¤ºåˆ°è¾¾è¿™æ¡è·¯ç”±æ‰€æŒ‡ç›®çš„åœ°å€çš„ä»£ä»·ï¼ˆcostï¼Œå¼€é”€ï¼‰ã€‚é€šå¸¸å½±å“è·¯ç”±åº¦é‡å€¼çš„å› ç´ æœ‰çº¿è·¯å»¶è¿Ÿã€å¸¦å®½ã€çº¿è·¯ä½¿ç”¨ç‡ã€çº¿è·¯å¯ä¿¡åº¦ã€è·³æ•°ã€æœ€å¤§ä¼ è¾“å•å…ƒã€‚ä¸åŒè·¯ç”±åè®®å‚è€ƒçš„å› ç´ ä¸åŒï¼šé™æ€è·¯ç”±ä¸ºå›ºå®šå€¼0ï¼Œospfä¾æ®å¸¦å®½ï¼Œripä¾æ®è·³æ•°ï¼Œis-isä¾æ®10çš„ç´¯åŠ (ç¼ºçœåº¦é‡ä¸º10)ï¼Œeigrpå’Œbgpä¸ºç»¼åˆåº¦é‡ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜å…ˆçº§ï¼šä¸åŒåè®®æ¯”è¾ƒä¼˜åŠ£çš„ä¸€ä¸ªæ ‡å‡†ï¼ˆåŒä¸€è·¯ç”±å¤šç§åè®®ç«äº‰è·¯ç”±è¡¨çš„æ ‡å‡†ï¼‰ã€‚ä¼˜å…ˆçº§0-255ï¼Œå¯é…ç½®èŒƒå›´ä¸º1-255ï¼Œè¶Šå°è¶Šä¼˜å…ˆï¼Œä¼˜å…ˆçº§æœ€é«˜çš„è·¯ç”±è¢«æ·»åŠ è¿›è·¯ç”±è¡¨ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762342822.png&#34; alt=&#34;å„å‚å•†çš„ä¼˜å…ˆçº§AD&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜ï¼šæœ‰ä¸€æ¡è·¯ç”±ï¼Œè¯¥è·¯ç”±ä¼šå¦‚ä½•æ”¾å…¥è·¯ç”±è¡¨å‘¢ï¼Ÿ&lt;br&gt;
å‰æï¼šå¿…é¡»æ˜¯åŒä¸€æ¡è·¯ç”±ï¼ˆ10.1.1.1/32å’Œ10.1.1.0/24ä¸æ˜¯åŒä¸€æ¡è·¯ç”±ï¼‰&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1.å¦‚æœä»å¤šä¸ªåè®®ï¼ˆæ–¹å¼ï¼‰å¾—åˆ°è¯¥è·¯ç”±ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨ä¼˜å…ˆçº§æˆ–è€…ç®¡ç†è·ç¦»æ¥æ¯”è¾ƒï¼Œä¼˜å…ˆçº§å€¼æ•°æ®è¶Šå°è¶Šä¼˜å…ˆï¼ˆå¦‚æœ2ç§åè®®çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œæ¯”å¦‚åä¸ºè®¾å¤‡ä¸ŠOSPFçš„ä¼˜å…ˆçº§æ”¹ä¸ºäº†10ï¼Œé™æ€è·¯ç”±ä¹Ÿæ”¹ä¸ºäº†10ï¼Œæ­¤æ—¶ä¼šæ¯”è¾ƒåè®®æœ€åŸå§‹çš„ä¼˜å…ˆçº§å³å†…éƒ¨ä¼˜å…ˆçº§ï¼ŒOSPFçš„10ä¼˜äºé™æ€çš„60ï¼Œæ‰€ä»¥ç»ˆé€‰OSPFï¼‰&lt;br&gt;
2.å¦‚æœå·²ç»ç¡®å®šäº†æŸç§è·¯ç”±æ¥æ”¾å…¥è·¯ç”±è¡¨ï¼Œæ¥ä¸‹æ¥ä¼šæ¯”è¾ƒè¯¥è·¯ç”±åè®®å¤šæ¡è·¯å¾„ä¸­ç»¼åˆåº¦é‡å€¼è¾ƒå°çš„æ”¾å…¥è·¯ç”±è¡¨&lt;br&gt;
3.è¿˜éœ€è¦æ³¨æ„åŒä¸€ç§è·¯ç”±åè®®å¯èƒ½ä¼šå…·æœ‰è·¯ç”±ä¼˜å…ˆçº§ï¼ˆOSPFã€BGPå’Œä¸­é—´ç³»ç»Ÿåˆ°ä¸­é—´ç³»ç»Ÿåè®®ï¼‰ï¼Œæ¯”å¦‚OE1ï¼ˆä¸æ¯”è¾ƒå¼€é”€å€¼ï¼‰ä¸€å®šä¼šä¼˜äºOE2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;é™æ€è·¯ç”±&lt;br&gt;
å¹¿æ³›åº”ç”¨äºä¼ä¸šç½‘çš„è¾¹ç¼˜ï¼Œé™æ€è·¯ç”±ä¸­æœ€å¸¸ç”¨çš„æ–¹å¼ä¸ºé™æ€é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä¼˜åŠ¿ï¼šä¸éœ€è¦æŠ¥æ–‡çš„æ”¯æŒï¼Œå®æ–½ç®€å•ï¼Œå°å‹çš„ç½‘ç»œï¼Œç²¾å‡†çš„æ§åˆ¶è·¯ç”±&lt;/li&gt;
&lt;li&gt;åŠ£åŠ¿ï¼šä¸ä¼šè‡ªåŠ¨è°ƒæ•´ï¼Œå®æ–½è¿‡å¤šä¼šé€ æˆæ’é”™çš„å›°æ‰°ï¼Œæ— æ³•æ”¯æŒå¤§å‹ç½‘ç»œï¼Œæ‰©å±•æ€§æ¯”è¾ƒå·®&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç»“åˆARPä»¥åŠè®²è§£æµé‡è½¬å‘&lt;br&gt;
3.1 ç›´è¿è·¯ç”±å’Œé™æ€è·¯ç”±çš„åŒºåˆ«&lt;br&gt;
**ç›´è¿è·¯ç”±ï¼š**ç›´è¿è·¯ç”±æ˜¯ç”±é“¾è·¯å±‚åè®®å‘ç°çš„ï¼Œä¸€èˆ¬æŒ‡å»å¾€è·¯ç”±å™¨çš„æ¥å£åœ°å€æ‰€åœ¨ç½‘æ®µçš„è·¯å¾„ï¼Œç›´è¿è·¯ç”±æ— éœ€æ‰‹å·¥é…ç½®ï¼Œåªè¦æ¥å£é…ç½®äº†ç½‘ç»œåè®®åœ°å€åŒæ—¶ç®¡ç†çŠ¶æ€ã€ç‰©ç†çŠ¶æ€å’Œé“¾è·¯åè®®å‡ä¸ºUPæ—¶ï¼Œè·¯ç”±å™¨èƒ½å¤Ÿè‡ªåŠ¨æ„ŸçŸ¥è¯¥é“¾è·¯å­˜åœ¨ï¼Œæ¥å£ä¸Šé…ç½®çš„IPç½‘æ®µåœ°å€ä¼šè‡ªåŠ¨å‡ºç°åœ¨è·¯ç”±è¡¨ä¸­ä¸”ä¸æ¥å£å…³è”ï¼Œå¹¶åŠ¨æ€éšæ¥å£çŠ¶æ€å˜åŒ–åœ¨è·¯ç”±è¡¨ä¸­è‡ªåŠ¨å‡ºç°æˆ–æ¶ˆå¤±ã€‚&lt;br&gt;
**é™æ€è·¯ç”±ï¼š**é™æ€è·¯ç”±æ˜¯ç”±ç½‘ç»œç®¡ç†å‘˜æ ¹æ®ç½‘ç»œæ‹“æ‰‘ï¼Œä½¿ç”¨å‘½ä»¤åœ¨è·¯ç”±å™¨ä¸Šé…ç½®çš„è·¯ç”±ï¼Œè¿™äº›é™æ€è·¯ç”±ä¿¡æ¯æŒ‡å¯¼æŠ¥æ–‡å‘é€ï¼Œé™æ€è·¯ç”±æ–¹å¼ä¹Ÿæ— éœ€è·¯ç”±å™¨è¿›è¡Œè®¡ç®—ï¼Œä½†å®ƒå®Œå…¨ä¾èµ–äºç½‘ç»œç®¡ç†å‘˜çš„æ‰‹åŠ¨é…ç½®ã€‚é»˜è®¤è·¯ç”±æ˜¯ä¸€ç§ç‰¹æ®Šçš„é™æ€è·¯ç”±,ç½‘ç»œç®¡ç†ç®¡ç†å‘˜æ‰‹å·¥é…ç½®äº†é»˜è®¤è·¯ç”±åï¼Œå½“è·¯ç”±è¡¨ä¸­ä¸ç›®çš„åœ°å€ä¹‹é—´æ²¡æœ‰åŒ¹é…çš„è¡¨é¡¹æ—¶è·¯ç”±å™¨å°†æŠŠæ•°æ®åŒ…å‘é€ç»™é»˜è®¤ç½‘å…³ã€‚&lt;br&gt;
**åŒºåˆ«ï¼š**ç›´è¿è·¯ç”±åªèƒ½ä½¿ç”¨äºç›´æ¥ç›¸è¿çš„è·¯ç”±å™¨ç«¯å£ï¼Œéç›´è¿çš„è·¯ç”±å™¨ç«¯å£æ˜¯æ²¡æœ‰ç›´è¿è·¯ç”±çš„ã€‚é™æ€è·¯ç”±ä¿¡æ¯åœ¨ç¼ºçœæƒ…å†µä¸‹æ˜¯ç§æœ‰çš„ï¼Œä¸ä¼šä¼ é€’ç»™å…¶ä»–çš„è·¯ç”±å™¨ã€‚å½“ç„¶ï¼Œç½‘ç»œç®¡ç†å‘˜ä¹Ÿå¯é€šè¿‡å¯¹è·¯ç”±å™¨è®¾ç½®ä½¿ä¹‹æˆä¸ºå…±äº«çš„ã€‚ç½‘ç»œç®¡ç†å‘˜æ˜“äºæ¸…æ¥šåœ°äº†è§£ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„ï¼Œä¾¿äºè®¾ç½®æ­£ç¡®çš„è·¯ç”±ä¿¡æ¯ã€‚é™æ€è·¯ç”±ä¸€èˆ¬é€‚ç”¨äºè¾ƒç®€å•çš„ç½‘ç»œç¯å¢ƒã€‚&lt;br&gt;
3.2 æ•°æ®è½¬å‘æµç¨‹&lt;br&gt;
&lt;strong&gt;&lt;code&gt;ï¼ˆæœ¬å®éªŒä¸­é…ç½®é™æ€è·¯ç”±ä½¿ç”¨çš„ä¸æ˜¯ä¸‹ä¸€è·³ï¼Œè€Œæ˜¯å‡ºæ¥å£ï¼Œå…¶ä»–é…ç½®å’Œé™æ€è·¯ç”±é…ç½®ä¸€æ ·ï¼‰&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ARPè¡¨ï¼šï¼šæºå‘ç°ç›®çš„ä¸æ˜¯åŒä¸€ç½‘ç»œï¼Œæ­¤æ—¶éœ€è¦å‘é€åˆ°è¾¾è‡ªèº«ç½‘å…³çš„ARPï¼ˆç›®çš„IPå’Œç›®çš„MACçš„æ˜ å°„ï¼Œ&lt;strong&gt;åŸºæœ¬ARP&lt;/strong&gt;ï¼‰è¯·æ±‚ï¼ˆæºè‡ªè‡ªèº«ï¼Œç›®çš„æ˜¯å…¨Fçš„å¹¿æ’­ï¼Œå°è£…ç½‘å…³çš„MACï¼‰ï¼Œæ‹¥æœ‰è¯¥IPçš„è®¾å¤‡ä¼šå•æ’­å›é€ä¸€ä¸ªå“åº”ï¼ˆå«æœ‰å¯¹åº”çš„MACï¼‰ï¼›&lt;strong&gt;å…è´¹ARP&lt;/strong&gt;ï¼Œè¯·æ±‚è‡ªèº«IPå¯¹åº”çš„MACï¼ˆå¹¿æ’­ï¼‰ï¼Œå¦‚æœå¾—åˆ°å›åº”ï¼Œé‚£ä¹ˆè¯´æ˜IPåœ°å€å†²çªï¼›&lt;strong&gt;ä»£ç†ARP&lt;/strong&gt;ï¼ˆæ€ç§‘é»˜è®¤å¼€å¯ï¼Œåä¸ºé»˜è®¤å…³é—­ï¼Œæ­¤è¯•éªŒéœ€è¦æ—©g0/0/0ä¸Š&lt;code&gt;arp-proxy enable&lt;/code&gt;ï¼‰ï¼Œä¸€ä¸ªä¸­é—´è®¾å¤‡ä»£ç†ç›®çš„IPå›é€IPå¯¹åº”çš„MACã€‚ARPçš„2å±‚å¸§ä¸èƒ½è·¨è¶Šç½‘ç»œï¼Œæ‰€ä»¥åœ¨æ¯ä¸ªIPå­ç½‘MACåœ°å€éƒ½æ˜¯é‡å†™ï¼Œè€Œæºç›®IPä¸å˜åŒ–ã€‚&lt;a href=&#34;https://www.jianshu.com/p/2a1928570a1c&#34;&gt;&lt;code&gt;å…³äºARPï¼Œå‚è€ƒé¢„ä¹ &lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;MACåœ°å€è¡¨ï¼šï¼šå’Œäº¤æ¢æœºçš„è½¬å‘åŸç†æœ‰å…³ï¼ˆæ”¶åˆ°å¹¿æ’­å¸§æˆ–è€…æœªçŸ¥å•æ’­å¸§ä¼šæ³›æ´ªï¼‰&lt;/li&gt;
&lt;li&gt;è·¯ç”±è¡¨ï¼šï¼šæŸ¥æ‰¾è·¯ç”±è¡¨ï¼Œå‘é€æ•°æ®åˆ°è¾¾ç›®æ ‡åœ°å€ï¼ˆä¹Ÿä¼šæœ‰ARPæŸ¥è¯¢ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;é™æ€é»˜è®¤è·¯ç”±å’Œæµ®åŠ¨è·¯ç”±&lt;br&gt;
4.1 é™æ€é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;é»˜è®¤è·¯ç”±0.0.0.0/0ï¼Œç›®çš„ç½‘ç»œæ˜¯ä»»æ„ã€æ©ç ä¹Ÿæ˜¯ä»»æ„ï¼Œä»£è¡¨æ‰€æœ‰æœªçŸ¥ç½‘ç»œã€‚ï¼ˆå·²çŸ¥ç½‘ç»œæ˜¯æŒ‡æ˜ç»†(deitail)è·¯ç”±ï¼‰&lt;/li&gt;
&lt;li&gt;è½¬å‘åŸåˆ™ï¼šæœ€é•¿åŒ¹é…åŸåˆ™ï¼Œæ‰¾åˆ°ä¸€æ¡æœ€ç²¾å‡†åˆ°è¾¾ç›®æ ‡åœ°å€çš„è·¯ç”±ï¼ˆå³åŒä¸€ç½‘ç»œä¸­æœ€ç²¾å‡†çš„ç½‘æ®µï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;å®æ–½ï¼š&lt;code&gt;åä¸ºï¼šip route-static 0.0.0.0 0 g0/0/0 202.100.1.2ï¼›æ€ç§‘ï¼šip route 0.0.0.0 0 e0/0 202.100.1.2&lt;/code&gt;ï¼›é…ç½®è·¯ç”±ä¼˜å…ˆçº§&lt;code&gt;åä¸ºï¼šip route-static 0.0.0.0 0 g0/0/0 202.100.1.2 preference 59ï¼›æ€ç§‘ï¼šip route 0.0.0.0 0 e0/0 202.100.1.2 5&lt;/code&gt;ã€å¦‚æœæŒ‡é…ç½®å‡ºæ¥å£è€Œä¸é…ç½®å‡ºå£IP&lt;code&gt;ip route 0.0.0.0 0 e0/0ï¼ˆä¸æ¨èå¦‚æ­¤é…ç½®ï¼‰&lt;/code&gt;ï¼Œåˆ™ä¼šå‡ºç°â€œé”™è¯¯çš„é…ç½®ï¼Œå½±å“æ€§èƒ½â€ï¼ˆPPPoEé™¤å¤–ï¼‰ã€‘&lt;br&gt;
4.2 æµ®åŠ¨è·¯ç”±&lt;br&gt;
&lt;code&gt;å®æ–½ä¸‹é¢çš„å‘½ä»¤ä¹‹å‰éœ€è¦å»æ‰ä¹‹å‰è®¾ç½®çš„8.8.8.8çš„è·¯ç”±&amp;quot;undo ip route-static 8.8.8.8 32&amp;quot;ï¼ŒåŒæ—¶éœ€è¦ç»™ä¸²è¡Œæ¥å£é…ç½®IP&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤æ¡é»˜è®¤è·¯ç”±--è´Ÿè½½å‡è¡¡ï¼ˆECMPï¼Œç­‰ä»·å¼€é”€å¤šè·¯å¾„ï¼‰ï¼š&lt;br&gt;
ç¬¬1æ¡é«˜é€Ÿæ¥å£ï¼Œæ¥å£å’Œåœ°å€å¿…é¡»éƒ½é…ç½®ï¼š&lt;code&gt;ip route-static 0.0.0.0 0 g0/0/0 202.100.1.2&lt;/code&gt;ï¼›&lt;br&gt;
ç¬¬2æ¡ä¸²è¡Œæ¥å£ï¼Œå¯ä»¥åªé…ç½®æ¥å£ï¼ˆå¤‡ç”¨ï¼‰ï¼š&lt;code&gt;ip route-static 0.0.0.0 0 s1/0/0&lt;/code&gt;ã€‚&lt;br&gt;
éªŒè¯:&lt;code&gt;dis ip routing-table protocol static&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762368245.png&#34; alt=&#34;æµ®åŠ¨è·¯ç”±-è´Ÿè½½å‡è¡¡&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤æ¡é»˜è®¤è·¯ç”±--ä¸»å¤‡ï¼Œé«˜é€Ÿçº¿è·¯ä¸ºä¸»ï¼Œä¸²è¡Œçº¿è·¯ä¸ºå¤‡ï¼š&lt;br&gt;
åä¸ºè®¾å¤‡é™æ€è·¯ç”±ä¼˜å…ˆå€¼é»˜è®¤ä¸º60ï¼Œé€šè¿‡ä¿®æ”¹ä¼˜å…ˆå€¼æ¥å½±å“è·¯ç”±æ˜¯å¦å†™å…¥è·¯ç”±è¡¨ã€‚&lt;br&gt;
ç¬¬1æ¡é«˜é€Ÿæ¥å£ï¼Œï¼ˆä¸»ï¼‰æ¥å£å’Œåœ°å€å¿…é¡»éƒ½é…ç½®ï¼š&lt;code&gt;ip route-static 0.0.0.0 0 g0/0/0 202.100.1.2&lt;/code&gt;ï¼›&lt;br&gt;
ç¬¬2æ¡ä¸²è¡Œæ¥å£ï¼Œï¼ˆå¤‡ï¼‰å¯ä»¥åªé…ç½®æ¥å£ï¼š&lt;code&gt;ip route-static 0.0.0.0 0 s1/0/0 preference 61&lt;/code&gt;ã€‚&lt;br&gt;
éªŒè¯:&lt;br&gt;
&lt;code&gt;dis ip rou pro sta&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ping 8.8.8.8&lt;/code&gt;&lt;br&gt;
&lt;code&gt;å…³é—­æ¥å£g0/0/0ï¼šint g0/0/0 &amp;amp;&amp;amp; shutdown&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ping 8.8.8.8&lt;/code&gt;&lt;br&gt;
![æµ®åŠ¨è·¯ç”±-ä¸»å¤‡çº¿è·¯]&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762381999.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;é»‘æ´è·¯ç”±&lt;br&gt;
é…ç½®é»‘æ´è·¯ç”±åï¼Œç›¸åº”ç½‘æ®µæ•°æ®è¢«ä¸¢å¼ƒ&lt;br&gt;
ä¾‹å¦‚ï¼š&lt;code&gt;ip route-static 8.8.8.8 32 null 0&lt;/code&gt;ï¼Œåˆ™å»å¾€8.8.8.8çš„æ•°æ®è¢«ä¸¢å¼ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .....................................é™æ€è·¯ç”±
# R1å»è®¿é—®äº’è”ç½‘ä¸Šçš„8.8.8.8ï¼ˆR2çš„loopback0çš„åœ°å€ï¼‰
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R2
int loop 0
ip addr 8.8.8.8 32
int g0/0/0
un ip addr 202.100.1.2 25 #å»æ‰ä¹‹å‰æµ‹è¯•çš„åœ°å€
ip addr 202.100.1.2 30
# R1
int g0/0/0
un ip addr 202.100.1.1 25 #å»æ‰ä¹‹å‰æµ‹è¯•çš„åœ°å€
ip addr 202.100.1.1 30
ping 202.100.1.2   # æµ‹è¯•ç›´è¿è·¯ç”±èƒ½å¤Ÿé€šä¿¡ä¹‹åæ‰èƒ½è¿›è¡Œä¸‹é¢çš„æ­¥éª¤
ip route-static 8.8.8.8 32 202.100.1.2
dis ip routing-table # æŸ¥çœ‹è·¯ç”±è¡¨
dis ip routing-table protocol static
ping 8.8.8.8  # æµ‹è¯•é€šä¿¡ï¼Œå‘é€ç”¨çš„é™æ€è·¯ç”±ï¼Œæ¥æ”¶ç”¨çš„æ˜¯ç›´è¿è·¯ç”±
&lt;/code&gt;&lt;/pre&gt;
">13 è·¯ç”±åŸç†å’Œåè®®å®æ–½ï¼ˆospfã€é™æ€è·¯ç”±ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/12-vrrpgong-you-de-wang-guan-rong-yu-bei-fen-xie-yi/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è·¯ç”±å™¨å’Œäº¤æ¢æœºçš„åŒºåˆ«&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ç‰©ç†å½¢æ€&lt;/strong&gt;ï¼šèŠ¯ç‰‡ã€æ¥å£&lt;br&gt;
&lt;strong&gt;è½¬å‘åŸç†&lt;/strong&gt;ï¼šäº¤æ¢æœºçš„è½¬å‘åŸç†ï¼ˆMACåœ°å€è¡¨ï¼‰ã€è·¯ç”±å™¨çš„è½¬å‘åŸç†ï¼ˆè·¯ç”±è¡¨RIBï¼‰&lt;br&gt;
&lt;strong&gt;äº§å“å®šä½&lt;/strong&gt;ï¼šç½‘å…³è§’åº¦ï¼ˆNATåŠŸèƒ½ï¼ŒGREéš§é“ï¼ŒIPSEC VPNåŠŸèƒ½ï¼ŒMPLS VPNï¼‰ï¼›DCäº¤æ¢æœºï¼ˆM-LAG&amp;amp;VPNã€å †å ã€SVFï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;åŸºæœ¬æ¦‚è¿°&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;èƒ½å¤Ÿåœ¨ä¸æ”¹å˜ç»„ç½‘çš„æƒ…å†µä¸‹ï¼Œå°†å¤šå°è·¯ç”±å™¨è™šæ‹Ÿæˆä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å¤‡ä»½ï¼ˆçƒ­å¤‡ï¼‰ï¼Œé€šè¿‡é…ç½®è™šæ‹Ÿè·¯ç”±çš„çš„IPåœ°å€ä¸ºé»˜è®¤ç½‘å…³ï¼Œå®ç°ç½‘å…³çš„å¤‡ä»½&lt;/li&gt;
&lt;li&gt;VRRPv2ä»…é€‚åº”IPv4ç½‘ç»œï¼ŒVRRPv3é€‚åº”IPv4å’ŒIPv6ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;æŠ¥æ–‡ï¼šåªæœ‰ä¸€ç§æŠ¥æ–‡ï¼ŒAdvertisementæŠ¥æ–‡ï¼Œå…¶ç›®çš„IPåœ°å€æ—¶224.0.0.18ï¼Œç›®çš„MACåœ°å€æ˜¯01-00-5e-00-00-12ï¼Œåè®®å·ä¸º112ï¼Œå±äº3å±‚åè®®ã€‚ï¼ˆå¸¸è§ç»„æ’­åœ°å€ï¼š224.0.0.5--allSPFï¼›224.0.0.6--allDRï¼›224.0.0.9--RIPï¼›224.0.0.10--EIGRPï¼›224.0.0.18--VRRPï¼‰&lt;/li&gt;
&lt;li&gt;Masterè·¯ç”±å™¨æ‰¿æ‹…è½¬å‘æŠ¥æ–‡è®¤ä¸ºçš„VRRPè®¾å¤‡ï¼›Backupè®¾å¤‡åªæœ‰åœ¨Masterè®¾å¤‡æ•…éšœä¹‹åæ‰èƒ½Materï¼Œæ‰¿æ‹…è½¬å‘ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;Masterè·¯ç”±å™¨å’ŒBackupè®¾å¤‡çš„ç»„IDå¿…é¡»ç›¸åŒï¼ŒåŸå› ä¸ºä¸»è®¾å¤‡ç”¨è™šæ‹ŸMACç›¸åº”ARPè¯·æ±‚ã€‚è™šæ‹Ÿmacä¸º0000.5e00.01xxï¼Œå…¶ä¸­xxä¸ºç»„IDã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¸»è®¾å¤‡ï¼ˆMasterè·¯ç”±å™¨ï¼‰é€‰å–åŸåˆ™&lt;br&gt;
&lt;strong&gt;æ€ç§‘&lt;/strong&gt;ï¼šä¼˜å…ˆçº§æ•°å€¼è¾ƒå¤§è€…ä¼˜å…ˆï¼ˆé»˜è®¤ä¼˜å…ˆçº§ä¸º100ï¼Œå¯ä»¥é…ç½®1-254ï¼Œä¼˜å…ˆçº§255ä¸èƒ½é…ç½®(çœŸå®IP=è™šæ‹ŸIP)ï¼‰----&amp;gt; çœŸå®IPè¾ƒå¤§çš„ä¼˜å…ˆ&lt;br&gt;
&lt;strong&gt;åä¸º&lt;/strong&gt;ï¼šä¼˜å…ˆçº§ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå…ˆé…ç½®çš„è®¾å¤‡ä¼šæˆä¸ºMaster&lt;br&gt;
&lt;strong&gt;&lt;code&gt;ã€STPçš„æ ¹è®¾å¤‡==VRRPçš„Masterï¼Œå¦åˆ™ä¼šé€ æˆ2å±‚çš„æ¬¡ä¼˜è½¬å‘ã€‘&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ........................sw1ã€sw2å’ŒAR1è¿›è¡Œé€šä¿¡
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# sw1
int vlan 11
ip address 10.1.11.2 29
int g0/0/1
port default vlan 11
# sw2
int vlan 12
ip address 10.1.12.2 29
int g0/0/2
port link-type access
port default vlan 12
# AR1
int g0/0/2
ip address 10.1.12.1 29
int g0/0/1
ip address 10.1.11.1 29

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# sw1
int e0/1
switchport access vlan 11
int vlan 11
no shutdown
ip address 10.1.11.2 29
# sw2
int e0/2
switchport mode access
switchport access vlan 12
int vlan 12
no shutdown
ip address 10.1.12.2 29
# AR1
int e0/2
ip address 10.1.12.1 29
int e0/1
ip address 10.1.11.1 29
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ....................................é…ç½®VRRP
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# sw1ï¼ˆä¸»ï¼Œmasterï¼‰
# ä¸ºäº†é˜²æ­¢ä¸¤ä¸ªä¸»äº¤æ¢æœºçš„é”™è¯¯ï¼Œå…ˆæµ‹è¯•è¿é€šæ€§ï¼Œping 10.1.10.12
int vlan 8
vrrp 8 ip 10.1.10.14 # 8ä¸ºç»„IDï¼Œå¯ä»¥éšæ„è®¾ç½®ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ä¸vlanç›¸åŒï¼Œ10.1.10.14ä¸ºè™šæ‹ŸIP
vrrp 8 priority 110
int vlan 9
vrrp 9 ip 10.1.10.30
int vlan 10
vrrp 10 ip 10.1.10.46
vrrp 10 priority 110
do sh vrrp brief  #æŸ¥çœ‹
# sw2ï¼ˆå¤‡ï¼Œbackupï¼‰
int vlan 8
vrrp 8 ip 10.1.10.14
int vlan 9
vrrp 9 ip 10.1.10.30
vrrp 9 priority 110
int vlan 10
vrrp 10 ip 10.1.10.46
# å°†pc1çš„ç½‘å…³è®¾ç½®ä¸º10.1.10.14ï¼Œè¿›è¡Œping 10.1.10.14æµ‹è¯•
# æŸ¥çœ‹è·¯ç”± traceroute 10.1.10.14 numeric
# æŸ¥çœ‹arpè¡¨ï¼šshow arp
# æŸ¥çœ‹vrrpï¼šsh vrrpï¼Œ

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# sw1/sw2
int vlan 8
vrrp vrid 8 virtual-ip 10.1.10.14
int vlan 9
vrrp vrid 9 virtual-ip 10.1.10.30
int vlan 10
vrrp vrid 10 virtual-ip 10.1.10.46
# sw1
int vlan 8
vrrp vrid 8 priority 110
int vlan 10
vrrp vrid 10 priority 110
# sw2
int vlan 9
vrrp vrid 9 priority 110
# æŸ¥çœ‹ dis vrrp brief
# pc1ï¼štracert 10.1.10.14
# sw1ä¿®æ”¹vrrpä¼˜å…ˆçº§ï¼Œä½¿å…¶æˆä¸ºMaster
# int vlan 8
# vrrp vrid 8 priority 110

# ç”±äºåä¸ºè®¾å¤‡çš„STPæ— æ³•å®ç°è´Ÿè½½å‡è¡¡çš„é…ç½®ï¼ˆMSTPå¯ä»¥å®ç°ï¼‰ï¼Œå¯¼è‡´vlan9çš„æ¬¡ä¼˜è½¬å‘ï¼Œ
# å³èµ°pc2---sw3---sw1---sw2---R1è¿™æ¡è·¯ç”±ï¼Œ
# æ ¹æœ¬åŸå› æ˜¯STPå¯¼è‡´sw3çš„g0/0/1æ¥å£å˜ä¸ºäº†APï¼Œ
# è‹¥æƒ³è§£å†³æ¬¡ä¼˜è½¬å‘é—®é¢˜ï¼Œéœ€è¦ä»¥ä¸‹é…ç½®
# å³è®©æ‰€æœ‰çš„æ•°æ®éƒ½èµ°sw1(vlan8\9\10çš„Masterå‡ä¸ºsw1)
# sw2 
int vlan 9
undo vrrp vrid 9 priority
# sw1
int vlan9 
vrrp vrid 9 priority 110
&lt;/code&gt;&lt;/pre&gt;
">12 VRRPï¼ˆå…¬æœ‰çš„ç½‘å…³å†—ä½™å¤‡ä»½åè®®ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/11-yi-tai-lian-lu-ju-he-he-vlan-jian-lu-you/"" data-c="
          &lt;ol&gt;
&lt;li&gt;é“¾è·¯èšåˆ&lt;br&gt;
å°†ä¸€ç»„ç‰©ç†æ¥å£æ†ç»‘åœ¨ä¸€èµ·ä½œä¸ºä¸€ä¸ªé€»è¾‘æ¥å£æ¥å¢åŠ å¸¦å®½çš„ä¸€ç§æ–¹æ³•ï¼Œåˆç§°å¤šæ¥å£è´Ÿè½½å‡è¡¡ç»„æˆ–é“¾è·¯èšåˆç»„ï¼ˆæ ‡å‡†åè®®ä¸º802.3adï¼‰ã€‚é€šè¿‡åœ¨ä¸¤å°è®¾å¤‡ä¹‹é—´å»ºç«‹é“¾è·¯èšåˆç»„ï¼Œå¯ä»¥æä¾›æ›´é«˜çš„é€šè®¯å¸¦å®½å’Œæ›´é«˜çš„å¯é æ€§ã€‚é“¾è·¯èšåˆä½œç”¨ï¼š&lt;strong&gt;å¢åŠ é“¾è·¯å¸¦å®½ï¼›æä¾›é“¾è·¯å¯é æ€§ï¼›åœ¨ä¸€å®šä½ç½®ä¸Šæ¶ˆé™¤STP&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;é“¾è·¯èšåˆåˆ†ç±»&lt;br&gt;
2.1 &lt;strong&gt;é™æ€èšåˆ&lt;/strong&gt;ï¼šåŒæ–¹ç³»ç»Ÿé—´ä¸ä½¿ç”¨èšåˆåè®®æ¥åå•†é“¾è·¯ä¿¡æ¯ã€‚&lt;br&gt;
2.2 &lt;strong&gt;åŠ¨æ€èšåˆ&lt;/strong&gt;ï¼šé“¾è·¯èšåˆæ§åˆ¶åè®®LACP (802.3ad)ã€‚åŒæ–¹ç³»ç»Ÿé—´ä½¿ç”¨èšåˆåè®®æ¥åå•†é“¾è·¯ä¿¡æ¯ã€‚&lt;br&gt;
2.3 &lt;strong&gt;æ€ç§‘ç§æœ‰çš„PAgPåè®®&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;é“¾è·¯èšåˆçš„ä¸€èˆ¬æ¡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æˆå‘˜æ¥å£å¿…é¡»æ˜¯åŒä¸€ç±»å‹ï¼ˆç›¸åŒçš„Gå£ã€ç›¸åŒçš„å¿«é€Ÿä»¥å¤ªå£ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;ä¸¤ç«¯ç‰©ç†æ¥å£çš„æ•°é‡ã€é€Ÿç‡ã€åŒå·¥æ–¹å¼ã€æµé‡é…ç½®å¿…é¡»ä¸€è‡´&lt;/li&gt;
&lt;li&gt;VLANçš„ç«¯å£æ¨¡å¼ç›¸åŒï¼Œæœ¬å¾VLANå’Œå…è®¸çš„VLANåœ¨trunkä¸Šéœ€è¦ç›¸åŒ&lt;/li&gt;
&lt;li&gt;å¦‚æœæ˜¯accessæ¥å£ï¼Œéœ€è¦æ¥å…¥ç›¸åŒçš„VLAN&lt;/li&gt;
&lt;li&gt;&lt;em&gt;åä¸ºè®¾å¤‡å¿…é¡»ä¸ºç¼ºçœçš„hybridç±»å‹æ¥å£&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;é€šå¸¸æœ€å¤šåŒ…å«8ä¸ªæˆå‘˜æ¥å£&lt;/li&gt;
&lt;li&gt;ä¸èƒ½åµŒå¥—ï¼Œå³æˆå‘˜æ¥å£ä¸èƒ½æ˜¯Eth-Trunkï¼ˆç½‘ç»œèšåˆï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;(äº†è§£)äº¤æ¢æœºæ ¸å¿ƒå †å å’Œæ¥å…¥å †å &lt;br&gt;
æ€ç§‘ï¼šVSSï¼›åä¸ºï¼šCSSï¼›åä¸‰ï¼šIRFã€‚&lt;/li&gt;
&lt;li&gt;Vlané—´è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;äº¤æ¢æœºçš„è½¬å‘è¡Œä¸ºï¼šæ³›æ´ªã€è½¬å‘ã€ä¸¢å¼ƒ&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºåœ¨2å±‚çš„è½¬å‘å†³ç­–è¡¨ï¼šMACåœ°å€è¡¨&lt;/li&gt;
&lt;li&gt;è·¯ç”±å™¨çš„3å±‚è½¬å‘å†³ç­–è¡¨ï¼šè·¯ç”±è¡¨ï¼ˆ&lt;em&gt;è®©ä¸åŒå­ç½‘é—´çš„è®¾å¤‡é€šä¿¡&lt;/em&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ARPè¡¨æ˜¯å°è£…ä»¥å¤ªå¸§éœ€è¦çš„ä¸€ä¸ªè¡¨ï¼ˆIP-&amp;gt;MACçš„å¯¹åº”ï¼Œå’Œç›´è¿é€šä¿¡ç›¸å…³ï¼‰&lt;/li&gt;
&lt;li&gt;Vlané—´è·¯ç”±å¿…é¡»é€šè¿‡å…·å¤‡3å±‚è·¯ç”±åŠŸèƒ½çš„è®¾å¤‡å®Œæˆ&lt;br&gt;
5.1  VLANé—´é€šä¿¡çš„è§£å†³æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±å™¨çš„å•è‡‚è·¯ç”±&lt;/strong&gt;ï¼šèŠ‚çœç«¯å£æ•°å’Œè®¾å¤‡æ¥å£ï¼›é“¾è·¯å¤ç”¨ï¼Œå•ç‚¹æ•…éšœçš„å‡ºç°å®¹æ˜“å¼•å‘æ‹¥å¡ï¼ˆä¸å¸¸ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;3å±‚äº¤æ¢æœºVLANæ¥å£/äº¤æ¢æœºè™šæ‹Ÿæ¥å£&lt;/strong&gt;ï¼šåä¸ºVLANIF==æ€ç§‘SVIï¼Œæœ¬è´¨æ˜¯ç»™VLANä¸€ä¸ªIPåœ°å€ï¼Œ&lt;em&gt;è¯¥IPä¸ºè¯¥æ¥å£ä¸‹è®¾å¤‡çš„ç½‘å…³&lt;/em&gt;ã€‚ä¸‰å±‚äº¤æ¢æœºå†…ç½®çš„ä¸‰å±‚è·¯ç”±è½¬å‘å¼•æ“æ‰§è¡Œè·¯ç”±åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸å…·å¤‡æ‰©å±•åŠŸèƒ½çš„äº¤æ¢æœºçš„3å±‚æ¥å£åŠŸèƒ½&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±å™¨çš„å¤šè‡‚è·¯ç”±ï¼ˆä¸æ¨èï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ..............................................é“¾è·¯èšåˆ
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# sw1
conf t
int range e1/2 - 3  # é€‰æ‹©æ¥å£e1/2å’Œe1/3
shutdown  # å¿…é¡»åœ¨æ¥å£å…³é—­çš„çŠ¶æ€ä¸‹å®æ–½
channel-group 12 mode on # 12ä¸ºæ­¤é“¾è·¯èšåˆçš„åå­—ï¼ˆä¸¤ç«¯ä¸å¿…ä¸€è‡´ï¼Œä½†æ˜¯æ¨èç›¸åŒï¼Œæ–¹ä¾¿ç®¡ç†ï¼‰ï¼Œonä¸ºé™æ€èšåˆæ¨¡å¼
# sw2
conf t
int range e1/2 - 3
shutdown  
channel-group 12 mode on
# éªŒè¯
show etherchannel summary
show spanning-tree vlan 8  #  å¯ä»¥çœ‹åˆ°è™šæ‹Ÿæ¥å£ï¼Œå¼€é”€å€¼ä¹Ÿç›¸åº”å˜å°
show run int port-channel 12  # æŸ¥çœ‹æ¥å£ä¿¡æ¯

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# sw1/sw2 æ¸…ç©ºéœ€è¦èšåˆçš„æ¥å£çš„é…ç½®
clear configuration int g0/0/5
clear configuration int g0/0/6
# sw1/sw2 åˆ›å»ºé“¾è·¯èšåˆ
int Eth-Trunk 12  # åˆ›å»ºé€»è¾‘æ¥å£
trunkport GigabitEthernet 0/0/5 to 0/0/6
# sw1/sw2 é…ç½®vlan
int Eth-Trunk 12
port link-type trunk
port trunk allow-pass vlan all
# sw1/sw2 é‡æ–°å¯åŠ¨ç«¯å£
shutdown
undo shutdown
# æ£€æŸ¥
q
dis port vlan active
dis eth-trunk 12
dis int eth-trunk 12
display stp brief
display stp int eth-trunk 12
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.........................å•è‡‚è·¯ç”±ï¼ˆç›´è¿è·¯ç”±ï¼‰
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# sw4
vlan batch 20 30
int g0/0/1
port link-type access
port default vlan 20
stp edged-port enable
int g0/0/2
port link-type access
port default vlan 30
stp edged-port enable
int g0/0/10
port link-type trunk
port trunk allow-pass vlan all
# AR3ï¼Œä½¿ç”¨é€»è¾‘å­æ¥å£
int g0/0/0.20
dot1q termination vid 20
ip address 10.1.20.30 255.255.255.224
arp broadcast enable   # å…è®¸arpå¹¿æ’­
int g0/0/0.30
dot1q termination vid 30
ip address 10.1.30.30 255.255.255.224
arp broadcast enable 
# é…ç½®Client1å’ŒServer2
# Client1ï¼šIP 10.1.20.1/255.255.255.224 Gateway 10.1.20.30
# Server2ï¼šIP 10.1.30.1/255.255.255.224 Gateway 10.1.30.30
# æµ‹è¯•è‡ªå·±çš„ç½‘å…³---æµ‹è¯•å¯¹æ–¹çš„ç½‘å…³---æ­¤æ—¶è¿æ¥server2

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# sw4
vlan 20,30
conf t
int e0/1
switchport mode access
switchport access vlan 20
spanning-tree portfast edge
int e0/2
switchport mode access
switchport access vlan 30
spanning-tree portfast edge
int e0/0
switchport trunk encapsulation dot1q
switchport mode trunk
# AR3ï¼Œä½¿ç”¨é€»è¾‘å­æ¥å£
int e0/0
no shutdown
int e0/0.20  # é…ç½®å­æ¥å£
encapsulation dot1q  20 # é…ç½®å°è£…æ¨¡å¼ï¼Œä¸ºäº†èƒ½å¤Ÿè¯†åˆ«å¸¦tagçš„æŠ¥æ–‡
ip address 10.1.20.30 255.255.255.224
exit
int e0/0.30
encapsulation dot1q  30 
ip address 10.1.30.30 255.255.255.224
# é…ç½®Client1å’ŒServer2
# Client1ï¼šIP 10.1.20.1/255.255.255.224 Gateway 10.1.20.30
# Server2ï¼šIP 10.1.30.1/255.255.255.224 Gateway 10.1.30.30
# å¦‚æœä½¿ç”¨è·¯ç”±å™¨æ›¿ä»£ç»ˆç«¯ï¼Œåˆ™éœ€è¦å…³é—­è·¯ç”±åŠŸèƒ½no ip routing
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.........................3å±‚äº¤æ¢æœºVLANæ¥å£/äº¤æ¢æœºè™šæ‹Ÿæ¥å£
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘SVI
# sw1
ip routing # çœŸæœºé»˜è®¤ä¸å¼€å¯
int vlan 8
no shutdown
ip address 10.1.10.13 255.255.255.240
int vlan 9
no shutdown
ip address 10.1.10.28 255.255.255.240
int vlan 10
no shutdown
ip address 10.1.10.45 255.255.255.240
# sw2 
ip routing
int vlan 8
no shutdown
ip address 10.1.10.12 255.255.255.240
int vlan 9
no shutdown
ip address 10.1.10.29 255.255.255.240
int vlan 10
no shutdown
ip address 10.1.10.44 255.255.255.240
# æµ‹è¯•
# sw2 : ping 10.1.10.13ï¼›ping 10.1.10.28ï¼›ping 10.1.10.45ï¼›ping 10.1.10.1
# sw1 : ping 10.1.10.1ï¼›ping 10.1.10.17
# æŸ¥çœ‹æ¥å£å’Œè·¯ç”±éªŒè¯

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸ºVLANIF
# sw1
undo int vlan 1 # ç”¨ä¸åˆ°vlan1ï¼Œå¯ä»¥å…³é—­
int vlan 8
ip address 10.1.10.13 255.255.255.240
int vlan 9
ip address 10.1.10.28 255.255.255.240
int vlan 10
ip address 10.1.10.45 255.255.255.240
# sw2 
undo int vlan 1 
int vlan 8
ip address 10.1.10.12 255.255.255.240
int vlan 9
ip address 10.1.10.29 255.255.255.240
int vlan 10
ip address 10.1.10.44 255.255.255.240
# æµ‹è¯•
# sw2 : ping 10.1.10.13ï¼›ping 10.1.10.28ï¼›ping 10.1.10.45ï¼›ping 10.1.10.1
# sw1 : ping 10.1.10.1ï¼›ping 10.1.10.17
# æŸ¥çœ‹æ¥å£å’Œè·¯ç”±éªŒè¯
&lt;/code&gt;&lt;/pre&gt;
">11 ä»¥å¤ªé“¾è·¯èšåˆå’ŒVlané—´è·¯ç”±</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/10-biao-zhun-sheng-cheng-shu-stpgen-she-bei-diao-zheng/"" data-c="
          &lt;ol&gt;
&lt;li&gt;STPçš„åº”ç”¨åœºæ™¯&lt;br&gt;
&lt;code&gt;ç”Ÿæˆæ ‘æ°¸è¿œè·Ÿæ¥å£MACæ— å…³ï¼›ç”Ÿæˆæ ‘çš„å¼±ç‚¹æ˜¯å¤ªä¾èµ–æ—¶é—´&lt;/code&gt;&lt;br&gt;
äº¤æ¢æœºä¹‹é—´é€šè¿‡å¤šæ¡é“¾è·¯äº’è¿æ—¶ï¼Œè™½ç„¶èƒ½å¤Ÿæå‡ç½‘ç»œå¯é æ€§ï¼Œä½†åŒæ—¶ä¹Ÿä¼šå¸¦æ¥2å±‚ç¯è·¯é—®é¢˜ä¸”ä»¥å¤ªå¸§ä¸å…·å¤‡é˜²ç¯æœºåˆ¶ï¼Œå¯¼è‡´&lt;strong&gt;å¹¿æ’­é£æš´ã€MACåœ°å€è¡¨éœ‡è¡ã€é‡å¤å¸§æ‹·è´&lt;/strong&gt;ï¼Œè€ŒSTPå°±æ˜¯åœ¨æœ‰å†—ä½™çš„äº¤æ¢ç½‘ç»œä¸‹é¿å…ç¯è·¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¹¿æ’­é£æš´&lt;/strong&gt;ï¼šæ ¹æ®äº¤æ¢æœºçš„è½¬å‘åŸåˆ™ï¼Œå¦‚æœäº¤æ¢æœºä»ä¸€ä¸ªç«¯å£æ¥æ”¶åˆ°çš„æ˜¯ä¸€ä¸ªå¹¿æ’­å¸§ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç›®çš„macåœ°å€æœªçŸ¥çš„å•æ’­å¸§ï¼Œåˆ™ä¼šå°†è¿™ä¸ªå¸§å‘é™¤æºç«¯å£ä¹‹å¤–çš„æ‰€æœ‰å…¶ä»–ç«¯å£è½¬å‘ï¼Œå¦‚æœäº¤æ¢ç½‘ç»œä¸­æœ‰ç¯è·¯ï¼Œåˆ™è¿™ä¸ªå¸§ä¼šè¢«æ— é™è½¬å‘ï¼Œå¯¼è‡´å¹¿æ’­é£æš´ï¼Œç½‘ç»œä¸­å……æ–¥ç€é‡å¤çš„æ•°æ®å¸§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Macåœ°å€è¡¨éœ‡è¡&lt;/strong&gt;ï¼šä¸€ä¸ªMacåœ°å€åœ¨æŸä¸€æ—¶åˆ»åªèƒ½ä»ä¸€ä¸ªç«¯å£å­¦ä¹ åˆ°ï¼Œé‚£ä¹ˆç¯è·¯ä¼šå¯¼è‡´macåœ°å€è¡¨éœ‡è¡ï¼Œå³ä¸€ä¸ªMacåœ°å€åœ¨çŸ­æ—¶é—´å†…åœ¨ä¸åŒçš„æ¥å£é—´åˆ‡æ¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¸»è¦ä½œç”¨&lt;br&gt;
&lt;strong&gt;æ¶ˆé™¤ç¯è·¯&lt;/strong&gt;ï¼šåœ¨é€»è¾‘ä¸Šè€Œéç‰©ç†ä¸Šï¼Œé€šè¿‡**é˜»æ–­ï¼ˆåä¸ºDiscardingï¼›æ€ç§‘Blockï¼‰**å†—ä½™é“¾è·¯æ¥æ¶ˆé™¤ç½‘ç»œä¸­å¯èƒ½å­˜åœ¨çš„ç¯è·¯ã€‚&lt;br&gt;
&lt;strong&gt;é“¾è·¯å¤‡ä»½&lt;/strong&gt;ï¼šå½“æ´»åŠ¨è·¯å¾„å‘ç”Ÿæ•…éšœæ—¶ï¼Œæ¿€æ´»å¤‡ä»½é“¾è·¯ï¼ŒåŠæ—¶æ¢å¤ç½‘ç»œçš„è¿é€šæ€§ã€‚&lt;/li&gt;
&lt;li&gt;å·¥ä½œåŸç†&lt;br&gt;
3.1 &lt;strong&gt;ä¸‰å¤§åŸåˆ™ï¼š&lt;strong&gt;äº¤æ¢ç½‘ç»œ&lt;/strong&gt;æœ‰ä¸”åªæœ‰ä¸€ä¸ª&lt;/strong&gt;æ ¹äº¤æ¢æœºï¼›æ¯ä¸ªéæ ¹è®¾å¤‡ä¸Š&lt;strong&gt;æœ‰ä¸”åªæœ‰ä¸€ä¸ª&lt;/strong&gt;æ ¹ç«¯å£ï¼›æ¯ä¸ªé“¾è·¯ä¸Š&lt;strong&gt;æœ‰ä¸”åªæœ‰ä¸€ä¸ª&lt;/strong&gt;æŒ‡å®šç«¯å£&lt;br&gt;
3.2 &lt;strong&gt;è§£é‡Šï¼š&lt;/strong&gt;&lt;br&gt;
äº¤æ¢ç½‘ç»œé€‰ä¸¾ä¸€ä¸ªæ ¹æ¡¥ï¼ˆçš‡å¸RBï¼‰ï¼›&lt;br&gt;
æ¯ä¸ªéæ ¹äº¤æ¢æœºé€‰ä¸¾ä¸€ä¸ªæ ¹ç«¯å£ï¼ˆå¤ªå®ˆRPï¼Œæ¥æ”¶çš‡å¸çš„å‘½ä»¤ï¼Œè§’è‰²ä¸ºROOTï¼ŒçŠ¶æ€ä¸ºè½¬å‘Forwardingï¼‰ï¼›&lt;br&gt;
æ¯ä¸ªé“¾è·¯ä¸Šé€‰ä¸¾ä¸€ä¸ªæŒ‡å®šç«¯å£ï¼ˆé’¦å·®DPï¼Œè½¬è¾¾çš‡å¸çš„å‘½ä»¤ï¼Œè§’è‰²ä¸ºDESIï¼ŒçŠ¶æ€ä¸ºè½¬å‘Forwardingï¼‰ï¼›&lt;br&gt;
é˜»å¡éæ ¹ã€éæŒ‡å®šç«¯å£ï¼ˆAPåº¶æ°‘ï¼Œç‰©ç†ä¸Šå·¥ä½œé€»è¾‘ä¸Šé˜»å¡ï¼Œè§’è‰²ä¸ºALTEï¼ŒçŠ¶æ€ä¸ºè½¬å‘Discardingï¼‰ï¼›&lt;br&gt;
BPDUæ¡¥æ¥ä¿¡æ¯å•å…ƒï¼ˆåœ£æ—¨ï¼Œå‘é€2s/æ¬¡ï¼‰ã€‚&lt;br&gt;
3.3 **ç†è§£ï¼š**æœ‰æ ¹ç«¯å£çš„ä¸€å®šä¸æ˜¯æ ¹æ¡¥ï¼ˆå³æ²¡æœ‰æ ¹ç«¯å£çš„ä¸€å®šæ˜¯æ ¹æ¡¥ï¼‰ï¼Œå…¶æ ¹ç«¯å£çš„å¯¹ç«¯è®¾å¤‡å¯èƒ½ä¸ºæ ¹æ¡¥&lt;/li&gt;
&lt;li&gt;STPé€‰ä¸¾&lt;br&gt;
STPåœ¨å¸¸è§„è®¾å¤‡ä¸Šé»˜è®¤å¼€å¯ã€‚&lt;br&gt;
**é…ç½®BPDUåŒ…å«ä»¥ä¸‹é‡è¦ä¿¡æ¯ï¼š**æ ¹æ¡¥IDï¼ˆRootIDï¼‰ï¼›æ ¹è·¯å¾„å¼€é”€ï¼ˆRootPathCostï¼‰ï¼›æŒ‡å®šæ¡¥IDï¼ˆDesignatedBridgeIDï¼‰ï¼›æŒ‡å®šç«¯å£IDï¼ˆDesignatedPortIDï¼‰ã€‚&lt;br&gt;
æ¯å°è®¾å¤‡çš„å„ä¸ªç«¯å£åœ¨åˆå§‹æ—¶ç”Ÿæˆä»¥è‡ªå·±ä¸ºæ ¹æ¡¥ï¼ˆRBï¼‰çš„é…ç½®æ¶ˆæ¯ï¼Œå‘å¤–å‘é€è‡ªå·±çš„é…ç½®ä¿¡æ¯ï¼ˆèµ·åˆéƒ½è®¤ä¸ºè‡ªå·±æ˜¯çš‡å¸ï¼‰ã€‚ç½‘æ¡¥æ”¶æ•›åï¼Œæ ¹æ¡¥å‘å¤–å‘é€é…ç½®BPDUï¼Œå…¶ä»–çš„è®¾å¤‡å¯¹è¯¥é…ç½®BPDUè¿›è¡Œè½¬å‘ã€‚&lt;br&gt;
4.1 æ ¹è®¾å¤‡ï¼ˆRBï¼‰é€‰ä¸¾&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;BridgeIDï¼ˆæ¡¥IDï¼ŒBIDï¼ŒæŸ¥çœ‹&lt;code&gt;æ€ç§‘ï¼šshow spanning-tree vlan 8ï¼›åä¸ºï¼šdis stp&lt;/code&gt;ï¼‰ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š&lt;strong&gt;ä¼˜å…ˆçº§ï¼ˆé»˜è®¤32768ï¼‰å’Œäº¤æ¢æœºçš„MACï¼ˆä¸æ˜¯æ¥å£Macï¼Œè€Œæ˜¯èƒŒæ¿Mac&lt;code&gt;æ€ç§‘ï¼šshow spanning-tree bridge idï¼›åä¸ºï¼šdis stpçš„ç¬¬ä¸€è¡ŒCIST Bridgeçš„å€¼&lt;/code&gt;ï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;**é€‰ä¸¾è§„åˆ™ï¼š**ä¼˜å…ˆçº§å€¼æœ€å°çš„----&amp;gt;Macæœ€å°çš„&lt;/li&gt;
&lt;li&gt;ä»ç®¡ç†è§’åº¦ä¸€å®šæ˜¯ä¿®æ”¹ä¼˜å…ˆçº§å»å·¦å³æ ¹çš„é€‰ä¸¾ï¼Œ&lt;strong&gt;æ ¹è®¾å¤‡ä¸€èˆ¬åœ¨æ ¸å¿ƒäº¤æ¢æœºä¸Šï¼Œå¿…é¡»ä¿®æ”¹ä¼˜å…ˆçº§å»æ§åˆ¶ã€‚æœ€å¸¸è§çš„å®æ–½æ˜¯äº’ä¸ºä¸»å¤‡ï¼Œå³sw1ä¸ºvlan8\10\11çš„RBå’Œvlan1\9\12\99çš„BackupRBï¼Œsw2ä¸ºvlan8\10\11çš„RBå’Œvlan1\9\12\99çš„BackupRB&lt;/strong&gt;ã€‚ä¿®æ”¹ä¼˜å…ˆçº§&lt;code&gt;æ€ç§‘ï¼šspanning-tree vlan 8,10,11 priority 4096ï¼›åä¸ºï¼šstp priority 4096ï¼ˆåä¸ºåªèƒ½é’ˆå¯¹æ‰€æœ‰vlanè®¾ç½®ï¼Œä¸èƒ½é’ˆå¯¹æŸä¸€éƒ¨åˆ†vlanï¼‰&lt;/code&gt;ï¼Œä¼˜å…ˆçº§çš„å€¼åªèƒ½ä¸º4096çš„å€æ•°ï¼Œ0ä¸ºæœ€é«˜ä¼˜å…ˆçº§ï¼ˆä¸€èˆ¬åªæœ‰RBè®¾ä¸º0ï¼ŒBackupRBè®¾ç½®ä¸º4096ï¼‰ã€‚&lt;br&gt;
4.2 æ ¹ç«¯å£ï¼ˆRPï¼‰é€‰ä¸¾&lt;/li&gt;
&lt;li&gt;PortIDï¼ˆç«¯å£IDï¼ŒPIDï¼Œç”±ç«¯å£ä¼˜å…ˆçº§(é»˜è®¤128)å’Œåºå·ç»„æˆï¼‰&lt;/li&gt;
&lt;li&gt;RPC(RootPathCostï¼Œåˆ°æ ¹æ¡¥çš„å¼€é”€ï¼ŒDot1qæ ‡å‡†ä¸‹çš„PortCosté»˜è®¤ä¸º20000)&lt;/li&gt;
&lt;li&gt;**é€‰ä¸¾è§„åˆ™ï¼š**RPCæœ€å°çš„----&amp;gt;&lt;strong&gt;å¯¹ç«¯&lt;/strong&gt;çš„æ¡¥IDæœ€å°çš„----&amp;gt;&lt;strong&gt;å¯¹ç«¯&lt;/strong&gt;çš„ç«¯å£IDæœ€å°çš„----&amp;gt;&lt;strong&gt;æœ¬ç«¯&lt;/strong&gt;çš„ç«¯å£åºå·æœ€å°çš„&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ç«¯å£çš„å¼€é”€ï¼ˆcostï¼‰å€¼&lt;code&gt;æ€ç§‘ï¼šspanning-tree vlan 8 cost 10&lt;/code&gt;ï¼›ä¿®æ”¹ç«¯å£çš„ä¼˜å…ˆçº§&lt;code&gt;æ€ç§‘ï¼šint e1/3 spanning-tree vlan 10 port-priority 64 (åªèƒ½æ˜¯64çš„å€æ•°ï¼Œ0\64\128\192)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸¾ä¾‹
&lt;ul&gt;
&lt;li&gt;é€šè¿‡æ¯”è¾ƒ&amp;quot;å¯¹ç«¯çš„æ¡¥ID&amp;quot;ï¼Œé€‰æ‹©äº¤æ¢æœºçš„&amp;quot;æ¥å£1&amp;quot;ä¸ºæ ¹ç«¯å£&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762628379.png&#34; alt=&#34;é€šè¿‡æ¯”è¾ƒ&amp;quot;å¯¹ç«¯çš„æ¡¥ID&amp;quot;ï¼Œé€‰æ‹©äº¤æ¢æœºçš„&amp;quot;æ¥å£1&amp;quot;ä¸ºæ ¹ç«¯å£&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;é€šè¿‡æ¯”è¾ƒ&amp;quot;å¯¹ç«¯çš„ç«¯å£ID&amp;quot;ï¼Œé€‰æ‹©äº¤æ¢æœºXçš„&amp;quot;æ¥å£3&amp;quot;ä¸ºæ ¹ç«¯å£&lt;br&gt;
![é€šè¿‡æ¯”è¾ƒ&amp;quot;å¯¹ç«¯çš„ç«¯å£ID&amp;quot;ï¼Œé€‰æ‹©äº¤æ¢æœºXçš„&amp;quot;æ¥å£3&amp;quot;ä¸ºæ ¹ç«¯å£]&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762645946.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¤šè§„åˆ™ä½¿ç”¨&lt;br&gt;
SWBçš„æ¥å£2ï¼šè§„åˆ™3ï¼Œå¯¹ç«¯çš„ç«¯å£ID&lt;br&gt;
SWCçš„æ¥å£1ï¼šè§„åˆ™1ï¼ŒRPC&lt;br&gt;
SWDçš„æ¥å£5ï¼šè§„åˆ™2ï¼Œå¯¹ç«¯çš„æ¡¥ID&lt;br&gt;
SWEçš„æ¥å£1ï¼šè§„åˆ™4ï¼Œæœ¬ç«¯çš„ç«¯å£åºå·&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762203856.png&#34; alt=&#34;å¤šè§„åˆ™ä½¿ç”¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
4.3 æŒ‡å®šç«¯å£é€‰ä¸¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;**é€‰ä¸¾è§„åˆ™ï¼š**RPCæœ€å°çš„----&amp;gt;&lt;strong&gt;æœ¬ç«¯&lt;/strong&gt;çš„æ¡¥IDæœ€å°çš„----&amp;gt;&lt;strong&gt;æœ¬ç«¯&lt;/strong&gt;çš„ç«¯å£IDæœ€å°çš„(é™¤éäº¤æ¢æœºçš„ä¸¤ä¸ªæ¥å£ç›¸è¿ï¼Œå¦åˆ™ä¸€èˆ¬ä¸åˆ°è¿™ä¸€æ­¥)&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;STPçš„æ¨¡å¼&lt;br&gt;
å‡çº§è¿‡ç¨‹ï¼š802.1D---&amp;gt;802.1w---&amp;gt;802.1s&lt;br&gt;
æ€ç§‘å’Œåä¸ºè®¾å¤‡å¯¹æ¥éœ€è¦ä½¿ç”¨MSTPã€‚åä¸ºé»˜è®¤æ¨¡å¼ä¸ºMSTPï¼Œä¿®æ”¹ä¸ºSTP&lt;code&gt;stp mode stp&lt;/code&gt;ï¼›æ€ç§‘è®¾å¤‡é»˜è®¤ä¸ºpvstï¼Œä¿®æ”¹ä¸ºpvst&lt;code&gt;spanning-tree mode pvst&lt;/code&gt;ã€‚&lt;strong&gt;ç°å®å·¥ä½œä¸­å»ºè®®ä½¿ç”¨mstpã€‚&lt;/strong&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762192110.png&#34; alt=&#34;STPçš„æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¡¥å……ï¼šåä¸ºè®¾å¤‡è¿˜æœ‰ä¸¤ç§æ¨¡å¼ï¼šVBSTï¼ˆæ¯ä¸ªvlançš„stpï¼Œä¸€èˆ¬åä¸ºäº¤æ¢æœºå³å¯è§åˆ°ï¼‰ã€V-STP(è™šæ‹Ÿstpï¼Œæ•°æ®ä¸­å¿ƒçš„CEäº¤æ¢æœºä¸Šå¯è§)&lt;/li&gt;
&lt;li&gt;æ ‡å‡†STPçš„5ä¸ªç«¯å£çŠ¶æ€&lt;br&gt;
6.1 æ ‡å‡†STPçš„5ä¸ªç«¯å£çŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Disabledï¼Œç¦ç”¨çŠ¶æ€ï¼Œå³ä¸å¤„ç†å’Œè½¬å‘BPDUï¼Œä¹Ÿä¸è½¬å‘ç”¨æˆ·æµé‡&lt;/li&gt;
&lt;li&gt;Blockingï¼ˆDiscardingï¼‰ï¼Œé˜»å¡çŠ¶æ€ï¼Œä»…ä»…æ¥æ”¶å’Œå¤„ç†BPDUï¼Œä¸è½¬å‘BPDUï¼Œä¹Ÿä¸è½¬å‘ç”¨æˆ·æµé‡ï¼Œ&lt;strong&gt;æ­¤çŠ¶æ€æ˜¯é¢„å¤‡ç«¯å£çš„æœ€ç»ˆçŠ¶æ€&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Listeningï¼Œä¾¦å¬çŠ¶æ€ï¼Œè½¬å‘BPDUæŠ¥æ–‡ï¼Œä¸è½¬å‘ç”¨æˆ·æµé‡&lt;/li&gt;
&lt;li&gt;Learningï¼Œå­¦ä¹ çŠ¶æ€ï¼Œæ ¹æ®æ”¶åˆ°çš„ç”¨æˆ·æµé‡æ„å»ºMACåœ°å€è¡¨ï¼Œä¸è½¬å‘ç”¨æˆ·æµé‡ï¼Œ&lt;strong&gt;æ­¤çŠ¶æ€æ˜¯ä¸ºäº†é˜²æ­¢ä¸´æ—¶ç¯è·¯&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Forwardingï¼Œè½¬å‘çŠ¶æ€ï¼Œå³å¯è½¬å‘ç”¨æˆ·æµé‡ï¼Œä¹Ÿå¯è½¬å‘BPDUæŠ¥æ–‡ï¼Œåªæœ‰&lt;strong&gt;æ ¹ç«¯å£æˆ–è€…æŒ‡å®šç«¯å£&lt;/strong&gt;æ‰èƒ½è¿›å…¥æ­¤çŠ¶æ€&lt;br&gt;
6.2 5ä¸ªç«¯å£çŠ¶æ€çš„è½¬æ¢&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762176846.png&#34; alt=&#34;æ ‡å‡†STPçš„5ä¸ªç«¯å£çŠ¶æ€çš„è½¬æ¢&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;STPçš„æ—¶é—´&lt;br&gt;
HelloTime=2sï¼ŒBPDUçš„å‘é€é—´éš”&lt;br&gt;
MaxAge=20sï¼Œæœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼Œå³BPDUå¤±æ•ˆçš„æ—¶é—´&lt;br&gt;
ForwardDelay=15sï¼Œè½¬å‘æ—¶å»¶ï¼Œç«¯å£çŠ¶æ€è½¬æ¢çš„æ—¶é—´é—´éš”&lt;/li&gt;
&lt;li&gt;è¾¹ç¼˜ç«¯å£&lt;br&gt;
ä¸ç»ˆç«¯ç›¸è¿çš„ç«¯å£ï¼ˆaccessæˆ–è€…trunkï¼‰ä¸éœ€è¦å‚ä¸ç”Ÿæˆæ ‘çš„è®¡ç®—ï¼Œè¿™äº›ç«¯å£å‚ä¸è®¡ç®—ä¼šå½±å“ç½‘ç»œæ‹“æ‰‘æ”¶æ•›çš„é€Ÿåº¦ï¼ˆè½¬å‘æ—¶å»¶ï¼Œå³ç›´æ¥è·³è¿‡ç«¯å£çŠ¶æ€Listeningå’ŒLearningï¼Œç›´è¾¾Forwardingï¼‰ï¼Œè€Œä¸”è¿™äº›ç«¯å£çš„çŠ¶æ€æ”¹å˜ä¹Ÿå¯èƒ½å¼•èµ·ç½‘ç»œçš„éœ‡è¡ï¼Œå¯¼è‡´ç”¨æˆ·æµé‡ä¸­æ–­ã€‚&lt;br&gt;
&lt;strong&gt;æ€ç§‘é…ç½®è¾¹ç¼˜ç«¯å£ï¼š&lt;/strong&gt;&lt;code&gt;spanning-tree portfast edge default&lt;/code&gt;ï¼ŒæŠŠ&lt;strong&gt;æ‰€æœ‰accessæ¥å£&lt;/strong&gt;é…ç½®ä¸ºè¾¹ç¼˜ç«¯å£&lt;br&gt;
&lt;strong&gt;åä¸ºé…ç½®è¾¹ç¼˜ç«¯å£ï¼š&lt;/strong&gt;&lt;code&gt;stp edged-port default&lt;/code&gt;ï¼ŒæŠŠ&lt;strong&gt;æ‰€æœ‰æ¥å£&lt;/strong&gt;é…ç½®ä¸ºè¾¹ç¼˜ç«¯å£ã€‚å¦‚æœå¯¹ç«¯è¿æ¥çš„æ˜¯äº¤æ¢æœºï¼Œä¸å»ºè®®é…ç½®è¾¹ç¼˜ç«¯å£ã€‚æœ€å¸¸ç”¨æ˜¯å°†æ¥å£é…ç½®è¾¹ç¼˜ç«¯å£&lt;code&gt;stp edged-port enableï¼ˆæ¥å£è§†å›¾ä¸­é…ç½®ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;BPDUä¿æŠ¤&lt;br&gt;
è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ä¹‹åä¼šå¤±å»å…¶è¾¹ç¼˜ç«¯å£å±æ€§ã€‚ä¸ºé˜²æ­¢æ”»å‡»è€…ä»¿é€ BPDUæŠ¥æ–‡å¯¼è‡´è¾¹ç¼˜ç«¯å£å±æ€§å˜æˆéè¾¹ç¼˜ç«¯å£ï¼Œæˆ–è€…ä¿æŠ¤STPçš„è¾¹ç•Œï¼Œå¯é…ç½®äº¤æ¢è®¾å¤‡çš„BPDUä¿æŠ¤åŠŸèƒ½ã€‚&lt;br&gt;
é…ç½®BPDUä¿æŠ¤åŠŸèƒ½ä¹‹åï¼Œå¦‚æœè¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUæŠ¥æ–‡ï¼Œè¾¹ç¼˜ç«¯å£å°±ä¼šè¢«error-downï¼Œè¾¹ç¼˜ç«¯å£å±æ€§ä¸å˜ã€‚&lt;br&gt;
&lt;strong&gt;æ€ç§‘ï¼š&lt;/strong&gt;&lt;br&gt;
&lt;em&gt;å…¨å±€é…ç½®&lt;code&gt;spanning-tree bpduguard enable&lt;/code&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;å’Œæ€ç§‘å…¨å±€çš„è¾¹ç¼˜ç«¯å£è”åŠ¨ï¼ˆä»…ä»…ä½œç”¨äºè¾¹ç¼˜ç«¯å£ï¼‰&lt;code&gt;spanning-tree portfast edge bpduguard default&lt;/code&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;æ¥å£é…ç½®ï¼ˆæ¥å£å®æ–½BPDUä¿æŠ¤ï¼Œæ”¹æ¥å£æ— æ‰€è°“æ˜¯å¦ä¸ºè¾¹ç¼˜ç«¯å£ï¼Œéƒ½ä¼šshutdownå¤±æ•ˆï¼‰&lt;code&gt;spanning-tree portfast edge trunk(é…æˆè¾¹ç¼˜ç«¯å£)&lt;/code&gt;--&amp;gt;&lt;code&gt;spanning-tree bpduguard enable&lt;/code&gt;&lt;/em&gt;&lt;br&gt;
&lt;em&gt;åœ¨æ€ç§‘çš„æ¥å£ä¸‹é…ç½®BPDUä¿æŠ¤ï¼Œè¯¥æ¥å£å¯ä»¥ä¸æ˜¯è¾¹ç¼˜ç«¯å£&lt;/em&gt;&lt;br&gt;
&lt;strong&gt;åä¸ºï¼š&lt;/strong&gt;&lt;br&gt;
&lt;em&gt;åªæœ‰å…¨å±€é…ç½®ï¼ˆåªé’ˆå¯¹è¾¹ç¼˜ç«¯å£ç”Ÿæ•ˆï¼Œåªè¦è¾¹ç¼˜ç«¯å£æ”¶åˆ°BPDUå°±ä¼šå…³é—­ï¼‰&lt;code&gt;stp bpdu-protection&lt;/code&gt;&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;STPä¼˜åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒæ•´STPçš„æ¨¡å¼&lt;/li&gt;
&lt;li&gt;è°ƒæ•´STPçš„æ ¹&lt;/li&gt;
&lt;li&gt;é…ç½®è¾¹ç¼˜ç«¯å£ï¼ˆç«¯å£å¿«é€Ÿï¼ŒèŠ‚çœ30sæ—¶é—´ï¼Œæ ¹æ®å®é™…æƒ…å†µé…ç½®å…¨å±€æˆ–è€…å•ç‹¬çš„æ¥å£ï¼‰&lt;/li&gt;
&lt;li&gt;é…ç½®BPDUä¿æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ..............................................æ¼”ç¤ºç¯è·¯å¯¼è‡´çš„å¹¿æ’­é£æš´
# sw1
int g0/0/5
port link-type trunk
port trunk allow-pass vlan all
int g0/0/1
port default vlan 8
port trunk allow-pass vlan all
undo stp  enable # å…³é—­ç”Ÿæˆæ ‘

# sw2
int g0/0/5
port link-type trunk
port trunk allow-pass vlan all
vlan batch 8 to 12 99
undo stp  enable

# sw3
int g0/0/1 
undo shutdown
undo stp  enable

# R1
dis arp # æŸ¥çœ‹arpè¡¨
reset arp all # æ¸…ç©ºarpè¡¨ï¼Œå¼€å§‹æŠ“åŒ…
ping 10.1.10.1

# sw1,sw2ï¼Œsw3
stp enable # å¼€å¯ç”Ÿæˆæ ‘ï¼Œæ¢å¤ç”Ÿäº§ç¯å¢ƒ
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# .................................................åä¸ºäº¤æ¢æœºä¸ŠSTPçš„å®æ–½å’Œä¼˜åŒ–
# 1.è°ƒæ•´STPçš„æ¨¡å¼ï¼›2.è°ƒæ•´STPçš„æ ¹ï¼›3.é…ç½®è¾¹ç¼˜ç«¯å£ï¼ˆç«¯å£å¿«é€Ÿï¼‰ï¼›4.é…ç½®BPDUä¿æŠ¤
# ï¼ï¼ï¼ï¼æ€ç§‘å»ºè®®ä½¿ç”¨å…¨å±€çš„è¾¹ç¼˜ç«¯å£å’Œå…¨å±€çš„BPDUä¿æŠ¤
# ï¼ï¼ï¼ï¼åä¸ºå®æ–½å…¨å±€è¾¹ç¼˜ç«¯å£ä¹‹åï¼Œéœ€è¦å°†trunkç«¯å£å°†å…¨å±€è¾¹ç¼˜ç«¯å£ä¸­å»é™¤ï¼Œç„¶åå®æ–½å…¨å±€çš„BPDUä¿æŠ¤
# sw1\2\3ä¸ŠSTPæ¨¡å¼çš„ä¿®æ”¹
stp mode stp
# è°ƒæ•´ä¼˜å…ˆçº§ï¼Œå°†sw1ä½œä¸ºRBï¼Œsw2ä½œä¸ºå¤‡ä»½RB
# sw1
stp priority 0
# sw2 
stp priority 4096
# æŸ¥çœ‹æ¥å£ä¼˜å…ˆçº§
display stp int g0/0/1 # æŸ¥çœ‹å˜é‡Port Priorityçš„å€¼
# sw3é…ç½®è¾¹ç¼˜ç«¯å£
# stp edged-port default #å…¨å±€å¼€å¯è¾¹ç¼˜ç«¯å£
# undo stp edged-port default
int g0/0/10
stp edged-port enable
int g0/0/11
stp edged-port enable
int g0/0/12
stp edged-port enable
 # æŸ¥çœ‹æ˜¯å¦ä¸ºè¾¹ç¼˜ç«¯å£
dis stp int g0/0/10 # æŸ¥çœ‹å˜é‡Port Edgedçš„å€¼ï¼Œå¦‚æœActive=enabledåˆ™ä¸ºè¾¹ç¼˜ç«¯å£
# sw3é…ç½®å…¨å±€çš„BPDUä¿æŠ¤
stp bpdu-protection
# sw3çš„æ¥å£3å’Œ1é…ç½®ä¸ºéè¾¹ç¼˜ç«¯å£ï¼Œå³å°†trunkä»å…¨å±€çš„è¾¹ç¼˜ç«¯å£å»é™¤
int g0/0/3
stp edged-port disable
shutdown
undo shutdown
int g0/0/1
stp edged-port disable
shutdown
undo shutdown
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä¸¤ä¸ªç›´è¿çš„è·¯ç”±å™¨æ— æ³•é€šä¿¡ï¼Œå¦‚ä½•æ’é™¤æ•…éšœï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç”±ä¸‹è‡³ä¸Šï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;**1. æ£€æŸ¥ç‰©ç†å±‚ï¼š**æ¯”å¦‚æ¥å£æŒ‡ç¤ºç¯æ˜¯å¦é—ªäº®ï¼Œæ£€æŸ¥å…‰çº¤æ˜¯å¦å·¥ä½œæˆ–è€…ç½‘çº¿æ˜¯å¦æ­£å¸¸ï¼ˆç›®æµ‹æ³•ï¼‰ã€‚å¦‚æœæœ‰æ•…éšœï¼Œå¯ä»¥ä½¿ç”¨æ›¿æ¢æ³•è§£å†³ï¼›å¦åˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚&lt;br&gt;
**2. æ£€æŸ¥æ•°æ®é“¾è·¯å±‚ï¼š**é€šè¿‡sh int xxæˆ–è€…dis int xxï¼ŒæŸ¥çœ‹2å±‚åè®®æ˜¯å¦å·¥ä½œï¼Œä»¥åŠå°è£…åè®®æ˜¯å¦ä¸€è‡´ï¼ˆæ¯”å¦‚pppã€hdlcç­‰ï¼‰ã€‚å¦‚æœåè®®ä¸Šå’Œç®¡ç†ä¸Šéƒ½æ˜¯å·¥ä½œçš„ï¼Œè¿›è¡Œä¸‹ä¸€æ­¥ã€‚&lt;br&gt;
**3. æ£€æŸ¥ç½‘ç»œå±‚ï¼š**é€šè¿‡IPéªŒè¯æ˜¯å¦ä¸ºåŒä¸€å­ç½‘ã€‚å‡è®¾æ˜¯åŒä¸€å­ç½‘ï¼Œè¦ç‰¹åˆ«å…³å¿ƒARPï¼ˆIPå’ŒMacçš„å¯¹åº”ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ARPï¼Œå…³å¿ƒè·¯ç”±å™¨ä¹‹é—´æ˜¯å¦æœ‰äº¤æ¢æœºè¿›è¡Œè”é€šï¼Œå¦‚æœæœ‰äº¤æ¢æœºåˆ™éœ€è¦æŸ¥çœ‹äº¤æ¢æœºçš„STPçŠ¶æ€ã€äº¤æ¢æœºMacåœ°å€è¡¨ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
">10 æ ‡å‡†ç”Ÿæˆæ ‘STPï¼ˆæ ¹è®¾å¤‡è°ƒæ•´ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/09-ben-zheng-vlanpvidhe-hun-za-mo-shi/"" data-c="
          &lt;p&gt;&lt;code&gt;ç»ˆç«¯é»˜è®¤ä¸è¯†åˆ«tagï¼Œå³æ— æ³•è¯†åˆ«å¸¦æœ‰VlanIDçš„æ•°æ®&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ¬å¾VLANçš„è§£å†³æ–¹æ¡ˆ&lt;br&gt;
&lt;code&gt;ä¸åŒVlanä¹‹é—´ä¸èƒ½å¤Ÿé€šä¿¡ï¼Œä¸ç„¶å°±è¿èƒŒäº†vlanåœ¨2å±‚éš”ç¦»çš„æœ¬æ„ï¼Œç°åœ¨èƒ½å¤Ÿé€šä¿¡äº†ï¼Œä¸»è¦åŸå› æ˜¯trunké“¾è·¯ä¸Šçš„æœ¬å¾Vlanä¸æºå¸¦Tag&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;ä¸»åŠ¨æ–¹æ¡ˆ&lt;/strong&gt;ï¼šä½¿æœ¬å¾Vlanæºå¸¦tagï¼ˆæ€ç§‘è®¾å¤‡ï¼‰&lt;br&gt;
&lt;strong&gt;è¢«åŠ¨æ–¹æ¡ˆ&lt;/strong&gt;ï¼šå°†æœ¬å¾Vlanä¿®æ”¹ä¸ºä¸€ä¸ªç‰¹å®šçš„Vlanæˆ–è€…æ²¡æœ‰ä¸šåŠ¡çš„Vlanï¼ˆè¯¥Vlanä¸‹æ²¡æœ‰ç”¨æˆ·ï¼‰ï¼Œè€Œä¸ä½¿ç”¨Vlan1ï¼ˆåä¸ºè®¾å¤‡ï¼ˆæ€ç§‘è®¾å¤‡ä¹Ÿå¯ä»¥ä½¿ç”¨æœ¬æ–¹æ¡ˆï¼‰ï¼Œåä¸ºçš„trunkæ€»æ˜¯æœ‰PVID Vlançš„ï¼Œæ€»æœ‰å‡ºç°ä¸å¸¦tagçš„æƒ…å†µï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨æ— ä¸šåŠ¡çš„vlanï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# ä½¿å¾—æœ¬å¾Vlanä»ç„¶æºå¸¦tag
conf t
vlan dot1q  tag native  # æ­¤æ—¶å±äºvlan8å’Œvlan9çš„ä¸å†èƒ½å¤Ÿé€šä¿¡

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# sw1
int g0/0/3
port trunk pvid vlan 99
# sw3
int g0/0/3
port trunk pvid vlan 99

# ç»ˆç«¯è¿æ¥trunkæ¥å£å®ç°é€šä¿¡
# å°†æ¥å£çš„PVIDä¿®æ”¹ä¸ºvlanid
# sw3
int g0/0/10
port default vlan 1
port link-type trunk
port trunk pvid vlan 8
port trunk allow-pass vlan 8
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ··æ‚æ¨¡å¼çš„å®æ–½&lt;br&gt;
pc1ã€pc2ã€pc3å‡å¯ä»¥ä¸R1é€šä¿¡ï¼Œä½†æ˜¯pc1ã€pc2ã€pc3ä¹‹é—´ä¸å¯ä»¥é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#..........................................é…ç½®åä¸ºçš„æ··æ‚æ¨¡å¼
# æ¸…ç©ºä¹‹å‰çš„é…ç½®
# sw3
int g0/0/10
port trunk pvid vlan 1
undo port trunk allow-pass vlan 8
port link-type hybrid
int g0/0/11
port default vlan 1
port link-type hybrid
int g0/0/12
port default vlan 1
port link-type hybrid
int g0/0/3
port trunk pvid vlan 1
undo port trunk allow-pass vlan 2 to 4094
port link-type hybrid
# sw1
int g0/0/3
port trunk pvid vlan 1
undo port trunk allow-pass vlan 2 to 4094
port link-type hybrid
int g0/0/1
port default vlan 1
port link-type hybrid

# è®¾ç½®äº¤æ¢æœºsw1å’Œsw3äº’è”é“¾è·¯ï¼ˆæ‰€æœ‰é“¾è·¯å‡æºå¸¦tagï¼‰
# port hybrid pvid / tagged / untagged  åˆ†åˆ«ä¸ºå…¥æ–¹å‘å¢åŠ tag / å‡ºæ–¹å‘æºå¸¦tag / å‡ºæ–¹å‘åˆ é™¤tag
# sw1
int g0/0/3
port hybrid tagged vlan all
# sw3
int g0/0/3
port hybrid tagged vlan all

# è®¾ç½®sw3å’Œpcä¹‹é—´çš„è¿æ¥
# sw3
int g0/0/10
port hybrid pvid vlan 8
port hybrid untagged vlan 8 11
int g0/0/11
port hybrid pvid vlan 9
port hybrid untagged vlan 9 11
int g0/0/12
port hybrid pvid vlan 10
port hybrid untagged vlan 10 11

# è®¾ç½®sw1å’ŒR1ä¹‹é—´çš„è¿æ¥
# sw1
int g0/0/1
port hybrid untagged vlan 8 to 11
port hybrid pvid vlan 11

# å¦‚æœæƒ³è¦å®ç°pc1å’Œpc2ä¹‹é—´é€šä¿¡
# sw3
int g0/0/10
port hybrid untagged vlan 8 9 11
int g0/0/11
port hybrid untagged vlan 8 9 11
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Vlançš„ç«¯å£ç±»å‹çš„æœ€ä½³å®è·µ&lt;br&gt;
Trunkç”¨äºäº¤æ¢æœºäº’è”ï¼›Accessç”¨äºç»ˆç«¯æ¥å…¥ï¼›å±€éƒ¨å¯ä»¥æ··ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;# sw3å’Œç»ˆç«¯ä¹‹é—´ç›¸è¿ä½¿ç”¨access
int g0/0/10
undo port hybrid untagged vlan 8 to 9 11
undo port hybrid pvid vlan
port link-type access
port default vlan 8
int g0/0/11
undo port hybrid untagged vlan 8 to 9 11
undo port hybrid pvid vlan
port link-type access
port default vlan 9
int g0/0/12
undo port hybrid untagged vlan 10 to 11
undo port hybrid pvid vlan
port link-type access
port default vlan 10

# sw1å’Œsw3ä¹‹é—´çš„äº’è”
# sw3
int g0/0/3
undo port hybrid tagged vlan 1 to 4094
port hybrid vlan 1
port link-type trunk
port trunk allow-pass vlan all
# sw1
int g0/0/3
undo port hybrid tagged vlan 1 to 4094
port hybrid vlan 1
port link-type trunk
port trunk allow-pass vlan all
int g0/0/1
undo port hybrid untagged vlan 8 to 11
port hybrid pvid vlan 1
port link-type access
port default vlan 11
&lt;/code&gt;&lt;/pre&gt;
">09 æœ¬å¾VLANï¼ˆPVIDï¼‰å’Œæ··æ‚æ¨¡å¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/08-shi-shi-vlan-he-vlan-de-jie-ru-trunk-he-ben-di-vlan/"" data-c="
          &lt;ol&gt;
&lt;li&gt;VlanåŸºç¡€&lt;br&gt;
1.1 å…±äº«å¼ä»¥å¤ªç½‘ä¸­ï¼Œæ‰€æœ‰çš„ç»ˆç«¯ä¸»æœºéƒ½å¤„äºåŒä¸€ä¸ªå†²çªåŸŸä¸­ï¼Œå±€åŸŸç½‘ä¸­çš„æ‰€æœ‰æ¥å…¥ç»ˆç«¯å…±äº«æ€»çº¿çš„å¸¦å®½ï¼ˆåŠåŒå·¥ï¼‰ã€‚äº¤æ¢å¼ä»¥å¤ªç½‘ä¸­ï¼Œäº¤æ¢æœºçš„æ¯ä¸ªæ¥å£å¤„äºç‹¬ç«‹çš„å†²çªåŸŸä¸­ï¼Œç»ˆç«¯ä¸»æœºç‹¬å æ¥å£å¸¦å®½ï¼ˆ2å±‚è½¬å‘è¡¨ï¼‰ã€‚&lt;br&gt;
1.2 è·¯ç”±å™¨æˆ–è€…ä¸‰å±‚äº¤æ¢æœºä¸‰å±‚æ¥å£å¤„äºç‹¬ç«‹çš„å¹¿æ’­åŸŸä¸­ï¼Œç»ˆç«¯ä¸»æœºå‘å‡ºçš„å¹¿æ’­å¸§åœ¨ä¸‰å±‚æ¥å£è¢«ç»ˆæ­¢ ï¼ˆå¹¿æ’­åŸŸï¼‰ã€‚&lt;code&gt;vlan1ï¼Œç‰¹æ®Švlanï¼Œé»˜è®¤vlanï¼ˆæ‰€æœ‰æ¥å£é»˜è®¤éƒ½å±äºvlan1ï¼‰ï¼Œä¸èƒ½åˆ é™¤ï¼Œå°½é‡é¿å…ä½¿ç”¨vlan1ã€‚&lt;/code&gt;&lt;br&gt;
1.3 Vlanï¼Œè™šæ‹Ÿå±€åŸŸç½‘ï¼Œæ˜¯å°†ä¸€ä¸ªç‰©ç†çš„å±€åŸŸç½‘åœ¨é€»è¾‘ä¸Šåˆ’åˆ†ä¸ºå¤šä¸ªå¹¿æ’­åŸŸçš„æŠ€æœ¯ï¼Œé€šè¿‡åœ¨äº¤æ¢æœºä¸Šé…ç½®vlanï¼Œå¯ä»¥å®ç°åœ¨åŒä¸€ä¸ªvlanå†…çš„ç”¨æˆ·è¿›è¡ŒäºŒå±‚äº’è®¿ï¼Œè€Œä¸åŒvlanä¹‹é—´çš„ç”¨æˆ·è¢«äºŒå±‚éš”ç¦»ã€‚æ—¢èƒ½å¤Ÿéš”ç¦»å¹¿æ’­åŸŸï¼Œåˆèƒ½å¤Ÿæå‡ç½‘ç»œå®‰å…¨æ€§ã€‚Vlanä¸æ˜¯ä¸ºäº†éš”ç¦»ç”¨æˆ·ï¼Œè€Œæ˜¯ä¸ºäº†è®©ç”¨æˆ·å¯ä»¥é€šä¿¡çš„åŒæ—¶å®Œæˆç®¡ç†ã€‚&lt;code&gt;ä¸€ä¸ªvlanæ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸï¼Œvlanå†…éƒ¨çš„ä¸»æœºå¯ä»¥ç›´æ¥åœ¨äºŒå±‚ç›¸äº’é€šä¿¡ï¼Œè€Œvlané—´çš„ä¸»æœºé€šä¿¡å¯ä»¥é€šè¿‡ä¸‰å±‚ï¼ˆvlané—´è·¯ç”±ï¼‰é€šä¿¡ã€‚&lt;/code&gt;&lt;br&gt;
1.4 åˆ›å»ºvlan&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# SW1,SW2,SW3
vlan 8,9,10,11,12,99
show vlan brief
# åˆ é™¤vlan18
no vlan 18

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# SW1,SW2,SW3
vlan batch 8 9 10 11 12 99 # æˆ–è€…vlan batch 8 to 12 99
dis vlan summary
# åˆ é™¤vlan18
undo vlan 18
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Accessæ¨¡å¼&lt;br&gt;
2.1 å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762055771.png&#34; alt=&#34;Vlanå¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
äº¤æ¢æœºå¤„ç†ä¸åŒVLANçš„å¸§ï¼Œéœ€è¦é€šè¿‡VlanIDï¼ˆTagï¼‰å»åŒºåˆ†ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Priorityï¼š3bitï¼Œè¡¨ç¤ºå¸§çš„ä¼˜å…ˆçº§ï¼Œå–å€¼0~7ï¼Œå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚å½“äº¤æ¢æœºé˜»å¡æ—¶ï¼Œä¼˜å…ˆå‘é€ä¼˜å…ˆçº§é«˜çš„æ•°æ®å¸§&lt;/li&gt;
&lt;li&gt;VlanIDï¼š12bitï¼Œå¯ç”¨å€¼ä¸º1~4094&lt;br&gt;
2.2 é“¾è·¯ç±»å‹ï¼ˆæ¥å£ç±»å‹ï¼‰å’Œé“¾è·¯ç±»å‹çš„é€‰æ‹©&lt;br&gt;
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¸»æœºå’Œäº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ä¸ºæ¥å…¥æ¨¡å¼ï¼Œäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ä¸ºå¹²é“é“¾è·¯ã€‚åä¸ºå’Œåä¸‰è®¾å¤‡ä¸Šçš„hybridæ··æ‚æ¨¡å¼å¯ä»¥çµæ´»çš„ä½¿ç”¨VlanIDã€‚&lt;/li&gt;
&lt;li&gt;**accessï¼ˆæ¥å…¥ï¼‰ï¼š**ç‹¬äº«æ¨¡å¼ï¼Œåªèƒ½å…è®¸å”¯ä¸€çš„VlanIDå¸§é€šè¿‡æœ¬æ¥å£ã€‚åœ¨æµé‡çš„å…¥æ–¹å‘ä¸Šï¼Œæ”¶åˆ°untaggedï¼ˆä¸å¸¦VlanIDæ ‡ç­¾ï¼‰ï¼Œäº¤æ¢æœºå°†å¼ºåˆ¶åŠ ä¸Šè¯¥æ¥å£çš„PVIDï¼›åœ¨æµé‡çš„å‡ºæ–¹å‘ä¸Šï¼Œå¿…é¡»ä»å…è®¸é€šè¿‡çš„æ¥å£ä¸Šè½¬å‘å‡ºå»ï¼ŒåŒæ—¶å»æ‰å¸§çš„tagï¼Œ&lt;strong&gt;accessç«¯å£å‘å¾€å¯¹ç«¯è®¾å¤‡çš„ä»¥å¤ªå¸§æ°¸è¿œæ˜¯ä¸å¸¦æ ‡ç­¾çš„&lt;/strong&gt;ã€‚ä¼˜ç‚¹ï¼ŒVlanå†…æµé‡ç‹¬å é“¾è·¯ï¼›ç¼ºç‚¹ï¼Œéšç€Vlanæ•°ç›®å¢åŠ ï¼Œå ç”¨çš„æ¥å£éšä¹‹å¢åŠ ã€‚&lt;/li&gt;
&lt;li&gt;**trunkï¼ˆå¹²é“ï¼‰ï¼š**å…±äº«æ¨¡å¼ï¼Œå…è®¸å¤šä¸ªvlanæµé‡åœ¨åŒä¸€é“¾è·¯ä¸Šè½¬å‘ï¼Œtrunkä¸Šå¯ä»¥è½¬å‘ä¸åŒçš„vlançš„å¸§ï¼Œé€šè¿‡å¸§ä¸­çš„tagæŒ‡å®švlanæµé‡çš„å½’å±ã€‚trunkæ¥å£æ”¶åˆ°å¸§æ—¶ï¼Œå¦‚æœè¯¥å¸§ä¸åŒ…å«tagï¼Œå°†æ‰“ä¸Šæ¥å£çš„PVIDï¼ˆæœ¬å¾VLANï¼Œé»˜è®¤vlan1ï¼‰,å¦‚æœè¯¥å¸§åŒ…å«tagï¼Œåˆ™ä¸æ”¹å˜ä»»ä½•æ ‡è¯†ï¼›trunkæ¥å£å‘é€å¸§æ—¶ï¼Œ&lt;strong&gt;è¯¥å¸§çš„vlanidåœ¨trunkçš„å…è®¸å‘é€åˆ—è¡¨ä¸­ï¼ˆä¸åœ¨åˆ—è¡¨ä¸­çš„ä¸å‘é€ï¼‰&lt;/strong&gt;ï¼Œå¦‚æœä¸æ¥å£çš„PVIDç›¸åŒåˆ™å‰¥ç¦»tagä¹‹åå‘é€ï¼ˆæœ¬å¾vlanæˆ–è€…å‘é€ä¸ªå®¢æˆ·ç«¯PCï¼Œå·¥ä½œåŸç†ç±»ä¼¼accessæ¨¡å¼ï¼‰ï¼Œå¦åˆ™ç›´æ¥å‘é€ï¼ˆé€ä¼ ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;**dot1q-tunnelï¼ˆQinQï¼Œå¹²é“ä¸­çš„å¹²é“ï¼‰ï¼š**trunkæ¨¡å¼çš„æ ‡å‡†ä¸ºdot1q&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;private-vlanï¼ˆæ€ç§‘ï¼Œç§æœ‰vlanï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;**hybridï¼ˆåä¸ºï¼Œæ··æ‚æ¨¡å¼ï¼‰ï¼š**åœ¨å…¥æ–¹å‘å¢åŠ ä¸€ä¸ªPVIDï¼ˆç±»ä¼¼accessï¼‰ï¼Œåœ¨å‡ºæ–¹å‘å…è®¸å¤šä¸ªVlançš„æ•°æ®å¸§è½¬å‘å‡ºå»å¹¶ç§»é™¤å¤šä¸ªPVIDã€‚åä¸ºè®¾å¤‡æ¥å£çš„é»˜è®¤æ¨¡å¼ï¼Œå³å¯ä»¥è¿æ¥ç»ˆç«¯ï¼Œä¹Ÿå¯ä»¥è¿æ¥äº¤æ¢æœºã€‚hybridæ¥å£å¯ä»¥ä»¥taggedæˆ–è€…Untaggedæ–¹å¼åŠ å…¥Vlanã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#......................................................å®æ–½Accesså’ŒTrunkæ¨¡å¼
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# Accessæ¨¡å¼
# sw3ï¼Œå°†10-12æ¥å£åˆ’å…¥vlan8ï¼ŒåŒæ—¶pc1çš„IPä¸º10.1.10.1/28ã€pc2çš„IPä¸º10.1.10.2/28ã€pc3çš„IPä¸º10.1.10.2/28ï¼ˆ255.255.255.240ï¼‰
int g0/0/10 
port link-type access
port default vlan 8
int g0/0/11
port link-type access
port default vlan 9
int g0/0/12
port link-type access
port default vlan 8
dis port vlan active  # æŸ¥çœ‹vlanæƒ…å†µ
# å®ç°PC1å’ŒR1é€šä¿¡
# æ–¹æ¡ˆä¸€ï¼šæ²¿é€”æ‰€æœ‰æ¥å£å‡æ¥å…¥vlan8
# sw3
int g0/0/3
port link-type access
port default vlan 8
# sw1
int g0/0/3
port link-type access
port default vlan 8
int g0/0/1
port link-type access
port default vlan 8
# AR1
int g0/0/1
ip address 10.1.10.4 255.255.255.240
# æ–¹æ¡ˆäºŒï¼šå°†sw3çš„æ¥å£3å’Œ10æ”¹ä¸ºvlan9
# sw3ï¼ˆæ­¤å®éªŒéœ€è¦å…³é—­sw2ï¼ŒåŸå› æ˜¯stpï¼‰
int g0/0/3
port default vlan 9
int g0/0/10
port default vlan 9

# Trunkæ¨¡å¼
# å®ç°PC1å’ŒR1é€šä¿¡
# åä¸ºæ¥å£ä¿®æ”¹ä¸ºtrunkæ¨¡å¼ä¹‹å‰éœ€è¦å…ˆå°†æ¥å£æ¢å¤ä¸ºvlan1ï¼Œå¦åˆ™æ— æ³•ä¿®æ”¹
# æ–¹æ¡ˆä¸€ï¼šäº¤æ¢æœºsw1å’Œsw3ä¹‹é—´çš„æ•°æ®å¸§æºå¸¦tagï¼ˆé€ä¼ ï¼‰
# sw1
int g0/0/3
port default vlan 1 
port link-type trunk
port trunk allow-pass vlan all  # å…è®¸vlan1-4094é€šè¿‡
int g0/0/1
port default vlan 8
# sw3
clear configuration int g0/0/3
int g0/0/3
port link-type trunk
undo shutdown
port trunk allow-pass vlan all
int g0/0/10
port default vlan 8
# æ–¹æ¡ˆäºŒï¼šäº¤æ¢æœºsw1å’Œsw3ä¹‹é—´çš„æ•°æ®å¸§ä¸æºå¸¦tagï¼ˆéé€ä¼ ï¼Œæœ¬å¾vlanï¼‰
# å°†æ–¹æ¡ˆä¸€ä¸­çš„sw1å’Œsw3çš„äº¤æ¢æœºäº’è”æ¥å£è®¾ç½®æœ¬å¾vlanä¸ºvlan8
# sw1ï¼Œè®¾ç½®æœ¬å¾vlan
int g0/0/3
port trunk pvid vlan 8
# sw3
int g0/0/3
port trunk pvid vlan 8
# å®ç°vlan10å’Œvlan8é€šä¿¡ï¼ˆè¿èƒŒäº†vlanåœ¨2å±‚éš”ç¦»çš„æœ¬æ„ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çœ‹åˆ°çš„ï¼‰
# sw3
int g0/0/3
port trunk pvid vlan 10
int g0/0/10
port trunk pvid vlan 10



# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘ï¼ˆéƒ¨åˆ†å®éªŒï¼‰
# access
int e0/0
switchport mode access
switchport access vlan 8
int e0/1
switchport mode access
switchport access vlan 8
int e0/2
switchport mode access
switchport access vlan 8

# trunk
# sw1
int e0/3
switchport trunk encapsulation dot1q
switchport mode trunk
do sh run i # æŸ¥çœ‹æœ¬æ¥å£é…ç½®
# sw3 
int e0/3
switchport trunk encapsulation dot1q  # äº¤æ¢æœºæ¥å£çš„å°è£…æ¨¡å¼ä¸ºdot1qï¼ˆæ€ç§‘æŸäº›äº¤æ¢æœºé™¤äº†æ”¯æŒdot1qï¼Œè¿˜æ”¯æŒæ€ç§‘è‡ªèº«çš„ISLï¼Œæ‰€ä»¥éœ€è¦å…ˆæŒ‡å®šå·¥ä½œæ ‡å‡†ï¼‰
switchport mode trunk
show int trunk  #  æ€ç§‘é»˜è®¤å…è®¸æ‰€æœ‰vlané€šè¿‡trunk 
# è®¾ç½®æœ¬å¾vlanï¼ˆå®ç°vlan8å’Œvlan9çš„é€šä¿¡ï¼Œè¿èƒŒäº†vlanåœ¨2å±‚éš”ç¦»çš„æœ¬æ„ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çœ‹åˆ°çš„ï¼‰
# sw1
int e0/1
switchport trunk native vlan 8
int e0/3
switchport trunk native vlan 8
# sw3
int e0/3
switchport trunk native vlan 9
int e0/0
switchport access vlan 9
&lt;/code&gt;&lt;/pre&gt;
">08 å®æ–½Vlanå’ŒVlançš„æ¥å…¥ã€Trunkå’Œæœ¬åœ°Vlan</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/07-ren-shi-he-guan-li-jiao-huan-ji-de-mac-di-zhi-biao/"" data-c="
          &lt;ol&gt;
&lt;li&gt;ç½‘ç»œæ“ä½œç³»ç»Ÿ&lt;br&gt;
åä¸ºVRPï¼›æ€ç§‘IOSï¼›åä¸‰Comwareï¼Œå‡é‡‡ç”¨Linuxå†…æ ¸&lt;br&gt;
1.1 åä¸ºå’Œåä¸‰è®¾å¤‡å‘½ä»¤è§†å›¾&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·è§†å›¾ï¼šè®¾å¤‡å¯åŠ¨åçš„ç¼ºçœè§†å›¾ï¼Œå¯æŸ¥çœ‹å¯åŠ¨ååŸºæœ¬è¿è¡ŒçŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯&lt;code&gt;ï¼ˆCtrl+zä»ä»»æ„è§†å›¾å›åˆ°æ­¤è§†å›¾ï¼‰&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿè§†å›¾ï¼šé…ç½®ç³»ç»Ÿå…¨å±€é€šç”¨å‚æ•°&lt;/li&gt;
&lt;li&gt;è·¯ç”±åè®®è§†å›¾ï¼šé…ç½®è·¯ç”±åè®®å‚æ•°çš„è§†å›¾&lt;/li&gt;
&lt;li&gt;æ¥å£è§†å›¾ï¼šé…ç½®æ¥å£å‚æ•°çš„è§†å›¾&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç•Œé¢è§†å›¾ï¼šé…ç½®ç™»å½•è®¾å¤‡çš„å„ä¸ªç”¨æˆ·å±æ€§çš„è§†å›¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761816334.png&#34; alt=&#34;åä¸ºå’Œåä¸‰è®¾å¤‡å„è§†å›¾ä¹‹é—´çš„å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.2 æ€ç§‘è®¾å¤‡å‘½ä»¤è§†å›¾&lt;br&gt;
ç”¨æˆ·æ¨¡å¼&lt;code&gt;ï¼ˆCtrl+cä»ä»»æ„è§†å›¾å›åˆ°æ­¤è§†å›¾ï¼‰&lt;/code&gt;ã€ç‰¹æƒæ¨¡å¼ã€æ¥å£è§†å›¾ã€ç”¨æˆ·ç•Œé¢è§†å›¾ç­‰ç­‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761842096.png&#34; alt=&#34;æ€ç§‘è®¾å¤‡å„è§†å›¾ä¹‹é—´çš„å…³ç³»&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;å¸¸ç”¨å‘½ä»¤å°ç»“&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤ä½œç”¨&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;åä¸ºå’Œåä¸‰&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æ€ç§‘&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥çœ‹è®¾å¤‡ç¡¬ä»¶ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;display esn&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;show inventory&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis version&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh version&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥çœ‹å½“å‰é…ç½®&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis current-configuration (æˆ–è€…ctrl+g)&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh running-config&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤ºæ¥å£ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis interface&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh interface&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤ºæ¥å£IPçŠ¶æ€å’Œé…ç½®ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis ip interface brief&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh ip interface brief&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤ºç³»ç»Ÿè¿è¡Œç»Ÿè®¡ä¿¡æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis diagnostic-informaion&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh diagnostic&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŸ¥çœ‹å†å²å‘½ä»¤&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;dis history-command&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;sh history&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol&gt;
&lt;li&gt;ç®¡é“ç¬¦&lt;br&gt;
æ€ç§‘è®¾å¤‡ï¼šbegin(å¼€å¤´)ï¼Œinclude(åŒ…å«)ï¼Œexclude(æ’é™¤)ï¼Œsection(æŸä¸€é…ç½®çš„å®Œæ•´å†…å®¹)&lt;br&gt;
åä¸ºè®¾å¤‡ï¼šincludeï¼Œbeginï¼Œexcludeï¼Œconfigurationå’Œsection(åä¸ºè®¾å¤‡æ­¤å‘½ä»¤å‰ä¸éœ€è¦ç®¡é“ç¬¦ï¼Œç±»ä¼¼æ€ç§‘è®¾å¤‡ä¸Šçš„section&lt;code&gt;dis current-configuration configuration aaa&lt;/code&gt;)&lt;br&gt;
å¢å¼ºç°å®èƒ½åŠ›(å³ä¸€æ¬¡æ€§æ˜¾ç¤ºæ‰€æœ‰è¾“å‡ºå†…å®¹ï¼Œä¸åˆ†é¡µ)ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åä¸ºè®¾å¤‡
user-interface con 0
screen-length 0

# æ€ç§‘è®¾å¤‡
terminal length 0  # ä¸€æ¬¡æ€§è°ƒæ•´
line con 0  # æ°¸ä¹…æ€§è°ƒæ•´
length 0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å¿«æ·é”®ï¼ˆç»ˆç«¯è½¯ä»¶CRTï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761876989.png&#34; alt=&#34;å¿«æ·é”®&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å¦‚ä½•è®¾ç½®åä¸ºè®¾å¤‡ä¸­çš„å¯†ç ä¸ºï¼šhuawei@12?4ï¼ˆé”®å…¥å­—ç¬¦?ï¼Œ&lt;code&gt;ä½¿ç”¨ctrl+t&lt;/code&gt;ï¼‰&lt;br&gt;
å¦‚ä½•è®¾ç½®æ€ç§‘è®¾å¤‡ä¸­çš„å¯†ç ä¸ºï¼šcisco@12?4ï¼ˆé”®å…¥å­—ç¬¦?ï¼Œ&lt;code&gt;å…ˆctrl+vï¼Œåshift+?&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;ç½‘ç»œè®¾å¤‡æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ&lt;br&gt;
ç›®å½•æ“ä½œ&lt;br&gt;
&lt;code&gt;pwd&lt;/code&gt;ï¼šæŸ¥çœ‹å½“å‰ç›®å½•&lt;br&gt;
&lt;code&gt;dir&lt;/code&gt;ï¼šæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¿¡æ¯&lt;br&gt;
&lt;code&gt;more&lt;/code&gt;ï¼šæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶çš„å…·ä½“å†…å®¹&lt;br&gt;
&lt;code&gt;cd ..&lt;/code&gt;ï¼šé€€åˆ°ä¸Šçº§ç›®å½•&lt;br&gt;
æ–‡ä»¶æ“ä½œ&lt;br&gt;
&lt;code&gt;cd&lt;/code&gt;ï¼šä¿®æ”¹ç”¨æˆ·å½“å‰ç•Œé¢çš„å·¥ä½œç›®å½•&lt;br&gt;
&lt;code&gt;mkdir&lt;/code&gt;ï¼šåˆ›å»ºç›®å½•&lt;br&gt;
&lt;code&gt;rmdir&lt;/code&gt;ï¼šåˆ é™¤ç›®å½•&lt;br&gt;
å­˜å‚¨è®¾å¤‡æ“ä½œ&lt;br&gt;
&lt;code&gt;copy&lt;/code&gt;ï¼šå¤åˆ¶æ–‡ä»¶&lt;br&gt;
&lt;code&gt;move&lt;/code&gt;ï¼šç§»åŠ¨æ–‡ä»¶&lt;br&gt;
&lt;code&gt;rename&lt;/code&gt;ï¼šé‡å‘½åæ–‡ä»¶&lt;br&gt;
ä¿å­˜é…ç½®&lt;br&gt;
&lt;code&gt;æ€ç§‘&lt;/code&gt;ï¼šwrite&lt;br&gt;
&lt;code&gt;åä¸º&lt;/code&gt;ï¼šsave&lt;br&gt;
æ¸…ç©ºè®¾å¤‡æ‰€æœ‰é…ç½®&lt;br&gt;
&lt;code&gt;åä¸º&lt;/code&gt;ï¼šreset saved-configurationï¼Œé‡å¯çš„æ—¶å€™ç¬¬ä¸€ä¸ªé—®é¢˜ä¸ºnï¼Œç¬¬äºŒä¸ªä¸ºy&lt;br&gt;
&lt;code&gt;æ€ç§‘&lt;/code&gt;ï¼šwrite erase  æˆ–è€…  erase startup-config&lt;br&gt;
é‡å¯è®¾å¤‡&lt;br&gt;
&lt;code&gt;åä¸º&lt;/code&gt;ï¼šreboot&lt;br&gt;
&lt;code&gt;æ€ç§‘&lt;/code&gt;ï¼šreload&lt;/li&gt;
&lt;li&gt;æ¸…ç©ºåä¸ºè®¾å¤‡å¯†ç &lt;br&gt;
é¦–å…ˆç”¨consoleçº¿è¿æ¥äº¤æ¢æœºå’Œä¸»æœºï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œç„¶åé‡å¯äº¤æ¢æœºï¼Œç„¶ååœ¨ç»ˆç«¯ä¸Šä¼šæ˜¾ç¤ºå¾ˆå¤šä¸œè¥¿ï¼Œå½“å‡ºç°ä¸‹é¢çº¢æ¡†å†…çš„è¯æ˜¯ï¼ŒæŒ‰CTRL+Bã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761893482.png&#34; alt=&#34;æ¸…ç©ºå¯†ç 1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
è¾“å…¥BOOTROMçš„å¯†ç ï¼šAdmin@huawei.comã€‚&lt;br&gt;
&lt;code&gt;ç›’å¼äº¤æ¢æœºçš„æŸäº›æ¬¾å‹æ”¯æŒä½¿ç”¨å¿«æ·é”®â€œCtrl+Eâ€è¿›å…¥BootROMä¸»èœå•ï¼Œè¯·æ ¹æ®è®¾å¤‡çš„ç•Œé¢æç¤ºæ“ä½œ;ç›’å¼äº¤æ¢æœºåœ¨V100R006C03ä¹‹å‰çš„ç‰ˆæœ¬ï¼ŒBootROMé»˜è®¤å¯†ç ä¸ºhuaweiï¼›åœ¨V100R006C03åŠå…¶ä¹‹åçš„ç‰ˆæœ¬ï¼Œé»˜è®¤å¯†ç ä¸ºAdmin@huawei.comï¼›æ¡†å¼äº¤æ¢æœºåœ¨V100R006C03ä¹‹å‰çš„ç‰ˆæœ¬ï¼ŒBootROMé»˜è®¤å¯†ç ä¸º9300ï¼›åœ¨V100R006C03åŠå…¶ä¹‹åçš„ç‰ˆæœ¬ï¼Œé»˜è®¤å¯†ç ä¸ºAdmin@huawei.comã€‚&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761904589.png&#34; alt=&#34;æ¸…ç©ºå¯†ç 2&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡ºç°ä¸‹å›¾å†…å®¹åï¼Œé€‰æ‹©â€œ7. Clear password for console userâ€ï¼Œåœ¨åº•éƒ¨å…‰æ ‡å‡ºè¾“å…¥â€œ7â€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761915720.png&#34; alt=&#34;æ¸…ç©ºå¯†ç 3&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å‡ºç°ä¸‹å›¾å†…å®¹åï¼Œé€‰æ‹©â€œ1. Boot with default modeâ€ï¼Œåœ¨åº•éƒ¨å…‰æ ‡å‡ºè¾“å…¥â€œ1â€ã€‚&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761925798.png&#34; alt=&#34;æ¸…ç©ºå¯†ç 4&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ç¨ç­‰ç‰‡åˆ»å³å¯å®Œæˆï¼Œæ­¤æ—¶äº¤æ¢æœºæ˜¯æ²¡æœ‰å¯†ç çš„ï¼Œæ¥ä¸‹æ¥é€šè¿‡å‘½ä»¤ç»™äº¤æ¢æœºå¢åŠ å¯†ç ï¼Œç¡®ä¿äº¤æ¢æœºçš„å®‰å…¨æ€§ã€‚&lt;/li&gt;
&lt;/ol&gt;
">07 è®¤è¯†å’Œç®¡ç†äº¤æ¢æœºçš„macåœ°å€è¡¨ä¸äº¤æ¢æœºå¯†ç æ¸…é™¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/06-iptcp-bao-wen/"" data-c="
          &lt;ol&gt;
&lt;li&gt;IP&lt;br&gt;
1.1 ä»¥å¤ª2å‹ï¼šç›®çš„Mac+æºMac+TYPE+æ•°æ®éƒ¨åˆ†&lt;br&gt;
1.2 IPå¤´éƒ¨ï¼š&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585762569097.png&#34; alt=&#34;IPå¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;strong&gt;Version&lt;/strong&gt;ï¼šç‰ˆæœ¬ï¼Œä¸ºIPv4&lt;br&gt;
&lt;strong&gt;IHL&lt;/strong&gt;ï¼šå¤´éƒ¨é•¿åº¦ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹ä¸º20å­—èŠ‚æ ‡å‡†å¤´éƒ¨ï¼Œå¦‚æœæœ‰æ‰©å±•ï¼Œåˆ™ä¸º60å­—èŠ‚ï¼‰&lt;br&gt;
&lt;strong&gt;DSCP&lt;/strong&gt;ï¼šå·®åˆ†æœåŠ¡ä»£ç ç‚¹ï¼Œå¯ä»¥ä¸ºä¸åŒçš„æµé‡è®¾ç½®ä¸åŒçš„æœåŠ¡çº§åˆ«&lt;br&gt;
&lt;strong&gt;Total Length&lt;/strong&gt;ï¼šIPæŠ¥æ–‡æ€»é•¿åº¦ï¼ˆå¤´éƒ¨+æ•°æ®ï¼‰&lt;br&gt;
&lt;strong&gt;Identification&lt;/strong&gt;ï¼šæ ‡è¯†æ˜¯å¦ä¸ºåŒä¸€ä¼šè¯&lt;br&gt;
&lt;strong&gt;Flags&lt;/strong&gt;ï¼šåˆ†ç‰‡æ ‡å¿—ã€‚3å±‚å¯ä»¥åˆ†ç‰‡ï¼ŒMTUæœ€å¤§ä¼ è¾“å•å…ƒé»˜è®¤ä¸º1500ã€‚ä½†æœ‰äº›åº”ç”¨ä¸å…è®¸åˆ†ç‰‡ï¼Œä¾‹å¦‚httpã€qqã€‚è®¾ç½®ä¸å…è®¸åˆ†ç‰‡çš„1500å­—èŠ‚çš„æŠ¥æ–‡ï¼šæ€ç§‘è®¾å¤‡ï¼ˆæ€ç§‘å¯ä»¥é€šä¿¡ï¼‰&lt;code&gt;ping 202.100.1.2 size 1500 df-bit&lt;/code&gt;ï¼›åä¸ºè®¾å¤‡ï¼ˆåä¸ºæ— æ³•é€šä¿¡ï¼Œå› ä¸º-sä¸æ˜¯è®¾ç½®çš„æ€»æŠ¥æ–‡é•¿åº¦ï¼Œè€Œæ˜¯æ•°æ®éƒ¨åˆ†çš„é•¿åº¦ï¼Œè‹¥è¦é€šä¿¡éœ€è¦æ”¹ä¸º1472(1500-20å­—èŠ‚å¤´éƒ¨-8å­—èŠ‚icmpå¤´éƒ¨)ï¼‰&lt;code&gt;ping -s 1500 -f 202.100.1.2&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;Offset&lt;/strong&gt;ï¼šåç§»é‡ã€‚&lt;br&gt;
&lt;strong&gt;TTL&lt;/strong&gt;ï¼šç”Ÿå­˜æ—¶é—´ï¼Œæ•°å€¼ä¸º0æ—¶ï¼ŒIPæŠ¥æ–‡è¢«ä¸¢å¼ƒï¼Œæ¯ç»è¿‡ä¸€ä¸ªç½‘ç»œTTLå‡1ã€‚éå¸¸é‡è¦çš„IPæŠ¥æ–‡çš„é˜²ç¯æœºåˆ¶ã€‚&lt;br&gt;
&lt;strong&gt;Protocol&lt;/strong&gt;ï¼šIPæŠ¥æ–‡æ‰¿è½½çš„åè®®ç±»å‹ï¼ŒTCPä¸º6ï¼ŒUDPä¸º17ï¼ŒICMPä¸º1&lt;br&gt;
&lt;strong&gt;Options&lt;/strong&gt;ï¼šæ‰©å±•é¡¹ï¼Œä¸€èˆ¬ä¸ç”¨ã€‚ä½¿ç”¨ä¸¾ä¾‹&lt;code&gt;è®°å½•è·¯ç”±ï¼šping -r 202.100.1.2&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;# åä¸ºè®¾å¤‡è°ƒæ•´MTU
int g0/0/0
mtu 1600
# æ€ç§‘è®¾å¤‡è°ƒæ•´MTU
int s1/0
mtu 4072
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;åä¸ºè®¾å¤‡ä¸ŠFTPå®æ–½&lt;br&gt;
æ–‡ä»¶ä¼ è¾“åè®®ï¼Œä¸»è¦ç”¨äºè®¾å¤‡çš„ç³»ç»Ÿå‡çº§&lt;br&gt;
åä¸ºè®¾å¤‡å‡çº§ä½¿ç”¨FTPï¼Œè€Œæ€ç§‘è®¾å¤‡ä½¿ç”¨TFTP&lt;br&gt;
åä¸ºVRPç³»ç»Ÿå³å¯ä»¥ä½œä¸ºFTPå®¢æˆ·ç«¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæœåŠ¡ç«¯&lt;br&gt;
FTPçš„2ä¸ªç«¯å£20/tcp(æ•°æ®ä¼ è¾“)å’Œ21/tcp(å‘½ä»¤ä¼ è¾“)ï¼ŒFTPå­˜åœ¨ä¸»åŠ¨æ¨¡å¼(port)å’Œè¢«åŠ¨æ¨¡å¼(pasv)&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# R2å¼€å¯ftpæœåŠ¡
ftp server enable  # å¼€å¯ftpæœåŠ¡
aaa
local-user hcia password cipher hciapwd  # æ·»åŠ ç”¨æˆ·åå’Œå¯†ç 
local-user hcia service-type ftp  # è¯¥ç”¨æˆ·æœåŠ¡äºftp
local-user hcia privilege level 15  # è®¾ç½®ç”¨æˆ·çº§åˆ«
local-user hcia ftp-directory flash:  # è®¾ç½®ftpçš„ç›®å½•ï¼Œæ³¨æ„flashåé¢éœ€è¦å†’å·
q
dis tcp status # æŸ¥çœ‹tcpé“¾æ¥çŠ¶æ€
# R1æµ‹è¯•
ftp 202.100.1.2  #è¾“å…¥ç”¨æˆ·åå’Œå¯†ç 
ls # æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶
get &amp;quot;æ–‡ä»¶åç§°&amp;quot;  # ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶
put &amp;quot;æ–‡ä»¶åç§°&amp;quot;  # ä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;TCP&lt;br&gt;
ä¼ è¾“å±‚ä¸èƒ½åˆ†ç‰‡ï¼Œå› ä¸ºæ²¡æœ‰å¯¹åº”å­—æ®µçš„æ”¯æŒ&lt;br&gt;
æŸ¥çœ‹tcpçŠ¶æ€ï¼ˆäº”å…ƒç»„ï¼‰&lt;code&gt;dis tcp status&lt;/code&gt;ï¼Œé€šè¿‡äº”å…ƒç»„å¯ä»¥ç¡®å®šä¸€æ¡ä¼šè¯ã€‚&lt;br&gt;
tcpæŠ¥æ–‡çš„å¼€é”€æ¯”è¾ƒå¤§ï¼ˆå¤´éƒ¨å¤æ‚ï¼Œå ç”¨å­—èŠ‚è¾ƒå¤šï¼‰ï¼›udpæŠ¥æ–‡å¼€é”€æ¯”è¾ƒå°ã€‚&lt;br&gt;
ä½¿ç”¨ç›®çš„ç«¯å£å·æ¥åŒºåˆ†ä¸åŒçš„æœåŠ¡ã€‚&lt;br&gt;
3.1 TCPçš„å°è£…æ ¼å¼ï¼š&lt;br&gt;
&lt;code&gt;ç«¯å£å·å¤§çš„ä¸€ç«¯ä¸»åŠ¨å‘èµ·è¿æ¥&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761707257.png&#34; alt=&#34;TCPçš„å°è£…æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;32ä½åºåˆ—å·ï¼Œæ•°æ®æ®µæ ‡è®°ï¼Œç”¨äºåˆ°ç›®çš„ç«¯å¯¹åˆ°è¾¾åŒ…çš„é‡ç»„&lt;/li&gt;
&lt;li&gt;32ä½ç¡®è®¤å·ï¼Œå¯¹å‘é€ç«¯çš„ç¡®è®¤ä¿¡æ¯ï¼Œå‘Šè¯‰å‘é€ç«¯è¿™ä¸ªåºå·ä¹‹å‰çš„æ•°æ®æ®µéƒ½æ”¶åˆ°äº†&lt;/li&gt;
&lt;li&gt;URGï¼Œç´§æ€¥æŒ‡é’ˆæœ‰æ•ˆä½ï¼Œä¸16ä½çš„ç´§æ€¥æŒ‡é’ˆé…åˆä½¿ç”¨&lt;/li&gt;
&lt;li&gt;ACKï¼Œç¡®è®¤åºåˆ—å·æœ‰æ•ˆä½ï¼Œè¡¨æ˜è¯¥æ•°æ®åŒ…åŒ…å«ç¡®è®¤ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;PSHï¼Œé€šçŸ¥æ¥æ”¶ç«¯ç«‹å³å°†æ•°æ®æäº¤ç»™ç”¨æˆ·è¿›ç¨‹ï¼Œä¸åœ¨ç¼“å­˜ä¸­åœç•™ï¼Œç­‰å¾…æ›´å¤šçš„æ•°æ®&lt;/li&gt;
&lt;li&gt;RSTï¼Œä¸º1æ—¶ï¼Œè¯·æ±‚é‡æ–°å»ºç«‹TCPè¿æ¥&lt;/li&gt;
&lt;li&gt;SYNä½ï¼Œè¯·æ±‚å»ºç«‹TCPä¼šè¯çš„ä¸€ä¸ªæ ‡è¯†&lt;/li&gt;
&lt;li&gt;FINï¼Œä¸º1æ—¶ï¼Œæ•°æ®å‘é€å®Œæ¯•ï¼Œè¯·æ±‚æ–­å¼€è¿æ¥&lt;/li&gt;
&lt;li&gt;16ä½çª—å£å¤§å°ï¼Œæ»‘åŠ¨çª—å£å¤§å°ï¼ŒæŒ‡åæœ¬åœ°å¯æ¥æ”¶æ•°æ®çš„å­—èŠ‚æ•°&lt;/li&gt;
&lt;li&gt;å¯é€‰é¡¹ï¼š4å­—èŠ‚/ä¸ªï¼Œå¸¸ç”¨å¯é€‰é¡¹ä¸¾ä¾‹ï¼šMSSï¼Œæœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ï¼Œé»˜è®¤æ˜¯1460=1500-20-20ï¼‰ï¼Œç”¨äºä¼ä¸šç½‘å…³é€šè¿‡PPPoEè¿æ¥äº’è”ç½‘åï¼Œéœ€è¦è°ƒæ•´MSSæ‰èƒ½å»æ­£å¸¸è®¿é—®WEBåº”ç”¨ï¼ˆæ•…éšœï¼šèƒ½pingé€šå¤–ç½‘ï¼Œä½†æ˜¯WEBææ…¢æˆ–è€…æ‰“ä¸å¼€ï¼‰ã€‚&lt;br&gt;
3.2 3æ¬¡æ¡æ‰‹å’Œ4æ¬¡æ–­å¼€&lt;br&gt;
3æ¬¡æ¡æ‰‹ï¼š&lt;strong&gt;aåˆ°b&lt;/strong&gt;çš„SYN----&amp;gt;&lt;strong&gt;båˆ°a&lt;/strong&gt;çš„SYNå’ŒACK----&amp;gt;&lt;strong&gt;aåˆ°b&lt;/strong&gt;çš„ACK&lt;br&gt;
4æ¬¡æ–­å¼€ï¼š&lt;strong&gt;aåˆ°b&lt;/strong&gt;FIN(å¯èƒ½åŒ…å«PSH\ACK)----&amp;gt;&lt;strong&gt;båˆ°a&lt;/strong&gt;ACK----&amp;gt;&lt;strong&gt;båˆ°a&lt;/strong&gt;FIN(å¯èƒ½åŒ…å«PSH\ACK)----&amp;gt;&lt;strong&gt;aåˆ°b&lt;/strong&gt;ACK&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;UDP&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761726332.png&#34; alt=&#34;UDPå¤´éƒ¨&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
åä¸ºå’Œåä¸‰è®¾å¤‡åªèƒ½æœ€ä¸ºTFTPçš„å®¢æˆ·ç«¯ï¼Œä»æœåŠ¡å™¨è·å–æ–‡ä»¶ã€‚&lt;br&gt;
ä½¿ç”¨UDPåè®®ä¸‹çš„TFTPåè®®ï¼ˆç«¯å£å·69ï¼‰&lt;strong&gt;å¤‡ä»½ï¼ˆå‡çº§ï¼‰æ€ç§‘IOSçš„ä¸€ä¸ªå®éªŒï¼ˆæ¨¡æ‹Ÿå™¨æ— æ³•å®æ–½æ­¤å®éªŒï¼‰&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# TFTPD64å·¥å…·ï¼Œé…ç½®PCå¼€å¯TFTPæœåŠ¡
# é…ç½®äº¤æ¢æœºæˆ–è€…è·¯ç”±å™¨IPåœ°å€ä¹‹åï¼Œå®ç°PCå’Œäº¤æ¢è®¾å¤‡ä¹‹é—´çš„é€šä¿¡
# å¤‡ä»½
copy flash:c3560....bin tftp:  # å°†é•œåƒæ–‡ä»¶å¤‡ä»½åˆ°tftpæœåŠ¡å™¨ï¼Œè¾“å…¥tftpæœåŠ¡å™¨åœ°å€ï¼ˆPCåœ°å€ï¼‰
# å‡çº§
copy  tftp:  flash:update.zip # è¾“å…¥tftpæœåŠ¡åœ°å€ï¼Œç„¶åè¾“å…¥æ–‡ä»¶åç§°
boot system update.zip # è®¾å®šæ–°çš„å¯åŠ¨æ–‡ä»¶ï¼Œå³æ›´æ–°
# å°†æ€ç§‘è®¾å¤‡çš„TFTPæœåŠ¡ç«¯æ‰“å¼€
tftp-server flash:
&lt;/code&gt;&lt;/pre&gt;
">06 IP/TCPæŠ¥æ–‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/05-shi-shi-ssh-guan-li-wang-luo-she-bei/"" data-c="
          &lt;ol&gt;
&lt;li&gt;VLSMï¼ˆå¯å˜é•¿å­ç½‘æ©ç ï¼‰&lt;br&gt;
ç½‘ç»œä¸­çš„å­ç½‘çš„å­ç½‘æ©ç é•¿åº¦ä¸ç›¸åŒ&lt;/li&gt;
&lt;li&gt;ç½‘å…³&lt;br&gt;
ä¸»æœºçš„æ•°æ®å»å¾€å…¶ä»–ç½‘ç»œï¼Œå°±æŠŠæ•°æ®å‘åˆ°ç½‘å…³ï¼ˆç‰¹åˆ«é‡è¦çš„ARPè¯·æ±‚ï¼‰ï¼Œç„¶åç”±ç½‘å…³å»æŸ¥æ‰¾è·¯ç”±ã€‚ç½‘å…³çš„åœ°å€ä¸€èˆ¬æ˜¯åŒä¸€ç½‘ç»œçš„æœ€å¤§ï¼ˆ254ï¼‰çš„æˆ–è€…æœ€å°ï¼ˆ1ï¼‰çš„å¯ç”¨IPã€‚&lt;br&gt;
çº¯äºŒå±‚äº¤æ¢æœºè¿›è¡Œè¿œç¨‹ç®¡ç†æ—¶ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤ç½‘å…³æ— æ³•ç®¡ç†ã€‚&lt;/li&gt;
&lt;li&gt;CIDRï¼ˆæ— ç±»è·¯é—´è·¯ç”±ï¼‰&lt;br&gt;
æ¶ˆé™¤è‡ªç„¶åˆ†ç±»åœ°å€å’Œå­ç½‘åˆ’åˆ†çš„ç•Œé™ï¼ˆè¶…ç½‘ï¼‰ï¼›å°†ç½‘ç»œå‰ç¼€ç›¸åŒçš„è¿ç»­IPåœ°å€ç»„æˆCIDRåœ°å€å—ï¼›æ”¯æŒå¼ºåŒ–åœ°å€æ±‡èšï¼ˆ&lt;strong&gt;åˆ’åˆ†å­ç½‘æ—¶å¢åŠ æ©ç é•¿åº¦ï¼Œè€Œæ±‡èšåˆ™æ˜¯å‡å°‘æ©ç é•¿åº¦&lt;/strong&gt;ï¼‰ï¼›æ— ç±»åŸŸé—´è·¯ç”±åè®®åŒ…å«RIPv2ã€EIGRPã€OSPFã€IS-ISã€BGP&lt;/li&gt;
&lt;li&gt;å¸¸è§TCP\UDPç«¯å£&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761635266.png&#34; alt=&#34;å¸¸è§TCP\UDPç«¯å£&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;åœ¨R1å’ŒR2ä¹‹é—´å®æ–½ssh&lt;br&gt;
&lt;code&gt;æ¨¡æ‹Ÿå™¨ä¸­çš„äº¤æ¢æœºæ— æ³•å®æ–½ssh&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#.....................................é…ç½®SSH
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# R2ï¼ˆå¼€å¯sshæœåŠ¡ï¼‰
en
conf t
int e0/0
ip address 202.100.1.2 255.255.255.128
exit
username hcia password hciapwd  # åˆ›å»ºç”¨æˆ·åå’Œå¯†ç 
ip domain name hcia.com  # è®¾ç½®åŸŸå
crypto key generate rsa  # äº§ç”Ÿå¯†é’¥ï¼Œä½¿ç”¨1024ä½ï¼ˆ768ä½ä»¥ä¸Šï¼‰
ip ssh version 2 # ã€æ­¤å‘½ä»¤éå¿…éœ€ã€‘å› ä¸ºä¸Šä¸€æ­¥å·²ç»å¼€å§‹ssh
line vty 0 4 
login local  # é€šè¿‡æœ¬åœ°è®¤è¯ç™»å½•
transport input ssh  # å…è®¸sshç™»å½•vty
exit
terminal monitor # æ˜¾ç¤ºè¿œç¨‹è¿æ¥æ—¥å¿—

# R1
en
conf t
int e0/0
ip address 202.100.1.1 255.255.255.128
ping 202.100.1.2
ssh -l hcia 202.100.1.2  # è¿œç¨‹ç™»å½•ï¼Œè¾“å…¥å¯†ç 


# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# R2
system-view
int g0/0/0
ip address 202.100.1.2 25
q
aaa
local-user hcia password cipher hciapwd  # åˆ›å»ºæœ¬åœ°ç”¨æˆ·ä»¥åŠå¯†ç 
local-user hcia service-type ssh  # è¯¥ç”¨æˆ·æœåŠ¡äºsshåè®®
local-user hcia privilege level 15  # è®¾ç½®ç”¨æˆ·çº§åˆ«
q
ssh user hcia authentication-type password # ä½¿ç”¨å¯†ç è®¤è¯
rsa local-key-pair create  # ã€æ­¤å‘½ä»¤éå¿…éœ€ã€‘æœ¬åœ°åˆ›å»ºå¯†é’¥ï¼Œå¦‚æœä½¿ç”¨å¯†ç è®¤è¯ï¼Œåˆ™ä¸å¿…è¦äº§ç”Ÿå¯†é’¥
stelnet server enable  # å¼€å¯sshæœåŠ¡
user-interface vty 0 4
authentication-mode aaa  # è®¤è¯æ–¹å¼æ”¹ä¸ºaaa
protocol inbound ssh  # è®¾ç½®ä½¿ç”¨sshç®¡ç†

# R1
system-view
int g0/0/0
ip address 202.100.1.1 25
ping 202.100.1.2
ssh client first-time enable  # ç¬¬ä¸€æ¬¡ä½¿ç”¨sshå®¢æˆ·ç«¯éœ€è¦æ‰§è¡Œæ­¤å‘½ä»¤
stelnet 202.100.1.2  # è¾“å…¥ç”¨æˆ·åhciaï¼Œå¯†ç hciapwd
&lt;/code&gt;&lt;/pre&gt;
">05 å®æ–½SSHç®¡ç†ç½‘ç»œè®¾å¤‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/04-ip-zi-wang-gui-hua-yi-ji-yan-zheng-dan-bo-zu-bo-he-guang-bo-cdp-he-lldp/"" data-c="
          &lt;ol&gt;
&lt;li&gt;LLDP&lt;br&gt;
é“¾è·¯å±‚å‘ç°åè®®ï¼Œå…¬æœ‰åè®®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åä¸ºè®¾å¤‡ï¼Œé»˜è®¤æ²¡æœ‰å¼€å¯
# å¼€å¯lldp
lldp enable
dis lldp neighbor brief
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;CDP&lt;br&gt;
æ€ç§‘å‘ç°åè®®ï¼Œç§æœ‰åè®®ï¼Œé»˜è®¤å¼€å¯ï¼ŒäºŒå±‚åè®®ï¼Œå°è£…åœ¨802.3ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;show cdp neighbors
# å…³é—­æ•´ä½“cdp
no cdp run
# å…³é—­å•ä¸ªæ¥å£çš„cdp
int e0/1
no cdp enable
# å¼€å¯lldp
conf t
lldp run
show lldp neighbors
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä¿®æ”¹æ¥å£å±æ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
# ä¿®æ”¹æ¥å£ä¸ºå…¨åŒå·¥(çº¿ä¸¤ç«¯æ¥å£å‡éœ€è¦ä¿®æ”¹)
int e0/1
duplex full
show int e0/1

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
# ä¿®æ”¹æ¥å£ä¸ºåŠåŒå·¥
# å…ˆå…³é—­è‡ªåŠ¨åå•†
int g0/0/1
undo negotiation auto
duplex half
dis int g0/0/1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;äº¤æ¢è¡Œä¸ºå’ŒMACåœ°å€è¡¨&lt;br&gt;
äº¤æ¢æœºä¸Šè½¬å‘æ•°æ®å¸§çš„è¡Œä¸ºï¼Œå†³ç­–ä¾æ®æ˜¯Macåœ°å€è¡¨&lt;br&gt;
4.1 è½¬å‘è¡Œä¸ºåˆ†ç±»&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ³›æ´ªFlooding&lt;br&gt;
å¦‚æœMacåœ°å€è¡¨ä¸ºç©ºæˆ–è€…æ²¡æœ‰æŸMacåœ°å€è¡¨é¡¹ï¼Œæˆ–è€…äº¤æ¢æœºæ”¶åˆ°å¹¿æ’­å¸§/ç»„æ’­å¸§çš„æ—¶å€™ï¼Œä¼šæŠŠå¸§å‘å¾€é™¤äº†æ¥å—è¯¥å¸§ä¹‹å¤–çš„å…¶ä»–æ‰€æœ‰æ¥å£&lt;/li&gt;
&lt;li&gt;è½¬å‘Forwardingï¼ˆå•æ’­ï¼‰&lt;br&gt;
åœ¨Macåœ°å€è¡¨ä¸­æœ‰æ˜ç¡®çš„ç›®çš„Macåœ°å€çš„è¡¨é¡¹&lt;/li&gt;
&lt;li&gt;ä¸¢å¼ƒDiscarding&lt;br&gt;
Macåœ°å€è¡¨ä¸­æ²¡æœ‰ç›®çš„Macåœ°å€è¡¨é¡¹ï¼Œä¸”æ— æ³•å­¦ä¹ åˆ°&lt;br&gt;
4.2 Macåœ°å€è¡¨&lt;br&gt;
é‡è¦å‡†åˆ™ï¼šåŒä¸€æ—¶åˆ»ï¼ŒæŸä¸ªMACåœ°å€åªèƒ½ä»1ä¸ªæ¥å£å­¦ä¹ åˆ°ï¼Œä¸èƒ½é¢‘ç¹ä»å¤šä¸ªæ¥å£å­¦åˆ°ï¼Œå¦åˆ™å«åšMacåœ°å€éœ‡è¡&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
show mac address-table
show run int vlan 1 # æŸ¥çœ‹vlan1é…ç½®
# æŸ¥çœ‹è€åŒ–æ—¶é—´ï¼Œé»˜è®¤300ç§’ï¼Œä¸å»ºè®®ä¿®æ”¹
show mac address-table aging-time
# é…ç½®é™æ€macåœ°å€è¡¨
mac address-table static a.a.a vlan 1 interface e0/2

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
display mac-address
dis cu int vlan 1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;IPåŸºç¡€&lt;br&gt;
5.1 ç‰¹ç‚¹ï¼šæ— è¿æ¥åè®®ï¼ˆåªæœ‰TCPæ˜¯æœ‰è¿æ¥ï¼‰ï¼›ç»“æ„åŒ–ç¼–å€ï¼Œç”¨äºå¯»å€å’Œè½¬å‘ï¼›å°½åŠ›è€Œä¸ºçš„é€è·³è½¬å‘ï¼›ä¸åª’ä»‹æ— å…³ï¼Œä½†å¯ä»¥é€‚åº”å¤šç§é“¾è·¯ã€‚&lt;br&gt;
5.2 æ©ç ï¼ˆmaskï¼‰ç”¨äºåŒºåˆ†ç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†ï¼Œç”±è¿ç»­çš„0å’Œ1ç»„æˆï¼ˆ&lt;strong&gt;0å’Œ1å¿…é¡»è¿ç»­&lt;/strong&gt;ï¼‰ï¼Œ1çš„éƒ¨åˆ†ä»£è¡¨ç½‘ç»œï¼Œ0çš„éƒ¨åˆ†ä»£è¡¨ä¸»æœºã€‚&lt;br&gt;
5.3 åˆ†ç±»ï¼šABCç±»ç”¨äºå•æ’­ï¼ŒDç±»ç”¨äºç»„æ’­ï¼ŒEç±»ä¸å®ç”¨ã€‚&lt;br&gt;
&lt;code&gt;Aç±»åœ°å€é»˜è®¤æ©ç 255.0.0.0ï¼ŒBç±»åœ°å€é»˜è®¤æ©ç 255.255.0.0ï¼ŒCç±»åœ°å€é»˜è®¤æ©ç  255.255.255.0&lt;/code&gt;&lt;br&gt;
Aç±»ï¼šç½‘ç»œä½8bï¼Œ0.0.0.0-127.255.255.255ï¼Œä¾‹å¦‚10.1.2.3/24ä»ç„¶å±äºAç±»ç½‘ç»œ&lt;br&gt;
Bç±»ï¼šç½‘ç»œä½16bï¼Œ128.0.0.0-191.255.255.255&lt;br&gt;
Cç±»ï¼šç½‘ç»œä½24bï¼Œ192.0.0.0-223.255.255.255&lt;br&gt;
Dç±»ï¼šç»„æ’­åœ°å€ï¼Œ224.0.0.0-239.255.255.255&lt;br&gt;
Eç±»ï¼šä¿ç•™ï¼Œ240.0.0.0-255.255.255.255&lt;br&gt;
&lt;code&gt;NET ,ABCDEçš„æœ‰ç±»ç½‘ç»œï¼Œå³ä¸Šè¿°åˆ†ç±»ç½‘ç»œï¼›subnetï¼Œå³å­ç½‘ï¼Œä¸€ä¸ªå¤§çš„ç½‘ç»œåˆ’åˆ†æˆå°çš„ç½‘ç»œ&lt;/code&gt;&lt;br&gt;
5.4 ä¸€äº›é‡è¦çš„ç‰¹æ®Šåœ°å€&lt;br&gt;
**0.0.0.0ï¼š**DHCPåè®®ä¸­æ²¡æœ‰å®¢æˆ·ç«¯è·å¾—åœ°å€æ—¶çš„ç‰¹æ®Šåœ°å€ï¼›é»˜è®¤è·¯ç”±ï¼ˆ0.0.0.0/0ï¼‰ä¸­çš„ç½‘ç»œéƒ¨åˆ†&lt;br&gt;
**255.255.255.255ï¼š**å…¨å±€å¹¿æ’­åœ°å€&lt;br&gt;
**ä¸»æœºéƒ¨åˆ†å…¨éƒ¨ä¸º1ï¼š**æŸä¸ªç½‘ç»œçš„å¹¿æ’­åœ°å€ï¼ˆå®šå‘å¹¿æ’­åœ°å€ï¼‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761567149.png&#34; alt=&#34;ä¸€äº›é‡è¦çš„ç‰¹æ®Šåœ°å€&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å­ç½‘&lt;br&gt;
**ä¼˜åŠ¿ï¼š**è¾ƒå°çš„ç½‘ç»œæ˜“äºç®¡ç†ï¼›å°†ä¼šå‡å°‘æ²¡å¿…è¦çš„å¹¿æ’­æµé‡ï¼›èƒ½å¤Ÿæ›´åŠ å®¹æ˜“è¿ç”¨ç½‘ç»œå®‰å…¨ç­–ç•¥ï¼›ç½‘ç»œæ©ç ç”±å›ºå®šé•¿åº¦å˜ä¸ºéšæœºé•¿åº¦ï¼›å­ç½‘æ©ç ä¸­çš„1ä»£è¡¨ç½‘ç»œï¼Œ0ä»£è¡¨ä¸»æœº&lt;br&gt;
åœ¨ç›´è¿ç½‘ç»œä¸­ï¼Œ192.168.5.139/25ï¼ˆ192.168.5.128/25ï¼‰å’Œ192.168.5.254/24ï¼ˆ192.168.5.0/24ï¼‰å¯ä»¥é€šä¿¡ï¼Œå› ä¸º139è¿™ä¸ªåœ°å€å±äºåé¢é‚£ä¸ªç½‘ç»œä¸­ï¼›192.168.5.1/24å’Œ192.168.5.139ä¸èƒ½é€šä¿¡ã€‚&lt;br&gt;
&lt;code&gt;ä»»ä½•ä¸ç»™æ©ç çš„åœ°å€éƒ½æ˜¯è€æµæ°“&lt;/code&gt;&lt;br&gt;
&lt;strong&gt;10.1.1.0å¯ä»¥é…ç½®æˆIPï¼Œåªéœ€è¦æ©ç æ­£ç¡®ï¼Œæ¯”å¦‚10.1.1.0/23&lt;/strong&gt;&lt;br&gt;
**å€Ÿç”¨åœ°å€ï¼š**32ä½æ©ç çš„åœ°å€ï¼ˆä¾‹å¦‚2.2.2.2/32ï¼‰ä¸ºä¸»æœºè·¯ç”±ï¼Œé€šå¸¸æƒ…å†µä¸‹å¯ä»¥é…ç½®åœ¨ç¯å›æ¥å£ï¼ˆloopbackï¼‰ï¼Œä¸èƒ½é…ç½®åˆ°ç‰©ç†æ¥å£ä¸Šã€‚31ä½æ©ç çš„åœ°å€å¯ä»¥é…ç½®åˆ°ç‰©ç†æ¥å£ä¸Šï¼Œä½†æ˜¯ç”¨å¤„ä¸å¤§ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;# æŸ¥çœ‹è·¯ç”±è¡¨
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æ€ç§‘
show ip route 

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;åä¸º
display ip routing-table
&lt;/code&gt;&lt;/pre&gt;
">04 IPå­ç½‘è§„åˆ’ä»¥åŠéªŒè¯å•æ’­ã€ç»„æ’­å’Œå¹¿æ’­ï¼ˆCDPå’ŒLLDPï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/03-tong-guo-wireshark-ren-shi-wang-luo-tong-guo-bao-wen-li-jie-tcpip/"" data-c="
          &lt;ol&gt;
&lt;li&gt;å•ç«¯å£é«˜é€Ÿä»¥å¤ªç½‘ï¼šG--&amp;gt;10G--&amp;gt;25G--&amp;gt;40G--&amp;gt;100G--&amp;gt;200G--&amp;gt;400G&lt;/li&gt;
&lt;li&gt;ä»¥å¤ªç½‘ä»‹è´¨ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;RFï¼ˆå°„é¢‘çº¿ï¼‰&lt;/li&gt;
&lt;li&gt;åŒè½´ç”µç¼†&lt;/li&gt;
&lt;li&gt;åŒç»çº¿ï¼š5ç±»ä¸ºç™¾å…†ï¼Œ6ç±»ä¸ºåƒå…†ï¼Œ7ç±»ä¸ºä¸‡å…†&lt;/li&gt;
&lt;li&gt;å…‰çº¤
&lt;ul&gt;
&lt;li&gt;åˆ†ç±»ï¼š&lt;br&gt;
å¤šæ¨¡å…‰çº¤ï¼ˆmmï¼Œæ©˜è‰²æˆ–è€…è“è‰²ï¼Œä¼ è¾“è·ç¦»é€šå¸¸åœ¨åƒç±³ä»¥å†…ï¼Œæ³¢é•¿ä¸º850nmï¼Œå…‰æ¨¡å—æ‹‰ç¯ä¸ºé»‘è‰²çš„ï¼‰&lt;br&gt;
å•æ¨¡å…‰çº¤ï¼ˆsmï¼Œé»„è‰²ï¼Œä¼ è¾“è·ç¦»è¿œï¼Œæ³¢é•¿ä¸º1550/1310nmï¼Œå…‰æ¨¡å—æ‹‰ç¯ä¸ºè“è‰²çš„ï¼‰&lt;/li&gt;
&lt;li&gt;å…‰æ¨¡å—ï¼šSFPå’ŒSPF+ä¸ºåƒå…†ï¼ŒXFPä¸ºä¸‡å…†ï¼ŒQSFPä¸º100Gï¼ˆä½“ç§¯æ›´å¤§ï¼‰ã€‚&lt;br&gt;
SXï¼š850nmï¼ŒçŸ­è·ç¦»å…‰æ¨¡å—ï¼ˆ&amp;lt;10kmï¼‰ï¼Œä¸€èˆ¬é€‚åˆå¤šæ¨¡å…‰çº¤&lt;br&gt;
LXï¼š1310nmï¼Œä¼ è¾“è·ç¦»&amp;lt;25kmï¼Œé€‚åˆå•æ¨¡å…‰çº¤&lt;br&gt;
ZXï¼š1550nmï¼Œä¼ è¾“è·ç¦»80kmï¼Œé€‚åˆå•æ¨¡å…‰çº¤&lt;br&gt;
LHï¼šè¶…é•¿è·ç¦»å…‰æ¨¡å—ï¼Œ25-70kmï¼Œå¦‚æœè·ç¦»å°äº35kmï¼Œåˆ™éœ€è¦åœ¨LHä¹‹é—´åŠ è¡°å‡å™¨ï¼Œä»¥é˜²æ­¢LHæ¨¡å—æŸå&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ä»¥å¤ªå¸§ç‰©ç†åœ°å€ï¼šMacï¼Œé€šå¸¸è®¤ä¸ºè¯¥åœ°å€å”¯ä¸€ä¸”ä¸å¯æ”¹å˜ã€‚å…±48ä½ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œå‰24ä½ä¸ºOUIç»„ç»‡æœºæ„ä»£ç ï¼Œå24ä½ä¸ºç»„ç»‡å†…éƒ¨æ¥åˆ†é…çš„ã€‚&lt;/li&gt;
&lt;li&gt;2å±‚çš„å•æ’­ã€ç»„æ’­å’Œå¹¿æ’­&lt;br&gt;
ç¬¬ä¸€å­—èŠ‚çš„ç¬¬8æ¯”ç‰¹è¡¨ç¤ºåœ°å€ç±»å‹&lt;br&gt;
å•æ’­macï¼šç±»å‹å­—èŠ‚ä¸º0ï¼Œè¡¨ç¤ºç›®çš„macä¸ºæ­¤macåœ°å€çš„å¸§éƒ½æ˜¯å‘é€åˆ°æŸä¸ªå”¯ä¸€çš„ç›®çš„mac&lt;br&gt;
ç»„æ’­macï¼šç±»å‹å­—èŠ‚ä¸º1ï¼Œç»å…¸ç»„æ’­macï¼š01005E&lt;br&gt;
å¹¿æ’­macï¼šå…¨1&lt;/li&gt;
&lt;li&gt;ä»¥å¤ªå°è£…å’ŒMACåœ°å€è¡¨&lt;br&gt;
5.1 ä¸¤ç§æ ¼å¼çš„ä»¥å¤ªå¸§å¤´éƒ¨ï¼š&lt;br&gt;
&lt;code&gt;å½“ä»¥å¤ª2å‹é‡Œé¢çš„â€œç±»å‹â€æˆ–è€…802.3é‡Œé¢çš„â€œé•¿åº¦â€å­—æ®µ å¤§äºç­‰äº1536(0x0600)åˆ™ä¸ºä»¥å¤ª2å‹ï¼Œå°äºç­‰äº1500ï¼ˆ0x05DCï¼‰åˆ™ä¸º802.3&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ä»¥å¤ª2å‹ï¼ˆç”¨æˆ·ã€ä¸šåŠ¡æµé‡ï¼‰ï¼šç›®çš„mac+æºmac+ç±»å‹+æ•°æ®&lt;/li&gt;
&lt;li&gt;802.3ï¼ˆåè®®çš„æ§åˆ¶ï¼‰ï¼šç›®çš„mac+æºmac+é•¿åº¦+LLCå­å±‚å’ŒMACå­å±‚+æ•°æ®&lt;br&gt;
5.2 MACåœ°å€è¡¨&lt;br&gt;
macåœ°å€è¡¨æ˜¯2å±‚ï¼ˆäº¤æ¢æœºï¼‰è½¬å‘è¡¨&lt;br&gt;
macåœ°å€éœ‡è¡ï¼ˆæ¼‚ç§»ï¼‰ï¼šä¸€ä¸ªç»ˆç«¯çš„macåœ°å€åŒä¸€æ—¶é—´åªèƒ½ä»ä¸€ä¸ªæ¥å£å­¦ä¹ åˆ°ï¼Œä¸€ä¸ªæ¥å£å­¦ä¹ åˆ°çš„macåœ°å€åœ¨åŒä¸€ä¸ªvlanä¸­çš„å¦ä¸€ä¸ªæ¥å£ä¸Šä¹Ÿå­¦ä¹ åˆ°ï¼Œ&lt;strong&gt;åå­¦ä¹ åˆ°çš„macåœ°å€è¡¨è¦†ç›–åŸæ¥çš„è¡¨é¡¹&lt;/strong&gt;ï¼Œç”šè‡³å‡ºç°åå¤ï¼Œå°†ä¸¥é‡å½±å“ä¸šåŠ¡è½¬å‘ã€‚&lt;code&gt;macåœ°å€è¡¨éœ‡è¡ä¸€èˆ¬æ„å‘³ç€ç½‘ç»œä¸­å‡ºç°ç¯è·¯ï¼Œå½¢æˆå¹¿æ’­é£æš´æˆ–è€…Vlanåˆ’åˆ†é”™è¯¯ç­‰ã€‚&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ---------------------åä¸º
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;æŸ¥çœ‹macåœ°å€è¡¨
# SW1
int vlanif 1
ip address 10.1.11.2 255.255.255.248
# AR1 
int g0/0/1
ip address 10.1.11.1 255.255.255.248
ping 10.1.11.2
dis mac-add # æŸ¥çœ‹macåœ°å€è¡¨
#-----------------------------------------------------------------------------------------------------------------
# ---------------------æ€ç§‘
# sw1
int vlan 1
no shutdown
ip address10.1.11.2 255.255.255.248
# AR1
int e0/1
no shutdown 
ip address10.1.11.1 255.255.255.248
exit
ping 10.1.11.2
show mac address-table
&lt;/code&gt;&lt;/pre&gt;
">03 é€šè¿‡wiresharkè®¤è¯†ç½‘ç»œï¼ˆé€šè¿‡æŠ¥æ–‡ç†è§£TCP/IPï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/02-shi-shi-ji-chu-de-ip-di-zhi-he-yuan-cheng-guan-li-telnet/"" data-c="
          &lt;ol&gt;
&lt;li&gt;OSIå‚è€ƒæ¨¡å‹&lt;br&gt;
&lt;code&gt;ä¸èƒ½ä»¥è®¾å¤‡è®¨è®ºå±‚æ¬¡ï¼Œè€Œæ˜¯ä»¥åè®®è®¨è®ºå±‚æ¬¡&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å±‚çº§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å•ä½&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç‰©ç†å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯”ç‰¹/01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ•°æ®é“¾è·¯å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Frame/å¸§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Packet/åŒ…&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ è¾“å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;Segment/æ®µ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼šè¯å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PDU/åè®®æ•°æ®å•å…ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¡¨ç¤ºå±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PDU/åè®®æ•°æ®å•å…ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åº”ç”¨å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;PDU/åè®®æ•°æ®å•å…ƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;TCP/IPæ¨¡å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å±‚çº§&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å¯¹åº”OSIå±‚çº§&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œæ¥å£å±‚/é“¾è·¯å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;äº’è”ç½‘å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç½‘ç»œå±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ è¾“å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ è¾“å±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åº”ç”¨å±‚&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;telnetè¿œç¨‹ç®¡ç†è®¾å¤‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ---------------------æ€ç§‘
# é…ç½®æ¥å£çš„IPåœ°å€
# R1
en
conf t
int e0/0
no shutdown  # æ€ç§‘è®¾å¤‡æ¥å£é»˜è®¤å…³é—­
ip address 202.100.1.1 255.255.255.252
# R2
en
conf t
int e0/0
no shutdown  # æ€ç§‘è®¾å¤‡æ¥å£é»˜è®¤å…³é—­
ip address 202.100.1.2 255.255.255.252
ping 202.100.1.1

# å¼€å¯telnet
# è¿œç¨‹ç™»é™†äº†ç¬¬ä¸€ä¸ªå¯†ç ä¸ºtelnetå¯†ç ï¼Œç¬¬äºŒä¸ªä¸ºç‰¹æƒæ¨¡å¼å¯†ç 
# R2
enable
enable password enhcia  # è®¾ç½®ç‰¹æƒæ¨¡å¼å¯†ç 
conf t
line vty 0 4
login  #å…è®¸ç™»å½•
password  hcia
transport input all #å…è®¸æ‰€æœ‰è¿œç¨‹ç®¡ç†åè®®æ¥ç™»å½•
int e0/0
ip address 202.100.1.2 255.255.255.252
#--------------------------------------------------------------------------------------------------------
# ---------------------åä¸º
# æ¥å£é»˜è®¤å¼€å¯
# é…ç½®IP
# R1
system-view
int g0/0/0
ip address 202.100.1.1 255.255.255.252
# R2
system-view
int g0/0/0
ip address 202.100.1.2 30
ping 202.100.1.1
# é…ç½®è¿œç¨‹ç™»å½•
#R2
user-interface vty 0 4
authentication-mode password hcia  # è·¯ç”±å™¨è®¾å¤‡åœ¨æ­¤ä¹‹åè¾“å…¥å¯†ç 
user privilege level 3  # é…ç½®ç”¨æˆ·çº§åˆ«ï¼Œé»˜è®¤æ˜¯0
# R1æµ‹è¯•
telnet 202.100.12
&lt;/code&gt;&lt;/pre&gt;
">02 å®æ–½åŸºç¡€çš„IPåœ°å€å’Œè¿œç¨‹ç®¡ç†ï¼ˆTelnetï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/01-si-ke-hua-wei-hua-san-3-chong-mo-ni-qi-de-an-zhuang-he-shi-yong/"" data-c="
          &lt;ol&gt;
&lt;li&gt;EVEå®‰è£…&lt;br&gt;
ä»è¯¾å‰èµ„æ–™ä¸­ä¸‹è½½0-eveæ–‡ä»¶å¤¹å…¨éƒ¨å†…å®¹&lt;br&gt;
----&amp;gt;ä½¿ç”¨VMwareWorkstationsæ‰“å¼€å…¶ä¸­çš„&lt;strong&gt;QYT_EVE.ovf&lt;/strong&gt;ï¼ˆå›ºå®šIPä¸º&lt;strong&gt;192.168.110.110&lt;/strong&gt;ï¼‰æ–‡ä»¶&lt;br&gt;
----&amp;gt;æœ€ç»ˆè¦çš„æ˜¯è°ƒæ•´ç½‘å¡ï¼Œéœ€è¦ä½¿è™šæ‹Ÿæœºå’ŒPCé€šä¿¡ï¼Œå°†ç½‘ç»œé€‚é…å™¨è°ƒæ•´ä¸ºè‡ªå®šä¹‰ä¸‹é¢çš„&lt;strong&gt;VMnet1(ä»…ä¸»æœºæ¨¡å¼)&lt;/strong&gt;&lt;br&gt;
----&amp;gt;ä¿®æ”¹PCè™šæ‹Ÿç½‘å¡&lt;strong&gt;VMnet1&lt;/strong&gt;çš„IPåœ°å€ä¸º&lt;strong&gt;192.168.110.111ï¼ˆåªè¦ä¸æ˜¯192.168.110.110å³å¯ï¼‰&lt;/strong&gt;&lt;br&gt;
----&amp;gt;å¯åŠ¨ï¼Œwebç”¨æˆ·åï¼šadminï¼Œå¯†ç ï¼ševe&lt;br&gt;
----&amp;gt;å¯¼å…¥æ‹“æ‰‘ï¼šclose lab----import----é€‰æ‹©QYTCNA_20180920.zip----upload----å‹¾é€‰----open&lt;/li&gt;
&lt;li&gt;eNSPå®‰è£…&lt;br&gt;
å®‰è£…VirtualBox-5.1.26&lt;br&gt;
----&amp;gt;å®‰è£…wireshark&lt;br&gt;
----&amp;gt;å®‰è£…eNS&lt;br&gt;
----&amp;gt;æ³¨å†Œè®¾å¤‡&lt;br&gt;
----&amp;gt;å¯¼å…¥æ‹“æ‰‘QCNA.topo&lt;br&gt;
&lt;code&gt;ã€æ³¨æ„ã€‘1.ä¸è¦ä½¿ç”¨é˜‰å‰²ç‰ˆç³»ç»Ÿï¼Œä½¿ç”¨ä¼ä¸šç‰ˆæˆ–è€…æ——èˆ°ç‰ˆï¼›2.ç¦æ­¢ä½¿ç”¨ghostç³»ç»Ÿï¼›3.å…³é—­é˜²ç«å¢™ï¼›4.å¸è½½ä»»ä½•ç³»ç»Ÿç®¡å®¶æˆ–è€…åƒåœ¾æ¸…ç†è½¯ä»¶&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585983117059.png&#34; alt=&#34;æœ¬è¯¾ç¨‹ä½¿ç”¨çš„è·¯ç”±æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨ç½‘ç»œè®¾å¤‡ï¼šè·¯ç”±å™¨ã€äº¤æ¢æœºã€é˜²ç«å¢™ã€AC(æ— çº¿)æ§åˆ¶å™¨&lt;/li&gt;
&lt;li&gt;SecureCRT&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…ï¼šSecureCRTä¸‹è½½ä¹‹åè§£å‹----åŒå‡»é‡Œé¢çš„æ³¨å†Œè¡¨æ–‡ä»¶2.reg----æ­£å¸¸ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æŠ€å·§ï¼š
&lt;ul&gt;
&lt;li&gt;telnetä¼šè¯â€œå¼ºåˆ¶æ¯æ¬¡ä¸€è¡Œâ€&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585761416603.png&#34; alt=&#34;telnet01&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;é”å®šä¼šè¯ï¼ˆ&lt;strong&gt;è®°å½•æ‰€æœ‰çš„é‡è¦ä¿¡æ¯ï¼Œè¯æ®æ¥æº&lt;/strong&gt;ï¼‰&lt;br&gt;
æ–‡ä»¶----ä¼šè¯æ—¥å¿—----é€‰æ‹©ä¿å­˜æ–‡ä»¶ä½ç½®&lt;/li&gt;
&lt;li&gt;å¿«æ·é”®&lt;br&gt;
&lt;code&gt;ctrl+tab&lt;/code&gt;ï¼šä¸‹ä¸€ä¸ªæ ‡ç­¾&lt;br&gt;
&lt;code&gt;ctrl+shift+tab&lt;/code&gt;ï¼šä¸Šä¸€ä¸ªæ ‡ç­¾&lt;br&gt;
&lt;code&gt;alt+æ•°å­—&lt;/code&gt;ï¼šå¿«é€Ÿåˆ‡æ¢åˆ°æŸä¸ªæ ‡ç­¾&lt;br&gt;
&lt;code&gt;ctrl+f4&lt;/code&gt;ï¼šå¿«é€Ÿå…³é—­å½“å‰æ ‡ç­¾&lt;br&gt;
&lt;code&gt;ctrl+ï¼ˆcæˆ–è€…interï¼‰ï¼ˆæˆ–è€…é€‰ä¸­ä¹‹åç‚¹å‡»é¼ æ ‡å·¦é”®ï¼‰&lt;/code&gt;ï¼šå¤åˆ¶å½“å‰å†…å®¹&lt;br&gt;
&lt;code&gt;shift+insertï¼ˆæˆ–è€…ç‚¹å‡»é¼ æ ‡å³é”®ï¼‰&lt;/code&gt;ï¼šç²˜è´´å½“å‰é€‰ä¸­å†…å®¹&lt;br&gt;
&lt;code&gt;ctrl+z&lt;/code&gt;ï¼šé€€å‡ºé…ç½®æ¨¡å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œè®¾å¤‡ç®¡ç†æ–¹å¼&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;consoleæœ¬åœ°ç®¡ç†ï¼šæƒé™é«˜ã€åˆå§‹åŒ–é…ç½®ã€å‘½ä»¤è¡Œå®æ–½ï¼Œæ³¨æ„ä¸è¦æ’åˆ°ä¸šåŠ¡æ¥å£ï¼Œå¤§éƒ¨åˆ†è®¾å¤‡comå£é»˜è®¤çš„æ³¢ç‰¹ç‡ä¸º9600&lt;/li&gt;
&lt;li&gt;ä¸“æœ‰çš„ä»¥å¤ªç½‘ç®¡ç†æ¥å£MGMTï¼šå¸¦å†…ç®¡ç†ï¼ˆç®¡ç†æµé‡å’Œç®¡ç†æµé‡åœ¨ä¸€ä¸ªé“¾è·¯ä¸Šï¼‰å’Œå¸¦å¤–ç®¡ç†ï¼ˆä¸“æœ‰çš„MGMTæ¥å£ï¼Œåªæœ‰ç®¡ç†æµé‡ï¼‰&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ç®¡ç†telnetæˆ–è€…sshï¼štelnetï¼Œæ˜æ–‡ç®¡ç†ã€æ–¹ä¾¿å¿«æ·ã€å®‰å…¨æ€§è¾ƒå·®ï¼Œå³vtyï¼›sshï¼Œå¯†æ–‡ç®¡ç†ã€å®‰å…¨æ€§å¥½ã€é€Ÿåº¦å¿«&lt;/li&gt;
&lt;li&gt;webæ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;ç½‘å·¥å¿…å¤‡&lt;br&gt;
CRTã€ä¸²å£çº¿ï¼ˆconsole--usbï¼‰&lt;/li&gt;
&lt;li&gt;Consoleè®¤è¯&lt;br&gt;
æ€ç§‘è®¾å¤‡ï¼šenable è¿›å…¥ç‰¹æƒæ¨¡å¼ï¼›conf t è¿›å…¥é…ç½®æ¨¡å¼&lt;br&gt;
åä¸ºè®¾å¤‡ï¼šsystem-view è¿›å…¥ç³»ç»Ÿè§†å›¾&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ---------------------æ€ç§‘
enable
conf t
line console 0 # è¿›å…¥consloeæ¥å£
password hcia # è®¾ç½®consoleå¯†ç ä¸ºhcia
login # å¼€å…³å‘½ä»¤ï¼Œå³é€šè¿‡consoleç™»å½•çš„æ—¶å€™éœ€è¦å¯†ç éªŒè¯
show line # éªŒè¯æ˜¯å¦ä½¿ç”¨consoleï¼ˆCTYï¼‰ç™»å½•çš„
#-----------------------------------------------------------------------------------------------------------
# ---------------------åä¸º
system-view
user-interface console 0
authentication-mode password # è®¾ç½®è®¤è¯æ¨¡å¼ä¸ºå¯†ç è®¤è¯ï¼Œè·¯ç”±å™¨åœ¨æ­¤æ­¥éœ€è¦è¾“å…¥å¯†ç 
set authentication password cipher hcia
display users # éªŒè¯
&lt;/code&gt;&lt;/pre&gt;
">01 æ€ç§‘ã€åä¸ºã€åä¸‰3ç§æ¨¡æ‹Ÿå™¨çš„å®‰è£…å’Œä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/00-xian-hua-zhi-ye-gui-hua/"" data-c="
          &lt;ol&gt;
&lt;li&gt;æ€ç§‘SDNçº¿è·¯&lt;br&gt;
1.1 DCçº§åˆ«çš„äº§å“ï¼ŒACI&lt;br&gt;
1.2 ä¼ä¸šçº§äº§å“ï¼ŒDNACï¼ˆDNAï¼‰&lt;br&gt;
1.3 å¹¿åŸŸç½‘äº§å“ï¼ŒSDWAN-VIPTELA&lt;/li&gt;
&lt;li&gt;åä¸ºSDNçº¿è·¯&lt;br&gt;
2.1 DCçº§åˆ«çš„äº§å“ï¼ŒDCNæ§åˆ¶å™¨&lt;br&gt;
2.2 ä¼ä¸šçº§äº§å“ï¼ŒCampusæ§åˆ¶å™¨&lt;br&gt;
3.2 å¹¿åŸŸç½‘äº§å“ï¼ŒCloudæ§åˆ¶å™¨&lt;/li&gt;
&lt;li&gt;åä¸ºè®¤è¯å¤§æ¦‚å­¦ä¹ æ—¶é—´&lt;br&gt;
HCIAï¼š1.3ä¸ªæœˆ&lt;br&gt;
HCIPï¼š2.5ä¸ªæœˆ&lt;br&gt;
HCIEï¼š2.5ä¸ªæœˆ&lt;/li&gt;
&lt;li&gt;è·³æ§½æ—¶æœº&lt;br&gt;
å­¦ä¸åˆ°çŸ¥è¯†ã€æŒ£ä¸åˆ°é’±ã€èŒä½ä¸Šä¸å»&lt;/li&gt;
&lt;li&gt;èŒä½&lt;br&gt;
å”®åå·¥ç¨‹å¸ˆ----å”®åè½¬å”®å‰æˆ–é”€å”®----è½¬æŠ€æœ¯ç»ç†----å»ç”²æ–¹åšçˆ¸çˆ¸----åœ¨ä¹™æ–¹åšä¼ç®¡----åœ¨è¿è¥å•†åšå¤§æ‹¿----åœ¨äºŒä¸‰çº¿åŸå¸‚åšå¤§ç¥&lt;/li&gt;
&lt;li&gt;é‡ç‚¹&lt;br&gt;
&lt;strong&gt;å­¦å†ã€è¯ä¹¦ã€é¡¹ç›®ç»éªŒ&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
">00 é—²è¯èŒä¸šè§„åˆ’ï¼ˆ2020.0311ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/38-shi-shi-hua-wei-she-bei-shang-de-ipsec-vpn/"" data-c="
          &lt;ol&gt;
&lt;li&gt;åŸºæœ¬çš„æ¨¡å¼ï¼š&lt;br&gt;
1.1 éš§é“æ¨¡å¼ï¼ŒIPSecä¼šå¦å¤–ç”Ÿæˆä¸€ä¸ªæ–°çš„IPæŠ¥å¤´ï¼Œå¹¶å°è£…åœ¨AHæˆ–ESPä¹‹å‰&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760562793.png&#34; alt=&#34;IPSecVPNéš§é“æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.2 ä¼ è¾“æ¨¡å¼ï¼ŒAHæˆ–ESPæŠ¥å¤´ä½äºIPæŠ¥å¤´å’Œä¼ è¾“å±‚æŠ¥å¤´ä¹‹é—´&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760572570.png&#34; alt=&#34;IPSecVPNä¼ è¾“æ¨¡å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;æ¶æ„ï¼š&lt;br&gt;
IPSecä¸æ˜¯ä¸€ä¸ªå•ç‹¬çš„åè®®ï¼Œå®ƒé€šè¿‡AHï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰å’ŒESPè¿™ä¸¤ä¸ªå®‰å…¨åè®®æ¥å®ç°IPæ•°æ®åŒ…çš„å®‰å…¨ä¼ é€ã€‚&lt;br&gt;
IKEåè®®æä¾›å¯†é’¥åå•†ï¼Œå»ºç«‹å’Œç»´æŠ¤å®‰å…¨è”ç›ŸSAç­‰æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;å®‰å…¨è”ç›ŸSAï¼š&lt;br&gt;
å®‰å…¨è”ç›Ÿå®šä¹‰äº†IPSecå¯¹ç­‰ä½“é—´å°†ä½¿ç”¨çš„æ•°æ®å°è£…æ¨¡å¼ã€è®¤è¯å’ŒåŠ å¯†ç®—æ³•ã€å¯†é’¥ç­‰å‚æ•°ã€‚&lt;br&gt;
å®‰å…¨è”ç›Ÿæ˜¯å•å‘çš„ï¼Œä¸¤ä¸ªå¯¹ç­‰ä½“ä¹‹é—´çš„åŒå‘é€šä¿¡ï¼Œè‡³å°‘éœ€è¦ä¸¤ä¸ªSAã€‚&lt;/li&gt;
&lt;li&gt;å»ºç«‹SAçš„æ–¹å¼ï¼ˆä¸¤ç§ï¼‰ï¼š&lt;br&gt;
4.1 æ‰‹å·¥æ–¹å¼ï¼šå®‰å…¨è”ç›Ÿæ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯éƒ½å¿…é¡»æ‰‹å·¥é…ç½®ã€‚æ‰‹å·¥æ–¹å¼å»ºç«‹å®‰å…¨è”ç›Ÿæ¯”è¾ƒå¤æ‚ï¼Œä½†ä¼˜ç‚¹æ˜¯å¯ä»¥ä¸ä¾èµ–IKEè€Œå•ç‹¬å®ç°IPSecåŠŸèƒ½ã€‚å½“å¯¹ç­‰ä½“è®¾å¤‡æ•°é‡è¾ƒå°‘æ—¶ï¼Œæˆ–æ˜¯åœ¨å°å‹é™æ€ç¯å¢ƒä¸­ï¼Œæ‰‹å·¥é…ç½®SAæ˜¯å¯è¡Œçš„ã€‚&lt;br&gt;
4.2 IKEåŠ¨æ€åå•†æ–¹å¼ï¼šåªéœ€è¦é€šä¿¡å¯¹ç­‰ä½“é—´é…ç½®å¥½IKEåå•†å‚æ•°ï¼Œç”±IKEè‡ªåŠ¨åå•†æ¥åˆ›å»ºå’Œç»´æŠ¤SAã€‚åŠ¨æ€åå•†æ–¹å¼å»ºç«‹å®‰å…¨è”ç›Ÿç›¸å¯¹ç®€å•äº›ã€‚å¯¹äºä¸­ã€å¤§å‹çš„åŠ¨æ€ç½‘ç»œç¯å¢ƒä¸­ï¼Œæ¨èä½¿ç”¨IKEåå•†å»ºç«‹SAã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®æ­¥éª¤&lt;br&gt;
5.1 å…·ä½“æ­¥éª¤ï¼š&lt;br&gt;
é…ç½®ç½‘ç»œå¯è¾¾ï¼ˆè·¯ç”±ï¼‰ --&amp;gt; é…ç½®ACLè¯†åˆ«å…´è¶£æµï¼ˆä»…VPNæµé‡ï¼‰ --&amp;gt; åˆ›å»ºå®‰å…¨æè®®ï¼ˆåŠ å¯†ç®—æ³•ã€è®¤è¯ã€å®Œæ•´æ€§æ ¡éªŒç­‰ï¼Œä¸¤ç«¯ç­–ç•¥å¿…é¡»ç›¸åŒï¼‰--&amp;gt; åˆ›å»ºå®‰å…¨ç­–ç•¥ï¼ˆå¯¹ç”¨æˆ·æµé‡å¤„ç†ï¼‰ --&amp;gt; åº”ç”¨å®‰å…¨ç­–ç•¥&lt;br&gt;
5.2 åŠ è§£å¯†ç‚¹ï¼ˆPC8&amp;lt;--&amp;gt;AR3ï¼‰ï¼ša.åˆ°è¾¾å¯¹ç«¯åŠ è§£å¯†ç‚¹ï¼ˆç›´è¿ï¼‰ï¼›b.åˆ°è¾¾æœ¬ç«¯çš„é€šä¿¡ç‚¹ï¼ˆç›´è¿ï¼‰ï¼›c.åˆ°è¾¾å¯¹ç«¯çš„é€šä¿¡ç‚¹ï¼ˆé™æ€é»˜è®¤è·¯ç”±ï¼‰&lt;br&gt;
5.3 IPSecçš„SPD(å®‰å…¨ç­–ç•¥é€‰æ‹©å™¨ï¼Œå³acl)ã€æè®®ï¼ˆproposalï¼‰ã€IPSecç­–ç•¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;é…ç½®éš§é“æ¨¡å¼
#### é…ç½®è·¯ç”±
# AR2
int g0/0/1
ip address 10.1.2.254 24
ip route-static 0.0.0.0 0.0.0.0 202.100.1.254
# AR3ï¼šé…ç½®IP
int g0/0/0
ip address 10.1.1.250 24
# ä½¿ç”¨pc8æµ‹è¯•
ping 10.1.1.250

#### é…ç½®acl
# AR1
acl 3000
description vpn
rule 10 permit ip source 10.1.1.0 0.0.0.255 destination 10.1.2.0 0.0.0.255
q
# AR2
acl 3000
description vpn
rule 5 permit ip source 10.1.2.0 0.0.0.255 destination 10.1.1.0 0.0.0.255
q

#### é…ç½®æè®®
# AR1
ipsec proposal hcia
esp authentication-algorithm sha1  # è®¤è¯ç®—æ³•
esp encryption-algorithm des # åŠ å¯†ç®—æ³•
# AR2ï¼Œé…ç½®å¿…é¡»ä¸AR1ç›¸åŒ
ipsec proposal hcia
esp authentication-algorithm sha1
esp encryption-algorithm des
# æŸ¥çœ‹é…ç½®
dis ipsec proposal

# é…ç½®ç­–ç•¥
# AR1
ipsec policy hcia-vpn 10  manual   # åºåˆ—å·ä¸º10ï¼Œè¿™ä¸ªåªéœ€è¦AR1å’ŒAR2ä¿æŒä¸€è‡´å³å¯
security acl 3000
proposal hcia
tunnel remote 202.100.1.1
tunnel local 202.100.1.254
sa spi inbound esp 54321
sa spi outbound esp 12345
sa string-key outbound esp simple huawei
sa string-key inbound esp simple huawei
# AR2
ipsec policy hcia-vpn 10  manual
security acl 3000
proposal hcia
tunnel remote 202.100.1.254
tunnel local 202.100.1.1
sa spi inbound esp 12345
sa spi outbound esp 54321
sa string-key outbound esp simple huawei
sa string-key inbound esp simple huawei

# å‡ºæ¥å£åº”ç”¨
# AR1ï¼Œå¦‚æœæ˜¯è™šæ‹Ÿæ¥å£ï¼Œåˆ™éœ€è¦åœ¨è™šæ‹Ÿæ¥å£ä¸Šä½¿ç”¨
int g0/0/0 
ipsec policy hcia-vpn
# AR2
int g0/0/0 
ipsec policy hcia-vpn

# æµ‹è¯•
# ä½¿ç”¨pc8 ping10.1.1.250 ï¼Œåœ¨AR2çš„g0/0/0ä¸ŠæŠ“åŒ…
dis ipsec sa  # æŸ¥çœ‹ipsecç­–ç•¥æƒ…å†µ
dis ipsec statistics esp  # æŸ¥çœ‹é¡¹â€œOutpacket countâ€ï¼Œä¸æ–­åœ°pingï¼Œæ­¤å€¼ä¸æ–­å¢åŠ 
&lt;/code&gt;&lt;/pre&gt;
">ã€38ã€‘å®æ–½åä¸ºè®¾å¤‡ä¸Šçš„IPSEC VPNï¼ˆ2020.0309ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/37-san-ceng-vlan-jian-lu-you-shi-shi/"" data-c="
          &lt;pre&gt;&lt;code&gt;# åä¸ºè·¯ç”±å™¨æ¢å¤å‡ºå‚è®¾ç½®
reset saved-configuration
reboot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;äºŒå±‚å’Œä¸‰å±‚çš„èåˆï¼Œä¸åŒçš„vlançš„ä¸»æœºé—´çš„é€šä¿¡éœ€è¦ä½¿ç”¨è·¯ç”±è¡¨ã€‚&lt;br&gt;
äºŒå±‚äº¤æ¢æœºå’Œè·¯ç”±å™¨åœ¨&lt;strong&gt;åŠŸèƒ½ä¸Šçš„é›†æˆ&lt;/strong&gt;æ„æˆäº†&lt;strong&gt;ä¸‰å±‚äº¤æ¢æœº&lt;/strong&gt;ï¼Œä¸‰å±‚äº¤æ¢æœºåœ¨åŠŸèƒ½ä¸Šå®ç°äº†vlançš„åˆ’åˆ†ã€vlanå†…éƒ¨çš„äºŒå±‚äº¤æ¢å’Œvlané—´è·¯ç”±çš„åŠŸèƒ½ã€‚&lt;br&gt;
VLANç¼ºç‚¹ï¼šéš”ç¦»äº†å„ä¸ªvlanä¹‹é—´çš„ä»»ä½•æµé‡ï¼Œåˆ†å±ä¸åŒvlançš„ç”¨æˆ·ä¸èƒ½ç›¸äº’é€šä¿¡ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VLANé—´è·¯ç”±&lt;br&gt;
1.1 å•è‡‚è·¯ç”±ï¼ˆå­æ¥å£ï¼‰&lt;br&gt;
äº¤æ¢æœºè¿æ¥è·¯ç”±å™¨çš„æ¥å£é‡‡ç”¨trunkæ¨¡å¼ï¼Œä¸€ä¸ªé“¾è·¯å¯ä»¥æ‰¿è½½å¤šä¸ªvlançš„æµé‡ï¼Œä½¿å¾—pcå’Œè‡ªèº«çš„ç½‘å…³åœ¨åŒä¸€ä¸ªç½‘ç»œï¼ˆvlanï¼‰,ç„¶åç½‘å…³è®¾å¤‡é€šè¿‡ç›´è¿è·¯ç”±é€šä¿¡ã€‚&lt;br&gt;
è·¯ç”±å™¨å¦‚ä½•è¯†åˆ«vlançš„æµé‡ï¼ša. å­æ¥å£ï¼›b. å­æ¥å£ä¸‹é…ç½®VlanID&lt;br&gt;
1.2 vlanæ¥å£ï¼ˆSVIï¼Œäº¤æ¢è™šæ‹Ÿæ¥å£ï¼‰&lt;br&gt;
1.3 å¤šè‡‚è·¯ç”±ï¼ˆç‰©ç†æ¥å£ï¼‰&lt;br&gt;
äº¤æ¢æœºé‡‡ç”¨accessæ¨¡å¼ï¼Œä½¿å¾—PCå’Œè‡ªèº«çš„ç½‘å…³åœ¨åŒä¸€ä¸ªç½‘ç»œï¼ˆvlanï¼‰ï¼Œç„¶åç½‘å…³è®¾å¤‡é€šè¿‡ç›´è¿è·¯ç”±é€šä¿¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; å•è‡‚è·¯ç”±
# SW1æ¥å…¥ä¸»æœºPCçš„é…ç½®ï¼šåˆ›å»ºvlanï¼Œå¹¶è®¾ç½®accessæ¨¡å¼
vlan batch 10 20
int g0/0/10
description ConnectToPc1
port link-type access
port default vlan 10
int g0/0/11
description ConnectToPc2
port link-type access
port default vlan 20
# SW1å®æ–½äº¤æ¢æœºçš„ä¸Šè¿æ¥å£ï¼ˆäº¤æ¢æœºä¸è·¯ç”±å™¨çš„æ¥å£ï¼‰çš„é…ç½®
int g0/0/2
port link-type trunk
port trunk allow-pass vlan 1 10 20
# AR1å®æ–½è·¯ç”±å™¨å­æ¥å£
int g0/0/2.10
dot1q termination vid 10 # å°è£…å­æ¥å£çš„VlanIDä¸º10ï¼Œç”¨æ¥è¯†åˆ«æ¥è‡ªtrunkçš„vlan10çš„æµé‡
ip address 10.1.1.254 24
arp broadcast enable # å…è®¸arpå¹¿æ’­é€šè¿‡ï¼ˆé»˜è®¤ä¸å…è®¸arpå¹¿æ’­é€šè¿‡è¯¥å­æ¥å£ï¼‰
int g0/0/2.20
dot1q termination vid 20
ip address 10.1.2.254 24
arp broadcast enable # å…è®¸arpå¹¿æ’­é€šè¿‡

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; é…ç½®ä¸‰å±‚äº¤æ¢
# é…ç½®äº¤æ¢æœºsw1
vlan batch 10 20
int g0/0/10
port link-type access
port default vlan 10
int vlanif 10
ip address 10.1.1.254 24
int g0/0/11
port link-type access
port default vlan 20
int vlanif 20
ip address 10.1.2.254 24
# pc5æµ‹è¯•ï¼šä½¿ç”¨ä¸»æœºpc5å»pingä¸»æœºpc6
ping 10.1.2.20
&lt;/code&gt;&lt;/pre&gt;
">ã€37ã€‘ä¸‰å±‚VLANé—´è·¯ç”±å®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/36-hua-wei-acl-ji-ben-gui-ze-he-yan-shi/"" data-c="
          &lt;p&gt;è®¿é—®æ§åˆ¶åˆ—è¡¨ACLï¼Œå®šä¹‰ä¸€ç³»åˆ—ä¸åŒçš„è§„åˆ™ï¼ˆpermitæˆ–è€…denyï¼‰ï¼Œå®ç°å¯¹ç½‘ç»œè®¿é—®è¡Œä¸ºçš„æ§åˆ¶ã€é™åˆ¶ç½‘ç»œæµé‡ã€æé«˜ç½‘ç»œæ€§èƒ½ã€é˜²æ­¢ç½‘ç»œæ”»å‡»ç­‰ã€‚&lt;br&gt;
æ¯ä¸ªACLå¯ä»¥åŒ…å«å¤šä¸ªè§„åˆ™ï¼Œ&lt;strong&gt;åä¸ºACLé»˜è®¤æ˜¯å…è®¸æ‰€æœ‰æµé‡é€šè¿‡ï¼Œä½†æ˜¯æ€ç§‘æ˜¯æ‹’ç»æ‰€æœ‰æµé‡é€šè¿‡&lt;/strong&gt;ã€‚&lt;br&gt;
&lt;code&gt;ACLè§„åˆ™ä¸­çš„é€šé…ç¬¦æ©ç çš„0ä»£è¡¨ä¸å…è®¸å˜åŒ–ï¼Œ1ä»£è¡¨å¿½ç•¥ï¼ˆå³æ— æ‰€è°“ï¼Œä»»æ„å˜åŒ–ï¼‰&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ†ç±»&lt;br&gt;
1.1 åŸºæœ¬ACL&lt;br&gt;
2000-2999ï¼ŒåŒ¹é…æºIPåœ°å€&lt;br&gt;
1.2 é«˜çº§ACL&lt;br&gt;
3000-3999ï¼ŒåŒ¹é…æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æºç«¯å£ã€ç›®çš„ç«¯å£&lt;br&gt;
1.3 äºŒå±‚ACL&lt;br&gt;
4000-4999ï¼ŒåŒ¹é…æºMacã€ç›®çš„Macã€ä»¥å¤ªå¸§åè®®ç±»å‹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰çš„è§„åˆ™
dis acl all

# å¯¹AR1æ¥å£g0/0/2åº”ç”¨ACL2001
acl 2001
rule deny source 10.1.1.250 0 
q
int g0/0/2
traffic-filter inbound acl 2001
# åœ¨AR3ä¸Šä½¿ç”¨ping 10.1.1.254éªŒè¯ï¼Œå‘ç°å·²ç»æ— æ³•pingé€š
# åœ¨pc5ä¸Šä½¿ç”¨ping 10.1.1.254éªŒè¯ï¼Œå‘ç°å¯ä»¥pingé€š

# é«˜çº§ACLé…ç½®
acl 3000
# ä¸å…è®¸å±€åŸŸç½‘192.168.1.0/24å†…æ‰€æœ‰ä¸»æœºè®¿é—®ä¸»æœº172.16.10.1çš„21/tcpç«¯å£ï¼ˆFTPï¼‰
rule deny tcp source 192.168.1.0 0.0.255 destination 172.16.10.1 0 destination-port eq 21
# ä¸å…è®¸å±€åŸŸç½‘192.168.2.0/24å†…æ‰€æœ‰ä¸»æœºè®¿é—®ä¸»æœº172.16.10.2
rule deny tcp source 192.168.2.0 0.0.255 destination 172.16.10.2 0 
rule permit ip # é«˜çº§è§„åˆ™éœ€è¦æ˜¾ç¤ºé…ç½®æ‰€æœ‰æµé‡é€šè¿‡ï¼ŒåŸºæœ¬è§„åˆ™åˆ™æ˜¯é»˜è®¤æ‰€æœ‰æµé‡é€šè¿‡
&lt;/code&gt;&lt;/pre&gt;
">ã€36ã€‘åä¸ºACLåŸºæœ¬è§„åˆ™å’Œæ¼”ç¤º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/35-shi-shi-hua-wei-she-bei-shang-de-easy-ip/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# EasyIPå®ç°
# &amp;gt;&amp;gt; é…ç½®AR1
acl 2000 
description NAT #ç»™è§„åˆ™æ·»åŠ æè¿°
# rule 11 permit source 10.1.1.0 0.0.0.255 # 0.0.0.255ä¸ºåæ©ç ï¼Œä»£è¡¨10.1.1.0/24è¿™ä¸ªç½‘æ®µéƒ½å¯ä»¥è½¬æ¢
rule 10 permit source 10.1.1.250 0 # åªå…è®¸10.1.1.250è¿™ä¸ªåœ°å€è¢«è½¬æ¢
dis th 
int dial1
nat outbound 2000 # 2000ä¸ºaclçš„ç´¢å¼•å€¼

# &amp;gt;&amp;gt;éªŒè¯
# AR1ä¸ŠæŸ¥çœ‹
dis nat outbound # æŸ¥çœ‹é…ç½®æƒ…å†µ
# AR3
ping 202.100.1.1
# AR1
dis acl 2000 # æŸ¥çœ‹è§„åˆ™å‘½ä¸­æƒ…å†µï¼ˆæ¨¡æ‹Ÿå™¨å¯èƒ½ä¸å‡ºç°åŒ¹é…æ¬¡æ•°ï¼‰,å¯ä»¥é€šè¿‡æŠ“åŒ…æŸ¥çœ‹ï¼Œicmpé€šä¿¡åŒæ–¹ä¸º202.100.1.254--202.100.1.1ï¼Œè€Œä¸æ˜¯10.1.1.250--202.100.1.1
&lt;/code&gt;&lt;/pre&gt;
">ã€35ã€‘å®æ–½åä¸ºè®¾å¤‡ä¸Šçš„Easy IP</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/34-shi-shi-hua-wei-she-bei-shang-de-nat-fu-wu-qi/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# NATæœåŠ¡å™¨å®æ–½
# è™šæ‹Ÿæ¥å£ä¸‹å®ç° AR1
# å®ç°ï¼š202.100.1.254:2323è½¬æ¢æˆ10.1.1.250:23(telnet)

# &amp;gt;&amp;gt;é…ç½®è·¯ç”±å™¨AR3
int g0/0/0  
ip addr 10.1.1.250 24
q
ip route-static 0.0.0.0 0.0.0.0 10.1.1.254

# &amp;gt;&amp;gt;é…ç½®AR2
ip route-static 0.0.0.0 0 202.100.1.254 # AR3é¦–å…ˆéœ€è¦æœ‰è·¯ç”±è¡¨å»å¾€202.100.1.254ï¼Œå¦‚æœæ²¡æœ‰è·¯ç”±ï¼Œåˆ™æ•°æ®åŒ…ä¼šè¢«ä¸¢å¼ƒ

 # &amp;gt;&amp;gt;é…ç½®è·¯ç”±å™¨AR1
int g0/0/2
ip address 10.1.1.254 24
ping 10.1.1.250 # æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿä¸AR3é€šä¿¡
int dialer 1
undo nat static global 202.100.1.251 inside 10.1.1.250 #åˆ é™¤ä¹‹å‰çš„é™æ€nat
nat server protocol tcp global 202.100.1.251 2323 inside 10.1.1.250 23
q
dis nat server  # æŸ¥çœ‹netæœåŠ¡å™¨é…ç½®

# &amp;gt;&amp;gt;é…ç½®AR3
# å¼€å¯è®¤è¯æœåŠ¡ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨telnetè¿æ¥æµ‹è¯•
user-interface vty 0 4
set authentication password cipher huawei

#  &amp;gt;&amp;gt;æµ‹è¯•æ˜¯å¦æˆåŠŸ
# åœ¨AR2 ä¸Šä½¿ç”¨telnetæµ‹è¯•è¿æ¥AR3
telnet 202.100.1.251 2323  # è¾“å…¥å¯†ç huaweiï¼Œtelnetå‘½ä»¤ä¸èƒ½åœ¨ç³»ç»Ÿè§†å›¾è¿è¡Œ
# åœ¨AR1ä¸ŠæŸ¥çœ‹ä¼šè¯æƒ…å†µ
dis nat session protocol tcp
# åœ¨AR3ä¸ŠæŸ¥çœ‹tcpçš„çŠ¶æ€
dis tcp status
&lt;/code&gt;&lt;/pre&gt;
">ã€34ã€‘å®æ–½åä¸ºè®¾å¤‡ä¸Šçš„NATæœåŠ¡å™¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/33-hua-wei-nat-ji-ben-chang-jing-jiang-jie/"" data-c="
          &lt;p&gt;ç½‘ç»œåœ°å€è½¬æ¢ï¼Œä¸»è¦ç”¨äºå®ç°ä½äºå†…éƒ¨ç½‘ç»œçš„ä¸»æœºè®¿é—®å¤–éƒ¨ç½‘ç»œçš„åŠŸèƒ½ï¼Œä¸€èˆ¬éƒ¨ç½²åœ¨è¿æ¥å†…ç½‘å’Œå¤–ç½‘çš„ç½‘å…³è®¾å¤‡ä¸Šã€‚&lt;br&gt;
&lt;code&gt;ä¸è¦ä¾èµ–pingæ¥éªŒè¯ã€‚æ ‡å‡†æ˜¯IPåœ°å€æ˜¯å¦æˆåŠŸçš„åšäº†è½¬æ¢&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é™æ€NAT**ï¼ˆIP--IPï¼‰**&lt;br&gt;
é™æ€NATå®ç°ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€çš„ä¸€å¯¹ä¸€æ˜ å°„ï¼Œä¸€ä¸ªå…¬ç½‘IPåªä¼šåˆ†é…ç»™å”¯ä¸€ä¸”å›ºå®šçš„å†…ç½‘ä¸»æœºã€‚&lt;br&gt;
**ä¸å¸¸ç”¨åŸå› ï¼š**æ•´ä¸ªå”¯ä¸€çš„å…¬ç½‘åœ°å€å…¨éƒ¨è¢«å ç”¨ï¼Œå…¨éƒ¨çš„ç«¯å£åªèƒ½è¢«ä¸€ä¸ªä¸»æœºä½¿ç”¨ï¼Œå³æ•´ä¸ªIPåè®®æ ˆå…¨éƒ¨åšäº†è½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;åŠ¨æ€NAT**ï¼ˆIP--IPï¼‰**&lt;br&gt;
åŠ¨æ€NATåŸºäºåœ°å€æ± æ¥å®ç°ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€çš„è½¬æ¢ã€‚&lt;br&gt;
æ¯å°ä¸»æœºéƒ½ä¼šåˆ†é…åˆ°åœ°å€æ± ä¸­çš„ä¸€ä¸ªå”¯ä¸€åœ°å€ã€‚å½“ä¸éœ€è¦æ­¤è¿æ¥æ—¶ï¼Œå¯¹åº”çš„åœ°å€æ˜ å°„å°†ä¼šè¢«åˆ é™¤ã€‚å½“ç½‘å…³æ”¶åˆ°å›å¤æŠ¥æ–‡åï¼Œä¼šæ ¹æ®ä¹‹å‰çš„æ˜ å°„å†æ¬¡è¿›è¡Œè½¬æ¢ä¹‹åè½¬å‘ç»™å¯¹åº”ä¸»æœºã€‚&lt;br&gt;
åŠ¨æ€NATåœ°å€æ± ä¸­çš„åœ°å€ç”¨å°½ä»¥åï¼Œåªèƒ½ç­‰å¾…è¢«å ç”¨çš„å…¬ç”¨IPè¢«é‡Šæ”¾åï¼Œå…¶ä»–ä¸»æœºæ‰èƒ½ä½¿ç”¨å®ƒæ¥è®¿é—®å…¬ç½‘ã€‚&lt;br&gt;
ç®€å•ç†è§£ï¼šå¤šä¸ªéå›ºå®šçš„é™æ€NAT&lt;/li&gt;
&lt;li&gt;NATæœåŠ¡å™¨ï¼ˆå¸¸ç”¨ï¼‰&lt;strong&gt;ï¼ˆIP:port--IP:portï¼‰&lt;/strong&gt;&lt;br&gt;
ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢NAPTå…è®¸å¤šä¸ªå†…éƒ¨åœ°å€æ˜ å°„åˆ°&lt;strong&gt;åŒä¸€ä¸ªå…¬æœ‰åœ°å€&lt;/strong&gt;çš„ä¸åŒç«¯å£ï¼ˆåŸºäºç«¯å£çš„è½¬æ¢ï¼‰ï¼Œå±äºå¤šå¯¹ä¸€çš„åœ°å€è½¬æ¢ã€‚&lt;br&gt;
å…è®¸æœåŠ¡å™¨æ—¢èƒ½è¢«å†…éƒ¨è®¿é—®ï¼Œä¹Ÿèƒ½è¢«å¤–éƒ¨è®¿é—®ã€‚&lt;br&gt;
è½¬æ¢æŸä¸ªç‰¹å®šçš„åè®®æˆ–è€…ç«¯å£ï¼Œç”¨äºæŠŠæœåŠ¡å™¨æä¾›çš„æœåŠ¡æ˜ å°„åˆ°å…¬ç½‘ã€‚&lt;/li&gt;
&lt;li&gt;EasyIPï¼ˆå¸¸ç”¨ï¼‰&lt;strong&gt;ï¼ˆIP:port--IP:portï¼‰&lt;/strong&gt;&lt;br&gt;
EasyIPå…è®¸å°†å¤šä¸ªå†…éƒ¨åœ°å€æ˜ å°„åˆ°ç½‘å…³å‡ºæ¥å£åœ°å€ä¸Šçš„ä¸åŒç«¯å£ã€‚&lt;br&gt;
å®æ–½æ­¥éª¤ï¼šå®šä¹‰ä¸€ä¸ªaclï¼Œä½œç”¨æ˜¯å®šä¹‰å“ªäº›ä¸»æœºå¯ä»¥è¢«è½¬æ¢ï¼Œåªæœ‰è¢«è½¬æ¢çš„ä¸»æœºæ‰å¯ä»¥è®¿é—®äº’è”ç½‘ï¼Œä¸è¢«å®šä¹‰çš„ä¸èƒ½è®¿é—®ï¼Œ ç„¶ååœ¨å‡ºæ¥å£ï¼ˆè¿æ¥å¤–ç½‘çš„æ¥å£ï¼‰åº”ç”¨EasyIP&lt;br&gt;
ä½œç”¨ï¼šå…¬ç½‘åœ°å€å’Œç«¯å£çš„å¤ç”¨&lt;br&gt;
ACLåˆ†ç±»ï¼š2000-2999ä¸ºåŸºæœ¬aclï¼Œ3000-3999ä¸ºé«˜çº§aclï¼Œ4000-4999ä¸ºäºŒå±‚acl&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;é™æ€NATå®æ–½
# ç‰©ç†æ¥å£ä¸‹é…ç½®
interface g0/0/0
ip addr 192.168.1.254 24
int s0/0/1
ip addr 200.10.10.2 24
nat static global 202.10.10.1 inside 192.168.1.1 # æ³¨æ„ï¼šæ­¤å¤„ä¸è¦ä½¿ç”¨ç‰©ç†æ¥å£åœ°å€ï¼Œè€Œå¿…é¡»ä½¿ç”¨åŒä¸€ç½‘æ®µçš„å…¶ä»–åœ°å€
nat static global 202.10.10.2 inside 192..168.1.2

# è™šæ‹Ÿæ¥å£ä¸‹é…ç½®AR1
int dialer 1
nat static global 202.100.1.251 inside 10.1.1.250  # æ­¤å¤„å…¬ç½‘åœ°å€ä¸èƒ½ä¸ºæ­¤æ¥å£è·å–åˆ°çš„å…¬ç½‘åœ°å€ï¼ˆ202.100.1.254ï¼‰ï¼Œéœ€è¦ä½¿ç”¨åŒç½‘æ®µå…¶ä»–å…¬ç½‘åœ°å€
# æŸ¥çœ‹æ˜¯å¦è½¬æ¢æˆåŠŸ
dis ip routing-table  # ä¼šçœ‹åˆ°ä¸€ä¸ªåè®®ç±»å‹ä¸ºUnrçš„è·¯ç”±è¡¨ï¼Œä¼˜å…ˆçº§ä¸º64
dis nat static

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;åŠ¨æ€NATå®æ–½
nat address-group 1 200.10.10.1 200.10.10.200
acl 2000
rule 5 permit source 192.168.1.0 0.0.0.255
q
int s1/0/0
nat outbound 2000 address-group 1 no-pat
&lt;/code&gt;&lt;/pre&gt;
">ã€33ã€‘åä¸ºNATåŸºæœ¬åœºæ™¯è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/32-pppoe-de-you-hua/"" data-c="
          &lt;ol&gt;
&lt;li&gt;MTU(æœ€å¤§ä¼ è¾“å•å…ƒ)å’ŒMSS(æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦)&lt;br&gt;
ä¸»è¦åŸå› æ˜¯å¢åŠ ä¸¤ä¸ªæŠ¥å¤´ï¼šPPPoE(6å­—èŠ‚)å’ŒPPP(2å­—èŠ‚)çš„æŠ¥å¤´&lt;br&gt;
PPPoeä¾§æ¥å£MTUå€¼ä¸º1492å­—èŠ‚ï¼Œå½“ä»è¿™ä¸ªæ¥å£ä¸Šå‘é€çš„ä¸‰å±‚è½¬å‘æŠ¥æ–‡å¤§äºMTUå€¼ä¸”æŠ¥æ–‡&lt;strong&gt;è®¾ç½®ä¸ºä¸å¯åˆ†ç‰‡&lt;/strong&gt;æ—¶å°±ä¼šå¯¼è‡´æŠ¥æ–‡æ— æ³•å‘é€å‡ºå»ï¼Œå‡ºç°ç”¨æˆ·ä¸Šç½‘&lt;strong&gt;ç½‘é€Ÿæ…¢&lt;/strong&gt;çš„æƒ…å½¢ã€‚&lt;br&gt;
å¯ä»¥åœ¨&lt;strong&gt;æ‹¨å·å£ä¸‹&lt;/strong&gt;é…ç½®&lt;code&gt;tcp adjust-mss&lt;/code&gt;**(æ¨èé…ç½®1200)**å‘½ä»¤ä¿®æ”¹TCPåå•†é˜¶æ®µåå•†å‡ºçš„MSSå¤§å°ï¼Œä½¿æŠ¥æ–‡é•¿åº¦å°äºæ‹¨å·å£çš„MTUå€¼ï¼Œä¿è¯æŠ¥æ–‡çš„æ­£å¸¸å¤„ç†ï¼Œè§£å†³ä¸Šç½‘é€Ÿåº¦æ…¢çš„é—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;å®¢æˆ·ç«¯AR1é…ç½®
int dialer 1
tcp adjust-mss 1200
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;DNS&lt;br&gt;
é…ç½®PPPoEå®¢æˆ·ç«¯æ¥æ”¶æœåŠ¡ç«¯åˆ†é…çš„DNSæœåŠ¡å™¨åœ°å€ï¼Œé…ç½®å‘½ä»¤å¯åŒæ—¶é€‰æ‹©&lt;strong&gt;ä»¥ä¸‹ä¸¤æ¡å‘½ä»¤æˆ–è€…å…¶ä¸­ä¸€æ¡ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ppp ipcp dns request&lt;/code&gt;ï¼šåœ¨dialerè§†å›¾ä¸­é…ç½®PPPoEå®¢æˆ·ç«¯ä¸»åŠ¨å‘PPPoEæœåŠ¡ç«¯è¯·æ±‚dnsæœåŠ¡å™¨åœ°å€ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼Œç¦æ­¢PPPoEå®¢æˆ·ç«¯ä¸»åŠ¨å‘PPPoEæœåŠ¡ç«¯è¯·æ±‚dnsæœåŠ¡å™¨åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ppp ipcp dns admin-any&lt;/code&gt;ï¼šåœ¨dialerè§†å›¾ä¸­é…ç½®PPPoEå®¢æˆ·ç«¯è¢«åŠ¨çš„æ¥æ”¶PPPoEæœåŠ¡ç«¯åˆ†é…çš„dnsæœåŠ¡å™¨åœ°å€ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼ŒPPPoEå®¢æˆ·ç«¯ä¸ä¼šè¢«åŠ¨çš„æ¥æ”¶PPPoEæœåŠ¡ç«¯åˆ†é…çš„dnsæœåŠ¡å™¨åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;å®¢æˆ·ç«¯AR1é…ç½®
int dialer 1
ppp ipcp dns request
ppp ipcp dns admit-any
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é™æ€é»˜è®¤è·¯ç”±&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;å®¢æˆ·ç«¯AR1é…ç½®
# ç”±äºdialer 1æ¥å£æ˜¯ä¸€ä¸ªPPPæ¥å£ï¼Œæ‰€æœ‰å¯ä»¥é‡‡ç”¨ä»¥ä¸‹IPé…ç½®
ip route-static 0.0.0.0 0.0.0.0 dialer 1
&lt;/code&gt;&lt;/pre&gt;
">ã€32ã€‘PPPoEçš„ä¼˜åŒ–</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/31-pppoe-li-lun-he-ji-ben-shi-shi/"" data-c="
          &lt;p&gt;PPPoEåè®®é€šè¿‡åœ¨ä»¥å¤ªç½‘ä¸Šæä¾›ç‚¹åˆ°ç‚¹çš„è¿æ¥ï¼Œå»ºç«‹PPPä¼šè¯ï¼Œä½¿å¾—ä»¥å¤ªç½‘ä¸­çš„ä¸»æœºèƒ½å¤Ÿè¿æ¥åˆ°è¿œç«¯çš„å®½å¸¦æ¥å…¥æœåŠ¡å™¨ã€‚PPPoEå…·å¤‡é€‚ç”¨èŒƒå›´å¹¿ã€å®‰å…¨æ€§é«˜ã€è®¡è´¹æ–¹ä¾¿ç­‰ç‰¹ç‚¹ã€‚ç›®å‰æ¯”è¾ƒæµè¡Œçš„å®½å¸¦æ¥å…¥æ–¹å¼ADSLï¼ˆDSLï¼Œæ•°å­—ç”¨æˆ·çº¿è·¯ï¼›xDSLï¼Œxè¡¨ç¤ºä¸åŒç§ç±»çš„æ•°å­—ç”¨æˆ·çº¿è·¯æŠ€æœ¯ï¼‰ï¼ŒADSLæ˜¯éå¯¹ç§°DSLæŠ€æœ¯ï¼Œä½¿ç”¨çš„æ˜¯PPPoEåè®®ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PPPoEæŠ¥æ–‡&lt;br&gt;
PPPoEæŠ¥æ–‡ä½¿ç”¨Ethernetæ ¼å¼æ¥è¿›è¡Œå°è£…&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760251712.png&#34; alt=&#34;PPPoEæŠ¥æ–‡&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.1 Type&lt;br&gt;
è¡¨ç¤ºåè®®ç±»å‹å­—æ®µï¼Œå½“å€¼ä¸º0x8863æ—¶è¡¨ç¤ºæ‰¿è½½çš„æ˜¯PPPoEå‘ç°é˜¶æ®µçš„æŠ¥æ–‡ã€‚å½“å€¼ä¸º0x8864æ—¶è¡¨ç¤ºæ‰¿è½½çš„æ˜¯PPPoEä¼šè¯é˜¶æ®µçš„æŠ¥æ–‡ã€‚&lt;br&gt;
1.2 PPPoEå­—æ®µä¸­çš„å„ä¸ªå­—æ®µè§£é‡Šå¦‚ä¸‹&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Verï¼šè¡¨ç¤ºPPPoEç‰ˆæœ¬å·ï¼Œå€¼ä¸º0x01ã€‚&lt;/li&gt;
&lt;li&gt;Typeï¼šè¡¨ç¤ºç±»å‹ï¼Œå€¼ä¸º0x01ã€‚&lt;/li&gt;
&lt;li&gt;Codeï¼šè¡¨ç¤ºPPPoEæŠ¥æ–‡ç±»å‹ï¼Œä¸åŒå–å€¼æ ‡è¯†ä¸åŒçš„PPPoEæŠ¥æ–‡ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;Session IDï¼šPPPoEä¼šè¯IDï¼Œä¸ä»¥å¤ªç½‘SMACå’ŒDMACä¸€èµ·å®šä¹‰äº†ä¸€ä¸ªPPPoEä¼šè¯ã€‚&lt;/li&gt;
&lt;li&gt;Lengthï¼šè¡¨ç¤ºPPPoEæŠ¥æ–‡çš„Payloadé•¿åº¦ï¼Œä¸åŒ…æ‹¬ä»¥å¤ªç½‘å¤´éƒ¨å’ŒPPPoEå¤´éƒ¨çš„é•¿åº¦ã€‚&lt;br&gt;
1.3 PPPoEåè®®æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;PADIï¼šå‘ç°åˆå§‹æŠ¥æ–‡ã€‚ç›®çš„MACåœ°å€æ˜¯ä¸€ä¸ªå¹¿æ’­åœ°å€ï¼ŒCodeå­—æ®µä¸º0x09ï¼ŒSession IDå­—æ®µä¸º0x0000&lt;/li&gt;
&lt;li&gt;PADOï¼šå‘ç°æä¾›æŠ¥æ–‡ã€‚ç›®çš„åœ°å€æ˜¯å‘é€PADIæŠ¥æ–‡çš„å®¢æˆ·ç«¯MACåœ°å€ï¼ŒCodeå­—æ®µä¸º0x07ï¼ŒSession IDå­—æ®µä¸º0x0000&lt;/li&gt;
&lt;li&gt;PADRï¼šå‘ç°è¯·æ±‚æŠ¥æ–‡ã€‚ç›®çš„åœ°å€æ˜¯é€‰ä¸­çš„æœåŠ¡å™¨çš„MACåœ°å€ï¼ŒCodeå­—æ®µä¸º0x19ï¼ŒSession IDå­—æ®µä¸º0x0000&lt;/li&gt;
&lt;li&gt;PADSï¼šå‘ç°ä¼šè¯ç¡®è®¤æŠ¥æ–‡ã€‚ç›®çš„åœ°å€æ˜¯PPPoEå®¢æˆ·ç«¯çš„MACåœ°å€ï¼ŒCodeå­—æ®µä¸º0x65ï¼ŒSession IDå­—æ®µæ˜¯PPPoEæœåŠ¡å™¨ä¸ºæœ¬PPPoEä¼šè¯äº§ç”Ÿçš„Session ID&lt;/li&gt;
&lt;li&gt;PADTï¼šå‘ç°ç»ˆæ­¢æŠ¥æ–‡ã€‚ç›®çš„MACåœ°å€ä¸ºå•æ’­åœ°å€ï¼ŒSession IDä¸ºå¸Œæœ›å…³é—­çš„è¿æ¥çš„Session ID&lt;br&gt;
1.4 PPPoEä¼šè¯å»ºç«‹è¿‡ç¨‹&lt;/li&gt;
&lt;li&gt;å‘ç°é˜¶æ®µï¼šè·å–å¯¹æ–¹ä»¥å¤ªç½‘åœ°å€ï¼Œä»¥åŠç¡®å®šå”¯ä¸€çš„PPPoEä¼šè¯&lt;/li&gt;
&lt;li&gt;ä¼šè¯é˜¶æ®µï¼šåŒ…å«ä¸¤éƒ¨åˆ†ï¼Œpppåå•†é˜¶æ®µå’ŒpppæŠ¥æ–‡ä¼ è¾“é˜¶æ®µï¼ˆLCPã€è®¤è¯ã€NCPï¼‰&lt;/li&gt;
&lt;li&gt;ä¼šè¯ç»ˆç»“é˜¶æ®µï¼šä¼šè¯å»ºç«‹ä»¥åçš„ä»»æ„æ—¶åˆ»ï¼Œå‘é€æŠ¥æ–‡ç»“æŸPPPoEä¼šè¯&lt;br&gt;
&lt;code&gt;ã€å®¢æˆ·ç«¯ã€‘é€šè¿‡å¹¿æ’­å‘é€PADIæŠ¥æ–‡æ¥å‘ç°æ¥å…¥æœåŠ¡å™¨ --&amp;gt; æ‰€æœ‰PPPoEã€æœåŠ¡å™¨ã€‘æ”¶åˆ°PADIæŠ¥æ–‡åï¼Œå°†å®¢æˆ·ç«¯è¯·æ±‚çš„æœåŠ¡ä¸è‡ªå·±èƒ½å¤Ÿæä¾›çš„æœåŠ¡è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå¯ä»¥æä¾›æœåŠ¡ï¼Œåˆ™å›å¤PADOæŠ¥æ–‡ --&amp;gt; PPPoEã€å®¢æˆ·ç«¯ã€‘æœ€å…ˆæ”¶åˆ°çš„PADOæŠ¥æ–‡å¯¹åº”çš„PPPoEæœåŠ¡å™¨ï¼Œå¹¶å•æ’­å‘é€ä¸€ä¸ªPADRæŠ¥æ–‡ --&amp;gt; PPPoEã€æœåŠ¡å™¨ã€‘ç”Ÿæˆå”¯ä¸€çš„ä¼šè¯IDï¼Œå¹¶å‘é€PADSæŠ¥æ–‡ç»™å®¢æˆ·ç«¯ï¼Œä¼šè¯å»ºç«‹æˆåŠŸ --&amp;gt; ä¼ è¾“PPPæ•°æ® --&amp;gt; PPPoEã€å®¢æˆ·ç«¯ã€‘å‘æœåŠ¡ç«¯å‘é€PADTï¼Œç»“æŸä¼šè¯&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760318923.png&#34; alt=&#34;PPPoEä¼šè¯å»ºç«‹è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
1.5 PPPoEå®æ–½è¿‡ç¨‹ï¼ˆé‡‡ç”¨chapè®¤è¯ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;æœåŠ¡ç«¯AR2é…ç½®
# è®¾ç½®å…¨å±€è®¤è¯çš„ç”¨æˆ·åå’Œå¯†ç 
aaa
local-user hcia password cipher huawei
local-user hcia service-type ppp
q
# é…ç½®åœ°å€æ± ï¼Œç”¨äºåˆ†å‘åœ°å€
ip pool hciaippool1
network 202.100.1.0 mask 255.255.255.0
dns-list 114.114.114.114  8.8.8.8   # pppoeå®¢æˆ·ç«¯è·å¾—çš„dnsæœåŠ¡å™¨
# é…ç½®è™šæ‹Ÿæ¨¡æ¿å’Œè°ƒç”¨æ¨¡æ¿
interface virtual-template 1
ip address 202.100.1.1 255.255.255.0  # åä¸ºè®¾å¤‡ä»æœ€é«˜çš„IPå¼€å§‹åˆ†é…åœ°å€ï¼Œæ‰€ä»¥å°½é‡é…ç½®å·ç å°çš„åœ°å€
remote address pool hciaippool1  #é…ç½®å®¢æˆ·ç«¯è·å–åœ°å€çš„æ–¹å¼
ppp authentication-mode chap
int g0/0/0  # æ¥å£ä¸è™šæ‹Ÿæ¨¡æ¿ç»‘å®š
pppoe-server bind virtual-template 1

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;å®¢æˆ·ç«¯AR1é…ç½®
dialer-rule #é…ç½®æ‹¨å·æ¥å£
dialer-rule 1 ip permit # å…è®¸æ‰€æœ‰IPæŠ¥æ–‡è½¬å‘
quit
interface dialer 1
dialer user agenttest # è¯¥ç”¨æˆ·åä¸ç”¨äºè®¤è¯ï¼Œæ˜¯æ ‡è¯†ä½œç”¨å’Œdialerç»‘å®š
dialer-group 1 #å°†æ¥å£ç½®äºä¸€ä¸ªæ‹¨å·è®¿é—®ç»„
dialer bundle 1 #æŒ‡å®šDialeræ¥å£ä½¿ç”¨çš„Dialer bundleã€‚è®¾å¤‡é€šè¿‡Dialer bundleå°†ç‰©ç†æ¥å£ä¸æ‹¨å·æ¥å£å…³è”èµ·æ¥ã€‚
ppp chap user hcia
ppp chap password cipher huawei
ip address ppp-negotiate  # ä»å¯¹ç«¯æœåŠ¡å™¨è·å–åœ°å€
q
int g0/0/0 # ç‰©ç†æ¥å£å’Œé€»è¾‘æ¥å£ç»‘å®š
pppoe-client dial-bundle-number 1 

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; éªŒè¯
# é‡ç‚¹ï¼šé€»è¾‘æ¥å£æ˜¯å·¥ä½œçš„ï¼Œç‰©ç†æ¥å£æ˜¯downçš„
dis ip int bri
display pppoe-client session summary
&lt;/code&gt;&lt;/pre&gt;
">ã€31ã€‘PPPoEç†è®ºå’ŒåŸºæœ¬å®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/29-30-ppp-xie-yi-he-papchap-ren-zheng-shi-shi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;HDLCï¼Œé«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶ï¼Œæ˜¯é¢å‘æ¯”ç‰¹çš„é“¾è·¯å±‚åè®®ï¼Œå³äºŒå±‚åè®®ï¼Œå¸§ç»“æ„ï¼šä¿¡æ¯å¸§ã€ç›‘æ§å¸§ã€æ— ç¼–å·å¸§&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨åä¸ºè®¾å¤‡ä¸Šé»˜è®¤å°è£…äº†PPPåè®®ï¼ˆ2å±‚ï¼‰
# å¯ç”¨hdlcï¼Œéœ€è¦åœ¨ç½‘çº¿è¿æ¥çš„ä¸¤ä¸ªæ¥å£ä¸Šéƒ½åš
int s1/0/0 
dis th
link-protocol hdlc 
# ä¸²è¡Œæ¥å£é€šè¿‡PPPåè®®è¿›è¡Œé€šä¿¡ï¼Œä¸€ç«¯IPä¸º100.100.100.100/24ï¼Œå¦ä¸€ç«¯IPä¸º12.1.1.2/24
int s1/0/0 #AR2
ip addr 100.100.100.100 24
int s1/0/0 #AR1
ip addr 12.1.1.2 24
ping 100.100.100.100
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;PPPï¼Œç‚¹åˆ°ç‚¹é“¾è·¯å±‚åè®®ï¼Œä¸éœ€è¦arpè§£æï¼Œä¸»è¦ç”¨äºå…¨åŒå·¥çš„åŒå¼‚æ­¥é“¾è·¯ä¸Šè¿›è¡Œç‚¹åˆ°ç‚¹çš„æ•°æ®ä¼ è¾“ã€‚&lt;br&gt;
ä¸éœ€è¦macåœ°å€å°è£…ï¼Œåªéœ€è¦æŠŠæŠ¥æ–‡å‘åˆ°è¯¥é“¾è·¯ä¸Šï¼Œä¸åŒæ–¹IPæ˜¯å¦åœ¨åŒä¸€ä¸ªç½‘æ®µæ— å…³ã€‚&lt;br&gt;
PPPå·¥ä½œåå°±ä¼šåœ¨æœ¬è®¾å¤‡å¾—åˆ°ä¸€æ¡å¯¹ç«¯çš„32ä½ä¸»æœºè·¯ç”±ã€‚&lt;br&gt;
2.1 PPPçš„ä¸¤å¤§åŸºæœ¬ç»„ä»¶&lt;br&gt;
LCPï¼ˆé“¾è·¯æ§åˆ¶åè®®ï¼‰ï¼šç”¨æ¥å»ºç«‹ã€æ‹†é™¤å’Œç›‘æ§PPPæ•°æ®é“¾è·¯&lt;br&gt;
NCPï¼ˆç½‘ç»œå±‚æ§åˆ¶åè®®ï¼‰ï¼šç”¨äºå¯¹ä¸åŒçš„ç½‘ç»œå±‚åè®®è¿›è¡Œè¿æ¥å»ºç«‹å’Œå‚æ•°åå•†&lt;br&gt;
2.2 PPPé“¾è·¯å»ºç«‹è¿‡ç¨‹&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760171686.png&#34; alt=&#34;PPPé“¾è·¯å»ºç«‹è¿‡ç¨‹&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
2.3 LCPæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Configure-Requestï¼ˆé…ç½®è¯·æ±‚ï¼‰ï¼šé“¾è·¯å±‚åå•†è¿‡ç¨‹ä¸­å‘é€çš„ç¬¬ä¸€ä¸ªæŠ¥æ–‡ï¼Œè¯¥æŠ¥æ–‡è¡¨æ˜ç‚¹å¯¹ç‚¹åŒæ–¹å¼€å§‹è¿›è¡Œé“¾è·¯å±‚å‚æ•°çš„åå•†ã€‚&lt;/li&gt;
&lt;li&gt;Configure-Ackï¼ˆé…ç½®å“åº”ï¼‰ï¼šæ”¶åˆ°å¯¹ç«¯å‘æ¥çš„Configure-RequestæŠ¥æ–‡ï¼Œå¦‚æœå‚æ•°å–å€¼å®Œå…¨æ¥å—ï¼Œåˆ™ä»¥æ­¤æŠ¥æ–‡å“åº”ã€‚&lt;/li&gt;
&lt;li&gt;Configure-Nakï¼ˆé…ç½®ä¸å“åº”ï¼‰ï¼šæ”¶åˆ°å¯¹ç«¯å‘æ¥çš„Configure-RequestæŠ¥æ–‡ï¼Œå¦‚æœå‚æ•°å–å€¼&lt;strong&gt;ä¸è¢«æœ¬ç«¯è®¤å¯&lt;/strong&gt;ï¼Œåˆ™å‘é€æ­¤æŠ¥æ–‡å¹¶ä¸”æºå¸¦æœ¬ç«¯å¯æ¥å—çš„é…ç½®å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;Configure-Rejectï¼ˆé…ç½®æ‹’ç»ï¼‰ï¼šæ”¶åˆ°å¯¹ç«¯å‘æ¥çš„Configure-RequestæŠ¥æ–‡ï¼Œå¦‚æœæœ¬ç«¯&lt;strong&gt;ä¸èƒ½è¯†åˆ«&lt;/strong&gt;å¯¹ç«¯å‘é€çš„Configure-Requestä¸­çš„æŸäº›å‚æ•°ï¼Œåˆ™å‘é€æ­¤æŠ¥æ–‡å¹¶ä¸”æºå¸¦é‚£äº›æœ¬ç«¯ä¸èƒ½è®¤åˆ«çš„é…ç½®å‚æ•°ã€‚&lt;br&gt;
2.4 LCPåå•†å‚æ•°&lt;/li&gt;
&lt;li&gt;æœ€å¤§æ¥æ”¶å•å…ƒMRUï¼ŒPPPæ•°æ®å¸§ä¸­Informationå­—æ®µå’ŒPaddingå­—æ®µçš„æ€»é•¿åº¦ï¼Œé»˜è®¤1500å­—èŠ‚&lt;/li&gt;
&lt;li&gt;è®¤è¯åè®®ï¼Œè®¤è¯å¯¹ç«¯ä½¿ç”¨çš„è®¤è¯åè®®ï¼Œé»˜è®¤ä¸è®¤è¯&lt;/li&gt;
&lt;li&gt;é­”æœ¯å­—ï¼Œé­”æœ¯å­—ä¸ºä¸€ä¸ªéšæœºäº§ç”Ÿçš„æ•°å­—ï¼Œç”¨äºæ£€æµ‹pppé“¾è·¯ç¯è·¯ï¼Œ&lt;strong&gt;å¦‚æœæ”¶åˆ°çš„LCPæŠ¥æ–‡ä¸­çš„é­”æœ¯å­—å’Œæœ¬ç«¯äº§ç”Ÿçš„é­”æœ¯å­—ç›¸åŒï¼Œåˆ™è®¤ä¸ºé“¾è·¯æœ‰ç¯è·¯&lt;/strong&gt;ï¼Œé»˜è®¤å¯ç”¨&lt;br&gt;
2.5 è®¤è¯æ–¹å¼&lt;/li&gt;
&lt;li&gt;PAPï¼šå¯†ç è®¤è¯åè®®ï¼Œæ˜æ–‡ï¼Œå¸¸ç”¨&lt;/li&gt;
&lt;li&gt;CHAPï¼šæŒ‘æˆ˜æ¡æ‰‹è®¤è¯åï¼Œæ¯”PAPä¼˜ç§€ï¼Œå¯é˜²æ­¢DDOSæ”»å‡»ï¼Œä¸å‘é€å¯†ç ï¼Œè€Œæ˜¯å‘é€MD5å€¼ï¼Œ3æ¬¡æ¡æ‰‹åè®®(è®¤è¯æ–¹å‘è¢«è®¤è¯æ–¹å‘èµ·æŒ‘æˆ˜æŠ¥æ–‡--&amp;gt;è¢«è®¤è¯æ–¹å‘é€å“åº”æŠ¥æ–‡--&amp;gt;æˆåŠŸæˆ–è€…å¤±è´¥PPPæ¥å…¥)&lt;/li&gt;
&lt;li&gt;MS-CHAPï¼šæ€ç§‘å’Œå¾®è½¯å…±åŒå¼€å‘çš„æŒ‘æˆ˜æ¡æ‰‹è®¤è¯å&lt;/li&gt;
&lt;li&gt;PPPçš„è®¤è¯è¿˜å¯ä»¥å€ŸåŠ©AAAï¼ˆæˆæƒã€è®¤è¯ã€ç»Ÿè®¡ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é€šè¿‡AAAæ¥è®¤è¯PPP
aaa
local-user test password cipher huawei
local-user test service-type ppp

# é€šè¿‡PAPæ¥è®¤è¯PPP
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;è®¤è¯æ–¹AR2
aaa   
local-user test password cipher huawei
local-user test service-type ppp
int s1/0/0
link-protocol ppp
ppp authentication-mode pap
ip address 12.1.1.2 24
shutdown 
undo shutdown
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;è¢«è®¤è¯æ–¹AR1
int s1/0/0
link-protocol ppp
ppp pap local-user test password cipher huawei
ip address 100.100.100.100 24
# æŸ¥çœ‹æ˜¯å¦å¾—åˆ°å¯¹ç«¯åœ°å€çš„32ä½ä¸»æœºè·¯ç”±
dis ip routing-table protocol direct
ping 12.1.1.2

# é€šè¿‡CHAPæ¥è®¤è¯PPP
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;è®¤è¯æ–¹AR2
aaa   
local-user test2 password cipher huawei123
local-user test2 service-type ppp
int s1/0/0
link-protocol ppp
ppp authentication-mode chap
ip address 12.1.1.2 24
shutdown 
undo shutdown
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;è¢«è®¤è¯æ–¹AR1
int s1/0/0 
link-protocol ppp
ppp chap user test2
ppp chap password cipher huawei123
ip address 100.100.100.100 24
q
q
debugging ppp chap all
# æŸ¥çœ‹æ˜¯å¦å¾—åˆ°å¯¹ç«¯åœ°å€çš„32ä½ä¸»æœºè·¯ç”±
dis ip routing-table protocol direct
ping 12.1.1.2
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760203416.png&#34; alt=&#34;ä¸‹é¢å‡ èŠ‚è¯¾éƒ½ä¼šç”¨åˆ°çš„è·¯ç”±æ‹“æ‰‘&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">ã€29-30ã€‘PPPåè®®å’ŒPAPã€CHAPè®¤è¯å®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/27-jiao-huan-ji-sheng-cheng-shu-de-shi-shi/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; å½±å“æ ¹è·¯ç”±å™¨é€‰æ‹©
# ä¿®æ”¹ç”Ÿæˆæ ‘æ¨¡å¼ä¸ºstpã€‚å¯é€‰stpã€rstpã€mstp
stp mode stp
# ä¿®æ”¹æ¡¥ä¼˜å…ˆçº§BPï¼Œå¿…é¡»æ˜¯4096çš„å€æ•°ï¼Œå¯ä»¥ç”¨0ï¼Œä¸”0æœ‰æœ€å¤§å¯èƒ½æ€§æˆä¸ºæ ¹
stp priority 4096
# ä½¿ç”¨stp rootå‘½ä»¤å¿«é€Ÿä¿®æ”¹æŒ‡å®šä¼˜å…ˆçº§
stp root primary  # å°†ä¼˜å…ˆçº§æ”¹ä¸º0
stp root secondary   # å°†ä¼˜å…ˆçº§æ”¹ä¸º4096
#&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; å½±å“æ ¹ç«¯å£é€‰æ‹©
# é…ç½®è·¯å¾„å¼€é”€ï¼ˆä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹æ­¤å‚æ•°ï¼‰,å¯é€‰dot1d-1998ã€dot1tï¼ˆé»˜è®¤ï¼‰ã€legacy
stp pathcost-standard dot1t
# ä¿®æ”¹æ¥å£çš„costå€¼ï¼Œå½±å“RPæ ¹ç«¯å£çš„é€‰ä¸¾
int g0/0/1
stp cost 2000
&lt;/code&gt;&lt;/pre&gt;
">ã€27ã€‘äº¤æ¢æœºç”Ÿæˆæ ‘çš„å®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/25-26-jiao-huan-ji-sheng-cheng-shu-yuan-li/"" data-c="
          &lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæˆæ ‘çš„é€‰ä¸¾-é€‰ä¸¾æ ¹ç½‘æ¡¥RB&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;å…ˆé€‰ä¸¾æ¡¥ä¼˜å…ˆçº§æ¯”è¾ƒå°çš„ï¼Œè¾ƒå°çš„ä¼˜å…ˆï¼›å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œåˆ™é€‰æ‹©macåœ°å€å°çš„ä¼˜å…ˆ&lt;/code&gt;&lt;br&gt;
æ¯å°äº¤æ¢æœºå¯åŠ¨STPåï¼Œéƒ½è®¤ä¸ºè‡ªå·±æ˜¯æ ¹ç½‘æ¡¥&lt;br&gt;
äº¤æ¢æœºä¹‹é—´é€šè¿‡å‘é€BPDUï¼ˆç½‘æ¡¥åè®®æ•°æ®å•å…ƒï¼‰æŠ¥æ–‡æ¥è¿›è¡Œä¸€ç³»åˆ—çš„é€‰ä¸¾&lt;br&gt;
é€šè¿‡æ¯”è¾ƒæ¡¥IDï¼ˆBridgeIDï¼ŒBIDï¼‰æ¥è¿›è¡Œé€‰ä¸¾ï¼Œæ¡¥IDä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ¡¥ä¼˜å…ˆçº§ï¼ˆBridgePriorityï¼Œé»˜è®¤ä¸º32768ï¼‰ã€æ¡¥IDï¼ˆBridgeSystemIDï¼ŒèƒŒæ¿çš„macåœ°å€ï¼Œæ— æ³•æ”¹å˜ï¼Œä¸€ä¸ªè®¾å¤‡åªæœ‰ä¸€ä¸ªï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæˆæ ‘çš„é€‰ä¸¾-é€‰å–æ ¹ç«¯å£RP&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;é€‰æ‹©ï¼ˆæ’é™¤æ ¹è®¾å¤‡ï¼‰æ ¹è·¯å¾„å¼€é”€ï¼ˆRPCï¼Œroot path costï¼‰æœ€å°çš„ï¼›å¦‚æœæ ¹è·¯å¾„å¼€é”€ç›¸åŒï¼Œåˆ™é€‰æ‹©å¯¹ç«¯è®¾å¤‡çš„BridgeIDå°çš„ï¼›å¦‚æœå¯¹ç«¯è®¾å¤‡çš„BridgeIDå†ç›¸åŒï¼Œåˆ™é€‰æ‹©å¯¹ç«¯è®¾å¤‡çš„ç«¯å£IDå°çš„ï¼›å¦‚æœå¯¹ç«¯è®¾å¤‡çš„ç«¯å£IDç›¸åŒï¼Œåˆ™éœ€è¦é€‰æ‹©è‡ªèº«ç«¯å£IDå°çš„&lt;/code&gt;&lt;br&gt;
éè·Ÿäº¤æ¢æœºåœ¨é€‰ä¸¾æ ¹ç«¯å£æ—¶åˆ†åˆ«ä¾æ®è¯¥ç«¯å£çš„æ ¹è·¯å¾„å¼€é”€ï¼Œå¯¹ç«¯BIDã€å¯¹ç«¯PIDå’Œæœ¬ç«¯çš„PID&lt;br&gt;
ç«¯å£IDç»„æˆï¼šç«¯å£ä¼˜å…ˆçº§ã€åºå·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç”Ÿæˆæ ‘çš„é€‰ä¸¾-é€‰ä¸¾æŒ‡å®šç«¯å£DP&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;é€‰æ‹©RPCè¾ƒå°çš„ï¼›ç«¯å£æ‰€åœ¨è®¾å¤‡çš„BIDï¼›ç«¯å£ID&lt;/code&gt;&lt;br&gt;
æŒ‡å®šç«¯å£ï¼ˆDPï¼‰ä½œç”¨ï¼šå‘é€æˆ–è€…ä¸­ç»§æ ¹è®¾å¤‡å‘é€çš„BPDU&lt;br&gt;
åœ¨æ¯ä¸ªé“¾è·¯ä¸Šé€‰ä¸¾&lt;br&gt;
é€šå¸¸æƒ…å†µä¸‹ï¼Œæ ¹è®¾å¤‡ä¸Šçš„æ‰€æœ‰ç«¯å£éƒ½æ˜¯æŒ‡å®šç«¯å£&lt;br&gt;
å¤‡ç”¨ç«¯å£APè™½ç„¶ä¸è½¬å‘æ•°æ®åŒ…ï¼Œä½†æ˜¯èƒ½å¤Ÿæ¥æ”¶BPDU&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹è®¾å¤‡BridgeIDï¼ˆCIST Root/ERPCï¼‰
dis stp | i IRPC
# æˆ–è€…
display bridge mac-address
# ä¿®æ”¹æ¡¥ä¼˜å…ˆçº§ï¼Œè¶Šå°è¶Šä¼˜å…ˆ
stp priority 4096
# æŸ¥çœ‹ç«¯å£int g0/0/1çš„æ ¹è·¯å¾„å¼€é”€RPC
dis stp int g0/0/1 | i Dot1T
# æŸ¥çœ‹ç«¯å£ID
dis stp int g0/0/1 | i Designated       #  &amp;quot;/&amp;quot;åé¢é‚£ä¸ª128.xï¼Œå…¶ä¸­128ï¼ˆé»˜è®¤ï¼‰ä¸ºä¼˜å…ˆçº§ï¼Œxä¸ºåºå·
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1585760064651.png&#34; alt=&#34;&amp;quot;dis stp | i IRPC&amp;quot;å‘½ä»¤ç»“æœ&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;32768ï¼šæ¡¥ä¼˜å…ˆçº§&lt;br&gt;
4c1f-cc9b-346eï¼šæ¡¥ID&lt;br&gt;
0ï¼šæ ¹è·¯å¾„å¼€é”€&lt;/p&gt;
&lt;/blockquote&gt;
">ã€25-26ã€‘äº¤æ¢æœºç”Ÿæˆæ ‘åŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/24-jiao-huan-ji-sheng-cheng-shu-chang-jing-he-yin-fa-de-wen-ti/"" data-c="
          &lt;p&gt;STPï¼Œspanning-tree&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åº”ç”¨åœºæ™¯&lt;br&gt;
åœ¨ä¸€ä¸ªäºŒå±‚çš„ä»¥å¤ªç½‘ä¸­ï¼Œå­˜åœ¨ç‰©ç†å†—ä½™çš„æƒ…å†µä¸‹ï¼Œåœ¨é€»è¾‘ä¸Šé˜²æ­¢ç¯è·¯çš„å‘ç”Ÿã€‚&lt;/li&gt;
&lt;li&gt;ç¯è·¯è¡¨ç°&lt;br&gt;
2.1 å¹¿æ’­é£æš´&lt;br&gt;
2.2 macåœ°å€è¡¨çš„éœ‡è¡ï¼ˆaccessæˆ–trunkåˆ’åˆ†é”™è¯¯ä¹Ÿä¼šå¯¼è‡´æ­¤é—®é¢˜ï¼‰&lt;br&gt;
2.3 ä»¥å¤ªå¸§çš„é‡å¤æ‹·è´&lt;/li&gt;
&lt;li&gt;STPçš„åŸç†&lt;br&gt;
&lt;code&gt;åä¸ºè®¾å¤‡é»˜è®¤å¼€å¯MSTP&lt;/code&gt;&lt;br&gt;
åœ¨æ•´ä¸ªäº¤æ¢äº¤æ¢ç½‘ç»œæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹äº¤æ¢æœºï¼ˆrootï¼‰&lt;br&gt;
åœ¨æ¯ä¸ªè®¾å¤‡ä¸Šæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹ç«¯å£ï¼ˆroot portï¼‰&lt;br&gt;
åœ¨æ¯ä¸ªé“¾è·¯ï¼ˆsegmentï¼‰ä¸Šæœ‰ä¸”åªæœ‰ä¸€ä¸ªæŒ‡å®šç«¯å£ï¼ˆdesign portï¼‰&lt;br&gt;
é™¤äº†æ ¹ç«¯å£å’ŒæŒ‡å®šç«¯å£ï¼Œå…¶ä»–ç«¯å£ä¸ºé€»è¾‘ä¸Šæ‹¥å¡çš„æ›¿ä»£ç«¯å£&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹stpè¯¦ç»†ä¿¡æ¯å’Œç®€è¦ä¿¡æ¯
dis stp
dis stp brief
# åœ¨å…¨å±€æ¨¡å¼ä¸‹æ›´æ”¹ç”Ÿæˆæ ‘çš„æ¨¡å¼ä¸ºMSTP
stp mode mstp
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å…³é”®æœ¯è¯­&lt;br&gt;
&lt;code&gt;3ä¸­ç«¯å£è§’è‰²ï¼Œ3ç§ç”Ÿæˆæ ‘æ¨¡å¼ï¼Œ5ç§ç«¯å£çŠ¶æ€&lt;/code&gt;&lt;br&gt;
4.1 STPä¸­Roleç«¯å£çš„è§’è‰²&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ALTE éæŒ‡å®š(æ›¿ä»£)ç«¯å£APï¼ˆæ‹¥å¡çŠ¶æ€ï¼‰&lt;/li&gt;
&lt;li&gt;DESI æŒ‡å®šç«¯å£DPï¼ˆè½¬å‘çŠ¶æ€ï¼‰&lt;/li&gt;
&lt;li&gt;ROOT æ ¹ç«¯å£RPï¼ˆè½¬å‘çŠ¶æ€ï¼‰&lt;br&gt;
4.2 ç”Ÿæˆæ ‘çš„ç«¯å£çŠ¶æ€STP State&lt;/li&gt;
&lt;li&gt;è½¬å‘ï¼ˆForwardingï¼‰ï¼Œå³FWDï¼Œç«¯å£æ—¢å¯è½¬å‘ç”¨æˆ·æµé‡ä¹Ÿå¯è½¬å‘BPDUæŠ¥æ–‡ï¼Œåªæœ‰æ ¹ç«¯å£æˆ–æŒ‡å®šç«¯å£æ‰èƒ½è¿›å…¥ForwardingçŠ¶æ€&lt;/li&gt;
&lt;li&gt;é˜»å¡ï¼ˆBlocking æˆ– ä¸¢å¼ƒçŠ¶æ€ï¼ŒDiscardingï¼‰ï¼Œå³BLKï¼Œç«¯å£ä»…ä»…èƒ½æ¥æ”¶å¹¶å¤„ç†BPDUï¼Œä¸èƒ½è½¬å‘BPDUï¼Œä¹Ÿä¸èƒ½è½¬å‘ç”¨æˆ·æµé‡ï¼Œæ­¤çŠ¶æ€æ˜¯é¢„å¤‡ç«¯å£çš„æœ€ç»ˆçŠ¶æ€&lt;/li&gt;
&lt;li&gt;ç¦ç”¨ï¼ˆDisabledï¼‰ï¼Œå³DISï¼ˆå±äºè¿‡æ¸¡è¿‡ç¨‹ï¼‰ï¼Œç«¯å£å¤„äºå…³é—­çŠ¶æ€ï¼Œæ—¢ä¸å¤„ç†å’Œè½¬å‘BPDUæŠ¥æ–‡ï¼Œä¹Ÿä¸è½¬å‘ç”¨æˆ·æµé‡&lt;/li&gt;
&lt;li&gt;ä¾¦å¬ï¼ˆListeningï¼‰ï¼Œå³LISï¼ˆå±äºè¿‡æ¸¡è¿‡ç¨‹ï¼‰ï¼Œåä¸ºè®¾å¤‡ä¸Šæ— æ³•çœ‹åˆ°ï¼Œç«¯å£å¯ä»¥è½¬å‘BPDUæŠ¥æ–‡ï¼Œä½†ä¸èƒ½è½¬å‘ç”¨æˆ·æµé‡&lt;/li&gt;
&lt;li&gt;å­¦ä¹ ï¼ˆLearningï¼‰ï¼Œå³LRNï¼ˆå±äºè¿‡æ¸¡è¿‡ç¨‹ï¼‰ï¼Œç«¯å£å¯æ ¹æ®æ”¶åˆ°çš„ç”¨æˆ·æµé‡æ„å»ºMACåœ°å€è¡¨ï¼Œä½†ä¸è½¬å‘ç”¨æˆ·æµé‡ï¼Œå¢åŠ LearningçŠ¶æ€æ˜¯ä¸ºäº†é˜²æ­¢ä¸´æ—¶ç¯è·¯&lt;br&gt;
&lt;code&gt;ä¼ ç»Ÿç”Ÿæˆæ ‘ä¾èµ–æ—¶é—´è¿›è¡Œç«¯å£çŠ¶æ€çš„æ”¹å˜ï¼Œæ¯2ç§’é’Ÿç”±æ ¹è®¾å¤‡å‘é€BPDUï¼Œæ¯ä¸ªè½¬å‘æ—¶å»¶ï¼ˆforwarding delayï¼‰ä¸º15ç§’ã€‚è¿™äº›æ—¶é—´å¯ä»¥é€šè¿‡å‘½ä»¤dis stpæŸ¥çœ‹ï¼Œå…¶ä¸­config Timesè¿™è¡Œä¸­å±•ç¤ºäº†å‘é€BPDUæŠ¥æ–‡é—´éš”ã€è½¬å‘æ—¶é—´ç­‰ã€‚å¦‚æœå‘ç”Ÿäº†æ‹“æ‰‘å˜åŒ–ï¼Œmacåœ°å€è¡¨çš„åˆ·æ–°æ—¶é—´å˜ä¸ºä¸€ä¸ªè½¬å‘æ—¶å»¶ï¼Œå³15ç§’ã€‚&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585759841085.png&#34; alt=&#34;ç«¯å£çŠ¶æ€è½¬æ¢å¯èƒ½åŸå› &#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
4.3 STPæ¨¡å¼ï¼š&lt;/li&gt;
&lt;li&gt;ä¼ ç»Ÿç”Ÿæˆæ ‘(802.1D)ï¼šæ€ç§‘è®¾å¤‡ä¸Šé»˜è®¤å¼€å¯çš„ä¼ ç»Ÿç”Ÿæˆæ ‘ï¼ˆæ•ˆæœè¾ƒå·®ï¼‰ï¼ŒPVST+&lt;/li&gt;
&lt;li&gt;å¿«é€Ÿç”Ÿæˆæ ‘(RSTPï¼Œ802.1w)ï¼šRapid PVST+ï¼ˆRSTPï¼‰&lt;/li&gt;
&lt;li&gt;å¤šå®ä¾‹ç”Ÿæˆæ ‘(MSTPï¼Œ802.1s)ï¼šåä¸ºè®¾å¤‡é»˜è®¤å¼€å¯ï¼ŒMSTP&lt;/li&gt;
&lt;/ul&gt;
">ã€24ã€‘äº¤æ¢æœºç”Ÿæˆæ ‘åœºæ™¯å’Œå¼•å‘çš„é—®é¢˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/23-jiao-huan-ji-shi-shi-hybrid-mo-shi-hun-za-mo-shi/"" data-c="
          &lt;p&gt;&lt;code&gt;å¯ä»¥ç”¨äºä¸»æœºä¸äº¤æ¢æœºä¹‹é—´ï¼Œä¹Ÿå¯ä»¥ç”¨äºäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯&lt;/code&gt;&lt;br&gt;
åœ¨äº¤æ¢æœºäº’è”çš„æ¥å£ä¸Šå¯ä»¥ä»¥trunkï¼ˆTAGï¼‰çš„æ–¹å¼å¤„ç†frameï¼Œåœ¨è¿æ¥PCçš„æ¥å£ä¸Šå¯ä»¥ä»¥accessï¼ˆPVIDï¼‰çš„æ–¹å¼å¤„ç†frameã€‚&lt;br&gt;
é…ç½®port hybrid tagged vlan &amp;quot;vlan-id&amp;quot;å‘½ä»¤åï¼Œæ¥å£å‘é€è¯¥vlanidçš„æ•°æ®å¸§æ—¶ï¼Œä¸å‰¥ç¦»å¸§ä¸­çš„Tagï¼Œç›´æ¥å‘é€ã€‚&lt;br&gt;
é…ç½®port hybrid untagged vlan &amp;quot;vlan-id&amp;quot;å‘½ä»¤åï¼Œæ¥å£å‘é€è¯¥vlanidçš„æ•°æ®å¸§æ—¶ï¼Œä¼šå°†å¸§ä¸­çš„Tagå‰¥ç¦»ä¹‹åå†å‘é€å‡ºå»ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨hybridæ¨¡å¼å®ç°ä¸åŒvlanä¹‹é—´é€šä¿¡&lt;br&gt;
ï¼ˆpc1å‘pc2çš„vlanidä¸º2ï¼Œpc2å‘pc1çš„vlanidä¸º100ï¼›pc3å‘pc2çš„vlanidä¸º3ï¼Œpc2å‘pc3çš„vlanidä¸º100ï¼›pc1å’Œpc3ä¸èƒ½é€šä¿¡ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;sw1
int g0/0/10   # sw1è¯¥æ¥å£çš„å…¥æµé‡å¢åŠ pvid=2
port default vlan 1 #éœ€è¦ä¿®æ”¹å›é»˜è®¤vlan,å¦åˆ™æ— æ³•ä¿®æ”¹æ¥å£ç±»å‹
port link-type hybrid
port hybrid pvid vlan 2
port hybrid untagged vlan 2 100 # sw1è¯¥æ¥å£å‡ºæµé‡å»æ‰vlanid 2å’Œ100ï¼Œè¿˜åŸä»¥å¤ªå¸§å‘é€ç»™pc

int g0/0/11  # sw1è¯¥æ¥å£çš„å…¥æµé‡å¢åŠ pvid=3
port default vlan 1 
port link-type hybrid
port hybrid pvid vlan 3
port hybrid untagged vlan 3 100  # sw1è¯¥æ¥å£å‡ºæµé‡å»æ‰vlanid 3å’Œ100ï¼Œè¿˜åŸä»¥å¤ªå¸§å‘é€ç»™pc

clear configuration int g0/0/1  # sw1è¯¥æ¥å£å…è®¸æ‰€æœ‰vlanæ•°æ®é€šè¿‡
int g0/0/1
undo shutdown
port link-type hybrid
port hybrid tagged vlan all

# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;sw2
clear configuration int g0/0/1  # sw1è¯¥æ¥å£å…è®¸æ‰€æœ‰vlanæ•°æ®é€šè¿‡
int g0/0/1
undo shutdown
port link-type hybrid
port hybrid tagged vlan all

int g0/0/10 #è¯¥æ¥å£çš„å‡ºæµé‡å»æ‰vlanid 2 3 100ï¼Œå¢åŠ pvidä¸º100
port default vlan 1
port link-type hybrid
port hybrid untagged vlan 2 3 100
port hybrid pvid vlan 100
&lt;/code&gt;&lt;/pre&gt;
">ã€23ã€‘äº¤æ¢æœºå®æ–½Hybridæ¨¡å¼ï¼ˆæ··æ‚æ¨¡å¼ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/22-jiao-huan-ji-shi-shi-trunk-mo-shi-gan-lu-mo-shi-jiang-jie/"" data-c="
          &lt;p&gt;&lt;code&gt;ä¸€èˆ¬ç”¨äºäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ï¼Œå…±äº«æ¨¡å¼&lt;/code&gt;&lt;br&gt;
å½“trunkæ”¶åˆ°ä¸åŒ…å«tagçš„å¸§ï¼Œåˆ™æ‰“ä¸Šç«¯å£çš„pvidï¼Œå¦åˆ™ä¸å˜ã€‚å½“trunkå‘é€å¸§æ—¶ï¼Œ&lt;strong&gt;è¯¥å¸§çš„VlanIDéœ€è¦åœ¨trunkçš„å…è®¸å‘é€åˆ—è¡¨ä¸­&lt;/strong&gt;ï¼Œå¦‚æœå¸§çš„vlanidå’Œè¯¥æ¥å£pvidç›¸åŒï¼Œåˆ™å‰¥ç¦»tagå‘é€ï¼Œå¦åˆ™ä¿ç•™å‘é€ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®æ–½sw1å’Œsw2çš„trunké“¾è·¯ï¼Œå…è®¸å¤šä¸ªvlané€šè¿‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿®æ”¹æ¥å£ä¸ºtrunkæ¨¡å¼ï¼Œå¹¶å…è®¸æ‰€æœ‰vlané€šè¿‡
# åä¸ºè®¾å¤‡ä¸å…è®¸ç›´æ¥å°†æ¥å£æ”¹ä¸ºtrunkæ¨¡å¼ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹
# æ–¹æ³•ä¸€ï¼šå°†æ¥å£æ¢å¤æˆåŸå§‹æ¨¡å¼ â€œclear conf int g0/0/1â€
# æ–¹æ³•äºŒï¼šå…ˆè¿˜åŸæ¥å£çš„é»˜è®¤vlan(å³vlan1)ï¼Œå†ä¿®æ”¹ä¸ºtrunkæ¨¡å¼
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;SW1
int g0/0/1
clear conf int g0/0/1
int g0/0/1
undo shundown
port link-type trunk
port trunk allow-pass vlan all
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;SW2
int g0/0/1
port default vlan 1
port link-type tru
port trunk allow-pass vlan all
# ç§»é™¤æŸä¸ªæ¥å£å…è®¸é€šè¿‡çš„vlan
undo port trunk allow-pass vlan 3
# ä¿®æ”¹ç«¯å£é»˜è®¤vlanidï¼ˆç”±1æ”¹ä¸º10ï¼‰
int g0/0/1
port trunk pvid vlan 10
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;trunkçš„PVIDçš„å·¥ä½œæ¨¡å¼&lt;br&gt;
&lt;code&gt;ç±»ä¼¼äºaccessçš„åœ¨æµé‡çš„å…¥æ–¹å‘ä¸Šå¢åŠ PVIDï¼›åœ¨å‡ºæ–¹å‘å»æ‰PVIDï¼ŒåŒæ—¶ä¸å¢åŠ tagï¼Œé»˜è®¤ä¸º1&lt;/code&gt;&lt;br&gt;
å®ç°ä¸¤å°äº¤æ¢æœºä¸‹ï¼Œä¸åŒvlanä¹‹é—´çš„é€šä¿¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;sw1
int g0/0/1
port trunk pvid vlan 10
int g0/0/10
port default vlan 10

#&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;sw2
int g0/0/1
port trunk pvid vlan 100
int g0/0/10
port default vlan 100
&lt;/code&gt;&lt;/pre&gt;
">ã€22ã€‘äº¤æ¢æœºå®æ–½Trunkæ¨¡å¼ï¼ˆå¹²è·¯æ¨¡å¼ï¼‰è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/21-jiao-huan-ji-shi-shi-access-mo-shi-jie-ru-mo-shi-pei-zhi-jiang-jie/"" data-c="
          &lt;p&gt;![æ‹“æ‰‘ç»“æ„]&lt;img src=&#34;https://fqj-web.github.io/post-images/1585759735365.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;ä¸€èˆ¬ç”¨äºç”¨æˆ·ä¸»æœºï¼ˆç»ˆç«¯è®¾å¤‡ï¼‰ä¸äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ï¼Œç‹¬äº«æ¨¡å¼&lt;/code&gt;&lt;br&gt;
PVID(port vlan ID,1-4094)ï¼ŒVlanIDä½œä¸ºè¯†åˆ«æµé‡çš„é‡è¦å·¥å…·ã€‚&lt;br&gt;
Accessç«¯å£åœ¨æ”¶åˆ°æ•°æ®åä¼šæ·»åŠ VlanTagï¼ŒVlanIDå’Œç«¯å£çš„PVIDç›¸åŒã€‚Accessç«¯å£åœ¨è½¬å‘æ•°æ®å‰ä¼šç§»é™¤VlanTagã€‚ï¼ˆå³åœ¨æµé‡çš„accessæ¥å£å…¥æ–¹å‘å¢åŠ PVIDï¼Œåœ¨æµé‡accessæ¥å£çš„å‡ºæ–¹å‘å»æ‰PVIDï¼Œè¿˜åŸæˆåŸå§‹çš„ä»¥å¤ªå¸§ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŒä¸€äº¤æ¢æœºï¼ˆsw1ï¼‰ä¸­çš„åŒä¸€ä¸ªvlanï¼ˆvlan2ï¼‰å®ç°é€šä¿¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åˆ›å»ºvlan2(åœ¨lsw1)
vlan 2
# è¿›å…¥vlan2ååˆ›å»ºæè¿°æŠ¥æ–‡
description HCNA
# æ‰¹é‡åˆ›å»ºvlanï¼ˆSW1~3å‡æ‰§è¡Œï¼‰
vlan batch 2 3 10 100
# è¿›å…¥æ¥å£10ï¼Œé»˜è®¤æ¥å£ç±»å‹ä¸ºHybridï¼ˆæ··æ‚æ¨¡å¼ï¼‰
int g0/0/10
# æŸ¥çœ‹æ‰€æœ‰æ¥å£çš„vlanä¿¡æ¯ï¼ˆæ¥å£é“¾è·¯ç±»å‹ï¼‰
dis port vlan active
# ä¿®æ”¹æ¥å£çš„é“¾è·¯ç±»å‹ä¸ºaccessæ¨¡å¼
port link-type access
# ä¿®æ”¹æ¥å£é»˜è®¤çš„VlanIDï¼ˆå³è¯¥æ¥å£æ•°æ®å“ªä¸€ä¸ªVlanï¼‰ä¸ºvlan 2ï¼ˆåœ¨æµé‡çš„å…¥æ–¹å‘ä¸Šå¢åŠ pvidä¸º2ï¼Œè½½æµé‡çš„å‡ºæ–¹å‘ä¸Šå»æ‰pvid2ï¼‰
port default vlan 2
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨ä¸åŒäº¤æ¢æœºç›¸åŒvlanä¹‹é—´é€šè¿‡accesså®ç°é€šä¿¡&lt;br&gt;
&lt;code&gt;å¯¹æ¯”æ­£åœ¨è¿è¡Œçš„é…ç½®å’Œå·²ç»ä¿å­˜çš„é…ç½®çš„åŒºåˆ«ï¼šcompare configuration&lt;/code&gt;&lt;br&gt;
åœ¨äº¤æ¢æœºä¹‹é—´åˆ’åˆ†åˆ°ç›¸åŒçš„vlanå³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;SW1ï¼šä¿®æ”¹æ¥å£g0/0/1çš„æ¨¡å¼ä¸ºaccessï¼Œvlanidä¸º10
int g0/0/1
port link-type access
port default vlan 10
int g0/0/10
port link-type access
port default vlan 10
# &amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;SW2ï¼šä¸SW1ç›¸åŒé…ç½®
int g0/0/1
port link-type access
port default vlan 10
int g0/0/10
port link-type access
port default vlan 10
# æŸ¥çœ‹stpåè®®æƒ…å†µ
# å¦‚æœsw1å’Œsw2ä¸­çš„æ‰€æ¶‰åŠåˆ°çš„ç«¯å£å‡ºç°â€œalte æ›¿ä»£ç«¯å£â€æƒ…å†µï¼Œåˆ™éœ€è¦æ‰§è¡Œâ€œstp priority 4096â€é…ç½®å®ƒçš„æ¡¥ä¼˜å…ˆçº§ (ç¼ºçœæƒ…å†µä¸‹äº¤æ¢æœºçš„æ¡¥ä¼˜å…ˆçº§æ˜¯32768)ï¼Œå¦åˆ™æ— æ³•é€šä¿¡
dis stp brief
&lt;/code&gt;&lt;/pre&gt;
">ã€21ã€‘äº¤æ¢æœºå®æ–½Accessæ¨¡å¼ï¼ˆæ¥å…¥æ¨¡å¼ï¼‰é…ç½®è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/20-yi-tai-wang-jiao-huan-ji-chu/"" data-c="
          &lt;ol&gt;
&lt;li&gt;äº¤æ¢æœºçš„è½¬å‘è¡Œä¸º&lt;br&gt;
1.1 æ³›æ´ªflooding&lt;br&gt;
æ— macåœ°å€è¡¨æ—¶&lt;br&gt;
1.2 è½¬å‘forwarding&lt;br&gt;
æœ‰macåœ°å€è¡¨æ—¶&lt;br&gt;
1.3 ä¸¢å¼ƒdiscarding&lt;/li&gt;
&lt;li&gt;é€æ˜æ¡¥æ¥&lt;br&gt;
ç”¨äºä»¥å¤ªç½‘ï¼Œä¸æ›´æ”¹æ•°æ®å¸§çš„å†…å®¹ï¼Œä¹Ÿä¸ä½œä¸ºæ•°æ®å¸§çš„æºå’Œç›®çš„åœ°ï¼Œè¿æ¥èµ·æ¥çš„ç½‘æ®µå¥½åƒåœ¨ä¸€æ¡é€æ˜çš„ç®¡é“ä¸­ä¸€æ ·ã€‚&lt;/li&gt;
&lt;li&gt;VLAN&lt;br&gt;
è™šæ‹Ÿå±€åŸŸç½‘ï¼Œæ˜¯å°†ä¸€ä¸ªç‰©ç†çš„å±€åŸŸç½‘åœ¨é€»è¾‘ä¸Šåˆ’åˆ†æˆå¤šä¸ªå¹¿æ’­åŸŸçš„æŠ€æœ¯ã€‚&lt;br&gt;
ä¸æ˜¯ä¸ºäº†éš”ç¦»ï¼Œä¸ºäº†æ›´å¥½çš„é€šä¿¡ï¼Œæ›´å¥½çš„å®æ–½ã€ç®¡ç†ã€‚&lt;br&gt;
3.1 å¸§æ ¼å¼&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585759654701.png&#34; alt=&#34;VLANå¸§æ ¼å¼&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹macåœ°å€åˆ—è¡¨
dis mac-address
# æŸ¥çœ‹macåœ°å€è¡¨çš„è€åŒ–æ—¶é—´(é»˜è®¤300ç§’)
dis mac-address aging-time
# é…ç½®macåœ°å€è¡¨çš„è€åŒ–æ—¶é—´
mac-address aging-time 1000
&lt;/code&gt;&lt;/pre&gt;
">ã€20ã€‘ä»¥å¤ªç½‘äº¤æ¢åŸºç¡€</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/19-shi-shi-dong-tai-lu-you-xie-yi-ospf-xie-yi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;åŸç†&lt;br&gt;
åˆå§‹åŒ–ï¼Œå½¢æˆé‚»å±… ----&amp;gt; LSA(é“¾è·¯çŠ¶æ€é€šå‘Š)æ³›æ´ª ----&amp;gt; ç”ŸæˆLSDB(é“¾è·¯çŠ¶æ€æ•°æ®åº“) ----&amp;gt; SPF(æœ€çŸ­è·¯å¾„ä¼˜å…ˆ)ç®—æ³• ----&amp;gt; æœ€çŸ­è·¯å¾„æ ‘ ----&amp;gt; è·¯ç”±è®¡ç®— ----&amp;gt; è·¯ç”±è®¡ç®— ----&amp;gt;  è·¯ç”±è¡¨&lt;/li&gt;
&lt;li&gt;ospfçš„3å¼ è¡¨&lt;br&gt;
2.1 é‚»å±…ï¼ˆé‚»æ¥ï¼‰è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹é‚»å±…è¡¨ï¼ŒåŠ briefæ˜¾ç¤ºç®€è¦ä¿¡æ¯
display ospf peer brief
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.2 æ•°æ®åº“è¡¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹æ•°æ®åº“
display ospf lsdb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.3 è·¯ç”±è¡¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹é€šè¿‡ospfç”Ÿæˆçš„è·¯ç”±è¡¨
display ip routing-table protocol ospf
# æˆ–è€…
display ospf routing
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ospfçš„5ç§æŠ¥æ–‡&lt;br&gt;
3.1 Hello æŠ¥æ–‡&lt;br&gt;
å‘ç°ã€å»ºç«‹å’Œç»´æŠ¤é‚»å±…å…³ç³»çš„æŠ¥æ–‡&lt;br&gt;
3.2 DDï¼ˆDatabase Descriptionï¼‰æŠ¥æ–‡ï¼ˆDBDæŠ¥æ–‡ï¼‰&lt;br&gt;
æ•°æ®åº“æè¿°æŠ¥æ–‡&lt;br&gt;
3.3 LSRï¼ˆLSA Requestï¼‰æŠ¥æ–‡&lt;br&gt;
3.4 LSUï¼ˆLSA Updateï¼‰æŠ¥æ–‡&lt;br&gt;
3.5 LSACKï¼ˆLink State Acknowledgmentï¼‰æŠ¥æ–‡&lt;/li&gt;
&lt;li&gt;å…¶ä»–å†…å®¹&lt;br&gt;
4.1 é‚»å±…å’Œé‚»æ¥çš„åŒºåˆ«&lt;br&gt;
é‚»å±…å…³ç³»æ˜¯æŒ‡ï¼Œå½“åŒæ–¹æ”¶åˆ°å¯¹æ–¹çš„helloæŠ¥æ–‡çš„æ—¶å€™ï¼ŒæŠ¥æ–‡é‡Œé¢çš„å‚æ•°ï¼ˆhello time.dead interval , area id.authentication ,mask ç­‰ï¼‰ä¸€è‡´çš„æ—¶å€™ï¼Œå¹¶ä¸”é‚»å±…å…³ç³»ä¸º2-wayçš„æ—¶å€™ï¼Œè¿™ä¸ªå°±å¯ä»¥æˆä¸ºæ˜¯å»ºç«‹äº†é‚»å±…å…³ç³»ï¼Œä½†æ˜¯è¿˜ä¸æ˜¯é‚»æ¥å…³ç³»ã€‚&lt;br&gt;
é‚»æ¥å…³ç³»æ˜¯æŒ‡åœ¨å»ºç«‹çš„é‚»å±…å…³ç³»ä¹‹åç»§ç»­å‘é€DDï¼ŒLSRï¼ŒLSUç­‰æŠ¥æ–‡ï¼Œæœ€ç»ˆåŒæ–¹çš„LSDBè¾¾åˆ°åŒæ­¥ä¹‹åï¼Œé‚»å±…çŠ¶æ€ä¸ºFULLæ—¶ï¼Œæ‰æˆä¸ºé‚»æ¥å…³ç³»ã€‚&lt;br&gt;
è¯¦ç»†å†…å®¹å¯ä»¥å‚è€ƒä¸‹é¢ä¸¤ä¸ªé“¾æ¥ï¼š&lt;br&gt;
&lt;a href=&#34;https://blog.51cto.com/liufei888/2073094&#34;&gt;https://blog.51cto.com/liufei888/2073094&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://blog.csdn.net/watchen/article/details/14643459&#34;&gt;https://blog.csdn.net/watchen/article/details/14643459&lt;/a&gt;&lt;br&gt;
4.2 ç›®çš„IPï¼š&lt;br&gt;
224.0.0.5-----allspf routerï¼ŒSPFè®¾å¤‡ç»„æ’­ç»„&lt;br&gt;
224.0.0.6-----alldr routerï¼ŒDRè®¾å¤‡ç»„æ’­ç»„&lt;br&gt;
4.3 RID&lt;br&gt;
Route IDï¼Œåœ¨OSPFä¸­æ˜¯ä½œä¸ºè·¯ç”±å™¨å”¯ä¸€æ ‡è¯†çš„ï¼Œipv4æ ¼å¼ã€‚&lt;br&gt;
å½“OSPFä¸­é€‰ä¸¾DRå’ŒBDRæ—¶é¦–å…ˆæŸ¥çœ‹è·¯ç”±å™¨çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§å¤§è€…å½“é€‰DRï¼Œå…¶æ¬¡æ˜¯BDRï¼›å¦‚æœä¼˜å…ˆçº§ç›¸åŒåˆ™æ ¹æ®route-idçš„å¤§å°æ¥é€‰ä¸¾ï¼Œroute-idå¤§è€…å½“é€‰ã€‚route-idåœ¨ä¸æŒ‡å®šçš„æƒ…å†µä¸‹ä¼šç”±loopbackæ¥å£æ•°å€¼æœ€é«˜çš„IPåœ°å€æ¥åšï¼Œå½“æ²¡æœ‰loopbackæ¥å£æ—¶åˆ™ç”±ç‰©ç†æ¥å£æ•°å€¼æœ€é«˜çš„IPæ¥åšã€‚è€ŒDRå’ŒBDRé€‰ä¸¾åªæ˜¯åœ¨æ¥å£ç±»å‹ä¸ºå¹¿æ’­æˆ–NBMAæ—¶ä¼šäº§ç”Ÿï¼ˆå°±æ˜¯è¯´éå¹¿æ’­ç±»çš„ç‚¹å¯¹ç‚¹å’Œç‚¹å¯¹å¤šç‚¹çš„æ¥å£ç±»å‹æ˜¯ä¸é€‰ä¸¾DRå’ŒBDRçš„ï¼‰ã€‚æ‰€ä»¥route-idæ›´å¤šçš„æ˜¯ä½œä¸ºè·¯ç”±å™¨æ ‡è¯†çš„ä½œç”¨ã€‚æ˜¯å¦é…ç½®route-idå’Œå¦‚ä½•é…ç½®route-idéƒ½å–å†³äºä½ çš„éœ€æ±‚ï¼ˆæœ‰çš„æ—¶å€™é…ç½®ä¸é…ç½®éƒ½æ— å…³ç´§è¦ï¼‰ã€‚&lt;br&gt;
4.4 ospfå¤§è‡´æµç¨‹&lt;br&gt;
é‚»å±…å‘ç°----æ•°æ®åº“åŒæ­¥ï¼ˆexstartã€exchangeï¼‰----å»ºç«‹å®Œå…¨é‚»æ¥å…³ç³»&lt;br&gt;
4.5 DRï¼ˆDesignated Routerï¼‰å’ŒBDRï¼ˆBackup Designated Routerï¼‰åŒºåˆ«&lt;br&gt;
DRä¸BDRå¹¶æ²¡æœ‰ä»»ä½•æœ¬è´¨ä¸åŠŸèƒ½çš„åŒºåˆ«ï¼ŒBDRå°±æ˜¯DRçš„å¤‡ä»½ã€‚&lt;br&gt;
DRå’ŒBDRæ˜¯åŸºäºé“¾è·¯çš„ï¼Œä¸æ˜¯åŸºäºè®¾å¤‡çš„ï¼Œå¯ä»¥æ²¡æœ‰BDRï¼Œä½†æ˜¯ä¸€å®šè¦æœ‰DRã€‚&lt;br&gt;
æ‰€æœ‰è®¾å¤‡éƒ½éœ€è¦å’ŒDRã€BDRæ„å»ºé‚»æ¥å…³ç³»ï¼Œåªå’ŒDRã€BDRäº¤äº’LSDBï¼Œå‰©ä¸‹çš„å…¶ä»–è·¯ç”±å™¨ä¿©ä¿©éƒ½æ˜¯é‚»å±…(2-way)çŠ¶æ€ ã€‚&lt;br&gt;
**ä½œç”¨ï¼š**å‡å°‘LSAçš„æ³›æ´ªã€‚DRå¯ä»¥å‡å°‘å¹¿æ’­å‹ç½‘ç»œä¸­çš„é‚»æ¥å…³ç³»æ•°é‡ã€‚&lt;br&gt;
**é€‰ä¸¾DRå’ŒBDRçš„è§„åˆ™ä¸ºï¼š**æ¯”è¾ƒæ¥å£ä¼˜å…ˆçº§é€‰ä¸¾ä¼˜å…ˆçº§æœ€é«˜çš„æˆä¸ºDRï¼Œä¼˜å…ˆçº§æ•°å­—è¶Šå¤§ï¼Œè¡¨ç¤ºä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¢«é€‰ä¸ºDRçš„å‡ ç‡å°±è¶Šå¤§ï¼Œæ¬¡ä¼˜å…ˆçº§çš„ä¸ºBDRï¼Œä¼˜å…ˆçº§èŒƒå›´æ˜¯0~255ï¼Œé»˜è®¤ä¸º1ï¼Œä¼˜å…ˆçº§ä¸º0è¡¨ç¤ºæ²¡æœ‰èµ„æ ¼é€‰ä¸¾DRå’ŒBDRã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ç†è§£ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;æ—¶é—´è¦ç´ ï¼Œåœ¨é€‰ä¸¾æœŸé—´ï¼ŒOSPFçš„DRå’ŒBDRä¸å…·å¤‡æŠ¢å æ€§ï¼Œ&lt;code&gt;å³è¿‡äº†é€‰ä¸¾æœŸï¼Œå³ä¾¿ä¼˜å…ˆçº§å†é«˜ä¹Ÿæ— æ³•æŠ¢å DRå’ŒBDR&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;åŸºäºhelloæŠ¥æ–‡ä¸­çš„ä¼˜å…ˆçº§ï¼Œè¶Šå¤§è¶Šä¼˜å…ˆ&lt;/li&gt;
&lt;li&gt;å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œé€‰æ‹©è·¯ç”±å™¨IDï¼ˆRouteIDï¼ŒRIDï¼‰æ¯”è¾ƒå¤§çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è°ƒæ•´è·¯ç”±å™¨ä¸­ospfçš„ä¼˜å…ˆçº§
interface g0/0/0
ospf
ospf dr-priority 0 # 0åˆ™æ²¡æœ‰èµ„æ ¼é€‰ä¸¾ä¸ºDRå’ŒBDRï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜
interface g0/0/1
ospf
ospf dr-priority 100
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;4.6 OSPFå¼€é”€&lt;br&gt;
è®¡ç®—å…¬å¼ä¸ºï¼šå¸¦å®½å‚è€ƒå€¼/å¸¦å®½ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;bandwidth-reference&lt;/code&gt;å‘½ä»¤æ¥è®¾ç½®å¸¦å®½å‚è€ƒå€¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è®¾ç½®å¸¦å®½å‚è€ƒå€¼
ospf
bandwidth-reference 10000
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;ospfé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ospf route-id 1.1.1.1
area 0
network 192.168.1.0 24
&lt;/code&gt;&lt;/pre&gt;
">ã€19ã€‘å®æ–½åŠ¨æ€è·¯ç”±åè®®OSPFåè®®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/17-dong-tai-lu-you-xie-yi-ripv2-de-shi-shi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;RIPv1å’ŒRIPv2ä¸å…¼å®¹ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹æ¥å£ä¸‹çš„æ”¶å‘RIPåŒ…çš„ç‰ˆæœ¬æ¥è¾¾åˆ°å…¼å®¹ï¼Œä½†æœ€å¥½çš„æ–¹æ³•æ˜¯éƒ½é…ç½®ä¸ºç‰ˆæœ¬2&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿®æ”¹RIPç‰ˆæœ¬ä¸ºv2ï¼Œå¯ä»¥åœ¨æ¥å£ä¸‹é¢æ”¹ï¼Œä¹Ÿå¯ä»¥åœ¨ç³»ç»Ÿè§†å›¾ä¸­è¯¥ï¼Œæ¥å£çš„ä¼˜å…ˆçº§é«˜äºç³»ç»Ÿè§†å›¾
int g0/0/0
dis th # æŸ¥çœ‹å½“å‰RIPç‰ˆæœ¬
dis ip rou pro rip # æŸ¥çœ‹å½“å‰ripè·¯ç”±ä¿¡æ¯
undo rip version # åˆ é™¤æ¥å£å½“å‰çš„ripç‰ˆæœ¬

# ä¿®æ”¹æ¥å£RIPåè®®çš„åº¦é‡å€¼cost(åè®®ä¸­ä¸ºmetricin)ï¼Œé»˜è®¤ä¸º1ï¼Œè¿™ä¸ªå€¼ä¸èƒ½è¶…è¿‡15ï¼Œå¦åˆ™è·¯ç”±ä¸å¯è¾¾ï¼Œå¯¼è‡´è·¯ç”±æ¶ˆå¤±
rip metricin 2  # å…¥æ–¹å‘è®¾ä¸º2
rip metricout 3  # å‡ºæ–¹å‘è®¾ä¸º3

# å…¨å±€é…ç½®
rip #è¿›å…¥ripè¿›ç¨‹
version 2

# é…ç½®æ¥å£ç¦æ­¢å‘é€RIPæŠ¥æ–‡ï¼ˆå’Œé™é»˜ç«¯å£æœ‰ç‚¹ç›¸ä¼¼ï¼‰
int g0/0/0
undo rip output

# é™é»˜ç«¯å£ï¼ˆæŠ‘åˆ¶ç«¯å£ï¼‰ï¼Œé…ç½®g0/0/0æ¥å£ä¸ºæŠ‘åˆ¶çŠ¶æ€ï¼Œç”¨æ¥æ›´æ–°è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œè€Œä¸å‘RIPæŠ¥æ–‡
# æ­¤å‘½ä»¤çš„ä¼˜å…ˆçº§è¦é«˜äºrip inputå’Œrip outpt
# å¯ä»¥ç”¨äºå®Œå…¨è¿æ¥PCçš„æ¥å£ä»¥åŠç¯å›æ¥å£
rip
silent-interface g0/0/0
# å¸¸ç”¨çš„æ–¹å¼æ˜¯å…ˆé™é»˜æ‰€æœ‰æ¥å£ï¼Œå†å•æ’­æŒ‡å®šæ¥å£ï¼Œé€šè¿‡peeræŒ‡å®šé‚»å±…è·¯ç”±
rip
silent-interface all
peer 10.0.14.1 # ç›¸é‚»è·¯ç”±å™¨åœ°å€(æ‰‹åŠ¨æŒ‡å®šé‚»å±…ï¼Œè¿›è¡Œå•æ’­æ›´æ–°)
# ç›¸é‚»è·¯ç”±å™¨é…ç½®
silent-interface s2/0/0 # é™é»˜ä¸ä¸Šé¢è·¯ç”±å™¨ç›´è¿çš„æ¥å£
peer 10.0.14.4 # æŒ‡å®šä¸Šé¢é‚£ä¸ªè·¯ç”±å™¨åœ°å€
# åœ¨ç¬¬ä¸€å°è·¯ç”±å™¨ä¸ŠæŸ¥çœ‹ripæ›´æ–°æƒ…å†µ
terminal debug
debugging rip 1 pa
&lt;/code&gt;&lt;/pre&gt;
">ã€17ã€‘åŠ¨æ€è·¯ç”±åè®®RIPv2çš„å®æ–½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/28-jiao-huan-ji-shi-shi-ripv1/"" data-c="
          &lt;p&gt;RIPï¼Œè·¯ç”±ä¿¡æ¯åè®®ï¼Œå±äºè·ç¦»çŸ¢é‡åè®®ï¼Œæ˜“äºç»´æŠ¤ï¼Œé€‚åˆäºå°å‹ç½‘ç»œï¼Œæœ€å¤§15è·³ï¼ˆ16è·³ä¸å¯è¾¾ï¼‰ï¼Œä½¿ç”¨UDPåè®®çš„520ç›®æ ‡ç«¯å£ï¼Œä¼˜å…ˆçº§ä¸º100&lt;br&gt;
ä½œç”¨ï¼šæ„å»ºã€ç»´æŠ¤ã€æ›´æ–°è·¯ç”±ä¿¡æ¯&lt;br&gt;
RIPçš„å¼€é”€ä¸ºè·³æ•°ï¼Œä¸€è·³åˆ™costä¸º1ï¼Œä¸¤è·³åˆ™costä¸º2ï¼Œ......&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤ç§æŠ¥æ–‡&lt;br&gt;
1.1 Requestè¯·æ±‚ï¼ˆåªæœ‰åœ¨ripå¯åŠ¨æˆ–è€…è·¯ç”±å˜åŒ–çš„æ—¶å€™å‘é€æ­¤æŠ¥æ–‡ï¼‰&lt;br&gt;
1.2 Responseå“åº”&lt;/li&gt;
&lt;li&gt;å·¥ä½œåŸç†&lt;br&gt;
è·¯ç”±å™¨è¿è¡Œripä¹‹åï¼Œé¦–å…ˆä¼šå‘é€è·¯ç”±æ›´æ–°è¯·æ±‚ï¼Œæ”¶åˆ°è¯·æ±‚çš„è·¯ç”±å™¨ä¼šå‘é€è‡ªå·±çš„ripè·¯ç”±è¿›è¡Œç›¸åº”ï¼Œå½¢æˆripæ•°æ®åº“ã€‚ç½‘ç»œç¨³å®šåï¼Œè·¯ç”±å™¨ä¼šå‘¨æœŸæ€§çš„å‘é€è·¯ç”±æ›´æ–°ä¿¡æ¯ï¼ˆå“åº”æŠ¥æ–‡ï¼‰ï¼Œ30ç§’å‘é€ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;é—®é¢˜ï¼šR1ï¼ˆ10.0.1.1/24ï¼‰ä¸Šè¿è¡Œripv1å¾—åˆ°çš„æ˜¯10.0.2.0/24çš„è·¯ç”±ï¼Œè€Œä¸æ˜¯10.0.0.0/8çš„è·¯ç”±ï¼Ÿ&lt;br&gt;
å‘é€è·¯ç”±æ›´æ–°çš„æ¥å£çš„åœ°å€æ˜¯10.0.123.0(ä¸»ç±»å‰ç¼€ä¸º10.0.0.0/8)ï¼Œå‘é€å‡ºå»çš„è·¯ç”±ï¼ˆ10.0.2.0/24ï¼‰ã€‚å¦‚æœä¸»ç±»å‰ç¼€ç›¸åŒï¼Œé‚£ä¹ˆå‘é€æ˜ç»†è·¯ç”±ï¼ˆ10.0.2.0/24ï¼‰ï¼Œå¦‚æœä¸»ç±»å‰ç¼€ä¸åŒï¼Œåˆ™å‘é€ä¸»ç±»å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é»˜è®¤æ˜¯Ripv1ï¼Œè¿›å…¥ripé…ç½®æ¨¡å¼
rip
dis th # æŸ¥çœ‹å½“å‰ä¿¡æ¯
# å…³é—­ripv1
undo rip 1
# é‡æ–°é…ç½®
rip
network 10.0.0.0 # vrpçš„å‘½ä»¤æ ¼å¼å°±å¿…é¡»æ˜¯ä¸»ç±»ç½‘ç»œï¼Œåƒ10.0.2.0å°±ä¸è¡Œã€‚åœ¨IGPä¸­networkæœ‰ä¸¤å±‚å«ä¹‰ï¼ša åœ¨ä¸€ä¸ªèŒƒå›´å†…ä½¿èƒ½RIPåè®®ï¼›b è¯¥èŒƒå›´å†…çš„ç½‘ç»œè¢«é€šå‘Šåˆ°RIPä¸­ï¼Œæ–¹ä¾¿å…¶ä»–è®¾å¤‡å­¦ä¹ è¯¥è·¯ç”±
network 22.0.0.0 
network 192.168.1.0  #ä¸»ç±»ç½‘ç»œIPåœ°å€åˆ†ç±»ï¼ˆä¸»ç±»ç½‘ç»œï¼Œå³ï¼šAç±» Bç±» Cç±» Dç±» Eç±»ï¼‰
# ä¿®æ”¹ä¸ºç‰ˆæœ¬2
rip
ver 2
# æŸ¥çœ‹é‚»å±…æ˜¯å¦å‹å¥½åå•†
dis rip 1 neighbor
# æŸ¥çœ‹ripæ•°æ®åº“
dis rip 1 database
# æŸ¥çœ‹rip1çš„å‘é€çš„æŠ¥æ–‡ï¼ˆéœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰èƒ½çœ‹åˆ°ï¼‰
debugging rip 1 send
undo debugging all # ç»“æŸæŸ¥çœ‹æŠ¥æ–‡
# å…³é—­è‡ªåŠ¨æ±‡æ€»
undo summary
&lt;/code&gt;&lt;/pre&gt;
">ã€28ã€‘äº¤æ¢æœºå®æ–½RIPv1</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/15-hua-wei-shi-shi-jing-tai-fu-dong-lu-you-dai-li-arp-he-jing-tai-mo-ren-lu-you/"" data-c="
          &lt;ol&gt;
&lt;li&gt;æµ®åŠ¨é™æ€è·¯ç”±&lt;br&gt;
åœ¨å­˜åœ¨å¤šæ¡çº¿è·¯çš„æƒ…å†µä¸‹ä½¿å¾—æ•°æ®åªä»ä¸€ä¸ªé“¾è·¯ä¸Šè½¬å‘ï¼ˆä¼˜å…ˆçº§æœ€é«˜çš„é‚£æ¡ï¼‰ï¼Œå³è·¯ç”±è¡¨ä¸­åªæœ‰ä¸€ä¸ªä¸‹ä¸€æ¡ï¼Œå…¶ä»–çº¿è·¯ä½œä¸ºå¤‡ä»½é“¾è·¯ï¼Œåªæœ‰ä¸»é“¾è·¯å¤±æ•ˆæ—¶ï¼Œå¤‡ä»½é“¾è·¯æ‰ä¼šè¢«æ”¾å…¥è·¯ç”±è¡¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹ripè·¯ç”±
dis ip rou protocol rip
# ä¿®æ”¹é™æ€è·¯ç”±ä¼˜å…ˆçº§(0~255ï¼Œè¶Šå°çº¦ä¼˜å…ˆ)
ip route-static 10.0.4.0 255.255.255.0 Serial 2/0/0 preference 20
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é»˜è®¤è·¯ç”±ï¼ˆç¼ºçœè·¯ç”±ï¼‰&lt;br&gt;
default routeä¸º0.0.0.0/0ï¼Œå³æœ€ä¸ç²¾å‡†ä½†å¯ä»¥ä½¿ç”¨çš„è·¯ç”±&lt;/li&gt;
&lt;li&gt;ä»£ç†arp&lt;br&gt;
é»˜è®¤ä¸å¼€å¯ã€‚ä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸ºarpæœ‰è€åŒ–æ—¶é—´ï¼Œå¹¶ä¸”arpå±äºå¹¿æ’­åè®®ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¼€å¯ä»£ç†arp
int g0/0/0
arp-proxy enable
&lt;/code&gt;&lt;/pre&gt;
">ã€15ã€‘åä¸ºå®æ–½é™æ€æµ®åŠ¨è·¯ç”±ã€ä»£ç†ARPå’Œé™æ€é»˜è®¤è·¯ç”±</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/14-hua-wei-shi-shi-jing-tai-lu-you-jiang-jie/"" data-c="
          &lt;ol&gt;
&lt;li&gt;é™æ€è·¯ç”±éœ€è¦ç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®å’Œç»´æŠ¤çš„è·¯ç”±&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585759325632.png&#34; alt=&#34;é™æ€è·¯ç”±é…ç½®&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ·»åŠ é™æ€è·¯ç”±çš„æ ¼å¼ï¼šip route-static ç½‘ç»œå‰ç¼€ æ©ç  ä¸‹ä¸€æ¡æˆ–è€…è®¾å¤‡æ¥å£
# â€œä¸‹ä¸€æ¡â€çš„æ–¹æ¡ˆï¼ˆæ¨èæ–¹å¼ï¼‰
ip route-static 192.168.1.0 255.255.255.0 10.0.12.1
# â€œå‡ºæ¥å£â€çš„æ–¹æ¡ˆ(ATMã€FRä¸èƒ½ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œä¸é€šç”¨ï¼Œä¸æ¨èä½¿ç”¨æ­¤æ–¹å¼)
ip route-static 192.168.1.0 255.255.255.0 Serial 1/0/0
# ä¸Šä¸¤ç§æ–¹æ¡ˆç»“åˆ
ip route-static 192.168.1.0 24 10.0.12.1 Serial 1/0/0
# æŸ¥çœ‹è·¯ç”±è¡¨ï¼ˆåŒ…å«åè®®ï¼‰
display ip routing-table protocol static
# å¼€å¯debugæ¨¡å¼ï¼ŒApingBï¼Œåˆ™Bå¼€å¯ï¼Œå¯ä»¥åœ¨Bä¸Šçœ‹åˆ°æ¥æ”¶çš„æŠ¥æ–‡
debugging ip icmp
terminal debugging
# æŒ‡å®šæ¥å£ping 
ping -a &amp;quot;æœ¬æœºip&amp;quot; &amp;quot;è¦pingçš„åœ°å€&amp;quot;
# ç­›é€‰è·¯ç”± ï¼ˆç®€å†™ï¼šdis cu | i ip route ï¼‰
display current-configuration | include ip route
&lt;/code&gt;&lt;/pre&gt;
">ã€14ã€‘åä¸ºå®æ–½é™æ€è·¯ç”±è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/13-hua-wei-ipv4-lu-you-yuan-li-jiang-jie/"" data-c="
          &lt;ol&gt;
&lt;li&gt;è·¯ç”±å™¨ä¸¤ä¸ªåŸºæœ¬åŠŸèƒ½ï¼š&lt;br&gt;
1.1 å†³ç­–(RIB)&lt;br&gt;
1.2 è½¬å‘(FIB)&lt;/li&gt;
&lt;li&gt;ASå·ç ç§æœ‰æ®µä¸º64512~65535&lt;/li&gt;
&lt;li&gt;è·¯ç”±è¡¨ï¼ˆæ§åˆ¶å±‚é¢ï¼‰ä¸ä¸€å®šå’ŒæŠ¥æ–‡è½¬å‘åœ¨åŒä¸€ä¸ªè·¯å¾„ä¸Š&lt;/li&gt;
&lt;li&gt;è·¯ç”±åˆ†ç±»&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;æ¥å£å·¥ä½œï¼Œå¾—åˆ°çš„æ˜¯ç›´è¿è·¯ç”±(Direct)&lt;/li&gt;
&lt;li&gt;ç®¡ç†å‘˜æ‰‹å·¥æ·»åŠ å¾—åˆ°é™æ€è·¯ç”±&lt;/li&gt;
&lt;li&gt;é€šè¿‡åŠ¨æ€è·¯ç”±åè®®å¾—åˆ°è·¯ç”±è¡¨(ä¾‹å¦‚RIP)&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;è·¯ç”±çš„åŸåˆ™&lt;br&gt;
5.1 æœ€é•¿åŒ¹é…åŸåˆ™&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¾‹å¦‚ï¼š
a. 0.0.0.0/0
b. 10.2.1.0/24
c. 10.2.1.1/32
d. 100.1.1.0/24
- å»å¾€10.2.1.100çš„é€‰æ‹©b
- å»å¾€10.2.1.1çš„é€‰æ‹©c
- å»å¾€100.1.2.1çš„é€‰æ‹©a
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5.2 è·¯ç”±åè®®çš„ä¼˜å…ˆçº§ï¼ˆADï¼Œç®¡ç†è·ç¦»ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è·¯ç”±åè®®çš„ä¼˜å…ˆçº§æ˜¯æœ¬è®¾å¤‡åšå‡ºå†³ç­–çš„ä¾æ®
# ä¼˜å…ˆçº§ï¼Œæ•°å€¼å°çš„ä¼˜å…ˆ
- ç›´è¿=0
- é™æ€=60ï¼ˆæ€ç§‘=1ï¼‰
- RIP=100
- ospfå†…éƒ¨=10ï¼ˆæ€ç§‘=110ï¼‰
- ospfå¤–éƒ¨=150ï¼ˆASEï¼Œæ€ç§‘æ²¡æœ‰è¯¥å‚æ•°ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5.3 ä¸åŒçš„åè®®æœ‰ä¸åŒçš„åº¦é‡æ–¹æ³•ï¼Œåœ¨åŒä¸€ä¸ªåè®®å†…éƒ¨åº¦é‡å€¼æ¯”è¾ƒå°çš„ä¼˜å…ˆ&lt;br&gt;
6. è·¯ç”±è´Ÿè½½å‡è¡¡ï¼ˆECMPï¼‰&lt;br&gt;
FIBï¼Œç”±äºè´Ÿè½½å‡è¡¡ä¸ç­‰äºæ•°æ®åŒ…è½¬å‘å¹³åˆ†ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®æµçš„äº”å…ƒç»„hashå€¼è¿›è¡Œåˆ†é…ï¼Œå¦‚æœhashå€¼ä¸å˜åˆ™è·¯å¾„ä¸å˜ï¼Œæ‰€ä»¥è´Ÿè½½å‡è¡¡ä¸æ˜¯æµé‡å¹³åˆ†&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹FIB
display fib
# æŸ¥çœ‹è·¯ç”±è¡¨
display ip routing-table
&amp;gt; R-relayï¼šä¸­ç»§ï¼Œä»£è¡¨ä¸‹ä¸€è·³è®¾å¤‡ä¸æ˜¯æœ¬è®¾å¤‡çš„ç›´è¿ï¼Œéœ€è¦åšè·¯ç”±æ›´è¿­æ‰å¯ä»¥åˆ°è¾¾
&amp;gt; D-download to fileï¼šè£…è½½åˆ°è·¯ç”±è¡¨
&lt;/code&gt;&lt;/pre&gt;
">ã€13ã€‘åä¸ºIPv4è·¯ç”±åŸç†è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/12-hua-wei-vrp-xi-tong-guan-li/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŒ‡å®šä¸‹æ¬¡å¯åŠ¨çš„ç³»ç»Ÿæ–‡ä»¶
startup system-software &amp;quot;æ–‡ä»¶å&amp;quot;
# é‡å¯
reboot
# æŸ¥çœ‹ç³»ç»Ÿæ˜¯å¦ä¿®æ”¹æˆåŠŸ
display startup 
&lt;/code&gt;&lt;/pre&gt;
">ã€12ã€‘åä¸ºVRPç³»ç»Ÿç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/11-hua-wei-vrp-ping-tai-shi-shi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;å‘½ä»¤è¡Œè§†å›¾ï¼š&lt;br&gt;
ç”¨æˆ·è§†å›¾ ï¼šæŸ¥çœ‹è¿è¡ŒçŠ¶æ€æˆ–å…¶ä»–å‚æ•°&lt;br&gt;
--&amp;gt; ç³»ç»Ÿè§†å›¾ï¼ˆsystem-viewï¼‰ï¼šé…ç½®è®¾å¤‡çš„ç³»ç»Ÿå‚æ•°ç­‰&lt;br&gt;
--&amp;gt; æ¥å£è§†å›¾ï¼ˆinterface GigabitEthernet0/0/0ç­‰ï¼‰ ï¼šé…ç½®æ¥å£å‚æ•°&lt;br&gt;
--&amp;gt; åè®®è§†å›¾ï¼ˆospfã€bgpã€isisç­‰ï¼‰ï¼šé…ç½®è·¯ç”±åè®®&lt;/li&gt;
&lt;li&gt;å¸¸ç”¨å¿«æ·é”®&lt;br&gt;
&lt;strong&gt;VRPå¿«æ·é”®&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ctrl+a/e&lt;/code&gt;ï¼šæŠŠå…‰æ ‡ç§»åŠ¨åˆ°å½“å‰å‘½ä»¤è¡Œæœ€å‰ç«¯/åç«¯&lt;br&gt;
&lt;code&gt;ctrl+c&lt;/code&gt;ï¼šåœæ­¢å½“å‰å‘½ä»¤è¡Œçš„è¿è¡Œ&lt;br&gt;
&lt;code&gt;ctrl+z&lt;/code&gt;ï¼šå›åˆ°ç”¨æˆ·è§†å›¾&lt;br&gt;
&lt;code&gt;ctrl+]&lt;/code&gt;ï¼šç»ˆæ­¢å½“å‰è¿æ¥æˆ–åˆ‡æ¢è¿æ¥&lt;br&gt;
&lt;strong&gt;CRTå¿«æ·é”®&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;ctrl+tab&lt;/code&gt;ï¼šä¸‹ä¸€ä¸ªæ ‡ç­¾&lt;br&gt;
&lt;code&gt;ctrl+shift+tab&lt;/code&gt;ï¼šå‰ä¸€ä¸ªæ ‡ç­¾&lt;br&gt;
&lt;code&gt;alt+&amp;quot;æ•°å­—&amp;quot;&lt;/code&gt;ï¼šç›´æ¥åˆ°è¾¾ç¬¬&amp;quot;æ•°å­—&amp;quot;ä¸ªæ ‡ç­¾&lt;/li&gt;
&lt;li&gt;é…ç½®æ ‡é¢˜æ¶ˆæ¯&lt;br&gt;
header loginï¼šé…ç½®åœ¨ç”¨æˆ·ç™»å½•å‰æ˜¾ç¤ºçš„æ ‡é¢˜æ¶ˆæ¯&lt;br&gt;
header shellï¼šé…ç½®åœ¨ç”¨æˆ·ç™»å½•åæ˜¾ç¤ºçš„æ ‡é¢˜æ¶ˆæ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å‘½ä»¤è¡Œé…ç½®
system-view
header login information &amp;quot;welcome to huawei certification&amp;quot;
header shell information &amp;quot;Please don&#39;t reboot the device!&amp;quot;
# ä»æ–‡ä»¶åŠ è½½æ ‡é¢˜ä¿¡æ¯
header login file æ–‡ä»¶åç§°
header shell file æ–‡ä»¶åç§°
# æŸ¥çœ‹å½“å‰é…ç½®ä¿¡æ¯
display current-configuration
# ç®¡é“ç¬¦ç­›é€‰
# beginï¼šå¼€å¤´ï¼›countï¼šç»Ÿè®¡ï¼›excludeï¼šä¸åŒ…æ‹¬ï¼›includeï¼šåŒ…æ‹¬
display current-configuration | include header
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;å‘½ä»¤ç­‰çº§ï¼ˆç”¨æˆ·ç­‰çº§ï¼‰&lt;br&gt;
4.1 è®¿é—®çº§&lt;br&gt;
ç”¨æˆ·ç­‰çº§0ï¼Œå‘½ä»¤ç­‰çº§0&lt;br&gt;
4.2 ç›‘æ§çº§&lt;br&gt;
ç”¨æˆ·ç­‰çº§1ï¼Œå‘½ä»¤ç­‰çº§0-1&lt;br&gt;
4.3 é…ç½®çº§&lt;br&gt;
ç”¨æˆ·ç­‰çº§2ï¼Œå‘½ä»¤ç­‰çº§0-2&lt;br&gt;
4.4 ç®¡ç†çº§&lt;br&gt;
ç”¨æˆ·ç­‰çº§3-15ï¼Œå‘½ä»¤ç­‰çº§0-3&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç•Œé¢&lt;br&gt;
5.1 ç±»å‹ï¼šConsole(ç¼–å·0ï¼Œåªæœ‰1ä¸ª)ï¼›VTY(ç¼–å·0-4,5ä¸ª)&lt;br&gt;
5.2 é…ç½®å‘½ä»¤
&lt;blockquote&gt;
&lt;p&gt;idle-timeoutï¼šè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤10åˆ†é’Ÿ&lt;br&gt;
screen-lengthï¼šè®¾ç½®æŒ‡å®šç»ˆç«¯å±å¹•çš„ä¸´æ—¶æ˜¾ç¤ºè¡Œæ•°ï¼Œ0ä¸æ˜¾ç¤ºï¼Œå³ä¸€å±æ˜¾ç¤ºçš„è¡Œæ•°&lt;br&gt;
history-command max-size ï¼šè®¾ç½®å†å²å‘½ä»¤ç¼“å†²åŒºå¤§å°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è®¾ç½®è®¤è¯æ–¹å¼
user-interface vty 0 4
set authentication password cipher huawei
# é…ç½®å¯ä»¥åŒæ—¶ç™»å½•åˆ°è®¾å¤‡çš„VTYç±»å‹ç”¨æˆ·ç•Œé¢çš„æœ€å¤§ä¸ªæ•°ï¼Œå¦‚æœä¸º0ï¼Œåˆ™ä»»ä½•ç”¨æˆ·éƒ½ä¸èƒ½é€šè¿‡telnetæˆ–è€…sshç™»å½•åˆ°è·¯ç”±å™¨
user-interface maximum-vty &amp;quot;åŒæ—¶ç™»å½•çš„ä¸ªæ•°&amp;quot;
# åœ¨sw2ç™»å½•sw1å¯ä»¥æŸ¥çœ‹ä¹‹å‰çš„header login å’Œheader shell
# æŸ¥çœ‹ç”¨æˆ·
display users
# è®¾ç½®ç”¨æˆ·çº§åˆ«ï¼Œé»˜è®¤æ˜¯0
user-interface vty 0 4
user privilege level 2
# sw2é‡æ–°ç™»å½•sw1è¿›è¡Œæµ‹è¯•
telnet 10.1.1.1
# é€šè¿‡sw2è¿›å…¥sw1çš„ç³»ç»Ÿè§†å›¾
system-view
# è®¾ç½®è¶…æ—¶æ—¶é—´sw1ï¼Œè®¾ç½®ä¸º1åˆ†30ç§’
user-interface vty 0 4
idle-timeout 1 30
# è®¾ç½®å†å²å‘½ä»¤ç¼“å†²åŒºä¸º100
history-command max-size 100
# è®¾ç½®ä¸€å±æ˜¾ç¤º100è¡Œ
screen-length 100
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;æ–‡ä»¶ç³»ç»Ÿç®¡ç†å‘½ä»¤&lt;br&gt;
&lt;code&gt;ç±»ä¼¼Linux&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;save ä¿å­˜ã€ç”¨æˆ·æ¨¡å¼ã€‘&lt;/li&gt;
&lt;li&gt;pwd æŸ¥çœ‹å½“å‰ç›®å½•&lt;/li&gt;
&lt;li&gt;dir æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æ–‡ä»¶ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;more æŸ¥çœ‹æ–‡ä»¶å†…å®¹&lt;/li&gt;
&lt;li&gt;cd ä¿®æ”¹å½“å‰å·¥ä½œç›®å½•&lt;/li&gt;
&lt;li&gt;mkdir åˆ›å»ºæ–°ç›®å½•&lt;/li&gt;
&lt;li&gt;rmdir åˆ é™¤ç›®å½•&lt;/li&gt;
&lt;li&gt;copy å¤åˆ¶æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;move ç§»åŠ¨æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;rename é‡å‘½åæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;delete/unreserved åˆ é™¤/æ°¸ä¹…åˆ é™¤æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;undelete æ¢å¤åˆ é™¤çš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;reset recycle-bin å½»åº•åˆ é™¤å›æ”¶ç«™çš„æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶æŸ¥è¯¢&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;display current-configuration æ˜¾ç¤ºå½“å‰é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;display saved-configuration æ˜¾ç¤ºå½“å‰ä¿å­˜çš„é…ç½®&lt;/li&gt;
&lt;li&gt;display startup æŸ¥çœ‹ç³»ç»Ÿå¯åŠ¨é…ç½®å‚æ•°&lt;/li&gt;
&lt;li&gt;startup patch åŠ è½½è¡¥ä¸æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;startup saved-configuration ä¿®æ”¹ä¸‹æ¬¡å¼€æœºåŠ è½½çš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;startup system-software ä¿®æ”¹ä¸‹æ¬¡å¼€æœºåŠ è½½çš„è½¯ä»¶ï¼ˆç³»ç»Ÿï¼‰&lt;/li&gt;
&lt;/ul&gt;
">ã€11ã€‘åä¸ºVRPå¹³å°å®æ–½ </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/10-yi-tai-wang-arp-ji-chu/"" data-c="
          &lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æŸ¥çœ‹arpåˆ—è¡¨
display arp
# å¼€å¯ä»£ç†arpï¼Œåä¸ºè®¾å¤‡é»˜è®¤ä¸å¼€å¯proxy arp
interface GigabitEthernet0/0/0
arp-proxy enable
&lt;/code&gt;&lt;/pre&gt;
">ã€10ã€‘ä»¥å¤ªç½‘ARPåŸºç¡€</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/09-yi-tai-wang-ji-chu-ji-icmp-ji-chu/"" data-c="
          &lt;ol&gt;
&lt;li&gt;ARPï¼ŒæŠŠé€»è¾‘åœ°å€ï¼ˆIPï¼‰æ˜ å°„æˆå®é™…ç‰©ç†åœ°å€ï¼ˆMACï¼‰ï¼Œåä¸ºè®¾å¤‡ARPè¡¨é¡¹çš„è€åŒ–è¶…æ—¶æ—¶é—´ç¼ºçœä¸º1200ç§’&lt;/li&gt;
&lt;li&gt;ARPåˆ†ç±»ï¼š&lt;br&gt;
åŸºæœ¬ARP&lt;br&gt;
ä»£ç†ARPï¼ˆä½äºä¸åŒç½‘ç»œçš„ç½‘ç»œè®¾å¤‡åœ¨ä¸é…ç½®ç½‘å…³çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿé€šè¿‡ARPä»£ç†å®ç°ç›¸äº’é€šä¿¡ï¼‰&lt;br&gt;
å…è´¹ARPï¼ˆç”¨æ¥æ£€æµ‹IPåœ°å€å†²çªï¼‰&lt;/li&gt;
&lt;/ol&gt;
">ã€09ã€‘ä»¥å¤ªç½‘åŸºç¡€åŠICMPåŸºç¡€</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/08-yi-tai-wang-ip-tou-bu-gai-shu-he-vrp-xiang-guan-jiang-jie/"" data-c="
          &lt;p&gt;ICMPï¼Œå‘å‡ºæŠ¥æ–‡é‡‡ç”¨udp,ç«¯å£å¤§äº30000ï¼Œä¸€èˆ¬æ˜¯33434å¼€å§‹ï¼›è¿”å›ç«¯å£ä¸å¯è¾¾æŠ¥æ–‡ï¼ˆtype=3,code=3ï¼‰è®°å½•äº†èŠ‚ç‚¹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ·»åŠ é™æ€è·¯ç”±
# R1
ip route-static 23.1.1.0 24 GigabitEthernet0/0/0 12.1.1.2
ping 23.1.1.2
# R3
ip route-static 12.1.1.0 24 GigabitEthernet0/0/1 23.1.1.2
ping 12.1.1.2
# è·¯ç”±è¿½è¸ª
tracert 23.1.1.3
# åˆ é™¤è·¯ç”±
undo ip route-static 12.1.1.0 24 GigabitEthernet0/0/0 23.1.1.2
&lt;/code&gt;&lt;/pre&gt;
">ã€08ã€‘ä»¥å¤ªç½‘IPå¤´éƒ¨æ¦‚è¿°å’ŒVRPç›¸å…³è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/07-yi-tai-ipv4-zi-wang-hua-fen-jiang-jie/"" data-c="
          &lt;p&gt;TTLä½œç”¨ï¼šIPä¸­çš„é˜²ç¯æœºåˆ¶ã€‚IPæŠ¥æ–‡æ¯ç»è¿‡ä¸€ä¸ªç½‘æ®µï¼ŒTTLå€¼å‡1ï¼Œå¦‚æœTTL=0ï¼Œåˆ™ä¸¢å¼ƒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# consoleç™»å½•å’Œè®¤è¯(å¯†ç è®¾ç½®ä¸ºhuawei)
user-interface con0 
authentication-mode password
set authentication password cipher huawei
&lt;/code&gt;&lt;/pre&gt;
">ã€07ã€‘ä»¥å¤ªIPv4å­ç½‘åˆ’åˆ†è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/06-yi-tai-wang-ipv4-ji-chu-he-fen-lei/"" data-c="
          &lt;ol&gt;
&lt;li&gt;æ©ç çš„ä½œç”¨ï¼šåŒºåˆ†ç½‘ç»œå’Œä¸»æœºã€‚ç½‘ç»œåœ°å€ä¸ºä¸»æœºä½å…¨éƒ¨ä¸º0ï¼Œå¹¿æ’­åœ°å€ä¸ºä¸»æœºä½å…¨éƒ¨ä¸º1ï¼Œè¿™ä¸¤ä¸ªIPä¸ºç½‘ç»œåœ°å€çš„ä¸¤å¤´ï¼Œéƒ½ä¸å¯åˆ†ç»™ä¸»æœºä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; # æŸ¥çœ‹åä¸ºè®¾å¤‡ä¸Šçš„è·¯ç”±è¡¨ï¼Œè·¯ç”±è¡¨ä¸­çš„åœ°å€å…¨ä¸ºç›®çš„IP
display ip routing-table
# æ‰‹åŠ¨æ·»åŠ 127ç½‘æ®µä¹‹å¤–çš„ç¯å›åœ°å€
interface LoopBack 0
ip address 1.1.1.1 32
q
display ip routing-table
ping 1.1.1.1
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;IPv4åˆ†ç±»ï¼š&lt;br&gt;
Aç±»ï¼šç½‘ç»œä½8bï¼Œ0.0.0.0-127.255.255.255&lt;br&gt;
Bç±»ï¼šç½‘ç»œä½16bï¼Œ128.0.0.0-191.255.255.255&lt;br&gt;
Cç±»ï¼šç½‘ç»œä½24bï¼Œ192.0.0.0-223.255.255.255&lt;br&gt;
Dç±»ï¼šç»„æ’­åœ°å€ï¼Œ224.0.0.0-239.255.255.255&lt;br&gt;
Eç±»ï¼šä¿ç•™ï¼Œ240.0.0.0-255.255.255.255&lt;br&gt;
&lt;code&gt;NET ,ABCDEçš„æœ‰ç±»ç½‘ç»œï¼Œå³ä¸Šè¿°åˆ†ç±»ç½‘ç»œï¼›subnetï¼Œå³å­ç½‘ï¼Œä¸€ä¸ªå¤§çš„ç½‘ç»œåˆ’åˆ†æˆå°çš„ç½‘ç»œ&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç‰¹æ®Šåœ°å€ï¼ˆRFC1918ï¼‰&lt;br&gt;
3.1 ç§æœ‰åœ°å€èŒƒå›´ï¼šï¼ˆæ— æ³•åœ¨å…¬ç½‘è·¯ç”±ï¼Œå±€åŸŸç½‘å†…å¯é‡å¤ä½¿ç”¨ï¼‰&lt;br&gt;
10.0.0.0-10.255.255.255ï¼Œ172.16.0.0~172.31.255.255ï¼Œ192.168.0.0-192.168.255.255&lt;br&gt;
3.2 ç‰¹æ®Šåœ°å€ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;127.0.0.0-127.255.255.255&lt;/strong&gt;ï¼šä¸»æœºç¯å›åœ°å€&lt;br&gt;
&lt;strong&gt;0.0.0.0&lt;/strong&gt;ï¼šç½‘ç»œè®¾å¤‡æœªè·å–åœ°å€ä¹‹å‰çš„æºåœ°å€ï¼Œå¦‚æœDHCPæœªè·å¾—åœ°å€ï¼Œä¼šåˆ†é…ä¸º169.254.x.xä¸´æ—¶åœ°å€&lt;br&gt;
&lt;strong&gt;255.255.255.255&lt;/strong&gt;ï¼šæœ¬åœ°å¹¿æ’­åœ°å€ï¼Œæ˜¯0.0.0.0çš„å¹¿æ’­åœ°å€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;åˆ’åˆ†å­ç½‘æ–¹æ³•&lt;br&gt;
4.1 æ ¹æ®éœ€è¦çš„å­ç½‘æ•°ç›®æ¥ç¡®å®šå­ç½‘ä½æ•°ï¼Œä½†æ˜¯è¦ç¡®ä¿æ¯ä¸ªå­ç½‘çš„IPåœ°å€æ•°ç›®å¤§äºç­‰äºä¸»æœºæ•°ã€‚&lt;br&gt;
ä¼˜ç‚¹ï¼šç®€å•ï¼›ç¼ºç‚¹ï¼šæ¯ä¸ªå­ç½‘çš„å®é™…ä¸»æœºæ•°ä¸åŒï¼Œä½†åˆ†é…çš„IPåœ°å€æ•°ç›®ç›¸åŒï¼Œå¯èƒ½æµªè´¹IP&lt;br&gt;
4.2 æ ¹æ®æ¯ä¸ªå­ç½‘çš„ä¸»æœºæ•°ç›®æ¥ç¡®å®šä¸»æœºä½æ•°ï¼Œç„¶åç¡®å®šå­ç½‘ä½æ•°ã€‚&lt;br&gt;
ä¼˜ç‚¹ï¼šæ¯”è¾ƒå……åˆ†çš„åˆ©ç”¨IPï¼›ç¼ºç‚¹ï¼šå¤æ‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;x=å­ç½‘ä½æ•°&lt;br&gt;
y=ä¸»æœºä½æ•°&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å­ç½‘æ•°ç›®=2^x&lt;br&gt;
ä¸»æœºæ•°ç›®=2^y-2&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;CIDRï¼šæ— ç±»åŸŸé—´è·¯ç”±ï¼Œçªç ´ä¼ ç»ŸIPåœ°å€çš„åˆ†ç±»è¾¹ç•Œï¼Œå°†è·¯ç”±è¡¨ä¸­çš„è‹¥å¹²æ¡è·¯ç”±æ±‡èšä¸ºä¸€æ¡è·¯ç”±ã€‚ä¾‹å¦‚å¯ä»¥å°†10.24.0.0/24ã€10.24.1.0/24ã€10.24.2.0/24ã€10.24.3.0/24è¿™4ä¸ªåœ°å€æ±‡èšæˆä¸€ä¸ª10.24.0.0/22&lt;/li&gt;
&lt;/ol&gt;
">ã€06ã€‘ä»¥å¤ªç½‘IPv4åŸºç¡€å’Œåˆ†ç±»</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/05-yi-tai-wang-ip-wang-luo-ji-chu-he-ftp-jiang-jie/"" data-c="
          &lt;ol&gt;
&lt;li&gt;IPå¤´éƒ¨ï¼Œé•¿åº¦20-60Bï¼Œå›ºå®š20B&lt;/li&gt;
&lt;li&gt;IPç¼–å€ï¼Œåˆ†ä¸ºç½‘ç»œéƒ¨åˆ†å’Œä¸»æœºéƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;VRPçš„FTPåº”ç”¨&lt;br&gt;
&lt;code&gt;VRPï¼Œé€šç”¨è·¯ç”±å¹³å°ï¼ŒHuawei Versatile Routing Platform Sofawareï¼Œå¯é€šè¿‡display versionæŸ¥çœ‹ç‰ˆæœ¬&lt;/code&gt;&lt;br&gt;
3.1 FTP&lt;br&gt;
è¿æ¥æ§åˆ¶ç«¯å£21ï¼Œæ•°æ®ä¼ è¾“ç«¯å£20ã€‚ARG3ç³»åˆ—è·¯ç”±å™¨æ—¢å¯ä»¥åšFTPå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥åšFTPæœåŠ¡ç«¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¼€å¯ftpæœåŠ¡
ftp server enable
# å¼€å¯aaaï¼šè®¤è¯ã€æˆæƒã€ç»Ÿè®¡
##    è®¾ç½®ç”¨æˆ·å(Enterï¼Œä¸åŒºåˆ†å¤§å°å†™)å’Œå¯†ç (huawei)
aaa
local-user Enter password simple huawei
##    è®¾ç½®ç”¨æˆ·æƒé™ï¼Œæœ€å¤§çš„æƒé™15çº§
local-user Ender privilege level 15
##    å…±äº«çš„æ–‡ä»¶å¤¹ä¸ºflashï¼Œè·¯ç”±å™¨çš„ç¡¬ç›˜
local-user Enter ftp-directory flash:
##    ç”¨æˆ·æœåŠ¡(åè®®)è®¾ç½®ï¼Œç”¨äºftpæœåŠ¡(åè®®)
local-user Enter service-type ftp
# æŸ¥çœ‹ftpæœåŠ¡å™¨çŠ¶æ€
display ftp-server
# ä¿å­˜å½“å‰äº¤æ¢æœºçš„é…ç½®ä¸ºæ–‡ä»¶
save sw2.zip
# æµ‹è¯•
# sw1é€€å‡ºç³»ç»Ÿè§†å›¾ä¹‹åï¼Œftp10.1.1.2è¿›è¡Œç™»å½•æµ‹è¯•
# get sw2.zipè·å–sw2.zipæ–‡ä»¶
# qé€€å‡ºftpï¼ŒdiræŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹
&lt;/code&gt;&lt;/pre&gt;
">ã€05ã€‘ä»¥å¤ªç½‘IPç½‘ç»œåŸºç¡€å’ŒFTPè®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/04-ehternet-ji-chu-jiang-jie/"" data-c="
          &lt;ol&gt;
&lt;li&gt;ä»¥å¤ªç½‘å¸§æœ€å¸¸ç”¨çš„ä¸¤ç§å°è£…æ ¼å¼ï¼š&lt;br&gt;
&lt;code&gt;å¦‚æœç±»å‹å¤§äº1536æ˜¯Ethernet IIå°è£…ï¼Œå°äº1500åˆ™æ˜¯Ethernet 802.3å°è£…&lt;/code&gt;&lt;br&gt;
1.1 Ethernet IIï¼š&lt;br&gt;
ç›®çš„mac[6]--æºmac[6]--&lt;strong&gt;ç±»å‹[2]&lt;/strong&gt;--æ•°æ®[46-1500]--æ ¡éªŒç [4]&lt;br&gt;
14å­—èŠ‚å¤´éƒ¨&lt;br&gt;
1.2 Ethernet 802.3ï¼š&lt;br&gt;
ç›®çš„mac[6]--æºmac[6]--&lt;strong&gt;é•¿åº¦[2]--LLCé€»è¾‘é“¾è·¯æ§åˆ¶å­å±‚[3]--SNAP(æœºæ„ä»£ç [3]+ç±»å‹[2])&lt;/strong&gt;--æ•°æ®[38-1492]--æ ¡éªŒç [4]&lt;br&gt;
20å­—èŠ‚å¤´éƒ¨&lt;/li&gt;
&lt;li&gt;Macåˆ†ç±»ï¼š&lt;br&gt;
&lt;code&gt;ç¬¬ä¸€å­—èŠ‚çš„ç¬¬8æ¯”ç‰¹è¡¨ç¤ºåœ°å€ç±»å‹&lt;/code&gt;&lt;br&gt;
2.1 å•æ’­macï¼šç±»å‹å­—èŠ‚ä¸º0ã€‚è¡¨ç¤ºç›®çš„macä¸ºæ­¤macåœ°å€çš„å¸§éƒ½æ˜¯å‘é€åˆ°æŸä¸ªå”¯ä¸€çš„ç›®çš„macã€‚&lt;br&gt;
2.2 ç»„æ’­macï¼šç±»å‹å­—èŠ‚ä¸º1ã€‚ç»å…¸ç»„æ’­macï¼š01005Eã€‚&lt;br&gt;
2.3 å¹¿æ’­macï¼šå…¨1ã€‚&lt;/li&gt;
&lt;/ol&gt;
">ã€04ã€‘EhternetåŸºç¡€è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/03-wang-luo-ge-chong-fen-ceng-jie-gou-jiang-jie/"" data-c="
          &lt;p&gt;ç®¡ç†vlanï¼ˆVRPæ“ä½œï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#  åˆ›å»ºvlan1
interface vlanif 1
# è®¾ç½®ç®¡ç†åœ°å€
ip address 10.1.1.1 24
&lt;/code&gt;&lt;/pre&gt;
">ã€03ã€‘ç½‘ç»œå„ç§åˆ†å±‚ç»“æ„è®²è§£</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/02-wang-luo-ji-ben-guan-li-ji-mo-ni-qi-shi-yong/"" data-c="
          &lt;ol&gt;
&lt;li&gt;å…‰çº¤ï¼šå•æ¨¡é€‚åˆè¿œè·ç¦»ä¼ è¾“ï¼Œå¤šæ¨¡é€‚åˆè¿‘è·ç¦»ä¼ è¾“&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨eNSPè½¯ä»¶æ³¨æ„äº‹é¡¹ï¼š&lt;br&gt;
2.1å…³æ‰Windowsçš„é˜²ç«å¢™&lt;br&gt;
2.2 åˆ«å®‰è£…æ²¡æœ‰å¿…è¦çš„è½¯ä»¶ï¼Œä¾‹å¦‚é˜²ç«å¢™æˆ–è€…æ€æ¯’&lt;br&gt;
2.3 å°‘è¿è¡Œä¸å¿…è¦çš„è½¯ä»¶ï¼Œä¾‹å¦‚VPNè½¯ä»¶&lt;br&gt;
2.4 æ³¨å†Œã€‚å¦‚æœæ³¨å†Œå¤±è´¥ï¼Œåˆ™éœ€è¦å…³é—­enspåï¼Œå°†ç”¨æˆ·ä¸ªäººæ–‡ä»¶å¤¹ä¸‹é¢çš„æ–‡ä»¶å¤¹.VirtualBoxå½»åº•åˆ é™¤ï¼Œé‡æ–°æ³¨å†Œï¼Œæ³¨å†ŒæˆåŠŸä¹‹åé‡å¯ensp&lt;/li&gt;
&lt;li&gt;CRTè¿æ¥äº¤æ¢æœºä½¿ç”¨Tabæ— æ³•è¡¥å…¨å‘½ä»¤è§£å†³æ–¹æ³•&lt;br&gt;
æ–­å¼€ä¼šè¯ --&amp;gt; å³é”®é€‰ä¸­è¯¥æ‰“å¼€çš„ä¼šè¯æ ‡ç­¾ --&amp;gt; ä¼šè¯é€‰é¡¹ --&amp;gt; è¿æ¥ --&amp;gt; Telnet --&amp;gt; å‹¾é€‰â€œå¼ºåˆ¶æ¯æ¬¡ä¸€ä¸ªå­—ç¬¦æ¨¡å¼â€&lt;/li&gt;
&lt;li&gt;åä¸ºè®¾å¤‡çš„ç«¯å£é»˜è®¤æ˜¯upçš„ï¼Œä½†æ˜¯åè®®æ˜¯downï¼Œå³ç‰©ç†ä¸Šå·¥ä½œçš„ï¼Œä½†ç½‘ç»œä¸Šä¸å·¥ä½œ&lt;/li&gt;
&lt;li&gt;äº¤æ¢æœºé…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# è¿›å…¥ç³»ç»Ÿé…ç½®è§†å›¾
system-view
# é…ç½®äº¤æ¢æœºåç§°ä¸ºR1
sysname R1
# è¿›å…¥ç«¯å£GigabitEthernet0/0/0çš„é…ç½®ç•Œé¢
interface GigabitEthernet0/0/0
# é…ç½®æœ¬ç«¯å£çš„IPï¼ˆé…ç½®å®ŒIPä¹‹åï¼Œåè®®é»˜è®¤å˜ä¸ºupï¼‰
ip address 10.1.1.1 24
# å¯ç”¨ç«¯å£ï¼Œé»˜è®¤å¼€å¯ï¼Œæ­¤æ­¥å¯ä»¥çœç•¥
undo shutdown
# æ˜¾ç¤ºå½“å‰é…ç½®
dis th
# é€€å‡ºé…ç½®æœ¬ç«¯å£
q
# å¼€å¯è™šæ‹Ÿç»ˆç«¯ç®¡ç†
user-interface vty 0 4
# è®¾ç½®è®¤è¯ï¼Œå¯†ç ä¸ºhuawei
set authentication password cipher huawei
# æ˜¾ç¤ºå½“å‰é…ç½®
dis th
# é€€å›ç³»ç»Ÿé…ç½®è§†å›¾
q
# ä½¿ç”¨R2è®¾å¤‡è¿›è¡Œè¿œç¨‹R1è¿›è¡Œæµ‹è¯•ï¼ˆåªèƒ½è¿æ¥ï¼Œä¸èƒ½é…ç½®ï¼‰
# ä¸èƒ½åœ¨ç³»ç»Ÿé…ç½®è§†å›¾ä¸­ï¼Œå¦åˆ™æ— æ³•è¿æ¥
telnet 10.1.1.1
&lt;/code&gt;&lt;/pre&gt;
">ã€02ã€‘ç½‘ç»œåŸºæœ¬ç®¡ç†åŠæ¨¡æ‹Ÿå™¨ä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/01-wang-luo-zheng-ti-jia-gou-jiang-jie/"" data-c="
          &lt;p&gt;ä¼ä¸šç½‘ç»œæ¶æ„ï¼šç»ˆç«¯ --&amp;gt; æ¥å…¥å±‚ --&amp;gt; æ±‡èšå±‚ --&amp;gt; æ ¸å¿ƒå±‚ --&amp;gt; æœåŠ¡å™¨é›†ç¾¤&lt;/p&gt;
">ã€01ã€‘ç½‘ç»œæ•´ä½“æ¶æ„è®²è§£ï¼ˆ2020.0218ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/zabbix_faq/"" data-c="
          &lt;h1 id=&#34;zabbix-serverç«¯&#34;&gt;zabbix serverç«¯&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;serverç«¯å‡ºç°é”™è¯¯&lt;code&gt;symbol uncompress, version libmysqlclient_18 not defined in file libmysqlclient.so.18 with link time reference&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ï¼š&lt;br&gt;
æŸ¥çœ‹éœ€è¦çš„åŠ¨æ€é“¾æ¥åº“ï¼šldd /usr/local/zabbix/sbin/zabbix_server&lt;br&gt;
æˆ‘çš„ç¯å¢ƒéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼šcp /usr/local/mysql/lib/libmysqlclient.so.18 /lib64/libmysqlclient.so.18&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;zabbix-clientç«¯&#34;&gt;zabbix clientç«¯&lt;/h1&gt;
&lt;h2 id=&#34;windows&#34;&gt;windows&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ—¥å¿—æ–‡ä»¶
LogFile=C:\Program Files\Zabbix Agent\zabbix_agentd.log
# è·å–ç›‘æ§æ•°æ®æœ€é•¿æ—¶é—´
Timeout=30
# serverç«¯åœ°å€ï¼ˆè¢«åŠ¨ï¼‰
Server=11.36.250.253
# serverç«¯åœ°å€ï¼ˆä¸»åŠ¨ï¼‰
ServerActive=11.36.250.253
# ä¸»æœºåç§°
Hostname=T5-xxxxxx
# å­é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•
Include=C:\Program Files\Zabbix Agent\zabbix_agentd.conf.d\*.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å­é…ç½®æ–‡ä»¶å­˜æ”¾ç›®å½•&lt;br&gt;
é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;UserParameter=dir.size[*],python &amp;quot;C:\Program Files\Zabbix Agent\zabbix_agentd.conf.d\dir.size.py&amp;quot; $1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·å–ç›‘æ§æ•°æ®è„šæœ¬&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;import os,sys
dirsize=os.popen(&amp;quot;&amp;quot;&amp;quot;dir /a /s \&amp;quot;{dirabs}\&amp;quot; | findstr \&amp;quot;ä¸ªæ–‡ä»¶\&amp;quot;&amp;quot;&amp;quot;&amp;quot;.format(dirabs=sys.argv[1])).readlines()[-1].split(&amp;quot;ä¸ªæ–‡ä»¶&amp;quot;)[1].split(&amp;quot;å­—èŠ‚&amp;quot;)[0].replace(&amp;quot;,&amp;quot;,&amp;quot;&amp;quot;).strip()
print(dirsize)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å…¶ä»–è·å–ç›‘æ§å‚æ•°çš„è„šæœ¬&#34;&gt;å…¶ä»–è·å–ç›‘æ§å‚æ•°çš„è„šæœ¬&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;è·å–è¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import psutil,sys
def CheckProcess(prodessname):
    pl=psutil.pids()
    for pid in pl:
        if psutil.Process(pid).name()==prodessname:
            return pid

prodessname=sys.argv[1]
if isinstance(CheckProcess(prodessname),int):
    print(&amp;quot;True&amp;quot;)
else:
    print(&amp;quot;False&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
">43_Zabbix_FAQ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/42_zabbix-de-api-chuang-jian-jian-kong-zhu-ji/"" data-c="
          &lt;h3 id=&#34;apiæ·»åŠ ä¸»æœºç»„å’Œä¸»æœºzabbix_addgrouphostpy&#34;&gt;apiæ·»åŠ ä¸»æœºç»„å’Œä¸»æœºzabbix_addgrouphost.py&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import zabbix_base
# è·å–token
token=zabbix_base.get_token()

# æ·»åŠ ä¸»æœºç»„
groupname=&amp;quot;python_add_group&amp;quot;
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;hostgroup.create&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;name&amp;quot;:groupname,
    },
    &amp;quot;auth&amp;quot;:token,
    &amp;quot;id&amp;quot;: 1
}
result=zabbix_base.zabbix_api_common(data)
print(result)

# æ·»åŠ ä¸»æœº
hostname=&amp;quot;python_add_host&amp;quot;
hostip=&amp;quot;192.168.3.222&amp;quot;
groupid=&amp;quot;19&amp;quot; # ä½¿ç”¨zabbix_group.pyè·å–åˆ°ä¸»æœºç»„check_mysqlçš„groupidä¸º20
templateid=&amp;quot;10342&amp;quot; # æ¨¡æ¿check_mysqlçš„id
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;host.create&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;host&amp;quot;: hostname,
        &amp;quot;interfaces&amp;quot;: [
            {
                &amp;quot;type&amp;quot;: 1,
                &amp;quot;main&amp;quot;: 1,
                &amp;quot;useip&amp;quot;: 1,
                &amp;quot;ip&amp;quot;: hostip,
                &amp;quot;dns&amp;quot;: &amp;quot;&amp;quot;,
                &amp;quot;port&amp;quot;: &amp;quot;10050&amp;quot;
            }
        ],
        &amp;quot;groups&amp;quot;: [
            {
                &amp;quot;groupid&amp;quot;: groupid
            }
        ],
        &amp;quot;templates&amp;quot;: [
            {
                &amp;quot;templateid&amp;quot;: templateid
            }
        ]
    },
    &amp;quot;auth&amp;quot;: token,
    &amp;quot;id&amp;quot;: 1
}
result=zabbix_base.zabbix_api_common(data)
print(result)

&lt;/code&gt;&lt;/pre&gt;
">42_zabbixçš„apiåˆ›å»ºç›‘æ§ä¸»æœº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/41_zabbix-de-api-huo-qu-mo-ban-xin-xi/"" data-c="
          &lt;h3 id=&#34;è·å–æ¨¡æ¿ä¿¡æ¯zabbix_templatepy&#34;&gt;è·å–æ¨¡æ¿ä¿¡æ¯zabbix_template.py&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import zabbix_base
# è·å–token
token=zabbix_base.get_token()

# è·å–æ¨¡æ¿
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;template.get&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;output&amp;quot;: [&amp;quot;host&amp;quot;],
    },
    &amp;quot;auth&amp;quot;:token,
    &amp;quot;id&amp;quot;: 1
}
result=zabbix_base.zabbix_api_common(data)
print(&amp;quot;è·å–æ¨¡æ¿::&amp;quot;,result[&#39;result&#39;],&amp;quot;\n\n&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
">41_zabbixçš„apiè·å–æ¨¡æ¿ä¿¡æ¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/40_zabbix-de-api-huo-qu-zhu-ji-xin-xi/"" data-c="
          &lt;h3 id=&#34;zabbix-apiè·å–ä¸»æœºç»„-ä¸»æœºç­‰ä¿¡æ¯zabbix_grouppy&#34;&gt;zabbix apiè·å–ä¸»æœºç»„ã€ä¸»æœºç­‰ä¿¡æ¯zabbix_group.py&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import zabbix_base
# è·å–token
token=zabbix_base.get_token()

# è·å–å…¨éƒ¨ä¸»æœºç»„
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;hostgroup.get&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;output&amp;quot;: &amp;quot;extend&amp;quot;,
    },
    &amp;quot;auth&amp;quot;:token,
    &amp;quot;id&amp;quot;: 0
}
result=zabbix_base.zabbix_api_common(data)
print(&amp;quot;è·å–å…¨éƒ¨ä¸»æœºç»„::&amp;quot;,result[&#39;result&#39;],&amp;quot;\n\n&amp;quot;)

# è·å–æŒ‡å®šä¸»æœºç»„
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;hostgroup.get&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;filter&amp;quot;:{
            &amp;quot;name&amp;quot;:[&amp;quot;www&amp;quot;]
        }
    },
    &amp;quot;auth&amp;quot;:token,
    &amp;quot;id&amp;quot;: 0
}
result=zabbix_base.zabbix_api_common(data)
print(&amp;quot;è·å–æŒ‡å®šä¸»æœºç»„::&amp;quot;,result[&#39;result&#39;],&amp;quot;\n\n&amp;quot;)

# æŸ¥è¯¢ä¸»æœºç»„ä»¥åŠä¸»æœºç»„ä¿¡æ¯
data = {
    &amp;quot;jsonrpc&amp;quot;: &amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;: &amp;quot;hostgroup.get&amp;quot;,
    &amp;quot;params&amp;quot;: {
        &amp;quot;output&amp;quot;: [&amp;quot;groupid&amp;quot;,&amp;quot;name&amp;quot;],
        &amp;quot;selectHost&amp;quot;:[&amp;quot;host&amp;quot;],
    },
    &amp;quot;auth&amp;quot;:token,
    &amp;quot;id&amp;quot;: 0
}
result=zabbix_base.zabbix_api_common(data)
print(&amp;quot;æŸ¥è¯¢ä¸»æœºç»„ä»¥åŠä¸»æœºç»„ä¿¡æ¯::&amp;quot;,result[&#39;result&#39;],&amp;quot;\n\n&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
">40_zabbixçš„apiè·å–ä¸»æœºä¿¡æ¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/39_zabbix-de-api-ren-zheng-shi-zhan/"" data-c="
          &lt;h3 id=&#34;zabbix-api&#34;&gt;zabbix api&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbixå…·æœ‰ä¸°å¯Œçš„apiåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;å¯é€šè¿‡apiæ·»åŠ ä¸»æœºç»„ã€ä¸»æœºã€è·å–ç›‘æ§æ•°æ®&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨pythonæ“ä½œzabbix&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;apiä½¿ç”¨æ•™ç¨‹&#34;&gt;apiä½¿ç”¨æ•™ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.zabbix.com/documentation/4.0/zh/manual/api&#34;&gt;https://www.zabbix.com/documentation/4.0/zh/manual/api&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç™»å½•è®¤è¯è¯´æ˜zabbix_basepy&#34;&gt;ç™»å½•è®¤è¯è¯´æ˜zabbix_base.py&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import json
from urllib import request
def zabbix_api_common(data):
  zabbix_url=&amp;quot;http://192.168.3.111/zabbix/api_jsonrpc.php&amp;quot;
  zabbix_header={&amp;quot;Content-Type&amp;quot;:&amp;quot;application/json&amp;quot;}
  data = json.dumps(data).encode(&amp;quot;utf-8&amp;quot;)
  req = request.Request(zabbix_url, headers=zabbix_header, data=data)
  result = request.urlopen(req).read()
  return json.loads(result)

def get_token():
  zabbix_user=&amp;quot;Admin&amp;quot;
  zabbix_pass=&amp;quot;123456&amp;quot;
  data={
    &amp;quot;jsonrpc&amp;quot;:&amp;quot;2.0&amp;quot;,
    &amp;quot;method&amp;quot;:&amp;quot;user.login&amp;quot;,
    &amp;quot;params&amp;quot;:{
      &amp;quot;user&amp;quot;:zabbix_user,
      &amp;quot;password&amp;quot;:zabbix_pass
    },
  &amp;quot;id&amp;quot;:0
  }
  result=zabbix_api_common(data)
  # ç™»å½•ç»“æœè¯´æ˜ï¼š
  # b&#39;{&amp;quot;jsonrpc&amp;quot;:&amp;quot;2.0&amp;quot;,&amp;quot;result&amp;quot;:&amp;quot;3fa39886a18f81254e1bf4793a8da1b4&amp;quot;,&amp;quot;id&amp;quot;:0}&#39;
  # resultçš„å€¼ä¸ºtokenï¼Œå¯æ®æ­¤åˆ›å»ºä¸»æœºç­‰æ“ä½œ
  return result[&#39;result&#39;]

if __name__==&amp;quot;__main__&amp;quot;:
  token=get_token()
  print(token)
&lt;/code&gt;&lt;/pre&gt;
">39_zabbixçš„apiè®¤è¯å®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/38_zabbix-jian-kong-mysql-zhu-cong-tong-bu/"" data-c="
          &lt;h3 id=&#34;mysqlä¸»ä»ç›‘æ§çš„å¿…è¦æ€§&#34;&gt;mysqlä¸»ä»ç›‘æ§çš„å¿…è¦æ€§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå‘ç”Ÿä¸»ä»åŒæ­¥å¼‚å¸¸ï¼Œä¸šåŠ¡ä¼šå‡ºé—®é¢˜&lt;/li&gt;
&lt;li&gt;å¦‚æœä»åº“æ˜¯ç”¨æ¥å¤‡ä»½çš„ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mysqlä¸»ä»åŒæ­¥ç›‘æ§è¯´æ˜&#34;&gt;mysqlä¸»ä»åŒæ­¥ç›‘æ§è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;mysqlæä¾›show slave status\Gæ¥ç›‘æ§mysqlä¸»ä»åŒæ­¥&lt;/li&gt;
&lt;li&gt;Slave IO Runningå¯ä»¥æŸ¥çœ‹ä»åº“çš„IOè¿›ç¨‹æ˜¯å¦æ­£å¸¸ï¼ŒIOè¿›ç¨‹ç”¨äºåŒæ­¥äºŒè¿›åˆ¶æ—¥å¿—&lt;/li&gt;
&lt;li&gt;Slave SQL Runningå¯ä»¥è§‚å¯Ÿä»åº“çš„SQLè¿›ç¨‹æ˜¯å¦æ­£å¸¸ï¼ŒSQLè¿›ç¨‹ç”¨äºæ‰§è¡ŒäºŒè¿›åˆ¶æ—¥å¿—&lt;/li&gt;
&lt;li&gt;Seconds Behind Masterä»£è¡¨ä¸»ä»åŒæ­¥çš„å»¶æ—¶æ—¶é—´&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸»ä»ç›‘æ§æƒé™ç”¨æˆ·çš„åˆ›å»º&#34;&gt;ä¸»ä»ç›‘æ§æƒé™ç”¨æˆ·çš„åˆ›å»º&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -pzabbixpwd -h 127.0.0.1
grant usage,replication client on *.* to &#39;monitor&#39;@&#39;127.0.0.1&#39; identified by &#39;monitorpwd&#39;;
flush privileges;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç›‘æ§mysqlä¸»ä»çš„shellè„šæœ¬&#34;&gt;ç›‘æ§mysqlä¸»ä»çš„shellè„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/tmp/check_mysql_slave.sh &amp;lt;&amp;lt;EOF
key=\$1
port=\$2
mysql -umonitor -pmonitorpwd -h 127.0.0.1 -P\$port -e &#39;show slave status\G&#39; | grep &amp;quot;\$key\s&amp;quot; | awk &#39;{print \$2}&#39; 2&amp;gt;/dev/null
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è„šæœ¬æµ‹è¯•&#34;&gt;è„šæœ¬æµ‹è¯•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sh /tmp/check_mysql_slave.sh &amp;quot;Slave SQL Running&amp;quot; 3306
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbixè‡ªå®šä¹‰keyç›‘æ§mysqlä¸»ä»&#34;&gt;zabbixè‡ªå®šä¹‰keyç›‘æ§mysqlä¸»ä»&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf.d/check_mysql_slave.conf &amp;lt;&amp;lt;EOF
UserParameter=mysql.slave.status[*],sh /tmp/check_mysql_slave.sh
EOF
pkill zabbix_agentd
zabbix_agentd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ›å»ºç›‘æ§æ¨¡æ¿&#34;&gt;åˆ›å»ºç›‘æ§æ¨¡æ¿&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql.slave.status[Slave_IO_Running,3306]
mysql.slave.status[Slave_SQL_Running,3306]
mysql.slave.status[Seconds_Behind_Master,3306]
# ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªåŠ¨å‘ç°
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®šä¹‰è§£å†³å™¨expressionæ¥åˆ¤æ–­ä¸»ä»åŒæ­¥æ˜¯å¦å¼‚å¸¸&#34;&gt;å®šä¹‰è§£å†³å™¨(Expression)æ¥åˆ¤æ–­ä¸»ä»åŒæ­¥æ˜¯å¦å¼‚å¸¸&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤ä¸ªçŠ¶æ€éƒ½è¦ä¸ºYESï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;{Template Mysql Slave Status:mysql.slave.status[Slave_IO_Running,3306].str(Yes)}=0 or {Template Mysql Slave Status:mysql.slave.status[Slave_SQL_Running,3306].str(Yes)}=0
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å»¶æ—¶ä¸èƒ½è¶…è¿‡100ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;{Template Mysql Slave Status:mysql.slave.status[Seconds_Behind_Master,3306].last()}&amp;lt;100
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è‡ªåŠ¨å‘ç°&#34;&gt;è‡ªåŠ¨å‘ç°&lt;/h3&gt;
&lt;p&gt;å°è¯•ä½¿ç”¨è‡ªåŠ¨å‘ç°ç›‘æ§mysqlä¸»ä»çŠ¶æ€ï¼Œæœ€é‡è¦çš„æ˜¯è‡ªåŠ¨å‘ç°ç«¯å£&lt;/p&gt;
">38_zabbixç›‘æ§mysqlä¸»ä»åŒæ­¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/37_zabbix-zi-dong-fa-xian-jian-kong-mysql/"" data-c="
          &lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¦è‡ªåŠ¨å‘ç°&#34;&gt;ä¸ºä»€ä¹ˆè¦è‡ªåŠ¨å‘ç°?&lt;/h3&gt;
&lt;p&gt;mysqlå¯èƒ½ç›‘å¬ä¸åŒçš„ç«¯å£ï¼Œå¯èƒ½ä¸€å°æœåŠ¡å™¨æœ‰å¤šä¸ªmysqlå®ä¾‹ç›‘å¬å¤šä¸ªç«¯å£&lt;/p&gt;
&lt;h3 id=&#34;mysqlè‡ªåŠ¨å‘ç°è„šæœ¬&#34;&gt;mysqlè‡ªåŠ¨å‘ç°è„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/tmp/discovrey_mysql.py &amp;lt;&amp;lt;EOF
# -*-coding:utf-8 -*-
try:
  import json
except:
  import simplejson as json
import commands
(status,output)=commands.getstatusoutput(&amp;quot;&amp;quot;&amp;quot;sudo netstat -tlnp | grep &#39;mysqld&#39; | awk &#39;{print \$4}&#39; | awk -F&#39;:&#39; &#39;{print \$2}&#39; | sort -u&amp;quot;&amp;quot;&amp;quot;)
outputs=output.split(&#39;\n&#39;)
result=[]
for one in outputs:
  result.append({&amp;quot;{#ONE}&amp;quot;:one})
print(json.dumps({&#39;data&#39;:result},sort_keys=True,indent=4))
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç»™ç”¨æˆ·zabbixæ·»åŠ sudoæƒé™&#34;&gt;ç»™ç”¨æˆ·zabbixæ·»åŠ sudoæƒé™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;&amp;gt;/etc/sudoers &amp;lt;&amp;lt;EOF
zabbix ALL = NOPASSWD:/bin/netstat
Defaults:zabbix !requiretty
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbixè‡ªå®šä¹‰keyé…ç½®&#34;&gt;zabbixè‡ªå®šä¹‰keyé…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf.d/discovery_mysql.conf &amp;lt;&amp;lt;EOF
UserParameter=mysql.discovery,python /tmp/discovrey_mysql.py
EOF
pkill zabbix_agentd
zabbix_agentd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æµ‹è¯•èƒ½å¦è·å–å€¼&#34;&gt;æµ‹è¯•èƒ½å¦è·å–å€¼&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;zabbix_get -s 127.0.0.1 -k mysql.discovery
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨è‡ªåŠ¨å‘ç°ç›‘æ§mysql&#34;&gt;ä½¿ç”¨è‡ªåŠ¨å‘ç°ç›‘æ§mysql&lt;/h3&gt;
">37_zabbixè‡ªåŠ¨å‘ç°ç›‘æ§mysql</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/36_zabbix-zi-ding-yi-key-jian-kong-mysql/"" data-c="
          &lt;h3 id=&#34;mysqlçš„åŸºç¡€ç›‘æ§&#34;&gt;mysqlçš„åŸºç¡€ç›‘æ§&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹å­˜æ´»&lt;/li&gt;
&lt;li&gt;æ£€æµ‹ç«¯å£&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mysqlçš„é«˜çº§ç›‘æ§è¯´æ˜&#34;&gt;mysqlçš„é«˜çº§ç›‘æ§è¯´æ˜&lt;/h3&gt;
&lt;p&gt;mysqlæä¾›&lt;code&gt;show global status&lt;/code&gt;å¯ä»¥å®ç°å¯¹mysqlçš„é«˜çº§ç›‘æ§ã€‚é«˜çº§ç›‘æ§åŒ…å«ç›‘æ§mysqlè¿æ¥æ•°ã€å¢åˆ æ”¹æŸ¥æ•°ã€æµé‡ç­‰&lt;/p&gt;
&lt;h3 id=&#34;å¼€é€šæœ€å°æƒé™ç”¨æˆ·&#34;&gt;å¼€é€šæœ€å°æƒé™ç”¨æˆ·&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;grant usage on *.* to &#39;monitor&#39;@&#39;127.0.0.1&#39; identified by &#39;monitorpwd&#39;;
flush privileges;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç›‘æ§å‘½ä»¤è¯¦è§£&#34;&gt;ç›‘æ§å‘½ä»¤è¯¦è§£&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -umonitor -h 127.0.0.1 -pmonitorpwd -e &#39;show global status&#39;
# Threads_connectedï¼šè¿æ¥æ•°
# Com_selectï¼šæŸ¥è¯¢æ€»é‡
# Com_insertï¼šæ’å…¥æ€»é‡
# Com_updateï¼šæ›´æ–°æ€»é‡
# Com_deleteï¼šåˆ é™¤æ€»é‡
# Bytes_receivedï¼šæµå…¥æ€»æµé‡
# Bytes_sentï¼šæµå‡ºæ€»æµé‡
# Slow_queriesï¼šæ…¢æŸ¥è¯¢æ€»é‡
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç›‘æ§è„šæœ¬&#34;&gt;ç›‘æ§è„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/tmp/check_mysql.sh &amp;lt;&amp;lt;EOF
key=\$1
port=\$2
mysql -umonitor -pmonitorpwd -h 127.0.0.1 -P\$port -e &#39;show global status&#39; 2&amp;gt;/dev/null | grep &amp;quot;\$key\s&amp;quot; | awk &#39;{print \$2}&#39;
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è„šæœ¬æµ‹è¯•&#34;&gt;è„šæœ¬æµ‹è¯•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sh /tmp/check_mysql.sh Threads_connected
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbixè‡ªå®šä¹‰keyé…ç½®&#34;&gt;Zabbixè‡ªå®šä¹‰keyé…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf.d/check_mysql.conf &amp;lt;&amp;lt;EOF
UserParameter=mysql.status[*],sh /tmp/check_mysql.sh \$1 \$2 2&amp;gt;/dev/null
EOF
pkill zabbix_agentd
zabbix_agentd
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿè·å–å€¼&#34;&gt;æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿè·å–å€¼&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;zabbix_get -s 127.0.0.1 -k mysql.status[Threads_connected]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ¨¡æ¿å»ç›‘æ§mysql&#34;&gt;ä½¿ç”¨æ¨¡æ¿å»ç›‘æ§mysql&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql.status[Threads_connected,3306]
mysql.status[Com_select,3306]
mysql.status[Com_insert,3306]
mysql.status[Com_update,3306]
mysql.status[Com_delete,3306]
mysql.status[Bytes_received,3306]
mysql.status[Bytes_sent,3306]
mysql.status[Slow_queries,3306]
&lt;/code&gt;&lt;/pre&gt;
">36_zabbixè‡ªå®šä¹‰keyç›‘æ§mysql</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/35_grafana-bian-liang-gao-ji-gong-neng/"" data-c="
          &lt;h3 id=&#34;grafanaå±•ç°zabbixæ•°æ®&#34;&gt;grafanaå±•ç°zabbixæ•°æ®&lt;/h3&gt;
&lt;p&gt;å•å°æœåŠ¡å™¨çš„æµé‡æ¯”è¾ƒå¥½å±•ç°ï¼Œä½†å¤šå°æœåŠ¡å™¨çš„æµé‡éœ€è¦æ‰‹åŠ¨åˆ›å»ºå›¾å½¢æ¯”è¾ƒéº»çƒ¦ï¼Œgrafanaçš„å˜é‡åŠŸèƒ½è®©æˆ‘ä»¬å¯ä»¥é€‰æ‹©å±•ç°å“ªå°æœåŠ¡å™¨çš„æµé‡&lt;/p&gt;
&lt;h3 id=&#34;zabbixæ·»åŠ ç›‘æ§é¡¹ç›®çš„é¡ºåº&#34;&gt;zabbixæ·»åŠ ç›‘æ§é¡¹ç›®çš„é¡ºåº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;ä¸»æœº&lt;/li&gt;
&lt;li&gt;åº”ç”¨é›†ï¼ˆå¯é€‰ï¼‰&lt;/li&gt;
&lt;li&gt;ç›‘æ§é¡¹ç›®ï¼ˆæŒ‡å®šåº”ç”¨é›†ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaå˜é‡çš„ä½¿ç”¨&#34;&gt;grafanaå˜é‡çš„ä½¿ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»æœºç»„çš„å˜é‡ï¼šgroup:*&lt;/li&gt;
&lt;li&gt;ä¸»æœºå˜é‡ï¼šhost:$group.*&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaå˜é‡çš„ä½¿ç”¨-2&#34;&gt;grafanaå˜é‡çš„ä½¿ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æµé‡å›¾ä¸­ä½¿ç”¨æ¨¡æ¿ï¼Œå¯ä»¥éšæ„è§‚å¯ŸæŸå°ä¸»æœºçš„æµé‡&lt;/li&gt;
&lt;li&gt;CPUåˆ©ç”¨ç‡ä½¿ç”¨æ¨¡æ¿ï¼Œå¯ä»¥éšæ„è§‚å¯ŸæŸå°ä¸»æœºçš„CPUåˆ©ç”¨ç‡&lt;/li&gt;
&lt;/ol&gt;
">35_grafanaå˜é‡é«˜çº§åŠŸèƒ½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/34_grafana-du-qu-zabbix-shu-ju-zhan-xian/"" data-c="
          &lt;h3 id=&#34;grafanaé…ç½®zabbixæ•°æ®æº&#34;&gt;grafanaé…ç½®zabbixæ•°æ®æº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbixæ•°æ®æºåœ°å€ï¼š&lt;a href=&#34;http://192.168.3.111/zabbix/api_jsonrpc.php&#34;&gt;http://192.168.3.111/zabbix/api_jsonrpc.php&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;é€‰æ‹©zabbixç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;é…ç½®zabbixç”¨æˆ·åå’Œå¯†ç &lt;/li&gt;
&lt;li&gt;æ·»åŠ æ•°æ®æºæˆåŠŸä¼šæœ‰æç¤º&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaé¢æ¿ä¸­æ·»åŠ å›¾å½¢&#34;&gt;grafanaé¢æ¿ä¸­æ·»åŠ å›¾å½¢&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CPUè´Ÿè½½å’Œæ—¶é—´&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨æµé‡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaé¢æ¿&#34;&gt;grafanaé¢æ¿&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;grafanaé¢æ¿ä¸­æ·»åŠ å•ä¸€çŠ¶æ€&lt;/li&gt;
&lt;li&gt;grafanaæ·»åŠ zabbixå‘Šè­¦&lt;/li&gt;
&lt;/ol&gt;
">34_grafanaè¯»å–zabbixæ•°æ®å±•ç°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/33_grafana-jian-dan-shi-yong-he-cha-jian-an-zhuang/"" data-c="
          &lt;h3 id=&#34;grafanaçš„ä½¿ç”¨&#34;&gt;grafanaçš„ä½¿ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦å…ˆåˆ›å»ºdashboardï¼Œç„¶åå†æ·»åŠ å›¾å½¢&lt;/li&gt;
&lt;li&gt;æ¯æ¬¡æ“ä½œéƒ½éœ€è¦save&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaæ•°æ®æºä»‹ç»&#34;&gt;grafanaæ•°æ®æºä»‹ç»&lt;/h3&gt;
&lt;p&gt;é»˜è®¤ä¸æ”¯æŒä»zabbixè¯»å–æ•°æ®ï¼Œéœ€è¦å®‰è£…æ’ä»¶&lt;/p&gt;
&lt;h3 id=&#34;grafanaå®‰è£…zabbixæ’ä»¶&#34;&gt;grafanaå®‰è£…zabbixæ’ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;grafana-cli plugins list-remote
grafana-cli plugins list-remote | grep -i zabbix
grafana-cli plugins install alexanderzobnin-zabbix-app
# æ’ä»¶å®‰è£…æœ‰æ—¶å€™æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥ä¸‹è½½ç¦»çº¿çš„zabbixæ’ä»¶ï¼Œè§£å‹æ”¾åˆ°/var/lib/grafana/pluginsä¸­
# https://grafana.com/api/plugins/alexanderzobnin-zabbix-app/versions/3.10.5/download
systemctl restart grafana-server
# å¼€å¯æ’ä»¶
plugins----apps----zabbix----enable
&lt;/code&gt;&lt;/pre&gt;
">33_grafanaç®€å•ä½¿ç”¨å’Œæ’ä»¶å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/32_grafana-jian-jie-yu-an-zhuang/"" data-c="
          &lt;h3 id=&#34;zabbixå›¾å½¢&#34;&gt;zabbixå›¾å½¢&lt;/h3&gt;
&lt;p&gt;éœ€è¦åˆ›å»ºï¼Œç»„åˆæ¯”è¾ƒéº»çƒ¦&lt;/p&gt;
&lt;h3 id=&#34;grafanaç®€ä»‹&#34;&gt;grafanaç®€ä»‹&lt;/h3&gt;
&lt;p&gt;è‡ªèº«å¹¶ä¸å­˜å‚¨æ•°æ®ï¼Œæ•°æ®ä»å…¶ä»–åœ°æ–¹è·å–ï¼Œéœ€è¦é…ç½®æ•°æ®æºï¼›æ”¯æŒä»zabbixä¸­è·å–æ•°æ®ï¼›ä¼˜åŒ–å›¾å½¢å±•ç¤ºï¼Œå¯ä»¥ç”¨æ¥åšç›‘æ§å¤§å±&lt;/p&gt;
&lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serverï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;grafanaï¼š192.168.115&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaå®‰è£…&#34;&gt;grafanaå®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;wgetÂ https://dl.grafana.com/oss/release/grafana-6.6.0-1.x86_64.rpm
yum -y localinstall grafana-6.6.0-1.x86_64.rpm
systemctl enable grafana-server
systemctl start grafana-server
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;éªŒè¯&#34;&gt;éªŒè¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep grafana&lt;/li&gt;
&lt;li&gt;ç«¯å£ netstat -tulnp | grep grafana&lt;/li&gt;
&lt;li&gt;æ—¥å¿— tail -f /var/log/grafana/grafana.log&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;grafanaè®¿é—®&#34;&gt;grafanaè®¿é—®&lt;/h3&gt;
&lt;p&gt;192.168.3.112:3000&lt;br&gt;
é»˜è®¤ç”¨æˆ·åå’Œå¯†ç ï¼šadmin&lt;/p&gt;
">32_grafanaç®€ä»‹ä¸å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/31_zabbix-de-snmp-zi-dong-fa-xian-shi-zhan/"" data-c="
          &lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨å‘ç°&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦è‡ªåŠ¨å‘ç°&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;äº¤æ¢æœºç½‘å£è¿‡å¤šï¼Œé€ä¸ªæ·»åŠ ç½‘å£ç›‘æ§æ¯”è¾ƒéº»çƒ¦&lt;/li&gt;
&lt;li&gt;OIDå€¼æ¯”è¾ƒéš¾è®°&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨snmpçš„è‡ªåŠ¨å‘ç°&#34;&gt;ä½¿ç”¨snmpçš„è‡ªåŠ¨å‘ç°&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;snmpè‡ªåŠ¨å‘ç°è‡ªåŠ¨æ·»åŠ ç´¢å¼•å˜é‡ï¼š{#SNMPINDEX}&lt;/li&gt;
&lt;li&gt;discovery[{#IFDESCR},1.3.6.1.2.1.2.2.1.2]&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixä½¿ç”¨è‡ªåŠ¨å‘ç°ç›‘æ§ç½‘å¡çŠ¶æ€å’Œæµé‡&#34;&gt;zabbixä½¿ç”¨è‡ªåŠ¨å‘ç°ç›‘æ§ç½‘å¡çŠ¶æ€å’Œæµé‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ifDescrï¼šdiscovery[{#IFDESCR},1.3.6.1.2.1.2.2.1.2]
ifOperStatusï¼š1.3.6.1.2.1.2.2.1.8.{#SNMPINDEX}
ifHCInOctetsï¼š1.3.6.1.2.1.31.1.1.1.6.{#SNMPINDEX}
ifHCOutOctetsï¼š1.3.6.1.2.1.31.1.1.1.10.{#SNMPINDEX}
&lt;/code&gt;&lt;/pre&gt;
">31_zabbixçš„snmpè‡ªåŠ¨å‘ç°å®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/30_zabbix-shi-yong-snmp-jian-kong-shi-zhan/"" data-c="
          &lt;p&gt;ä½¿ç”¨snmpæ¥å£ç›‘æ§æœåŠ¡å™¨ä¸ç›‘æ§äº¤æ¢æœºç±»ä¼¼ï¼Œé»˜è®¤ä½¿ç”¨161ç«¯å£&lt;/p&gt;
&lt;h3 id=&#34;snmpå¯†ç ä¿®æ”¹communityä¿®æ”¹&#34;&gt;snmpå¯†ç ä¿®æ”¹ï¼ˆcommunityä¿®æ”¹ï¼‰&lt;/h3&gt;
&lt;p&gt;ç®¡ç†--&amp;gt;ä¸€èˆ¬--&amp;gt;å®å®šä¹‰--&amp;gt;{$SNMP_COMMUNITY}=snmppwd&lt;/p&gt;
&lt;h3 id=&#34;snmpç›‘æ§æ·»åŠ &#34;&gt;snmpç›‘æ§æ·»åŠ &lt;/h3&gt;
&lt;p&gt;&lt;code&gt;æœ€åé¢çš„.2ä»£è¡¨ç›‘æ§ç¬¬2å—ç½‘å¡&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ifDescrï¼š
snmpwalk -v 2c -c snmppwd 192.168.3.179 1.3.6.1.2.1.2.2.1.2.2
# ifOperStatusï¼š
snmpwalk -v 2c -c snmppwd 192.168.3.179 1.3.6.1.2.1.2.2.1.8.2
# ifTypeï¼š
snmpwalk -v 2c -c snmppwd 192.168.3.179 1.3.6.1.2.1.2.2.1.3.2
# ifHCInOctetsï¼š
snmpwalk -v 2c -c snmppwd 192.168.3.179 1.3.6.1.2.1.31.1.1.1.6.2
# ifHCOutOctetsï¼š
snmpwalk -v 2c -c snmppwd 192.168.3.179 1.3.6.1.2.1.31.1.1.1.10.2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;SNMP communityçš„å€¼ä¸º{$SNMP_COMMUNITY}&lt;/code&gt;&lt;/p&gt;
">30_zabbixä½¿ç”¨SNMPç›‘æ§å®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/29_snmp-de-oid-he-mib/"" data-c="
          &lt;h3 id=&#34;snmpçš„ç›‘æ§åŸºäºoid&#34;&gt;snmpçš„ç›‘æ§åŸºäºOID&lt;/h3&gt;
&lt;p&gt;OIDï¼Œå¯¹è±¡æ ‡è¯†ç¬¦ï¼Œç”±æ•°å­—ç»„æˆï¼Œæ¯”è¾ƒéš¾è®°å¿†ï¼Œ&lt;a href=&#34;https://blog.51cto.com/6300167/2379305&#34;&gt;å¸¸ç”¨OIDå’ŒMIBå¯¹åº”å…³ç³»è¡¨&lt;/a&gt;&lt;br&gt;
ä¸‹é¢æ˜¯OIDç®€å•æ ‘å›¾&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585757970571.png&#34; alt=&#34;2020-02-02_060934.png&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨oidè·å–ç›‘æ§ä¿¡æ¯&#34;&gt;ä½¿ç”¨OIDè·å–ç›‘æ§ä¿¡æ¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;snmpwalk -v 2c -c snmppwd 192.168.3.179 .1.3.6.1.4.1.2021.10.1.3  
#ç›‘æ§cpuè´Ÿè½½
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;snmpwalk -v 2c -c snmppwd 192.168.3.179 .1.3.6.1.2.1.2  
#ç›‘æ§ç½‘å¡ä¿¡æ¯
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;snmpåŸºäºOIDï¼ŒOIDæ ‘å›¾çš„ç†è§£æœ‰åŠ©äºæƒé™çš„å¼€é€š&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;oidçš„éš¾ç‚¹&#34;&gt;OIDçš„éš¾ç‚¹&lt;/h3&gt;
&lt;p&gt;æ•°å­—æ¯”è¾ƒéš¾è®°ï¼Œä½†å®é™…è®¿é—®å´æ˜¯åŸºäºIPçš„ï¼Œå®é™…ç›‘æ§æ˜¯åŸºäºOIDçš„&lt;/p&gt;
&lt;h3 id=&#34;mibåº“&#34;&gt;MIBåº“&lt;/h3&gt;
&lt;p&gt;MIBï¼Œç®¡ç†ä¿¡æ¯åº“ã€‚ç”±äºOIDéš¾è®°ï¼Œäº§ç”Ÿäº†MIBï¼Œç±»ä¼¼DNSæœåŠ¡å™¨ï¼Œå°†IPå’ŒåŸŸåå¯¹åº”ä¸Šã€‚MIBåº“æœ‰å¤šä¸ªã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨mibåå­—è·å–ç›‘æ§ä¿¡æ¯&#34;&gt;ä½¿ç”¨MIBåå­—è·å–ç›‘æ§ä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;snmpwalk -v 2c -c snmppwd 192.168.3.179 MIBåç§°&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;laLoad # cpuè´Ÿè½½&lt;/li&gt;
&lt;li&gt;ifDescr # ç½‘å£åå­—&lt;/li&gt;
&lt;li&gt;ifOperStatus # ç½‘å£å¼€å¯çŠ¶æ€&lt;/li&gt;
&lt;li&gt;ifHCOutOctets # ç½‘å£å‡ºçš„æ€»æµé‡ï¼ˆå•ä½ï¼šbpsï¼‰&lt;/li&gt;
&lt;li&gt;ifHCInOctets # ç½‘å£å…¥çš„æ€»æµé‡&lt;br&gt;
&lt;code&gt;!!!ç½‘å¡æµé‡ç›‘æ§æ³¨æ„ï¼Œå»ºè®®ä½¿ç”¨64ä½çš„å»ç›‘æ§ï¼Œ32ä½(å»æ‰ifåé¢çš„HC)çš„æ¯”è¾ƒå®¹æ˜“æº¢å‡º!!!&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
">29_snmpçš„OIDå’ŒMIB</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/28_snmp-fu-wu-qi-de-an-zhuang/"" data-c="
          &lt;h3 id=&#34;snmpç®€ä»‹&#34;&gt;snmpç®€ä»‹&lt;/h3&gt;
&lt;p&gt;ç®€å•ç½‘ç»œç®¡ç†åè®®ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›‘æ§æœåŠ¡å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨ç­‰&lt;/p&gt;
&lt;h3 id=&#34;snmpç›‘æ§å®æˆ˜è¯´æ˜&#34;&gt;snmpç›‘æ§å®æˆ˜è¯´æ˜&lt;/h3&gt;
&lt;p&gt;ç›‘æ§Linuxã€WindowsæœåŠ¡å™¨å»ºè®®ä½¿ç”¨agentï¼Œç½‘ç»œè®¾å¤‡ä¸€èˆ¬ä½¿ç”¨snmpï¼Œç›‘æ§ç½‘ç»œæ¥å£å­˜æ´»ä»¥åŠç½‘ç»œæ¥å£æµé‡&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨snmpç›‘æ§è¯´æ˜&#34;&gt;ä½¿ç”¨snmpç›‘æ§è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¢«ç›‘æ§æœåŠ¡å™¨éœ€è¦å®‰è£…snmpæœåŠ¡ã€‚ è·¯ç”±å™¨ã€äº¤æ¢æœºå¯ä»¥å¼€å¯snmpæœåŠ¡ï¼Œéœ€è¦è‡ªå·±è®¾ç½®snmpçš„å¯†ç &lt;/li&gt;
&lt;li&gt;zabbix serveréœ€è¦é€šè¿‡snmpå®¢æˆ·ç«¯åè®®å»ç›‘æ§&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;snmpçš„ç‰ˆæœ¬&#34;&gt;snmpçš„ç‰ˆæœ¬&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;v1åŸºäºcommunityè¿›è¡Œæ§åˆ¶è®¿é—®&lt;/li&gt;
&lt;li&gt;v2cä¹Ÿæ˜¯åŸºäºcommunityè¿›è¡Œæ§åˆ¶è®¿é—®ï¼Œä½†æ¯”v1å¢å¼ºäº†éƒ¨åˆ†åŠŸèƒ½ï¼ˆå®éªŒä¸­ä½¿ç”¨ï¼‰&lt;/li&gt;
&lt;li&gt;v3åŠ å¼ºäº†è®¤è¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serveræœåŠ¡å™¨ï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;è¢«ç›‘æ§æœåŠ¡å™¨ï¼š192.168.3.179ï¼ˆregisterï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;centos7-snmpå®‰è£…&#34;&gt;centos7 snmpå®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#server å’Œ è¢«ç›‘æ§ç«¯éƒ½éœ€è¦å®‰è£…
yum install -y net-snmp net-snmp-utils
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;snmpçš„é…ç½®åŠè¯¦è§£&#34;&gt;snmpçš„é…ç½®åŠè¯¦è§£&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/etc/snmp/snmpd.conf &amp;lt;&amp;lt;EOF
com2sec notConfigUser default snmppwd
group notConfigGroup v1 notConfigUser
group notConfigGroup v2c notConfigUser
view systemview included .1.3.6.1
access notConfigGroup &amp;quot;&amp;quot; any noauth exact systemview none none
syslocation hangzhou
syscontact module@hangzhou.com
dontLogTCPWrappersConnects yes
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è¯¦è§£&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç”¨æˆ·åï¼ˆnotConfigUserï¼‰ã€è®¿é—®ç”¨æˆ·ç™½åå•ï¼ˆdefaultä»£è¡¨æ‰€æœ‰ipè®¿é—®ï¼‰ã€communityå¯†ç ï¼ˆsnmppwdï¼‰
com2sec notConfigUser default snmppwd
# ç»„åï¼ˆnotConfigGroupï¼‰ã€snmpç‰ˆæœ¬ã€ç”¨æˆ·å
group notConfigGroup v1 notConfigUser
group notConfigGroup v2c notConfigUser
# è§†å›¾åç§°ï¼ˆsystemviewï¼‰ã€åŒ…å«ï¼ˆincl/exclï¼‰ã€subtreeï¼ˆOIDæ•°å­—è¡¨ç¤ºï¼‰
view systemview included .1.3.6.1
# ç»„åã€å†…å®¹ã€snmpç‰ˆæœ¬ï¼ˆanyæ‰€æœ‰ï¼‰ã€è®¤è¯ç­‰çº§ã€systemviewè¯»æƒé™ã€æ— å†™æƒé™ã€æ— trapperæƒé™
access notConfigGroup &amp;quot;&amp;quot; any noauth exact systemview none none
syslocation hangzhou
syscontact module@hangzhou.com
dontLogTCPWrappersConnects yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;snmpå¼€å¯ä¸éªŒè¯&#34;&gt;snmpå¼€å¯ä¸éªŒè¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl enable snmpd
systemctl start snmpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;éªŒè¯&lt;br&gt;
2.1 è¿›ç¨‹ ps auxf | grep snmp&lt;br&gt;
2.2 ç«¯å£ netstat -tulnp | grep snmp&lt;/li&gt;
&lt;/ol&gt;
">28_snmpæœåŠ¡å™¨çš„å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/27_zabbix-zhu-ji-zi-dong-zhu-ce/"" data-c="
          &lt;h3 id=&#34;ä¸»æœºè‡ªåŠ¨å‘ç°å’Œè‡ªå®šæ³¨å†ŒåŒºåˆ«&#34;&gt;ä¸»æœºè‡ªåŠ¨å‘ç°å’Œè‡ªå®šæ³¨å†ŒåŒºåˆ«&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªåŠ¨å‘ç°ä¸»æœºåè®¾ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œé…ç½®ä¹Ÿç›¸å¯¹éº»çƒ¦&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨æ³¨å†Œç›¸å¯¹æ¥è¯´æ¯”è‡ªåŠ¨å‘ç°å¥½ç”¨ï¼Œä½¿ç”¨è‡ªåŠ¨æ³¨å†Œï¼Œæ·»åŠ ä¸»æœºçš„æ—¶å€™ä¸»æœºåä½¿ç”¨agenté…ç½®çš„Hostname&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸»æœºè‡ªåŠ¨æ³¨å†Œçš„æµç¨‹&#34;&gt;ä¸»æœºè‡ªåŠ¨æ³¨å†Œçš„æµç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix agentéœ€è¦é…ç½®ServerActive&lt;/li&gt;
&lt;li&gt;zabbixå®¢æˆ·ç«¯æŠŠè‡ªå·±çš„å…ƒæ•°æ®æä¾›ç»™zabbixæœåŠ¡å™¨æˆ–è€…proxyæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;zabbixæœåŠ¡å™¨æ·»åŠ åŠ¨ä½œï¼Œå½“æ”¶åˆ°å…ƒæ•°æ®æ—¶å€™è‡ªåŠ¨æ·»åŠ ä¸»æœºã€é“¾æ¥æ¨¡æ¿ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixå®¢æˆ·ç«¯é…ç½®&#34;&gt;zabbixå®¢æˆ·ç«¯é…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;HostMetadataItemæ˜¯è‡ªåŠ¨æ³¨å†Œæ¯”è‡ªåŠ¨å‘ç°å¤šå‡ºçš„é…ç½®ï¼Œä½œä¸ºè¯¥ä¸»æœºçš„æ ‡è¯†ä¸ŠæŠ¥serveræˆ–è€…proxy&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf &amp;lt;&amp;lt;EOF
PidFile=/usr/local/zabbix/zabbix_agentd.pid
LogFile=/usr/local/zabbix/zabbix_agentd.log
Hostname=auto_register
Server=192.168.3.111
ServerActive=192.168.3.111
UnsafeUserParameters=1 
Include=/usr/local/zabbix/etc/zabbix_agentd.conf.d/*.conf
HostMetadataItem=system.hostname
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbix-webä¸Šæ·»åŠ åŠ¨ä½œ&#34;&gt;zabbix webä¸Šæ·»åŠ åŠ¨ä½œ&lt;/h3&gt;
&lt;p&gt;äº‹ä»¶æºé€‰æ‹©è‡ªåŠ¨æ³¨å†Œ--åˆ›å»ºåŠ¨ä½œ--å…ƒæ•°æ®æ¡ä»¶ç¼–å†™ï¼Œæ“ä½œæ·»åŠ ä¸»æœºã€æŒ‡å®šä¸»æœºåã€é“¾æ¥æ¨¡æ¿&lt;/p&gt;
">27_zabbixä¸»æœºè‡ªåŠ¨æ³¨å†Œ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/26_zabbix-zhu-ji-zi-dong-fa-xian/"" data-c="
          &lt;h3 id=&#34;ä¸ºä»€ä¹ˆè¦ä¸»æœºè‡ªåŠ¨å‘ç°å’Œè‡ªåŠ¨æ³¨å†Œ&#34;&gt;ä¸ºä»€ä¹ˆè¦ä¸»æœºè‡ªåŠ¨å‘ç°å’Œè‡ªåŠ¨æ³¨å†Œ&lt;/h3&gt;
&lt;p&gt;æ‰‹åŠ¨æ·»åŠ ä¸»æœºæ¯”è¾ƒéº»çƒ¦ï¼Œä¸”éœ€è¦å¡«å†™ä¸»æœºIPï¼Œåº”ç”¨æ¨¡æ¿ç­‰ï¼Œä¸»æœºè‡ªåŠ¨å‘ç°å’Œè‡ªåŠ¨æ³¨å†Œèƒ½å¤Ÿå¸®æˆ‘ä»¬è‡ªåŠ¨ç›‘æ§æœåŠ¡å™¨&lt;/p&gt;
&lt;h3 id=&#34;zabbixè‡ªåŠ¨å‘ç°å®æˆ˜&#34;&gt;zabbixè‡ªåŠ¨å‘ç°å®æˆ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbixæ·»åŠ è‡ªåŠ¨å‘ç°&lt;/li&gt;
&lt;li&gt;åˆ›å»ºåŠ¨ä½œï¼Œåœ¨åŠ¨ä½œä¸ŠæŒ‡å®šè‡ªåŠ¨å‘ç°çš„è§„åˆ™&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è‡ªåŠ¨å‘ç°çš„å»ºè®®&#34;&gt;è‡ªåŠ¨å‘ç°çš„å»ºè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨zabbix agentå»è‡ªåŠ¨å‘ç°ï¼Œä¹Ÿå°±æ˜¯åªæœ‰éƒ¨ç½²äº†zabbixå®¢æˆ·ç«¯çš„æ‰èƒ½è¢«å‘ç°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨çš„è‡ªåŠ¨å‘ç°keyå»ºè®®ä¸ºsystem.uname&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç¼–è¾‘è‡ªåŠ¨å‘ç°åŠ¨ä½œ&#34;&gt;ç¼–è¾‘è‡ªåŠ¨å‘ç°åŠ¨ä½œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å‘ç°åè‡ªåŠ¨æ·»åŠ åˆ°ä¸»æœºç¾¤ç»„&lt;/li&gt;
&lt;li&gt;å‘ç°Downåè‡ªåŠ¨ç§»é™¤ä¸»æœºï¼ˆä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ï¼Œä¸»æœºDownä¹‹åéœ€è¦äººå·¥å¤„ç†ï¼‰&lt;/li&gt;
&lt;/ol&gt;
">26_zabbixä¸»æœºè‡ªåŠ¨å‘ç°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/25_zabbix-fen-bu-shi-jian-kong-linux/"" data-c="
          &lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serveræœåŠ¡å™¨ï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;zabbix proxyæœåŠ¡å™¨ï¼ˆåˆ†å¸ƒå¼æœåŠ¡å™¨ï¼‰ï¼š192.168.3.150&lt;/li&gt;
&lt;li&gt;proxyç›‘æ§çš„agentï¼š192.168.3.151&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯agentçš„é…ç½®&#34;&gt;å®¢æˆ·ç«¯agentçš„é…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf &amp;lt;&amp;lt;EOF
PidFile=/usr/local/zabbix/zabbix_agentd.pid
LogFile=/usr/local/zabbix/zabbix_agentd.log
Hostname=www_003
Server=192.168.3.150
ServerActive=192.168.3.150
UnsafeUserParameters=1 
Include=/usr/local/zabbix/etc/zabbix_agentd.conf.d/*.conf
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ·»åŠ å¤šå°agentä¸»æœº&#34;&gt;æ·»åŠ å¤šå°agentä¸»æœº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨åˆ†å¸ƒå¼ç›‘æ§&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨linuxæ¨¡æ¿&lt;/li&gt;
&lt;/ol&gt;
">25_zabbixåˆ†å¸ƒå¼ç›‘æ§Linux</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/24_zabbix-fen-bu-shi-proxy-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serveræœåŠ¡å™¨ï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;zabbix agentæœåŠ¡å™¨ï¼ˆæœ¬å®éªŒä¸æ¶‰åŠï¼‰ï¼š192168.3.199ã€192.168.3.198&lt;/li&gt;
&lt;li&gt;zabbix proxyæœåŠ¡å™¨ï¼ˆåˆ†å¸ƒå¼æœåŠ¡å™¨ï¼‰ï¼š192.168.3.150&lt;/li&gt;
&lt;li&gt;proxyç›‘æ§çš„agentï¼š192.168.3.151&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ†å¸ƒå¼æ¶æ„&#34;&gt;åˆ†å¸ƒå¼æ¶æ„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix server --&amp;gt; zabbix proxy --&amp;gt; zabbix agent&lt;/li&gt;
&lt;li&gt;zabbix agentçš„ç™½åå•è¦é…ç½®proxyçš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ†å¸ƒå¼æœåŠ¡å™¨å®‰è£…zabbix-proxy&#34;&gt;åˆ†å¸ƒå¼æœåŠ¡å™¨å®‰è£…zabbix proxy&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å®‰è£…mysqlï¼Œç¼“å­˜ç›‘æ§æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y mariadb-server mariadb mariadb-devel
systemctl restart mariadb
systemctl enable mariadb
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…zabbix proxy&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y tar gcc make gcc-c++ net-snmp-devel libxml2-devel libcurl-devel pcre-devel libevent libevent-devel
useradd -s /sbin/nologin zabbix
cd /usr/local/src
wget &amp;quot;https://nchc.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/4.4.4/zabbix-4.4.4.tar.gz&amp;quot;
tar -zxvf zabbix-4.4.4.tar.gz
cd zabbix-4.4.4
./configure --prefix=/usr/local/zabbix --enable-proxy --enable-agent --with-mysql --with-net-snmp --with-libcurl --with-libxml2
make &amp;amp;&amp;amp; make install
chown zabbix:zabbix -R /usr/local/zabbix
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆå§‹åŒ–æ•°æ®åº“&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -uroot -h 127.0.0.1
  create database zabbix character set utf8 collate utf8_bin;
  grant all privileges on zabbix.* to &#39;zabbix&#39;@&#39;127.0.0.1&#39; identified by &#39;zabbixpwd&#39;;
  set names utf8;
  use zabbix;
  source /usr/local/src/zabbix-4.4.4/database/mysql/schema.sql;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¯å¢ƒå˜é‡&#34;&gt;ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=$PATH:/usr/local/zabbix/sbin:/usr/local/zabbix/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;proxyé…ç½®&#34;&gt;proxyé…ç½®&lt;/h3&gt;
&lt;p&gt;Hostnameä¸ºzabbix proxyæœåŠ¡å™¨çš„åç§°ï¼ŒServerä¸ºzabbix serverçš„IPåœ°å€&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_proxy.conf &amp;lt;&amp;lt;EOF
Hostname=proxy_3
Server=192.168.3.111
LogFile=/usr/local/zabbix/zabbix_proxy.log
DBHost=127.0.0.1
DBName=zabbix
DBUser=zabbix
DBPassword=zabbixpwd
DBPort=3306
ConfigFrequency=60
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;éªŒè¯&#34;&gt;éªŒè¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¯åŠ¨ zabbix_proxy&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep zabbix&lt;/li&gt;
&lt;li&gt;ç«¯å£ netstat -tulnp | grep zabbix&lt;/li&gt;
&lt;li&gt;æ—¥å¿— tail -f /usr/local/zabbix/zabbix_proxy.log&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbix-serverçš„webç«¯é…ç½®&#34;&gt;zabbix serverçš„webç«¯é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç®¡ç†--agentç¨‹åºä»£ç†(ä¸€èˆ¬é‡‡ç”¨ä¸»åŠ¨å¼)&lt;/li&gt;
&lt;li&gt;è§‚å¯Ÿæœ€è¿‘å‡ºç°çš„æ—¶é—´ï¼Œæ²¡æœ‰è¶…è¿‡60sï¼ˆé…ç½®æ–‡ä»¶ä¸­ConfigFrequency=60è§„å®šçš„æ—¶é—´ï¼Œå³é…ç½®åˆ·æ–°æ—¶é—´ï¼‰å°±è¯æ˜proxyæ·»åŠ æ­£å¸¸&lt;/li&gt;
&lt;/ol&gt;
">24_zabbixåˆ†å¸ƒå¼proxyç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/23_zabbix-jian-kong-windows-shi-zhan/"" data-c="
          &lt;h3 id=&#34;zabbix_getè·å–windowsä¿¡æ¯&#34;&gt;zabbix_getè·å–windowsä¿¡æ¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;zabbix_get -s 192.168.3.108 -k system.uname
zabbix_get -s 192.168.3.108 -k vm.memory.size[free]
zabbix_get -s 192.168.3.108 -k vfs.fs.size[c:,pfree]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;windowsé˜²ç«å¢™å¼€æ”¾10050ç«¯å£&#34;&gt;windowsé˜²ç«å¢™å¼€æ”¾10050ç«¯å£&lt;/h3&gt;
&lt;p&gt;win+r--firewall.cpl--é«˜çº§è®¾ç½®--å…¥ç«™è§„åˆ™--æ–°å»ºè§„åˆ™--ç«¯å£--10050--å…è®¸è¿æ¥--æ‰€æœ‰&lt;/p&gt;
">23_zabbixç›‘æ§windowså®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/22_windows7-an-zhuang-zabbix-ke-hu-duan/"" data-c="
          &lt;h3 id=&#34;zabbixç›‘æ§windowsç¯å¢ƒè¯´æ˜&#34;&gt;zabbixç›‘æ§windowsç¯å¢ƒè¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serverIPï¼Œè¢«ç›‘æ§windowsçš„ip&lt;/li&gt;
&lt;li&gt;å®˜ç½‘ä¸‹è½½zabbix agentçš„windowsç‰ˆæœ¬ï¼Œåˆ†ä¸ºç»¿è‰²ç‰ˆå’Œå®‰è£…æ¿ï¼Œå®‰è£…&lt;/li&gt;
&lt;li&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;br&gt;
&lt;code&gt;é»˜è®¤å®‰è£…è·¯å¾„ä¸ºC:\Program Files\Zabbix Agent&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶C:\Program Files\Zabbix Agent\zabbix_agentd.conf&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LogFile=C:\Program Files\Zabbix Agent\zabbix_agentd.log&lt;br&gt;
Timeout=30&lt;br&gt;
Server=192.168.3.111&lt;br&gt;
ServerActive=192.168.3.111(å¦‚æœä¸ç”¨ä¸»åŠ¨å¼ï¼Œæ­¤è¡Œå¯ä»¥ä¸å†™æˆ–è€…å†™æˆ127.0.0.1)&lt;br&gt;
Hostname=WIN10_1903&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;cmdä¸­æ‰§è¡Œå‘½ä»¤æ³¨å†Œä¸ºæœåŠ¡&lt;br&gt;
åœ¨å®‰è£…ç›®å½•ä¸­æ‰“å¼€cmdï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;.\zabbix_agentd.exe --config zabbix_agentd.conf --install
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;cmdè¿è¡Œ&lt;br&gt;
5.1 æ‰“å¼€æœåŠ¡ç®¡ç†å™¨ï¼šwin+rï¼Œè¾“å…¥services.mscï¼Œæ‰¾åˆ°åˆšæ³¨å†Œçš„æœåŠ¡zabbix_agentdï¼Œæ˜¯å¦å¼€å¯ï¼Œå¯åŠ¨ç±»å‹æ˜¯å¦ä¸ºè‡ªåŠ¨&lt;br&gt;
5.2 æŸ¥çœ‹ç›‘æ§ç«¯å£ï¼ˆpowershellï¼‰ netstat -an | grep 10050&lt;br&gt;
5.3 æŸ¥çœ‹æ—¥å¿—&lt;/li&gt;
&lt;/ol&gt;
">22_windows7å®‰è£…zabbixå®¢æˆ·ç«¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/21_zabbix-zi-ding-yi-key-jian-kong-linux/"" data-c="
          &lt;h3 id=&#34;zabbixè‡ªå®šä¹‰keyç›‘æ§&#34;&gt;zabbixè‡ªå®šä¹‰keyç›‘æ§&lt;/h3&gt;
&lt;p&gt;zabbix agentæä¾›å¾ˆå¤šç›‘æ§ä¿¡æ¯ï¼Œä½†æ˜¯å¦‚æœæœ‰éœ€æ±‚ï¼Œè‡ªå¸¦çš„ç›‘æ§é¡¹æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚&lt;/p&gt;
&lt;h3 id=&#34;è‡ªå®šä¹‰keyè¯´æ˜&#34;&gt;è‡ªå®šä¹‰keyè¯´æ˜&lt;/h3&gt;
&lt;p&gt;æ‰€æœ‰è¯­è¨€ï¼Œåªè¦èƒ½è¿è¡Œç„¶åè¿”å›ç»“æœå³å¯ã€‚è¿ç»´å¸¸ç”¨è¯­è¨€ï¼šshellã€pythonã€‚&lt;/p&gt;
&lt;h3 id=&#34;è‡ªå®šä¹‰key&#34;&gt;è‡ªå®šä¹‰key&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨è‡ªå®šä¹‰shellè„šæœ¬ç›‘æ§å†…å­˜ï¼Œä¸€èˆ¬è„šæœ¬åªéœ€è¦è¾“å‡ºæ•°å­—å³å¯&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ— å‚æ•°å®šä¹‰key&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/tmp/memavailable.sh &amp;lt;&amp;lt;EOF
free -m | grep &#39;Mem:&#39; | awk &#39;{print \$NF}&#39;
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æœ‰å‚æ•°å®šä¹‰key&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/tmp/mem.sh &amp;lt;&amp;lt;EOF
case &amp;quot;\$1&amp;quot; in
&amp;quot;available&amp;quot;) free -m | grep &amp;quot;Mem:&amp;quot; | awk &#39;{print \$NF}&#39;;;
&amp;quot;total&amp;quot;) free -m | grep &amp;quot;Mem:&amp;quot; | awk &#39;{print \$2}&#39;;;
&amp;quot;used&amp;quot;) free -m | grep &amp;quot;Mem:&amp;quot; | awk &#39;{print \$3}&#39;;;
*) echo &amp;quot;not supported!!&amp;quot;;;
esac
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbixè‡ªå®šä¹‰keyçš„é…ç½®&#34;&gt;zabbixè‡ªå®šä¹‰keyçš„é…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;é…ç½®æ–‡ä»¶å’Œè„šæœ¬å‡åœ¨agentä¸Šï¼Œé…ç½®å®Œæˆåé‡å¯agent&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ–‡ä»¶è·¯å¾„åœ¨é…ç½®æ–‡ä»¶/usr/local/zabbix/etc/zabbix_agentd.conf(zabbix agent)ä¸­æŸ¥æ‰¾Includeçš„å€¼
# åœ¨è‡ªå®šä¹‰keyçš„è„šæœ¬å­˜å‚¨åœ¨zabbix agentä¸Š
cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf.d/mem.conf &amp;lt;&amp;lt;EOF
UserParameter=mem.available,sh /tmp/memavailable.sh
UserParameter=mem.check[*],sh /tmp/mem.sh \$1
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç½‘é¡µä¸Šæ·»åŠ ç›‘æ§&#34;&gt;ç½‘é¡µä¸Šæ·»åŠ ç›‘æ§&lt;/h3&gt;
&lt;p&gt;é”®å€¼ç›´æ¥ä½¿ç”¨/usr/local/zabbix/etc/zabbix_agentd.conf.d/mem.confé…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ï¼Œå‚æ•°ä½¿ç”¨è„šæœ¬ä¸­çš„ï¼Œå…¶ä»–çš„å’Œä½¿ç”¨ç³»ç»Ÿæä¾›çš„keyæ ¼å¼ç›¸åŒ&lt;/p&gt;
">21_zabbixè‡ªå®šä¹‰keyç›‘æ§Linux</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/20_zabbix-shi-yong-mo-ban-jian-kong-linux/"" data-c="
          &lt;h3 id=&#34;ä¸¤ç§æ¨¡æ¿&#34;&gt;ä¸¤ç§æ¨¡æ¿&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿè‡ªå¸¦æ¨¡æ¿ï¼Œä¾‹å¦‚Template OS Linuxç­‰ç­‰ï¼Œå¯æ ¹æ®éœ€æ±‚è‡ªè¡Œè°ƒæ•´ï¼Œæ¨¡æ¿ä¸­è¿˜å¸¦æœ‰è‡ªåŠ¨å‘ç°åŠŸèƒ½&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰æ¨¡æ¿&lt;/li&gt;
&lt;/ol&gt;
">20_zabbixä½¿ç”¨æ¨¡æ¿ç›‘æ§Linux</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/19_zabbix-ke-hu-duan-de-zhu-dong-shi-yu-bei-dong-shi/"" data-c="
          &lt;h3 id=&#34;zabbixå®¢æˆ·ç«¯çš„ä¸¤ç§æ–¹å¼&#34;&gt;zabbixå®¢æˆ·ç«¯çš„ä¸¤ç§æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¢«åŠ¨å¼ï¼ˆé»˜è®¤æ–¹å¼ï¼‰&lt;br&gt;
zabbixæœåŠ¡å™¨ä¸»åŠ¨å»è¢«ç›‘æ§çš„æœåŠ¡å™¨æ”¶é›†ä¿¡æ¯ï¼Œç±»ä¼¼zabbix_get&lt;/li&gt;
&lt;li&gt;ä¸»åŠ¨å¼ï¼ˆå»ºè®®ä½¿ç”¨æ–¹å¼ agent activeï¼‰&lt;br&gt;
zabbix agent-&amp;gt;zabbix serverï¼Œagentè·å–ä¸»åŠ¨å¼éœ€è¦æ±‡æŠ¥çš„keyå’Œæ—¶é—´é—´éš”ï¼Œé‡‡é›†æ•°æ®ä¸Šä¼ ç»™zabbix serverã€‚&lt;code&gt;æ­¤æ¨¡å¼èŠ‚çœzabbix serverèµ„æº&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸»åŠ¨å¼ç›‘æ§æ·»åŠ ä½¿ç”¨æ¡ä»¶æ¯”è¾ƒå¤š&#34;&gt;ä¸»åŠ¨å¼ç›‘æ§æ·»åŠ &lt;code&gt;ä½¿ç”¨æ¡ä»¶æ¯”è¾ƒå¤š&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦ä¸»æœºåä¸€è‡´&lt;/li&gt;
&lt;li&gt;éœ€è¦zabbix serverçš„10051ç«¯å£å¼€æ”¾&lt;/li&gt;
&lt;li&gt;æ·»åŠ è¢«åŠ¨å¼ç›‘æ§&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŸ¥çœ‹ä¸»åŠ¨å¼ç›‘æ§&#34;&gt;æŸ¥çœ‹ä¸»åŠ¨å¼ç›‘æ§&lt;/h3&gt;
&lt;p&gt;é‡å¯agentåè¿›è¡ŒæŠ“åŒ…&lt;/p&gt;
">19_zabbixå®¢æˆ·ç«¯çš„ä¸»åŠ¨å¼ä¸è¢«åŠ¨å¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/18_zabbix-jian-kong-cpunei-cun-ci-pan-liu-liang/"" data-c="
          &lt;h3 id=&#34;zabbix_getæœåŠ¡ç«¯&#34;&gt;zabbix_get&lt;code&gt;æœåŠ¡ç«¯&lt;/code&gt;&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbixæä¾›ä¸€ä¸ªzabbix_getå·¥å…·ï¼Œå¯ä»¥è·Ÿzabbix agenté€šè®¯è·å–ç›‘æ§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ–¹å¼ï¼šzabbix_get -s &amp;quot;IP&amp;quot; -k &amp;quot;key&amp;quot;&lt;br&gt;
&lt;code&gt;ä¾‹å¦‚ï¼šzabbix_get -s 192.168.3.199 -k system.uname&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;zabbix agent æŸ¥çœ‹æ‰€æœ‰ç›‘æ§é¡¹ç›®(&lt;strong&gt;key&lt;/strong&gt;)ï¼šzabbix_agentd -p&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç›‘æ§cpukeyå€¼&#34;&gt;ç›‘æ§cpuï¼ˆkeyå€¼ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;è´Ÿè½½&#34;&gt;è´Ÿè½½&lt;/h4&gt;
&lt;p&gt;system.cpu.load[all,avg1]  #Floatå‹&lt;br&gt;
system.cpu.load[all,avg5]  #Floatå‹&lt;br&gt;
system.cpu.load[all,avg15]  #Floatå‹&lt;/p&gt;
&lt;h4 id=&#34;ä½¿ç”¨å’Œç©ºé—²&#34;&gt;ä½¿ç”¨å’Œç©ºé—²&lt;/h4&gt;
&lt;p&gt;system.cpu.util[,iowait,]  #Floatå‹&lt;br&gt;
system.cpu.util[,system,]  #Floatå‹&lt;br&gt;
system.cpu.util[,user,]  #Floatå‹&lt;br&gt;
system.cpu.util[,idle,]  #Floatå‹&lt;/p&gt;
&lt;h3 id=&#34;ç›‘æ§å†…å­˜keyå€¼&#34;&gt;ç›‘æ§å†…å­˜ï¼ˆkeyå€¼ï¼‰&lt;/h3&gt;
&lt;h4 id=&#34;å‰©ä½™bufferscachedå®é™…ä¸Šä¹Ÿæ˜¯å‰©ä½™çš„&#34;&gt;å‰©ä½™(buffers\cachedå®é™…ä¸Šä¹Ÿæ˜¯å‰©ä½™çš„)&lt;/h4&gt;
&lt;p&gt;vm.memory.size[available]&lt;/p&gt;
&lt;h3 id=&#34;ç›‘æ§ç£ç›˜&#34;&gt;ç›‘æ§ç£ç›˜&lt;/h3&gt;
&lt;p&gt;åç§°ï¼šDisk pfree on $1&lt;br&gt;
åç§°ï¼šinode pfree on $1&lt;br&gt;
vfs.fs.size[/,pfree]  #Floatå‹&lt;br&gt;
vfs.fs.inode[/,pfree]  #Floatå‹&lt;/p&gt;
&lt;h3 id=&#34;ç›‘æ§æµé‡&#34;&gt;ç›‘æ§æµé‡&lt;/h3&gt;
&lt;p&gt;net.if.in[eth0]  #æ•´å‹ï¼ˆæ¯ç§’é€Ÿç‡ï¼‰ï¼Œé»˜è®¤è¿”å›å­—èŠ‚æ•°ï¼Œéœ€è¦&lt;em&gt;8&lt;br&gt;
net.if.out[eth0]  #æ•´å‹ï¼ˆæ¯ç§’é€Ÿç‡ï¼‰ï¼Œé»˜è®¤è¿”å›å­—èŠ‚æ•°ï¼Œéœ€è¦&lt;/em&gt;8&lt;br&gt;
&lt;strong&gt;&lt;code&gt;shellè®¡ç®—æµé‡&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;onetime=$(ifconfig | grep eth0 -A 6 | grep &#39;RX packets&#39; | awk &#39;{print $5}&#39;)
sleep 30
twotime=$(ifconfig | grep eth0 -A 6 | grep &#39;RX packets&#39; | awk &#39;{print $5}&#39;)
echo &amp;quot;incoming traffic is $((($twotime-$onetime)/30*8))bps&amp;quot;

onetime=$(ifconfig | grep eth0 -A 6 | grep &#39;TX packets&#39; | awk &#39;{print $5}&#39;)
sleep 30
twotime=$(ifconfig | grep eth0 -A 6 | grep &#39;TX packets&#39; | awk &#39;{print $5}&#39;)
echo &amp;quot;outing traffic is $((($twotime-$onetime)/30*8))bps&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
">18_zabbixç›‘æ§cpuã€å†…å­˜ã€ç£ç›˜ã€æµé‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/17_linux-xia-zabbix-ke-hu-duan-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;ç›‘æ§é¡¹ç›®çš„å¤šç§æ–¹å¼&#34;&gt;ç›‘æ§é¡¹ç›®çš„å¤šç§æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;simple checkï¼šè¢«ç›‘æ§çš„æœåŠ¡å™¨æ— éœ€å®‰è£…å®¢æˆ·ç«¯ï¼Œå¦‚pingã€ç«¯å£æ£€æµ‹ä¹‹ç±»&lt;/li&gt;
&lt;li&gt;zabbix agentï¼šè¢«åŠ¨å¼ç›‘æ§æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;zabbix agentï¼ˆactiveï¼‰ï¼šä¸»åŠ¨å¼ç›‘æ§æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;snmp checkï¼šä½¿ç”¨snmpåè®®å»è·å–ç›‘æ§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;zabbix trapperï¼šä¸»åŠ¨å¼ç›‘æ§&lt;/li&gt;
&lt;li&gt;External checkï¼šzabbix serverä¸Šå¯ç¼–å†™ç›‘æ§è„šæœ¬&lt;/li&gt;
&lt;li&gt;Jmx agentï¼šç›‘æ§javaè¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;zabbix serverï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;è¢«ç›‘æ§æœåŠ¡å™¨ï¼š192.168.3.199ï¼ˆwww_001ï¼‰,192.168.3.198ï¼ˆwww_002ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯ç›‘æ§ä¼˜åŠ¿å¯¹æ¯”ç®€å•ç›‘æ§&#34;&gt;å®¢æˆ·ç«¯ç›‘æ§ä¼˜åŠ¿ï¼ˆå¯¹æ¯”ç®€å•ç›‘æ§ï¼‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;èƒ½è·å¾—æ›´å¤šçš„æœåŠ¡å™¨ä¿¡æ¯ï¼Œä¾‹å¦‚cpuã€å†…å­˜ç­‰&lt;/li&gt;
&lt;li&gt;zabbixå®¢æˆ·ç«¯å†…ç½®äº†å¾ˆå¤škeyï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›‘æ§åŸºæœ¬ç¡¬ä»¶ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;zabbixå®¢æˆ·ç«¯èƒ½å¤Ÿè‡ªå®šä¹‰ç›‘æ§ï¼Œæ–¹ä¾¿æˆ‘ä»¬ç›‘æ§éƒ¨ç½²çš„åº”ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbix-agentç¼–è¯‘å®‰è£…&#34;&gt;zabbix agentç¼–è¯‘å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y gcc gcc-c++ make pcre-devel
useradd -s /sbin/nologin zabbix
cd /usr/local/src
wget &amp;quot;https://nchc.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/4.4.4/zabbix-4.4.4.tar.gz&amp;quot;
tar -zxvf zabbix-4.4.4.tar.gz
cd zabbix-4.4.4
./configure --prefix=/usr/local/zabbix --enable-agent
make &amp;amp;&amp;amp; make install
chown zabbix:zabbix -R /usr/local/zabbix
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¯å¢ƒå˜é‡&#34;&gt;ç¯å¢ƒå˜é‡&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=$PATH:/usr/local/zabbix/sbin:/usr/local/zabbix/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbix-agenté…ç½®&#34;&gt;zabbix agenté…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Hostnameå»ºè®®è·Ÿwebç«¯é…ç½®ç›¸åŒï¼ŒåŒæ—¶å»ºè®®ä¸è¢«ç›‘æ§æœåŠ¡å™¨ç³»ç»Ÿä¸»æœºåç›¸åŒï¼ˆè®¾ç½®ä¸»æœºåhostnamectl set-hostname www_001ï¼‰&lt;/code&gt;&lt;br&gt;
&lt;code&gt;Server(è¢«åŠ¨å¼ï¼Œå…è®¸serverIPæ¥è®¿é—®æˆ‘)å’ŒServerActiveï¼ˆä¸»åŠ¨å¼ï¼Œå°†æ•°æ®ä¸Šä¼ ç»™serverIPï¼‰ä¸Šé…ç½®çš„æ˜¯zabbix serverçš„ip&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat &amp;gt;/usr/local/zabbix/etc/zabbix_agentd.conf &amp;lt;&amp;lt;EOF
PidFile=/usr/local/zabbix/zabbix_agentd.pid
LogFile=/usr/local/zabbix/zabbix_agentd.log
Hostname=www_00
Server=192.168.3.111
ServerActive=192.168.3.111
UnsafeUserParameters=1 
Include=/usr/local/zabbix/etc/zabbix_agentd.conf.d/*.conf
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbix-agentå¯åŠ¨&#34;&gt;zabbix agentå¯åŠ¨&lt;/h3&gt;
&lt;p&gt;mkdir /usr/local/zabbix/etc/zabbix_agentd.conf.d&lt;br&gt;
zabbix_agentd&lt;/p&gt;
&lt;h3 id=&#34;éªŒè¯zabbix-agentæ˜¯å¦æˆåŠŸå¯åŠ¨&#34;&gt;éªŒè¯zabbix agentæ˜¯å¦æˆåŠŸå¯åŠ¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ—¥å¿— tail -f /usr/local/zabbix/zabbix_agentd.log&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep zabbix&lt;/li&gt;
&lt;li&gt;ç«¯å£(10050) netstat -tulnp | grep zabbix&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨systemctlç®¡ç†zabbix_agentd&#34;&gt;ä½¿ç”¨systemctlç®¡ç†zabbix_agentd&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/zabbix_agentd.service &amp;lt;&amp;lt;EOF
[Unit]
Description=zabbix_agentd
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/php/sbin/zabbix_agentd
[Install]
WantedBy=multi-user.target
EOF
&lt;/code&gt;&lt;/pre&gt;
">17_Linuxä¸‹zabbixå®¢æˆ·ç«¯ç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/16_-ding-ding-gao-jing-shi-zhan/"" data-c="
          &lt;h3 id=&#34;é’‰é’‰ä¼ä¸šçš„åœ°å€&#34;&gt;é’‰é’‰ä¼ä¸šçš„åœ°å€&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://oa.dingtalk.com/&#34;&gt;ä¼ä¸šé’‰é’‰&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç™»å½•ä¼ä¸šé’‰é’‰&#34;&gt;ç™»å½•ä¼ä¸šé’‰é’‰&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é€šè®¯å½•ç®¡ç†é‡Œé¢çš„useridåœ¨å‘é’‰é’‰çš„æ—¶å€™éœ€è¦ç”¨åˆ°&lt;/li&gt;
&lt;li&gt;å·¥ä½œå°é‡Œå¯ä»¥è‡ªå»ºåº”ç”¨&lt;/li&gt;
&lt;li&gt;å¾®åº”ç”¨ç®¡ç†å¯ä»¥ç®¡ç†åº”ç”¨&lt;/li&gt;
&lt;li&gt;å¼€å‘è´¦å·ç®¡ç†å¯ä»¥æŸ¥çœ‹å¯†ç ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å‘é’‰é’‰å‘Šè­¦çš„è„šæœ¬åŠ æ‰§è¡Œæƒé™chmod-ax-zabbix_ddpy&#34;&gt;å‘é’‰é’‰å‘Šè­¦çš„è„šæœ¬ï¼ˆåŠ æ‰§è¡Œæƒé™chmod a+x zabbix_dd.pyï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/python
# -*- coding:utf-8 -*-
# zabbix_dd.py
import json,sys,urllib2

appkey=&amp;quot;xxx&amp;quot;
appsecret=&amp;quot;xxx&amp;quot; 
agentid=&amp;quot;xxx&amp;quot; 
touser=sys.argv[1]
content=sys.argv[2] 

token_url=&#39;https://oapi.dingtalk.com/gettoken?corpid=&#39;+appkey+&#39;&amp;amp;corpsecret=&#39;+appsecret
tokenresponse=urllib2.urlopen(tokenurl)
tokenresult=json.loads(tokenresponse.read().decode(&#39;utf-8&#39;))
token=tokenresult[&#39;access_token&#39;]
sendurl=&#39;https://oapi.dingtalk.com/message/send?access_token&#39;+token
headers={
  &#39;Content_Type&#39;:&#39;application/json&#39;
}
main_content={
  &amp;quot;touser&amp;quot;:touser,
  &amp;quot;toparty&amp;quot;:&amp;quot;&amp;quot;,
  &amp;quot;agentid&amp;quot;:agentid,
  &amp;quot;msgtype&amp;quot;:&amp;quot;text&amp;quot;,
  &amp;quot;text&amp;quot;:{
    &amp;quot;content&amp;quot;:content,
  }
}
main_content=json.dumps(main_content)
req=urllib2.Request(sendurl,headers=headers)
response=urllib2.urlopen(req,main_content.encode(&amp;quot;utf-8&amp;quot;))
print(response.read().decode(&amp;quot;utf-8&amp;quot;))

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•è„šæœ¬ï¼š/usr/local/zabbix/alertscripts/zabbix_dd.py &#39;chiss&#39; &#39;disk using &amp;gt; 90%&#39;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;zabbixé’‰é’‰å‘Šè­¦é…ç½®æ­¥éª¤&#34;&gt;zabbixé’‰é’‰å‘Šè­¦é…ç½®æ­¥éª¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ç±»ä¼¼å¾®ä¿¡å‘Šè­¦&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†™ä¸€ä¸ªé’‰é’‰å‘Šè­¦è„šæœ¬&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦åª’ä»‹æ·»åŠ é’‰é’‰å‘Šè­¦&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è®¾ç½®æŠ¥è­¦åª’ä»‹&lt;/li&gt;
&lt;li&gt;åˆ›å»ºè§¦å‘åŠ¨ä½œ&lt;/li&gt;
&lt;/ol&gt;
">16_é’‰é’‰å‘Šè­¦å®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/15_-wei-xin-gao-jing-shi-zhan/"" data-c="
          &lt;h3 id=&#34;ä¼ä¸šå¾®ä¿¡åœ°å€ä¸ªäººå¯æ³¨å†Œ&#34;&gt;ä¼ä¸šå¾®ä¿¡åœ°å€ï¼Œä¸ªäººå¯æ³¨å†Œ&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://work.weixin.qq.com/&#34;&gt;ä¼ä¸šå¾®ä¿¡&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç™»å½•ä¼ä¸šå¾®ä¿¡&#34;&gt;ç™»å½•ä¼ä¸šå¾®ä¿¡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ä¸š-&amp;gt;å¾®å·¥ä½œå°é‡Œå¯ä»¥ç›´æ¥å¾®ä¿¡å…³æ³¨ï¼Œæ— éœ€ä¸‹è½½ä¼ä¸šå¾®ä¿¡&lt;/li&gt;
&lt;li&gt;é€šè®¯å½•é‡Œçš„è´¦å·åœ¨å‘å¾®ä¿¡è„šæœ¬ä¸­è¦ç”¨åˆ°&lt;/li&gt;
&lt;li&gt;åº”ç”¨äºä¸å°ç¨‹åºå¯åˆ›å»ºåº”ç”¨&lt;/li&gt;
&lt;li&gt;å‘å¾®ä¿¡çš„pythonè„šæœ¬ï¼ˆåŠ æ‰§è¡Œæƒé™chmod a+x zabbix_wx.pyï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/python
# -*- coding:utf-8 -*-
# zabbix_wx.py
import json
import sys
import urllib,urllib2

agentid=&amp;quot;xxx&amp;quot; #è‡ªå»ºåº”ç”¨çš„AgentId
corpid=&amp;quot;xxx&amp;quot; #å…¬å¸çš„idï¼Œåœ¨æˆ‘çš„ä¼ä¸š--ä¼ä¸šID
corpsecret=&amp;quot;xxx&amp;quot; #AgentIdä¸‹é¢çš„Secretå¯†ç 
 
#get token
gettoken_url=&#39;https://qyapi.weixin.qq.com/cgi-bin/gettoken?corpid=&#39;+corpid+&#39;&amp;amp;corpsecret=&#39;+corpsecret
token_file=urllib2.urlopen(gettoken_url)
token_data=token_file.read().decode(&#39;utf-8&#39;)
token_json=json.loads(token_data)
my_token=token_json[&#39;access_token&#39;]

#send wechart
touser=sys.argv[1] #many user:&#39;zhangsan|wangwu|lisi&#39;
content=sys.argv[2] #content
post_content={
  &amp;quot;touser&amp;quot;:touser,
  &amp;quot;agentid&amp;quot;:agentid,
  &amp;quot;msgtype&amp;quot;:&amp;quot;text&amp;quot;,
  &amp;quot;text&amp;quot;:{
    &amp;quot;content&amp;quot;:content,
  }
}
json_content=json.dumps(post_content)
url = &#39;https://https://qyapi.weixin.qq.com/cgi-bin/message/sent?access_token=&#39;+my_token
response=urllib2.urlopen(url,json_content)
print(response.read().decode(&amp;quot;utf-8&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•è„šæœ¬ï¼š&lt;code&gt;/usr/local/zabbix/alertscripts/zabbix_wx.py &#39;chiss&#39; &#39;disk using &amp;gt; 90%&#39;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;zabbixå¾®ä¿¡å‘Šè­¦é…ç½®æ­¥éª¤&#34;&gt;zabbixå¾®ä¿¡å‘Šè­¦é…ç½®æ­¥éª¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ç±»ä¼¼é‚®ä»¶å‘Šè­¦&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†™ä¸€ä¸ªå¾®ä¿¡å‘Šè­¦è„šæœ¬&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦åª’ä»‹æ·»åŠ å¾®ä¿¡å‘Šè­¦&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è®¾ç½®æŠ¥è­¦åª’ä»‹&lt;/li&gt;
&lt;li&gt;åˆ›å»ºè§¦å‘åŠ¨ä½œ&lt;/li&gt;
&lt;/ol&gt;
">15_å¾®ä¿¡å‘Šè­¦å®æˆ˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/14_-gao-jing-nei-rong-zi-ding-yi-he-gao-jing-yi-zhi/"" data-c="
          &lt;h3 id=&#34;ä¸»é¢˜-å†…å®¹å®šä¹‰&#34;&gt;ä¸»é¢˜ã€å†…å®¹å®šä¹‰&lt;/h3&gt;
&lt;p&gt;(é‚®ä»¶æ ‡é¢˜æˆ–å†…å®¹ä¸­)&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»æœºåå˜é‡ï¼š{HOST.NAME1}&lt;/li&gt;
&lt;li&gt;ä¸»æœºIPå˜é‡ï¼š{HOST.IP1}&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å»¶è¿Ÿå‘Šè­¦&#34;&gt;å»¶è¿Ÿå‘Šè­¦&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€èˆ¬æ¥è¯´ä¸ä¼šæœ‰é—®é¢˜é©¬ä¸Šå‘é€è­¦å‘Šï¼Œä¾‹å¦‚æ£€æµ‹80ç«¯å£&lt;/li&gt;
&lt;li&gt;å®šä¹‰æŒç»­æ—¶é—´&lt;/li&gt;
&lt;li&gt;å®šä¹‰stepï¼ˆæ“ä½œç»†èŠ‚--æ­¥éª¤ï¼Œ3-3ä»£è¡¨2åˆ†é’Ÿï¼Œ4-4ä»£è¡¨3åˆ†é’Ÿ...ï¼‰&lt;/li&gt;
&lt;/ol&gt;
">14_å‘Šè­¦å†…å®¹è‡ªå®šä¹‰å’Œå‘Šè­¦æŠ‘åˆ¶</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/13_zabbix-you-jian-gao-jing/"" data-c="
          &lt;h3 id=&#34;zabbixå‘Šè­¦&#34;&gt;zabbixå‘Šè­¦&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘é¡µä¸Šèƒ½ç›´æ¥çœ‹åˆ°è§¦å‘å™¨å‘Šè­¦&lt;/li&gt;
&lt;li&gt;ä¸€èˆ¬ä¸èƒ½ç›´æ¥çœ‹ç½‘é¡µï¼Œæ‰€ä»¥è§¦å‘å™¨è§¦å‘åæˆ‘ä»¬è¦å‘é€é‚®ä»¶ã€å¾®ä¿¡ã€é’‰é’‰ç­‰é€šçŸ¥æˆ‘ä»¬&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixå‘Šè­¦åŸç†&#34;&gt;zabbixå‘Šè­¦åŸç†&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è§¦å‘å™¨è§¦å‘åï¼Œå¯ä»¥é…ç½®å¯¹åº”çš„åŠ¨ä½œ&lt;/li&gt;
&lt;li&gt;åœ¨åŠ¨ä½œé‡Œå¯ä»¥å‘é‚®ä»¶ã€å¾®ä¿¡ã€é’‰é’‰ã€çŸ­ä¿¡ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å‘Šè­¦è„šæœ¬&#34;&gt;å‘Šè­¦è„šæœ¬&lt;/h3&gt;
&lt;p&gt;è„šæœ¬ä½ç½®å¯è§é…ç½®æ–‡ä»¶ï¼š/usr/local/zabbix/etc/zabbix_server.conf&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;LogFile=/url/local/zabbix/zabbix_server.log
DBHost=127.0.0.1
DBName=zabbix
DBUser=zabbix
DBPassword=zabbixpwd
DBPort=3306
Timeout=30
AlertScriptsPath=/usr/local/zabbix/alertscripts  #å‘Šè­¦è„šæœ¬å­˜æ”¾ä½ç½®
ExternalScripts=/usr/local/zabbix/externalscripts
LogSlowQueries=300
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‘é‚®ä»¶å»ºè®®&#34;&gt;å‘é‚®ä»¶å»ºè®®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æœåŠ¡å™¨å¾€å¤–çš„25ç«¯å£ä¸€èˆ¬è¢«äº‘å‚å•†ç¦æ­¢ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨465ç«¯å£å‘é€åŠ å¯†é‚®ä»¶&lt;/li&gt;
&lt;li&gt;qqé‚®ç®±ã€163é‚®ç®±éœ€è¦é…ç½®å¼€å¯smtp&lt;/li&gt;
&lt;li&gt;å‘é‚®ä»¶çš„pythonè„šæœ¬ï¼ˆåŠ æ‰§è¡Œæƒé™chmod a+x zabbix_sendmail.pyï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#!/usr/bin/python
# -*- coding:utf-8 -*-
# zabbix_sendmail.py
from email.mime.text import MIMEText
from email.header import Header
from smtplib import SMTP_SSL
import sys
smtpaddr = &#39;smtp.qq.com&#39;
myemail = &#39;2289521489@qq.com&#39;
# password = &#39;é‚®ç®±æˆæƒç &#39;
#####ä¸‹é¢ä¸¤è¡ŒåŠŸèƒ½å’Œä¸Šé¢ä¸€è¡Œç›¸åŒ
f = open(&#39;/usr/local/zabbix/.passwd&#39;,&#39;r&#39;)
password = f.readline().strip()
#####
recvmail=sys.argv[1] #å¤šä¸ªé‚®ç®±ä¹‹é—´ä½¿ç”¨è‹±æ–‡é€—å·éš”å¼€
subject=sys.argv[2] #é‚®ä»¶ä¸»é¢˜
content=sys.argv[3] #é‚®ä»¶å†…å®¹
msg = MIMEText(&amp;quot;&amp;quot;&amp;quot;%s&amp;quot;&amp;quot;&amp;quot;%(content),&amp;quot;plain&amp;quot;,&amp;quot;utf-8&amp;quot;)
msg[&#39;Subject&#39;] = Header(subject,&#39;utf-8&#39;).encode()
msg[&#39;From&#39;] = myemail
msg[&#39;To&#39;] = recvmail
try:
  smtp = SMTP_SSL(smtpaddr) #ä½¿ç”¨465ç«¯å£å‘é€åŠ å¯†é‚®ä»¶
  smtp.login(myemail,password)
  smtp.sendmail(myemail,recvmail.split(&amp;quot;,&amp;quot;),msg.as_string())
  smtp.quit()
  print(&amp;quot;success&amp;quot;)
except Exception as e:
  print(&amp;quot;fail:&amp;quot;+str(e))
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æµ‹è¯•è„šæœ¬ï¼š&lt;code&gt;/usr/local/zabbix/alertscripts/zabbix_sendmail.py 773033929@qq.com &#39;zabbix disk&#39; &#39;disk &amp;gt; 90%&#39;&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;zabbixé‚®ä»¶å‘Šè­¦é…ç½®&#34;&gt;zabbixé‚®ä»¶å‘Šè­¦é…ç½®&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å†™ä¸€ä¸ªé‚®ä»¶å‘Šè­¦è„šæœ¬&lt;/li&gt;
&lt;li&gt;æŠ¥è­¦åª’ä»‹æ·»åŠ é‚®ä»¶å‘Šè­¦&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è®¾ç½®æŠ¥è­¦åª’ä»‹&lt;/li&gt;
&lt;li&gt;åˆ›å»ºè§¦å‘å™¨åŠ¨ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æŠ¥è­¦åª’ä»‹æ·»åŠ é‚®ä»¶å‘Šè­¦&#34;&gt;æŠ¥è­¦åª’ä»‹æ·»åŠ é‚®ä»¶å‘Šè­¦&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªå®šä¹‰è„šæœ¬&lt;/li&gt;
&lt;li&gt;è„šæœ¬åç§°ï¼š zabbix_sendmail.py&lt;/li&gt;
&lt;li&gt;è„šæœ¬éœ€è¦ä¸‰ä¸ªå‚æ•°:&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;{ALERT.SENDTO} #æ”¶ä»¶é‚®ç®±
{ALERT.SUBJECT} #ä¸»é¢˜
{ALERT.MESSAGE} # å†…å®¹
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç”¨æˆ·æ·»åŠ æŠ¥è­¦åª’ä»‹&#34;&gt;ç”¨æˆ·æ·»åŠ æŠ¥è­¦åª’ä»‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç±»å‹é€‰æ‹©é‚®ä»¶å‘Šè­¦&lt;/li&gt;
&lt;li&gt;è§¦å‘å™¨æœ‰å¤šç§è§¦å‘ï¼Œä»ä¿¡æ¯åˆ°ç¾éš¾ï¼Œå¯å®šä¹‰æ¥æ”¶å“ªç§ç±»å‹çš„å‘Šè­¦&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·éœ€è¦å¯¹æœåŠ¡å™¨å¯è¯»&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åˆ›å»ºè§¦å‘å™¨åŠ¨ä½œ&#34;&gt;åˆ›å»ºè§¦å‘å™¨åŠ¨ä½œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åŠ¨ä½œæœ‰å¤šç§äº‹ä»¶æºï¼Œå‘Šè­¦çš„é€‰æ‹©è§¦å‘å™¨&lt;/li&gt;
&lt;li&gt;é‚®ä»¶ä¸»é¢˜å®šä¹‰ï¼š{ALERT.SUBJECT}&lt;/li&gt;
&lt;li&gt;é‚®ä»¶å†…å®¹å®šä¹‰ï¼š{ALERT.MESSAGE}&lt;/li&gt;
&lt;li&gt;æ“ä½œæ·»åŠ å‘é€é‚®ä»¶å‘Šè­¦&lt;/li&gt;
&lt;li&gt;æ¢å¤æ·»åŠ å‘é€é‚®ä»¶å‘Šè­¦&lt;/li&gt;
&lt;/ol&gt;
">13_zabbixé‚®ä»¶å‘Šè­¦</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/12_zabbix-yong-hu-guan-li/"" data-c="
          &lt;h3 id=&#34;zabbixç”¨æˆ·æ³¨æ„&#34;&gt;zabbixç”¨æˆ·æ³¨æ„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;é»˜è®¤çš„guestä¸€å®šè¦ç¦ç”¨&lt;/li&gt;
&lt;li&gt;Adminçš„é»˜è®¤å¯†ç ä¸€å®šè¦ä¿®æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixåˆ›å»ºç”¨æˆ·çš„æµç¨‹&#34;&gt;zabbixåˆ›å»ºç”¨æˆ·çš„æµç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºç”¨æˆ·ç»„&lt;/li&gt;
&lt;li&gt;è®¾ç½®ç”¨æˆ·ç»„æƒé™ï¼Œæƒé™å¿…é¡»åœ¨ç”¨æˆ·ç»„è®¾ç½®&lt;/li&gt;
&lt;li&gt;åˆ›å»ºç”¨æˆ·ï¼Œå±äºæŸä¸€ä¸ªç”¨æˆ·ç»„&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ–°å»ºçš„ç”¨æˆ·ç™»å½•zabbix&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ–°å»ºç”¨æˆ·æƒé™æ³¨æ„&#34;&gt;æ–°å»ºç”¨æˆ·æƒé™æ³¨æ„&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœè¦è®©æŸä¸ªç”¨æˆ·æ”¶åˆ°æŸå°æœåŠ¡å™¨çš„å‘Šè­¦ï¼Œåˆ™è¿™ä¸ªç”¨æˆ·å¯¹è¿™å°æœåŠ¡å™¨è¦æœ‰å¯è¯»æƒé™&lt;/li&gt;
&lt;/ul&gt;
">12_zabbixç”¨æˆ·ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/11_zabbix-mo-ban-shi-yong/"" data-c="
          &lt;h3 id=&#34;æ¨¡æ¿çš„é‡è¦&#34;&gt;æ¨¡æ¿çš„é‡è¦&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨æ·»åŠ ç›‘æ§æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦ç›‘æ§é¡¹--å›¾å½¢--è§¦å‘å™¨ï¼Œä¾‹å¦‚æœ‰100å°æœåŠ¡å™¨éœ€è¦æ£€æŸ¥81ç«¯å£&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ç›‘æ§æ¯”è¾ƒéº»çƒ¦ï¼Œä¾‹å¦‚100å°æœåŠ¡å™¨81æ”¹æˆ82&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ¨¡æ¿å¯ä»¥è§£å†³ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸¤ç§æ¨¡æ¿&#34;&gt;ä¸¤ç§æ¨¡æ¿&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿè‡ªå¸¦æ¨¡æ¿ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªå®šä¹‰æ¨¡æ¿&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è‡ªå®šä¹‰æ¨¡æ¿çš„ä½¿ç”¨&#34;&gt;è‡ªå®šä¹‰æ¨¡æ¿çš„ä½¿ç”¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºæ¨¡æ¿ï¼Œæ¨¡æ¿å±äºæŸä¸€ä¸ªä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;åœ¨æ¨¡æ¿ä¸­åˆ›å»ºç›‘æ§é¡¹ç›®&lt;/li&gt;
&lt;li&gt;åœ¨æ¨¡æ¿ä¸­åˆ›å»ºå›¾å½¢ã€è§¦å‘å™¨&lt;/li&gt;
&lt;li&gt;åˆ›å»ºç›‘æ§ä¸»æœºæ—¶æŒ‡å®šæ¨¡æ¿&lt;/li&gt;
&lt;li&gt;æ›´æ–°æ¨¡æ¿çš„ç›‘æ§é¡¹ç›®ï¼Œæ‰€æœ‰ä½¿ç”¨æ¨¡æ¿çš„éƒ½ä¼šè‡ªåŠ¨æ›´æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å»ºè®®&#34;&gt;å»ºè®®&lt;/h3&gt;
&lt;p&gt;ç›‘æ§çš„æ—¶å€™éƒ½ä½¿ç”¨æ¨¡æ¿ï¼Œä¿®æ”¹æ¯”è¾ƒæ–¹ä¾¿&lt;/p&gt;
">11_zabbixæ¨¡æ¿ä½¿ç”¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/10_zabbix-tian-jia-jian-kong-tu-xing-he-hong-fa-qi/"" data-c="
          &lt;p&gt;æ— éœ€å»ºç«‹å›¾å½¢ï¼Œåœ¨æœ€æ–°æ•°æ®é‡Œé¢ä¹Ÿæ˜¯å¯ä»¥æŸ¥çœ‹å›¾å½¢&lt;/p&gt;
&lt;h3 id=&#34;å›¾å½¢å»ºç«‹&#34;&gt;å›¾å½¢å»ºç«‹&lt;/h3&gt;
&lt;p&gt;å¯ä»¥è‡ªå·±åˆ›å»ºå›¾å½¢&lt;/p&gt;
&lt;h3 id=&#34;å›¾å½¢çš„æŸ¥çœ‹&#34;&gt;å›¾å½¢çš„æŸ¥çœ‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æœç´¢æŸ¥çœ‹çš„å›¾å½¢&lt;/li&gt;
&lt;li&gt;ç›‘æ§--å›¾å½¢   ä¸­å¯ä»¥çœ‹åˆ°å›¾å½¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è§¦å‘å™¨æ·»åŠ &#34;&gt;è§¦å‘å™¨æ·»åŠ &lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æœªåˆ†ç±»&lt;/li&gt;
&lt;li&gt;ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;è­¦å‘Š&lt;/li&gt;
&lt;li&gt;ä¸€èˆ¬ä¸¥é‡&lt;/li&gt;
&lt;li&gt;ä¸¥é‡&lt;/li&gt;
&lt;li&gt;ç¾éš¾&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è§¦å‘å™¨çš„å¸¸ç”¨æ¡ä»¶&#34;&gt;è§¦å‘å™¨çš„å¸¸ç”¨æ¡ä»¶&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ•°å€¼æ¡ä»¶ã€‚å¯å®šä¹‰å¤§äºã€å°äºã€ç­‰äºã€ä¸ç­‰äºç­‰ç­‰&lt;/li&gt;
&lt;li&gt;æœ‰æ— æ•°æ®æ¡ä»¶&lt;/li&gt;
&lt;li&gt;æœ€æ–°è·å–çš„å€¼å’Œä¹‹å‰çš„å€¼è¿›è¡Œæ¯”è¾ƒ&lt;/li&gt;
&lt;/ol&gt;
">10_zabbixæ·»åŠ ç›‘æ§å›¾å½¢å’Œè§¦å‘å™¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/09_zabbix-tian-jia-jian-dan-jian-kong-xiang-mu/"" data-c="
          &lt;h3 id=&#34;zabbixç›‘æ§çš„æ·»åŠ é¡ºåº&#34;&gt;zabbixç›‘æ§çš„æ·»åŠ é¡ºåº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ ä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;æ·»åŠ ä¸»æœº&lt;/li&gt;
&lt;li&gt;æ·»åŠ ç›‘æ§é¡¹ç›®&lt;/li&gt;
&lt;li&gt;æ ¹æ®ç›‘æ§é¡¹ç›®å¯æ·»åŠ å›¾å½¢æˆ–è€…è§¦å‘å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç›‘æ§çš„keyå’Œå€¼&#34;&gt;ç›‘æ§çš„keyå’Œå€¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbixæ·»åŠ ç›‘æ§éœ€è¦å®šä¹‰key&lt;/li&gt;
&lt;li&gt;é€šè¿‡keyå»è·å–ç›‘æ§çš„å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç®€å•ç›‘æ§é¡¹ç›®æ·»åŠ å®æˆ˜&#34;&gt;ç®€å•ç›‘æ§é¡¹ç›®æ·»åŠ å®æˆ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;pingæ£€æµ‹ï¼Œå­˜æ´»å’Œä¸¢åŒ…æ£€æµ‹ yum install fping -y&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥tcpç«¯å£22&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹ç›‘æ§å€¼&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç†è®ºå†…å®¹&#34;&gt;ç†è®ºå†…å®¹&lt;/h3&gt;
&lt;h4 id=&#34;å¤šç§ç›‘æ§æ–¹å¼æ·»åŠ &#34;&gt;å¤šç§ç›‘æ§æ–¹å¼æ·»åŠ &lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;simple checkï¼šè¢«ç›‘æ§çš„æœåŠ¡å™¨æ— éœ€å®‰è£…å®¢æˆ·ç«¯ï¼Œå¦‚pingã€ç«¯å£æ£€æµ‹ä¹‹ç±»&lt;/li&gt;
&lt;li&gt;zabbix agentï¼šè¢«åŠ¨å¼ç›‘æ§æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;zabbix agentï¼ˆactiveï¼‰ï¼šä¸»åŠ¨å¼ç›‘æ§æœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;snmp checkï¼šä½¿ç”¨snmpåè®®å»è·å–ç›‘æ§ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;zabbix trapperï¼šä¸»åŠ¨å¼ç›‘æ§&lt;/li&gt;
&lt;li&gt;External checkï¼šzabbix serverä¸Šå¯ç¼–å†™ç›‘æ§è„šæœ¬&lt;/li&gt;
&lt;li&gt;Jmx agentï¼šç›‘æ§javaè¿›ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å€¼çš„ç±»å‹&#34;&gt;å€¼çš„ç±»å‹&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;æ— ç¬¦å·æ•´å‹ï¼Œè‡ªç„¶æ•°ã€‚ä¾‹å¦‚ç›‘æ§ç«¯å£æ˜¯å¦å­˜æ´»ï¼Œå­˜æ´»è¿”å›1ï¼Œä¸å­˜æ´»è¿”è´§0&lt;/li&gt;
&lt;li&gt;æµ®ç‚¹å‹ï¼Œå€¼å¯ä»¥ä¸ºè´Ÿæ•°ã€å°æ•°ã€‚ä¾‹å¦‚ç›‘æ§cpuçš„idleå€¼&lt;/li&gt;
&lt;li&gt;characterï¼Œå­—ç¬¦ä¸²ï¼Œæœ€å¤§255ä¸ªå­—èŠ‚&lt;/li&gt;
&lt;li&gt;Textï¼Œå­—ç¬¦ä¸²ï¼Œæ— é™åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;applicationåº”ç”¨é›†&#34;&gt;applicationåº”ç”¨é›†&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¤šä¸ªç±»å‹ç›¸åŒçš„ç›‘æ§é¡¹ç›®å¯ä»¥å®šä¹‰ä¸€ä¸ªåº”ç”¨é›†&lt;/li&gt;
&lt;li&gt;icmpå­˜æ´»ã€icmpä¸¢åŒ…æˆ‘ä»¬éƒ½å¯ä»¥æŠŠå®ƒå½’ä¸ºicmpåº”ç”¨é›†&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç›‘æ§é¡¹ç›®ä¸æ”¯æŒè¯´æ˜&#34;&gt;ç›‘æ§é¡¹ç›®ä¸æ”¯æŒè¯´æ˜&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é‡åˆ°ä¸æ”¯æŒæƒ…å†µï¼Œä¾‹å¦‚å¡«å†™çš„ä¸å­˜åœ¨çš„key&lt;/li&gt;
&lt;li&gt;ä¸Šé¢æ‰€è¯´çš„ä¸æ”¯æŒçš„è¯·æƒ…å†µï¼Œé»˜è®¤éœ€è¦ç­‰å¾…10åˆ†é’Ÿæ‰å›å†å»æ£€æµ‹ï¼ˆæ›´æ”¹é»˜è®¤ç­‰å¾…æ—¶é—´ï¼šç®¡ç†--ä¸€èˆ¬--é€‰æ‹©â€œå…¶ä»–â€--åˆ·æ–°ä¸æ”¯æŒçš„é¡¹ç›®ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ·»åŠ ç›‘æ§&#34;&gt;æ·»åŠ ç›‘æ§&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨å˜é‡çš„æ–¹å¼&lt;/li&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨å…‹éš†å¿«é€Ÿæ·»åŠ ç›‘æ§é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ³¨æ„&#34;&gt;æ³¨æ„&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;å˜é‡æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;åç§°ï¼šcheck port $1 $3&lt;br&gt;
é”®å€¼ï¼šnet.tcp.service[tcp,192.168.3.199,80]&lt;br&gt;
æœ€åæ˜¾ç¤ºä¸ºâ€œcheck port tcp 80â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é”®å€¼å¦‚æœä½¿ç”¨é»˜è®¤å€¼ï¼Œåˆ™éœ€è¦å°†è¯¥å€¼çš„ä½ç½®ç•™ç©º&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤ç›‘æ§192.168.3.199ï¼Œåˆ™é”®å€¼ï¼šnet.tcp.service[tcp,,80]&lt;/p&gt;
&lt;/blockquote&gt;
">09_zabbixæ·»åŠ ç®€å•ç›‘æ§é¡¹ç›®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/08_zabbix-tian-jia-zhu-ji-jian-kong/"" data-c="
          &lt;h3 id=&#34;å®æˆ˜ç¯å¢ƒ&#34;&gt;å®æˆ˜ç¯å¢ƒ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;zabbix serverï¼š192.168.3.111&lt;/li&gt;
&lt;li&gt;è¢«ç›‘æ§æœåŠ¡å™¨ï¼š192.168.3.199ï¼ˆwww001ï¼‰,192.168.3.198ï¼ˆwww002ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;zabbixç›‘æ§çš„æ·»åŠ é¡ºåº&#34;&gt;zabbixç›‘æ§çš„æ·»åŠ é¡ºåº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ ä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;æ·»åŠ ä¸»æœº&lt;/li&gt;
&lt;li&gt;æ·»åŠ ç›‘æ§é¡¹ç›®&lt;/li&gt;
&lt;li&gt;æ ¹æ®ç›‘æ§é¡¹ç›®å¯æ·»åŠ å›¾å½¢æˆ–è€…è§¦å‘å™¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ç›‘æ§éœ€æ±‚&#34;&gt;ç›‘æ§éœ€æ±‚&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç›‘æ§ä¸»æœºæ˜¯å¦å­˜æ´»&lt;/li&gt;
&lt;li&gt;ç›‘æ§ä¸»æœºçš„ç«¯å£æ˜¯å¦èƒ½é€š&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ·»åŠ ä¸»æœºå®æˆ˜&#34;&gt;æ·»åŠ ä¸»æœºå®æˆ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;ä¸»æœºå&lt;/li&gt;
&lt;li&gt;ä¸»æœºæ‰€å±ä¸»æœºç»„&lt;/li&gt;
&lt;li&gt;ä¸»æœºip--&amp;gt;æœ€é‡è¦çš„æ˜¯IPï¼Œå¯ä»¥æ˜¯ç½‘ç»œè®¾å¤‡ipï¼Œwindowsçš„ipæˆ–linuxçš„ip&lt;br&gt;
å…‹éš†æ·»åŠ ä¸»æœºã€è‡ªåŠ¨æ³¨å†Œæ·»åŠ ä¸»æœºç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸»æœºæ·»åŠ å¤šç§æ¥å£&#34;&gt;ä¸»æœºæ·»åŠ å¤šç§æ¥å£&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;agentï¼šzabbixæä¾›ä¸€ä¸ªagentå®¢æˆ·ç«¯ï¼Œå¯è£…åœ¨linuxã€windowsç­‰&lt;/li&gt;
&lt;li&gt;snmpï¼šä½¿ç”¨snmpåè®®å»ç›‘æ§æœåŠ¡å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨&lt;/li&gt;
&lt;li&gt;jmxï¼šæ–¹ä¾¿ç›‘æ§Javaè¿›ç¨‹&lt;/li&gt;
&lt;li&gt;ipmiï¼šç›‘æ§ç¡¬ä»¶ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
">08_zabbixæ·»åŠ ä¸»æœºç›‘æ§</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/07_zabbix4-4-wang-ye-han-hua-he-luan-ma-chu-li/"" data-c="
          &lt;h3 id=&#34;zabbixç½‘é¡µé»˜è®¤ä½¿ç”¨ä¸­æ–‡&#34;&gt;zabbixç½‘é¡µé»˜è®¤ä½¿ç”¨ä¸­æ–‡&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å»ºè®®ç›´æ¥ä½¿ç”¨ä¸­æ–‡&lt;/li&gt;
&lt;li&gt;æŠŠAdminç”¨æˆ·æ”¹æˆä¸­æ–‡çš„&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixé»˜è®¤çš„å­—æ®µé—®é¢˜&#34;&gt;zabbixé»˜è®¤çš„å­—æ®µé—®é¢˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸­æ–‡ä¼šæœ‰éƒ¨åˆ†ä¹±ç çš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;ç›‘æµ‹-&amp;gt;å›¾å½¢é‡Œçš„ç›‘æ§å›¾å½¢ä¼šæœ‰ä¹±ç çš„äº§ç”Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è§£å†³zabbixéƒ¨åˆ†ä¹±ç &#34;&gt;è§£å†³zabbixéƒ¨åˆ†ä¹±ç &lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;windowsç³»ç»Ÿä¸­c:\Windows\Fonts\msyh.ttcçš„å¾®è½¯é›…é»‘å­—ä½“&lt;/li&gt;
&lt;li&gt;å°†åç¼€ttcæ”¹ä¸ºttfä¹‹åä¸Šä¼ å­—ä½“åˆ°ç›®å½•/usr/local/nginx/html/zabbix/assets/fonts/&lt;/li&gt;
&lt;li&gt;zabbixç½‘é¡µçš„å­—ä½“é…ç½®ä¿®æ”¹/usr/local/nginx/html/zabbix/include/defines.inc.phpä¸­çš„&#39;ZBX_GRAPH_FONT_NAME&#39;ï¼Œé»˜è®¤æ˜¯DejaVuSanså­—ä½“ï¼Œæ”¹æˆmsyhå¾®è½¯é›…é»‘&lt;/li&gt;
&lt;li&gt;éªŒè¯ä¸­æ–‡æ˜¯å¦æ­£å¸¸&lt;/li&gt;
&lt;/ol&gt;
">07_zabbix4-4ç½‘é¡µæ±‰åŒ–å’Œä¹±ç å¤„ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/06_zabbix4-4-ban-ben-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;zabbixçš„éƒ¨ç½²åŸç†&#34;&gt;zabbixçš„éƒ¨ç½²åŸç†&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serveréœ€è¦æŠŠç›‘æ§æ•°æ®å…¥sqlæ•°æ®åº“ï¼Œæ‰€ä»¥éœ€è¦mysqlç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;zabbixçš„webæ˜¯åŸºäºphpå¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦lnmpç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²zabbix serverå’Œzabbix web&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbix-serverç¼–è¯‘å®‰è£…&#34;&gt;zabbix serverç¼–è¯‘å®‰è£…&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;serverç«¯åŠ å‚æ•°--enable-agentä¸»è¦æ˜¯ä¸ºäº†ä½¿ç”¨å·¥å…·zabbix_get&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y libevent-devel wget tar gcc gcc-c++ make net-snmp-devel libxml2-devel libcurl-devel 
useradd -s /sbin/nologin zabbix
cd /usr/local/src/
wget &amp;quot;https://nchc.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/4.4.4/zabbix-4.4.4.tar.gz&amp;quot;
tar -zxvf zabbix-4.4.4.tar.gz
cd zabbix-4.4.4
./configure --prefix=/usr/local/zabbix --enable-server --enable-agent --with-mysql=/usr/local/mysql/bin/mysql_config --with-net-snmp --with-libcurl --with-libxml2
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼–è¯‘è¯´æ˜&#34;&gt;ç¼–è¯‘è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;--prefix æŒ‡å®šå®‰è£…ç›®å½•&lt;/li&gt;
&lt;li&gt;--enable-server å®‰è£…zabbix server&lt;/li&gt;
&lt;li&gt;--enable-agent å®‰è£…zabbix agent&lt;/li&gt;
&lt;li&gt;--with-mysql ç”¨mysqlæ¥å­˜å‚¨ï¼ˆå¦‚æœä½¿ç”¨yumå®‰è£…ï¼Œåˆ™ä¸éœ€è¦åé¢çš„mysqlçš„è·¯å¾„ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbix-serverçš„å®‰è£…éªŒè¯&#34;&gt;zabbix serverçš„å®‰è£…éªŒè¯&lt;/h3&gt;
&lt;h4 id=&#34;ç¯å¢ƒå˜é‡è®¾ç½®&#34;&gt;ç¯å¢ƒå˜é‡è®¾ç½®&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/zabbix/sbin:/usr/local/zabbix/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æŸ¥çœ‹ç‰ˆæœ¬&#34;&gt;æŸ¥çœ‹ç‰ˆæœ¬&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;zabbix_server --version
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbix-serverçš„å¯åŠ¨&#34;&gt;zabbix serverçš„å¯åŠ¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦åˆ°mysqlé‡Œåšæ•°æ®åº“çš„åˆå§‹åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#mysqlæ•°æ®åº“åˆå§‹åŒ–
mysql -h 127.0.0.1 -uroot -pzabbixpwd -A
  create database zabbix character set utf8 collate utf8_bin;
  grant all privileges on zabbix.* to zabbix@&#39;127.0.0.1&#39; identified by &#39;zabbixpwd&#39;;
  flush privileges;
  set names utf8;
  use zabbix;
  source /usr/local/src/zabbix-4.4.4/database/mysql/schema.sql;
  source /usr/local/src/zabbix-4.4.4/database/mysql/data.sql;
  source /usr/local/src/zabbix-4.4.4/database/mysql/images.sql;
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é…ç½®zabbix server&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ–‡ä»¶/usr/local/zabbix/etc/zabbix_server.conf
cat &amp;gt;/usr/local/zabbix/etc/zabbix_server.conf &amp;lt;&amp;lt;EOF
LogFile=/usr/local/zabbix/zabbix_server.log
DBHost=127.0.0.1
DBName=zabbix
DBUser=zabbix
DBPassword=zabbixpwd
DBPort=3306
Timeout=30
AlertScriptsPath=/usr/local/zabbix/alertscripts #é…ç½®å‘Šè­¦è„šæœ¬
ExternalScripts=/usr/local/zabbix/externalscripts
LogSlowQueries=3000 #æ…¢æŸ¥è¯¢
# SourceIP= 192.168.x.x     #ç›‘å¬åœ°å€
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¯åŠ¨zabbix server&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;chown zabbix:zabbix -R /usr/local/zabbix/
zabbix_server
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;éªŒè¯&#34;&gt;éªŒè¯&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep zabbix_server&lt;/li&gt;
&lt;li&gt;ç«¯å£ netstat -tulnp|grep zabbix&lt;/li&gt;
&lt;li&gt;æ—¥å¿— tail -f /usr/local/zabbix/zabbix_server.log&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbix-webå®‰è£…&#34;&gt;zabbix webå®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir /usr/local/nginx/html/zabbix
cp -a /usr/local/src/zabbix-4.4.4/frontends/php/* /usr/local/nginx/html/zabbix
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;zabbix-webçš„é…ç½®&#34;&gt;zabbix webçš„é…ç½®&lt;/h3&gt;
&lt;h4 id=&#34;phpé…ç½®&#34;&gt;phpé…ç½®&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ–‡ä»¶/usr/local/php/etc/php.ini
post_max_size = 32M
max_execution_time = 360
max_input_time = 360
date.timezone = Asia/Shanghai
always_populate_raw_post_data = -1
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;#é‡å¯php-fpmï¼š
systemctl restart php-fpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç™»å½•&#34;&gt;ç™»å½•&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹åŒ–é…ç½®ï¼šhttp://zabbixæœåŠ¡å™¨IP/zabbix&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;Database type:MySQL
Database host:127.0.0.1
Database port:3306
Database name:zabbix
User:zabbix
Password:zabbixpwd
ä¸‹è½½é…ç½®æ–‡ä»¶ï¼Œä¿å­˜åœ¨/usr/local/nginx/html/zabbix/conf/zabbix.conf.php
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é»˜è®¤ç”¨æˆ·åå¯†ç ï¼šAdmin zabbix&lt;/li&gt;
&lt;li&gt;ç¦ç”¨Zabbix serverä¸»æœºçš„ç›‘æ§&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Hosts--&amp;gt;é€‰ä¸­zabbix server --&amp;gt;ç‚¹å‡»disable&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ç¦ç”¨guestç”¨æˆ·ï¼ˆåªèƒ½è®¾ç½®ç”¨æˆ·ç»„æƒé™ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;Administration--&amp;gt;Users groups--&amp;gt;é€‰ä¸­Guests--&amp;gt;disable&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;æ›´æ”¹Adminçš„å¯†ç &lt;/li&gt;
&lt;/ol&gt;
">06_zabbix4-4ç‰ˆæœ¬ç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/05_lnmp-huan-jing-de-yan-zheng/"" data-c="
          &lt;h3 id=&#34;lnmpæ¶æ„&#34;&gt;LNMPæ¶æ„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç”¨æˆ· --&amp;gt; phpæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¯·æ±‚åˆ°è¾¾nginxï¼Œnginxé€šè¿‡127.0.0.1:9000å»è°ƒç”¨php-fpm&lt;/li&gt;
&lt;li&gt;php-fpm --&amp;gt; è¿è¡Œphpç¨‹åº&lt;/li&gt;
&lt;li&gt;php --&amp;gt; æ“ä½œmysql&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lnmpçš„ç¯å¢ƒéªŒæ”¶&#34;&gt;LNMPçš„ç¯å¢ƒéªŒæ”¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;cat &amp;gt;/usr/local/nginx/html/test_mysql.php &amp;lt;&amp;lt;EOF
&amp;lt;?php
  \$link=mysql_connect(&amp;quot;127.0.0.1&amp;quot;,&amp;quot;root&amp;quot;,&amp;quot;zabbixpwd&amp;quot;);
  if(!\$link){
    echo  &amp;quot;mysql_connect fail&amp;quot;;
  }else{
    echo &amp;quot;mysql_connect success&amp;quot;;
  }
?&amp;gt;
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;éªŒè¯lnmpç¯å¢ƒ&#34;&gt;éªŒè¯LNMPç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;http://192.168.3.111/test_mysql.php&#34;&gt;http://192.168.3.111/test_mysql.php&lt;/a&gt;&lt;/p&gt;
">05_LNMPç¯å¢ƒçš„éªŒè¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/04_lnmp-zhi-mysql-yuan-ma-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;mysqlç¼–è¯‘å®‰è£…è„šæœ¬&#34;&gt;mysqlç¼–è¯‘å®‰è£…è„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y gcc gcc-c++ make tar openssl openssl-devel cmake ncurses ncurses-devel
useradd -s /sbin/nologin mysql
cd /usr/local/src
wget &amp;quot;https://cdn.mysql.com//Downloads/MySQL-5.6/mysql-5.6.47.tar.gz&amp;quot;
tar -zxvf mysql-5.6.47.tar.gz
cd mysql-5.6.47
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EXTRA_CHARSETS:STRING=all -DWITH_DEBUG=0 -DWITH_SSL=yes -DWITH_READLINE=1 -DENABLED_LOACL_INFILE=1
make &amp;amp;&amp;amp; make install
cp support-files/mysql.server /etc/init.d/mysqld  #ç”¨æ¥å¯åŠ¨mysqlçš„è„šæœ¬
chmod a+x /etc/init.d/mysqld
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼–è¯‘é€‰é¡¹è¯´æ˜&#34;&gt;ç¼–è¯‘é€‰é¡¹è¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;CMACK_INSTALL_PREFIX æŒ‡å®šå®‰è£…çš„ç›®å½•&lt;/li&gt;
&lt;li&gt;MYSQL_DATADIR æŒ‡å®šmysqlçš„æ•°æ®ç›®å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mysqlç¯å¢ƒå˜é‡é…ç½®&#34;&gt;mysqlç¯å¢ƒå˜é‡é…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/mysql/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mysqlçš„å¯åŠ¨æ­¥éª¤&#34;&gt;mysqlçš„å¯åŠ¨æ­¥éª¤&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ›´æ–°é…ç½®&lt;br&gt;
æ›´æ–°mysqlé…ç½®/etc/my.cnf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/etc/my.cnf &amp;lt;&amp;lt;EOF
[mysqld]
bind-address=0.0.0.0  #ç›‘å¬åœ°å€
port=3306  #ç›‘å¬ç«¯å£
datadir=/data/mysql  #æ•°æ®å­˜æ”¾ç›®å½•
user=mysql  #å¯åŠ¨ç”¨æˆ·
skip-name-resolve
long_query_time=2  #å’Œä¸‹ä¸€å¥é…ç½®ç»“åˆï¼šæŸ¥è¯¢è¶…è¿‡2ç§’ï¼Œåˆ™è®°å½•åˆ°æ—¥å¿—
slow_query_log_file=/data/mysql/mysql-slow.log
expire_logs_days=2
innodb-file-per-table=1
innodb_flush_log_at_trx_commit=2
log_warnings=1
max_allowed_packet=512M
connect_timeout=60
net_read_timeout=120

[mysqld_safe]
log-error=/data/mysql/mysqld.log
pid-file=/data/mysql/mysqld.pid
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ•°æ®åº“åˆå§‹åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -pv /data/mysql
chown -R mysql:mysql /usr/local/mysql /data/mysql
yum install -y perl-Module-Install
/usr/local/mysql/scripts/mysql_install_db --basedir=/usr/local/mysql --user=mysql --datadir=/data/mysql/
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¯åŠ¨æ•°æ®åº“&lt;br&gt;
3.1 ä½¿ç”¨systemctlç®¡ç†mysqlï¼Œ/usr/lib/systemd/system/mysqld.service&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/mysqld.service &amp;lt;&amp;lt;EOF
[Unit]
Description=MySQL Community Server
After=network.target
After=syslog.target
[Install]
WantedBy=multi-user.target
Alias=mysql.service
[Service]
User=mysql
Group=mysql
PermissionsStartOnly=true
ExecStart=/usr/local/mysql/bin/mysqld_safe --basedir=/usr/local/mysql
TimeoutSec=600
Restart=always
PrivateTmp=false
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;3.2 å¯åŠ¨ systemctl start mysqld&lt;br&gt;
3.3 éªŒè¯mysqlæ˜¯å¦å¯åŠ¨&lt;br&gt;
3.3.1 æŸ¥çœ‹è¿›ç¨‹ ps auxf | grep mysql&lt;br&gt;
3.3.2 æŸ¥çœ‹ç›‘å¬ç«¯å£ netstat -tulnp | grep mysql&lt;br&gt;
3.3.3 æŸ¥çœ‹æ—¥å¿—  cat /data/mysql/mysqld.log&lt;/p&gt;
&lt;h3 id=&#34;mysqlçš„å®‰å…¨æ–¹å¼&#34;&gt;mysqlçš„å®‰å…¨æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;mysqlèƒ½é™åˆ¶ipè®¿é—®ã€è®¿é—®éœ€è¦ç”¨æˆ·åå¯†ç ã€mysqlæƒé™ç»†åˆ†&lt;/li&gt;
&lt;li&gt;é»˜è®¤è®©127.0.0.1è®¿é—®ï¼Œç”¨æˆ·årootï¼Œä¸éœ€è¦å¯†ç &lt;/li&gt;
&lt;li&gt;mysql -u root -h 127.0.0.1 -A&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;mysqlåŠ å¯†ç &#34;&gt;mysqlåŠ å¯†ç &lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysqladmin -h 127.0.0.1 -uroot password &amp;quot;zabbixpwd&amp;quot;
mysql -h 127.0.0.1 -uroot -pzabbixpwd 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mysqlæˆæƒæŸipç™»å½•æŒ‡å®šç”¨æˆ·å&#34;&gt;mysqlæˆæƒæŸIPç™»å½•ï¼ŒæŒ‡å®šç”¨æˆ·å&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;grant all privileges on *.* to &#39;root&#39;@&#39;192.168.3.%&#39; identified by &#39;zabbixpwd&#39; with grant option;
flush privileges; 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç½‘ç»œç™»å½•mysql&#34;&gt;ç½‘ç»œç™»å½•mysql&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -h 192.168.3.108 -uroot -pzabbixpwd -A  # -A:ä¸é¢„è¯»æ•°æ®åº“
&lt;/code&gt;&lt;/pre&gt;
">04_LNMPä¹‹mysqlæºç ç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/03_lnmp-zhi-php-yuan-ma-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦å®‰è£…php&#34;&gt;ä¸ºä»€ä¹ˆéœ€è¦å®‰è£…php&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;zabbixçš„ç½‘é¡µåç«¯è¯­è¨€ä½¿ç”¨php&lt;br&gt;
phpçš„å®‰è£…ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦è§£å†³å¾ˆå¤šä¾èµ–&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;phpç¼–è¯‘å®‰è£…&#34;&gt;phpç¼–è¯‘å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install epel-release
yum -y install gcc gcc-c++ make pcre pcre-devel zlib zlib-devel openssl openssl-devel libxml2 libxml2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel openldap openldap-devel libmcrypt libmcrypt-devel
cd /usr/local/src
wget &amp;quot;https://www.php.net/distributions/php-5.6.40.tar.gz&amp;quot;
tar -zxvf php-5.6.40.tar.gz
cd php-5.6.40
./configure \
--prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc \
--with-mysql=mysqlnd --with-mysqli=mysqlnd \
--enable-ctype --with-freetype-dir \
--with-jpeg-dir --with-png-dir \
--with-zlib --with-libxml-dir=/usr --enable-xml \
--disable-rpath --enable-bcmath --enable-shmop \
--enable-sysvsem --enable-inline-optimization \
--with-curl  --with-iconv \
--enable-mbregex --enable-mbstring \
--with-mcrypt --with-gd --enable-gd-native-ttf \
--with-openssl --with-mhash --enable-pcntl \
--enable-sockets --with-ldap-sasl --with-xmlrpc \
--enable-zip --enable-soap \
--with-gettext --enable-fpm
make &amp;amp;&amp;amp; make install
cp php.ini-production /usr/local/php/etc/php.ini
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;phpç¼–è¯‘å®‰è£…è¯´æ˜&#34;&gt;phpç¼–è¯‘å®‰è£…è¯´æ˜&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;--prefix æŒ‡å®šphpçš„å®‰è£…ç›®å½•&lt;br&gt;
--with-config-file-path æŒ‡å®šphpçš„é…ç½®æ–‡ä»¶çš„ä½ç½®&lt;br&gt;
--with-mysqlã€--with-mysqli è®©phpå¯ä»¥æ“ä½œmysql&lt;br&gt;
--enable-fpm ä¸»è¦æ˜¯nginxè¦æ¥è°ƒç”¨phpè¯­è¨€ä½¿ç”¨php-fpm&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¯åŠ¨php-fpm&#34;&gt;å¯åŠ¨php-fpm&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/php/sbin:/usr/local/php/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶ï¼šmv /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„å°†&amp;quot;user&amp;quot;å’Œ&amp;quot;group&amp;quot;è¿™ä¸¤ä¸ªå˜é‡çš„å€¼éƒ½æ”¹ä¸ºroot&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼šphp-fpm -t&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹php-fpmçš„listené…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;éªŒè¯php-fpmçš„å¯åŠ¨&#34;&gt;éªŒè¯php-fpmçš„å¯åŠ¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep php-fpm&lt;/li&gt;
&lt;li&gt;ç«¯å£ netstat -tulnp | grep php-fpm&lt;/li&gt;
&lt;li&gt;æ—¥å¿—&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨systemctlç®¡ç†php-fpm&#34;&gt;ä½¿ç”¨systemctlç®¡ç†php-fpm&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/php-fpm.service &amp;lt;&amp;lt;EOF
[Unit]
Description=php-fpm
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/php/sbin/php-fpm -R
[Install]
WantedBy=multi-user.target
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;-R&amp;quot; ä»£è¡¨rootç”¨æˆ·å¯åŠ¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;nginxé»˜è®¤é…ç½®æ— æ³•å¤„ç†phpç¨‹åº&#34;&gt;nginxé»˜è®¤é…ç½®æ— æ³•å¤„ç†phpç¨‹åº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/local/nginx/html/test.php &amp;lt;&amp;lt;EOF
&amp;lt;?php
echo &amp;quot;hello moto zabbix!!!!!!!&amp;quot;;
?&amp;gt;
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;nginxphp-fpmç»“åˆçš„é…ç½®&#34;&gt;nginx+php-fpmç»“åˆçš„é…ç½®&lt;/h3&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ï¼š/usr/local/nginx/conf/nginx.conf&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;# å°†ç¬¬äºŒä¸ªé…ç½®åœ¨é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œéœ€è¦å»æ‰å‰é¢çš„æ³¨é‡Šï¼Œå…¶æ¬¡è¦ä¿®æ”¹fastcgi_paramè¿™ä¸€è¡Œ
location / {
  root html;
  index index.html index.htm index.php;
}
location ~\.php${
  root html;
  fastcgi_pass 127.0.0.1:9000;
  fastcgi_index index.php;
  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
  include fastcgi_params;
}
&lt;/code&gt;&lt;/pre&gt;
">03_LNMPä¹‹PHPæºç ç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/02_lnmp-zhi-nginx-fu-wu-qi-bian-yi-an-zhuang/"" data-c="
          &lt;h3 id=&#34;webæœåŠ¡å™¨&#34;&gt;webæœåŠ¡å™¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Apache&lt;/li&gt;
&lt;li&gt;Nginxï¼šå®‰è£…é…ç½®ç®€æ´ï¼ˆå®˜ç½‘ï¼šhttp://nginx.orgï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lnmpä¹‹nginxæœåŠ¡å™¨ç¼–è¯‘å®‰è£…&#34;&gt;LNMPä¹‹nginxæœåŠ¡å™¨ç¼–è¯‘å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y wget gcc gcc-c++ make pcre pcre-devel zlib zlib-devel openssl openssl-devel
cd /usr/local/src
wget &amp;quot;http://nginx.org/download/nginx-1.9.9.tar.gz&amp;quot;
tar -zxvf nginx-1.9.9.tar.gz
cd nginx-1.9.9
./configure --prefix=/usr/local/nginx
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ‰‹åŠ¨å¯åŠ¨å’Œå…³é—­nginx&#34;&gt;æ‰‹åŠ¨å¯åŠ¨å’Œå…³é—­nginx&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/nginx/sbin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ£€æŸ¥nginxé…ç½®ï¼šnginx -t&lt;/li&gt;
&lt;li&gt;å¯åŠ¨nginxï¼šnginx&lt;/li&gt;
&lt;li&gt;å…³é—­nginxï¼šnginx -s stop&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;éªŒè¯nginxå®‰è£…æ˜¯å¦æˆåŠŸ&#34;&gt;éªŒè¯nginxå®‰è£…æ˜¯å¦æˆåŠŸ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹ç›‘æ§ç«¯å£&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨è®¿é—®&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä½¿ç”¨systemctlç®¡ç†nginx&#34;&gt;ä½¿ç”¨systemctlç®¡ç†nginx&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/nginx.service &amp;lt;&amp;lt;EOF
[Unit]
Description=nginx
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/nginx/sbin/nginx
[Install]
WantedBy=multi-user.target
EOF
&lt;/code&gt;&lt;/pre&gt;
">02_LNMPä¹‹NginxæœåŠ¡å™¨ç¼–è¯‘å®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/01_zabbix4-4-jian-kong-xi-tong-da-jian-li-lun/"" data-c="
          &lt;h3 id=&#34;å¼€æºç›‘æ§ç³»ç»Ÿ&#34;&gt;å¼€æºç›‘æ§ç³»ç»Ÿ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Naglos&lt;br&gt;
1.1  é‡åœ¨ç›‘ç®¡å‘Šè­¦ï¼Œä½†zabbixæ›´å‡ºè‰²ï¼Œå‘Šè­¦é…ç½®webåŒ–&lt;br&gt;
1.2 Nagiosæ·»åŠ ç›‘æ§éœ€è¦æ›´æ”¹é…ç½®æ–‡ä»¶&lt;br&gt;
1.3 æ— ç›‘æ§å†å²æ•°æ®ï¼Œå›¾å½¢æ”¯æŒå·®&lt;br&gt;
1.4 ä¸æ”¯æŒåˆ†å¸ƒå¼ç›‘æ§&lt;/li&gt;
&lt;li&gt;Cacti&lt;br&gt;
2.1 é‡åœ¨é‡‡é›†æœåŠ¡å™¨ã€ç½‘ç»œè®¾å¤‡çš„ç›‘æ§æ•°æ®å¹¶ç»˜å›¾&lt;br&gt;
2.2 ä¾èµ–äºsnmpåè®®&lt;br&gt;
2.3 ä¸å¥½è‡ªå®šä¹‰ç›‘æ§&lt;br&gt;
2.4 å‘Šè­¦æ”¯æŒä¸å‹å¥½&lt;/li&gt;
&lt;li&gt;Zabbix&lt;br&gt;
3.1 æ‰€æœ‰ç›‘æ§é…ç½®éƒ½webåŒ–ï¼Œwebé‡‡ç”¨phpå¼€å‘&lt;br&gt;
3.2 æ”¯æŒåˆ†å¸ƒå¼ç›‘æ§&lt;br&gt;
3.3 æ”¯æŒå¤šç§æ•°æ®é‡‡é›†ï¼šç®€å•ç›‘æ§ã€agentç›‘æ§ã€snmpç›‘æ§ã€jmxç›‘æ§&lt;br&gt;
3.4 å‘Šè­¦é…ç½®webåŒ–ï¼šé‚®ä»¶ã€å¾®ä¿¡ã€é’‰é’‰ã€çŸ­ä¿¡&lt;br&gt;
3.5 zabbixå’Œgrafanaçš„ç»“åˆæ–¹ä¾¿ç›‘æ§æ•°æ®çš„å¯è§†åŒ–&lt;br&gt;
3.6 å…ˆæ­å»ºzabbixï¼Œåœ¨å®æˆ˜ä¸­zabbix&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;zabbixç›‘æ§çš„æ­å»º&#34;&gt;Zabbixç›‘æ§çš„æ­å»º&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;zabbix serverä¼šå»é‡‡é›†ç›‘æ§æ•°æ®ï¼Œé‡‡é›†çš„ç›‘æ§æ•°æ®ä¼šå†™å…¥åˆ°sqlæ•°æ®åº“&lt;/li&gt;
&lt;li&gt;zabbixçš„webåç«¯é‡‡ç”¨phpè¯­è¨€å¼€å‘ï¼Œæ‰€æœ‰é…ç½®ä¿¡æ¯ã€ç”¨æˆ·è®¤è¯ä¿¡æ¯ç­‰éƒ½ä¼šå†™å…¥sqlæ•°æ®åº“&lt;/li&gt;
&lt;li&gt;ä¼ä¸šçº§zabbixçš„æ­å»ºä¾èµ–ç¯å¢ƒï¼šä¸»æµé‡‡ç”¨LNMPç¯å¢ƒï¼ˆcentos7+nginx+mysql+phpï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;lnmp-webç¯å¢ƒä¸‹ç”¨æˆ·çš„è¯·æ±‚æµç¨‹&#34;&gt;LNMP webç¯å¢ƒä¸‹ç”¨æˆ·çš„è¯·æ±‚æµç¨‹&lt;/h3&gt;
&lt;p&gt;ç”¨æˆ·---&amp;gt;nginx---&amp;gt;php-fpm---&amp;gt;è¿è¡Œphpç¨‹åº---&amp;gt;æ“ä½œmysql&lt;/p&gt;
&lt;h3 id=&#34;zabbixå®æˆ˜ç¯å¢ƒä»‹ç»&#34;&gt;zabbixå®æˆ˜ç¯å¢ƒä»‹ç»&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;IPåœ°å€ï¼šxx.xx.xx.xx(è¯¾å ‚ä¸Šä¸º192.168.237.49)&lt;/li&gt;
&lt;li&gt;vmwareè™šæ‹Ÿçš„centos7ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;é˜²ç«å¢™å’Œselinuxå…³é—­&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;éƒ¨ç½²é¡ºåºè¯´æ˜&#34;&gt;éƒ¨ç½²é¡ºåºè¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;nginx+php-fpm&lt;/li&gt;
&lt;li&gt;mysqlæœåŠ¡å™¨æ­å»º&lt;/li&gt;
&lt;li&gt;zabbix serveræ­å»º&lt;/li&gt;
&lt;li&gt;zabbixç½‘é¡µå±•ç¤º&lt;/li&gt;
&lt;/ol&gt;
">01_Zabbix4-4ç›‘æ§ç³»ç»Ÿæ­å»ºç†è®º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/00-zabbix-xue-xi-mu-lu/"" data-c="
          &lt;p&gt;zabbixè¯¾ç¨‹å¤§çº²ï¼ˆç´¢å¼•ï¼‰&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h5 id=&#34;ç¬¬1ç« -lnmpç¯å¢ƒæ­å»ºå’Œzabbix40æºç ç¼–è¯‘å®‰è£…ä»¥åŠä¸­æ–‡ä¹±ç è§£å†³&#34;&gt;ç¬¬1ç«  LNMPç¯å¢ƒæ­å»ºå’ŒZabbix4.0æºç ç¼–è¯‘å®‰è£…ä»¥åŠä¸­æ–‡ä¹±ç è§£å†³&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;01_Zabbix4.4ç›‘æ§ç³»ç»Ÿæ­å»ºç†è®º&lt;/li&gt;
&lt;li&gt;02_LNMPä¹‹NginxæœåŠ¡å™¨ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;03_LNMPä¹‹PHPæºç ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;04_LNMPä¹‹mysqlæºç ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;05_LNMPç¯å¢ƒçš„éªŒè¯&lt;/li&gt;
&lt;li&gt;06_zabbix4.4ç‰ˆæœ¬ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;07_zabbix4.4ç½‘é¡µæ±‰åŒ–å’Œä¹±ç å¤„ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬2ç« -zabbix44å…¥é—¨ä½¿ç”¨&#34;&gt;ç¬¬2ç«  Zabbix4.4å…¥é—¨ä½¿ç”¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;08_zabbixæ·»åŠ ä¸»æœºç›‘æ§&lt;/li&gt;
&lt;li&gt;09_zabbixæ·»åŠ ç®€å•ç›‘æ§é¡¹ç›®&lt;/li&gt;
&lt;li&gt;10_zabbixæ·»åŠ ç›‘æ§å›¾å½¢å’Œè§¦å‘å™¨&lt;/li&gt;
&lt;li&gt;11_zabbixæ¨¡æ¿ä½¿ç”¨&lt;/li&gt;
&lt;li&gt;12_zabbixç”¨æˆ·ç®¡ç†&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬3ç« -zabbix44é‚®ä»¶-å¾®ä¿¡-é’‰é’‰æŠ¥è­¦&#34;&gt;ç¬¬3ç«  Zabbix4.4é‚®ä»¶ã€å¾®ä¿¡ã€é’‰é’‰æŠ¥è­¦&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;13_zabbixé‚®ä»¶å‘Šè­¦&lt;/li&gt;
&lt;li&gt;14_å‘Šè­¦å†…å®¹è‡ªå®šä¹‰å’Œå‘Šè­¦æŠ‘åˆ¶&lt;/li&gt;
&lt;li&gt;15_å¾®ä¿¡å‘Šè­¦å®æˆ˜&lt;/li&gt;
&lt;li&gt;16_é’‰é’‰å‘Šè­¦å®æˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬4ç« -zabbixç›‘æ§linuxæœåŠ¡å™¨&#34;&gt;ç¬¬4ç«  Zabbixç›‘æ§LinuxæœåŠ¡å™¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;17_Linuxä¸‹zabbixå®¢æˆ·ç«¯ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;18_zabbixç›‘æ§cpuã€å†…å­˜ã€ç£ç›˜ã€æµé‡&lt;/li&gt;
&lt;li&gt;19_zabbixå®¢æˆ·ç«¯çš„ä¸»åŠ¨å¼å’Œè¢«åŠ¨å¼&lt;/li&gt;
&lt;li&gt;20_zabbixä½¿ç”¨æ¨¡æ¿ç›‘æ§Linux&lt;/li&gt;
&lt;li&gt;21_zabbixè‡ªå®šä¹‰keyç›‘æ§Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬5ç« -zabbixç›‘æ§windows7&#34;&gt;ç¬¬5ç«  Zabbixç›‘æ§Windows7&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;22_windows7å®‰è£…zabbixå®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;23_zabbixç›‘æ§windowså®æˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬6ç« -zabbixåˆ†å¸ƒå¼-è‡ªåŠ¨å‘ç°-è‡ªåŠ¨æ³¨å†Œ&#34;&gt;ç¬¬6ç«  Zabbixåˆ†å¸ƒå¼ã€è‡ªåŠ¨å‘ç°ã€è‡ªåŠ¨æ³¨å†Œ&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;24_zabbixåˆ†å¸ƒå¼proxyç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;li&gt;25_zabbixåˆ†å¸ƒå¼ç›‘æ§Linux&lt;/li&gt;
&lt;li&gt;26_zabbixä¸»æœºè‡ªåŠ¨å‘ç°&lt;/li&gt;
&lt;li&gt;27_zabbixä¸»æœºè‡ªåŠ¨æ³¨å†Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬7ç« -zabbix40çš„snmpä½¿ç”¨å®æˆ˜&#34;&gt;ç¬¬7ç«  Zabbix4.0çš„SNMPä½¿ç”¨å®æˆ˜&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;28_snmpæœåŠ¡å™¨çš„å®‰è£…&lt;/li&gt;
&lt;li&gt;29_snmpçš„OIDå’ŒMIB&lt;/li&gt;
&lt;li&gt;30_zabbixä½¿ç”¨SNMPç›‘æ§å®æˆ˜&lt;/li&gt;
&lt;li&gt;31_zabbixçš„snmpè‡ªåŠ¨å‘ç°å®æˆ˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬8ç« -grafana60é…·ç‚«å›¾å¤§å±ç›‘æ§&#34;&gt;ç¬¬8ç«  Grafana6.0é…·ç‚«å›¾å¤§å±ç›‘æ§&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;32_grafanaç®€ä»‹ä¸å®‰è£…&lt;/li&gt;
&lt;li&gt;33_grafanaç®€å•ä½¿ç”¨å’Œæ’ä»¶å®‰è£…&lt;/li&gt;
&lt;li&gt;34_grafanaè¯»å–zabbixæ•°æ®å±•ç°&lt;/li&gt;
&lt;li&gt;35_grafanaå˜é‡é«˜çº§åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬9ç« -zabbixç›‘æ§mysqlæ•°æ®åº“&#34;&gt;ç¬¬9ç«  Zabbixç›‘æ§Mysqlæ•°æ®åº“&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;36_zabbixè‡ªå®šä¹‰keyç›‘æ§mysql&lt;/li&gt;
&lt;li&gt;37_zabbixè‡ªåŠ¨å‘ç°ç›‘æ§mysql&lt;/li&gt;
&lt;li&gt;38_zabbixç›‘æ§mysqlä¸»ä»åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;ç¬¬10ç« -pythonè°ƒç”¨zabbix-apiå®æˆ˜å…¥é—¨&#34;&gt;ç¬¬10ç«  Pythonè°ƒç”¨Zabbix Apiå®æˆ˜å…¥é—¨&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;39_zabbixçš„apiè®¤è¯å®æˆ˜&lt;/li&gt;
&lt;li&gt;40_zabbixçš„apiè·å–ä¸»æœºä¿¡æ¯&lt;/li&gt;
&lt;li&gt;41_zabbixçš„apiè·å–æ¨¡æ¿ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;42_zabbixçš„apiåˆ›å»ºç›‘æ§ä¸»æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&#34;faq&#34;&gt;[FAQ]&lt;/h5&gt;
">00 zabbixå­¦ä¹ ç›®å½•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/wireshark-de-lua-cha-jian-kai-fa/"" data-c="
          &lt;p&gt;wiresharkè§£æè‡ªå®šä¹‰åè®®&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;åŠ è½½é…ç½®&#34;&gt;åŠ è½½é…ç½®&lt;/h3&gt;
&lt;p&gt;å®‰è£…æ ¹ç›®å½•ä¸‹&lt;code&gt;init.lua&lt;/code&gt;æ–‡ä»¶ä¸ºwiresharkæ‰“å¼€ä¹‹åã€è¯»å–æˆ–è€…æŠ“å–æ•°æ®ä¹‹å‰åŠ è½½çš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œé¢åŒ…å«wiresharkå¯¹æ•°æ®çš„è§£æé…ç½®ï¼Œå¦‚æœæƒ³è¦åŠ è½½è‡ªå·±ç¼–å†™çš„luaæ’ä»¶ï¼Œå¯åœ¨æ­¤æ–‡ä»¶æœ«å°¾è¿½åŠ &lt;code&gt;dofile(DATA_DIR..&amp;quot;dtd_gen.lua&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;è§£æåŸç†&#34;&gt;è§£æåŸç†&lt;/h3&gt;
&lt;p&gt;åè®®ä½¿ç”¨ç«¯å£æŸ¥çœ‹ï¼šè§†å›¾--å†…éƒ¨--æ”¯æŒåè®®åˆ—è¡¨ï¼ˆDissector Tablesï¼‰--Integer Tables--TCP port&lt;/p&gt;
&lt;h3 id=&#34;æ–°åè®®æ³¨å†Œ&#34;&gt;æ–°åè®®æ³¨å†Œ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ æ–°åè®®ï¼š&lt;br&gt;
&lt;code&gt;local test=Proto(name,desc)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ·»åŠ è§£æå™¨ï¼š&lt;br&gt;
&lt;code&gt;function test.dissector(tvb.pinfo,tree) end&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ³¨å†Œæ–°åè®®åˆ°wiresharkä¸­ï¼š&lt;br&gt;
&lt;code&gt;DissectorTable.get(&#39;è¡¨å&#39;):add(ç«¯å£,test)&lt;/code&gt;&lt;br&gt;
ä¿å­˜luaæ–‡ä»¶åˆ°&lt;code&gt;å…¨å±€é…ç½®&lt;/code&gt;ä¸­&lt;br&gt;
(å…¨å±€é…ç½®ä½ç½®ï¼šå¸®åŠ©--å…³äºwireshark--æ–‡ä»¶å¤¹--å…¨å±€Luaæ’ä»¶)&lt;/li&gt;
&lt;li&gt;Luaæ’ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;local learn = Proto(&#39;learn&#39;,&#39;Learn Protocol&#39;)
function learn.dissector(tvb,pinfo,tree)
end
DissectorTable.get(&#39;tcp.port&#39;):add(10002,learn)
# (tvb,pinfo,tree)
# tvb ç¼“å†²æ•°æ®åŒ…
# pinfo åè®®ä¿¡æ¯
# tree å±•ç¤ºçš„æ ‘çŠ¶ç»“æ„
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è§£é‡Šå™¨ç¼–å†™&#34;&gt;è§£é‡Šå™¨ç¼–å†™&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;dissectorå‡½æ•°ï¼Œå…·ä½“æ•°æ®åŒ…è§£æåœ¨wiresharkä¸­çš„æ ‘çŠ¶ç»“æ„&lt;/li&gt;
&lt;li&gt;æ˜ç¡®åè®®æ ¼å¼ï¼šLearnåè®®&lt;br&gt;
2.1 Trans_ID(16bit)&lt;br&gt;
2.2 Msg_Type(16bit)&lt;br&gt;
2.3 Msg_Data(32bit)&lt;br&gt;
2.4  Luaè¯­è¨€ä¸­çš„ProtoFieldè¡¨ç¤ºåè®®å­—æ®µ&lt;br&gt;
&lt;code&gt;å¯ä½¿ç”¨uint8ã€uint16ã€uint32ç­‰ç±»å‹&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ProtoField.uint16(&amp;quot;learn.ID&amp;quot;,&amp;quot;ID&amp;quot;)&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ProtoField.uint16(&amp;quot;learn.Type&amp;quot;,&amp;quot;Type&amp;quot;)&lt;/code&gt;&lt;br&gt;
&lt;code&gt;ProtoField.uint32(&amp;quot;learn.Data&amp;quot;,&amp;quot;Data&amp;quot;)&lt;/code&gt;&lt;br&gt;
2.5 åˆå¹¶å­—æ®µ&lt;br&gt;
learn.fields={Trans_ID,Msg_Type,Msg_Data}&lt;/li&gt;
&lt;li&gt;è§£æå‡½æ•°&lt;br&gt;
3.1 è®¾ç½®wiresharkæŠ¥æ–‡åˆ—è¡¨ä¸Šprotocolåˆ—æ–‡æœ¬&lt;br&gt;
&lt;code&gt;pinfo.cols.protocol=learn.name&lt;/code&gt;&lt;br&gt;
æˆ–è€…ç›´æ¥æŒ‡å®šåè®®åç§°&lt;br&gt;
&lt;code&gt;pinfo.cols.protocol = &amp;quot;learn&amp;quot;&lt;/code&gt;&lt;br&gt;
3.2 æ·»åŠ æ ‘çŠ¶æ–°èŠ‚ç‚¹&lt;br&gt;
&lt;code&gt;local subtree = tree:add(learn,tvb(0))&lt;/code&gt;&lt;br&gt;
3.3 æ·»åŠ åè®®è§£ææ ‘&lt;br&gt;
&lt;code&gt;subtree:add(Trans_ID,tvb(0,2))&lt;/code&gt;&lt;br&gt;
&lt;code&gt;subtree:add(Msg_Type,tvb(2,2))&lt;/code&gt;&lt;br&gt;
&lt;code&gt;subtree:add(Msg_Data,tvb(4,4)) # tvb(4,4) èµ·å§‹ä½ç½®ä¸º4ï¼Œåç§»4å­—èŠ‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Luaæ’ä»¶(learn.lua)&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-lua&#34;&gt;local learn = Proto(&#39;learn&#39;,&#39;Learn Protocol&#39;)
Trans_ID = ProtoField.uint16(&amp;quot;learn.ID&amp;quot;,&amp;quot;ID&amp;quot;)
Msg_Type = ProtoField.uint16(&amp;quot;learn.Type&amp;quot;,&amp;quot;Type&amp;quot;)
Msg_Data = ProtoField.uint32(&amp;quot;learn.Data&amp;quot;,&amp;quot;Data&amp;quot;)

learn.fields = {Trans_ID,Msg_Type,Msg_Data}
function learn.dissector(tvb,pinfo,tree)
	pinfo.cols.protocol = &amp;quot;learn&amp;quot;
	local subtree = tree:add(learn,tvb(0))
	subtree:add(Trans_ID,tvb(0,2))
	subtree:add(Msg_Type,tvb(2,2))
	subtree:add(Msg_Data,tvb(4,4)) 
end
DissectorTable.get(&#39;tcp.port&#39;):add(10002,learn) 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ–°åè®®æµ‹è¯•&#34;&gt;æ–°åè®®æµ‹è¯•&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;xcapä»‹ç»&lt;br&gt;
&lt;a href=&#34;https://xcap.weebly.com&#34;&gt;ä¸‹è½½&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ–°å»ºæ•°æ®åŒ…&lt;br&gt;
packergroup(æŠ¥æ–‡ç»„)--creat packet group(åˆ›å»ºæŠ¥æ–‡ç»„)--åç§°â€œlearn_packetâ€--æŠ¥æ–‡ç•Œé¢å·¦ä¸Šè§’+å·ï¼Œæ·»åŠ æŠ¥æ–‡--åŒå‡»æ·»åŠ åˆ°æŠ¥æ–‡è¿›è¡Œç¼–è¾‘&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585756144770.png&#34; alt=&#34;1.png&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585756165338.png&#34; alt=&#34;2.png&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585756176680.png&#34; alt=&#34;3.png&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585756190778.png&#34; alt=&#34;4.png&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;code&gt;æ³¨æ„ï¼šä¸Šå›¾ä¸­Marker(Hex)çš„å€¼å…¨éƒ¨è®¾ä¸º0&lt;/code&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585756203151.png&#34; alt=&#34;5.png&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;wiresharkæŠ“åŒ…çœ‹æ–°åè®®&lt;/li&gt;
&lt;/ol&gt;
">wiresharkçš„Luaæ’ä»¶å¼€å‘</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/pycharm-ji-huo/"" data-c="
          &lt;p&gt;pycharm2020æ¿€æ´»&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;a href=&#34;https://iamcracker.com/pycharm-crack-latest-2020/&#34;&gt;è¡¥ä¸é•¿æœŸé“¾æ¥&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://zhile.io/&#34;&gt;é•¿æœŸå‚è€ƒé“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;201933ç‰ˆæœ¬&#34;&gt;2019.3.3ç‰ˆæœ¬&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/cruelty_angel/p/10100760.html&#34;&gt;å‚è€ƒ&lt;/a&gt;&lt;/p&gt;
">pycharmæ¿€æ´»</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/qun-hui-di-san-fang-cha-jian-yuan/"" data-c="
          &lt;p&gt;æ•´ç†å¯ç”¨çš„ç¾¤æ™–ç¬¬ä¸‰æ–¹å¥—ä»¶æºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯ç”¨çš„åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;http://packages.jdel.org/
http://packages.pcloadletter.co.uk
http://packages.synocommunity.com
http://packages.synocommunity.com/?beta=1
http://spk.unzureichende.info/
http://syno.dierkse.nl/
http://synology.acmenet.ru
http://synology.sysco.ch
http://www.cphub.net
http://www.hildinger.us/sspks/
http://www.pulse-station.com/repo/
https://get.filebot.net/syno/
https://spk.netzbaer.de/
https://synology.cambier.org/
https://synology.emby.media/?package_repository=360efc6e-de72-4073-b603-2bfbd7001586
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å·²ç»ä¸å¯ç”¨åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;http://cytec.us/spk
http://e-remonty.info/spkrepo/packages
http://ggteknikus.tk/sspks/
http://jaspr.kastner.wtf/
http://packages.hoel.dk
http://packages.missilehugger.com
http://packages.page81.net/
http://packages.quadrat4.de
http://repo.synozwave.com/
http://spk.diablos-netzwerk.de/
http://spk.naefmarco.ch/spkrepo/packages/
http://spk.nas-mirror.de/spkrepo/packages
http://spk.q14six.de
http://subtitlessh.no-ip.biz/repo_spk/
http://synobox.fr.nf/synopackages/
http://synobox.fr.nf/synopackages/beta.php
http://synology.mdevries.org/spkrepo/packages
http://synology.nzbusenet.com/
http://synopkg.superzebulon.org/spkrepo/packages
http://synopkgs-garble.rhcloud.com/
http://update.10trum.de/packageupdate/getpackages.php
http://www.need-soft.com/packages/index.php/spkrepo/packages
https://www.christoph-papke.de/spkrepo/spkrepo/packages
&lt;/code&gt;&lt;/pre&gt;
">ç¾¤æ™–ç¬¬ä¸‰æ–¹å¥—ä»¶æº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/win7-kai-qi-duo-yong-hu-yuan-cheng-he-ben-di-tong-shi-deng-lu/"" data-c="
          &lt;p&gt;å¤šç”¨æˆ·è¿œç¨‹ç™»å½•&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;win+R --&amp;gt; gpedit.msc --&amp;gt; å›è½¦(è¿›å…¥æœ¬åœ°ç»„ç­–ç•¥ç¼–è¾‘å™¨) --&amp;gt; è®¡ç®—æœºé…ç½® ---&amp;gt; ç®¡ç†æ¨¡æ¿ ---&amp;gt; Windowsç»„ä»¶ ---&amp;gt; è¿œç¨‹æ¡Œé¢æœåŠ¡ ---&amp;gt; è¿œç¨‹æ¡Œé¢ä¼šè¯ä¸»æœº ---&amp;gt; è¿æ¥&lt;br&gt;
---&amp;gt; é™åˆ¶è¿æ¥çš„æ•°é‡ --&amp;gt; æ‰“å¼€é™åˆ¶è¿æ¥æ•°ï¼Œè¿™é‡Œæœªé…ç½®æ—¶ï¼Œé»˜è®¤çš„æœ€å¤§è¿æ¥æ•°æ˜¯1 --&amp;gt; ç‚¹å‡»å·²å¯ç”¨ ---&amp;gt; å…è®¸çš„RDæœ€å¤§è¿æ¥æ•°ä¸ºè¯¥ä¸º2 ---&amp;gt; ç¡®å®š&lt;/p&gt;
&lt;p&gt;--&amp;gt; å°†è¿œç¨‹æ¡Œé¢æœåŠ¡ç”¨æˆ·é™åˆ¶åˆ°å•ç‹¬çš„è¿œç¨‹æ¡Œé¢æœåŠ¡ä¼šè¯ --&amp;gt; å·²ç¦ç”¨ --&amp;gt; ç¡®å®š&lt;/p&gt;
&lt;p&gt;--&amp;gt;ä¸‹è½½universal termsrv.dll patchç¬¬ä¸‰æ–¹å·¥å…· --&amp;gt; ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒUniversalTermsrvPatch-x64.exeæ–‡ä»¶ --&amp;gt; ç ´è§£ --&amp;gt;é‡å¯è®¡ç®—æœº&lt;/p&gt;
">win7å¼€å¯å¤šç”¨æˆ·è¿œç¨‹å’Œæœ¬åœ°åŒæ—¶ç™»å½•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/flash-chi-xian-an-zhuang-bao-xia-zai/"" data-c="
          &lt;p&gt;é’ˆå¯¹ä¸åŒæµè§ˆå™¨ä¸‹è½½flashæ’ä»¶&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;Flashä¸­å›½å®˜ç½‘åœ°å€ï¼š&lt;a href=&#34;https://www.flash.cn&#34;&gt;https://www.flash.cn&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€‚ç”¨äºfirefox&#34;&gt;é€‚ç”¨äºFirefox&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½ç¦»çº¿ç‰ˆï¼Œéœ€è¦æ·»åŠ ï¼š/flashplayer/3200330/install_flash_player_cn.exe&lt;br&gt;
å³ä¸‹è½½åœ°å€ä¸ºï¼š&lt;a href=&#34;https://www.flash.cn/flashplayer/3200330/install_flash_player_cn.exe&#34;&gt;https://www.flash.cn/flashplayer/3200330/install_flash_player_cn.exe&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€‚ç”¨äºchrome&#34;&gt;é€‚ç”¨äºChrome&lt;/h3&gt;
&lt;p&gt;ä¸‹è½½ç¦»çº¿ç‰ˆï¼Œéœ€è¦æ·»åŠ ï¼š/flashplayer/3200330/install_flash_player_ppapi_cn.exe&lt;br&gt;
å³ä¸‹è½½åœ°å€ä¸ºï¼š&lt;a href=&#34;https://www.flash.cn/flashplayer/3200330/install_flash_player_ppapi_cn.exe&#34;&gt;https://www.flash.cn/flashplayer/3200330/install_flash_player_ppapi_cn.exe&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¿½åŠ éƒ¨åˆ†è§£é‡Š&#34;&gt;è¿½åŠ éƒ¨åˆ†è§£é‡Š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Firefoxæ²¡æœ‰åç¼€ï¼Œç›´æ¥æ˜¯_cnç»“å°¾ï¼Œä»£è¡¨ä¸­å›½ç‰ˆï¼›Chromeçš„flashæ’ä»¶æ˜¯ppapiç‰ˆï¼›é€‚ç”¨äºIEçš„æ˜¯activexç‰ˆã€‚&lt;/li&gt;
&lt;li&gt;&amp;quot;3200330&amp;quot;æ˜¯ç‰ˆæœ¬å·ï¼Œéœ€è¦ä»ä¸­å›½å®˜ç½‘è·å–ï¼Œå¦‚ä¸‹å›¾ï¼Œç‰ˆæœ¬å·ä¸ºâ€œ32.0.0.330â€ï¼Œå»æ‰ä¸­é—´çš„ç‚¹å°±å¾—åˆ°urlä¸­çš„ç‰ˆæœ¬å·&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1585754987519.png&#34; alt=&#34;Flashç¦»çº¿å®‰è£…åŒ…ä¸‹è½½&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
">Flashç¦»çº¿å®‰è£…åŒ…ä¸‹è½½</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/chrome-chi-xian-an-zhuang-bao-xia-zai/"" data-c="
          &lt;h1 id=&#34;è°·æ­Œchromeæµè§ˆå™¨&#34;&gt;è°·æ­ŒChromeæµè§ˆå™¨&lt;/h1&gt;
&lt;h2 id=&#34;ä¸‹è½½&#34;&gt;ä¸‹è½½&lt;/h2&gt;
&lt;h3 id=&#34;windows&#34;&gt;windows&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰“å¼€&lt;a href=&#34;http://www.google.cn/chrome/browser/desktop/index.html&#34;&gt;http://www.google.cn/chrome/browser/desktop/index.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ç½‘å€æœ€ååŠ ä¸Šï¼š&lt;strong&gt;?standalone=1&amp;amp;platform=win64&lt;/strong&gt;ï¼Œå›è½¦é”®åæ‰“å¼€çš„æ˜¯ 64ä½ä¸‹è½½é¡µé¢ï¼Œç‚¹å‡»â€œä¸‹è½½Chromeâ€æŒ‰é’®ï¼Œå¾—åˆ°çš„å°±æ˜¯Google Chrome 64ä½ç¦»çº¿å®‰è£…åŒ…&lt;br&gt;
&lt;strong&gt;æ³¨é‡Š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å…¶ä¸­ ?standalone=1 æŒ‡ç¦»çº¿å®‰è£…åŒ…ï¼Œplatform=win64 æŒ‡64ä½Windows ç‰ˆæœ¬ã€‚&lt;br&gt;
å¦‚æœåŠ ä¸Šçš„åªæ˜¯â€œ?standalone=1â€å¯ä»¥ç”¨æ¥ä¸‹è½½32ä½çš„Chromeç¦»çº¿åŒ…ã€‚ç”¨â€œmacâ€æ›¿æ¢â€œwinâ€ï¼Œå°±å¯ä»¥ä¸‹è½½ Mac ç‰ˆæœ¬çš„äº†ã€‚&lt;br&gt;
å¯ä»¥é€‰æ‹©ä¸åŒçš„ç‰ˆæœ¬&lt;a href=&#34;https://www.google.com/chrome/?system=true&amp;amp;standalone=1&amp;amp;platform=win64&#34;&gt;https://www.google.com/chrome/?system=true&amp;amp;standalone=1&amp;amp;platform=win64&lt;/a&gt;ï¼Œå»ºè®®é€‰æ‹©ä¼ä¸šç‰ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;linuxcentos7&#34;&gt;linux(Centos7)&lt;/h3&gt;
&lt;p&gt;æœ€æ–°ç‰ˆæœ¬ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š&lt;br&gt;
&lt;a href=&#34;https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm&#34;&gt;https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm&lt;/a&gt;&lt;br&gt;
å®‰è£…æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; yum install -y lsb
 yum install -y libXScrnSaver 
 yum localinstall -y google-chrome-stable_current_x86_64.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¸¸ç”¨é“¾æ¥&#34;&gt;å¸¸ç”¨é“¾æ¥&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://support.google.com/chrome/a/answer/9049675&#34;&gt;Google Chrome ç­–ç•¥é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;macOSæœ€æ–°ç¨³å®šç‰ˆå›ºå®šä¸‹è½½åœ°å€
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/chrome/mac/stable/GGRO/googlechrome.dmg&#34;&gt;Chrome for macOS with Intel chip&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/chrome/mac/universal/stable/GGRO/googlechrome.dmg&#34;&gt;Chrome for macOS with Apple chip&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Linuxæœ€æ–°ç¨³å®šç‰ˆå›ºå®šä¸‹è½½åœ°å€
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&#34;&gt;Chrome for Linux â€“ deb&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm&#34;&gt;Chrome for Linux â€“ rpm&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;Windows System Setupæœ€æ–°ç¨³å®šç‰ˆå›ºå®šä¸‹è½½åœ°å€ï¼Œå®‰è£…åœ¨&lt;code&gt;Program Files&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™å®‰è£…
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BC8677E28-5C52-39F1-E4F4-28C874ED170E%7D%26lang%3Den%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dtrue/update2/installers/ChromeStandaloneSetup.exe&#34;&gt;Google Chrome System Setup x86 - 32bit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BC8677E28-5C52-39F1-E4F4-28C874ED170E%7D%26lang%3Den%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dtrue%26ap%3Dx64-stable/update2/installers/ChromeStandaloneSetup64.exe&#34;&gt;Google Chrome System Setup x64 - 64bit&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://tools.shuax.com/chrome/&#34;&gt;Windows User Setupï¼Œå®‰è£…åœ¨Usersæ–‡ä»¶å¤¹ä¸‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Windowsç‰ˆå›ºå®šä¸‹è½½åœ°å€
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/chrome/?standalone=1&amp;amp;platform=win&#34;&gt;Download Google Chrome Offline Installer (32-bit)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/chrome/?standalone=1&amp;amp;platform=win64&#34;&gt;Download Google Chrome Offline Installer (64-bit)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/chrome/?system=true&amp;amp;standalone=1&amp;amp;platform=win&#34;&gt;Google Chrome Offline Installer for All User Accounts (32-bit)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/chrome/?system=true&amp;amp;standalone=1&amp;amp;platform=win64&#34;&gt;Google Chrome Offline Installer for All User Accounts (64-bit)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/chrome/eula.html?msi=true&#34;&gt;Download Google Chrome MSI Installer for Windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.google.com/intl/en/chrome/business/browser/admin/&#34;&gt;Download Google Chrome MSI Installer for Windows (Alternative Link)&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç¦æ­¢æ›´æ–°&#34;&gt;ç¦æ­¢æ›´æ–°&lt;/h2&gt;
&lt;p&gt;Chrome åœ¨ Windows å¹³å°åŒæ—¶å‘å¸ƒä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ä¸šç‰ˆå³&lt;code&gt;Windows System Setup&lt;/code&gt;ï¼Œå®‰è£…åœ¨&lt;code&gt;Program Files&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™å®‰è£…ï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç‰ˆå³&lt;code&gt;Windows User Setup&lt;/code&gt;ï¼Œå®‰è£…åœ¨&lt;code&gt;Users&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œæ™®é€šç”¨æˆ·å°±å¯ä»¥å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¼ä¸šç‰ˆ&#34;&gt;ä¼ä¸šç‰ˆ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸‹è·¯å¾„ï¼Œæ‰‹åŠ¨ç¦ç”¨æˆ–è€…åˆ é™¤å³å¯ç¦ç”¨è‡ªåŠ¨æ›´æ–°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ›´æ–°æœåŠ¡ï¼š
Google æ›´æ–°æœåŠ¡ (gupdate)
Google æ›´æ–°æœåŠ¡ (gupdatem)
Google Chrome Elevation Service (GoogleChromeElevationService)

# ä»»åŠ¡è®¡åˆ’ï¼š
GoogleUpdateTaskMachineCore
GoogleUpdateTaskMachineUA

# å®‰è£…è·¯å¾„ï¼š
x64
C:\Program Files\Google\Chrome\Application\chrome.exe
x86
C:\Program Files (x86)\Google\Chrome\Application\chrome.exe

# GoogleUpdate.exe è·¯å¾„ï¼š
x64 å’Œ x86 ç‰ˆæœ¬ç›¸åŒ
C:\Program Files (x86)\Google\Update\GoogleUpdate.exe
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç”¨æˆ·ç‰ˆ&#34;&gt;ç”¨æˆ·ç‰ˆ&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç”¨æˆ·ç‰ˆå®‰è£…è·¯å¾„ï¼š
C:\Users\ç”¨æˆ·å\AppData\Local\Google\Chrome\Application\chrome.exe
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”¨æˆ·ç‰ˆä¸å¸¦è‡ªåŠ¨æ›´æ–°ç¨‹åº&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨-powershell-ç¦ç”¨æ›´æ–°&#34;&gt;ä½¿ç”¨ PowerShell ç¦ç”¨æ›´æ–°&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€PowerShellç›´æ¥å¤åˆ¶ä»¥ä¸‹è„šæœ¬è¿è¡Œä¸€ä¸‹æ›´åŠ æ–¹ä¾¿ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;if ([Environment]::Is64BitOperatingSystem -eq &amp;quot;True&amp;quot;) {
    #Write-Host &amp;quot;64-bit OS&amp;quot;
    $PF=${env:ProgramFiles(x86)}
}
else {
    #Write-Host &amp;quot;32-bit OS&amp;quot;
    $PF=$env:ProgramFiles
}

if ($(Test-Path &amp;quot;$env:ProgramFiles\Google\Chrome\Application\chrome.exe&amp;quot;) -eq &amp;quot;true&amp;quot;) {
    # ç»“æŸè¿›ç¨‹
    taskkill /im chrome.exe /f
    taskkill /im GoogleUpdate.exe /f
    # Google Chrome æ›´æ–°æœåŠ¡
    #è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ sc.exe stop &amp;quot;service name&amp;quot;
    Stop-Service -Name &amp;quot;gupdate&amp;quot;
    Stop-Service -Name &amp;quot;gupdatem&amp;quot;
    Stop-Service -Name &amp;quot;GoogleChromeElevationService&amp;quot;
    # Windows 10 é»˜è®¤ PS ç‰ˆæœ¬ 5.1 æ²¡æœ‰ Remove-Service å‘½ä»¤
    # This cmdlet was added in PS v6. See https://docs.microsoft.com/en-us/powershell/scripting/whats-new/what-s-new-in-powershell-core-60?view=powershell-6#cmdlet-updates.
    #Remove-Service -Name &amp;quot;gupdate&amp;quot;
    #Remove-Service -Name &amp;quot;gupdatem&amp;quot;
    #Remove-Service -Name &amp;quot;GoogleChromeElevationService&amp;quot;
    # sc åœ¨ PowerShell ä¸­æ˜¯ Set-Content åˆ«åï¼Œæ‰€ä»¥è¦ä½¿ç”¨ sc.exe å¦åˆ™æ‰§è¡Œåæ— ä»»ä½•æ•ˆæœ
    sc.exe delete &amp;quot;gupdate&amp;quot;
    sc.exe delete &amp;quot;gupdatem&amp;quot;
    sc.exe delete &amp;quot;GoogleChromeElevationService&amp;quot;
    # ä»»åŠ¡è®¡åˆ’ä¼ä¸šç‰ˆ
    schtasks.exe /Delete /TN \GoogleUpdateBrowserReplacementTask /F
    schtasks.exe /Delete /TN \GoogleUpdateTaskMachineCore /F
    schtasks.exe /Delete /TN \GoogleUpdateTaskMachineUA /F
    # ç§»é™¤æ›´æ–°ç¨‹åº
    Remove-Item &amp;quot;$PF\Google\Update\&amp;quot; -Recurse  -Force
    Write-Output &amp;quot;Disable Google Chrome Enterprise x64 Auto Update Successful!&amp;quot;
}
elseif ($(Test-Path &amp;quot;${env:ProgramFiles(x86)}\Google\Chrome\Application\chrome.exe&amp;quot;) -eq &amp;quot;true&amp;quot;) {
    # ç»“æŸè¿›ç¨‹
    taskkill /im chrome.exe /f
    taskkill /im GoogleUpdate.exe /f
    # Google Chrome æ›´æ–°æœåŠ¡
    #è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ sc.exe stop &amp;quot;service name&amp;quot;
    Stop-Service -Name &amp;quot;gupdate&amp;quot;
    Stop-Service -Name &amp;quot;gupdatem&amp;quot;
    Stop-Service -Name &amp;quot;GoogleChromeElevationService&amp;quot;
    # Windows 10 é»˜è®¤ PS ç‰ˆæœ¬ 5.1 æ²¡æœ‰ Remove-Service å‘½ä»¤
    # This cmdlet was added in PS v6. See https://docs.microsoft.com/en-us/powershell/scripting/whats-new/what-s-new-in-powershell-core-60?view=powershell-6#cmdlet-updates.
    #Remove-Service -Name &amp;quot;gupdate&amp;quot;
    #Remove-Service -Name &amp;quot;gupdatem&amp;quot;
    #Remove-Service -Name &amp;quot;GoogleChromeElevationService&amp;quot;
    # sc åœ¨ PowerShell ä¸­æ˜¯ Set-Content åˆ«åï¼Œæ‰€ä»¥è¦ä½¿ç”¨ sc.exe å¦åˆ™æ‰§è¡Œåæ— ä»»ä½•æ•ˆæœ
    sc.exe delete &amp;quot;gupdate&amp;quot;
    sc.exe delete &amp;quot;gupdatem&amp;quot;
    sc.exe delete &amp;quot;GoogleChromeElevationService&amp;quot;
    # ä»»åŠ¡è®¡åˆ’ä¼ä¸šç‰ˆ
    schtasks.exe /Delete /TN \GoogleUpdateBrowserReplacementTask /F
    schtasks.exe /Delete /TN \GoogleUpdateTaskMachineCore /F
    schtasks.exe /Delete /TN \GoogleUpdateTaskMachineUA /F
    # ç§»é™¤æ›´æ–°ç¨‹åº
    Remove-Item &amp;quot;$PF\Google\Update\&amp;quot; -Recurse  -Force
    Write-Output &amp;quot;Disable Google Chrome Enterprise x86 Auto Update Successful!&amp;quot;
}
else {
    Write-Output &amp;quot;No Google Chrome Enterprise Installation Detected!&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å¾®è½¯edgeæµè§ˆå™¨&#34;&gt;å¾®è½¯Edgeæµè§ˆå™¨&lt;/h1&gt;
&lt;h2 id=&#34;ä¸‹è½½-2&#34;&gt;ä¸‹è½½&lt;/h2&gt;
&lt;p&gt;ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;https://www.microsoft.com/zh-cn/edge/business/download&#34;&gt;https://www.microsoft.com/zh-cn/edge/business/download&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¸¸ç”¨é“¾æ¥-2&#34;&gt;å¸¸ç”¨é“¾æ¥&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.microsoft.com/zh-cn/deployedge/configure-microsoft-edge&#34;&gt;Microsoft Edge ç­–ç•¥é…ç½®&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://aka.ms/EdgeEnterprise&#34;&gt;Microsoft Edgeä¼ä¸šç‰ˆä¸‹è½½&lt;/a&gt;
&lt;ol&gt;
&lt;li&gt;Windows
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://go.microsoft.com/fwlink/?LinkID=2093437&#34;&gt;Microsoft Edge X64.msi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://go.microsoft.com/fwlink/?LinkID=2093505&#34;&gt;Microsoft Edge X86.msi&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;macOS
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://go.microsoft.com/fwlink/?linkid=2093504&amp;amp;platform=Mac&amp;amp;Consent=1&amp;amp;channel=Stable&#34;&gt;Microsoft Edge Universal (Apple Chip)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://go.microsoft.com/fwlink/?linkid=2093504&amp;amp;platform=Mac&amp;amp;Consent=1&amp;amp;channel=Stable&#34;&gt;Microsoft Edge 64-bit (Intel Chip)&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç¦æ­¢æ›´æ–°-2&#34;&gt;ç¦æ­¢æ›´æ–°&lt;/h2&gt;
&lt;p&gt;Edge åœ¨ Windows å¹³å°åŒæ—¶å‘å¸ƒä¸¤ä¸ªç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¼ä¸šç‰ˆå³&lt;code&gt;Windows System Setup&lt;/code&gt;ï¼Œå®‰è£…åœ¨&lt;code&gt;Program Files&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™å®‰è£…ï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç‰ˆå³&lt;code&gt;Windows User Setup&lt;/code&gt;ï¼Œå®‰è£…åœ¨&lt;code&gt;Users&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹ï¼Œä¸éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œæ™®é€šç”¨æˆ·å°±å¯ä»¥å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¼ä¸šç‰ˆ-2&#34;&gt;ä¼ä¸šç‰ˆ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®ä»¥ä¸‹è·¯å¾„ï¼Œæ‰‹åŠ¨ç¦ç”¨æˆ–è€…åˆ é™¤å³å¯ç¦ç”¨è‡ªåŠ¨æ›´æ–°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æœåŠ¡ï¼š
Microsoft Edge æ›´æ–° æœåŠ¡ (edgeupdate)
Microsoft Edge æ›´æ–° æœåŠ¡ (edgeupdatem)
Microsoft Edge Elevation Service (MicrosoftEdgeElevationService)

# ä»»åŠ¡è®¡åˆ’ï¼š
MicrosoftEdgeUpdateBrowserReplacementTask
MicrosoftEdgeUpdateTaskMachineCore
MicrosoftEdgeUpdateTaskMachineUA

# å®‰è£…è·¯å¾„ï¼š
C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe
# æ›´æ–°ç¨‹åºè·¯å¾„ï¼š
C:\Program Files (x86)\Microsoft\EdgeUpdate\MicrosoftEdgeUpdate.exe
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ— è®º64-bitè¿˜æ˜¯32-bitçš„Edgeéƒ½å®‰è£…åœ¨&lt;code&gt;Program Files (x86)&lt;/code&gt;ç›®å½•ä¸‹é¢ï¼ˆChrome æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;ç”¨æˆ·ç‰ˆ-2&#34;&gt;ç”¨æˆ·ç‰ˆ&lt;/h3&gt;
&lt;p&gt;ç”¨æˆ·ç‰ˆä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è‡ªåŠ¨æ›´æ–°&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä»»åŠ¡è®¡åˆ’ï¼š
MicrosoftEdgeUpdateTaskUserå½“å‰ç”¨æˆ·çš„SIDCore
MicrosoftEdgeUpdateTaskUserå½“å‰ç”¨æˆ·çš„SIDUA
# ä¾‹å¦‚ï¼š
MicrosoftEdgeUpdateTaskUserS-1-5-21-3860493963-3742860931-3732056798-500Core
MicrosoftEdgeUpdateTaskUserS-1-5-21-3860493963-3742860931-3732056798-500UA

# ç”¨æˆ·ç‰ˆå®‰è£…è·¯å¾„ï¼š
C:\Users\ç”¨æˆ·å\AppData\Local\Microsoft\Edge\Application\msedge.exe
# è‡ªåŠ¨æ›´æ–°ç¨‹åºè·¯å¾„ï¼š
C:\Users\ç”¨æˆ·å\AppData\Local\Microsoft\EdgeUpdate\MicrosoftEdgeUpdate.exe
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨powershellç¦ç”¨æ›´æ–°&#34;&gt;ä½¿ç”¨PowerShellç¦ç”¨æ›´æ–°&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;if ([Environment]::Is64BitOperatingSystem -eq &amp;quot;True&amp;quot;) {
    #Write-Host &amp;quot;64-bit OS&amp;quot;
    $PF=${env:ProgramFiles(x86)}
}
else {
    #Write-Host &amp;quot;32-bit OS&amp;quot;
    $PF=$env:ProgramFiles
}

if ($(Test-Path &amp;quot;$PF\Microsoft\Edge\Application\msedge.exe&amp;quot;) -eq &amp;quot;True&amp;quot;) {
    # ç»“æŸè¿›ç¨‹
    taskkill /im MicrosoftEdgeUpdate.exe /f
    taskkill /im msedge.exe /f
    # Microsoft Edge æ›´æ–°æœåŠ¡
    #è¿™é‡Œä¹Ÿå¯ä»¥ä½¿ç”¨ sc.exe stop &amp;quot;service name&amp;quot;
    Stop-Service -Name &amp;quot;edgeupdate&amp;quot;
    Stop-Service -Name &amp;quot;edgeupdatem&amp;quot;
    Stop-Service -Name &amp;quot;MicrosoftEdgeElevationService&amp;quot;
    # Windows 10 é»˜è®¤ PS ç‰ˆæœ¬ 5.1 æ²¡æœ‰ Remove-Service å‘½ä»¤
    # This cmdlet was added in PS v6. See https://docs.microsoft.com/en-us/powershell/scripting/whats-new/what-s-new-in-powershell-core-60?view=powershell-6#cmdlet-updates.
    #Remove-Service -Name &amp;quot;edgeupdate&amp;quot;
    #Remove-Service -Name &amp;quot;edgeupdatem&amp;quot;
    #Remove-Service -Name &amp;quot;MicrosoftEdgeElevationService&amp;quot;
    # sc åœ¨ PowerShell ä¸­æ˜¯ Set-Content åˆ«åï¼Œæ‰€ä»¥è¦ä½¿ç”¨ sc.exe å¦åˆ™æ‰§è¡Œåæ— ä»»ä½•æ•ˆæœ
    sc.exe delete &amp;quot;edgeupdate&amp;quot;
    sc.exe delete &amp;quot;edgeupdatem&amp;quot;
    sc.exe delete &amp;quot;MicrosoftEdgeElevationService&amp;quot;
    # ä»»åŠ¡è®¡åˆ’ä¼ä¸šç‰ˆ
    schtasks.exe /Delete /TN \MicrosoftEdgeUpdateBrowserReplacementTask /F
    schtasks.exe /Delete /TN \MicrosoftEdgeUpdateTaskMachineCore /F
    schtasks.exe /Delete /TN \MicrosoftEdgeUpdateTaskMachineUA /F
    # ç§»é™¤æ›´æ–°ç¨‹åº
    Remove-Item &amp;quot;$PF\Microsoft\EdgeUpdate&amp;quot; -Recurse  -Force
    Write-Output &amp;quot;Disable Microsoft Edge Enterprise Auto Update Successful!&amp;quot;
}
elseif ($(Test-Path &amp;quot;$env:USERPROFILE\AppData\Local\Microsoft\Edge\Application\msedge.exe&amp;quot;) -eq &amp;quot;True&amp;quot;) {
    # ç»“æŸè¿›ç¨‹
    taskkill /im MicrosoftEdgeUpdate.exe /f
    taskkill /im msedge.exe /f
    # ç”¨æˆ·ç‰ˆæ²¡æœ‰åˆ›å»ºæœåŠ¡
    # è·å–SIDæ–¹æ³•
    function Get-CurrentUserSID {
        [CmdletBinding()]
        param(
        )
        Add-Type -AssemblyName System.DirectoryServices.AccountManagement
        return ([System.DirectoryServices.AccountManagement.UserPrincipal]::Current).SID.Value
    }
    # ç”¨æˆ·ç‰ˆä»»åŠ¡è®¡åˆ’
    schtasks.exe /Delete /TN \MicrosoftEdgeUpdateTaskUser$(Get-CurrentUserSID)Core /F
    schtasks.exe /Delete /TN \MicrosoftEdgeUpdateTaskUser$(Get-CurrentUserSID)UA /F
    # ç§»é™¤æ›´æ–°ç¨‹åº
    Remove-Item  &amp;quot;$env:USERPROFILE\AppData\Local\Microsoft\EdgeUpdate&amp;quot; -Recurse  -Force
    Write-Output &amp;quot;Disable Microsoft Edge Users Setup Auto Update Successful!&amp;quot;
}
else {
    Write-Output &amp;quot;No Microsoft Edge Installation Detected!&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ç«ç‹firefoxæµè§ˆå™¨&#34;&gt;ç«ç‹FireFoxæµè§ˆå™¨&lt;/h1&gt;
&lt;h2 id=&#34;ä¸‹è½½-3&#34;&gt;ä¸‹è½½&lt;/h2&gt;
&lt;p&gt;ç¦»çº¿å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;http://www.firefox.com.cn/download/&#34;&gt;http://www.firefox.com.cn/download/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¦æ­¢æ›´æ–°-3&#34;&gt;ç¦æ­¢æ›´æ–°&lt;/h2&gt;
&lt;h3 id=&#34;æ–¹æ³•1ä½¿ç”¨ç­–ç•¥æ–‡ä»¶&#34;&gt;æ–¹æ³•1ï¼šä½¿ç”¨ç­–ç•¥æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å®˜æ–¹ç­–ç•¥æ¨¡æ¿ï¼š&lt;a href=&#34;https://github.com/mozilla/policy-templates/releases&#34;&gt;https://github.com/mozilla/policy-templates/releases&lt;/a&gt;&lt;br&gt;
åˆ›å»ºç­–ç•¥æ–‡ä»¶ï¼š&lt;code&gt;&amp;lt;Firefox å®‰è£…ç›®å½•&amp;gt;\distribution\policies.json&lt;/code&gt;ï¼Œå†…å®¹å¦‚ä¸‹&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;{
  &amp;quot;policies&amp;quot;: {
    &amp;quot;DisableAppUpdate.&amp;quot;: false
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ–¹æ³•2ä½¿ç”¨æ³¨å†Œè¡¨&#34;&gt;æ–¹æ³•2ï¼šä½¿ç”¨æ³¨å†Œè¡¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ‰‹åŠ¨&lt;br&gt;
&lt;code&gt;HKEY_LOCAL_MACHINE\\Software\\Policies&lt;/code&gt;åˆ›å»ºé¡¹&lt;code&gt;Mozilla&lt;/code&gt;ï¼Œå†åˆ›å»ºé¡¹&lt;code&gt;Firefox&lt;/code&gt;åˆ›å»ºå®Œæ¯•å³&lt;code&gt;HKEY_LOCAL_MACHINE\\Software\\Policies\\Mozilla\\Firefox&lt;/code&gt;&lt;br&gt;
åœ¨ä¸Šè¿°è·¯å¾„ï¼Œå³é”®ç‚¹å‡»ç©ºç™½å¤„ï¼Œæ–°å»ºä¸€ä¸ª&lt;code&gt;DWORD (32-Bit) Value&lt;/code&gt;ï¼Œåç§°ä¸º&lt;code&gt;DisableAppUpdate&lt;/code&gt;&lt;br&gt;
åŒå‡»åˆ›å»ºçš„&lt;code&gt;DisableAppUpdate&lt;/code&gt;ï¼Œå°†å€¼ä¿®æ”¹ä¸º&lt;code&gt;1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç›´æ¥ä½¿ç”¨æ³¨å†Œæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Mozilla\Firefox]
&amp;quot;DisableAppUpdate&amp;quot;=dword:00000001
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç›´æ¥CMDæŒ‡ä»¤&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;reg add &amp;quot;HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Mozilla\Firefox&amp;quot; /v DisableAppUpdate /t REG_DWORD /d 1 /f
&lt;/code&gt;&lt;/pre&gt;
">Chromeã€Edgeã€Firefoxç¦»çº¿å®‰è£…åŒ…ä¸‹è½½ä¸ç¦ç”¨æ›´æ–°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/pa-chong-zhi-beautifulsoup/"" data-c="
          &lt;p&gt;pythonä¸­çˆ¬è™«å¸¸ç”¨æ¨¡å—â€œç¾ä¸½æ±¤â€&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;æ¨¡å—åŠŸèƒ½ä»‹ç»&#34;&gt;æ¨¡å—åŠŸèƒ½ä»‹ç»&lt;/h3&gt;
&lt;p&gt;ä»htmlæˆ–è€…xmlæ ¼å¼æ–‡ä»¶ä¸­æå–æ•°æ®&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å®‰è£…BeautifulSoup
pip install bs4
# å®‰è£…å…¶ä»–ç›¸å…³è§£æå™¨
pip install lxml
pip install html5lib
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ¨¡å—å¼•ç”¨&#34;&gt;æ¨¡å—å¼•ç”¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# åˆå§‹åŒ–
from bs4 import BeautifulSoup
# æ–¹æ³•ä¸€ï¼Œç›´æ¥æ‰“å¼€æ–‡ä»¶ï¼ˆéœ€è¦æŒ‡å®šBeautifulçš„è§£æå™¨ä¸ºâ€œhtml.parserâ€ï¼Œå¦åˆ™è§£æä¸æ­£å¸¸ï¼‰
soup=BeautifulSoup(open(&amp;quot;index.html&amp;quot;,&#39;r&#39;,encoding=&amp;quot;utf-8&amp;quot;),&amp;quot;html.parser&amp;quot;)
# æ–¹æ³•äºŒï¼ŒæŒ‡å®šæ•°æ®
resp=&amp;quot;&amp;lt;html&amp;gt;data&amp;lt;/html&amp;gt;&amp;quot;
soup=BeautifulSoup(resp, &#39;lxml&#39;)
# soupä¸ºBeautifulSoup ç±»å‹å¯¹è±¡
print(type(soup))
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åŸºæœ¬å…ƒç´ &#34;&gt;åŸºæœ¬å…ƒç´ &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;BeautifulSoup&lt;br&gt;
æ–‡æ¡£çš„å…¨éƒ¨å†…å®¹ã€‚&lt;/li&gt;
&lt;li&gt;Tag&lt;br&gt;
HTMLçš„æ ‡ç­¾ï¼Œæœ€åŸºæœ¬çš„ä¿¡æ¯ç»„ç»‡å•å…ƒï¼Œåˆ†åˆ«ç”¨&amp;lt;&amp;gt;å’Œ&amp;lt;/&amp;gt;æ ‡åå¼€å¤´å’Œç»“å°¾&lt;/li&gt;
&lt;li&gt;Attributes&lt;br&gt;
æ ‡ç­¾çš„å±æ€§ï¼Œå­—å…¸å½¢å¼ç»„ç»‡ï¼Œæ ¼å¼ï¼š&lt;tag&gt;.attrs&lt;br&gt;
soup.a.attrs  #è·å–aæ ‡ç­¾çš„æ‰€æœ‰å±æ€§(æ³¨æ„åˆ°æ ¼å¼æ˜¯å­—å…¸)&lt;/li&gt;
&lt;li&gt;NavigableString&lt;br&gt;
æ ‡ç­¾åŒ…å«çš„æ–‡å­—ï¼Œå³æ ‡ç­¾å†…éå±æ€§å­—ç¬¦ä¸²ï¼Œ&amp;lt;&amp;gt;...&amp;lt;/&amp;gt;ä¸­å­—ç¬¦ä¸²ï¼Œæ ¼å¼ï¼š&lt;tag&gt;.string&lt;br&gt;
soup.a.string   # aæ ‡ç­¾çš„éå±æ€§å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œè¡¨ç¤ºå°–æ‹¬å·ä¹‹é—´çš„é‚£éƒ¨åˆ†å­—ç¬¦ä¸²&lt;br&gt;
&lt;strong&gt;.stringå’Œ.textçš„åŒºåˆ«&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;.stringå¯ä»¥è¿”å›å½“å‰èŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œä½†æ˜¯å½“å‰èŠ‚ç‚¹åŒ…å«å­èŠ‚ç‚¹æ—¶ï¼Œ.stringä¸çŸ¥é“è¦è·å–å“ªä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œæ•…è¿”å›ç©º&lt;br&gt;
.textï¼ˆæˆ–è€….get_text()ï¼‰å¯ä»¥è¿”å›å½“å‰èŠ‚ç‚¹æ‰€åŒ…å«çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹ï¼ŒåŒ…æ‹¬å½“å‰èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹&lt;br&gt;
ä¸¾ä¾‹ä½¿ç”¨.textçš„æƒ…å†µï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&amp;quot;&lt;a class =â€œbets-nameâ€ href=&#34;/stock/sh601766.html&#34;&gt;ä¸­å›½ä¸­è½¦(&lt;span&gt; 601766 &lt;/span&gt;)&lt;/a&gt;&amp;quot;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;text&#34;&gt;(+49) 228 251 927&lt;br/&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Comment&lt;br&gt;
ä¸€ç§ç‰¹æ®Šçš„NavigableStringç±»å‹ï¼Œå½“æ ‡ç­¾ä¸­çš„NavigableStringè¢«æ³¨é‡Šæ—¶ï¼Œåˆ™å®šä¹‰ä¸ºè¯¥ç±»å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ ‡ç­¾æœç´¢å’Œè¿‡æ»¤&#34;&gt;æ ‡ç­¾æœç´¢å’Œè¿‡æ»¤&lt;/h3&gt;
&lt;h4 id=&#34;åŸºæœ¬æ–¹æ³•&#34;&gt;åŸºæœ¬æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;æ ‡ç­¾æœç´¢æœ‰find_all() å’Œfind() ä¸¤ä¸ªåŸºæœ¬çš„æœç´¢æ–¹æ³•ï¼Œfind_all() æ–¹æ³•ä¼šè¿”å›æ‰€æœ‰åŒ¹é…å…³é”®å­—çš„æ ‡ç­¾åˆ—è¡¨ï¼Œfind()æ–¹æ³•åˆ™åªè¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœ&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è¿”å›ä¸€ä¸ªæ ‡ç­¾åä¸º&amp;quot;a&amp;quot;çš„Tag
soup.find(&amp;quot;a&amp;quot;)
# è¿”å›æ‰€æœ‰tag åˆ—è¡¨
soup.find_all(&amp;quot;a&amp;quot;)
##    find_allæ–¹æ³•å¯è¢«ç®€å†™
soup(&amp;quot;a&amp;quot;)
# æ‰¾å‡ºæ‰€æœ‰ä»¥bå¼€å¤´çš„æ ‡ç­¾
for tag in soup.find_all(re.compile(&amp;quot;^b&amp;quot;)):
  print(tag.name)
#æ‰¾å‡ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰æ ‡ç­¾
soup.find_all([&amp;quot;a&amp;quot;, &amp;quot;p&amp;quot;])
# æŸ¥æ‰¾æ ‡ç­¾åä¸ºpï¼Œclasså±æ€§ä¸º&amp;quot;title&amp;quot;
soup.find_all(&amp;quot;p&amp;quot;, &amp;quot;title&amp;quot;)
# æŸ¥æ‰¾å±æ€§idä¸º&amp;quot;link2&amp;quot;
soup.find_all(id=&amp;quot;link2&amp;quot;)
# æŸ¥æ‰¾å­˜åœ¨å±æ€§idçš„
soup.find_all(id=True)
# è®¾ç½®å¤šä¸ªç­›é€‰çš„å±æ€§
soup.find_all(href=re.compile(&amp;quot;elsie&amp;quot;), id=&#39;link1&#39;)
# é€šè¿‡ find_all() æ–¹æ³•çš„ attrs å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tag
#    æœ‰äº›tagå±æ€§åœ¨æœç´¢ä¸èƒ½ä½¿ç”¨,æ¯”å¦‚HTML5ä¸­çš„ data-* å±æ€§ï¼ŒåŒæ—¶nameç”±äºå·²ç»æ˜¯find_all()æ–¹æ³•ä¸­çš„ä¸€ä¸ªå‚æ•°åï¼ˆä»£è¡¨tagçš„åå­—ï¼‰ï¼Œ
#    æ‰€ä»¥ä¹Ÿä¸å¯é€šè¿‡tagä¸­çš„nameå±æ€§æ¥æœç´¢tagï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ find_all() æ–¹æ³•çš„ attrs å‚æ•°å®šä¹‰ä¸€ä¸ªå­—å…¸å‚æ•°æ¥æœç´¢åŒ…å«ç‰¹æ®Šå±æ€§çš„tag
soup.find_all(attrs={&amp;quot;data-foo&amp;quot;: &amp;quot;value&amp;quot;})
# æŸ¥æ‰¾æ ‡ç­¾æ–‡å­—åŒ…å«&amp;quot;sisters&amp;quot;
soup.find(string=re.compile(&amp;quot;sisters&amp;quot;))
# è·å–æŒ‡å®šæ•°é‡çš„ç»“æœ
soup.find_all(&amp;quot;a&amp;quot;, limit=2)
# è‡ªå®šä¹‰åŒ¹é…æ–¹æ³•
def has_class_but_no_id(tag):
  return tag.has_attr(&#39;class&#39;) and not tag.has_attr(&#39;id&#39;)
soup.find_all(has_class_but_no_id)
# ä»…å¯¹å±æ€§ä½¿ç”¨è‡ªå®šä¹‰åŒ¹é…æ–¹æ³•
def not_lacie(href):
    return href and not re.compile(&amp;quot;lacie&amp;quot;).search(href)
soup.find_all(href=not_lacie)
# è°ƒç”¨tagçš„find_all()æ–¹æ³•æ—¶,BeautifulSoupä¼šæ£€ç´¢å½“å‰tagçš„æ‰€æœ‰å­å­™èŠ‚ç‚¹,å¦‚æœåªæƒ³æœç´¢tagçš„ç›´æ¥å­èŠ‚ç‚¹,å¯ä»¥ä½¿ç”¨å‚æ•°recursive=False 
soup.find_all(&amp;quot;title&amp;quot;, recursive=False)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ‰©å±•æ–¹æ³•&#34;&gt;æ‰©å±•æ–¹æ³•&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ‰€æœ‰çˆ¶è¾ˆèŠ‚ç‚¹
ind_parents()
# ç¬¬ä¸€ä¸ªçˆ¶è¾ˆèŠ‚ç‚¹
find_parent()
# ä¹‹åçš„æ‰€æœ‰å…„å¼ŸèŠ‚ç‚¹
find_next_siblings()
# ä¹‹åçš„ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
find_next_sibling()
# ä¹‹å‰çš„æ‰€æœ‰å…„å¼ŸèŠ‚ç‚¹
find_previous_siblings()
# ä¹‹å‰çš„ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
find_previous_sibling()
# ä¹‹åçš„æ‰€æœ‰å…ƒç´ 
find_all_next()
# ä¹‹åçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
find_next()
# ä¹‹å‰çš„æ‰€æœ‰å…ƒç´ 
find_all_previous()
# ä¹‹å‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ 
find_previous()
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;cssé€‰æ‹©å™¨&#34;&gt;CSSé€‰æ‹©å™¨&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;BeautifulSoupæ”¯æŒå¤§éƒ¨åˆ†çš„CSSé€‰æ‹©å™¨, åœ¨Tagæˆ–BeautifulSoupå¯¹è±¡çš„.select()æ–¹æ³•ä¸­ä¼ å…¥å­—ç¬¦ä¸²å‚æ•°, å³å¯ä½¿ç”¨CSSé€‰æ‹©å™¨çš„è¯­æ³•æ‰¾åˆ°tag&lt;/code&gt;&lt;br&gt;
&lt;code&gt;æ ‡ç­¾ç›´æ¥å†™åç§°ï¼Œclassåˆ™ç”¨&amp;quot;.&amp;quot;å·åŠ åç§°ï¼Œidåˆ™ä½¿ç”¨&amp;quot;#&amp;quot;å·åŠ åç§°&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ‰€æœ‰aæ ‡ç­¾
soup.select(&amp;quot;a&amp;quot;)
# é€å±‚æŸ¥æ‰¾
soup.select(&amp;quot;body a&amp;quot;)
soup.select(&amp;quot;html head title&amp;quot;)
# tagæ ‡ç­¾ä¸‹çš„ç›´æ¥å­æ ‡ç­¾
soup.select(&amp;quot;head &amp;gt; title&amp;quot;)
soup.select(&amp;quot;p &amp;gt; #link1&amp;quot;)
# æ‰€æœ‰åŒ¹é…æ ‡ç­¾ä¹‹åçš„å…„å¼Ÿæ ‡ç­¾
soup.select(&amp;quot;#link1 ~ .sister&amp;quot;)
# åŒ¹é…æ ‡ç­¾ä¹‹åçš„ç¬¬ä¸€ä¸ªå…„å¼Ÿæ ‡ç­¾
soup.select(&amp;quot;#link1 + .sister&amp;quot;)
# æ ¹æ®calssç±»å
soup.select(&amp;quot;.sister&amp;quot;)
soup.select(&amp;quot;[class~=sister]&amp;quot;)
# æ ¹æ®idæŸ¥æ‰¾
soup.select(&amp;quot;#link1&amp;quot;)
soup.select(&amp;quot;a#link1&amp;quot;)
# æ ¹æ®å¤šä¸ªidæŸ¥æ‰¾
soup.select(&amp;quot;#link1,#link2&amp;quot;)
# æ ¹æ®å±æ€§æŸ¥æ‰¾
soup.select(&#39;a[href]&#39;)
# æ ¹æ®å±æ€§å€¼æŸ¥æ‰¾
soup.select(&#39;a[href^=&amp;quot;http://example.com/&amp;quot;]&#39;)
soup.select(&#39;a[href$=&amp;quot;tillie&amp;quot;]&#39;)
soup.select(&#39;a[href*=&amp;quot;.com/el&amp;quot;]&#39;)
# åªè·å–ä¸€ä¸ªåŒ¹é…ç»“æœ
soup.select(&amp;quot;.sister&amp;quot;, limit=1)
# åªè·å–ä¸€ä¸ªåŒ¹é…ç»“æœ
soup.select_one(&amp;quot;.sister&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ ‡ç­¾å¯¹è±¡æ–¹æ³•&#34;&gt;æ ‡ç­¾å¯¹è±¡æ–¹æ³•&lt;/h3&gt;
&lt;h4 id=&#34;æ ‡ç­¾å±æ€§&#34;&gt;æ ‡ç­¾å±æ€§&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è·å–æ‰€æœ‰çš„ pæ ‡ç­¾å¯¹è±¡
tags = soup.find_all(&amp;quot;p&amp;quot;)
# è·å–ç¬¬ä¸€ä¸ªpæ ‡ç­¾å¯¹è±¡
tag = soup.p
# è¾“å‡ºæ ‡ç­¾ç±»å‹ 
type(tag)
# æ ‡ç­¾å
tag.name
# æ ‡ç­¾å±æ€§
tag.attrs
# æ ‡ç­¾å±æ€§class çš„å€¼
tag[&#39;class&#39;]
# æ ‡ç­¾åŒ…å«çš„æ–‡å­—å†…å®¹ï¼Œå¯¹è±¡NavigableString çš„å†…å®¹
tag.string
# è¿”å›æ ‡ç­¾å†…æ‰€æœ‰çš„æ–‡å­—å†…å®¹
for string in tag.strings:
  print(repr(string))
# è¿”å›æ ‡ç­¾å†…æ‰€æœ‰çš„æ–‡å­—å†…å®¹, å¹¶å»æ‰ç©ºè¡Œ
for string in tag.stripped_strings:
  print(repr(string))
# è·å–åˆ°tagä¸­åŒ…å«çš„æ‰€æœ‰åŠåŒ…æ‹¬å­å­™tagä¸­çš„NavigableStringå†…å®¹ï¼Œå¹¶ä»¥Unicodeå­—ç¬¦ä¸²æ ¼å¼è¾“å‡º
tag.get_text()
##    ä»¥&amp;quot;|&amp;quot;åˆ†éš”
tag.get_text(&amp;quot;|&amp;quot;)
##    ä»¥&amp;quot;|&amp;quot;åˆ†éš”ï¼Œä¸è¾“å‡ºç©ºå­—ç¬¦
tag.get_text(&amp;quot;|&amp;quot;, strip=True)
# è·å–è¿‡æ»¤å‡ºçš„aæ ‡ç­¾ä¸­hrefçš„é“¾æ¥
tag.select(&#39;a[target=&amp;quot;_blank&amp;quot;]&#39;)[0].get(&amp;quot;href&amp;quot;)
# è·å–å­èŠ‚ç‚¹
##    è¿”å›ç¬¬ä¸€å±‚å­èŠ‚ç‚¹çš„åˆ—è¡¨
tag.contents
##    è¿”å›ç¬¬ä¸€å±‚å­èŠ‚ç‚¹çš„listiteratorå¯¹è±¡
tag.children 
for child in tag.children:
  print(child)
##    é€’å½’è¿”å›æ‰€æœ‰å­èŠ‚ç‚¹
tag.descendants 
for child in tag.descendants:
  print(child)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;è·å–çˆ¶èŠ‚ç‚¹&#34;&gt;è·å–çˆ¶èŠ‚ç‚¹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# è¿”å›ç¬¬ä¸€å±‚çˆ¶èŠ‚ç‚¹æ ‡ç­¾
tag.parent 
# é€’å½’å¾—åˆ°å…ƒç´ çš„æ‰€æœ‰çˆ¶è¾ˆèŠ‚ç‚¹
tag.parents 
##    çˆ¶è¾ˆèŠ‚ç‚¹ä¸ºç©ºåˆ™æ‰“å°çˆ¶èŠ‚ç‚¹æ ‡ç­¾ï¼Œå¦åˆ™æ‰“å°åå­—
for parent in tag.parents:
  if parent is None:
    print(parent)
  else:
    print(parent.name)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;è·å–å…„å¼ŸèŠ‚ç‚¹&#34;&gt;è·å–å…„å¼ŸèŠ‚ç‚¹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# ä¸‹ä¸€ä¸ªå…„å¼Ÿå…ƒç´ 
tag.next_sibling 
# å½“å‰æ ‡ç­¾ä¹‹åçš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ 
tag.next_siblings
for sibling in tag.next_siblings:
  print(repr(sibling))
# ä¸Šä¸€ä¸ªå…„å¼Ÿå…ƒç´ 
tag.previous_sibling
# å½“å‰æ ‡ç­¾ä¹‹å‰çš„æ‰€æœ‰å…„å¼Ÿå…ƒç´ 
tag.previous_siblings
for sibling in tag.previous_siblings:
  print(repr(sibling))
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å…ƒç´ çš„éå†&#34;&gt;å…ƒç´ çš„éå†&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;BeautifulSoupä¸­æŠŠæ¯ä¸ªtagå®šä¹‰ä¸ºä¸€ä¸ªå…ƒç´ elementï¼Œæ¯ä¸ªå…ƒç´ elementè¢«è‡ªä¸Šè€Œä¸‹çš„åœ¨HTMLä¸­æ’åˆ—ï¼Œå¯ä»¥é€šè¿‡éå†å‘½ä»¤é€ä¸ªæ˜¾ç¤ºæ ‡ç­¾&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# å½“å‰æ ‡ç­¾çš„ä¸‹ä¸€ä¸ªå…ƒç´ 
tag.next_element
# å½“å‰æ ‡ç­¾ä¹‹åçš„æ‰€æœ‰å…ƒç´ 
for element in tag.next_elements:
  print(repr(element))
# å½“å‰æ ‡ç­¾çš„å‰ä¸€ä¸ªå…ƒç´ 
tag.previous_element
# å½“å‰æ ‡ç­¾ä¹‹å‰çš„æ‰€æœ‰å…ƒç´ 
for element in tag.previous_elements:
  print(repr(element))
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¿®æ”¹æ ‡ç­¾å±æ€§&#34;&gt;ä¿®æ”¹æ ‡ç­¾å±æ€§&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b  name=&amp;quot;test&amp;quot; class=&amp;quot;boldest&amp;quot;&amp;gt;Extremely bold&amp;lt;/b&amp;gt;&#39;)
# è·å–bæ ‡ç­¾å¯¹è±¡
tag = soup.b
# ä¿®æ”¹å¯¹è±¡æ ‡ç­¾çš„åå­—
tag.name = &amp;quot;blockquote&amp;quot;
# ä¿®æ”¹å¯¹è±¡çš„class
tag[&#39;class&#39;] = &#39;verybold&#39;
# ä¿®æ”¹å¯¹è±¡çš„id
tag[&#39;id&#39;] = 1
# ä¿®æ”¹å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²ï¼ˆæ ‡ç­¾å†…å®¹ï¼‰
tag.string = &amp;quot;New link text.&amp;quot;
print(tag)
#  &amp;lt;blockquote class=&amp;quot;verybold&amp;quot; id=&amp;quot;1&amp;quot;&amp;gt;New link text.&amp;lt;/blockquote&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¿®æ”¹æ ‡ç­¾å†…å®¹&#34;&gt;ä¿®æ”¹æ ‡ç­¾å†…å®¹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b class=&amp;quot;boldest&amp;quot;&amp;gt;Extremely bold&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
tag = soup.b
# ä¿®æ”¹æ ‡ç­¾ä¸­å­—ç¬¦ä¸²
tag.string = &amp;quot;New link text.&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ·»åŠ æ ‡ç­¾å†…å®¹&#34;&gt;æ·»åŠ æ ‡ç­¾å†…å®¹&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# ç›´æ¥ä½¿ç”¨appendå¯¹æ ‡ç­¾aå¯¹è±¡è¿›è¡Œæ“ä½œ
from bs4 import BeautifulSoup
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;Foo&amp;lt;/a&amp;gt;&amp;quot;, &amp;quot;html.parser&amp;quot;)
tag = soup.a
tag.append(&amp;quot;Bar&amp;quot;)
print(tag)
# æˆ–è€…ä½¿ç”¨NavigableStringï¼Œå¯¹æ•´ä¸ªsoupå¯¹è±¡è¿›è¡Œæ“ä½œ
from bs4 import NavigableString
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;Foo&amp;lt;/a&amp;gt;&amp;quot;, &amp;quot;html.parser&amp;quot;)
new_string = NavigableString(&amp;quot;Bar&amp;quot;)
tag.append(new_string)
print(tag)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ·»åŠ æ³¨é‡Š&#34;&gt;æ·»åŠ æ³¨é‡Š&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;æ³¨é‡Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„NavigableStringå¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡append()æ–¹æ³•è¿›è¡Œæ·»åŠ &lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from bs4 import BeautifulSoup
from bs4 import Comment
soup=BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;Foo&amp;lt;/a&amp;gt;&amp;quot;, &amp;quot;html.parser&amp;quot;)
new_comment=soup.new_string(&amp;quot;Nice to see you.&amp;quot;, Comment)
soup.append(new_comment)
print(soup)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ·»åŠ æ ‡ç­¾&#34;&gt;æ·»åŠ æ ‡ç­¾&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;æ·»åŠ æ ‡ç­¾æ–¹æ³•æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯åœ¨æŒ‡å®šæ ‡ç­¾çš„å†…éƒ¨æ·»åŠ ï¼ˆappendæ–¹æ³•ï¼‰ï¼Œå¦ä¸€ç§æ˜¯åœ¨æŒ‡å®šä½ç½®æ·»åŠ (insertã€insert_beforeã€insert_afteræ–¹æ³•)&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;appendæ–¹æ³•&#34;&gt;appendæ–¹æ³•&lt;/h5&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup=BeautifulSoup(&amp;quot;&amp;lt;b&amp;gt;&amp;lt;/b&amp;gt;&amp;quot;,&amp;quot;html.parser&amp;quot;)
tag=soup.b
new_tag=soup.new_tag(&amp;quot;a&amp;quot;, href=&amp;quot;http://www.example.com&amp;quot;,rel=&amp;quot;external nofollow&amp;quot; )
new_tag.string = &amp;quot;Link text.&amp;quot;
tag.append(new_tag)
print(tag)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;insertæ–¹æ³•&#34;&gt;insertæ–¹æ³•&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;åœ¨å½“å‰æ ‡ç­¾å­èŠ‚ç‚¹åˆ—è¡¨çš„æŒ‡å®šä½ç½®æ’å…¥å¯¹è±¡(Tagæˆ–NavigableString)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
tag = soup.a
tag.insert(1, &amp;quot;,but did not endorse &amp;quot;)
print(tag)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;insert_before-å’Œ-insert_after&#34;&gt;insert_before() å’Œ insert_after()&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;åœ¨å½“å‰æ ‡ç­¾ä¹‹å‰æˆ–ä¹‹åçš„å…„å¼ŸèŠ‚ç‚¹æ·»åŠ å…ƒç´ &lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
tag = soup.new_tag(&amp;quot;i&amp;quot;)
tag.string = &amp;quot;Don&#39;t&amp;quot;
soup.b.insert_before(tag)
print(soup)
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;wrap-å’Œ-unwrap&#34;&gt;wrap() å’Œ unwrap()&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;å¯ä»¥å¯¹æŒ‡å®šçš„tagå…ƒç´ è¿›è¡ŒåŒ…è£…æˆ–è§£åŒ…,å¹¶è¿”å›åŒ…è£…åçš„ç»“æœ&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ·»åŠ åŒ…è£…
##      å¯¹å­—ç¬¦ä¸²æ·»åŠ æ ‡ç­¾b
soup=BeautifulSoup(&amp;quot;&amp;lt;p&amp;gt;I wish I was bold.&amp;lt;/p&amp;gt;&amp;quot;,&amp;quot;html.parser&amp;quot;)
soup.p.string.wrap(soup.new_tag(&amp;quot;b&amp;quot;))
print(soup)
##      å¯¹pæ ‡ç­¾å¤–æ·»åŠ divæ ‡ç­¾
soup.p.wrap(soup.new_tag(&amp;quot;div&amp;quot;))
print(soup)
# æ‹†è§£åŒ…è£…
##      å»é™¤divæ ‡ç­¾
soup.div.unwrap()
print(soup)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åˆ é™¤æ ‡ç­¾&#34;&gt;åˆ é™¤æ ‡ç­¾&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
# å°†iæ ‡ç­¾ä¹‹å¤–çš„æ‰€æœ‰æ ‡ç­¾åˆ é™¤ï¼Œå¹¶è¿”å›ä¸ºi_tag
i_tag=soup.i.extract()
print(i_tag)
print(soup)
# å°†å½“å‰æ ‡ç­¾aåŠæ‰€æœ‰å­èŠ‚ç‚¹ä»soup ä¸­ç§»é™¤ï¼Œæ— è¿”å›ã€‚
soup.a.decompose()
print(soup)

soup = BeautifulSoup(&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
# å°†å½“å‰æ ‡ç­¾æ›¿æ¢ä¸ºæŒ‡å®šçš„å…ƒç´ 
tag = soup.i
new_tag = soup.new_tag(&amp;quot;p&amp;quot;)
new_tag.string = &amp;quot;Don&#39;t&amp;quot;
tag.replace_with(new_tag)
print(soup)
# æ¸…é™¤å½“å‰æ ‡ç­¾çš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼Œå³åˆ é™¤bæ ‡ç­¾æ‰€æœ‰å†…å®¹
soup.b.clear()
print(soup)

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å…¶ä»–æ–¹æ³•&#34;&gt;å…¶ä»–æ–¹æ³•&lt;/h3&gt;
&lt;h4 id=&#34;æ ¼å¼åŒ–è¾“å‡º&#34;&gt;æ ¼å¼åŒ–è¾“å‡º&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨BeautifulSoupè§£æå,æ–‡æ¡£éƒ½è¢«è½¬æ¢æˆäº†unicodeï¼Œç‰¹æ®Šå­—ç¬¦ä¹Ÿè¢«è½¬æ¢ä¸ºunicodeï¼Œå¦‚æœå°†æ–‡æ¡£è½¬æ¢æˆå­—ç¬¦ä¸²,unicodeç¼–ç ä¼šè¢«ç¼–ç æˆutf8.è¿™æ ·å°±æ— æ³•æ­£ç¡®æ˜¾ç¤ºHTMLç‰¹æ®Šå­—ç¬¦äº†ã€‚ ä½¿ç”¨unicodeæ—¶,BeautifulSoupè¿˜ä¼šæ™ºèƒ½çš„æŠŠâ€œå¼•å·â€è½¬æ¢æˆHTMLæˆ–XMLä¸­çš„ç‰¹æ®Šå­—ç¬¦&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;soup = BeautifulSoup(&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;,&amp;quot;html.parser&amp;quot;)
tag = soup.a
# æ ¼å¼åŒ–è¾“å‡º
print(tag.prettify())
print(tag.prettify(&amp;quot;latin-1&amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ–‡æ¡£ç¼–ç &#34;&gt;æ–‡æ¡£ç¼–ç &lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ä½¿ç”¨BeautifulSoupè§£æå,æ–‡æ¡£éƒ½è¢«è½¬æ¢æˆäº†unicodeï¼Œå…¶ä½¿ç”¨äº†â€œç¼–ç è‡ªåŠ¨æ£€æµ‹â€å­åº“æ¥è¯†åˆ«å½“å‰æ–‡æ¡£ç¼–ç å¹¶è½¬æ¢æˆunicodeç¼–ç &lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from bs4 import BeautifulSoup #,&amp;quot;html.parser&amp;quot;

html=&#39;&amp;lt;b&amp;gt;&amp;lt;a href=&amp;quot;http://example.com/&amp;quot; rel=&amp;quot;external nofollow&amp;quot;&amp;gt;I linked to&amp;lt;i&amp;gt;example.com&amp;lt;/i&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/b&amp;gt;&#39;
# é»˜è®¤ç¼–ç 
soup = BeautifulSoup(html)
print(soup.original_encoding) #å‘Šè­¦å¯å¿½è§†

# æ‰‹åŠ¨æŒ‡å®šæ–‡æ¡£çš„ç¼–ç 
soup = BeautifulSoup(html, from_encoding=&amp;quot;iso-8859-8&amp;quot;)
print(soup.original_encoding) #å‘Šè­¦å¯å¿½è§†

# ä¸ºæé«˜â€œç¼–ç è‡ªåŠ¨æ£€æµ‹â€çš„æ£€æµ‹æ•ˆç‡ï¼Œä¹Ÿå¯ä»¥é¢„å…ˆæ’é™¤ä¸€äº›ç¼–ç 
soup = BeautifulSoup(html, exclude_encodings=[&amp;quot;iso-8859-8&amp;quot;]) #å‘Šè­¦å¯å¿½è§†


# é€šè¿‡BeautifulSoupè¾“å‡ºæ–‡æ¡£æ—¶, ä¸ç®¡è¾“å…¥æ–‡æ¡£æ˜¯ä»€ä¹ˆç¼–ç æ–¹å¼, é»˜è®¤è¾“å‡ºç¼–ç aå‡ä¸ºutf8ç¼–ç æ–‡æ¡£è§£æå™¨
# BeautifulSoupç›®å‰æ”¯æŒçš„æœ‰ â€œlxmlâ€(pip install lxml)ã€ â€œhtml5libâ€(pip install html5lib)ã€ â€œhtml.parserâ€
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;&amp;lt;b /&amp;gt;&amp;lt;/a&amp;gt;&amp;quot;)
print(soup)     # è¾“å‡ºï¼š &amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;a&amp;gt;&amp;lt;b&amp;gt;&amp;lt;/b&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;&amp;lt;/p&amp;gt;&amp;quot;, &amp;quot;lxml&amp;quot;)
print(soup)     # è¾“å‡ºï¼š &amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;&amp;lt;/p&amp;gt;&amp;quot;, &amp;quot;html5lib&amp;quot;)
print(soup)     # è¾“å‡ºï¼š &amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;&amp;lt;a&amp;gt;&amp;lt;p&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/a&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
soup = BeautifulSoup(&amp;quot;&amp;lt;a&amp;gt;&amp;lt;/p&amp;gt;&amp;quot;, &amp;quot;html.parser&amp;quot;)
print(soup)     # è¾“å‡ºï¼š &amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹&lt;/h3&gt;
&lt;h4 id=&#34;kanguowaiç½‘ç«™æ‰€æœ‰åˆ†ç±»ç½‘å€ç¦»çº¿çˆ¬å–&#34;&gt;kanguowaiç½‘ç«™æ‰€æœ‰åˆ†ç±»ç½‘å€ç¦»çº¿çˆ¬å–&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from bs4 import BeautifulSoup
import csv

Webs=[[&amp;quot;ç´¢å¼•&amp;quot;,&amp;quot;åç§°&amp;quot;,&amp;quot;å›½å®¶&amp;quot;,&amp;quot;ç±»å‹&amp;quot;,&amp;quot;ç½‘å€&amp;quot;,&amp;quot;æè¿°&amp;quot;]]
for webindex in range(2,12133): #range(2,12133)
    try:
        html=BeautifulSoup(open(&amp;quot;./site/{webindex}.html&amp;quot;.format(webindex=webindex),&#39;r&#39;,encoding=&amp;quot;utf-8&amp;quot;),&amp;quot;html.parser&amp;quot;)
    except:
        print(webindex)  # æ‰“å°ç©ºçš„webç´¢å¼•
        WebName=&amp;quot;Null&amp;quot;
        WebCountry=&amp;quot;Null&amp;quot;
        WebType=&amp;quot;Null&amp;quot;
        WebLink=&amp;quot;Null&amp;quot;
        WebDesc=&amp;quot;Null&amp;quot;
    try:
        WebName=html.select(&#39;.baseinfo li h1&#39;)[0].text
    except:
        WebName = &amp;quot;Null&amp;quot;
    try:
        WebCountry=html.select(&#39;.baseinfo .linfo a&#39;)[0].text
    except:
        WebCountry=&amp;quot;Null&amp;quot;
    try:
        WebType=html.select(&#39;.baseinfo .rinfo a&#39;)[0].text
    except:
        WebType=&amp;quot;Null&amp;quot;
    try:
        WebLink=html.select(&#39;.baseinfo .siteurl a&#39;)[0].text
    except:
        WebLink=&amp;quot;Null&amp;quot;
    try:
        WebDesc=html.select(&#39;.sitetext p&#39;)[0].text
    except:
        WebDesc=&amp;quot;Null&amp;quot;
    Webs.append([webindex,WebName,WebCountry,WebType,WebLink,WebDesc])
# å†™å…¥csv
with open(&amp;quot;webs.csv&amp;quot;,&amp;quot;w&amp;quot;,newline=&#39;&#39;,encoding=&amp;quot;utf-8&amp;quot;) as f:
    out=csv.writer(f)
    for row in Webs:
        out.writerow(row)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;kanguowaiç½‘ç«™æ‰€æœ‰åˆ†ç±»ç½‘å€åœ¨çº¿çˆ¬å–&#34;&gt;kanguowaiç½‘ç«™æ‰€æœ‰åˆ†ç±»ç½‘å€åœ¨çº¿çˆ¬å–&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from bs4 import BeautifulSoup
import urllib.request
import csv

# å˜é‡å£°æ˜ï¼š
# ç´¢å¼• webindex
# åç§° WebName
# å›½å®¶ WebCountry
# ç±»å‹ WebType
# ç½‘ç«™ WebLink
# æè¿° WebDesc
Webs=[[&amp;quot;ç´¢å¼•&amp;quot;,&amp;quot;åç§°&amp;quot;,&amp;quot;å›½å®¶&amp;quot;,&amp;quot;ç±»å‹&amp;quot;,&amp;quot;ç½‘å€&amp;quot;,&amp;quot;æè¿°&amp;quot;]]
for webindex in range(2,12133): #range(2,12133)
    try:
        html=BeautifulSoup(urllib.request.urlopen(&amp;quot;https://www.kanguowai.com/site/{webindex}.html&amp;quot;.format(webindex=webindex)).read().decode(&amp;quot;utf-8&amp;quot;),&amp;quot;html.parser&amp;quot;)
    except:
        print(webindex)  # æ‰“å°ç©ºçš„webç´¢å¼•
        WebName=&amp;quot;Null&amp;quot;
        WebCountry=&amp;quot;Null&amp;quot;
        WebType=&amp;quot;Null&amp;quot;
        WebLink=&amp;quot;Null&amp;quot;
        WebDesc=&amp;quot;Null&amp;quot;
    try:
        WebName=html.select(&#39;.baseinfo li h1&#39;)[0].text
    except:
        WebName = &amp;quot;Null&amp;quot;
    try:
        WebCountry=html.select(&#39;.baseinfo .linfo a&#39;)[0].text
    except:
        WebCountry=&amp;quot;Null&amp;quot;
    try:
        WebType=html.select(&#39;.baseinfo .rinfo a&#39;)[0].text
    except:
        WebType=&amp;quot;Null&amp;quot;
    try:
        WebLink=html.select(&#39;.baseinfo .siteurl a&#39;)[0].text
    except:
        WebLink=&amp;quot;Null&amp;quot;
    try:
        WebDesc=html.select(&#39;.sitetext p&#39;)[0].text
    except:
        WebDesc=&amp;quot;Null&amp;quot;
    Webs.append([webindex,WebName,WebCountry,WebType,WebLink,WebDesc])
# å†™å…¥csv
with open(&amp;quot;websbuff.csv&amp;quot;,&amp;quot;w&amp;quot;,newline=&#39;&#39;,encoding=&amp;quot;utf-8&amp;quot;) as f:
    out=csv.writer(f)
    for row in Webs:
        out.writerow(row)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;egouzæ‰€æœ‰é¢†äº‹é¦†ç¦»çº¿çˆ¬å–&#34;&gt;egouzæ‰€æœ‰é¢†äº‹é¦†ç¦»çº¿çˆ¬å–&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# é¢†äº‹é¦†
from bs4 import BeautifulSoup
import csv,os

htmls=os.listdir(&amp;quot;./consulate/yes&amp;quot;)
Consulates=[[&amp;quot;åç§°&amp;quot;,&amp;quot;æœºæ„ç±»å‹&amp;quot;,&amp;quot;è”ç³»é‚®ç®±&amp;quot;,&amp;quot;è”ç³»ç”µè¯&amp;quot;,&amp;quot;ä¼ çœŸåœ°å€&amp;quot;,&amp;quot;å·¥ä½œæ—¶é—´&amp;quot;,&amp;quot;ç½‘ç«™&amp;quot;,&amp;quot;å¤§ä½¿ï¼ˆæœºæ„è´Ÿè´£äººï¼‰&amp;quot;,&amp;quot;è”ç³»åœ°å€&amp;quot;]]
for html in htmls:
    htmlitem=BeautifulSoup(open(&amp;quot;./consulate/yes/{html}&amp;quot;.format(html=html), &#39;r&#39;, encoding=&amp;quot;utf-8&amp;quot;), &amp;quot;html.parser&amp;quot;).select(&#39;.website-info .item-list .item&#39;)
    try:
        # è·å–é¢†äº‹é¦†åç§°
        Name=htmlitem[0].select(&amp;quot;.btn-quick&amp;quot;)[0].text
        # è·å–äº†é¢†äº‹é¦†ç±»å‹
        Type=htmlitem[1].select(&amp;quot;.text&amp;quot;)[0].text
        Email=htmlitem[1].select(&amp;quot;.text&amp;quot;)[1].text
        Call=htmlitem[2].select(&amp;quot;.text&amp;quot;)[0].text
        Fax=htmlitem[2].select(&amp;quot;.text&amp;quot;)[1].text
        WorkTime=htmlitem[3].select(&amp;quot;.text&amp;quot;)[0].text
        Web=htmlitem[3].select(&amp;quot;.text&amp;quot;)[1].text
        People=htmlitem[4].select(&amp;quot;.text&amp;quot;)[0].text
        Address=htmlitem[5].select(&amp;quot;.text&amp;quot;)[0].text
        Consulates.append([Name,Type,Email,Call,Fax,WorkTime,Web,People,Address])
    except:
        print(html)
# å†™å…¥csv
with open(&amp;quot;é¢†äº‹é¦†.csv&amp;quot;,&amp;quot;w&amp;quot;,newline=&#39;&#39;,encoding=&amp;quot;utf-8&amp;quot;) as f:
    out=csv.writer(f)
    for row in Consulates:
        out.writerow(row)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;egouzæ‰€æœ‰å¤§ä½¿é¦†ç¦»çº¿çˆ¬å–&#34;&gt;egouzæ‰€æœ‰å¤§ä½¿é¦†ç¦»çº¿çˆ¬å–&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# å¤§ä½¿é¦†
from bs4 import BeautifulSoup
import csv,os

htmls=os.listdir(&amp;quot;./embassy/yes&amp;quot;)
Consulates=[[&amp;quot;åç§°&amp;quot;,&amp;quot;æœºæ„ç±»å‹&amp;quot;,&amp;quot;è”ç³»é‚®ç®±&amp;quot;,&amp;quot;è”ç³»ç”µè¯&amp;quot;,&amp;quot;ä¼ çœŸåœ°å€&amp;quot;,&amp;quot;å·¥ä½œæ—¶é—´&amp;quot;,&amp;quot;ç½‘ç«™&amp;quot;,&amp;quot;å¤§ä½¿ï¼ˆæœºæ„è´Ÿè´£äººï¼‰&amp;quot;,&amp;quot;è”ç³»åœ°å€&amp;quot;]]
for html in htmls:
    htmlitem=BeautifulSoup(open(&amp;quot;./embassy/yes/{html}&amp;quot;.format(html=html), &#39;r&#39;, encoding=&amp;quot;utf-8&amp;quot;), &amp;quot;html.parser&amp;quot;).select(&#39;.website-info .item-list .item&#39;)
    try:
        # è·å–é¢†äº‹é¦†åç§°
        Name=htmlitem[0].select(&amp;quot;.btn-quick&amp;quot;)[0].text
        # è·å–äº†é¢†äº‹é¦†ç±»å‹
        Type=htmlitem[1].select(&amp;quot;.text&amp;quot;)[0].text
        Email=htmlitem[1].select(&amp;quot;.text&amp;quot;)[1].text
        Call=htmlitem[2].select(&amp;quot;.text&amp;quot;)[0].text
        Fax=htmlitem[2].select(&amp;quot;.text&amp;quot;)[1].text
        WorkTime=htmlitem[3].select(&amp;quot;.text&amp;quot;)[0].text
        Web=htmlitem[3].select(&amp;quot;.text&amp;quot;)[1].text
        People=htmlitem[4].select(&amp;quot;.text&amp;quot;)[0].text
        Address=htmlitem[5].select(&amp;quot;.text&amp;quot;)[0].text
        Consulates.append([Name,Type,Email,Call,Fax,WorkTime,Web,People,Address])
    except:
        print(html)
# å†™å…¥csv
with open(&amp;quot;å¤§ä½¿é¦†.csv&amp;quot;,&amp;quot;w&amp;quot;,newline=&#39;&#39;,encoding=&amp;quot;utf-8&amp;quot;) as f:
    out=csv.writer(f)
    for row in Consulates:
        out.writerow(row)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‚è€ƒé“¾æ¥&#34;&gt;å‚è€ƒé“¾æ¥ï¼š&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://www.jb51.net/article/178653.htm&#34;&gt;Pythonä¸‹åˆ©ç”¨BeautifulSoupè§£æHTMLçš„å®ç°&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/hanmk/p/8724162.html&#34;&gt;pythonçˆ¬è™«å­¦ä¹ (ä¸€)ï¼šBeautifulSoupåº“åŸºç¡€åŠä¸€èˆ¬å…ƒç´ æå–æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
">çˆ¬è™«ä¹‹BeautifulSoup</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/ju-yu-wang-nei-bu-da-jian-pip-yuan/"" data-c="
          &lt;p&gt;pythonçš„pipæºçš„æ­å»º&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;åŸå› &#34;&gt;åŸå› &lt;/h3&gt;
&lt;p&gt;å±€åŸŸç½‘æ— æ³•è¿æ¥äº’è”ç½‘ï¼Œæ¯æ¬¡å®‰è£…pythonæ¨¡å—éœ€è¦åœ¨å…¬ç½‘æœºå™¨ä¸‹è½½ã€åˆ»ç›˜ã€å¯¼å…¥ã€å®‰è£…ã€å†å»ä¸‹è½½ä¾èµ–......ä¸€æ¥ä¸€å›ä¸ä»…æ¶ˆè€—å¾ˆå¤šå…‰ç›˜ï¼Œå¹¶ä¸”æµªè´¹å¤§é‡çš„å¼€å‘æ—¶é—´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹è½½pypiæ‰€æœ‰æ¨¡å—&#34;&gt;ä¸‹è½½pypiæ‰€æœ‰æ¨¡å—&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆå®‰è£…msys2ï¼Œå¹¶ä¸”æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œåœ¨å‘½ä»¤è¡Œä¸­èƒ½å¤Ÿä½¿ç”¨wgetå‘½ä»¤ï¼Œå¦‚æœä¸æ·»åŠ ç¯å¢ƒå˜é‡åˆ™éœ€è¦ä½¿ç”¨wget.exeçš„ç»å¯¹è·¯å¾„ã€‚&lt;br&gt;
æ­¤å¤„ä½¿ç”¨çš„æ˜¯é˜¿é‡Œçš„é•œåƒæºï¼Œé•œåƒæº2020å¹´åˆå¤§çº¦9Tï¼Œä¹‹åä¼šæ…¢æ…¢å¢åŠ ï¼Œéœ€è¦æå‰å‡†å¤‡å¥½å­˜å‚¨ã€‚ä¸‹è½½æ—¶é—´å¯èƒ½æ¯”è¾ƒé•¿ï¼Œéœ€è¦è€å¿ƒç­‰å¾…ã€‚&lt;br&gt;
ä¸‹è½½ä¸‹æ¥ä¸»è¦æ˜¯ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼šsimpleå’Œpackages&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#https://mirrors.aliyun.com/pypi/simple/
import multiprocessing,queue,os
from bs4 import BeautifulSoup

#ä¸‹è½½è¿›ç¨‹
def download_process(url):
	#wget -m -t 10 -c -np -q -b --execute robots=off https://mirrors.aliyun.com/pypi/packages/00/00/
	out=os.popen(&amp;quot;C:\\msys64\\usr\\bin\\wget -m -t 10 -T 180 -c -q --execute robots=off {url}&amp;quot;.format(url=url)).read()
	if out!=&amp;quot;&amp;quot;:
		print(&amp;quot;ERRORï¼š{url}&amp;quot;.format(url=url))
		with open(&amp;quot;error_simple.log&amp;quot;,&amp;quot;a&amp;quot;) as log:
			log.write(&amp;quot;ERRORï¼š{url}\n&amp;quot;.format(url=url))
	else:
		print(&amp;quot;ä¸‹è½½å®Œæˆï¼š{url}&amp;quot;.format(url=url))
		with open(&amp;quot;success_simple.log&amp;quot;,&amp;quot;a&amp;quot;) as log:
			log.write(&amp;quot;ä¸‹è½½å®Œæˆï¼š{url}\n&amp;quot;.format(url=url))
	
if __name__==&amp;quot;__main__&amp;quot;:
	#å¤šçº¿ç¨‹æ”¯æŒandå‚æ•°è·å–
	multiprocessing.freeze_support()
	# ä¸‹è½½æ‰€æœ‰æ¨¡å—åˆ—è¡¨
	os.popen(&amp;quot;C:\\msys64\\usr\\bin\\wget https://mirrors.aliyun.com/pypi/simple/&amp;quot;).read()
	# è·å–æ‰€æœ‰çš„aæ ‡ç­¾ä¸­çš„è¿æ¥
	html=BeautifulSoup(open(&amp;quot;index.html&amp;quot;,&#39;r&#39;,encoding=&amp;quot;utf-8&amp;quot;),&amp;quot;html.parser&amp;quot;)
	tag=html.select(&#39;a[href]&#39;)
	urls=[]
	for ahref in tag:
		urls.append(&amp;quot;https://mirrors.aliyun.com/pypi/simple/&amp;quot;+ahref.get(&amp;quot;href&amp;quot;))

	#åˆ›å»ºä»»åŠ¡é˜Ÿåˆ—
	TaskQue=queue.Queue()
	for i in urls:
		TaskQue.put(i)

	# å¼€å¯ä¸‹è½½çº¿ç¨‹
	pool=multiprocessing.Pool(processes=16) # å¼€å¯16ä¸ªè¿›ç¨‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®CPUæ•°ç›®å¼€å¯è¿›ç¨‹ï¼Œprocesses=multiprocessing.cpu_count()
	for i in range(TaskQue.qsize()):
		TaskQue_One=TaskQue.get()
		pool.apply_async(download_process,(TaskQue_One,))
	pool.close()
	pool.join()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;éƒ¨ç½²nginx&#34;&gt;éƒ¨ç½²nginx&lt;/h3&gt;
&lt;p&gt;nginxæœåŠ¡å™¨å±€åŸŸç½‘åœ°å€ä¸º&amp;lt;192.168.1.195&amp;gt;&lt;br&gt;
å¦‚æœå†…ç½‘æœ‰webæœåŠ¡å¯ä»¥ç›´æ¥æŒ‚è½½åˆ°ç›¸åº”ç›®å½•ä¸‹ï¼Œå¼€å¯ç›®å½•éå†åŠŸèƒ½å³å¯ã€‚æˆ‘æ˜¯ä½¿ç”¨æºç æ­å»ºçš„nginxæœåŠ¡ï¼ˆå…·ä½“æ­¥éª¤è§&lt;a href=&#34;https://www.jianshu.com/p/172063887a51&#34;&gt;https://www.jianshu.com/p/172063887a51&lt;/a&gt;ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¿®æ”¹é…ç½®æ–‡ä»¶
vim /usr/local/nginx/conf/nginx.conf
# åœ¨ä½ è‡ªå·±è‡ªå®šä¹‰çš„ç›®å½•ä¸‹æ·»åŠ å¦‚ä¸‹3è¡Œå†…å®¹ï¼Œæˆ‘æ˜¯ç›´æ¥æ”¾åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ‰€ä»¥è¿½åŠ åœ¨location /{...}è¿™ä¸ªä¸‹é¢
autoindex on;
autoindex_exact_size off;
autoindex_localtime on;
# é‡å¯nginxæœåŠ¡
systemctl restart nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä½¿ç”¨pypiæº&#34;&gt;ä½¿ç”¨pypiæº&lt;/h3&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä½ç½®ï¼š&lt;br&gt;
Windowsï¼šwin+R---è¾“å…¥%USERPROFILE%ï¼ˆæˆ–è€…%HOMEPATH%ï¼‰ä¹‹åå›è½¦---åœ¨æ­¤ç›®å½•ä¸­æ–°å»ºæ–‡ä»¶å¤¹pip---åœ¨pipæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶pip.ini&lt;br&gt;
Linuxï¼švim ~/.pip/pip.conf&lt;br&gt;
é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[global]
index-url = http://192.168.1.195/pypi/simple
[install]
trusted-host = 192.168.1.195
&lt;/code&gt;&lt;/pre&gt;
">å±€åŸŸç½‘å†…éƒ¨æ­å»ºpipæº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-shi-xian-tcp-xie-yi-fa-song-he-jie-shou-xin-xi/"" data-c="
          &lt;p&gt;ä½¿ç”¨pythonså®ç°ä¿¡æ¯å‘é€ä¸æ¥æ”¶&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;æœåŠ¡ç«¯å¿…é¡»å…ˆè¿è¡Œ&#34;&gt;æœåŠ¡ç«¯(å¿…é¡»å…ˆè¿è¡Œ)&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æœåŠ¡ç«¯(server)
import socket

# åˆ›å»ºsocketå¯¹è±¡
s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)  # å¿…é¡»å’Œå®¢æˆ·ç«¯ä¿æŒä¸€è‡´
# éœ€è¦è‡ªå·±ç»‘å®šä¸€ä¸ªipåœ°å€å’Œç«¯å£å·
s.bind((&#39;127.0.0.1&#39;, 8000))
# æœåŠ¡ç«¯ç›‘å¬æ“ä½œæ—¶åˆ»æ³¨æ„æ˜¯å¦æœ‰å®¢æˆ·ç«¯è¯·æ±‚å‘æ¥
s.listen(3)  # å¯ä»¥åŒæ—¶ç›‘å¬3ä¸ªï¼Œä½†æ˜¯è¿™é‡Œåªæœ‰ä¸€ä¸ªå®¢æˆ·è¯·æ±‚ï¼Œå› ä¸ºæ²¡æœ‰å†™å¤šçº¿ç¨‹
# åŒæ„è¿æ¥è¯·æ±‚
s1, addr = s.accept()  # sæ˜¯æœåŠ¡ç«¯çš„socketå¯¹è±¡s1æ˜¯æ¥å…¥çš„å®¢æˆ·ç«¯socketå¯¹è±¡
print(addr)
# reviceæ¥æ”¶æ•°æ®
data = s1.recv(1024)  # è®¾å®šä¸€æ¬¡å¯ä»¥æ¥æ”¶1024å­—èŠ‚å¤§å°
print(data.decode())  # ä¼ è¿‡æ¥çš„å­—èŠ‚æµéœ€è¦ç”¨decode()è§£ç 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# å®¢æˆ·ç«¯(clientï¼‰
# TCPå¿…é¡»å»ºç«‹è¿æ¥
import socket  #å¯¼å…¥æ¨¡å—
# SOCK_STREAM---TCPåè®®æ–¹å¼
# AF_INET----æˆ‘çš„æ˜¯ipv4åœ°å€
# åˆ›å»ºsocketå¯¹è±¡ï¼šæŒ‡å®šä¼ è¾“åè®®
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)
# å»ºç«‹è¿æ¥å‘é€è¿æ¥è¯·æ±‚ ipåœ°å€å’Œç«¯å£å·
s.connect((&#39;127.0.0.1&#39;,8000))
message=&amp;quot;Hello World! ä½ å¥½ï¼Œä¸­å›½ï¼&amp;quot;
s.send(message.encode()) #åªèƒ½å‘é€å­—èŠ‚æµéœ€è¦ç”¨encodeè½¬ç å­—ç¬¦ä¸²æˆå­—èŠ‚ï¼Œä¸ç„¶æ— æ³•å‘é€æ–‡ä»¶
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…³äºå¤šçº¿ç¨‹ç­‰ç›¸å…³å†…å®¹ï¼Œè¯·å‚è€ƒæˆ‘åœ¨åšå®¢å›­ä¸Šçš„åšå®¢ï¼š&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/JYLCSS/p/11006249.html&#34;&gt;https://www.cnblogs.com/JYLCSS/p/11006249.html&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/JYLCSS/p/11037227.html&#34;&gt;https://www.cnblogs.com/JYLCSS/p/11037227.html&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/JYLCSS/p/11070406.html&#34;&gt;https://www.cnblogs.com/JYLCSS/p/11070406.html&lt;/a&gt;&lt;/p&gt;
">pythonå®ç°tcpåè®®å‘é€å’Œæ¥æ”¶ä¿¡æ¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/python-duo-jin-cheng-yu-duo-xian-cheng-pei-he-kao-bei-wen-jian-mu-lu/"" data-c="
          &lt;p&gt;å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;ç‰ˆæœ¬ä¸€&#34;&gt;ç‰ˆæœ¬ä¸€&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨shutilè¿›è¡Œæ‹·è´&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# -*- coding: utf-8 -*-
# @author: Tele
# @Time  : 2019/04/02 ä¸‹åˆ 3:09
# å¾…æ”¹è¿›:
# 1.æ‹·è´é€»è¾‘ä½¿ç”¨åŸç”Ÿçš„io
# 2.é’ˆå¯¹å¤§æ–‡ä»¶åœ¨è¿›ç¨‹å†…éƒ¨å®ç°å¤šçº¿ç¨‹æ–¹å¼è¿›è¡Œæ‹·è´


import time
import re
import os
import shutil
import multiprocessing


# éå†æ–‡ä»¶å¤¹
def walk_file(file):
    file_list = list()
    for root, dirs, files in os.walk(file):
        # éå†æ–‡ä»¶
        for f in files:
            file_list.append(f)
    return file_list


# è®¡ç®—æ–‡ä»¶æ•°é‡
def get_file_count(dir):
    return len(walk_file(dir))


def copy(src, target, queue):
    target_number = 1
    if os.path.isdir(src):
        target_number = get_file_count(src)
        shutil.copytree(src, target)
    else:
        shutil.copyfile(src, target)
    # å°†æ‹·è´å®Œæˆçš„æ–‡ä»¶æ•°é‡æ”¾å…¥é˜Ÿåˆ—ä¸­
    queue.put(target_number)


def copy_dir(src, desc):
    total_number = get_file_count(src)
    # åˆ†éš”ç¬¦æ£€æµ‹
    src = check_separator(src)
    desc = check_separator(desc)
    # print(&amp;quot;src:&amp;quot;,src)
    # print(&amp;quot;desc:&amp;quot;,desc)

    file_dir_list = [src + &amp;quot;/&amp;quot; + i for i in os.listdir(src)]
    if os.path.exists(desc):
        shutil.rmtree(desc)
    pool = multiprocessing.Pool(3)

    # åˆ›å»ºé˜Ÿåˆ—
    queue = multiprocessing.Manager().Queue()

    # ä¸€ä¸ªæ–‡ä»¶/ç›®å½•å¼€å¯ä¸€ä¸ªè¿›ç¨‹å»æ‹·è´
    for f_name in file_dir_list:
        target = desc + &amp;quot;/&amp;quot; + f_name[index_list(&amp;quot;/&amp;quot;, f_name)[1] + 1:]
        # print(target)
        # åˆ›å»ºtargetç›®å½•
        parent_path = os.path.split(target)[0]
        if not os.path.exists(parent_path):
            os.makedirs(parent_path)
        pool.apply_async(copy, args=(f_name, target, queue,))

    start = time.time()
    pool.close()
    #    pool.join()
    count = 0
    while True:
        count += queue.get()
        # æ ¼å¼åŒ–è¾“å‡ºæ—¶ä¸¤ä¸ª%è¾“å‡ºä¸€ä¸ª%,ä¸æ¢è¡Œ,æ¯æ¬¡å®šä½åˆ°è¡Œé¦–,å®ç°è¦†ç›–
        print(&amp;quot;\ræ‹·è´è¿›åº¦ä¸º %.2f %%&amp;quot; % (count * 100 / total_number), end=&amp;quot;&amp;quot;)
        if count &amp;gt;= total_number:
            break
    end = time.time()
    print()
    print(&amp;quot;è€—æ—¶-----&amp;quot;, (end - start), &amp;quot;s&amp;quot;)


# æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦å‡ºç°çš„å…¨éƒ¨ç´¢å¼•ä½ç½®
def index_list(c, s):
    return [i.start() for i in re.finditer(c, s)]


# æ£€æµ‹ç›®å½•ç»“å°¾æ˜¯å¦æœ‰ &amp;quot;/&amp;quot;
def check_separator(path):
    if path.rindex(&amp;quot;/&amp;quot;) == len(path) - 1:
        return path[0:path.rindex(&amp;quot;/&amp;quot;)]
    return path


def main():
    copy_dir(&amp;quot;f:/ftp_mypc/&amp;quot;, &amp;quot;e:/ftp_mypc/&amp;quot;)


if __name__ == &#39;__main__&#39;:
    main()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç‰ˆæœ¬äºŒ&#34;&gt;ç‰ˆæœ¬äºŒ&lt;/h3&gt;
&lt;p&gt;è¿™æ ·åšä»ç„¶æœ‰äº›å°é—®é¢˜,å¯¹äºå¤§æ–‡ä»¶å¯ä»¥åœ¨è¿›ç¨‹å†…éƒ¨é‡‡ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼,å¯ä»¥çœ‹åˆ°ä½¿ç”¨shutilè¿›è¡Œæ‹·è´æ—¶æˆ‘ä»¬æ²¡æœ‰åŠæ³•å®ç°å­—èŠ‚åˆ‡å‰²,äºæ˜¯æœ‰äº†ä¸‹é¢çš„ç‰ˆæœ¬äºŒ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# -*- coding: utf-8 -*-
# @author: Tele
# @Time  : 2019/04/02 ä¸‹åˆ 3:09
# ä½¿ç”¨å¤šè¿›ç¨‹æ‹·è´æ–‡ä»¶å¤¹,å¯¹äºå¤§æ–‡ä»¶è¿›ç¨‹å†…éƒ¨åˆä½¿ç”¨äº†å¤šçº¿ç¨‹è¿›è¡Œæ‹·è´
# ä½¿ç”¨è¿›ç¨‹æ± å®ç°å¤šè¿›ç¨‹æ—¶,ä½¿ç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—è¦ä½¿ç”¨multiprocessing.Manager().Queue()åˆ›å»º

import time
import re
import os
import shutil
import multiprocessing
import math
from concurrent.futures import ThreadPoolExecutor, wait

# è®¾ç½®å•ä¸ªæ–‡ä»¶çš„æœ€å¤§å€¼:209715200 200M
MAX_SINGLE_FILE_SIZE = 209715200
mutex = multiprocessing.Lock()
executor = ThreadPoolExecutor(max_workers=3)


# éå†æ–‡ä»¶å¤¹
def walk_file(file):
    file_list = list()
    for root, dirs, files in os.walk(file):
        # éå†æ–‡ä»¶
        for f in files:
            file_list.append(f)

        # ç©ºæ–‡ä»¶å¤¹å¤„ç†
        for d in dirs:
            if len(os.listdir(os.path.join(root, d))) == 0:
                file_list.append(d)
    return file_list


# è®¡ç®—æ–‡ä»¶æ•°é‡
def get_file_count(dir):
    return len(walk_file(dir))


def copy(src, target, queue):
    target_number = 1
    buffer = 1024
    # æ–‡ä»¶å¤¹
    if os.path.isdir(src):
        target_number = get_file_count(src)
        for root, dirs, files in os.walk(src):
            # éå†æ–‡ä»¶
            for f in files:
                drive = os.path.splitdrive(target)[0]
                target = drive + os.path.splitdrive(os.path.join(root, f))[1]
                copy_single_file(buffer, os.path.join(root, f), target)
            # ç©ºæ–‡ä»¶å¤¹
            for d in dirs:
                drive = os.path.splitdrive(target)[0]
                target = drive + os.path.splitdrive(os.path.join(root, d))[1]
                # æ£€æŸ¥æ–‡ä»¶çš„å±‚çº§ç›®å½•
                if not os.path.exists(target):
                    os.makedirs(target)
    else:
        copy_single_file(buffer, src, target)
    # å°†æ‹·è´å®Œæˆçš„æ–‡ä»¶æ•°é‡æ”¾å…¥é˜Ÿåˆ—ä¸­
    queue.put(target_number)


# æ‹·è´å•æ–‡ä»¶
def copy_single_file(buffer, src, target):
    file_size = os.path.getsize(src)
    rs = open(src, &amp;quot;rb&amp;quot;)

    # æ£€æŸ¥æ–‡ä»¶çš„å±‚çº§ç›®å½•
    parent_path = os.path.split(target)[0]
    if not os.path.exists(parent_path):
        os.makedirs(parent_path)

    ws = open(target, &amp;quot;wb&amp;quot;)
    # å°æ–‡ä»¶ç›´æ¥è¯»å†™
    if file_size &amp;lt;= MAX_SINGLE_FILE_SIZE:
        while True:
            content = rs.read(buffer)
            ws.write(content)
            if len(content) == 0:
                break
        ws.flush()
    else:
        # è®¾ç½®æ¯ä¸ªçº¿ç¨‹æ‹·è´çš„å­—èŠ‚æ•° 50M
        PER_THREAD_SIZE = 52428800
        # æ„é€ å‚æ•°å¹¶æ‰§è¡Œ
        task_list = list()
        for i in range(math.ceil(file_size / PER_THREAD_SIZE)):
            byte_size = PER_THREAD_SIZE
            # æœ€åä¸€ä¸ªçº¿ç¨‹æ‹·è´çš„å­—èŠ‚æ•°åº”è¯¥æ˜¯å–æ¨¡
            if i == math.ceil(file_size / PER_THREAD_SIZE) - 1:
                byte_size = file_size % PER_THREAD_SIZE
            start = i * PER_THREAD_SIZE + i
            t = executor.submit(copy_file_thread, start, byte_size, rs, ws)
            task_list.append(t)
        wait(task_list)
    if rs:
        rs.close()
    if ws:
        ws.close()


# å¤šçº¿ç¨‹æ‹·è´
def copy_file_thread(start, byte_size, rs, ws):
    mutex.acquire()
    buffer = 1024
    count = 0
    rs.seek(start)
    ws.seek(start)
    while True:
        if count + buffer &amp;lt;= byte_size:
            content = rs.read(buffer)
            count += len(content)
            write(content, ws)
        else:
            content = rs.read(byte_size % buffer)
            count += len(content)
            write(content, ws)
            break
    # global total_count
    # total_count += byte_size
    # print(&amp;quot;\ræ‹·è´è¿›åº¦ä¸º%.2f %%&amp;quot; % (total_count * 100 / file_size), end=&amp;quot;&amp;quot;)
    mutex.release()


def write(content, ws):
    ws.write(content)
    ws.flush()


def copy_dir(src, desc):
    # è·å¾—å¾…æ‹·è´çš„æ–‡ä»¶æ€»æ•°(å«ç©ºæ–‡ä»¶å¤¹)
    total_number = get_file_count(src)
    # åˆ†éš”ç¬¦æ£€æµ‹
    src = check_separator(src)
    desc = check_separator(desc)
    # print(&amp;quot;src:&amp;quot;,src)
    # print(&amp;quot;desc:&amp;quot;,desc)

    file_dir_list = [src + &amp;quot;/&amp;quot; + i for i in os.listdir(src)]
    if os.path.exists(desc):
        shutil.rmtree(desc)

    # è¿›ç¨‹æ± 
    pool = multiprocessing.Pool(3)

    # åˆ›å»ºé˜Ÿåˆ—
    queue = multiprocessing.Manager().Queue()

    # ä¸€ä¸ªæ–‡ä»¶/ç›®å½•å¼€å¯ä¸€ä¸ªè¿›ç¨‹å»æ‹·è´
    for f_name in file_dir_list:
        target = os.path.splitdrive(desc)[0] + &amp;quot;/&amp;quot; + os.path.splitdrive(f_name)[1]
        # target = desc + &amp;quot;/&amp;quot; + f_name[index_list(&amp;quot;/&amp;quot;, f_name)[1] + 1:]
        # print(target)
        # åˆ›å»ºtargetç›®å½•
        parent_path = os.path.split(target)[0]
        if not os.path.exists(parent_path):
            os.makedirs(parent_path)
        pool.apply_async(copy, args=(f_name, target, queue))

    start = time.time()
    pool.close()
    # pool.join()
    count = 0
    while True:
        count += queue.get()
        # æ ¼å¼åŒ–è¾“å‡ºæ—¶ä¸¤ä¸ª%è¾“å‡ºä¸€ä¸ª%,ä¸æ¢è¡Œ,æ¯æ¬¡å®šä½åˆ°è¡Œé¦–,å®ç°è¦†ç›–
        print(&amp;quot;\rå½“å‰è¿›åº¦ä¸º %.2f %%&amp;quot; % (count * 100 / total_number), end=&amp;quot;&amp;quot;)
        if count &amp;gt;= total_number:
            break

    executor.shutdown()
    end = time.time()
    print()
    print(&amp;quot;è€—æ—¶-----&amp;quot;, (end - start), &amp;quot;s&amp;quot;)


# æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦å‡ºç°çš„å…¨éƒ¨ç´¢å¼•ä½ç½®
def index_list(c, s):
    return [i.start() for i in re.finditer(c, s)]


# æ£€æµ‹ç›®å½•ç»“å°¾æ˜¯å¦æœ‰ &amp;quot;/&amp;quot;
def check_separator(path):
    if path.rindex(&amp;quot;/&amp;quot;) == len(path) - 1:
        return path[0:path.rindex(&amp;quot;/&amp;quot;)]
    return path


def main():
    copy_dir(&amp;quot;f:/ftp_mypc/&amp;quot;, &amp;quot;e:/ftp_mypc/&amp;quot;)


if __name__ == &#39;__main__&#39;:
    main()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥&lt;a href=&#34;https://www.cnblogs.com/tele-share/p/10656811.html&#34;&gt;https://www.cnblogs.com/tele-share/p/10656811.html&lt;/a&gt;&lt;/p&gt;
">python-å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹é…åˆæ‹·è´æ–‡ä»¶ç›®å½•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/yuan-ma-bian-yi-wireshark2615/"" data-c="
          &lt;p&gt;centos7å®‰è£…wireshark&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;ç¯å¢ƒè¯´æ˜&#34;&gt;ç¯å¢ƒè¯´æ˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;centos7-1908-mini&lt;/li&gt;
&lt;li&gt;yumæºä¸ºæ¸…åé•œåƒæº&lt;/li&gt;
&lt;li&gt;å·²ç»å®‰è£…wgetå’Œlrzsz&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;ä¸å®‰è£…wireshark3çš„åŸå› &#34;&gt;ä¸å®‰è£…wireshark3çš„åŸå› &lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;éœ€è¦æ›´é«˜ç‰ˆæœ¬çš„cmake&lt;/li&gt;
&lt;li&gt;éœ€è¦æ›´é«˜ç‰ˆæœ¬çš„python&lt;/li&gt;
&lt;li&gt;éœ€è¦å…¶ä»–æ›´é«˜ç‰ˆæœ¬çš„ä¾èµ–&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœç¡®å®éœ€è¦å®‰è£…wireshark3ï¼Œ&lt;a href=&#34;https://hualong1009.github.io/2019/08/13/Wireshark-v3.x-%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/#wireshark%E5%AE%89%E8%A3%85&#34;&gt;å‚è€ƒé“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¼€å§‹éƒ¨ç½²&#34;&gt;å¼€å§‹éƒ¨ç½²&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¾èµ–ç¯å¢ƒå®‰è£…
yum install -y gcc* libpcap* bison* byacc* flex* perl-podlators* libgcrypt* glib* gtk* qt5*
# ç¼–è¯‘
cd /usr/local/src
wget &amp;quot;https://1.na.dl.wireshark.org/src/wireshark-2.6.15.tar.xz&amp;quot;
tar -Jxvf wireshark-2.6.15.tar.xz
cd wireshark-2.6.15
./configure
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
">æºç ç¼–è¯‘wireshark2.6.15</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/wang-qia-ju-he-duo-wang-qia-bang-ding/"" data-c="
          &lt;h1 id=&#34;ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢&#34;&gt;ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢&lt;/h1&gt;
&lt;h2 id=&#34;uuidæŸ¥è¯¢&#34;&gt;UUIDæŸ¥è¯¢&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘å¡ï¼š&lt;code&gt;nmcli con show&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç£ç›˜ï¼š&lt;code&gt;blkid&lt;/code&gt;æˆ–è€…&lt;code&gt;lsblk -f&lt;/code&gt;æˆ–è€…&lt;code&gt;ll /dev/disk/by-uuid/&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿï¼š&lt;code&gt;cat /proc/sys/kernel/random/uuid&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…¶ä»–ä¿¡æ¯&#34;&gt;å…¶ä»–ä¿¡æ¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;CPU
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹cpuä¿¡æ¯ä½¿ç”¨&lt;code&gt;lscpu&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªcpuçš„è¯¦ç»†ä¿¡æ¯&lt;code&gt;more /proc/cpuinfo&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç‰©ç†cpuä¸ªæ•°&lt;code&gt;cat /proc/cpuinfo | grep &amp;quot;physical id&amp;quot; | sort -u | wc -l&lt;/code&gt;ï¼Œphysical idç›¸åŒè¡¨ç¤ºåŒä¸€ä¸ªç‰©ç†cpu&lt;/li&gt;
&lt;li&gt;é€»è¾‘cpuä¸ªæ•°&lt;code&gt;cat /proc/cpuinfo | grep &amp;quot;processor&amp;quot; | wc -l&lt;/code&gt;ï¼Œprocessorè¡¨ç¤ºé€»è¾‘cpuï¼Œä¸€èˆ¬æˆ‘ä»¬è¯´æœåŠ¡å™¨æ˜¯å‡ æ ¸cpuè¯´çš„æ˜¯é€»è¾‘CPUä¸ªæ•°&lt;/li&gt;
&lt;li&gt;cpuå†…æ ¸æ€»æ•°&lt;code&gt;cat /proc/cpuinfo | grep &amp;quot;cpu cores&amp;quot; | uniq&lt;/code&gt;ï¼Œcpu coresè¡¨ç¤ºcpuæ ¸å¿ƒæ•°ï¼Œcore idä¸ºå†…æ ¸idå·&lt;/li&gt;
&lt;li&gt;å•ä¸ªç‰©ç†CPUå°è£…çš„é€»è¾‘CPUæ•°&lt;code&gt;cat /proc/cpuinfo | grep &amp;quot;siblings&amp;quot; | uniq&lt;/code&gt;ï¼Œsiblingsè¡¨ç¤ºæ¯ä¸ªç‰©ç†cpué‡Œé¢çš„é€»è¾‘cpuä¸ªæ•°&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ˜¯å¦è¶…çº¿ç¨‹&lt;code&gt;cat /proc/cpuinfo | grep -e &amp;quot;cpu cores&amp;quot; -e &amp;quot;siblings&amp;quot; | sort -u&lt;/code&gt;ï¼Œå¦‚æœcpu coresæ•°é‡å’Œsiblingsæ•°é‡ä¸€è‡´ï¼Œåˆ™æ²¡æœ‰å¯ç”¨è¶…çº¿ç¨‹ï¼Œå¦åˆ™è¶…çº¿ç¨‹è¢«å¯ç”¨&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;å†…å­˜ï¼š
&lt;ol&gt;
&lt;li&gt;å†…å­˜ä¿¡æ¯&lt;code&gt;cat /proc/meminfo&lt;/code&gt;æˆ–è€…&lt;code&gt;dmidecode -t memory&lt;/code&gt;ï¼Œå…³äºdmidecodeçš„è¯¦ç»†ç”¨æ³•å‚è€ƒ&lt;a href=&#34;http://linux.51yip.com/search/dmidecode&#34;&gt;http://linux.51yip.com/search/dmidecode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å†…å­˜å¤§å°&lt;code&gt;free -h&lt;/code&gt;æˆ–è€…&lt;code&gt;cat /proc/meminfo | grep MemTotal&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç£ç›˜
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹linuxç¡¬ç›˜å’Œåˆ†åŒºä¿¡æ¯çš„ç³»ç»Ÿä¿¡æ¯&lt;code&gt;cat /proc/partitions&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å„åˆ†åŒºä½¿ç”¨æƒ…å†µ&lt;code&gt;df -h&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç½‘ç»œ
&lt;ol&gt;
&lt;li&gt;æ‰€æœ‰ç›‘å¬ç«¯å£&lt;code&gt;netstat -lntp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰å·²ç»å»ºç«‹çš„è¿æ¥ç«¯å£&lt;code&gt;netstat -antp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç½‘ç»œç»Ÿè®¡ä¿¡æ¯è¿›ç¨‹&lt;code&gt;netstat -s&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿ
&lt;ol&gt;
&lt;li&gt;å†…æ ¸&lt;code&gt;uname -a&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è®¡ç®—æœºåç§°&lt;code&gt;hostname&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;PCIè®¾å¤‡&lt;code&gt;lspci -tv&lt;/code&gt;æˆ–è€…&lt;code&gt;cat /proc/pci&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;USBè®¾å¤‡&lt;code&gt;lsusb -tv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åŠ è½½çš„å†…æ ¸æ¨¡å—&lt;code&gt;lsmod&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡&lt;code&gt;env&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿè¿è¡Œæ—¶é—´ã€ç”¨æˆ·æ•°å’Œè´Ÿè½½&lt;code&gt;uptime&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ‰€æœ‰æŒ‚è½½çš„æƒ…å†µ&lt;code&gt;mount | column -t&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ´»åŠ¨ç”¨æˆ·&lt;code&gt;w&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æŒ‡å®šç”¨æˆ·ä¿¡æ¯&lt;code&gt;id&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ—¥å¿—&lt;code&gt;last&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ‰€æœ‰ç”¨æˆ·&lt;code&gt;cut -d: - /etc/passwd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ç³»ç»Ÿæ‰€æœ‰ç»„&lt;code&gt;cut -d: - /etc/group&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;bondæ¨¡å¼&#34;&gt;bondæ¨¡å¼&lt;/h1&gt;
&lt;h2 id=&#34;ä¸ƒç§æ¨¡å¼&#34;&gt;ä¸ƒç§æ¨¡å¼&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Mode=0ï¼šbalance-rrï¼Œè´Ÿè½½åˆ†æ‹…&lt;br&gt;
è½®è½¬ç­–ç•¥ï¼šæŒ‰ç…§é¡ºåºè½®æµä½¿ç”¨æ¯ä¸ªæ¥å£æ¥å‘é€å’Œæ¥æ”¶æ•°æ®åŒ…ï¼Œæé«˜äº†è´Ÿè½½å‡è¡¡çš„èƒ½åŠ›ï¼Œä½†æ˜¯éœ€è¦äº¤æ¢æœºçš„æ”¯æŒï¼Œå› ä¸ºè¯¥æ¨¡å¼æ‰€æœ‰ç«¯å£çš„macåœ°å€ç›¸åŒï¼Œäº¤æ¢æœºä¸èƒ½è¯†åˆ«å¤šä¸ªä¸€ä¸ªMacåœ°å€å¯¹åº”å¤šä¸ªç«¯å£ï¼Œæ‰€ä»¥éœ€è¦äº¤æ¢æœºåšé“¾è·¯èšåˆ&lt;/li&gt;
&lt;li&gt;Mode=1ï¼šactive-backupï¼Œä¸»å¤‡æ¨¡å¼&lt;br&gt;
ä¸»å¤‡ç­–ç•¥ï¼šåªä½¿ç”¨å…¶ä¸­ä¸€ä¸ªç½‘å¡ï¼Œå½“ç½‘å¡æŸåæ—¶æ¿€æ´»å¦å¤–çš„ä¸€ä¸ªç½‘å¡&lt;/li&gt;
&lt;li&gt;Mode=2ï¼šbalance-xorï¼ŒXOR Hashè´Ÿè½½åˆ†æ‹…&lt;br&gt;
å¹³è¡¡ç­–ç•¥ï¼š åŸºäºæ‰€é€‰æ‹©çš„ä¼ é€hashç­–ç•¥&lt;/li&gt;
&lt;li&gt;Mode=3ï¼Œbroadcastï¼Œæ‰€æœ‰åŒ…ä»æ‰€æœ‰æ¥å£å‘å‡ºï¼Œè¿™ä¸ªä¸å‡è¡¡&lt;br&gt;
å¹¿æ’­ç­–ç•¥ï¼šæ‰€æœ‰å¡ä¸Šéƒ½æ¥æ”¶å’Œå‘é€æŠ¥æ–‡ï¼Œæé«˜äº†å®¹é”™æ€§&lt;/li&gt;
&lt;li&gt;Mode=4ï¼šé“¾è·¯èšåˆæ¨¡å¼ï¼Œæ”¯æŒ802.3adåè®®ï¼Œå’Œäº¤æ¢æœºçš„èšåˆLACPæ–¹å¼é…åˆ&lt;br&gt;
802.3adç­–ç•¥ï¼š LACPé“¾è·¯èšåˆæ¨¡å¼ï¼Œäº¤æ¢æœºå¾—å¼€å¯é“¾è·¯èšåˆï¼Œå°†ä¸¤å¼ ç½‘å¡å½“åšä¸€å¼ æ¥ä½¿ç”¨ï¼Œæé«˜é“¾è·¯æ€§èƒ½ï¼Œéœ€è¦äº¤æ¢æœºæ”¯æŒ802.3adåŠ¨æ€é“¾è·¯èšåˆå’ŒæœåŠ¡å™¨ç¡¬ä»¶æ”¯æŒethtool&lt;/li&gt;
&lt;li&gt;Mode=5ï¼šbalance-tlbï¼Œæ ¹æ®æ¯ä¸ªslaveçš„è´Ÿè½½æƒ…å†µé€‰æ‹©slaveè¿›è¡Œå‘é€ï¼Œæ¥æ”¶æ—¶ä½¿ç”¨å½“å‰è½®åˆ°çš„slave&lt;br&gt;
è‡ªé€‚åº”ä¼ è¾“è´Ÿè½½å‡è¡¡ï¼šä¸éœ€è¦é…ç½®äº¤æ¢æœºï¼Œåœ¨æ¯ä¸ªç½‘å¡ä¼šæ ¹æ®ä¸Šæ ¹æ®å½“å‰çš„è´Ÿè½½æƒ…å†µæ¥åˆ†é…æµé‡ï¼Œå¦‚æœä¸€ä¸ªç½‘å¡å‡ºç°æ•…éšœï¼Œé‚£ä¹ˆå¦å¤–ä¸€ä¸ªç½‘å¡ä¼šæ¥ç®¡æ•…éšœç½‘å¡&lt;/li&gt;
&lt;li&gt;Mode=6ï¼šbalance-albï¼Œåœ¨tlbåŸºç¡€ä¸Šå¢åŠ äº†rlb&lt;br&gt;
è‡ªé€‚åº”è´Ÿè½½å‡è¡¡ï¼šåŒ…æ‹¬balance-tlbï¼Œä¸éœ€è¦å¦å¤–é…ç½®äº¤æ¢æœºï¼Œæ¥å—è´Ÿè½½å‡è¡¡é€šè¿‡ARPåå•†å®ç°ã€‚å…·ä½“å·¥ä½œåŸç†å¦‚ä¸‹ï¼š
&lt;ol&gt;
&lt;li&gt;å½“æœ¬æœºå‘é€ARPè¯·æ±‚æ—¶ï¼Œbondingé©±åŠ¨æŠŠå¯¹ç«¯çš„IPä¿¡æ¯ä»ARPåŒ…ä¸­å¤åˆ¶å¹¶ä¿å­˜ä¸‹æ¥ï¼Œå½“ARPåº”ç­”ä»å¯¹ç«¯åˆ°è¾¾æ—¶ï¼Œbondingé©±åŠ¨æŠŠå®ƒçš„ç¡¬ä»¶åœ°å€æå–å‡ºæ¥ï¼Œå¹¶å‘èµ·ä¸€ä¸ªARPåº”ç­”ç»™bondä¸­çš„æŸä¸ªslave&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ARPåå•†è¿›è¡Œè´Ÿè½½å‡è¡¡çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šæ¯æ¬¡å¹¿æ’­ ARPè¯·æ±‚æ—¶éƒ½ä¼šä½¿ç”¨bondçš„ç¡¬ä»¶åœ°å€ï¼Œå› æ­¤å¯¹ç«¯å­¦ä¹ åˆ°è¿™ä¸ªç¡¬ä»¶åœ°å€åï¼Œæ¥æ”¶æµé‡å°†ä¼šå…¨éƒ¨æµå‘å½“å‰çš„slaveã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ç»™æ‰€æœ‰çš„å¯¹ç«¯å‘é€æ›´æ–° ï¼ˆARPåº”ç­”ï¼‰æ¥è§£å†³ï¼Œåº”ç­”ä¸­åŒ…å«ä»–ä»¬ç‹¬ä¸€æ— äºŒçš„ç¡¬ä»¶åœ°å€ï¼Œä»è€Œå¯¼è‡´æµé‡é‡æ–°åˆ†å¸ƒã€‚&lt;/li&gt;
&lt;li&gt;å½“æ–°çš„slaveåŠ å…¥åˆ°bondä¸­æ—¶ï¼Œæˆ–è€…æŸä¸ªæœªæ¿€æ´»çš„slaveé‡æ–°æ¿€æ´»æ—¶ï¼Œæ¥æ”¶æµé‡ä¹Ÿè¦é‡æ–°åˆ†å¸ƒã€‚æ¥æ”¶çš„è´Ÿè½½è¢«é¡ºåºåœ°åˆ†å¸ƒï¼ˆround robinï¼‰åœ¨bondä¸­æœ€é«˜é€Ÿçš„slaveä¸Š&lt;/li&gt;
&lt;li&gt;å½“æŸä¸ªé“¾è·¯è¢«é‡æ–°æ¥ä¸Šï¼Œæˆ–è€…ä¸€ä¸ªæ–°çš„slaveåŠ å…¥åˆ°bondä¸­ï¼Œæ¥æ”¶æµé‡åœ¨æ‰€æœ‰å½“å‰æ¿€æ´»çš„slaveä¸­å…¨éƒ¨é‡æ–°åˆ†é…ï¼Œé€šè¿‡ä½¿ç”¨æŒ‡å®šçš„MACåœ°å€ç»™æ¯ä¸ªclientå‘èµ·ARPåº”ç­”ã€‚updelayå‚æ•°å¿…é¡»è¢«è®¾ç½®ä¸ºæŸä¸ªå¤§äºç­‰äºswitch(äº¤æ¢æœº)è½¬å‘å»¶æ—¶çš„å€¼ï¼Œä»è€Œä¿è¯å‘å¾€å¯¹ç«¯çš„ARPåº”ç­”ä¸ä¼šè¢«switch(äº¤æ¢æœº)é˜»æˆª&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ¨¡å¼0ã€2ã€3ç†è®ºä¸Šéœ€è¦é™æ€èšåˆæ–¹å¼ï¼Œå³éœ€è¦åœ¨äº¤æ¢æœºä¸Šé…ç½®ç½‘ç»œèšåˆ&lt;/li&gt;
&lt;li&gt;æ¨¡å¼5ã€6ä¸éœ€è¦äº¤æ¢æœºç«¯çš„è®¾ç½®ï¼Œç½‘å¡èƒ½è‡ªåŠ¨èšåˆ&lt;code&gt;å¸¸ç”¨&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ¨¡å¼4éœ€è¦æ”¯æŒ802.3ad&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;æ–¹å¼ä¸€å¸¸ç”¨&#34;&gt;æ–¹å¼ä¸€ï¼ˆå¸¸ç”¨ï¼‰&lt;/h2&gt;
&lt;p&gt;åšä¸¤ç»„ç½‘ç»œèšåˆï¼Œæ¯ä¸ªèšåˆé‡‡ç”¨ä¸¤å¼ ç½‘å¡ï¼šbond0ï¼ˆens32å’Œens33ï¼‰ã€bond1ï¼ˆens34å’Œens35ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# bondç½‘å¡é…ç½®ï¼ˆmasterï¼‰
vim /etc/sysconfig/network-scripts/ifcfg-bond0
    BONDING_OPTS=&amp;quot;downdelay=0 miimon=1 mode=balance-alb updelay=0&amp;quot;
    TYPE=Bond
    BONDING_MASTER=yes
    NAME=bond0
    DEVICE=bond0
    ONBOOT=yes
    IPADDR=192.168.3.150
    PREFIX=24
    GATEWAY=192.168.3.1

vim /etc/sysconfig/network-scripts/ifcfg-bond1
    BONDING_OPTS=&amp;quot;downdelay=0 miimon=1 mode=balance-alb updelay=0&amp;quot;
    TYPE=Bond
    BONDING_MASTER=yes
    NAME=bond1
    DEVICE=bond1
    ONBOOT=yes
    IPADDR=119.2.24.117
    PREFIX=24
    GATEWAY=119.2.24.254

# é™„å±ç½‘å¡é…ç½®ï¼ˆslaveï¼‰
vim /etc/sysconfig/network-scripts/ifcfg-bond0slave1
    TYPE=Ethernet
    NAME=bond0slave1
    DEVICE=ens32
    ONBOOT=yes
    MASTER=bond0
    SLAVE=yes

vim /etc/sysconfig/network-scripts/ifcfg-bond0slave2
    TYPE=Ethernet
    NAME=bond0slave2
    DEVICE=ens33
    ONBOOT=yes
    MASTER=bond0
    SLAVE=yes

vim /etc/sysconfig/network-scripts/ifcfg-bond1slave1
    TYPE=Ethernet
    NAME=bond1slave1
    DEVICE=ens34
    ONBOOT=yes
    MASTER=bond1
    SLAVE=yes
vim /etc/sysconfig/network-scripts/ifcfg-bond1slave2
    TYPE=Ethernet
    NAME=bond1slave2
    DEVICE=ens35
    ONBOOT=yes
    MASTER=bond1
    SLAVE=yes

# ç‰©ç†ç½‘å¡é…ç½®
vim /etc/sysconfig/network-scripts/ifcfg-ens32
    TYPE=Ethernet
    BOOTPROTO=dhcp
    NAME=ens32
    DEVICE=ens32
    ONBOOT=yes
vim /etc/sysconfig/network-scripts/ifcfg-ens33
    TYPE=Ethernet
    BOOTPROTO=dhcp
    NAME=ens33
    DEVICE=ens33
    ONBOOT=yes
vim /etc/sysconfig/network-scripts/ifcfg-ens34
    TYPE=Ethernet
    BOOTPROTO=dhcp
    NAME=ens34
    DEVICE=ens34
    ONBOOT=yes
vim /etc/sysconfig/network-scripts/ifcfg-ens35
    TYPE=Ethernet
    BOOTPROTO=dhcp
    NAME=ens35
    DEVICE=ens35
    ONBOOT=yes
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ–¹å¼äºŒ&#34;&gt;æ–¹å¼äºŒ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# éœ€è¦èšåˆçš„ä¸¤å¼ ç½‘å¡çš„é…ç½®
vim /etc/sysconfig/network-scripts/ifcfg-enp4s0f0
    TYPE=Ethernet
    BOOTPROTO=none
    ONBOOT=yes
    USERCTL=no
    DEVICE=enp4s0f0
    MASTER=bond0
    SLAVE=yes

vim /etc/sysconfig/network-scripts/ifcfg-enp4s0f1
    TYPE=Ethernet
    BOOTPROTO=none
    ONBOOT=yes
    USERCTL=no
    DEVICE=enp4s0f1
    MASTER=bond0
    SLAVE=yes

# bondç½‘å¡çš„é…ç½®ï¼Œå³è™šæ‹Ÿç½‘å¡çš„é…ç½®
vim /etc/sysconfig/network-scripts/ifcfg-bond0
    TYPE=Ethernet
    BOOTPROTO=none
    ONBOOT=yes
    USERCTL=no
    DEVICE=bond0
    IPADDR=6.6.6.114
    PREFIX=24
    GATEWAY=6.6.6.1
    NM_CONTROLLED=no

# ç³»ç»Ÿå†…æ ¸æ”¯æŒbondï¼šé‡‡ç”¨bond6å¹³å‡è´Ÿè½½æ¨¡å¼
vim /etc/modprobe.d/bond.conf
    alias bond0 bonding
    options bond0 miimon=100 mode=6

# é‡æ–°åŠ è½½å†…æ ¸å’Œç½‘ç»œå‚æ•°
modprobe --first-time bond0
modprobe bond0 miimon=100 mode=6
systemctl disable NetworkManager
systemctl stop NetworkManager
systemctl restart network
&lt;/code&gt;&lt;/pre&gt;
">ç½‘å¡èšåˆï¼ˆCentos7 bondï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/ntp-fu-wu-duan-he-ke-hu-duan-da-jian/"" data-c="
          &lt;h1 id=&#34;å¸¸ç”¨é…ç½®&#34;&gt;å¸¸ç”¨é…ç½®&lt;/h1&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ntpæœåŠ¡æ­å»º&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install ntp ntpdate
systemctl enable ntpd
systemctl start ntpd
systemctl status ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vi /etc/ntp.conf
  # æ³¨é‡Šæ‰å¦‚ä¸‹å‡ è¡Œ
  server 0.centos.pool.ntp.org iburst
  server 1.centos.pool.ntp.org iburst
  server 2.centos.pool.ntp.org iburst
  server 3.centos.pool.ntp.org iburst
  # è¿½åŠ å¦‚ä¸‹å†…å®¹ï¼ˆå°†æœ¬æœºçš„æ—¶é—´ä½œä¸ºæ ‡å‡†æ—¶é—´ï¼‰ï¼š
  server 127.127.1.0 iburst
systemctl restart ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é˜²ç«å¢™è®¾ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;firewall-cmd --permanent --add-port=123/udp
firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ç³»ç»Ÿæ—¶é—´ä¿®æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;date -s &amp;quot;2020-02-06 17:04:00&amp;quot;
clock -w
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ntpæœåŠ¡æ­å»º&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install ntp ntpdate
systemctl enable ntpd
systemctl start ntpd
systemctl status ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vi /etc/ntp.conf
  # æ³¨é‡Šæ‰å¦‚ä¸‹å‡ è¡Œ
  server 0.centos.pool.ntp.org iburst
  server 1.centos.pool.ntp.org iburst
  server 2.centos.pool.ntp.org iburst
  server 3.centos.pool.ntp.org iburst
  # è¿½åŠ å¦‚ä¸‹å†…å®¹ï¼ˆ6.6.6.253ä¸ºå±€åŸŸç½‘å†…æ—¶é—´åŒæ­¥æœåŠ¡å™¨ï¼Œå°±æ˜¯ä¸Šé¢æ­å»ºå¥½çš„é‚£å°æœåŠ¡ç«¯IPï¼‰ï¼š
  server  6.6.6.253
  restrict 6.6.6.253 nomodify notrap noquery
systemctl restart ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è¿›è¡Œæ—¶é—´åŒæ­¥&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åŒæ­¥æ—¶é—´
ntpdate -u 6.6.6.253
# æŸ¥çœ‹çŠ¶æ€
ntpq -p
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;ntpå†…å®¹è¡¥å……&#34;&gt;NTPå†…å®¹è¡¥å……&lt;/h1&gt;
&lt;h2 id=&#34;æ—¶é—´æœåŠ¡å™¨å¿…è¦æ€§&#34;&gt;æ—¶é—´æœåŠ¡å™¨å¿…è¦æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;å¤§æ•°æ®äº§ç”Ÿä¸å¤„ç†ç³»ç»Ÿæ˜¯å„ç§è®¡ç®—è®¾å¤‡é›†ç¾¤ï¼Œè®¡ç®—è®¾å¤‡å°†ç»Ÿä¸€ã€åŒæ­¥çš„æ ‡å‡†æ—¶é—´ç”¨äºè®°å½•å„ç§äº‹ä»¶å‘ç”Ÿæ—¶åºï¼Œå¦‚E-MAILä¿¡æ¯ã€æ–‡ä»¶åˆ›å»ºå’Œè®¿é—®æ—¶é—´ã€æ•°æ®åº“å¤„ç†æ—¶é—´ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;å¤§æ•°æ®ç³»ç»Ÿå†…ä¸åŒè®¡ç®—è®¾å¤‡ä¹‹é—´æ§åˆ¶ã€è®¡ç®—ã€å¤„ç†ã€åº”ç”¨ç­‰æ•°æ®æˆ–æ“ä½œéƒ½å…·æœ‰æ—¶åºæ€§ï¼Œè‹¥è®¡ç®—æœºæ—¶é—´ä¸åŒæ­¥ï¼Œè¿™äº›åº”ç”¨æˆ–æ“ä½œæˆ–å°†æ— æ³•æ­£å¸¸è¿›è¡Œã€‚&lt;/li&gt;
&lt;li&gt;å¤§æ•°æ®ç³»ç»Ÿæ˜¯å¯¹æ—¶é—´æ•æ„Ÿçš„è®¡ç®—å¤„ç†ç³»ç»Ÿï¼Œæ—¶é—´åŒæ­¥æ˜¯å¤§æ•°æ®èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®å¤„ç†çš„åŸºç¡€ä¿éšœï¼Œæ˜¯å¤§æ•°æ®å¾—ä»¥å‘æŒ¥ä½œç”¨çš„æŠ€æœ¯æ”¯æ’‘ã€‚&lt;/li&gt;
&lt;li&gt;å¤§æ•°æ®æ—¶ä»£ï¼Œæ•´ä¸ªå¤„ç†è®¡ç®—ç³»ç»Ÿå†…çš„å¤§æ•°æ®é€šä¿¡éƒ½æ˜¯é€šè¿‡ç½‘ç»œè¿›è¡Œã€‚æ—¶é—´åŒæ­¥ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåˆ©ç”¨å¤§æ•°æ®çš„äº’è”ç½‘ç»œä¼ é€æ ‡å‡†æ—¶é—´ä¿¡æ¯ï¼Œå®ç°å¤§æ•°æ®ç³»ç»Ÿå†…æ—¶é—´åŒæ­¥ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç½‘ç»œæ—¶é—´åŒæ­¥åè®®(NTP)æ˜¯æ—¶é—´åŒæ­¥çš„æŠ€æœ¯åŸºç¡€ã€‚&lt;code&gt;åœ¨CentOS8.0ä¸­é»˜è®¤ä¸å†æ”¯æŒntpè½¯ä»¶åŒ…ï¼Œæ—¶é—´åŒæ­¥å°†ç”±chronyæ¥å®ç°&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;ntpæœåŠ¡ç®€ä»‹&#34;&gt;ntpæœåŠ¡ç®€ä»‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;NTPå±äºè¿ç”¨å±‚åè®®ï¼ˆä¾æ®UDPä¼ è¾“ï¼Œè¿ç”¨çš„ç«¯å£å·ä¸º123ï¼‰ï¼Œç”¨æ¥åŒæ­¥ç½‘ç»œä¸­åˆ†å¸ƒå¼æ—¶é—´æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„æ—¶é—´ï¼Œä½¿ç½‘ç»œä¸­çš„è®¾å¤‡è¿è¡Œåœ¨åŒä¸€æ—¶é—´&lt;/li&gt;
&lt;li&gt;æ—¶é—´æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æ˜¯ç›¸å¯¹çš„ã€‚ä¾›åº”æ—¶é—´è§„èŒƒçš„è®¾å¤‡ä¸ºæ—¶é—´æœåŠ¡å™¨ï¼Œæ¥æ”¶æ—¶é—´æœåŠ¡çš„è®¾å¤‡ä¸ºæ—¶é—´å®¢æˆ·ç«¯&lt;/li&gt;
&lt;li&gt;è®¾å¤‡è¿è½¬NTPä¹‹åï¼Œé€šè¿‡æ²Ÿé€šNTPæŠ¥æ–‡ï¼Œæ—¢å¯ä»¥ä½œä¸ºæ—¶é—´æœåŠ¡å™¨ä¾›åº”æ—¶é—´è§„èŒƒï¼Œåˆå¯ä»¥ä½œä¸ºæ—¶é—´å®¢æˆ·ç«¯æ¥æ”¶æ—¶é—´æœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è¿è¡Œç¯å¢ƒå’Œå®‰è£…ntpæœåŠ¡&#34;&gt;è¿è¡Œç¯å¢ƒå’Œå®‰è£…ntpæœåŠ¡&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œç¯å¢ƒ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æœåŠ¡å™¨ç«¯ï¼š192.168.3.101
å®¢æˆ·ç«¯ï¼š192.168.3.102
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# yumå®‰è£…
yum install -y ntp

# æºç å®‰è£…æ–¹å¼
wget http://www.eecis.udel.edu/~ntp/ntp_spool/ntp4/ntp-4.2/ntp-4.2.8p15.tar.gz
tar -xf ntp-4.2.8p15.tar.gz
cd ntp-4.2.8p15/
./configure --prefix=/usr/local/ntp --enable-all-clocks --enable-parse-clocks
make &amp;amp;&amp;amp; make install

# è®¾ç½®å¼€æœºå¯åŠ¨
systemctl enable ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;è®¾ç½®ntp-serveræœåŠ¡ç«¯é…ç½®æ–‡ä»¶&#34;&gt;è®¾ç½®ntp ServeræœåŠ¡ç«¯é…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt; vim /etc/ntp.conf 
    # ã€ä½œä¸ºå®¢æˆ·ç«¯çš„å‚æ•°é…ç½®ã€‘
    # 1. å…ˆå¤„ç†æƒé™æ–¹é¢çš„é—®é¢˜ï¼ŒåŒ…æ‹¬æ”¾è¡Œæ—¶é—´æºæœåŠ¡å™¨  ä»¥åŠå¼€æ”¾å±€åŸŸç½‘ç”¨æˆ·æ¥æºã€æœåŠ¡ç«¯ã€‘
    # é…ç½®åŸåˆ™ï¼šå…ˆå…¨éƒ¨ç¦ç”¨ï¼Œç„¶åé€ä¸ªå¼€æ”¾
    restrict default kod nomodify notrap nopeer noquery #   æ‹’ç»ipv4çš„ç”¨æˆ·ï¼Œå³å¯¹äºé»˜è®¤çš„clientæ‹’ç»æ‰€æœ‰æ“ä½œï¼Œåœ¨ä¸‹é¢çš„restrictå†å¼€é€šæŒ‡å®šæƒé™
    restrict -6 default kod nomodify notrap nopeer noquery  #   æ‹’ç»ipv6çš„ç”¨æˆ·
    restrict ntp.ntsc.ac.cn # æ”¾è¡Œ å›½å®¶æˆæ—¶ä¸­å¿ƒ è¿›å…¥æœ¬NTPçš„æœåŠ¡å™¨
    restrict cn.ntp.org.cn # æ”¾è¡Œ ä¸­å›½NTPå¿«é€Ÿæˆæ—¶æœåŠ¡ è¿›å…¥æœ¬NTPçš„æœåŠ¡å™¨
    restrict ntp1.aliyun.com # æ”¾è¡Œ é˜¿é‡Œäº‘å…¬å…±NTPæœåŠ¡ è¿›å…¥æœ¬NTPçš„æœåŠ¡å™¨
    restrict 127.0.0.1   # å…è®¸æœ¬æœºåœ°å€çš„ä¸€åˆ‡æ“ä½œï¼ˆipv4ï¼‰
    restrict -6 ::1  # å…è®¸æœ¬æœºåœ°å€çš„ä¸€åˆ‡æ“ä½œ(ipv6)

    # 2. è®¾å®šä¸»æœºæ¥æºï¼Œè¯·å…ˆå°†åŸæœ¬çš„ [0|1|2].centos.pool.ntp.org çš„è®¾å®šæ‰¹æ³¨æ‰ï¼š
    server ntp.ntsc.ac.cn prefer  # preferè¡¨ç¤ºæœ€ä¼˜
    server cn.ntp.org.cn iburst
    server ntp1.aliyun.com iburst

    #ã€ä½œä¸ºæœåŠ¡ç«¯çš„å‚æ•°é…ç½®ã€‘
    # 1. æƒé™è®¾ç½®ï¼Œè®¾å®šå“ªäº›ç½‘æ®µæˆ–è€…IPå¯ä»¥æ¥æ­¤æœåŠ¡å™¨åŒæ­¥æ—¶é—´
    restrict 192.168.3.0 mask 255.255.255.0 nomodify notrap #å…è®¸192.168.3æ®µæœºå™¨åŒæ­¥æ—¶é—´ï¼ŒæŒ‡å®šå¯ä»¥å’ŒNTPé€šä¿¡çš„IPæˆ–è€…ç½‘æ®µ
    # 2. é»˜è®¤çš„ä¸€ä¸ªå†…éƒ¨æ—¶é’Ÿæ•°æ®ï¼Œç”¨åœ¨å¤–éƒ¨NTPæœåŠ¡å™¨å¤±æ•ˆæ—¶ï¼Œä½¿ç”¨å®ƒä¸ºå±€åŸŸç½‘ç”¨æˆ·æä¾›æœåŠ¡   
    server 127.127.1.0 # è¿œç¨‹æ—¶é—´æœåŠ¡å™¨ä¸å¯ç”¨æ—¶ï¼Œä»¥æœ¬åœ°æ—¶é—´ä½œä¸ºæœåŠ¡æ—¶é—´
    fudge 127.127.1.0 stratum 10     #stratumæŒ‡å®šå±‚æ•°ï¼Œè¶Šå°ç¦»æ—¶é—´æºè¶Šè¿‘ã€‚ å±‚çº§1ä¸ºå›½é™…æ—¶é—´æºæœåŠ¡å™¨

    #ã€å…¶ä»–é…ç½®ã€‘
    # 1. é¢„è®¾æ—¶é—´å·®å¼‚åˆ†ææ¡£æ¡ˆä¸æš‚ä¸ç”¨åˆ°çš„keysç­‰
    driftfile /var/lib/ntp/drift # å’Œä¸Šå±‚NTPæœåŠ¡å™¨é¢‘ç‡è¯¯å·®çš„è®°å½•æ–‡ä»¶
    includefile /etc/ntp/crypto/pw # è®¾å®šåŒ…å«çš„é…ç½®æ–‡ä»¶å­æ–‡ä»¶
    #crypto #å¯ç”¨å…¬é’¥åŠ å¯†
    keys /etc/ntp/keys # å½“è¿›è¡Œç§˜é’¥æ–¹å¼è¿›è¡Œè®¤è¯çš„æ—¶å€™éœ€è¦çš„æ–‡ä»¶
    logfile /var/log/ntp    #æŒ‡å®šæ—¥å¿—æ–‡ä»¶
    logconfig all #æŒ‡å®šæ—¥å¿—çº§åˆ«ï¼Œinfoã€allã€eventä¸‰ç§å¯ä»¥é€‰æ‹©
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‚æ•°è¯´æ˜&#34;&gt;å‚æ•°è¯´æ˜&lt;/h3&gt;
&lt;h4 id=&#34;restricté€‰é¡¹æ ¼å¼&#34;&gt;restricté€‰é¡¹æ ¼å¼&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ§åˆ¶ç›¸å…³æƒé™&lt;/strong&gt;ï¼Œè¯­æ³•ä¸ºï¼š &lt;code&gt;restrict [å®¢æˆ·ç«¯IP] mask [IPæ©ç ] [å‚æ•°]&lt;/code&gt;&lt;br&gt;
å®¢æˆ·ç«¯IPå’ŒIPæ©ç æŒ‡å®šäº†å¯¹ç½‘ç»œä¸­å“ªäº›èŒƒå›´çš„è®¡ç®—æœºè¿›è¡Œæ§åˆ¶ï¼Œå¦‚æœä½¿ç”¨defaultå…³é”®å­—ï¼Œåˆ™è¡¨ç¤ºå¯¹æ‰€æœ‰çš„è®¡ç®—æœºè¿›è¡Œæ§åˆ¶ï¼Œå‚æ•°æŒ‡å®šäº†å…·ä½“çš„é™åˆ¶å†…å®¹ï¼Œå¸¸è§çš„å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ignore&lt;/strong&gt;ï¼šæ‹’ç»è¿æ¥åˆ°NTPæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;nomodify&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯ä¸èƒ½æ›´æ”¹æœåŠ¡ç«¯çš„æ—¶é—´å‚æ•°ï¼Œä½†æ˜¯å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡æœåŠ¡ç«¯è¿›è¡Œç½‘ç»œæ ¡æ—¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;notrust&lt;/strong&gt;ï¼šå®¢æˆ·ç«¯é™¤éé€šè¿‡è®¤è¯ï¼Œå¦åˆ™è¯¥å®¢æˆ·ç«¯æ¥æºå°†è¢«è§†ä¸ºä¸ä¿¡ä»»å­ç½‘ï¼ŒNTP4.2ç‰ˆæœ¬ä»¥åä½¿ç”¨ä¼šå‡ºé”™&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;noquery&lt;/strong&gt;ï¼šä¸æä¾›å®¢æˆ·ç«¯çš„æ—¶é—´æŸ¥è¯¢ï¼Œå³ç”¨æˆ·ç«¯ä¸èƒ½ä½¿ç”¨ntpqã€ntpcç­‰å‘½ä»¤æ¥æŸ¥è¯¢ntpæœåŠ¡å™¨&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;notrap&lt;/strong&gt;ï¼šä¸æä¾›trapè¿œç«¯ç™»é™†ï¼Œå³æ‹’ç»ä¸ºåŒ¹é…çš„ä¸»æœºæä¾›æ¨¡å¼6æ§åˆ¶æ¶ˆæ¯é™·é˜±æœåŠ¡ã€‚é™·é˜±æœåŠ¡æ˜¯ntpdqæ§åˆ¶æ¶ˆæ¯åè®®çš„å­ç³»ç»Ÿï¼Œç”¨äºè¿œç¨‹äº‹ä»¶æ—¥å¿—è®°å½•ç¨‹åº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;nopeer&lt;/strong&gt;ï¼šæä¾›æ—¶é—´æœåŠ¡ï¼Œä½†ä¸ä½œä¸ºå¯¹ç­‰ä½“&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;kod&lt;/strong&gt;ï¼šå‘ä¸å®‰å…¨çš„è®¿é—®è€…å‘é€Kiss-Of-DeathæŠ¥æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;restrict -6è¡¨ç¤ºipv6åœ°å€çš„æƒé™è®¾ç½®&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;serveré€‰é¡¹æ ¼å¼&#34;&gt;serveré€‰é¡¹æ ¼å¼&lt;/h4&gt;
&lt;p&gt;æŒ‡å®šæ—¶é—´åŒæ­¥æºï¼Œè¯­æ³•ä¸ºï¼š&lt;code&gt;server host [ key n ] [ version n ] [ prefer ] [ mode n ] [ minpoll n ] [ maxpoll n ] [ iburst ]&lt;/code&gt;&lt;br&gt;
å…¶ä¸­hostæ˜¯ä¸Šå±‚NTPæœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸåï¼Œéšåæ‰€è·Ÿçš„å‚æ•°è§£é‡Šå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;key&lt;/strong&gt;ï¼šè¡¨ç¤ºæ‰€æœ‰å‘å¾€æœåŠ¡å™¨çš„æŠ¥æ–‡åŒ…å«æœ‰ç§˜é’¥åŠ å¯†çš„è®¤è¯ä¿¡æ¯ï¼Œnæ˜¯32ä½çš„æ•´æ•°ï¼Œè¡¨ç¤ºç§˜é’¥å·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;version&lt;/strong&gt;ï¼šè¡¨ç¤ºå‘å¾€ä¸Šå±‚æœåŠ¡å™¨çš„æŠ¥æ–‡ä½¿ç”¨çš„ç‰ˆæœ¬å·ï¼Œné»˜è®¤æ˜¯3ï¼Œå¯ä»¥æ˜¯1æˆ–è€…2&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;prefer&lt;/strong&gt;ï¼šå¦‚æœæœ‰å¤šä¸ªserveré€‰é¡¹ï¼Œå…·æœ‰è¯¥å‚æ•°çš„æœåŠ¡å™¨&lt;strong&gt;ä¼˜å…ˆä½¿ç”¨&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mode&lt;/strong&gt;ï¼šæŒ‡å®šæ•°æ®æŠ¥æ–‡modeå­—æ®µçš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;minpoll&lt;/strong&gt;ï¼šæŒ‡å®šä¸æŸ¥è¯¢è¯¥æœåŠ¡å™¨çš„æœ€å°æ—¶é—´é—´éš”ä¸º2çš„næ¬¡æ–¹ç§’ï¼Œné»˜è®¤ä¸º6ï¼ŒèŒƒå›´ä¸º4-14&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;maxpoll&lt;/strong&gt;ï¼šæŒ‡å®šä¸æŸ¥è¯¢è¯¥æœåŠ¡å™¨çš„æœ€å¤§æ—¶é—´é—´éš”ä¸º2çš„næ¬¡æ–¹ç§’ï¼Œné»˜è®¤ä¸º10ï¼ŒèŒƒå›´ä¸º4-14&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;iburst&lt;/strong&gt;ï¼šå½“&lt;strong&gt;åˆå§‹åŒæ­¥è¯·æ±‚&lt;/strong&gt;æ—¶ï¼Œé‡‡ç”¨çªå‘æ–¹å¼æ¥è¿å‘é€8ä¸ªæŠ¥æ–‡ï¼Œæ—¶é—´é—´éš”ä¸º2ç§’&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;server 127.127.1.0&lt;/code&gt;ï¼šåªæœ‰åœ¨ä¸Šçº§æ—¶é’Ÿæºå¤±æ•ˆæ—¶ï¼ŒNTPæ‰ä¼šä½¿ç”¨127.127.1.0çš„æœ¬åœ°æ—¶é’Ÿï¼Œå°†localæ—¶é—´ä½œä¸ºntpæœåŠ¡å™¨æ—¶é—´æä¾›ç»™ntpå®¢æˆ·ç«¯ï¼Œå³NTPæŠŠæœ¬åœ°ä¸»æœºçš„æ—¶é’Ÿä¹Ÿçœ‹ä½œå¤–éƒ¨æ—¶é’Ÿæºæ¥å¤„ç†ï¼Œåˆ†é…çš„åœ°å€æ˜¯127.127.1.0&lt;/p&gt;
&lt;h4 id=&#34;å…¶ä»–å‚æ•°é…ç½®&#34;&gt;å…¶ä»–å‚æ•°é…ç½®&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;fudge 127.127.1.0 stratum 10&lt;/code&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;stratumæ ¹æ®ä¸Šå±‚serverçš„å±‚æ¬¡è€Œè®¾å®šï¼ˆ+1ï¼‰ï¼Œå¯¹äºæä¾›network time service providerçš„ä¸»æœºæ¥è¯´ï¼Œstratumçš„è®¾å®šè¦å°½å¯èƒ½å‡†ç¡®&lt;/li&gt;
&lt;li&gt;ä½œä¸º&lt;strong&gt;å±€åŸŸç½‘&lt;/strong&gt;çš„time service providerï¼Œ&lt;strong&gt;é€šå¸¸å°†stratumè®¾ç½®ä¸º10&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;0å±‚çš„æœåŠ¡å™¨é‡‡ç”¨çš„æ˜¯åŸå­é’Ÿã€GPSé’Ÿç­‰ç‰©ç†è®¾å¤‡ï¼Œ&lt;code&gt;stratum 1&lt;/code&gt;ä¸&lt;code&gt;stratum 0&lt;/code&gt;æ˜¯ç›´æ¥ç›¸è¿çš„ï¼Œå¾€åçš„stratumä¸ä¸Šä¸€å±‚stratumé€šè¿‡ç½‘ç»œç›¸è¿ï¼ŒåŒä¸€å±‚çš„serverä¹Ÿå¯ä»¥äº¤äº’&lt;/li&gt;
&lt;li&gt;ntpdå¯¹ä¸‹å±‚clientæ¥è¯´æ˜¯service serverï¼Œå¯¹äºä¸Šå±‚serveræ¥è¯´å®ƒæ˜¯client&lt;/li&gt;
&lt;li&gt;ntpdæ ¹æ®é…ç½®æ–‡ä»¶çš„å‚æ•°å†³å®šæ˜¯è¦ä¸ºå…¶ä»–æœåŠ¡å™¨æä¾›æ—¶é’ŸæœåŠ¡æˆ–è€…æ˜¯ä»å…¶ä»–æœåŠ¡å™¨åŒæ­¥æ—¶é’Ÿ,æ‰€æœ‰çš„é…ç½®éƒ½åœ¨&lt;code&gt;/etc/ntp.conf&lt;/code&gt;æ–‡ä»¶ä¸­&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;è®¾ç½®ntp-clientå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&#34;&gt;è®¾ç½®ntp clientå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/ntp.conf
        server 192.168.3.101
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ¥ä¸‹æ¥æ“ä½œ&#34;&gt;æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ¥ä¸‹æ¥æ“ä½œ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;é‡å¯ntpæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;systemctl restart ntpd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æŸ¥çœ‹ntpæœåŠ¡åŒæ­¥çŠ¶å†µ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# tæŸ¥çœ‹åŒæ­¥ç»“æœ
ntpstat # ä¸€èˆ¬éœ€è¦5-10åˆ†é’Ÿåæ‰èƒ½æˆåŠŸè¿æ¥å’ŒåŒæ­¥

# æŸ¥çœ‹æ—¶é—´åŒæ­¥çŠ¶æ€
ntpq -p
# 1. remoteï¼šæœ¬æœºå’Œä¸Šå±‚ntpçš„ipæˆ–ä¸»æœºåï¼Œ*è¡¨ç¤ºç›®å‰æ­£åœ¨ä½¿ç”¨çš„ä¸Šå±‚NTPæœåŠ¡å™¨ï¼Œ+è¡¨ç¤ºå¯ä»¥è¿æ¥ä¸Šï¼ˆä½œä¸ºæ—¶é—´æ›´æ–°çš„å€™é€‰è€…ï¼‰ï¼Œ-è¡¨ç¤ºä¸åˆæ ¼çš„ntpæœåŠ¡å™¨
# 2. refidï¼šå‚è€ƒä¸Šä¸€å±‚ntpä¸»æœºåœ°å€
# 3. stï¼šstratumé˜¶å±‚
# 4. whenï¼šå¤šå°‘ç§’å‰æ›¾ç»åŒæ­¥è¿‡æ—¶é—´
# 5. pollï¼šä¸‹æ¬¡æ›´æ–°åœ¨å¤šå°‘ç§’å
# 6. reachï¼šå·²ç»å‘ä¸Šå±‚ntpæœåŠ¡å™¨è¦æ±‚æ›´æ–°çš„æ¬¡æ•°
# 7. delayï¼šç½‘ç»œå»¶è¿Ÿ
# 8. offsetï¼šæ—¶é—´è¡¥å¿
# 9. jitterï¼šç³»ç»Ÿæ—¶é—´ä¸biosæ—¶é—´å·®

# æŸ¥çœ‹ntpdè¿›ç¨‹çŠ¶æ€
watch &amp;quot;ntpq -p&amp;quot;  # æŒ‰Ctrl+Cåœæ­¢æŸ¥çœ‹è¿›ç¨‹
# 1. ç¬¬ä¸€åˆ—ä¸­çš„å­—ç¬¦æŒ‡ç¤ºæºçš„è´¨é‡ã€‚æ˜Ÿå· ( * ) è¡¨ç¤ºè¯¥æºæ˜¯å½“å‰å¼•ç”¨
# 2. remoteï¼šåˆ—å‡ºæºçš„IPåœ°å€æˆ–ä¸»æœºå
# 3. whenï¼šæŒ‡å‡ºä»è½®è¯¢æºå¼€å§‹å·²è¿‡å»çš„æ—¶é—´ï¼ˆç§’ï¼‰
# 3. pollï¼šæŒ‡å‡ºè½®è¯¢é—´éš”æ—¶é—´ã€‚è¯¥å€¼ä¼šæ ¹æ®æœ¬åœ°æ—¶é’Ÿçš„ç²¾åº¦ç›¸åº”å¢åŠ 
# 4. reachï¼šæ˜¯ä¸€ä¸ªå…«è¿›åˆ¶æ•°å­—ï¼ŒæŒ‡å‡ºæºçš„å¯å­˜å–æ€§ã€‚å€¼377è¡¨ç¤ºæºå·²åº”ç­”äº†å‰å…«ä¸ªè¿ç»­è½®è¯¢
# 5. offsetï¼šæ˜¯æºæ—¶é’Ÿä¸æœ¬åœ°æ—¶é’Ÿçš„æ—¶é—´å·®ï¼ˆæ¯«ç§’ï¼‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿ&#34;&gt;åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿ&lt;/h2&gt;
&lt;p&gt;ntpæœåŠ¡ï¼Œé»˜è®¤åªä¼šåŒæ­¥ç³»ç»Ÿæ—¶é—´ï¼Œå¦‚æœæƒ³è¦è®©ntpåŒæ—¶åŒæ­¥ç¡¬ä»¶æ—¶é—´ï¼Œå¯ä»¥è®¾ç½®&lt;code&gt;/etc/sysconfig/ntpd&lt;/code&gt;æ–‡ä»¶ï¼Œåœ¨&lt;code&gt;/etc/sysconfig/ntpd&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œæ·»åŠ &lt;code&gt;SYNC_HWCLOCK=yes&lt;/code&gt;ï¼Œå°±å¯ä»¥è®©ç¡¬ä»¶æ—¶é—´ä¸ç³»ç»Ÿæ—¶é—´ä¸€èµ·åŒæ­¥ã€‚å…è®¸BIOSä¸ç³»ç»Ÿæ—¶é—´åŒæ­¥ï¼Œä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;hwclock -w&lt;/code&gt;å‘½ä»¤&lt;/p&gt;
&lt;h2 id=&#34;ntpd-ntpdateçš„åŒºåˆ«&#34;&gt;ntpdã€ntpdateçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;æµ‹è¯•ntpdateåŒæ­¥æ˜¯å¦æ­£å¸¸&lt;code&gt;ntpdate 192.168.3.101&lt;/code&gt;&lt;br&gt;
ä½¿ç”¨å®šæ—¶ä»»åŠ¡åŒæ­¥ï¼Œä¾‹å¦‚æ¯å¤©å‡Œæ™¨äº”ç‚¹åŒæ­¥ï¼š&lt;code&gt;0 5 * * * /usr/sbin/ntpdate 192.168.3.101&lt;/code&gt;&lt;br&gt;
ä½†&lt;strong&gt;ä¸å»ºè®®ä½¿ç”¨ntpdate&lt;/strong&gt;ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;br&gt;
ntpdä¸ä»…ä»…æ˜¯æ—¶é—´åŒæ­¥æœåŠ¡å™¨ï¼Œå®ƒè¿˜å¯ä»¥åšå®¢æˆ·ç«¯ä¸æ ‡å‡†æ—¶é—´æœåŠ¡å™¨è¿›è¡ŒåŒæ­¥æ—¶é—´ï¼Œè€Œä¸”æ˜¯&lt;strong&gt;å¹³æ»‘åŒæ­¥&lt;/strong&gt;ï¼Œå¹¶éntpdate&lt;strong&gt;ç«‹å³åŒæ­¥&lt;/strong&gt;ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­&lt;strong&gt;æ…ç”¨ntpdate&lt;/strong&gt;ï¼Œä¹Ÿæ­£å¦‚æ­¤ä¸¤è€…ä¸å¯åŒæ—¶è¿è¡Œã€‚&lt;br&gt;
æ—¶é’Ÿçš„è·ƒå˜ï¼Œå¯¹äºæŸäº›ç¨‹åºä¼šå¯¼è‡´å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚è®¸å¤šåº”ç”¨ç¨‹åºä¾èµ–è¿ç»­çš„æ—¶é’Ÿï¼Œæ¯•ç«Ÿè¿™æ˜¯ä¸€é¡¹å¸¸è§çš„å‡å®šï¼Œå³å–å¾—çš„æ—¶é—´æ˜¯çº¿æ€§çš„ï¼Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚æ•°æ®åº“äº‹åŠ¡ï¼Œé€šå¸¸ä¼šåœ°ä¾èµ–è¿™æ ·çš„äº‹å®ï¼šæ—¶é—´ä¸ä¼šå¾€å›è·³è·ƒã€‚&lt;br&gt;
ä¸å¹¸çš„æ˜¯ï¼Œntpdateè°ƒæ•´æ—¶é—´çš„æ–¹å¼å°±æ˜¯æ‰€è¯´çš„&lt;strong&gt;è·ƒå˜&lt;/strong&gt;ï¼Œå³åœ¨è·å¾—ä¸€ä¸ªæ—¶é—´ä¹‹åï¼Œntpdateä½¿ç”¨settimeofday(2)è®¾ç½®ç³»ç»Ÿæ—¶é—´ï¼Œè¿™æœ‰å‡ ä¸ªéå¸¸æ˜æ˜¾çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸å®‰å…¨ã€‚ntpdateçš„è®¾ç½®ä¾èµ–äºntpæœåŠ¡å™¨çš„å®‰å…¨æ€§ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨ä¸€äº›è½¯ä»¶è®¾è®¡ä¸Šçš„ç¼ºé™·ï¼Œæ‹¿ä¸‹ntpæœåŠ¡å™¨å¹¶ä»¤ä¸å…¶åŒæ­¥çš„æœåŠ¡å™¨æ‰§è¡ŒæŸäº›æ¶ˆè€—æ€§çš„ä»»åŠ¡ã€‚ç”±äºntpdateé‡‡ç”¨çš„æ–¹å¼æ˜¯è·ƒå˜ï¼Œè·Ÿéšå®ƒçš„æœåŠ¡å™¨æ— æ³•çŸ¥é“æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸(æ—¶é—´ä¸ä¸€æ ·çš„æ—¶å€™ï¼Œå”¯ä¸€çš„åŠæ³•æ˜¯ä»¥æœåŠ¡å™¨ä¸ºå‡†)&lt;/li&gt;
&lt;li&gt;ä¸ç²¾ç¡®ã€‚ä¸€æ—¦ntpæœåŠ¡å™¨å®•æœºï¼Œè·Ÿéšå®ƒçš„æœåŠ¡å™¨ä¹Ÿå°±ä¼šæ— æ³•åŒæ­¥æ—¶é—´ã€‚ä¸æ­¤ä¸åŒï¼Œntpdä¸ä»…èƒ½å¤Ÿæ ¡å‡†è®¡ç®—æœºçš„æ—¶é—´ï¼Œè€Œä¸”èƒ½å¤Ÿæ ¡å‡†è®¡ç®—æœºçš„æ—¶é’Ÿ&lt;/li&gt;
&lt;li&gt;ä¸å¤Ÿä¼˜é›…ã€‚ç”±äºæ˜¯è·ƒå˜ï¼Œè€Œä¸æ˜¯ä½¿æ—¶é—´å˜å¿«æˆ–å˜æ…¢ï¼Œä¾èµ–æ—¶åºçš„ç¨‹åºä¼šå‡ºé”™&lt;sub&gt;ä¾‹å¦‚ï¼Œå¦‚æœntpdateå‘ç°æ—¶é—´å¿«äº†ï¼Œåˆ™å¯èƒ½ä¼šç»å†ä¸¤ä¸ªç›¸åŒçš„æ—¶åˆ»ï¼Œå¯¹æŸäº›åº”ç”¨è€Œè¨€ï¼Œè¿™æ˜¯è‡´å‘½çš„&lt;/sub&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å”¯ä¸€ä¸€ä¸ªå¯ä»¥&lt;strong&gt;ä»¤æ—¶é—´å‘ç”Ÿè·ƒå˜çš„ç‚¹&lt;/strong&gt;ï¼Œæ˜¯è®¡ç®—æœºåˆšåˆšå¯åŠ¨ï¼Œä½†è¿˜æ²¡æœ‰å¯åŠ¨å¾ˆå¤šæœåŠ¡çš„é‚£ä¸ªæ—¶å€™&lt;br&gt;
å…¶ä½™çš„æ—¶å€™ï¼Œ&lt;strong&gt;ç†æƒ³çš„åšæ³•æ˜¯ä½¿ç”¨ntpdæ¥æ ¡å‡†æ—¶é’Ÿ&lt;/strong&gt;ï¼Œè€Œä¸æ˜¯è°ƒæ•´è®¡ç®—æœºæ—¶é’Ÿä¸Šçš„æ—¶é—´&lt;br&gt;
ntpdåœ¨å’Œæ—¶é—´æœåŠ¡å™¨çš„åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œä¼šæŠŠBIOSè®¡æ—¶å™¨çš„æŒ¯è¡é¢‘ç‡åå·®&lt;sub&gt;æˆ–è€…è¯´LocalClockçš„è‡ªç„¶æ¼‚ç§»drift&lt;/sub&gt;è®°å½•ä¸‹æ¥ï¼Œè¿™æ ·å³ä½¿ç½‘ç»œæœ‰é—®é¢˜ï¼Œæœ¬æœºä»ç„¶èƒ½ç»´æŒä¸€ä¸ªç›¸å½“ç²¾ç¡®çš„èµ°æ—¶&lt;/p&gt;
&lt;h2 id=&#34;å¸¸ç”¨çš„ntpå…¬å…±æ—¶é—´æœåŠ¡å™¨&#34;&gt;å¸¸ç”¨çš„ntpå…¬å…±æ—¶é—´æœåŠ¡å™¨&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://fqj-web.github.io/post-images/1632850458858.png&#34; alt=&#34;å¸¸ç”¨çš„ntpå…¬å…±æ—¶é—´æœåŠ¡å™¨&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;å¸¸è§é—®é¢˜&#34;&gt;å¸¸è§é—®é¢˜&lt;/h2&gt;
&lt;p&gt;é…ç½®ntpæœåŠ¡ä¹‹åæ— æ³•åŒæ­¥ï¼Œé€šè¿‡å‘½ä»¤&lt;code&gt;timedatectl&lt;/code&gt;æŸ¥çœ‹ï¼Œä¹‹åï¼Œå‘ç°ntpæœåŠ¡æ²¡æœ‰ç”Ÿæ•ˆ&lt;code&gt;NTP enabled: no&lt;/code&gt;ï¼Œè§£å†³æ­¤é—®é¢˜éœ€è¦æ‰§è¡Œ&lt;code&gt;timedatectl set-ntp yes&lt;/code&gt;&lt;/p&gt;
">NTPæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/nginx-tian-jia-mi-ma-ren-zheng/"" data-c="
          &lt;p&gt;nginxéƒ¨åˆ†é…ç½®&lt;/p&gt;
&lt;!-- more --&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;br&gt;
åœ¨nginxé…ç½®æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸‹ä¸¤è¡Œå†…å®¹&lt;br&gt;
&lt;code&gt;å¦‚æœå…¨ç«™åŠ è®¤è¯åˆ™æ·»åŠ åˆ°serverä¸‹ï¼Œå¦‚æœæŸä¸€ä¸ªç›®å½•æ·»åŠ ï¼Œåˆ™æ·»åŠ åˆ°ç›¸åº”çš„locationä¸‹&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code&gt;# è®¤è¯ä¿¡æ¯æç¤ºæ¡†æ˜¾ç¤ºå†…å®¹
auth_basic  &amp;quot;è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼&amp;quot;;
# å¯†ç æ–‡ä»¶
auth_basic_user_file /usr/local/nginx/conf/passwd;
# è¡¥å……å†…å®¹ï¼š
# autoindex on; #å¼€å¯ç›®å½•éå†
# autoindex_localtime on; #æ˜¾ç¤ºçš„æ–‡ä»¶æ—¶é—´ä¸ºæ–‡ä»¶çš„æœåŠ¡å™¨æ—¶é—´
# autoindex_exact_size off; #æ˜¾ç¤ºå‡ºæ–‡ä»¶çš„å¤§æ¦‚å¤§å°ï¼Œå•ä½æ˜¯kBæˆ–è€…MBæˆ–è€…GB
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç”Ÿæˆå¯†ç æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ–¹æ³•ä¸€ï¼š
yum install httpd-tools -y  
# ç‰¹æ®Šç¬¦å·è¦ç”¨ \ è½¬ä¹‰
htpasswd -bc /usr/local/nginx/conf/passwd  wuyun qwe123\!\@\#    
# æ–¹æ³•äºŒï¼š
ä¹Ÿå¯ä»¥ç”¨é¡µé¢è®¾ç½®å¯†ç 
ç™»é™†http://tool.oschina.net/htpasswd è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œåœ¨çº¿ç”ŸæˆåŠ å¯†å¯†ç 
å°†ç”Ÿæˆçš„å¯†ç å†™å…¥/usr/local/nginx/conf/passwdæ–‡ä»¶ä¸­
echo &amp;quot;wuyun:$apr1$TrU5vUSC$RBuz3xG67Mr2pnAV596N5&amp;quot; &amp;gt;/usr/local/nginx/conf/passwd
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é‡å¯nginxæœåŠ¡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;æ–¹æ³•ä¸€ï¼šé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶
nginx -s reload
æ–¹æ³•äºŒï¼šé‡å¯nginxæœåŠ¡
systemctl restart nginx
&lt;/code&gt;&lt;/pre&gt;
">Nginxæ·»åŠ å¯†ç è®¤è¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/nfs-fu-wu-duan-he-ke-hu-duan-da-jian/"" data-c="
          &lt;h3 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯&lt;/h3&gt;
&lt;h4 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y nfs-utils
systemctl enable nfs-server
systemctl enable rpcbind
systemctl start nfs-server
systemctl start rpcbind
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸ç”¨å…±äº«æƒé™å‚æ•°è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ro åªè¯»&lt;/p&gt;
&lt;p&gt;rw è¯»å†™&lt;/p&gt;
&lt;p&gt;root_squash å½“nfså®¢æˆ·ç«¯ä»¥rootç®¡ç†å‘˜è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„åŒ¿åç”¨æˆ·&lt;/p&gt;
&lt;p&gt;no_root_squash å½“nfså®¢æˆ·ç«¯ä»¥rootç®¡ç†å‘˜è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„rootç®¡ç†å‘˜&lt;/p&gt;
&lt;p&gt;all_squash æ— è®ºnfså®¢æˆ·ç«¯ä½¿ç”¨ä»€ä¹ˆè´¦æˆ·è®¿é—®ï¼Œå‡æ˜ å°„ä¸ºnfsæœåŠ¡å™¨çš„åŒ¿åç”¨æˆ·&lt;/p&gt;
&lt;p&gt;sync åŒæ—¶å°†æ•°æ®å†™å…¥åˆ°å†…å­˜ä¸ç¡¬ç›˜ä¸­ï¼Œä¿è¯æ•°æ®ä¸ä¸¢å¤±&lt;/p&gt;
&lt;p&gt;async ä¼˜å…ˆå°†æ•°æ®ä¿å­˜åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†å†™å…¥ç¡¬ç›˜ï¼Œè¿™æ ·æ•ˆç‡æ›´é«˜ï¼Œä½†å¯èƒ½ä¼šä¸¢å¤±æ•°æ®&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é…ç½®æ–‡ä»¶ä¸€ï¼š
	vim /etc/exports
	# è¿½åŠ å¦‚ä¸‹å‚æ•°ï¼šä¸€è¡Œä¸ºä¸€ä¸ªåˆ†äº«ç›®å½•ï¼Œæ ¼å¼ä¸ºâ€œå…±äº«ç›®å½•çš„è·¯å¾„ å…è®¸è®¿é—®çš„NFSå®¢æˆ·ç«¯ï¼ˆå…±äº«æƒé™å‚æ•°ï¼‰â€
		/nfsshare1 192.168.1.*(rw,sync,all_squash)
		/nfsshare2 192.168.2.2(ro,sync,root_sqush)
	# æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤
		echo &amp;quot;/nfsfile 192.168.1.*(rw,sync,all_squash)&amp;quot; &amp;gt;&amp;gt;/etc/exports
		echo &amp;quot;/nfsshare 192.168.2.2(ro,sync,root_sqush)&amp;quot; &amp;gt;&amp;gt;/etc/exports
# ï¼ˆæ­¤é¡¹éå¿…é¡»ï¼‰é…ç½®æ–‡ä»¶äºŒï¼š
	vim /etc/sysconfig/nfs
	# è¿½åŠ å¦‚ä¸‹å‚æ•°ï¼šä¿®æ”¹é»˜è®¤ç«¯å£ï¼Œä¸ºä¹‹åæ·»åŠ é˜²ç«å¢™è§„åˆ™åšå‡†å¤‡ï¼ˆå¦‚æœå…³é—­é˜²ç«å¢™ï¼Œæ­¤æ­¥å¯ä»¥ä¸åšï¼‰
		RQUOTAD_PORT=30001
		LOCKD_TCPPORT=30002
		LOCKD_UDPPORT=30002
		MOUNT_PORT=30003
		STATD_PORT=3004
	# æˆ–è€…ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤
		echo &amp;quot;RQUOTAD_PORT=30001&amp;quot; &amp;gt;&amp;gt;/etc/sysconfig/nfs
		echo &amp;quot;LOCKD_TCPPORT=30002&amp;quot; &amp;gt;&amp;gt;/etc/sysconfig/nfs
		echo &amp;quot;LOCKD_UDPPORT=30002&amp;quot; &amp;gt;&amp;gt;/etc/sysconfig/nfs
		echo &amp;quot;MOUNT_PORT=30003&amp;quot; &amp;gt;&amp;gt;/etc/sysconfig/nfs
		echo &amp;quot;STATD_PORT=3004&amp;quot; &amp;gt;&amp;gt;/etc/sysconfig/nfs
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é˜²ç«å¢™é…ç½®&#34;&gt;é˜²ç«å¢™é…ç½®&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# æ·»åŠ æœåŠ¡
firewall-cmd --permanent --add-service=nfs
firewall-cmd --permanent --add-service=rpc-bind
firewall-cmd --permanent --add-service=mountd
# ï¼ˆæ­¤é¡¹éå¿…é¡»ï¼‰nfsd
firewall-cmd --permanent --add-port=2049/tcp
firewall-cmd --permanent --add-port=2049/udp
firewall-cmd --permanent --add-port=30001/tcp
firewall-cmd --permanent --add-port=30001/udp
firewall-cmd --permanent --add-port=30002/tcp
firewall-cmd --permanent --add-port=30002/udp
firewall-cmd --permanent --add-port=30003/tcp
firewall-cmd --permanent --add-port=30003/udp
firewall-cmd --permanent --add-port=30004/tcp
firewall-cmd --permanent --add-port=30004/udp
firewall-cmd --permanent --add-port=30005/tcp
firewall-cmd --permanent --add-port=30005/udp
# ï¼ˆæ­¤é¡¹éå¿…é¡»ï¼‰rpcbind
firewall-cmd --permanent --add-port=111/tcp
firewall-cmd --permanent --add-port=111/udp
# é‡æ–°åŠ è½½é˜²ç«å¢™è§„åˆ™
firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼€æœºè‡ªåŠ¨æŒ‚è½½/etc/fstabé…ç½®å‚æ•°è¯¦è§£&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ ¼å¼ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œåˆ†åŒºåâ€   â€œæŒ‚è½½ç‚¹â€   â€œæ–‡ä»¶ç³»ç»Ÿç±»å‹&amp;quot;  &amp;quot;æŒ‚è½½å‚æ•°â€   â€œdumpå¤‡ä»½é…ç½®â€   â€œå¼€æœºç£ç›˜æ£€æŸ¥é¡ºåºâ€&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š/dev/sdb1 /mount  xfs defaults 0 0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åˆ†åŒºåï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœå¤šä¸ªç£ç›˜ï¼Œæ¯ä¸ªç£ç›˜è¢«æ ‡è®°ä¸º/dev/sdaã€/dev/sdbç­‰ç­‰ï¼Œæ¯ä¸ªç£ç›˜çš„åˆ†åŒºåˆ™ä¸º/dev/sdb1ã€/dev/sdb2ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤„é™¤äº†ä½¿ç”¨è®¾å¤‡æ¥å£ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰ï¼Œç£ç›˜æ’æ‹”ä¹‹åè®¾å¤‡æ¥å£å¯èƒ½å˜åŒ–ï¼Œä½†æ˜¯å”¯ä¸€æ ‡è¯†ç¬¦æ˜¯ä¸å˜çš„ï¼Œä¾‹å¦‚ï¼šUUID=62837155-f2ec-45a9-88b8-5b7443fdfca5ï¼ŒæŸ¥çœ‹UUIDçš„å‘½ä»¤ä¸ºblkidã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨è®¾å¤‡å·æ ‡ç­¾ï¼ˆLableï¼Œä¸å¸¸ç”¨ï¼Œéœ€è¦ä½¿ç”¨LVMï¼‰ï¼Œä¾‹å¦‚ Label=root&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŒ‚è½½ç‚¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŒ‚è½½ç‚¹å¿…é¡»ä¸ºå½“å‰å·²ç»å­˜åœ¨çš„ç›®å½•ï¼Œå¦‚æœæŒ‚è½½ç‚¹çš„è·¯å¾„ä¸­åŒ…å«ç©ºæ ¼ï¼Œéœ€è¦ä½¿ç”¨â€œ/040â€ä»£æ›¿ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å°†æŒ‚è½½è·¯å¾„æ”¾åˆ°å¼•å·å†…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸è§çš„æœ‰ext2ã€ext3ã€ext4ã€xfsã€iso9660(å…‰ç›˜)ã€ntfs(éœ€è¦æå‰yum -y install ntfs-3g)ç­‰ï¼Œæ­¤å­—æ®µå¿…é¡»ä¸åˆ†åŒºæ ¼å¼åŒ–æ—¶çš„æ ¼å¼ç›¸åŒ&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨autoè¿™ä¸ªç‰¹æ®Šçš„å‚æ•°ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨ä¾¦æµ‹ç›®æ ‡åˆ†åŒºç±»å‹ï¼Œå¸¸å¸¸ç”¨äºæŒ‚è½½ç§»åŠ¨è®¾å¤‡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŒ‚è½½å‚æ•°ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;async / syncï¼šè®¾ç½®ç£ç›˜æ˜¯å¦ä»¥å¼‚æ­¥æ–¹å¼è¿è¡Œï¼Œé»˜è®¤async&lt;/p&gt;
&lt;p&gt;auto / noautoï¼šå½“ä½¿ç”¨mount -aæ—¶ï¼Œæ­¤æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦è¢«æŒ‚è½½ï¼Œé»˜è®¤auto&lt;/p&gt;
&lt;p&gt;rw / roï¼šè¯¥åˆ†åŒºæ˜¯å¯è¯»å†™è¿˜æ˜¯åªè¯»çš„å½¢å¼æŒ‚è½½ï¼Œå¦‚æœåˆ†äº«çš„å­˜å‚¨ç³»ç»Ÿæ˜¯åªè¯»ï¼Œé‚£ä¹ˆè¿™é‡Œrwå¤±æ•ˆï¼Œé»˜è®¤rw&lt;/p&gt;
&lt;p&gt;exec / noexecï¼šæ˜¯å¦åœ¨æ­¤æ–‡ä»¶ç³»ç»Ÿä¸­å¯ä»¥â€œæ‰§è¡Œâ€æ“ä½œï¼Œå¦‚æœæ˜¯å•çº¯å­˜å‚¨æ•°æ®ï¼Œåˆ™ä½¿ç”¨noexecæ¯”è¾ƒå®‰å…¨ï¼Œé»˜è®¤exec&lt;/p&gt;
&lt;p&gt;user / users / nouser / ownerï¼šæ˜¯å¦å…è®¸ç”¨æˆ·ä½¿ç”¨mountå‘½ä»¤æ¥æŒ‚è½½ï¼Œä¸ºäº†å®‰å…¨ï¼Œä¸å¸Œæœ›ä¸€èˆ¬ç”¨æˆ·ä½¿ç”¨mountã€‚userå…è®¸ä»»æ„ç”¨æˆ·æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œuserså…è®¸æ‰€æœ‰usersç»„ä¸­çš„ç”¨æˆ·æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œnouseråªèƒ½è¢«rootç”¨æˆ·æŒ‚è½½ï¼Œowneråªå…è®¸è®¾å¤‡æ‰€æœ‰è€…è¿›è¡ŒæŒ‚è½½ï¼Œé»˜è®¤ä¸ºnouser&lt;/p&gt;
&lt;p&gt;suid / nosuidï¼šè¡¨ç¤ºè¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦å…è®¸suidçš„å­˜åœ¨ï¼Œå¦‚æœä¸æ˜¯æ‰§è¡Œæ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼‰å­˜æ”¾ç›®å½•ï¼Œå¯ä»¥è®¾ç½®ä¸ºnosuidï¼Œé»˜è®¤suid&lt;/p&gt;
&lt;p&gt;uquota / gquotaï¼šå¯åŠ¨æ–‡ä»¶ç³»ç»Ÿæ”¯æŒç”¨æˆ·/ç”¨æˆ·ç»„ç£ç›˜é…é¢æ¨¡å¼&lt;/p&gt;
&lt;p&gt;noatime / nodiratime / relatimeï¼šnoatimeä¸æ›´æ–°æ–‡ä»¶ç³»ç»Ÿä¸Šinodeè®¿é—®è®°å½•ï¼Œå¯ä»¥æå‡æ€§èƒ½ï¼›nodiratimeä¸æ›´æ–°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç›®å½•inodeè®¿é—®è®°å½•ï¼Œå¯ä»¥æå‡æ€§èƒ½ï¼›å®æ—¶æ›´æ–°inode accessè®°å½•ï¼Œåªæœ‰è®°å½•ä¸­çš„è®¿é—®æ—¶é—´æ—©äºå½“å‰è®¿é—®æ‰ä¼šè¢«è·Ÿæ–°ï¼Œå¯ä»¥æå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;flushï¼šæ›´é¢‘ç¹çš„åˆ·æ–°æ•°æ®ï¼Œå¤åˆ¶å¯¹è¯æ¡†æˆ–è¿›åº¦æ¡åœ¨å…¨éƒ¨æ•°æ®å†™å…¥åæ‰æ¶ˆå¤±ã€‚&lt;/p&gt;
&lt;p&gt;dev / nodevï¼šæ˜¯å¦è§£ææ–‡ä»¶ç³»ç»Ÿä¸Šçš„å—ç‰¹æ®Šè®¾å¤‡ï¼Œé»˜è®¤dev&lt;/p&gt;
&lt;p&gt;defaultsï¼šåŒæ—¶å…·æœ‰ä»¥ä¸‹å‚æ•°çš„åŠŸèƒ½ï¼Œrwã€devã€suidã€execã€autoã€nouserã€asyncç­‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;dumpå¤‡ä»½é…ç½®ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0ä»£è¡¨ä¸å¤‡ä»½ï¼Œ1ä»£è¡¨è¦æ¯å¤©è¿›è¡Œdumpå¤‡ä»½ï¼Œ2ä»£è¡¨ä¸å®šæœŸçš„dumpå¤‡ä»½æ“ä½œ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¼€æœºç£ç›˜æ£€æŸ¥é¡ºåºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;0ä»£è¡¨ ä¸æ£€æŸ¥ï¼Œ1ä»£è¡¨æœ€æ—©æ£€æŸ¥ï¼ˆä¸€èˆ¬åªæœ‰æ ¹ç›®å½•æ‰è®¾ä¸º1ï¼‰ï¼Œ2ä¹Ÿä¼šè¢«æ£€æŸ¥ï¼Œä½†æ™šäº1ï¼Œå…¶ä»–åˆ†åŒºä¸€èˆ¬è®¾ä¸ºä»2å¼€å§‹æˆ–è€…0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;showmountå‚æ•°è§£é‡Š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-e æ˜¾ç¤ºNFSæœåŠ¡å™¨çš„å…±äº«åˆ—è¡¨&lt;/p&gt;
&lt;p&gt;-a æ˜¾ç¤ºæœ¬æœºæŒ‚è½½çš„æ–‡ä»¶èµ„æºçš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;-v æ˜¾ç¤ºç‰ˆæœ¬å·&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y nfs-utils
# æŸ¥çœ‹nfså…±äº«ç›®å½•
showmount -e 6.6.6.103
# å°†nfsæ·»åŠ åˆ°å¼€æœºæŒ‚è½½
echo &amp;quot;6.6.6.103:/Data_out/IN /Share/IN/103 nfs defaults 0 0&amp;quot; &amp;gt;&amp;gt;/etc/fstab
mount -a
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä½¿ç”¨autofsæŒ‚è½½&#34;&gt;ä½¿ç”¨autofsæŒ‚è½½&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;æœ€ä¼˜é€‰ï¼Œé˜²æ­¢å¼€æœºå‡ºé—®é¢˜,å»ºè®®ç½‘ç»œæŒ‚è½½å‡ä½¿ç”¨autofs&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install autofs
# ä¸»é…ç½®æ–‡ä»¶æ ¼å¼ï¼šä¸»æŒ‚è½½ç›®å½• å­é…ç½®æ–‡ä»¶
echo &amp;quot;/Share/IN /etc/auto.master.d/IN.misc&amp;quot; &amp;gt;&amp;gt; /etc/auto.master
echo &amp;quot;/Share/OUT /etc/auto.master.d/OUT.misc&amp;quot; &amp;gt;&amp;gt; /etc/auto.master
# å­é…ç½®æ–‡ä»¶æ ¼å¼ï¼šå­æŒ‚åœ¨ç›®å½• æŒ‚è½½æ–‡ä»¶ç±»å‹åŠæƒé™ :è®¾å¤‡åç§°
# æŒ‚è½½ç›®å½•ï¼šä¸»é…ç½®æ–‡ä»¶ä¸­çš„ä¸»æŒ‚è½½ç›®å½•/å­é…ç½®æ–‡ä»¶ä¸­çš„å­æŒ‚è½½ç›®å½•
vim /etc/auto.master.d/IN.misc
    103 -fstype=nfs,rw 6.6.6.103:/Data_out/IN
    104 -fstype=nfs,rw 6.6.6.104:/Data_out/IN
    105 -fstype=nfs,rw 6.6.6.105:/Data_out/IN
    106 -fstype=nfs,rw 6.6.6.106:/Data_out/IN
    107 -fstype=nfs,rw 6.6.6.107:/Data_out/IN
vim /etc/auto.master.d/OUT.misc
    103 -fstype=nfs,rw 6.6.6.103:/Data_out/OUT
    104 -fstype=nfs,rw 6.6.6.104:/Data_out/OUT
    105 -fstype=nfs,rw 6.6.6.105:/Data_out/OUT
    106 -fstype=nfs,rw 6.6.6.106:/Data_out/OUT
    107 -fstype=nfs,rw 6.6.6.107:/Data_out/OUT
systemctl restart autofs
&lt;/code&gt;&lt;/pre&gt;
">NFSæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/nextcloud-da-jian/"" data-c="
          &lt;h1 id=&#34;nextcloudæ­å»º&#34;&gt;NextCloudæ­å»º&lt;/h1&gt;
&lt;h2 id=&#34;åˆå§‹åŒ–ç¯å¢ƒlamp&#34;&gt;åˆå§‹åŒ–ç¯å¢ƒLAMP&lt;/h2&gt;
&lt;h3 id=&#34;å®‰è£…apacheå¦‚æœä¸ºnginx&#34;&gt;å®‰è£…apacheï¼ˆå¦‚æœä¸ºnginxï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install httpd
systemctl enable httpd
systemctl start httpd &amp;amp;&amp;amp; systemctl status httpd
# å¦‚æœä¸ºnginx
vim /etc/yum.repos.d/mginx.repo
    [nginx-stable]
    name=nginx stable repo
    baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
    gpgcheck=0
    enabled=1
    gpgkey=https://nginx.org/keys/nginx_signing.key
    [nginx-mainline]
    name=nginx mainline repo
    baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
    gpgcheck=0
    enabled=1
    gpgkey=https://nginx.org/keys/nginx_signing.key
yum -y install nginx
systemctl enable nginx &amp;amp;&amp;amp; systemctl start nginx &amp;amp;&amp;amp; systemctl status nginx

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…mariadb&#34;&gt;å®‰è£…mariadb&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install mariadb mariadb-server
systemctl enable mariadb
systemctl start mariadb &amp;amp;&amp;amp; systemctl status mariadb
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åˆå§‹åŒ–æ•°æ®åº“&#34;&gt;åˆå§‹åŒ–æ•°æ®åº“&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql_secure_installation
# æ­¤å¤„ç›´æ¥æŒ‰å›è½¦å³å¯ï¼ˆä¸€å¼€å§‹æ²¡æœ‰å¯†ç ï¼Œä»¥åæ”¹å¯†ç åˆ™éœ€è¦è¾“å…¥å·²è®¾å®šçš„å¯†ç ï¼‰
# ç„¶åä¼šè¦æ±‚ä½ è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼Œç„¶åå›è½¦
# ç„¶åä¸€è·¯æŒ‰YåŠ å›è½¦
# ç›´åˆ°å‡ºç°Thanks for using MariaDB
systemctl restart mariadb &amp;amp;&amp;amp; systemctl status mariadb
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…phpä»¥åŠç›¸å…³ç»„ä»¶&#34;&gt;å®‰è£…phpä»¥åŠç›¸å…³ç»„ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install php72w php72w-mysql php72w-gd php72w-ldap php72w-odbc php72w-pear php72w-xml php72w-xmlrpc php72w-mbstring php72w-bcmath php72w-mhash libjpeg* 
systemctl restart mariadb &amp;amp;&amp;amp; systemctl status mariadb
systemctl restart httpd &amp;amp;&amp;amp; systemctl status httpd
# nginx
systemctl restart nginx &amp;amp;&amp;amp; systemctl status nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ­å»ºnextcloud&#34;&gt;æ­å»ºNextCloud&lt;/h2&gt;
&lt;h3 id=&#34;æ–°å»ºæ•°æ®åº“&#34;&gt;æ–°å»ºæ•°æ®åº“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysql -u root -p
	show databases;
	create database nextcloud; 
	exit
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸‹è½½nextcloudæ–‡ä»¶å¹¶è§£å‹&#34;&gt;ä¸‹è½½nextcloudæ–‡ä»¶å¹¶è§£å‹&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install unzip
cd /usr/local/src
wget https://download.nextcloud.com/server/releases/nextcloud-18.0.4.zip
unzip nextcloud-18.0.4.zip -d /var/www/html/
cd /var/www/html/
chmod 777 nextcloud -Rf
chown apache:apache nextcloud
systemctl restart mariadb &amp;amp;&amp;amp; systemctl status mariadb
systemctl restart httpd &amp;amp;&amp;amp; systemctl status httpd
# å¦‚æœä¸ºnginx
chown nginx:nginx nextcloud
systemctl restart nginx &amp;amp;&amp;amp; systemctl status nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è§£å†³-é€šè¿‡ä¸è¢«ä¿¡ä»»çš„åŸŸåè®¿é—®&#34;&gt;è§£å†³ â€œé€šè¿‡ä¸è¢«ä¿¡ä»»çš„åŸŸåè®¿é—®â€&lt;/h3&gt;
&lt;h4 id=&#34;æ–¹æ³•ä¸€&#34;&gt;æ–¹æ³•ä¸€ï¼š&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;1. æ‰“å¼€ ../nextcloud/config/config.php
2. æ‰¾åˆ° trusted_domains
3. å¢åŠ ä¸€é¡¹:
preg_match(&#39;/cli/i&#39;,php_sapi_name())?&#39;127.0.0.1&#39;:$_SERVER[&#39;SERVER_NAME&#39;]
//å®Œæ•´çš„ä»£ç 
//ç´¢å¼•æ•°å­—é¡ºå»¶å°±å¯ä»¥
&#39;trusted_domains&#39; =&amp;gt; array(
	0 =&amp;gt; &#39;127.0.0.1&#39;,
    1 =&amp;gt; preg_match(&#39;/cli/i&#39;,php_sapi_name())?&#39;127.0.0.1&#39;:$_SERVER[&#39;SERVER_NAME&#39;],
),
4. è§£é‡Šï¼š$_SERVER[â€˜SERVER_NAMEâ€™] ä¸ºè·å¾—å½“å‰è®¿é—®çš„åŸŸåæˆ–IPï¼Œæœ€åˆåªè®¾ç½®äº†server_nameï¼Œåæ¥åœ¨æŸ¥çœ‹cronä»»åŠ¡æ—¶ï¼Œå‘ç°åœ¨cliæ¨¡å¼ä¸‹æ˜¯æ— æ³•è·å¾—çš„ï¼Œæ‰€ä»¥å¢åŠ äº†cliæ¨¡å¼åˆ¤æ–­ï¼Œcliæ¨¡å¼ç›´æ¥ç»™ä¸ªæœ¬åœ°IPå¿½æ‚ ç¨‹åºï¼Œæ­£å¸¸æ¨¡å¼å°†å½“å‰è®¿é—®çš„åŸŸåæˆ–IPåŠ¨æ€çš„æ·»åŠ çš„ä¿¡ä»»çš„åŸŸåä¸­ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ–¹æ³•äºŒ&#34;&gt;æ–¹æ³•äºŒï¼š&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&#39;trusted_domains&#39; =&amp;gt;
array (
  0 =&amp;gt; &#39;47.95.219.151:8080&#39;,
  1 =&amp;gt; &#39;172.17.145.245:8080&#39;,
),
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;onlyofficeæ­å»º&#34;&gt;OnlyOfficeæ­å»º&lt;/h1&gt;
&lt;h2 id=&#34;onlyofficeç¡¬ä»¶è¦æ±‚&#34;&gt;onlyofficeç¡¬ä»¶è¦æ±‚&lt;/h2&gt;
&lt;p&gt;ã€å‚è€ƒã€‘&lt;a href=&#34;http://blog.51yip.com/server/2174.html&#34;&gt;http://blog.51yip.com/server/2174.html&lt;/a&gt;&lt;br&gt;
è¦æ±‚ä¸ä½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;CPU dual core 2 GHz or better  
RAM 2 GB or more  
HDD at least 40 GB of free space  
Additional requirements at least 4 GB of swap  
OS RHEL 7 or CentOS 7  
Additional requirements  
  PostgreSQL: version 9.1 or later  
  NGINX: version 1.3.13 or later  
  Node.js: version 8.12.0  
  Redis  
  RabbitMQ 
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®‰è£…epelæº&#34;&gt;å®‰è£…epelæº&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install epel-release
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®‰è£…nginxæº&#34;&gt;å®‰è£…nginxæº&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=0
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®‰è£…ä¾èµ–&#34;&gt;å®‰è£…ä¾èµ–&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install gcc-c++ automake autoconf gcc make  
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…nodejs12æºå¯ä»¥ä¸å®‰è£…epelä¸­æœ‰&#34;&gt;å®‰è£…nodejs12æºï¼ˆå¯ä»¥ä¸å®‰è£…ï¼Œepelä¸­æœ‰ï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;curl -sL https://rpm.nodesource.com/setup_12.x | bash -
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…nginxé…ç½®nginxconf&#34;&gt;å®‰è£…nginxï¼Œé…ç½®nginx.conf&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install nginx  
# vim /etc/nginx/nginx.conf  
#     user nginx;  
#     worker_processes auto;  
#     error_log /var/log/nginx/error.log;  
#     pid /run/nginx.pid;  
# 
#     # Load dynamic modules. See /usr/share/nginx/README.dynamic.  
#     include /usr/share/nginx/modules/*.conf;  
# 
#     events {  
#         worker_connections 1024;  
#     }  
# 
#     http {  
#         log_format  main  &#39;$remote_addr - $remote_user [$time_local] &amp;quot;$request&amp;quot; &#39;  
#                           &#39;$status $body_bytes_sent &amp;quot;$http_referer&amp;quot; &#39;  
#                           &#39;&amp;quot;$http_user_agent&amp;quot; &amp;quot;$http_x_forwarded_for&amp;quot;&#39;;  
# 
#         access_log  /var/log/nginx/access.log  main;  
#         sendfile            on;  
#         keepalive_timeout   65;  
#         include             /etc/nginx/mime.types;  
#         default_type        application/octet-stream;  
#         include /etc/nginx/conf.d/*.conf;  
# 
#     } 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…å¯åŠ¨redisrabbitmq-server&#34;&gt;å®‰è£…å¯åŠ¨redisï¼Œrabbitmq-server&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install redis rabbitmq-server  
systemctl enable redis 
systemctl enable rabbitmq-server  
systemctl start redis &amp;amp;&amp;amp; systemctl status redis
systemctl start rabbitmq-server &amp;amp;&amp;amp; systemctl status rabbitmq-server 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…postgresqlå¹¶åˆ›å»ºæ•°æ®åº“&#34;&gt;å®‰è£…postgresqlï¼Œå¹¶åˆ›å»ºæ•°æ®åº“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install postgresql postgresql-server 
systemctl enable postgresql
service postgresql initdb  # åˆå§‹åŒ–æ•°æ®åº“
vim /var/lib/pgsql/data/pg_hba.conf  
    host all all 127.0.0.1/32 trust # identæ¢æˆtrust  
    host all all ::1/128 trust # identæ¢æˆtrust  
systemctl start postgresql
# vim /usr/lib/systemd/system/postgresql.service
# 	å°†&amp;quot;Environment=PGDATA=/var/lib/pgsql/data&amp;quot;ä¿®æ”¹ä¸º&amp;quot;Environment=PGDATA=/tmp&amp;quot;
cd /tmp #é˜²æ­¢could not change directory to &amp;quot;/root&amp;quot;ä»æ ¹ç›®å½•è¿è¡Œæ—¶å‘å‡ºè­¦å‘Šã€‚ç„¶åå¿…é¡»åˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·
sudo -u postgres psql -c &amp;quot;CREATE DATABASE onlyoffice;&amp;quot;  
sudo -u postgres psql -c &amp;quot;CREATE USER onlyoffice WITH password &#39;onlyoffice&#39;;&amp;quot;  
sudo -u postgres psql -c &amp;quot;GRANT ALL privileges ON DATABASE onlyoffice TO onlyoffice;&amp;quot;  
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…onlyofficeæº&#34;&gt;å®‰è£…onlyofficeæº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install https://download.onlyoffice.com/repo/centos/main/noarch/onlyoffice-repo.noarch.rpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®‰è£…é…ç½®onlyoffice&#34;&gt;å®‰è£…é…ç½®onlyoffice&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install onlyoffice-documentserver  
bash documentserver-configure.sh  
    Configuring PostgreSQL access...  
    Host: localhost 
    Database name: onlyoffice  
    User: onlyoffice  
    Password:onlyoffice  
    Trying to establish PostgreSQL connection... OK  
    Installing PostgreSQL database... OK  
    Configuring redis access...  
    Host: localhost  

    Trying to establish redis connection... OK  
    Configuring RabbitMQ access...  
    Host: localhost  
    User: guest  
    Password:guest  
    Trying to establish RabbitMQ connection... OK  
    Restarting services... OK  
systemctl enable supervisord
systemctl start supervisord  
# æµè§ˆå™¨è®¿é—®ï¼šhttp://æœåŠ¡å™¨IP/web-apps/apps/api/documents/api.js
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é…ç½®nginx-httpså¯ä»¥ä¸é…ç½®&#34;&gt;é…ç½®nginx httpsï¼ˆå¯ä»¥ä¸é…ç½®ï¼‰&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /etc/onlyoffice/documentserver/nginx  
cp ds-ssl.conf.tmpl ds-ssl.conf  
ln -s /etc/onlyoffice/documentserver/nginx/ds-ssl.conf /etc/nginx/conf.d/  
vim /etc/nginx/conf.d/ds-ssl.conf
    include /etc/nginx/includes/http-common.conf;  
    ## Normal HTTP host  
    server {  
     listen 80;  
     server_name onlineoffice.netjoy.com;  
     server_tokens off;  

     ## Redirects all traffic to the HTTPS host  
     root /nowhere; ## root doesn&#39;t have to be a valid path since we are redirecting  
     rewrite ^ https://$host$request_uri? permanent;  
    }  

    #HTTP host for internal services  
    server {  
     listen 127.0.0.1:80;  
     listen [::1]:80;  
     server_name localhost;  
     server_tokens off;  

     include /etc/nginx/includes/ds-common.conf;  
     include /etc/nginx/includes/ds-docservice.conf;  
    }  

    ## HTTPS host  
    server {  
     listen 443;  
     server_name onlineoffice.netjoy.com;  
     server_tokens off;  
     root /usr/share/nginx/html;  

     ## Strong SSL Security  
     ## https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html  
     ssl on;  
     ssl_certificate /etc/nginx/cert/office.pem;  
     ssl_certificate_key /etc/nginx/cert/office.key;  
     ssl_verify_client off;  

     ssl_ciphers &amp;quot;EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH&amp;quot;;  

     ssl_protocols TLSv1 TLSv1.1 TLSv1.2;  
     ssl_session_cache builtin:1000 shared:SSL:10m;  

     ssl_prefer_server_ciphers on;  

     add_header Strict-Transport-Security max-age=31536000;  
     # add_header X-Frame-Options SAMEORIGIN;  
     add_header X-Content-Type-Options nosniff;  

     ## [Optional] If your certficate has OCSP, enable OCSP stapling to reduce the overhead and latency of running SSL.  
     ## Replace with your ssl_trusted_certificate. For more info see:  
     ## - https://medium.com/devops-programming/4445f4862461  
     ## - https://www.ruby-forum.com/topic/4419319  
     ## - https://www.digitalocean.com/community/tutorials/how-to-configure-ocsp-stapling-on-apache-and-nginx  
     # ssl_stapling on;  
     # ssl_stapling_verify on;  
     # ssl_trusted_certificate /etc/nginx/ssl/stapling.trusted.crt;  
     # resolver 208.67.222.222 208.67.222.220 valid=300s; # Can change to your DNS resolver if desired  
     # resolver_timeout 10s;  

     ## [Optional] Generate a stronger DHE parameter:  
     ## cd /etc/ssl/certs  
     ## sudo openssl dhparam -out dhparam.pem 4096  
     ##  
     # ssl_dhparam /etc/ssl/certs/dhparam.pem;  

     include /etc/nginx/includes/ds-*.conf;  

    }  
systemctl restart nginx  

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸‹è½½nextcloud-onlyofficeæ’ä»¶&#34;&gt;ä¸‹è½½nextcloud-onlyofficeæ’ä»¶&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd nextcloudè·¯å¾„/apps/  
git clone https://github.com/ONLYOFFICE/onlyoffice-owncloud.git onlyoffice  
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®‰è£…æ—¥å¿—&#34;&gt;å®‰è£…æ—¥å¿—&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;=====================================================================
 Package                    æ¶æ„    ç‰ˆæœ¬            æº          å¤§å°
=====================================================================
æ­£åœ¨å®‰è£…:
 onlyoffice-documentserver  x86_64  5.5.1-76        onlyoffice 363 M
ä¸ºä¾èµ–è€Œå®‰è£…:
 GConf2                     x86_64  3.2.6-8.el7     base       1.0 M
 adwaita-cursor-theme       noarch  3.28.0-1.el7    base       641 k
 adwaita-icon-theme         noarch  3.28.0-1.el7    base        11 M
 at-spi2-atk                x86_64  2.26.2-1.el7    base        81 k
 at-spi2-core               x86_64  2.28.0-1.el7    base       158 k
 atk                        x86_64  2.28.1-2.el7    base       263 k
 avahi-libs                 x86_64  0.6.31-20.el7   base        62 k
 cairo                      x86_64  1.15.12-4.el7   base       741 k
 cairo-gobject              x86_64  1.15.12-4.el7   base        26 k
 colord-libs                x86_64  1.3.4-2.el7     base       186 k
 cups-libs                  x86_64  1:1.6.3-43.el7  base       358 k
 dconf                      x86_64  0.28.0-4.el7    base       106 k
 dejavu-fonts-common        noarch  2.33-6.el7      base        64 k
 dejavu-sans-fonts          noarch  2.33-6.el7      base       1.4 M
 fontconfig                 x86_64  2.13.0-4.3.el7  base       254 k
 fontpackages-filesystem    noarch  1.44-8.el7      base       9.9 k
 fribidi                    x86_64  1.0.2-1.el7_7.1 base        79 k
 gdk-pixbuf2                x86_64  2.36.12-3.el7   base       570 k
 glib-networking            x86_64  2.56.1-1.el7    base       145 k
 gnutls                     x86_64  3.3.29-9.el7_6  base       680 k
 graphite2                  x86_64  1.3.10-1.el7_3  base       115 k
 gsettings-desktop-schemas  x86_64  3.28.0-3.el7    base       606 k
 gtk-update-icon-cache      x86_64  3.22.30-5.el7   base        27 k
 gtk3                       x86_64  3.22.30-5.el7   base       4.4 M
 harfbuzz                   x86_64  1.7.5-2.el7     base       267 k
 hicolor-icon-theme         noarch  0.12-7.el7      base        42 k
 jasper-libs                x86_64  1.900.1-33.el7  base       150 k
 jbigkit-libs               x86_64  2.0-11.el7      base        46 k
 json-glib                  x86_64  1.4.2-2.el7     base       134 k
 lcms2                      x86_64  2.6-3.el7       base       150 k
 libICE                     x86_64  1.0.9-9.el7     base        66 k
 libSM                      x86_64  1.2.2-2.el7     base        39 k
 libXScrnSaver              x86_64  1.2.2-6.1.el7   base        24 k
 libXcomposite              x86_64  0.4.4-4.1.el7   base        22 k
 libXcursor                 x86_64  1.1.15-1.el7    base        30 k
 libXdamage                 x86_64  1.1.4-4.1.el7   base        20 k
 libXdmcp                   x86_64  1.1.2-6.el7     base        34 k
 libXext                    x86_64  1.3.3-3.el7     base        39 k
 libXfixes                  x86_64  5.0.3-1.el7     base        18 k
 libXfont2                  x86_64  2.0.3-1.el7     base       143 k
 libXft                     x86_64  2.3.2-2.el7     base        58 k
 libXi                      x86_64  1.7.9-1.el7     base        40 k
 libXinerama                x86_64  1.1.3-2.1.el7   base        14 k
 libXmu                     x86_64  1.1.2-2.el7     base        71 k
 libXrandr                  x86_64  1.5.1-2.el7     base        27 k
 libXrender                 x86_64  0.9.10-1.el7    base        26 k
 libXt                      x86_64  1.1.5-3.el7     base       173 k
 libXtst                    x86_64  1.2.3-1.el7     base        20 k
 libXxf86vm                 x86_64  1.1.4-1.el7     base        18 k
 libepoxy                   x86_64  1.5.2-1.el7     base       211 k
 liberation-fonts-common    noarch  1:1.07.2-16.el7 base        27 k
 liberation-mono-fonts      noarch  1:1.07.2-16.el7 base       227 k
 libfontenc                 x86_64  1.1.3-3.el7     base        31 k
 libglvnd                   x86_64  1:1.0.1-0.8.git base        89 k
 libglvnd-egl               x86_64  1:1.0.1-0.8.git base        44 k
 libglvnd-glx               x86_64  1:1.0.1-0.8.git base       125 k
 libgusb                    x86_64  0.2.9-1.el7     base        40 k
 libmodman                  x86_64  2.0.1-8.el7     base        28 k
 libproxy                   x86_64  0.4.11-11.el7   base        64 k
 libsoup                    x86_64  2.62.2-2.el7    base       411 k
 libthai                    x86_64  0.1.14-9.el7    base       187 k
 libtiff                    x86_64  4.0.3-32.el7    base       171 k
 libusbx                    x86_64  1.0.21-1.el7    base        61 k
 libwayland-client          x86_64  1.15.0-1.el7    base        33 k
 libwayland-cursor          x86_64  1.15.0-1.el7    base        20 k
 libwayland-egl             x86_64  1.15.0-1.el7    base        13 k
 libwayland-server          x86_64  1.15.0-1.el7    base        39 k
 libxkbcommon               x86_64  0.7.1-3.el7     base       108 k
 libxkbfile                 x86_64  1.0.9-3.el7     base        83 k
 libxshmfence               x86_64  1.2-1.el7       base       7.2 k
 mesa-libEGL                x86_64  18.3.4-7.el7_8. updates    109 k
 mesa-libGL                 x86_64  18.3.4-7.el7_8. updates    165 k
 mesa-libgbm                x86_64  18.3.4-7.el7_8. updates     39 k
 mesa-libglapi              x86_64  18.3.4-7.el7_8. updates     46 k
 nettle                     x86_64  2.7.1-8.el7     base       327 k
 pango                      x86_64  1.42.4-4.el7_7  base       280 k
 pixman                     x86_64  0.34.0-1.el7    base       248 k
 psmisc                     x86_64  22.20-16.el7    base       141 k
 pwgen                      x86_64  2.08-1.el7      epel        26 k
 python-backports           x86_64  1.0-8.el7       base       5.8 k
 python-backports-ssl_ma... noarch  3.5.0.1-1.el7   base        13 k
 python-ipaddress           noarch  1.0.16-2.el7    base        34 k
 python-meld3               x86_64  0.6.10-1.el7    epel        73 k
 python-setuptools          noarch  0.9.8-7.el7     base       397 k
 rest                       x86_64  0.8.1-2.el7     base        63 k
 supervisor                 noarch  3.4.0-1.el7     epel       498 k
 trousers                   x86_64  0.3.14-2.el7    base       289 k
 xkeyboard-config           noarch  2.24-1.el7      base       834 k
 xorg-x11-server-Xvfb       x86_64  1.20.4-10.el7   base       854 k
 xorg-x11-server-common     x86_64  1.20.4-10.el7   base        55 k
 xorg-x11-xauth             x86_64  1:1.0.9-1.el7   base        30 k
 xorg-x11-xkb-utils         x86_64  7.7-14.el7      base       103 k
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;onlyofficeå®‰è£…ä¸­æ–‡å­—ä½“çš„é—®é¢˜&#34;&gt;onlyofficeå®‰è£…ä¸­æ–‡å­—ä½“çš„é—®é¢˜&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨windowsä¸­çš„ç›®å½•&lt;code&gt;C:\Windows\Fonts&lt;/code&gt;ä¸‹æŸ¥æ‰¾æ‰€éœ€è¦çš„çš„å­—ä½“æˆ–è€…ä»ç½‘ç»œä¸‹ä¸‹è½½æ‰€éœ€è¦çš„çš„å­—ä½“&lt;/li&gt;
&lt;li&gt;å‡†å¤‡è½¯ä»¶FontCreator&lt;/li&gt;
&lt;li&gt;å¦‚æœå­—ä½“æ–‡ä»¶æ˜¯&lt;code&gt;.ttf&lt;/code&gt;ï¼Œåˆ™ç›´æ¥ä½¿ç”¨FontCreatoræ‰“å¼€å­—ä½“æ–‡ä»¶ï¼Œç„¶åä¿®æ”¹ï¼šå­—ä½“--å±æ€§--è¯†åˆ«--å­—ä½“æ—ï¼Œæ­¤å¤„å¦‚æœä¸ºä¸­æ–‡åˆ™ä¸éœ€è¦ä¿®æ”¹ï¼Œå¦‚æœä¸ºè‹±æ–‡åˆ™éœ€è¦ä¿®æ”¹ä¸ºç›¸åº”çš„ä¸­æ–‡ï¼ˆä¸­æ–‡å­—ä½“ä¿®æ”¹ä¸ºä¸­æ–‡ï¼Œå¦‚æœæ˜¯è‹±æ–‡æˆ–è€…å…¶ä»–å­—ä½“åˆ™ä¸éœ€è¦ä¿®æ”¹ï¼‰ã€‚å¦‚æœå­—ä½“æ–‡ä»¶æ˜¯&lt;code&gt;.ttc&lt;/code&gt;ï¼Œåˆ™éœ€è¦å…ˆä½¿ç”¨FontCreatorå°†å­—ä½“æ–‡ä»¶æå–æˆ&lt;code&gt;.ttf&lt;/code&gt;ï¼Œå¯ä»¥åªæå–é‡Œé¢éœ€è¦çš„å­—ä½“ï¼Œä¸éœ€è¦å…¨éƒ¨æå–ã€‚&lt;/li&gt;
&lt;li&gt;å°†onlyofficeæœåŠ¡å™¨æœ¬èº«çš„å­—ä½“åº“ä¸­çš„å­—ä½“æš‚æ—¶è¿ç§»åˆ°åˆ«çš„åœ°æ–¹&lt;code&gt;mkdir /tmp/fontbak &amp;amp;&amp;amp; mv /usr/share/fonts/* /tmp/fontbak&lt;/code&gt;ï¼ˆå¦‚æœç¼–è¾‘æ–‡æ¡£æ—¶éœ€è¦è¿™äº›å­—ä½“ï¼Œåˆ™ä¸éœ€è¦è¿ç§»ï¼Œç¬¬8éƒ¨ä¹Ÿå°±ä¸éœ€è¦äº†ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ é™¤/var/www/html/documentserver/fontsä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶&lt;code&gt;rm -rf /var/www/html/documentserver/fonts/*&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœéœ€è¦onlyofficeè‡ªå¸¦çš„å­—ä½“ï¼Œåˆ™ä¸éœ€è¦åˆ é™¤/var/www/html/documentserver/core-fontsä¸­çš„æ–‡ä»¶ï¼Œå¦‚æœä¸éœ€è¦åˆ™å¯ä»¥ç›´æ¥æ¸…ç©ºæ­¤ç›®å½•ï¼Œç„¶åå°†è‡ªå·±ä¿®æ”¹å¥½çš„å­—ä½“æ–‡ä»¶ä¸Šä¼ è‡³æ­¤ç›®å½•&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œ&lt;code&gt;documentserver-generate-allfonts.sh&lt;/code&gt;ç”Ÿæˆå­—ä½“ç¼“å­˜æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å°†onlyofficeæœåŠ¡å™¨æœ¬èº«çš„å­—ä½“è¿ç§»å›å»&lt;code&gt;mv /tmp/fontbak/* /usr/share/fonts&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;nextcloudæ’ä»¶å®‰è£…&#34;&gt;nextcloudæ’ä»¶å®‰è£…&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;æ’ä»¶å®˜æ–¹ä¸‹è½½åœ°å€&lt;a href=&#34;https://apps.nextcloud.com/&#34;&gt;https://apps.nextcloud.com/&lt;/a&gt;ï¼Œé€‰æ‹©éœ€è¦å®‰è£…çš„æ’ä»¶è¿›è¡Œä¸‹è½½&lt;sub&gt;æ³¨æ„è¦ä¸‹è½½å¯¹åº”nextcloudçš„ç‰ˆæœ¬çš„æ’ä»¶&lt;/sub&gt;&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°éœ€è¦ä¸‹è½½çš„æ’ä»¶æ”¾åˆ°nextcloudç›®å½•ä¸‹é¢çš„appsä¸‹é¢&lt;/li&gt;
&lt;li&gt;ç™»é™†ç®¡ç†ç•Œé¢ï¼Œåœ¨å·²ç¦ç”¨çš„åº”ç”¨ä¸­å°±å¯ä»¥æ‰¾åˆ°å¯¼å…¥çš„æ’ä»¶ï¼Œç‚¹å‡»å¯ç”¨å³å¯&lt;/li&gt;
&lt;/ol&gt;
">NextCloud+OnlyOfficeæ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/gitlab-bu-shu-ji-han-hua/"" data-c="
          &lt;p&gt;gitlabéƒ¨ç½²&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;éƒ¨ç½²&#34;&gt;éƒ¨ç½²&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y checkpolicy libcgroup libsemanage-python policycoreutils-python python-IPy setools-libs audit-libs-python 
cd /usr/local/src
wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm
yum -y localinstall gitlab-ce-12.3.5-ce.0.el7.x86_64.rpm
gitlab-ctl reconfigure
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ±‰åŒ–&#34;&gt;æ±‰åŒ–&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cd /usr/local/src
wget https://gitlab.com/xhang/gitlab/-/archive/12-3-stable-zh/gitlab-12-3-stable-zh.tar.gz
tar -zxvf gitlab-12-3-stable-zh.tar.gz
cd gitlab-12-3-stable-zh
unalias cp
mkdir /tmp/confbak
cp -rf /opt/gitlab/embedded/service/gitlab-rails/* /tmp/confbak
cp -rf /usr/local/src/gitlab-12-3-stable-zh/* /opt/gitlab/embedded/service/gitlab-rails
gitlab-ctl reconfigure
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¿®æ”¹é…ç½®&#34;&gt;ä¿®æ”¹é…ç½®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;vim /etc/gitlab/gitlab.rb
&amp;gt; æ›´æ”¹external_urlä¸ºhttp://&amp;quot;æœ¬æœºIP&amp;quot;:&amp;quot;è‡ªå®šä¹‰çš„ç«¯å£ï¼Œé»˜è®¤ä¸º80&amp;quot;
gitlab-ctl reconfigure
gitlab-ctl restart
#å¼€æœºè‡ªå¯
systemctl enable gitlab-runsvdir.service
# é»˜è®¤å­˜å‚¨ä½ç½®åœ¨ï¼š/var/opt/gitlab/git-data/repositoriesï¼Œé€šå¸¸éœ€è¦æ›´æ”¹æ­¤è·¯å¾„åˆ°å•ç‹¬çš„ä¸€ä¸ªåˆ†åŒºæ¥å­˜å‚¨ä»“åº“çš„æ•°æ®
# ä¾‹å¦‚æŠŠæ•°æ®å­˜æ”¾åˆ°/data/gitlabç›®å½•ä¸‹
mkdir -p /data/gitlab
vim /etc/gitlab/gitlab.rb
# åœ¨git_data_dirä¸‹é¢æ·»åŠ ä¸€å¥git_data_dir â€œ/data/gitlabâ€
gitlab-ctl stop
gitlab-ctl reconfigure
gitlab-ctl start
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç™»å½•&#34;&gt;ç™»å½•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é»˜è®¤ç”¨æˆ·åä¸ºroot
# å¯†ç ä¸ºç¬¬ä¸€æ¬¡è®¿é—®æ—¶è®¾ç½®çš„å¯†ç 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¸¸ç”¨å‘½ä»¤&#34;&gt;å¸¸ç”¨å‘½ä»¤&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;è¯­æ³•ï¼šgitlab-ctl command (subcommand)
  start  #å¯åŠ¨æ‰€æœ‰æœåŠ¡
  stop  #å…³é—­æ‰€æœ‰æœåŠ¡
  restart  #é‡å¯æ‰€æœ‰æœåŠ¡
  status  #æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€
  tail  #æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯
  service-list  #åˆ—ä¸¾æ‰€æœ‰å¯åŠ¨æœåŠ¡
  graceful-kill  #å¹³ç¨³åœæ­¢ä¸€ä¸ªæœåŠ¡
  help  #å¸®åŠ©
  reconfigure  #ä¿®æ”¹é…ç½®æ–‡ä»¶ä¹‹åï¼Œéœ€è¦é‡æ–°åŠ è½½ä¸‹
  show-config  #æŸ¥çœ‹æ‰€æœ‰æœåŠ¡é…ç½®æ–‡ä»¶ä¿¡æ¯
  uninstall  #å¸è½½è¿™ä¸ªè½¯ä»¶ï¼Œyum -y remove gitlab-ceï¼Œrm -rf /etc/gitlab /var/log/gitlab /var/opt/gitlab /opt/gitlabï¼Œfind / -name gitlabï½œxargs rm -rf
  cleanse  #åˆ é™¤gitlabæ•°æ®
  remove-accounts #åˆ é™¤è´¦æˆ·ä¿¡æ¯
gitlab-rails console  # è¿›å…¥railsæ§åˆ¶å°
gitlab-rake gitlab:backup:create  #å¤‡ä»½æ•°æ®åº“ã€‚ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤ä¼šåœ¨/var/opt/gitlab/backupsç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåç§°ç±»ä¼¼ä¸º1481598919_gitlab_backup.tarçš„å‹ç¼©åŒ…, è¿™ä¸ªå‹ç¼©åŒ…å°±æ˜¯ Gitlab æ•´ä¸ªçš„å®Œæ•´éƒ¨åˆ†, å…¶ä¸­å¼€å¤´çš„ï¼š1481598919æ˜¯å¤‡ä»½åˆ›å»ºçš„æ—¥æœŸï¼Œ/etc/gitlab/gitlab.rbé…ç½®æ–‡ä»¶é¡»å¤‡ä»½ï¼Œ/var/opt/gitlab/nginx/conf nginxé…ç½®æ–‡ä»¶ï¼Œ/etc/postfix/main.cfpostfix é‚®ä»¶é…ç½®å¤‡ä»½
gitlab-rake gitlab:backup:restore BACKUP=1481598919  #å¤‡ä»½æ¢å¤ï¼Œåé¢çš„æ•°å­—æ˜¯å¤‡ä»½çš„æ—¶é—´æˆ³ï¼Œå¯ä»¥é€šè¿‡å¤‡ä»½æ–‡ä»¶åçœ‹åˆ°
# 0 2 * * * /opt/gitlab/bin/gitlab-rake gitlab:backup:create  #Gitlabè‡ªåŠ¨å¤‡ä»½ï¼Œå®ç°æ¯å¤©å‡Œæ™¨2ç‚¹è¿›è¡Œä¸€æ¬¡è‡ªåŠ¨å¤‡ä»½:é€šè¿‡crontabä½¿ç”¨å¤‡ä»½å‘½ä»¤å®ç°

ç¤ºä¾‹ï¼š
  gitlab-ctl start  #å¯åŠ¨æ‰€æœ‰æœåŠ¡
  gitlab-ctl start nginx  #å¯åŠ¨å•ç‹¬ä¸€ä¸ªæœåŠ¡
  gitlab-ctl tail  #æŸ¥çœ‹æ—¥å¿—ï¼Œç±»ä¼¼tail -f
  gitlab-ctl tail nginx  #æŸ¥çœ‹ä¸€ä¸ªåº”ç”¨çš„æ—¥å¿—
  gitlab-ctl show-config  #æ˜¾ç¤ºæ‰€æœ‰æœåŠ¡é…ç½®æ–‡ä»¶
  gitlab-ctl uninstall  #å¸è½½gitlab
&lt;/code&gt;&lt;/pre&gt;
">Gitlabéƒ¨ç½²åŠæ±‰åŒ–</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-yuan-ma-an-zhuang-php7/"" data-c="
          &lt;p&gt;php7&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h3 id=&#34;phpç¼–è¯‘å®‰è£…&#34;&gt;phpç¼–è¯‘å®‰è£…&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum -y install epel-release
yum -y install gcc gcc-c++ make ncurses curl argon2 openssl openssl-devel openldap openldap-devel bzip2 bzip2-devel zlib zlib-devel libxml2 libxml2-devel libcurl libcurl-devel libargon2 libargon2-devel libjpeg libjpeg-devel libpng libpng-devel libxslt libxslt-devel libicu libicu-devel libmemcached libmemcached-devel freetype freetype-devel gmp gmp-devel readline readline-devel glibc glibc-devel glib2 glib2-devel pcre pcre-devel xmlrpc-c xmlrpc-c-devel gdbm gdbm-devel db4 db4-devel libXpm libXpm-devel libX11 libX11-devel gd gd-devel expat expat-devel oniguruma oniguruma-devel libsodium libsodium-devel
useradd -s /sbin/nologin www
cd /usr/local/src
wget &amp;quot;https://www.php.net/distributions/php-7.4.2.tar.gz&amp;quot;
tar -zxvf php-7.4.2.tar.gz
cd php-7.4.2
./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-config-file-scan-dir=/usr/local/php/etc/php.d --with-fpm-user=www --with-fpm-group=www --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-libdir=lib64 --with-zlib-dir --with-zlib --with-iconv-dir --with-jpeg --with-freetype --with-curl --with-gettext --with-xsl --with-libxml --with-xmlrpc --with-ldap-sasl --with-kerberos --with-openssl --with-password-argon2 --with-pear --with-bz2 --with-mhash --with-sodium --without-sqlite3 --without-pdo-sqlite --enable-mysqlnd --enable-fpm --enable-gd --enable-ctype --enable-bcmath --enable-exif --enable-inline-optimization --enable-mbregex --enable-mbstring --enable-opcache --enable-pcntl --enable-shmop --enable-soap --enable-sockets --enable-sysvsem --enable-sysvshm --enable-xml --enable-ftp --enable-intl --disable-rpath --disable-fileinfo --disable-debug
make &amp;amp;&amp;amp; make install
cp php.ini-production /usr/local/php/etc/php.ini
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯åŠ¨php-fpm&#34;&gt;å¯åŠ¨php-fpm&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/php/sbin:/usr/local/php/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½¿ç”¨é»˜è®¤é…ç½®æ–‡ä»¶ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mv /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf
mv /usr/local/php/etc/php-fpm.d/www.conf.default  /usr/local/php/etc/php-fpm.d/www.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼šphp-fpm -t&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨systemctlç®¡ç†php-fpm&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/php-fpm.service &amp;lt;&amp;lt;EOF
[Unit]
Description=php-fpm
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/php/sbin/php-fpm -R
[Install]
WantedBy=multi-user.target
EOF
systemctl enable php-fpm
systemctl start php-fpm
systemctl status php-fpm
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;quot;-R&amp;quot; ä»£è¡¨rootç”¨æˆ·å¯åŠ¨ï¼Œå¯ä»¥ä¸åŠ ã€‚å¦‚æœåŠ åˆ™éœ€è¦æŠŠ /usr/local/php/etc/php-fpm.d/www.confæ–‡ä»¶ä¸­çš„userå’Œgroupå‡æ”¹ä¸ºrootï¼ˆæˆ–è€…åœ¨ä¸»é…ç½®æ–‡ä»¶/usr/local/php/etc/php-fpm.confä¸­åŠ å…¥user=rootå’Œgroup=rootè¿™ä¸¤è¡Œï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;éªŒè¯php-fpmçš„å¯åŠ¨&#34;&gt;éªŒè¯php-fpmçš„å¯åŠ¨&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹ ps auxf | grep php-fpm&lt;/li&gt;
&lt;li&gt;ç«¯å£ netstat -tulnp | grep php-fpm&lt;/li&gt;
&lt;/ol&gt;
">Centos7æºç å®‰è£…php7</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/shu-mei-pai-cong-ling-kai-shi-da-jian-lnmp/"" data-c="
          &lt;h3 id=&#34;ç³»ç»Ÿå®‰è£…&#34;&gt;ç³»ç»Ÿå®‰è£…&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½é•œåƒå¹¶è§£å‹&lt;br&gt;
&lt;a href=&#34;http://mirrors.huaweicloud.com/centos-altarch/7.7.1908/isos/armhfp/CentOS-Userland-7-armv7hl-RaspberryPI-Minimal-1908-sda.raw.xz&#34;&gt;http://mirrors.huaweicloud.com/centos-altarch/7.7.1908/isos/armhfp/CentOS-Userland-7-armv7hl-RaspberryPI-Minimal-1908-sda.raw.xz&lt;/a&gt;&lt;br&gt;
ä¸‹è½½å®Œæˆåä½¿ç”¨7-zipè½¯ä»¶å°†é•œåƒè§£å‹æˆrawæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨DiskGeniuså°†SDå¡ï¼ˆorUç›˜ï¼‰æ ¼å¼åŒ–&lt;br&gt;
&lt;code&gt;é»˜è®¤ä¼šæ·»åŠ ç›˜ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ &lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨Win32DiskImagerå°†rawæ–‡ä»¶åˆ·å…¥SDå¡&lt;br&gt;
&lt;code&gt;é€‰æ‹©æ–‡ä»¶æ—¶é»˜è®¤ä¸ºimgæ–‡ä»¶ï¼Œä¸‹æ‹‰é€‰æ‹©æ‰€æœ‰æ–‡ä»¶å³å¯é€‰æ‹©åˆšæ‰è§£å‹çš„rawæ–‡ä»¶&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é•œåƒåˆ·å…¥æˆåŠŸåï¼Œæ‰“å¼€SDå¡ä¸­æ–‡ä»¶cmdline.txtï¼Œåœ¨å¤´éƒ¨æ’å…¥ip=&amp;quot;ä½ è¦è®¾ç½®çš„IP&amp;quot;ï¼Œåé¢åŠ ç©ºæ ¼&lt;br&gt;
&lt;code&gt;æ­¤æ­¥å¯ä»¥çœç•¥ã€‚æ ‘è“æ´¾IPå¯ä»¥ç™»å½•è·¯ç”±å™¨ä¸ŠæŸ¥æ‰¾ã€‚&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;é»˜è®¤ç”¨æˆ·åï¼ˆrootï¼‰å’Œå¯†ç ï¼ˆcentosï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ‰©å±•å†…å­˜ç©ºé—´&#34;&gt;æ‰©å±•å†…å­˜ç©ºé—´&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ç»ˆç«¯ç™»å½•ä¹‹åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;fdisk /dev/mmcblk0  # è¿›å…¥ç£ç›˜åˆ†åŒºshell
 # æŸ¥çœ‹ç›®å‰åˆ†åŒºæƒ…å†µï¼Œæœ‰ä¸‰ä¸ªmmcblk0p1~3
&amp;gt; p 
# åˆ é™¤æœ€åä¸€ä¸ªåˆ†åŒºï¼Œä¹‹åç›´æ¥æŒ‰enterå³å¯
&amp;gt; d  
# æŸ¥çœ‹æ˜¯å¦åˆ é™¤æˆåŠŸ
&amp;gt; p 
# æ–°å»ºåˆ†åŒº 
&amp;gt; n 
# é€‰æ‹©ä¸»åˆ†åŒºï¼Œå› ä¸ºåˆšæ‰åˆ é™¤çš„å°±æ˜¯ä¸»åˆ†åŒºï¼Œåˆ†åŒºå·ï¼ˆPartition numberï¼‰é»˜è®¤æ˜¯3 
&amp;gt; p  
# .......... æ³¨æ„ .......
# ä¸‹é¢çœ‹æ¸…æ¥šï¼šé»˜è®¤çš„èµ·å§‹sectorå¦‚æœæ˜¯2048ï¼Œåˆ™éœ€è¦è¾“å…¥åˆ†åŒº2ï¼ˆmmcblk0p2ï¼‰ç»“æŸï¼ˆEndï¼‰å—åŒº+1ï¼Œç„¶åä¸€ç›´enderä¸‹å»å³å¯ï¼›å¦åˆ™ä¸€ç›´enterå³å¯
#é€€å‡ºå¹¶ä¿å­˜åˆ†åŒº
&amp;gt; w 
# .......... æ³¨æ„ .......
# æ­¤æ—¶å·²ç»å›åˆ°centos7çš„shellï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå¦åˆ™** æ— æ³•å¼€æœº **
touch /.rootfs-repartition  
# é‡å¯ç³»ç»Ÿ
 systemctl reboot
# å¼€æœºä¹‹åæ‰§è¡Œï¼Œé‡æ–°åŠ è½½åˆ†åŒºä¿¡æ¯
resize2fs /dev/mmcblk0p3
# æŸ¥çœ‹åˆ†åŒºä¿¡æ¯
df -h
lsblk
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ›´æ¢yumæº&#34;&gt;æ›´æ¢yumæº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -p /etc/yum.repos.d/bak
mv /etc/yum.repos.d/* /etc/yum.repos.d/bak
cat &amp;gt;/etc/yum.repos.d/development.repo &amp;lt;&amp;lt;EOF
[base]
name=CentOS-\$releasever - Base
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/os/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32

[updates]
name=CentOS-\$releasever - Updates
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/updates/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
 
[extras]
name=CentOS-\$releasever - Extras
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/extras/\$basearch/
gpgcheck=1
enabled=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
 
[centosplus]
name=CentOS-\$releasever - Plus
baseurl=http://mirrors.ustc.edu.cn/centos-altarch/\$releasever/centosplus/\$basearch/
gpgcheck=1
enabled=0
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7
       file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-SIG-AltArch-Arm32
EOF
yum makecache
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æš‚æ—¶å…³é—­selinuxå’Œé˜²ç«å¢™&#34;&gt;æš‚æ—¶å…³é—­selinuxå’Œé˜²ç«å¢™&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sed -i &#39;s/SELINUX=enforcing/SELINUX=disabled/g&#39;  /etc/selinux/config
setenforce 0
systemctl disable firewalld
systemctl stop firewalld
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é¡ºåºéƒ¨ç½²php-nginx-mysql&#34;&gt;é¡ºåºéƒ¨ç½²phpã€nginxã€mysql&lt;/h3&gt;
&lt;h4 id=&#34;php&#34;&gt;php&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;&amp;lt;!-- more --&amp;gt;

&amp;lt;!-- more --&amp;gt;

yum -y install gcc gcc-c++ make pcre pcre-devel zlib zlib-devel openssl openssl-devel libxml2 libxml2-devel libcurl libcurl-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel openldap openldap-devel
cd /usr/local/src
wget &amp;quot;https://nchc.dl.sourceforge.net/project/mcrypt/Libmcrypt/2.5.8/libmcrypt-2.5.8.tar.gz&amp;quot;
tar -zxvf libmcrypt-2.5.8.tar.gz
cd libmcrypt-2.5.8
./configure
make &amp;amp;&amp;amp; make install
cd /usr/local/src
wget &amp;quot;https://www.php.net/distributions/php-5.6.40.tar.gz&amp;quot;
tar -zxvf php-5.6.40.tar.gz
cd php-5.6.40
./configure \
--prefix=/usr/local/php \
--with-config-file-path=/usr/local/php/etc \
--enable-ctype --with-mysql=mysqlnd \
--with-mysqli=mysqlnd \
--with-freetype-dir \
--with-jpeg-dir \
--with-png-dir \
--with-zlib --with-libxml-dir=/usr \
--enable-xml \
--disable-rpath \
--enable-bcmath \
--enable-shmop \
--enable-sysvsem \
--enable-inline-optimization \
--with-curl \
--enable-mbregex \
--enable-mbstring \
--with-mcrypt \
--with-gd \
--enable-gd-native-ttf \
--with-openssl \
--with-mhash \
--enable-pcntl \
--enable-sockets \
--with-ldap-sasl \
--with-xmlrpc \
--enable-zip \
--enable-soap \
--with-gettext \
--enable-fpm
make &amp;amp;&amp;amp; make install
cp php.ini-production /usr/local/php/etc/php.ini
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/php/sbin:/usr/local/php/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é…ç½®ä¿®æ”¹&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mv /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„å°†&amp;quot;user&amp;quot;å’Œ&amp;quot;group&amp;quot;è¿™ä¸¤ä¸ªå˜é‡çš„å€¼éƒ½æ”¹ä¸ºroot&lt;br&gt;
æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼šphp-fpm -t&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;systemctlç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/php-fpm.service &amp;lt;&amp;lt;EOF
[Unit]
Description=php-fpm
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/php/sbin/php-fpm -R
[Install]
WantedBy=multi-user.target
EOF
systemctl enable php-fpm
systemctl start php-fpm
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;nginx&#34;&gt;nginx&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y wget gcc gcc-c++ make pcre pcre-devel zlib zlib-devel openssl openssl-devel
cd /usr/local/src
wget &amp;quot;http://nginx.org/download/nginx-1.9.9.tar.gz&amp;quot;
tar -zxvf nginx-1.9.9.tar.gz
cd nginx-1.9.9
./configure --prefix=/usr/local/nginx
make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/nginx/sbin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é…ç½®ä¿®æ”¹&lt;br&gt;
é…ç½®æ–‡ä»¶ï¼š/usr/local/nginx/conf/nginx.conf&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;# å°†ç¬¬äºŒä¸ªé…ç½®åœ¨é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨ï¼Œéœ€è¦å»æ‰å‰é¢çš„æ³¨é‡Šï¼Œå…¶æ¬¡è¦ä¿®æ”¹fastcgi_paramè¿™ä¸€è¡Œ
location / {
  root html;
  index index.html index.htm index.php;
}
location ~\.php${
  root html;
  fastcgi_pass 127.0.0.1:9000;
  fastcgi_index index.php;
  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
  include fastcgi_params;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;systemctlç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/nginx.service &amp;lt;&amp;lt;EOF
[Unit]
Description=nginx
After=network.target
[Service]
Type=forking
ExecStart=/usr/local/nginx/sbin/nginx
[Install]
WantedBy=multi-user.target
EOF
systemctl enable nginx
systemctl start nginx
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;mysql&#34;&gt;mysql&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–è¯‘å®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;yum install -y gcc gcc-c++ make tar openssl openssl-devel cmake ncurses ncurses-devel
useradd -s /sbin/nologin mysql
cd /usr/local/src
wget &amp;quot;https://cdn.mysql.com//Downloads/MySQL-5.6/mysql-5.6.47.tar.gz&amp;quot;
tar -zxvf mysql-5.6.47.tar.gz
cd mysql-5.6.47
cmake -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DDEFAULT_CHARSET=utf8 -DDEFAULT_COLLATION=utf8_general_ci -DWITH_EXTRA_CHARSETS:STRING=all -DWITH_DEBUG=0 -DWITH_SSL=yes -DWITH_READLINE=1 -DENABLED_LOACL_INFILE=1
make &amp;amp;&amp;amp; make install
cp support-files/mysql.server /etc/init.d/mysqld
chmod a+x /etc/init.d/mysqld
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ç¯å¢ƒå˜é‡&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;export PATH=\$PATH:/usr/local/mysql/bin&amp;quot; &amp;gt;&amp;gt;/etc/profile &amp;amp;&amp;amp; source /etc/profile
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/etc/my.cnf &amp;lt;&amp;lt;EOF
[mysqld]
bind-address=0.0.0.0
port=3306
datadir=/data/mysql
user=mysql
skip-name-resolve
long_query_time=2
slow_query_log_file=/data/mysql/mysql-slow.log
expire_logs_days=2
innodb-file-per-table=1
innodb_flush_log_at_trx_commit=2
log_warnings=1
max_allowed_packet=512M
connect_timeout=60
net_read_timeout=120
[mysqld_safe]
log-error=/data/mysql/mysqld.log
pid-file=/data/mysql/mysqld.pid
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;åˆå§‹åŒ–&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mkdir -pv /data/mysql
chown -R mysql:mysql /usr/local/mysql /data/mysql
yum install -y perl-Module-Install
/usr/local/mysql/scripts/mysql_install_db --basedir=/usr/local/mysql --user=mysql --datadir=/data/mysql/
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;systemctlç®¡ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt;/usr/lib/systemd/system/mysqld.service &amp;lt;&amp;lt;EOF
[Unit]
Description=MySQL Community Server
After=network.target
After=syslog.target
[Install]
WantedBy=multi-user.target
Alias=mysql.service
[Service]
User=mysql
Group=mysql
PermissionsStartOnly=true
ExecStart=/usr/local/mysql/bin/mysqld_safe --basedir=/usr/local/mysql
TimeoutSec=600
Restart=always
PrivateTmp=false
EOF
systemctl enable mysqld
systemctl start mysqld
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;å®‰å…¨è®¾ç½®&lt;br&gt;
è®¾ç½®å¯†ç å’Œæœ¬åœ°ç™»å½•&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mysqladmin -h 127.0.0.1 -uroot password &amp;quot;raspberrypwd&amp;quot;
mysql -h 127.0.0.1 -uroot -praspberrypwd
&lt;/code&gt;&lt;/pre&gt;
">æ ‘è“æ´¾ä»é›¶å¼€å§‹æ­å»ºLNMPï¼ˆcentos7ï¼‰</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/wang-luo-xiang-guan/"" data-c="
          &lt;p&gt;**é—®é¢˜æè¿°ï¼š**è™šæ‹Ÿæœºcentos7çš„ç½‘ç»œè¿æ¥ä¸ºâ€œç›´æ¥è¿æ¥ç‰©ç†ç½‘ç»œâ€æ¨¡å¼ï¼Œå†…éƒ¨ç½‘ç»œå¯ä»¥pingåŒï¼Œä½†æ˜¯æ— æ³•pingé€šå¤–éƒ¨ç½‘ç»œï¼Œåœ¨ç½‘å¡é…ç½®æ–‡ä»¶ä¸­é…ç½®&amp;quot;DNS=114.114.114.114&amp;quot;ä¹‹åä»ç„¶æ— æ•ˆ&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;echo &amp;quot;nameserver 114.114.114.114&amp;quot; &amp;gt;&amp;gt;/etc/resolv.conf &amp;amp;&amp;amp; systemctl restart network &amp;amp;&amp;amp; ping www.baidu.com
# å°†dnsæœåŠ¡å™¨å†™å…¥/etc/resolv.confï¼Œç„¶åé‡å¯ç½‘ç»œ
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
">ç½‘ç»œç›¸å…³</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/shi-yong-wget-bei-fen-wang-zhan/"" data-c="
          &lt;p&gt;wgetå‘½ä»¤è¯¦è§£ä»¥åŠå¸¸ç”¨ç»„åˆ&lt;/p&gt;
&lt;!-- more --&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å¦‚æœå¤‡ä»½çš„æ˜¯ç½‘ç«™æ ¹ç›®å½•ï¼Œä¾‹å¦‚https://www.egouz.com/ï¼Œåˆ™ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼ˆä¸éå†çˆ¶ç›®å½• -nqï¼‰
wget -m -t 10 -T 180 -c -np -q --execute robots=off https://www.egouz.com/ec/
# å¦‚æœä»ç½‘ç«™çš„å­ç›®å½•å¼€å§‹å¤‡ä»½ï¼Œä¸”å¤‡ä»½æ•´ä¸ªç½‘ç«™ï¼ˆéå†çˆ¶ç›®å½•ï¼‰
wget -m -t 10 -T 180 -c -q --execute robots=off https://www.egouz.com/ec/
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;wgetå‘½ä»¤è¯¦è§£&#34;&gt;wgetå‘½ä»¤è¯¦è§£&lt;/h3&gt;
&lt;h4 id=&#34;å¯åŠ¨&#34;&gt;å¯åŠ¨&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-V,  --version&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ˜¾ç¤º Wget çš„ç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡ºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-h,  --help&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰“å°æ­¤å¸®åŠ©ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-b,  --background&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¯åŠ¨åè½¬å…¥åå°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-e,  --execute=COMMAND&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¿è¡Œä¸€ä¸ªâ€˜.wgetrcâ€™é£æ ¼çš„å‘½ä»¤ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;è¾“å…¥è¾“å‡ºæ–‡ä»¶&#34;&gt;è¾“å…¥è¾“å‡ºæ–‡ä»¶&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-o,  --output-file=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°†ä¿¡æ¯å†™å…¥ FILEã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-a,  --append-output=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°†ä¿¡æ¯æ·»åŠ è‡³ FILEã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-d,  --debug&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰“å°å¤§é‡è°ƒè¯•ä¿¡æ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-q,  --quiet&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å®‰é™æ¨¡å¼(æ— ä¿¡æ¯è¾“å‡º)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-v,  --verbose&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è¯¦å°½çš„è¾“å‡º(æ­¤ä¸ºé»˜è®¤å€¼)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-nv, --no-verbose&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…³é—­è¯¦å°½è¾“å‡ºï¼Œä½†ä¸è¿›å…¥å®‰é™æ¨¡å¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-i,  --input-file=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸‹è½½æœ¬åœ°æˆ–å¤–éƒ¨ FILE ä¸­çš„ URLsã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-F,  --force-html&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŠŠè¾“å…¥æ–‡ä»¶å½“æˆ HTML æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-B,  --base=URL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è§£æä¸ URL ç›¸å…³çš„HTML è¾“å…¥æ–‡ä»¶ï¼ˆç”± -i -F é€‰é¡¹æŒ‡å®šï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;ä¸‹è½½&#34;&gt;ä¸‹è½½&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-t,  --tries=NUMBER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½®é‡è¯•æ¬¡æ•°ä¸º NUMBER (0 ä»£è¡¨æ— é™åˆ¶)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--retry-connrefused&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å³ä½¿æ‹’ç»è¿æ¥ä¹Ÿæ˜¯é‡è¯•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-O,  --output-document=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°†æ–‡æ¡£å†™å…¥ FILEã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-nc, --no-clobber&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸è¦é‡å¤ä¸‹è½½å·²å­˜åœ¨çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-c,  --continue&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»§ç»­ä¸‹è½½éƒ¨åˆ†ä¸‹è½½çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--progress=TYPE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‰æ‹©è¿›åº¦æ¡ç±»å‹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-N,  --timestamping&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åªè·å–æ¯”æœ¬åœ°æ–‡ä»¶æ–°çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-S,  --server-response&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ‰“å°æœåŠ¡å™¨å“åº”ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--spider&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸ä¸‹è½½ä»»ä½•æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-T,  --timeout=SECONDS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°†æ‰€æœ‰è¶…æ—¶è®¾ä¸º SECONDS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--dns-timeout=SECS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½® DNS æŸ¥å¯»è¶…æ—¶ä¸º SECS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--connect-timeout=SECS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½®è¿æ¥è¶…æ—¶ä¸º SECS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--read-timeout=SECS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½®è¯»å–è¶…æ—¶ä¸º SECS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-w,  --wait=SECONDS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç­‰å¾…é—´éš”ä¸º SECONDS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--waitretry=SECONDS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨å–å›æ–‡ä»¶çš„é‡è¯•æœŸé—´ç­‰å¾… 1..SECONDS ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--random-wait&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å–å›æ—¶ç­‰å¾… 0...2*WAIT ç§’ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-proxy&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…³é—­ä»£ç†ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-Q,  --quota=NUMBER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½®å–å›é…é¢ä¸º NUMBER å­—èŠ‚ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--bind-address=ADDRESS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç»‘å®šè‡³æœ¬åœ°ä¸»æœºä¸Šçš„ ADDRESS (ä¸»æœºåæˆ–æ˜¯ IP)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--limit-rate=RATE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é™åˆ¶ä¸‹è½½é€Ÿç‡ä¸º RATEã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-dns-cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…³é—­ DNS æŸ¥å¯»ç¼“å­˜ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--restrict-file-names=OS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é™å®šæ–‡ä»¶åä¸­çš„å­—ç¬¦ä¸º OS å…è®¸çš„å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ignore-case&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åŒ¹é…æ–‡ä»¶/ç›®å½•æ—¶å¿½ç•¥å¤§å°å†™ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-4,  --inet4-only&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»…è¿æ¥è‡³ IPv4 åœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-6,  --inet6-only&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»…è¿æ¥è‡³ IPv6 åœ°å€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--prefer-family=FAMILY&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é¦–å…ˆè¿æ¥è‡³æŒ‡å®šåè®®çš„åœ°å€ï¼ŒFAMILY ä¸º IPv6ï¼ŒIPv4 æˆ–æ˜¯ noneã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--user=USER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°† ftp å’Œ http çš„ç”¨æˆ·åå‡è®¾ç½®ä¸º USERã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--password=PASS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°† ftp å’Œ http çš„å¯†ç å‡è®¾ç½®ä¸º PASSã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ask-password&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æç¤ºè¾“å…¥å¯†ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-iri&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…³é—­ IRI æ”¯æŒã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--local-encoding=ENC&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;IRI ä½¿ç”¨ ENC ä½œä¸ºæœ¬åœ°ç¼–ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--remote-encoding=ENC&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ ENC ä½œä¸ºé»˜è®¤è¿œç¨‹ç¼–ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;ç›®å½•&#34;&gt;ç›®å½•&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-nd, --no-directories&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸åˆ›å»ºç›®å½•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-x,  --force-directories&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼ºåˆ¶åˆ›å»ºç›®å½•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-nH, --no-host-directories&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸è¦åˆ›å»ºä¸»ç›®å½•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--protocol-directories&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨ç›®å½•ä¸­ä½¿ç”¨åè®®åç§°ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-P,  --directory-prefix=PREFIX&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥ PREFIX/... ä¿å­˜æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--cut-dirs=NUMBER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¿½ç•¥ NUMBER ä¸ªè¿œç¨‹ç›®å½•è·¯å¾„ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;é€’å½’ä¸‹è½½&#34;&gt;é€’å½’ä¸‹è½½&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-r,  --recursive&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æŒ‡å®šé€’å½’ä¸‹è½½ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-l,  --level=NUMBER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æœ€å¤§é€’å½’æ·±åº¦( inf æˆ– 0 ä»£è¡¨æ— é™åˆ¶ï¼Œå³å…¨éƒ¨ä¸‹è½½)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--delete-after&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸‹è½½å®Œæˆååˆ é™¤æœ¬åœ°æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-k,  --convert-links&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®©ä¸‹è½½å¾—åˆ°çš„ HTML æˆ– CSS ä¸­çš„é“¾æ¥æŒ‡å‘æœ¬åœ°æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-K,  --backup-converted&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨è½¬æ¢æ–‡ä»¶ X å‰å…ˆå°†å®ƒå¤‡ä»½ä¸º X.origã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-m,  --mirror&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-N -r -l inf --no-remove-listing çš„ç¼©å†™å½¢å¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-p,  --page-requisites&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸‹è½½æ‰€æœ‰ç”¨äºæ˜¾ç¤º HTML é¡µé¢çš„å›¾ç‰‡ä¹‹ç±»çš„å…ƒç´ ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--strict-comments&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¼€å¯ HTML æ³¨é‡Šçš„ç²¾ç¡®å¤„ç†(SGML)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;åˆ—è¡¨ä¸æ’é™¤&#34;&gt;åˆ—è¡¨ä¸æ’é™¤&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-A,  --accept=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„å¯æ¥å—çš„æ‰©å±•ååˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-R,  --reject=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„è¦æ‹’ç»çš„æ‰©å±•ååˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-D,  --domains=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„å¯æ¥å—çš„åŸŸåˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--exclude-domains=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„è¦æ‹’ç»çš„åŸŸåˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--follow-ftp&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è·Ÿè¸ª HTML æ–‡æ¡£ä¸­çš„ FTP é“¾æ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--follow-tags=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„è·Ÿè¸ªçš„ HTML æ ‡è¯†åˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ignore-tags=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€—å·åˆ†éš”çš„å¿½ç•¥çš„ HTML æ ‡è¯†åˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-H,  --span-hosts&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€’å½’æ—¶è½¬å‘å¤–éƒ¨ä¸»æœºã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-L,  --relative&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åªè·Ÿè¸ªæœ‰å…³ç³»çš„é“¾æ¥ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-I,  --include-directories=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å…è®¸ç›®å½•çš„åˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-X,  --exclude-directories=LIST&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ’é™¤ç›®å½•çš„åˆ—è¡¨ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-np, --no-parent&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸è¿½æº¯è‡³çˆ¶ç›®å½•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;ftp&#34;&gt;FTP&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ftp-user=USER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½® ftp ç”¨æˆ·åä¸º USERã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ftp-password=PASS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½® ftp å¯†ç ä¸º PASSã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-remove-listing&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸è¦åˆ é™¤â€˜.listingâ€™æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-glob&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸åœ¨ FTP æ–‡ä»¶åä¸­ä½¿ç”¨é€šé…ç¬¦å±•å¼€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-passive-ftp&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç¦ç”¨â€œpassiveâ€ä¼ è¾“æ¨¡å¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--retr-symlinks&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€’å½’ç›®å½•æ—¶ï¼Œè·å–é“¾æ¥çš„æ–‡ä»¶(è€Œéç›®å½•)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;http&#34;&gt;HTTP&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--http-user=USER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½® http ç”¨æˆ·åä¸º USERã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--http-password=PASS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è®¾ç½® http å¯†ç ä¸º PASSã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-cache&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸åœ¨æœåŠ¡å™¨ä¸Šç¼“å­˜æ•°æ®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--default-page=NAME&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ”¹å˜é»˜è®¤é¡µï¼ˆé»˜è®¤é¡µé€šå¸¸æ˜¯â€œindex.htmlâ€ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-E,  --adjust-extension&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä»¥åˆé€‚çš„æ‰©å±•åä¿å­˜ HTML/CSS æ–‡æ¡£ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ignore-length&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¿½ç•¥å¤´éƒ¨çš„â€˜Content-Lengthâ€™åŒºåŸŸã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--header=STRING&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨å¤´éƒ¨æ’å…¥ STRINGã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--max-redirect&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ¯é¡µæ‰€å…è®¸çš„æœ€å¤§é‡å®šå‘ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--proxy-user=USER&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ USER ä½œä¸ºä»£ç†ç”¨æˆ·åã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--proxy-password=PASS&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ PASS ä½œä¸ºä»£ç†å¯†ç ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--referer=URL&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨ HTTP è¯·æ±‚å¤´åŒ…å«â€˜Referer: URLâ€™ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--save-headers&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å°† HTTP å¤´ä¿å­˜è‡³æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;-U,  --user-agent=AGENT&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;æ ‡è¯†ä¸º AGENT è€Œä¸æ˜¯ Wget/VERSIONã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-http-keep-alive&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç¦ç”¨ HTTP keep-alive(æ°¸ä¹…è¿æ¥)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-cookies&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸ä½¿ç”¨ cookiesã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--load-cookies=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼šè¯å¼€å§‹å‰ä» FILE ä¸­è½½å…¥ cookiesã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--save-cookies=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼šè¯ç»“æŸåä¿å­˜ cookies è‡³ FILEã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--keep-session-cookies&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;è½½å…¥å¹¶ä¿å­˜ä¼šè¯(éæ°¸ä¹…) cookiesã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--post-data=STRING&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ POST æ–¹å¼ï¼›æŠŠ STRING ä½œä¸ºæ•°æ®å‘é€ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--post-file=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä½¿ç”¨ POST æ–¹å¼ï¼›å‘é€ FILE å†…å®¹ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--content-disposition&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å½“é€‰ä¸­æœ¬åœ°æ–‡ä»¶åæ—¶,å…è®¸ Content-Disposition å¤´éƒ¨(å°šåœ¨å®éªŒ)ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--auth-no-challenge&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;åœ¨ä¸ç­‰å¾…æœåŠ¡å™¨è´¨è¯¢çš„æƒ…å†µä¸‹å‘é€åŸºæœ¬çš„HTTPèº«ä»½éªŒè¯ä¿¡æ¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;https&#34;&gt;HTTPS&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;å‘½ä»¤&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;è¯¦è§£&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--secure-protocol=PR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;é€‰æ‹©å®‰å…¨åè®®ï¼Œå¯ä»¥æ˜¯ autoã€SSLv2ã€SSLv3 æˆ–æ˜¯ TLSv1 ä¸­çš„ä¸€ä¸ªã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--no-check-certificate&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸è¦éªŒè¯æœåŠ¡å™¨çš„è¯ä¹¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--certificate=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å®¢æˆ·ç«¯è¯ä¹¦æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--certificate-type=TYPE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å®¢æˆ·ç«¯è¯ä¹¦ç±»å‹ï¼Œ PEM æˆ– DERã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--private-key=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç§é’¥æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--private-key-type=TYPE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç§é’¥æ–‡ä»¶ç±»å‹ï¼Œ PEM æˆ– DERã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ca-certificate=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸¦æœ‰ä¸€ç»„ CA è®¤è¯çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--ca-directory=DIR&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¿å­˜ CA è®¤è¯çš„å“ˆå¸Œåˆ—è¡¨çš„ç›®å½•ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--random-file=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;å¸¦æœ‰ç”Ÿæˆ SSL PRNG çš„éšæœºæ•°æ®çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;--egd-file=FILE&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ç”¨äºå‘½åå¸¦æœ‰éšæœºæ•°æ®çš„ EGD å¥—æ¥å­—çš„æ–‡ä»¶ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;!-- more --&gt;
">ä½¿ç”¨wgetå¤‡ä»½ç½‘ç«™</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/centos7-xi-tong-ru-he-qing-kong-ying-pan-shu-ju/"" data-c="
          &lt;p&gt;Linuxç³»ç»Ÿç£ç›˜æ ¼å¼åŒ–&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;å¦‚æœä»…ä»…æ˜¯ç®€å•çš„çš„åˆ é™¤æ•°æ®ï¼Œä½¿ç”¨&lt;code&gt;rm -rf &amp;quot;ç›®å½•&amp;quot;&lt;/code&gt;å³å¯è¾¾åˆ°æ•ˆæœï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;fdisk&lt;/code&gt;æˆ–è€…&lt;code&gt;parted&lt;/code&gt;æˆ–è€…&lt;code&gt;mkfs&lt;/code&gt;ç­‰ã€‚&lt;br&gt;
ä½†æœ‰çš„æ—¶å€™å‡ºäºæ•°æ®çš„ä¿å¯†æ€§ç­‰è¦æ±‚ï¼Œéœ€è¦æˆ‘ä»¬å¯¹ç¡¬ç›˜è¿›è¡Œä½æ ¼ï¼Œå¦‚æœå°†ç¡¬ç›˜æ‹¿åˆ°Windowsç³»ç»Ÿä¸Šï¼Œä½¿ç”¨ä½æ ¼å·¥å…·è¿›è¡Œå¤„ç†ï¼Œåˆè¿‡äºç¹çï¼Œå¹¸å¥½åœ¨Linuxç³»ç»Ÿä¸Šæœ‰ç›¸åº”çš„å·¥å…·ï¼Œåªæ˜¯è¿™ä¸ªå·¥å…·å‘æ˜çš„åˆè¡·æ˜¯ç”¨æ¥å¤‡ä»½ç¡¬ç›˜çš„ï¼Œå¦‚æœç¡¬ç›˜å†™ç™½ç›˜ï¼Œä¸çŸ¥é“å¤šå°‘ä¼ä¸šè¦é­æ®ƒï¼Œ&lt;em&gt;æŠ€æœ¯æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼&lt;/em&gt;&lt;br&gt;
&lt;strong&gt;ã€æ³¨æ„ï¼šåœ¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ—¶ï¼Œä¸€å®šï¼ä¸€å®šï¼ä¸€å®šï¼è¦æŠŠç¡¬ç›˜å†™å¯¹ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;fdisk -l&lt;/code&gt;æŸ¥çœ‹ç¡¬ç›˜ã€‘&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨å…¨0å¤å†™ç¡¬ç›˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# å‡è®¾éœ€è¦ä½æ ¼çš„ç¡¬ç›˜ä¸º/dev/sdx
dd if=/dev/zero of=/dev/sdx
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;ä½¿ç”¨éšæœºåºåˆ—å¤å†™ç¡¬ç›˜&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;dd if=/dev/urandom of=/dev/sdx
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤å†™åçš„åˆ†åŒºæ— æ³•æŒ‚è½½ï¼Œå¹¶ä¸”åˆ›å»ºå’Œæ‹·è´æ–‡ä»¶éƒ½ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
">Centos7ç³»ç»Ÿå¦‚ä½•æ¸…ç©ºç¡¬ç›˜æ•°æ®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/about/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;è°¢è°¢æµè§ˆè¿™ç¯‡åšæ–‡ï¼Œå¾ˆé«˜å…´è¯»è€…èƒ½æ¥äº†è§£ä½œè€…ï¼ğŸ¤&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;å…³äºæœ¬ç«™&#34;&gt;ğŸ  å…³äºæœ¬ç«™&lt;/h1&gt;
&lt;p&gt;è®°å½•ä¸ªäººå­¦ä¹ ç¬”è®°å’Œä¸€äº›è¯»ä¹¦å¿ƒå¾—ï¼Œå¶å°”ä¼šåˆ†äº«ä¸€äº›å¿ƒæƒ…æˆ–è€…å®‰åˆ©å¥½ç‰©&lt;/p&gt;
&lt;h1 id=&#34;åšä¸»æ˜¯è°&#34;&gt;ğŸ‘¨â€ğŸ’» åšä¸»æ˜¯è°&lt;/h1&gt;
&lt;p&gt;è®¸é£ç¼ï¼Œé£ç¼å›&lt;/p&gt;
&lt;h1 id=&#34;æ“…é•¿ä¸çˆ±å¥½&#34;&gt;â›¹ æ“…é•¿ä¸çˆ±å¥½&lt;/h1&gt;
&lt;p&gt;Linuxï¼ŒPythonï¼ŒRoute &amp;amp; Switchï¼Œç½‘ç»œå®‰å…¨ï¼Œå¥èº«ï¼ŒFPGAï¼ŒåµŒå…¥å¼ï¼Œæ‘„å½±......&lt;/p&gt;
&lt;h1 id=&#34;å…¶ä»–ç¬”è®°&#34;&gt;ğŸ“˜ å…¶ä»–ç¬”è®°&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://fqj.myds.me:4434/rhce/index.html&#34;&gt;çº¢å¸½è®¤è¯RHCE&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;è‡ªå­¦å†ç¨‹&#34;&gt;â• è‡ªå­¦å†ç¨‹&lt;/h1&gt;
&lt;h2 id=&#34;1-linux&#34;&gt;1. Linux&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.linuxprobe.com/&#34;&gt;Linuxè¿ç»´ï¼ˆå·²ç»å–å¾—çº¢å¸½è®¤è¯ï¼‰ï¼Œã€ŠLinuxå°±è¯¥è¿™ä¹ˆå­¦ã€‹ä½œè€…ï¼Œåˆ˜é„ï¼ˆchuanï¼‰è€å¸ˆ&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1618809482733.png&#34; alt=&#34;RHCE&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-python&#34;&gt;2. Python&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.oldboyedu.com/&#34;&gt;Pythonå¼€å‘ï¼Œé™¤äº†è‡ªå­¦ä¹‹å¤–ï¼Œè¿˜è·Ÿè€ç”·å­©çš„é‡‘è§’å¤§ç‹Alexè€å¸ˆè¿›è¡Œäº†ç³»ç»Ÿçš„å­¦ä¹ &lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;3-rs&#34;&gt;3. R&amp;amp;S&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;http://www.qytang.com/&#34;&gt;ç½‘ç»œè¿ç»´ï¼Œæ•°é€šæ–¹å‘ï¼Œä¹¾é¢å ‚çš„å‘¨äºšå†›ï¼ˆå®‰å¾·ï¼Œä¹ æƒ¯ç§°ä»–å†›å“¥ï¼‰ã€ç™½ä¼Ÿé¹ï¼ˆè€ç™½ï¼‰ã€æä¼Ÿè¾¾ï¼ˆè¾¾å”ï¼‰&lt;/a&gt;&lt;br&gt;
&lt;img src=&#34;https://fqj-web.github.io/post-images/1618809796377.jpg&#34; alt=&#34;R&amp;amp;S&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">å…³äº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://fqj-web.github.io/post/hello-gridea/"" data-c="
          &lt;p&gt;ğŸ‘  æ¬¢è¿ä½¿ç”¨ &lt;strong&gt;Gridea&lt;/strong&gt; ï¼&lt;br&gt;
âœï¸  &lt;strong&gt;Gridea&lt;/strong&gt; ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/getgridea/gridea&#34;&gt;Github&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://gridea.dev/&#34;&gt;Gridea ä¸»é¡µ&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;http://fehey.com/&#34;&gt;ç¤ºä¾‹ç½‘ç«™&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç‰¹æ€§&#34;&gt;ç‰¹æ€§ğŸ‘‡&lt;/h2&gt;
&lt;p&gt;ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ &lt;strong&gt;Markdown&lt;/strong&gt; è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ&lt;/p&gt;
&lt;p&gt;ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡&lt;/p&gt;
&lt;p&gt;ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„&lt;/p&gt;
&lt;p&gt;ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•&lt;/p&gt;
&lt;p&gt;ğŸ’»  ä½ å¯ä»¥åœ¨ &lt;strong&gt;Windows&lt;/strong&gt;ï¼Œ&lt;strong&gt;MacOS&lt;/strong&gt; æˆ– &lt;strong&gt;Linux&lt;/strong&gt; è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯&lt;/p&gt;
&lt;p&gt;ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ &lt;strong&gt;ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ&lt;/strong&gt; æˆ– &lt;strong&gt;Coding Pages&lt;/strong&gt; å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°&lt;/p&gt;
&lt;p&gt;ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ &lt;a href=&#34;https://github.com/gitalk/gitalk&#34;&gt;Gitalk&lt;/a&gt; æˆ– &lt;a href=&#34;https://github.com/SukkaW/DisqusJS&#34;&gt;DisqusJS&lt;/a&gt; è¯„è®ºç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨&lt;strong&gt;ä¸­æ–‡ç®€ä½“&lt;/strong&gt;æˆ–&lt;strong&gt;è‹±è¯­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›&lt;/p&gt;
&lt;p&gt;ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥&lt;/p&gt;
&lt;p&gt;ğŸŒ± å½“ç„¶ &lt;strong&gt;Gridea&lt;/strong&gt; è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ&lt;/p&gt;
&lt;p&gt;æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´&lt;/p&gt;
&lt;p&gt;å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼&lt;/p&gt;
&lt;p&gt;ğŸ˜˜ Enjoy~&lt;/p&gt;
">Hello Gridea</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + 'ç§’ä¹‹å‰';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + 'åˆ†é’Ÿä¹‹å‰';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + 'å°æ—¶ä¹‹å‰';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + 'å¤©ä¹‹å‰';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/love.js"></script>




  <div class="snow-container"></div>
  <script src="/media/js/bg/canvas-nest.js"></script>
  <script>
  const config = {
    color: '255,0,0',
    count: 88,
  };
  // Using config rendering effect at 'element'.
  const cn = new CanvasNest(document.querySelector('.snow-container'), config);
  </script>


</html>